const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-C81AgXdw.js","assets/webworkerAll-dzM5vYN1.js","assets/colorToUniform-DCsXSG0k.js","assets/WebGPURenderer-D8mXTCbF.js","assets/SharedSystems-CYwHLf40.js","assets/WebGLRenderer-CCPkXXoe.js"])))=>i.map(i=>d[i]);
function _mergeNamespaces(_,R){for(var O=0;O<R.length;O++){const I=R[O];if(typeof I!="string"&&!Array.isArray(I)){for(const F in I)if(F!=="default"&&!(F in _)){const z=Object.getOwnPropertyDescriptor(I,F);z&&Object.defineProperty(_,F,z.get?z:{enumerable:!0,get:()=>I[F]})}}}return Object.freeze(Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}))}(function(){const R=document.createElement("link").relList;if(R&&R.supports&&R.supports("modulepreload"))return;for(const F of document.querySelectorAll('link[rel="modulepreload"]'))I(F);new MutationObserver(F=>{for(const z of F)if(z.type==="childList")for(const L of z.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&I(L)}).observe(document,{childList:!0,subtree:!0});function O(F){const z={};return F.integrity&&(z.integrity=F.integrity),F.referrerPolicy&&(z.referrerPolicy=F.referrerPolicy),F.crossOrigin==="use-credentials"?z.credentials="include":F.crossOrigin==="anonymous"?z.credentials="omit":z.credentials="same-origin",z}function I(F){if(F.ep)return;F.ep=!0;const z=O(F);fetch(F.href,z)}})();function getDefaultExportFromCjs(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}function getAugmentedNamespace(_){if(Object.prototype.hasOwnProperty.call(_,"__esModule"))return _;var R=_.default;if(typeof R=="function"){var O=function I(){var F=!1;try{F=this instanceof I}catch{}return F?Reflect.construct(R,arguments,this.constructor):R.apply(this,arguments)};O.prototype=R.prototype}else O={};return Object.defineProperty(O,"__esModule",{value:!0}),Object.keys(_).forEach(function(I){var F=Object.getOwnPropertyDescriptor(_,I);Object.defineProperty(O,I,F.get?F:{enumerable:!0,get:function(){return _[I]}})}),O}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var _=Symbol.for("react.transitional.element"),R=Symbol.for("react.fragment");function O(I,F,z){var L=null;if(z!==void 0&&(L=""+z),F.key!==void 0&&(L=""+F.key),"key"in F){z={};for(var U in F)U!=="key"&&(z[U]=F[U])}else z=F;return F=z.ref,{$$typeof:_,type:I,key:L,ref:F!==void 0?F:null,props:z}}return reactJsxRuntime_production.Fragment=R,reactJsxRuntime_production.jsx=O,reactJsxRuntime_production.jsxs=O,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var _=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),L=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),G=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),Y=Symbol.iterator;function W(Te){return Te===null||typeof Te!="object"?null:(Te=Y&&Te[Y]||Te["@@iterator"],typeof Te=="function"?Te:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,ie={};function se(Te,Re,Se){this.props=Te,this.context=Re,this.refs=ie,this.updater=Se||ee}se.prototype.isReactComponent={},se.prototype.setState=function(Te,Re){if(typeof Te!="object"&&typeof Te!="function"&&Te!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Te,Re,"setState")},se.prototype.forceUpdate=function(Te){this.updater.enqueueForceUpdate(this,Te,"forceUpdate")};function oe(){}oe.prototype=se.prototype;function le(Te,Re,Se){this.props=Te,this.context=Re,this.refs=ie,this.updater=Se||ee}var ue=le.prototype=new oe;ue.constructor=le,ne(ue,se.prototype),ue.isPureReactComponent=!0;var ce=Array.isArray;function fe(){}var me={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function pe(Te,Re,Se){var ze=Se.ref;return{$$typeof:_,type:Te,key:Re,ref:ze!==void 0?ze:null,props:Se}}function ge(Te,Re){return pe(Te.type,Re,Te.props)}function _e(Te){return typeof Te=="object"&&Te!==null&&Te.$$typeof===_}function ye(Te){var Re={"=":"=0",":":"=2"};return"$"+Te.replace(/[=:]/g,function(Se){return Re[Se]})}var we=/\/+/g;function ve(Te,Re){return typeof Te=="object"&&Te!==null&&Te.key!=null?ye(""+Te.key):Re.toString(36)}function $e(Te){switch(Te.status){case"fulfilled":return Te.value;case"rejected":throw Te.reason;default:switch(typeof Te.status=="string"?Te.then(fe,fe):(Te.status="pending",Te.then(function(Re){Te.status==="pending"&&(Te.status="fulfilled",Te.value=Re)},function(Re){Te.status==="pending"&&(Te.status="rejected",Te.reason=Re)})),Te.status){case"fulfilled":return Te.value;case"rejected":throw Te.reason}}throw Te}function be(Te,Re,Se,ze,Pe){var Qe=typeof Te;(Qe==="undefined"||Qe==="boolean")&&(Te=null);var Ze=!1;if(Te===null)Ze=!0;else switch(Qe){case"bigint":case"string":case"number":Ze=!0;break;case"object":switch(Te.$$typeof){case _:case R:Ze=!0;break;case V:return Ze=Te._init,be(Ze(Te._payload),Re,Se,ze,Pe)}}if(Ze)return Pe=Pe(Te),Ze=ze===""?"."+ve(Te,0):ze,ce(Pe)?(Se="",Ze!=null&&(Se=Ze.replace(we,"$&/")+"/"),be(Pe,Re,Se,"",function(Ge){return Ge})):Pe!=null&&(_e(Pe)&&(Pe=ge(Pe,Se+(Pe.key==null||Te&&Te.key===Pe.key?"":(""+Pe.key).replace(we,"$&/")+"/")+Ze)),Re.push(Pe)),1;Ze=0;var Le=ze===""?".":ze+":";if(ce(Te))for(var ke=0;ke<Te.length;ke++)ze=Te[ke],Qe=Le+ve(ze,ke),Ze+=be(ze,Re,Se,Qe,Pe);else if(ke=W(Te),typeof ke=="function")for(Te=ke.call(Te),ke=0;!(ze=Te.next()).done;)ze=ze.value,Qe=Le+ve(ze,ke++),Ze+=be(ze,Re,Se,Qe,Pe);else if(Qe==="object"){if(typeof Te.then=="function")return be($e(Te),Re,Se,ze,Pe);throw Re=String(Te),Error("Objects are not valid as a React child (found: "+(Re==="[object Object]"?"object with keys {"+Object.keys(Te).join(", ")+"}":Re)+"). If you meant to render a collection of children, use an array instead.")}return Ze}function Ce(Te,Re,Se){if(Te==null)return Te;var ze=[],Pe=0;return be(Te,ze,"","",function(Qe){return Re.call(Se,Qe,Pe++)}),ze}function De(Te){if(Te._status===-1){var Re=Te._result;Re=Re(),Re.then(function(Se){(Te._status===0||Te._status===-1)&&(Te._status=1,Te._result=Se)},function(Se){(Te._status===0||Te._status===-1)&&(Te._status=2,Te._result=Se)}),Te._status===-1&&(Te._status=0,Te._result=Re)}if(Te._status===1)return Te._result.default;throw Te._result}var Ne=typeof reportError=="function"?reportError:function(Te){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Te=="object"&&Te!==null&&typeof Te.message=="string"?String(Te.message):String(Te),error:Te});if(!window.dispatchEvent(Re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Te);return}console.error(Te)},Me={map:Ce,forEach:function(Te,Re,Se){Ce(Te,function(){Re.apply(this,arguments)},Se)},count:function(Te){var Re=0;return Ce(Te,function(){Re++}),Re},toArray:function(Te){return Ce(Te,function(Re){return Re})||[]},only:function(Te){if(!_e(Te))throw Error("React.Children.only expected to receive a single React element child.");return Te}};return react_production.Activity=Z,react_production.Children=Me,react_production.Component=se,react_production.Fragment=O,react_production.Profiler=F,react_production.PureComponent=le,react_production.StrictMode=I,react_production.Suspense=q,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=me,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Te){return me.H.useMemoCache(Te)}},react_production.cache=function(Te){return function(){return Te.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(Te,Re,Se){if(Te==null)throw Error("The argument must be a React element, but you passed "+Te+".");var ze=ne({},Te.props),Pe=Te.key;if(Re!=null)for(Qe in Re.key!==void 0&&(Pe=""+Re.key),Re)!he.call(Re,Qe)||Qe==="key"||Qe==="__self"||Qe==="__source"||Qe==="ref"&&Re.ref===void 0||(ze[Qe]=Re[Qe]);var Qe=arguments.length-2;if(Qe===1)ze.children=Se;else if(1<Qe){for(var Ze=Array(Qe),Le=0;Le<Qe;Le++)Ze[Le]=arguments[Le+2];ze.children=Ze}return pe(Te.type,Pe,ze)},react_production.createContext=function(Te){return Te={$$typeof:L,_currentValue:Te,_currentValue2:Te,_threadCount:0,Provider:null,Consumer:null},Te.Provider=Te,Te.Consumer={$$typeof:z,_context:Te},Te},react_production.createElement=function(Te,Re,Se){var ze,Pe={},Qe=null;if(Re!=null)for(ze in Re.key!==void 0&&(Qe=""+Re.key),Re)he.call(Re,ze)&&ze!=="key"&&ze!=="__self"&&ze!=="__source"&&(Pe[ze]=Re[ze]);var Ze=arguments.length-2;if(Ze===1)Pe.children=Se;else if(1<Ze){for(var Le=Array(Ze),ke=0;ke<Ze;ke++)Le[ke]=arguments[ke+2];Pe.children=Le}if(Te&&Te.defaultProps)for(ze in Ze=Te.defaultProps,Ze)Pe[ze]===void 0&&(Pe[ze]=Ze[ze]);return pe(Te,Qe,Pe)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Te){return{$$typeof:U,render:Te}},react_production.isValidElement=_e,react_production.lazy=function(Te){return{$$typeof:V,_payload:{_status:-1,_result:Te},_init:De}},react_production.memo=function(Te,Re){return{$$typeof:G,type:Te,compare:Re===void 0?null:Re}},react_production.startTransition=function(Te){var Re=me.T,Se={};me.T=Se;try{var ze=Te(),Pe=me.S;Pe!==null&&Pe(Se,ze),typeof ze=="object"&&ze!==null&&typeof ze.then=="function"&&ze.then(fe,Ne)}catch(Qe){Ne(Qe)}finally{Re!==null&&Se.types!==null&&(Re.types=Se.types),me.T=Re}},react_production.unstable_useCacheRefresh=function(){return me.H.useCacheRefresh()},react_production.use=function(Te){return me.H.use(Te)},react_production.useActionState=function(Te,Re,Se){return me.H.useActionState(Te,Re,Se)},react_production.useCallback=function(Te,Re){return me.H.useCallback(Te,Re)},react_production.useContext=function(Te){return me.H.useContext(Te)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Te,Re){return me.H.useDeferredValue(Te,Re)},react_production.useEffect=function(Te,Re){return me.H.useEffect(Te,Re)},react_production.useEffectEvent=function(Te){return me.H.useEffectEvent(Te)},react_production.useId=function(){return me.H.useId()},react_production.useImperativeHandle=function(Te,Re,Se){return me.H.useImperativeHandle(Te,Re,Se)},react_production.useInsertionEffect=function(Te,Re){return me.H.useInsertionEffect(Te,Re)},react_production.useLayoutEffect=function(Te,Re){return me.H.useLayoutEffect(Te,Re)},react_production.useMemo=function(Te,Re){return me.H.useMemo(Te,Re)},react_production.useOptimistic=function(Te,Re){return me.H.useOptimistic(Te,Re)},react_production.useReducer=function(Te,Re,Se){return me.H.useReducer(Te,Re,Se)},react_production.useRef=function(Te){return me.H.useRef(Te)},react_production.useState=function(Te){return me.H.useState(Te)},react_production.useSyncExternalStore=function(Te,Re,Se){return me.H.useSyncExternalStore(Te,Re,Se)},react_production.useTransition=function(){return me.H.useTransition()},react_production.version="19.2.3",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React4=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(_){function R(be,Ce){var De=be.length;be.push(Ce);e:for(;0<De;){var Ne=De-1>>>1,Me=be[Ne];if(0<F(Me,Ce))be[Ne]=Ce,be[De]=Me,De=Ne;else break e}}function O(be){return be.length===0?null:be[0]}function I(be){if(be.length===0)return null;var Ce=be[0],De=be.pop();if(De!==Ce){be[0]=De;e:for(var Ne=0,Me=be.length,Te=Me>>>1;Ne<Te;){var Re=2*(Ne+1)-1,Se=be[Re],ze=Re+1,Pe=be[ze];if(0>F(Se,De))ze<Me&&0>F(Pe,Se)?(be[Ne]=Pe,be[ze]=De,Ne=ze):(be[Ne]=Se,be[Re]=De,Ne=Re);else if(ze<Me&&0>F(Pe,De))be[Ne]=Pe,be[ze]=De,Ne=ze;else break e}}return Ce}function F(be,Ce){var De=be.sortIndex-Ce.sortIndex;return De!==0?De:be.id-Ce.id}if(_.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var z=performance;_.unstable_now=function(){return z.now()}}else{var L=Date,U=L.now();_.unstable_now=function(){return L.now()-U}}var q=[],G=[],V=1,Z=null,Y=3,W=!1,ee=!1,ne=!1,ie=!1,se=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function ue(be){for(var Ce=O(G);Ce!==null;){if(Ce.callback===null)I(G);else if(Ce.startTime<=be)I(G),Ce.sortIndex=Ce.expirationTime,R(q,Ce);else break;Ce=O(G)}}function ce(be){if(ne=!1,ue(be),!ee)if(O(q)!==null)ee=!0,fe||(fe=!0,ye());else{var Ce=O(G);Ce!==null&&$e(ce,Ce.startTime-be)}}var fe=!1,me=-1,he=5,pe=-1;function ge(){return ie?!0:!(_.unstable_now()-pe<he)}function _e(){if(ie=!1,fe){var be=_.unstable_now();pe=be;var Ce=!0;try{e:{ee=!1,ne&&(ne=!1,oe(me),me=-1),W=!0;var De=Y;try{t:{for(ue(be),Z=O(q);Z!==null&&!(Z.expirationTime>be&&ge());){var Ne=Z.callback;if(typeof Ne=="function"){Z.callback=null,Y=Z.priorityLevel;var Me=Ne(Z.expirationTime<=be);if(be=_.unstable_now(),typeof Me=="function"){Z.callback=Me,ue(be),Ce=!0;break t}Z===O(q)&&I(q),ue(be)}else I(q);Z=O(q)}if(Z!==null)Ce=!0;else{var Te=O(G);Te!==null&&$e(ce,Te.startTime-be),Ce=!1}}break e}finally{Z=null,Y=De,W=!1}Ce=void 0}}finally{Ce?ye():fe=!1}}}var ye;if(typeof le=="function")ye=function(){le(_e)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,ve=we.port2;we.port1.onmessage=_e,ye=function(){ve.postMessage(null)}}else ye=function(){se(_e,0)};function $e(be,Ce){me=se(function(){be(_.unstable_now())},Ce)}_.unstable_IdlePriority=5,_.unstable_ImmediatePriority=1,_.unstable_LowPriority=4,_.unstable_NormalPriority=3,_.unstable_Profiling=null,_.unstable_UserBlockingPriority=2,_.unstable_cancelCallback=function(be){be.callback=null},_.unstable_forceFrameRate=function(be){0>be||125<be?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<be?Math.floor(1e3/be):5},_.unstable_getCurrentPriorityLevel=function(){return Y},_.unstable_next=function(be){switch(Y){case 1:case 2:case 3:var Ce=3;break;default:Ce=Y}var De=Y;Y=Ce;try{return be()}finally{Y=De}},_.unstable_requestPaint=function(){ie=!0},_.unstable_runWithPriority=function(be,Ce){switch(be){case 1:case 2:case 3:case 4:case 5:break;default:be=3}var De=Y;Y=be;try{return Ce()}finally{Y=De}},_.unstable_scheduleCallback=function(be,Ce,De){var Ne=_.unstable_now();switch(typeof De=="object"&&De!==null?(De=De.delay,De=typeof De=="number"&&0<De?Ne+De:Ne):De=Ne,be){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=De+Me,be={id:V++,callback:Ce,priorityLevel:be,startTime:De,expirationTime:Me,sortIndex:-1},De>Ne?(be.sortIndex=De,R(G,be),O(q)===null&&be===O(G)&&(ne?(oe(me),me=-1):ne=!0,$e(ce,De-Ne))):(be.sortIndex=Me,R(q,be),ee||W||(ee=!0,fe||(fe=!0,ye()))),be},_.unstable_shouldYield=ge,_.unstable_wrapCallback=function(be){var Ce=Y;return function(){var De=Y;Y=Ce;try{return be.apply(this,arguments)}finally{Y=De}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var _=requireReact();function R(q){var G="https://react.dev/errors/"+q;if(1<arguments.length){G+="?args[]="+encodeURIComponent(arguments[1]);for(var V=2;V<arguments.length;V++)G+="&args[]="+encodeURIComponent(arguments[V])}return"Minified React error #"+q+"; visit "+G+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function O(){}var I={d:{f:O,r:function(){throw Error(R(522))},D:O,C:O,L:O,m:O,X:O,S:O,M:O},p:0,findDOMNode:null},F=Symbol.for("react.portal");function z(q,G,V){var Z=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:Z==null?null:""+Z,children:q,containerInfo:G,implementation:V}}var L=_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function U(q,G){if(q==="font")return"";if(typeof G=="string")return G==="use-credentials"?G:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,reactDom_production.createPortal=function(q,G){var V=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G||G.nodeType!==1&&G.nodeType!==9&&G.nodeType!==11)throw Error(R(299));return z(q,G,null,V)},reactDom_production.flushSync=function(q){var G=L.T,V=I.p;try{if(L.T=null,I.p=2,q)return q()}finally{L.T=G,I.p=V,I.d.f()}},reactDom_production.preconnect=function(q,G){typeof q=="string"&&(G?(G=G.crossOrigin,G=typeof G=="string"?G==="use-credentials"?G:"":void 0):G=null,I.d.C(q,G))},reactDom_production.prefetchDNS=function(q){typeof q=="string"&&I.d.D(q)},reactDom_production.preinit=function(q,G){if(typeof q=="string"&&G&&typeof G.as=="string"){var V=G.as,Z=U(V,G.crossOrigin),Y=typeof G.integrity=="string"?G.integrity:void 0,W=typeof G.fetchPriority=="string"?G.fetchPriority:void 0;V==="style"?I.d.S(q,typeof G.precedence=="string"?G.precedence:void 0,{crossOrigin:Z,integrity:Y,fetchPriority:W}):V==="script"&&I.d.X(q,{crossOrigin:Z,integrity:Y,fetchPriority:W,nonce:typeof G.nonce=="string"?G.nonce:void 0})}},reactDom_production.preinitModule=function(q,G){if(typeof q=="string")if(typeof G=="object"&&G!==null){if(G.as==null||G.as==="script"){var V=U(G.as,G.crossOrigin);I.d.M(q,{crossOrigin:V,integrity:typeof G.integrity=="string"?G.integrity:void 0,nonce:typeof G.nonce=="string"?G.nonce:void 0})}}else G==null&&I.d.M(q)},reactDom_production.preload=function(q,G){if(typeof q=="string"&&typeof G=="object"&&G!==null&&typeof G.as=="string"){var V=G.as,Z=U(V,G.crossOrigin);I.d.L(q,V,{crossOrigin:Z,integrity:typeof G.integrity=="string"?G.integrity:void 0,nonce:typeof G.nonce=="string"?G.nonce:void 0,type:typeof G.type=="string"?G.type:void 0,fetchPriority:typeof G.fetchPriority=="string"?G.fetchPriority:void 0,referrerPolicy:typeof G.referrerPolicy=="string"?G.referrerPolicy:void 0,imageSrcSet:typeof G.imageSrcSet=="string"?G.imageSrcSet:void 0,imageSizes:typeof G.imageSizes=="string"?G.imageSizes:void 0,media:typeof G.media=="string"?G.media:void 0})}},reactDom_production.preloadModule=function(q,G){if(typeof q=="string")if(G){var V=U(G.as,G.crossOrigin);I.d.m(q,{as:typeof G.as=="string"&&G.as!=="script"?G.as:void 0,crossOrigin:V,integrity:typeof G.integrity=="string"?G.integrity:void 0})}else I.d.m(q)},reactDom_production.requestFormReset=function(q){I.d.r(q)},reactDom_production.unstable_batchedUpdates=function(q,G){return q(G)},reactDom_production.useFormState=function(q,G,V){return L.H.useFormState(q,G,V)},reactDom_production.useFormStatus=function(){return L.H.useHostTransitionStatus()},reactDom_production.version="19.2.3",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function _(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(R){console.error(R)}}return _(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var _=requireScheduler(),R=requireReact(),O=requireReactDom();function I(J){var te="https://react.dev/errors/"+J;if(1<arguments.length){te+="?args[]="+encodeURIComponent(arguments[1]);for(var ae=2;ae<arguments.length;ae++)te+="&args[]="+encodeURIComponent(arguments[ae])}return"Minified React error #"+J+"; visit "+te+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function F(J){return!(!J||J.nodeType!==1&&J.nodeType!==9&&J.nodeType!==11)}function z(J){var te=J,ae=J;if(J.alternate)for(;te.return;)te=te.return;else{J=te;do te=J,(te.flags&4098)!==0&&(ae=te.return),J=te.return;while(J)}return te.tag===3?ae:null}function L(J){if(J.tag===13){var te=J.memoizedState;if(te===null&&(J=J.alternate,J!==null&&(te=J.memoizedState)),te!==null)return te.dehydrated}return null}function U(J){if(J.tag===31){var te=J.memoizedState;if(te===null&&(J=J.alternate,J!==null&&(te=J.memoizedState)),te!==null)return te.dehydrated}return null}function q(J){if(z(J)!==J)throw Error(I(188))}function G(J){var te=J.alternate;if(!te){if(te=z(J),te===null)throw Error(I(188));return te!==J?null:J}for(var ae=J,de=te;;){var xe=ae.return;if(xe===null)break;var Ee=xe.alternate;if(Ee===null){if(de=xe.return,de!==null){ae=de;continue}break}if(xe.child===Ee.child){for(Ee=xe.child;Ee;){if(Ee===ae)return q(xe),J;if(Ee===de)return q(xe),te;Ee=Ee.sibling}throw Error(I(188))}if(ae.return!==de.return)ae=xe,de=Ee;else{for(var Be=!1,Ye=xe.child;Ye;){if(Ye===ae){Be=!0,ae=xe,de=Ee;break}if(Ye===de){Be=!0,de=xe,ae=Ee;break}Ye=Ye.sibling}if(!Be){for(Ye=Ee.child;Ye;){if(Ye===ae){Be=!0,ae=Ee,de=xe;break}if(Ye===de){Be=!0,de=Ee,ae=xe;break}Ye=Ye.sibling}if(!Be)throw Error(I(189))}}if(ae.alternate!==de)throw Error(I(190))}if(ae.tag!==3)throw Error(I(188));return ae.stateNode.current===ae?J:te}function V(J){var te=J.tag;if(te===5||te===26||te===27||te===6)return J;for(J=J.child;J!==null;){if(te=V(J),te!==null)return te;J=J.sibling}return null}var Z=Object.assign,Y=Symbol.for("react.element"),W=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),le=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function ye(J){return J===null||typeof J!="object"?null:(J=_e&&J[_e]||J["@@iterator"],typeof J=="function"?J:null)}var we=Symbol.for("react.client.reference");function ve(J){if(J==null)return null;if(typeof J=="function")return J.$$typeof===we?null:J.displayName||J.name||null;if(typeof J=="string")return J;switch(J){case ne:return"Fragment";case se:return"Profiler";case ie:return"StrictMode";case ce:return"Suspense";case fe:return"SuspenseList";case pe:return"Activity"}if(typeof J=="object")switch(J.$$typeof){case ee:return"Portal";case le:return J.displayName||"Context";case oe:return(J._context.displayName||"Context")+".Consumer";case ue:var te=J.render;return J=J.displayName,J||(J=te.displayName||te.name||"",J=J!==""?"ForwardRef("+J+")":"ForwardRef"),J;case me:return te=J.displayName||null,te!==null?te:ve(J.type)||"Memo";case he:te=J._payload,J=J._init;try{return ve(J(te))}catch{}}return null}var $e=Array.isArray,be=R.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce=O.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,De={pending:!1,data:null,method:null,action:null},Ne=[],Me=-1;function Te(J){return{current:J}}function Re(J){0>Me||(J.current=Ne[Me],Ne[Me]=null,Me--)}function Se(J,te){Me++,Ne[Me]=J.current,J.current=te}var ze=Te(null),Pe=Te(null),Qe=Te(null),Ze=Te(null);function Le(J,te){switch(Se(Qe,te),Se(Pe,J),Se(ze,null),te.nodeType){case 9:case 11:J=(J=te.documentElement)&&(J=J.namespaceURI)?Jd(J):0;break;default:if(J=te.tagName,te=te.namespaceURI)te=Jd(te),J=eh(te,J);else switch(J){case"svg":J=1;break;case"math":J=2;break;default:J=0}}Re(ze),Se(ze,J)}function ke(){Re(ze),Re(Pe),Re(Qe)}function Ge(J){J.memoizedState!==null&&Se(Ze,J);var te=ze.current,ae=eh(te,J.type);te!==ae&&(Se(Pe,J),Se(ze,ae))}function Ke(J){Pe.current===J&&(Re(ze),Re(Pe)),Ze.current===J&&(Re(Ze),Xa._currentValue=De)}var He,st;function Ae(J){if(He===void 0)try{throw Error()}catch(ae){var te=ae.stack.trim().match(/\n( *(at )?)/);He=te&&te[1]||"",st=-1<ae.stack.indexOf(`
    at`)?" (<anonymous>)":-1<ae.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+J+st}var tt=!1;function rt(J,te){if(!J||tt)return"";tt=!0;var ae=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var de={DetermineComponentFrameRoot:function(){try{if(te){var St=function(){throw Error()};if(Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(_t){var vt=_t}Reflect.construct(J,[],St)}else{try{St.call()}catch(_t){vt=_t}J.call(St.prototype)}}else{try{throw Error()}catch(_t){vt=_t}(St=J())&&typeof St.catch=="function"&&St.catch(function(){})}}catch(_t){if(_t&&vt&&typeof _t.stack=="string")return[_t.stack,vt.stack]}return[null,null]}};de.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var xe=Object.getOwnPropertyDescriptor(de.DetermineComponentFrameRoot,"name");xe&&xe.configurable&&Object.defineProperty(de.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Ee=de.DetermineComponentFrameRoot(),Be=Ee[0],Ye=Ee[1];if(Be&&Ye){var ot=Be.split(`
`),gt=Ye.split(`
`);for(xe=de=0;de<ot.length&&!ot[de].includes("DetermineComponentFrameRoot");)de++;for(;xe<gt.length&&!gt[xe].includes("DetermineComponentFrameRoot");)xe++;if(de===ot.length||xe===gt.length)for(de=ot.length-1,xe=gt.length-1;1<=de&&0<=xe&&ot[de]!==gt[xe];)xe--;for(;1<=de&&0<=xe;de--,xe--)if(ot[de]!==gt[xe]){if(de!==1||xe!==1)do if(de--,xe--,0>xe||ot[de]!==gt[xe]){var yt=`
`+ot[de].replace(" at new "," at ");return J.displayName&&yt.includes("<anonymous>")&&(yt=yt.replace("<anonymous>",J.displayName)),yt}while(1<=de&&0<=xe);break}}}finally{tt=!1,Error.prepareStackTrace=ae}return(ae=J?J.displayName||J.name:"")?Ae(ae):""}function We(J,te){switch(J.tag){case 26:case 27:case 5:return Ae(J.type);case 16:return Ae("Lazy");case 13:return J.child!==te&&te!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return rt(J.type,!1);case 11:return rt(J.type.render,!1);case 1:return rt(J.type,!0);case 31:return Ae("Activity");default:return""}}function qe(J){try{var te="",ae=null;do te+=We(J,ae),ae=J,J=J.return;while(J);return te}catch(de){return`
Error generating stack: `+de.message+`
`+de.stack}}var nt=Object.prototype.hasOwnProperty,ft=_.unstable_scheduleCallback,je=_.unstable_cancelCallback,Ve=_.unstable_shouldYield,Ie=_.unstable_requestPaint,Ue=_.unstable_now,Xe=_.unstable_getCurrentPriorityLevel,Fe=_.unstable_ImmediatePriority,Je=_.unstable_UserBlockingPriority,et=_.unstable_NormalPriority,ut=_.unstable_LowPriority,ct=_.unstable_IdlePriority,bt=_.log,ht=_.unstable_setDisableYieldValue,xt=null,$t=null;function At(J){if(typeof bt=="function"&&ht(J),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(xt,J)}catch{}}var Ct=Math.clz32?Math.clz32:at,Pt=Math.log,Oe=Math.LN2;function at(J){return J>>>=0,J===0?32:31-(Pt(J)/Oe|0)|0}var mt=256,Et=262144,Tt=4194304;function Mt(J){var te=J&42;if(te!==0)return te;switch(J&-J){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return J&261888;case 262144:case 524288:case 1048576:case 2097152:return J&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return J&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return J}}function lr(J,te,ae){var de=J.pendingLanes;if(de===0)return 0;var xe=0,Ee=J.suspendedLanes,Be=J.pingedLanes;J=J.warmLanes;var Ye=de&134217727;return Ye!==0?(de=Ye&~Ee,de!==0?xe=Mt(de):(Be&=Ye,Be!==0?xe=Mt(Be):ae||(ae=Ye&~J,ae!==0&&(xe=Mt(ae))))):(Ye=de&~Ee,Ye!==0?xe=Mt(Ye):Be!==0?xe=Mt(Be):ae||(ae=de&~J,ae!==0&&(xe=Mt(ae)))),xe===0?0:te!==0&&te!==xe&&(te&Ee)===0&&(Ee=xe&-xe,ae=te&-te,Ee>=ae||Ee===32&&(ae&4194048)!==0)?te:xe}function zr(J,te){return(J.pendingLanes&~(J.suspendedLanes&~J.pingedLanes)&te)===0}function aa(J,te){switch(J){case 1:case 2:case 4:case 8:case 64:return te+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return te+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rs(){var J=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),J}function sa(J){for(var te=[],ae=0;31>ae;ae++)te.push(J);return te}function ii(J,te){J.pendingLanes|=te,te!==268435456&&(J.suspendedLanes=0,J.pingedLanes=0,J.warmLanes=0)}function Eo(J,te,ae,de,xe,Ee){var Be=J.pendingLanes;J.pendingLanes=ae,J.suspendedLanes=0,J.pingedLanes=0,J.warmLanes=0,J.expiredLanes&=ae,J.entangledLanes&=ae,J.errorRecoveryDisabledLanes&=ae,J.shellSuspendCounter=0;var Ye=J.entanglements,ot=J.expirationTimes,gt=J.hiddenUpdates;for(ae=Be&~ae;0<ae;){var yt=31-Ct(ae),St=1<<yt;Ye[yt]=0,ot[yt]=-1;var vt=gt[yt];if(vt!==null)for(gt[yt]=null,yt=0;yt<vt.length;yt++){var _t=vt[yt];_t!==null&&(_t.lane&=-536870913)}ae&=~St}de!==0&&ns(J,de,0),Ee!==0&&xe===0&&J.tag!==0&&(J.suspendedLanes|=Ee&~(Be&~te))}function ns(J,te,ae){J.pendingLanes|=te,J.suspendedLanes&=~te;var de=31-Ct(te);J.entangledLanes|=te,J.entanglements[de]=J.entanglements[de]|1073741824|ae&261930}function is(J,te){var ae=J.entangledLanes|=te;for(J=J.entanglements;ae;){var de=31-Ct(ae),xe=1<<de;xe&te|J[de]&te&&(J[de]|=te),ae&=~xe}}function as(J,te){var ae=te&-te;return ae=(ae&42)!==0?1:oa(ae),(ae&(J.suspendedLanes|te))!==0?0:ae}function oa(J){switch(J){case 2:J=1;break;case 8:J=4;break;case 32:J=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:J=128;break;case 268435456:J=134217728;break;default:J=0}return J}function la(J){return J&=-J,2<J?8<J?(J&134217727)!==0?32:268435456:8:2}function ss(){var J=Ce.p;return J!==0?J:(J=window.event,J===void 0?32:Eh(J.type))}function os(J,te){var ae=Ce.p;try{return Ce.p=J,te()}finally{Ce.p=ae}}var tn=Math.random().toString(36).slice(2),hr="__reactFiber$"+tn,xr="__reactProps$"+tn,Tn="__reactContainer$"+tn,ua="__reactEvents$"+tn,Co="__reactListeners$"+tn,$o="__reactHandles$"+tn,ls="__reactResources$"+tn,ai="__reactMarker$"+tn;function ca(J){delete J[hr],delete J[xr],delete J[ua],delete J[Co],delete J[$o]}function Nn(J){var te=J[hr];if(te)return te;for(var ae=J.parentNode;ae;){if(te=ae[Tn]||ae[hr]){if(ae=te.alternate,te.child!==null||ae!==null&&ae.child!==null)for(J=oh(J);J!==null;){if(ae=J[hr])return ae;J=oh(J)}return te}J=ae,ae=J.parentNode}return null}function Mn(J){if(J=J[hr]||J[Tn]){var te=J.tag;if(te===5||te===6||te===13||te===31||te===26||te===27||te===3)return J}return null}function Kr(J){var te=J.tag;if(te===5||te===26||te===27||te===6)return J.stateNode;throw Error(I(33))}function Lt(J){var te=J[ls];return te||(te=J[ls]={hoistableStyles:new Map,hoistableScripts:new Map}),te}function qt(J){J[ai]=!0}var us=new Set,si={};function Nr(J,te){Rn(J,te),Rn(J+"Capture",te)}function Rn(J,te){for(si[J]=te,J=0;J<te.length;J++)us.add(te[J])}var zh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fu={},zu={};function Lh(J){return nt.call(zu,J)?!0:nt.call(Fu,J)?!1:zh.test(J)?zu[J]=!0:(Fu[J]=!0,!1)}function cs(J,te,ae){if(Lh(te))if(ae===null)J.removeAttribute(te);else{switch(typeof ae){case"undefined":case"function":case"symbol":J.removeAttribute(te);return;case"boolean":var de=te.toLowerCase().slice(0,5);if(de!=="data-"&&de!=="aria-"){J.removeAttribute(te);return}}J.setAttribute(te,""+ae)}}function fs(J,te,ae){if(ae===null)J.removeAttribute(te);else{switch(typeof ae){case"undefined":case"function":case"symbol":case"boolean":J.removeAttribute(te);return}J.setAttribute(te,""+ae)}}function un(J,te,ae,de){if(de===null)J.removeAttribute(ae);else{switch(typeof de){case"undefined":case"function":case"symbol":case"boolean":J.removeAttribute(ae);return}J.setAttributeNS(te,ae,""+de)}}function Lr(J){switch(typeof J){case"bigint":case"boolean":case"number":case"string":case"undefined":return J;case"object":return J;default:return""}}function Lu(J){var te=J.type;return(J=J.nodeName)&&J.toLowerCase()==="input"&&(te==="checkbox"||te==="radio")}function jh(J,te,ae){var de=Object.getOwnPropertyDescriptor(J.constructor.prototype,te);if(!J.hasOwnProperty(te)&&typeof de<"u"&&typeof de.get=="function"&&typeof de.set=="function"){var xe=de.get,Ee=de.set;return Object.defineProperty(J,te,{configurable:!0,get:function(){return xe.call(this)},set:function(Be){ae=""+Be,Ee.call(this,Be)}}),Object.defineProperty(J,te,{enumerable:de.enumerable}),{getValue:function(){return ae},setValue:function(Be){ae=""+Be},stopTracking:function(){J._valueTracker=null,delete J[te]}}}}function Ao(J){if(!J._valueTracker){var te=Lu(J)?"checked":"value";J._valueTracker=jh(J,te,""+J[te])}}function ju(J){if(!J)return!1;var te=J._valueTracker;if(!te)return!0;var ae=te.getValue(),de="";return J&&(de=Lu(J)?J.checked?"true":"false":J.value),J=de,J!==ae?(te.setValue(J),!0):!1}function ds(J){if(J=J||(typeof document<"u"?document:void 0),typeof J>"u")return null;try{return J.activeElement||J.body}catch{return J.body}}var Uh=/[\n"\\]/g;function jr(J){return J.replace(Uh,function(te){return"\\"+te.charCodeAt(0).toString(16)+" "})}function To(J,te,ae,de,xe,Ee,Be,Ye){J.name="",Be!=null&&typeof Be!="function"&&typeof Be!="symbol"&&typeof Be!="boolean"?J.type=Be:J.removeAttribute("type"),te!=null?Be==="number"?(te===0&&J.value===""||J.value!=te)&&(J.value=""+Lr(te)):J.value!==""+Lr(te)&&(J.value=""+Lr(te)):Be!=="submit"&&Be!=="reset"||J.removeAttribute("value"),te!=null?No(J,Be,Lr(te)):ae!=null?No(J,Be,Lr(ae)):de!=null&&J.removeAttribute("value"),xe==null&&Ee!=null&&(J.defaultChecked=!!Ee),xe!=null&&(J.checked=xe&&typeof xe!="function"&&typeof xe!="symbol"),Ye!=null&&typeof Ye!="function"&&typeof Ye!="symbol"&&typeof Ye!="boolean"?J.name=""+Lr(Ye):J.removeAttribute("name")}function Uu(J,te,ae,de,xe,Ee,Be,Ye){if(Ee!=null&&typeof Ee!="function"&&typeof Ee!="symbol"&&typeof Ee!="boolean"&&(J.type=Ee),te!=null||ae!=null){if(!(Ee!=="submit"&&Ee!=="reset"||te!=null)){Ao(J);return}ae=ae!=null?""+Lr(ae):"",te=te!=null?""+Lr(te):ae,Ye||te===J.value||(J.value=te),J.defaultValue=te}de=de??xe,de=typeof de!="function"&&typeof de!="symbol"&&!!de,J.checked=Ye?J.checked:!!de,J.defaultChecked=!!de,Be!=null&&typeof Be!="function"&&typeof Be!="symbol"&&typeof Be!="boolean"&&(J.name=Be),Ao(J)}function No(J,te,ae){te==="number"&&ds(J.ownerDocument)===J||J.defaultValue===""+ae||(J.defaultValue=""+ae)}function Ci(J,te,ae,de){if(J=J.options,te){te={};for(var xe=0;xe<ae.length;xe++)te["$"+ae[xe]]=!0;for(ae=0;ae<J.length;ae++)xe=te.hasOwnProperty("$"+J[ae].value),J[ae].selected!==xe&&(J[ae].selected=xe),xe&&de&&(J[ae].defaultSelected=!0)}else{for(ae=""+Lr(ae),te=null,xe=0;xe<J.length;xe++){if(J[xe].value===ae){J[xe].selected=!0,de&&(J[xe].defaultSelected=!0);return}te!==null||J[xe].disabled||(te=J[xe])}te!==null&&(te.selected=!0)}}function Hu(J,te,ae){if(te!=null&&(te=""+Lr(te),te!==J.value&&(J.value=te),ae==null)){J.defaultValue!==te&&(J.defaultValue=te);return}J.defaultValue=ae!=null?""+Lr(ae):""}function qu(J,te,ae,de){if(te==null){if(de!=null){if(ae!=null)throw Error(I(92));if($e(de)){if(1<de.length)throw Error(I(93));de=de[0]}ae=de}ae==null&&(ae=""),te=ae}ae=Lr(te),J.defaultValue=ae,de=J.textContent,de===ae&&de!==""&&de!==null&&(J.value=de),Ao(J)}function $i(J,te){if(te){var ae=J.firstChild;if(ae&&ae===J.lastChild&&ae.nodeType===3){ae.nodeValue=te;return}}J.textContent=te}var Hh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gu(J,te,ae){var de=te.indexOf("--")===0;ae==null||typeof ae=="boolean"||ae===""?de?J.setProperty(te,""):te==="float"?J.cssFloat="":J[te]="":de?J.setProperty(te,ae):typeof ae!="number"||ae===0||Hh.has(te)?te==="float"?J.cssFloat=ae:J[te]=(""+ae).trim():J[te]=ae+"px"}function Vu(J,te,ae){if(te!=null&&typeof te!="object")throw Error(I(62));if(J=J.style,ae!=null){for(var de in ae)!ae.hasOwnProperty(de)||te!=null&&te.hasOwnProperty(de)||(de.indexOf("--")===0?J.setProperty(de,""):de==="float"?J.cssFloat="":J[de]="");for(var xe in te)de=te[xe],te.hasOwnProperty(xe)&&ae[xe]!==de&&Gu(J,xe,de)}else for(var Ee in te)te.hasOwnProperty(Ee)&&Gu(J,Ee,te[Ee])}function Mo(J){if(J.indexOf("-")===-1)return!1;switch(J){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hs(J){return Gh.test(""+J)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":J}function fn(){}var Ro=null;function Do(J){return J=J.target||J.srcElement||window,J.correspondingUseElement&&(J=J.correspondingUseElement),J.nodeType===3?J.parentNode:J}var Ai=null,Ti=null;function Zu(J){var te=Mn(J);if(te&&(J=te.stateNode)){var ae=J[xr]||null;e:switch(J=te.stateNode,te.type){case"input":if(To(J,ae.value,ae.defaultValue,ae.defaultValue,ae.checked,ae.defaultChecked,ae.type,ae.name),te=ae.name,ae.type==="radio"&&te!=null){for(ae=J;ae.parentNode;)ae=ae.parentNode;for(ae=ae.querySelectorAll('input[name="'+jr(""+te)+'"][type="radio"]'),te=0;te<ae.length;te++){var de=ae[te];if(de!==J&&de.form===J.form){var xe=de[xr]||null;if(!xe)throw Error(I(90));To(de,xe.value,xe.defaultValue,xe.defaultValue,xe.checked,xe.defaultChecked,xe.type,xe.name)}}for(te=0;te<ae.length;te++)de=ae[te],de.form===J.form&&ju(de)}break e;case"textarea":Hu(J,ae.value,ae.defaultValue);break e;case"select":te=ae.value,te!=null&&Ci(J,!!ae.multiple,te,!1)}}}var ko=!1;function Wu(J,te,ae){if(ko)return J(te,ae);ko=!0;try{var de=J(te);return de}finally{if(ko=!1,(Ai!==null||Ti!==null)&&(eo(),Ai&&(te=Ai,J=Ti,Ti=Ai=null,Zu(te),J)))for(te=0;te<J.length;te++)Zu(J[te])}}function fa(J,te){var ae=J.stateNode;if(ae===null)return null;var de=ae[xr]||null;if(de===null)return null;ae=de[te];e:switch(te){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(de=!de.disabled)||(J=J.type,de=!(J==="button"||J==="input"||J==="select"||J==="textarea")),J=!de;break e;default:J=!1}if(J)return null;if(ae&&typeof ae!="function")throw Error(I(231,te,typeof ae));return ae}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=!1;if(dn)try{var da={};Object.defineProperty(da,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Oo=!1}var Dn=null,Po=null,ms=null;function Yu(){if(ms)return ms;var J,te=Po,ae=te.length,de,xe="value"in Dn?Dn.value:Dn.textContent,Ee=xe.length;for(J=0;J<ae&&te[J]===xe[J];J++);var Be=ae-J;for(de=1;de<=Be&&te[ae-de]===xe[Ee-de];de++);return ms=xe.slice(J,1<de?1-de:void 0)}function ps(J){var te=J.keyCode;return"charCode"in J?(J=J.charCode,J===0&&te===13&&(J=13)):J=te,J===10&&(J=13),32<=J||J===13?J:0}function gs(){return!0}function Xu(){return!1}function Sr(J){function te(ae,de,xe,Ee,Be){this._reactName=ae,this._targetInst=xe,this.type=de,this.nativeEvent=Ee,this.target=Be,this.currentTarget=null;for(var Ye in J)J.hasOwnProperty(Ye)&&(ae=J[Ye],this[Ye]=ae?ae(Ee):Ee[Ye]);return this.isDefaultPrevented=(Ee.defaultPrevented!=null?Ee.defaultPrevented:Ee.returnValue===!1)?gs:Xu,this.isPropagationStopped=Xu,this}return Z(te.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ae=this.nativeEvent;ae&&(ae.preventDefault?ae.preventDefault():typeof ae.returnValue!="unknown"&&(ae.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var ae=this.nativeEvent;ae&&(ae.stopPropagation?ae.stopPropagation():typeof ae.cancelBubble!="unknown"&&(ae.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),te}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(J){return J.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=Sr(oi),ha=Z({},oi,{view:0,detail:0}),Vh=Sr(ha),Io,Bo,ma,_s=Z({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zo,button:0,buttons:0,relatedTarget:function(J){return J.relatedTarget===void 0?J.fromElement===J.srcElement?J.toElement:J.fromElement:J.relatedTarget},movementX:function(J){return"movementX"in J?J.movementX:(J!==ma&&(ma&&J.type==="mousemove"?(Io=J.screenX-ma.screenX,Bo=J.screenY-ma.screenY):Bo=Io=0,ma=J),Io)},movementY:function(J){return"movementY"in J?J.movementY:Bo}}),Ku=Sr(_s),Zh=Z({},_s,{dataTransfer:0}),Wh=Sr(Zh),Yh=Z({},ha,{relatedTarget:0}),Fo=Sr(Yh),Xh=Z({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Kh=Sr(Xh),Qh=Z({},oi,{clipboardData:function(J){return"clipboardData"in J?J.clipboardData:window.clipboardData}}),Jh=Sr(Qh),em=Z({},oi,{data:0}),Qu=Sr(em),tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function am(J){var te=this.nativeEvent;return te.getModifierState?te.getModifierState(J):(J=nm[J])?!!te[J]:!1}function zo(){return am}var sm=Z({},ha,{key:function(J){if(J.key){var te=tm[J.key]||J.key;if(te!=="Unidentified")return te}return J.type==="keypress"?(J=ps(J),J===13?"Enter":String.fromCharCode(J)):J.type==="keydown"||J.type==="keyup"?rm[J.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zo,charCode:function(J){return J.type==="keypress"?ps(J):0},keyCode:function(J){return J.type==="keydown"||J.type==="keyup"?J.keyCode:0},which:function(J){return J.type==="keypress"?ps(J):J.type==="keydown"||J.type==="keyup"?J.keyCode:0}}),om=Sr(sm),lm=Z({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ju=Sr(lm),um=Z({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zo}),cm=Sr(um),fm=Z({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),dm=Sr(fm),hm=Z({},_s,{deltaX:function(J){return"deltaX"in J?J.deltaX:"wheelDeltaX"in J?-J.wheelDeltaX:0},deltaY:function(J){return"deltaY"in J?J.deltaY:"wheelDeltaY"in J?-J.wheelDeltaY:"wheelDelta"in J?-J.wheelDelta:0},deltaZ:0,deltaMode:0}),mm=Sr(hm),pm=Z({},oi,{newState:0,oldState:0}),gm=Sr(pm),vm=[9,13,27,32],Lo=dn&&"CompositionEvent"in window,pa=null;dn&&"documentMode"in document&&(pa=document.documentMode);var _m=dn&&"TextEvent"in window&&!pa,ec=dn&&(!Lo||pa&&8<pa&&11>=pa),tc=" ",rc=!1;function nc(J,te){switch(J){case"keyup":return vm.indexOf(te.keyCode)!==-1;case"keydown":return te.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ic(J){return J=J.detail,typeof J=="object"&&"data"in J?J.data:null}var Ni=!1;function ym(J,te){switch(J){case"compositionend":return ic(te);case"keypress":return te.which!==32?null:(rc=!0,tc);case"textInput":return J=te.data,J===tc&&rc?null:J;default:return null}}function bm(J,te){if(Ni)return J==="compositionend"||!Lo&&nc(J,te)?(J=Yu(),ms=Po=Dn=null,Ni=!1,J):null;switch(J){case"paste":return null;case"keypress":if(!(te.ctrlKey||te.altKey||te.metaKey)||te.ctrlKey&&te.altKey){if(te.char&&1<te.char.length)return te.char;if(te.which)return String.fromCharCode(te.which)}return null;case"compositionend":return ec&&te.locale!=="ko"?null:te.data;default:return null}}var xm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(J){var te=J&&J.nodeName&&J.nodeName.toLowerCase();return te==="input"?!!xm[J.type]:te==="textarea"}function sc(J,te,ae,de){Ai?Ti?Ti.push(de):Ti=[de]:Ai=de,te=lo(te,"onChange"),0<te.length&&(ae=new vs("onChange","change",null,ae,de),J.push({event:ae,listeners:te}))}var ga=null,va=null;function wm(J){Zd(J,0)}function ys(J){var te=Kr(J);if(ju(te))return J}function oc(J,te){if(J==="change")return te}var lc=!1;if(dn){var jo;if(dn){var Uo="oninput"in document;if(!Uo){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),Uo=typeof uc.oninput=="function"}jo=Uo}else jo=!1;lc=jo&&(!document.documentMode||9<document.documentMode)}function cc(){ga&&(ga.detachEvent("onpropertychange",fc),va=ga=null)}function fc(J){if(J.propertyName==="value"&&ys(va)){var te=[];sc(te,va,J,Do(J)),Wu(wm,te)}}function Sm(J,te,ae){J==="focusin"?(cc(),ga=te,va=ae,ga.attachEvent("onpropertychange",fc)):J==="focusout"&&cc()}function Em(J){if(J==="selectionchange"||J==="keyup"||J==="keydown")return ys(va)}function Cm(J,te){if(J==="click")return ys(te)}function $m(J,te){if(J==="input"||J==="change")return ys(te)}function Am(J,te){return J===te&&(J!==0||1/J===1/te)||J!==J&&te!==te}var Mr=typeof Object.is=="function"?Object.is:Am;function ya(J,te){if(Mr(J,te))return!0;if(typeof J!="object"||J===null||typeof te!="object"||te===null)return!1;var ae=Object.keys(J),de=Object.keys(te);if(ae.length!==de.length)return!1;for(de=0;de<ae.length;de++){var xe=ae[de];if(!nt.call(te,xe)||!Mr(J[xe],te[xe]))return!1}return!0}function dc(J){for(;J&&J.firstChild;)J=J.firstChild;return J}function hc(J,te){var ae=dc(J);J=0;for(var de;ae;){if(ae.nodeType===3){if(de=J+ae.textContent.length,J<=te&&de>=te)return{node:ae,offset:te-J};J=de}e:{for(;ae;){if(ae.nextSibling){ae=ae.nextSibling;break e}ae=ae.parentNode}ae=void 0}ae=dc(ae)}}function mc(J,te){return J&&te?J===te?!0:J&&J.nodeType===3?!1:te&&te.nodeType===3?mc(J,te.parentNode):"contains"in J?J.contains(te):J.compareDocumentPosition?!!(J.compareDocumentPosition(te)&16):!1:!1}function pc(J){J=J!=null&&J.ownerDocument!=null&&J.ownerDocument.defaultView!=null?J.ownerDocument.defaultView:window;for(var te=ds(J.document);te instanceof J.HTMLIFrameElement;){try{var ae=typeof te.contentWindow.location.href=="string"}catch{ae=!1}if(ae)J=te.contentWindow;else break;te=ds(J.document)}return te}function Ho(J){var te=J&&J.nodeName&&J.nodeName.toLowerCase();return te&&(te==="input"&&(J.type==="text"||J.type==="search"||J.type==="tel"||J.type==="url"||J.type==="password")||te==="textarea"||J.contentEditable==="true")}var Tm=dn&&"documentMode"in document&&11>=document.documentMode,Mi=null,qo=null,ba=null,Go=!1;function gc(J,te,ae){var de=ae.window===ae?ae.document:ae.nodeType===9?ae:ae.ownerDocument;Go||Mi==null||Mi!==ds(de)||(de=Mi,"selectionStart"in de&&Ho(de)?de={start:de.selectionStart,end:de.selectionEnd}:(de=(de.ownerDocument&&de.ownerDocument.defaultView||window).getSelection(),de={anchorNode:de.anchorNode,anchorOffset:de.anchorOffset,focusNode:de.focusNode,focusOffset:de.focusOffset}),ba&&ya(ba,de)||(ba=de,de=lo(qo,"onSelect"),0<de.length&&(te=new vs("onSelect","select",null,te,ae),J.push({event:te,listeners:de}),te.target=Mi)))}function li(J,te){var ae={};return ae[J.toLowerCase()]=te.toLowerCase(),ae["Webkit"+J]="webkit"+te,ae["Moz"+J]="moz"+te,ae}var Ri={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},Vo={},vc={};dn&&(vc=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function ui(J){if(Vo[J])return Vo[J];if(!Ri[J])return J;var te=Ri[J],ae;for(ae in te)if(te.hasOwnProperty(ae)&&ae in vc)return Vo[J]=te[ae];return J}var _c=ui("animationend"),yc=ui("animationiteration"),bc=ui("animationstart"),Nm=ui("transitionrun"),Mm=ui("transitionstart"),Rm=ui("transitioncancel"),xc=ui("transitionend"),wc=new Map,Zo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zo.push("scrollEnd");function Qr(J,te){wc.set(J,te),Nr(te,[J])}var bs=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},Ur=[],Di=0,Wo=0;function xs(){for(var J=Di,te=Wo=Di=0;te<J;){var ae=Ur[te];Ur[te++]=null;var de=Ur[te];Ur[te++]=null;var xe=Ur[te];Ur[te++]=null;var Ee=Ur[te];if(Ur[te++]=null,de!==null&&xe!==null){var Be=de.pending;Be===null?xe.next=xe:(xe.next=Be.next,Be.next=xe),de.pending=xe}Ee!==0&&Ec(ae,xe,Ee)}}function ws(J,te,ae,de){Ur[Di++]=J,Ur[Di++]=te,Ur[Di++]=ae,Ur[Di++]=de,Wo|=de,J.lanes|=de,J=J.alternate,J!==null&&(J.lanes|=de)}function Yo(J,te,ae,de){return ws(J,te,ae,de),Ss(J)}function ci(J,te){return ws(J,null,null,te),Ss(J)}function Ec(J,te,ae){J.lanes|=ae;var de=J.alternate;de!==null&&(de.lanes|=ae);for(var xe=!1,Ee=J.return;Ee!==null;)Ee.childLanes|=ae,de=Ee.alternate,de!==null&&(de.childLanes|=ae),Ee.tag===22&&(J=Ee.stateNode,J===null||J._visibility&1||(xe=!0)),J=Ee,Ee=Ee.return;return J.tag===3?(Ee=J.stateNode,xe&&te!==null&&(xe=31-Ct(ae),J=Ee.hiddenUpdates,de=J[xe],de===null?J[xe]=[te]:de.push(te),te.lane=ae|536870912),Ee):null}function Ss(J){if(50<Ha)throw Ha=0,iu=null,Error(I(185));for(var te=J.return;te!==null;)J=te,te=J.return;return J.tag===3?J.stateNode:null}var ki={};function Dm(J,te,ae,de){this.tag=J,this.key=ae,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=te,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=de,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(J,te,ae,de){return new Dm(J,te,ae,de)}function Xo(J){return J=J.prototype,!(!J||!J.isReactComponent)}function hn(J,te){var ae=J.alternate;return ae===null?(ae=Rr(J.tag,te,J.key,J.mode),ae.elementType=J.elementType,ae.type=J.type,ae.stateNode=J.stateNode,ae.alternate=J,J.alternate=ae):(ae.pendingProps=te,ae.type=J.type,ae.flags=0,ae.subtreeFlags=0,ae.deletions=null),ae.flags=J.flags&65011712,ae.childLanes=J.childLanes,ae.lanes=J.lanes,ae.child=J.child,ae.memoizedProps=J.memoizedProps,ae.memoizedState=J.memoizedState,ae.updateQueue=J.updateQueue,te=J.dependencies,ae.dependencies=te===null?null:{lanes:te.lanes,firstContext:te.firstContext},ae.sibling=J.sibling,ae.index=J.index,ae.ref=J.ref,ae.refCleanup=J.refCleanup,ae}function Cc(J,te){J.flags&=65011714;var ae=J.alternate;return ae===null?(J.childLanes=0,J.lanes=te,J.child=null,J.subtreeFlags=0,J.memoizedProps=null,J.memoizedState=null,J.updateQueue=null,J.dependencies=null,J.stateNode=null):(J.childLanes=ae.childLanes,J.lanes=ae.lanes,J.child=ae.child,J.subtreeFlags=0,J.deletions=null,J.memoizedProps=ae.memoizedProps,J.memoizedState=ae.memoizedState,J.updateQueue=ae.updateQueue,J.type=ae.type,te=ae.dependencies,J.dependencies=te===null?null:{lanes:te.lanes,firstContext:te.firstContext}),J}function Es(J,te,ae,de,xe,Ee){var Be=0;if(de=J,typeof J=="function")Xo(J)&&(Be=1);else if(typeof J=="string")Be=Fp(J,ae,ze.current)?26:J==="html"||J==="head"||J==="body"?27:5;else e:switch(J){case pe:return J=Rr(31,ae,te,xe),J.elementType=pe,J.lanes=Ee,J;case ne:return fi(ae.children,xe,Ee,te);case ie:Be=8,xe|=24;break;case se:return J=Rr(12,ae,te,xe|2),J.elementType=se,J.lanes=Ee,J;case ce:return J=Rr(13,ae,te,xe),J.elementType=ce,J.lanes=Ee,J;case fe:return J=Rr(19,ae,te,xe),J.elementType=fe,J.lanes=Ee,J;default:if(typeof J=="object"&&J!==null)switch(J.$$typeof){case le:Be=10;break e;case oe:Be=9;break e;case ue:Be=11;break e;case me:Be=14;break e;case he:Be=16,de=null;break e}Be=29,ae=Error(I(130,J===null?"null":typeof J,"")),de=null}return te=Rr(Be,ae,te,xe),te.elementType=J,te.type=de,te.lanes=Ee,te}function fi(J,te,ae,de){return J=Rr(7,J,de,te),J.lanes=ae,J}function Ko(J,te,ae){return J=Rr(6,J,null,te),J.lanes=ae,J}function $c(J){var te=Rr(18,null,null,0);return te.stateNode=J,te}function Qo(J,te,ae){return te=Rr(4,J.children!==null?J.children:[],J.key,te),te.lanes=ae,te.stateNode={containerInfo:J.containerInfo,pendingChildren:null,implementation:J.implementation},te}var Ac=new WeakMap;function Hr(J,te){if(typeof J=="object"&&J!==null){var ae=Ac.get(J);return ae!==void 0?ae:(te={value:J,source:te,stack:qe(te)},Ac.set(J,te),te)}return{value:J,source:te,stack:qe(te)}}var Oi=[],Pi=0,Cs=null,xa=0,Gr=[],Vr=0,kn=null,rn=1,nn="";function mn(J,te){Oi[Pi++]=xa,Oi[Pi++]=Cs,Cs=J,xa=te}function Nc(J,te,ae){Gr[Vr++]=rn,Gr[Vr++]=nn,Gr[Vr++]=kn,kn=J;var de=rn;J=nn;var xe=32-Ct(de)-1;de&=~(1<<xe),ae+=1;var Ee=32-Ct(te)+xe;if(30<Ee){var Be=xe-xe%5;Ee=(de&(1<<Be)-1).toString(32),de>>=Be,xe-=Be,rn=1<<32-Ct(te)+xe|ae<<xe|de,nn=Ee+J}else rn=1<<Ee|ae<<xe|de,nn=J}function Jo(J){J.return!==null&&(mn(J,1),Nc(J,1,0))}function el(J){for(;J===Cs;)Cs=Oi[--Pi],Oi[Pi]=null,xa=Oi[--Pi],Oi[Pi]=null;for(;J===kn;)kn=Gr[--Vr],Gr[Vr]=null,nn=Gr[--Vr],Gr[Vr]=null,rn=Gr[--Vr],Gr[Vr]=null}function Mc(J,te){Gr[Vr++]=rn,Gr[Vr++]=nn,Gr[Vr++]=kn,rn=te.id,nn=te.overflow,kn=J}var gr=null,er=null,Ht=!1,On=null,Zr=!1,tl=Error(I(519));function Pn(J){var te=Error(I(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wa(Hr(te,J)),tl}function Rc(J){var te=J.stateNode,ae=J.type,de=J.memoizedProps;switch(te[hr]=J,te[xr]=de,ae){case"dialog":zt("cancel",te),zt("close",te);break;case"iframe":case"object":case"embed":zt("load",te);break;case"video":case"audio":for(ae=0;ae<Ga.length;ae++)zt(Ga[ae],te);break;case"source":zt("error",te);break;case"img":case"image":case"link":zt("error",te),zt("load",te);break;case"details":zt("toggle",te);break;case"input":zt("invalid",te),Uu(te,de.value,de.defaultValue,de.checked,de.defaultChecked,de.type,de.name,!0);break;case"select":zt("invalid",te);break;case"textarea":zt("invalid",te),qu(te,de.value,de.defaultValue,de.children)}ae=de.children,typeof ae!="string"&&typeof ae!="number"&&typeof ae!="bigint"||te.textContent===""+ae||de.suppressHydrationWarning===!0||Kd(te.textContent,ae)?(de.popover!=null&&(zt("beforetoggle",te),zt("toggle",te)),de.onScroll!=null&&zt("scroll",te),de.onScrollEnd!=null&&zt("scrollend",te),de.onClick!=null&&(te.onclick=fn),te=!0):te=!1,te||Pn(J,!0)}function kc(J){for(gr=J.return;gr;)switch(gr.tag){case 5:case 31:case 13:Zr=!1;return;case 27:case 3:Zr=!0;return;default:gr=gr.return}}function Ii(J){if(J!==gr)return!1;if(!Ht)return kc(J),Ht=!0,!1;var te=J.tag,ae;if((ae=te!==3&&te!==27)&&((ae=te===5)&&(ae=J.type,ae=!(ae!=="form"&&ae!=="button")||yu(J.type,J.memoizedProps)),ae=!ae),ae&&er&&Pn(J),kc(J),te===13){if(J=J.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(I(317));er=sh(J)}else if(te===31){if(J=J.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(I(317));er=sh(J)}else te===27?(te=er,Qn(J.type)?(J=Eu,Eu=null,er=J):er=te):er=gr?Yr(J.stateNode.nextSibling):null;return!0}function di(){er=gr=null,Ht=!1}function rl(){var J=On;return J!==null&&(Ar===null?Ar=J:Ar.push.apply(Ar,J),On=null),J}function wa(J){On===null?On=[J]:On.push(J)}var nl=Te(null),hi=null,pn=null;function In(J,te,ae){Se(nl,te._currentValue),te._currentValue=ae}function gn(J){J._currentValue=nl.current,Re(nl)}function il(J,te,ae){for(;J!==null;){var de=J.alternate;if((J.childLanes&te)!==te?(J.childLanes|=te,de!==null&&(de.childLanes|=te)):de!==null&&(de.childLanes&te)!==te&&(de.childLanes|=te),J===ae)break;J=J.return}}function al(J,te,ae,de){var xe=J.child;for(xe!==null&&(xe.return=J);xe!==null;){var Ee=xe.dependencies;if(Ee!==null){var Be=xe.child;Ee=Ee.firstContext;e:for(;Ee!==null;){var Ye=Ee;Ee=xe;for(var ot=0;ot<te.length;ot++)if(Ye.context===te[ot]){Ee.lanes|=ae,Ye=Ee.alternate,Ye!==null&&(Ye.lanes|=ae),il(Ee.return,ae,J),de||(Be=null);break e}Ee=Ye.next}}else if(xe.tag===18){if(Be=xe.return,Be===null)throw Error(I(341));Be.lanes|=ae,Ee=Be.alternate,Ee!==null&&(Ee.lanes|=ae),il(Be,ae,J),Be=null}else Be=xe.child;if(Be!==null)Be.return=xe;else for(Be=xe;Be!==null;){if(Be===J){Be=null;break}if(xe=Be.sibling,xe!==null){xe.return=Be.return,Be=xe;break}Be=Be.return}xe=Be}}function Bi(J,te,ae,de){J=null;for(var xe=te,Ee=!1;xe!==null;){if(!Ee){if((xe.flags&524288)!==0)Ee=!0;else if((xe.flags&262144)!==0)break}if(xe.tag===10){var Be=xe.alternate;if(Be===null)throw Error(I(387));if(Be=Be.memoizedProps,Be!==null){var Ye=xe.type;Mr(xe.pendingProps.value,Be.value)||(J!==null?J.push(Ye):J=[Ye])}}else if(xe===Ze.current){if(Be=xe.alternate,Be===null)throw Error(I(387));Be.memoizedState.memoizedState!==xe.memoizedState.memoizedState&&(J!==null?J.push(Xa):J=[Xa])}xe=xe.return}J!==null&&al(te,J,ae,de),te.flags|=262144}function $s(J){for(J=J.firstContext;J!==null;){if(!Mr(J.context._currentValue,J.memoizedValue))return!0;J=J.next}return!1}function mi(J){hi=J,pn=null,J=J.dependencies,J!==null&&(J.firstContext=null)}function vr(J){return Oc(hi,J)}function As(J,te){return hi===null&&mi(J),Oc(J,te)}function Oc(J,te){var ae=te._currentValue;if(te={context:te,memoizedValue:ae,next:null},pn===null){if(J===null)throw Error(I(308));pn=te,J.dependencies={lanes:0,firstContext:te},J.flags|=524288}else pn=pn.next=te;return ae}var km=typeof AbortController<"u"?AbortController:function(){var J=[],te=this.signal={aborted:!1,addEventListener:function(ae,de){J.push(de)}};this.abort=function(){te.aborted=!0,J.forEach(function(ae){return ae()})}},Om=_.unstable_scheduleCallback,Pm=_.unstable_NormalPriority,ur={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sl(){return{controller:new km,data:new Map,refCount:0}}function Sa(J){J.refCount--,J.refCount===0&&Om(Pm,function(){J.controller.abort()})}var Ea=null,ol=0,Fi=0,zi=null;function Im(J,te){if(Ea===null){var ae=Ea=[];ol=0,Fi=cu(),zi={status:"pending",value:void 0,then:function(de){ae.push(de)}}}return ol++,te.then(Pc,Pc),te}function Pc(){if(--ol===0&&Ea!==null){zi!==null&&(zi.status="fulfilled");var J=Ea;Ea=null,Fi=0,zi=null;for(var te=0;te<J.length;te++)(0,J[te])()}}function Bm(J,te){var ae=[],de={status:"pending",value:null,reason:null,then:function(xe){ae.push(xe)}};return J.then(function(){de.status="fulfilled",de.value=te;for(var xe=0;xe<ae.length;xe++)(0,ae[xe])(te)},function(xe){for(de.status="rejected",de.reason=xe,xe=0;xe<ae.length;xe++)(0,ae[xe])(void 0)}),de}var Ic=be.S;be.S=function(J,te){xd=Ue(),typeof te=="object"&&te!==null&&typeof te.then=="function"&&Im(J,te),Ic!==null&&Ic(J,te)};var gi=Te(null);function ll(){var J=gi.current;return J!==null?J:Jt.pooledCache}function Ts(J,te){te===null?Se(gi,gi.current):Se(gi,te.pool)}function Bc(){var J=ll();return J===null?null:{parent:ur._currentValue,pool:J}}var Li=Error(I(460)),ul=Error(I(474)),Ns=Error(I(542)),Ms={then:function(){}};function Fc(J){return J=J.status,J==="fulfilled"||J==="rejected"}function zc(J,te,ae){switch(ae=J[ae],ae===void 0?J.push(te):ae!==te&&(te.then(fn,fn),te=ae),te.status){case"fulfilled":return te.value;case"rejected":throw J=te.reason,jc(J),J;default:if(typeof te.status=="string")te.then(fn,fn);else{if(J=Jt,J!==null&&100<J.shellSuspendCounter)throw Error(I(482));J=te,J.status="pending",J.then(function(de){if(te.status==="pending"){var xe=te;xe.status="fulfilled",xe.value=de}},function(de){if(te.status==="pending"){var xe=te;xe.status="rejected",xe.reason=de}})}switch(te.status){case"fulfilled":return te.value;case"rejected":throw J=te.reason,jc(J),J}throw yi=te,Li}}function vi(J){try{var te=J._init;return te(J._payload)}catch(ae){throw ae!==null&&typeof ae=="object"&&typeof ae.then=="function"?(yi=ae,Li):ae}}var yi=null;function Lc(){if(yi===null)throw Error(I(459));var J=yi;return yi=null,J}function jc(J){if(J===Li||J===Ns)throw Error(I(483))}var ji=null,Ca=0;function Rs(J){var te=Ca;return Ca+=1,ji===null&&(ji=[]),zc(ji,J,te)}function $a(J,te){te=te.props.ref,J.ref=te!==void 0?te:null}function Ds(J,te){throw te.$$typeof===Y?Error(I(525)):(J=Object.prototype.toString.call(te),Error(I(31,J==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":J)))}function Uc(J){function te(dt,lt){if(J){var pt=dt.deletions;pt===null?(dt.deletions=[lt],dt.flags|=16):pt.push(lt)}}function ae(dt,lt){if(!J)return null;for(;lt!==null;)te(dt,lt),lt=lt.sibling;return null}function de(dt){for(var lt=new Map;dt!==null;)dt.key!==null?lt.set(dt.key,dt):lt.set(dt.index,dt),dt=dt.sibling;return lt}function xe(dt,lt){return dt=hn(dt,lt),dt.index=0,dt.sibling=null,dt}function Ee(dt,lt,pt){return dt.index=pt,J?(pt=dt.alternate,pt!==null?(pt=pt.index,pt<lt?(dt.flags|=67108866,lt):pt):(dt.flags|=67108866,lt)):(dt.flags|=1048576,lt)}function Be(dt){return J&&dt.alternate===null&&(dt.flags|=67108866),dt}function Ye(dt,lt,pt,wt){return lt===null||lt.tag!==6?(lt=Ko(pt,dt.mode,wt),lt.return=dt,lt):(lt=xe(lt,pt),lt.return=dt,lt)}function ot(dt,lt,pt,wt){var kt=pt.type;return kt===ne?yt(dt,lt,pt.props.children,wt,pt.key):lt!==null&&(lt.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===he&&vi(kt)===lt.type)?(lt=xe(lt,pt.props),$a(lt,pt),lt.return=dt,lt):(lt=Es(pt.type,pt.key,pt.props,null,dt.mode,wt),$a(lt,pt),lt.return=dt,lt)}function gt(dt,lt,pt,wt){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==pt.containerInfo||lt.stateNode.implementation!==pt.implementation?(lt=Qo(pt,dt.mode,wt),lt.return=dt,lt):(lt=xe(lt,pt.children||[]),lt.return=dt,lt)}function yt(dt,lt,pt,wt,kt){return lt===null||lt.tag!==7?(lt=fi(pt,dt.mode,wt,kt),lt.return=dt,lt):(lt=xe(lt,pt),lt.return=dt,lt)}function St(dt,lt,pt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return lt=Ko(""+lt,dt.mode,pt),lt.return=dt,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case W:return pt=Es(lt.type,lt.key,lt.props,null,dt.mode,pt),$a(pt,lt),pt.return=dt,pt;case ee:return lt=Qo(lt,dt.mode,pt),lt.return=dt,lt;case he:return lt=vi(lt),St(dt,lt,pt)}if($e(lt)||ye(lt))return lt=fi(lt,dt.mode,pt,null),lt.return=dt,lt;if(typeof lt.then=="function")return St(dt,Rs(lt),pt);if(lt.$$typeof===le)return St(dt,As(dt,lt),pt);Ds(dt,lt)}return null}function vt(dt,lt,pt,wt){var kt=lt!==null?lt.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return kt!==null?null:Ye(dt,lt,""+pt,wt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case W:return pt.key===kt?ot(dt,lt,pt,wt):null;case ee:return pt.key===kt?gt(dt,lt,pt,wt):null;case he:return pt=vi(pt),vt(dt,lt,pt,wt)}if($e(pt)||ye(pt))return kt!==null?null:yt(dt,lt,pt,wt,null);if(typeof pt.then=="function")return vt(dt,lt,Rs(pt),wt);if(pt.$$typeof===le)return vt(dt,lt,As(dt,pt),wt);Ds(dt,pt)}return null}function _t(dt,lt,pt,wt,kt){if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return dt=dt.get(pt)||null,Ye(lt,dt,""+wt,kt);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case W:return dt=dt.get(wt.key===null?pt:wt.key)||null,ot(lt,dt,wt,kt);case ee:return dt=dt.get(wt.key===null?pt:wt.key)||null,gt(lt,dt,wt,kt);case he:return wt=vi(wt),_t(dt,lt,pt,wt,kt)}if($e(wt)||ye(wt))return dt=dt.get(pt)||null,yt(lt,dt,wt,kt,null);if(typeof wt.then=="function")return _t(dt,lt,pt,Rs(wt),kt);if(wt.$$typeof===le)return _t(dt,lt,pt,As(lt,wt),kt);Ds(lt,wt)}return null}function Nt(dt,lt,pt,wt){for(var kt=null,Gt=null,Rt=lt,Bt=lt=0,Ut=null;Rt!==null&&Bt<pt.length;Bt++){Rt.index>Bt?(Ut=Rt,Rt=null):Ut=Rt.sibling;var Vt=vt(dt,Rt,pt[Bt],wt);if(Vt===null){Rt===null&&(Rt=Ut);break}J&&Rt&&Vt.alternate===null&&te(dt,Rt),lt=Ee(Vt,lt,Bt),Gt===null?kt=Vt:Gt.sibling=Vt,Gt=Vt,Rt=Ut}if(Bt===pt.length)return ae(dt,Rt),Ht&&mn(dt,Bt),kt;if(Rt===null){for(;Bt<pt.length;Bt++)Rt=St(dt,pt[Bt],wt),Rt!==null&&(lt=Ee(Rt,lt,Bt),Gt===null?kt=Rt:Gt.sibling=Rt,Gt=Rt);return Ht&&mn(dt,Bt),kt}for(Rt=de(Rt);Bt<pt.length;Bt++)Ut=_t(Rt,dt,Bt,pt[Bt],wt),Ut!==null&&(J&&Ut.alternate!==null&&Rt.delete(Ut.key===null?Bt:Ut.key),lt=Ee(Ut,lt,Bt),Gt===null?kt=Ut:Gt.sibling=Ut,Gt=Ut);return J&&Rt.forEach(function(ni){return te(dt,ni)}),Ht&&mn(dt,Bt),kt}function Ot(dt,lt,pt,wt){if(pt==null)throw Error(I(151));for(var kt=null,Gt=null,Rt=lt,Bt=lt=0,Ut=null,Vt=pt.next();Rt!==null&&!Vt.done;Bt++,Vt=pt.next()){Rt.index>Bt?(Ut=Rt,Rt=null):Ut=Rt.sibling;var ni=vt(dt,Rt,Vt.value,wt);if(ni===null){Rt===null&&(Rt=Ut);break}J&&Rt&&ni.alternate===null&&te(dt,Rt),lt=Ee(ni,lt,Bt),Gt===null?kt=ni:Gt.sibling=ni,Gt=ni,Rt=Ut}if(Vt.done)return ae(dt,Rt),Ht&&mn(dt,Bt),kt;if(Rt===null){for(;!Vt.done;Bt++,Vt=pt.next())Vt=St(dt,Vt.value,wt),Vt!==null&&(lt=Ee(Vt,lt,Bt),Gt===null?kt=Vt:Gt.sibling=Vt,Gt=Vt);return Ht&&mn(dt,Bt),kt}for(Rt=de(Rt);!Vt.done;Bt++,Vt=pt.next())Vt=_t(Rt,dt,Bt,Vt.value,wt),Vt!==null&&(J&&Vt.alternate!==null&&Rt.delete(Vt.key===null?Bt:Vt.key),lt=Ee(Vt,lt,Bt),Gt===null?kt=Vt:Gt.sibling=Vt,Gt=Vt);return J&&Rt.forEach(function(Yp){return te(dt,Yp)}),Ht&&mn(dt,Bt),kt}function Qt(dt,lt,pt,wt){if(typeof pt=="object"&&pt!==null&&pt.type===ne&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case W:e:{for(var kt=pt.key;lt!==null;){if(lt.key===kt){if(kt=pt.type,kt===ne){if(lt.tag===7){ae(dt,lt.sibling),wt=xe(lt,pt.props.children),wt.return=dt,dt=wt;break e}}else if(lt.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===he&&vi(kt)===lt.type){ae(dt,lt.sibling),wt=xe(lt,pt.props),$a(wt,pt),wt.return=dt,dt=wt;break e}ae(dt,lt);break}else te(dt,lt);lt=lt.sibling}pt.type===ne?(wt=fi(pt.props.children,dt.mode,wt,pt.key),wt.return=dt,dt=wt):(wt=Es(pt.type,pt.key,pt.props,null,dt.mode,wt),$a(wt,pt),wt.return=dt,dt=wt)}return Be(dt);case ee:e:{for(kt=pt.key;lt!==null;){if(lt.key===kt)if(lt.tag===4&&lt.stateNode.containerInfo===pt.containerInfo&&lt.stateNode.implementation===pt.implementation){ae(dt,lt.sibling),wt=xe(lt,pt.children||[]),wt.return=dt,dt=wt;break e}else{ae(dt,lt);break}else te(dt,lt);lt=lt.sibling}wt=Qo(pt,dt.mode,wt),wt.return=dt,dt=wt}return Be(dt);case he:return pt=vi(pt),Qt(dt,lt,pt,wt)}if($e(pt))return Nt(dt,lt,pt,wt);if(ye(pt)){if(kt=ye(pt),typeof kt!="function")throw Error(I(150));return pt=kt.call(pt),Ot(dt,lt,pt,wt)}if(typeof pt.then=="function")return Qt(dt,lt,Rs(pt),wt);if(pt.$$typeof===le)return Qt(dt,lt,As(dt,pt),wt);Ds(dt,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint"?(pt=""+pt,lt!==null&&lt.tag===6?(ae(dt,lt.sibling),wt=xe(lt,pt),wt.return=dt,dt=wt):(ae(dt,lt),wt=Ko(pt,dt.mode,wt),wt.return=dt,dt=wt),Be(dt)):ae(dt,lt)}return function(dt,lt,pt,wt){try{Ca=0;var kt=Qt(dt,lt,pt,wt);return ji=null,kt}catch(Rt){if(Rt===Li||Rt===Ns)throw Rt;var Gt=Rr(29,Rt,null,dt.mode);return Gt.lanes=wt,Gt.return=dt,Gt}}}var bi=Uc(!0),Hc=Uc(!1),Bn=!1;function cl(J){J.updateQueue={baseState:J.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fl(J,te){J=J.updateQueue,te.updateQueue===J&&(te.updateQueue={baseState:J.baseState,firstBaseUpdate:J.firstBaseUpdate,lastBaseUpdate:J.lastBaseUpdate,shared:J.shared,callbacks:null})}function Fn(J){return{lane:J,tag:0,payload:null,callback:null,next:null}}function zn(J,te,ae){var de=J.updateQueue;if(de===null)return null;if(de=de.shared,(Zt&2)!==0){var xe=de.pending;return xe===null?te.next=te:(te.next=xe.next,xe.next=te),de.pending=te,te=Ss(J),Ec(J,null,ae),te}return ws(J,de,te,ae),Ss(J)}function Aa(J,te,ae){if(te=te.updateQueue,te!==null&&(te=te.shared,(ae&4194048)!==0)){var de=te.lanes;de&=J.pendingLanes,ae|=de,te.lanes=ae,is(J,ae)}}function dl(J,te){var ae=J.updateQueue,de=J.alternate;if(de!==null&&(de=de.updateQueue,ae===de)){var xe=null,Ee=null;if(ae=ae.firstBaseUpdate,ae!==null){do{var Be={lane:ae.lane,tag:ae.tag,payload:ae.payload,callback:null,next:null};Ee===null?xe=Ee=Be:Ee=Ee.next=Be,ae=ae.next}while(ae!==null);Ee===null?xe=Ee=te:Ee=Ee.next=te}else xe=Ee=te;ae={baseState:de.baseState,firstBaseUpdate:xe,lastBaseUpdate:Ee,shared:de.shared,callbacks:de.callbacks},J.updateQueue=ae;return}J=ae.lastBaseUpdate,J===null?ae.firstBaseUpdate=te:J.next=te,ae.lastBaseUpdate=te}var hl=!1;function Ta(){if(hl){var J=zi;if(J!==null)throw J}}function Na(J,te,ae,de){hl=!1;var xe=J.updateQueue;Bn=!1;var Ee=xe.firstBaseUpdate,Be=xe.lastBaseUpdate,Ye=xe.shared.pending;if(Ye!==null){xe.shared.pending=null;var ot=Ye,gt=ot.next;ot.next=null,Be===null?Ee=gt:Be.next=gt,Be=ot;var yt=J.alternate;yt!==null&&(yt=yt.updateQueue,Ye=yt.lastBaseUpdate,Ye!==Be&&(Ye===null?yt.firstBaseUpdate=gt:Ye.next=gt,yt.lastBaseUpdate=ot))}if(Ee!==null){var St=xe.baseState;Be=0,yt=gt=ot=null,Ye=Ee;do{var vt=Ye.lane&-536870913,_t=vt!==Ye.lane;if(_t?(jt&vt)===vt:(de&vt)===vt){vt!==0&&vt===Fi&&(hl=!0),yt!==null&&(yt=yt.next={lane:0,tag:Ye.tag,payload:Ye.payload,callback:null,next:null});e:{var Nt=J,Ot=Ye;vt=te;var Qt=ae;switch(Ot.tag){case 1:if(Nt=Ot.payload,typeof Nt=="function"){St=Nt.call(Qt,St,vt);break e}St=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Ot.payload,vt=typeof Nt=="function"?Nt.call(Qt,St,vt):Nt,vt==null)break e;St=Z({},St,vt);break e;case 2:Bn=!0}}vt=Ye.callback,vt!==null&&(J.flags|=64,_t&&(J.flags|=8192),_t=xe.callbacks,_t===null?xe.callbacks=[vt]:_t.push(vt))}else _t={lane:vt,tag:Ye.tag,payload:Ye.payload,callback:Ye.callback,next:null},yt===null?(gt=yt=_t,ot=St):yt=yt.next=_t,Be|=vt;if(Ye=Ye.next,Ye===null){if(Ye=xe.shared.pending,Ye===null)break;_t=Ye,Ye=_t.next,_t.next=null,xe.lastBaseUpdate=_t,xe.shared.pending=null}}while(!0);yt===null&&(ot=St),xe.baseState=ot,xe.firstBaseUpdate=gt,xe.lastBaseUpdate=yt,Ee===null&&(xe.shared.lanes=0),qn|=Be,J.lanes=Be,J.memoizedState=St}}function qc(J,te){if(typeof J!="function")throw Error(I(191,J));J.call(te)}function Gc(J,te){var ae=J.callbacks;if(ae!==null)for(J.callbacks=null,J=0;J<ae.length;J++)qc(ae[J],te)}var Ui=Te(null),ks=Te(0);function Vc(J,te){J=Cn,Se(ks,J),Se(Ui,te),Cn=J|te.baseLanes}function ml(){Se(ks,Cn),Se(Ui,Ui.current)}function pl(){Cn=ks.current,Re(Ui),Re(ks)}var Dr=Te(null),Wr=null;function Ln(J){var te=J.alternate;Se(ar,ar.current&1),Se(Dr,J),Wr===null&&(te===null||Ui.current!==null||te.memoizedState!==null)&&(Wr=J)}function gl(J){Se(ar,ar.current),Se(Dr,J),Wr===null&&(Wr=J)}function Zc(J){J.tag===22?(Se(ar,ar.current),Se(Dr,J),Wr===null&&(Wr=J)):jn()}function jn(){Se(ar,ar.current),Se(Dr,Dr.current)}function Or(J){Re(Dr),Wr===J&&(Wr=null),Re(ar)}var ar=Te(0);function Os(J){for(var te=J;te!==null;){if(te.tag===13){var ae=te.memoizedState;if(ae!==null&&(ae=ae.dehydrated,ae===null||wu(ae)||Su(ae)))return te}else if(te.tag===19&&(te.memoizedProps.revealOrder==="forwards"||te.memoizedProps.revealOrder==="backwards"||te.memoizedProps.revealOrder==="unstable_legacy-backwards"||te.memoizedProps.revealOrder==="together")){if((te.flags&128)!==0)return te}else if(te.child!==null){te.child.return=te,te=te.child;continue}if(te===J)break;for(;te.sibling===null;){if(te.return===null||te.return===J)return null;te=te.return}te.sibling.return=te.return,te=te.sibling}return null}var vn=0,It=null,Xt=null,cr=null,Ps=!1,Hi=!1,xi=!1,Is=0,Ma=0,qi=null,Fm=0;function nr(){throw Error(I(321))}function vl(J,te){if(te===null)return!1;for(var ae=0;ae<te.length&&ae<J.length;ae++)if(!Mr(J[ae],te[ae]))return!1;return!0}function _l(J,te,ae,de,xe,Ee){return vn=Ee,It=te,te.memoizedState=null,te.updateQueue=null,te.lanes=0,be.H=J===null||J.memoizedState===null?Rf:kl,xi=!1,Ee=ae(de,xe),xi=!1,Hi&&(Ee=Yc(te,ae,de,xe)),Wc(J),Ee}function Wc(J){be.H=Oa;var te=Xt!==null&&Xt.next!==null;if(vn=0,cr=Xt=It=null,Ps=!1,Ma=0,qi=null,te)throw Error(I(300));J===null||fr||(J=J.dependencies,J!==null&&$s(J)&&(fr=!0))}function Yc(J,te,ae,de){It=J;var xe=0;do{if(Hi&&(qi=null),Ma=0,Hi=!1,25<=xe)throw Error(I(301));if(xe+=1,cr=Xt=null,J.updateQueue!=null){var Ee=J.updateQueue;Ee.lastEffect=null,Ee.events=null,Ee.stores=null,Ee.memoCache!=null&&(Ee.memoCache.index=0)}be.H=Df,Ee=te(ae,de)}while(Hi);return Ee}function zm(){var J=be.H,te=J.useState()[0];return te=typeof te.then=="function"?Ra(te):te,J=J.useState()[0],(Xt!==null?Xt.memoizedState:null)!==J&&(It.flags|=1024),te}function yl(){var J=Is!==0;return Is=0,J}function bl(J,te,ae){te.updateQueue=J.updateQueue,te.flags&=-2053,J.lanes&=~ae}function xl(J){if(Ps){for(J=J.memoizedState;J!==null;){var te=J.queue;te!==null&&(te.pending=null),J=J.next}Ps=!1}vn=0,cr=Xt=It=null,Hi=!1,Ma=Is=0,qi=null}function wr(){var J={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?It.memoizedState=cr=J:cr=cr.next=J,cr}function sr(){if(Xt===null){var J=It.alternate;J=J!==null?J.memoizedState:null}else J=Xt.next;var te=cr===null?It.memoizedState:cr.next;if(te!==null)cr=te,Xt=J;else{if(J===null)throw It.alternate===null?Error(I(467)):Error(I(310));Xt=J,J={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},cr===null?It.memoizedState=cr=J:cr=cr.next=J}return cr}function Bs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ra(J){var te=Ma;return Ma+=1,qi===null&&(qi=[]),J=zc(qi,J,te),te=It,(cr===null?te.memoizedState:cr.next)===null&&(te=te.alternate,be.H=te===null||te.memoizedState===null?Rf:kl),J}function Fs(J){if(J!==null&&typeof J=="object"){if(typeof J.then=="function")return Ra(J);if(J.$$typeof===le)return vr(J)}throw Error(I(438,String(J)))}function wl(J){var te=null,ae=It.updateQueue;if(ae!==null&&(te=ae.memoCache),te==null){var de=It.alternate;de!==null&&(de=de.updateQueue,de!==null&&(de=de.memoCache,de!=null&&(te={data:de.data.map(function(xe){return xe.slice()}),index:0})))}if(te==null&&(te={data:[],index:0}),ae===null&&(ae=Bs(),It.updateQueue=ae),ae.memoCache=te,ae=te.data[te.index],ae===void 0)for(ae=te.data[te.index]=Array(J),de=0;de<J;de++)ae[de]=ge;return te.index++,ae}function _n(J,te){return typeof te=="function"?te(J):te}function zs(J){var te=sr();return Sl(te,Xt,J)}function Sl(J,te,ae){var de=J.queue;if(de===null)throw Error(I(311));de.lastRenderedReducer=ae;var xe=J.baseQueue,Ee=de.pending;if(Ee!==null){if(xe!==null){var Be=xe.next;xe.next=Ee.next,Ee.next=Be}te.baseQueue=xe=Ee,de.pending=null}if(Ee=J.baseState,xe===null)J.memoizedState=Ee;else{te=xe.next;var Ye=Be=null,ot=null,gt=te,yt=!1;do{var St=gt.lane&-536870913;if(St!==gt.lane?(jt&St)===St:(vn&St)===St){var vt=gt.revertLane;if(vt===0)ot!==null&&(ot=ot.next={lane:0,revertLane:0,gesture:null,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null}),St===Fi&&(yt=!0);else if((vn&vt)===vt){gt=gt.next,vt===Fi&&(yt=!0);continue}else St={lane:0,revertLane:gt.revertLane,gesture:null,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},ot===null?(Ye=ot=St,Be=Ee):ot=ot.next=St,It.lanes|=vt,qn|=vt;St=gt.action,xi&&ae(Ee,St),Ee=gt.hasEagerState?gt.eagerState:ae(Ee,St)}else vt={lane:St,revertLane:gt.revertLane,gesture:gt.gesture,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},ot===null?(Ye=ot=vt,Be=Ee):ot=ot.next=vt,It.lanes|=St,qn|=St;gt=gt.next}while(gt!==null&&gt!==te);if(ot===null?Be=Ee:ot.next=Ye,!Mr(Ee,J.memoizedState)&&(fr=!0,yt&&(ae=zi,ae!==null)))throw ae;J.memoizedState=Ee,J.baseState=Be,J.baseQueue=ot,de.lastRenderedState=Ee}return xe===null&&(de.lanes=0),[J.memoizedState,de.dispatch]}function El(J){var te=sr(),ae=te.queue;if(ae===null)throw Error(I(311));ae.lastRenderedReducer=J;var de=ae.dispatch,xe=ae.pending,Ee=te.memoizedState;if(xe!==null){ae.pending=null;var Be=xe=xe.next;do Ee=J(Ee,Be.action),Be=Be.next;while(Be!==xe);Mr(Ee,te.memoizedState)||(fr=!0),te.memoizedState=Ee,te.baseQueue===null&&(te.baseState=Ee),ae.lastRenderedState=Ee}return[Ee,de]}function Xc(J,te,ae){var de=It,xe=sr(),Ee=Ht;if(Ee){if(ae===void 0)throw Error(I(407));ae=ae()}else ae=te();var Be=!Mr((Xt||xe).memoizedState,ae);if(Be&&(xe.memoizedState=ae,fr=!0),xe=xe.queue,Al(Jc.bind(null,de,xe,J),[J]),xe.getSnapshot!==te||Be||cr!==null&&cr.memoizedState.tag&1){if(de.flags|=2048,Gi(9,{destroy:void 0},Qc.bind(null,de,xe,ae,te),null),Jt===null)throw Error(I(349));Ee||(vn&127)!==0||Kc(de,te,ae)}return ae}function Kc(J,te,ae){J.flags|=16384,J={getSnapshot:te,value:ae},te=It.updateQueue,te===null?(te=Bs(),It.updateQueue=te,te.stores=[J]):(ae=te.stores,ae===null?te.stores=[J]:ae.push(J))}function Qc(J,te,ae,de){te.value=ae,te.getSnapshot=de,ef(te)&&tf(J)}function Jc(J,te,ae){return ae(function(){ef(te)&&tf(J)})}function ef(J){var te=J.getSnapshot;J=J.value;try{var ae=te();return!Mr(J,ae)}catch{return!0}}function tf(J){var te=ci(J,2);te!==null&&Tr(te,J,2)}function Cl(J){var te=wr();if(typeof J=="function"){var ae=J;if(J=ae(),xi){At(!0);try{ae()}finally{At(!1)}}}return te.memoizedState=te.baseState=J,te.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:J},te}function rf(J,te,ae,de){return J.baseState=ae,Sl(J,Xt,typeof de=="function"?de:_n)}function Lm(J,te,ae,de,xe){if(Us(J))throw Error(I(485));if(J=te.action,J!==null){var Ee={payload:xe,action:J,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Be){Ee.listeners.push(Be)}};be.T!==null?ae(!0):Ee.isTransition=!1,de(Ee),ae=te.pending,ae===null?(Ee.next=te.pending=Ee,nf(te,Ee)):(Ee.next=ae.next,te.pending=ae.next=Ee)}}function nf(J,te){var ae=te.action,de=te.payload,xe=J.state;if(te.isTransition){var Ee=be.T,Be={};be.T=Be;try{var Ye=ae(xe,de),ot=be.S;ot!==null&&ot(Be,Ye),af(J,te,Ye)}catch(gt){$l(J,te,gt)}finally{Ee!==null&&Be.types!==null&&(Ee.types=Be.types),be.T=Ee}}else try{Ee=ae(xe,de),af(J,te,Ee)}catch(gt){$l(J,te,gt)}}function af(J,te,ae){ae!==null&&typeof ae=="object"&&typeof ae.then=="function"?ae.then(function(de){sf(J,te,de)},function(de){return $l(J,te,de)}):sf(J,te,ae)}function sf(J,te,ae){te.status="fulfilled",te.value=ae,of(te),J.state=ae,te=J.pending,te!==null&&(ae=te.next,ae===te?J.pending=null:(ae=ae.next,te.next=ae,nf(J,ae)))}function $l(J,te,ae){var de=J.pending;if(J.pending=null,de!==null){de=de.next;do te.status="rejected",te.reason=ae,of(te),te=te.next;while(te!==de)}J.action=null}function of(J){J=J.listeners;for(var te=0;te<J.length;te++)(0,J[te])()}function lf(J,te){return te}function uf(J,te){if(Ht){var ae=Jt.formState;if(ae!==null){e:{var de=It;if(Ht){if(er){t:{for(var xe=er,Ee=Zr;xe.nodeType!==8;){if(!Ee){xe=null;break t}if(xe=Yr(xe.nextSibling),xe===null){xe=null;break t}}Ee=xe.data,xe=Ee==="F!"||Ee==="F"?xe:null}if(xe){er=Yr(xe.nextSibling),de=xe.data==="F!";break e}}Pn(de)}de=!1}de&&(te=ae[0])}}return ae=wr(),ae.memoizedState=ae.baseState=te,de={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lf,lastRenderedState:te},ae.queue=de,ae=Tf.bind(null,It,de),de.dispatch=ae,de=Cl(!1),Ee=Dl.bind(null,It,!1,de.queue),de=wr(),xe={state:te,dispatch:null,action:J,pending:null},de.queue=xe,ae=Lm.bind(null,It,xe,Ee,ae),xe.dispatch=ae,de.memoizedState=J,[te,ae,!1]}function cf(J){var te=sr();return ff(te,Xt,J)}function ff(J,te,ae){if(te=Sl(J,te,lf)[0],J=zs(_n)[0],typeof te=="object"&&te!==null&&typeof te.then=="function")try{var de=Ra(te)}catch(Be){throw Be===Li?Ns:Be}else de=te;te=sr();var xe=te.queue,Ee=xe.dispatch;return ae!==te.memoizedState&&(It.flags|=2048,Gi(9,{destroy:void 0},jm.bind(null,xe,ae),null)),[de,Ee,J]}function jm(J,te){J.action=te}function df(J){var te=sr(),ae=Xt;if(ae!==null)return ff(te,ae,J);sr(),te=te.memoizedState,ae=sr();var de=ae.queue.dispatch;return ae.memoizedState=J,[te,de,!1]}function Gi(J,te,ae,de){return J={tag:J,create:ae,deps:de,inst:te,next:null},te=It.updateQueue,te===null&&(te=Bs(),It.updateQueue=te),ae=te.lastEffect,ae===null?te.lastEffect=J.next=J:(de=ae.next,ae.next=J,J.next=de,te.lastEffect=J),J}function hf(){return sr().memoizedState}function Ls(J,te,ae,de){var xe=wr();It.flags|=J,xe.memoizedState=Gi(1|te,{destroy:void 0},ae,de===void 0?null:de)}function js(J,te,ae,de){var xe=sr();de=de===void 0?null:de;var Ee=xe.memoizedState.inst;Xt!==null&&de!==null&&vl(de,Xt.memoizedState.deps)?xe.memoizedState=Gi(te,Ee,ae,de):(It.flags|=J,xe.memoizedState=Gi(1|te,Ee,ae,de))}function mf(J,te){Ls(8390656,8,J,te)}function Al(J,te){js(2048,8,J,te)}function Um(J){It.flags|=4;var te=It.updateQueue;if(te===null)te=Bs(),It.updateQueue=te,te.events=[J];else{var ae=te.events;ae===null?te.events=[J]:ae.push(J)}}function pf(J){var te=sr().memoizedState;return Um({ref:te,nextImpl:J}),function(){if((Zt&2)!==0)throw Error(I(440));return te.impl.apply(void 0,arguments)}}function gf(J,te){return js(4,2,J,te)}function vf(J,te){return js(4,4,J,te)}function _f(J,te){if(typeof te=="function"){J=J();var ae=te(J);return function(){typeof ae=="function"?ae():te(null)}}if(te!=null)return J=J(),te.current=J,function(){te.current=null}}function yf(J,te,ae){ae=ae!=null?ae.concat([J]):null,js(4,4,_f.bind(null,te,J),ae)}function Tl(){}function bf(J,te){var ae=sr();te=te===void 0?null:te;var de=ae.memoizedState;return te!==null&&vl(te,de[1])?de[0]:(ae.memoizedState=[J,te],J)}function xf(J,te){var ae=sr();te=te===void 0?null:te;var de=ae.memoizedState;if(te!==null&&vl(te,de[1]))return de[0];if(de=J(),xi){At(!0);try{J()}finally{At(!1)}}return ae.memoizedState=[de,te],de}function Nl(J,te,ae){return ae===void 0||(vn&1073741824)!==0&&(jt&261930)===0?J.memoizedState=te:(J.memoizedState=ae,J=Sd(),It.lanes|=J,qn|=J,ae)}function wf(J,te,ae,de){return Mr(ae,te)?ae:Ui.current!==null?(J=Nl(J,ae,de),Mr(J,te)||(fr=!0),J):(vn&42)===0||(vn&1073741824)!==0&&(jt&261930)===0?(fr=!0,J.memoizedState=ae):(J=Sd(),It.lanes|=J,qn|=J,te)}function Sf(J,te,ae,de,xe){var Ee=Ce.p;Ce.p=Ee!==0&&8>Ee?Ee:8;var Be=be.T,Ye={};be.T=Ye,Dl(J,!1,te,ae);try{var ot=xe(),gt=be.S;if(gt!==null&&gt(Ye,ot),ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var yt=Bm(ot,de);Da(J,te,yt,Br(J))}else Da(J,te,de,Br(J))}catch(St){Da(J,te,{then:function(){},status:"rejected",reason:St},Br())}finally{Ce.p=Ee,Be!==null&&Ye.types!==null&&(Be.types=Ye.types),be.T=Be}}function Hm(){}function Ml(J,te,ae,de){if(J.tag!==5)throw Error(I(476));var xe=Ef(J).queue;Sf(J,xe,te,De,ae===null?Hm:function(){return Cf(J),ae(de)})}function Ef(J){var te=J.memoizedState;if(te!==null)return te;te={memoizedState:De,baseState:De,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:De},next:null};var ae={};return te.next={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:ae},next:null},J.memoizedState=te,J=J.alternate,J!==null&&(J.memoizedState=te),te}function Cf(J){var te=Ef(J);te.next===null&&(te=J.alternate.memoizedState),Da(J,te.next.queue,{},Br())}function Rl(){return vr(Xa)}function $f(){return sr().memoizedState}function Af(){return sr().memoizedState}function qm(J){for(var te=J.return;te!==null;){switch(te.tag){case 24:case 3:var ae=Br();J=Fn(ae);var de=zn(te,J,ae);de!==null&&(Tr(de,te,ae),Aa(de,te,ae)),te={cache:sl()},J.payload=te;return}te=te.return}}function Gm(J,te,ae){var de=Br();ae={lane:de,revertLane:0,gesture:null,action:ae,hasEagerState:!1,eagerState:null,next:null},Us(J)?Nf(te,ae):(ae=Yo(J,te,ae,de),ae!==null&&(Tr(ae,J,de),Mf(ae,te,de)))}function Tf(J,te,ae){var de=Br();Da(J,te,ae,de)}function Da(J,te,ae,de){var xe={lane:de,revertLane:0,gesture:null,action:ae,hasEagerState:!1,eagerState:null,next:null};if(Us(J))Nf(te,xe);else{var Ee=J.alternate;if(J.lanes===0&&(Ee===null||Ee.lanes===0)&&(Ee=te.lastRenderedReducer,Ee!==null))try{var Be=te.lastRenderedState,Ye=Ee(Be,ae);if(xe.hasEagerState=!0,xe.eagerState=Ye,Mr(Ye,Be))return ws(J,te,xe,0),Jt===null&&xs(),!1}catch{}if(ae=Yo(J,te,xe,de),ae!==null)return Tr(ae,J,de),Mf(ae,te,de),!0}return!1}function Dl(J,te,ae,de){if(de={lane:2,revertLane:cu(),gesture:null,action:de,hasEagerState:!1,eagerState:null,next:null},Us(J)){if(te)throw Error(I(479))}else te=Yo(J,ae,de,2),te!==null&&Tr(te,J,2)}function Us(J){var te=J.alternate;return J===It||te!==null&&te===It}function Nf(J,te){Hi=Ps=!0;var ae=J.pending;ae===null?te.next=te:(te.next=ae.next,ae.next=te),J.pending=te}function Mf(J,te,ae){if((ae&4194048)!==0){var de=te.lanes;de&=J.pendingLanes,ae|=de,te.lanes=ae,is(J,ae)}}var Oa={readContext:vr,use:Fs,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useLayoutEffect:nr,useInsertionEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useSyncExternalStore:nr,useId:nr,useHostTransitionStatus:nr,useFormState:nr,useActionState:nr,useOptimistic:nr,useMemoCache:nr,useCacheRefresh:nr};Oa.useEffectEvent=nr;var Rf={readContext:vr,use:Fs,useCallback:function(J,te){return wr().memoizedState=[J,te===void 0?null:te],J},useContext:vr,useEffect:mf,useImperativeHandle:function(J,te,ae){ae=ae!=null?ae.concat([J]):null,Ls(4194308,4,_f.bind(null,te,J),ae)},useLayoutEffect:function(J,te){return Ls(4194308,4,J,te)},useInsertionEffect:function(J,te){Ls(4,2,J,te)},useMemo:function(J,te){var ae=wr();te=te===void 0?null:te;var de=J();if(xi){At(!0);try{J()}finally{At(!1)}}return ae.memoizedState=[de,te],de},useReducer:function(J,te,ae){var de=wr();if(ae!==void 0){var xe=ae(te);if(xi){At(!0);try{ae(te)}finally{At(!1)}}}else xe=te;return de.memoizedState=de.baseState=xe,J={pending:null,lanes:0,dispatch:null,lastRenderedReducer:J,lastRenderedState:xe},de.queue=J,J=J.dispatch=Gm.bind(null,It,J),[de.memoizedState,J]},useRef:function(J){var te=wr();return J={current:J},te.memoizedState=J},useState:function(J){J=Cl(J);var te=J.queue,ae=Tf.bind(null,It,te);return te.dispatch=ae,[J.memoizedState,ae]},useDebugValue:Tl,useDeferredValue:function(J,te){var ae=wr();return Nl(ae,J,te)},useTransition:function(){var J=Cl(!1);return J=Sf.bind(null,It,J.queue,!0,!1),wr().memoizedState=J,[!1,J]},useSyncExternalStore:function(J,te,ae){var de=It,xe=wr();if(Ht){if(ae===void 0)throw Error(I(407));ae=ae()}else{if(ae=te(),Jt===null)throw Error(I(349));(jt&127)!==0||Kc(de,te,ae)}xe.memoizedState=ae;var Ee={value:ae,getSnapshot:te};return xe.queue=Ee,mf(Jc.bind(null,de,Ee,J),[J]),de.flags|=2048,Gi(9,{destroy:void 0},Qc.bind(null,de,Ee,ae,te),null),ae},useId:function(){var J=wr(),te=Jt.identifierPrefix;if(Ht){var ae=nn,de=rn;ae=(de&~(1<<32-Ct(de)-1)).toString(32)+ae,te="_"+te+"R_"+ae,ae=Is++,0<ae&&(te+="H"+ae.toString(32)),te+="_"}else ae=Fm++,te="_"+te+"r_"+ae.toString(32)+"_";return J.memoizedState=te},useHostTransitionStatus:Rl,useFormState:uf,useActionState:uf,useOptimistic:function(J){var te=wr();te.memoizedState=te.baseState=J;var ae={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return te.queue=ae,te=Dl.bind(null,It,!0,ae),ae.dispatch=te,[J,te]},useMemoCache:wl,useCacheRefresh:function(){return wr().memoizedState=qm.bind(null,It)},useEffectEvent:function(J){var te=wr(),ae={impl:J};return te.memoizedState=ae,function(){if((Zt&2)!==0)throw Error(I(440));return ae.impl.apply(void 0,arguments)}}},kl={readContext:vr,use:Fs,useCallback:bf,useContext:vr,useEffect:Al,useImperativeHandle:yf,useInsertionEffect:gf,useLayoutEffect:vf,useMemo:xf,useReducer:zs,useRef:hf,useState:function(){return zs(_n)},useDebugValue:Tl,useDeferredValue:function(J,te){var ae=sr();return wf(ae,Xt.memoizedState,J,te)},useTransition:function(){var J=zs(_n)[0],te=sr().memoizedState;return[typeof J=="boolean"?J:Ra(J),te]},useSyncExternalStore:Xc,useId:$f,useHostTransitionStatus:Rl,useFormState:cf,useActionState:cf,useOptimistic:function(J,te){var ae=sr();return rf(ae,Xt,J,te)},useMemoCache:wl,useCacheRefresh:Af};kl.useEffectEvent=pf;var Df={readContext:vr,use:Fs,useCallback:bf,useContext:vr,useEffect:Al,useImperativeHandle:yf,useInsertionEffect:gf,useLayoutEffect:vf,useMemo:xf,useReducer:El,useRef:hf,useState:function(){return El(_n)},useDebugValue:Tl,useDeferredValue:function(J,te){var ae=sr();return Xt===null?Nl(ae,J,te):wf(ae,Xt.memoizedState,J,te)},useTransition:function(){var J=El(_n)[0],te=sr().memoizedState;return[typeof J=="boolean"?J:Ra(J),te]},useSyncExternalStore:Xc,useId:$f,useHostTransitionStatus:Rl,useFormState:df,useActionState:df,useOptimistic:function(J,te){var ae=sr();return Xt!==null?rf(ae,Xt,J,te):(ae.baseState=J,[J,ae.queue.dispatch])},useMemoCache:wl,useCacheRefresh:Af};Df.useEffectEvent=pf;function Ol(J,te,ae,de){te=J.memoizedState,ae=ae(de,te),ae=ae==null?te:Z({},te,ae),J.memoizedState=ae,J.lanes===0&&(J.updateQueue.baseState=ae)}var Pl={enqueueSetState:function(J,te,ae){J=J._reactInternals;var de=Br(),xe=Fn(de);xe.payload=te,ae!=null&&(xe.callback=ae),te=zn(J,xe,de),te!==null&&(Tr(te,J,de),Aa(te,J,de))},enqueueReplaceState:function(J,te,ae){J=J._reactInternals;var de=Br(),xe=Fn(de);xe.tag=1,xe.payload=te,ae!=null&&(xe.callback=ae),te=zn(J,xe,de),te!==null&&(Tr(te,J,de),Aa(te,J,de))},enqueueForceUpdate:function(J,te){J=J._reactInternals;var ae=Br(),de=Fn(ae);de.tag=2,te!=null&&(de.callback=te),te=zn(J,de,ae),te!==null&&(Tr(te,J,ae),Aa(te,J,ae))}};function kf(J,te,ae,de,xe,Ee,Be){return J=J.stateNode,typeof J.shouldComponentUpdate=="function"?J.shouldComponentUpdate(de,Ee,Be):te.prototype&&te.prototype.isPureReactComponent?!ya(ae,de)||!ya(xe,Ee):!0}function Of(J,te,ae,de){J=te.state,typeof te.componentWillReceiveProps=="function"&&te.componentWillReceiveProps(ae,de),typeof te.UNSAFE_componentWillReceiveProps=="function"&&te.UNSAFE_componentWillReceiveProps(ae,de),te.state!==J&&Pl.enqueueReplaceState(te,te.state,null)}function wi(J,te){var ae=te;if("ref"in te){ae={};for(var de in te)de!=="ref"&&(ae[de]=te[de])}if(J=J.defaultProps){ae===te&&(ae=Z({},ae));for(var xe in J)ae[xe]===void 0&&(ae[xe]=J[xe])}return ae}function Pf(J){bs(J)}function If(J){console.error(J)}function Bf(J){bs(J)}function Hs(J,te){try{var ae=J.onUncaughtError;ae(te.value,{componentStack:te.stack})}catch(de){setTimeout(function(){throw de})}}function Ff(J,te,ae){try{var de=J.onCaughtError;de(ae.value,{componentStack:ae.stack,errorBoundary:te.tag===1?te.stateNode:null})}catch(xe){setTimeout(function(){throw xe})}}function Il(J,te,ae){return ae=Fn(ae),ae.tag=3,ae.payload={element:null},ae.callback=function(){Hs(J,te)},ae}function zf(J){return J=Fn(J),J.tag=3,J}function Lf(J,te,ae,de){var xe=ae.type.getDerivedStateFromError;if(typeof xe=="function"){var Ee=de.value;J.payload=function(){return xe(Ee)},J.callback=function(){Ff(te,ae,de)}}var Be=ae.stateNode;Be!==null&&typeof Be.componentDidCatch=="function"&&(J.callback=function(){Ff(te,ae,de),typeof xe!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var Ye=de.stack;this.componentDidCatch(de.value,{componentStack:Ye!==null?Ye:""})})}function Vm(J,te,ae,de,xe){if(ae.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){if(te=ae.alternate,te!==null&&Bi(te,ae,xe,!0),ae=Dr.current,ae!==null){switch(ae.tag){case 31:case 13:return Wr===null?ro():ae.alternate===null&&ir===0&&(ir=3),ae.flags&=-257,ae.flags|=65536,ae.lanes=xe,de===Ms?ae.flags|=16384:(te=ae.updateQueue,te===null?ae.updateQueue=new Set([de]):te.add(de),ou(J,de,xe)),!1;case 22:return ae.flags|=65536,de===Ms?ae.flags|=16384:(te=ae.updateQueue,te===null?(te={transitions:null,markerInstances:null,retryQueue:new Set([de])},ae.updateQueue=te):(ae=te.retryQueue,ae===null?te.retryQueue=new Set([de]):ae.add(de)),ou(J,de,xe)),!1}throw Error(I(435,ae.tag))}return ou(J,de,xe),ro(),!1}if(Ht)return te=Dr.current,te!==null?((te.flags&65536)===0&&(te.flags|=256),te.flags|=65536,te.lanes=xe,de!==tl&&(J=Error(I(422),{cause:de}),wa(Hr(J,ae)))):(de!==tl&&(te=Error(I(423),{cause:de}),wa(Hr(te,ae))),J=J.current.alternate,J.flags|=65536,xe&=-xe,J.lanes|=xe,de=Hr(de,ae),xe=Il(J.stateNode,de,xe),dl(J,xe),ir!==4&&(ir=2)),!1;var Ee=Error(I(520),{cause:de});if(Ee=Hr(Ee,ae),Ua===null?Ua=[Ee]:Ua.push(Ee),ir!==4&&(ir=2),te===null)return!0;de=Hr(de,ae),ae=te;do{switch(ae.tag){case 3:return ae.flags|=65536,J=xe&-xe,ae.lanes|=J,J=Il(ae.stateNode,de,J),dl(ae,J),!1;case 1:if(te=ae.type,Ee=ae.stateNode,(ae.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||Ee!==null&&typeof Ee.componentDidCatch=="function"&&(Gn===null||!Gn.has(Ee))))return ae.flags|=65536,xe&=-xe,ae.lanes|=xe,xe=zf(xe),Lf(xe,J,ae,de),dl(ae,xe),!1}ae=ae.return}while(ae!==null);return!1}var Bl=Error(I(461)),fr=!1;function _r(J,te,ae,de){te.child=J===null?Hc(te,null,ae,de):bi(te,J.child,ae,de)}function jf(J,te,ae,de,xe){ae=ae.render;var Ee=te.ref;if("ref"in de){var Be={};for(var Ye in de)Ye!=="ref"&&(Be[Ye]=de[Ye])}else Be=de;return mi(te),de=_l(J,te,ae,Be,Ee,xe),Ye=yl(),J!==null&&!fr?(bl(J,te,xe),yn(J,te,xe)):(Ht&&Ye&&Jo(te),te.flags|=1,_r(J,te,de,xe),te.child)}function Uf(J,te,ae,de,xe){if(J===null){var Ee=ae.type;return typeof Ee=="function"&&!Xo(Ee)&&Ee.defaultProps===void 0&&ae.compare===null?(te.tag=15,te.type=Ee,Hf(J,te,Ee,de,xe)):(J=Es(ae.type,null,de,te,te.mode,xe),J.ref=te.ref,J.return=te,te.child=J)}if(Ee=J.child,!Gl(J,xe)){var Be=Ee.memoizedProps;if(ae=ae.compare,ae=ae!==null?ae:ya,ae(Be,de)&&J.ref===te.ref)return yn(J,te,xe)}return te.flags|=1,J=hn(Ee,de),J.ref=te.ref,J.return=te,te.child=J}function Hf(J,te,ae,de,xe){if(J!==null){var Ee=J.memoizedProps;if(ya(Ee,de)&&J.ref===te.ref)if(fr=!1,te.pendingProps=de=Ee,Gl(J,xe))(J.flags&131072)!==0&&(fr=!0);else return te.lanes=J.lanes,yn(J,te,xe)}return Fl(J,te,ae,de,xe)}function qf(J,te,ae,de){var xe=de.children,Ee=J!==null?J.memoizedState:null;if(J===null&&te.stateNode===null&&(te.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),de.mode==="hidden"){if((te.flags&128)!==0){if(Ee=Ee!==null?Ee.baseLanes|ae:ae,J!==null){for(de=te.child=J.child,xe=0;de!==null;)xe=xe|de.lanes|de.childLanes,de=de.sibling;de=xe&~Ee}else de=0,te.child=null;return Gf(J,te,Ee,ae,de)}if((ae&536870912)!==0)te.memoizedState={baseLanes:0,cachePool:null},J!==null&&Ts(te,Ee!==null?Ee.cachePool:null),Ee!==null?Vc(te,Ee):ml(),Zc(te);else return de=te.lanes=536870912,Gf(J,te,Ee!==null?Ee.baseLanes|ae:ae,ae,de)}else Ee!==null?(Ts(te,Ee.cachePool),Vc(te,Ee),jn(),te.memoizedState=null):(J!==null&&Ts(te,null),ml(),jn());return _r(J,te,xe,ae),te.child}function Pa(J,te){return J!==null&&J.tag===22||te.stateNode!==null||(te.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),te.sibling}function Gf(J,te,ae,de,xe){var Ee=ll();return Ee=Ee===null?null:{parent:ur._currentValue,pool:Ee},te.memoizedState={baseLanes:ae,cachePool:Ee},J!==null&&Ts(te,null),ml(),Zc(te),J!==null&&Bi(J,te,de,!0),te.childLanes=xe,null}function qs(J,te){return te=Vs({mode:te.mode,children:te.children},J.mode),te.ref=J.ref,J.child=te,te.return=J,te}function Vf(J,te,ae){return bi(te,J.child,null,ae),J=qs(te,te.pendingProps),J.flags|=2,Or(te),te.memoizedState=null,J}function Zm(J,te,ae){var de=te.pendingProps,xe=(te.flags&128)!==0;if(te.flags&=-129,J===null){if(Ht){if(de.mode==="hidden")return J=qs(te,de),te.lanes=536870912,Pa(null,J);if(gl(te),(J=er)?(J=ah(J,Zr),J=J!==null&&J.data==="&"?J:null,J!==null&&(te.memoizedState={dehydrated:J,treeContext:kn!==null?{id:rn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},ae=$c(J),ae.return=te,te.child=ae,gr=te,er=null)):J=null,J===null)throw Pn(te);return te.lanes=536870912,null}return qs(te,de)}var Ee=J.memoizedState;if(Ee!==null){var Be=Ee.dehydrated;if(gl(te),xe)if(te.flags&256)te.flags&=-257,te=Vf(J,te,ae);else if(te.memoizedState!==null)te.child=J.child,te.flags|=128,te=null;else throw Error(I(558));else if(fr||Bi(J,te,ae,!1),xe=(ae&J.childLanes)!==0,fr||xe){if(de=Jt,de!==null&&(Be=as(de,ae),Be!==0&&Be!==Ee.retryLane))throw Ee.retryLane=Be,ci(J,Be),Tr(de,J,Be),Bl;ro(),te=Vf(J,te,ae)}else J=Ee.treeContext,er=Yr(Be.nextSibling),gr=te,Ht=!0,On=null,Zr=!1,J!==null&&Mc(te,J),te=qs(te,de),te.flags|=4096;return te}return J=hn(J.child,{mode:de.mode,children:de.children}),J.ref=te.ref,te.child=J,J.return=te,J}function Gs(J,te){var ae=te.ref;if(ae===null)J!==null&&J.ref!==null&&(te.flags|=4194816);else{if(typeof ae!="function"&&typeof ae!="object")throw Error(I(284));(J===null||J.ref!==ae)&&(te.flags|=4194816)}}function Fl(J,te,ae,de,xe){return mi(te),ae=_l(J,te,ae,de,void 0,xe),de=yl(),J!==null&&!fr?(bl(J,te,xe),yn(J,te,xe)):(Ht&&de&&Jo(te),te.flags|=1,_r(J,te,ae,xe),te.child)}function Zf(J,te,ae,de,xe,Ee){return mi(te),te.updateQueue=null,ae=Yc(te,de,ae,xe),Wc(J),de=yl(),J!==null&&!fr?(bl(J,te,Ee),yn(J,te,Ee)):(Ht&&de&&Jo(te),te.flags|=1,_r(J,te,ae,Ee),te.child)}function Wf(J,te,ae,de,xe){if(mi(te),te.stateNode===null){var Ee=ki,Be=ae.contextType;typeof Be=="object"&&Be!==null&&(Ee=vr(Be)),Ee=new ae(de,Ee),te.memoizedState=Ee.state!==null&&Ee.state!==void 0?Ee.state:null,Ee.updater=Pl,te.stateNode=Ee,Ee._reactInternals=te,Ee=te.stateNode,Ee.props=de,Ee.state=te.memoizedState,Ee.refs={},cl(te),Be=ae.contextType,Ee.context=typeof Be=="object"&&Be!==null?vr(Be):ki,Ee.state=te.memoizedState,Be=ae.getDerivedStateFromProps,typeof Be=="function"&&(Ol(te,ae,Be,de),Ee.state=te.memoizedState),typeof ae.getDerivedStateFromProps=="function"||typeof Ee.getSnapshotBeforeUpdate=="function"||typeof Ee.UNSAFE_componentWillMount!="function"&&typeof Ee.componentWillMount!="function"||(Be=Ee.state,typeof Ee.componentWillMount=="function"&&Ee.componentWillMount(),typeof Ee.UNSAFE_componentWillMount=="function"&&Ee.UNSAFE_componentWillMount(),Be!==Ee.state&&Pl.enqueueReplaceState(Ee,Ee.state,null),Na(te,de,Ee,xe),Ta(),Ee.state=te.memoizedState),typeof Ee.componentDidMount=="function"&&(te.flags|=4194308),de=!0}else if(J===null){Ee=te.stateNode;var Ye=te.memoizedProps,ot=wi(ae,Ye);Ee.props=ot;var gt=Ee.context,yt=ae.contextType;Be=ki,typeof yt=="object"&&yt!==null&&(Be=vr(yt));var St=ae.getDerivedStateFromProps;yt=typeof St=="function"||typeof Ee.getSnapshotBeforeUpdate=="function",Ye=te.pendingProps!==Ye,yt||typeof Ee.UNSAFE_componentWillReceiveProps!="function"&&typeof Ee.componentWillReceiveProps!="function"||(Ye||gt!==Be)&&Of(te,Ee,de,Be),Bn=!1;var vt=te.memoizedState;Ee.state=vt,Na(te,de,Ee,xe),Ta(),gt=te.memoizedState,Ye||vt!==gt||Bn?(typeof St=="function"&&(Ol(te,ae,St,de),gt=te.memoizedState),(ot=Bn||kf(te,ae,ot,de,vt,gt,Be))?(yt||typeof Ee.UNSAFE_componentWillMount!="function"&&typeof Ee.componentWillMount!="function"||(typeof Ee.componentWillMount=="function"&&Ee.componentWillMount(),typeof Ee.UNSAFE_componentWillMount=="function"&&Ee.UNSAFE_componentWillMount()),typeof Ee.componentDidMount=="function"&&(te.flags|=4194308)):(typeof Ee.componentDidMount=="function"&&(te.flags|=4194308),te.memoizedProps=de,te.memoizedState=gt),Ee.props=de,Ee.state=gt,Ee.context=Be,de=ot):(typeof Ee.componentDidMount=="function"&&(te.flags|=4194308),de=!1)}else{Ee=te.stateNode,fl(J,te),Be=te.memoizedProps,yt=wi(ae,Be),Ee.props=yt,St=te.pendingProps,vt=Ee.context,gt=ae.contextType,ot=ki,typeof gt=="object"&&gt!==null&&(ot=vr(gt)),Ye=ae.getDerivedStateFromProps,(gt=typeof Ye=="function"||typeof Ee.getSnapshotBeforeUpdate=="function")||typeof Ee.UNSAFE_componentWillReceiveProps!="function"&&typeof Ee.componentWillReceiveProps!="function"||(Be!==St||vt!==ot)&&Of(te,Ee,de,ot),Bn=!1,vt=te.memoizedState,Ee.state=vt,Na(te,de,Ee,xe),Ta();var _t=te.memoizedState;Be!==St||vt!==_t||Bn||J!==null&&J.dependencies!==null&&$s(J.dependencies)?(typeof Ye=="function"&&(Ol(te,ae,Ye,de),_t=te.memoizedState),(yt=Bn||kf(te,ae,yt,de,vt,_t,ot)||J!==null&&J.dependencies!==null&&$s(J.dependencies))?(gt||typeof Ee.UNSAFE_componentWillUpdate!="function"&&typeof Ee.componentWillUpdate!="function"||(typeof Ee.componentWillUpdate=="function"&&Ee.componentWillUpdate(de,_t,ot),typeof Ee.UNSAFE_componentWillUpdate=="function"&&Ee.UNSAFE_componentWillUpdate(de,_t,ot)),typeof Ee.componentDidUpdate=="function"&&(te.flags|=4),typeof Ee.getSnapshotBeforeUpdate=="function"&&(te.flags|=1024)):(typeof Ee.componentDidUpdate!="function"||Be===J.memoizedProps&&vt===J.memoizedState||(te.flags|=4),typeof Ee.getSnapshotBeforeUpdate!="function"||Be===J.memoizedProps&&vt===J.memoizedState||(te.flags|=1024),te.memoizedProps=de,te.memoizedState=_t),Ee.props=de,Ee.state=_t,Ee.context=ot,de=yt):(typeof Ee.componentDidUpdate!="function"||Be===J.memoizedProps&&vt===J.memoizedState||(te.flags|=4),typeof Ee.getSnapshotBeforeUpdate!="function"||Be===J.memoizedProps&&vt===J.memoizedState||(te.flags|=1024),de=!1)}return Ee=de,Gs(J,te),de=(te.flags&128)!==0,Ee||de?(Ee=te.stateNode,ae=de&&typeof ae.getDerivedStateFromError!="function"?null:Ee.render(),te.flags|=1,J!==null&&de?(te.child=bi(te,J.child,null,xe),te.child=bi(te,null,ae,xe)):_r(J,te,ae,xe),te.memoizedState=Ee.state,J=te.child):J=yn(J,te,xe),J}function Yf(J,te,ae,de){return di(),te.flags|=256,_r(J,te,ae,de),te.child}var zl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ll(J){return{baseLanes:J,cachePool:Bc()}}function jl(J,te,ae){return J=J!==null?J.childLanes&~ae:0,te&&(J|=Ir),J}function Xf(J,te,ae){var de=te.pendingProps,xe=!1,Ee=(te.flags&128)!==0,Be;if((Be=Ee)||(Be=J!==null&&J.memoizedState===null?!1:(ar.current&2)!==0),Be&&(xe=!0,te.flags&=-129),Be=(te.flags&32)!==0,te.flags&=-33,J===null){if(Ht){if(xe?Ln(te):jn(),(J=er)?(J=ah(J,Zr),J=J!==null&&J.data!=="&"?J:null,J!==null&&(te.memoizedState={dehydrated:J,treeContext:kn!==null?{id:rn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},ae=$c(J),ae.return=te,te.child=ae,gr=te,er=null)):J=null,J===null)throw Pn(te);return Su(J)?te.lanes=32:te.lanes=536870912,null}var Ye=de.children;return de=de.fallback,xe?(jn(),xe=te.mode,Ye=Vs({mode:"hidden",children:Ye},xe),de=fi(de,xe,ae,null),Ye.return=te,de.return=te,Ye.sibling=de,te.child=Ye,de=te.child,de.memoizedState=Ll(ae),de.childLanes=jl(J,Be,ae),te.memoizedState=zl,Pa(null,de)):(Ln(te),Ul(te,Ye))}var ot=J.memoizedState;if(ot!==null&&(Ye=ot.dehydrated,Ye!==null)){if(Ee)te.flags&256?(Ln(te),te.flags&=-257,te=Hl(J,te,ae)):te.memoizedState!==null?(jn(),te.child=J.child,te.flags|=128,te=null):(jn(),Ye=de.fallback,xe=te.mode,de=Vs({mode:"visible",children:de.children},xe),Ye=fi(Ye,xe,ae,null),Ye.flags|=2,de.return=te,Ye.return=te,de.sibling=Ye,te.child=de,bi(te,J.child,null,ae),de=te.child,de.memoizedState=Ll(ae),de.childLanes=jl(J,Be,ae),te.memoizedState=zl,te=Pa(null,de));else if(Ln(te),Su(Ye)){if(Be=Ye.nextSibling&&Ye.nextSibling.dataset,Be)var gt=Be.dgst;Be=gt,de=Error(I(419)),de.stack="",de.digest=Be,wa({value:de,source:null,stack:null}),te=Hl(J,te,ae)}else if(fr||Bi(J,te,ae,!1),Be=(ae&J.childLanes)!==0,fr||Be){if(Be=Jt,Be!==null&&(de=as(Be,ae),de!==0&&de!==ot.retryLane))throw ot.retryLane=de,ci(J,de),Tr(Be,J,de),Bl;wu(Ye)||ro(),te=Hl(J,te,ae)}else wu(Ye)?(te.flags|=192,te.child=J.child,te=null):(J=ot.treeContext,er=Yr(Ye.nextSibling),gr=te,Ht=!0,On=null,Zr=!1,J!==null&&Mc(te,J),te=Ul(te,de.children),te.flags|=4096);return te}return xe?(jn(),Ye=de.fallback,xe=te.mode,ot=J.child,gt=ot.sibling,de=hn(ot,{mode:"hidden",children:de.children}),de.subtreeFlags=ot.subtreeFlags&65011712,gt!==null?Ye=hn(gt,Ye):(Ye=fi(Ye,xe,ae,null),Ye.flags|=2),Ye.return=te,de.return=te,de.sibling=Ye,te.child=de,Pa(null,de),de=te.child,Ye=J.child.memoizedState,Ye===null?Ye=Ll(ae):(xe=Ye.cachePool,xe!==null?(ot=ur._currentValue,xe=xe.parent!==ot?{parent:ot,pool:ot}:xe):xe=Bc(),Ye={baseLanes:Ye.baseLanes|ae,cachePool:xe}),de.memoizedState=Ye,de.childLanes=jl(J,Be,ae),te.memoizedState=zl,Pa(J.child,de)):(Ln(te),ae=J.child,J=ae.sibling,ae=hn(ae,{mode:"visible",children:de.children}),ae.return=te,ae.sibling=null,J!==null&&(Be=te.deletions,Be===null?(te.deletions=[J],te.flags|=16):Be.push(J)),te.child=ae,te.memoizedState=null,ae)}function Ul(J,te){return te=Vs({mode:"visible",children:te},J.mode),te.return=J,J.child=te}function Vs(J,te){return J=Rr(22,J,null,te),J.lanes=0,J}function Hl(J,te,ae){return bi(te,J.child,null,ae),J=Ul(te,te.pendingProps.children),J.flags|=2,te.memoizedState=null,J}function Kf(J,te,ae){J.lanes|=te;var de=J.alternate;de!==null&&(de.lanes|=te),il(J.return,te,ae)}function ql(J,te,ae,de,xe,Ee){var Be=J.memoizedState;Be===null?J.memoizedState={isBackwards:te,rendering:null,renderingStartTime:0,last:de,tail:ae,tailMode:xe,treeForkCount:Ee}:(Be.isBackwards=te,Be.rendering=null,Be.renderingStartTime=0,Be.last=de,Be.tail=ae,Be.tailMode=xe,Be.treeForkCount=Ee)}function Qf(J,te,ae){var de=te.pendingProps,xe=de.revealOrder,Ee=de.tail;de=de.children;var Be=ar.current,Ye=(Be&2)!==0;if(Ye?(Be=Be&1|2,te.flags|=128):Be&=1,Se(ar,Be),_r(J,te,de,ae),de=Ht?xa:0,!Ye&&J!==null&&(J.flags&128)!==0)e:for(J=te.child;J!==null;){if(J.tag===13)J.memoizedState!==null&&Kf(J,ae,te);else if(J.tag===19)Kf(J,ae,te);else if(J.child!==null){J.child.return=J,J=J.child;continue}if(J===te)break e;for(;J.sibling===null;){if(J.return===null||J.return===te)break e;J=J.return}J.sibling.return=J.return,J=J.sibling}switch(xe){case"forwards":for(ae=te.child,xe=null;ae!==null;)J=ae.alternate,J!==null&&Os(J)===null&&(xe=ae),ae=ae.sibling;ae=xe,ae===null?(xe=te.child,te.child=null):(xe=ae.sibling,ae.sibling=null),ql(te,!1,xe,ae,Ee,de);break;case"backwards":case"unstable_legacy-backwards":for(ae=null,xe=te.child,te.child=null;xe!==null;){if(J=xe.alternate,J!==null&&Os(J)===null){te.child=xe;break}J=xe.sibling,xe.sibling=ae,ae=xe,xe=J}ql(te,!0,ae,null,Ee,de);break;case"together":ql(te,!1,null,null,void 0,de);break;default:te.memoizedState=null}return te.child}function yn(J,te,ae){if(J!==null&&(te.dependencies=J.dependencies),qn|=te.lanes,(ae&te.childLanes)===0)if(J!==null){if(Bi(J,te,ae,!1),(ae&te.childLanes)===0)return null}else return null;if(J!==null&&te.child!==J.child)throw Error(I(153));if(te.child!==null){for(J=te.child,ae=hn(J,J.pendingProps),te.child=ae,ae.return=te;J.sibling!==null;)J=J.sibling,ae=ae.sibling=hn(J,J.pendingProps),ae.return=te;ae.sibling=null}return te.child}function Gl(J,te){return(J.lanes&te)!==0?!0:(J=J.dependencies,!!(J!==null&&$s(J)))}function Wm(J,te,ae){switch(te.tag){case 3:Le(te,te.stateNode.containerInfo),In(te,ur,J.memoizedState.cache),di();break;case 27:case 5:Ge(te);break;case 4:Le(te,te.stateNode.containerInfo);break;case 10:In(te,te.type,te.memoizedProps.value);break;case 31:if(te.memoizedState!==null)return te.flags|=128,gl(te),null;break;case 13:var de=te.memoizedState;if(de!==null)return de.dehydrated!==null?(Ln(te),te.flags|=128,null):(ae&te.child.childLanes)!==0?Xf(J,te,ae):(Ln(te),J=yn(J,te,ae),J!==null?J.sibling:null);Ln(te);break;case 19:var xe=(J.flags&128)!==0;if(de=(ae&te.childLanes)!==0,de||(Bi(J,te,ae,!1),de=(ae&te.childLanes)!==0),xe){if(de)return Qf(J,te,ae);te.flags|=128}if(xe=te.memoizedState,xe!==null&&(xe.rendering=null,xe.tail=null,xe.lastEffect=null),Se(ar,ar.current),de)break;return null;case 22:return te.lanes=0,qf(J,te,ae,te.pendingProps);case 24:In(te,ur,J.memoizedState.cache)}return yn(J,te,ae)}function Jf(J,te,ae){if(J!==null)if(J.memoizedProps!==te.pendingProps)fr=!0;else{if(!Gl(J,ae)&&(te.flags&128)===0)return fr=!1,Wm(J,te,ae);fr=(J.flags&131072)!==0}else fr=!1,Ht&&(te.flags&1048576)!==0&&Nc(te,xa,te.index);switch(te.lanes=0,te.tag){case 16:e:{var de=te.pendingProps;if(J=vi(te.elementType),te.type=J,typeof J=="function")Xo(J)?(de=wi(J,de),te.tag=1,te=Wf(null,te,J,de,ae)):(te.tag=0,te=Fl(null,te,J,de,ae));else{if(J!=null){var xe=J.$$typeof;if(xe===ue){te.tag=11,te=jf(null,te,J,de,ae);break e}else if(xe===me){te.tag=14,te=Uf(null,te,J,de,ae);break e}}throw te=ve(J)||J,Error(I(306,te,""))}}return te;case 0:return Fl(J,te,te.type,te.pendingProps,ae);case 1:return de=te.type,xe=wi(de,te.pendingProps),Wf(J,te,de,xe,ae);case 3:e:{if(Le(te,te.stateNode.containerInfo),J===null)throw Error(I(387));de=te.pendingProps;var Ee=te.memoizedState;xe=Ee.element,fl(J,te),Na(te,de,null,ae);var Be=te.memoizedState;if(de=Be.cache,In(te,ur,de),de!==Ee.cache&&al(te,[ur],ae,!0),Ta(),de=Be.element,Ee.isDehydrated)if(Ee={element:de,isDehydrated:!1,cache:Be.cache},te.updateQueue.baseState=Ee,te.memoizedState=Ee,te.flags&256){te=Yf(J,te,de,ae);break e}else if(de!==xe){xe=Hr(Error(I(424)),te),wa(xe),te=Yf(J,te,de,ae);break e}else for(J=te.stateNode.containerInfo,J.nodeType===9?J=J.body:J=J.nodeName==="HTML"?J.ownerDocument.body:J,er=Yr(J.firstChild),gr=te,Ht=!0,On=null,Zr=!0,ae=Hc(te,null,de,ae),te.child=ae;ae;)ae.flags=ae.flags&-3|4096,ae=ae.sibling;else{if(di(),de===xe){te=yn(J,te,ae);break e}_r(J,te,de,ae)}te=te.child}return te;case 26:return Gs(J,te),J===null?(ae=dh(te.type,null,te.pendingProps,null))?te.memoizedState=ae:Ht||(ae=te.type,J=te.pendingProps,de=uo(Qe.current).createElement(ae),de[hr]=te,de[xr]=J,yr(de,ae,J),qt(de),te.stateNode=de):te.memoizedState=dh(te.type,J.memoizedProps,te.pendingProps,J.memoizedState),null;case 27:return Ge(te),J===null&&Ht&&(de=te.stateNode=lh(te.type,te.pendingProps,Qe.current),gr=te,Zr=!0,xe=er,Qn(te.type)?(Eu=xe,er=Yr(de.firstChild)):er=xe),_r(J,te,te.pendingProps.children,ae),Gs(J,te),J===null&&(te.flags|=4194304),te.child;case 5:return J===null&&Ht&&((xe=de=er)&&(de=Cp(de,te.type,te.pendingProps,Zr),de!==null?(te.stateNode=de,gr=te,er=Yr(de.firstChild),Zr=!1,xe=!0):xe=!1),xe||Pn(te)),Ge(te),xe=te.type,Ee=te.pendingProps,Be=J!==null?J.memoizedProps:null,de=Ee.children,yu(xe,Ee)?de=null:Be!==null&&yu(xe,Be)&&(te.flags|=32),te.memoizedState!==null&&(xe=_l(J,te,zm,null,null,ae),Xa._currentValue=xe),Gs(J,te),_r(J,te,de,ae),te.child;case 6:return J===null&&Ht&&((J=ae=er)&&(ae=$p(ae,te.pendingProps,Zr),ae!==null?(te.stateNode=ae,gr=te,er=null,J=!0):J=!1),J||Pn(te)),null;case 13:return Xf(J,te,ae);case 4:return Le(te,te.stateNode.containerInfo),de=te.pendingProps,J===null?te.child=bi(te,null,de,ae):_r(J,te,de,ae),te.child;case 11:return jf(J,te,te.type,te.pendingProps,ae);case 7:return _r(J,te,te.pendingProps,ae),te.child;case 8:return _r(J,te,te.pendingProps.children,ae),te.child;case 12:return _r(J,te,te.pendingProps.children,ae),te.child;case 10:return de=te.pendingProps,In(te,te.type,de.value),_r(J,te,de.children,ae),te.child;case 9:return xe=te.type._context,de=te.pendingProps.children,mi(te),xe=vr(xe),de=de(xe),te.flags|=1,_r(J,te,de,ae),te.child;case 14:return Uf(J,te,te.type,te.pendingProps,ae);case 15:return Hf(J,te,te.type,te.pendingProps,ae);case 19:return Qf(J,te,ae);case 31:return Zm(J,te,ae);case 22:return qf(J,te,ae,te.pendingProps);case 24:return mi(te),de=vr(ur),J===null?(xe=ll(),xe===null&&(xe=Jt,Ee=sl(),xe.pooledCache=Ee,Ee.refCount++,Ee!==null&&(xe.pooledCacheLanes|=ae),xe=Ee),te.memoizedState={parent:de,cache:xe},cl(te),In(te,ur,xe)):((J.lanes&ae)!==0&&(fl(J,te),Na(te,null,null,ae),Ta()),xe=J.memoizedState,Ee=te.memoizedState,xe.parent!==de?(xe={parent:de,cache:de},te.memoizedState=xe,te.lanes===0&&(te.memoizedState=te.updateQueue.baseState=xe),In(te,ur,de)):(de=Ee.cache,In(te,ur,de),de!==xe.cache&&al(te,[ur],ae,!0))),_r(J,te,te.pendingProps.children,ae),te.child;case 29:throw te.pendingProps}throw Error(I(156,te.tag))}function bn(J){J.flags|=4}function Vl(J,te,ae,de,xe){if((te=(J.mode&32)!==0)&&(te=!1),te){if(J.flags|=16777216,(xe&335544128)===xe)if(J.stateNode.complete)J.flags|=8192;else if(Ad())J.flags|=8192;else throw yi=Ms,ul}else J.flags&=-16777217}function ed(J,te){if(te.type!=="stylesheet"||(te.state.loading&4)!==0)J.flags&=-16777217;else if(J.flags|=16777216,!vh(te))if(Ad())J.flags|=8192;else throw yi=Ms,ul}function Zs(J,te){te!==null&&(J.flags|=4),J.flags&16384&&(te=J.tag!==22?rs():536870912,J.lanes|=te,Yi|=te)}function Ia(J,te){if(!Ht)switch(J.tailMode){case"hidden":te=J.tail;for(var ae=null;te!==null;)te.alternate!==null&&(ae=te),te=te.sibling;ae===null?J.tail=null:ae.sibling=null;break;case"collapsed":ae=J.tail;for(var de=null;ae!==null;)ae.alternate!==null&&(de=ae),ae=ae.sibling;de===null?te||J.tail===null?J.tail=null:J.tail.sibling=null:de.sibling=null}}function tr(J){var te=J.alternate!==null&&J.alternate.child===J.child,ae=0,de=0;if(te)for(var xe=J.child;xe!==null;)ae|=xe.lanes|xe.childLanes,de|=xe.subtreeFlags&65011712,de|=xe.flags&65011712,xe.return=J,xe=xe.sibling;else for(xe=J.child;xe!==null;)ae|=xe.lanes|xe.childLanes,de|=xe.subtreeFlags,de|=xe.flags,xe.return=J,xe=xe.sibling;return J.subtreeFlags|=de,J.childLanes=ae,te}function Ym(J,te,ae){var de=te.pendingProps;switch(el(te),te.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(te),null;case 1:return tr(te),null;case 3:return ae=te.stateNode,de=null,J!==null&&(de=J.memoizedState.cache),te.memoizedState.cache!==de&&(te.flags|=2048),gn(ur),ke(),ae.pendingContext&&(ae.context=ae.pendingContext,ae.pendingContext=null),(J===null||J.child===null)&&(Ii(te)?bn(te):J===null||J.memoizedState.isDehydrated&&(te.flags&256)===0||(te.flags|=1024,rl())),tr(te),null;case 26:var xe=te.type,Ee=te.memoizedState;return J===null?(bn(te),Ee!==null?(tr(te),ed(te,Ee)):(tr(te),Vl(te,xe,null,de,ae))):Ee?Ee!==J.memoizedState?(bn(te),tr(te),ed(te,Ee)):(tr(te),te.flags&=-16777217):(J=J.memoizedProps,J!==de&&bn(te),tr(te),Vl(te,xe,J,de,ae)),null;case 27:if(Ke(te),ae=Qe.current,xe=te.type,J!==null&&te.stateNode!=null)J.memoizedProps!==de&&bn(te);else{if(!de){if(te.stateNode===null)throw Error(I(166));return tr(te),null}J=ze.current,Ii(te)?Rc(te):(J=lh(xe,de,ae),te.stateNode=J,bn(te))}return tr(te),null;case 5:if(Ke(te),xe=te.type,J!==null&&te.stateNode!=null)J.memoizedProps!==de&&bn(te);else{if(!de){if(te.stateNode===null)throw Error(I(166));return tr(te),null}if(Ee=ze.current,Ii(te))Rc(te);else{var Be=uo(Qe.current);switch(Ee){case 1:Ee=Be.createElementNS("http://www.w3.org/2000/svg",xe);break;case 2:Ee=Be.createElementNS("http://www.w3.org/1998/Math/MathML",xe);break;default:switch(xe){case"svg":Ee=Be.createElementNS("http://www.w3.org/2000/svg",xe);break;case"math":Ee=Be.createElementNS("http://www.w3.org/1998/Math/MathML",xe);break;case"script":Ee=Be.createElement("div"),Ee.innerHTML="<script><\/script>",Ee=Ee.removeChild(Ee.firstChild);break;case"select":Ee=typeof de.is=="string"?Be.createElement("select",{is:de.is}):Be.createElement("select"),de.multiple?Ee.multiple=!0:de.size&&(Ee.size=de.size);break;default:Ee=typeof de.is=="string"?Be.createElement(xe,{is:de.is}):Be.createElement(xe)}}Ee[hr]=te,Ee[xr]=de;e:for(Be=te.child;Be!==null;){if(Be.tag===5||Be.tag===6)Ee.appendChild(Be.stateNode);else if(Be.tag!==4&&Be.tag!==27&&Be.child!==null){Be.child.return=Be,Be=Be.child;continue}if(Be===te)break e;for(;Be.sibling===null;){if(Be.return===null||Be.return===te)break e;Be=Be.return}Be.sibling.return=Be.return,Be=Be.sibling}te.stateNode=Ee;e:switch(yr(Ee,xe,de),xe){case"button":case"input":case"select":case"textarea":de=!!de.autoFocus;break e;case"img":de=!0;break e;default:de=!1}de&&bn(te)}}return tr(te),Vl(te,te.type,J===null?null:J.memoizedProps,te.pendingProps,ae),null;case 6:if(J&&te.stateNode!=null)J.memoizedProps!==de&&bn(te);else{if(typeof de!="string"&&te.stateNode===null)throw Error(I(166));if(J=Qe.current,Ii(te)){if(J=te.stateNode,ae=te.memoizedProps,de=null,xe=gr,xe!==null)switch(xe.tag){case 27:case 5:de=xe.memoizedProps}J[hr]=te,J=!!(J.nodeValue===ae||de!==null&&de.suppressHydrationWarning===!0||Kd(J.nodeValue,ae)),J||Pn(te,!0)}else J=uo(J).createTextNode(de),J[hr]=te,te.stateNode=J}return tr(te),null;case 31:if(ae=te.memoizedState,J===null||J.memoizedState!==null){if(de=Ii(te),ae!==null){if(J===null){if(!de)throw Error(I(318));if(J=te.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(I(557));J[hr]=te}else di(),(te.flags&128)===0&&(te.memoizedState=null),te.flags|=4;tr(te),J=!1}else ae=rl(),J!==null&&J.memoizedState!==null&&(J.memoizedState.hydrationErrors=ae),J=!0;if(!J)return te.flags&256?(Or(te),te):(Or(te),null);if((te.flags&128)!==0)throw Error(I(558))}return tr(te),null;case 13:if(de=te.memoizedState,J===null||J.memoizedState!==null&&J.memoizedState.dehydrated!==null){if(xe=Ii(te),de!==null&&de.dehydrated!==null){if(J===null){if(!xe)throw Error(I(318));if(xe=te.memoizedState,xe=xe!==null?xe.dehydrated:null,!xe)throw Error(I(317));xe[hr]=te}else di(),(te.flags&128)===0&&(te.memoizedState=null),te.flags|=4;tr(te),xe=!1}else xe=rl(),J!==null&&J.memoizedState!==null&&(J.memoizedState.hydrationErrors=xe),xe=!0;if(!xe)return te.flags&256?(Or(te),te):(Or(te),null)}return Or(te),(te.flags&128)!==0?(te.lanes=ae,te):(ae=de!==null,J=J!==null&&J.memoizedState!==null,ae&&(de=te.child,xe=null,de.alternate!==null&&de.alternate.memoizedState!==null&&de.alternate.memoizedState.cachePool!==null&&(xe=de.alternate.memoizedState.cachePool.pool),Ee=null,de.memoizedState!==null&&de.memoizedState.cachePool!==null&&(Ee=de.memoizedState.cachePool.pool),Ee!==xe&&(de.flags|=2048)),ae!==J&&ae&&(te.child.flags|=8192),Zs(te,te.updateQueue),tr(te),null);case 4:return ke(),J===null&&mu(te.stateNode.containerInfo),tr(te),null;case 10:return gn(te.type),tr(te),null;case 19:if(Re(ar),de=te.memoizedState,de===null)return tr(te),null;if(xe=(te.flags&128)!==0,Ee=de.rendering,Ee===null)if(xe)Ia(de,!1);else{if(ir!==0||J!==null&&(J.flags&128)!==0)for(J=te.child;J!==null;){if(Ee=Os(J),Ee!==null){for(te.flags|=128,Ia(de,!1),J=Ee.updateQueue,te.updateQueue=J,Zs(te,J),te.subtreeFlags=0,J=ae,ae=te.child;ae!==null;)Cc(ae,J),ae=ae.sibling;return Se(ar,ar.current&1|2),Ht&&mn(te,de.treeForkCount),te.child}J=J.sibling}de.tail!==null&&Ue()>Qs&&(te.flags|=128,xe=!0,Ia(de,!1),te.lanes=4194304)}else{if(!xe)if(J=Os(Ee),J!==null){if(te.flags|=128,xe=!0,J=J.updateQueue,te.updateQueue=J,Zs(te,J),Ia(de,!0),de.tail===null&&de.tailMode==="hidden"&&!Ee.alternate&&!Ht)return tr(te),null}else 2*Ue()-de.renderingStartTime>Qs&&ae!==536870912&&(te.flags|=128,xe=!0,Ia(de,!1),te.lanes=4194304);de.isBackwards?(Ee.sibling=te.child,te.child=Ee):(J=de.last,J!==null?J.sibling=Ee:te.child=Ee,de.last=Ee)}return de.tail!==null?(J=de.tail,de.rendering=J,de.tail=J.sibling,de.renderingStartTime=Ue(),J.sibling=null,ae=ar.current,Se(ar,xe?ae&1|2:ae&1),Ht&&mn(te,de.treeForkCount),J):(tr(te),null);case 22:case 23:return Or(te),pl(),de=te.memoizedState!==null,J!==null?J.memoizedState!==null!==de&&(te.flags|=8192):de&&(te.flags|=8192),de?(ae&536870912)!==0&&(te.flags&128)===0&&(tr(te),te.subtreeFlags&6&&(te.flags|=8192)):tr(te),ae=te.updateQueue,ae!==null&&Zs(te,ae.retryQueue),ae=null,J!==null&&J.memoizedState!==null&&J.memoizedState.cachePool!==null&&(ae=J.memoizedState.cachePool.pool),de=null,te.memoizedState!==null&&te.memoizedState.cachePool!==null&&(de=te.memoizedState.cachePool.pool),de!==ae&&(te.flags|=2048),J!==null&&Re(gi),null;case 24:return ae=null,J!==null&&(ae=J.memoizedState.cache),te.memoizedState.cache!==ae&&(te.flags|=2048),gn(ur),tr(te),null;case 25:return null;case 30:return null}throw Error(I(156,te.tag))}function Xm(J,te){switch(el(te),te.tag){case 1:return J=te.flags,J&65536?(te.flags=J&-65537|128,te):null;case 3:return gn(ur),ke(),J=te.flags,(J&65536)!==0&&(J&128)===0?(te.flags=J&-65537|128,te):null;case 26:case 27:case 5:return Ke(te),null;case 31:if(te.memoizedState!==null){if(Or(te),te.alternate===null)throw Error(I(340));di()}return J=te.flags,J&65536?(te.flags=J&-65537|128,te):null;case 13:if(Or(te),J=te.memoizedState,J!==null&&J.dehydrated!==null){if(te.alternate===null)throw Error(I(340));di()}return J=te.flags,J&65536?(te.flags=J&-65537|128,te):null;case 19:return Re(ar),null;case 4:return ke(),null;case 10:return gn(te.type),null;case 22:case 23:return Or(te),pl(),J!==null&&Re(gi),J=te.flags,J&65536?(te.flags=J&-65537|128,te):null;case 24:return gn(ur),null;case 25:return null;default:return null}}function td(J,te){switch(el(te),te.tag){case 3:gn(ur),ke();break;case 26:case 27:case 5:Ke(te);break;case 4:ke();break;case 31:te.memoizedState!==null&&Or(te);break;case 13:Or(te);break;case 19:Re(ar);break;case 10:gn(te.type);break;case 22:case 23:Or(te),pl(),J!==null&&Re(gi);break;case 24:gn(ur)}}function Ba(J,te){try{var ae=te.updateQueue,de=ae!==null?ae.lastEffect:null;if(de!==null){var xe=de.next;ae=xe;do{if((ae.tag&J)===J){de=void 0;var Ee=ae.create,Be=ae.inst;de=Ee(),Be.destroy=de}ae=ae.next}while(ae!==xe)}}catch(Ye){Yt(te,te.return,Ye)}}function Un(J,te,ae){try{var de=te.updateQueue,xe=de!==null?de.lastEffect:null;if(xe!==null){var Ee=xe.next;de=Ee;do{if((de.tag&J)===J){var Be=de.inst,Ye=Be.destroy;if(Ye!==void 0){Be.destroy=void 0,xe=te;var ot=ae,gt=Ye;try{gt()}catch(yt){Yt(xe,ot,yt)}}}de=de.next}while(de!==Ee)}}catch(yt){Yt(te,te.return,yt)}}function rd(J){var te=J.updateQueue;if(te!==null){var ae=J.stateNode;try{Gc(te,ae)}catch(de){Yt(J,J.return,de)}}}function nd(J,te,ae){ae.props=wi(J.type,J.memoizedProps),ae.state=J.memoizedState;try{ae.componentWillUnmount()}catch(de){Yt(J,te,de)}}function Fa(J,te){try{var ae=J.ref;if(ae!==null){switch(J.tag){case 26:case 27:case 5:var de=J.stateNode;break;case 30:de=J.stateNode;break;default:de=J.stateNode}typeof ae=="function"?J.refCleanup=ae(de):ae.current=de}}catch(xe){Yt(J,te,xe)}}function an(J,te){var ae=J.ref,de=J.refCleanup;if(ae!==null)if(typeof de=="function")try{de()}catch(xe){Yt(J,te,xe)}finally{J.refCleanup=null,J=J.alternate,J!=null&&(J.refCleanup=null)}else if(typeof ae=="function")try{ae(null)}catch(xe){Yt(J,te,xe)}else ae.current=null}function ad(J){var te=J.type,ae=J.memoizedProps,de=J.stateNode;try{e:switch(te){case"button":case"input":case"select":case"textarea":ae.autoFocus&&de.focus();break e;case"img":ae.src?de.src=ae.src:ae.srcSet&&(de.srcset=ae.srcSet)}}catch(xe){Yt(J,J.return,xe)}}function Zl(J,te,ae){try{var de=J.stateNode;yp(de,J.type,ae,te),de[xr]=te}catch(xe){Yt(J,J.return,xe)}}function sd(J){return J.tag===5||J.tag===3||J.tag===26||J.tag===27&&Qn(J.type)||J.tag===4}function Wl(J){e:for(;;){for(;J.sibling===null;){if(J.return===null||sd(J.return))return null;J=J.return}for(J.sibling.return=J.return,J=J.sibling;J.tag!==5&&J.tag!==6&&J.tag!==18;){if(J.tag===27&&Qn(J.type)||J.flags&2||J.child===null||J.tag===4)continue e;J.child.return=J,J=J.child}if(!(J.flags&2))return J.stateNode}}function Yl(J,te,ae){var de=J.tag;if(de===5||de===6)J=J.stateNode,te?(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).insertBefore(J,te):(te=ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae,te.appendChild(J),ae=ae._reactRootContainer,ae!=null||te.onclick!==null||(te.onclick=fn));else if(de!==4&&(de===27&&Qn(J.type)&&(ae=J.stateNode,te=null),J=J.child,J!==null))for(Yl(J,te,ae),J=J.sibling;J!==null;)Yl(J,te,ae),J=J.sibling}function Ws(J,te,ae){var de=J.tag;if(de===5||de===6)J=J.stateNode,te?ae.insertBefore(J,te):ae.appendChild(J);else if(de!==4&&(de===27&&Qn(J.type)&&(ae=J.stateNode),J=J.child,J!==null))for(Ws(J,te,ae),J=J.sibling;J!==null;)Ws(J,te,ae),J=J.sibling}function od(J){var te=J.stateNode,ae=J.memoizedProps;try{for(var de=J.type,xe=te.attributes;xe.length;)te.removeAttributeNode(xe[0]);yr(te,de,ae),te[hr]=J,te[xr]=ae}catch(Ee){Yt(J,J.return,Ee)}}var xn=!1,dr=!1,Xl=!1,ld=typeof WeakSet=="function"?WeakSet:Set,pr=null;function Km(J,te){if(J=J.containerInfo,vu=vo,J=pc(J),Ho(J)){if("selectionStart"in J)var ae={start:J.selectionStart,end:J.selectionEnd};else e:{ae=(ae=J.ownerDocument)&&ae.defaultView||window;var de=ae.getSelection&&ae.getSelection();if(de&&de.rangeCount!==0){ae=de.anchorNode;var xe=de.anchorOffset,Ee=de.focusNode;de=de.focusOffset;try{ae.nodeType,Ee.nodeType}catch{ae=null;break e}var Be=0,Ye=-1,ot=-1,gt=0,yt=0,St=J,vt=null;t:for(;;){for(var _t;St!==ae||xe!==0&&St.nodeType!==3||(Ye=Be+xe),St!==Ee||de!==0&&St.nodeType!==3||(ot=Be+de),St.nodeType===3&&(Be+=St.nodeValue.length),(_t=St.firstChild)!==null;)vt=St,St=_t;for(;;){if(St===J)break t;if(vt===ae&&++gt===xe&&(Ye=Be),vt===Ee&&++yt===de&&(ot=Be),(_t=St.nextSibling)!==null)break;St=vt,vt=St.parentNode}St=_t}ae=Ye===-1||ot===-1?null:{start:Ye,end:ot}}else ae=null}ae=ae||{start:0,end:0}}else ae=null;for(_u={focusedElem:J,selectionRange:ae},vo=!1,pr=te;pr!==null;)if(te=pr,J=te.child,(te.subtreeFlags&1028)!==0&&J!==null)J.return=te,pr=J;else for(;pr!==null;){switch(te=pr,Ee=te.alternate,J=te.flags,te.tag){case 0:if((J&4)!==0&&(J=te.updateQueue,J=J!==null?J.events:null,J!==null))for(ae=0;ae<J.length;ae++)xe=J[ae],xe.ref.impl=xe.nextImpl;break;case 11:case 15:break;case 1:if((J&1024)!==0&&Ee!==null){J=void 0,ae=te,xe=Ee.memoizedProps,Ee=Ee.memoizedState,de=ae.stateNode;try{var Nt=wi(ae.type,xe);J=de.getSnapshotBeforeUpdate(Nt,Ee),de.__reactInternalSnapshotBeforeUpdate=J}catch(Ot){Yt(ae,ae.return,Ot)}}break;case 3:if((J&1024)!==0){if(J=te.stateNode.containerInfo,ae=J.nodeType,ae===9)xu(J);else if(ae===1)switch(J.nodeName){case"HEAD":case"HTML":case"BODY":xu(J);break;default:J.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((J&1024)!==0)throw Error(I(163))}if(J=te.sibling,J!==null){J.return=te.return,pr=J;break}pr=te.return}}function ud(J,te,ae){var de=ae.flags;switch(ae.tag){case 0:case 11:case 15:Sn(J,ae),de&4&&Ba(5,ae);break;case 1:if(Sn(J,ae),de&4)if(J=ae.stateNode,te===null)try{J.componentDidMount()}catch(Be){Yt(ae,ae.return,Be)}else{var xe=wi(ae.type,te.memoizedProps);te=te.memoizedState;try{J.componentDidUpdate(xe,te,J.__reactInternalSnapshotBeforeUpdate)}catch(Be){Yt(ae,ae.return,Be)}}de&64&&rd(ae),de&512&&Fa(ae,ae.return);break;case 3:if(Sn(J,ae),de&64&&(J=ae.updateQueue,J!==null)){if(te=null,ae.child!==null)switch(ae.child.tag){case 27:case 5:te=ae.child.stateNode;break;case 1:te=ae.child.stateNode}try{Gc(J,te)}catch(Be){Yt(ae,ae.return,Be)}}break;case 27:te===null&&de&4&&od(ae);case 26:case 5:Sn(J,ae),te===null&&de&4&&ad(ae),de&512&&Fa(ae,ae.return);break;case 12:Sn(J,ae);break;case 31:Sn(J,ae),de&4&&dd(J,ae);break;case 13:Sn(J,ae),de&4&&hd(J,ae),de&64&&(J=ae.memoizedState,J!==null&&(J=J.dehydrated,J!==null&&(ae=sp.bind(null,ae),Ap(J,ae))));break;case 22:if(de=ae.memoizedState!==null||xn,!de){te=te!==null&&te.memoizedState!==null||dr,xe=xn;var Ee=dr;xn=de,(dr=te)&&!Ee?En(J,ae,(ae.subtreeFlags&8772)!==0):Sn(J,ae),xn=xe,dr=Ee}break;case 30:break;default:Sn(J,ae)}}function cd(J){var te=J.alternate;te!==null&&(J.alternate=null,cd(te)),J.child=null,J.deletions=null,J.sibling=null,J.tag===5&&(te=J.stateNode,te!==null&&ca(te)),J.stateNode=null,J.return=null,J.dependencies=null,J.memoizedProps=null,J.memoizedState=null,J.pendingProps=null,J.stateNode=null,J.updateQueue=null}var rr=null,Er=!1;function wn(J,te,ae){for(ae=ae.child;ae!==null;)fd(J,te,ae),ae=ae.sibling}function fd(J,te,ae){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(xt,ae)}catch{}switch(ae.tag){case 26:dr||an(ae,te),wn(J,te,ae),ae.memoizedState?ae.memoizedState.count--:ae.stateNode&&(ae=ae.stateNode,ae.parentNode.removeChild(ae));break;case 27:dr||an(ae,te);var de=rr,xe=Er;Qn(ae.type)&&(rr=ae.stateNode,Er=!1),wn(J,te,ae),Za(ae.stateNode),rr=de,Er=xe;break;case 5:dr||an(ae,te);case 6:if(de=rr,xe=Er,rr=null,wn(J,te,ae),rr=de,Er=xe,rr!==null)if(Er)try{(rr.nodeType===9?rr.body:rr.nodeName==="HTML"?rr.ownerDocument.body:rr).removeChild(ae.stateNode)}catch(Ee){Yt(ae,te,Ee)}else try{rr.removeChild(ae.stateNode)}catch(Ee){Yt(ae,te,Ee)}break;case 18:rr!==null&&(Er?(J=rr,nh(J.nodeType===9?J.body:J.nodeName==="HTML"?J.ownerDocument.body:J,ae.stateNode),na(J)):nh(rr,ae.stateNode));break;case 4:de=rr,xe=Er,rr=ae.stateNode.containerInfo,Er=!0,wn(J,te,ae),rr=de,Er=xe;break;case 0:case 11:case 14:case 15:Un(2,ae,te),dr||Un(4,ae,te),wn(J,te,ae);break;case 1:dr||(an(ae,te),de=ae.stateNode,typeof de.componentWillUnmount=="function"&&nd(ae,te,de)),wn(J,te,ae);break;case 21:wn(J,te,ae);break;case 22:dr=(de=dr)||ae.memoizedState!==null,wn(J,te,ae),dr=de;break;default:wn(J,te,ae)}}function dd(J,te){if(te.memoizedState===null&&(J=te.alternate,J!==null&&(J=J.memoizedState,J!==null))){J=J.dehydrated;try{na(J)}catch(ae){Yt(te,te.return,ae)}}}function hd(J,te){if(te.memoizedState===null&&(J=te.alternate,J!==null&&(J=J.memoizedState,J!==null&&(J=J.dehydrated,J!==null))))try{na(J)}catch(ae){Yt(te,te.return,ae)}}function Qm(J){switch(J.tag){case 31:case 13:case 19:var te=J.stateNode;return te===null&&(te=J.stateNode=new ld),te;case 22:return J=J.stateNode,te=J._retryCache,te===null&&(te=J._retryCache=new ld),te;default:throw Error(I(435,J.tag))}}function Ys(J,te){var ae=Qm(J);te.forEach(function(de){if(!ae.has(de)){ae.add(de);var xe=lp.bind(null,J,de);de.then(xe,xe)}})}function Cr(J,te){var ae=te.deletions;if(ae!==null)for(var de=0;de<ae.length;de++){var xe=ae[de],Ee=J,Be=te,Ye=Be;e:for(;Ye!==null;){switch(Ye.tag){case 27:if(Qn(Ye.type)){rr=Ye.stateNode,Er=!1;break e}break;case 5:rr=Ye.stateNode,Er=!1;break e;case 3:case 4:rr=Ye.stateNode.containerInfo,Er=!0;break e}Ye=Ye.return}if(rr===null)throw Error(I(160));fd(Ee,Be,xe),rr=null,Er=!1,Ee=xe.alternate,Ee!==null&&(Ee.return=null),xe.return=null}if(te.subtreeFlags&13886)for(te=te.child;te!==null;)md(te,J),te=te.sibling}var Jr=null;function md(J,te){var ae=J.alternate,de=J.flags;switch(J.tag){case 0:case 11:case 14:case 15:Cr(te,J),$r(J),de&4&&(Un(3,J,J.return),Ba(3,J),Un(5,J,J.return));break;case 1:Cr(te,J),$r(J),de&512&&(dr||ae===null||an(ae,ae.return)),de&64&&xn&&(J=J.updateQueue,J!==null&&(de=J.callbacks,de!==null&&(ae=J.shared.hiddenCallbacks,J.shared.hiddenCallbacks=ae===null?de:ae.concat(de))));break;case 26:var xe=Jr;if(Cr(te,J),$r(J),de&512&&(dr||ae===null||an(ae,ae.return)),de&4){var Ee=ae!==null?ae.memoizedState:null;if(de=J.memoizedState,ae===null)if(de===null)if(J.stateNode===null){e:{de=J.type,ae=J.memoizedProps,xe=xe.ownerDocument||xe;t:switch(de){case"title":Ee=xe.getElementsByTagName("title")[0],(!Ee||Ee[ai]||Ee[hr]||Ee.namespaceURI==="http://www.w3.org/2000/svg"||Ee.hasAttribute("itemprop"))&&(Ee=xe.createElement(de),xe.head.insertBefore(Ee,xe.querySelector("head > title"))),yr(Ee,de,ae),Ee[hr]=J,qt(Ee),de=Ee;break e;case"link":var Be=ph("link","href",xe).get(de+(ae.href||""));if(Be){for(var Ye=0;Ye<Be.length;Ye++)if(Ee=Be[Ye],Ee.getAttribute("href")===(ae.href==null||ae.href===""?null:ae.href)&&Ee.getAttribute("rel")===(ae.rel==null?null:ae.rel)&&Ee.getAttribute("title")===(ae.title==null?null:ae.title)&&Ee.getAttribute("crossorigin")===(ae.crossOrigin==null?null:ae.crossOrigin)){Be.splice(Ye,1);break t}}Ee=xe.createElement(de),yr(Ee,de,ae),xe.head.appendChild(Ee);break;case"meta":if(Be=ph("meta","content",xe).get(de+(ae.content||""))){for(Ye=0;Ye<Be.length;Ye++)if(Ee=Be[Ye],Ee.getAttribute("content")===(ae.content==null?null:""+ae.content)&&Ee.getAttribute("name")===(ae.name==null?null:ae.name)&&Ee.getAttribute("property")===(ae.property==null?null:ae.property)&&Ee.getAttribute("http-equiv")===(ae.httpEquiv==null?null:ae.httpEquiv)&&Ee.getAttribute("charset")===(ae.charSet==null?null:ae.charSet)){Be.splice(Ye,1);break t}}Ee=xe.createElement(de),yr(Ee,de,ae),xe.head.appendChild(Ee);break;default:throw Error(I(468,de))}Ee[hr]=J,qt(Ee),de=Ee}J.stateNode=de}else gh(xe,J.type,J.stateNode);else J.stateNode=mh(xe,de,J.memoizedProps);else Ee!==de?(Ee===null?ae.stateNode!==null&&(ae=ae.stateNode,ae.parentNode.removeChild(ae)):Ee.count--,de===null?gh(xe,J.type,J.stateNode):mh(xe,de,J.memoizedProps)):de===null&&J.stateNode!==null&&Zl(J,J.memoizedProps,ae.memoizedProps)}break;case 27:Cr(te,J),$r(J),de&512&&(dr||ae===null||an(ae,ae.return)),ae!==null&&de&4&&Zl(J,J.memoizedProps,ae.memoizedProps);break;case 5:if(Cr(te,J),$r(J),de&512&&(dr||ae===null||an(ae,ae.return)),J.flags&32){xe=J.stateNode;try{$i(xe,"")}catch(Nt){Yt(J,J.return,Nt)}}de&4&&J.stateNode!=null&&(xe=J.memoizedProps,Zl(J,xe,ae!==null?ae.memoizedProps:xe)),de&1024&&(Xl=!0);break;case 6:if(Cr(te,J),$r(J),de&4){if(J.stateNode===null)throw Error(I(162));de=J.memoizedProps,ae=J.stateNode;try{ae.nodeValue=de}catch(Nt){Yt(J,J.return,Nt)}}break;case 3:if(ho=null,xe=Jr,Jr=co(te.containerInfo),Cr(te,J),Jr=xe,$r(J),de&4&&ae!==null&&ae.memoizedState.isDehydrated)try{na(te.containerInfo)}catch(Nt){Yt(J,J.return,Nt)}Xl&&(Xl=!1,pd(J));break;case 4:de=Jr,Jr=co(J.stateNode.containerInfo),Cr(te,J),$r(J),Jr=de;break;case 12:Cr(te,J),$r(J);break;case 31:Cr(te,J),$r(J),de&4&&(de=J.updateQueue,de!==null&&(J.updateQueue=null,Ys(J,de)));break;case 13:Cr(te,J),$r(J),J.child.flags&8192&&J.memoizedState!==null!=(ae!==null&&ae.memoizedState!==null)&&(Ks=Ue()),de&4&&(de=J.updateQueue,de!==null&&(J.updateQueue=null,Ys(J,de)));break;case 22:xe=J.memoizedState!==null;var ot=ae!==null&&ae.memoizedState!==null,gt=xn,yt=dr;if(xn=gt||xe,dr=yt||ot,Cr(te,J),dr=yt,xn=gt,$r(J),de&8192)e:for(te=J.stateNode,te._visibility=xe?te._visibility&-2:te._visibility|1,xe&&(ae===null||ot||xn||dr||Si(J)),ae=null,te=J;;){if(te.tag===5||te.tag===26){if(ae===null){ot=ae=te;try{if(Ee=ot.stateNode,xe)Be=Ee.style,typeof Be.setProperty=="function"?Be.setProperty("display","none","important"):Be.display="none";else{Ye=ot.stateNode;var St=ot.memoizedProps.style,vt=St!=null&&St.hasOwnProperty("display")?St.display:null;Ye.style.display=vt==null||typeof vt=="boolean"?"":(""+vt).trim()}}catch(Nt){Yt(ot,ot.return,Nt)}}}else if(te.tag===6){if(ae===null){ot=te;try{ot.stateNode.nodeValue=xe?"":ot.memoizedProps}catch(Nt){Yt(ot,ot.return,Nt)}}}else if(te.tag===18){if(ae===null){ot=te;try{var _t=ot.stateNode;xe?ih(_t,!0):ih(ot.stateNode,!1)}catch(Nt){Yt(ot,ot.return,Nt)}}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===J)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===J)break e;for(;te.sibling===null;){if(te.return===null||te.return===J)break e;ae===te&&(ae=null),te=te.return}ae===te&&(ae=null),te.sibling.return=te.return,te=te.sibling}de&4&&(de=J.updateQueue,de!==null&&(ae=de.retryQueue,ae!==null&&(de.retryQueue=null,Ys(J,ae))));break;case 19:Cr(te,J),$r(J),de&4&&(de=J.updateQueue,de!==null&&(J.updateQueue=null,Ys(J,de)));break;case 30:break;case 21:break;default:Cr(te,J),$r(J)}}function $r(J){var te=J.flags;if(te&2){try{for(var ae,de=J.return;de!==null;){if(sd(de)){ae=de;break}de=de.return}if(ae==null)throw Error(I(160));switch(ae.tag){case 27:var xe=ae.stateNode,Ee=Wl(J);Ws(J,Ee,xe);break;case 5:var Be=ae.stateNode;ae.flags&32&&($i(Be,""),ae.flags&=-33);var Ye=Wl(J);Ws(J,Ye,Be);break;case 3:case 4:var ot=ae.stateNode.containerInfo,gt=Wl(J);Yl(J,gt,ot);break;default:throw Error(I(161))}}catch(yt){Yt(J,J.return,yt)}J.flags&=-3}te&4096&&(J.flags&=-4097)}function pd(J){if(J.subtreeFlags&1024)for(J=J.child;J!==null;){var te=J;pd(te),te.tag===5&&te.flags&1024&&te.stateNode.reset(),J=J.sibling}}function Sn(J,te){if(te.subtreeFlags&8772)for(te=te.child;te!==null;)ud(J,te.alternate,te),te=te.sibling}function Si(J){for(J=J.child;J!==null;){var te=J;switch(te.tag){case 0:case 11:case 14:case 15:Un(4,te,te.return),Si(te);break;case 1:an(te,te.return);var ae=te.stateNode;typeof ae.componentWillUnmount=="function"&&nd(te,te.return,ae),Si(te);break;case 27:Za(te.stateNode);case 26:case 5:an(te,te.return),Si(te);break;case 22:te.memoizedState===null&&Si(te);break;case 30:Si(te);break;default:Si(te)}J=J.sibling}}function En(J,te,ae){for(ae=ae&&(te.subtreeFlags&8772)!==0,te=te.child;te!==null;){var de=te.alternate,xe=J,Ee=te,Be=Ee.flags;switch(Ee.tag){case 0:case 11:case 15:En(xe,Ee,ae),Ba(4,Ee);break;case 1:if(En(xe,Ee,ae),de=Ee,xe=de.stateNode,typeof xe.componentDidMount=="function")try{xe.componentDidMount()}catch(gt){Yt(de,de.return,gt)}if(de=Ee,xe=de.updateQueue,xe!==null){var Ye=de.stateNode;try{var ot=xe.shared.hiddenCallbacks;if(ot!==null)for(xe.shared.hiddenCallbacks=null,xe=0;xe<ot.length;xe++)qc(ot[xe],Ye)}catch(gt){Yt(de,de.return,gt)}}ae&&Be&64&&rd(Ee),Fa(Ee,Ee.return);break;case 27:od(Ee);case 26:case 5:En(xe,Ee,ae),ae&&de===null&&Be&4&&ad(Ee),Fa(Ee,Ee.return);break;case 12:En(xe,Ee,ae);break;case 31:En(xe,Ee,ae),ae&&Be&4&&dd(xe,Ee);break;case 13:En(xe,Ee,ae),ae&&Be&4&&hd(xe,Ee);break;case 22:Ee.memoizedState===null&&En(xe,Ee,ae),Fa(Ee,Ee.return);break;case 30:break;default:En(xe,Ee,ae)}te=te.sibling}}function Kl(J,te){var ae=null;J!==null&&J.memoizedState!==null&&J.memoizedState.cachePool!==null&&(ae=J.memoizedState.cachePool.pool),J=null,te.memoizedState!==null&&te.memoizedState.cachePool!==null&&(J=te.memoizedState.cachePool.pool),J!==ae&&(J!=null&&J.refCount++,ae!=null&&Sa(ae))}function Ql(J,te){J=null,te.alternate!==null&&(J=te.alternate.memoizedState.cache),te=te.memoizedState.cache,te!==J&&(te.refCount++,J!=null&&Sa(J))}function en(J,te,ae,de){if(te.subtreeFlags&10256)for(te=te.child;te!==null;)gd(J,te,ae,de),te=te.sibling}function gd(J,te,ae,de){var xe=te.flags;switch(te.tag){case 0:case 11:case 15:en(J,te,ae,de),xe&2048&&Ba(9,te);break;case 1:en(J,te,ae,de);break;case 3:en(J,te,ae,de),xe&2048&&(J=null,te.alternate!==null&&(J=te.alternate.memoizedState.cache),te=te.memoizedState.cache,te!==J&&(te.refCount++,J!=null&&Sa(J)));break;case 12:if(xe&2048){en(J,te,ae,de),J=te.stateNode;try{var Ee=te.memoizedProps,Be=Ee.id,Ye=Ee.onPostCommit;typeof Ye=="function"&&Ye(Be,te.alternate===null?"mount":"update",J.passiveEffectDuration,-0)}catch(ot){Yt(te,te.return,ot)}}else en(J,te,ae,de);break;case 31:en(J,te,ae,de);break;case 13:en(J,te,ae,de);break;case 23:break;case 22:Ee=te.stateNode,Be=te.alternate,te.memoizedState!==null?Ee._visibility&2?en(J,te,ae,de):za(J,te):Ee._visibility&2?en(J,te,ae,de):(Ee._visibility|=2,Vi(J,te,ae,de,(te.subtreeFlags&10256)!==0||!1)),xe&2048&&Kl(Be,te);break;case 24:en(J,te,ae,de),xe&2048&&Ql(te.alternate,te);break;default:en(J,te,ae,de)}}function Vi(J,te,ae,de,xe){for(xe=xe&&((te.subtreeFlags&10256)!==0||!1),te=te.child;te!==null;){var Ee=J,Be=te,Ye=ae,ot=de,gt=Be.flags;switch(Be.tag){case 0:case 11:case 15:Vi(Ee,Be,Ye,ot,xe),Ba(8,Be);break;case 23:break;case 22:var yt=Be.stateNode;Be.memoizedState!==null?yt._visibility&2?Vi(Ee,Be,Ye,ot,xe):za(Ee,Be):(yt._visibility|=2,Vi(Ee,Be,Ye,ot,xe)),xe&&gt&2048&&Kl(Be.alternate,Be);break;case 24:Vi(Ee,Be,Ye,ot,xe),xe&&gt&2048&&Ql(Be.alternate,Be);break;default:Vi(Ee,Be,Ye,ot,xe)}te=te.sibling}}function za(J,te){if(te.subtreeFlags&10256)for(te=te.child;te!==null;){var ae=J,de=te,xe=de.flags;switch(de.tag){case 22:za(ae,de),xe&2048&&Kl(de.alternate,de);break;case 24:za(ae,de),xe&2048&&Ql(de.alternate,de);break;default:za(ae,de)}te=te.sibling}}var La=8192;function Zi(J,te,ae){if(J.subtreeFlags&La)for(J=J.child;J!==null;)vd(J,te,ae),J=J.sibling}function vd(J,te,ae){switch(J.tag){case 26:Zi(J,te,ae),J.flags&La&&J.memoizedState!==null&&zp(ae,Jr,J.memoizedState,J.memoizedProps);break;case 5:Zi(J,te,ae);break;case 3:case 4:var de=Jr;Jr=co(J.stateNode.containerInfo),Zi(J,te,ae),Jr=de;break;case 22:J.memoizedState===null&&(de=J.alternate,de!==null&&de.memoizedState!==null?(de=La,La=16777216,Zi(J,te,ae),La=de):Zi(J,te,ae));break;default:Zi(J,te,ae)}}function _d(J){var te=J.alternate;if(te!==null&&(J=te.child,J!==null)){te.child=null;do te=J.sibling,J.sibling=null,J=te;while(J!==null)}}function ja(J){var te=J.deletions;if((J.flags&16)!==0){if(te!==null)for(var ae=0;ae<te.length;ae++){var de=te[ae];pr=de,bd(de,J)}_d(J)}if(J.subtreeFlags&10256)for(J=J.child;J!==null;)yd(J),J=J.sibling}function yd(J){switch(J.tag){case 0:case 11:case 15:ja(J),J.flags&2048&&Un(9,J,J.return);break;case 3:ja(J);break;case 12:ja(J);break;case 22:var te=J.stateNode;J.memoizedState!==null&&te._visibility&2&&(J.return===null||J.return.tag!==13)?(te._visibility&=-3,Xs(J)):ja(J);break;default:ja(J)}}function Xs(J){var te=J.deletions;if((J.flags&16)!==0){if(te!==null)for(var ae=0;ae<te.length;ae++){var de=te[ae];pr=de,bd(de,J)}_d(J)}for(J=J.child;J!==null;){switch(te=J,te.tag){case 0:case 11:case 15:Un(8,te,te.return),Xs(te);break;case 22:ae=te.stateNode,ae._visibility&2&&(ae._visibility&=-3,Xs(te));break;default:Xs(te)}J=J.sibling}}function bd(J,te){for(;pr!==null;){var ae=pr;switch(ae.tag){case 0:case 11:case 15:Un(8,ae,te);break;case 23:case 22:if(ae.memoizedState!==null&&ae.memoizedState.cachePool!==null){var de=ae.memoizedState.cachePool.pool;de!=null&&de.refCount++}break;case 24:Sa(ae.memoizedState.cache)}if(de=ae.child,de!==null)de.return=ae,pr=de;else e:for(ae=J;pr!==null;){de=pr;var xe=de.sibling,Ee=de.return;if(cd(de),de===ae){pr=null;break e}if(xe!==null){xe.return=Ee,pr=xe;break e}pr=Ee}}}var Jm={getCacheForType:function(J){var te=vr(ur),ae=te.data.get(J);return ae===void 0&&(ae=J(),te.data.set(J,ae)),ae},cacheSignal:function(){return vr(ur).controller.signal}},ep=typeof WeakMap=="function"?WeakMap:Map,Zt=0,Jt=null,Ft=null,jt=0,Wt=0,Pr=null,Hn=!1,Wi=!1,Jl=!1,Cn=0,ir=0,qn=0,Ei=0,eu=0,Ir=0,Yi=0,Ua=null,Ar=null,tu=!1,Ks=0,xd=0,Qs=1/0,Js=null,Gn=null,mr=0,Vn=null,Xi=null,$n=0,ru=0,nu=null,wd=null,Ha=0,iu=null;function Br(){return(Zt&2)!==0&&jt!==0?jt&-jt:be.T!==null?cu():ss()}function Sd(){if(Ir===0)if((jt&536870912)===0||Ht){var J=Et;Et<<=1,(Et&3932160)===0&&(Et=262144),Ir=J}else Ir=536870912;return J=Dr.current,J!==null&&(J.flags|=32),Ir}function Tr(J,te,ae){(J===Jt&&(Wt===2||Wt===9)||J.cancelPendingCommit!==null)&&(Ki(J,0),Wn(J,jt,Ir,!1)),ii(J,ae),((Zt&2)===0||J!==Jt)&&(J===Jt&&((Zt&2)===0&&(Ei|=ae),ir===4&&Wn(J,jt,Ir,!1)),sn(J))}function Ed(J,te,ae){if((Zt&6)!==0)throw Error(I(327));var de=!ae&&(te&127)===0&&(te&J.expiredLanes)===0||zr(J,te),xe=de?np(J,te):su(J,te,!0),Ee=de;do{if(xe===0){Wi&&!de&&Wn(J,te,0,!1);break}else{if(ae=J.current.alternate,Ee&&!tp(ae)){xe=su(J,te,!1),Ee=!1;continue}if(xe===2){if(Ee=te,J.errorRecoveryDisabledLanes&Ee)var Be=0;else Be=J.pendingLanes&-536870913,Be=Be!==0?Be:Be&536870912?536870912:0;if(Be!==0){te=Be;e:{var Ye=J;xe=Ua;var ot=Ye.current.memoizedState.isDehydrated;if(ot&&(Ki(Ye,Be).flags|=256),Be=su(Ye,Be,!1),Be!==2){if(Jl&&!ot){Ye.errorRecoveryDisabledLanes|=Ee,Ei|=Ee,xe=4;break e}Ee=Ar,Ar=xe,Ee!==null&&(Ar===null?Ar=Ee:Ar.push.apply(Ar,Ee))}xe=Be}if(Ee=!1,xe!==2)continue}}if(xe===1){Ki(J,0),Wn(J,te,0,!0);break}e:{switch(de=J,Ee=xe,Ee){case 0:case 1:throw Error(I(345));case 4:if((te&4194048)!==te)break;case 6:Wn(de,te,Ir,!Hn);break e;case 2:Ar=null;break;case 3:case 5:break;default:throw Error(I(329))}if((te&62914560)===te&&(xe=Ks+300-Ue(),10<xe)){if(Wn(de,te,Ir,!Hn),lr(de,0,!0)!==0)break e;$n=te,de.timeoutHandle=th(Cd.bind(null,de,ae,Ar,Js,tu,te,Ir,Ei,Yi,Hn,Ee,"Throttled",-0,0),xe);break e}Cd(de,ae,Ar,Js,tu,te,Ir,Ei,Yi,Hn,Ee,null,-0,0)}}break}while(!0);sn(J)}function Cd(J,te,ae,de,xe,Ee,Be,Ye,ot,gt,yt,St,vt,_t){if(J.timeoutHandle=-1,St=te.subtreeFlags,St&8192||(St&16785408)===16785408){St={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fn},vd(te,Ee,St);var Nt=(Ee&62914560)===Ee?Ks-Ue():(Ee&4194048)===Ee?xd-Ue():0;if(Nt=Lp(St,Nt),Nt!==null){$n=Ee,J.cancelPendingCommit=Nt(kd.bind(null,J,te,Ee,ae,de,xe,Be,Ye,ot,yt,St,null,vt,_t)),Wn(J,Ee,Be,!gt);return}}kd(J,te,Ee,ae,de,xe,Be,Ye,ot)}function tp(J){for(var te=J;;){var ae=te.tag;if((ae===0||ae===11||ae===15)&&te.flags&16384&&(ae=te.updateQueue,ae!==null&&(ae=ae.stores,ae!==null)))for(var de=0;de<ae.length;de++){var xe=ae[de],Ee=xe.getSnapshot;xe=xe.value;try{if(!Mr(Ee(),xe))return!1}catch{return!1}}if(ae=te.child,te.subtreeFlags&16384&&ae!==null)ae.return=te,te=ae;else{if(te===J)break;for(;te.sibling===null;){if(te.return===null||te.return===J)return!0;te=te.return}te.sibling.return=te.return,te=te.sibling}}return!0}function Wn(J,te,ae,de){te&=~eu,te&=~Ei,J.suspendedLanes|=te,J.pingedLanes&=~te,de&&(J.warmLanes|=te),de=J.expirationTimes;for(var xe=te;0<xe;){var Ee=31-Ct(xe),Be=1<<Ee;de[Ee]=-1,xe&=~Be}ae!==0&&ns(J,ae,te)}function eo(){return(Zt&6)===0?(qa(0),!1):!0}function au(){if(Ft!==null){if(Wt===0)var J=Ft.return;else J=Ft,pn=hi=null,xl(J),ji=null,Ca=0,J=Ft;for(;J!==null;)td(J.alternate,J),J=J.return;Ft=null}}function Ki(J,te){var ae=J.timeoutHandle;ae!==-1&&(J.timeoutHandle=-1,wp(ae)),ae=J.cancelPendingCommit,ae!==null&&(J.cancelPendingCommit=null,ae()),$n=0,au(),Jt=J,Ft=ae=hn(J.current,null),jt=te,Wt=0,Pr=null,Hn=!1,Wi=zr(J,te),Jl=!1,Yi=Ir=eu=Ei=qn=ir=0,Ar=Ua=null,tu=!1,(te&8)!==0&&(te|=te&32);var de=J.entangledLanes;if(de!==0)for(J=J.entanglements,de&=te;0<de;){var xe=31-Ct(de),Ee=1<<xe;te|=J[xe],de&=~Ee}return Cn=te,xs(),ae}function $d(J,te){It=null,be.H=Oa,te===Li||te===Ns?(te=Lc(),Wt=3):te===ul?(te=Lc(),Wt=4):Wt=te===Bl?8:te!==null&&typeof te=="object"&&typeof te.then=="function"?6:1,Pr=te,Ft===null&&(ir=1,Hs(J,Hr(te,J.current)))}function Ad(){var J=Dr.current;return J===null?!0:(jt&4194048)===jt?Wr===null:(jt&62914560)===jt||(jt&536870912)!==0?J===Wr:!1}function Td(){var J=be.H;return be.H=Oa,J===null?Oa:J}function Nd(){var J=be.A;return be.A=Jm,J}function ro(){ir=4,Hn||(jt&4194048)!==jt&&Dr.current!==null||(Wi=!0),(qn&134217727)===0&&(Ei&134217727)===0||Jt===null||Wn(Jt,jt,Ir,!1)}function su(J,te,ae){var de=Zt;Zt|=2;var xe=Td(),Ee=Nd();(Jt!==J||jt!==te)&&(Js=null,Ki(J,te)),te=!1;var Be=ir;e:do try{if(Wt!==0&&Ft!==null){var Ye=Ft,ot=Pr;switch(Wt){case 8:au(),Be=6;break e;case 3:case 2:case 9:case 6:Dr.current===null&&(te=!0);var gt=Wt;if(Wt=0,Pr=null,Qi(J,Ye,ot,gt),ae&&Wi){Be=0;break e}break;default:gt=Wt,Wt=0,Pr=null,Qi(J,Ye,ot,gt)}}rp(),Be=ir;break}catch(yt){$d(J,yt)}while(!0);return te&&J.shellSuspendCounter++,pn=hi=null,Zt=de,be.H=xe,be.A=Ee,Ft===null&&(Jt=null,jt=0,xs()),Be}function rp(){for(;Ft!==null;)Md(Ft)}function np(J,te){var ae=Zt;Zt|=2;var de=Td(),xe=Nd();Jt!==J||jt!==te?(Js=null,Qs=Ue()+500,Ki(J,te)):Wi=zr(J,te);e:do try{if(Wt!==0&&Ft!==null){te=Ft;var Ee=Pr;t:switch(Wt){case 1:Wt=0,Pr=null,Qi(J,te,Ee,1);break;case 2:case 9:if(Fc(Ee)){Wt=0,Pr=null,Rd(te);break}te=function(){Wt!==2&&Wt!==9||Jt!==J||(Wt=7),sn(J)},Ee.then(te,te);break e;case 3:Wt=7;break e;case 4:Wt=5;break e;case 7:Fc(Ee)?(Wt=0,Pr=null,Rd(te)):(Wt=0,Pr=null,Qi(J,te,Ee,7));break;case 5:var Be=null;switch(Ft.tag){case 26:Be=Ft.memoizedState;case 5:case 27:var Ye=Ft;if(Be?vh(Be):Ye.stateNode.complete){Wt=0,Pr=null;var ot=Ye.sibling;if(ot!==null)Ft=ot;else{var gt=Ye.return;gt!==null?(Ft=gt,no(gt)):Ft=null}break t}}Wt=0,Pr=null,Qi(J,te,Ee,5);break;case 6:Wt=0,Pr=null,Qi(J,te,Ee,6);break;case 8:au(),ir=6;break e;default:throw Error(I(462))}}ip();break}catch(yt){$d(J,yt)}while(!0);return pn=hi=null,be.H=de,be.A=xe,Zt=ae,Ft!==null?0:(Jt=null,jt=0,xs(),ir)}function ip(){for(;Ft!==null&&!Ve();)Md(Ft)}function Md(J){var te=Jf(J.alternate,J,Cn);J.memoizedProps=J.pendingProps,te===null?no(J):Ft=te}function Rd(J){var te=J,ae=te.alternate;switch(te.tag){case 15:case 0:te=Zf(ae,te,te.pendingProps,te.type,void 0,jt);break;case 11:te=Zf(ae,te,te.pendingProps,te.type.render,te.ref,jt);break;case 5:xl(te);default:td(ae,te),te=Ft=Cc(te,Cn),te=Jf(ae,te,Cn)}J.memoizedProps=J.pendingProps,te===null?no(J):Ft=te}function Qi(J,te,ae,de){pn=hi=null,xl(te),ji=null,Ca=0;var xe=te.return;try{if(Vm(J,xe,te,ae,jt)){ir=1,Hs(J,Hr(ae,J.current)),Ft=null;return}}catch(Ee){if(xe!==null)throw Ft=xe,Ee;ir=1,Hs(J,Hr(ae,J.current)),Ft=null;return}te.flags&32768?(Ht||de===1?J=!0:Wi||(jt&536870912)!==0?J=!1:(Hn=J=!0,(de===2||de===9||de===3||de===6)&&(de=Dr.current,de!==null&&de.tag===13&&(de.flags|=16384))),Dd(te,J)):no(te)}function no(J){var te=J;do{if((te.flags&32768)!==0){Dd(te,Hn);return}J=te.return;var ae=Ym(te.alternate,te,Cn);if(ae!==null){Ft=ae;return}if(te=te.sibling,te!==null){Ft=te;return}Ft=te=J}while(te!==null);ir===0&&(ir=5)}function Dd(J,te){do{var ae=Xm(J.alternate,J);if(ae!==null){ae.flags&=32767,Ft=ae;return}if(ae=J.return,ae!==null&&(ae.flags|=32768,ae.subtreeFlags=0,ae.deletions=null),!te&&(J=J.sibling,J!==null)){Ft=J;return}Ft=J=ae}while(J!==null);ir=6,Ft=null}function kd(J,te,ae,de,xe,Ee,Be,Ye,ot){J.cancelPendingCommit=null;do io();while(mr!==0);if((Zt&6)!==0)throw Error(I(327));if(te!==null){if(te===J.current)throw Error(I(177));if(Ee=te.lanes|te.childLanes,Ee|=Wo,Eo(J,ae,Ee,Be,Ye,ot),J===Jt&&(Ft=Jt=null,jt=0),Xi=te,Vn=J,$n=ae,ru=Ee,nu=xe,wd=de,(te.subtreeFlags&10256)!==0||(te.flags&10256)!==0?(J.callbackNode=null,J.callbackPriority=0,up(et,function(){return Fd(),null})):(J.callbackNode=null,J.callbackPriority=0),de=(te.flags&13878)!==0,(te.subtreeFlags&13878)!==0||de){de=be.T,be.T=null,xe=Ce.p,Ce.p=2,Be=Zt,Zt|=4;try{Km(J,te,ae)}finally{Zt=Be,Ce.p=xe,be.T=de}}mr=1,Od(),Pd(),Id()}}function Od(){if(mr===1){mr=0;var J=Vn,te=Xi,ae=(te.flags&13878)!==0;if((te.subtreeFlags&13878)!==0||ae){ae=be.T,be.T=null;var de=Ce.p;Ce.p=2;var xe=Zt;Zt|=4;try{md(te,J);var Ee=_u,Be=pc(J.containerInfo),Ye=Ee.focusedElem,ot=Ee.selectionRange;if(Be!==Ye&&Ye&&Ye.ownerDocument&&mc(Ye.ownerDocument.documentElement,Ye)){if(ot!==null&&Ho(Ye)){var gt=ot.start,yt=ot.end;if(yt===void 0&&(yt=gt),"selectionStart"in Ye)Ye.selectionStart=gt,Ye.selectionEnd=Math.min(yt,Ye.value.length);else{var St=Ye.ownerDocument||document,vt=St&&St.defaultView||window;if(vt.getSelection){var _t=vt.getSelection(),Nt=Ye.textContent.length,Ot=Math.min(ot.start,Nt),Qt=ot.end===void 0?Ot:Math.min(ot.end,Nt);!_t.extend&&Ot>Qt&&(Be=Qt,Qt=Ot,Ot=Be);var dt=hc(Ye,Ot),lt=hc(Ye,Qt);if(dt&&lt&&(_t.rangeCount!==1||_t.anchorNode!==dt.node||_t.anchorOffset!==dt.offset||_t.focusNode!==lt.node||_t.focusOffset!==lt.offset)){var pt=St.createRange();pt.setStart(dt.node,dt.offset),_t.removeAllRanges(),Ot>Qt?(_t.addRange(pt),_t.extend(lt.node,lt.offset)):(pt.setEnd(lt.node,lt.offset),_t.addRange(pt))}}}}for(St=[],_t=Ye;_t=_t.parentNode;)_t.nodeType===1&&St.push({element:_t,left:_t.scrollLeft,top:_t.scrollTop});for(typeof Ye.focus=="function"&&Ye.focus(),Ye=0;Ye<St.length;Ye++){var wt=St[Ye];wt.element.scrollLeft=wt.left,wt.element.scrollTop=wt.top}}vo=!!vu,_u=vu=null}finally{Zt=xe,Ce.p=de,be.T=ae}}J.current=te,mr=2}}function Pd(){if(mr===2){mr=0;var J=Vn,te=Xi,ae=(te.flags&8772)!==0;if((te.subtreeFlags&8772)!==0||ae){ae=be.T,be.T=null;var de=Ce.p;Ce.p=2;var xe=Zt;Zt|=4;try{ud(J,te.alternate,te)}finally{Zt=xe,Ce.p=de,be.T=ae}}mr=3}}function Id(){if(mr===4||mr===3){mr=0,Ie();var J=Vn,te=Xi,ae=$n,de=wd;(te.subtreeFlags&10256)!==0||(te.flags&10256)!==0?mr=5:(mr=0,Xi=Vn=null,Bd(J,J.pendingLanes));var xe=J.pendingLanes;if(xe===0&&(Gn=null),la(ae),te=te.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(xt,te,void 0,(te.current.flags&128)===128)}catch{}if(de!==null){te=be.T,xe=Ce.p,Ce.p=2,be.T=null;try{for(var Ee=J.onRecoverableError,Be=0;Be<de.length;Be++){var Ye=de[Be];Ee(Ye.value,{componentStack:Ye.stack})}}finally{be.T=te,Ce.p=xe}}($n&3)!==0&&io(),sn(J),xe=J.pendingLanes,(ae&261930)!==0&&(xe&42)!==0?J===iu?Ha++:(Ha=0,iu=J):Ha=0,qa(0)}}function Bd(J,te){(J.pooledCacheLanes&=te)===0&&(te=J.pooledCache,te!=null&&(J.pooledCache=null,Sa(te)))}function io(){return Od(),Pd(),Id(),Fd()}function Fd(){if(mr!==5)return!1;var J=Vn,te=ru;ru=0;var ae=la($n),de=be.T,xe=Ce.p;try{Ce.p=32>ae?32:ae,be.T=null,ae=nu,nu=null;var Ee=Vn,Be=$n;if(mr=0,Xi=Vn=null,$n=0,(Zt&6)!==0)throw Error(I(331));var Ye=Zt;if(Zt|=4,yd(Ee.current),gd(Ee,Ee.current,Be,ae),Zt=Ye,qa(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(xt,Ee)}catch{}return!0}finally{Ce.p=xe,be.T=de,Bd(J,te)}}function zd(J,te,ae){te=Hr(ae,te),te=Il(J.stateNode,te,2),J=zn(J,te,2),J!==null&&(ii(J,2),sn(J))}function Yt(J,te,ae){if(J.tag===3)zd(J,J,ae);else for(;te!==null;){if(te.tag===3){zd(te,J,ae);break}else if(te.tag===1){var de=te.stateNode;if(typeof te.type.getDerivedStateFromError=="function"||typeof de.componentDidCatch=="function"&&(Gn===null||!Gn.has(de))){J=Hr(ae,J),ae=zf(2),de=zn(te,ae,2),de!==null&&(Lf(ae,de,te,J),ii(de,2),sn(de));break}}te=te.return}}function ou(J,te,ae){var de=J.pingCache;if(de===null){de=J.pingCache=new ep;var xe=new Set;de.set(te,xe)}else xe=de.get(te),xe===void 0&&(xe=new Set,de.set(te,xe));xe.has(ae)||(Jl=!0,xe.add(ae),J=ap.bind(null,J,te,ae),te.then(J,J))}function ap(J,te,ae){var de=J.pingCache;de!==null&&de.delete(te),J.pingedLanes|=J.suspendedLanes&ae,J.warmLanes&=~ae,Jt===J&&(jt&ae)===ae&&(ir===4||ir===3&&(jt&62914560)===jt&&300>Ue()-Ks?(Zt&2)===0&&Ki(J,0):eu|=ae,Yi===jt&&(Yi=0)),sn(J)}function Ld(J,te){te===0&&(te=rs()),J=ci(J,te),J!==null&&(ii(J,te),sn(J))}function sp(J){var te=J.memoizedState,ae=0;te!==null&&(ae=te.retryLane),Ld(J,ae)}function lp(J,te){var ae=0;switch(J.tag){case 31:case 13:var de=J.stateNode,xe=J.memoizedState;xe!==null&&(ae=xe.retryLane);break;case 19:de=J.stateNode;break;case 22:de=J.stateNode._retryCache;break;default:throw Error(I(314))}de!==null&&de.delete(te),Ld(J,ae)}function up(J,te){return ft(J,te)}var ao=null,Ji=null,lu=!1,so=!1,uu=!1,Kn=0;function sn(J){J!==Ji&&J.next===null&&(Ji===null?ao=Ji=J:Ji=Ji.next=J),so=!0,lu||(lu=!0,fp())}function qa(J,te){if(!uu&&so){uu=!0;do for(var ae=!1,de=ao;de!==null;){if(J!==0){var xe=de.pendingLanes;if(xe===0)var Ee=0;else{var Be=de.suspendedLanes,Ye=de.pingedLanes;Ee=(1<<31-Ct(42|J)+1)-1,Ee&=xe&~(Be&~Ye),Ee=Ee&201326741?Ee&201326741|1:Ee?Ee|2:0}Ee!==0&&(ae=!0,qd(de,Ee))}else Ee=jt,Ee=lr(de,de===Jt?Ee:0,de.cancelPendingCommit!==null||de.timeoutHandle!==-1),(Ee&3)===0||zr(de,Ee)||(ae=!0,qd(de,Ee));de=de.next}while(ae);uu=!1}}function cp(){jd()}function jd(){so=lu=!1;var J=0;Kn!==0&&xp()&&(J=Kn);for(var te=Ue(),ae=null,de=ao;de!==null;){var xe=de.next,Ee=Ud(de,te);Ee===0?(de.next=null,ae===null?ao=xe:ae.next=xe,xe===null&&(Ji=ae)):(ae=de,(J!==0||(Ee&3)!==0)&&(so=!0)),de=xe}mr!==0&&mr!==5||qa(J),Kn!==0&&(Kn=0)}function Ud(J,te){for(var ae=J.suspendedLanes,de=J.pingedLanes,xe=J.expirationTimes,Ee=J.pendingLanes&-62914561;0<Ee;){var Be=31-Ct(Ee),Ye=1<<Be,ot=xe[Be];ot===-1?((Ye&ae)===0||(Ye&de)!==0)&&(xe[Be]=aa(Ye,te)):ot<=te&&(J.expiredLanes|=Ye),Ee&=~Ye}if(te=Jt,ae=jt,ae=lr(J,J===te?ae:0,J.cancelPendingCommit!==null||J.timeoutHandle!==-1),de=J.callbackNode,ae===0||J===te&&(Wt===2||Wt===9)||J.cancelPendingCommit!==null)return de!==null&&de!==null&&je(de),J.callbackNode=null,J.callbackPriority=0;if((ae&3)===0||zr(J,ae)){if(te=ae&-ae,te===J.callbackPriority)return te;switch(de!==null&&je(de),la(ae)){case 2:case 8:ae=Je;break;case 32:ae=et;break;case 268435456:ae=ct;break;default:ae=et}return de=Hd.bind(null,J),ae=ft(ae,de),J.callbackPriority=te,J.callbackNode=ae,te}return de!==null&&de!==null&&je(de),J.callbackPriority=2,J.callbackNode=null,2}function Hd(J,te){if(mr!==0&&mr!==5)return J.callbackNode=null,J.callbackPriority=0,null;var ae=J.callbackNode;if(io()&&J.callbackNode!==ae)return null;var de=jt;return de=lr(J,J===Jt?de:0,J.cancelPendingCommit!==null||J.timeoutHandle!==-1),de===0?null:(Ed(J,de,te),Ud(J,Ue()),J.callbackNode!=null&&J.callbackNode===ae?Hd.bind(null,J):null)}function qd(J,te){if(io())return null;Ed(J,te,!0)}function fp(){Sp(function(){(Zt&6)!==0?ft(Fe,cp):jd()})}function cu(){if(Kn===0){var J=Fi;J===0&&(J=mt,mt<<=1,(mt&261888)===0&&(mt=256)),Kn=J}return Kn}function Gd(J){return J==null||typeof J=="symbol"||typeof J=="boolean"?null:typeof J=="function"?J:hs(""+J)}function Vd(J,te){var ae=te.ownerDocument.createElement("input");return ae.name=te.name,ae.value=te.value,J.id&&ae.setAttribute("form",J.id),te.parentNode.insertBefore(ae,te),J=new FormData(J),ae.parentNode.removeChild(ae),J}function dp(J,te,ae,de,xe){if(te==="submit"&&ae&&ae.stateNode===xe){var Ee=Gd((xe[xr]||null).action),Be=de.submitter;Be&&(te=(te=Be[xr]||null)?Gd(te.formAction):Be.getAttribute("formAction"),te!==null&&(Ee=te,Be=null));var Ye=new vs("action","action",null,de,xe);J.push({event:Ye,listeners:[{instance:null,listener:function(){if(de.defaultPrevented){if(Kn!==0){var ot=Be?Vd(xe,Be):new FormData(xe);Ml(ae,{pending:!0,data:ot,method:xe.method,action:Ee},null,ot)}}else typeof Ee=="function"&&(Ye.preventDefault(),ot=Be?Vd(xe,Be):new FormData(xe),Ml(ae,{pending:!0,data:ot,method:xe.method,action:Ee},Ee,ot))},currentTarget:xe}]})}}for(var fu=0;fu<Zo.length;fu++){var du=Zo[fu],hp=du.toLowerCase(),mp=du[0].toUpperCase()+du.slice(1);Qr(hp,"on"+mp)}Qr(_c,"onAnimationEnd"),Qr(yc,"onAnimationIteration"),Qr(bc,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(Nm,"onTransitionRun"),Qr(Mm,"onTransitionStart"),Qr(Rm,"onTransitionCancel"),Qr(xc,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ga));function Zd(J,te){te=(te&4)!==0;for(var ae=0;ae<J.length;ae++){var de=J[ae],xe=de.event;de=de.listeners;e:{var Ee=void 0;if(te)for(var Be=de.length-1;0<=Be;Be--){var Ye=de[Be],ot=Ye.instance,gt=Ye.currentTarget;if(Ye=Ye.listener,ot!==Ee&&xe.isPropagationStopped())break e;Ee=Ye,xe.currentTarget=gt;try{Ee(xe)}catch(yt){bs(yt)}xe.currentTarget=null,Ee=ot}else for(Be=0;Be<de.length;Be++){if(Ye=de[Be],ot=Ye.instance,gt=Ye.currentTarget,Ye=Ye.listener,ot!==Ee&&xe.isPropagationStopped())break e;Ee=Ye,xe.currentTarget=gt;try{Ee(xe)}catch(yt){bs(yt)}xe.currentTarget=null,Ee=ot}}}}function zt(J,te){var ae=te[ua];ae===void 0&&(ae=te[ua]=new Set);var de=J+"__bubble";ae.has(de)||(Wd(te,J,2,!1),ae.add(de))}function hu(J,te,ae){var de=0;te&&(de|=4),Wd(ae,J,de,te)}var oo="_reactListening"+Math.random().toString(36).slice(2);function mu(J){if(!J[oo]){J[oo]=!0,us.forEach(function(ae){ae!=="selectionchange"&&(pp.has(ae)||hu(ae,!1,J),hu(ae,!0,J))});var te=J.nodeType===9?J:J.ownerDocument;te===null||te[oo]||(te[oo]=!0,hu("selectionchange",!1,te))}}function Wd(J,te,ae,de){switch(Eh(te)){case 2:var xe=Hp;break;case 8:xe=qp;break;default:xe=Nu}ae=xe.bind(null,te,ae,J),xe=void 0,!Oo||te!=="touchstart"&&te!=="touchmove"&&te!=="wheel"||(xe=!0),de?xe!==void 0?J.addEventListener(te,ae,{capture:!0,passive:xe}):J.addEventListener(te,ae,!0):xe!==void 0?J.addEventListener(te,ae,{passive:xe}):J.addEventListener(te,ae,!1)}function pu(J,te,ae,de,xe){var Ee=de;if((te&1)===0&&(te&2)===0&&de!==null)e:for(;;){if(de===null)return;var Be=de.tag;if(Be===3||Be===4){var Ye=de.stateNode.containerInfo;if(Ye===xe)break;if(Be===4)for(Be=de.return;Be!==null;){var ot=Be.tag;if((ot===3||ot===4)&&Be.stateNode.containerInfo===xe)return;Be=Be.return}for(;Ye!==null;){if(Be=Nn(Ye),Be===null)return;if(ot=Be.tag,ot===5||ot===6||ot===26||ot===27){de=Ee=Be;continue e}Ye=Ye.parentNode}}de=de.return}Wu(function(){var gt=Ee,yt=Do(ae),St=[];e:{var vt=wc.get(J);if(vt!==void 0){var _t=vs,Nt=J;switch(J){case"keypress":if(ps(ae)===0)break e;case"keydown":case"keyup":_t=om;break;case"focusin":Nt="focus",_t=Fo;break;case"focusout":Nt="blur",_t=Fo;break;case"beforeblur":case"afterblur":_t=Fo;break;case"click":if(ae.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=Ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=Wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=cm;break;case _c:case yc:case bc:_t=Kh;break;case xc:_t=dm;break;case"scroll":case"scrollend":_t=Vh;break;case"wheel":_t=mm;break;case"copy":case"cut":case"paste":_t=Jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=Ju;break;case"toggle":case"beforetoggle":_t=gm}var Ot=(te&4)!==0,Qt=!Ot&&(J==="scroll"||J==="scrollend"),dt=Ot?vt!==null?vt+"Capture":null:vt;Ot=[];for(var lt=gt,pt;lt!==null;){var wt=lt;if(pt=wt.stateNode,wt=wt.tag,wt!==5&&wt!==26&&wt!==27||pt===null||dt===null||(wt=fa(lt,dt),wt!=null&&Ot.push(Va(lt,wt,pt))),Qt)break;lt=lt.return}0<Ot.length&&(vt=new _t(vt,Nt,null,ae,yt),St.push({event:vt,listeners:Ot}))}}if((te&7)===0){e:{if(vt=J==="mouseover"||J==="pointerover",_t=J==="mouseout"||J==="pointerout",vt&&ae!==Ro&&(Nt=ae.relatedTarget||ae.fromElement)&&(Nn(Nt)||Nt[Tn]))break e;if((_t||vt)&&(vt=yt.window===yt?yt:(vt=yt.ownerDocument)?vt.defaultView||vt.parentWindow:window,_t?(Nt=ae.relatedTarget||ae.toElement,_t=gt,Nt=Nt?Nn(Nt):null,Nt!==null&&(Qt=z(Nt),Ot=Nt.tag,Nt!==Qt||Ot!==5&&Ot!==27&&Ot!==6)&&(Nt=null)):(_t=null,Nt=gt),_t!==Nt)){if(Ot=Ku,wt="onMouseLeave",dt="onMouseEnter",lt="mouse",(J==="pointerout"||J==="pointerover")&&(Ot=Ju,wt="onPointerLeave",dt="onPointerEnter",lt="pointer"),Qt=_t==null?vt:Kr(_t),pt=Nt==null?vt:Kr(Nt),vt=new Ot(wt,lt+"leave",_t,ae,yt),vt.target=Qt,vt.relatedTarget=pt,wt=null,Nn(yt)===gt&&(Ot=new Ot(dt,lt+"enter",Nt,ae,yt),Ot.target=pt,Ot.relatedTarget=Qt,wt=Ot),Qt=wt,_t&&Nt)t:{for(Ot=gp,dt=_t,lt=Nt,pt=0,wt=dt;wt;wt=Ot(wt))pt++;wt=0;for(var kt=lt;kt;kt=Ot(kt))wt++;for(;0<pt-wt;)dt=Ot(dt),pt--;for(;0<wt-pt;)lt=Ot(lt),wt--;for(;pt--;){if(dt===lt||lt!==null&&dt===lt.alternate){Ot=dt;break t}dt=Ot(dt),lt=Ot(lt)}Ot=null}else Ot=null;_t!==null&&Yd(St,vt,_t,Ot,!1),Nt!==null&&Qt!==null&&Yd(St,Qt,Nt,Ot,!0)}}e:{if(vt=gt?Kr(gt):window,_t=vt.nodeName&&vt.nodeName.toLowerCase(),_t==="select"||_t==="input"&&vt.type==="file")var Gt=oc;else if(ac(vt))if(lc)Gt=$m;else{Gt=Em;var Rt=Sm}else _t=vt.nodeName,!_t||_t.toLowerCase()!=="input"||vt.type!=="checkbox"&&vt.type!=="radio"?gt&&Mo(gt.elementType)&&(Gt=oc):Gt=Cm;if(Gt&&(Gt=Gt(J,gt))){sc(St,Gt,ae,yt);break e}Rt&&Rt(J,vt,gt),J==="focusout"&&gt&&vt.type==="number"&&gt.memoizedProps.value!=null&&No(vt,"number",vt.value)}switch(Rt=gt?Kr(gt):window,J){case"focusin":(ac(Rt)||Rt.contentEditable==="true")&&(Mi=Rt,qo=gt,ba=null);break;case"focusout":ba=qo=Mi=null;break;case"mousedown":Go=!0;break;case"contextmenu":case"mouseup":case"dragend":Go=!1,gc(St,ae,yt);break;case"selectionchange":if(Tm)break;case"keydown":case"keyup":gc(St,ae,yt)}var Bt;if(Lo)e:{switch(J){case"compositionstart":var Ut="onCompositionStart";break e;case"compositionend":Ut="onCompositionEnd";break e;case"compositionupdate":Ut="onCompositionUpdate";break e}Ut=void 0}else Ni?nc(J,ae)&&(Ut="onCompositionEnd"):J==="keydown"&&ae.keyCode===229&&(Ut="onCompositionStart");Ut&&(ec&&ae.locale!=="ko"&&(Ni||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Ni&&(Bt=Yu()):(Dn=yt,Po="value"in Dn?Dn.value:Dn.textContent,Ni=!0)),Rt=lo(gt,Ut),0<Rt.length&&(Ut=new Qu(Ut,J,null,ae,yt),St.push({event:Ut,listeners:Rt}),Bt?Ut.data=Bt:(Bt=ic(ae),Bt!==null&&(Ut.data=Bt)))),(Bt=_m?ym(J,ae):bm(J,ae))&&(Ut=lo(gt,"onBeforeInput"),0<Ut.length&&(Rt=new Qu("onBeforeInput","beforeinput",null,ae,yt),St.push({event:Rt,listeners:Ut}),Rt.data=Bt)),dp(St,J,gt,ae,yt)}Zd(St,te)})}function Va(J,te,ae){return{instance:J,listener:te,currentTarget:ae}}function lo(J,te){for(var ae=te+"Capture",de=[];J!==null;){var xe=J,Ee=xe.stateNode;if(xe=xe.tag,xe!==5&&xe!==26&&xe!==27||Ee===null||(xe=fa(J,ae),xe!=null&&de.unshift(Va(J,xe,Ee)),xe=fa(J,te),xe!=null&&de.push(Va(J,xe,Ee))),J.tag===3)return de;J=J.return}return[]}function gp(J){if(J===null)return null;do J=J.return;while(J&&J.tag!==5&&J.tag!==27);return J||null}function Yd(J,te,ae,de,xe){for(var Ee=te._reactName,Be=[];ae!==null&&ae!==de;){var Ye=ae,ot=Ye.alternate,gt=Ye.stateNode;if(Ye=Ye.tag,ot!==null&&ot===de)break;Ye!==5&&Ye!==26&&Ye!==27||gt===null||(ot=gt,xe?(gt=fa(ae,Ee),gt!=null&&Be.unshift(Va(ae,gt,ot))):xe||(gt=fa(ae,Ee),gt!=null&&Be.push(Va(ae,gt,ot)))),ae=ae.return}Be.length!==0&&J.push({event:te,listeners:Be})}var vp=/\r\n?/g,_p=/\u0000|\uFFFD/g;function Xd(J){return(typeof J=="string"?J:""+J).replace(vp,`
`).replace(_p,"")}function Kd(J,te){return te=Xd(te),Xd(J)===te}function Kt(J,te,ae,de,xe,Ee){switch(ae){case"children":typeof de=="string"?te==="body"||te==="textarea"&&de===""||$i(J,de):(typeof de=="number"||typeof de=="bigint")&&te!=="body"&&$i(J,""+de);break;case"className":fs(J,"class",de);break;case"tabIndex":fs(J,"tabindex",de);break;case"dir":case"role":case"viewBox":case"width":case"height":fs(J,ae,de);break;case"style":Vu(J,de,Ee);break;case"data":if(te!=="object"){fs(J,"data",de);break}case"src":case"href":if(de===""&&(te!=="a"||ae!=="href")){J.removeAttribute(ae);break}if(de==null||typeof de=="function"||typeof de=="symbol"||typeof de=="boolean"){J.removeAttribute(ae);break}de=hs(""+de),J.setAttribute(ae,de);break;case"action":case"formAction":if(typeof de=="function"){J.setAttribute(ae,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Ee=="function"&&(ae==="formAction"?(te!=="input"&&Kt(J,te,"name",xe.name,xe,null),Kt(J,te,"formEncType",xe.formEncType,xe,null),Kt(J,te,"formMethod",xe.formMethod,xe,null),Kt(J,te,"formTarget",xe.formTarget,xe,null)):(Kt(J,te,"encType",xe.encType,xe,null),Kt(J,te,"method",xe.method,xe,null),Kt(J,te,"target",xe.target,xe,null)));if(de==null||typeof de=="symbol"||typeof de=="boolean"){J.removeAttribute(ae);break}de=hs(""+de),J.setAttribute(ae,de);break;case"onClick":de!=null&&(J.onclick=fn);break;case"onScroll":de!=null&&zt("scroll",J);break;case"onScrollEnd":de!=null&&zt("scrollend",J);break;case"dangerouslySetInnerHTML":if(de!=null){if(typeof de!="object"||!("__html"in de))throw Error(I(61));if(ae=de.__html,ae!=null){if(xe.children!=null)throw Error(I(60));J.innerHTML=ae}}break;case"multiple":J.multiple=de&&typeof de!="function"&&typeof de!="symbol";break;case"muted":J.muted=de&&typeof de!="function"&&typeof de!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(de==null||typeof de=="function"||typeof de=="boolean"||typeof de=="symbol"){J.removeAttribute("xlink:href");break}ae=hs(""+de),J.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",ae);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":de!=null&&typeof de!="function"&&typeof de!="symbol"?J.setAttribute(ae,""+de):J.removeAttribute(ae);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":de&&typeof de!="function"&&typeof de!="symbol"?J.setAttribute(ae,""):J.removeAttribute(ae);break;case"capture":case"download":de===!0?J.setAttribute(ae,""):de!==!1&&de!=null&&typeof de!="function"&&typeof de!="symbol"?J.setAttribute(ae,de):J.removeAttribute(ae);break;case"cols":case"rows":case"size":case"span":de!=null&&typeof de!="function"&&typeof de!="symbol"&&!isNaN(de)&&1<=de?J.setAttribute(ae,de):J.removeAttribute(ae);break;case"rowSpan":case"start":de==null||typeof de=="function"||typeof de=="symbol"||isNaN(de)?J.removeAttribute(ae):J.setAttribute(ae,de);break;case"popover":zt("beforetoggle",J),zt("toggle",J),cs(J,"popover",de);break;case"xlinkActuate":un(J,"http://www.w3.org/1999/xlink","xlink:actuate",de);break;case"xlinkArcrole":un(J,"http://www.w3.org/1999/xlink","xlink:arcrole",de);break;case"xlinkRole":un(J,"http://www.w3.org/1999/xlink","xlink:role",de);break;case"xlinkShow":un(J,"http://www.w3.org/1999/xlink","xlink:show",de);break;case"xlinkTitle":un(J,"http://www.w3.org/1999/xlink","xlink:title",de);break;case"xlinkType":un(J,"http://www.w3.org/1999/xlink","xlink:type",de);break;case"xmlBase":un(J,"http://www.w3.org/XML/1998/namespace","xml:base",de);break;case"xmlLang":un(J,"http://www.w3.org/XML/1998/namespace","xml:lang",de);break;case"xmlSpace":un(J,"http://www.w3.org/XML/1998/namespace","xml:space",de);break;case"is":cs(J,"is",de);break;case"innerText":case"textContent":break;default:(!(2<ae.length)||ae[0]!=="o"&&ae[0]!=="O"||ae[1]!=="n"&&ae[1]!=="N")&&(ae=qh.get(ae)||ae,cs(J,ae,de))}}function gu(J,te,ae,de,xe,Ee){switch(ae){case"style":Vu(J,de,Ee);break;case"dangerouslySetInnerHTML":if(de!=null){if(typeof de!="object"||!("__html"in de))throw Error(I(61));if(ae=de.__html,ae!=null){if(xe.children!=null)throw Error(I(60));J.innerHTML=ae}}break;case"children":typeof de=="string"?$i(J,de):(typeof de=="number"||typeof de=="bigint")&&$i(J,""+de);break;case"onScroll":de!=null&&zt("scroll",J);break;case"onScrollEnd":de!=null&&zt("scrollend",J);break;case"onClick":de!=null&&(J.onclick=fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!si.hasOwnProperty(ae))e:{if(ae[0]==="o"&&ae[1]==="n"&&(xe=ae.endsWith("Capture"),te=ae.slice(2,xe?ae.length-7:void 0),Ee=J[xr]||null,Ee=Ee!=null?Ee[ae]:null,typeof Ee=="function"&&J.removeEventListener(te,Ee,xe),typeof de=="function")){typeof Ee!="function"&&Ee!==null&&(ae in J?J[ae]=null:J.hasAttribute(ae)&&J.removeAttribute(ae)),J.addEventListener(te,de,xe);break e}ae in J?J[ae]=de:de===!0?J.setAttribute(ae,""):cs(J,ae,de)}}}function yr(J,te,ae){switch(te){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",J),zt("load",J);var de=!1,xe=!1,Ee;for(Ee in ae)if(ae.hasOwnProperty(Ee)){var Be=ae[Ee];if(Be!=null)switch(Ee){case"src":de=!0;break;case"srcSet":xe=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(I(137,te));default:Kt(J,te,Ee,Be,ae,null)}}xe&&Kt(J,te,"srcSet",ae.srcSet,ae,null),de&&Kt(J,te,"src",ae.src,ae,null);return;case"input":zt("invalid",J);var Ye=Ee=Be=xe=null,ot=null,gt=null;for(de in ae)if(ae.hasOwnProperty(de)){var yt=ae[de];if(yt!=null)switch(de){case"name":xe=yt;break;case"type":Be=yt;break;case"checked":ot=yt;break;case"defaultChecked":gt=yt;break;case"value":Ee=yt;break;case"defaultValue":Ye=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(I(137,te));break;default:Kt(J,te,de,yt,ae,null)}}Uu(J,Ee,Ye,ot,gt,Be,xe,!1);return;case"select":zt("invalid",J),de=Be=Ee=null;for(xe in ae)if(ae.hasOwnProperty(xe)&&(Ye=ae[xe],Ye!=null))switch(xe){case"value":Ee=Ye;break;case"defaultValue":Be=Ye;break;case"multiple":de=Ye;default:Kt(J,te,xe,Ye,ae,null)}te=Ee,ae=Be,J.multiple=!!de,te!=null?Ci(J,!!de,te,!1):ae!=null&&Ci(J,!!de,ae,!0);return;case"textarea":zt("invalid",J),Ee=xe=de=null;for(Be in ae)if(ae.hasOwnProperty(Be)&&(Ye=ae[Be],Ye!=null))switch(Be){case"value":de=Ye;break;case"defaultValue":xe=Ye;break;case"children":Ee=Ye;break;case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(I(91));break;default:Kt(J,te,Be,Ye,ae,null)}qu(J,de,xe,Ee);return;case"option":for(ot in ae)ae.hasOwnProperty(ot)&&(de=ae[ot],de!=null)&&(ot==="selected"?J.selected=de&&typeof de!="function"&&typeof de!="symbol":Kt(J,te,ot,de,ae,null));return;case"dialog":zt("beforetoggle",J),zt("toggle",J),zt("cancel",J),zt("close",J);break;case"iframe":case"object":zt("load",J);break;case"video":case"audio":for(de=0;de<Ga.length;de++)zt(Ga[de],J);break;case"image":zt("error",J),zt("load",J);break;case"details":zt("toggle",J);break;case"embed":case"source":case"link":zt("error",J),zt("load",J);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(gt in ae)if(ae.hasOwnProperty(gt)&&(de=ae[gt],de!=null))switch(gt){case"children":case"dangerouslySetInnerHTML":throw Error(I(137,te));default:Kt(J,te,gt,de,ae,null)}return;default:if(Mo(te)){for(yt in ae)ae.hasOwnProperty(yt)&&(de=ae[yt],de!==void 0&&gu(J,te,yt,de,ae,void 0));return}}for(Ye in ae)ae.hasOwnProperty(Ye)&&(de=ae[Ye],de!=null&&Kt(J,te,Ye,de,ae,null))}function yp(J,te,ae,de){switch(te){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var xe=null,Ee=null,Be=null,Ye=null,ot=null,gt=null,yt=null;for(_t in ae){var St=ae[_t];if(ae.hasOwnProperty(_t)&&St!=null)switch(_t){case"checked":break;case"value":break;case"defaultValue":ot=St;default:de.hasOwnProperty(_t)||Kt(J,te,_t,null,de,St)}}for(var vt in de){var _t=de[vt];if(St=ae[vt],de.hasOwnProperty(vt)&&(_t!=null||St!=null))switch(vt){case"type":Ee=_t;break;case"name":xe=_t;break;case"checked":gt=_t;break;case"defaultChecked":yt=_t;break;case"value":Be=_t;break;case"defaultValue":Ye=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(I(137,te));break;default:_t!==St&&Kt(J,te,vt,_t,de,St)}}To(J,Be,Ye,ot,gt,yt,Ee,xe);return;case"select":_t=Be=Ye=vt=null;for(Ee in ae)if(ot=ae[Ee],ae.hasOwnProperty(Ee)&&ot!=null)switch(Ee){case"value":break;case"multiple":_t=ot;default:de.hasOwnProperty(Ee)||Kt(J,te,Ee,null,de,ot)}for(xe in de)if(Ee=de[xe],ot=ae[xe],de.hasOwnProperty(xe)&&(Ee!=null||ot!=null))switch(xe){case"value":vt=Ee;break;case"defaultValue":Ye=Ee;break;case"multiple":Be=Ee;default:Ee!==ot&&Kt(J,te,xe,Ee,de,ot)}te=Ye,ae=Be,de=_t,vt!=null?Ci(J,!!ae,vt,!1):!!de!=!!ae&&(te!=null?Ci(J,!!ae,te,!0):Ci(J,!!ae,ae?[]:"",!1));return;case"textarea":_t=vt=null;for(Ye in ae)if(xe=ae[Ye],ae.hasOwnProperty(Ye)&&xe!=null&&!de.hasOwnProperty(Ye))switch(Ye){case"value":break;case"children":break;default:Kt(J,te,Ye,null,de,xe)}for(Be in de)if(xe=de[Be],Ee=ae[Be],de.hasOwnProperty(Be)&&(xe!=null||Ee!=null))switch(Be){case"value":vt=xe;break;case"defaultValue":_t=xe;break;case"children":break;case"dangerouslySetInnerHTML":if(xe!=null)throw Error(I(91));break;default:xe!==Ee&&Kt(J,te,Be,xe,de,Ee)}Hu(J,vt,_t);return;case"option":for(var Nt in ae)vt=ae[Nt],ae.hasOwnProperty(Nt)&&vt!=null&&!de.hasOwnProperty(Nt)&&(Nt==="selected"?J.selected=!1:Kt(J,te,Nt,null,de,vt));for(ot in de)vt=de[ot],_t=ae[ot],de.hasOwnProperty(ot)&&vt!==_t&&(vt!=null||_t!=null)&&(ot==="selected"?J.selected=vt&&typeof vt!="function"&&typeof vt!="symbol":Kt(J,te,ot,vt,de,_t));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in ae)vt=ae[Ot],ae.hasOwnProperty(Ot)&&vt!=null&&!de.hasOwnProperty(Ot)&&Kt(J,te,Ot,null,de,vt);for(gt in de)if(vt=de[gt],_t=ae[gt],de.hasOwnProperty(gt)&&vt!==_t&&(vt!=null||_t!=null))switch(gt){case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(I(137,te));break;default:Kt(J,te,gt,vt,de,_t)}return;default:if(Mo(te)){for(var Qt in ae)vt=ae[Qt],ae.hasOwnProperty(Qt)&&vt!==void 0&&!de.hasOwnProperty(Qt)&&gu(J,te,Qt,void 0,de,vt);for(yt in de)vt=de[yt],_t=ae[yt],!de.hasOwnProperty(yt)||vt===_t||vt===void 0&&_t===void 0||gu(J,te,yt,vt,de,_t);return}}for(var dt in ae)vt=ae[dt],ae.hasOwnProperty(dt)&&vt!=null&&!de.hasOwnProperty(dt)&&Kt(J,te,dt,null,de,vt);for(St in de)vt=de[St],_t=ae[St],!de.hasOwnProperty(St)||vt===_t||vt==null&&_t==null||Kt(J,te,St,vt,de,_t)}function Qd(J){switch(J){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bp(){if(typeof performance.getEntriesByType=="function"){for(var J=0,te=0,ae=performance.getEntriesByType("resource"),de=0;de<ae.length;de++){var xe=ae[de],Ee=xe.transferSize,Be=xe.initiatorType,Ye=xe.duration;if(Ee&&Ye&&Qd(Be)){for(Be=0,Ye=xe.responseEnd,de+=1;de<ae.length;de++){var ot=ae[de],gt=ot.startTime;if(gt>Ye)break;var yt=ot.transferSize,St=ot.initiatorType;yt&&Qd(St)&&(ot=ot.responseEnd,Be+=yt*(ot<Ye?1:(Ye-gt)/(ot-gt)))}if(--de,te+=8*(Ee+Be)/(xe.duration/1e3),J++,10<J)break}}if(0<J)return te/J/1e6}return navigator.connection&&(J=navigator.connection.downlink,typeof J=="number")?J:5}var vu=null,_u=null;function uo(J){return J.nodeType===9?J:J.ownerDocument}function Jd(J){switch(J){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eh(J,te){if(J===0)switch(te){case"svg":return 1;case"math":return 2;default:return 0}return J===1&&te==="foreignObject"?0:J}function yu(J,te){return J==="textarea"||J==="noscript"||typeof te.children=="string"||typeof te.children=="number"||typeof te.children=="bigint"||typeof te.dangerouslySetInnerHTML=="object"&&te.dangerouslySetInnerHTML!==null&&te.dangerouslySetInnerHTML.__html!=null}var bu=null;function xp(){var J=window.event;return J&&J.type==="popstate"?J===bu?!1:(bu=J,!0):(bu=null,!1)}var th=typeof setTimeout=="function"?setTimeout:void 0,wp=typeof clearTimeout=="function"?clearTimeout:void 0,rh=typeof Promise=="function"?Promise:void 0,Sp=typeof queueMicrotask=="function"?queueMicrotask:typeof rh<"u"?function(J){return rh.resolve(null).then(J).catch(Ep)}:th;function Ep(J){setTimeout(function(){throw J})}function Qn(J){return J==="head"}function nh(J,te){var ae=te,de=0;do{var xe=ae.nextSibling;if(J.removeChild(ae),xe&&xe.nodeType===8)if(ae=xe.data,ae==="/$"||ae==="/&"){if(de===0){J.removeChild(xe),na(te);return}de--}else if(ae==="$"||ae==="$?"||ae==="$~"||ae==="$!"||ae==="&")de++;else if(ae==="html")Za(J.ownerDocument.documentElement);else if(ae==="head"){ae=J.ownerDocument.head,Za(ae);for(var Ee=ae.firstChild;Ee;){var Be=Ee.nextSibling,Ye=Ee.nodeName;Ee[ai]||Ye==="SCRIPT"||Ye==="STYLE"||Ye==="LINK"&&Ee.rel.toLowerCase()==="stylesheet"||ae.removeChild(Ee),Ee=Be}}else ae==="body"&&Za(J.ownerDocument.body);ae=xe}while(ae);na(te)}function ih(J,te){var ae=J;J=0;do{var de=ae.nextSibling;if(ae.nodeType===1?te?(ae._stashedDisplay=ae.style.display,ae.style.display="none"):(ae.style.display=ae._stashedDisplay||"",ae.getAttribute("style")===""&&ae.removeAttribute("style")):ae.nodeType===3&&(te?(ae._stashedText=ae.nodeValue,ae.nodeValue=""):ae.nodeValue=ae._stashedText||""),de&&de.nodeType===8)if(ae=de.data,ae==="/$"){if(J===0)break;J--}else ae!=="$"&&ae!=="$?"&&ae!=="$~"&&ae!=="$!"||J++;ae=de}while(ae)}function xu(J){var te=J.firstChild;for(te&&te.nodeType===10&&(te=te.nextSibling);te;){var ae=te;switch(te=te.nextSibling,ae.nodeName){case"HTML":case"HEAD":case"BODY":xu(ae),ca(ae);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(ae.rel.toLowerCase()==="stylesheet")continue}J.removeChild(ae)}}function Cp(J,te,ae,de){for(;J.nodeType===1;){var xe=ae;if(J.nodeName.toLowerCase()!==te.toLowerCase()){if(!de&&(J.nodeName!=="INPUT"||J.type!=="hidden"))break}else if(de){if(!J[ai])switch(te){case"meta":if(!J.hasAttribute("itemprop"))break;return J;case"link":if(Ee=J.getAttribute("rel"),Ee==="stylesheet"&&J.hasAttribute("data-precedence"))break;if(Ee!==xe.rel||J.getAttribute("href")!==(xe.href==null||xe.href===""?null:xe.href)||J.getAttribute("crossorigin")!==(xe.crossOrigin==null?null:xe.crossOrigin)||J.getAttribute("title")!==(xe.title==null?null:xe.title))break;return J;case"style":if(J.hasAttribute("data-precedence"))break;return J;case"script":if(Ee=J.getAttribute("src"),(Ee!==(xe.src==null?null:xe.src)||J.getAttribute("type")!==(xe.type==null?null:xe.type)||J.getAttribute("crossorigin")!==(xe.crossOrigin==null?null:xe.crossOrigin))&&Ee&&J.hasAttribute("async")&&!J.hasAttribute("itemprop"))break;return J;default:return J}}else if(te==="input"&&J.type==="hidden"){var Ee=xe.name==null?null:""+xe.name;if(xe.type==="hidden"&&J.getAttribute("name")===Ee)return J}else return J;if(J=Yr(J.nextSibling),J===null)break}return null}function $p(J,te,ae){if(te==="")return null;for(;J.nodeType!==3;)if((J.nodeType!==1||J.nodeName!=="INPUT"||J.type!=="hidden")&&!ae||(J=Yr(J.nextSibling),J===null))return null;return J}function ah(J,te){for(;J.nodeType!==8;)if((J.nodeType!==1||J.nodeName!=="INPUT"||J.type!=="hidden")&&!te||(J=Yr(J.nextSibling),J===null))return null;return J}function wu(J){return J.data==="$?"||J.data==="$~"}function Su(J){return J.data==="$!"||J.data==="$?"&&J.ownerDocument.readyState!=="loading"}function Ap(J,te){var ae=J.ownerDocument;if(J.data==="$~")J._reactRetry=te;else if(J.data!=="$?"||ae.readyState!=="loading")te();else{var de=function(){te(),ae.removeEventListener("DOMContentLoaded",de)};ae.addEventListener("DOMContentLoaded",de),J._reactRetry=de}}function Yr(J){for(;J!=null;J=J.nextSibling){var te=J.nodeType;if(te===1||te===3)break;if(te===8){if(te=J.data,te==="$"||te==="$!"||te==="$?"||te==="$~"||te==="&"||te==="F!"||te==="F")break;if(te==="/$"||te==="/&")return null}}return J}var Eu=null;function sh(J){J=J.nextSibling;for(var te=0;J;){if(J.nodeType===8){var ae=J.data;if(ae==="/$"||ae==="/&"){if(te===0)return Yr(J.nextSibling);te--}else ae!=="$"&&ae!=="$!"&&ae!=="$?"&&ae!=="$~"&&ae!=="&"||te++}J=J.nextSibling}return null}function oh(J){J=J.previousSibling;for(var te=0;J;){if(J.nodeType===8){var ae=J.data;if(ae==="$"||ae==="$!"||ae==="$?"||ae==="$~"||ae==="&"){if(te===0)return J;te--}else ae!=="/$"&&ae!=="/&"||te++}J=J.previousSibling}return null}function lh(J,te,ae){switch(te=uo(ae),J){case"html":if(J=te.documentElement,!J)throw Error(I(452));return J;case"head":if(J=te.head,!J)throw Error(I(453));return J;case"body":if(J=te.body,!J)throw Error(I(454));return J;default:throw Error(I(451))}}function Za(J){for(var te=J.attributes;te.length;)J.removeAttributeNode(te[0]);ca(J)}var Xr=new Map,uh=new Set;function co(J){return typeof J.getRootNode=="function"?J.getRootNode():J.nodeType===9?J:J.ownerDocument}var An=Ce.d;Ce.d={f:Tp,r:Np,D:Mp,C:Rp,L:Dp,m:kp,X:Pp,S:Op,M:Ip};function Tp(){var J=An.f(),te=eo();return J||te}function Np(J){var te=Mn(J);te!==null&&te.tag===5&&te.type==="form"?Cf(te):An.r(J)}var ea=typeof document>"u"?null:document;function fh(J,te,ae){var de=ea;if(de&&typeof te=="string"&&te){var xe=jr(te);xe='link[rel="'+J+'"][href="'+xe+'"]',typeof ae=="string"&&(xe+='[crossorigin="'+ae+'"]'),uh.has(xe)||(uh.add(xe),J={rel:J,crossOrigin:ae,href:te},de.querySelector(xe)===null&&(te=de.createElement("link"),yr(te,"link",J),qt(te),de.head.appendChild(te)))}}function Mp(J){An.D(J),fh("dns-prefetch",J,null)}function Rp(J,te){An.C(J,te),fh("preconnect",J,te)}function Dp(J,te,ae){An.L(J,te,ae);var de=ea;if(de&&J&&te){var xe='link[rel="preload"][as="'+jr(te)+'"]';te==="image"&&ae&&ae.imageSrcSet?(xe+='[imagesrcset="'+jr(ae.imageSrcSet)+'"]',typeof ae.imageSizes=="string"&&(xe+='[imagesizes="'+jr(ae.imageSizes)+'"]')):xe+='[href="'+jr(J)+'"]';var Ee=xe;switch(te){case"style":Ee=ta(J);break;case"script":Ee=ra(J)}Xr.has(Ee)||(J=Z({rel:"preload",href:te==="image"&&ae&&ae.imageSrcSet?void 0:J,as:te},ae),Xr.set(Ee,J),de.querySelector(xe)!==null||te==="style"&&de.querySelector(Wa(Ee))||te==="script"&&de.querySelector(Ya(Ee))||(te=de.createElement("link"),yr(te,"link",J),qt(te),de.head.appendChild(te)))}}function kp(J,te){An.m(J,te);var ae=ea;if(ae&&J){var de=te&&typeof te.as=="string"?te.as:"script",xe='link[rel="modulepreload"][as="'+jr(de)+'"][href="'+jr(J)+'"]',Ee=xe;switch(de){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Ee=ra(J)}if(!Xr.has(Ee)&&(J=Z({rel:"modulepreload",href:J},te),Xr.set(Ee,J),ae.querySelector(xe)===null)){switch(de){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(ae.querySelector(Ya(Ee)))return}de=ae.createElement("link"),yr(de,"link",J),qt(de),ae.head.appendChild(de)}}}function Op(J,te,ae){An.S(J,te,ae);var de=ea;if(de&&J){var xe=Lt(de).hoistableStyles,Ee=ta(J);te=te||"default";var Be=xe.get(Ee);if(!Be){var Ye={loading:0,preload:null};if(Be=de.querySelector(Wa(Ee)))Ye.loading=5;else{J=Z({rel:"stylesheet",href:J,"data-precedence":te},ae),(ae=Xr.get(Ee))&&Cu(J,ae);var ot=Be=de.createElement("link");qt(ot),yr(ot,"link",J),ot._p=new Promise(function(gt,yt){ot.onload=gt,ot.onerror=yt}),ot.addEventListener("load",function(){Ye.loading|=1}),ot.addEventListener("error",function(){Ye.loading|=2}),Ye.loading|=4,fo(Be,te,de)}Be={type:"stylesheet",instance:Be,count:1,state:Ye},xe.set(Ee,Be)}}}function Pp(J,te){An.X(J,te);var ae=ea;if(ae&&J){var de=Lt(ae).hoistableScripts,xe=ra(J),Ee=de.get(xe);Ee||(Ee=ae.querySelector(Ya(xe)),Ee||(J=Z({src:J,async:!0},te),(te=Xr.get(xe))&&$u(J,te),Ee=ae.createElement("script"),qt(Ee),yr(Ee,"link",J),ae.head.appendChild(Ee)),Ee={type:"script",instance:Ee,count:1,state:null},de.set(xe,Ee))}}function Ip(J,te){An.M(J,te);var ae=ea;if(ae&&J){var de=Lt(ae).hoistableScripts,xe=ra(J),Ee=de.get(xe);Ee||(Ee=ae.querySelector(Ya(xe)),Ee||(J=Z({src:J,async:!0,type:"module"},te),(te=Xr.get(xe))&&$u(J,te),Ee=ae.createElement("script"),qt(Ee),yr(Ee,"link",J),ae.head.appendChild(Ee)),Ee={type:"script",instance:Ee,count:1,state:null},de.set(xe,Ee))}}function dh(J,te,ae,de){var xe=(xe=Qe.current)?co(xe):null;if(!xe)throw Error(I(446));switch(J){case"meta":case"title":return null;case"style":return typeof ae.precedence=="string"&&typeof ae.href=="string"?(te=ta(ae.href),ae=Lt(xe).hoistableStyles,de=ae.get(te),de||(de={type:"style",instance:null,count:0,state:null},ae.set(te,de)),de):{type:"void",instance:null,count:0,state:null};case"link":if(ae.rel==="stylesheet"&&typeof ae.href=="string"&&typeof ae.precedence=="string"){J=ta(ae.href);var Ee=Lt(xe).hoistableStyles,Be=Ee.get(J);if(Be||(xe=xe.ownerDocument||xe,Be={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Ee.set(J,Be),(Ee=xe.querySelector(Wa(J)))&&!Ee._p&&(Be.instance=Ee,Be.state.loading=5),Xr.has(J)||(ae={rel:"preload",as:"style",href:ae.href,crossOrigin:ae.crossOrigin,integrity:ae.integrity,media:ae.media,hrefLang:ae.hrefLang,referrerPolicy:ae.referrerPolicy},Xr.set(J,ae),Ee||Bp(xe,J,ae,Be.state))),te&&de===null)throw Error(I(528,""));return Be}if(te&&de!==null)throw Error(I(529,""));return null;case"script":return te=ae.async,ae=ae.src,typeof ae=="string"&&te&&typeof te!="function"&&typeof te!="symbol"?(te=ra(ae),ae=Lt(xe).hoistableScripts,de=ae.get(te),de||(de={type:"script",instance:null,count:0,state:null},ae.set(te,de)),de):{type:"void",instance:null,count:0,state:null};default:throw Error(I(444,J))}}function ta(J){return'href="'+jr(J)+'"'}function Wa(J){return'link[rel="stylesheet"]['+J+"]"}function hh(J){return Z({},J,{"data-precedence":J.precedence,precedence:null})}function Bp(J,te,ae,de){J.querySelector('link[rel="preload"][as="style"]['+te+"]")?de.loading=1:(te=J.createElement("link"),de.preload=te,te.addEventListener("load",function(){return de.loading|=1}),te.addEventListener("error",function(){return de.loading|=2}),yr(te,"link",ae),qt(te),J.head.appendChild(te))}function ra(J){return'[src="'+jr(J)+'"]'}function Ya(J){return"script[async]"+J}function mh(J,te,ae){if(te.count++,te.instance===null)switch(te.type){case"style":var de=J.querySelector('style[data-href~="'+jr(ae.href)+'"]');if(de)return te.instance=de,qt(de),de;var xe=Z({},ae,{"data-href":ae.href,"data-precedence":ae.precedence,href:null,precedence:null});return de=(J.ownerDocument||J).createElement("style"),qt(de),yr(de,"style",xe),fo(de,ae.precedence,J),te.instance=de;case"stylesheet":xe=ta(ae.href);var Ee=J.querySelector(Wa(xe));if(Ee)return te.state.loading|=4,te.instance=Ee,qt(Ee),Ee;de=hh(ae),(xe=Xr.get(xe))&&Cu(de,xe),Ee=(J.ownerDocument||J).createElement("link"),qt(Ee);var Be=Ee;return Be._p=new Promise(function(Ye,ot){Be.onload=Ye,Be.onerror=ot}),yr(Ee,"link",de),te.state.loading|=4,fo(Ee,ae.precedence,J),te.instance=Ee;case"script":return Ee=ra(ae.src),(xe=J.querySelector(Ya(Ee)))?(te.instance=xe,qt(xe),xe):(de=ae,(xe=Xr.get(Ee))&&(de=Z({},ae),$u(de,xe)),J=J.ownerDocument||J,xe=J.createElement("script"),qt(xe),yr(xe,"link",de),J.head.appendChild(xe),te.instance=xe);case"void":return null;default:throw Error(I(443,te.type))}else te.type==="stylesheet"&&(te.state.loading&4)===0&&(de=te.instance,te.state.loading|=4,fo(de,ae.precedence,J));return te.instance}function fo(J,te,ae){for(var de=ae.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),xe=de.length?de[de.length-1]:null,Ee=xe,Be=0;Be<de.length;Be++){var Ye=de[Be];if(Ye.dataset.precedence===te)Ee=Ye;else if(Ee!==xe)break}Ee?Ee.parentNode.insertBefore(J,Ee.nextSibling):(te=ae.nodeType===9?ae.head:ae,te.insertBefore(J,te.firstChild))}function Cu(J,te){J.crossOrigin==null&&(J.crossOrigin=te.crossOrigin),J.referrerPolicy==null&&(J.referrerPolicy=te.referrerPolicy),J.title==null&&(J.title=te.title)}function $u(J,te){J.crossOrigin==null&&(J.crossOrigin=te.crossOrigin),J.referrerPolicy==null&&(J.referrerPolicy=te.referrerPolicy),J.integrity==null&&(J.integrity=te.integrity)}var ho=null;function ph(J,te,ae){if(ho===null){var de=new Map,xe=ho=new Map;xe.set(ae,de)}else xe=ho,de=xe.get(ae),de||(de=new Map,xe.set(ae,de));if(de.has(J))return de;for(de.set(J,null),ae=ae.getElementsByTagName(J),xe=0;xe<ae.length;xe++){var Ee=ae[xe];if(!(Ee[ai]||Ee[hr]||J==="link"&&Ee.getAttribute("rel")==="stylesheet")&&Ee.namespaceURI!=="http://www.w3.org/2000/svg"){var Be=Ee.getAttribute(te)||"";Be=J+Be;var Ye=de.get(Be);Ye?Ye.push(Ee):de.set(Be,[Ee])}}return de}function gh(J,te,ae){J=J.ownerDocument||J,J.head.insertBefore(ae,te==="title"?J.querySelector("head > title"):null)}function Fp(J,te,ae){if(ae===1||te.itemProp!=null)return!1;switch(J){case"meta":case"title":return!0;case"style":if(typeof te.precedence!="string"||typeof te.href!="string"||te.href==="")break;return!0;case"link":if(typeof te.rel!="string"||typeof te.href!="string"||te.href===""||te.onLoad||te.onError)break;return te.rel==="stylesheet"?(J=te.disabled,typeof te.precedence=="string"&&J==null):!0;case"script":if(te.async&&typeof te.async!="function"&&typeof te.async!="symbol"&&!te.onLoad&&!te.onError&&te.src&&typeof te.src=="string")return!0}return!1}function vh(J){return!(J.type==="stylesheet"&&(J.state.loading&3)===0)}function zp(J,te,ae,de){if(ae.type==="stylesheet"&&(typeof de.media!="string"||matchMedia(de.media).matches!==!1)&&(ae.state.loading&4)===0){if(ae.instance===null){var xe=ta(de.href),Ee=te.querySelector(Wa(xe));if(Ee){te=Ee._p,te!==null&&typeof te=="object"&&typeof te.then=="function"&&(J.count++,J=mo.bind(J),te.then(J,J)),ae.state.loading|=4,ae.instance=Ee,qt(Ee);return}Ee=te.ownerDocument||te,de=hh(de),(xe=Xr.get(xe))&&Cu(de,xe),Ee=Ee.createElement("link"),qt(Ee);var Be=Ee;Be._p=new Promise(function(Ye,ot){Be.onload=Ye,Be.onerror=ot}),yr(Ee,"link",de),ae.instance=Ee}J.stylesheets===null&&(J.stylesheets=new Map),J.stylesheets.set(ae,te),(te=ae.state.preload)&&(ae.state.loading&3)===0&&(J.count++,ae=mo.bind(J),te.addEventListener("load",ae),te.addEventListener("error",ae))}}var Au=0;function Lp(J,te){return J.stylesheets&&J.count===0&&go(J,J.stylesheets),0<J.count||0<J.imgCount?function(ae){var de=setTimeout(function(){if(J.stylesheets&&go(J,J.stylesheets),J.unsuspend){var Ee=J.unsuspend;J.unsuspend=null,Ee()}},6e4+te);0<J.imgBytes&&Au===0&&(Au=62500*bp());var xe=setTimeout(function(){if(J.waitingForImages=!1,J.count===0&&(J.stylesheets&&go(J,J.stylesheets),J.unsuspend)){var Ee=J.unsuspend;J.unsuspend=null,Ee()}},(J.imgBytes>Au?50:800)+te);return J.unsuspend=ae,function(){J.unsuspend=null,clearTimeout(de),clearTimeout(xe)}}:null}function mo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)go(this,this.stylesheets);else if(this.unsuspend){var J=this.unsuspend;this.unsuspend=null,J()}}}var po=null;function go(J,te){J.stylesheets=null,J.unsuspend!==null&&(J.count++,po=new Map,te.forEach(jp,J),po=null,mo.call(J))}function jp(J,te){if(!(te.state.loading&4)){var ae=po.get(J);if(ae)var de=ae.get(null);else{ae=new Map,po.set(J,ae);for(var xe=J.querySelectorAll("link[data-precedence],style[data-precedence]"),Ee=0;Ee<xe.length;Ee++){var Be=xe[Ee];(Be.nodeName==="LINK"||Be.getAttribute("media")!=="not all")&&(ae.set(Be.dataset.precedence,Be),de=Be)}de&&ae.set(null,de)}xe=te.instance,Be=xe.getAttribute("data-precedence"),Ee=ae.get(Be)||de,Ee===de&&ae.set(null,xe),ae.set(Be,xe),this.count++,de=mo.bind(this),xe.addEventListener("load",de),xe.addEventListener("error",de),Ee?Ee.parentNode.insertBefore(xe,Ee.nextSibling):(J=J.nodeType===9?J.head:J,J.insertBefore(xe,J.firstChild)),te.state.loading|=4}}var Xa={$$typeof:le,Provider:null,Consumer:null,_currentValue:De,_currentValue2:De,_threadCount:0};function Up(J,te,ae,de,xe,Ee,Be,Ye,ot){this.tag=1,this.containerInfo=J,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.hiddenUpdates=sa(null),this.identifierPrefix=de,this.onUncaughtError=xe,this.onCaughtError=Ee,this.onRecoverableError=Be,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ot,this.incompleteTransitions=new Map}function _h(J,te,ae,de,xe,Ee,Be,Ye,ot,gt,yt,St){return J=new Up(J,te,ae,Be,ot,gt,yt,St,Ye),te=1,Ee===!0&&(te|=24),Ee=Rr(3,null,null,te),J.current=Ee,Ee.stateNode=J,te=sl(),te.refCount++,J.pooledCache=te,te.refCount++,Ee.memoizedState={element:de,isDehydrated:ae,cache:te},cl(Ee),J}function yh(J){return J?(J=ki,J):ki}function bh(J,te,ae,de,xe,Ee){xe=yh(xe),de.context===null?de.context=xe:de.pendingContext=xe,de=Fn(te),de.payload={element:ae},Ee=Ee===void 0?null:Ee,Ee!==null&&(de.callback=Ee),ae=zn(J,de,te),ae!==null&&(Tr(ae,J,te),Aa(ae,J,te))}function xh(J,te){if(J=J.memoizedState,J!==null&&J.dehydrated!==null){var ae=J.retryLane;J.retryLane=ae!==0&&ae<te?ae:te}}function Tu(J,te){xh(J,te),(J=J.alternate)&&xh(J,te)}function wh(J){if(J.tag===13||J.tag===31){var te=ci(J,67108864);te!==null&&Tr(te,J,67108864),Tu(J,67108864)}}function Sh(J){if(J.tag===13||J.tag===31){var te=Br();te=oa(te);var ae=ci(J,te);ae!==null&&Tr(ae,J,te),Tu(J,te)}}var vo=!0;function Hp(J,te,ae,de){var xe=be.T;be.T=null;var Ee=Ce.p;try{Ce.p=2,Nu(J,te,ae,de)}finally{Ce.p=Ee,be.T=xe}}function qp(J,te,ae,de){var xe=be.T;be.T=null;var Ee=Ce.p;try{Ce.p=8,Nu(J,te,ae,de)}finally{Ce.p=Ee,be.T=xe}}function Nu(J,te,ae,de){if(vo){var xe=Mu(de);if(xe===null)pu(J,te,de,_o,ae),Ch(J,de);else if(Vp(xe,J,te,ae,de))de.stopPropagation();else if(Ch(J,de),te&4&&-1<Gp.indexOf(J)){for(;xe!==null;){var Ee=Mn(xe);if(Ee!==null)switch(Ee.tag){case 3:if(Ee=Ee.stateNode,Ee.current.memoizedState.isDehydrated){var Be=Mt(Ee.pendingLanes);if(Be!==0){var Ye=Ee;for(Ye.pendingLanes|=2,Ye.entangledLanes|=2;Be;){var ot=1<<31-Ct(Be);Ye.entanglements[1]|=ot,Be&=~ot}sn(Ee),(Zt&6)===0&&(Qs=Ue()+500,qa(0))}}break;case 31:case 13:Ye=ci(Ee,2),Ye!==null&&Tr(Ye,Ee,2),eo(),Tu(Ee,2)}if(Ee=Mu(de),Ee===null&&pu(J,te,de,_o,ae),Ee===xe)break;xe=Ee}xe!==null&&de.stopPropagation()}else pu(J,te,de,null,ae)}}function Mu(J){return J=Do(J),Ru(J)}var _o=null;function Ru(J){if(_o=null,J=Nn(J),J!==null){var te=z(J);if(te===null)J=null;else{var ae=te.tag;if(ae===13){if(J=L(te),J!==null)return J;J=null}else if(ae===31){if(J=U(te),J!==null)return J;J=null}else if(ae===3){if(te.stateNode.current.memoizedState.isDehydrated)return te.tag===3?te.stateNode.containerInfo:null;J=null}else te!==J&&(J=null)}}return _o=J,null}function Eh(J){switch(J){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case Fe:return 2;case Je:return 8;case et:case ut:return 32;case ct:return 268435456;default:return 32}default:return 32}}var Du=!1,Jn=null,ei=null,ti=null,Ka=new Map,Qa=new Map,ri=[],Gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ch(J,te){switch(J){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":Ka.delete(te.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(te.pointerId)}}function Ja(J,te,ae,de,xe,Ee){return J===null||J.nativeEvent!==Ee?(J={blockedOn:te,domEventName:ae,eventSystemFlags:de,nativeEvent:Ee,targetContainers:[xe]},te!==null&&(te=Mn(te),te!==null&&wh(te)),J):(J.eventSystemFlags|=de,te=J.targetContainers,xe!==null&&te.indexOf(xe)===-1&&te.push(xe),J)}function Vp(J,te,ae,de,xe){switch(te){case"focusin":return Jn=Ja(Jn,J,te,ae,de,xe),!0;case"dragenter":return ei=Ja(ei,J,te,ae,de,xe),!0;case"mouseover":return ti=Ja(ti,J,te,ae,de,xe),!0;case"pointerover":var Ee=xe.pointerId;return Ka.set(Ee,Ja(Ka.get(Ee)||null,J,te,ae,de,xe)),!0;case"gotpointercapture":return Ee=xe.pointerId,Qa.set(Ee,Ja(Qa.get(Ee)||null,J,te,ae,de,xe)),!0}return!1}function $h(J){var te=Nn(J.target);if(te!==null){var ae=z(te);if(ae!==null){if(te=ae.tag,te===13){if(te=L(ae),te!==null){J.blockedOn=te,os(J.priority,function(){Sh(ae)});return}}else if(te===31){if(te=U(ae),te!==null){J.blockedOn=te,os(J.priority,function(){Sh(ae)});return}}else if(te===3&&ae.stateNode.current.memoizedState.isDehydrated){J.blockedOn=ae.tag===3?ae.stateNode.containerInfo:null;return}}}J.blockedOn=null}function yo(J){if(J.blockedOn!==null)return!1;for(var te=J.targetContainers;0<te.length;){var ae=Mu(J.nativeEvent);if(ae===null){ae=J.nativeEvent;var de=new ae.constructor(ae.type,ae);Ro=de,ae.target.dispatchEvent(de),Ro=null}else return te=Mn(ae),te!==null&&wh(te),J.blockedOn=ae,!1;te.shift()}return!0}function Ah(J,te,ae){yo(J)&&ae.delete(te)}function Zp(){Du=!1,Jn!==null&&yo(Jn)&&(Jn=null),ei!==null&&yo(ei)&&(ei=null),ti!==null&&yo(ti)&&(ti=null),Ka.forEach(Ah),Qa.forEach(Ah)}function bo(J,te){J.blockedOn===te&&(J.blockedOn=null,Du||(Du=!0,_.unstable_scheduleCallback(_.unstable_NormalPriority,Zp)))}var xo=null;function Th(J){xo!==J&&(xo=J,_.unstable_scheduleCallback(_.unstable_NormalPriority,function(){xo===J&&(xo=null);for(var te=0;te<J.length;te+=3){var ae=J[te],de=J[te+1],xe=J[te+2];if(typeof de!="function"){if(Ru(de||ae)===null)continue;break}var Ee=Mn(ae);Ee!==null&&(J.splice(te,3),te-=3,Ml(Ee,{pending:!0,data:xe,method:ae.method,action:de},de,xe))}}))}function na(J){function te(ot){return bo(ot,J)}Jn!==null&&bo(Jn,J),ei!==null&&bo(ei,J),ti!==null&&bo(ti,J),Ka.forEach(te),Qa.forEach(te);for(var ae=0;ae<ri.length;ae++){var de=ri[ae];de.blockedOn===J&&(de.blockedOn=null)}for(;0<ri.length&&(ae=ri[0],ae.blockedOn===null);)$h(ae),ae.blockedOn===null&&ri.shift();if(ae=(J.ownerDocument||J).$$reactFormReplay,ae!=null)for(de=0;de<ae.length;de+=3){var xe=ae[de],Ee=ae[de+1],Be=xe[xr]||null;if(typeof Ee=="function")Be||Th(ae);else if(Be){var Ye=null;if(Ee&&Ee.hasAttribute("formAction")){if(xe=Ee,Be=Ee[xr]||null)Ye=Be.formAction;else if(Ru(xe)!==null)continue}else Ye=Be.action;typeof Ye=="function"?ae[de+1]=Ye:(ae.splice(de,3),de-=3),Th(ae)}}}function Nh(){function J(Ee){Ee.canIntercept&&Ee.info==="react-transition"&&Ee.intercept({handler:function(){return new Promise(function(Be){return xe=Be})},focusReset:"manual",scroll:"manual"})}function te(){xe!==null&&(xe(),xe=null),de||setTimeout(ae,20)}function ae(){if(!de&&!navigation.transition){var Ee=navigation.currentEntry;Ee&&Ee.url!=null&&navigation.navigate(Ee.url,{state:Ee.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var de=!1,xe=null;return navigation.addEventListener("navigate",J),navigation.addEventListener("navigatesuccess",te),navigation.addEventListener("navigateerror",te),setTimeout(ae,100),function(){de=!0,navigation.removeEventListener("navigate",J),navigation.removeEventListener("navigatesuccess",te),navigation.removeEventListener("navigateerror",te),xe!==null&&(xe(),xe=null)}}}function ku(J){this._internalRoot=J}wo.prototype.render=ku.prototype.render=function(J){var te=this._internalRoot;if(te===null)throw Error(I(409));var ae=te.current,de=Br();bh(ae,de,J,te,null,null)},wo.prototype.unmount=ku.prototype.unmount=function(){var J=this._internalRoot;if(J!==null){this._internalRoot=null;var te=J.containerInfo;bh(J.current,2,null,J,null,null),eo(),te[Tn]=null}};function wo(J){this._internalRoot=J}wo.prototype.unstable_scheduleHydration=function(J){if(J){var te=ss();J={blockedOn:null,target:J,priority:te};for(var ae=0;ae<ri.length&&te!==0&&te<ri[ae].priority;ae++);ri.splice(ae,0,J),ae===0&&$h(J)}};var Mh=R.version;if(Mh!=="19.2.3")throw Error(I(527,Mh,"19.2.3"));Ce.findDOMNode=function(J){var te=J._reactInternals;if(te===void 0)throw typeof J.render=="function"?Error(I(188)):(J=Object.keys(J).join(","),Error(I(268,J)));return J=G(te),J=J!==null?V(J):null,J=J===null?null:J.stateNode,J};var Wp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:be,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{xt=So.inject(Wp),$t=So}catch{}}return reactDomClient_production.createRoot=function(J,te){if(!F(J))throw Error(I(299));var ae=!1,de="",xe=Pf,Ee=If,Be=Bf;return te!=null&&(te.unstable_strictMode===!0&&(ae=!0),te.identifierPrefix!==void 0&&(de=te.identifierPrefix),te.onUncaughtError!==void 0&&(xe=te.onUncaughtError),te.onCaughtError!==void 0&&(Ee=te.onCaughtError),te.onRecoverableError!==void 0&&(Be=te.onRecoverableError)),te=_h(J,1,!1,null,null,ae,de,null,xe,Ee,Be,Nh),J[Tn]=te.current,mu(J),new ku(te)},reactDomClient_production.hydrateRoot=function(J,te,ae){if(!F(J))throw Error(I(299));var de=!1,xe="",Ee=Pf,Be=If,Ye=Bf,ot=null;return ae!=null&&(ae.unstable_strictMode===!0&&(de=!0),ae.identifierPrefix!==void 0&&(xe=ae.identifierPrefix),ae.onUncaughtError!==void 0&&(Ee=ae.onUncaughtError),ae.onCaughtError!==void 0&&(Be=ae.onCaughtError),ae.onRecoverableError!==void 0&&(Ye=ae.onRecoverableError),ae.formState!==void 0&&(ot=ae.formState)),te=_h(J,1,!0,te,ae??null,de,xe,ot,Ee,Be,Ye,Nh),te.context=yh(null),ae=te.current,de=Br(),de=oa(de),xe=Fn(de),xe.callback=null,zn(ae,xe,de),ae=de,te.current.lanes=ae,ii(te,ae),sn(te),J[Tn]=te.current,mu(J),new wo(te)},reactDomClient_production.version="19.2.3",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function _(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(R){console.error(R)}}return _(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();function parseVersion(_){const R=_.split(".").map(Number);return{major:R[0]||0,minor:R[1]||0,patch:R[2]||0}}function compareVersions(_,R){return _.major!==R.major?_.major-R.major:_.minor!==R.minor?_.minor-R.minor:_.patch-R.patch}function isCompatible(_,R){return _.major===R.major&&compareVersions(_,R)>=0}function formatVersion(_){return`${_.major}.${_.minor}.${_.patch}`}class ModelRegistry{models=new Map;defaultModelName=null;constructor(){console.log("[Registry] Initializing")}register(R){const O=parseVersion(R.version),I=formatVersion(O),F=R;if(!this.models.has(R.id))this.models.set(R.id,{latestModel:F,versions:new Map([[I,F]])}),console.log(`[Registry] Registered new model: ${R.id} (v${I})`);else{const z=this.models.get(R.id);z.versions.set(I,F);const L=parseVersion(z.latestModel.version);(O.major>L.major||O.major===L.major&&O.minor>L.minor||O.major===L.major&&O.minor===L.minor&&O.patch>L.patch)&&(z.latestModel=F,console.log(`[Registry] Updated model ${R.id} to version ${I}`))}}setDefault(R){if(!this.models.has(R))throw new Error(`Cannot set default: model "${R}" is not registered`);this.defaultModelName=R}get(R){return this.models.get(R)?.latestModel}getVersion(R,O){return this.models.get(R)?.versions.get(O)}getModelNames(){return Array.from(this.models.keys())}getVersions(R){const O=this.models.get(R);return O?Array.from(O.versions.keys()):[]}getDefault(){return this.defaultModelName?this.get(this.defaultModelName):void 0}getDefaultName(){return this.defaultModelName}findCompatibleModel(R){const O=this.models.get(R.model);if(!O)return;const I=parseVersion(R.version);let F,z;for(const[L,U]of O.versions){const q=parseVersion(L);isCompatible(q,I)&&(!z||q.minor>z.minor||q.minor===z.minor&&q.patch>z.patch)&&(F=U,z=q)}return F}has(R){return this.models.has(R)}getAll(){return Array.from(this.models.values()).map(R=>R.latestModel)}}const modelRegistry=new ModelRegistry;class Vector2{constructor(R=0,O=0){this.x=R,this.y=O}static from(R){return new Vector2(R.x,R.y)}static zero(){return new Vector2(0,0)}static fromAngle(R){return new Vector2(Math.cos(R),Math.sin(R))}add(R){return new Vector2(this.x+R.x,this.y+R.y)}sub(R){return new Vector2(this.x-R.x,this.y-R.y)}scale(R){return new Vector2(this.x*R,this.y*R)}mult(R){return this.scale(R)}div(R){return R===0?(console.warn("Vector2.div: division by zero"),this):new Vector2(this.x/R,this.y/R)}negate(){return new Vector2(-this.x,-this.y)}mag(){return Math.sqrt(this.x*this.x+this.y*this.y)}magSq(){return this.x*this.x+this.y*this.y}normalize(){const R=this.mag();return R===0?this:new Vector2(this.x/R,this.y/R)}setMag(R){return this.normalize().scale(R)}limit(R){return this.magSq()>R*R?this.normalize().scale(R):this}dot(R){return this.x*R.x+this.y*R.y}cross(R){return this.x*R.y-this.y*R.x}dist(R){const O=this.x-R.x,I=this.y-R.y;return Math.sqrt(O*O+I*I)}distSq(R){const O=this.x-R.x,I=this.y-R.y;return O*O+I*I}heading(){return Math.atan2(this.y,this.x)}rotate(R){const O=Math.cos(R),I=Math.sin(R);return new Vector2(this.x*O-this.y*I,this.x*I+this.y*O)}lerp(R,O){return new Vector2(this.x+(R.x-this.x)*O,this.y+(R.y-this.y)*O)}equals(R){return this.x===R.x&&this.y===R.y}approxEquals(R,O=1e-10){return Math.abs(this.x-R.x)<O&&Math.abs(this.y-R.y)<O}copy(){return new Vector2(this.x,this.y)}toObject(){return{x:this.x,y:this.y}}toString(){return`Vector2(${this.x}, ${this.y})`}toArray(){return[this.x,this.y]}}var alea$1={exports:{}},alea=alea$1.exports,hasRequiredAlea;function requireAlea(){return hasRequiredAlea||(hasRequiredAlea=1,(function(_){(function(R,O,I){function F(q){var G=this,V=U();G.next=function(){var Z=2091639*G.s0+G.c*23283064365386963e-26;return G.s0=G.s1,G.s1=G.s2,G.s2=Z-(G.c=Z|0)},G.c=1,G.s0=V(" "),G.s1=V(" "),G.s2=V(" "),G.s0-=V(q),G.s0<0&&(G.s0+=1),G.s1-=V(q),G.s1<0&&(G.s1+=1),G.s2-=V(q),G.s2<0&&(G.s2+=1),V=null}function z(q,G){return G.c=q.c,G.s0=q.s0,G.s1=q.s1,G.s2=q.s2,G}function L(q,G){var V=new F(q),Z=G&&G.state,Y=V.next;return Y.int32=function(){return V.next()*4294967296|0},Y.double=function(){return Y()+(Y()*2097152|0)*11102230246251565e-32},Y.quick=Y,Z&&(typeof Z=="object"&&z(Z,V),Y.state=function(){return z(V,{})}),Y}function U(){var q=4022871197,G=function(V){V=String(V);for(var Z=0;Z<V.length;Z++){q+=V.charCodeAt(Z);var Y=.02519603282416938*q;q=Y>>>0,Y-=q,Y*=q,q=Y>>>0,Y-=q,q+=Y*4294967296}return(q>>>0)*23283064365386963e-26};return G}O&&O.exports?O.exports=L:this.alea=L})(alea,_)})(alea$1)),alea$1.exports}var xor128$1={exports:{}},xor128=xor128$1.exports,hasRequiredXor128;function requireXor128(){return hasRequiredXor128||(hasRequiredXor128=1,(function(_){(function(R,O,I){function F(U){var q=this,G="";q.x=0,q.y=0,q.z=0,q.w=0,q.next=function(){var Z=q.x^q.x<<11;return q.x=q.y,q.y=q.z,q.z=q.w,q.w^=q.w>>>19^Z^Z>>>8},U===(U|0)?q.x=U:G+=U;for(var V=0;V<G.length+64;V++)q.x^=G.charCodeAt(V)|0,q.next()}function z(U,q){return q.x=U.x,q.y=U.y,q.z=U.z,q.w=U.w,q}function L(U,q){var G=new F(U),V=q&&q.state,Z=function(){return(G.next()>>>0)/4294967296};return Z.double=function(){do var Y=G.next()>>>11,W=(G.next()>>>0)/4294967296,ee=(Y+W)/(1<<21);while(ee===0);return ee},Z.int32=G.next,Z.quick=Z,V&&(typeof V=="object"&&z(V,G),Z.state=function(){return z(G,{})}),Z}O&&O.exports?O.exports=L:this.xor128=L})(xor128,_)})(xor128$1)),xor128$1.exports}var xorwow$1={exports:{}},xorwow=xorwow$1.exports,hasRequiredXorwow;function requireXorwow(){return hasRequiredXorwow||(hasRequiredXorwow=1,(function(_){(function(R,O,I){function F(U){var q=this,G="";q.next=function(){var Z=q.x^q.x>>>2;return q.x=q.y,q.y=q.z,q.z=q.w,q.w=q.v,(q.d=q.d+362437|0)+(q.v=q.v^q.v<<4^(Z^Z<<1))|0},q.x=0,q.y=0,q.z=0,q.w=0,q.v=0,U===(U|0)?q.x=U:G+=U;for(var V=0;V<G.length+64;V++)q.x^=G.charCodeAt(V)|0,V==G.length&&(q.d=q.x<<10^q.x>>>4),q.next()}function z(U,q){return q.x=U.x,q.y=U.y,q.z=U.z,q.w=U.w,q.v=U.v,q.d=U.d,q}function L(U,q){var G=new F(U),V=q&&q.state,Z=function(){return(G.next()>>>0)/4294967296};return Z.double=function(){do var Y=G.next()>>>11,W=(G.next()>>>0)/4294967296,ee=(Y+W)/(1<<21);while(ee===0);return ee},Z.int32=G.next,Z.quick=Z,V&&(typeof V=="object"&&z(V,G),Z.state=function(){return z(G,{})}),Z}O&&O.exports?O.exports=L:this.xorwow=L})(xorwow,_)})(xorwow$1)),xorwow$1.exports}var xorshift7$1={exports:{}},xorshift7=xorshift7$1.exports,hasRequiredXorshift7;function requireXorshift7(){return hasRequiredXorshift7||(hasRequiredXorshift7=1,(function(_){(function(R,O,I){function F(U){var q=this;q.next=function(){var V=q.x,Z=q.i,Y,W;return Y=V[Z],Y^=Y>>>7,W=Y^Y<<24,Y=V[Z+1&7],W^=Y^Y>>>10,Y=V[Z+3&7],W^=Y^Y>>>3,Y=V[Z+4&7],W^=Y^Y<<7,Y=V[Z+7&7],Y=Y^Y<<13,W^=Y^Y<<9,V[Z]=W,q.i=Z+1&7,W};function G(V,Z){var Y,W=[];if(Z===(Z|0))W[0]=Z;else for(Z=""+Z,Y=0;Y<Z.length;++Y)W[Y&7]=W[Y&7]<<15^Z.charCodeAt(Y)+W[Y+1&7]<<13;for(;W.length<8;)W.push(0);for(Y=0;Y<8&&W[Y]===0;++Y);for(Y==8?W[7]=-1:W[Y],V.x=W,V.i=0,Y=256;Y>0;--Y)V.next()}G(q,U)}function z(U,q){return q.x=U.x.slice(),q.i=U.i,q}function L(U,q){U==null&&(U=+new Date);var G=new F(U),V=q&&q.state,Z=function(){return(G.next()>>>0)/4294967296};return Z.double=function(){do var Y=G.next()>>>11,W=(G.next()>>>0)/4294967296,ee=(Y+W)/(1<<21);while(ee===0);return ee},Z.int32=G.next,Z.quick=Z,V&&(V.x&&z(V,G),Z.state=function(){return z(G,{})}),Z}O&&O.exports?O.exports=L:this.xorshift7=L})(xorshift7,_)})(xorshift7$1)),xorshift7$1.exports}var xor4096$1={exports:{}},xor4096=xor4096$1.exports,hasRequiredXor4096;function requireXor4096(){return hasRequiredXor4096||(hasRequiredXor4096=1,(function(_){(function(R,O,I){function F(U){var q=this;q.next=function(){var V=q.w,Z=q.X,Y=q.i,W,ee;return q.w=V=V+1640531527|0,ee=Z[Y+34&127],W=Z[Y=Y+1&127],ee^=ee<<13,W^=W<<17,ee^=ee>>>15,W^=W>>>12,ee=Z[Y]=ee^W,q.i=Y,ee+(V^V>>>16)|0};function G(V,Z){var Y,W,ee,ne,ie,se=[],oe=128;for(Z===(Z|0)?(W=Z,Z=null):(Z=Z+"\0",W=0,oe=Math.max(oe,Z.length)),ee=0,ne=-32;ne<oe;++ne)Z&&(W^=Z.charCodeAt((ne+32)%Z.length)),ne===0&&(ie=W),W^=W<<10,W^=W>>>15,W^=W<<4,W^=W>>>13,ne>=0&&(ie=ie+1640531527|0,Y=se[ne&127]^=W+ie,ee=Y==0?ee+1:0);for(ee>=128&&(se[(Z&&Z.length||0)&127]=-1),ee=127,ne=512;ne>0;--ne)W=se[ee+34&127],Y=se[ee=ee+1&127],W^=W<<13,Y^=Y<<17,W^=W>>>15,Y^=Y>>>12,se[ee]=W^Y;V.w=ie,V.X=se,V.i=ee}G(q,U)}function z(U,q){return q.i=U.i,q.w=U.w,q.X=U.X.slice(),q}function L(U,q){U==null&&(U=+new Date);var G=new F(U),V=q&&q.state,Z=function(){return(G.next()>>>0)/4294967296};return Z.double=function(){do var Y=G.next()>>>11,W=(G.next()>>>0)/4294967296,ee=(Y+W)/(1<<21);while(ee===0);return ee},Z.int32=G.next,Z.quick=Z,V&&(V.X&&z(V,G),Z.state=function(){return z(G,{})}),Z}O&&O.exports?O.exports=L:this.xor4096=L})(xor4096,_)})(xor4096$1)),xor4096$1.exports}var tychei$1={exports:{}},tychei=tychei$1.exports,hasRequiredTychei;function requireTychei(){return hasRequiredTychei||(hasRequiredTychei=1,(function(_){(function(R,O,I){function F(U){var q=this,G="";q.next=function(){var Z=q.b,Y=q.c,W=q.d,ee=q.a;return Z=Z<<25^Z>>>7^Y,Y=Y-W|0,W=W<<24^W>>>8^ee,ee=ee-Z|0,q.b=Z=Z<<20^Z>>>12^Y,q.c=Y=Y-W|0,q.d=W<<16^Y>>>16^ee,q.a=ee-Z|0},q.a=0,q.b=0,q.c=-1640531527,q.d=1367130551,U===Math.floor(U)?(q.a=U/4294967296|0,q.b=U|0):G+=U;for(var V=0;V<G.length+20;V++)q.b^=G.charCodeAt(V)|0,q.next()}function z(U,q){return q.a=U.a,q.b=U.b,q.c=U.c,q.d=U.d,q}function L(U,q){var G=new F(U),V=q&&q.state,Z=function(){return(G.next()>>>0)/4294967296};return Z.double=function(){do var Y=G.next()>>>11,W=(G.next()>>>0)/4294967296,ee=(Y+W)/(1<<21);while(ee===0);return ee},Z.int32=G.next,Z.quick=Z,V&&(typeof V=="object"&&z(V,G),Z.state=function(){return z(G,{})}),Z}O&&O.exports?O.exports=L:this.tychei=L})(tychei,_)})(tychei$1)),tychei$1.exports}var seedrandom$3={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var seedrandom$2=seedrandom$3.exports,hasRequiredSeedrandom$1;function requireSeedrandom$1(){return hasRequiredSeedrandom$1||(hasRequiredSeedrandom$1=1,(function(_){(function(R,O,I){var F=256,z=6,L=52,U="random",q=I.pow(F,z),G=I.pow(2,L),V=G*2,Z=F-1,Y;function W(ue,ce,fe){var me=[];ce=ce==!0?{entropy:!0}:ce||{};var he=se(ie(ce.entropy?[ue,le(O)]:ue??oe(),3),me),pe=new ee(me),ge=function(){for(var _e=pe.g(z),ye=q,we=0;_e<G;)_e=(_e+we)*F,ye*=F,we=pe.g(1);for(;_e>=V;)_e/=2,ye/=2,we>>>=1;return(_e+we)/ye};return ge.int32=function(){return pe.g(4)|0},ge.quick=function(){return pe.g(4)/4294967296},ge.double=ge,se(le(pe.S),O),(ce.pass||fe||function(_e,ye,we,ve){return ve&&(ve.S&&ne(ve,pe),_e.state=function(){return ne(pe,{})}),we?(I[U]=_e,ye):_e})(ge,he,"global"in ce?ce.global:this==I,ce.state)}function ee(ue){var ce,fe=ue.length,me=this,he=0,pe=me.i=me.j=0,ge=me.S=[];for(fe||(ue=[fe++]);he<F;)ge[he]=he++;for(he=0;he<F;he++)ge[he]=ge[pe=Z&pe+ue[he%fe]+(ce=ge[he])],ge[pe]=ce;(me.g=function(_e){for(var ye,we=0,ve=me.i,$e=me.j,be=me.S;_e--;)ye=be[ve=Z&ve+1],we=we*F+be[Z&(be[ve]=be[$e=Z&$e+ye])+(be[$e]=ye)];return me.i=ve,me.j=$e,we})(F)}function ne(ue,ce){return ce.i=ue.i,ce.j=ue.j,ce.S=ue.S.slice(),ce}function ie(ue,ce){var fe=[],me=typeof ue,he;if(ce&&me=="object")for(he in ue)try{fe.push(ie(ue[he],ce-1))}catch{}return fe.length?fe:me=="string"?ue:ue+"\0"}function se(ue,ce){for(var fe=ue+"",me,he=0;he<fe.length;)ce[Z&he]=Z&(me^=ce[Z&he]*19)+fe.charCodeAt(he++);return le(ce)}function oe(){try{var ue;return Y&&(ue=Y.randomBytes)?ue=ue(F):(ue=new Uint8Array(F),(R.crypto||R.msCrypto).getRandomValues(ue)),le(ue)}catch{var ce=R.navigator,fe=ce&&ce.plugins;return[+new Date,R,fe,R.screen,le(O)]}}function le(ue){return String.fromCharCode.apply(0,ue)}if(se(I.random(),O),_.exports){_.exports=W;try{Y=require$$0}catch{}}else I["seed"+U]=W})(typeof self<"u"?self:seedrandom$2,[],Math)})(seedrandom$3)),seedrandom$3.exports}var seedrandom$1,hasRequiredSeedrandom;function requireSeedrandom(){if(hasRequiredSeedrandom)return seedrandom$1;hasRequiredSeedrandom=1;var _=requireAlea(),R=requireXor128(),O=requireXorwow(),I=requireXorshift7(),F=requireXor4096(),z=requireTychei(),L=requireSeedrandom$1();return L.alea=_,L.xor128=R,L.xorwow=O,L.xorshift7=I,L.xor4096=F,L.tychei=z,seedrandom$1=L,seedrandom$1}var seedrandomExports=requireSeedrandom();const seedrandom=getDefaultExportFromCjs(seedrandomExports);class SeededRandom{rng;constructor(R=0){this.rng=seedrandom(String(R))}reset(R){this.rng=seedrandom(String(R))}random(R,O){const I=this.rng();return R===void 0?I:O===void 0?I*R:R+I*(O-R)}randomInt(R,O){return Math.floor(O===void 0?this.random(R):this.random(R,O))}randomBool(R=.5){return this.rng()<R}gaussian(){let R,O;do R=this.rng(),O=this.rng();while(R===0);return Math.sqrt(-2*Math.log(R))*Math.cos(2*Math.PI*O)}randomGaussian(R=0,O=1){return R+O*this.gaussian()}choice(R){if(R.length===0)throw new Error("Cannot pick from empty array");return R[Math.floor(this.rng()*R.length)]}shuffle(R){for(let O=R.length-1;O>0;O--){const I=Math.floor(this.rng()*(O+1));[R[O],R[I]]=[R[I],R[O]]}return R}}function shapeCenter(_,R){return _===0&&R===0?new Vector2(0,0):R===0?new Vector2(0,0):new Vector2(0,1/R)}class BasalGeometry{curvedToCartesian(R,O){const I=this.getPointAtArcLength(R),F=this.getNormal(I);return I.add(F.scale(O))}}class StraightLineGeometry extends BasalGeometry{type="line";curvature_1=0;curvature_2=0;perimeter=1/0;projectPoint(R){return new Vector2(R.x,0)}getArcLength(R){return R.x}getPointAtArcLength(R){return new Vector2(R,0)}getNormal(R){return new Vector2(0,1)}}class CircularGeometry extends BasalGeometry{constructor(R,O){super(),this.curvature_1=R,this.curvature_2=O,this.radius=Math.abs(1/R),this.perimeter=2*Math.PI*this.radius,this.dir=-Math.sign(O),this.center=new Vector2(0,1/O)}type="circle";center;radius;perimeter;dir;projectPoint(R){const O=R.sub(this.center);return this.center.add(O.setMag(this.radius))}getArcLength(R){const O=R.sub(this.center);return Math.atan2(this.dir*O.x,this.dir*O.y)*this.radius}getPointAtArcLength(R){const O=R/this.radius;return new Vector2(this.center.x+this.dir*this.radius*Math.cos(O),this.center.y+this.dir*this.radius*Math.sin(O))}getNormal(R){return this.center.sub(R).setMag(Math.sign(this.curvature_2))}}class EllipticalGeometry extends BasalGeometry{constructor(R,O,I=360){super(),this.curvature_1=R,this.curvature_2=O,this.a=Math.abs(1/R),this.b=Math.abs(1/O),this.dir=-Math.sign(O),this.center=new Vector2(0,1/O),this.numPoints=I,this.points=this.discretizeCurve(),this.perimeter=this.points[this.points.length-1].arcLength}type="ellipse";center;a;b;dir;perimeter;points;numPoints;discretizeCurve(){const R=[];let O=0;for(let I=0;I<=this.numPoints;I++){const F=I/this.numPoints*2*Math.PI,z=this.center.x+this.dir*this.a*Math.cos(F),L=this.center.y+this.dir*this.b*Math.sin(F),U=new Vector2(z,L);if(I>0){const Y=R[I-1].position,W=U.dist(Y);O+=W}const q=U.sub(this.center).scale(this.dir),G=2*q.x/(this.a*this.a),V=2*q.y/(this.b*this.b),Z=new Vector2(G,V).setMag(Math.sign(this.curvature_2));R.push({position:U,arcLength:O,theta:F,normal:Z})}return R}findBracket(R,O){let I=0,F=this.points.length-1;for(;F-I>1;){const z=Math.floor((I+F)/2);O(this.points[z])<R?I=z:F=z}return[I,F]}interpolate(R,O,I,F){const z=F(R),L=F(O),U=(I-z)/(L-z);return{position:R.position.lerp(O.position,U),arcLength:R.arcLength+U*(O.arcLength-R.arcLength),theta:R.theta+U*(O.theta-R.theta),normal:R.normal.lerp(O.normal,U).normalize()}}projectPoint(R){let O=1/0,I=0;for(let W=0;W<this.points.length;W++){const ee=R.distSq(this.points[W].position);ee<O&&(O=ee,I=W)}const F=I===0?this.points.length-1:I-1,z=I===this.points.length-1?0:I+1,L=this.points[I].position,U=this.points[F].position,q=this.points[z].position,G=this.projectOntoSegment(R,U,L),V=R.distSq(G),Z=this.projectOntoSegment(R,L,q),Y=R.distSq(Z);return V<Y?G:Z}projectOntoSegment(R,O,I){const F=I.sub(O),z=R.sub(O),L=F.magSq();if(L<1e-10)return O;const U=Math.max(0,Math.min(1,z.dot(F)/L));return O.add(F.scale(U))}getArcLength(R){const O=this.projectPoint(R);let I=1/0,F=0;for(let z=0;z<this.points.length;z++){const L=O.distSq(this.points[z].position);L<I&&(I=L,F=z)}return this.points[F].arcLength}getPointAtArcLength(R){const O=(R%this.perimeter+this.perimeter)%this.perimeter,[I,F]=this.findBracket(O,L=>L.arcLength);return this.interpolate(this.points[I],this.points[F],O,L=>L.arcLength).position}getNormal(R){let O=1/0,I=0;for(let F=0;F<this.points.length;F++){const z=R.distSq(this.points[F].position);z<O&&(O=z,I=F)}return this.points[I].normal}}function createBasalGeometry(_,R,O=360){return _===0&&R===0?new StraightLineGeometry:Math.abs(_-R)<1e-10?new CircularGeometry(_,R):new EllipticalGeometry(_,R,O)}var CellPhase=(_=>(_[_.G1=0]="G1",_[_.G2=1]="G2",_[_.Mitosis=2]="Mitosis",_[_.Division=3]="Division",_))(CellPhase||{});function createInitialEHTState(_="default"){return{cells:[],ap_links:[],ba_links:[],t:0,step_count:0,basalGeometry:new StraightLineGeometry,rngSeed:_}}function $constructor(_,R,O){function I(U,q){if(U._zod||Object.defineProperty(U,"_zod",{value:{def:q,constr:L,traits:new Set},enumerable:!1}),U._zod.traits.has(_))return;U._zod.traits.add(_),R(U,q);const G=L.prototype,V=Object.keys(G);for(let Z=0;Z<V.length;Z++){const Y=V[Z];Y in U||(U[Y]=G[Y].bind(U))}}const F=O?.Parent??Object;class z extends F{}Object.defineProperty(z,"name",{value:_});function L(U){var q;const G=O?.Parent?new z:this;I(G,U),(q=G._zod).deferred??(q.deferred=[]);for(const V of G._zod.deferred)V();return G}return Object.defineProperty(L,"init",{value:I}),Object.defineProperty(L,Symbol.hasInstance,{value:U=>O?.Parent&&U instanceof O.Parent?!0:U?._zod?.traits?.has(_)}),Object.defineProperty(L,"name",{value:_}),L}class $ZodAsyncError extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class $ZodEncodeError extends Error{constructor(R){super(`Encountered unidirectional transform during encode: ${R}`),this.name="ZodEncodeError"}}const globalConfig={};function config$2(_){return globalConfig}function getEnumValues(_){const R=Object.values(_).filter(I=>typeof I=="number");return Object.entries(_).filter(([I,F])=>R.indexOf(+I)===-1).map(([I,F])=>F)}function jsonStringifyReplacer(_,R){return typeof R=="bigint"?R.toString():R}function cached(_){return{get value(){{const R=_();return Object.defineProperty(this,"value",{value:R}),R}}}}function nullish$1(_){return _==null}function cleanRegex(_){const R=_.startsWith("^")?1:0,O=_.endsWith("$")?_.length-1:_.length;return _.slice(R,O)}function floatSafeRemainder(_,R){const O=(_.toString().split(".")[1]||"").length,I=R.toString();let F=(I.split(".")[1]||"").length;if(F===0&&/\d?e-\d?/.test(I)){const q=I.match(/\d?e-(\d?)/);q?.[1]&&(F=Number.parseInt(q[1]))}const z=O>F?O:F,L=Number.parseInt(_.toFixed(z).replace(".","")),U=Number.parseInt(R.toFixed(z).replace(".",""));return L%U/10**z}const EVALUATING=Symbol("evaluating");function defineLazy(_,R,O){let I;Object.defineProperty(_,R,{get(){if(I!==EVALUATING)return I===void 0&&(I=EVALUATING,I=O()),I},set(F){Object.defineProperty(_,R,{value:F})},configurable:!0})}function assignProp(_,R,O){Object.defineProperty(_,R,{value:O,writable:!0,enumerable:!0,configurable:!0})}function mergeDefs(..._){const R={};for(const O of _){const I=Object.getOwnPropertyDescriptors(O);Object.assign(R,I)}return Object.defineProperties({},R)}function esc(_){return JSON.stringify(_)}function slugify(_){return _.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const captureStackTrace="captureStackTrace"in Error?Error.captureStackTrace:(..._)=>{};function isObject$3(_){return typeof _=="object"&&_!==null&&!Array.isArray(_)}const allowsEval=cached(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const _=Function;return new _(""),!0}catch{return!1}});function isPlainObject$3(_){if(isObject$3(_)===!1)return!1;const R=_.constructor;if(R===void 0||typeof R!="function")return!0;const O=R.prototype;return!(isObject$3(O)===!1||Object.prototype.hasOwnProperty.call(O,"isPrototypeOf")===!1)}function shallowClone(_){return isPlainObject$3(_)?{..._}:Array.isArray(_)?[..._]:_}const propertyKeyTypes=new Set(["string","number","symbol"]);function escapeRegex(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function clone$4(_,R,O){const I=new _._zod.constr(R??_._zod.def);return(!R||O?.parent)&&(I._zod.parent=_),I}function normalizeParams(_){const R=_;if(!R)return{};if(typeof R=="string")return{error:()=>R};if(R?.message!==void 0){if(R?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");R.error=R.message}return delete R.message,typeof R.error=="string"?{...R,error:()=>R.error}:R}function optionalKeys(_){return Object.keys(_).filter(R=>_[R]._zod.optin==="optional"&&_[R]._zod.optout==="optional")}const NUMBER_FORMAT_RANGES={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function pick(_,R){const O=_._zod.def,I=O.checks;if(I&&I.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const z=mergeDefs(_._zod.def,{get shape(){const L={};for(const U in R){if(!(U in O.shape))throw new Error(`Unrecognized key: "${U}"`);R[U]&&(L[U]=O.shape[U])}return assignProp(this,"shape",L),L},checks:[]});return clone$4(_,z)}function omit(_,R){const O=_._zod.def,I=O.checks;if(I&&I.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const z=mergeDefs(_._zod.def,{get shape(){const L={..._._zod.def.shape};for(const U in R){if(!(U in O.shape))throw new Error(`Unrecognized key: "${U}"`);R[U]&&delete L[U]}return assignProp(this,"shape",L),L},checks:[]});return clone$4(_,z)}function extend$4(_,R){if(!isPlainObject$3(R))throw new Error("Invalid input to extend: expected a plain object");const O=_._zod.def.checks;if(O&&O.length>0){const z=_._zod.def.shape;for(const L in R)if(Object.getOwnPropertyDescriptor(z,L)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const F=mergeDefs(_._zod.def,{get shape(){const z={..._._zod.def.shape,...R};return assignProp(this,"shape",z),z}});return clone$4(_,F)}function safeExtend(_,R){if(!isPlainObject$3(R))throw new Error("Invalid input to safeExtend: expected a plain object");const O=mergeDefs(_._zod.def,{get shape(){const I={..._._zod.def.shape,...R};return assignProp(this,"shape",I),I}});return clone$4(_,O)}function merge$3(_,R){const O=mergeDefs(_._zod.def,{get shape(){const I={..._._zod.def.shape,...R._zod.def.shape};return assignProp(this,"shape",I),I},get catchall(){return R._zod.def.catchall},checks:[]});return clone$4(_,O)}function partial(_,R,O){const F=R._zod.def.checks;if(F&&F.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const L=mergeDefs(R._zod.def,{get shape(){const U=R._zod.def.shape,q={...U};if(O)for(const G in O){if(!(G in U))throw new Error(`Unrecognized key: "${G}"`);O[G]&&(q[G]=_?new _({type:"optional",innerType:U[G]}):U[G])}else for(const G in U)q[G]=_?new _({type:"optional",innerType:U[G]}):U[G];return assignProp(this,"shape",q),q},checks:[]});return clone$4(R,L)}function required(_,R,O){const I=mergeDefs(R._zod.def,{get shape(){const F=R._zod.def.shape,z={...F};if(O)for(const L in O){if(!(L in z))throw new Error(`Unrecognized key: "${L}"`);O[L]&&(z[L]=new _({type:"nonoptional",innerType:F[L]}))}else for(const L in F)z[L]=new _({type:"nonoptional",innerType:F[L]});return assignProp(this,"shape",z),z}});return clone$4(R,I)}function aborted(_,R=0){if(_.aborted===!0)return!0;for(let O=R;O<_.issues.length;O++)if(_.issues[O]?.continue!==!0)return!0;return!1}function prefixIssues(_,R){return R.map(O=>{var I;return(I=O).path??(I.path=[]),O.path.unshift(_),O})}function unwrapMessage(_){return typeof _=="string"?_:_?.message}function finalizeIssue(_,R,O){const I={..._,path:_.path??[]};if(!_.message){const F=unwrapMessage(_.inst?._zod.def?.error?.(_))??unwrapMessage(R?.error?.(_))??unwrapMessage(O.customError?.(_))??unwrapMessage(O.localeError?.(_))??"Invalid input";I.message=F}return delete I.inst,delete I.continue,R?.reportInput||delete I.input,I}function getLengthableOrigin(_){return Array.isArray(_)?"array":typeof _=="string"?"string":"unknown"}function issue(..._){const[R,O,I]=_;return typeof R=="string"?{message:R,code:"custom",input:O,inst:I}:{...R}}const initializer$2=(_,R)=>{_.name="$ZodError",Object.defineProperty(_,"_zod",{value:_._zod,enumerable:!1}),Object.defineProperty(_,"issues",{value:R,enumerable:!1}),_.message=JSON.stringify(R,jsonStringifyReplacer,2),Object.defineProperty(_,"toString",{value:()=>_.message,enumerable:!1})},$ZodError=$constructor("$ZodError",initializer$2),$ZodRealError=$constructor("$ZodError",initializer$2,{Parent:Error});function flattenError(_,R=O=>O.message){const O={},I=[];for(const F of _.issues)F.path.length>0?(O[F.path[0]]=O[F.path[0]]||[],O[F.path[0]].push(R(F))):I.push(R(F));return{formErrors:I,fieldErrors:O}}function formatError(_,R=O=>O.message){const O={_errors:[]},I=F=>{for(const z of F.issues)if(z.code==="invalid_union"&&z.errors.length)z.errors.map(L=>I({issues:L}));else if(z.code==="invalid_key")I({issues:z.issues});else if(z.code==="invalid_element")I({issues:z.issues});else if(z.path.length===0)O._errors.push(R(z));else{let L=O,U=0;for(;U<z.path.length;){const q=z.path[U];U===z.path.length-1?(L[q]=L[q]||{_errors:[]},L[q]._errors.push(R(z))):L[q]=L[q]||{_errors:[]},L=L[q],U++}}};return I(_),O}const _parse=_=>(R,O,I,F)=>{const z=I?Object.assign(I,{async:!1}):{async:!1},L=R._zod.run({value:O,issues:[]},z);if(L instanceof Promise)throw new $ZodAsyncError;if(L.issues.length){const U=new(F?.Err??_)(L.issues.map(q=>finalizeIssue(q,z,config$2())));throw captureStackTrace(U,F?.callee),U}return L.value},_parseAsync=_=>async(R,O,I,F)=>{const z=I?Object.assign(I,{async:!0}):{async:!0};let L=R._zod.run({value:O,issues:[]},z);if(L instanceof Promise&&(L=await L),L.issues.length){const U=new(F?.Err??_)(L.issues.map(q=>finalizeIssue(q,z,config$2())));throw captureStackTrace(U,F?.callee),U}return L.value},_safeParse=_=>(R,O,I)=>{const F=I?{...I,async:!1}:{async:!1},z=R._zod.run({value:O,issues:[]},F);if(z instanceof Promise)throw new $ZodAsyncError;return z.issues.length?{success:!1,error:new(_??$ZodError)(z.issues.map(L=>finalizeIssue(L,F,config$2())))}:{success:!0,data:z.value}},safeParse$1=_safeParse($ZodRealError),_safeParseAsync=_=>async(R,O,I)=>{const F=I?Object.assign(I,{async:!0}):{async:!0};let z=R._zod.run({value:O,issues:[]},F);return z instanceof Promise&&(z=await z),z.issues.length?{success:!1,error:new _(z.issues.map(L=>finalizeIssue(L,F,config$2())))}:{success:!0,data:z.value}},safeParseAsync$1=_safeParseAsync($ZodRealError),_encode=_=>(R,O,I)=>{const F=I?Object.assign(I,{direction:"backward"}):{direction:"backward"};return _parse(_)(R,O,F)},_decode=_=>(R,O,I)=>_parse(_)(R,O,I),_encodeAsync=_=>async(R,O,I)=>{const F=I?Object.assign(I,{direction:"backward"}):{direction:"backward"};return _parseAsync(_)(R,O,F)},_decodeAsync=_=>async(R,O,I)=>_parseAsync(_)(R,O,I),_safeEncode=_=>(R,O,I)=>{const F=I?Object.assign(I,{direction:"backward"}):{direction:"backward"};return _safeParse(_)(R,O,F)},_safeDecode=_=>(R,O,I)=>_safeParse(_)(R,O,I),_safeEncodeAsync=_=>async(R,O,I)=>{const F=I?Object.assign(I,{direction:"backward"}):{direction:"backward"};return _safeParseAsync(_)(R,O,F)},_safeDecodeAsync=_=>async(R,O,I)=>_safeParseAsync(_)(R,O,I),cuid=/^[cC][^\s-]{8,}$/,cuid2=/^[0-9a-z]+$/,ulid=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,xid=/^[0-9a-vA-V]{20}$/,ksuid=/^[A-Za-z0-9]{27}$/,nanoid=/^[a-zA-Z0-9_-]{21}$/,duration$1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,guid=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,uuid=_=>_?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${_}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,email=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,_emoji$1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function emoji(){return new RegExp(_emoji$1,"u")}const ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,cidrv4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,cidrv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,base64url=/^[A-Za-z0-9_-]*$/,e164=/^\+[1-9]\d{6,14}$/,dateSource="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",date$3=new RegExp(`^${dateSource}$`);function timeSource(_){const R="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof _.precision=="number"?_.precision===-1?`${R}`:_.precision===0?`${R}:[0-5]\\d`:`${R}:[0-5]\\d\\.\\d{${_.precision}}`:`${R}(?::[0-5]\\d(?:\\.\\d+)?)?`}function time$2(_){return new RegExp(`^${timeSource(_)}$`)}function datetime$1(_){const R=timeSource({precision:_.precision}),O=["Z"];_.local&&O.push(""),_.offset&&O.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const I=`${R}(?:${O.join("|")})`;return new RegExp(`^${dateSource}T(?:${I})$`)}const string$5=_=>{const R=_?`[\\s\\S]{${_?.minimum??0},${_?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${R}$`)},integer=/^-?\d+$/,number$8=/^-?\d+(?:\.\d+)?$/,boolean$3=/^(?:true|false)$/i,lowercase=/^[^A-Z]*$/,uppercase$1=/^[^a-z]*$/,$ZodCheck=$constructor("$ZodCheck",(_,R)=>{var O;_._zod??(_._zod={}),_._zod.def=R,(O=_._zod).onattach??(O.onattach=[])}),numericOriginMap={number:"number",bigint:"bigint",object:"date"},$ZodCheckLessThan=$constructor("$ZodCheckLessThan",(_,R)=>{$ZodCheck.init(_,R);const O=numericOriginMap[typeof R.value];_._zod.onattach.push(I=>{const F=I._zod.bag,z=(R.inclusive?F.maximum:F.exclusiveMaximum)??Number.POSITIVE_INFINITY;R.value<z&&(R.inclusive?F.maximum=R.value:F.exclusiveMaximum=R.value)}),_._zod.check=I=>{(R.inclusive?I.value<=R.value:I.value<R.value)||I.issues.push({origin:O,code:"too_big",maximum:typeof R.value=="object"?R.value.getTime():R.value,input:I.value,inclusive:R.inclusive,inst:_,continue:!R.abort})}}),$ZodCheckGreaterThan=$constructor("$ZodCheckGreaterThan",(_,R)=>{$ZodCheck.init(_,R);const O=numericOriginMap[typeof R.value];_._zod.onattach.push(I=>{const F=I._zod.bag,z=(R.inclusive?F.minimum:F.exclusiveMinimum)??Number.NEGATIVE_INFINITY;R.value>z&&(R.inclusive?F.minimum=R.value:F.exclusiveMinimum=R.value)}),_._zod.check=I=>{(R.inclusive?I.value>=R.value:I.value>R.value)||I.issues.push({origin:O,code:"too_small",minimum:typeof R.value=="object"?R.value.getTime():R.value,input:I.value,inclusive:R.inclusive,inst:_,continue:!R.abort})}}),$ZodCheckMultipleOf=$constructor("$ZodCheckMultipleOf",(_,R)=>{$ZodCheck.init(_,R),_._zod.onattach.push(O=>{var I;(I=O._zod.bag).multipleOf??(I.multipleOf=R.value)}),_._zod.check=O=>{if(typeof O.value!=typeof R.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof O.value=="bigint"?O.value%R.value===BigInt(0):floatSafeRemainder(O.value,R.value)===0)||O.issues.push({origin:typeof O.value,code:"not_multiple_of",divisor:R.value,input:O.value,inst:_,continue:!R.abort})}}),$ZodCheckNumberFormat=$constructor("$ZodCheckNumberFormat",(_,R)=>{$ZodCheck.init(_,R),R.format=R.format||"float64";const O=R.format?.includes("int"),I=O?"int":"number",[F,z]=NUMBER_FORMAT_RANGES[R.format];_._zod.onattach.push(L=>{const U=L._zod.bag;U.format=R.format,U.minimum=F,U.maximum=z,O&&(U.pattern=integer)}),_._zod.check=L=>{const U=L.value;if(O){if(!Number.isInteger(U)){L.issues.push({expected:I,format:R.format,code:"invalid_type",continue:!1,input:U,inst:_});return}if(!Number.isSafeInteger(U)){U>0?L.issues.push({input:U,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:_,origin:I,inclusive:!0,continue:!R.abort}):L.issues.push({input:U,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:_,origin:I,inclusive:!0,continue:!R.abort});return}}U<F&&L.issues.push({origin:"number",input:U,code:"too_small",minimum:F,inclusive:!0,inst:_,continue:!R.abort}),U>z&&L.issues.push({origin:"number",input:U,code:"too_big",maximum:z,inclusive:!0,inst:_,continue:!R.abort})}}),$ZodCheckMaxLength=$constructor("$ZodCheckMaxLength",(_,R)=>{var O;$ZodCheck.init(_,R),(O=_._zod.def).when??(O.when=I=>{const F=I.value;return!nullish$1(F)&&F.length!==void 0}),_._zod.onattach.push(I=>{const F=I._zod.bag.maximum??Number.POSITIVE_INFINITY;R.maximum<F&&(I._zod.bag.maximum=R.maximum)}),_._zod.check=I=>{const F=I.value;if(F.length<=R.maximum)return;const L=getLengthableOrigin(F);I.issues.push({origin:L,code:"too_big",maximum:R.maximum,inclusive:!0,input:F,inst:_,continue:!R.abort})}}),$ZodCheckMinLength=$constructor("$ZodCheckMinLength",(_,R)=>{var O;$ZodCheck.init(_,R),(O=_._zod.def).when??(O.when=I=>{const F=I.value;return!nullish$1(F)&&F.length!==void 0}),_._zod.onattach.push(I=>{const F=I._zod.bag.minimum??Number.NEGATIVE_INFINITY;R.minimum>F&&(I._zod.bag.minimum=R.minimum)}),_._zod.check=I=>{const F=I.value;if(F.length>=R.minimum)return;const L=getLengthableOrigin(F);I.issues.push({origin:L,code:"too_small",minimum:R.minimum,inclusive:!0,input:F,inst:_,continue:!R.abort})}}),$ZodCheckLengthEquals=$constructor("$ZodCheckLengthEquals",(_,R)=>{var O;$ZodCheck.init(_,R),(O=_._zod.def).when??(O.when=I=>{const F=I.value;return!nullish$1(F)&&F.length!==void 0}),_._zod.onattach.push(I=>{const F=I._zod.bag;F.minimum=R.length,F.maximum=R.length,F.length=R.length}),_._zod.check=I=>{const F=I.value,z=F.length;if(z===R.length)return;const L=getLengthableOrigin(F),U=z>R.length;I.issues.push({origin:L,...U?{code:"too_big",maximum:R.length}:{code:"too_small",minimum:R.length},inclusive:!0,exact:!0,input:I.value,inst:_,continue:!R.abort})}}),$ZodCheckStringFormat=$constructor("$ZodCheckStringFormat",(_,R)=>{var O,I;$ZodCheck.init(_,R),_._zod.onattach.push(F=>{const z=F._zod.bag;z.format=R.format,R.pattern&&(z.patterns??(z.patterns=new Set),z.patterns.add(R.pattern))}),R.pattern?(O=_._zod).check??(O.check=F=>{R.pattern.lastIndex=0,!R.pattern.test(F.value)&&F.issues.push({origin:"string",code:"invalid_format",format:R.format,input:F.value,...R.pattern?{pattern:R.pattern.toString()}:{},inst:_,continue:!R.abort})}):(I=_._zod).check??(I.check=()=>{})}),$ZodCheckRegex=$constructor("$ZodCheckRegex",(_,R)=>{$ZodCheckStringFormat.init(_,R),_._zod.check=O=>{R.pattern.lastIndex=0,!R.pattern.test(O.value)&&O.issues.push({origin:"string",code:"invalid_format",format:"regex",input:O.value,pattern:R.pattern.toString(),inst:_,continue:!R.abort})}}),$ZodCheckLowerCase=$constructor("$ZodCheckLowerCase",(_,R)=>{R.pattern??(R.pattern=lowercase),$ZodCheckStringFormat.init(_,R)}),$ZodCheckUpperCase=$constructor("$ZodCheckUpperCase",(_,R)=>{R.pattern??(R.pattern=uppercase$1),$ZodCheckStringFormat.init(_,R)}),$ZodCheckIncludes=$constructor("$ZodCheckIncludes",(_,R)=>{$ZodCheck.init(_,R);const O=escapeRegex(R.includes),I=new RegExp(typeof R.position=="number"?`^.{${R.position}}${O}`:O);R.pattern=I,_._zod.onattach.push(F=>{const z=F._zod.bag;z.patterns??(z.patterns=new Set),z.patterns.add(I)}),_._zod.check=F=>{F.value.includes(R.includes,R.position)||F.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:R.includes,input:F.value,inst:_,continue:!R.abort})}}),$ZodCheckStartsWith=$constructor("$ZodCheckStartsWith",(_,R)=>{$ZodCheck.init(_,R);const O=new RegExp(`^${escapeRegex(R.prefix)}.*`);R.pattern??(R.pattern=O),_._zod.onattach.push(I=>{const F=I._zod.bag;F.patterns??(F.patterns=new Set),F.patterns.add(O)}),_._zod.check=I=>{I.value.startsWith(R.prefix)||I.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:R.prefix,input:I.value,inst:_,continue:!R.abort})}}),$ZodCheckEndsWith=$constructor("$ZodCheckEndsWith",(_,R)=>{$ZodCheck.init(_,R);const O=new RegExp(`.*${escapeRegex(R.suffix)}$`);R.pattern??(R.pattern=O),_._zod.onattach.push(I=>{const F=I._zod.bag;F.patterns??(F.patterns=new Set),F.patterns.add(O)}),_._zod.check=I=>{I.value.endsWith(R.suffix)||I.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:R.suffix,input:I.value,inst:_,continue:!R.abort})}}),$ZodCheckOverwrite=$constructor("$ZodCheckOverwrite",(_,R)=>{$ZodCheck.init(_,R),_._zod.check=O=>{O.value=R.tx(O.value)}});class Doc{constructor(R=[]){this.content=[],this.indent=0,this&&(this.args=R)}indented(R){this.indent+=1,R(this),this.indent-=1}write(R){if(typeof R=="function"){R(this,{execution:"sync"}),R(this,{execution:"async"});return}const I=R.split(`
`).filter(L=>L),F=Math.min(...I.map(L=>L.length-L.trimStart().length)),z=I.map(L=>L.slice(F)).map(L=>" ".repeat(this.indent*2)+L);for(const L of z)this.content.push(L)}compile(){const R=Function,O=this?.args,F=[...(this?.content??[""]).map(z=>`  ${z}`)];return new R(...O,F.join(`
`))}}const version$3={major:4,minor:3,patch:5},$ZodType=$constructor("$ZodType",(_,R)=>{var O;_??(_={}),_._zod.def=R,_._zod.bag=_._zod.bag||{},_._zod.version=version$3;const I=[..._._zod.def.checks??[]];_._zod.traits.has("$ZodCheck")&&I.unshift(_);for(const F of I)for(const z of F._zod.onattach)z(_);if(I.length===0)(O=_._zod).deferred??(O.deferred=[]),_._zod.deferred?.push(()=>{_._zod.run=_._zod.parse});else{const F=(L,U,q)=>{let G=aborted(L),V;for(const Z of U){if(Z._zod.def.when){if(!Z._zod.def.when(L))continue}else if(G)continue;const Y=L.issues.length,W=Z._zod.check(L);if(W instanceof Promise&&q?.async===!1)throw new $ZodAsyncError;if(V||W instanceof Promise)V=(V??Promise.resolve()).then(async()=>{await W,L.issues.length!==Y&&(G||(G=aborted(L,Y)))});else{if(L.issues.length===Y)continue;G||(G=aborted(L,Y))}}return V?V.then(()=>L):L},z=(L,U,q)=>{if(aborted(L))return L.aborted=!0,L;const G=F(U,I,q);if(G instanceof Promise){if(q.async===!1)throw new $ZodAsyncError;return G.then(V=>_._zod.parse(V,q))}return _._zod.parse(G,q)};_._zod.run=(L,U)=>{if(U.skipChecks)return _._zod.parse(L,U);if(U.direction==="backward"){const G=_._zod.parse({value:L.value,issues:[]},{...U,skipChecks:!0});return G instanceof Promise?G.then(V=>z(V,L,U)):z(G,L,U)}const q=_._zod.parse(L,U);if(q instanceof Promise){if(U.async===!1)throw new $ZodAsyncError;return q.then(G=>F(G,I,U))}return F(q,I,U)}}defineLazy(_,"~standard",()=>({validate:F=>{try{const z=safeParse$1(_,F);return z.success?{value:z.data}:{issues:z.error?.issues}}catch{return safeParseAsync$1(_,F).then(L=>L.success?{value:L.data}:{issues:L.error?.issues})}},vendor:"zod",version:1}))}),$ZodString=$constructor("$ZodString",(_,R)=>{$ZodType.init(_,R),_._zod.pattern=[..._?._zod.bag?.patterns??[]].pop()??string$5(_._zod.bag),_._zod.parse=(O,I)=>{if(R.coerce)try{O.value=String(O.value)}catch{}return typeof O.value=="string"||O.issues.push({expected:"string",code:"invalid_type",input:O.value,inst:_}),O}}),$ZodStringFormat=$constructor("$ZodStringFormat",(_,R)=>{$ZodCheckStringFormat.init(_,R),$ZodString.init(_,R)}),$ZodGUID=$constructor("$ZodGUID",(_,R)=>{R.pattern??(R.pattern=guid),$ZodStringFormat.init(_,R)}),$ZodUUID=$constructor("$ZodUUID",(_,R)=>{if(R.version){const I={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[R.version];if(I===void 0)throw new Error(`Invalid UUID version: "${R.version}"`);R.pattern??(R.pattern=uuid(I))}else R.pattern??(R.pattern=uuid());$ZodStringFormat.init(_,R)}),$ZodEmail=$constructor("$ZodEmail",(_,R)=>{R.pattern??(R.pattern=email),$ZodStringFormat.init(_,R)}),$ZodURL=$constructor("$ZodURL",(_,R)=>{$ZodStringFormat.init(_,R),_._zod.check=O=>{try{const I=O.value.trim(),F=new URL(I);R.hostname&&(R.hostname.lastIndex=0,R.hostname.test(F.hostname)||O.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:R.hostname.source,input:O.value,inst:_,continue:!R.abort})),R.protocol&&(R.protocol.lastIndex=0,R.protocol.test(F.protocol.endsWith(":")?F.protocol.slice(0,-1):F.protocol)||O.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:R.protocol.source,input:O.value,inst:_,continue:!R.abort})),R.normalize?O.value=F.href:O.value=I;return}catch{O.issues.push({code:"invalid_format",format:"url",input:O.value,inst:_,continue:!R.abort})}}}),$ZodEmoji=$constructor("$ZodEmoji",(_,R)=>{R.pattern??(R.pattern=emoji()),$ZodStringFormat.init(_,R)}),$ZodNanoID=$constructor("$ZodNanoID",(_,R)=>{R.pattern??(R.pattern=nanoid),$ZodStringFormat.init(_,R)}),$ZodCUID=$constructor("$ZodCUID",(_,R)=>{R.pattern??(R.pattern=cuid),$ZodStringFormat.init(_,R)}),$ZodCUID2=$constructor("$ZodCUID2",(_,R)=>{R.pattern??(R.pattern=cuid2),$ZodStringFormat.init(_,R)}),$ZodULID=$constructor("$ZodULID",(_,R)=>{R.pattern??(R.pattern=ulid),$ZodStringFormat.init(_,R)}),$ZodXID=$constructor("$ZodXID",(_,R)=>{R.pattern??(R.pattern=xid),$ZodStringFormat.init(_,R)}),$ZodKSUID=$constructor("$ZodKSUID",(_,R)=>{R.pattern??(R.pattern=ksuid),$ZodStringFormat.init(_,R)}),$ZodISODateTime=$constructor("$ZodISODateTime",(_,R)=>{R.pattern??(R.pattern=datetime$1(R)),$ZodStringFormat.init(_,R)}),$ZodISODate=$constructor("$ZodISODate",(_,R)=>{R.pattern??(R.pattern=date$3),$ZodStringFormat.init(_,R)}),$ZodISOTime=$constructor("$ZodISOTime",(_,R)=>{R.pattern??(R.pattern=time$2(R)),$ZodStringFormat.init(_,R)}),$ZodISODuration=$constructor("$ZodISODuration",(_,R)=>{R.pattern??(R.pattern=duration$1),$ZodStringFormat.init(_,R)}),$ZodIPv4=$constructor("$ZodIPv4",(_,R)=>{R.pattern??(R.pattern=ipv4),$ZodStringFormat.init(_,R),_._zod.bag.format="ipv4"}),$ZodIPv6=$constructor("$ZodIPv6",(_,R)=>{R.pattern??(R.pattern=ipv6),$ZodStringFormat.init(_,R),_._zod.bag.format="ipv6",_._zod.check=O=>{try{new URL(`http://[${O.value}]`)}catch{O.issues.push({code:"invalid_format",format:"ipv6",input:O.value,inst:_,continue:!R.abort})}}}),$ZodCIDRv4=$constructor("$ZodCIDRv4",(_,R)=>{R.pattern??(R.pattern=cidrv4),$ZodStringFormat.init(_,R)}),$ZodCIDRv6=$constructor("$ZodCIDRv6",(_,R)=>{R.pattern??(R.pattern=cidrv6),$ZodStringFormat.init(_,R),_._zod.check=O=>{const I=O.value.split("/");try{if(I.length!==2)throw new Error;const[F,z]=I;if(!z)throw new Error;const L=Number(z);if(`${L}`!==z)throw new Error;if(L<0||L>128)throw new Error;new URL(`http://[${F}]`)}catch{O.issues.push({code:"invalid_format",format:"cidrv6",input:O.value,inst:_,continue:!R.abort})}}});function isValidBase64(_){if(_==="")return!0;if(_.length%4!==0)return!1;try{return atob(_),!0}catch{return!1}}const $ZodBase64=$constructor("$ZodBase64",(_,R)=>{R.pattern??(R.pattern=base64),$ZodStringFormat.init(_,R),_._zod.bag.contentEncoding="base64",_._zod.check=O=>{isValidBase64(O.value)||O.issues.push({code:"invalid_format",format:"base64",input:O.value,inst:_,continue:!R.abort})}});function isValidBase64URL(_){if(!base64url.test(_))return!1;const R=_.replace(/[-_]/g,I=>I==="-"?"+":"/"),O=R.padEnd(Math.ceil(R.length/4)*4,"=");return isValidBase64(O)}const $ZodBase64URL=$constructor("$ZodBase64URL",(_,R)=>{R.pattern??(R.pattern=base64url),$ZodStringFormat.init(_,R),_._zod.bag.contentEncoding="base64url",_._zod.check=O=>{isValidBase64URL(O.value)||O.issues.push({code:"invalid_format",format:"base64url",input:O.value,inst:_,continue:!R.abort})}}),$ZodE164=$constructor("$ZodE164",(_,R)=>{R.pattern??(R.pattern=e164),$ZodStringFormat.init(_,R)});function isValidJWT(_,R=null){try{const O=_.split(".");if(O.length!==3)return!1;const[I]=O;if(!I)return!1;const F=JSON.parse(atob(I));return!("typ"in F&&F?.typ!=="JWT"||!F.alg||R&&(!("alg"in F)||F.alg!==R))}catch{return!1}}const $ZodJWT=$constructor("$ZodJWT",(_,R)=>{$ZodStringFormat.init(_,R),_._zod.check=O=>{isValidJWT(O.value,R.alg)||O.issues.push({code:"invalid_format",format:"jwt",input:O.value,inst:_,continue:!R.abort})}}),$ZodNumber=$constructor("$ZodNumber",(_,R)=>{$ZodType.init(_,R),_._zod.pattern=_._zod.bag.pattern??number$8,_._zod.parse=(O,I)=>{if(R.coerce)try{O.value=Number(O.value)}catch{}const F=O.value;if(typeof F=="number"&&!Number.isNaN(F)&&Number.isFinite(F))return O;const z=typeof F=="number"?Number.isNaN(F)?"NaN":Number.isFinite(F)?void 0:"Infinity":void 0;return O.issues.push({expected:"number",code:"invalid_type",input:F,inst:_,...z?{received:z}:{}}),O}}),$ZodNumberFormat=$constructor("$ZodNumberFormat",(_,R)=>{$ZodCheckNumberFormat.init(_,R),$ZodNumber.init(_,R)}),$ZodBoolean=$constructor("$ZodBoolean",(_,R)=>{$ZodType.init(_,R),_._zod.pattern=boolean$3,_._zod.parse=(O,I)=>{if(R.coerce)try{O.value=!!O.value}catch{}const F=O.value;return typeof F=="boolean"||O.issues.push({expected:"boolean",code:"invalid_type",input:F,inst:_}),O}}),$ZodUnknown=$constructor("$ZodUnknown",(_,R)=>{$ZodType.init(_,R),_._zod.parse=O=>O}),$ZodNever=$constructor("$ZodNever",(_,R)=>{$ZodType.init(_,R),_._zod.parse=(O,I)=>(O.issues.push({expected:"never",code:"invalid_type",input:O.value,inst:_}),O)});function handleArrayResult(_,R,O){_.issues.length&&R.issues.push(...prefixIssues(O,_.issues)),R.value[O]=_.value}const $ZodArray=$constructor("$ZodArray",(_,R)=>{$ZodType.init(_,R),_._zod.parse=(O,I)=>{const F=O.value;if(!Array.isArray(F))return O.issues.push({expected:"array",code:"invalid_type",input:F,inst:_}),O;O.value=Array(F.length);const z=[];for(let L=0;L<F.length;L++){const U=F[L],q=R.element._zod.run({value:U,issues:[]},I);q instanceof Promise?z.push(q.then(G=>handleArrayResult(G,O,L))):handleArrayResult(q,O,L)}return z.length?Promise.all(z).then(()=>O):O}});function handlePropertyResult(_,R,O,I,F){if(_.issues.length){if(F&&!(O in I))return;R.issues.push(...prefixIssues(O,_.issues))}_.value===void 0?O in I&&(R.value[O]=void 0):R.value[O]=_.value}function normalizeDef(_){const R=Object.keys(_.shape);for(const I of R)if(!_.shape?.[I]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${I}": expected a Zod schema`);const O=optionalKeys(_.shape);return{..._,keys:R,keySet:new Set(R),numKeys:R.length,optionalKeys:new Set(O)}}function handleCatchall(_,R,O,I,F,z){const L=[],U=F.keySet,q=F.catchall._zod,G=q.def.type,V=q.optout==="optional";for(const Z in R){if(U.has(Z))continue;if(G==="never"){L.push(Z);continue}const Y=q.run({value:R[Z],issues:[]},I);Y instanceof Promise?_.push(Y.then(W=>handlePropertyResult(W,O,Z,R,V))):handlePropertyResult(Y,O,Z,R,V)}return L.length&&O.issues.push({code:"unrecognized_keys",keys:L,input:R,inst:z}),_.length?Promise.all(_).then(()=>O):O}const $ZodObject=$constructor("$ZodObject",(_,R)=>{if($ZodType.init(_,R),!Object.getOwnPropertyDescriptor(R,"shape")?.get){const U=R.shape;Object.defineProperty(R,"shape",{get:()=>{const q={...U};return Object.defineProperty(R,"shape",{value:q}),q}})}const I=cached(()=>normalizeDef(R));defineLazy(_._zod,"propValues",()=>{const U=R.shape,q={};for(const G in U){const V=U[G]._zod;if(V.values){q[G]??(q[G]=new Set);for(const Z of V.values)q[G].add(Z)}}return q});const F=isObject$3,z=R.catchall;let L;_._zod.parse=(U,q)=>{L??(L=I.value);const G=U.value;if(!F(G))return U.issues.push({expected:"object",code:"invalid_type",input:G,inst:_}),U;U.value={};const V=[],Z=L.shape;for(const Y of L.keys){const W=Z[Y],ee=W._zod.optout==="optional",ne=W._zod.run({value:G[Y],issues:[]},q);ne instanceof Promise?V.push(ne.then(ie=>handlePropertyResult(ie,U,Y,G,ee))):handlePropertyResult(ne,U,Y,G,ee)}return z?handleCatchall(V,G,U,q,I.value,_):V.length?Promise.all(V).then(()=>U):U}}),$ZodObjectJIT=$constructor("$ZodObjectJIT",(_,R)=>{$ZodObject.init(_,R);const O=_._zod.parse,I=cached(()=>normalizeDef(R)),F=Y=>{const W=new Doc(["shape","payload","ctx"]),ee=I.value,ne=le=>{const ue=esc(le);return`shape[${ue}]._zod.run({ value: input[${ue}], issues: [] }, ctx)`};W.write("const input = payload.value;");const ie=Object.create(null);let se=0;for(const le of ee.keys)ie[le]=`key_${se++}`;W.write("const newResult = {};");for(const le of ee.keys){const ue=ie[le],ce=esc(le),me=Y[le]?._zod?.optout==="optional";W.write(`const ${ue} = ${ne(le)};`),me?W.write(`
        if (${ue}.issues.length) {
          if (${ce} in input) {
            payload.issues = payload.issues.concat(${ue}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${ce}, ...iss.path] : [${ce}]
            })));
          }
        }
        
        if (${ue}.value === undefined) {
          if (${ce} in input) {
            newResult[${ce}] = undefined;
          }
        } else {
          newResult[${ce}] = ${ue}.value;
        }
        
      `):W.write(`
        if (${ue}.issues.length) {
          payload.issues = payload.issues.concat(${ue}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ce}, ...iss.path] : [${ce}]
          })));
        }
        
        if (${ue}.value === undefined) {
          if (${ce} in input) {
            newResult[${ce}] = undefined;
          }
        } else {
          newResult[${ce}] = ${ue}.value;
        }
        
      `)}W.write("payload.value = newResult;"),W.write("return payload;");const oe=W.compile();return(le,ue)=>oe(Y,le,ue)};let z;const L=isObject$3,U=!globalConfig.jitless,G=U&&allowsEval.value,V=R.catchall;let Z;_._zod.parse=(Y,W)=>{Z??(Z=I.value);const ee=Y.value;return L(ee)?U&&G&&W?.async===!1&&W.jitless!==!0?(z||(z=F(R.shape)),Y=z(Y,W),V?handleCatchall([],ee,Y,W,Z,_):Y):O(Y,W):(Y.issues.push({expected:"object",code:"invalid_type",input:ee,inst:_}),Y)}});function handleUnionResults(_,R,O,I){for(const z of _)if(z.issues.length===0)return R.value=z.value,R;const F=_.filter(z=>!aborted(z));return F.length===1?(R.value=F[0].value,F[0]):(R.issues.push({code:"invalid_union",input:R.value,inst:O,errors:_.map(z=>z.issues.map(L=>finalizeIssue(L,I,config$2())))}),R)}const $ZodUnion=$constructor("$ZodUnion",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"optin",()=>R.options.some(F=>F._zod.optin==="optional")?"optional":void 0),defineLazy(_._zod,"optout",()=>R.options.some(F=>F._zod.optout==="optional")?"optional":void 0),defineLazy(_._zod,"values",()=>{if(R.options.every(F=>F._zod.values))return new Set(R.options.flatMap(F=>Array.from(F._zod.values)))}),defineLazy(_._zod,"pattern",()=>{if(R.options.every(F=>F._zod.pattern)){const F=R.options.map(z=>z._zod.pattern);return new RegExp(`^(${F.map(z=>cleanRegex(z.source)).join("|")})$`)}});const O=R.options.length===1,I=R.options[0]._zod.run;_._zod.parse=(F,z)=>{if(O)return I(F,z);let L=!1;const U=[];for(const q of R.options){const G=q._zod.run({value:F.value,issues:[]},z);if(G instanceof Promise)U.push(G),L=!0;else{if(G.issues.length===0)return G;U.push(G)}}return L?Promise.all(U).then(q=>handleUnionResults(q,F,_,z)):handleUnionResults(U,F,_,z)}}),$ZodDiscriminatedUnion=$constructor("$ZodDiscriminatedUnion",(_,R)=>{R.inclusive=!1,$ZodUnion.init(_,R);const O=_._zod.parse;defineLazy(_._zod,"propValues",()=>{const F={};for(const z of R.options){const L=z._zod.propValues;if(!L||Object.keys(L).length===0)throw new Error(`Invalid discriminated union option at index "${R.options.indexOf(z)}"`);for(const[U,q]of Object.entries(L)){F[U]||(F[U]=new Set);for(const G of q)F[U].add(G)}}return F});const I=cached(()=>{const F=R.options,z=new Map;for(const L of F){const U=L._zod.propValues?.[R.discriminator];if(!U||U.size===0)throw new Error(`Invalid discriminated union option at index "${R.options.indexOf(L)}"`);for(const q of U){if(z.has(q))throw new Error(`Duplicate discriminator value "${String(q)}"`);z.set(q,L)}}return z});_._zod.parse=(F,z)=>{const L=F.value;if(!isObject$3(L))return F.issues.push({code:"invalid_type",expected:"object",input:L,inst:_}),F;const U=I.value.get(L?.[R.discriminator]);return U?U._zod.run(F,z):R.unionFallback?O(F,z):(F.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:R.discriminator,input:L,path:[R.discriminator],inst:_}),F)}}),$ZodIntersection=$constructor("$ZodIntersection",(_,R)=>{$ZodType.init(_,R),_._zod.parse=(O,I)=>{const F=O.value,z=R.left._zod.run({value:F,issues:[]},I),L=R.right._zod.run({value:F,issues:[]},I);return z instanceof Promise||L instanceof Promise?Promise.all([z,L]).then(([q,G])=>handleIntersectionResults(O,q,G)):handleIntersectionResults(O,z,L)}});function mergeValues(_,R){if(_===R)return{valid:!0,data:_};if(_ instanceof Date&&R instanceof Date&&+_==+R)return{valid:!0,data:_};if(isPlainObject$3(_)&&isPlainObject$3(R)){const O=Object.keys(R),I=Object.keys(_).filter(z=>O.indexOf(z)!==-1),F={..._,...R};for(const z of I){const L=mergeValues(_[z],R[z]);if(!L.valid)return{valid:!1,mergeErrorPath:[z,...L.mergeErrorPath]};F[z]=L.data}return{valid:!0,data:F}}if(Array.isArray(_)&&Array.isArray(R)){if(_.length!==R.length)return{valid:!1,mergeErrorPath:[]};const O=[];for(let I=0;I<_.length;I++){const F=_[I],z=R[I],L=mergeValues(F,z);if(!L.valid)return{valid:!1,mergeErrorPath:[I,...L.mergeErrorPath]};O.push(L.data)}return{valid:!0,data:O}}return{valid:!1,mergeErrorPath:[]}}function handleIntersectionResults(_,R,O){const I=new Map;let F;for(const U of R.issues)if(U.code==="unrecognized_keys"){F??(F=U);for(const q of U.keys)I.has(q)||I.set(q,{}),I.get(q).l=!0}else _.issues.push(U);for(const U of O.issues)if(U.code==="unrecognized_keys")for(const q of U.keys)I.has(q)||I.set(q,{}),I.get(q).r=!0;else _.issues.push(U);const z=[...I].filter(([,U])=>U.l&&U.r).map(([U])=>U);if(z.length&&F&&_.issues.push({...F,keys:z}),aborted(_))return _;const L=mergeValues(R.value,O.value);if(!L.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(L.mergeErrorPath)}`);return _.value=L.data,_}const $ZodTuple=$constructor("$ZodTuple",(_,R)=>{$ZodType.init(_,R);const O=R.items;_._zod.parse=(I,F)=>{const z=I.value;if(!Array.isArray(z))return I.issues.push({input:z,inst:_,expected:"tuple",code:"invalid_type"}),I;I.value=[];const L=[],U=[...O].reverse().findIndex(V=>V._zod.optin!=="optional"),q=U===-1?0:O.length-U;if(!R.rest){const V=z.length>O.length,Z=z.length<q-1;if(V||Z)return I.issues.push({...V?{code:"too_big",maximum:O.length,inclusive:!0}:{code:"too_small",minimum:O.length},input:z,inst:_,origin:"array"}),I}let G=-1;for(const V of O){if(G++,G>=z.length&&G>=q)continue;const Z=V._zod.run({value:z[G],issues:[]},F);Z instanceof Promise?L.push(Z.then(Y=>handleTupleResult(Y,I,G))):handleTupleResult(Z,I,G)}if(R.rest){const V=z.slice(O.length);for(const Z of V){G++;const Y=R.rest._zod.run({value:Z,issues:[]},F);Y instanceof Promise?L.push(Y.then(W=>handleTupleResult(W,I,G))):handleTupleResult(Y,I,G)}}return L.length?Promise.all(L).then(()=>I):I}});function handleTupleResult(_,R,O){_.issues.length&&R.issues.push(...prefixIssues(O,_.issues)),R.value[O]=_.value}const $ZodRecord=$constructor("$ZodRecord",(_,R)=>{$ZodType.init(_,R),_._zod.parse=(O,I)=>{const F=O.value;if(!isPlainObject$3(F))return O.issues.push({expected:"record",code:"invalid_type",input:F,inst:_}),O;const z=[],L=R.keyType._zod.values;if(L){O.value={};const U=new Set;for(const G of L)if(typeof G=="string"||typeof G=="number"||typeof G=="symbol"){U.add(typeof G=="number"?G.toString():G);const V=R.valueType._zod.run({value:F[G],issues:[]},I);V instanceof Promise?z.push(V.then(Z=>{Z.issues.length&&O.issues.push(...prefixIssues(G,Z.issues)),O.value[G]=Z.value})):(V.issues.length&&O.issues.push(...prefixIssues(G,V.issues)),O.value[G]=V.value)}let q;for(const G in F)U.has(G)||(q=q??[],q.push(G));q&&q.length>0&&O.issues.push({code:"unrecognized_keys",input:F,inst:_,keys:q})}else{O.value={};for(const U of Reflect.ownKeys(F)){if(U==="__proto__")continue;let q=R.keyType._zod.run({value:U,issues:[]},I);if(q instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof U=="string"&&number$8.test(U)&&q.issues.length&&q.issues.some(Z=>Z.code==="invalid_type"&&Z.expected==="number")){const Z=R.keyType._zod.run({value:Number(U),issues:[]},I);if(Z instanceof Promise)throw new Error("Async schemas not supported in object keys currently");Z.issues.length===0&&(q=Z)}if(q.issues.length){R.mode==="loose"?O.value[U]=F[U]:O.issues.push({code:"invalid_key",origin:"record",issues:q.issues.map(Z=>finalizeIssue(Z,I,config$2())),input:U,path:[U],inst:_});continue}const V=R.valueType._zod.run({value:F[U],issues:[]},I);V instanceof Promise?z.push(V.then(Z=>{Z.issues.length&&O.issues.push(...prefixIssues(U,Z.issues)),O.value[q.value]=Z.value})):(V.issues.length&&O.issues.push(...prefixIssues(U,V.issues)),O.value[q.value]=V.value)}}return z.length?Promise.all(z).then(()=>O):O}}),$ZodEnum=$constructor("$ZodEnum",(_,R)=>{$ZodType.init(_,R);const O=getEnumValues(R.entries),I=new Set(O);_._zod.values=I,_._zod.pattern=new RegExp(`^(${O.filter(F=>propertyKeyTypes.has(typeof F)).map(F=>typeof F=="string"?escapeRegex(F):F.toString()).join("|")})$`),_._zod.parse=(F,z)=>{const L=F.value;return I.has(L)||F.issues.push({code:"invalid_value",values:O,input:L,inst:_}),F}}),$ZodLiteral=$constructor("$ZodLiteral",(_,R)=>{if($ZodType.init(_,R),R.values.length===0)throw new Error("Cannot create literal schema with no valid values");const O=new Set(R.values);_._zod.values=O,_._zod.pattern=new RegExp(`^(${R.values.map(I=>typeof I=="string"?escapeRegex(I):I?escapeRegex(I.toString()):String(I)).join("|")})$`),_._zod.parse=(I,F)=>{const z=I.value;return O.has(z)||I.issues.push({code:"invalid_value",values:R.values,input:z,inst:_}),I}}),$ZodTransform=$constructor("$ZodTransform",(_,R)=>{$ZodType.init(_,R),_._zod.parse=(O,I)=>{if(I.direction==="backward")throw new $ZodEncodeError(_.constructor.name);const F=R.transform(O.value,O);if(I.async)return(F instanceof Promise?F:Promise.resolve(F)).then(L=>(O.value=L,O));if(F instanceof Promise)throw new $ZodAsyncError;return O.value=F,O}});function handleOptionalResult(_,R){return _.issues.length&&R===void 0?{issues:[],value:void 0}:_}const $ZodOptional=$constructor("$ZodOptional",(_,R)=>{$ZodType.init(_,R),_._zod.optin="optional",_._zod.optout="optional",defineLazy(_._zod,"values",()=>R.innerType._zod.values?new Set([...R.innerType._zod.values,void 0]):void 0),defineLazy(_._zod,"pattern",()=>{const O=R.innerType._zod.pattern;return O?new RegExp(`^(${cleanRegex(O.source)})?$`):void 0}),_._zod.parse=(O,I)=>{if(R.innerType._zod.optin==="optional"){const F=R.innerType._zod.run(O,I);return F instanceof Promise?F.then(z=>handleOptionalResult(z,O.value)):handleOptionalResult(F,O.value)}return O.value===void 0?O:R.innerType._zod.run(O,I)}}),$ZodExactOptional=$constructor("$ZodExactOptional",(_,R)=>{$ZodOptional.init(_,R),defineLazy(_._zod,"values",()=>R.innerType._zod.values),defineLazy(_._zod,"pattern",()=>R.innerType._zod.pattern),_._zod.parse=(O,I)=>R.innerType._zod.run(O,I)}),$ZodNullable=$constructor("$ZodNullable",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"optin",()=>R.innerType._zod.optin),defineLazy(_._zod,"optout",()=>R.innerType._zod.optout),defineLazy(_._zod,"pattern",()=>{const O=R.innerType._zod.pattern;return O?new RegExp(`^(${cleanRegex(O.source)}|null)$`):void 0}),defineLazy(_._zod,"values",()=>R.innerType._zod.values?new Set([...R.innerType._zod.values,null]):void 0),_._zod.parse=(O,I)=>O.value===null?O:R.innerType._zod.run(O,I)}),$ZodDefault=$constructor("$ZodDefault",(_,R)=>{$ZodType.init(_,R),_._zod.optin="optional",defineLazy(_._zod,"values",()=>R.innerType._zod.values),_._zod.parse=(O,I)=>{if(I.direction==="backward")return R.innerType._zod.run(O,I);if(O.value===void 0)return O.value=R.defaultValue,O;const F=R.innerType._zod.run(O,I);return F instanceof Promise?F.then(z=>handleDefaultResult(z,R)):handleDefaultResult(F,R)}});function handleDefaultResult(_,R){return _.value===void 0&&(_.value=R.defaultValue),_}const $ZodPrefault=$constructor("$ZodPrefault",(_,R)=>{$ZodType.init(_,R),_._zod.optin="optional",defineLazy(_._zod,"values",()=>R.innerType._zod.values),_._zod.parse=(O,I)=>(I.direction==="backward"||O.value===void 0&&(O.value=R.defaultValue),R.innerType._zod.run(O,I))}),$ZodNonOptional=$constructor("$ZodNonOptional",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"values",()=>{const O=R.innerType._zod.values;return O?new Set([...O].filter(I=>I!==void 0)):void 0}),_._zod.parse=(O,I)=>{const F=R.innerType._zod.run(O,I);return F instanceof Promise?F.then(z=>handleNonOptionalResult(z,_)):handleNonOptionalResult(F,_)}});function handleNonOptionalResult(_,R){return!_.issues.length&&_.value===void 0&&_.issues.push({code:"invalid_type",expected:"nonoptional",input:_.value,inst:R}),_}const $ZodCatch=$constructor("$ZodCatch",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"optin",()=>R.innerType._zod.optin),defineLazy(_._zod,"optout",()=>R.innerType._zod.optout),defineLazy(_._zod,"values",()=>R.innerType._zod.values),_._zod.parse=(O,I)=>{if(I.direction==="backward")return R.innerType._zod.run(O,I);const F=R.innerType._zod.run(O,I);return F instanceof Promise?F.then(z=>(O.value=z.value,z.issues.length&&(O.value=R.catchValue({...O,error:{issues:z.issues.map(L=>finalizeIssue(L,I,config$2()))},input:O.value}),O.issues=[]),O)):(O.value=F.value,F.issues.length&&(O.value=R.catchValue({...O,error:{issues:F.issues.map(z=>finalizeIssue(z,I,config$2()))},input:O.value}),O.issues=[]),O)}}),$ZodPipe=$constructor("$ZodPipe",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"values",()=>R.in._zod.values),defineLazy(_._zod,"optin",()=>R.in._zod.optin),defineLazy(_._zod,"optout",()=>R.out._zod.optout),defineLazy(_._zod,"propValues",()=>R.in._zod.propValues),_._zod.parse=(O,I)=>{if(I.direction==="backward"){const z=R.out._zod.run(O,I);return z instanceof Promise?z.then(L=>handlePipeResult(L,R.in,I)):handlePipeResult(z,R.in,I)}const F=R.in._zod.run(O,I);return F instanceof Promise?F.then(z=>handlePipeResult(z,R.out,I)):handlePipeResult(F,R.out,I)}});function handlePipeResult(_,R,O){return _.issues.length?(_.aborted=!0,_):R._zod.run({value:_.value,issues:_.issues},O)}const $ZodReadonly=$constructor("$ZodReadonly",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"propValues",()=>R.innerType._zod.propValues),defineLazy(_._zod,"values",()=>R.innerType._zod.values),defineLazy(_._zod,"optin",()=>R.innerType?._zod?.optin),defineLazy(_._zod,"optout",()=>R.innerType?._zod?.optout),_._zod.parse=(O,I)=>{if(I.direction==="backward")return R.innerType._zod.run(O,I);const F=R.innerType._zod.run(O,I);return F instanceof Promise?F.then(handleReadonlyResult):handleReadonlyResult(F)}});function handleReadonlyResult(_){return _.value=Object.freeze(_.value),_}const $ZodCustom=$constructor("$ZodCustom",(_,R)=>{$ZodCheck.init(_,R),$ZodType.init(_,R),_._zod.parse=(O,I)=>O,_._zod.check=O=>{const I=O.value,F=R.fn(I);if(F instanceof Promise)return F.then(z=>handleRefineResult(z,O,I,_));handleRefineResult(F,O,I,_)}});function handleRefineResult(_,R,O,I){if(!_){const F={code:"custom",input:O,inst:I,path:[...I._zod.def.path??[]],continue:!I._zod.def.abort};I._zod.def.params&&(F.params=I._zod.def.params),R.issues.push(issue(F))}}var _a;class $ZodRegistry{constructor(){this._map=new WeakMap,this._idmap=new Map}add(R,...O){const I=O[0];return this._map.set(R,I),I&&typeof I=="object"&&"id"in I&&this._idmap.set(I.id,R),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(R){const O=this._map.get(R);return O&&typeof O=="object"&&"id"in O&&this._idmap.delete(O.id),this._map.delete(R),this}get(R){const O=R._zod.parent;if(O){const I={...this.get(O)??{}};delete I.id;const F={...I,...this._map.get(R)};return Object.keys(F).length?F:void 0}return this._map.get(R)}has(R){return this._map.has(R)}}function registry$1(){return new $ZodRegistry}(_a=globalThis).__zod_globalRegistry??(_a.__zod_globalRegistry=registry$1());const globalRegistry=globalThis.__zod_globalRegistry;function _string(_,R){return new _({type:"string",...normalizeParams(R)})}function _email(_,R){return new _({type:"string",format:"email",check:"string_format",abort:!1,...normalizeParams(R)})}function _guid(_,R){return new _({type:"string",format:"guid",check:"string_format",abort:!1,...normalizeParams(R)})}function _uuid(_,R){return new _({type:"string",format:"uuid",check:"string_format",abort:!1,...normalizeParams(R)})}function _uuidv4(_,R){return new _({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...normalizeParams(R)})}function _uuidv6(_,R){return new _({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...normalizeParams(R)})}function _uuidv7(_,R){return new _({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...normalizeParams(R)})}function _url(_,R){return new _({type:"string",format:"url",check:"string_format",abort:!1,...normalizeParams(R)})}function _emoji(_,R){return new _({type:"string",format:"emoji",check:"string_format",abort:!1,...normalizeParams(R)})}function _nanoid(_,R){return new _({type:"string",format:"nanoid",check:"string_format",abort:!1,...normalizeParams(R)})}function _cuid(_,R){return new _({type:"string",format:"cuid",check:"string_format",abort:!1,...normalizeParams(R)})}function _cuid2(_,R){return new _({type:"string",format:"cuid2",check:"string_format",abort:!1,...normalizeParams(R)})}function _ulid(_,R){return new _({type:"string",format:"ulid",check:"string_format",abort:!1,...normalizeParams(R)})}function _xid(_,R){return new _({type:"string",format:"xid",check:"string_format",abort:!1,...normalizeParams(R)})}function _ksuid(_,R){return new _({type:"string",format:"ksuid",check:"string_format",abort:!1,...normalizeParams(R)})}function _ipv4(_,R){return new _({type:"string",format:"ipv4",check:"string_format",abort:!1,...normalizeParams(R)})}function _ipv6(_,R){return new _({type:"string",format:"ipv6",check:"string_format",abort:!1,...normalizeParams(R)})}function _cidrv4(_,R){return new _({type:"string",format:"cidrv4",check:"string_format",abort:!1,...normalizeParams(R)})}function _cidrv6(_,R){return new _({type:"string",format:"cidrv6",check:"string_format",abort:!1,...normalizeParams(R)})}function _base64(_,R){return new _({type:"string",format:"base64",check:"string_format",abort:!1,...normalizeParams(R)})}function _base64url(_,R){return new _({type:"string",format:"base64url",check:"string_format",abort:!1,...normalizeParams(R)})}function _e164(_,R){return new _({type:"string",format:"e164",check:"string_format",abort:!1,...normalizeParams(R)})}function _jwt(_,R){return new _({type:"string",format:"jwt",check:"string_format",abort:!1,...normalizeParams(R)})}function _isoDateTime(_,R){return new _({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...normalizeParams(R)})}function _isoDate(_,R){return new _({type:"string",format:"date",check:"string_format",...normalizeParams(R)})}function _isoTime(_,R){return new _({type:"string",format:"time",check:"string_format",precision:null,...normalizeParams(R)})}function _isoDuration(_,R){return new _({type:"string",format:"duration",check:"string_format",...normalizeParams(R)})}function _number(_,R){return new _({type:"number",checks:[],...normalizeParams(R)})}function _int(_,R){return new _({type:"number",check:"number_format",abort:!1,format:"safeint",...normalizeParams(R)})}function _boolean(_,R){return new _({type:"boolean",...normalizeParams(R)})}function _unknown(_){return new _({type:"unknown"})}function _never(_,R){return new _({type:"never",...normalizeParams(R)})}function _lt(_,R){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(R),value:_,inclusive:!1})}function _lte(_,R){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(R),value:_,inclusive:!0})}function _gt(_,R){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(R),value:_,inclusive:!1})}function _gte(_,R){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(R),value:_,inclusive:!0})}function _multipleOf(_,R){return new $ZodCheckMultipleOf({check:"multiple_of",...normalizeParams(R),value:_})}function _maxLength(_,R){return new $ZodCheckMaxLength({check:"max_length",...normalizeParams(R),maximum:_})}function _minLength(_,R){return new $ZodCheckMinLength({check:"min_length",...normalizeParams(R),minimum:_})}function _length(_,R){return new $ZodCheckLengthEquals({check:"length_equals",...normalizeParams(R),length:_})}function _regex(_,R){return new $ZodCheckRegex({check:"string_format",format:"regex",...normalizeParams(R),pattern:_})}function _lowercase(_){return new $ZodCheckLowerCase({check:"string_format",format:"lowercase",...normalizeParams(_)})}function _uppercase(_){return new $ZodCheckUpperCase({check:"string_format",format:"uppercase",...normalizeParams(_)})}function _includes(_,R){return new $ZodCheckIncludes({check:"string_format",format:"includes",...normalizeParams(R),includes:_})}function _startsWith(_,R){return new $ZodCheckStartsWith({check:"string_format",format:"starts_with",...normalizeParams(R),prefix:_})}function _endsWith(_,R){return new $ZodCheckEndsWith({check:"string_format",format:"ends_with",...normalizeParams(R),suffix:_})}function _overwrite(_){return new $ZodCheckOverwrite({check:"overwrite",tx:_})}function _normalize(_){return _overwrite(R=>R.normalize(_))}function _trim(){return _overwrite(_=>_.trim())}function _toLowerCase(){return _overwrite(_=>_.toLowerCase())}function _toUpperCase(){return _overwrite(_=>_.toUpperCase())}function _slugify(){return _overwrite(_=>slugify(_))}function _array(_,R,O){return new _({type:"array",element:R,...normalizeParams(O)})}function _refine(_,R,O){return new _({type:"custom",check:"custom",fn:R,...normalizeParams(O)})}function _superRefine(_){const R=_check(O=>(O.addIssue=I=>{if(typeof I=="string")O.issues.push(issue(I,O.value,R._zod.def));else{const F=I;F.fatal&&(F.continue=!1),F.code??(F.code="custom"),F.input??(F.input=O.value),F.inst??(F.inst=R),F.continue??(F.continue=!R._zod.def.abort),O.issues.push(issue(F))}},_(O.value,O)));return R}function _check(_,R){const O=new $ZodCheck({check:"custom",...normalizeParams(R)});return O._zod.check=_,O}function initializeContext(_){let R=_?.target??"draft-2020-12";return R==="draft-4"&&(R="draft-04"),R==="draft-7"&&(R="draft-07"),{processors:_.processors??{},metadataRegistry:_?.metadata??globalRegistry,target:R,unrepresentable:_?.unrepresentable??"throw",override:_?.override??(()=>{}),io:_?.io??"output",counter:0,seen:new Map,cycles:_?.cycles??"ref",reused:_?.reused??"inline",external:_?.external??void 0}}function process$1(_,R,O={path:[],schemaPath:[]}){var I;const F=_._zod.def,z=R.seen.get(_);if(z)return z.count++,O.schemaPath.includes(_)&&(z.cycle=O.path),z.schema;const L={schema:{},count:1,cycle:void 0,path:O.path};R.seen.set(_,L);const U=_._zod.toJSONSchema?.();if(U)L.schema=U;else{const V={...O,schemaPath:[...O.schemaPath,_],path:O.path};if(_._zod.processJSONSchema)_._zod.processJSONSchema(R,L.schema,V);else{const Y=L.schema,W=R.processors[F.type];if(!W)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${F.type}`);W(_,R,Y,V)}const Z=_._zod.parent;Z&&(L.ref||(L.ref=Z),process$1(Z,R,V),R.seen.get(Z).isParent=!0)}const q=R.metadataRegistry.get(_);return q&&Object.assign(L.schema,q),R.io==="input"&&isTransforming(_)&&(delete L.schema.examples,delete L.schema.default),R.io==="input"&&L.schema._prefault&&((I=L.schema).default??(I.default=L.schema._prefault)),delete L.schema._prefault,R.seen.get(_).schema}function extractDefs(_,R){const O=_.seen.get(R);if(!O)throw new Error("Unprocessed schema. This is a bug in Zod.");const I=new Map;for(const L of _.seen.entries()){const U=_.metadataRegistry.get(L[0])?.id;if(U){const q=I.get(U);if(q&&q!==L[0])throw new Error(`Duplicate schema id "${U}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);I.set(U,L[0])}}const F=L=>{const U=_.target==="draft-2020-12"?"$defs":"definitions";if(_.external){const Z=_.external.registry.get(L[0])?.id,Y=_.external.uri??(ee=>ee);if(Z)return{ref:Y(Z)};const W=L[1].defId??L[1].schema.id??`schema${_.counter++}`;return L[1].defId=W,{defId:W,ref:`${Y("__shared")}#/${U}/${W}`}}if(L[1]===O)return{ref:"#"};const G=`#/${U}/`,V=L[1].schema.id??`__schema${_.counter++}`;return{defId:V,ref:G+V}},z=L=>{if(L[1].schema.$ref)return;const U=L[1],{ref:q,defId:G}=F(L);U.def={...U.schema},G&&(U.defId=G);const V=U.schema;for(const Z in V)delete V[Z];V.$ref=q};if(_.cycles==="throw")for(const L of _.seen.entries()){const U=L[1];if(U.cycle)throw new Error(`Cycle detected: #/${U.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const L of _.seen.entries()){const U=L[1];if(R===L[0]){z(L);continue}if(_.external){const G=_.external.registry.get(L[0])?.id;if(R!==L[0]&&G){z(L);continue}}if(_.metadataRegistry.get(L[0])?.id){z(L);continue}if(U.cycle){z(L);continue}if(U.count>1&&_.reused==="ref"){z(L);continue}}}function finalize(_,R){const O=_.seen.get(R);if(!O)throw new Error("Unprocessed schema. This is a bug in Zod.");const I=L=>{const U=_.seen.get(L);if(U.ref===null)return;const q=U.def??U.schema,G={...q},V=U.ref;if(U.ref=null,V){I(V);const Y=_.seen.get(V),W=Y.schema;if(W.$ref&&(_.target==="draft-07"||_.target==="draft-04"||_.target==="openapi-3.0")?(q.allOf=q.allOf??[],q.allOf.push(W)):Object.assign(q,W),Object.assign(q,G),L._zod.parent===V)for(const ne in q)ne==="$ref"||ne==="allOf"||ne in G||delete q[ne];if(W.$ref)for(const ne in q)ne==="$ref"||ne==="allOf"||ne in Y.def&&JSON.stringify(q[ne])===JSON.stringify(Y.def[ne])&&delete q[ne]}const Z=L._zod.parent;if(Z&&Z!==V){I(Z);const Y=_.seen.get(Z);if(Y?.schema.$ref&&(q.$ref=Y.schema.$ref,Y.def))for(const W in q)W==="$ref"||W==="allOf"||W in Y.def&&JSON.stringify(q[W])===JSON.stringify(Y.def[W])&&delete q[W]}_.override({zodSchema:L,jsonSchema:q,path:U.path??[]})};for(const L of[..._.seen.entries()].reverse())I(L[0]);const F={};if(_.target==="draft-2020-12"?F.$schema="https://json-schema.org/draft/2020-12/schema":_.target==="draft-07"?F.$schema="http://json-schema.org/draft-07/schema#":_.target==="draft-04"?F.$schema="http://json-schema.org/draft-04/schema#":_.target,_.external?.uri){const L=_.external.registry.get(R)?.id;if(!L)throw new Error("Schema is missing an `id` property");F.$id=_.external.uri(L)}Object.assign(F,O.def??O.schema);const z=_.external?.defs??{};for(const L of _.seen.entries()){const U=L[1];U.def&&U.defId&&(z[U.defId]=U.def)}_.external||Object.keys(z).length>0&&(_.target==="draft-2020-12"?F.$defs=z:F.definitions=z);try{const L=JSON.parse(JSON.stringify(F));return Object.defineProperty(L,"~standard",{value:{...R["~standard"],jsonSchema:{input:createStandardJSONSchemaMethod(R,"input",_.processors),output:createStandardJSONSchemaMethod(R,"output",_.processors)}},enumerable:!1,writable:!1}),L}catch{throw new Error("Error converting schema to JSON.")}}function isTransforming(_,R){const O=R??{seen:new Set};if(O.seen.has(_))return!1;O.seen.add(_);const I=_._zod.def;if(I.type==="transform")return!0;if(I.type==="array")return isTransforming(I.element,O);if(I.type==="set")return isTransforming(I.valueType,O);if(I.type==="lazy")return isTransforming(I.getter(),O);if(I.type==="promise"||I.type==="optional"||I.type==="nonoptional"||I.type==="nullable"||I.type==="readonly"||I.type==="default"||I.type==="prefault")return isTransforming(I.innerType,O);if(I.type==="intersection")return isTransforming(I.left,O)||isTransforming(I.right,O);if(I.type==="record"||I.type==="map")return isTransforming(I.keyType,O)||isTransforming(I.valueType,O);if(I.type==="pipe")return isTransforming(I.in,O)||isTransforming(I.out,O);if(I.type==="object"){for(const F in I.shape)if(isTransforming(I.shape[F],O))return!0;return!1}if(I.type==="union"){for(const F of I.options)if(isTransforming(F,O))return!0;return!1}if(I.type==="tuple"){for(const F of I.items)if(isTransforming(F,O))return!0;return!!(I.rest&&isTransforming(I.rest,O))}return!1}const createToJSONSchemaMethod=(_,R={})=>O=>{const I=initializeContext({...O,processors:R});return process$1(_,I),extractDefs(I,_),finalize(I,_)},createStandardJSONSchemaMethod=(_,R,O={})=>I=>{const{libraryOptions:F,target:z}=I??{},L=initializeContext({...F??{},target:z,io:R,processors:O});return process$1(_,L),extractDefs(L,_),finalize(L,_)},formatMap={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},stringProcessor=(_,R,O,I)=>{const F=O;F.type="string";const{minimum:z,maximum:L,format:U,patterns:q,contentEncoding:G}=_._zod.bag;if(typeof z=="number"&&(F.minLength=z),typeof L=="number"&&(F.maxLength=L),U&&(F.format=formatMap[U]??U,F.format===""&&delete F.format,U==="time"&&delete F.format),G&&(F.contentEncoding=G),q&&q.size>0){const V=[...q];V.length===1?F.pattern=V[0].source:V.length>1&&(F.allOf=[...V.map(Z=>({...R.target==="draft-07"||R.target==="draft-04"||R.target==="openapi-3.0"?{type:"string"}:{},pattern:Z.source}))])}},numberProcessor=(_,R,O,I)=>{const F=O,{minimum:z,maximum:L,format:U,multipleOf:q,exclusiveMaximum:G,exclusiveMinimum:V}=_._zod.bag;typeof U=="string"&&U.includes("int")?F.type="integer":F.type="number",typeof V=="number"&&(R.target==="draft-04"||R.target==="openapi-3.0"?(F.minimum=V,F.exclusiveMinimum=!0):F.exclusiveMinimum=V),typeof z=="number"&&(F.minimum=z,typeof V=="number"&&R.target!=="draft-04"&&(V>=z?delete F.minimum:delete F.exclusiveMinimum)),typeof G=="number"&&(R.target==="draft-04"||R.target==="openapi-3.0"?(F.maximum=G,F.exclusiveMaximum=!0):F.exclusiveMaximum=G),typeof L=="number"&&(F.maximum=L,typeof G=="number"&&R.target!=="draft-04"&&(G<=L?delete F.maximum:delete F.exclusiveMaximum)),typeof q=="number"&&(F.multipleOf=q)},booleanProcessor=(_,R,O,I)=>{O.type="boolean"},neverProcessor=(_,R,O,I)=>{O.not={}},unknownProcessor=(_,R,O,I)=>{},enumProcessor=(_,R,O,I)=>{const F=_._zod.def,z=getEnumValues(F.entries);z.every(L=>typeof L=="number")&&(O.type="number"),z.every(L=>typeof L=="string")&&(O.type="string"),O.enum=z},literalProcessor=(_,R,O,I)=>{const F=_._zod.def,z=[];for(const L of F.values)if(L===void 0){if(R.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof L=="bigint"){if(R.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");z.push(Number(L))}else z.push(L);if(z.length!==0)if(z.length===1){const L=z[0];O.type=L===null?"null":typeof L,R.target==="draft-04"||R.target==="openapi-3.0"?O.enum=[L]:O.const=L}else z.every(L=>typeof L=="number")&&(O.type="number"),z.every(L=>typeof L=="string")&&(O.type="string"),z.every(L=>typeof L=="boolean")&&(O.type="boolean"),z.every(L=>L===null)&&(O.type="null"),O.enum=z},customProcessor=(_,R,O,I)=>{if(R.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},transformProcessor=(_,R,O,I)=>{if(R.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},arrayProcessor=(_,R,O,I)=>{const F=O,z=_._zod.def,{minimum:L,maximum:U}=_._zod.bag;typeof L=="number"&&(F.minItems=L),typeof U=="number"&&(F.maxItems=U),F.type="array",F.items=process$1(z.element,R,{...I,path:[...I.path,"items"]})},objectProcessor=(_,R,O,I)=>{const F=O,z=_._zod.def;F.type="object",F.properties={};const L=z.shape;for(const G in L)F.properties[G]=process$1(L[G],R,{...I,path:[...I.path,"properties",G]});const U=new Set(Object.keys(L)),q=new Set([...U].filter(G=>{const V=z.shape[G]._zod;return R.io==="input"?V.optin===void 0:V.optout===void 0}));q.size>0&&(F.required=Array.from(q)),z.catchall?._zod.def.type==="never"?F.additionalProperties=!1:z.catchall?z.catchall&&(F.additionalProperties=process$1(z.catchall,R,{...I,path:[...I.path,"additionalProperties"]})):R.io==="output"&&(F.additionalProperties=!1)},unionProcessor=(_,R,O,I)=>{const F=_._zod.def,z=F.inclusive===!1,L=F.options.map((U,q)=>process$1(U,R,{...I,path:[...I.path,z?"oneOf":"anyOf",q]}));z?O.oneOf=L:O.anyOf=L},intersectionProcessor=(_,R,O,I)=>{const F=_._zod.def,z=process$1(F.left,R,{...I,path:[...I.path,"allOf",0]}),L=process$1(F.right,R,{...I,path:[...I.path,"allOf",1]}),U=G=>"allOf"in G&&Object.keys(G).length===1,q=[...U(z)?z.allOf:[z],...U(L)?L.allOf:[L]];O.allOf=q},tupleProcessor=(_,R,O,I)=>{const F=O,z=_._zod.def;F.type="array";const L=R.target==="draft-2020-12"?"prefixItems":"items",U=R.target==="draft-2020-12"||R.target==="openapi-3.0"?"items":"additionalItems",q=z.items.map((Y,W)=>process$1(Y,R,{...I,path:[...I.path,L,W]})),G=z.rest?process$1(z.rest,R,{...I,path:[...I.path,U,...R.target==="openapi-3.0"?[z.items.length]:[]]}):null;R.target==="draft-2020-12"?(F.prefixItems=q,G&&(F.items=G)):R.target==="openapi-3.0"?(F.items={anyOf:q},G&&F.items.anyOf.push(G),F.minItems=q.length,G||(F.maxItems=q.length)):(F.items=q,G&&(F.additionalItems=G));const{minimum:V,maximum:Z}=_._zod.bag;typeof V=="number"&&(F.minItems=V),typeof Z=="number"&&(F.maxItems=Z)},recordProcessor=(_,R,O,I)=>{const F=O,z=_._zod.def;F.type="object";const L=z.keyType,q=L._zod.bag?.patterns;if(z.mode==="loose"&&q&&q.size>0){const V=process$1(z.valueType,R,{...I,path:[...I.path,"patternProperties","*"]});F.patternProperties={};for(const Z of q)F.patternProperties[Z.source]=V}else(R.target==="draft-07"||R.target==="draft-2020-12")&&(F.propertyNames=process$1(z.keyType,R,{...I,path:[...I.path,"propertyNames"]})),F.additionalProperties=process$1(z.valueType,R,{...I,path:[...I.path,"additionalProperties"]});const G=L._zod.values;if(G){const V=[...G].filter(Z=>typeof Z=="string"||typeof Z=="number");V.length>0&&(F.required=V)}},nullableProcessor=(_,R,O,I)=>{const F=_._zod.def,z=process$1(F.innerType,R,I),L=R.seen.get(_);R.target==="openapi-3.0"?(L.ref=F.innerType,O.nullable=!0):O.anyOf=[z,{type:"null"}]},nonoptionalProcessor=(_,R,O,I)=>{const F=_._zod.def;process$1(F.innerType,R,I);const z=R.seen.get(_);z.ref=F.innerType},defaultProcessor=(_,R,O,I)=>{const F=_._zod.def;process$1(F.innerType,R,I);const z=R.seen.get(_);z.ref=F.innerType,O.default=JSON.parse(JSON.stringify(F.defaultValue))},prefaultProcessor=(_,R,O,I)=>{const F=_._zod.def;process$1(F.innerType,R,I);const z=R.seen.get(_);z.ref=F.innerType,R.io==="input"&&(O._prefault=JSON.parse(JSON.stringify(F.defaultValue)))},catchProcessor=(_,R,O,I)=>{const F=_._zod.def;process$1(F.innerType,R,I);const z=R.seen.get(_);z.ref=F.innerType;let L;try{L=F.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}O.default=L},pipeProcessor=(_,R,O,I)=>{const F=_._zod.def,z=R.io==="input"?F.in._zod.def.type==="transform"?F.out:F.in:F.out;process$1(z,R,I);const L=R.seen.get(_);L.ref=z},readonlyProcessor=(_,R,O,I)=>{const F=_._zod.def;process$1(F.innerType,R,I);const z=R.seen.get(_);z.ref=F.innerType,O.readOnly=!0},optionalProcessor=(_,R,O,I)=>{const F=_._zod.def;process$1(F.innerType,R,I);const z=R.seen.get(_);z.ref=F.innerType},ZodISODateTime=$constructor("ZodISODateTime",(_,R)=>{$ZodISODateTime.init(_,R),ZodStringFormat.init(_,R)});function datetime(_){return _isoDateTime(ZodISODateTime,_)}const ZodISODate=$constructor("ZodISODate",(_,R)=>{$ZodISODate.init(_,R),ZodStringFormat.init(_,R)});function date$2(_){return _isoDate(ZodISODate,_)}const ZodISOTime=$constructor("ZodISOTime",(_,R)=>{$ZodISOTime.init(_,R),ZodStringFormat.init(_,R)});function time$1(_){return _isoTime(ZodISOTime,_)}const ZodISODuration=$constructor("ZodISODuration",(_,R)=>{$ZodISODuration.init(_,R),ZodStringFormat.init(_,R)});function duration(_){return _isoDuration(ZodISODuration,_)}const initializer$1=(_,R)=>{$ZodError.init(_,R),_.name="ZodError",Object.defineProperties(_,{format:{value:O=>formatError(_,O)},flatten:{value:O=>flattenError(_,O)},addIssue:{value:O=>{_.issues.push(O),_.message=JSON.stringify(_.issues,jsonStringifyReplacer,2)}},addIssues:{value:O=>{_.issues.push(...O),_.message=JSON.stringify(_.issues,jsonStringifyReplacer,2)}},isEmpty:{get(){return _.issues.length===0}}})},ZodRealError=$constructor("ZodError",initializer$1,{Parent:Error}),parse$a=_parse(ZodRealError),parseAsync=_parseAsync(ZodRealError),safeParse=_safeParse(ZodRealError),safeParseAsync=_safeParseAsync(ZodRealError),encode=_encode(ZodRealError),decode$1=_decode(ZodRealError),encodeAsync=_encodeAsync(ZodRealError),decodeAsync=_decodeAsync(ZodRealError),safeEncode=_safeEncode(ZodRealError),safeDecode=_safeDecode(ZodRealError),safeEncodeAsync=_safeEncodeAsync(ZodRealError),safeDecodeAsync=_safeDecodeAsync(ZodRealError),ZodType=$constructor("ZodType",(_,R)=>($ZodType.init(_,R),Object.assign(_["~standard"],{jsonSchema:{input:createStandardJSONSchemaMethod(_,"input"),output:createStandardJSONSchemaMethod(_,"output")}}),_.toJSONSchema=createToJSONSchemaMethod(_,{}),_.def=R,_.type=R.type,Object.defineProperty(_,"_def",{value:R}),_.check=(...O)=>_.clone(mergeDefs(R,{checks:[...R.checks??[],...O.map(I=>typeof I=="function"?{_zod:{check:I,def:{check:"custom"},onattach:[]}}:I)]}),{parent:!0}),_.with=_.check,_.clone=(O,I)=>clone$4(_,O,I),_.brand=()=>_,_.register=((O,I)=>(O.add(_,I),_)),_.parse=(O,I)=>parse$a(_,O,I,{callee:_.parse}),_.safeParse=(O,I)=>safeParse(_,O,I),_.parseAsync=async(O,I)=>parseAsync(_,O,I,{callee:_.parseAsync}),_.safeParseAsync=async(O,I)=>safeParseAsync(_,O,I),_.spa=_.safeParseAsync,_.encode=(O,I)=>encode(_,O,I),_.decode=(O,I)=>decode$1(_,O,I),_.encodeAsync=async(O,I)=>encodeAsync(_,O,I),_.decodeAsync=async(O,I)=>decodeAsync(_,O,I),_.safeEncode=(O,I)=>safeEncode(_,O,I),_.safeDecode=(O,I)=>safeDecode(_,O,I),_.safeEncodeAsync=async(O,I)=>safeEncodeAsync(_,O,I),_.safeDecodeAsync=async(O,I)=>safeDecodeAsync(_,O,I),_.refine=(O,I)=>_.check(refine(O,I)),_.superRefine=O=>_.check(superRefine(O)),_.overwrite=O=>_.check(_overwrite(O)),_.optional=()=>optional(_),_.exactOptional=()=>exactOptional(_),_.nullable=()=>nullable(_),_.nullish=()=>optional(nullable(_)),_.nonoptional=O=>nonoptional(_,O),_.array=()=>array$2(_),_.or=O=>union([_,O]),_.and=O=>intersection(_,O),_.transform=O=>pipe(_,transform$1(O)),_.default=O=>_default(_,O),_.prefault=O=>prefault(_,O),_.catch=O=>_catch(_,O),_.pipe=O=>pipe(_,O),_.readonly=()=>readonly(_),_.describe=O=>{const I=_.clone();return globalRegistry.add(I,{description:O}),I},Object.defineProperty(_,"description",{get(){return globalRegistry.get(_)?.description},configurable:!0}),_.meta=(...O)=>{if(O.length===0)return globalRegistry.get(_);const I=_.clone();return globalRegistry.add(I,O[0]),I},_.isOptional=()=>_.safeParse(void 0).success,_.isNullable=()=>_.safeParse(null).success,_.apply=O=>O(_),_)),_ZodString=$constructor("_ZodString",(_,R)=>{$ZodString.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(I,F,z)=>stringProcessor(_,I,F);const O=_._zod.bag;_.format=O.format??null,_.minLength=O.minimum??null,_.maxLength=O.maximum??null,_.regex=(...I)=>_.check(_regex(...I)),_.includes=(...I)=>_.check(_includes(...I)),_.startsWith=(...I)=>_.check(_startsWith(...I)),_.endsWith=(...I)=>_.check(_endsWith(...I)),_.min=(...I)=>_.check(_minLength(...I)),_.max=(...I)=>_.check(_maxLength(...I)),_.length=(...I)=>_.check(_length(...I)),_.nonempty=(...I)=>_.check(_minLength(1,...I)),_.lowercase=I=>_.check(_lowercase(I)),_.uppercase=I=>_.check(_uppercase(I)),_.trim=()=>_.check(_trim()),_.normalize=(...I)=>_.check(_normalize(...I)),_.toLowerCase=()=>_.check(_toLowerCase()),_.toUpperCase=()=>_.check(_toUpperCase()),_.slugify=()=>_.check(_slugify())}),ZodString=$constructor("ZodString",(_,R)=>{$ZodString.init(_,R),_ZodString.init(_,R),_.email=O=>_.check(_email(ZodEmail,O)),_.url=O=>_.check(_url(ZodURL,O)),_.jwt=O=>_.check(_jwt(ZodJWT,O)),_.emoji=O=>_.check(_emoji(ZodEmoji,O)),_.guid=O=>_.check(_guid(ZodGUID,O)),_.uuid=O=>_.check(_uuid(ZodUUID,O)),_.uuidv4=O=>_.check(_uuidv4(ZodUUID,O)),_.uuidv6=O=>_.check(_uuidv6(ZodUUID,O)),_.uuidv7=O=>_.check(_uuidv7(ZodUUID,O)),_.nanoid=O=>_.check(_nanoid(ZodNanoID,O)),_.guid=O=>_.check(_guid(ZodGUID,O)),_.cuid=O=>_.check(_cuid(ZodCUID,O)),_.cuid2=O=>_.check(_cuid2(ZodCUID2,O)),_.ulid=O=>_.check(_ulid(ZodULID,O)),_.base64=O=>_.check(_base64(ZodBase64,O)),_.base64url=O=>_.check(_base64url(ZodBase64URL,O)),_.xid=O=>_.check(_xid(ZodXID,O)),_.ksuid=O=>_.check(_ksuid(ZodKSUID,O)),_.ipv4=O=>_.check(_ipv4(ZodIPv4,O)),_.ipv6=O=>_.check(_ipv6(ZodIPv6,O)),_.cidrv4=O=>_.check(_cidrv4(ZodCIDRv4,O)),_.cidrv6=O=>_.check(_cidrv6(ZodCIDRv6,O)),_.e164=O=>_.check(_e164(ZodE164,O)),_.datetime=O=>_.check(datetime(O)),_.date=O=>_.check(date$2(O)),_.time=O=>_.check(time$1(O)),_.duration=O=>_.check(duration(O))});function string$4(_){return _string(ZodString,_)}const ZodStringFormat=$constructor("ZodStringFormat",(_,R)=>{$ZodStringFormat.init(_,R),_ZodString.init(_,R)}),ZodEmail=$constructor("ZodEmail",(_,R)=>{$ZodEmail.init(_,R),ZodStringFormat.init(_,R)}),ZodGUID=$constructor("ZodGUID",(_,R)=>{$ZodGUID.init(_,R),ZodStringFormat.init(_,R)}),ZodUUID=$constructor("ZodUUID",(_,R)=>{$ZodUUID.init(_,R),ZodStringFormat.init(_,R)}),ZodURL=$constructor("ZodURL",(_,R)=>{$ZodURL.init(_,R),ZodStringFormat.init(_,R)}),ZodEmoji=$constructor("ZodEmoji",(_,R)=>{$ZodEmoji.init(_,R),ZodStringFormat.init(_,R)}),ZodNanoID=$constructor("ZodNanoID",(_,R)=>{$ZodNanoID.init(_,R),ZodStringFormat.init(_,R)}),ZodCUID=$constructor("ZodCUID",(_,R)=>{$ZodCUID.init(_,R),ZodStringFormat.init(_,R)}),ZodCUID2=$constructor("ZodCUID2",(_,R)=>{$ZodCUID2.init(_,R),ZodStringFormat.init(_,R)}),ZodULID=$constructor("ZodULID",(_,R)=>{$ZodULID.init(_,R),ZodStringFormat.init(_,R)}),ZodXID=$constructor("ZodXID",(_,R)=>{$ZodXID.init(_,R),ZodStringFormat.init(_,R)}),ZodKSUID=$constructor("ZodKSUID",(_,R)=>{$ZodKSUID.init(_,R),ZodStringFormat.init(_,R)}),ZodIPv4=$constructor("ZodIPv4",(_,R)=>{$ZodIPv4.init(_,R),ZodStringFormat.init(_,R)}),ZodIPv6=$constructor("ZodIPv6",(_,R)=>{$ZodIPv6.init(_,R),ZodStringFormat.init(_,R)}),ZodCIDRv4=$constructor("ZodCIDRv4",(_,R)=>{$ZodCIDRv4.init(_,R),ZodStringFormat.init(_,R)}),ZodCIDRv6=$constructor("ZodCIDRv6",(_,R)=>{$ZodCIDRv6.init(_,R),ZodStringFormat.init(_,R)}),ZodBase64=$constructor("ZodBase64",(_,R)=>{$ZodBase64.init(_,R),ZodStringFormat.init(_,R)}),ZodBase64URL=$constructor("ZodBase64URL",(_,R)=>{$ZodBase64URL.init(_,R),ZodStringFormat.init(_,R)}),ZodE164=$constructor("ZodE164",(_,R)=>{$ZodE164.init(_,R),ZodStringFormat.init(_,R)}),ZodJWT=$constructor("ZodJWT",(_,R)=>{$ZodJWT.init(_,R),ZodStringFormat.init(_,R)}),ZodNumber=$constructor("ZodNumber",(_,R)=>{$ZodNumber.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(I,F,z)=>numberProcessor(_,I,F),_.gt=(I,F)=>_.check(_gt(I,F)),_.gte=(I,F)=>_.check(_gte(I,F)),_.min=(I,F)=>_.check(_gte(I,F)),_.lt=(I,F)=>_.check(_lt(I,F)),_.lte=(I,F)=>_.check(_lte(I,F)),_.max=(I,F)=>_.check(_lte(I,F)),_.int=I=>_.check(int(I)),_.safe=I=>_.check(int(I)),_.positive=I=>_.check(_gt(0,I)),_.nonnegative=I=>_.check(_gte(0,I)),_.negative=I=>_.check(_lt(0,I)),_.nonpositive=I=>_.check(_lte(0,I)),_.multipleOf=(I,F)=>_.check(_multipleOf(I,F)),_.step=(I,F)=>_.check(_multipleOf(I,F)),_.finite=()=>_;const O=_._zod.bag;_.minValue=Math.max(O.minimum??Number.NEGATIVE_INFINITY,O.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,_.maxValue=Math.min(O.maximum??Number.POSITIVE_INFINITY,O.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,_.isInt=(O.format??"").includes("int")||Number.isSafeInteger(O.multipleOf??.5),_.isFinite=!0,_.format=O.format??null});function number$7(_){return _number(ZodNumber,_)}const ZodNumberFormat=$constructor("ZodNumberFormat",(_,R)=>{$ZodNumberFormat.init(_,R),ZodNumber.init(_,R)});function int(_){return _int(ZodNumberFormat,_)}const ZodBoolean=$constructor("ZodBoolean",(_,R)=>{$ZodBoolean.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>booleanProcessor(_,O,I)});function boolean$2(_){return _boolean(ZodBoolean,_)}const ZodUnknown=$constructor("ZodUnknown",(_,R)=>{$ZodUnknown.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>unknownProcessor()});function unknown(){return _unknown(ZodUnknown)}const ZodNever=$constructor("ZodNever",(_,R)=>{$ZodNever.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>neverProcessor(_,O,I)});function never(_){return _never(ZodNever,_)}const ZodArray=$constructor("ZodArray",(_,R)=>{$ZodArray.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>arrayProcessor(_,O,I,F),_.element=R.element,_.min=(O,I)=>_.check(_minLength(O,I)),_.nonempty=O=>_.check(_minLength(1,O)),_.max=(O,I)=>_.check(_maxLength(O,I)),_.length=(O,I)=>_.check(_length(O,I)),_.unwrap=()=>_.element});function array$2(_,R){return _array(ZodArray,_,R)}const ZodObject=$constructor("ZodObject",(_,R)=>{$ZodObjectJIT.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>objectProcessor(_,O,I,F),defineLazy(_,"shape",()=>R.shape),_.keyof=()=>_enum(Object.keys(_._zod.def.shape)),_.catchall=O=>_.clone({..._._zod.def,catchall:O}),_.passthrough=()=>_.clone({..._._zod.def,catchall:unknown()}),_.loose=()=>_.clone({..._._zod.def,catchall:unknown()}),_.strict=()=>_.clone({..._._zod.def,catchall:never()}),_.strip=()=>_.clone({..._._zod.def,catchall:void 0}),_.extend=O=>extend$4(_,O),_.safeExtend=O=>safeExtend(_,O),_.merge=O=>merge$3(_,O),_.pick=O=>pick(_,O),_.omit=O=>omit(_,O),_.partial=(...O)=>partial(ZodOptional,_,O[0]),_.required=(...O)=>required(ZodNonOptional,_,O[0])});function object$1(_,R){const O={type:"object",shape:_??{},...normalizeParams(R)};return new ZodObject(O)}const ZodUnion=$constructor("ZodUnion",(_,R)=>{$ZodUnion.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>unionProcessor(_,O,I,F),_.options=R.options});function union(_,R){return new ZodUnion({type:"union",options:_,...normalizeParams(R)})}const ZodDiscriminatedUnion=$constructor("ZodDiscriminatedUnion",(_,R)=>{ZodUnion.init(_,R),$ZodDiscriminatedUnion.init(_,R)});function discriminatedUnion(_,R,O){return new ZodDiscriminatedUnion({type:"union",options:R,discriminator:_,...normalizeParams(O)})}const ZodIntersection=$constructor("ZodIntersection",(_,R)=>{$ZodIntersection.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>intersectionProcessor(_,O,I,F)});function intersection(_,R){return new ZodIntersection({type:"intersection",left:_,right:R})}const ZodTuple=$constructor("ZodTuple",(_,R)=>{$ZodTuple.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>tupleProcessor(_,O,I,F),_.rest=O=>_.clone({..._._zod.def,rest:O})});function tuple(_,R,O){const I=R instanceof $ZodType,F=I?O:R,z=I?R:null;return new ZodTuple({type:"tuple",items:_,rest:z,...normalizeParams(F)})}const ZodRecord=$constructor("ZodRecord",(_,R)=>{$ZodRecord.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>recordProcessor(_,O,I,F),_.keyType=R.keyType,_.valueType=R.valueType});function record(_,R,O){return new ZodRecord({type:"record",keyType:_,valueType:R,...normalizeParams(O)})}const ZodEnum=$constructor("ZodEnum",(_,R)=>{$ZodEnum.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(I,F,z)=>enumProcessor(_,I,F),_.enum=R.entries,_.options=Object.values(R.entries);const O=new Set(Object.keys(R.entries));_.extract=(I,F)=>{const z={};for(const L of I)if(O.has(L))z[L]=R.entries[L];else throw new Error(`Key ${L} not found in enum`);return new ZodEnum({...R,checks:[],...normalizeParams(F),entries:z})},_.exclude=(I,F)=>{const z={...R.entries};for(const L of I)if(O.has(L))delete z[L];else throw new Error(`Key ${L} not found in enum`);return new ZodEnum({...R,checks:[],...normalizeParams(F),entries:z})}});function _enum(_,R){const O=Array.isArray(_)?Object.fromEntries(_.map(I=>[I,I])):_;return new ZodEnum({type:"enum",entries:O,...normalizeParams(R)})}function nativeEnum(_,R){return new ZodEnum({type:"enum",entries:_,...normalizeParams(R)})}const ZodLiteral=$constructor("ZodLiteral",(_,R)=>{$ZodLiteral.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>literalProcessor(_,O,I),_.values=new Set(R.values),Object.defineProperty(_,"value",{get(){if(R.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return R.values[0]}})});function literal(_,R){return new ZodLiteral({type:"literal",values:Array.isArray(_)?_:[_],...normalizeParams(R)})}const ZodTransform=$constructor("ZodTransform",(_,R)=>{$ZodTransform.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>transformProcessor(_,O),_._zod.parse=(O,I)=>{if(I.direction==="backward")throw new $ZodEncodeError(_.constructor.name);O.addIssue=z=>{if(typeof z=="string")O.issues.push(issue(z,O.value,R));else{const L=z;L.fatal&&(L.continue=!1),L.code??(L.code="custom"),L.input??(L.input=O.value),L.inst??(L.inst=_),O.issues.push(issue(L))}};const F=R.transform(O.value,O);return F instanceof Promise?F.then(z=>(O.value=z,O)):(O.value=F,O)}});function transform$1(_){return new ZodTransform({type:"transform",transform:_})}const ZodOptional=$constructor("ZodOptional",(_,R)=>{$ZodOptional.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>optionalProcessor(_,O,I,F),_.unwrap=()=>_._zod.def.innerType});function optional(_){return new ZodOptional({type:"optional",innerType:_})}const ZodExactOptional=$constructor("ZodExactOptional",(_,R)=>{$ZodExactOptional.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>optionalProcessor(_,O,I,F),_.unwrap=()=>_._zod.def.innerType});function exactOptional(_){return new ZodExactOptional({type:"optional",innerType:_})}const ZodNullable=$constructor("ZodNullable",(_,R)=>{$ZodNullable.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>nullableProcessor(_,O,I,F),_.unwrap=()=>_._zod.def.innerType});function nullable(_){return new ZodNullable({type:"nullable",innerType:_})}const ZodDefault=$constructor("ZodDefault",(_,R)=>{$ZodDefault.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>defaultProcessor(_,O,I,F),_.unwrap=()=>_._zod.def.innerType,_.removeDefault=_.unwrap});function _default(_,R){return new ZodDefault({type:"default",innerType:_,get defaultValue(){return typeof R=="function"?R():shallowClone(R)}})}const ZodPrefault=$constructor("ZodPrefault",(_,R)=>{$ZodPrefault.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>prefaultProcessor(_,O,I,F),_.unwrap=()=>_._zod.def.innerType});function prefault(_,R){return new ZodPrefault({type:"prefault",innerType:_,get defaultValue(){return typeof R=="function"?R():shallowClone(R)}})}const ZodNonOptional=$constructor("ZodNonOptional",(_,R)=>{$ZodNonOptional.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>nonoptionalProcessor(_,O,I,F),_.unwrap=()=>_._zod.def.innerType});function nonoptional(_,R){return new ZodNonOptional({type:"nonoptional",innerType:_,...normalizeParams(R)})}const ZodCatch=$constructor("ZodCatch",(_,R)=>{$ZodCatch.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>catchProcessor(_,O,I,F),_.unwrap=()=>_._zod.def.innerType,_.removeCatch=_.unwrap});function _catch(_,R){return new ZodCatch({type:"catch",innerType:_,catchValue:typeof R=="function"?R:()=>R})}const ZodPipe=$constructor("ZodPipe",(_,R)=>{$ZodPipe.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>pipeProcessor(_,O,I,F),_.in=R.in,_.out=R.out});function pipe(_,R){return new ZodPipe({type:"pipe",in:_,out:R})}const ZodReadonly=$constructor("ZodReadonly",(_,R)=>{$ZodReadonly.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>readonlyProcessor(_,O,I,F),_.unwrap=()=>_._zod.def.innerType});function readonly(_){return new ZodReadonly({type:"readonly",innerType:_})}const ZodCustom=$constructor("ZodCustom",(_,R)=>{$ZodCustom.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,F)=>customProcessor(_,O)});function refine(_,R={}){return _refine(ZodCustom,_,R)}function superRefine(_){return _superRefine(_)}var CellCyclePhase=(_=>(_.Any="any",_.Birth="birth",_.G1="g1",_.G2="g2",_.Mitosis="mitosis",_.Division="division",_))(CellCyclePhase||{});const metadataSchema$1=object$1({model:string$4(),version:string$4()}),rgbColorSchema=object$1({r:number$7().min(0).max(255),g:number$7().min(0).max(255),b:number$7().min(0).max(255)});object$1({min:number$7(),max:number$7()});const cellCyclePhaseSchema=nativeEnum(CellCyclePhase),specialEventNameSchema=_enum(["lose_apical_adhesion","lose_basal_adhesion","lose_apical_interface","start_running","cell_division","cell_cycle_reset"]),baseEventDefinitionSchema=object$1({id:string$4(),name:string$4(),start:number$7(),end:number$7(),period:union([number$7().nonnegative(),literal("dt")]),probability:string$4(),prereq:string$4().nullable(),cell_cycle_phase:cellCyclePhaseSchema}),parameterChangeEventSchema=baseEventDefinitionSchema.extend({type:literal("parameter_change"),target_parameter:string$4(),formula:string$4()}),specialEventSchema=baseEventDefinitionSchema.extend({type:literal("special"),special_name:specialEventNameSchema}),eventDefinitionSchema=discriminatedUnion("type",[parameterChangeEventSchema,specialEventSchema]),eventsArraySchema=array$2(eventDefinitionSchema),emtEventTimesSchema=object$1({time_A_start:number$7(),time_A_end:number$7(),time_B_start:number$7(),time_B_end:number$7(),time_S_start:number$7(),time_S_end:number$7(),time_P_start:number$7(),time_P_end:number$7(),time_AC_start:number$7(),time_AC_end:number$7()}),ehtCellTypeSchema=object$1({N_init:number$7().int().nonnegative(),location:string$4(),R_hard:number$7().positive(),R_hard_div:number$7().positive(),R_soft:number$7().positive(),color:rgbColorSchema,dur_G2:number$7().nonnegative(),dur_mitosis:number$7().nonnegative(),k_apical_junction:number$7().nonnegative(),k_cytos:number$7().nonnegative(),max_cytoskeleton_length:number$7().nonnegative(),run:number$7().min(0).max(1),running_speed:number$7().nonnegative(),running_mode:number$7().int().min(0).max(3),stiffness_apical_apical:number$7().nonnegative(),stiffness_apical_apical_div:number$7().nonnegative(),stiffness_nuclei_apical:number$7().nonnegative(),stiffness_nuclei_basal:number$7().nonnegative(),stiffness_repulsion:number$7().nonnegative(),stiffness_straightness:number$7().nonnegative(),lifespan_start:number$7(),lifespan_end:number$7(),INM:number$7().min(0).max(1),hetero:boolean$2(),events:emtEventTimesSchema,events_v2:eventsArraySchema.optional(),apical_cytos_strain_init:number$7(),basal_cytos_strain_init:number$7(),skip_default_events:array$2(string$4()),diffusion:number$7().nonnegative(),basal_damping_ratio:number$7().nonnegative(),max_basal_junction_dist:number$7().positive(),cytos_init:number$7().nonnegative(),basal_membrane_repulsion:number$7().nonnegative(),apical_junction_init:number$7().nonnegative()}),ehtGeneralParamsSchema=object$1({t_end:number$7().positive(),dt:number$7().positive(),random_seed:number$7().int(),full_circle:boolean$2(),w_init:number$7().positive(),h_init:number$7().positive(),mu:number$7().positive(),n_substeps:number$7().int().positive(),alg_dt:number$7().positive(),w_screen:number$7().positive(),h_screen:number$7().positive(),p_div_out:number$7().min(0).max(1),perimeter:number$7().positive(),aspect_ratio:number$7(),hard_sphere_nuclei:boolean$2(),default_events:eventsArraySchema}),ehtCellPropertyParamsSchema=object$1({}),ehtCellTypesMapSchema=record(string$4(),ehtCellTypeSchema),ehtParamsSchema=object$1({metadata:metadataSchema$1,general:ehtGeneralParamsSchema,cell_prop:ehtCellPropertyParamsSchema,cell_types:ehtCellTypesMapSchema}),partialMetadataSchema=metadataSchema$1.partial(),partialEhtGeneralParamsSchema=ehtGeneralParamsSchema.partial(),partialEhtCellPropertyParamsSchema=ehtCellPropertyParamsSchema.partial(),partialEhtCellTypeSchema=ehtCellTypeSchema.partial();object$1({metadata:partialMetadataSchema.optional(),general:partialEhtGeneralParamsSchema.optional(),cell_prop:partialEhtCellPropertyParamsSchema.optional(),cell_types:record(string$4(),partialEhtCellTypeSchema).optional()});const __vite_glob_0_0=`label = "Apical Constriction"

cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.5.0"

[general]
t_end = 54
dt = 0.1
random_seed = 0
full_circle = false
w_init = 10
h_init = 8
mu = 0.2
n_substeps = 40
alg_dt = 0.05
w_screen = 15
h_screen = 0
p_div_out = 0.8
perimeter = 20
aspect_ratio = 0
hard_sphere_nuclei = false

  [[general.default_events]]
  type = "special"
  id = "default_cell_division"
  name = "Cell Division"
  start = 0
  end = inf
  period = 0
  probability = "p_div_out"
  cell_cycle_phase = "division"
  special_name = "cell_division"

  [[general.default_events]]
  type = "special"
  id = "default_cell_cycle_reset"
  name = "Cell Cycle Reset"
  start = 0
  end = inf
  period = 0
  probability = "1"
  cell_cycle_phase = "division"
  special_name = "cell_cycle_reset"

  [[general.default_events]]
  type = "parameter_change"
  id = "default_stiffness_apical_apical_g2"
  name = "Apical Stiffness (G2)"
  start = 0
  end = 0
  period = 0
  probability = "1"
  cell_cycle_phase = "g2"
  target_parameter = "stiffness_apical_apical"
  formula = "stiffness_apical_apical_div"

  [[general.default_events]]
  type = "parameter_change"
  id = "default_R_hard_mitosis"
  name = "R_hard (Mitosis)"
  start = 0
  end = 0
  period = 0
  probability = "1"
  cell_cycle_phase = "mitosis"
  target_parameter = "R_hard"
  formula = "R_hard_div"

  [[general.default_events]]
  type = "parameter_change"
  id = "inm_contract_apical"
  name = "INM: Contract Apical"
  start = 0
  end = 0
  period = 0
  probability = "INM"
  cell_cycle_phase = "g2"
  target_parameter = "apical_cytos_strain"
  formula = "-1"

  [[general.default_events]]
  type = "parameter_change"
  id = "inm_extend_basal"
  name = "INM: Extend Basal"
  start = 0
  end = 0
  period = 0
  probability = "1"
  prereq = "inm_contract_apical"
  cell_cycle_phase = "g2"
  target_parameter = "basal_cytos_strain"
  formula = "2"

[cell_types.control]
N_init = 40
location = ""
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
events_v2 = [ ]
apical_cytos_strain_init = 0
basal_cytos_strain_init = 0
skip_default_events = [ ]
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0
[cell_types.emt]
N_init = 10
location = "bottom"
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
apical_cytos_strain_init = 0
basal_cytos_strain_init = 0
skip_default_events = [ "default_cell_division" ]
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255
  [[cell_types.emt.events_v2]]
  type = "parameter_change"
  id = "activate_apical_constriction"
  name = "Activate Apical Constriction"
  start = 3
  end = 5
  period = 0
  probability = "1"
  cell_cycle_phase = "any"
  special_name = "lose_apical_adhesion"
  target_parameter = "k_apical_junction"
  formula = "10"

  [[cell_types.emt.events_v2]]
  id = "activate_apical_constriction_2"
  name = "Activate Apical Constriction (2)"
  start = 3
  end = 5
  period = 0
  probability = "1"
  cell_cycle_phase = "any"
  type = "parameter_change"
  target_parameter = "stiffness_apical_apical"
  formula = "old_value * 4"

  [[cell_types.emt.events_v2]]
  type = "special"
  id = "lose_basal"
  name = "Lose Basal Adhesion"
  start = 3
  end = 5
  period = 0
  probability = "0.7"
  cell_cycle_phase = "any"
  special_name = "lose_basal_adhesion"

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_1=`label = "Apical Interface Loss"

cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.5.0"

[general]
t_end = 54
dt = 0.1
random_seed = 0
full_circle = false
w_init = 10
h_init = 8
mu = 0.2
n_substeps = 40
alg_dt = 0.05
w_screen = 15
h_screen = 0
p_div_out = 0.8
perimeter = 20
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 40
location = ""
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333
skip_default_events = []
events_v2 = []

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0
[cell_types.emt]
N_init = 10
location = "bottom"
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333
skip_default_events = []

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255
  # Loss of apical interface: detach emt cells from control cells apically
  # at t=3..10, then connect neighboring control cells across the gap
  [[cell_types.emt.events_v2]]
  type = "special"
  id = "lose_apical_interface"
  name = "Lose Apical Interface"
  start = 3
  end = inf
  period = 0
  probability = "1"
  cell_cycle_phase = "any"
  special_name = "lose_apical_interface"

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_2=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 54
dt = 0.1
random_seed = 0
full_circle = false
w_init = 10
h_init = 8
mu = 0.2
n_substeps = 40
alg_dt = 0.05
w_screen = 15
h_screen = 0
p_div_out = 0.8
perimeter = 20
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 45
location = ""
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0
[cell_types.emt]
N_init = 0
location = "bottom"
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 0.5
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255
[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_3=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 54
dt = 0.1
random_seed = 0
full_circle = false
w_init = 10
h_init = 8
mu = 0.2
n_substeps = 40
alg_dt = 0.05
w_screen = 15
h_screen = 0
p_div_out = 0.8
perimeter = 20
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 50
location = ""
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0
[cell_types.emt]
N_init = 1
location = "bottom"
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255
[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_4=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 80
dt = 0.05
random_seed = 0
full_circle = false
w_init = 20
h_init = 2
mu = 0.1
n_substeps = 40
alg_dt = 0.01
w_screen = 30
h_screen = 0
p_div_out = 0.9
perimeter = 40
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 29
location = ""
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 5
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 4
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0
[cell_types.emt]
N_init = 1
location = "bottom"
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 5
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 4
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255
[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_5=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 50

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 2
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 58
h_screen = 30
p_div_out = 1
perimeter = 90
aspect_ratio = 1
hard_sphere_nuclei = true

[cell_types.control]
N_init = 5
location = ""
R_hard = 3
R_hard_div = 3
R_soft = 6
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 1
lifespan_start = 12
lifespan_end = 12
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 18
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 1
location = "bottom"
R_hard = 3
R_hard_div = 3
R_soft = 6
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 1
lifespan_start = 24
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 18
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 6
  time_A_end = 14
  time_B_start = 16
  time_B_end = 24
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_6=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 50

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 2
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 58
h_screen = 30
p_div_out = 1
perimeter = 90
aspect_ratio = 1
hard_sphere_nuclei = true

[cell_types.control]
N_init = 5
location = ""
R_hard = 3
R_hard_div = 3
R_soft = 6
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 1
lifespan_start = 12
lifespan_end = 12
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 18
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 1
location = "bottom"
R_hard = 3
R_hard_div = 3
R_soft = 6
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 1
lifespan_start = 24
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 18
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 13
  time_A_end = 18
  time_B_start = 19
  time_B_end = 24
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 6
  time_AC_end = 12

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_7=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 50

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 2
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 58
h_screen = 30
p_div_out = 1
perimeter = 90
aspect_ratio = 1
hard_sphere_nuclei = true

[cell_types.control]
N_init = 5
location = ""
R_hard = 3
R_hard_div = 3
R_soft = 6
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 1
lifespan_start = 12
lifespan_end = 12
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 18
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 1
location = "bottom"
R_hard = 3
R_hard_div = 3
R_soft = 6
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 1
lifespan_start = 24
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 18
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 19
  time_A_end = 24
  time_B_start = 13
  time_B_end = 18
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 6
  time_AC_end = 12

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_8=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 50

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 2
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 58
h_screen = 30
p_div_out = 1
perimeter = 90
aspect_ratio = 1
hard_sphere_nuclei = true

[cell_types.control]
N_init = 5
location = ""
R_hard = 3
R_hard_div = 3
R_soft = 6
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 1
lifespan_start = 12
lifespan_end = 12
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 18
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 1
location = "bottom"
R_hard = 3
R_hard_div = 3
R_soft = 6
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 1
lifespan_start = 24
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 18
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 19
  time_A_end = 24
  time_B_start = 6
  time_B_end = 12
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 13
  time_AC_end = 18

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_9=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 50

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 2
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 58
h_screen = 30
p_div_out = 1
perimeter = 90
aspect_ratio = 1
hard_sphere_nuclei = true

[cell_types.control]
N_init = 5
location = ""
R_hard = 3
R_hard_div = 3
R_soft = 6
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 1
lifespan_start = 12
lifespan_end = 12
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 18
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 1
location = "bottom"
R_hard = 3
R_hard_div = 3
R_soft = 6
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 1
lifespan_start = 24
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 18
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 6
  time_B_end = 24
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_10=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 50

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 2
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 58
h_screen = 30
p_div_out = 1
perimeter = 90
aspect_ratio = 1
hard_sphere_nuclei = true

[cell_types.control]
N_init = 5
location = ""
R_hard = 3
R_hard_div = 3
R_soft = 6
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 1
lifespan_start = 12
lifespan_end = 12
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 18
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 1
location = "bottom"
R_hard = 3
R_hard_div = 3
R_soft = 6
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 1
lifespan_start = 24
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 18
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 16
  time_A_end = 24
  time_B_start = 6
  time_B_end = 14
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_11=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 50

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 2
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 58
h_screen = 30
p_div_out = 1
perimeter = 90
aspect_ratio = 1
hard_sphere_nuclei = true

[cell_types.control]
N_init = 5
location = ""
R_hard = 3
R_hard_div = 3
R_soft = 6
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 1
lifespan_start = 12
lifespan_end = 12
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 1
location = "bottom"
R_hard = 3
R_hard_div = 3
R_soft = 6
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 1
lifespan_start = 24
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 6
  time_A_end = 24
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_12=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 58
h_screen = 30
p_div_out = 1
perimeter = 200
aspect_ratio = 1
hard_sphere_nuclei = true

[cell_types.control]
N_init = 9
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 4
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 6
  time_A_end = 24
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_13=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 58
h_screen = 30
p_div_out = 1
perimeter = 200
aspect_ratio = 1
hard_sphere_nuclei = true

[cell_types.control]
N_init = 9
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 4
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 6
  time_A_end = 14
  time_B_start = 16
  time_B_end = 24
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_14=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 58
h_screen = 30
p_div_out = 1
perimeter = 200
aspect_ratio = 1
hard_sphere_nuclei = true

[cell_types.control]
N_init = 9
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 4
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 6
  time_B_end = 24
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_15=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 58
h_screen = 30
p_div_out = 1
perimeter = 200
aspect_ratio = 1
hard_sphere_nuclei = true

[cell_types.control]
N_init = 9
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 4
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 16
  time_A_end = 24
  time_B_start = 6
  time_B_end = 14
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_16=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 58
h_screen = 30
p_div_out = 1
perimeter = 200
aspect_ratio = 3
hard_sphere_nuclei = true

[cell_types.control]
N_init = 9
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 4
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 6
  time_A_end = 24
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_17=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 58
h_screen = 30
p_div_out = 1
perimeter = 200
aspect_ratio = 3
hard_sphere_nuclei = true

[cell_types.control]
N_init = 9
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 4
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 6
  time_A_end = 14
  time_B_start = 16
  time_B_end = 24
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_18=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 58
h_screen = 30
p_div_out = 1
perimeter = 200
aspect_ratio = 3
hard_sphere_nuclei = true

[cell_types.control]
N_init = 9
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 4
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 6
  time_B_end = 24
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_19=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 58
h_screen = 30
p_div_out = 1
perimeter = 200
aspect_ratio = 3
hard_sphere_nuclei = true

[cell_types.control]
N_init = 9
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 4
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 48
lifespan_end = 96
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 25
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 16
  time_A_end = 24
  time_B_start = 6
  time_B_end = 14
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_20=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 10
h_screen = 10
p_div_out = 1
perimeter = 900
aspect_ratio = 1
hard_sphere_nuclei = true

[cell_types.control]
N_init = 52
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 8
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 3
stiffness_straightness = 2
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 6
  time_A_end = 24
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_21=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 10
h_screen = 10
p_div_out = 1
perimeter = 900
aspect_ratio = 1
hard_sphere_nuclei = true

[cell_types.control]
N_init = 52
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 8
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 3
stiffness_straightness = 2
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 6
  time_A_end = 14
  time_B_start = 16
  time_B_end = 24
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_22=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 10
h_screen = 10
p_div_out = 1
perimeter = 900
aspect_ratio = 1
hard_sphere_nuclei = true

[cell_types.control]
N_init = 52
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 8
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 3
stiffness_straightness = 2
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 6
  time_B_end = 24
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_23=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 10
h_screen = 10
p_div_out = 1
perimeter = 900
aspect_ratio = 1
hard_sphere_nuclei = true

[cell_types.control]
N_init = 52
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 8
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 3
stiffness_straightness = 2
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 16
  time_A_end = 24
  time_B_start = 6
  time_B_end = 14
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_24=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 10
h_screen = 10
p_div_out = 1
perimeter = 900
aspect_ratio = 3
hard_sphere_nuclei = true

[cell_types.control]
N_init = 52
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 8
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 3
stiffness_straightness = 2
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 6
  time_A_end = 24
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_25=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 10
h_screen = 10
p_div_out = 1
perimeter = 900
aspect_ratio = 3
hard_sphere_nuclei = true

[cell_types.control]
N_init = 52
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 8
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 3
stiffness_straightness = 2
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 6
  time_A_end = 14
  time_B_start = 16
  time_B_end = 24
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_26=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 10
h_screen = 10
p_div_out = 1
perimeter = 900
aspect_ratio = 3
hard_sphere_nuclei = true

[cell_types.control]
N_init = 52
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 8
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 3
stiffness_straightness = 2
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 6
  time_B_end = 24
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_27=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 20

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 48
dt = 0.1
random_seed = 0
full_circle = true
w_init = 300.9
h_init = 5
mu = 0.2
n_substeps = 30
alg_dt = 0.01
w_screen = 10
h_screen = 10
p_div_out = 1
perimeter = 900
aspect_ratio = 3
hard_sphere_nuclei = true

[cell_types.control]
N_init = 52
location = ""
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 2
stiffness_straightness = 5
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.control.color]
  r = 30
  g = 100
  b = 20

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.EHT]
N_init = 8
location = "bottom"
R_hard = 5
R_hard_div = 7
R_soft = 8
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0.5
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 1
stiffness_apical_apical_div = 1
stiffness_nuclei_apical = 10
stiffness_nuclei_basal = 10
stiffness_repulsion = 3
stiffness_straightness = 2
lifespan_start = 12
lifespan_end = 24
INM = 0
hetero = false
diffusion = 0.2
basal_damping_ratio = 1
max_basal_junction_dist = 16
cytos_init = 0
basal_membrane_repulsion = 0
apical_junction_init = 0

  [cell_types.EHT.color]
  r = 128
  g = 0
  b = 128

  [cell_types.EHT.events]
  time_A_start = 16
  time_A_end = 24
  time_B_start = 6
  time_B_end = 14
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_28=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 60
dt = 0.05
random_seed = 0
full_circle = false
w_init = 10
h_init = 5
mu = 0.2
n_substeps = 40
alg_dt = 0.01
w_screen = 15
h_screen = 0
p_div_out = 0.95
perimeter = 20
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 29
location = ""
R_hard = 0.4
R_hard_div = 0.9333333333333332
R_soft = 1.2
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 2
stiffness_apical_apical_div = 4
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 5.5
lifespan_end = 6.5
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 2
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0
[cell_types.emt]
N_init = 1
location = "bottom"
R_hard = 0.4
R_hard_div = 0.9333333333333332
R_soft = 1.2
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 2
stiffness_apical_apical_div = 4
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 5.5
lifespan_end = 6.5
INM = 0
hetero = true
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 2
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255

  [cell_types.emt.events]
  time_B_start = 6

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_29=`label = "Oscillating Cell Size"

cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.5.0"

[general]
t_end = 54
dt = 0.1
random_seed = 0
full_circle = false
w_init = 10
h_init = 8
mu = 0.2
n_substeps = 40
alg_dt = 0.05
w_screen = 15
h_screen = 0
p_div_out = 0.8
perimeter = 20
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 40
location = ""
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333
skip_default_events = []
events_v2 = []

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0
[cell_types.emt]
N_init = 10
location = "bottom"
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333
skip_default_events = []

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255
  # Oscillating R_soft: varies +/- 20% of base value (1.0) using sin(age)
  # Formula: 1.0 * (1 + 0.2 * sin(age * 2))
  # Period = dt means this fires every timestep for smooth oscillation
  [[cell_types.emt.events_v2]]
  type = "parameter_change"
  id = "oscillate_r_soft"
  name = "Oscillate R_soft"
  start = 0
  end = inf
  period = "dt"
  probability = "1"
  cell_cycle_phase = "any"
  target_parameter = "R_soft"
  formula = "1.0 * (1 + 0.2 * sin(age * 2))"

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_30=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 80
dt = 0.05
random_seed = 0
full_circle = false
w_init = 20
h_init = 2
mu = 0.5
n_substeps = 40
alg_dt = 0.01
w_screen = 30
h_screen = 0
p_div_out = 0.9
perimeter = 40
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 29
location = ""
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 0.01
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 8
stiffness_apical_apical_div = 16
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 1.2
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0
[cell_types.emt]
N_init = 1
location = "bottom"
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 0.01
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 8
stiffness_apical_apical_div = 16
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 1.2
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255
[time_samples]
start = 0
end = 48
step = 12
`;var freeGlobal=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$5=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root$5.Symbol,objectProto$d=Object.prototype,hasOwnProperty$c=objectProto$d.hasOwnProperty,nativeObjectToString$1=objectProto$d.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(_){var R=hasOwnProperty$c.call(_,symToStringTag$1),O=_[symToStringTag$1];try{_[symToStringTag$1]=void 0;var I=!0}catch{}var F=nativeObjectToString$1.call(_);return I&&(R?_[symToStringTag$1]=O:delete _[symToStringTag$1]),F}var objectProto$c=Object.prototype,nativeObjectToString=objectProto$c.toString;function objectToString$1(_){return nativeObjectToString.call(_)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(_){return _==null?_===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(_)?getRawTag(_):objectToString$1(_)}function isObjectLike(_){return _!=null&&typeof _=="object"}var isArray$2=Array.isArray;function isObject$2(_){var R=typeof _;return _!=null&&(R=="object"||R=="function")}function identity$a(_){return _}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$3(_){if(!isObject$2(_))return!1;var R=baseGetTag(_);return R==funcTag$2||R==genTag$1||R==asyncTag||R==proxyTag}var coreJsData=root$5["__core-js_shared__"],maskSrcKey=(function(){var _=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""})();function isMasked(_){return!!maskSrcKey&&maskSrcKey in _}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(_){if(_!=null){try{return funcToString$2.call(_)}catch{}try{return _+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$b=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$b=objectProto$b.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$b).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(_){if(!isObject$2(_)||isMasked(_))return!1;var R=isFunction$3(_)?reIsNative:reIsHostCtor;return R.test(toSource(_))}function getValue(_,R){return _?.[R]}function getNative(_,R){var O=getValue(_,R);return baseIsNative(O)?O:void 0}var WeakMap$1=getNative(root$5,"WeakMap"),objectCreate=Object.create,baseCreate=(function(){function _(){}return function(R){if(!isObject$2(R))return{};if(objectCreate)return objectCreate(R);_.prototype=R;var O=new _;return _.prototype=void 0,O}})();function apply$1(_,R,O){switch(O.length){case 0:return _.call(R);case 1:return _.call(R,O[0]);case 2:return _.call(R,O[0],O[1]);case 3:return _.call(R,O[0],O[1],O[2])}return _.apply(R,O)}function copyArray(_,R){var O=-1,I=_.length;for(R||(R=Array(I));++O<I;)R[O]=_[O];return R}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(_){var R=0,O=0;return function(){var I=nativeNow(),F=HOT_SPAN-(I-O);if(O=I,F>0){if(++R>=HOT_COUNT)return arguments[0]}else R=0;return _.apply(void 0,arguments)}}function constant$4(_){return function(){return _}}var defineProperty=(function(){try{var _=getNative(Object,"defineProperty");return _({},"",{}),_}catch{}})(),baseSetToString=defineProperty?function(_,R){return defineProperty(_,"toString",{configurable:!0,enumerable:!1,value:constant$4(R),writable:!0})}:identity$a,setToString=shortOut(baseSetToString);function arrayEach(_,R){for(var O=-1,I=_==null?0:_.length;++O<I&&R(_[O],O,_)!==!1;);return _}var MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(_,R){var O=typeof _;return R=R??MAX_SAFE_INTEGER$2,!!R&&(O=="number"||O!="symbol"&&reIsUint.test(_))&&_>-1&&_%1==0&&_<R}function baseAssignValue(_,R,O){R=="__proto__"&&defineProperty?defineProperty(_,R,{configurable:!0,enumerable:!0,value:O,writable:!0}):_[R]=O}function eq(_,R){return _===R||_!==_&&R!==R}var objectProto$a=Object.prototype,hasOwnProperty$a=objectProto$a.hasOwnProperty;function assignValue(_,R,O){var I=_[R];(!(hasOwnProperty$a.call(_,R)&&eq(I,O))||O===void 0&&!(R in _))&&baseAssignValue(_,R,O)}function copyObject(_,R,O,I){var F=!O;O||(O={});for(var z=-1,L=R.length;++z<L;){var U=R[z],q=void 0;q===void 0&&(q=_[U]),F?baseAssignValue(O,U,q):assignValue(O,U,q)}return O}var nativeMax=Math.max;function overRest(_,R,O){return R=nativeMax(R===void 0?_.length-1:R,0),function(){for(var I=arguments,F=-1,z=nativeMax(I.length-R,0),L=Array(z);++F<z;)L[F]=I[R+F];F=-1;for(var U=Array(R+1);++F<R;)U[F]=I[F];return U[R]=O(L),apply$1(_,this,U)}}function baseRest(_,R){return setToString(overRest(_,R,identity$a),_+"")}var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=MAX_SAFE_INTEGER$1}function isArrayLike(_){return _!=null&&isLength(_.length)&&!isFunction$3(_)}function isIterateeCall(_,R,O){if(!isObject$2(O))return!1;var I=typeof R;return(I=="number"?isArrayLike(O)&&isIndex$1(R,O.length):I=="string"&&R in O)?eq(O[R],_):!1}function createAssigner(_){return baseRest(function(R,O){var I=-1,F=O.length,z=F>1?O[F-1]:void 0,L=F>2?O[2]:void 0;for(z=_.length>3&&typeof z=="function"?(F--,z):void 0,L&&isIterateeCall(O[0],O[1],L)&&(z=F<3?void 0:z,F=1),R=Object(R);++I<F;){var U=O[I];U&&_(R,U,I,z)}return R})}var objectProto$9=Object.prototype;function isPrototype(_){var R=_&&_.constructor,O=typeof R=="function"&&R.prototype||objectProto$9;return _===O}function baseTimes(_,R){for(var O=-1,I=Array(_);++O<_;)I[O]=R(O);return I}var argsTag$2="[object Arguments]";function baseIsArguments(_){return isObjectLike(_)&&baseGetTag(_)==argsTag$2}var objectProto$8=Object.prototype,hasOwnProperty$9=objectProto$8.hasOwnProperty,propertyIsEnumerable$1=objectProto$8.propertyIsEnumerable,isArguments=baseIsArguments((function(){return arguments})())?baseIsArguments:function(_){return isObjectLike(_)&&hasOwnProperty$9.call(_,"callee")&&!propertyIsEnumerable$1.call(_,"callee")};function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$3=moduleExports$2?root$5.Buffer:void 0,nativeIsBuffer=Buffer$3?Buffer$3.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$3="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$4]=typedArrayTags[numberTag$2]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$4]=typedArrayTags[stringTag$2]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(_){return isObjectLike(_)&&isLength(_.length)&&!!typedArrayTags[baseGetTag(_)]}function baseUnary(_){return function(R){return _(R)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=(function(){try{var _=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return _||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}})(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$7=Object.prototype,hasOwnProperty$8=objectProto$7.hasOwnProperty;function arrayLikeKeys(_,R){var O=isArray$2(_),I=!O&&isArguments(_),F=!O&&!I&&isBuffer(_),z=!O&&!I&&!F&&isTypedArray(_),L=O||I||F||z,U=L?baseTimes(_.length,String):[],q=U.length;for(var G in _)(R||hasOwnProperty$8.call(_,G))&&!(L&&(G=="length"||F&&(G=="offset"||G=="parent")||z&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||isIndex$1(G,q)))&&U.push(G);return U}function overArg(_,R){return function(O){return _(R(O))}}var nativeKeys=overArg(Object.keys,Object),objectProto$6=Object.prototype,hasOwnProperty$7=objectProto$6.hasOwnProperty;function baseKeys(_){if(!isPrototype(_))return nativeKeys(_);var R=[];for(var O in Object(_))hasOwnProperty$7.call(_,O)&&O!="constructor"&&R.push(O);return R}function keys$1(_){return isArrayLike(_)?arrayLikeKeys(_):baseKeys(_)}function nativeKeysIn(_){var R=[];if(_!=null)for(var O in Object(_))R.push(O);return R}var objectProto$5=Object.prototype,hasOwnProperty$6=objectProto$5.hasOwnProperty;function baseKeysIn(_){if(!isObject$2(_))return nativeKeysIn(_);var R=isPrototype(_),O=[];for(var I in _)I=="constructor"&&(R||!hasOwnProperty$6.call(_,I))||O.push(I);return O}function keysIn(_){return isArrayLike(_)?arrayLikeKeys(_,!0):baseKeysIn(_)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(_){var R=this.has(_)&&delete this.__data__[_];return this.size-=R?1:0,R}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$5=objectProto$4.hasOwnProperty;function hashGet(_){var R=this.__data__;if(nativeCreate){var O=R[_];return O===HASH_UNDEFINED$1?void 0:O}return hasOwnProperty$5.call(R,_)?R[_]:void 0}var objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function hashHas(_){var R=this.__data__;return nativeCreate?R[_]!==void 0:hasOwnProperty$4.call(R,_)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(_,R){var O=this.__data__;return this.size+=this.has(_)?0:1,O[_]=nativeCreate&&R===void 0?HASH_UNDEFINED:R,this}function Hash(_){var R=-1,O=_==null?0:_.length;for(this.clear();++R<O;){var I=_[R];this.set(I[0],I[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(_,R){for(var O=_.length;O--;)if(eq(_[O][0],R))return O;return-1}var arrayProto=Array.prototype,splice$1=arrayProto.splice;function listCacheDelete(_){var R=this.__data__,O=assocIndexOf(R,_);if(O<0)return!1;var I=R.length-1;return O==I?R.pop():splice$1.call(R,O,1),--this.size,!0}function listCacheGet(_){var R=this.__data__,O=assocIndexOf(R,_);return O<0?void 0:R[O][1]}function listCacheHas(_){return assocIndexOf(this.__data__,_)>-1}function listCacheSet(_,R){var O=this.__data__,I=assocIndexOf(O,_);return I<0?(++this.size,O.push([_,R])):O[I][1]=R,this}function ListCache(_){var R=-1,O=_==null?0:_.length;for(this.clear();++R<O;){var I=_[R];this.set(I[0],I[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$5,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(_){var R=typeof _;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?_!=="__proto__":_===null}function getMapData(_,R){var O=_.__data__;return isKeyable(R)?O[typeof R=="string"?"string":"hash"]:O.map}function mapCacheDelete(_){var R=getMapData(this,_).delete(_);return this.size-=R?1:0,R}function mapCacheGet(_){return getMapData(this,_).get(_)}function mapCacheHas(_){return getMapData(this,_).has(_)}function mapCacheSet(_,R){var O=getMapData(this,_),I=O.size;return O.set(_,R),this.size+=O.size==I?0:1,this}function MapCache(_){var R=-1,O=_==null?0:_.length;for(this.clear();++R<O;){var I=_[R];this.set(I[0],I[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function arrayPush(_,R){for(var O=-1,I=R.length,F=_.length;++O<I;)_[F+O]=R[O];return _}var getPrototype=overArg(Object.getPrototypeOf,Object),objectTag$2="[object Object]",funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$3=objectProto$2.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$2(_){if(!isObjectLike(_)||baseGetTag(_)!=objectTag$2)return!1;var R=getPrototype(_);if(R===null)return!0;var O=hasOwnProperty$3.call(R,"constructor")&&R.constructor;return typeof O=="function"&&O instanceof O&&funcToString.call(O)==objectCtorString}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(_){var R=this.__data__,O=R.delete(_);return this.size=R.size,O}function stackGet(_){return this.__data__.get(_)}function stackHas(_){return this.__data__.has(_)}var LARGE_ARRAY_SIZE=200;function stackSet(_,R){var O=this.__data__;if(O instanceof ListCache){var I=O.__data__;if(!Map$1||I.length<LARGE_ARRAY_SIZE-1)return I.push([_,R]),this.size=++O.size,this;O=this.__data__=new MapCache(I)}return O.set(_,R),this.size=O.size,this}function Stack(_){var R=this.__data__=new ListCache(_);this.size=R.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$2=moduleExports?root$5.Buffer:void 0,allocUnsafe=Buffer$2?Buffer$2.allocUnsafe:void 0;function cloneBuffer(_,R){if(R)return _.slice();var O=_.length,I=allocUnsafe?allocUnsafe(O):new _.constructor(O);return _.copy(I),I}function arrayFilter(_,R){for(var O=-1,I=_==null?0:_.length,F=0,z=[];++O<I;){var L=_[O];R(L,O,_)&&(z[F++]=L)}return z}function stubArray(){return[]}var objectProto$1=Object.prototype,propertyIsEnumerable=objectProto$1.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(_){return _==null?[]:(_=Object(_),arrayFilter(nativeGetSymbols(_),function(R){return propertyIsEnumerable.call(_,R)}))}:stubArray;function baseGetAllKeys(_,R,O){var I=R(_);return isArray$2(_)?I:arrayPush(I,O(_))}function getAllKeys(_){return baseGetAllKeys(_,keys$1,getSymbols)}var DataView$1=getNative(root$5,"DataView"),Promise$1=getNative(root$5,"Promise"),Set$1=getNative(root$5,"Set"),mapTag$3="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$2||Map$1&&getTag(new Map$1)!=mapTag$3||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$3||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag$1)&&(getTag=function(_){var R=baseGetTag(_),O=R==objectTag$1?_.constructor:void 0,I=O?toSource(O):"";if(I)switch(I){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return R});var objectProto=Object.prototype,hasOwnProperty$2=objectProto.hasOwnProperty;function initCloneArray(_){var R=_.length,O=new _.constructor(R);return R&&typeof _[0]=="string"&&hasOwnProperty$2.call(_,"index")&&(O.index=_.index,O.input=_.input),O}var Uint8Array$1=root$5.Uint8Array;function cloneArrayBuffer(_){var R=new _.constructor(_.byteLength);return new Uint8Array$1(R).set(new Uint8Array$1(_)),R}function cloneDataView(_,R){var O=cloneArrayBuffer(_.buffer);return new _.constructor(O,_.byteOffset,_.byteLength)}var reFlags=/\w*$/;function cloneRegExp(_){var R=new _.constructor(_.source,reFlags.exec(_));return R.lastIndex=_.lastIndex,R}var symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol(_){return symbolValueOf?Object(symbolValueOf.call(_)):{}}function cloneTypedArray(_,R){var O=R?cloneArrayBuffer(_.buffer):_.buffer;return new _.constructor(O,_.byteOffset,_.length)}var boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(_,R,O){var I=_.constructor;switch(R){case arrayBufferTag$1:return cloneArrayBuffer(_);case boolTag$1:case dateTag$1:return new I(+_);case dataViewTag$1:return cloneDataView(_);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(_,O);case mapTag$2:return new I;case numberTag$1:case stringTag$1:return new I(_);case regexpTag$1:return cloneRegExp(_);case setTag$2:return new I;case symbolTag$1:return cloneSymbol(_)}}function initCloneObject(_){return typeof _.constructor=="function"&&!isPrototype(_)?baseCreate(getPrototype(_)):{}}var mapTag$1="[object Map]";function baseIsMap(_){return isObjectLike(_)&&getTag(_)==mapTag$1}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap$1=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$1="[object Set]";function baseIsSet(_){return isObjectLike(_)&&getTag(_)==setTag$1}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG$1=1,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(_,R,O,I,F,z){var L,U=R&CLONE_DEEP_FLAG$1;if(L!==void 0)return L;if(!isObject$2(_))return _;var q=isArray$2(_);if(q)L=initCloneArray(_);else{var G=getTag(_),V=G==funcTag||G==genTag;if(isBuffer(_))return cloneBuffer(_,U);if(G==objectTag||G==argsTag||V&&!F)L=V?{}:initCloneObject(_);else{if(!cloneableTags[G])return F?_:{};L=initCloneByTag(_,G,U)}}z||(z=new Stack);var Z=z.get(_);if(Z)return Z;z.set(_,L),isSet(_)?_.forEach(function(ee){L.add(baseClone(ee,R,O,ee,_,z))}):isMap$1(_)&&_.forEach(function(ee,ne){L.set(ne,baseClone(ee,R,O,ne,_,z))});var Y=getAllKeys,W=q?void 0:Y(_);return arrayEach(W||_,function(ee,ne){W&&(ne=ee,ee=_[ne]),assignValue(L,ne,baseClone(ee,R,O,ne,_,z))}),L}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(_){return baseClone(_,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function createBaseFor(_){return function(R,O,I){for(var F=-1,z=Object(R),L=I(R),U=L.length;U--;){var q=L[++F];if(O(z[q],q,z)===!1)break}return R}}var baseFor=createBaseFor();function assignMergeValue(_,R,O){(O!==void 0&&!eq(_[R],O)||O===void 0&&!(R in _))&&baseAssignValue(_,R,O)}function isArrayLikeObject(_){return isObjectLike(_)&&isArrayLike(_)}function safeGet(_,R){if(!(R==="constructor"&&typeof _[R]=="function")&&R!="__proto__")return _[R]}function toPlainObject(_){return copyObject(_,keysIn(_))}function baseMergeDeep(_,R,O,I,F,z,L){var U=safeGet(_,O),q=safeGet(R,O),G=L.get(q);if(G){assignMergeValue(_,O,G);return}var V=z?z(U,q,O+"",_,R,L):void 0,Z=V===void 0;if(Z){var Y=isArray$2(q),W=!Y&&isBuffer(q),ee=!Y&&!W&&isTypedArray(q);V=q,Y||W||ee?isArray$2(U)?V=U:isArrayLikeObject(U)?V=copyArray(U):W?(Z=!1,V=cloneBuffer(q,!0)):ee?(Z=!1,V=cloneTypedArray(q,!0)):V=[]:isPlainObject$2(q)||isArguments(q)?(V=U,isArguments(U)?V=toPlainObject(U):(!isObject$2(U)||isFunction$3(U))&&(V=initCloneObject(q))):Z=!1}Z&&(L.set(q,V),F(V,q,I,z,L),L.delete(q)),assignMergeValue(_,O,V)}function baseMerge(_,R,O,I,F){_!==R&&baseFor(R,function(z,L){if(F||(F=new Stack),isObject$2(z))baseMergeDeep(_,R,L,O,baseMerge,I,F);else{var U=I?I(safeGet(_,L),z,L+"",_,R,F):void 0;U===void 0&&(U=z),assignMergeValue(_,L,U)}},keysIn)}var mergeWith=createAssigner(function(_,R,O,I){baseMerge(_,R,O,I)}),merge$2=createAssigner(function(_,R,O){baseMerge(_,R,O)}),toml={},parse$9={exports:{}},tomlParser={exports:{}},parser$1,hasRequiredParser;function requireParser(){if(hasRequiredParser)return parser$1;hasRequiredParser=1;const _=1114112;class R extends Error{constructor(z,L,U){super("[ParserError] "+z,L,U),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,R)}}class O{constructor(z){this.parser=z,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}}class I{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new O(this.parseStart)}parse(z){if(z.length===0||z.length==null)return;this._buf=String(z),this.ii=-1,this.char=-1;let L;for(;L===!1||this.nextChar();)L=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=_;let z;do z=this.state.parser,this.runOne();while(this.state.parser!==z);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(z){if(typeof z!="function")throw new R("Tried to set state to non-existent state: "+JSON.stringify(z));this.state.parser=z}goto(z){return this.next(z),this.runOne()}call(z,L){L&&this.next(L),this.stack.push(this.state),this.state=new O(z)}callNow(z,L){return this.call(z,L),this.runOne()}return(z){if(this.stack.length===0)throw this.error(new R("Stack underflow"));z===void 0&&(z=this.state.buf),this.state=this.stack.pop(),this.state.returned=z}returnNow(z){return this.return(z),this.runOne()}consume(){if(this.char===_)throw this.error(new R("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(z){return z.line=this.line,z.col=this.col,z.pos=this.pos,z}parseStart(){throw new R("Must declare a parseStart method")}}return I.END=_,I.Error=R,parser$1=I,parser$1}var createDatetime,hasRequiredCreateDatetime;function requireCreateDatetime(){return hasRequiredCreateDatetime||(hasRequiredCreateDatetime=1,createDatetime=_=>{const R=new Date(_);if(isNaN(R))throw new TypeError("Invalid Datetime");return R}),createDatetime}var formatNum,hasRequiredFormatNum;function requireFormatNum(){return hasRequiredFormatNum||(hasRequiredFormatNum=1,formatNum=(_,R)=>{for(R=String(R);R.length<_;)R="0"+R;return R}),formatNum}var createDatetimeFloat,hasRequiredCreateDatetimeFloat;function requireCreateDatetimeFloat(){if(hasRequiredCreateDatetimeFloat)return createDatetimeFloat;hasRequiredCreateDatetimeFloat=1;const _=requireFormatNum();class R extends Date{constructor(I){super(I+"Z"),this.isFloating=!0}toISOString(){const I=`${this.getUTCFullYear()}-${_(2,this.getUTCMonth()+1)}-${_(2,this.getUTCDate())}`,F=`${_(2,this.getUTCHours())}:${_(2,this.getUTCMinutes())}:${_(2,this.getUTCSeconds())}.${_(3,this.getUTCMilliseconds())}`;return`${I}T${F}`}}return createDatetimeFloat=O=>{const I=new R(O);if(isNaN(I))throw new TypeError("Invalid Datetime");return I},createDatetimeFloat}var createDate,hasRequiredCreateDate;function requireCreateDate(){if(hasRequiredCreateDate)return createDate;hasRequiredCreateDate=1;const _=requireFormatNum(),R=globalThis.Date;class O extends R{constructor(F){super(F),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${_(2,this.getUTCMonth()+1)}-${_(2,this.getUTCDate())}`}}return createDate=I=>{const F=new O(I);if(isNaN(F))throw new TypeError("Invalid Datetime");return F},createDate}var createTime,hasRequiredCreateTime;function requireCreateTime(){if(hasRequiredCreateTime)return createTime;hasRequiredCreateTime=1;const _=requireFormatNum();class R extends Date{constructor(I){super(`0000-01-01T${I}Z`),this.isTime=!0}toISOString(){return`${_(2,this.getUTCHours())}:${_(2,this.getUTCMinutes())}:${_(2,this.getUTCSeconds())}.${_(3,this.getUTCMilliseconds())}`}}return createTime=O=>{const I=new R(O);if(isNaN(I))throw new TypeError("Invalid Datetime");return I},createTime}var hasRequiredTomlParser;function requireTomlParser(){if(hasRequiredTomlParser)return tomlParser.exports;hasRequiredTomlParser=1,tomlParser.exports=makeParserClass(requireParser()),tomlParser.exports.makeParserClass=makeParserClass;class TomlError extends Error{constructor(R){super(R),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=_=>{const R=new TomlError(_.message);return R.code=_.code,R.wrapped=_,R},tomlParser.exports.TomlError=TomlError;const createDateTime=requireCreateDatetime(),createDateTimeFloat=requireCreateDatetimeFloat(),createDate=requireCreateDate(),createTime=requireCreateTime(),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(_){return _>=CHAR_0&&_<=CHAR_9}function isHexit(_){return _>=CHAR_A&&_<=CHAR_F||_>=CHAR_a&&_<=CHAR_f||_>=CHAR_0&&_<=CHAR_9}function isBit(_){return _===CHAR_1||_===CHAR_0}function isOctit(_){return _>=CHAR_0&&_<=CHAR_7}function isAlphaNumQuoteHyphen(_){return _>=CHAR_A&&_<=CHAR_Z||_>=CHAR_a&&_<=CHAR_z||_>=CHAR_0&&_<=CHAR_9||_===CHAR_APOS||_===CHAR_QUOT||_===CHAR_LOWBAR||_===CHAR_HYPHEN}function isAlphaNumHyphen(_){return _>=CHAR_A&&_<=CHAR_Z||_>=CHAR_a&&_<=CHAR_z||_>=CHAR_0&&_<=CHAR_9||_===CHAR_LOWBAR||_===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(_,R){return hasOwnProperty.call(_,R)?!0:(R==="__proto__"&&defineProperty(_,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(_){return _===null||typeof _!="object"?!1:_[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(_){return _===null||typeof _!="object"?!1:_[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(_){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:_}})}function isInlineList(_){return _===null||typeof _!="object"?!1:_[_type]===INLINE_LIST}const LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(_){return _===null||typeof _!="object"?!1:_[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(_){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor(R){try{this.value=globalThis.BigInt.asIntN(64,R)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer(_){let R=Number(_);return Object.is(R,-0)&&(R=0),globalThis.BigInt&&!Number.isSafeInteger(R)?new BoxedBigInt(_):Object.defineProperties(new Number(R),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${_}]`}})}function isInteger(_){return _===null||typeof _!="object"?!1:_[_type]===INTEGER}const FLOAT=Symbol("float");function Float(_){return Object.defineProperties(new Number(_),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${_}]`}})}function isFloat(_){return _===null||typeof _!="object"?!1:_[_type]===FLOAT}function tomlType(_){const R=typeof _;if(R==="object"){if(_===null)return"null";if(_ instanceof Date)return"datetime";if(_type in _)switch(_[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return R}function makeParserClass(_){class R extends _{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===_.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===_.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===_.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(I){let F=this.ctx,z=I.key.pop();for(let L of I.key){if(hasKey(F,L)&&(!isTable(F[L])||F[L][_declared]))throw this.error(new TomlError("Can't redefine existing key"));F=F[L]=F[L]||Table()}if(hasKey(F,z))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(I.value)||isFloat(I.value)?F[z]=I.value.valueOf():F[z]=I.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(I){return this.state.resultTable?this.state.resultTable.push(I):this.state.resultTable=[I],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(I){return this.returnNow({key:this.state.resultTable,value:I})}parseComment(){do if(this.char===_.END||this.char===CTRL_J)return this.return();while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(I){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,I)&&(!isTable(this.ctx[I])||this.ctx[I][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[I]=this.ctx[I]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,I))this.ctx=this.ctx[I]=Table();else if(isTable(this.ctx[I]))this.ctx=this.ctx[I];else if(isList(this.ctx[I]))this.ctx=this.ctx[I][this.ctx[I].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(I){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,I)||(this.ctx[I]=List()),isInlineList(this.ctx[I]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[I])){const F=Table();this.ctx[I].push(F),this.ctx=F}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,I))this.ctx=this.ctx[I]=Table();else{if(isInlineList(this.ctx[I]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[I]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[I]))this.ctx=this.ctx[I][this.ctx[I].length-1];else if(isTable(this.ctx[I]))this.ctx=this.ctx[I];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(I){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===_.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(I){return this.returnNow(I)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===_.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===_.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(I){return this.state.buf+=I,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===_.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let I="\\u00";return this.char<16&&(I+="0"),I+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${I} instead`))}recordMultiEscapeReplacement(I){return this.state.buf+=I,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(I){try{const F=parseInt(I,16);if(F>=SURROGATE_FIRST&&F<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(F))}catch(F){throw this.error(TomlError.wrap(F))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const I=Integer(this.state.buf);if(I.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(I)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const I=Integer(this.state.buf);if(I.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(I)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const I=Integer(this.state.buf);if(I.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(I)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const I=Integer(this.state.buf);if(I.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(I)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===_.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(I){if(this.state.resultArr){const F=this.state.resultArr[_contentType],z=tomlType(I);if(F!==z)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${F} and ${z}`))}else this.state.resultArr=InlineList(tomlType(I));return isFloat(I)||isInteger(I)?this.state.resultArr.push(I.valueOf()):this.state.resultArr.push(I),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===_.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(I){let F=this.state.resultTable,z=I.key.pop();for(let L of I.key){if(hasKey(F,L)&&(!isTable(F[L])||F[L][_declared]))throw this.error(new TomlError("Can't redefine existing key"));F=F[L]=F[L]||Table()}if(hasKey(F,z))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(I.value)||isFloat(I.value)?F[z]=I.value.valueOf():F[z]=I.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===_.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}return R}return tomlParser.exports}var parsePrettyError,hasRequiredParsePrettyError;function requireParsePrettyError(){if(hasRequiredParsePrettyError)return parsePrettyError;hasRequiredParsePrettyError=1,parsePrettyError=_;function _(R,O){if(R.pos==null||R.line==null)return R;let I=R.message;if(I+=` at row ${R.line+1}, col ${R.col+1}, pos ${R.pos}:
`,O&&O.split){const F=O.split(/\n/),z=String(Math.min(F.length,R.line+3)).length;let L=" ";for(;L.length<z;)L+=" ";for(let U=Math.max(0,R.line-1);U<Math.min(F.length,R.line+2);++U){let q=String(U+1);if(q.length<z&&(q=" "+q),R.line===U){I+=q+"> "+F[U]+`
`,I+=L+"  ";for(let G=0;G<R.col;++G)I+=" ";I+=`^
`}else I+=q+": "+F[U]+`
`}}return R.message=I+`
`,R}return parsePrettyError}var parseString_1,hasRequiredParseString;function requireParseString(){if(hasRequiredParseString)return parseString_1;hasRequiredParseString=1,parseString_1=O;const _=requireTomlParser(),R=requireParsePrettyError();function O(I){globalThis.Buffer&&globalThis.Buffer.isBuffer(I)&&(I=I.toString("utf8"));const F=new _;try{return F.parse(I),F.finish()}catch(z){throw R(z,I)}}return parseString_1}var parseAsync_1,hasRequiredParseAsync;function requireParseAsync(){if(hasRequiredParseAsync)return parseAsync_1;hasRequiredParseAsync=1,parseAsync_1=O;const _=requireTomlParser(),R=requireParsePrettyError();function O(I,F){F||(F={});const z=0,L=F.blocksize||40960,U=new _;return new Promise((G,V)=>{setImmediate(q,z,L,G,V)});function q(G,V,Z,Y){if(G>=I.length)try{return Z(U.finish())}catch(W){return Y(R(W,I))}try{U.parse(I.slice(G,G+V)),setImmediate(q,G+V,V,Z,Y)}catch(W){Y(R(W,I))}}}return parseAsync_1}var parseStream_1,hasRequiredParseStream;function requireParseStream(){if(hasRequiredParseStream)return parseStream_1;hasRequiredParseStream=1,parseStream_1=O;const _=require$$0,R=requireTomlParser();function O(z){return z?I(z):F()}function I(z){const L=new R;return z.setEncoding("utf8"),new Promise((U,q)=>{let G,V=!1,Z=!1;function Y(){if(V=!0,!G)try{U(L.finish())}catch(ne){q(ne)}}function W(ne){Z=!0,q(ne)}z.once("end",Y),z.once("error",W),ee();function ee(){G=!0;let ne;for(;(ne=z.read())!==null;)try{L.parse(ne)}catch(ie){return W(ie)}if(G=!1,V)return Y();Z||z.once("readable",ee)}})}function F(){const z=new R;return new _.Transform({objectMode:!0,transform(L,U,q){try{z.parse(L.toString(U))}catch(G){this.emit("error",G)}q()},flush(L){try{this.push(z.finish())}catch(U){this.emit("error",U)}L()}})}return parseStream_1}var hasRequiredParse;function requireParse(){return hasRequiredParse||(hasRequiredParse=1,parse$9.exports=requireParseString(),parse$9.exports.async=requireParseAsync(),parse$9.exports.stream=requireParseStream(),parse$9.exports.prettyError=requireParsePrettyError()),parse$9.exports}var stringify$3={exports:{}},hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify$3.exports;hasRequiredStringify=1,stringify$3.exports=_,stringify$3.exports.value=ie;function _(we){if(we===null)throw R("null");if(we===void 0)throw R("undefined");if(typeof we!="object")throw R(typeof we);if(typeof we.toJSON=="function"&&(we=we.toJSON()),we==null)return null;const ve=q(we);if(ve!=="table")throw R(ve);return L("","",we)}function R(we){return new Error("Can only stringify objects, not "+we)}function O(){return new Error("Array values can't have mixed types")}function I(we){return Object.keys(we).filter(ve=>U(we[ve]))}function F(we){return Object.keys(we).filter(ve=>!U(we[ve]))}function z(we){let ve=Array.isArray(we)?[]:Object.prototype.hasOwnProperty.call(we,"__proto__")?{["__proto__"]:void 0}:{};for(let $e of Object.keys(we))we[$e]&&typeof we[$e].toJSON=="function"&&!("toISOString"in we[$e])?ve[$e]=we[$e].toJSON():ve[$e]=we[$e];return ve}function L(we,ve,$e){$e=z($e);var be,Ce;be=I($e),Ce=F($e);var De=[],Ne=ve||"";be.forEach(Te=>{var Re=q($e[Te]);Re!=="undefined"&&Re!=="null"&&De.push(Ne+G(Te)+" = "+ne($e[Te],!0))}),De.length>0&&De.push("");var Me=we&&be.length>0?ve+"  ":"";return Ce.forEach(Te=>{De.push(ge(we,Me,Te,$e[Te]))}),De.join(`
`)}function U(we){switch(q(we)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return we.length===0||q(we[0])!=="table";case"table":return Object.keys(we).length===0;default:return!1}}function q(we){return we===void 0?"undefined":we===null?"null":typeof we=="bigint"||Number.isInteger(we)&&!Object.is(we,-0)?"integer":typeof we=="number"?"float":typeof we=="boolean"?"boolean":typeof we=="string"?"string":"toISOString"in we?isNaN(we)?"undefined":"datetime":Array.isArray(we)?"array":"table"}function G(we){var ve=String(we);return/^[-A-Za-z0-9_]+$/.test(ve)?ve:V(ve)}function V(we){return'"'+W(we).replace(/"/g,'\\"')+'"'}function Z(we){return"'"+we+"'"}function Y(we,ve){for(;ve.length<we;)ve="0"+ve;return ve}function W(we){return we.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,ve=>"\\u"+Y(4,ve.codePointAt(0).toString(16)))}function ee(we){let ve=we.split(/\n/).map($e=>W($e).replace(/"(?="")/g,'\\"')).join(`
`);return ve.slice(-1)==='"'&&(ve+=`\\
`),`"""
`+ve+'"""'}function ne(we,ve){let $e=q(we);return $e==="string"&&(ve&&/\n/.test(we)?$e="string-multiline":!/[\b\t\n\f\r']/.test(we)&&/"/.test(we)&&($e="string-literal")),ie(we,$e)}function ie(we,ve){switch(ve||(ve=q(we)),ve){case"string-multiline":return ee(we);case"string":return V(we);case"string-literal":return Z(we);case"integer":return se(we);case"float":return oe(we);case"boolean":return le(we);case"datetime":return ue(we);case"array":return he(we.filter($e=>q($e)!=="null"&&q($e)!=="undefined"&&q($e)!=="nan"));case"table":return pe(we);default:throw R(ve)}}function se(we){return String(we).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function oe(we){if(we===1/0)return"inf";if(we===-1/0)return"-inf";if(Object.is(we,NaN))return"nan";if(Object.is(we,-0))return"-0.0";var ve=String(we).split("."),$e=ve[0],be=ve[1]||0;return se($e)+"."+be}function le(we){return String(we)}function ue(we){return we.toISOString()}function ce(we){return we==="float"||we==="integer"}function fe(we){var ve=q(we[0]);return we.every($e=>q($e)===ve)?ve:we.every($e=>ce(q($e)))?"float":"mixed"}function me(we){const ve=fe(we);if(ve==="mixed")throw O();return ve}function he(we){we=z(we);const ve=me(we);var $e="[",be=we.map(Ce=>ie(Ce,ve));return be.join(", ").length>60||/\n/.test(be)?$e+=`
  `+be.join(`,
  `)+`
`:$e+=" "+be.join(", ")+(be.length>0?" ":""),$e+"]"}function pe(we){we=z(we);var ve=[];return Object.keys(we).forEach($e=>{ve.push(G($e)+" = "+ne(we[$e],!1))}),"{ "+ve.join(", ")+(ve.length>0?" ":"")+"}"}function ge(we,ve,$e,be){var Ce=q(be);if(Ce==="array")return _e(we,ve,$e,be);if(Ce==="table")return ye(we,ve,$e,be);throw R(Ce)}function _e(we,ve,$e,be){be=z(be),me(be);var Ce=q(be[0]);if(Ce!=="table")throw R(Ce);var De=we+G($e),Ne="";return be.forEach(Me=>{Ne.length>0&&(Ne+=`
`),Ne+=ve+"[["+De+`]]
`,Ne+=L(De+".",ve,Me)}),Ne}function ye(we,ve,$e,be){var Ce=we+G($e),De="";return I(be).length>0&&(De+=ve+"["+Ce+`]
`),De+L(Ce+".",ve,be)}return stringify$3.exports}var hasRequiredToml;function requireToml(){return hasRequiredToml||(hasRequiredToml=1,toml.parse=requireParse(),toml.stringify=requireStringify()),toml}var tomlExports=requireToml();const TOML=getDefaultExportFromCjs(tomlExports);function convertLegacyEventsToV2(_,R,O){const I=[],F=R?"0.7":"1",z=(L,U)=>isFinite(L);if(z(_.time_A_start,_.time_A_end)){const L={type:"special",id:"lose_apical",name:"Lose Apical Adhesion",start:_.time_A_start,end:_.time_A_end,period:0,probability:F,prereq:null,cell_cycle_phase:CellCyclePhase.Any,special_name:"lose_apical_adhesion"};I.push(L)}if(z(_.time_B_start,_.time_B_end)){const L={type:"special",id:"lose_basal",name:"Lose Basal Adhesion",start:_.time_B_start,end:_.time_B_end,period:0,probability:F,prereq:null,cell_cycle_phase:CellCyclePhase.Any,special_name:"lose_basal_adhesion"};I.push(L)}if(z(_.time_S_start,_.time_S_end)){const L={type:"parameter_change",id:"lose_straightness",name:"Lose Straightness",start:_.time_S_start,end:_.time_S_end,period:0,probability:F,prereq:null,cell_cycle_phase:CellCyclePhase.Any,target_parameter:"stiffness_straightness",formula:"1.0"};I.push(L)}if(z(_.time_P_start,_.time_P_end)&&O>0){const L={type:"special",id:"start_running",name:"Start Running",start:_.time_P_start,end:_.time_P_end,period:0,probability:String(O),prereq:null,cell_cycle_phase:CellCyclePhase.Any,special_name:"start_running"};I.push(L)}if(z(_.time_AC_start,_.time_AC_end)){const L={type:"special",id:"lose_apical_interface",name:"Lose Apical Interface",start:_.time_AC_start,end:_.time_AC_end,period:0,probability:F,prereq:null,cell_cycle_phase:CellCyclePhase.Any,special_name:"lose_apical_interface"};I.push(L)}return I}function isLegacyParams(_){if(_.metadata?.version==="1.1.0")return!1;for(const R of Object.values(_.cell_types))if(R.events_v2!==void 0)return!1;return!0}function migrateV1_0_0toV1_1_0(_){const R=structuredClone(_);R.metadata.version="1.1.0";for(const[O,I]of Object.entries(R.cell_types)){const F=I;F.events_v2===void 0&&(F.events_v2=convertLegacyEventsToV2(F.events,F.hetero,F.run),R.cell_types[O]=F)}return R}function ensureV1_1_0(_){return isLegacyParams(_)?(console.log("[Migration] Converting EHT params from v1.0.0 to v1.1.0"),migrateV1_0_0toV1_1_0(_)):_}function needsV1_2_0Migration(_){return!(_.metadata?.version==="1.2.0"||"default_events"in _.general)}function migrateV1_1_0toV1_2_0(_){const R=structuredClone(_);R.metadata.version="1.2.0","default_events"in R.general||(R.general.default_events=[]);for(const I of Object.values(R.cell_types)){const F=I;"apical_cytos_strain_init"in F||(F.apical_cytos_strain_init=0),"basal_cytos_strain_init"in F||(F.basal_cytos_strain_init=0),"skip_default_events"in F||(F.skip_default_events=[]),F.events_v2&&(F.events_v2=F.events_v2.map(z=>typeof z.probability=="number"?{...z,probability:String(z.probability)}:z))}const O=R.general;return O.default_events&&(O.default_events=O.default_events.map(I=>typeof I.probability=="number"?{...I,probability:String(I.probability)}:I)),R}function ensureV1_2_0(_){return needsV1_2_0Migration(_)?(console.log("[Migration] Converting EHT params from v1.1.0 to v1.2.0"),migrateV1_1_0toV1_2_0(_)):_}function needsV1_3_0Migration(_){const R=_.metadata?.version;return R==="1.3.0"?!1:R==="1.2.0"}function migrateV1_2_0toV1_3_0(_){const R=structuredClone(_);R.metadata.version="1.3.0",R.general.default_events||(R.general.default_events=[]);const O=R.general.default_events;O.some(I=>I.id==="default_cell_division")||O.push({type:"special",id:"default_cell_division",name:"Cell Division",start:0,end:1/0,period:0,probability:"p_div_out",prereq:null,cell_cycle_phase:CellCyclePhase.Division,special_name:"cell_division"}),O.some(I=>I.id==="default_increase_R_hard")||O.push({type:"parameter_change",id:"default_increase_R_hard",name:"Increase R_hard",start:0,end:1/0,period:.1,probability:"1",prereq:null,cell_cycle_phase:CellCyclePhase.Any,target_parameter:"R_hard",formula:"old_value + 0.01 * dt"}),O.some(I=>I.id==="inm_contract_apical")||O.push({type:"parameter_change",id:"inm_contract_apical",name:"INM: Contract Apical",start:0,end:0,period:0,probability:"INM",prereq:null,cell_cycle_phase:CellCyclePhase.G2,target_parameter:"apical_cytos_strain",formula:"-1"}),O.some(I=>I.id==="inm_extend_basal")||O.push({type:"parameter_change",id:"inm_extend_basal",name:"INM: Extend Basal",start:0,end:0,period:0,probability:"1",prereq:"inm_contract_apical",cell_cycle_phase:CellCyclePhase.G2,target_parameter:"basal_cytos_strain",formula:"2"});for(const I of Object.values(R.cell_types)){const F=I;F.events_v2&&(F.events_v2=F.events_v2.filter(z=>z.id!=="inm_contract_apical"&&z.id!=="inm_extend_basal"))}return R}function ensureV1_3_0(_){return needsV1_3_0Migration(_)?(console.log("[Migration] Converting EHT params from v1.2.0 to v1.3.0"),migrateV1_2_0toV1_3_0(_)):_}function needsV1_4_0Migration(_){const R=_.metadata?.version;return R==="1.4.0"?!1:R==="1.3.0"}function migrateV1_3_0toV1_4_0(_){const R=structuredClone(_);R.metadata.version="1.4.0";const O=R.general.default_events??[],I=O.findIndex(F=>F.id==="default_increase_R_hard");I!==-1&&O.splice(I,1),O.some(F=>F.id==="default_cell_cycle_reset")||(O.push({type:"special",id:"default_cell_cycle_reset",name:"Cell Cycle Reset",start:0,end:1/0,period:0,probability:"1",prereq:null,cell_cycle_phase:CellCyclePhase.Division,special_name:"cell_cycle_reset"}),R.general.default_events=O),O.some(F=>F.id==="default_stiffness_apical_apical_g2")||O.push({type:"parameter_change",id:"default_stiffness_apical_apical_g2",name:"Apical Stiffness (G2)",start:0,end:0,period:0,probability:"1",prereq:null,cell_cycle_phase:CellCyclePhase.G2,target_parameter:"stiffness_apical_apical",formula:"stiffness_apical_apical_div"}),O.some(F=>F.id==="default_R_hard_mitosis")||O.push({type:"parameter_change",id:"default_R_hard_mitosis",name:"R_hard (Mitosis)",start:0,end:0,period:0,probability:"1",prereq:null,cell_cycle_phase:CellCyclePhase.Mitosis,target_parameter:"R_hard",formula:"R_hard_div"});for(const[F,z]of Object.entries(R.cell_types)){const L=z;F==="emt"&&(L.skip_default_events||(L.skip_default_events=[]),L.skip_default_events.includes("default_cell_division")||L.skip_default_events.push("default_cell_division"))}return R}function ensureV1_4_0(_){return needsV1_4_0Migration(_)?(console.log("[Migration] Converting EHT params from v1.3.0 to v1.4.0"),migrateV1_3_0toV1_4_0(_)):_}function needsV1_5_0Migration(_){const R=_.metadata?.version;return R==="1.5.0"?!1:R==="1.4.0"}function migrateEvents(_){for(const R of _)if(R.start===1/0&&R.end===1/0&&(R.start=0,R.end=-1),R.type==="special"){const O=R;O.special_name==="apical_constriction"&&(O.special_name="lose_apical_interface",O.id==="apical_constriction"&&(O.id="lose_apical_interface"),O.name==="Apical Constriction"&&(O.name="Lose Apical Interface"))}}function migrateV1_4_0toV1_5_0(_){const R=structuredClone(_);R.metadata.version="1.5.0",R.general.default_events&&migrateEvents(R.general.default_events);for(const O of Object.values(R.cell_types)){const I=O;I.events_v2&&migrateEvents(I.events_v2)}return R}function ensureV1_5_0(_){return needsV1_5_0Migration(_)?(console.log("[Migration] Converting EHT params from v1.4.0 to v1.5.0"),migrateV1_4_0toV1_5_0(_)):_}function customMerge(_,R){if(R===void 0)return _;if(Array.isArray(R))return R;if(!(isPlainObject$2(_)&&isPlainObject$2(R)))return R}function mergeWithDefaults(_,R=DEFAULT_EHT_PARAMS){const O=structuredClone(R);_.general&&mergeWith(O.general,_.general,customMerge),_.cell_prop&&mergeWith(O.cell_prop,_.cell_prop,customMerge);const F=(_.metadata?.version??"1.0.0")<"1.1.0";if(_.cell_types){O.cell_types={};for(const[z,L]of Object.entries(_.cell_types)){const U=structuredClone(DEFAULT_CONTROL_CELL);F&&delete U.events_v2,mergeWith(U,L,customMerge),O.cell_types[z]=U}}return ensureV1_5_0(ensureV1_4_0(ensureV1_3_0(ensureV1_2_0(ensureV1_1_0(O)))))}function setNestedValue(_,R,O){const I=R.split(".");let F=_;for(let z=0;z<I.length-1;z++){const L=I[z];(!(L in F)||typeof F[L]!="object"||F[L]===null)&&(F[L]={}),F=F[L]}F[I[I.length-1]]=O}const DEFAULT_TIME_SAMPLES={start:0,end:48,step:12};function restoreInfinityValues(_){if(_===null||typeof _!="object"){if(typeof _=="number"){if(_>=1e308)return 1/0;if(_<=-1e308)return-1/0}return _}if(Array.isArray(_))return _.map(restoreInfinityValues);const R={};for(const[O,I]of Object.entries(_))R[O]=restoreInfinityValues(I);return R}function parseToml(_){const R=TOML.parse(_);return restoreInfinityValues(R)}function parseTomlWithDefaults(_){const R=parseToml(_);return mergeWithDefaults(R)}function toToml(_){return TOML.stringify(structuredClone(_))}function parseSimulationConfigToml(_){const R=restoreInfinityValues(TOML.parse(_));let O=[];R.parameter_ranges&&Array.isArray(R.parameter_ranges)&&(O=R.parameter_ranges.map(q=>{const G=q;return{path:String(G.path??""),min:Number(G.min??0),max:Number(G.max??0),steps:Number(G.steps??1)}}),delete R.parameter_ranges);let I={...DEFAULT_TIME_SAMPLES};if(R.time_samples&&typeof R.time_samples=="object"){const q=R.time_samples;I={start:Number(q.start??DEFAULT_TIME_SAMPLES.start),end:Number(q.end??DEFAULT_TIME_SAMPLES.end),step:Number(q.step??DEFAULT_TIME_SAMPLES.step)},delete R.time_samples}const F=R.seeds_per_config,z=typeof F=="number"&&!Number.isNaN(F)?F:1;return"seeds_per_config"in R&&delete R.seeds_per_config,{params:mergeWithDefaults(R),parameterRanges:O,timeSamples:I,seedsPerConfig:z}}function toSimulationConfigToml(_){const R=structuredClone(_.params);return R.parameter_ranges=_.parameterRanges??[],R.time_samples=_.timeSamples??DEFAULT_TIME_SAMPLES,R.seeds_per_config=_.seedsPerConfig??1,TOML.stringify(R)}const DEFAULT_GLOBAL_EVENTS=[{type:"special",id:"default_cell_division",name:"Cell Division",start:0,end:1/0,period:0,probability:"p_div_out",prereq:null,cell_cycle_phase:CellCyclePhase.Division,special_name:"cell_division"},{type:"special",id:"default_cell_cycle_reset",name:"Cell Cycle Reset",start:0,end:1/0,period:0,probability:"1",prereq:null,cell_cycle_phase:CellCyclePhase.Division,special_name:"cell_cycle_reset"},{type:"parameter_change",id:"default_stiffness_apical_apical_g2",name:"Apical Stiffness (G2)",start:0,end:1/0,period:0,probability:"1",prereq:null,cell_cycle_phase:CellCyclePhase.G2,target_parameter:"stiffness_apical_apical",formula:"stiffness_apical_apical_div"},{type:"parameter_change",id:"default_R_hard_mitosis",name:"R_hard (Mitosis)",start:0,end:1/0,period:0,probability:"1",prereq:null,cell_cycle_phase:CellCyclePhase.Mitosis,target_parameter:"R_hard",formula:"R_hard_div"},{type:"parameter_change",id:"inm_contract_apical",name:"INM: Contract Apical",start:0,end:1/0,period:0,probability:"INM",prereq:null,cell_cycle_phase:CellCyclePhase.G2,target_parameter:"apical_cytos_strain",formula:"-1"},{type:"parameter_change",id:"inm_extend_basal",name:"INM: Extend Basal",start:0,end:1/0,period:0,probability:"1",prereq:"inm_contract_apical",cell_cycle_phase:CellCyclePhase.G2,target_parameter:"basal_cytos_strain",formula:"2"}],DEFAULT_CONTROL_EVENTS_V2=[],DEFAULT_EMT_EVENTS_V2=[{type:"special",id:"lose_apical",name:"Lose Apical Adhesion",start:3,end:1/0,period:0,probability:"0.7",prereq:null,cell_cycle_phase:CellCyclePhase.Any,special_name:"lose_apical_adhesion"},{type:"special",id:"lose_basal",name:"Lose Basal Adhesion",start:3,end:1/0,period:0,probability:"0.7",prereq:null,cell_cycle_phase:CellCyclePhase.Any,special_name:"lose_basal_adhesion"}],DEFAULT_CONTROL_CELL={N_init:25,location:"",R_hard:.4,R_hard_div:.7,R_soft:1.2,color:{r:30,g:100,b:20},dur_G2:.5,dur_mitosis:.5,k_apical_junction:5,k_cytos:5,max_cytoskeleton_length:.5,run:0,running_speed:1,running_mode:0,stiffness_apical_apical:2,stiffness_apical_apical_div:4,stiffness_nuclei_apical:3,stiffness_nuclei_basal:2,stiffness_repulsion:2,stiffness_straightness:5,lifespan_start:5.5,lifespan_end:6.5,INM:0,hetero:!1,events:{time_A_start:1/0,time_A_end:1/0,time_B_start:1/0,time_B_end:1/0,time_S_start:1/0,time_S_end:1/0,time_P_start:1/0,time_P_end:1/0,time_AC_start:1/0,time_AC_end:1/0},events_v2:DEFAULT_CONTROL_EVENTS_V2,apical_cytos_strain_init:0,basal_cytos_strain_init:0,skip_default_events:[],diffusion:.2,basal_damping_ratio:1,max_basal_junction_dist:4,cytos_init:0,basal_membrane_repulsion:0,apical_junction_init:0},DEFAULT_EMT_CELL={N_init:5,location:"bottom",R_hard:.4,R_hard_div:.7,R_soft:1.2,color:{r:128,g:0,b:128},dur_G2:.5,dur_mitosis:.5,k_apical_junction:1,k_cytos:5,max_cytoskeleton_length:.5,run:0,running_speed:1,running_mode:0,stiffness_apical_apical:2,stiffness_apical_apical_div:4,stiffness_nuclei_apical:3,stiffness_nuclei_basal:2,stiffness_repulsion:4,stiffness_straightness:2,lifespan_start:5.5,lifespan_end:6.5,INM:0,hetero:!0,events:{time_A_start:3,time_A_end:12,time_B_start:3,time_B_end:12,time_S_start:1/0,time_S_end:1/0,time_P_start:1/0,time_P_end:1/0,time_AC_start:1/0,time_AC_end:1/0},events_v2:DEFAULT_EMT_EVENTS_V2,apical_cytos_strain_init:0,basal_cytos_strain_init:0,skip_default_events:["default_cell_division"],diffusion:.2,basal_damping_ratio:1,max_basal_junction_dist:4,cytos_init:0,basal_membrane_repulsion:0,apical_junction_init:0},DEFAULT_EHT_PARAMS={metadata:{model:"EHT",version:"1.5.0"},general:{t_end:48,dt:.1,random_seed:0,full_circle:!0,w_init:80,h_init:5,mu:.2,n_substeps:30,alg_dt:.01,w_screen:50,h_screen:25,p_div_out:1,perimeter:105,aspect_ratio:1,hard_sphere_nuclei:!0,default_events:DEFAULT_GLOBAL_EVENTS},cell_prop:{},cell_types:{control:DEFAULT_CONTROL_CELL,emt:DEFAULT_EMT_CELL}};function mergePresetWithDefaults(_){const R=cloneDeep(DEFAULT_EHT_PARAMS);_.general&&(R.general={...R.general,..._.general}),_.metadata&&(R.metadata={...R.metadata,..._.metadata});const I=(_.metadata?.version??"1.0.0")<"1.1.0";if(_.cell_types){for(const F of Object.keys(R.cell_types))F in _.cell_types||delete R.cell_types[F];for(const[F,z]of Object.entries(_.cell_types))if(z){const L=R.cell_types[F]??cloneDeep(DEFAULT_CONTROL_CELL);I&&delete L.events_v2,R.cell_types[F]=merge$2(L,z)}}return ensureV1_5_0(ensureV1_4_0(ensureV1_3_0(ensureV1_2_0(ensureV1_1_0(R)))))}let presetModules={};try{presetModules=Object.assign({"./presets/apical-constriction.toml":__vite_glob_0_0,"./presets/apical-interface-loss.toml":__vite_glob_0_1,"./presets/chick-embryo-control.toml":__vite_glob_0_2,"./presets/chick-embryo-single-emt.toml":__vite_glob_0_3,"./presets/cuboidal.toml":__vite_glob_0_4,"./presets/eric/TOML files for fish-like set-up (90 m)/F - AB simulation_config.toml":__vite_glob_0_5,"./presets/eric/TOML files for fish-like set-up (90 m)/F - ApC AB simulation_config.toml":__vite_glob_0_6,"./presets/eric/TOML files for fish-like set-up (90 m)/F - ApC BA simulation_config.toml":__vite_glob_0_7,"./presets/eric/TOML files for fish-like set-up (90 m)/F - B ApC A simulation_config.toml":__vite_glob_0_8,"./presets/eric/TOML files for fish-like set-up (90 m)/F - B simulation_config.toml":__vite_glob_0_9,"./presets/eric/TOML files for fish-like set-up (90 m)/F - BA simulation_config.toml":__vite_glob_0_10,"./presets/eric/TOML files for fish-like set-up (90 m)/F- A simulation_config.toml":__vite_glob_0_11,"./presets/eric/TOML files for mammalian-like set-up (200 m)/200 A simulation_config.toml":__vite_glob_0_12,"./presets/eric/TOML files for mammalian-like set-up (200 m)/200 AB simulation_config.toml":__vite_glob_0_13,"./presets/eric/TOML files for mammalian-like set-up (200 m)/200 B simulation_config.toml":__vite_glob_0_14,"./presets/eric/TOML files for mammalian-like set-up (200 m)/200 BA simulation_config.toml":__vite_glob_0_15,"./presets/eric/TOML files for mammalian-like set-up (200 m)/Aspect ratio 3/200 AR3 A simulation_config.toml":__vite_glob_0_16,"./presets/eric/TOML files for mammalian-like set-up (200 m)/Aspect ratio 3/200 AR3 AB simulation_config.toml":__vite_glob_0_17,"./presets/eric/TOML files for mammalian-like set-up (200 m)/Aspect ratio 3/200 AR3 B simulation_config.toml":__vite_glob_0_18,"./presets/eric/TOML files for mammalian-like set-up (200 m)/Aspect ratio 3/200 AR3 BA simulation_config.toml":__vite_glob_0_19,"./presets/eric/TOML files for mammalian-like set-up (900m)/900 A simulation_config.toml":__vite_glob_0_20,"./presets/eric/TOML files for mammalian-like set-up (900m)/900 AB simulation_config.toml":__vite_glob_0_21,"./presets/eric/TOML files for mammalian-like set-up (900m)/900 B simulation_config.toml":__vite_glob_0_22,"./presets/eric/TOML files for mammalian-like set-up (900m)/900 BA simulation_config.toml":__vite_glob_0_23,"./presets/eric/TOML files for mammalian-like set-up (900m)/Aspect ratio 3/900 AR3 A simulation_config.toml":__vite_glob_0_24,"./presets/eric/TOML files for mammalian-like set-up (900m)/Aspect ratio 3/900 AR3 AB simulation_config.toml":__vite_glob_0_25,"./presets/eric/TOML files for mammalian-like set-up (900m)/Aspect ratio 3/900 AR3 B simulation_config.toml":__vite_glob_0_26,"./presets/eric/TOML files for mammalian-like set-up (900m)/Aspect ratio 3/900 AR3 BA simulation_config.toml":__vite_glob_0_27,"./presets/gastrulation-control.toml":__vite_glob_0_28,"./presets/oscillating-cell-size.toml":__vite_glob_0_29,"./presets/pseudo-stratified.toml":__vite_glob_0_30})}catch{presetModules={}}function parsePresets(){const _=[];for(const[R,O]of Object.entries(presetModules)){const F=R.replace(/^\.\/presets\//,"").split("/"),z=F.pop()?.replace(".toml","")??"",L=F.join("/"),U=(L?L+"/":"")+z.replace(/-/g,"_").replace(/\s+/g,"_");try{const q=restoreInfinityValues(TOML.parse(O)),G=q.label??z;delete q.label,_.push({key:U,label:G,group:L,params:q})}catch(q){console.error(`Failed to parse preset ${R}:`,q)}}return _.sort((R,O)=>R.group.localeCompare(O.group)||R.label.localeCompare(O.label))}const loadedPresets=parsePresets(),EHT_PRESETS=[{key:"default",label:"Default",group:"",create:()=>cloneDeep(DEFAULT_EHT_PARAMS)},...loadedPresets.map(_=>({key:_.key,label:_.label,group:_.group,create:()=>mergePresetWithDefaults(_.params)}))],DEFAULT_EVENT_PRESETS={cell_division:{type:"special",id:"default_cell_division",name:"Cell Division",start:0,end:1/0,period:0,probability:"1",prereq:null,cell_cycle_phase:CellCyclePhase.Division,special_name:"cell_division"},cell_cycle_reset:{type:"special",id:"default_cell_cycle_reset",name:"Cell Cycle Reset",start:0,end:1/0,period:0,probability:"1",prereq:null,cell_cycle_phase:CellCyclePhase.Division,special_name:"cell_cycle_reset"},change_apical_strain:{type:"parameter_change",id:"default_change_apical_strain",name:"Change Apical Strain",start:0,end:1/0,period:0,probability:"1",prereq:null,cell_cycle_phase:CellCyclePhase.Any,target_parameter:"apical_cytos_strain",formula:"-1"},change_basal_strain:{type:"parameter_change",id:"default_change_basal_strain",name:"Change Basal Strain",start:0,end:1/0,period:0,probability:"1",prereq:null,cell_cycle_phase:CellCyclePhase.Any,target_parameter:"basal_cytos_strain",formula:"-1"},stiffness_apical_apical_g2:{type:"parameter_change",id:"default_stiffness_apical_apical_g2",name:"Apical Stiffness (G2)",start:0,end:1/0,period:0,probability:"1",prereq:null,cell_cycle_phase:CellCyclePhase.G2,target_parameter:"stiffness_apical_apical",formula:"stiffness_apical_apical_div"},R_hard_mitosis:{type:"parameter_change",id:"default_R_hard_mitosis",name:"R_hard (Mitosis)",start:0,end:1/0,period:0,probability:"1",prereq:null,cell_cycle_phase:CellCyclePhase.Mitosis,target_parameter:"R_hard",formula:"R_hard_div"},inm_contract_apical:{type:"parameter_change",id:"inm_contract_apical",name:"INM: Contract Apical",start:0,end:1/0,period:0,probability:"INM",prereq:null,cell_cycle_phase:CellCyclePhase.G2,target_parameter:"apical_cytos_strain",formula:"-1"},inm_extend_basal:{type:"parameter_change",id:"inm_extend_basal",name:"INM: Extend Basal",start:0,end:1/0,period:0,probability:"1",prereq:"inm_contract_apical",cell_cycle_phase:CellCyclePhase.G2,target_parameter:"basal_cytos_strain",formula:"2"}};function projectOntoSegment(_,R,O){const I=O.sub(R),F=_.sub(R),z=I.magSq();if(z<1e-10)return R;const L=Math.max(0,Math.min(1,F.dot(I)/z));return R.add(I.scale(L))}function getBasalGeometry$1(_){if(typeof _.basalGeometry?.projectPoint=="function")return _.basalGeometry;const R=_.geometry?.curvature_1??_.basalGeometry?.curvature_1??0,O=_.geometry?.curvature_2??_.basalGeometry?.curvature_2??0;return createBasalGeometry(R,O,360)}function projectOntoApicalStrip(_,R){const{cells:O,ap_links:I}=R;if(I.length===0)return _;const F=I[0],z=Vector2.from(O[F.l].A),L=Vector2.from(O[F.r].A);let U=projectOntoSegment(_,z,L),q=_.distSq(U);for(let G=1;G<I.length;G++){const V=I[G],Z=Vector2.from(O[V.l].A),Y=Vector2.from(O[V.r].A),W=projectOntoSegment(_,Z,Y),ee=_.distSq(W);ee<q&&(q=ee,U=W)}return U}function projectOntoBasalCurve(_,R){return getBasalGeometry$1(R).projectPoint(_)}function getBasalGeometry(_){if(typeof _.basalGeometry?.getArcLength=="function")return _.basalGeometry;const R=_.geometry?.curvature_1??_.basalGeometry?.curvature_1??0,O=_.geometry?.curvature_2??_.basalGeometry?.curvature_2??0;return createBasalGeometry(R,O,360)}function identifyBoundaryCells(_,R){const O=new Set;if(R.general.full_circle)return O;const I=getBasalGeometry(_),F=[];for(let L=0;L<_.cells.length;L++){const U=_.cells[L];if(U.typeIndex==="control"){const q=Vector2.from(U.B),G=I.getArcLength(q);F.push({index:L,arcLength:G})}}if(F.length===0)return O;F.sort((L,U)=>L.arcLength-U.arcLength);const z=Math.ceil(F.length*.1);for(let L=0;L<z&&L<F.length;L++)O.add(F[L].index);for(let L=Math.max(0,F.length-z);L<F.length;L++)O.add(F[L].index);return O}function computeCellMetrics(_,R){const O=_.cells,I=[],F=identifyBoundaryCells(_,R);let z=1/0;for(let U=0;U<O.length;U++){const q=O[U],G=Vector2.from(q.pos),V=Vector2.from(q.A),Z=Vector2.from(q.B),Y=projectOntoApicalStrip(G,_),W=projectOntoBasalCurve(G,_),ee=V.dist(G),ne=Z.dist(G),ie=G.dist(Y),se=G.dist(W),oe=F.has(U),le=q.typeIndex==="control"&&oe?"control_boundary":q.typeIndex;q.typeIndex==="control"&&!oe&&se<z&&(z=se);const ue=Y.sub(W),ce=ue.magSq();let fe=.5;ce>1e-10&&(fe=G.sub(W).dot(ue)/ce);const me=fe<0,he=fe>1;I.push({cell:q,X:G,A:V,B:Z,a:Y,b:W,AX:ee,BX:ne,ax:ie,bx:se,x:fe,below_basal:me,above_apical:he,below_control_cells:!1,isBoundary:oe,effectiveType:le})}const L=z<1/0;for(const U of I)U.below_control_cells=L&&U.bx<z;return I}function generateCellGroups(_){const R=Object.keys(_.cell_types),O=[];O.push("all");for(const I of R)O.push(I);return O}function filterByGroup(_,R){return R==="all"?_.filter(O=>O.effectiveType!=="control_boundary"):_.filter(O=>O.effectiveType===R)}function aggregateMetrics(_){if(_.length===0)return{ab_distance:0,AX:0,BX:0,ax:0,bx:0,x:0,below_basal:0,above_apical:0,below_control_cells:0};const R=I=>I.reduce((F,z)=>F+z,0)/I.length,O=I=>I.filter(F=>F).length/I.length;return{ab_distance:R(_.map(I=>I.A.dist(I.B))),AX:R(_.map(I=>I.AX)),BX:R(_.map(I=>I.BX)),ax:R(_.map(I=>I.ax)),bx:R(_.map(I=>I.bx)),x:R(_.map(I=>I.x)),below_basal:O(_.map(I=>I.below_basal)),above_apical:O(_.map(I=>I.above_apical)),below_control_cells:O(_.map(I=>I.below_control_cells))}}function computeEHTStatistics(_,R){const O={};if(!R){const I=_.cells.length>0?_.cells.reduce((F,z)=>F+Vector2.from(z.A).dist(Vector2.from(z.B)),0)/_.cells.length:0;return O.ab_distance_all=I,O}try{const I=computeCellMetrics(_,R),F=generateCellGroups(R);for(const z of F){const L=filterByGroup(I,z),U=aggregateMetrics(L);for(const[q,G]of Object.entries(U))O[`${q}_${z}`]=G}}catch(I){console.error("Failed to compute EHT statistics",I)}return O}function exportCellMetrics(_,R){return computeCellMetrics(_,R).map((I,F)=>({cell_id:F,cell_type:I.effectiveType,X_x:I.X.x,X_y:I.X.y,A_x:I.A.x,A_y:I.A.y,B_x:I.B.x,B_y:I.B.y,a_x:I.a.x,a_y:I.a.y,b_x:I.b.x,b_y:I.b.y,ab_distance:I.A.dist(I.B),AX:I.AX,BX:I.BX,ax:I.ax,bx:I.bx,x:I.x,below_basal:I.below_basal?1:0,above_apical:I.above_apical?1:0,below_control_cells:I.below_control_cells?1:0}))}function generateEHTStatistics(_){const R=[],O=generateCellGroups(_),I=[{id:"ab_distance",label:"AB Distance",description:"Apical-basal distance"},{id:"AX",label:"AX Distance",description:"Distance from A to X"},{id:"BX",label:"BX Distance",description:"Distance from B to X"},{id:"ax",label:"ax Distance",description:"Distance from X to apical projection"},{id:"bx",label:"bx Distance",description:"Distance from X to basal projection"},{id:"x",label:"x Position",description:"Position on basal-apical scale (0-1)"},{id:"below_basal",label:"Below Basal",description:"Fraction of cells below basal layer"},{id:"above_apical",label:"Above Apical",description:"Fraction of cells above apical layer"},{id:"below_control_cells",label:"Below Control Cells",description:"Fraction of cells below the lowest control cell"}];for(const F of O)for(const z of I)R.push({id:`${z.id}_${F}`,label:`${z.label} (${F})`,description:`${z.description} for ${F} cells`,compute:L=>computeEHTStatistics(L,_)[`${z.id}_${F}`]||0});return R}generateEHTStatistics({metadata:{},general:{},cell_prop:{},cell_types:{control:{}}});function generateEHTBatchParameters(_){const R=[];R.push({path:"general.t_end",label:"t_end (End time)"},{path:"general.dt",label:"dt (Time step)"},{path:"general.random_seed",label:"Random seed",isInteger:!0},{path:"general.w_init",label:"w_init (Initial width)"},{path:"general.h_init",label:"h_init (Initial height)"},{path:"general.mu",label:"mu (Friction)"},{path:"general.n_substeps",label:"n_substeps",isInteger:!0},{path:"general.alg_dt",label:"alg_dt (Algorithm dt)"},{path:"general.p_div_out",label:"p_div_out (Division probability)"},{path:"general.perimeter",label:"Perimeter"},{path:"general.aspect_ratio",label:"Aspect ratio"});for(const[O,I]of Object.entries(_.cell_types)){const F=`cell_types.${O}`,z=O;R.push({path:`${F}.N_init`,label:`${z}: N_init`,isInteger:!0},{path:`${F}.location`,label:`${z}: location`},{path:`${F}.R_hard`,label:`${z}: R_hard`},{path:`${F}.R_hard_div`,label:`${z}: R_hard_div`},{path:`${F}.R_soft`,label:`${z}: R_soft`},{path:`${F}.dur_G2`,label:`${z}: dur_G2`},{path:`${F}.dur_mitosis`,label:`${z}: dur_mitosis`},{path:`${F}.k_apical_junction`,label:`${z}: k_apical_junction`},{path:`${F}.k_cytos`,label:`${z}: k_cytos`},{path:`${F}.max_cytoskeleton_length`,label:`${z}: max_cytos_length`},{path:`${F}.run`,label:`${z}: run probability`},{path:`${F}.running_speed`,label:`${z}: running_speed`},{path:`${F}.running_mode`,label:`${z}: running_mode`,isInteger:!0},{path:`${F}.stiffness_apical_apical`,label:`${z}: stiff_apical_apical`},{path:`${F}.stiffness_apical_apical_div`,label:`${z}: stiff_apical_apical_div`},{path:`${F}.stiffness_nuclei_apical`,label:`${z}: stiff_nuclei_apical`},{path:`${F}.stiffness_nuclei_basal`,label:`${z}: stiff_nuclei_basal`},{path:`${F}.stiffness_repulsion`,label:`${z}: stiff_repulsion`},{path:`${F}.stiffness_straightness`,label:`${z}: stiff_straightness`},{path:`${F}.lifespan_start`,label:`${z}: lifespan start`},{path:`${F}.lifespan_end`,label:`${z}: lifespan end`},{path:`${F}.INM`,label:`${z}: INM probability`},{path:`${F}.diffusion`,label:`${z}: diffusion`},{path:`${F}.basal_damping_ratio`,label:`${z}: basal_damping_ratio`},{path:`${F}.max_basal_junction_dist`,label:`${z}: max_basal_junction_dist`},{path:`${F}.cytos_init`,label:`${z}: cytos_init`},{path:`${F}.basal_membrane_repulsion`,label:`${z}: basal_membrane_repulsion`},{path:`${F}.apical_junction_init`,label:`${z}: apical_junction_init`},{path:`${F}.apical_cytos_strain_init`,label:`${z}: apical_cytos_strain_init`},{path:`${F}.basal_cytos_strain_init`,label:`${z}: basal_cytos_strain_init`},{path:`${F}.events.time_A_start`,label:`${z}: time_A start`},{path:`${F}.events.time_A_end`,label:`${z}: time_A end`},{path:`${F}.events.time_B_start`,label:`${z}: time_B start`},{path:`${F}.events.time_B_end`,label:`${z}: time_B end`},{path:`${F}.events.time_S_start`,label:`${z}: time_S start`},{path:`${F}.events.time_S_end`,label:`${z}: time_S end`},{path:`${F}.events.time_P_start`,label:`${z}: time_P start`},{path:`${F}.events.time_P_end`,label:`${z}: time_P end`})}return R}const EHT_BATCH_PARAMETERS=[{path:"general.perimeter",label:"Perimeter"},{path:"general.aspect_ratio",label:"Aspect ratio"},{path:"general.random_seed",label:"Random seed",isInteger:!0},{path:"general.t_end",label:"t_end (End time)"},{path:"cell_types.control.diffusion",label:"control: diffusion"},{path:"cell_types.control.max_basal_junction_dist",label:"control: max_basal_junction_dist"},{path:"cell_types.control.apical_junction_init",label:"control: apical_junction_init"}];function r$1(_){var R,O,I="";if(typeof _=="string"||typeof _=="number")I+=_;else if(typeof _=="object")if(Array.isArray(_)){var F=_.length;for(R=0;R<F;R++)_[R]&&(O=r$1(_[R]))&&(I&&(I+=" "),I+=O)}else for(O in _)_[O]&&(I&&(I+=" "),I+=O);return I}function clsx(){for(var _,R,O=0,I="",F=arguments.length;O<F;O++)(_=arguments[O])&&(R=r$1(_))&&(I&&(I+=" "),I+=R);return I}const concatArrays=(_,R)=>{const O=new Array(_.length+R.length);for(let I=0;I<_.length;I++)O[I]=_[I];for(let I=0;I<R.length;I++)O[_.length+I]=R[I];return O},createClassValidatorObject=(_,R)=>({classGroupId:_,validator:R}),createClassPartObject=(_=new Map,R=null,O)=>({nextPart:_,validators:R,classGroupId:O}),CLASS_PART_SEPARATOR="-",EMPTY_CONFLICTS=[],ARBITRARY_PROPERTY_PREFIX="arbitrary..",createClassGroupUtils=_=>{const R=createClassMap(_),{conflictingClassGroups:O,conflictingClassGroupModifiers:I}=_;return{getClassGroupId:L=>{if(L.startsWith("[")&&L.endsWith("]"))return getGroupIdForArbitraryProperty(L);const U=L.split(CLASS_PART_SEPARATOR),q=U[0]===""&&U.length>1?1:0;return getGroupRecursive(U,q,R)},getConflictingClassGroupIds:(L,U)=>{if(U){const q=I[L],G=O[L];return q?G?concatArrays(G,q):q:G||EMPTY_CONFLICTS}return O[L]||EMPTY_CONFLICTS}}},getGroupRecursive=(_,R,O)=>{if(_.length-R===0)return O.classGroupId;const F=_[R],z=O.nextPart.get(F);if(z){const G=getGroupRecursive(_,R+1,z);if(G)return G}const L=O.validators;if(L===null)return;const U=R===0?_.join(CLASS_PART_SEPARATOR):_.slice(R).join(CLASS_PART_SEPARATOR),q=L.length;for(let G=0;G<q;G++){const V=L[G];if(V.validator(U))return V.classGroupId}},getGroupIdForArbitraryProperty=_=>_.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const R=_.slice(1,-1),O=R.indexOf(":"),I=R.slice(0,O);return I?ARBITRARY_PROPERTY_PREFIX+I:void 0})(),createClassMap=_=>{const{theme:R,classGroups:O}=_;return processClassGroups(O,R)},processClassGroups=(_,R)=>{const O=createClassPartObject();for(const I in _){const F=_[I];processClassesRecursively(F,O,I,R)}return O},processClassesRecursively=(_,R,O,I)=>{const F=_.length;for(let z=0;z<F;z++){const L=_[z];processClassDefinition(L,R,O,I)}},processClassDefinition=(_,R,O,I)=>{if(typeof _=="string"){processStringDefinition(_,R,O);return}if(typeof _=="function"){processFunctionDefinition(_,R,O,I);return}processObjectDefinition(_,R,O,I)},processStringDefinition=(_,R,O)=>{const I=_===""?R:getPart(R,_);I.classGroupId=O},processFunctionDefinition=(_,R,O,I)=>{if(isThemeGetter(_)){processClassesRecursively(_(I),R,O,I);return}R.validators===null&&(R.validators=[]),R.validators.push(createClassValidatorObject(O,_))},processObjectDefinition=(_,R,O,I)=>{const F=Object.entries(_),z=F.length;for(let L=0;L<z;L++){const[U,q]=F[L];processClassesRecursively(q,getPart(R,U),O,I)}},getPart=(_,R)=>{let O=_;const I=R.split(CLASS_PART_SEPARATOR),F=I.length;for(let z=0;z<F;z++){const L=I[z];let U=O.nextPart.get(L);U||(U=createClassPartObject(),O.nextPart.set(L,U)),O=U}return O},isThemeGetter=_=>"isThemeGetter"in _&&_.isThemeGetter===!0,createLruCache=_=>{if(_<1)return{get:()=>{},set:()=>{}};let R=0,O=Object.create(null),I=Object.create(null);const F=(z,L)=>{O[z]=L,R++,R>_&&(R=0,I=O,O=Object.create(null))};return{get(z){let L=O[z];if(L!==void 0)return L;if((L=I[z])!==void 0)return F(z,L),L},set(z,L){z in O?O[z]=L:F(z,L)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",EMPTY_MODIFIERS=[],createResultObject=(_,R,O,I,F)=>({modifiers:_,hasImportantModifier:R,baseClassName:O,maybePostfixModifierPosition:I,isExternal:F}),createParseClassName=_=>{const{prefix:R,experimentalParseClassName:O}=_;let I=F=>{const z=[];let L=0,U=0,q=0,G;const V=F.length;for(let ne=0;ne<V;ne++){const ie=F[ne];if(L===0&&U===0){if(ie===MODIFIER_SEPARATOR){z.push(F.slice(q,ne)),q=ne+1;continue}if(ie==="/"){G=ne;continue}}ie==="["?L++:ie==="]"?L--:ie==="("?U++:ie===")"&&U--}const Z=z.length===0?F:F.slice(q);let Y=Z,W=!1;Z.endsWith(IMPORTANT_MODIFIER)?(Y=Z.slice(0,-1),W=!0):Z.startsWith(IMPORTANT_MODIFIER)&&(Y=Z.slice(1),W=!0);const ee=G&&G>q?G-q:void 0;return createResultObject(z,W,Y,ee)};if(R){const F=R+MODIFIER_SEPARATOR,z=I;I=L=>L.startsWith(F)?z(L.slice(F.length)):createResultObject(EMPTY_MODIFIERS,!1,L,void 0,!0)}if(O){const F=I;I=z=>O({className:z,parseClassName:F})}return I},createSortModifiers=_=>{const R=new Map;return _.orderSensitiveModifiers.forEach((O,I)=>{R.set(O,1e6+I)}),O=>{const I=[];let F=[];for(let z=0;z<O.length;z++){const L=O[z],U=L[0]==="[",q=R.has(L);U||q?(F.length>0&&(F.sort(),I.push(...F),F=[]),I.push(L)):F.push(L)}return F.length>0&&(F.sort(),I.push(...F)),I}},createConfigUtils=_=>({cache:createLruCache(_.cacheSize),parseClassName:createParseClassName(_),sortModifiers:createSortModifiers(_),...createClassGroupUtils(_)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(_,R)=>{const{parseClassName:O,getClassGroupId:I,getConflictingClassGroupIds:F,sortModifiers:z}=R,L=[],U=_.trim().split(SPLIT_CLASSES_REGEX);let q="";for(let G=U.length-1;G>=0;G-=1){const V=U[G],{isExternal:Z,modifiers:Y,hasImportantModifier:W,baseClassName:ee,maybePostfixModifierPosition:ne}=O(V);if(Z){q=V+(q.length>0?" "+q:q);continue}let ie=!!ne,se=I(ie?ee.substring(0,ne):ee);if(!se){if(!ie){q=V+(q.length>0?" "+q:q);continue}if(se=I(ee),!se){q=V+(q.length>0?" "+q:q);continue}ie=!1}const oe=Y.length===0?"":Y.length===1?Y[0]:z(Y).join(":"),le=W?oe+IMPORTANT_MODIFIER:oe,ue=le+se;if(L.indexOf(ue)>-1)continue;L.push(ue);const ce=F(se,ie);for(let fe=0;fe<ce.length;++fe){const me=ce[fe];L.push(le+me)}q=V+(q.length>0?" "+q:q)}return q},twJoin=(..._)=>{let R=0,O,I,F="";for(;R<_.length;)(O=_[R++])&&(I=toValue(O))&&(F&&(F+=" "),F+=I);return F},toValue=_=>{if(typeof _=="string")return _;let R,O="";for(let I=0;I<_.length;I++)_[I]&&(R=toValue(_[I]))&&(O&&(O+=" "),O+=R);return O},createTailwindMerge=(_,...R)=>{let O,I,F,z;const L=q=>{const G=R.reduce((V,Z)=>Z(V),_());return O=createConfigUtils(G),I=O.cache.get,F=O.cache.set,z=U,U(q)},U=q=>{const G=I(q);if(G)return G;const V=mergeClassList(q,O);return F(q,V),V};return z=L,(...q)=>z(twJoin(...q))},fallbackThemeArr=[],fromTheme=_=>{const R=O=>O[_]||fallbackThemeArr;return R.isThemeGetter=!0,R},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction$1=_=>fractionRegex.test(_),isNumber$2=_=>!!_&&!Number.isNaN(Number(_)),isInteger$2=_=>!!_&&Number.isInteger(Number(_)),isPercent=_=>_.endsWith("%")&&isNumber$2(_.slice(0,-1)),isTshirtSize=_=>tshirtUnitRegex.test(_),isAny=()=>!0,isLengthOnly=_=>lengthUnitRegex.test(_)&&!colorFunctionRegex.test(_),isNever=()=>!1,isShadow=_=>shadowRegex.test(_),isImage=_=>imageRegex.test(_),isAnyNonArbitrary=_=>!isArbitraryValue(_)&&!isArbitraryVariable(_),isArbitrarySize=_=>getIsArbitraryValue(_,isLabelSize,isNever),isArbitraryValue=_=>arbitraryValueRegex.test(_),isArbitraryLength=_=>getIsArbitraryValue(_,isLabelLength,isLengthOnly),isArbitraryNumber=_=>getIsArbitraryValue(_,isLabelNumber,isNumber$2),isArbitraryPosition=_=>getIsArbitraryValue(_,isLabelPosition,isNever),isArbitraryImage=_=>getIsArbitraryValue(_,isLabelImage,isImage),isArbitraryShadow=_=>getIsArbitraryValue(_,isLabelShadow,isShadow),isArbitraryVariable=_=>arbitraryVariableRegex.test(_),isArbitraryVariableLength=_=>getIsArbitraryVariable(_,isLabelLength),isArbitraryVariableFamilyName=_=>getIsArbitraryVariable(_,isLabelFamilyName),isArbitraryVariablePosition=_=>getIsArbitraryVariable(_,isLabelPosition),isArbitraryVariableSize=_=>getIsArbitraryVariable(_,isLabelSize),isArbitraryVariableImage=_=>getIsArbitraryVariable(_,isLabelImage),isArbitraryVariableShadow=_=>getIsArbitraryVariable(_,isLabelShadow,!0),getIsArbitraryValue=(_,R,O)=>{const I=arbitraryValueRegex.exec(_);return I?I[1]?R(I[1]):O(I[2]):!1},getIsArbitraryVariable=(_,R,O=!1)=>{const I=arbitraryVariableRegex.exec(_);return I?I[1]?R(I[1]):O:!1},isLabelPosition=_=>_==="position"||_==="percentage",isLabelImage=_=>_==="image"||_==="url",isLabelSize=_=>_==="length"||_==="size"||_==="bg-size",isLabelLength=_=>_==="length",isLabelNumber=_=>_==="number",isLabelFamilyName=_=>_==="family-name",isLabelShadow=_=>_==="shadow",getDefaultConfig=()=>{const _=fromTheme("color"),R=fromTheme("font"),O=fromTheme("text"),I=fromTheme("font-weight"),F=fromTheme("tracking"),z=fromTheme("leading"),L=fromTheme("breakpoint"),U=fromTheme("container"),q=fromTheme("spacing"),G=fromTheme("radius"),V=fromTheme("shadow"),Z=fromTheme("inset-shadow"),Y=fromTheme("text-shadow"),W=fromTheme("drop-shadow"),ee=fromTheme("blur"),ne=fromTheme("perspective"),ie=fromTheme("aspect"),se=fromTheme("ease"),oe=fromTheme("animate"),le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ce=()=>[...ue(),isArbitraryVariable,isArbitraryValue],fe=()=>["auto","hidden","clip","visible","scroll"],me=()=>["auto","contain","none"],he=()=>[isArbitraryVariable,isArbitraryValue,q],pe=()=>[isFraction$1,"full","auto",...he()],ge=()=>[isInteger$2,"none","subgrid",isArbitraryVariable,isArbitraryValue],_e=()=>["auto",{span:["full",isInteger$2,isArbitraryVariable,isArbitraryValue]},isInteger$2,isArbitraryVariable,isArbitraryValue],ye=()=>[isInteger$2,"auto",isArbitraryVariable,isArbitraryValue],we=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],ve=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$e=()=>["start","end","center","stretch","center-safe","end-safe"],be=()=>["auto",...he()],Ce=()=>[isFraction$1,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...he()],De=()=>[_,isArbitraryVariable,isArbitraryValue],Ne=()=>[...ue(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],Me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Te=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],Re=()=>[isPercent,isArbitraryVariableLength,isArbitraryLength],Se=()=>["","none","full",G,isArbitraryVariable,isArbitraryValue],ze=()=>["",isNumber$2,isArbitraryVariableLength,isArbitraryLength],Pe=()=>["solid","dashed","dotted","double"],Qe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ze=()=>[isNumber$2,isPercent,isArbitraryVariablePosition,isArbitraryPosition],Le=()=>["","none",ee,isArbitraryVariable,isArbitraryValue],ke=()=>["none",isNumber$2,isArbitraryVariable,isArbitraryValue],Ge=()=>["none",isNumber$2,isArbitraryVariable,isArbitraryValue],Ke=()=>[isNumber$2,isArbitraryVariable,isArbitraryValue],He=()=>[isFraction$1,"full",...he()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber$2],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction$1,isArbitraryValue,isArbitraryVariable,ie]}],container:["container"],columns:[{columns:[isNumber$2,isArbitraryValue,isArbitraryVariable,U]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ce()}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:me()}],"overscroll-x":[{"overscroll-x":me()}],"overscroll-y":[{"overscroll-y":me()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:pe()}],"inset-x":[{"inset-x":pe()}],"inset-y":[{"inset-y":pe()}],start:[{start:pe()}],end:[{end:pe()}],top:[{top:pe()}],right:[{right:pe()}],bottom:[{bottom:pe()}],left:[{left:pe()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger$2,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction$1,"full","auto",U,...he()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber$2,isFraction$1,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger$2,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":ge()}],"col-start-end":[{col:_e()}],"col-start":[{"col-start":ye()}],"col-end":[{"col-end":ye()}],"grid-rows":[{"grid-rows":ge()}],"row-start-end":[{row:_e()}],"row-start":[{"row-start":ye()}],"row-end":[{"row-end":ye()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":we()}],"auto-rows":[{"auto-rows":we()}],gap:[{gap:he()}],"gap-x":[{"gap-x":he()}],"gap-y":[{"gap-y":he()}],"justify-content":[{justify:[...ve(),"normal"]}],"justify-items":[{"justify-items":[...$e(),"normal"]}],"justify-self":[{"justify-self":["auto",...$e()]}],"align-content":[{content:["normal",...ve()]}],"align-items":[{items:[...$e(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$e(),{baseline:["","last"]}]}],"place-content":[{"place-content":ve()}],"place-items":[{"place-items":[...$e(),"baseline"]}],"place-self":[{"place-self":["auto",...$e()]}],p:[{p:he()}],px:[{px:he()}],py:[{py:he()}],ps:[{ps:he()}],pe:[{pe:he()}],pt:[{pt:he()}],pr:[{pr:he()}],pb:[{pb:he()}],pl:[{pl:he()}],m:[{m:be()}],mx:[{mx:be()}],my:[{my:be()}],ms:[{ms:be()}],me:[{me:be()}],mt:[{mt:be()}],mr:[{mr:be()}],mb:[{mb:be()}],ml:[{ml:be()}],"space-x":[{"space-x":he()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":he()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ce()}],w:[{w:[U,"screen",...Ce()]}],"min-w":[{"min-w":[U,"screen","none",...Ce()]}],"max-w":[{"max-w":[U,"screen","none","prose",{screen:[L]},...Ce()]}],h:[{h:["screen","lh",...Ce()]}],"min-h":[{"min-h":["screen","lh","none",...Ce()]}],"max-h":[{"max-h":["screen","lh",...Ce()]}],"font-size":[{text:["base",O,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[I,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,R]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[F,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber$2,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[z,...he()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:De()}],"text-color":[{text:De()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber$2,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:De()}],"underline-offset":[{"underline-offset":[isNumber$2,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:he()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ne()}],"bg-repeat":[{bg:Me()}],"bg-size":[{bg:Te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger$2,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger$2,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:De()}],"gradient-from-pos":[{from:Re()}],"gradient-via-pos":[{via:Re()}],"gradient-to-pos":[{to:Re()}],"gradient-from":[{from:De()}],"gradient-via":[{via:De()}],"gradient-to":[{to:De()}],rounded:[{rounded:Se()}],"rounded-s":[{"rounded-s":Se()}],"rounded-e":[{"rounded-e":Se()}],"rounded-t":[{"rounded-t":Se()}],"rounded-r":[{"rounded-r":Se()}],"rounded-b":[{"rounded-b":Se()}],"rounded-l":[{"rounded-l":Se()}],"rounded-ss":[{"rounded-ss":Se()}],"rounded-se":[{"rounded-se":Se()}],"rounded-ee":[{"rounded-ee":Se()}],"rounded-es":[{"rounded-es":Se()}],"rounded-tl":[{"rounded-tl":Se()}],"rounded-tr":[{"rounded-tr":Se()}],"rounded-br":[{"rounded-br":Se()}],"rounded-bl":[{"rounded-bl":Se()}],"border-w":[{border:ze()}],"border-w-x":[{"border-x":ze()}],"border-w-y":[{"border-y":ze()}],"border-w-s":[{"border-s":ze()}],"border-w-e":[{"border-e":ze()}],"border-w-t":[{"border-t":ze()}],"border-w-r":[{"border-r":ze()}],"border-w-b":[{"border-b":ze()}],"border-w-l":[{"border-l":ze()}],"divide-x":[{"divide-x":ze()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ze()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Pe(),"hidden","none"]}],"divide-style":[{divide:[...Pe(),"hidden","none"]}],"border-color":[{border:De()}],"border-color-x":[{"border-x":De()}],"border-color-y":[{"border-y":De()}],"border-color-s":[{"border-s":De()}],"border-color-e":[{"border-e":De()}],"border-color-t":[{"border-t":De()}],"border-color-r":[{"border-r":De()}],"border-color-b":[{"border-b":De()}],"border-color-l":[{"border-l":De()}],"divide-color":[{divide:De()}],"outline-style":[{outline:[...Pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber$2,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:De()}],shadow:[{shadow:["","none",V,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:De()}],"inset-shadow":[{"inset-shadow":["none",Z,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":De()}],"ring-w":[{ring:ze()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:De()}],"ring-offset-w":[{"ring-offset":[isNumber$2,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":De()}],"inset-ring-w":[{"inset-ring":ze()}],"inset-ring-color":[{"inset-ring":De()}],"text-shadow":[{"text-shadow":["none",Y,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":De()}],opacity:[{opacity:[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...Qe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Qe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber$2]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ze()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ze()}],"mask-image-linear-from-color":[{"mask-linear-from":De()}],"mask-image-linear-to-color":[{"mask-linear-to":De()}],"mask-image-t-from-pos":[{"mask-t-from":Ze()}],"mask-image-t-to-pos":[{"mask-t-to":Ze()}],"mask-image-t-from-color":[{"mask-t-from":De()}],"mask-image-t-to-color":[{"mask-t-to":De()}],"mask-image-r-from-pos":[{"mask-r-from":Ze()}],"mask-image-r-to-pos":[{"mask-r-to":Ze()}],"mask-image-r-from-color":[{"mask-r-from":De()}],"mask-image-r-to-color":[{"mask-r-to":De()}],"mask-image-b-from-pos":[{"mask-b-from":Ze()}],"mask-image-b-to-pos":[{"mask-b-to":Ze()}],"mask-image-b-from-color":[{"mask-b-from":De()}],"mask-image-b-to-color":[{"mask-b-to":De()}],"mask-image-l-from-pos":[{"mask-l-from":Ze()}],"mask-image-l-to-pos":[{"mask-l-to":Ze()}],"mask-image-l-from-color":[{"mask-l-from":De()}],"mask-image-l-to-color":[{"mask-l-to":De()}],"mask-image-x-from-pos":[{"mask-x-from":Ze()}],"mask-image-x-to-pos":[{"mask-x-to":Ze()}],"mask-image-x-from-color":[{"mask-x-from":De()}],"mask-image-x-to-color":[{"mask-x-to":De()}],"mask-image-y-from-pos":[{"mask-y-from":Ze()}],"mask-image-y-to-pos":[{"mask-y-to":Ze()}],"mask-image-y-from-color":[{"mask-y-from":De()}],"mask-image-y-to-color":[{"mask-y-to":De()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ze()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ze()}],"mask-image-radial-from-color":[{"mask-radial-from":De()}],"mask-image-radial-to-color":[{"mask-radial-to":De()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ue()}],"mask-image-conic-pos":[{"mask-conic":[isNumber$2]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ze()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ze()}],"mask-image-conic-from-color":[{"mask-conic-from":De()}],"mask-image-conic-to-color":[{"mask-conic-to":De()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ne()}],"mask-repeat":[{mask:Me()}],"mask-size":[{mask:Te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:Le()}],brightness:[{brightness:[isNumber$2,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",W,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":De()}],grayscale:[{grayscale:["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber$2,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber$2,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":Le()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":he()}],"border-spacing-x":[{"border-spacing-x":he()}],"border-spacing-y":[{"border-spacing-y":he()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber$2,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",se,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber$2,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",oe,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[ne,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":ce()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:Ge()}],"scale-x":[{"scale-x":Ge()}],"scale-y":[{"scale-y":Ge()}],"scale-z":[{"scale-z":Ge()}],"scale-3d":["scale-3d"],skew:[{skew:Ke()}],"skew-x":[{"skew-x":Ke()}],"skew-y":[{"skew-y":Ke()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:ce()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:De()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:De()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":he()}],"scroll-mx":[{"scroll-mx":he()}],"scroll-my":[{"scroll-my":he()}],"scroll-ms":[{"scroll-ms":he()}],"scroll-me":[{"scroll-me":he()}],"scroll-mt":[{"scroll-mt":he()}],"scroll-mr":[{"scroll-mr":he()}],"scroll-mb":[{"scroll-mb":he()}],"scroll-ml":[{"scroll-ml":he()}],"scroll-p":[{"scroll-p":he()}],"scroll-px":[{"scroll-px":he()}],"scroll-py":[{"scroll-py":he()}],"scroll-ps":[{"scroll-ps":he()}],"scroll-pe":[{"scroll-pe":he()}],"scroll-pt":[{"scroll-pt":he()}],"scroll-pr":[{"scroll-pr":he()}],"scroll-pb":[{"scroll-pb":he()}],"scroll-pl":[{"scroll-pl":he()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...De()]}],"stroke-w":[{stroke:[isNumber$2,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...De()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(..._){return twMerge(clsx(_))}const Input=reactExports.forwardRef(({className:_,type:R,...O},I)=>jsxRuntimeExports.jsx("input",{type:R,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",_),ref:I,...O}));Input.displayName="Input";var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);function setRef(_,R){if(typeof _=="function")return _(R);_!=null&&(_.current=R)}function composeRefs(..._){return R=>{let O=!1;const I=_.map(F=>{const z=setRef(F,R);return!O&&typeof z=="function"&&(O=!0),z});if(O)return()=>{for(let F=0;F<I.length;F++){const z=I[F];typeof z=="function"?z():setRef(_[F],null)}}}}function useComposedRefs(..._){return reactExports.useCallback(composeRefs(..._),_)}var REACT_LAZY_TYPE=Symbol.for("react.lazy"),use=React4[" use ".trim().toString()];function isPromiseLike(_){return typeof _=="object"&&_!==null&&"then"in _}function isLazyComponent(_){return _!=null&&typeof _=="object"&&"$$typeof"in _&&_.$$typeof===REACT_LAZY_TYPE&&"_payload"in _&&isPromiseLike(_._payload)}function createSlot$5(_){const R=createSlotClone$5(_),O=reactExports.forwardRef((I,F)=>{let{children:z,...L}=I;isLazyComponent(z)&&typeof use=="function"&&(z=use(z._payload));const U=reactExports.Children.toArray(z),q=U.find(isSlottable$5);if(q){const G=q.props.children,V=U.map(Z=>Z===q?reactExports.Children.count(G)>1?reactExports.Children.only(null):reactExports.isValidElement(G)?G.props.children:null:Z);return jsxRuntimeExports.jsx(R,{...L,ref:F,children:reactExports.isValidElement(G)?reactExports.cloneElement(G,void 0,V):null})}return jsxRuntimeExports.jsx(R,{...L,ref:F,children:z})});return O.displayName=`${_}.Slot`,O}var Slot$3=createSlot$5("Slot");function createSlotClone$5(_){const R=reactExports.forwardRef((O,I)=>{let{children:F,...z}=O;if(isLazyComponent(F)&&typeof use=="function"&&(F=use(F._payload)),reactExports.isValidElement(F)){const L=getElementRef$6(F),U=mergeProps$5(z,F.props);return F.type!==reactExports.Fragment&&(U.ref=I?composeRefs(I,L):L),reactExports.cloneElement(F,U)}return reactExports.Children.count(F)>1?reactExports.Children.only(null):null});return R.displayName=`${_}.SlotClone`,R}var SLOTTABLE_IDENTIFIER$5=Symbol("radix.slottable");function isSlottable$5(_){return reactExports.isValidElement(_)&&typeof _.type=="function"&&"__radixId"in _.type&&_.type.__radixId===SLOTTABLE_IDENTIFIER$5}function mergeProps$5(_,R){const O={...R};for(const I in R){const F=_[I],z=R[I];/^on[A-Z]/.test(I)?F&&z?O[I]=(...U)=>{const q=z(...U);return F(...U),q}:F&&(O[I]=F):I==="style"?O[I]={...F,...z}:I==="className"&&(O[I]=[F,z].filter(Boolean).join(" "))}return{..._,...O}}function getElementRef$6(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,O=R&&"isReactWarning"in R&&R.isReactWarning;return O?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,O=R&&"isReactWarning"in R&&R.isReactWarning,O?_.props.ref:_.props.ref||_.ref)}var NODES$3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$3=NODES$3.reduce((_,R)=>{const O=createSlot$5(`Primitive.${R}`),I=reactExports.forwardRef((F,z)=>{const{asChild:L,...U}=F,q=L?O:R;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(q,{...U,ref:z})});return I.displayName=`Primitive.${R}`,{..._,[R]:I}},{}),NAME$4="Label",Label$2=reactExports.forwardRef((_,R)=>jsxRuntimeExports.jsx(Primitive$3.label,{..._,ref:R,onMouseDown:O=>{O.target.closest("button, input, select, textarea")||(_.onMouseDown?.(O),!O.defaultPrevented&&O.detail>1&&O.preventDefault())}}));Label$2.displayName=NAME$4;var Root$8=Label$2;const falsyToString=_=>typeof _=="boolean"?`${_}`:_===0?"0":_,cx=clsx,cva=(_,R)=>O=>{var I;if(R?.variants==null)return cx(_,O?.class,O?.className);const{variants:F,defaultVariants:z}=R,L=Object.keys(F).map(G=>{const V=O?.[G],Z=z?.[G];if(V===null)return null;const Y=falsyToString(V)||falsyToString(Z);return F[G][Y]}),U=O&&Object.entries(O).reduce((G,V)=>{let[Z,Y]=V;return Y===void 0||(G[Z]=Y),G},{}),q=R==null||(I=R.compoundVariants)===null||I===void 0?void 0:I.reduce((G,V)=>{let{class:Z,className:Y,...W}=V;return Object.entries(W).every(ee=>{let[ne,ie]=ee;return Array.isArray(ie)?ie.includes({...z,...U}[ne]):{...z,...U}[ne]===ie})?[...G,Z,Y]:G},[]);return cx(_,L,q,O?.class,O?.className)},labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label$1=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx(Root$8,{ref:O,className:cn(labelVariants(),_),...R}));Label$1.displayName=Root$8.displayName;function composeEventHandlers$1(_,R,{checkForDefaultPrevented:O=!0}={}){return function(F){if(_?.(F),O===!1||!F.defaultPrevented)return R?.(F)}}function createContext2(_,R){const O=reactExports.createContext(R),I=z=>{const{children:L,...U}=z,q=reactExports.useMemo(()=>U,Object.values(U));return jsxRuntimeExports.jsx(O.Provider,{value:q,children:L})};I.displayName=_+"Provider";function F(z){const L=reactExports.useContext(O);if(L)return L;if(R!==void 0)return R;throw new Error(`\`${z}\` must be used within \`${_}\``)}return[I,F]}function createContextScope$1(_,R=[]){let O=[];function I(z,L){const U=reactExports.createContext(L),q=O.length;O=[...O,L];const G=Z=>{const{scope:Y,children:W,...ee}=Z,ne=Y?.[_]?.[q]||U,ie=reactExports.useMemo(()=>ee,Object.values(ee));return jsxRuntimeExports.jsx(ne.Provider,{value:ie,children:W})};G.displayName=z+"Provider";function V(Z,Y){const W=Y?.[_]?.[q]||U,ee=reactExports.useContext(W);if(ee)return ee;if(L!==void 0)return L;throw new Error(`\`${Z}\` must be used within \`${z}\``)}return[G,V]}const F=()=>{const z=O.map(L=>reactExports.createContext(L));return function(U){const q=U?.[_]||z;return reactExports.useMemo(()=>({[`__scope${_}`]:{...U,[_]:q}}),[U,q])}};return F.scopeName=_,[I,composeContextScopes$1(F,...R)]}function composeContextScopes$1(..._){const R=_[0];if(_.length===1)return R;const O=()=>{const I=_.map(F=>({useScope:F(),scopeName:F.scopeName}));return function(z){const L=I.reduce((U,{useScope:q,scopeName:G})=>{const Z=q(z)[`__scope${G}`];return{...U,...Z}},{});return reactExports.useMemo(()=>({[`__scope${R.scopeName}`]:L}),[L])}};return O.scopeName=R.scopeName,O}function createSlot$4(_){const R=createSlotClone$4(_),O=reactExports.forwardRef((I,F)=>{const{children:z,...L}=I,U=reactExports.Children.toArray(z),q=U.find(isSlottable$4);if(q){const G=q.props.children,V=U.map(Z=>Z===q?reactExports.Children.count(G)>1?reactExports.Children.only(null):reactExports.isValidElement(G)?G.props.children:null:Z);return jsxRuntimeExports.jsx(R,{...L,ref:F,children:reactExports.isValidElement(G)?reactExports.cloneElement(G,void 0,V):null})}return jsxRuntimeExports.jsx(R,{...L,ref:F,children:z})});return O.displayName=`${_}.Slot`,O}function createSlotClone$4(_){const R=reactExports.forwardRef((O,I)=>{const{children:F,...z}=O;if(reactExports.isValidElement(F)){const L=getElementRef$5(F),U=mergeProps$4(z,F.props);return F.type!==reactExports.Fragment&&(U.ref=I?composeRefs(I,L):L),reactExports.cloneElement(F,U)}return reactExports.Children.count(F)>1?reactExports.Children.only(null):null});return R.displayName=`${_}.SlotClone`,R}var SLOTTABLE_IDENTIFIER$4=Symbol("radix.slottable");function isSlottable$4(_){return reactExports.isValidElement(_)&&typeof _.type=="function"&&"__radixId"in _.type&&_.type.__radixId===SLOTTABLE_IDENTIFIER$4}function mergeProps$4(_,R){const O={...R};for(const I in R){const F=_[I],z=R[I];/^on[A-Z]/.test(I)?F&&z?O[I]=(...U)=>{const q=z(...U);return F(...U),q}:F&&(O[I]=F):I==="style"?O[I]={...F,...z}:I==="className"&&(O[I]=[F,z].filter(Boolean).join(" "))}return{..._,...O}}function getElementRef$5(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,O=R&&"isReactWarning"in R&&R.isReactWarning;return O?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,O=R&&"isReactWarning"in R&&R.isReactWarning,O?_.props.ref:_.props.ref||_.ref)}var NODES$2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$2=NODES$2.reduce((_,R)=>{const O=createSlot$4(`Primitive.${R}`),I=reactExports.forwardRef((F,z)=>{const{asChild:L,...U}=F,q=L?O:R;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(q,{...U,ref:z})});return I.displayName=`Primitive.${R}`,{..._,[R]:I}},{});function dispatchDiscreteCustomEvent(_,R){_&&reactDomExports.flushSync(()=>_.dispatchEvent(R))}function useCallbackRef$1(_){const R=reactExports.useRef(_);return reactExports.useEffect(()=>{R.current=_}),reactExports.useMemo(()=>(...O)=>R.current?.(...O),[])}function useEscapeKeydown(_,R=globalThis?.document){const O=useCallbackRef$1(_);reactExports.useEffect(()=>{const I=F=>{F.key==="Escape"&&O(F)};return R.addEventListener("keydown",I,{capture:!0}),()=>R.removeEventListener("keydown",I,{capture:!0})},[O,R])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((_,R)=>{const{disableOutsidePointerEvents:O=!1,onEscapeKeyDown:I,onPointerDownOutside:F,onFocusOutside:z,onInteractOutside:L,onDismiss:U,...q}=_,G=reactExports.useContext(DismissableLayerContext),[V,Z]=reactExports.useState(null),Y=V?.ownerDocument??globalThis?.document,[,W]=reactExports.useState({}),ee=useComposedRefs(R,me=>Z(me)),ne=Array.from(G.layers),[ie]=[...G.layersWithOutsidePointerEventsDisabled].slice(-1),se=ne.indexOf(ie),oe=V?ne.indexOf(V):-1,le=G.layersWithOutsidePointerEventsDisabled.size>0,ue=oe>=se,ce=usePointerDownOutside(me=>{const he=me.target,pe=[...G.branches].some(ge=>ge.contains(he));!ue||pe||(F?.(me),L?.(me),me.defaultPrevented||U?.())},Y),fe=useFocusOutside(me=>{const he=me.target;[...G.branches].some(ge=>ge.contains(he))||(z?.(me),L?.(me),me.defaultPrevented||U?.())},Y);return useEscapeKeydown(me=>{oe===G.layers.size-1&&(I?.(me),!me.defaultPrevented&&U&&(me.preventDefault(),U()))},Y),reactExports.useEffect(()=>{if(V)return O&&(G.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=Y.body.style.pointerEvents,Y.body.style.pointerEvents="none"),G.layersWithOutsidePointerEventsDisabled.add(V)),G.layers.add(V),dispatchUpdate(),()=>{O&&G.layersWithOutsidePointerEventsDisabled.size===1&&(Y.body.style.pointerEvents=originalBodyPointerEvents)}},[V,Y,O,G]),reactExports.useEffect(()=>()=>{V&&(G.layers.delete(V),G.layersWithOutsidePointerEventsDisabled.delete(V),dispatchUpdate())},[V,G]),reactExports.useEffect(()=>{const me=()=>W({});return document.addEventListener(CONTEXT_UPDATE,me),()=>document.removeEventListener(CONTEXT_UPDATE,me)},[]),jsxRuntimeExports.jsx(Primitive$2.div,{...q,ref:ee,style:{pointerEvents:le?ue?"auto":"none":void 0,..._.style},onFocusCapture:composeEventHandlers$1(_.onFocusCapture,fe.onFocusCapture),onBlurCapture:composeEventHandlers$1(_.onBlurCapture,fe.onBlurCapture),onPointerDownCapture:composeEventHandlers$1(_.onPointerDownCapture,ce.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((_,R)=>{const O=reactExports.useContext(DismissableLayerContext),I=reactExports.useRef(null),F=useComposedRefs(R,I);return reactExports.useEffect(()=>{const z=I.current;if(z)return O.branches.add(z),()=>{O.branches.delete(z)}},[O.branches]),jsxRuntimeExports.jsx(Primitive$2.div,{..._,ref:F})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(_,R=globalThis?.document){const O=useCallbackRef$1(_),I=reactExports.useRef(!1),F=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const z=U=>{if(U.target&&!I.current){let q=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,O,G,{discrete:!0})};const G={originalEvent:U};U.pointerType==="touch"?(R.removeEventListener("click",F.current),F.current=q,R.addEventListener("click",F.current,{once:!0})):q()}else R.removeEventListener("click",F.current);I.current=!1},L=window.setTimeout(()=>{R.addEventListener("pointerdown",z)},0);return()=>{window.clearTimeout(L),R.removeEventListener("pointerdown",z),R.removeEventListener("click",F.current)}},[R,O]),{onPointerDownCapture:()=>I.current=!0}}function useFocusOutside(_,R=globalThis?.document){const O=useCallbackRef$1(_),I=reactExports.useRef(!1);return reactExports.useEffect(()=>{const F=z=>{z.target&&!I.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,O,{originalEvent:z},{discrete:!1})};return R.addEventListener("focusin",F),()=>R.removeEventListener("focusin",F)},[R,O]),{onFocusCapture:()=>I.current=!0,onBlurCapture:()=>I.current=!1}}function dispatchUpdate(){const _=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(_)}function handleAndDispatchCustomEvent(_,R,O,{discrete:I}){const F=O.originalEvent.target,z=new CustomEvent(_,{bubbles:!1,cancelable:!0,detail:O});R&&F.addEventListener(_,R,{once:!0}),I?dispatchDiscreteCustomEvent(F,z):F.dispatchEvent(z)}var count$4=0;function useFocusGuards(){reactExports.useEffect(()=>{const _=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",_[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",_[1]??createFocusGuard()),count$4++,()=>{count$4===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(R=>R.remove()),count$4--}},[])}function createFocusGuard(){const _=document.createElement("span");return _.setAttribute("data-radix-focus-guard",""),_.tabIndex=0,_.style.outline="none",_.style.opacity="0",_.style.position="fixed",_.style.pointerEvents="none",_}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((_,R)=>{const{loop:O=!1,trapped:I=!1,onMountAutoFocus:F,onUnmountAutoFocus:z,...L}=_,[U,q]=reactExports.useState(null),G=useCallbackRef$1(F),V=useCallbackRef$1(z),Z=reactExports.useRef(null),Y=useComposedRefs(R,ne=>q(ne)),W=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(I){let ne=function(le){if(W.paused||!U)return;const ue=le.target;U.contains(ue)?Z.current=ue:focus(Z.current,{select:!0})},ie=function(le){if(W.paused||!U)return;const ue=le.relatedTarget;ue!==null&&(U.contains(ue)||focus(Z.current,{select:!0}))},se=function(le){if(document.activeElement===document.body)for(const ce of le)ce.removedNodes.length>0&&focus(U)};document.addEventListener("focusin",ne),document.addEventListener("focusout",ie);const oe=new MutationObserver(se);return U&&oe.observe(U,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",ne),document.removeEventListener("focusout",ie),oe.disconnect()}}},[I,U,W.paused]),reactExports.useEffect(()=>{if(U){focusScopesStack.add(W);const ne=document.activeElement;if(!U.contains(ne)){const se=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);U.addEventListener(AUTOFOCUS_ON_MOUNT,G),U.dispatchEvent(se),se.defaultPrevented||(focusFirst$1(removeLinks(getTabbableCandidates(U)),{select:!0}),document.activeElement===ne&&focus(U))}return()=>{U.removeEventListener(AUTOFOCUS_ON_MOUNT,G),setTimeout(()=>{const se=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);U.addEventListener(AUTOFOCUS_ON_UNMOUNT,V),U.dispatchEvent(se),se.defaultPrevented||focus(ne??document.body,{select:!0}),U.removeEventListener(AUTOFOCUS_ON_UNMOUNT,V),focusScopesStack.remove(W)},0)}}},[U,G,V,W]);const ee=reactExports.useCallback(ne=>{if(!O&&!I||W.paused)return;const ie=ne.key==="Tab"&&!ne.altKey&&!ne.ctrlKey&&!ne.metaKey,se=document.activeElement;if(ie&&se){const oe=ne.currentTarget,[le,ue]=getTabbableEdges(oe);le&&ue?!ne.shiftKey&&se===ue?(ne.preventDefault(),O&&focus(le,{select:!0})):ne.shiftKey&&se===le&&(ne.preventDefault(),O&&focus(ue,{select:!0})):se===oe&&ne.preventDefault()}},[O,I,W.paused]);return jsxRuntimeExports.jsx(Primitive$2.div,{tabIndex:-1,...L,ref:Y,onKeyDown:ee})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$1(_,{select:R=!1}={}){const O=document.activeElement;for(const I of _)if(focus(I,{select:R}),document.activeElement!==O)return}function getTabbableEdges(_){const R=getTabbableCandidates(_),O=findVisible(R,_),I=findVisible(R.reverse(),_);return[O,I]}function getTabbableCandidates(_){const R=[],O=document.createTreeWalker(_,NodeFilter.SHOW_ELEMENT,{acceptNode:I=>{const F=I.tagName==="INPUT"&&I.type==="hidden";return I.disabled||I.hidden||F?NodeFilter.FILTER_SKIP:I.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;O.nextNode();)R.push(O.currentNode);return R}function findVisible(_,R){for(const O of _)if(!isHidden(O,{upTo:R}))return O}function isHidden(_,{upTo:R}){if(getComputedStyle(_).visibility==="hidden")return!0;for(;_;){if(R!==void 0&&_===R)return!1;if(getComputedStyle(_).display==="none")return!0;_=_.parentElement}return!1}function isSelectableInput(_){return _ instanceof HTMLInputElement&&"select"in _}function focus(_,{select:R=!1}={}){if(_&&_.focus){const O=document.activeElement;_.focus({preventScroll:!0}),_!==O&&isSelectableInput(_)&&R&&_.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let _=[];return{add(R){const O=_[0];R!==O&&O?.pause(),_=arrayRemove(_,R),_.unshift(R)},remove(R){_=arrayRemove(_,R),_[0]?.resume()}}}function arrayRemove(_,R){const O=[..._],I=O.indexOf(R);return I!==-1&&O.splice(I,1),O}function removeLinks(_){return _.filter(R=>R.tagName!=="A")}var useLayoutEffect2=globalThis?.document?reactExports.useLayoutEffect:()=>{},useReactId=React4[" useId ".trim().toString()]||(()=>{}),count$3=0;function useId(_){const[R,O]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{O(I=>I??String(count$3++))},[_]),R?`radix-${R}`:""}const sides=["top","right","bottom","left"],min$4=Math.min,max$3=Math.max,round$3=Math.round,floor$2=Math.floor,createCoords=_=>({x:_,y:_}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$2(_,R,O){return max$3(_,min$4(R,O))}function evaluate$1(_,R){return typeof _=="function"?_(R):_}function getSide(_){return _.split("-")[0]}function getAlignment(_){return _.split("-")[1]}function getOppositeAxis(_){return _==="x"?"y":"x"}function getAxisLength(_){return _==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(_){return yAxisSides.has(getSide(_))?"y":"x"}function getAlignmentAxis(_){return getOppositeAxis(getSideAxis(_))}function getAlignmentSides(_,R,O){O===void 0&&(O=!1);const I=getAlignment(_),F=getAlignmentAxis(_),z=getAxisLength(F);let L=F==="x"?I===(O?"end":"start")?"right":"left":I==="start"?"bottom":"top";return R.reference[z]>R.floating[z]&&(L=getOppositePlacement(L)),[L,getOppositePlacement(L)]}function getExpandedPlacements(_){const R=getOppositePlacement(_);return[getOppositeAlignmentPlacement(_),R,getOppositeAlignmentPlacement(R)]}function getOppositeAlignmentPlacement(_){return _.replace(/start|end/g,R=>oppositeAlignmentMap[R])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(_,R,O){switch(_){case"top":case"bottom":return O?R?rlPlacement:lrPlacement:R?lrPlacement:rlPlacement;case"left":case"right":return R?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(_,R,O,I){const F=getAlignment(_);let z=getSideList(getSide(_),O==="start",I);return F&&(z=z.map(L=>L+"-"+F),R&&(z=z.concat(z.map(getOppositeAlignmentPlacement)))),z}function getOppositePlacement(_){return _.replace(/left|right|bottom|top/g,R=>oppositeSideMap[R])}function expandPaddingObject(_){return{top:0,right:0,bottom:0,left:0,..._}}function getPaddingObject(_){return typeof _!="number"?expandPaddingObject(_):{top:_,right:_,bottom:_,left:_}}function rectToClientRect(_){const{x:R,y:O,width:I,height:F}=_;return{width:I,height:F,top:O,left:R,right:R+I,bottom:O+F,x:R,y:O}}function computeCoordsFromPlacement(_,R,O){let{reference:I,floating:F}=_;const z=getSideAxis(R),L=getAlignmentAxis(R),U=getAxisLength(L),q=getSide(R),G=z==="y",V=I.x+I.width/2-F.width/2,Z=I.y+I.height/2-F.height/2,Y=I[U]/2-F[U]/2;let W;switch(q){case"top":W={x:V,y:I.y-F.height};break;case"bottom":W={x:V,y:I.y+I.height};break;case"right":W={x:I.x+I.width,y:Z};break;case"left":W={x:I.x-F.width,y:Z};break;default:W={x:I.x,y:I.y}}switch(getAlignment(R)){case"start":W[L]-=Y*(O&&G?-1:1);break;case"end":W[L]+=Y*(O&&G?-1:1);break}return W}const computePosition$1=async(_,R,O)=>{const{placement:I="bottom",strategy:F="absolute",middleware:z=[],platform:L}=O,U=z.filter(Boolean),q=await(L.isRTL==null?void 0:L.isRTL(R));let G=await L.getElementRects({reference:_,floating:R,strategy:F}),{x:V,y:Z}=computeCoordsFromPlacement(G,I,q),Y=I,W={},ee=0;for(let ne=0;ne<U.length;ne++){const{name:ie,fn:se}=U[ne],{x:oe,y:le,data:ue,reset:ce}=await se({x:V,y:Z,initialPlacement:I,placement:Y,strategy:F,middlewareData:W,rects:G,platform:L,elements:{reference:_,floating:R}});V=oe??V,Z=le??Z,W={...W,[ie]:{...W[ie],...ue}},ce&&ee<=50&&(ee++,typeof ce=="object"&&(ce.placement&&(Y=ce.placement),ce.rects&&(G=ce.rects===!0?await L.getElementRects({reference:_,floating:R,strategy:F}):ce.rects),{x:V,y:Z}=computeCoordsFromPlacement(G,Y,q)),ne=-1)}return{x:V,y:Z,placement:Y,strategy:F,middlewareData:W}};async function detectOverflow(_,R){var O;R===void 0&&(R={});const{x:I,y:F,platform:z,rects:L,elements:U,strategy:q}=_,{boundary:G="clippingAncestors",rootBoundary:V="viewport",elementContext:Z="floating",altBoundary:Y=!1,padding:W=0}=evaluate$1(R,_),ee=getPaddingObject(W),ie=U[Y?Z==="floating"?"reference":"floating":Z],se=rectToClientRect(await z.getClippingRect({element:(O=await(z.isElement==null?void 0:z.isElement(ie)))==null||O?ie:ie.contextElement||await(z.getDocumentElement==null?void 0:z.getDocumentElement(U.floating)),boundary:G,rootBoundary:V,strategy:q})),oe=Z==="floating"?{x:I,y:F,width:L.floating.width,height:L.floating.height}:L.reference,le=await(z.getOffsetParent==null?void 0:z.getOffsetParent(U.floating)),ue=await(z.isElement==null?void 0:z.isElement(le))?await(z.getScale==null?void 0:z.getScale(le))||{x:1,y:1}:{x:1,y:1},ce=rectToClientRect(z.convertOffsetParentRelativeRectToViewportRelativeRect?await z.convertOffsetParentRelativeRectToViewportRelativeRect({elements:U,rect:oe,offsetParent:le,strategy:q}):oe);return{top:(se.top-ce.top+ee.top)/ue.y,bottom:(ce.bottom-se.bottom+ee.bottom)/ue.y,left:(se.left-ce.left+ee.left)/ue.x,right:(ce.right-se.right+ee.right)/ue.x}}const arrow$3=_=>({name:"arrow",options:_,async fn(R){const{x:O,y:I,placement:F,rects:z,platform:L,elements:U,middlewareData:q}=R,{element:G,padding:V=0}=evaluate$1(_,R)||{};if(G==null)return{};const Z=getPaddingObject(V),Y={x:O,y:I},W=getAlignmentAxis(F),ee=getAxisLength(W),ne=await L.getDimensions(G),ie=W==="y",se=ie?"top":"left",oe=ie?"bottom":"right",le=ie?"clientHeight":"clientWidth",ue=z.reference[ee]+z.reference[W]-Y[W]-z.floating[ee],ce=Y[W]-z.reference[W],fe=await(L.getOffsetParent==null?void 0:L.getOffsetParent(G));let me=fe?fe[le]:0;(!me||!await(L.isElement==null?void 0:L.isElement(fe)))&&(me=U.floating[le]||z.floating[ee]);const he=ue/2-ce/2,pe=me/2-ne[ee]/2-1,ge=min$4(Z[se],pe),_e=min$4(Z[oe],pe),ye=ge,we=me-ne[ee]-_e,ve=me/2-ne[ee]/2+he,$e=clamp$2(ye,ve,we),be=!q.arrow&&getAlignment(F)!=null&&ve!==$e&&z.reference[ee]/2-(ve<ye?ge:_e)-ne[ee]/2<0,Ce=be?ve<ye?ve-ye:ve-we:0;return{[W]:Y[W]+Ce,data:{[W]:$e,centerOffset:ve-$e-Ce,...be&&{alignmentOffset:Ce}},reset:be}}}),flip$3=function(_){return _===void 0&&(_={}),{name:"flip",options:_,async fn(R){var O,I;const{placement:F,middlewareData:z,rects:L,initialPlacement:U,platform:q,elements:G}=R,{mainAxis:V=!0,crossAxis:Z=!0,fallbackPlacements:Y,fallbackStrategy:W="bestFit",fallbackAxisSideDirection:ee="none",flipAlignment:ne=!0,...ie}=evaluate$1(_,R);if((O=z.arrow)!=null&&O.alignmentOffset)return{};const se=getSide(F),oe=getSideAxis(U),le=getSide(U)===U,ue=await(q.isRTL==null?void 0:q.isRTL(G.floating)),ce=Y||(le||!ne?[getOppositePlacement(U)]:getExpandedPlacements(U)),fe=ee!=="none";!Y&&fe&&ce.push(...getOppositeAxisPlacements(U,ne,ee,ue));const me=[U,...ce],he=await detectOverflow(R,ie),pe=[];let ge=((I=z.flip)==null?void 0:I.overflows)||[];if(V&&pe.push(he[se]),Z){const ve=getAlignmentSides(F,L,ue);pe.push(he[ve[0]],he[ve[1]])}if(ge=[...ge,{placement:F,overflows:pe}],!pe.every(ve=>ve<=0)){var _e,ye;const ve=(((_e=z.flip)==null?void 0:_e.index)||0)+1,$e=me[ve];if($e&&(!(Z==="alignment"?oe!==getSideAxis($e):!1)||ge.every(De=>getSideAxis(De.placement)===oe?De.overflows[0]>0:!0)))return{data:{index:ve,overflows:ge},reset:{placement:$e}};let be=(ye=ge.filter(Ce=>Ce.overflows[0]<=0).sort((Ce,De)=>Ce.overflows[1]-De.overflows[1])[0])==null?void 0:ye.placement;if(!be)switch(W){case"bestFit":{var we;const Ce=(we=ge.filter(De=>{if(fe){const Ne=getSideAxis(De.placement);return Ne===oe||Ne==="y"}return!0}).map(De=>[De.placement,De.overflows.filter(Ne=>Ne>0).reduce((Ne,Me)=>Ne+Me,0)]).sort((De,Ne)=>De[1]-Ne[1])[0])==null?void 0:we[0];Ce&&(be=Ce);break}case"initialPlacement":be=U;break}if(F!==be)return{reset:{placement:be}}}return{}}}};function getSideOffsets(_,R){return{top:_.top-R.height,right:_.right-R.width,bottom:_.bottom-R.height,left:_.left-R.width}}function isAnySideFullyClipped(_){return sides.some(R=>_[R]>=0)}const hide$2=function(_){return _===void 0&&(_={}),{name:"hide",options:_,async fn(R){const{rects:O}=R,{strategy:I="referenceHidden",...F}=evaluate$1(_,R);switch(I){case"referenceHidden":{const z=await detectOverflow(R,{...F,elementContext:"reference"}),L=getSideOffsets(z,O.reference);return{data:{referenceHiddenOffsets:L,referenceHidden:isAnySideFullyClipped(L)}}}case"escaped":{const z=await detectOverflow(R,{...F,altBoundary:!0}),L=getSideOffsets(z,O.floating);return{data:{escapedOffsets:L,escaped:isAnySideFullyClipped(L)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(_,R){const{placement:O,platform:I,elements:F}=_,z=await(I.isRTL==null?void 0:I.isRTL(F.floating)),L=getSide(O),U=getAlignment(O),q=getSideAxis(O)==="y",G=originSides.has(L)?-1:1,V=z&&q?-1:1,Z=evaluate$1(R,_);let{mainAxis:Y,crossAxis:W,alignmentAxis:ee}=typeof Z=="number"?{mainAxis:Z,crossAxis:0,alignmentAxis:null}:{mainAxis:Z.mainAxis||0,crossAxis:Z.crossAxis||0,alignmentAxis:Z.alignmentAxis};return U&&typeof ee=="number"&&(W=U==="end"?ee*-1:ee),q?{x:W*V,y:Y*G}:{x:Y*G,y:W*V}}const offset$3=function(_){return _===void 0&&(_=0),{name:"offset",options:_,async fn(R){var O,I;const{x:F,y:z,placement:L,middlewareData:U}=R,q=await convertValueToCoords(R,_);return L===((O=U.offset)==null?void 0:O.placement)&&(I=U.arrow)!=null&&I.alignmentOffset?{}:{x:F+q.x,y:z+q.y,data:{...q,placement:L}}}}},shift$2=function(_){return _===void 0&&(_={}),{name:"shift",options:_,async fn(R){const{x:O,y:I,placement:F}=R,{mainAxis:z=!0,crossAxis:L=!1,limiter:U={fn:ie=>{let{x:se,y:oe}=ie;return{x:se,y:oe}}},...q}=evaluate$1(_,R),G={x:O,y:I},V=await detectOverflow(R,q),Z=getSideAxis(getSide(F)),Y=getOppositeAxis(Z);let W=G[Y],ee=G[Z];if(z){const ie=Y==="y"?"top":"left",se=Y==="y"?"bottom":"right",oe=W+V[ie],le=W-V[se];W=clamp$2(oe,W,le)}if(L){const ie=Z==="y"?"top":"left",se=Z==="y"?"bottom":"right",oe=ee+V[ie],le=ee-V[se];ee=clamp$2(oe,ee,le)}const ne=U.fn({...R,[Y]:W,[Z]:ee});return{...ne,data:{x:ne.x-O,y:ne.y-I,enabled:{[Y]:z,[Z]:L}}}}}},limitShift$2=function(_){return _===void 0&&(_={}),{options:_,fn(R){const{x:O,y:I,placement:F,rects:z,middlewareData:L}=R,{offset:U=0,mainAxis:q=!0,crossAxis:G=!0}=evaluate$1(_,R),V={x:O,y:I},Z=getSideAxis(F),Y=getOppositeAxis(Z);let W=V[Y],ee=V[Z];const ne=evaluate$1(U,R),ie=typeof ne=="number"?{mainAxis:ne,crossAxis:0}:{mainAxis:0,crossAxis:0,...ne};if(q){const le=Y==="y"?"height":"width",ue=z.reference[Y]-z.floating[le]+ie.mainAxis,ce=z.reference[Y]+z.reference[le]-ie.mainAxis;W<ue?W=ue:W>ce&&(W=ce)}if(G){var se,oe;const le=Y==="y"?"width":"height",ue=originSides.has(getSide(F)),ce=z.reference[Z]-z.floating[le]+(ue&&((se=L.offset)==null?void 0:se[Z])||0)+(ue?0:ie.crossAxis),fe=z.reference[Z]+z.reference[le]+(ue?0:((oe=L.offset)==null?void 0:oe[Z])||0)-(ue?ie.crossAxis:0);ee<ce?ee=ce:ee>fe&&(ee=fe)}return{[Y]:W,[Z]:ee}}}},size$3=function(_){return _===void 0&&(_={}),{name:"size",options:_,async fn(R){var O,I;const{placement:F,rects:z,platform:L,elements:U}=R,{apply:q=()=>{},...G}=evaluate$1(_,R),V=await detectOverflow(R,G),Z=getSide(F),Y=getAlignment(F),W=getSideAxis(F)==="y",{width:ee,height:ne}=z.floating;let ie,se;Z==="top"||Z==="bottom"?(ie=Z,se=Y===(await(L.isRTL==null?void 0:L.isRTL(U.floating))?"start":"end")?"left":"right"):(se=Z,ie=Y==="end"?"top":"bottom");const oe=ne-V.top-V.bottom,le=ee-V.left-V.right,ue=min$4(ne-V[ie],oe),ce=min$4(ee-V[se],le),fe=!R.middlewareData.shift;let me=ue,he=ce;if((O=R.middlewareData.shift)!=null&&O.enabled.x&&(he=le),(I=R.middlewareData.shift)!=null&&I.enabled.y&&(me=oe),fe&&!Y){const ge=max$3(V.left,0),_e=max$3(V.right,0),ye=max$3(V.top,0),we=max$3(V.bottom,0);W?he=ee-2*(ge!==0||_e!==0?ge+_e:max$3(V.left,V.right)):me=ne-2*(ye!==0||we!==0?ye+we:max$3(V.top,V.bottom))}await q({...R,availableWidth:he,availableHeight:me});const pe=await L.getDimensions(U.floating);return ee!==pe.width||ne!==pe.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(_){return isNode$1(_)?(_.nodeName||"").toLowerCase():"#document"}function getWindow(_){var R;return(_==null||(R=_.ownerDocument)==null?void 0:R.defaultView)||window}function getDocumentElement(_){var R;return(R=(isNode$1(_)?_.ownerDocument:_.document)||window.document)==null?void 0:R.documentElement}function isNode$1(_){return hasWindow()?_ instanceof Node||_ instanceof getWindow(_).Node:!1}function isElement(_){return hasWindow()?_ instanceof Element||_ instanceof getWindow(_).Element:!1}function isHTMLElement(_){return hasWindow()?_ instanceof HTMLElement||_ instanceof getWindow(_).HTMLElement:!1}function isShadowRoot(_){return!hasWindow()||typeof ShadowRoot>"u"?!1:_ instanceof ShadowRoot||_ instanceof getWindow(_).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(_){const{overflow:R,overflowX:O,overflowY:I,display:F}=getComputedStyle$1(_);return/auto|scroll|overlay|hidden|clip/.test(R+I+O)&&!invalidOverflowDisplayValues.has(F)}const tableElements$1=new Set(["table","td","th"]);function isTableElement(_){return tableElements$1.has(getNodeName(_))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(_){return topLayerSelectors.some(R=>{try{return _.matches(R)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(_){const R=isWebKit(),O=isElement(_)?getComputedStyle$1(_):_;return transformProperties.some(I=>O[I]?O[I]!=="none":!1)||(O.containerType?O.containerType!=="normal":!1)||!R&&(O.backdropFilter?O.backdropFilter!=="none":!1)||!R&&(O.filter?O.filter!=="none":!1)||willChangeValues.some(I=>(O.willChange||"").includes(I))||containValues.some(I=>(O.contain||"").includes(I))}function getContainingBlock(_){let R=getParentNode(_);for(;isHTMLElement(R)&&!isLastTraversableNode(R);){if(isContainingBlock(R))return R;if(isTopLayer(R))return null;R=getParentNode(R)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(_){return lastTraversableNodeNames.has(getNodeName(_))}function getComputedStyle$1(_){return getWindow(_).getComputedStyle(_)}function getNodeScroll(_){return isElement(_)?{scrollLeft:_.scrollLeft,scrollTop:_.scrollTop}:{scrollLeft:_.scrollX,scrollTop:_.scrollY}}function getParentNode(_){if(getNodeName(_)==="html")return _;const R=_.assignedSlot||_.parentNode||isShadowRoot(_)&&_.host||getDocumentElement(_);return isShadowRoot(R)?R.host:R}function getNearestOverflowAncestor(_){const R=getParentNode(_);return isLastTraversableNode(R)?_.ownerDocument?_.ownerDocument.body:_.body:isHTMLElement(R)&&isOverflowElement(R)?R:getNearestOverflowAncestor(R)}function getOverflowAncestors(_,R,O){var I;R===void 0&&(R=[]),O===void 0&&(O=!0);const F=getNearestOverflowAncestor(_),z=F===((I=_.ownerDocument)==null?void 0:I.body),L=getWindow(F);if(z){const U=getFrameElement(L);return R.concat(L,L.visualViewport||[],isOverflowElement(F)?F:[],U&&O?getOverflowAncestors(U):[])}return R.concat(F,getOverflowAncestors(F,[],O))}function getFrameElement(_){return _.parent&&Object.getPrototypeOf(_.parent)?_.frameElement:null}function getCssDimensions(_){const R=getComputedStyle$1(_);let O=parseFloat(R.width)||0,I=parseFloat(R.height)||0;const F=isHTMLElement(_),z=F?_.offsetWidth:O,L=F?_.offsetHeight:I,U=round$3(O)!==z||round$3(I)!==L;return U&&(O=z,I=L),{width:O,height:I,$:U}}function unwrapElement(_){return isElement(_)?_:_.contextElement}function getScale(_){const R=unwrapElement(_);if(!isHTMLElement(R))return createCoords(1);const O=R.getBoundingClientRect(),{width:I,height:F,$:z}=getCssDimensions(R);let L=(z?round$3(O.width):O.width)/I,U=(z?round$3(O.height):O.height)/F;return(!L||!Number.isFinite(L))&&(L=1),(!U||!Number.isFinite(U))&&(U=1),{x:L,y:U}}const noOffsets=createCoords(0);function getVisualOffsets(_){const R=getWindow(_);return!isWebKit()||!R.visualViewport?noOffsets:{x:R.visualViewport.offsetLeft,y:R.visualViewport.offsetTop}}function shouldAddVisualOffsets(_,R,O){return R===void 0&&(R=!1),!O||R&&O!==getWindow(_)?!1:R}function getBoundingClientRect(_,R,O,I){R===void 0&&(R=!1),O===void 0&&(O=!1);const F=_.getBoundingClientRect(),z=unwrapElement(_);let L=createCoords(1);R&&(I?isElement(I)&&(L=getScale(I)):L=getScale(_));const U=shouldAddVisualOffsets(z,O,I)?getVisualOffsets(z):createCoords(0);let q=(F.left+U.x)/L.x,G=(F.top+U.y)/L.y,V=F.width/L.x,Z=F.height/L.y;if(z){const Y=getWindow(z),W=I&&isElement(I)?getWindow(I):I;let ee=Y,ne=getFrameElement(ee);for(;ne&&I&&W!==ee;){const ie=getScale(ne),se=ne.getBoundingClientRect(),oe=getComputedStyle$1(ne),le=se.left+(ne.clientLeft+parseFloat(oe.paddingLeft))*ie.x,ue=se.top+(ne.clientTop+parseFloat(oe.paddingTop))*ie.y;q*=ie.x,G*=ie.y,V*=ie.x,Z*=ie.y,q+=le,G+=ue,ee=getWindow(ne),ne=getFrameElement(ee)}}return rectToClientRect({width:V,height:Z,x:q,y:G})}function getWindowScrollBarX(_,R){const O=getNodeScroll(_).scrollLeft;return R?R.left+O:getBoundingClientRect(getDocumentElement(_)).left+O}function getHTMLOffset(_,R){const O=_.getBoundingClientRect(),I=O.left+R.scrollLeft-getWindowScrollBarX(_,O),F=O.top+R.scrollTop;return{x:I,y:F}}function convertOffsetParentRelativeRectToViewportRelativeRect(_){let{elements:R,rect:O,offsetParent:I,strategy:F}=_;const z=F==="fixed",L=getDocumentElement(I),U=R?isTopLayer(R.floating):!1;if(I===L||U&&z)return O;let q={scrollLeft:0,scrollTop:0},G=createCoords(1);const V=createCoords(0),Z=isHTMLElement(I);if((Z||!Z&&!z)&&((getNodeName(I)!=="body"||isOverflowElement(L))&&(q=getNodeScroll(I)),isHTMLElement(I))){const W=getBoundingClientRect(I);G=getScale(I),V.x=W.x+I.clientLeft,V.y=W.y+I.clientTop}const Y=L&&!Z&&!z?getHTMLOffset(L,q):createCoords(0);return{width:O.width*G.x,height:O.height*G.y,x:O.x*G.x-q.scrollLeft*G.x+V.x+Y.x,y:O.y*G.y-q.scrollTop*G.y+V.y+Y.y}}function getClientRects(_){return Array.from(_.getClientRects())}function getDocumentRect(_){const R=getDocumentElement(_),O=getNodeScroll(_),I=_.ownerDocument.body,F=max$3(R.scrollWidth,R.clientWidth,I.scrollWidth,I.clientWidth),z=max$3(R.scrollHeight,R.clientHeight,I.scrollHeight,I.clientHeight);let L=-O.scrollLeft+getWindowScrollBarX(_);const U=-O.scrollTop;return getComputedStyle$1(I).direction==="rtl"&&(L+=max$3(R.clientWidth,I.clientWidth)-F),{width:F,height:z,x:L,y:U}}const SCROLLBAR_MAX=25;function getViewportRect(_,R){const O=getWindow(_),I=getDocumentElement(_),F=O.visualViewport;let z=I.clientWidth,L=I.clientHeight,U=0,q=0;if(F){z=F.width,L=F.height;const V=isWebKit();(!V||V&&R==="fixed")&&(U=F.offsetLeft,q=F.offsetTop)}const G=getWindowScrollBarX(I);if(G<=0){const V=I.ownerDocument,Z=V.body,Y=getComputedStyle(Z),W=V.compatMode==="CSS1Compat"&&parseFloat(Y.marginLeft)+parseFloat(Y.marginRight)||0,ee=Math.abs(I.clientWidth-Z.clientWidth-W);ee<=SCROLLBAR_MAX&&(z-=ee)}else G<=SCROLLBAR_MAX&&(z+=G);return{width:z,height:L,x:U,y:q}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(_,R){const O=getBoundingClientRect(_,!0,R==="fixed"),I=O.top+_.clientTop,F=O.left+_.clientLeft,z=isHTMLElement(_)?getScale(_):createCoords(1),L=_.clientWidth*z.x,U=_.clientHeight*z.y,q=F*z.x,G=I*z.y;return{width:L,height:U,x:q,y:G}}function getClientRectFromClippingAncestor(_,R,O){let I;if(R==="viewport")I=getViewportRect(_,O);else if(R==="document")I=getDocumentRect(getDocumentElement(_));else if(isElement(R))I=getInnerBoundingClientRect(R,O);else{const F=getVisualOffsets(_);I={x:R.x-F.x,y:R.y-F.y,width:R.width,height:R.height}}return rectToClientRect(I)}function hasFixedPositionAncestor(_,R){const O=getParentNode(_);return O===R||!isElement(O)||isLastTraversableNode(O)?!1:getComputedStyle$1(O).position==="fixed"||hasFixedPositionAncestor(O,R)}function getClippingElementAncestors(_,R){const O=R.get(_);if(O)return O;let I=getOverflowAncestors(_,[],!1).filter(U=>isElement(U)&&getNodeName(U)!=="body"),F=null;const z=getComputedStyle$1(_).position==="fixed";let L=z?getParentNode(_):_;for(;isElement(L)&&!isLastTraversableNode(L);){const U=getComputedStyle$1(L),q=isContainingBlock(L);!q&&U.position==="fixed"&&(F=null),(z?!q&&!F:!q&&U.position==="static"&&!!F&&absoluteOrFixed.has(F.position)||isOverflowElement(L)&&!q&&hasFixedPositionAncestor(_,L))?I=I.filter(V=>V!==L):F=U,L=getParentNode(L)}return R.set(_,I),I}function getClippingRect(_){let{element:R,boundary:O,rootBoundary:I,strategy:F}=_;const L=[...O==="clippingAncestors"?isTopLayer(R)?[]:getClippingElementAncestors(R,this._c):[].concat(O),I],U=L[0],q=L.reduce((G,V)=>{const Z=getClientRectFromClippingAncestor(R,V,F);return G.top=max$3(Z.top,G.top),G.right=min$4(Z.right,G.right),G.bottom=min$4(Z.bottom,G.bottom),G.left=max$3(Z.left,G.left),G},getClientRectFromClippingAncestor(R,U,F));return{width:q.right-q.left,height:q.bottom-q.top,x:q.left,y:q.top}}function getDimensions(_){const{width:R,height:O}=getCssDimensions(_);return{width:R,height:O}}function getRectRelativeToOffsetParent(_,R,O){const I=isHTMLElement(R),F=getDocumentElement(R),z=O==="fixed",L=getBoundingClientRect(_,!0,z,R);let U={scrollLeft:0,scrollTop:0};const q=createCoords(0);function G(){q.x=getWindowScrollBarX(F)}if(I||!I&&!z)if((getNodeName(R)!=="body"||isOverflowElement(F))&&(U=getNodeScroll(R)),I){const W=getBoundingClientRect(R,!0,z,R);q.x=W.x+R.clientLeft,q.y=W.y+R.clientTop}else F&&G();z&&!I&&F&&G();const V=F&&!I&&!z?getHTMLOffset(F,U):createCoords(0),Z=L.left+U.scrollLeft-q.x-V.x,Y=L.top+U.scrollTop-q.y-V.y;return{x:Z,y:Y,width:L.width,height:L.height}}function isStaticPositioned(_){return getComputedStyle$1(_).position==="static"}function getTrueOffsetParent(_,R){if(!isHTMLElement(_)||getComputedStyle$1(_).position==="fixed")return null;if(R)return R(_);let O=_.offsetParent;return getDocumentElement(_)===O&&(O=O.ownerDocument.body),O}function getOffsetParent(_,R){const O=getWindow(_);if(isTopLayer(_))return O;if(!isHTMLElement(_)){let F=getParentNode(_);for(;F&&!isLastTraversableNode(F);){if(isElement(F)&&!isStaticPositioned(F))return F;F=getParentNode(F)}return O}let I=getTrueOffsetParent(_,R);for(;I&&isTableElement(I)&&isStaticPositioned(I);)I=getTrueOffsetParent(I,R);return I&&isLastTraversableNode(I)&&isStaticPositioned(I)&&!isContainingBlock(I)?O:I||getContainingBlock(_)||O}const getElementRects=async function(_){const R=this.getOffsetParent||getOffsetParent,O=this.getDimensions,I=await O(_.floating);return{reference:getRectRelativeToOffsetParent(_.reference,await R(_.floating),_.strategy),floating:{x:0,y:0,width:I.width,height:I.height}}};function isRTL(_){return getComputedStyle$1(_).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(_,R){return _.x===R.x&&_.y===R.y&&_.width===R.width&&_.height===R.height}function observeMove(_,R){let O=null,I;const F=getDocumentElement(_);function z(){var U;clearTimeout(I),(U=O)==null||U.disconnect(),O=null}function L(U,q){U===void 0&&(U=!1),q===void 0&&(q=1),z();const G=_.getBoundingClientRect(),{left:V,top:Z,width:Y,height:W}=G;if(U||R(),!Y||!W)return;const ee=floor$2(Z),ne=floor$2(F.clientWidth-(V+Y)),ie=floor$2(F.clientHeight-(Z+W)),se=floor$2(V),le={rootMargin:-ee+"px "+-ne+"px "+-ie+"px "+-se+"px",threshold:max$3(0,min$4(1,q))||1};let ue=!0;function ce(fe){const me=fe[0].intersectionRatio;if(me!==q){if(!ue)return L();me?L(!1,me):I=setTimeout(()=>{L(!1,1e-7)},1e3)}me===1&&!rectsAreEqual(G,_.getBoundingClientRect())&&L(),ue=!1}try{O=new IntersectionObserver(ce,{...le,root:F.ownerDocument})}catch{O=new IntersectionObserver(ce,le)}O.observe(_)}return L(!0),z}function autoUpdate(_,R,O,I){I===void 0&&(I={});const{ancestorScroll:F=!0,ancestorResize:z=!0,elementResize:L=typeof ResizeObserver=="function",layoutShift:U=typeof IntersectionObserver=="function",animationFrame:q=!1}=I,G=unwrapElement(_),V=F||z?[...G?getOverflowAncestors(G):[],...getOverflowAncestors(R)]:[];V.forEach(se=>{F&&se.addEventListener("scroll",O,{passive:!0}),z&&se.addEventListener("resize",O)});const Z=G&&U?observeMove(G,O):null;let Y=-1,W=null;L&&(W=new ResizeObserver(se=>{let[oe]=se;oe&&oe.target===G&&W&&(W.unobserve(R),cancelAnimationFrame(Y),Y=requestAnimationFrame(()=>{var le;(le=W)==null||le.observe(R)})),O()}),G&&!q&&W.observe(G),W.observe(R));let ee,ne=q?getBoundingClientRect(_):null;q&&ie();function ie(){const se=getBoundingClientRect(_);ne&&!rectsAreEqual(ne,se)&&O(),ne=se,ee=requestAnimationFrame(ie)}return O(),()=>{var se;V.forEach(oe=>{F&&oe.removeEventListener("scroll",O),z&&oe.removeEventListener("resize",O)}),Z?.(),(se=W)==null||se.disconnect(),W=null,q&&cancelAnimationFrame(ee)}}const offset$2=offset$3,shift$1=shift$2,flip$2=flip$3,size$2=size$3,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(_,R,O)=>{const I=new Map,F={platform,...O},z={...F.platform,_c:I};return computePosition$1(_,R,{...F,platform:z})};var isClient=typeof document<"u",noop$3=function _(){},index$2=isClient?reactExports.useLayoutEffect:noop$3;function deepEqual$1(_,R){if(_===R)return!0;if(typeof _!=typeof R)return!1;if(typeof _=="function"&&_.toString()===R.toString())return!0;let O,I,F;if(_&&R&&typeof _=="object"){if(Array.isArray(_)){if(O=_.length,O!==R.length)return!1;for(I=O;I--!==0;)if(!deepEqual$1(_[I],R[I]))return!1;return!0}if(F=Object.keys(_),O=F.length,O!==Object.keys(R).length)return!1;for(I=O;I--!==0;)if(!{}.hasOwnProperty.call(R,F[I]))return!1;for(I=O;I--!==0;){const z=F[I];if(!(z==="_owner"&&_.$$typeof)&&!deepEqual$1(_[z],R[z]))return!1}return!0}return _!==_&&R!==R}function getDPR(_){return typeof window>"u"?1:(_.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(_,R){const O=getDPR(_);return Math.round(R*O)/O}function useLatestRef(_){const R=reactExports.useRef(_);return index$2(()=>{R.current=_}),R}function useFloating(_){_===void 0&&(_={});const{placement:R="bottom",strategy:O="absolute",middleware:I=[],platform:F,elements:{reference:z,floating:L}={},transform:U=!0,whileElementsMounted:q,open:G}=_,[V,Z]=reactExports.useState({x:0,y:0,strategy:O,placement:R,middlewareData:{},isPositioned:!1}),[Y,W]=reactExports.useState(I);deepEqual$1(Y,I)||W(I);const[ee,ne]=reactExports.useState(null),[ie,se]=reactExports.useState(null),oe=reactExports.useCallback(De=>{De!==fe.current&&(fe.current=De,ne(De))},[]),le=reactExports.useCallback(De=>{De!==me.current&&(me.current=De,se(De))},[]),ue=z||ee,ce=L||ie,fe=reactExports.useRef(null),me=reactExports.useRef(null),he=reactExports.useRef(V),pe=q!=null,ge=useLatestRef(q),_e=useLatestRef(F),ye=useLatestRef(G),we=reactExports.useCallback(()=>{if(!fe.current||!me.current)return;const De={placement:R,strategy:O,middleware:Y};_e.current&&(De.platform=_e.current),computePosition(fe.current,me.current,De).then(Ne=>{const Me={...Ne,isPositioned:ye.current!==!1};ve.current&&!deepEqual$1(he.current,Me)&&(he.current=Me,reactDomExports.flushSync(()=>{Z(Me)}))})},[Y,R,O,_e,ye]);index$2(()=>{G===!1&&he.current.isPositioned&&(he.current.isPositioned=!1,Z(De=>({...De,isPositioned:!1})))},[G]);const ve=reactExports.useRef(!1);index$2(()=>(ve.current=!0,()=>{ve.current=!1}),[]),index$2(()=>{if(ue&&(fe.current=ue),ce&&(me.current=ce),ue&&ce){if(ge.current)return ge.current(ue,ce,we);we()}},[ue,ce,we,ge,pe]);const $e=reactExports.useMemo(()=>({reference:fe,floating:me,setReference:oe,setFloating:le}),[oe,le]),be=reactExports.useMemo(()=>({reference:ue,floating:ce}),[ue,ce]),Ce=reactExports.useMemo(()=>{const De={position:O,left:0,top:0};if(!be.floating)return De;const Ne=roundByDPR(be.floating,V.x),Me=roundByDPR(be.floating,V.y);return U?{...De,transform:"translate("+Ne+"px, "+Me+"px)",...getDPR(be.floating)>=1.5&&{willChange:"transform"}}:{position:O,left:Ne,top:Me}},[O,U,be.floating,V.x,V.y]);return reactExports.useMemo(()=>({...V,update:we,refs:$e,elements:be,floatingStyles:Ce}),[V,we,$e,be,Ce])}const arrow$1=_=>{function R(O){return{}.hasOwnProperty.call(O,"current")}return{name:"arrow",options:_,fn(O){const{element:I,padding:F}=typeof _=="function"?_(O):_;return I&&R(I)?I.current!=null?arrow$2({element:I.current,padding:F}).fn(O):{}:I?arrow$2({element:I,padding:F}).fn(O):{}}}},offset$1=(_,R)=>({...offset$2(_),options:[_,R]}),shift=(_,R)=>({...shift$1(_),options:[_,R]}),limitShift=(_,R)=>({...limitShift$1(_),options:[_,R]}),flip$1=(_,R)=>({...flip$2(_),options:[_,R]}),size$1=(_,R)=>({...size$2(_),options:[_,R]}),hide=(_,R)=>({...hide$1(_),options:[_,R]}),arrow=(_,R)=>({...arrow$1(_),options:[_,R]});var NAME$3="Arrow",Arrow$1=reactExports.forwardRef((_,R)=>{const{children:O,width:I=10,height:F=5,...z}=_;return jsxRuntimeExports.jsx(Primitive$2.svg,{...z,ref:R,width:I,height:F,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:_.asChild?O:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$3;var Root$7=Arrow$1;function useSize(_){const[R,O]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(_){O({width:_.offsetWidth,height:_.offsetHeight});const I=new ResizeObserver(F=>{if(!Array.isArray(F)||!F.length)return;const z=F[0];let L,U;if("borderBoxSize"in z){const q=z.borderBoxSize,G=Array.isArray(q)?q[0]:q;L=G.inlineSize,U=G.blockSize}else L=_.offsetWidth,U=_.offsetHeight;O({width:L,height:U})});return I.observe(_,{box:"border-box"}),()=>I.unobserve(_)}else O(void 0)},[_]),R}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope$1(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=_=>{const{__scopePopper:R,children:O}=_,[I,F]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:R,anchor:I,onAnchorChange:F,children:O})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$1="PopperAnchor",PopperAnchor=reactExports.forwardRef((_,R)=>{const{__scopePopper:O,virtualRef:I,...F}=_,z=usePopperContext(ANCHOR_NAME$1,O),L=reactExports.useRef(null),U=useComposedRefs(R,L),q=reactExports.useRef(null);return reactExports.useEffect(()=>{const G=q.current;q.current=I?.current||L.current,G!==q.current&&z.onAnchorChange(q.current)}),I?null:jsxRuntimeExports.jsx(Primitive$2.div,{...F,ref:U})});PopperAnchor.displayName=ANCHOR_NAME$1;var CONTENT_NAME$6="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$6),PopperContent=reactExports.forwardRef((_,R)=>{const{__scopePopper:O,side:I="bottom",sideOffset:F=0,align:z="center",alignOffset:L=0,arrowPadding:U=0,avoidCollisions:q=!0,collisionBoundary:G=[],collisionPadding:V=0,sticky:Z="partial",hideWhenDetached:Y=!1,updatePositionStrategy:W="optimized",onPlaced:ee,...ne}=_,ie=usePopperContext(CONTENT_NAME$6,O),[se,oe]=reactExports.useState(null),le=useComposedRefs(R,Ze=>oe(Ze)),[ue,ce]=reactExports.useState(null),fe=useSize(ue),me=fe?.width??0,he=fe?.height??0,pe=I+(z!=="center"?"-"+z:""),ge=typeof V=="number"?V:{top:0,right:0,bottom:0,left:0,...V},_e=Array.isArray(G)?G:[G],ye=_e.length>0,we={padding:ge,boundary:_e.filter(isNotNull),altBoundary:ye},{refs:ve,floatingStyles:$e,placement:be,isPositioned:Ce,middlewareData:De}=useFloating({strategy:"fixed",placement:pe,whileElementsMounted:(...Ze)=>autoUpdate(...Ze,{animationFrame:W==="always"}),elements:{reference:ie.anchor},middleware:[offset$1({mainAxis:F+he,alignmentAxis:L}),q&&shift({mainAxis:!0,crossAxis:!1,limiter:Z==="partial"?limitShift():void 0,...we}),q&&flip$1({...we}),size$1({...we,apply:({elements:Ze,rects:Le,availableWidth:ke,availableHeight:Ge})=>{const{width:Ke,height:He}=Le.reference,st=Ze.floating.style;st.setProperty("--radix-popper-available-width",`${ke}px`),st.setProperty("--radix-popper-available-height",`${Ge}px`),st.setProperty("--radix-popper-anchor-width",`${Ke}px`),st.setProperty("--radix-popper-anchor-height",`${He}px`)}}),ue&&arrow({element:ue,padding:U}),transformOrigin({arrowWidth:me,arrowHeight:he}),Y&&hide({strategy:"referenceHidden",...we})]}),[Ne,Me]=getSideAndAlignFromPlacement(be),Te=useCallbackRef$1(ee);useLayoutEffect2(()=>{Ce&&Te?.()},[Ce,Te]);const Re=De.arrow?.x,Se=De.arrow?.y,ze=De.arrow?.centerOffset!==0,[Pe,Qe]=reactExports.useState();return useLayoutEffect2(()=>{se&&Qe(window.getComputedStyle(se).zIndex)},[se]),jsxRuntimeExports.jsx("div",{ref:ve.setFloating,"data-radix-popper-content-wrapper":"",style:{...$e,transform:Ce?$e.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[De.transformOrigin?.x,De.transformOrigin?.y].join(" "),...De.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:_.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:O,placedSide:Ne,onArrowChange:ce,arrowX:Re,arrowY:Se,shouldHideArrow:ze,children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-side":Ne,"data-align":Me,...ne,ref:le,style:{...ne.style,animation:Ce?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$6;var ARROW_NAME$2="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function _(R,O){const{__scopePopper:I,...F}=R,z=useContentContext(ARROW_NAME$2,I),L=OPPOSITE_SIDE[z.placedSide];return jsxRuntimeExports.jsx("span",{ref:z.onArrowChange,style:{position:"absolute",left:z.arrowX,top:z.arrowY,[L]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[z.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[z.placedSide],visibility:z.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$7,{...F,ref:O,style:{...F.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$2;function isNotNull(_){return _!==null}var transformOrigin=_=>({name:"transformOrigin",options:_,fn(R){const{placement:O,rects:I,middlewareData:F}=R,L=F.arrow?.centerOffset!==0,U=L?0:_.arrowWidth,q=L?0:_.arrowHeight,[G,V]=getSideAndAlignFromPlacement(O),Z={start:"0%",center:"50%",end:"100%"}[V],Y=(F.arrow?.x??0)+U/2,W=(F.arrow?.y??0)+q/2;let ee="",ne="";return G==="bottom"?(ee=L?Z:`${Y}px`,ne=`${-q}px`):G==="top"?(ee=L?Z:`${Y}px`,ne=`${I.floating.height+q}px`):G==="right"?(ee=`${-q}px`,ne=L?Z:`${W}px`):G==="left"&&(ee=`${I.floating.width+q}px`,ne=L?Z:`${W}px`),{data:{x:ee,y:ne}}}});function getSideAndAlignFromPlacement(_){const[R,O="center"]=_.split("-");return[R,O]}var Root2$4=Popper,Anchor$1=PopperAnchor,Content$3=PopperContent,Arrow=PopperArrow,PORTAL_NAME$3="Portal",Portal$3=reactExports.forwardRef((_,R)=>{const{container:O,...I}=_,[F,z]=reactExports.useState(!1);useLayoutEffect2(()=>z(!0),[]);const L=O||F&&globalThis?.document?.body;return L?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$2.div,{...I,ref:R}),L):null});Portal$3.displayName=PORTAL_NAME$3;function useStateMachine$1(_,R){return reactExports.useReducer((O,I)=>R[O][I]??O,_)}var Presence=_=>{const{present:R,children:O}=_,I=usePresence(R),F=typeof O=="function"?O({present:I.isPresent}):reactExports.Children.only(O),z=useComposedRefs(I.ref,getElementRef$4(F));return typeof O=="function"||I.isPresent?reactExports.cloneElement(F,{ref:z}):null};Presence.displayName="Presence";function usePresence(_){const[R,O]=reactExports.useState(),I=reactExports.useRef(null),F=reactExports.useRef(_),z=reactExports.useRef("none"),L=_?"mounted":"unmounted",[U,q]=useStateMachine$1(L,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const G=getAnimationName(I.current);z.current=U==="mounted"?G:"none"},[U]),useLayoutEffect2(()=>{const G=I.current,V=F.current;if(V!==_){const Y=z.current,W=getAnimationName(G);_?q("MOUNT"):W==="none"||G?.display==="none"?q("UNMOUNT"):q(V&&Y!==W?"ANIMATION_OUT":"UNMOUNT"),F.current=_}},[_,q]),useLayoutEffect2(()=>{if(R){let G;const V=R.ownerDocument.defaultView??window,Z=W=>{const ne=getAnimationName(I.current).includes(CSS.escape(W.animationName));if(W.target===R&&ne&&(q("ANIMATION_END"),!F.current)){const ie=R.style.animationFillMode;R.style.animationFillMode="forwards",G=V.setTimeout(()=>{R.style.animationFillMode==="forwards"&&(R.style.animationFillMode=ie)})}},Y=W=>{W.target===R&&(z.current=getAnimationName(I.current))};return R.addEventListener("animationstart",Y),R.addEventListener("animationcancel",Z),R.addEventListener("animationend",Z),()=>{V.clearTimeout(G),R.removeEventListener("animationstart",Y),R.removeEventListener("animationcancel",Z),R.removeEventListener("animationend",Z)}}else q("ANIMATION_END")},[R,q]),{isPresent:["mounted","unmountSuspended"].includes(U),ref:reactExports.useCallback(G=>{I.current=G?getComputedStyle(G):null,O(G)},[])}}function getAnimationName(_){return _?.animationName||"none"}function getElementRef$4(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,O=R&&"isReactWarning"in R&&R.isReactWarning;return O?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,O=R&&"isReactWarning"in R&&R.isReactWarning,O?_.props.ref:_.props.ref||_.ref)}function createSlot$3(_){const R=createSlotClone$3(_),O=reactExports.forwardRef((I,F)=>{const{children:z,...L}=I,U=reactExports.Children.toArray(z),q=U.find(isSlottable$3);if(q){const G=q.props.children,V=U.map(Z=>Z===q?reactExports.Children.count(G)>1?reactExports.Children.only(null):reactExports.isValidElement(G)?G.props.children:null:Z);return jsxRuntimeExports.jsx(R,{...L,ref:F,children:reactExports.isValidElement(G)?reactExports.cloneElement(G,void 0,V):null})}return jsxRuntimeExports.jsx(R,{...L,ref:F,children:z})});return O.displayName=`${_}.Slot`,O}function createSlotClone$3(_){const R=reactExports.forwardRef((O,I)=>{const{children:F,...z}=O;if(reactExports.isValidElement(F)){const L=getElementRef$3(F),U=mergeProps$3(z,F.props);return F.type!==reactExports.Fragment&&(U.ref=I?composeRefs(I,L):L),reactExports.cloneElement(F,U)}return reactExports.Children.count(F)>1?reactExports.Children.only(null):null});return R.displayName=`${_}.SlotClone`,R}var SLOTTABLE_IDENTIFIER$3=Symbol("radix.slottable");function isSlottable$3(_){return reactExports.isValidElement(_)&&typeof _.type=="function"&&"__radixId"in _.type&&_.type.__radixId===SLOTTABLE_IDENTIFIER$3}function mergeProps$3(_,R){const O={...R};for(const I in R){const F=_[I],z=R[I];/^on[A-Z]/.test(I)?F&&z?O[I]=(...U)=>{const q=z(...U);return F(...U),q}:F&&(O[I]=F):I==="style"?O[I]={...F,...z}:I==="className"&&(O[I]=[F,z].filter(Boolean).join(" "))}return{..._,...O}}function getElementRef$3(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,O=R&&"isReactWarning"in R&&R.isReactWarning;return O?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,O=R&&"isReactWarning"in R&&R.isReactWarning,O?_.props.ref:_.props.ref||_.ref)}var useInsertionEffect=React4[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:_,defaultProp:R,onChange:O=()=>{},caller:I}){const[F,z,L]=useUncontrolledState({defaultProp:R,onChange:O}),U=_!==void 0,q=U?_:F;{const V=reactExports.useRef(_!==void 0);reactExports.useEffect(()=>{const Z=V.current;Z!==U&&console.warn(`${I} is changing from ${Z?"controlled":"uncontrolled"} to ${U?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),V.current=U},[U,I])}const G=reactExports.useCallback(V=>{if(U){const Z=isFunction$2(V)?V(_):V;Z!==_&&L.current?.(Z)}else z(V)},[U,_,z,L]);return[q,G]}function useUncontrolledState({defaultProp:_,onChange:R}){const[O,I]=reactExports.useState(_),F=reactExports.useRef(O),z=reactExports.useRef(R);return useInsertionEffect(()=>{z.current=R},[R]),reactExports.useEffect(()=>{F.current!==O&&(z.current?.(O),F.current=O)},[O,F]),[O,I,z]}function isFunction$2(_){return typeof _=="function"}var getDefaultParent=function(_){if(typeof document>"u")return null;var R=Array.isArray(_)?_[0]:_;return R.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(_){return _&&(_.host||unwrapHost(_.parentNode))},correctTargets=function(_,R){return R.map(function(O){if(_.contains(O))return O;var I=unwrapHost(O);return I&&_.contains(I)?I:(console.error("aria-hidden",O,"in not contained inside",_,". Doing nothing"),null)}).filter(function(O){return!!O})},applyAttributeToOthers=function(_,R,O,I){var F=correctTargets(R,Array.isArray(_)?_:[_]);markerMap[O]||(markerMap[O]=new WeakMap);var z=markerMap[O],L=[],U=new Set,q=new Set(F),G=function(Z){!Z||U.has(Z)||(U.add(Z),G(Z.parentNode))};F.forEach(G);var V=function(Z){!Z||q.has(Z)||Array.prototype.forEach.call(Z.children,function(Y){if(U.has(Y))V(Y);else try{var W=Y.getAttribute(I),ee=W!==null&&W!=="false",ne=(counterMap.get(Y)||0)+1,ie=(z.get(Y)||0)+1;counterMap.set(Y,ne),z.set(Y,ie),L.push(Y),ne===1&&ee&&uncontrolledNodes.set(Y,!0),ie===1&&Y.setAttribute(O,"true"),ee||Y.setAttribute(I,"true")}catch(se){console.error("aria-hidden: cannot operate on ",Y,se)}})};return V(R),U.clear(),lockCount++,function(){L.forEach(function(Z){var Y=counterMap.get(Z)-1,W=z.get(Z)-1;counterMap.set(Z,Y),z.set(Z,W),Y||(uncontrolledNodes.has(Z)||Z.removeAttribute(I),uncontrolledNodes.delete(Z)),W||Z.removeAttribute(O)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(_,R,O){O===void 0&&(O="data-aria-hidden");var I=Array.from(Array.isArray(_)?_:[_]),F=getDefaultParent(_);return F?(I.push.apply(I,Array.from(F.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(I,F,O,"aria-hidden")):function(){return null}},__assign=function(){return __assign=Object.assign||function(R){for(var O,I=1,F=arguments.length;I<F;I++){O=arguments[I];for(var z in O)Object.prototype.hasOwnProperty.call(O,z)&&(R[z]=O[z])}return R},__assign.apply(this,arguments)};function __rest(_,R){var O={};for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&R.indexOf(I)<0&&(O[I]=_[I]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var F=0,I=Object.getOwnPropertySymbols(_);F<I.length;F++)R.indexOf(I[F])<0&&Object.prototype.propertyIsEnumerable.call(_,I[F])&&(O[I[F]]=_[I[F]]);return O}function __spreadArray(_,R,O){if(O||arguments.length===2)for(var I=0,F=R.length,z;I<F;I++)(z||!(I in R))&&(z||(z=Array.prototype.slice.call(R,0,I)),z[I]=R[I]);return _.concat(z||Array.prototype.slice.call(R))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(_,R){return typeof _=="function"?_(R):_&&(_.current=R),_}function useCallbackRef(_,R){var O=reactExports.useState(function(){return{value:_,callback:R,facade:{get current(){return O.value},set current(I){var F=O.value;F!==I&&(O.value=I,O.callback(I,F))}}}})[0];return O.callback=R,O.facade}var useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(_,R){var O=useCallbackRef(null,function(I){return _.forEach(function(F){return assignRef(F,I)})});return useIsomorphicLayoutEffect$1(function(){var I=currentValues.get(O);if(I){var F=new Set(I),z=new Set(_),L=O.current;F.forEach(function(U){z.has(U)||assignRef(U,null)}),z.forEach(function(U){F.has(U)||assignRef(U,L)})}currentValues.set(O,_)},[_]),O}function ItoI(_){return _}function innerCreateMedium(_,R){R===void 0&&(R=ItoI);var O=[],I=!1,F={read:function(){if(I)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return O.length?O[O.length-1]:_},useMedium:function(z){var L=R(z,I);return O.push(L),function(){O=O.filter(function(U){return U!==L})}},assignSyncMedium:function(z){for(I=!0;O.length;){var L=O;O=[],L.forEach(z)}O={push:function(U){return z(U)},filter:function(){return O}}},assignMedium:function(z){I=!0;var L=[];if(O.length){var U=O;O=[],U.forEach(z),L=O}var q=function(){var V=L;L=[],V.forEach(z)},G=function(){return Promise.resolve().then(q)};G(),O={push:function(V){L.push(V),G()},filter:function(V){return L=L.filter(V),O}}}};return F}function createSidecarMedium(_){_===void 0&&(_={});var R=innerCreateMedium(null);return R.options=__assign({async:!0,ssr:!1},_),R}var SideCar$1=function(_){var R=_.sideCar,O=__rest(_,["sideCar"]);if(!R)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var I=R.read();if(!I)throw new Error("Sidecar medium not found");return reactExports.createElement(I,__assign({},O))};SideCar$1.isSideCarExport=!0;function exportSidecar(_,R){return _.useMedium(R),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(_,R){var O=reactExports.useRef(null),I=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),F=I[0],z=I[1],L=_.forwardProps,U=_.children,q=_.className,G=_.removeScrollBar,V=_.enabled,Z=_.shards,Y=_.sideCar,W=_.noRelative,ee=_.noIsolation,ne=_.inert,ie=_.allowPinchZoom,se=_.as,oe=se===void 0?"div":se,le=_.gapMode,ue=__rest(_,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ce=Y,fe=useMergeRefs([O,R]),me=__assign(__assign({},ue),F);return reactExports.createElement(reactExports.Fragment,null,V&&reactExports.createElement(ce,{sideCar:effectCar,removeScrollBar:G,shards:Z,noRelative:W,noIsolation:ee,inert:ne,setCallbacks:z,allowPinchZoom:!!ie,lockRef:O,gapMode:le}),L?reactExports.cloneElement(reactExports.Children.only(U),__assign(__assign({},me),{ref:fe})):reactExports.createElement(oe,__assign({},me,{className:q,ref:fe}),U))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var _=document.createElement("style");_.type="text/css";var R=getNonce();return R&&_.setAttribute("nonce",R),_}function injectStyles(_,R){_.styleSheet?_.styleSheet.cssText=R:_.appendChild(document.createTextNode(R))}function insertStyleTag(_){var R=document.head||document.getElementsByTagName("head")[0];R.appendChild(_)}var stylesheetSingleton=function(){var _=0,R=null;return{add:function(O){_==0&&(R=makeStyleTag())&&(injectStyles(R,O),insertStyleTag(R)),_++},remove:function(){_--,!_&&R&&(R.parentNode&&R.parentNode.removeChild(R),R=null)}}},styleHookSingleton=function(){var _=stylesheetSingleton();return function(R,O){reactExports.useEffect(function(){return _.add(R),function(){_.remove()}},[R&&O])}},styleSingleton=function(){var _=styleHookSingleton(),R=function(O){var I=O.styles,F=O.dynamic;return _(I,F),null};return R},zeroGap={left:0,top:0,right:0,gap:0},parse$8=function(_){return parseInt(_||"",10)||0},getOffset=function(_){var R=window.getComputedStyle(document.body),O=R[_==="padding"?"paddingLeft":"marginLeft"],I=R[_==="padding"?"paddingTop":"marginTop"],F=R[_==="padding"?"paddingRight":"marginRight"];return[parse$8(O),parse$8(I),parse$8(F)]},getGapWidth=function(_){if(_===void 0&&(_="margin"),typeof window>"u")return zeroGap;var R=getOffset(_),O=document.documentElement.clientWidth,I=window.innerWidth;return{left:R[0],top:R[1],right:R[2],gap:Math.max(0,I-O+R[2]-R[0])}},Style$2=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(_,R,O,I){var F=_.left,z=_.top,L=_.right,U=_.gap;return O===void 0&&(O="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(I,`;
   padding-right: `).concat(U,"px ").concat(I,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(I,`;
    overscroll-behavior: contain;
    `).concat([R&&"position: relative ".concat(I,";"),O==="margin"&&`
    padding-left: `.concat(F,`px;
    padding-top: `).concat(z,`px;
    padding-right: `).concat(L,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(U,"px ").concat(I,`;
    `),O==="padding"&&"padding-right: ".concat(U,"px ").concat(I,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(U,"px ").concat(I,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(U,"px ").concat(I,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(I,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(I,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(U,`px;
  }
`)},getCurrentUseCounter=function(){var _=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(_)?_:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var _=getCurrentUseCounter()-1;_<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,_.toString())}},[])},RemoveScrollBar=function(_){var R=_.noRelative,O=_.noImportant,I=_.gapMode,F=I===void 0?"margin":I;useLockAttribute();var z=reactExports.useMemo(function(){return getGapWidth(F)},[F]);return reactExports.createElement(Style$2,{styles:getStyles(z,!R,F,O?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(_){return _.tagName==="TEXTAREA"},elementCanBeScrolled=function(_,R){if(!(_ instanceof Element))return!1;var O=window.getComputedStyle(_);return O[R]!=="hidden"&&!(O.overflowY===O.overflowX&&!alwaysContainsScroll(_)&&O[R]==="visible")},elementCouldBeVScrolled=function(_){return elementCanBeScrolled(_,"overflowY")},elementCouldBeHScrolled=function(_){return elementCanBeScrolled(_,"overflowX")},locationCouldBeScrolled=function(_,R){var O=R.ownerDocument,I=R;do{typeof ShadowRoot<"u"&&I instanceof ShadowRoot&&(I=I.host);var F=elementCouldBeScrolled(_,I);if(F){var z=getScrollVariables(_,I),L=z[1],U=z[2];if(L>U)return!0}I=I.parentNode}while(I&&I!==O.body);return!1},getVScrollVariables=function(_){var R=_.scrollTop,O=_.scrollHeight,I=_.clientHeight;return[R,O,I]},getHScrollVariables=function(_){var R=_.scrollLeft,O=_.scrollWidth,I=_.clientWidth;return[R,O,I]},elementCouldBeScrolled=function(_,R){return _==="v"?elementCouldBeVScrolled(R):elementCouldBeHScrolled(R)},getScrollVariables=function(_,R){return _==="v"?getVScrollVariables(R):getHScrollVariables(R)},getDirectionFactor=function(_,R){return _==="h"&&R==="rtl"?-1:1},handleScroll=function(_,R,O,I,F){var z=getDirectionFactor(_,window.getComputedStyle(R).direction),L=z*I,U=O.target,q=R.contains(U),G=!1,V=L>0,Z=0,Y=0;do{if(!U)break;var W=getScrollVariables(_,U),ee=W[0],ne=W[1],ie=W[2],se=ne-ie-z*ee;(ee||se)&&elementCouldBeScrolled(_,U)&&(Z+=se,Y+=ee);var oe=U.parentNode;U=oe&&oe.nodeType===Node.DOCUMENT_FRAGMENT_NODE?oe.host:oe}while(!q&&U!==document.body||q&&(R.contains(U)||R===U));return(V&&Math.abs(Z)<1||!V&&Math.abs(Y)<1)&&(G=!0),G},getTouchXY=function(_){return"changedTouches"in _?[_.changedTouches[0].clientX,_.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(_){return[_.deltaX,_.deltaY]},extractRef=function(_){return _&&"current"in _?_.current:_},deltaCompare=function(_,R){return _[0]===R[0]&&_[1]===R[1]},generateStyle=function(_){return`
  .block-interactivity-`.concat(_,` {pointer-events: none;}
  .allow-interactivity-`).concat(_,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(_){var R=reactExports.useRef([]),O=reactExports.useRef([0,0]),I=reactExports.useRef(),F=reactExports.useState(idCounter++)[0],z=reactExports.useState(styleSingleton)[0],L=reactExports.useRef(_);reactExports.useEffect(function(){L.current=_},[_]),reactExports.useEffect(function(){if(_.inert){document.body.classList.add("block-interactivity-".concat(F));var ne=__spreadArray([_.lockRef.current],(_.shards||[]).map(extractRef),!0).filter(Boolean);return ne.forEach(function(ie){return ie.classList.add("allow-interactivity-".concat(F))}),function(){document.body.classList.remove("block-interactivity-".concat(F)),ne.forEach(function(ie){return ie.classList.remove("allow-interactivity-".concat(F))})}}},[_.inert,_.lockRef.current,_.shards]);var U=reactExports.useCallback(function(ne,ie){if("touches"in ne&&ne.touches.length===2||ne.type==="wheel"&&ne.ctrlKey)return!L.current.allowPinchZoom;var se=getTouchXY(ne),oe=O.current,le="deltaX"in ne?ne.deltaX:oe[0]-se[0],ue="deltaY"in ne?ne.deltaY:oe[1]-se[1],ce,fe=ne.target,me=Math.abs(le)>Math.abs(ue)?"h":"v";if("touches"in ne&&me==="h"&&fe.type==="range")return!1;var he=window.getSelection(),pe=he&&he.anchorNode,ge=pe?pe===fe||pe.contains(fe):!1;if(ge)return!1;var _e=locationCouldBeScrolled(me,fe);if(!_e)return!0;if(_e?ce=me:(ce=me==="v"?"h":"v",_e=locationCouldBeScrolled(me,fe)),!_e)return!1;if(!I.current&&"changedTouches"in ne&&(le||ue)&&(I.current=ce),!ce)return!0;var ye=I.current||ce;return handleScroll(ye,ie,ne,ye==="h"?le:ue)},[]),q=reactExports.useCallback(function(ne){var ie=ne;if(!(!lockStack.length||lockStack[lockStack.length-1]!==z)){var se="deltaY"in ie?getDeltaXY(ie):getTouchXY(ie),oe=R.current.filter(function(ce){return ce.name===ie.type&&(ce.target===ie.target||ie.target===ce.shadowParent)&&deltaCompare(ce.delta,se)})[0];if(oe&&oe.should){ie.cancelable&&ie.preventDefault();return}if(!oe){var le=(L.current.shards||[]).map(extractRef).filter(Boolean).filter(function(ce){return ce.contains(ie.target)}),ue=le.length>0?U(ie,le[0]):!L.current.noIsolation;ue&&ie.cancelable&&ie.preventDefault()}}},[]),G=reactExports.useCallback(function(ne,ie,se,oe){var le={name:ne,delta:ie,target:se,should:oe,shadowParent:getOutermostShadowParent(se)};R.current.push(le),setTimeout(function(){R.current=R.current.filter(function(ue){return ue!==le})},1)},[]),V=reactExports.useCallback(function(ne){O.current=getTouchXY(ne),I.current=void 0},[]),Z=reactExports.useCallback(function(ne){G(ne.type,getDeltaXY(ne),ne.target,U(ne,_.lockRef.current))},[]),Y=reactExports.useCallback(function(ne){G(ne.type,getTouchXY(ne),ne.target,U(ne,_.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(z),_.setCallbacks({onScrollCapture:Z,onWheelCapture:Z,onTouchMoveCapture:Y}),document.addEventListener("wheel",q,nonPassive),document.addEventListener("touchmove",q,nonPassive),document.addEventListener("touchstart",V,nonPassive),function(){lockStack=lockStack.filter(function(ne){return ne!==z}),document.removeEventListener("wheel",q,nonPassive),document.removeEventListener("touchmove",q,nonPassive),document.removeEventListener("touchstart",V,nonPassive)}},[]);var W=_.removeScrollBar,ee=_.inert;return reactExports.createElement(reactExports.Fragment,null,ee?reactExports.createElement(z,{styles:generateStyle(F)}):null,W?reactExports.createElement(RemoveScrollBar,{noRelative:_.noRelative,gapMode:_.gapMode}):null)}function getOutermostShadowParent(_){for(var R=null;_!==null;)_ instanceof ShadowRoot&&(R=_.host,_=_.host),_=_.parentNode;return R}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(_,R){return reactExports.createElement(RemoveScroll,__assign({},_,{ref:R,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var POPOVER_NAME="Popover",[createPopoverContext]=createContextScope$1(POPOVER_NAME,[createPopperScope]),usePopperScope$1=createPopperScope(),[PopoverProvider,usePopoverContext]=createPopoverContext(POPOVER_NAME),Popover=_=>{const{__scopePopover:R,children:O,open:I,defaultOpen:F,onOpenChange:z,modal:L=!1}=_,U=usePopperScope$1(R),q=reactExports.useRef(null),[G,V]=reactExports.useState(!1),[Z,Y]=useControllableState({prop:I,defaultProp:F??!1,onChange:z,caller:POPOVER_NAME});return jsxRuntimeExports.jsx(Root2$4,{...U,children:jsxRuntimeExports.jsx(PopoverProvider,{scope:R,contentId:useId(),triggerRef:q,open:Z,onOpenChange:Y,onOpenToggle:reactExports.useCallback(()=>Y(W=>!W),[Y]),hasCustomAnchor:G,onCustomAnchorAdd:reactExports.useCallback(()=>V(!0),[]),onCustomAnchorRemove:reactExports.useCallback(()=>V(!1),[]),modal:L,children:O})})};Popover.displayName=POPOVER_NAME;var ANCHOR_NAME="PopoverAnchor",PopoverAnchor=reactExports.forwardRef((_,R)=>{const{__scopePopover:O,...I}=_,F=usePopoverContext(ANCHOR_NAME,O),z=usePopperScope$1(O),{onCustomAnchorAdd:L,onCustomAnchorRemove:U}=F;return reactExports.useEffect(()=>(L(),()=>U()),[L,U]),jsxRuntimeExports.jsx(Anchor$1,{...z,...I,ref:R})});PopoverAnchor.displayName=ANCHOR_NAME;var TRIGGER_NAME$6="PopoverTrigger",PopoverTrigger=reactExports.forwardRef((_,R)=>{const{__scopePopover:O,...I}=_,F=usePopoverContext(TRIGGER_NAME$6,O),z=usePopperScope$1(O),L=useComposedRefs(R,F.triggerRef),U=jsxRuntimeExports.jsx(Primitive$2.button,{type:"button","aria-haspopup":"dialog","aria-expanded":F.open,"aria-controls":F.contentId,"data-state":getState$4(F.open),...I,ref:L,onClick:composeEventHandlers$1(_.onClick,F.onOpenToggle)});return F.hasCustomAnchor?U:jsxRuntimeExports.jsx(Anchor$1,{asChild:!0,...z,children:U})});PopoverTrigger.displayName=TRIGGER_NAME$6;var PORTAL_NAME$2="PopoverPortal",[PortalProvider$1,usePortalContext$1]=createPopoverContext(PORTAL_NAME$2,{forceMount:void 0}),PopoverPortal=_=>{const{__scopePopover:R,forceMount:O,children:I,container:F}=_,z=usePopoverContext(PORTAL_NAME$2,R);return jsxRuntimeExports.jsx(PortalProvider$1,{scope:R,forceMount:O,children:jsxRuntimeExports.jsx(Presence,{present:O||z.open,children:jsxRuntimeExports.jsx(Portal$3,{asChild:!0,container:F,children:I})})})};PopoverPortal.displayName=PORTAL_NAME$2;var CONTENT_NAME$5="PopoverContent",PopoverContent=reactExports.forwardRef((_,R)=>{const O=usePortalContext$1(CONTENT_NAME$5,_.__scopePopover),{forceMount:I=O.forceMount,...F}=_,z=usePopoverContext(CONTENT_NAME$5,_.__scopePopover);return jsxRuntimeExports.jsx(Presence,{present:I||z.open,children:z.modal?jsxRuntimeExports.jsx(PopoverContentModal,{...F,ref:R}):jsxRuntimeExports.jsx(PopoverContentNonModal,{...F,ref:R})})});PopoverContent.displayName=CONTENT_NAME$5;var Slot$2=createSlot$3("PopoverContent.RemoveScroll"),PopoverContentModal=reactExports.forwardRef((_,R)=>{const O=usePopoverContext(CONTENT_NAME$5,_.__scopePopover),I=reactExports.useRef(null),F=useComposedRefs(R,I),z=reactExports.useRef(!1);return reactExports.useEffect(()=>{const L=I.current;if(L)return hideOthers(L)},[]),jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$2,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(PopoverContentImpl,{..._,ref:F,trapFocus:O.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers$1(_.onCloseAutoFocus,L=>{L.preventDefault(),z.current||O.triggerRef.current?.focus()}),onPointerDownOutside:composeEventHandlers$1(_.onPointerDownOutside,L=>{const U=L.detail.originalEvent,q=U.button===0&&U.ctrlKey===!0,G=U.button===2||q;z.current=G},{checkForDefaultPrevented:!1}),onFocusOutside:composeEventHandlers$1(_.onFocusOutside,L=>L.preventDefault(),{checkForDefaultPrevented:!1})})})}),PopoverContentNonModal=reactExports.forwardRef((_,R)=>{const O=usePopoverContext(CONTENT_NAME$5,_.__scopePopover),I=reactExports.useRef(!1),F=reactExports.useRef(!1);return jsxRuntimeExports.jsx(PopoverContentImpl,{..._,ref:R,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:z=>{_.onCloseAutoFocus?.(z),z.defaultPrevented||(I.current||O.triggerRef.current?.focus(),z.preventDefault()),I.current=!1,F.current=!1},onInteractOutside:z=>{_.onInteractOutside?.(z),z.defaultPrevented||(I.current=!0,z.detail.originalEvent.type==="pointerdown"&&(F.current=!0));const L=z.target;O.triggerRef.current?.contains(L)&&z.preventDefault(),z.detail.originalEvent.type==="focusin"&&F.current&&z.preventDefault()}})}),PopoverContentImpl=reactExports.forwardRef((_,R)=>{const{__scopePopover:O,trapFocus:I,onOpenAutoFocus:F,onCloseAutoFocus:z,disableOutsidePointerEvents:L,onEscapeKeyDown:U,onPointerDownOutside:q,onFocusOutside:G,onInteractOutside:V,...Z}=_,Y=usePopoverContext(CONTENT_NAME$5,O),W=usePopperScope$1(O);return useFocusGuards(),jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:I,onMountAutoFocus:F,onUnmountAutoFocus:z,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:L,onInteractOutside:V,onEscapeKeyDown:U,onPointerDownOutside:q,onFocusOutside:G,onDismiss:()=>Y.onOpenChange(!1),children:jsxRuntimeExports.jsx(Content$3,{"data-state":getState$4(Y.open),role:"dialog",id:Y.contentId,...W,...Z,ref:R,style:{...Z.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CLOSE_NAME$1="PopoverClose",PopoverClose=reactExports.forwardRef((_,R)=>{const{__scopePopover:O,...I}=_,F=usePopoverContext(CLOSE_NAME$1,O);return jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",...I,ref:R,onClick:composeEventHandlers$1(_.onClick,()=>F.onOpenChange(!1))})});PopoverClose.displayName=CLOSE_NAME$1;var ARROW_NAME$1="PopoverArrow",PopoverArrow=reactExports.forwardRef((_,R)=>{const{__scopePopover:O,...I}=_,F=usePopperScope$1(O);return jsxRuntimeExports.jsx(Arrow,{...F,...I,ref:R})});PopoverArrow.displayName=ARROW_NAME$1;function getState$4(_){return _?"open":"closed"}var Root2$3=Popover,Trigger$3=PopoverTrigger,Portal$2=PopoverPortal,Content2$2=PopoverContent,Arrow2=PopoverArrow;const toKebabCase=_=>_.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=_=>_.replace(/^([A-Z])|[\s-_]+(\w)/g,(R,O,I)=>I?I.toUpperCase():O.toLowerCase()),toPascalCase=_=>{const R=toCamelCase(_);return R.charAt(0).toUpperCase()+R.slice(1)},mergeClasses=(..._)=>_.filter((R,O,I)=>!!R&&R.trim()!==""&&I.indexOf(R)===O).join(" ").trim(),hasA11yProp=_=>{for(const R in _)if(R.startsWith("aria-")||R==="role"||R==="title")return!0};var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon$1=reactExports.forwardRef(({color:_="currentColor",size:R=24,strokeWidth:O=2,absoluteStrokeWidth:I,className:F="",children:z,iconNode:L,...U},q)=>reactExports.createElement("svg",{ref:q,...defaultAttributes,width:R,height:R,stroke:_,strokeWidth:I?Number(O)*24/Number(R):O,className:mergeClasses("lucide",F),...!z&&!hasA11yProp(U)&&{"aria-hidden":"true"},...U},[...L.map(([G,V])=>reactExports.createElement(G,V)),...Array.isArray(z)?z:[z]]));const createLucideIcon=(_,R)=>{const O=reactExports.forwardRef(({className:I,...F},z)=>reactExports.createElement(Icon$1,{ref:z,iconNode:R,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(_))}`,`lucide-${_}`,I),...F}));return O.displayName=toPascalCase(_),O};const __iconNode$q=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ArrowUpDown=createLucideIcon("arrow-up-down",__iconNode$q);const __iconNode$p=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Camera=createLucideIcon("camera",__iconNode$p);const __iconNode$o=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$o);const __iconNode$n=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$n);const __iconNode$m=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ChevronUp=createLucideIcon("chevron-up",__iconNode$m);const __iconNode$l=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CircleQuestionMark=createLucideIcon("circle-question-mark",__iconNode$l);const __iconNode$k=[["path",{d:"M11 14h10",key:"1w8e9d"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v1.344",key:"1e62lh"}],["path",{d:"m17 18 4-4-4-4",key:"z2g111"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 1.793-1.113",key:"bjbb7m"}],["rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",key:"ublpy"}]],ClipboardPaste=createLucideIcon("clipboard-paste",__iconNode$k);const __iconNode$j=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Copy=createLucideIcon("copy",__iconNode$j);const __iconNode$i=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon("download",__iconNode$i);const __iconNode$h=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],FileDown=createLucideIcon("file-down",__iconNode$h);const __iconNode$g=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],FileSpreadsheet=createLucideIcon("file-spreadsheet",__iconNode$g);const __iconNode$f=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],Film=createLucideIcon("film",__iconNode$f);const __iconNode$e=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Link2=createLucideIcon("link-2",__iconNode$e);const __iconNode$d=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$d);const __iconNode$c=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Moon=createLucideIcon("moon",__iconNode$c);const __iconNode$b=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Pause=createLucideIcon("pause",__iconNode$b);const __iconNode$a=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Pencil=createLucideIcon("pencil",__iconNode$a);const __iconNode$9=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Play=createLucideIcon("play",__iconNode$9);const __iconNode$8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$8);const __iconNode$7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RotateCcw=createLucideIcon("rotate-ccw",__iconNode$7);const __iconNode$6=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],SkipForward=createLucideIcon("skip-forward",__iconNode$6);const __iconNode$5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Square=createLucideIcon("square",__iconNode$5);const __iconNode$4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sun=createLucideIcon("sun",__iconNode$4);const __iconNode$3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash2=createLucideIcon("trash-2",__iconNode$3);const __iconNode$2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Upload=createLucideIcon("upload",__iconNode$2);const __iconNode$1=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Video=createLucideIcon("video",__iconNode$1);const __iconNode=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode);function ok$2(){}function unreachable(){}function parse$7(_){const R=[],O=String(_||"");let I=O.indexOf(","),F=0,z=!1;for(;!z;){I===-1&&(I=O.length,z=!0);const L=O.slice(F,I).trim();(L||!z)&&R.push(L),F=I+1,I=O.indexOf(",",F)}return R}function stringify$2(_,R){const O={};return(_[_.length-1]===""?[..._,""]:_).join((O.padRight?" ":"")+","+(O.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$5={};function name$50(_,R){return(emptyOptions$5.jsx?nameReJsx:nameRe).test(_)}const re$3=/[ \t\n\f\r]/g;function whitespace(_){return typeof _=="object"?_.type==="text"?empty$3(_.value):!1:empty$3(_)}function empty$3(_){return _.replace(re$3,"")===""}class Schema{constructor(R,O,I){this.normal=O,this.property=R,I&&(this.space=I)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge$1(_,R){const O={},I={};for(const F of _)Object.assign(O,F.property),Object.assign(I,F.normal);return new Schema(O,I,R)}function normalize$2(_){return _.toLowerCase()}class Info{constructor(R,O){this.attribute=O,this.property=R}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean$1=increment(),booleanish=increment(),overloadedBoolean=increment(),number$6=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean:boolean$1,booleanish,commaOrSpaceSeparated,commaSeparated,number:number$6,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(R,O,I,F){let z=-1;if(super(R,O),mark(this,"space",F),typeof I=="number")for(;++z<checks.length;){const L=checks[z];mark(this,checks[z],(I&types[L])===types[L])}}}DefinedInfo.prototype.defined=!0;function mark(_,R,O){O&&(_[R]=O)}function create$3(_){const R={},O={};for(const[I,F]of Object.entries(_.properties)){const z=new DefinedInfo(I,_.transform(_.attributes||{},I),F,_.space);_.mustUseProperty&&_.mustUseProperty.includes(I)&&(z.mustUseProperty=!0),R[I]=z,O[normalize$2(I)]=I,O[normalize$2(z.attribute)]=I}return new Schema(R,O,_.space)}const aria=create$3({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number$6,ariaColIndex:number$6,ariaColSpan:number$6,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number$6,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number$6,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number$6,ariaRowIndex:number$6,ariaRowSpan:number$6,ariaSelected:booleanish,ariaSetSize:number$6,ariaSort:null,ariaValueMax:number$6,ariaValueMin:number$6,ariaValueNow:number$6,ariaValueText:null,role:null},transform(_,R){return R==="role"?R:"aria-"+R.slice(4).toLowerCase()}});function caseSensitiveTransform(_,R){return R in _?_[R]:R}function caseInsensitiveTransform(_,R){return caseSensitiveTransform(_,R.toLowerCase())}const html$3=create$3({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean$1,allowPaymentRequest:boolean$1,allowUserMedia:boolean$1,alt:null,as:null,async:boolean$1,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean$1,autoPlay:boolean$1,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean$1,cite:null,className:spaceSeparated,cols:number$6,colSpan:null,content:null,contentEditable:booleanish,controls:boolean$1,controlsList:spaceSeparated,coords:number$6|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean$1,defer:boolean$1,dir:null,dirName:null,disabled:boolean$1,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean$1,formTarget:null,headers:spaceSeparated,height:number$6,hidden:overloadedBoolean,high:number$6,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean$1,inputMode:null,integrity:null,is:null,isMap:boolean$1,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean$1,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean$1,low:number$6,manifest:null,max:null,maxLength:number$6,media:null,method:null,min:null,minLength:number$6,multiple:boolean$1,muted:boolean$1,name:null,nonce:null,noModule:boolean$1,noValidate:boolean$1,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean$1,optimum:number$6,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean$1,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean$1,referrerPolicy:null,rel:spaceSeparated,required:boolean$1,reversed:boolean$1,rows:number$6,rowSpan:number$6,sandbox:spaceSeparated,scope:null,scoped:boolean$1,seamless:boolean$1,selected:boolean$1,shadowRootClonable:boolean$1,shadowRootDelegatesFocus:boolean$1,shadowRootMode:null,shape:null,size:number$6,sizes:null,slot:null,span:number$6,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number$6,step:null,style:null,tabIndex:number$6,target:null,title:null,translate:null,type:null,typeMustMatch:boolean$1,useMap:null,value:booleanish,width:number$6,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number$6,borderColor:null,bottomMargin:number$6,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean$1,declare:boolean$1,event:null,face:null,frame:null,frameBorder:null,hSpace:number$6,leftMargin:number$6,link:null,longDesc:null,lowSrc:null,marginHeight:number$6,marginWidth:number$6,noResize:boolean$1,noHref:boolean$1,noShade:boolean$1,noWrap:boolean$1,object:null,profile:null,prompt:null,rev:null,rightMargin:number$6,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number$6,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number$6,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean$1,disableRemotePlayback:boolean$1,prefix:null,property:null,results:number$6,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create$3({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number$6,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number$6,amplitude:number$6,arabicForm:null,ascent:number$6,attributeName:null,attributeType:null,azimuth:number$6,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number$6,by:null,calcMode:null,capHeight:number$6,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number$6,diffuseConstant:number$6,direction:null,display:null,dur:null,divisor:number$6,dominantBaseline:null,download:boolean$1,dx:null,dy:null,edgeMode:null,editable:null,elevation:number$6,enableBackground:null,end:null,event:null,exponent:number$6,externalResourcesRequired:null,fill:null,fillOpacity:number$6,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number$6,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number$6,horizOriginX:number$6,horizOriginY:number$6,id:null,ideographic:number$6,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number$6,k:number$6,k1:number$6,k2:number$6,k3:number$6,k4:number$6,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number$6,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number$6,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number$6,overlineThickness:number$6,paintOrder:null,panose1:null,path:null,pathLength:number$6,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number$6,pointsAtY:number$6,pointsAtZ:number$6,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number$6,specularExponent:number$6,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number$6,strikethroughThickness:number$6,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number$6,strokeOpacity:number$6,strokeWidth:null,style:null,surfaceScale:number$6,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number$6,tableValues:null,target:null,targetX:number$6,targetY:number$6,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number$6,underlineThickness:number$6,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number$6,values:null,vAlphabetic:number$6,vMathematical:number$6,vectorEffect:null,vHanging:number$6,vIdeographic:number$6,version:null,vertAdvY:number$6,vertOriginX:number$6,vertOriginY:number$6,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number$6,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create$3({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(_,R){return"xlink:"+R.slice(5).toLowerCase()}}),xmlns=create$3({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create$3({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(_,R){return"xml:"+R.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find$1(_,R){const O=normalize$2(R);let I=R,F=Info;if(O in _.normal)return _.property[_.normal[O]];if(O.length>4&&O.slice(0,4)==="data"&&valid.test(R)){if(R.charAt(4)==="-"){const z=R.slice(5).replace(dash,camelcase);I="data"+z.charAt(0).toUpperCase()+z.slice(1)}else{const z=R.slice(4);if(!dash.test(z)){let L=z.replace(cap$1,kebab);L.charAt(0)!=="-"&&(L="-"+L),R="data"+L}}F=DefinedInfo}return new F(I,R)}function kebab(_){return"-"+_.toLowerCase()}function camelcase(_){return _.charAt(1).toUpperCase()}const html$2=merge$1([aria,html$3,xlink,xmlns,xml],"html"),svg=merge$1([aria,svg$1,xlink,xmlns,xml],"svg");function parse$6(_){const R=String(_||"").trim();return R?R.split(/[ \t\n\r\f]+/g):[]}function stringify$1(_){return _.join(" ").trim()}var cjs$2={},cjs$1,hasRequiredCjs$2;function requireCjs$2(){if(hasRequiredCjs$2)return cjs$1;hasRequiredCjs$2=1;var _=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,R=/\n/g,O=/^\s*/,I=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,F=/^:\s*/,z=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,L=/^[;\s]*/,U=/^\s+|\s+$/g,q=`
`,G="/",V="*",Z="",Y="comment",W="declaration";function ee(ie,se){if(typeof ie!="string")throw new TypeError("First argument must be a string");if(!ie)return[];se=se||{};var oe=1,le=1;function ue(ve){var $e=ve.match(R);$e&&(oe+=$e.length);var be=ve.lastIndexOf(q);le=~be?ve.length-be:le+ve.length}function ce(){var ve={line:oe,column:le};return function($e){return $e.position=new fe(ve),pe(),$e}}function fe(ve){this.start=ve,this.end={line:oe,column:le},this.source=se.source}fe.prototype.content=ie;function me(ve){var $e=new Error(se.source+":"+oe+":"+le+": "+ve);if($e.reason=ve,$e.filename=se.source,$e.line=oe,$e.column=le,$e.source=ie,!se.silent)throw $e}function he(ve){var $e=ve.exec(ie);if($e){var be=$e[0];return ue(be),ie=ie.slice(be.length),$e}}function pe(){he(O)}function ge(ve){var $e;for(ve=ve||[];$e=_e();)$e!==!1&&ve.push($e);return ve}function _e(){var ve=ce();if(!(G!=ie.charAt(0)||V!=ie.charAt(1))){for(var $e=2;Z!=ie.charAt($e)&&(V!=ie.charAt($e)||G!=ie.charAt($e+1));)++$e;if($e+=2,Z===ie.charAt($e-1))return me("End of comment missing");var be=ie.slice(2,$e-2);return le+=2,ue(be),ie=ie.slice($e),le+=2,ve({type:Y,comment:be})}}function ye(){var ve=ce(),$e=he(I);if($e){if(_e(),!he(F))return me("property missing ':'");var be=he(z),Ce=ve({type:W,property:ne($e[0].replace(_,Z)),value:be?ne(be[0].replace(_,Z)):Z});return he(L),Ce}}function we(){var ve=[];ge(ve);for(var $e;$e=ye();)$e!==!1&&(ve.push($e),ge(ve));return ve}return pe(),we()}function ne(ie){return ie?ie.replace(U,Z):Z}return cjs$1=ee,cjs$1}var hasRequiredCjs$1;function requireCjs$1(){if(hasRequiredCjs$1)return cjs$2;hasRequiredCjs$1=1;var _=cjs$2&&cjs$2.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(cjs$2,"__esModule",{value:!0}),cjs$2.default=O;const R=_(requireCjs$2());function O(I,F){let z=null;if(!I||typeof I!="string")return z;const L=(0,R.default)(I),U=typeof F=="function";return L.forEach(q=>{if(q.type!=="declaration")return;const{property:G,value:V}=q;U?F(G,V,q):V&&(z=z||{},z[G]=V)}),z}return cjs$2}var utilities={},hasRequiredUtilities;function requireUtilities(){if(hasRequiredUtilities)return utilities;hasRequiredUtilities=1,Object.defineProperty(utilities,"__esModule",{value:!0}),utilities.camelCase=void 0;var _=/^--[a-zA-Z0-9_-]+$/,R=/-([a-z])/g,O=/^[^-]+$/,I=/^-(webkit|moz|ms|o|khtml)-/,F=/^-(ms)-/,z=function(G){return!G||O.test(G)||_.test(G)},L=function(G,V){return V.toUpperCase()},U=function(G,V){return"".concat(V,"-")},q=function(G,V){return V===void 0&&(V={}),z(G)?G:(G=G.toLowerCase(),V.reactCompat?G=G.replace(F,U):G=G.replace(I,U),G.replace(R,L))};return utilities.camelCase=q,utilities}var cjs,hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var _=cjs&&cjs.__importDefault||function(F){return F&&F.__esModule?F:{default:F}},R=_(requireCjs$1()),O=requireUtilities();function I(F,z){var L={};return!F||typeof F!="string"||(0,R.default)(F,function(U,q){U&&q&&(L[(0,O.camelCase)(U,z)]=q)}),L}return I.default=I,cjs=I,cjs}var cjsExports=requireCjs();const styleToJs=getDefaultExportFromCjs(cjsExports),pointEnd=point$7("end"),pointStart=point$7("start");function point$7(_){return R;function R(O){const I=O&&O.position&&O.position[_]||{};if(typeof I.line=="number"&&I.line>0&&typeof I.column=="number"&&I.column>0)return{line:I.line,column:I.column,offset:typeof I.offset=="number"&&I.offset>-1?I.offset:void 0}}}function position$2(_){const R=pointStart(_),O=pointEnd(_);if(R&&O)return{start:R,end:O}}function stringifyPosition(_){return!_||typeof _!="object"?"":"position"in _||"type"in _?position$1(_.position):"start"in _||"end"in _?position$1(_):"line"in _||"column"in _?point$6(_):""}function point$6(_){return index$1(_&&_.line)+":"+index$1(_&&_.column)}function position$1(_){return point$6(_&&_.start)+"-"+point$6(_&&_.end)}function index$1(_){return _&&typeof _=="number"?_:1}class VFileMessage extends Error{constructor(R,O,I){super(),typeof O=="string"&&(I=O,O=void 0);let F="",z={},L=!1;if(O&&("line"in O&&"column"in O?z={place:O}:"start"in O&&"end"in O?z={place:O}:"type"in O?z={ancestors:[O],place:O.position}:z={...O}),typeof R=="string"?F=R:!z.cause&&R&&(L=!0,F=R.message,z.cause=R),!z.ruleId&&!z.source&&typeof I=="string"){const q=I.indexOf(":");q===-1?z.ruleId=I:(z.source=I.slice(0,q),z.ruleId=I.slice(q+1))}if(!z.place&&z.ancestors&&z.ancestors){const q=z.ancestors[z.ancestors.length-1];q&&(z.place=q.position)}const U=z.place&&"start"in z.place?z.place.start:z.place;this.ancestors=z.ancestors||void 0,this.cause=z.cause||void 0,this.column=U?U.column:void 0,this.fatal=void 0,this.file="",this.message=F,this.line=U?U.line:void 0,this.name=stringifyPosition(z.place)||"1:1",this.place=z.place||void 0,this.reason=this.message,this.ruleId=z.ruleId||void 0,this.source=z.source||void 0,this.stack=L&&z.cause&&typeof z.cause.stack=="string"?z.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(_,R){if(!R||R.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const O=R.filePath||void 0;let I;if(R.development){if(typeof R.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");I=developmentCreate(O,R.jsxDEV)}else{if(typeof R.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof R.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");I=productionCreate(O,R.jsx,R.jsxs)}const F={Fragment:R.Fragment,ancestors:[],components:R.components||{},create:I,elementAttributeNameCase:R.elementAttributeNameCase||"react",evaluater:R.createEvaluater?R.createEvaluater():void 0,filePath:O,ignoreInvalidStyle:R.ignoreInvalidStyle||!1,passKeys:R.passKeys!==!1,passNode:R.passNode||!1,schema:R.space==="svg"?svg:html$2,stylePropertyNameCase:R.stylePropertyNameCase||"dom",tableCellAlignToStyle:R.tableCellAlignToStyle!==!1},z=one$4(F,_,void 0);return z&&typeof z!="string"?z:F.create(_,F.Fragment,{children:z||void 0},void 0)}function one$4(_,R,O){if(R.type==="element")return element$3(_,R,O);if(R.type==="mdxFlowExpression"||R.type==="mdxTextExpression")return mdxExpression(_,R);if(R.type==="mdxJsxFlowElement"||R.type==="mdxJsxTextElement")return mdxJsxElement(_,R,O);if(R.type==="mdxjsEsm")return mdxEsm(_,R);if(R.type==="root")return root$4(_,R,O);if(R.type==="text")return text$8(_,R)}function element$3(_,R,O){const I=_.schema;let F=I;R.tagName.toLowerCase()==="svg"&&I.space==="html"&&(F=svg,_.schema=F),_.ancestors.push(R);const z=findComponentFromName(_,R.tagName,!1),L=createElementProps(_,R);let U=createChildren(_,R);return tableElements.has(R.tagName)&&(U=U.filter(function(q){return typeof q=="string"?!whitespace(q):!0})),addNode(_,L,z,R),addChildren(L,U),_.ancestors.pop(),_.schema=I,_.create(R,z,L,O)}function mdxExpression(_,R){if(R.data&&R.data.estree&&_.evaluater){const I=R.data.estree.body[0];return I.type,_.evaluater.evaluateExpression(I.expression)}crashEstree(_,R.position)}function mdxEsm(_,R){if(R.data&&R.data.estree&&_.evaluater)return _.evaluater.evaluateProgram(R.data.estree);crashEstree(_,R.position)}function mdxJsxElement(_,R,O){const I=_.schema;let F=I;R.name==="svg"&&I.space==="html"&&(F=svg,_.schema=F),_.ancestors.push(R);const z=R.name===null?_.Fragment:findComponentFromName(_,R.name,!0),L=createJsxElementProps(_,R),U=createChildren(_,R);return addNode(_,L,z,R),addChildren(L,U),_.ancestors.pop(),_.schema=I,_.create(R,z,L,O)}function root$4(_,R,O){const I={};return addChildren(I,createChildren(_,R)),_.create(R,_.Fragment,I,O)}function text$8(_,R){return R.value}function addNode(_,R,O,I){typeof O!="string"&&O!==_.Fragment&&_.passNode&&(R.node=I)}function addChildren(_,R){if(R.length>0){const O=R.length>1?R:R[0];O&&(_.children=O)}}function productionCreate(_,R,O){return I;function I(F,z,L,U){const G=Array.isArray(L.children)?O:R;return U?G(z,L,U):G(z,L)}}function developmentCreate(_,R){return O;function O(I,F,z,L){const U=Array.isArray(z.children),q=pointStart(I);return R(F,z,L,U,{columnNumber:q?q.column-1:void 0,fileName:_,lineNumber:q?q.line:void 0},void 0)}}function createElementProps(_,R){const O={};let I,F;for(F in R.properties)if(F!=="children"&&own$3.call(R.properties,F)){const z=createProperty(_,F,R.properties[F]);if(z){const[L,U]=z;_.tableCellAlignToStyle&&L==="align"&&typeof U=="string"&&tableCellElement.has(R.tagName)?I=U:O[L]=U}}if(I){const z=O.style||(O.style={});z[_.stylePropertyNameCase==="css"?"text-align":"textAlign"]=I}return O}function createJsxElementProps(_,R){const O={};for(const I of R.attributes)if(I.type==="mdxJsxExpressionAttribute")if(I.data&&I.data.estree&&_.evaluater){const z=I.data.estree.body[0];z.type;const L=z.expression;L.type;const U=L.properties[0];U.type,Object.assign(O,_.evaluater.evaluateExpression(U.argument))}else crashEstree(_,R.position);else{const F=I.name;let z;if(I.value&&typeof I.value=="object")if(I.value.data&&I.value.data.estree&&_.evaluater){const U=I.value.data.estree.body[0];U.type,z=_.evaluater.evaluateExpression(U.expression)}else crashEstree(_,R.position);else z=I.value===null?!0:I.value;O[F]=z}return O}function createChildren(_,R){const O=[];let I=-1;const F=_.passKeys?new Map:emptyMap;for(;++I<R.children.length;){const z=R.children[I];let L;if(_.passKeys){const q=z.type==="element"?z.tagName:z.type==="mdxJsxFlowElement"||z.type==="mdxJsxTextElement"?z.name:void 0;if(q){const G=F.get(q)||0;L=q+"-"+G,F.set(q,G+1)}}const U=one$4(_,z,L);U!==void 0&&O.push(U)}return O}function createProperty(_,R,O){const I=find$1(_.schema,R);if(!(O==null||typeof O=="number"&&Number.isNaN(O))){if(Array.isArray(O)&&(O=I.commaSeparated?stringify$2(O):stringify$1(O)),I.property==="style"){let F=typeof O=="object"?O:parseStyle(_,String(O));return _.stylePropertyNameCase==="css"&&(F=transformStylesToCssCasing(F)),["style",F]}return[_.elementAttributeNameCase==="react"&&I.space?hastToReact[I.property]||I.property:I.attribute,O]}}function parseStyle(_,R){try{return styleToJs(R,{reactCompat:!0})}catch(O){if(_.ignoreInvalidStyle)return{};const I=O,F=new VFileMessage("Cannot parse `style` attribute",{ancestors:_.ancestors,cause:I,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw F.file=_.filePath||void 0,F.url=docs+"#cannot-parse-style-attribute",F}}function findComponentFromName(_,R,O){let I;if(!O)I={type:"Literal",value:R};else if(R.includes(".")){const F=R.split(".");let z=-1,L;for(;++z<F.length;){const U=name$50(F[z])?{type:"Identifier",name:F[z]}:{type:"Literal",value:F[z]};L=L?{type:"MemberExpression",object:L,property:U,computed:!!(z&&U.type==="Literal"),optional:!1}:U}I=L}else I=name$50(R)&&!/^[a-z]/.test(R)?{type:"Identifier",name:R}:{type:"Literal",value:R};if(I.type==="Literal"){const F=I.value;return own$3.call(_.components,F)?_.components[F]:F}if(_.evaluater)return _.evaluater.evaluateExpression(I);crashEstree(_)}function crashEstree(_,R){const O=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:_.ancestors,place:R,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw O.file=_.filePath||void 0,O.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",O}function transformStylesToCssCasing(_){const R={};let O;for(O in _)own$3.call(_,O)&&(R[transformStyleToCssCasing(O)]=_[O]);return R}function transformStyleToCssCasing(_){let R=_.replace(cap,toDash);return R.slice(0,3)==="ms-"&&(R="-"+R),R}function toDash(_){return"-"+_.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$4={};function toString$3(_,R){const O=emptyOptions$4,I=typeof O.includeImageAlt=="boolean"?O.includeImageAlt:!0,F=typeof O.includeHtml=="boolean"?O.includeHtml:!0;return one$3(_,I,F)}function one$3(_,R,O){if(node(_)){if("value"in _)return _.type==="html"&&!O?"":_.value;if(R&&"alt"in _&&_.alt)return _.alt;if("children"in _)return all$1(_.children,R,O)}return Array.isArray(_)?all$1(_,R,O):""}function all$1(_,R,O){const I=[];let F=-1;for(;++F<_.length;)I[F]=one$3(_[F],R,O);return I.join("")}function node(_){return!!(_&&typeof _=="object")}const element$2=document.createElement("i");function decodeNamedCharacterReference(_){const R="&"+_+";";element$2.innerHTML=R;const O=element$2.textContent;return O.charCodeAt(O.length-1)===59&&_!=="semi"||O===R?!1:O}function splice(_,R,O,I){const F=_.length;let z=0,L;if(R<0?R=-R>F?0:F+R:R=R>F?F:R,O=O>0?O:0,I.length<1e4)L=Array.from(I),L.unshift(R,O),_.splice(...L);else for(O&&_.splice(R,O);z<I.length;)L=I.slice(z,z+1e4),L.unshift(R,0),_.splice(...L),z+=1e4,R+=1e4}function push(_,R){return _.length>0?(splice(_,_.length,0,R),_):R}const hasOwnProperty$1={}.hasOwnProperty;function combineExtensions(_){const R={};let O=-1;for(;++O<_.length;)syntaxExtension(R,_[O]);return R}function syntaxExtension(_,R){let O;for(O in R){const F=(hasOwnProperty$1.call(_,O)?_[O]:void 0)||(_[O]={}),z=R[O];let L;if(z)for(L in z){hasOwnProperty$1.call(F,L)||(F[L]=[]);const U=z[L];constructs(F[L],Array.isArray(U)?U:U?[U]:[])}}}function constructs(_,R){let O=-1;const I=[];for(;++O<R.length;)(R[O].add==="after"?_:I).push(R[O]);splice(_,0,0,I)}function decodeNumericCharacterReference(_,R){const O=Number.parseInt(_,R);return O<9||O===11||O>13&&O<32||O>126&&O<160||O>55295&&O<57344||O>64975&&O<65008||(O&65535)===65535||(O&65535)===65534||O>1114111?"":String.fromCodePoint(O)}function normalizeIdentifier(_){return _.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(_){return _!==null&&(_<32||_===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(_){return _!==null&&_<-2}function markdownLineEndingOrSpace(_){return _!==null&&(_<0||_===32)}function markdownSpace(_){return _===-2||_===-1||_===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(_){return R;function R(O){return O!==null&&O>-1&&_.test(String.fromCharCode(O))}}function normalizeUri(_){const R=[];let O=-1,I=0,F=0;for(;++O<_.length;){const z=_.charCodeAt(O);let L="";if(z===37&&asciiAlphanumeric(_.charCodeAt(O+1))&&asciiAlphanumeric(_.charCodeAt(O+2)))F=2;else if(z<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(z))||(L=String.fromCharCode(z));else if(z>55295&&z<57344){const U=_.charCodeAt(O+1);z<56320&&U>56319&&U<57344?(L=String.fromCharCode(z,U),F=1):L=""}else L=String.fromCharCode(z);L&&(R.push(_.slice(I,O),encodeURIComponent(L)),I=O+F+1,L=""),F&&(O+=F,F=0)}return R.join("")+_.slice(I)}function factorySpace(_,R,O,I){const F=I?I-1:Number.POSITIVE_INFINITY;let z=0;return L;function L(q){return markdownSpace(q)?(_.enter(O),U(q)):R(q)}function U(q){return markdownSpace(q)&&z++<F?(_.consume(q),U):(_.exit(O),R(q))}}const content$1={tokenize:initializeContent};function initializeContent(_){const R=_.attempt(this.parser.constructs.contentInitial,I,F);let O;return R;function I(U){if(U===null){_.consume(U);return}return _.enter("lineEnding"),_.consume(U),_.exit("lineEnding"),factorySpace(_,R,"linePrefix")}function F(U){return _.enter("paragraph"),z(U)}function z(U){const q=_.enter("chunkText",{contentType:"text",previous:O});return O&&(O.next=q),O=q,L(U)}function L(U){if(U===null){_.exit("chunkText"),_.exit("paragraph"),_.consume(U);return}return markdownLineEnding(U)?(_.consume(U),_.exit("chunkText"),z):(_.consume(U),L)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(_){const R=this,O=[];let I=0,F,z,L;return U;function U(le){if(I<O.length){const ue=O[I];return R.containerState=ue[1],_.attempt(ue[0].continuation,q,G)(le)}return G(le)}function q(le){if(I++,R.containerState._closeFlow){R.containerState._closeFlow=void 0,F&&oe();const ue=R.events.length;let ce=ue,fe;for(;ce--;)if(R.events[ce][0]==="exit"&&R.events[ce][1].type==="chunkFlow"){fe=R.events[ce][1].end;break}se(I);let me=ue;for(;me<R.events.length;)R.events[me][1].end={...fe},me++;return splice(R.events,ce+1,0,R.events.slice(ue)),R.events.length=me,G(le)}return U(le)}function G(le){if(I===O.length){if(!F)return Y(le);if(F.currentConstruct&&F.currentConstruct.concrete)return ee(le);R.interrupt=!!(F.currentConstruct&&!F._gfmTableDynamicInterruptHack)}return R.containerState={},_.check(containerConstruct,V,Z)(le)}function V(le){return F&&oe(),se(I),Y(le)}function Z(le){return R.parser.lazy[R.now().line]=I!==O.length,L=R.now().offset,ee(le)}function Y(le){return R.containerState={},_.attempt(containerConstruct,W,ee)(le)}function W(le){return I++,O.push([R.currentConstruct,R.containerState]),Y(le)}function ee(le){if(le===null){F&&oe(),se(0),_.consume(le);return}return F=F||R.parser.flow(R.now()),_.enter("chunkFlow",{_tokenizer:F,contentType:"flow",previous:z}),ne(le)}function ne(le){if(le===null){ie(_.exit("chunkFlow"),!0),se(0),_.consume(le);return}return markdownLineEnding(le)?(_.consume(le),ie(_.exit("chunkFlow")),I=0,R.interrupt=void 0,U):(_.consume(le),ne)}function ie(le,ue){const ce=R.sliceStream(le);if(ue&&ce.push(null),le.previous=z,z&&(z.next=le),z=le,F.defineSkip(le.start),F.write(ce),R.parser.lazy[le.start.line]){let fe=F.events.length;for(;fe--;)if(F.events[fe][1].start.offset<L&&(!F.events[fe][1].end||F.events[fe][1].end.offset>L))return;const me=R.events.length;let he=me,pe,ge;for(;he--;)if(R.events[he][0]==="exit"&&R.events[he][1].type==="chunkFlow"){if(pe){ge=R.events[he][1].end;break}pe=!0}for(se(I),fe=me;fe<R.events.length;)R.events[fe][1].end={...ge},fe++;splice(R.events,he+1,0,R.events.slice(me)),R.events.length=fe}}function se(le){let ue=O.length;for(;ue-- >le;){const ce=O[ue];R.containerState=ce[1],ce[0].exit.call(R,_)}O.length=le}function oe(){F.write([null]),z=void 0,F=void 0,R.containerState._closeFlow=void 0}}function tokenizeContainer(_,R,O){return factorySpace(_,_.attempt(this.parser.constructs.document,R,O),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(_){if(_===null||markdownLineEndingOrSpace(_)||unicodeWhitespace(_))return 1;if(unicodePunctuation(_))return 2}function resolveAll(_,R,O){const I=[];let F=-1;for(;++F<_.length;){const z=_[F].resolveAll;z&&!I.includes(z)&&(R=z(R,O),I.push(z))}return R}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(_,R){let O=-1,I,F,z,L,U,q,G,V;for(;++O<_.length;)if(_[O][0]==="enter"&&_[O][1].type==="attentionSequence"&&_[O][1]._close){for(I=O;I--;)if(_[I][0]==="exit"&&_[I][1].type==="attentionSequence"&&_[I][1]._open&&R.sliceSerialize(_[I][1]).charCodeAt(0)===R.sliceSerialize(_[O][1]).charCodeAt(0)){if((_[I][1]._close||_[O][1]._open)&&(_[O][1].end.offset-_[O][1].start.offset)%3&&!((_[I][1].end.offset-_[I][1].start.offset+_[O][1].end.offset-_[O][1].start.offset)%3))continue;q=_[I][1].end.offset-_[I][1].start.offset>1&&_[O][1].end.offset-_[O][1].start.offset>1?2:1;const Z={..._[I][1].end},Y={..._[O][1].start};movePoint(Z,-q),movePoint(Y,q),L={type:q>1?"strongSequence":"emphasisSequence",start:Z,end:{..._[I][1].end}},U={type:q>1?"strongSequence":"emphasisSequence",start:{..._[O][1].start},end:Y},z={type:q>1?"strongText":"emphasisText",start:{..._[I][1].end},end:{..._[O][1].start}},F={type:q>1?"strong":"emphasis",start:{...L.start},end:{...U.end}},_[I][1].end={...L.start},_[O][1].start={...U.end},G=[],_[I][1].end.offset-_[I][1].start.offset&&(G=push(G,[["enter",_[I][1],R],["exit",_[I][1],R]])),G=push(G,[["enter",F,R],["enter",L,R],["exit",L,R],["enter",z,R]]),G=push(G,resolveAll(R.parser.constructs.insideSpan.null,_.slice(I+1,O),R)),G=push(G,[["exit",z,R],["enter",U,R],["exit",U,R],["exit",F,R]]),_[O][1].end.offset-_[O][1].start.offset?(V=2,G=push(G,[["enter",_[O][1],R],["exit",_[O][1],R]])):V=0,splice(_,I-1,O-I+3,G),O=I+G.length-V-2;break}}for(O=-1;++O<_.length;)_[O][1].type==="attentionSequence"&&(_[O][1].type="data");return _}function tokenizeAttention(_,R){const O=this.parser.constructs.attentionMarkers.null,I=this.previous,F=classifyCharacter(I);let z;return L;function L(q){return z=q,_.enter("attentionSequence"),U(q)}function U(q){if(q===z)return _.consume(q),U;const G=_.exit("attentionSequence"),V=classifyCharacter(q),Z=!V||V===2&&F||O.includes(q),Y=!F||F===2&&V||O.includes(I);return G._open=!!(z===42?Z:Z&&(F||!Y)),G._close=!!(z===42?Y:Y&&(V||!Z)),R(q)}}function movePoint(_,R){_.column+=R,_.offset+=R,_._bufferIndex+=R}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(_,R,O){let I=0;return F;function F(W){return _.enter("autolink"),_.enter("autolinkMarker"),_.consume(W),_.exit("autolinkMarker"),_.enter("autolinkProtocol"),z}function z(W){return asciiAlpha(W)?(_.consume(W),L):W===64?O(W):G(W)}function L(W){return W===43||W===45||W===46||asciiAlphanumeric(W)?(I=1,U(W)):G(W)}function U(W){return W===58?(_.consume(W),I=0,q):(W===43||W===45||W===46||asciiAlphanumeric(W))&&I++<32?(_.consume(W),U):(I=0,G(W))}function q(W){return W===62?(_.exit("autolinkProtocol"),_.enter("autolinkMarker"),_.consume(W),_.exit("autolinkMarker"),_.exit("autolink"),R):W===null||W===32||W===60||asciiControl(W)?O(W):(_.consume(W),q)}function G(W){return W===64?(_.consume(W),V):asciiAtext(W)?(_.consume(W),G):O(W)}function V(W){return asciiAlphanumeric(W)?Z(W):O(W)}function Z(W){return W===46?(_.consume(W),I=0,V):W===62?(_.exit("autolinkProtocol").type="autolinkEmail",_.enter("autolinkMarker"),_.consume(W),_.exit("autolinkMarker"),_.exit("autolink"),R):Y(W)}function Y(W){if((W===45||asciiAlphanumeric(W))&&I++<63){const ee=W===45?Y:Z;return _.consume(W),ee}return O(W)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(_,R,O){return I;function I(z){return markdownSpace(z)?factorySpace(_,F,"linePrefix")(z):F(z)}function F(z){return z===null||markdownLineEnding(z)?R(z):O(z)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(_,R,O){const I=this;return F;function F(L){if(L===62){const U=I.containerState;return U.open||(_.enter("blockQuote",{_container:!0}),U.open=!0),_.enter("blockQuotePrefix"),_.enter("blockQuoteMarker"),_.consume(L),_.exit("blockQuoteMarker"),z}return O(L)}function z(L){return markdownSpace(L)?(_.enter("blockQuotePrefixWhitespace"),_.consume(L),_.exit("blockQuotePrefixWhitespace"),_.exit("blockQuotePrefix"),R):(_.exit("blockQuotePrefix"),R(L))}}function tokenizeBlockQuoteContinuation(_,R,O){const I=this;return F;function F(L){return markdownSpace(L)?factorySpace(_,z,"linePrefix",I.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):z(L)}function z(L){return _.attempt(blockQuote,R,O)(L)}}function exit$1(_){_.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(_,R,O){return I;function I(z){return _.enter("characterEscape"),_.enter("escapeMarker"),_.consume(z),_.exit("escapeMarker"),F}function F(z){return asciiPunctuation(z)?(_.enter("characterEscapeValue"),_.consume(z),_.exit("characterEscapeValue"),_.exit("characterEscape"),R):O(z)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(_,R,O){const I=this;let F=0,z,L;return U;function U(Z){return _.enter("characterReference"),_.enter("characterReferenceMarker"),_.consume(Z),_.exit("characterReferenceMarker"),q}function q(Z){return Z===35?(_.enter("characterReferenceMarkerNumeric"),_.consume(Z),_.exit("characterReferenceMarkerNumeric"),G):(_.enter("characterReferenceValue"),z=31,L=asciiAlphanumeric,V(Z))}function G(Z){return Z===88||Z===120?(_.enter("characterReferenceMarkerHexadecimal"),_.consume(Z),_.exit("characterReferenceMarkerHexadecimal"),_.enter("characterReferenceValue"),z=6,L=asciiHexDigit,V):(_.enter("characterReferenceValue"),z=7,L=asciiDigit,V(Z))}function V(Z){if(Z===59&&F){const Y=_.exit("characterReferenceValue");return L===asciiAlphanumeric&&!decodeNamedCharacterReference(I.sliceSerialize(Y))?O(Z):(_.enter("characterReferenceMarker"),_.consume(Z),_.exit("characterReferenceMarker"),_.exit("characterReference"),R)}return L(Z)&&F++<z?(_.consume(Z),V):O(Z)}}const nonLazyContinuation$1={partial:!0,tokenize:tokenizeNonLazyContinuation$1},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(_,R,O){const I=this,F={partial:!0,tokenize:ce};let z=0,L=0,U;return q;function q(fe){return G(fe)}function G(fe){const me=I.events[I.events.length-1];return z=me&&me[1].type==="linePrefix"?me[2].sliceSerialize(me[1],!0).length:0,U=fe,_.enter("codeFenced"),_.enter("codeFencedFence"),_.enter("codeFencedFenceSequence"),V(fe)}function V(fe){return fe===U?(L++,_.consume(fe),V):L<3?O(fe):(_.exit("codeFencedFenceSequence"),markdownSpace(fe)?factorySpace(_,Z,"whitespace")(fe):Z(fe))}function Z(fe){return fe===null||markdownLineEnding(fe)?(_.exit("codeFencedFence"),I.interrupt?R(fe):_.check(nonLazyContinuation$1,ne,ue)(fe)):(_.enter("codeFencedFenceInfo"),_.enter("chunkString",{contentType:"string"}),Y(fe))}function Y(fe){return fe===null||markdownLineEnding(fe)?(_.exit("chunkString"),_.exit("codeFencedFenceInfo"),Z(fe)):markdownSpace(fe)?(_.exit("chunkString"),_.exit("codeFencedFenceInfo"),factorySpace(_,W,"whitespace")(fe)):fe===96&&fe===U?O(fe):(_.consume(fe),Y)}function W(fe){return fe===null||markdownLineEnding(fe)?Z(fe):(_.enter("codeFencedFenceMeta"),_.enter("chunkString",{contentType:"string"}),ee(fe))}function ee(fe){return fe===null||markdownLineEnding(fe)?(_.exit("chunkString"),_.exit("codeFencedFenceMeta"),Z(fe)):fe===96&&fe===U?O(fe):(_.consume(fe),ee)}function ne(fe){return _.attempt(F,ue,ie)(fe)}function ie(fe){return _.enter("lineEnding"),_.consume(fe),_.exit("lineEnding"),se}function se(fe){return z>0&&markdownSpace(fe)?factorySpace(_,oe,"linePrefix",z+1)(fe):oe(fe)}function oe(fe){return fe===null||markdownLineEnding(fe)?_.check(nonLazyContinuation$1,ne,ue)(fe):(_.enter("codeFlowValue"),le(fe))}function le(fe){return fe===null||markdownLineEnding(fe)?(_.exit("codeFlowValue"),oe(fe)):(_.consume(fe),le)}function ue(fe){return _.exit("codeFenced"),R(fe)}function ce(fe,me,he){let pe=0;return ge;function ge($e){return fe.enter("lineEnding"),fe.consume($e),fe.exit("lineEnding"),_e}function _e($e){return fe.enter("codeFencedFence"),markdownSpace($e)?factorySpace(fe,ye,"linePrefix",I.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($e):ye($e)}function ye($e){return $e===U?(fe.enter("codeFencedFenceSequence"),we($e)):he($e)}function we($e){return $e===U?(pe++,fe.consume($e),we):pe>=L?(fe.exit("codeFencedFenceSequence"),markdownSpace($e)?factorySpace(fe,ve,"whitespace")($e):ve($e)):he($e)}function ve($e){return $e===null||markdownLineEnding($e)?(fe.exit("codeFencedFence"),me($e)):he($e)}}}function tokenizeNonLazyContinuation$1(_,R,O){const I=this;return F;function F(L){return L===null?O(L):(_.enter("lineEnding"),_.consume(L),_.exit("lineEnding"),z)}function z(L){return I.parser.lazy[I.now().line]?O(L):R(L)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(_,R,O){const I=this;return F;function F(G){return _.enter("codeIndented"),factorySpace(_,z,"linePrefix",5)(G)}function z(G){const V=I.events[I.events.length-1];return V&&V[1].type==="linePrefix"&&V[2].sliceSerialize(V[1],!0).length>=4?L(G):O(G)}function L(G){return G===null?q(G):markdownLineEnding(G)?_.attempt(furtherStart,L,q)(G):(_.enter("codeFlowValue"),U(G))}function U(G){return G===null||markdownLineEnding(G)?(_.exit("codeFlowValue"),L(G)):(_.consume(G),U)}function q(G){return _.exit("codeIndented"),R(G)}}function tokenizeFurtherStart(_,R,O){const I=this;return F;function F(L){return I.parser.lazy[I.now().line]?O(L):markdownLineEnding(L)?(_.enter("lineEnding"),_.consume(L),_.exit("lineEnding"),F):factorySpace(_,z,"linePrefix",5)(L)}function z(L){const U=I.events[I.events.length-1];return U&&U[1].type==="linePrefix"&&U[2].sliceSerialize(U[1],!0).length>=4?R(L):markdownLineEnding(L)?F(L):O(L)}}const codeText={name:"codeText",previous:previous$2,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(_){let R=_.length-4,O=3,I,F;if((_[O][1].type==="lineEnding"||_[O][1].type==="space")&&(_[R][1].type==="lineEnding"||_[R][1].type==="space")){for(I=O;++I<R;)if(_[I][1].type==="codeTextData"){_[O][1].type="codeTextPadding",_[R][1].type="codeTextPadding",O+=2,R-=2;break}}for(I=O-1,R++;++I<=R;)F===void 0?I!==R&&_[I][1].type!=="lineEnding"&&(F=I):(I===R||_[I][1].type==="lineEnding")&&(_[F][1].type="codeTextData",I!==F+2&&(_[F][1].end=_[I-1][1].end,_.splice(F+2,I-F-2),R-=I-F-2,I=F+2),F=void 0);return _}function previous$2(_){return _!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(_,R,O){let I=0,F,z;return L;function L(Z){return _.enter("codeText"),_.enter("codeTextSequence"),U(Z)}function U(Z){return Z===96?(_.consume(Z),I++,U):(_.exit("codeTextSequence"),q(Z))}function q(Z){return Z===null?O(Z):Z===32?(_.enter("space"),_.consume(Z),_.exit("space"),q):Z===96?(z=_.enter("codeTextSequence"),F=0,V(Z)):markdownLineEnding(Z)?(_.enter("lineEnding"),_.consume(Z),_.exit("lineEnding"),q):(_.enter("codeTextData"),G(Z))}function G(Z){return Z===null||Z===32||Z===96||markdownLineEnding(Z)?(_.exit("codeTextData"),q(Z)):(_.consume(Z),G)}function V(Z){return Z===96?(_.consume(Z),F++,V):F===I?(_.exit("codeTextSequence"),_.exit("codeText"),R(Z)):(z.type="codeTextData",G(Z))}}class SpliceBuffer{constructor(R){this.left=R?[...R]:[],this.right=[]}get(R){if(R<0||R>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+R+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return R<this.left.length?this.left[R]:this.right[this.right.length-R+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(R,O){const I=O??Number.POSITIVE_INFINITY;return I<this.left.length?this.left.slice(R,I):R>this.left.length?this.right.slice(this.right.length-I+this.left.length,this.right.length-R+this.left.length).reverse():this.left.slice(R).concat(this.right.slice(this.right.length-I+this.left.length).reverse())}splice(R,O,I){const F=O||0;this.setCursor(Math.trunc(R));const z=this.right.splice(this.right.length-F,Number.POSITIVE_INFINITY);return I&&chunkedPush(this.left,I),z.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(R){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(R)}pushMany(R){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,R)}unshift(R){this.setCursor(0),this.right.push(R)}unshiftMany(R){this.setCursor(0),chunkedPush(this.right,R.reverse())}setCursor(R){if(!(R===this.left.length||R>this.left.length&&this.right.length===0||R<0&&this.left.length===0))if(R<this.left.length){const O=this.left.splice(R,Number.POSITIVE_INFINITY);chunkedPush(this.right,O.reverse())}else{const O=this.right.splice(this.left.length+this.right.length-R,Number.POSITIVE_INFINITY);chunkedPush(this.left,O.reverse())}}}function chunkedPush(_,R){let O=0;if(R.length<1e4)_.push(...R);else for(;O<R.length;)_.push(...R.slice(O,O+1e4)),O+=1e4}function subtokenize(_){const R={};let O=-1,I,F,z,L,U,q,G;const V=new SpliceBuffer(_);for(;++O<V.length;){for(;O in R;)O=R[O];if(I=V.get(O),O&&I[1].type==="chunkFlow"&&V.get(O-1)[1].type==="listItemPrefix"&&(q=I[1]._tokenizer.events,z=0,z<q.length&&q[z][1].type==="lineEndingBlank"&&(z+=2),z<q.length&&q[z][1].type==="content"))for(;++z<q.length&&q[z][1].type!=="content";)q[z][1].type==="chunkText"&&(q[z][1]._isInFirstContentOfListItem=!0,z++);if(I[0]==="enter")I[1].contentType&&(Object.assign(R,subcontent(V,O)),O=R[O],G=!0);else if(I[1]._container){for(z=O,F=void 0;z--;)if(L=V.get(z),L[1].type==="lineEnding"||L[1].type==="lineEndingBlank")L[0]==="enter"&&(F&&(V.get(F)[1].type="lineEndingBlank"),L[1].type="lineEnding",F=z);else if(!(L[1].type==="linePrefix"||L[1].type==="listItemIndent"))break;F&&(I[1].end={...V.get(F)[1].start},U=V.slice(F,O),U.unshift(I),V.splice(F,O-F+1,U))}}return splice(_,0,Number.POSITIVE_INFINITY,V.slice(0)),!G}function subcontent(_,R){const O=_.get(R)[1],I=_.get(R)[2];let F=R-1;const z=[];let L=O._tokenizer;L||(L=I.parser[O.contentType](O.start),O._contentTypeTextTrailing&&(L._contentTypeTextTrailing=!0));const U=L.events,q=[],G={};let V,Z,Y=-1,W=O,ee=0,ne=0;const ie=[ne];for(;W;){for(;_.get(++F)[1]!==W;);z.push(F),W._tokenizer||(V=I.sliceStream(W),W.next||V.push(null),Z&&L.defineSkip(W.start),W._isInFirstContentOfListItem&&(L._gfmTasklistFirstContentOfListItem=!0),L.write(V),W._isInFirstContentOfListItem&&(L._gfmTasklistFirstContentOfListItem=void 0)),Z=W,W=W.next}for(W=O;++Y<U.length;)U[Y][0]==="exit"&&U[Y-1][0]==="enter"&&U[Y][1].type===U[Y-1][1].type&&U[Y][1].start.line!==U[Y][1].end.line&&(ne=Y+1,ie.push(ne),W._tokenizer=void 0,W.previous=void 0,W=W.next);for(L.events=[],W?(W._tokenizer=void 0,W.previous=void 0):ie.pop(),Y=ie.length;Y--;){const se=U.slice(ie[Y],ie[Y+1]),oe=z.pop();q.push([oe,oe+se.length-1]),_.splice(oe,2,se)}for(q.reverse(),Y=-1;++Y<q.length;)G[ee+q[Y][0]]=ee+q[Y][1],ee+=q[Y][1]-q[Y][0]-1;return G}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(_){return subtokenize(_),_}function tokenizeContent(_,R){let O;return I;function I(U){return _.enter("content"),O=_.enter("chunkContent",{contentType:"content"}),F(U)}function F(U){return U===null?z(U):markdownLineEnding(U)?_.check(continuationConstruct,L,z)(U):(_.consume(U),F)}function z(U){return _.exit("chunkContent"),_.exit("content"),R(U)}function L(U){return _.consume(U),_.exit("chunkContent"),O.next=_.enter("chunkContent",{contentType:"content",previous:O}),O=O.next,F}}function tokenizeContinuation(_,R,O){const I=this;return F;function F(L){return _.exit("chunkContent"),_.enter("lineEnding"),_.consume(L),_.exit("lineEnding"),factorySpace(_,z,"linePrefix")}function z(L){if(L===null||markdownLineEnding(L))return O(L);const U=I.events[I.events.length-1];return!I.parser.constructs.disable.null.includes("codeIndented")&&U&&U[1].type==="linePrefix"&&U[2].sliceSerialize(U[1],!0).length>=4?R(L):_.interrupt(I.parser.constructs.flow,O,R)(L)}}function factoryDestination(_,R,O,I,F,z,L,U,q){const G=q||Number.POSITIVE_INFINITY;let V=0;return Z;function Z(se){return se===60?(_.enter(I),_.enter(F),_.enter(z),_.consume(se),_.exit(z),Y):se===null||se===32||se===41||asciiControl(se)?O(se):(_.enter(I),_.enter(L),_.enter(U),_.enter("chunkString",{contentType:"string"}),ne(se))}function Y(se){return se===62?(_.enter(z),_.consume(se),_.exit(z),_.exit(F),_.exit(I),R):(_.enter(U),_.enter("chunkString",{contentType:"string"}),W(se))}function W(se){return se===62?(_.exit("chunkString"),_.exit(U),Y(se)):se===null||se===60||markdownLineEnding(se)?O(se):(_.consume(se),se===92?ee:W)}function ee(se){return se===60||se===62||se===92?(_.consume(se),W):W(se)}function ne(se){return!V&&(se===null||se===41||markdownLineEndingOrSpace(se))?(_.exit("chunkString"),_.exit(U),_.exit(L),_.exit(I),R(se)):V<G&&se===40?(_.consume(se),V++,ne):se===41?(_.consume(se),V--,ne):se===null||se===32||se===40||asciiControl(se)?O(se):(_.consume(se),se===92?ie:ne)}function ie(se){return se===40||se===41||se===92?(_.consume(se),ne):ne(se)}}function factoryLabel(_,R,O,I,F,z){const L=this;let U=0,q;return G;function G(W){return _.enter(I),_.enter(F),_.consume(W),_.exit(F),_.enter(z),V}function V(W){return U>999||W===null||W===91||W===93&&!q||W===94&&!U&&"_hiddenFootnoteSupport"in L.parser.constructs?O(W):W===93?(_.exit(z),_.enter(F),_.consume(W),_.exit(F),_.exit(I),R):markdownLineEnding(W)?(_.enter("lineEnding"),_.consume(W),_.exit("lineEnding"),V):(_.enter("chunkString",{contentType:"string"}),Z(W))}function Z(W){return W===null||W===91||W===93||markdownLineEnding(W)||U++>999?(_.exit("chunkString"),V(W)):(_.consume(W),q||(q=!markdownSpace(W)),W===92?Y:Z)}function Y(W){return W===91||W===92||W===93?(_.consume(W),U++,Z):Z(W)}}function factoryTitle(_,R,O,I,F,z){let L;return U;function U(Y){return Y===34||Y===39||Y===40?(_.enter(I),_.enter(F),_.consume(Y),_.exit(F),L=Y===40?41:Y,q):O(Y)}function q(Y){return Y===L?(_.enter(F),_.consume(Y),_.exit(F),_.exit(I),R):(_.enter(z),G(Y))}function G(Y){return Y===L?(_.exit(z),q(L)):Y===null?O(Y):markdownLineEnding(Y)?(_.enter("lineEnding"),_.consume(Y),_.exit("lineEnding"),factorySpace(_,G,"linePrefix")):(_.enter("chunkString",{contentType:"string"}),V(Y))}function V(Y){return Y===L||Y===null||markdownLineEnding(Y)?(_.exit("chunkString"),G(Y)):(_.consume(Y),Y===92?Z:V)}function Z(Y){return Y===L||Y===92?(_.consume(Y),V):V(Y)}}function factoryWhitespace(_,R){let O;return I;function I(F){return markdownLineEnding(F)?(_.enter("lineEnding"),_.consume(F),_.exit("lineEnding"),O=!0,I):markdownSpace(F)?factorySpace(_,I,O?"linePrefix":"lineSuffix")(F):R(F)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(_,R,O){const I=this;let F;return z;function z(W){return _.enter("definition"),L(W)}function L(W){return factoryLabel.call(I,_,U,O,"definitionLabel","definitionLabelMarker","definitionLabelString")(W)}function U(W){return F=normalizeIdentifier(I.sliceSerialize(I.events[I.events.length-1][1]).slice(1,-1)),W===58?(_.enter("definitionMarker"),_.consume(W),_.exit("definitionMarker"),q):O(W)}function q(W){return markdownLineEndingOrSpace(W)?factoryWhitespace(_,G)(W):G(W)}function G(W){return factoryDestination(_,V,O,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(W)}function V(W){return _.attempt(titleBefore,Z,Z)(W)}function Z(W){return markdownSpace(W)?factorySpace(_,Y,"whitespace")(W):Y(W)}function Y(W){return W===null||markdownLineEnding(W)?(_.exit("definition"),I.parser.defined.push(F),R(W)):O(W)}}function tokenizeTitleBefore(_,R,O){return I;function I(U){return markdownLineEndingOrSpace(U)?factoryWhitespace(_,F)(U):O(U)}function F(U){return factoryTitle(_,z,O,"definitionTitle","definitionTitleMarker","definitionTitleString")(U)}function z(U){return markdownSpace(U)?factorySpace(_,L,"whitespace")(U):L(U)}function L(U){return U===null||markdownLineEnding(U)?R(U):O(U)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(_,R,O){return I;function I(z){return _.enter("hardBreakEscape"),_.consume(z),F}function F(z){return markdownLineEnding(z)?(_.exit("hardBreakEscape"),R(z)):O(z)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(_,R){let O=_.length-2,I=3,F,z;return _[I][1].type==="whitespace"&&(I+=2),O-2>I&&_[O][1].type==="whitespace"&&(O-=2),_[O][1].type==="atxHeadingSequence"&&(I===O-1||O-4>I&&_[O-2][1].type==="whitespace")&&(O-=I+1===O?2:4),O>I&&(F={type:"atxHeadingText",start:_[I][1].start,end:_[O][1].end},z={type:"chunkText",start:_[I][1].start,end:_[O][1].end,contentType:"text"},splice(_,I,O-I+1,[["enter",F,R],["enter",z,R],["exit",z,R],["exit",F,R]])),_}function tokenizeHeadingAtx(_,R,O){let I=0;return F;function F(V){return _.enter("atxHeading"),z(V)}function z(V){return _.enter("atxHeadingSequence"),L(V)}function L(V){return V===35&&I++<6?(_.consume(V),L):V===null||markdownLineEndingOrSpace(V)?(_.exit("atxHeadingSequence"),U(V)):O(V)}function U(V){return V===35?(_.enter("atxHeadingSequence"),q(V)):V===null||markdownLineEnding(V)?(_.exit("atxHeading"),R(V)):markdownSpace(V)?factorySpace(_,U,"whitespace")(V):(_.enter("atxHeadingText"),G(V))}function q(V){return V===35?(_.consume(V),q):(_.exit("atxHeadingSequence"),U(V))}function G(V){return V===null||V===35||markdownLineEndingOrSpace(V)?(_.exit("atxHeadingText"),U(V)):(_.consume(V),G)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(_){let R=_.length;for(;R--&&!(_[R][0]==="enter"&&_[R][1].type==="htmlFlow"););return R>1&&_[R-2][1].type==="linePrefix"&&(_[R][1].start=_[R-2][1].start,_[R+1][1].start=_[R-2][1].start,_.splice(R-2,2)),_}function tokenizeHtmlFlow(_,R,O){const I=this;let F,z,L,U,q;return G;function G(Se){return V(Se)}function V(Se){return _.enter("htmlFlow"),_.enter("htmlFlowData"),_.consume(Se),Z}function Z(Se){return Se===33?(_.consume(Se),Y):Se===47?(_.consume(Se),z=!0,ne):Se===63?(_.consume(Se),F=3,I.interrupt?R:Me):asciiAlpha(Se)?(_.consume(Se),L=String.fromCharCode(Se),ie):O(Se)}function Y(Se){return Se===45?(_.consume(Se),F=2,W):Se===91?(_.consume(Se),F=5,U=0,ee):asciiAlpha(Se)?(_.consume(Se),F=4,I.interrupt?R:Me):O(Se)}function W(Se){return Se===45?(_.consume(Se),I.interrupt?R:Me):O(Se)}function ee(Se){const ze="CDATA[";return Se===ze.charCodeAt(U++)?(_.consume(Se),U===ze.length?I.interrupt?R:ye:ee):O(Se)}function ne(Se){return asciiAlpha(Se)?(_.consume(Se),L=String.fromCharCode(Se),ie):O(Se)}function ie(Se){if(Se===null||Se===47||Se===62||markdownLineEndingOrSpace(Se)){const ze=Se===47,Pe=L.toLowerCase();return!ze&&!z&&htmlRawNames.includes(Pe)?(F=1,I.interrupt?R(Se):ye(Se)):htmlBlockNames.includes(L.toLowerCase())?(F=6,ze?(_.consume(Se),se):I.interrupt?R(Se):ye(Se)):(F=7,I.interrupt&&!I.parser.lazy[I.now().line]?O(Se):z?oe(Se):le(Se))}return Se===45||asciiAlphanumeric(Se)?(_.consume(Se),L+=String.fromCharCode(Se),ie):O(Se)}function se(Se){return Se===62?(_.consume(Se),I.interrupt?R:ye):O(Se)}function oe(Se){return markdownSpace(Se)?(_.consume(Se),oe):ge(Se)}function le(Se){return Se===47?(_.consume(Se),ge):Se===58||Se===95||asciiAlpha(Se)?(_.consume(Se),ue):markdownSpace(Se)?(_.consume(Se),le):ge(Se)}function ue(Se){return Se===45||Se===46||Se===58||Se===95||asciiAlphanumeric(Se)?(_.consume(Se),ue):ce(Se)}function ce(Se){return Se===61?(_.consume(Se),fe):markdownSpace(Se)?(_.consume(Se),ce):le(Se)}function fe(Se){return Se===null||Se===60||Se===61||Se===62||Se===96?O(Se):Se===34||Se===39?(_.consume(Se),q=Se,me):markdownSpace(Se)?(_.consume(Se),fe):he(Se)}function me(Se){return Se===q?(_.consume(Se),q=null,pe):Se===null||markdownLineEnding(Se)?O(Se):(_.consume(Se),me)}function he(Se){return Se===null||Se===34||Se===39||Se===47||Se===60||Se===61||Se===62||Se===96||markdownLineEndingOrSpace(Se)?ce(Se):(_.consume(Se),he)}function pe(Se){return Se===47||Se===62||markdownSpace(Se)?le(Se):O(Se)}function ge(Se){return Se===62?(_.consume(Se),_e):O(Se)}function _e(Se){return Se===null||markdownLineEnding(Se)?ye(Se):markdownSpace(Se)?(_.consume(Se),_e):O(Se)}function ye(Se){return Se===45&&F===2?(_.consume(Se),be):Se===60&&F===1?(_.consume(Se),Ce):Se===62&&F===4?(_.consume(Se),Te):Se===63&&F===3?(_.consume(Se),Me):Se===93&&F===5?(_.consume(Se),Ne):markdownLineEnding(Se)&&(F===6||F===7)?(_.exit("htmlFlowData"),_.check(blankLineBefore,Re,we)(Se)):Se===null||markdownLineEnding(Se)?(_.exit("htmlFlowData"),we(Se)):(_.consume(Se),ye)}function we(Se){return _.check(nonLazyContinuationStart,ve,Re)(Se)}function ve(Se){return _.enter("lineEnding"),_.consume(Se),_.exit("lineEnding"),$e}function $e(Se){return Se===null||markdownLineEnding(Se)?we(Se):(_.enter("htmlFlowData"),ye(Se))}function be(Se){return Se===45?(_.consume(Se),Me):ye(Se)}function Ce(Se){return Se===47?(_.consume(Se),L="",De):ye(Se)}function De(Se){if(Se===62){const ze=L.toLowerCase();return htmlRawNames.includes(ze)?(_.consume(Se),Te):ye(Se)}return asciiAlpha(Se)&&L.length<8?(_.consume(Se),L+=String.fromCharCode(Se),De):ye(Se)}function Ne(Se){return Se===93?(_.consume(Se),Me):ye(Se)}function Me(Se){return Se===62?(_.consume(Se),Te):Se===45&&F===2?(_.consume(Se),Me):ye(Se)}function Te(Se){return Se===null||markdownLineEnding(Se)?(_.exit("htmlFlowData"),Re(Se)):(_.consume(Se),Te)}function Re(Se){return _.exit("htmlFlow"),R(Se)}}function tokenizeNonLazyContinuationStart(_,R,O){const I=this;return F;function F(L){return markdownLineEnding(L)?(_.enter("lineEnding"),_.consume(L),_.exit("lineEnding"),z):O(L)}function z(L){return I.parser.lazy[I.now().line]?O(L):R(L)}}function tokenizeBlankLineBefore(_,R,O){return I;function I(F){return _.enter("lineEnding"),_.consume(F),_.exit("lineEnding"),_.attempt(blankLine,R,O)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(_,R,O){const I=this;let F,z,L;return U;function U(Me){return _.enter("htmlText"),_.enter("htmlTextData"),_.consume(Me),q}function q(Me){return Me===33?(_.consume(Me),G):Me===47?(_.consume(Me),ce):Me===63?(_.consume(Me),le):asciiAlpha(Me)?(_.consume(Me),he):O(Me)}function G(Me){return Me===45?(_.consume(Me),V):Me===91?(_.consume(Me),z=0,ee):asciiAlpha(Me)?(_.consume(Me),oe):O(Me)}function V(Me){return Me===45?(_.consume(Me),W):O(Me)}function Z(Me){return Me===null?O(Me):Me===45?(_.consume(Me),Y):markdownLineEnding(Me)?(L=Z,Ce(Me)):(_.consume(Me),Z)}function Y(Me){return Me===45?(_.consume(Me),W):Z(Me)}function W(Me){return Me===62?be(Me):Me===45?Y(Me):Z(Me)}function ee(Me){const Te="CDATA[";return Me===Te.charCodeAt(z++)?(_.consume(Me),z===Te.length?ne:ee):O(Me)}function ne(Me){return Me===null?O(Me):Me===93?(_.consume(Me),ie):markdownLineEnding(Me)?(L=ne,Ce(Me)):(_.consume(Me),ne)}function ie(Me){return Me===93?(_.consume(Me),se):ne(Me)}function se(Me){return Me===62?be(Me):Me===93?(_.consume(Me),se):ne(Me)}function oe(Me){return Me===null||Me===62?be(Me):markdownLineEnding(Me)?(L=oe,Ce(Me)):(_.consume(Me),oe)}function le(Me){return Me===null?O(Me):Me===63?(_.consume(Me),ue):markdownLineEnding(Me)?(L=le,Ce(Me)):(_.consume(Me),le)}function ue(Me){return Me===62?be(Me):le(Me)}function ce(Me){return asciiAlpha(Me)?(_.consume(Me),fe):O(Me)}function fe(Me){return Me===45||asciiAlphanumeric(Me)?(_.consume(Me),fe):me(Me)}function me(Me){return markdownLineEnding(Me)?(L=me,Ce(Me)):markdownSpace(Me)?(_.consume(Me),me):be(Me)}function he(Me){return Me===45||asciiAlphanumeric(Me)?(_.consume(Me),he):Me===47||Me===62||markdownLineEndingOrSpace(Me)?pe(Me):O(Me)}function pe(Me){return Me===47?(_.consume(Me),be):Me===58||Me===95||asciiAlpha(Me)?(_.consume(Me),ge):markdownLineEnding(Me)?(L=pe,Ce(Me)):markdownSpace(Me)?(_.consume(Me),pe):be(Me)}function ge(Me){return Me===45||Me===46||Me===58||Me===95||asciiAlphanumeric(Me)?(_.consume(Me),ge):_e(Me)}function _e(Me){return Me===61?(_.consume(Me),ye):markdownLineEnding(Me)?(L=_e,Ce(Me)):markdownSpace(Me)?(_.consume(Me),_e):pe(Me)}function ye(Me){return Me===null||Me===60||Me===61||Me===62||Me===96?O(Me):Me===34||Me===39?(_.consume(Me),F=Me,we):markdownLineEnding(Me)?(L=ye,Ce(Me)):markdownSpace(Me)?(_.consume(Me),ye):(_.consume(Me),ve)}function we(Me){return Me===F?(_.consume(Me),F=void 0,$e):Me===null?O(Me):markdownLineEnding(Me)?(L=we,Ce(Me)):(_.consume(Me),we)}function ve(Me){return Me===null||Me===34||Me===39||Me===60||Me===61||Me===96?O(Me):Me===47||Me===62||markdownLineEndingOrSpace(Me)?pe(Me):(_.consume(Me),ve)}function $e(Me){return Me===47||Me===62||markdownLineEndingOrSpace(Me)?pe(Me):O(Me)}function be(Me){return Me===62?(_.consume(Me),_.exit("htmlTextData"),_.exit("htmlText"),R):O(Me)}function Ce(Me){return _.exit("htmlTextData"),_.enter("lineEnding"),_.consume(Me),_.exit("lineEnding"),De}function De(Me){return markdownSpace(Me)?factorySpace(_,Ne,"linePrefix",I.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Me):Ne(Me)}function Ne(Me){return _.enter("htmlTextData"),L(Me)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(_){let R=-1;const O=[];for(;++R<_.length;){const I=_[R][1];if(O.push(_[R]),I.type==="labelImage"||I.type==="labelLink"||I.type==="labelEnd"){const F=I.type==="labelImage"?4:2;I.type="data",R+=F}}return _.length!==O.length&&splice(_,0,_.length,O),_}function resolveToLabelEnd(_,R){let O=_.length,I=0,F,z,L,U;for(;O--;)if(F=_[O][1],z){if(F.type==="link"||F.type==="labelLink"&&F._inactive)break;_[O][0]==="enter"&&F.type==="labelLink"&&(F._inactive=!0)}else if(L){if(_[O][0]==="enter"&&(F.type==="labelImage"||F.type==="labelLink")&&!F._balanced&&(z=O,F.type!=="labelLink")){I=2;break}}else F.type==="labelEnd"&&(L=O);const q={type:_[z][1].type==="labelLink"?"link":"image",start:{..._[z][1].start},end:{..._[_.length-1][1].end}},G={type:"label",start:{..._[z][1].start},end:{..._[L][1].end}},V={type:"labelText",start:{..._[z+I+2][1].end},end:{..._[L-2][1].start}};return U=[["enter",q,R],["enter",G,R]],U=push(U,_.slice(z+1,z+I+3)),U=push(U,[["enter",V,R]]),U=push(U,resolveAll(R.parser.constructs.insideSpan.null,_.slice(z+I+4,L-3),R)),U=push(U,[["exit",V,R],_[L-2],_[L-1],["exit",G,R]]),U=push(U,_.slice(L+1)),U=push(U,[["exit",q,R]]),splice(_,z,_.length,U),_}function tokenizeLabelEnd(_,R,O){const I=this;let F=I.events.length,z,L;for(;F--;)if((I.events[F][1].type==="labelImage"||I.events[F][1].type==="labelLink")&&!I.events[F][1]._balanced){z=I.events[F][1];break}return U;function U(Y){return z?z._inactive?Z(Y):(L=I.parser.defined.includes(normalizeIdentifier(I.sliceSerialize({start:z.end,end:I.now()}))),_.enter("labelEnd"),_.enter("labelMarker"),_.consume(Y),_.exit("labelMarker"),_.exit("labelEnd"),q):O(Y)}function q(Y){return Y===40?_.attempt(resourceConstruct,V,L?V:Z)(Y):Y===91?_.attempt(referenceFullConstruct,V,L?G:Z)(Y):L?V(Y):Z(Y)}function G(Y){return _.attempt(referenceCollapsedConstruct,V,Z)(Y)}function V(Y){return R(Y)}function Z(Y){return z._balanced=!0,O(Y)}}function tokenizeResource(_,R,O){return I;function I(Z){return _.enter("resource"),_.enter("resourceMarker"),_.consume(Z),_.exit("resourceMarker"),F}function F(Z){return markdownLineEndingOrSpace(Z)?factoryWhitespace(_,z)(Z):z(Z)}function z(Z){return Z===41?V(Z):factoryDestination(_,L,U,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(Z)}function L(Z){return markdownLineEndingOrSpace(Z)?factoryWhitespace(_,q)(Z):V(Z)}function U(Z){return O(Z)}function q(Z){return Z===34||Z===39||Z===40?factoryTitle(_,G,O,"resourceTitle","resourceTitleMarker","resourceTitleString")(Z):V(Z)}function G(Z){return markdownLineEndingOrSpace(Z)?factoryWhitespace(_,V)(Z):V(Z)}function V(Z){return Z===41?(_.enter("resourceMarker"),_.consume(Z),_.exit("resourceMarker"),_.exit("resource"),R):O(Z)}}function tokenizeReferenceFull(_,R,O){const I=this;return F;function F(U){return factoryLabel.call(I,_,z,L,"reference","referenceMarker","referenceString")(U)}function z(U){return I.parser.defined.includes(normalizeIdentifier(I.sliceSerialize(I.events[I.events.length-1][1]).slice(1,-1)))?R(U):O(U)}function L(U){return O(U)}}function tokenizeReferenceCollapsed(_,R,O){return I;function I(z){return _.enter("reference"),_.enter("referenceMarker"),_.consume(z),_.exit("referenceMarker"),F}function F(z){return z===93?(_.enter("referenceMarker"),_.consume(z),_.exit("referenceMarker"),_.exit("reference"),R):O(z)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(_,R,O){const I=this;return F;function F(U){return _.enter("labelImage"),_.enter("labelImageMarker"),_.consume(U),_.exit("labelImageMarker"),z}function z(U){return U===91?(_.enter("labelMarker"),_.consume(U),_.exit("labelMarker"),_.exit("labelImage"),L):O(U)}function L(U){return U===94&&"_hiddenFootnoteSupport"in I.parser.constructs?O(U):R(U)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(_,R,O){const I=this;return F;function F(L){return _.enter("labelLink"),_.enter("labelMarker"),_.consume(L),_.exit("labelMarker"),_.exit("labelLink"),z}function z(L){return L===94&&"_hiddenFootnoteSupport"in I.parser.constructs?O(L):R(L)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(_,R){return O;function O(I){return _.enter("lineEnding"),_.consume(I),_.exit("lineEnding"),factorySpace(_,R,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(_,R,O){let I=0,F;return z;function z(G){return _.enter("thematicBreak"),L(G)}function L(G){return F=G,U(G)}function U(G){return G===F?(_.enter("thematicBreakSequence"),q(G)):I>=3&&(G===null||markdownLineEnding(G))?(_.exit("thematicBreak"),R(G)):O(G)}function q(G){return G===F?(_.consume(G),I++,q):(_.exit("thematicBreakSequence"),markdownSpace(G)?factorySpace(_,U,"whitespace")(G):U(G))}}const list$2={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$1};function tokenizeListStart(_,R,O){const I=this,F=I.events[I.events.length-1];let z=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,L=0;return U;function U(W){const ee=I.containerState.type||(W===42||W===43||W===45?"listUnordered":"listOrdered");if(ee==="listUnordered"?!I.containerState.marker||W===I.containerState.marker:asciiDigit(W)){if(I.containerState.type||(I.containerState.type=ee,_.enter(ee,{_container:!0})),ee==="listUnordered")return _.enter("listItemPrefix"),W===42||W===45?_.check(thematicBreak$2,O,G)(W):G(W);if(!I.interrupt||W===49)return _.enter("listItemPrefix"),_.enter("listItemValue"),q(W)}return O(W)}function q(W){return asciiDigit(W)&&++L<10?(_.consume(W),q):(!I.interrupt||L<2)&&(I.containerState.marker?W===I.containerState.marker:W===41||W===46)?(_.exit("listItemValue"),G(W)):O(W)}function G(W){return _.enter("listItemMarker"),_.consume(W),_.exit("listItemMarker"),I.containerState.marker=I.containerState.marker||W,_.check(blankLine,I.interrupt?O:V,_.attempt(listItemPrefixWhitespaceConstruct,Y,Z))}function V(W){return I.containerState.initialBlankLine=!0,z++,Y(W)}function Z(W){return markdownSpace(W)?(_.enter("listItemPrefixWhitespace"),_.consume(W),_.exit("listItemPrefixWhitespace"),Y):O(W)}function Y(W){return I.containerState.size=z+I.sliceSerialize(_.exit("listItemPrefix"),!0).length,R(W)}}function tokenizeListContinuation(_,R,O){const I=this;return I.containerState._closeFlow=void 0,_.check(blankLine,F,z);function F(U){return I.containerState.furtherBlankLines=I.containerState.furtherBlankLines||I.containerState.initialBlankLine,factorySpace(_,R,"listItemIndent",I.containerState.size+1)(U)}function z(U){return I.containerState.furtherBlankLines||!markdownSpace(U)?(I.containerState.furtherBlankLines=void 0,I.containerState.initialBlankLine=void 0,L(U)):(I.containerState.furtherBlankLines=void 0,I.containerState.initialBlankLine=void 0,_.attempt(indentConstruct,R,L)(U))}function L(U){return I.containerState._closeFlow=!0,I.interrupt=void 0,factorySpace(_,_.attempt(list$2,R,O),"linePrefix",I.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U)}}function tokenizeIndent$1(_,R,O){const I=this;return factorySpace(_,F,"listItemIndent",I.containerState.size+1);function F(z){const L=I.events[I.events.length-1];return L&&L[1].type==="listItemIndent"&&L[2].sliceSerialize(L[1],!0).length===I.containerState.size?R(z):O(z)}}function tokenizeListEnd(_){_.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(_,R,O){const I=this;return factorySpace(_,F,"listItemPrefixWhitespace",I.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function F(z){const L=I.events[I.events.length-1];return!markdownSpace(z)&&L&&L[1].type==="listItemPrefixWhitespace"?R(z):O(z)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(_,R){let O=_.length,I,F,z;for(;O--;)if(_[O][0]==="enter"){if(_[O][1].type==="content"){I=O;break}_[O][1].type==="paragraph"&&(F=O)}else _[O][1].type==="content"&&_.splice(O,1),!z&&_[O][1].type==="definition"&&(z=O);const L={type:"setextHeading",start:{..._[I][1].start},end:{..._[_.length-1][1].end}};return _[F][1].type="setextHeadingText",z?(_.splice(F,0,["enter",L,R]),_.splice(z+1,0,["exit",_[I][1],R]),_[I][1].end={..._[z][1].end}):_[I][1]=L,_.push(["exit",L,R]),_}function tokenizeSetextUnderline(_,R,O){const I=this;let F;return z;function z(G){let V=I.events.length,Z;for(;V--;)if(I.events[V][1].type!=="lineEnding"&&I.events[V][1].type!=="linePrefix"&&I.events[V][1].type!=="content"){Z=I.events[V][1].type==="paragraph";break}return!I.parser.lazy[I.now().line]&&(I.interrupt||Z)?(_.enter("setextHeadingLine"),F=G,L(G)):O(G)}function L(G){return _.enter("setextHeadingLineSequence"),U(G)}function U(G){return G===F?(_.consume(G),U):(_.exit("setextHeadingLineSequence"),markdownSpace(G)?factorySpace(_,q,"lineSuffix")(G):q(G))}function q(G){return G===null||markdownLineEnding(G)?(_.exit("setextHeadingLine"),R(G)):O(G)}}const flow$1={tokenize:initializeFlow};function initializeFlow(_){const R=this,O=_.attempt(blankLine,I,_.attempt(this.parser.constructs.flowInitial,F,factorySpace(_,_.attempt(this.parser.constructs.flow,F,_.attempt(content,F)),"linePrefix")));return O;function I(z){if(z===null){_.consume(z);return}return _.enter("lineEndingBlank"),_.consume(z),_.exit("lineEndingBlank"),R.currentConstruct=void 0,O}function F(z){if(z===null){_.consume(z);return}return _.enter("lineEnding"),_.consume(z),_.exit("lineEnding"),R.currentConstruct=void 0,O}}const resolver={resolveAll:createResolver()},string$3=initializeFactory("string"),text$7=initializeFactory("text");function initializeFactory(_){return{resolveAll:createResolver(_==="text"?resolveAllLineSuffixes:void 0),tokenize:R};function R(O){const I=this,F=this.parser.constructs[_],z=O.attempt(F,L,U);return L;function L(V){return G(V)?z(V):U(V)}function U(V){if(V===null){O.consume(V);return}return O.enter("data"),O.consume(V),q}function q(V){return G(V)?(O.exit("data"),z(V)):(O.consume(V),q)}function G(V){if(V===null)return!0;const Z=F[V];let Y=-1;if(Z)for(;++Y<Z.length;){const W=Z[Y];if(!W.previous||W.previous.call(I,I.previous))return!0}return!1}}}function createResolver(_){return R;function R(O,I){let F=-1,z;for(;++F<=O.length;)z===void 0?O[F]&&O[F][1].type==="data"&&(z=F,F++):(!O[F]||O[F][1].type!=="data")&&(F!==z+2&&(O[z][1].end=O[F-1][1].end,O.splice(z+2,F-z-2),F=z+2),z=void 0);return _?_(O,I):O}}function resolveAllLineSuffixes(_,R){let O=0;for(;++O<=_.length;)if((O===_.length||_[O][1].type==="lineEnding")&&_[O-1][1].type==="data"){const I=_[O-1][1],F=R.sliceStream(I);let z=F.length,L=-1,U=0,q;for(;z--;){const G=F[z];if(typeof G=="string"){for(L=G.length;G.charCodeAt(L-1)===32;)U++,L--;if(L)break;L=-1}else if(G===-2)q=!0,U++;else if(G!==-1){z++;break}}if(R._contentTypeTextTrailing&&O===_.length&&(U=0),U){const G={type:O===_.length||q||U<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:z?L:I.start._bufferIndex+L,_index:I.start._index+z,line:I.end.line,column:I.end.column-U,offset:I.end.offset-U},end:{...I.end}};I.end={...G.start},I.start.offset===I.end.offset?Object.assign(I,G):(_.splice(O,0,["enter",G,R],["exit",G,R]),O+=2)}O++}return _}const document$1={42:list$2,43:list$2,45:list$2,48:list$2,49:list$2,50:list$2,51:list$2,52:list$2,53:list$2,54:list$2,55:list$2,56:list$2,57:list$2,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string$2={38:characterReference,92:characterEscape},text$6={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string:string$2,text:text$6},Symbol.toStringTag,{value:"Module"}));function createTokenizer(_,R,O){let I={_bufferIndex:-1,_index:0,line:O&&O.line||1,column:O&&O.column||1,offset:O&&O.offset||0};const F={},z=[];let L=[],U=[];const q={attempt:me(ce),check:me(fe),consume:oe,enter:le,exit:ue,interrupt:me(fe,{interrupt:!0})},G={code:null,containerState:{},defineSkip:ne,events:[],now:ee,parser:_,previous:null,sliceSerialize:Y,sliceStream:W,write:Z};let V=R.tokenize.call(G,q);return R.resolveAll&&z.push(R),G;function Z(_e){return L=push(L,_e),ie(),L[L.length-1]!==null?[]:(he(R,0),G.events=resolveAll(z,G.events,G),G.events)}function Y(_e,ye){return serializeChunks(W(_e),ye)}function W(_e){return sliceChunks(L,_e)}function ee(){const{_bufferIndex:_e,_index:ye,line:we,column:ve,offset:$e}=I;return{_bufferIndex:_e,_index:ye,line:we,column:ve,offset:$e}}function ne(_e){F[_e.line]=_e.column,ge()}function ie(){let _e;for(;I._index<L.length;){const ye=L[I._index];if(typeof ye=="string")for(_e=I._index,I._bufferIndex<0&&(I._bufferIndex=0);I._index===_e&&I._bufferIndex<ye.length;)se(ye.charCodeAt(I._bufferIndex));else se(ye)}}function se(_e){V=V(_e)}function oe(_e){markdownLineEnding(_e)?(I.line++,I.column=1,I.offset+=_e===-3?2:1,ge()):_e!==-1&&(I.column++,I.offset++),I._bufferIndex<0?I._index++:(I._bufferIndex++,I._bufferIndex===L[I._index].length&&(I._bufferIndex=-1,I._index++)),G.previous=_e}function le(_e,ye){const we=ye||{};return we.type=_e,we.start=ee(),G.events.push(["enter",we,G]),U.push(we),we}function ue(_e){const ye=U.pop();return ye.end=ee(),G.events.push(["exit",ye,G]),ye}function ce(_e,ye){he(_e,ye.from)}function fe(_e,ye){ye.restore()}function me(_e,ye){return we;function we(ve,$e,be){let Ce,De,Ne,Me;return Array.isArray(ve)?Re(ve):"tokenize"in ve?Re([ve]):Te(ve);function Te(Qe){return Ze;function Ze(Le){const ke=Le!==null&&Qe[Le],Ge=Le!==null&&Qe.null,Ke=[...Array.isArray(ke)?ke:ke?[ke]:[],...Array.isArray(Ge)?Ge:Ge?[Ge]:[]];return Re(Ke)(Le)}}function Re(Qe){return Ce=Qe,De=0,Qe.length===0?be:Se(Qe[De])}function Se(Qe){return Ze;function Ze(Le){return Me=pe(),Ne=Qe,Qe.partial||(G.currentConstruct=Qe),Qe.name&&G.parser.constructs.disable.null.includes(Qe.name)?Pe():Qe.tokenize.call(ye?Object.assign(Object.create(G),ye):G,q,ze,Pe)(Le)}}function ze(Qe){return _e(Ne,Me),$e}function Pe(Qe){return Me.restore(),++De<Ce.length?Se(Ce[De]):be}}}function he(_e,ye){_e.resolveAll&&!z.includes(_e)&&z.push(_e),_e.resolve&&splice(G.events,ye,G.events.length-ye,_e.resolve(G.events.slice(ye),G)),_e.resolveTo&&(G.events=_e.resolveTo(G.events,G))}function pe(){const _e=ee(),ye=G.previous,we=G.currentConstruct,ve=G.events.length,$e=Array.from(U);return{from:ve,restore:be};function be(){I=_e,G.previous=ye,G.currentConstruct=we,G.events.length=ve,U=$e,ge()}}function ge(){I.line in F&&I.column<2&&(I.column=F[I.line],I.offset+=F[I.line]-1)}}function sliceChunks(_,R){const O=R.start._index,I=R.start._bufferIndex,F=R.end._index,z=R.end._bufferIndex;let L;if(O===F)L=[_[O].slice(I,z)];else{if(L=_.slice(O,F),I>-1){const U=L[0];typeof U=="string"?L[0]=U.slice(I):L.shift()}z>0&&L.push(_[F].slice(0,z))}return L}function serializeChunks(_,R){let O=-1;const I=[];let F;for(;++O<_.length;){const z=_[O];let L;if(typeof z=="string")L=z;else switch(z){case-5:{L="\r";break}case-4:{L=`
`;break}case-3:{L=`\r
`;break}case-2:{L=R?" ":"	";break}case-1:{if(!R&&F)continue;L=" ";break}default:L=String.fromCharCode(z)}F=z===-2,I.push(L)}return I.join("")}function parse$5(_){const I={constructs:combineExtensions([defaultConstructs,...(_||{}).extensions||[]]),content:F(content$1),defined:[],document:F(document$2),flow:F(flow$1),lazy:{},string:F(string$3),text:F(text$7)};return I;function F(z){return L;function L(U){return createTokenizer(I,z,U)}}}function postprocess(_){for(;!subtokenize(_););return _}const search$1=/[\0\t\n\r]/g;function preprocess(){let _=1,R="",O=!0,I;return F;function F(z,L,U){const q=[];let G,V,Z,Y,W;for(z=R+(typeof z=="string"?z.toString():new TextDecoder(L||void 0).decode(z)),Z=0,R="",O&&(z.charCodeAt(0)===65279&&Z++,O=void 0);Z<z.length;){if(search$1.lastIndex=Z,G=search$1.exec(z),Y=G&&G.index!==void 0?G.index:z.length,W=z.charCodeAt(Y),!G){R=z.slice(Z);break}if(W===10&&Z===Y&&I)q.push(-3),I=void 0;else switch(I&&(q.push(-5),I=void 0),Z<Y&&(q.push(z.slice(Z,Y)),_+=Y-Z),W){case 0:{q.push(65533),_++;break}case 9:{for(V=Math.ceil(_/4)*4,q.push(-2);_++<V;)q.push(-1);break}case 10:{q.push(-4),_=1;break}default:I=!0,_=1}Z=Y+1}return U&&(I&&q.push(-5),R&&q.push(R),q.push(null)),q}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(_){return _.replace(characterEscapeOrReference,decode)}function decode(_,R,O){if(R)return R;if(O.charCodeAt(0)===35){const F=O.charCodeAt(1),z=F===120||F===88;return decodeNumericCharacterReference(O.slice(z?2:1),z?16:10)}return decodeNamedCharacterReference(O)||_}const own$2={}.hasOwnProperty;function fromMarkdown(_,R,O){return typeof R!="string"&&(O=R,R=void 0),compiler(O)(postprocess(parse$5(O).document().write(preprocess()(_,R,!0))))}function compiler(_){const R={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:z(nt),autolinkProtocol:pe,autolinkEmail:pe,atxHeading:z(tt),blockQuote:z(Ge),characterEscape:pe,characterReference:pe,codeFenced:z(Ke),codeFencedFenceInfo:L,codeFencedFenceMeta:L,codeIndented:z(Ke,L),codeText:z(He,L),codeTextData:pe,data:pe,codeFlowValue:pe,definition:z(st),definitionDestinationString:L,definitionLabelString:L,definitionTitleString:L,emphasis:z(Ae),hardBreakEscape:z(rt),hardBreakTrailing:z(rt),htmlFlow:z(We,L),htmlFlowData:pe,htmlText:z(We,L),htmlTextData:pe,image:z(qe),label:L,link:z(nt),listItem:z(je),listItemValue:Y,listOrdered:z(ft,Z),listUnordered:z(ft),paragraph:z(Ve),reference:Se,referenceString:L,resourceDestinationString:L,resourceTitleString:L,setextHeading:z(tt),strong:z(Ie),thematicBreak:z(Xe)},exit:{atxHeading:q(),atxHeadingSequence:ce,autolink:q(),autolinkEmail:ke,autolinkProtocol:Le,blockQuote:q(),characterEscapeValue:ge,characterReferenceMarkerHexadecimal:Pe,characterReferenceMarkerNumeric:Pe,characterReferenceValue:Qe,characterReference:Ze,codeFenced:q(ie),codeFencedFence:ne,codeFencedFenceInfo:W,codeFencedFenceMeta:ee,codeFlowValue:ge,codeIndented:q(se),codeText:q($e),codeTextData:ge,data:ge,definition:q(),definitionDestinationString:ue,definitionLabelString:oe,definitionTitleString:le,emphasis:q(),hardBreakEscape:q(ye),hardBreakTrailing:q(ye),htmlFlow:q(we),htmlFlowData:ge,htmlText:q(ve),htmlTextData:ge,image:q(Ce),label:Ne,labelText:De,lineEnding:_e,link:q(be),listItem:q(),listOrdered:q(),listUnordered:q(),paragraph:q(),referenceString:ze,resourceDestinationString:Me,resourceTitleString:Te,resource:Re,setextHeading:q(he),setextHeadingLineSequence:me,setextHeadingText:fe,strong:q(),thematicBreak:q()}};configure(R,(_||{}).mdastExtensions||[]);const O={};return I;function I(Fe){let Je={type:"root",children:[]};const et={stack:[Je],tokenStack:[],config:R,enter:U,exit:G,buffer:L,resume:V,data:O},ut=[];let ct=-1;for(;++ct<Fe.length;)if(Fe[ct][1].type==="listOrdered"||Fe[ct][1].type==="listUnordered")if(Fe[ct][0]==="enter")ut.push(ct);else{const bt=ut.pop();ct=F(Fe,bt,ct)}for(ct=-1;++ct<Fe.length;){const bt=R[Fe[ct][0]];own$2.call(bt,Fe[ct][1].type)&&bt[Fe[ct][1].type].call(Object.assign({sliceSerialize:Fe[ct][2].sliceSerialize},et),Fe[ct][1])}if(et.tokenStack.length>0){const bt=et.tokenStack[et.tokenStack.length-1];(bt[1]||defaultOnError).call(et,void 0,bt[0])}for(Je.position={start:point$5(Fe.length>0?Fe[0][1].start:{line:1,column:1,offset:0}),end:point$5(Fe.length>0?Fe[Fe.length-2][1].end:{line:1,column:1,offset:0})},ct=-1;++ct<R.transforms.length;)Je=R.transforms[ct](Je)||Je;return Je}function F(Fe,Je,et){let ut=Je-1,ct=-1,bt=!1,ht,xt,$t,At;for(;++ut<=et;){const Ct=Fe[ut];switch(Ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ct[0]==="enter"?ct++:ct--,At=void 0;break}case"lineEndingBlank":{Ct[0]==="enter"&&(ht&&!At&&!ct&&!$t&&($t=ut),At=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:At=void 0}if(!ct&&Ct[0]==="enter"&&Ct[1].type==="listItemPrefix"||ct===-1&&Ct[0]==="exit"&&(Ct[1].type==="listUnordered"||Ct[1].type==="listOrdered")){if(ht){let Pt=ut;for(xt=void 0;Pt--;){const Oe=Fe[Pt];if(Oe[1].type==="lineEnding"||Oe[1].type==="lineEndingBlank"){if(Oe[0]==="exit")continue;xt&&(Fe[xt][1].type="lineEndingBlank",bt=!0),Oe[1].type="lineEnding",xt=Pt}else if(!(Oe[1].type==="linePrefix"||Oe[1].type==="blockQuotePrefix"||Oe[1].type==="blockQuotePrefixWhitespace"||Oe[1].type==="blockQuoteMarker"||Oe[1].type==="listItemIndent"))break}$t&&(!xt||$t<xt)&&(ht._spread=!0),ht.end=Object.assign({},xt?Fe[xt][1].start:Ct[1].end),Fe.splice(xt||ut,0,["exit",ht,Ct[2]]),ut++,et++}if(Ct[1].type==="listItemPrefix"){const Pt={type:"listItem",_spread:!1,start:Object.assign({},Ct[1].start),end:void 0};ht=Pt,Fe.splice(ut,0,["enter",Pt,Ct[2]]),ut++,et++,$t=void 0,At=!0}}}return Fe[Je][1]._spread=bt,et}function z(Fe,Je){return et;function et(ut){U.call(this,Fe(ut),ut),Je&&Je.call(this,ut)}}function L(){this.stack.push({type:"fragment",children:[]})}function U(Fe,Je,et){this.stack[this.stack.length-1].children.push(Fe),this.stack.push(Fe),this.tokenStack.push([Je,et||void 0]),Fe.position={start:point$5(Je.start),end:void 0}}function q(Fe){return Je;function Je(et){Fe&&Fe.call(this,et),G.call(this,et)}}function G(Fe,Je){const et=this.stack.pop(),ut=this.tokenStack.pop();if(ut)ut[0].type!==Fe.type&&(Je?Je.call(this,Fe,ut[0]):(ut[1]||defaultOnError).call(this,Fe,ut[0]));else throw new Error("Cannot close `"+Fe.type+"` ("+stringifyPosition({start:Fe.start,end:Fe.end})+"): its not open");et.position.end=point$5(Fe.end)}function V(){return toString$3(this.stack.pop())}function Z(){this.data.expectingFirstListItemValue=!0}function Y(Fe){if(this.data.expectingFirstListItemValue){const Je=this.stack[this.stack.length-2];Je.start=Number.parseInt(this.sliceSerialize(Fe),10),this.data.expectingFirstListItemValue=void 0}}function W(){const Fe=this.resume(),Je=this.stack[this.stack.length-1];Je.lang=Fe}function ee(){const Fe=this.resume(),Je=this.stack[this.stack.length-1];Je.meta=Fe}function ne(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function ie(){const Fe=this.resume(),Je=this.stack[this.stack.length-1];Je.value=Fe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function se(){const Fe=this.resume(),Je=this.stack[this.stack.length-1];Je.value=Fe.replace(/(\r?\n|\r)$/g,"")}function oe(Fe){const Je=this.resume(),et=this.stack[this.stack.length-1];et.label=Je,et.identifier=normalizeIdentifier(this.sliceSerialize(Fe)).toLowerCase()}function le(){const Fe=this.resume(),Je=this.stack[this.stack.length-1];Je.title=Fe}function ue(){const Fe=this.resume(),Je=this.stack[this.stack.length-1];Je.url=Fe}function ce(Fe){const Je=this.stack[this.stack.length-1];if(!Je.depth){const et=this.sliceSerialize(Fe).length;Je.depth=et}}function fe(){this.data.setextHeadingSlurpLineEnding=!0}function me(Fe){const Je=this.stack[this.stack.length-1];Je.depth=this.sliceSerialize(Fe).codePointAt(0)===61?1:2}function he(){this.data.setextHeadingSlurpLineEnding=void 0}function pe(Fe){const et=this.stack[this.stack.length-1].children;let ut=et[et.length-1];(!ut||ut.type!=="text")&&(ut=Ue(),ut.position={start:point$5(Fe.start),end:void 0},et.push(ut)),this.stack.push(ut)}function ge(Fe){const Je=this.stack.pop();Je.value+=this.sliceSerialize(Fe),Je.position.end=point$5(Fe.end)}function _e(Fe){const Je=this.stack[this.stack.length-1];if(this.data.atHardBreak){const et=Je.children[Je.children.length-1];et.position.end=point$5(Fe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&R.canContainEols.includes(Je.type)&&(pe.call(this,Fe),ge.call(this,Fe))}function ye(){this.data.atHardBreak=!0}function we(){const Fe=this.resume(),Je=this.stack[this.stack.length-1];Je.value=Fe}function ve(){const Fe=this.resume(),Je=this.stack[this.stack.length-1];Je.value=Fe}function $e(){const Fe=this.resume(),Je=this.stack[this.stack.length-1];Je.value=Fe}function be(){const Fe=this.stack[this.stack.length-1];if(this.data.inReference){const Je=this.data.referenceType||"shortcut";Fe.type+="Reference",Fe.referenceType=Je,delete Fe.url,delete Fe.title}else delete Fe.identifier,delete Fe.label;this.data.referenceType=void 0}function Ce(){const Fe=this.stack[this.stack.length-1];if(this.data.inReference){const Je=this.data.referenceType||"shortcut";Fe.type+="Reference",Fe.referenceType=Je,delete Fe.url,delete Fe.title}else delete Fe.identifier,delete Fe.label;this.data.referenceType=void 0}function De(Fe){const Je=this.sliceSerialize(Fe),et=this.stack[this.stack.length-2];et.label=decodeString(Je),et.identifier=normalizeIdentifier(Je).toLowerCase()}function Ne(){const Fe=this.stack[this.stack.length-1],Je=this.resume(),et=this.stack[this.stack.length-1];if(this.data.inReference=!0,et.type==="link"){const ut=Fe.children;et.children=ut}else et.alt=Je}function Me(){const Fe=this.resume(),Je=this.stack[this.stack.length-1];Je.url=Fe}function Te(){const Fe=this.resume(),Je=this.stack[this.stack.length-1];Je.title=Fe}function Re(){this.data.inReference=void 0}function Se(){this.data.referenceType="collapsed"}function ze(Fe){const Je=this.resume(),et=this.stack[this.stack.length-1];et.label=Je,et.identifier=normalizeIdentifier(this.sliceSerialize(Fe)).toLowerCase(),this.data.referenceType="full"}function Pe(Fe){this.data.characterReferenceType=Fe.type}function Qe(Fe){const Je=this.sliceSerialize(Fe),et=this.data.characterReferenceType;let ut;et?(ut=decodeNumericCharacterReference(Je,et==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ut=decodeNamedCharacterReference(Je);const ct=this.stack[this.stack.length-1];ct.value+=ut}function Ze(Fe){const Je=this.stack.pop();Je.position.end=point$5(Fe.end)}function Le(Fe){ge.call(this,Fe);const Je=this.stack[this.stack.length-1];Je.url=this.sliceSerialize(Fe)}function ke(Fe){ge.call(this,Fe);const Je=this.stack[this.stack.length-1];Je.url="mailto:"+this.sliceSerialize(Fe)}function Ge(){return{type:"blockquote",children:[]}}function Ke(){return{type:"code",lang:null,meta:null,value:""}}function He(){return{type:"inlineCode",value:""}}function st(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ae(){return{type:"emphasis",children:[]}}function tt(){return{type:"heading",depth:0,children:[]}}function rt(){return{type:"break"}}function We(){return{type:"html",value:""}}function qe(){return{type:"image",title:null,url:"",alt:null}}function nt(){return{type:"link",title:null,url:"",children:[]}}function ft(Fe){return{type:"list",ordered:Fe.type==="listOrdered",start:null,spread:Fe._spread,children:[]}}function je(Fe){return{type:"listItem",spread:Fe._spread,checked:null,children:[]}}function Ve(){return{type:"paragraph",children:[]}}function Ie(){return{type:"strong",children:[]}}function Ue(){return{type:"text",value:""}}function Xe(){return{type:"thematicBreak"}}}function point$5(_){return{line:_.line,column:_.column,offset:_.offset}}function configure(_,R){let O=-1;for(;++O<R.length;){const I=R[O];Array.isArray(I)?configure(_,I):extension(_,I)}}function extension(_,R){let O;for(O in R)if(own$2.call(R,O))switch(O){case"canContainEols":{const I=R[O];I&&_[O].push(...I);break}case"transforms":{const I=R[O];I&&_[O].push(...I);break}case"enter":case"exit":{const I=R[O];I&&Object.assign(_[O],I);break}}}function defaultOnError(_,R){throw _?new Error("Cannot close `"+_.type+"` ("+stringifyPosition({start:_.start,end:_.end})+"): a different token (`"+R.type+"`, "+stringifyPosition({start:R.start,end:R.end})+") is open"):new Error("Cannot close document, a token (`"+R.type+"`, "+stringifyPosition({start:R.start,end:R.end})+") is still open")}function remarkParse(_){const R=this;R.parser=O;function O(I){return fromMarkdown(I,{...R.data("settings"),..._,extensions:R.data("micromarkExtensions")||[],mdastExtensions:R.data("fromMarkdownExtensions")||[]})}}function blockquote$1(_,R){const O={type:"element",tagName:"blockquote",properties:{},children:_.wrap(_.all(R),!0)};return _.patch(R,O),_.applyData(R,O)}function hardBreak$1(_,R){const O={type:"element",tagName:"br",properties:{},children:[]};return _.patch(R,O),[_.applyData(R,O),{type:"text",value:`
`}]}function code$2(_,R){const O=R.value?R.value+`
`:"",I={},F=R.lang?R.lang.split(/\s+/):[];F.length>0&&(I.className=["language-"+F[0]]);let z={type:"element",tagName:"code",properties:I,children:[{type:"text",value:O}]};return R.meta&&(z.data={meta:R.meta}),_.patch(R,z),z=_.applyData(R,z),z={type:"element",tagName:"pre",properties:{},children:[z]},_.patch(R,z),z}function strikethrough(_,R){const O={type:"element",tagName:"del",properties:{},children:_.all(R)};return _.patch(R,O),_.applyData(R,O)}function emphasis$1(_,R){const O={type:"element",tagName:"em",properties:{},children:_.all(R)};return _.patch(R,O),_.applyData(R,O)}function footnoteReference$1(_,R){const O=typeof _.options.clobberPrefix=="string"?_.options.clobberPrefix:"user-content-",I=String(R.identifier).toUpperCase(),F=normalizeUri(I.toLowerCase()),z=_.footnoteOrder.indexOf(I);let L,U=_.footnoteCounts.get(I);U===void 0?(U=0,_.footnoteOrder.push(I),L=_.footnoteOrder.length):L=z+1,U+=1,_.footnoteCounts.set(I,U);const q={type:"element",tagName:"a",properties:{href:"#"+O+"fn-"+F,id:O+"fnref-"+F+(U>1?"-"+U:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(L)}]};_.patch(R,q);const G={type:"element",tagName:"sup",properties:{},children:[q]};return _.patch(R,G),_.applyData(R,G)}function heading$1(_,R){const O={type:"element",tagName:"h"+R.depth,properties:{},children:_.all(R)};return _.patch(R,O),_.applyData(R,O)}function html$1(_,R){if(_.options.allowDangerousHtml){const O={type:"raw",value:R.value};return _.patch(R,O),_.applyData(R,O)}}function revert(_,R){const O=R.referenceType;let I="]";if(O==="collapsed"?I+="[]":O==="full"&&(I+="["+(R.label||R.identifier)+"]"),R.type==="imageReference")return[{type:"text",value:"!["+R.alt+I}];const F=_.all(R),z=F[0];z&&z.type==="text"?z.value="["+z.value:F.unshift({type:"text",value:"["});const L=F[F.length-1];return L&&L.type==="text"?L.value+=I:F.push({type:"text",value:I}),F}function imageReference$1(_,R){const O=String(R.identifier).toUpperCase(),I=_.definitionById.get(O);if(!I)return revert(_,R);const F={src:normalizeUri(I.url||""),alt:R.alt};I.title!==null&&I.title!==void 0&&(F.title=I.title);const z={type:"element",tagName:"img",properties:F,children:[]};return _.patch(R,z),_.applyData(R,z)}function image$1(_,R){const O={src:normalizeUri(R.url)};R.alt!==null&&R.alt!==void 0&&(O.alt=R.alt),R.title!==null&&R.title!==void 0&&(O.title=R.title);const I={type:"element",tagName:"img",properties:O,children:[]};return _.patch(R,I),_.applyData(R,I)}function inlineCode$1(_,R){const O={type:"text",value:R.value.replace(/\r?\n|\r/g," ")};_.patch(R,O);const I={type:"element",tagName:"code",properties:{},children:[O]};return _.patch(R,I),_.applyData(R,I)}function linkReference$1(_,R){const O=String(R.identifier).toUpperCase(),I=_.definitionById.get(O);if(!I)return revert(_,R);const F={href:normalizeUri(I.url||"")};I.title!==null&&I.title!==void 0&&(F.title=I.title);const z={type:"element",tagName:"a",properties:F,children:_.all(R)};return _.patch(R,z),_.applyData(R,z)}function link$3(_,R){const O={href:normalizeUri(R.url)};R.title!==null&&R.title!==void 0&&(O.title=R.title);const I={type:"element",tagName:"a",properties:O,children:_.all(R)};return _.patch(R,I),_.applyData(R,I)}function listItem$1(_,R,O){const I=_.all(R),F=O?listLoose(O):listItemLoose(R),z={},L=[];if(typeof R.checked=="boolean"){const V=I[0];let Z;V&&V.type==="element"&&V.tagName==="p"?Z=V:(Z={type:"element",tagName:"p",properties:{},children:[]},I.unshift(Z)),Z.children.length>0&&Z.children.unshift({type:"text",value:" "}),Z.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:R.checked,disabled:!0},children:[]}),z.className=["task-list-item"]}let U=-1;for(;++U<I.length;){const V=I[U];(F||U!==0||V.type!=="element"||V.tagName!=="p")&&L.push({type:"text",value:`
`}),V.type==="element"&&V.tagName==="p"&&!F?L.push(...V.children):L.push(V)}const q=I[I.length-1];q&&(F||q.type!=="element"||q.tagName!=="p")&&L.push({type:"text",value:`
`});const G={type:"element",tagName:"li",properties:z,children:L};return _.patch(R,G),_.applyData(R,G)}function listLoose(_){let R=!1;if(_.type==="list"){R=_.spread||!1;const O=_.children;let I=-1;for(;!R&&++I<O.length;)R=listItemLoose(O[I])}return R}function listItemLoose(_){const R=_.spread;return R??_.children.length>1}function list$1(_,R){const O={},I=_.all(R);let F=-1;for(typeof R.start=="number"&&R.start!==1&&(O.start=R.start);++F<I.length;){const L=I[F];if(L.type==="element"&&L.tagName==="li"&&L.properties&&Array.isArray(L.properties.className)&&L.properties.className.includes("task-list-item")){O.className=["contains-task-list"];break}}const z={type:"element",tagName:R.ordered?"ol":"ul",properties:O,children:_.wrap(I,!0)};return _.patch(R,z),_.applyData(R,z)}function paragraph$1(_,R){const O={type:"element",tagName:"p",properties:{},children:_.all(R)};return _.patch(R,O),_.applyData(R,O)}function root$3(_,R){const O={type:"root",children:_.wrap(_.all(R))};return _.patch(R,O),_.applyData(R,O)}function strong$1(_,R){const O={type:"element",tagName:"strong",properties:{},children:_.all(R)};return _.patch(R,O),_.applyData(R,O)}function table(_,R){const O=_.all(R),I=O.shift(),F=[];if(I){const L={type:"element",tagName:"thead",properties:{},children:_.wrap([I],!0)};_.patch(R.children[0],L),F.push(L)}if(O.length>0){const L={type:"element",tagName:"tbody",properties:{},children:_.wrap(O,!0)},U=pointStart(R.children[1]),q=pointEnd(R.children[R.children.length-1]);U&&q&&(L.position={start:U,end:q}),F.push(L)}const z={type:"element",tagName:"table",properties:{},children:_.wrap(F,!0)};return _.patch(R,z),_.applyData(R,z)}function tableRow(_,R,O){const I=O?O.children:void 0,z=(I?I.indexOf(R):1)===0?"th":"td",L=O&&O.type==="table"?O.align:void 0,U=L?L.length:R.children.length;let q=-1;const G=[];for(;++q<U;){const Z=R.children[q],Y={},W=L?L[q]:void 0;W&&(Y.align=W);let ee={type:"element",tagName:z,properties:Y,children:[]};Z&&(ee.children=_.all(Z),_.patch(Z,ee),ee=_.applyData(Z,ee)),G.push(ee)}const V={type:"element",tagName:"tr",properties:{},children:_.wrap(G,!0)};return _.patch(R,V),_.applyData(R,V)}function tableCell(_,R){const O={type:"element",tagName:"td",properties:{},children:_.all(R)};return _.patch(R,O),_.applyData(R,O)}const tab=9,space=32;function trimLines(_){const R=String(_),O=/\r?\n|\r/g;let I=O.exec(R),F=0;const z=[];for(;I;)z.push(trimLine(R.slice(F,I.index),F>0,!0),I[0]),F=I.index+I[0].length,I=O.exec(R);return z.push(trimLine(R.slice(F),F>0,!1)),z.join("")}function trimLine(_,R,O){let I=0,F=_.length;if(R){let z=_.codePointAt(I);for(;z===tab||z===space;)I++,z=_.codePointAt(I)}if(O){let z=_.codePointAt(F-1);for(;z===tab||z===space;)F--,z=_.codePointAt(F-1)}return F>I?_.slice(I,F):""}function text$5(_,R){const O={type:"text",value:trimLines(String(R.value))};return _.patch(R,O),_.applyData(R,O)}function thematicBreak$1(_,R){const O={type:"element",tagName:"hr",properties:{},children:[]};return _.patch(R,O),_.applyData(R,O)}const handlers={blockquote:blockquote$1,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$1,heading:heading$1,html:html$1,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$3,listItem:listItem$1,list:list$1,paragraph:paragraph$1,root:root$3,strong:strong$1,table,tableCell,tableRow,text:text$5,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(_,R)=>{const O=(F,z)=>(_.set(z,F),F),I=F=>{if(_.has(F))return _.get(F);const[z,L]=R[F];switch(z){case PRIMITIVE:case VOID:return O(L,F);case ARRAY:{const U=O([],F);for(const q of L)U.push(I(q));return U}case OBJECT:{const U=O({},F);for(const[q,G]of L)U[I(q)]=I(G);return U}case DATE:return O(new Date(L),F);case REGEXP:{const{source:U,flags:q}=L;return O(new RegExp(U,q),F)}case MAP:{const U=O(new Map,F);for(const[q,G]of L)U.set(I(q),I(G));return U}case SET:{const U=O(new Set,F);for(const q of L)U.add(I(q));return U}case ERROR:{const{name:U,message:q}=L;return O(new env[U](q),F)}case BIGINT:return O(BigInt(L),F);case"BigInt":return O(Object(BigInt(L)),F);case"ArrayBuffer":return O(new Uint8Array(L).buffer,L);case"DataView":{const{buffer:U}=new Uint8Array(L);return O(new DataView(U),L)}}return O(new env[z](L),F)};return I},deserialize=_=>deserializer(new Map,_)(0),EMPTY="",{toString:toString$2}={},{keys}=Object,typeOf$2=_=>{const R=typeof _;if(R!=="object"||!_)return[PRIMITIVE,R];const O=toString$2.call(_).slice(8,-1);switch(O){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,O]}return O.includes("Array")?[ARRAY,O]:O.includes("Error")?[ERROR,O]:[OBJECT,O]},shouldSkip=([_,R])=>_===PRIMITIVE&&(R==="function"||R==="symbol"),serializer=(_,R,O,I)=>{const F=(L,U)=>{const q=I.push(L)-1;return O.set(U,q),q},z=L=>{if(O.has(L))return O.get(L);let[U,q]=typeOf$2(L);switch(U){case PRIMITIVE:{let V=L;switch(q){case"bigint":U=BIGINT,V=L.toString();break;case"function":case"symbol":if(_)throw new TypeError("unable to serialize "+q);V=null;break;case"undefined":return F([VOID],L)}return F([U,V],L)}case ARRAY:{if(q){let Y=L;return q==="DataView"?Y=new Uint8Array(L.buffer):q==="ArrayBuffer"&&(Y=new Uint8Array(L)),F([q,[...Y]],L)}const V=[],Z=F([U,V],L);for(const Y of L)V.push(z(Y));return Z}case OBJECT:{if(q)switch(q){case"BigInt":return F([q,L.toString()],L);case"Boolean":case"Number":case"String":return F([q,L.valueOf()],L)}if(R&&"toJSON"in L)return z(L.toJSON());const V=[],Z=F([U,V],L);for(const Y of keys(L))(_||!shouldSkip(typeOf$2(L[Y])))&&V.push([z(Y),z(L[Y])]);return Z}case DATE:return F([U,L.toISOString()],L);case REGEXP:{const{source:V,flags:Z}=L;return F([U,{source:V,flags:Z}],L)}case MAP:{const V=[],Z=F([U,V],L);for(const[Y,W]of L)(_||!(shouldSkip(typeOf$2(Y))||shouldSkip(typeOf$2(W))))&&V.push([z(Y),z(W)]);return Z}case SET:{const V=[],Z=F([U,V],L);for(const Y of L)(_||!shouldSkip(typeOf$2(Y)))&&V.push(z(Y));return Z}}const{message:G}=L;return F([U,{name:q,message:G}],L)};return z},serialize$1=(_,{json:R,lossy:O}={})=>{const I=[];return serializer(!(R||O),!!R,new Map,I)(_),I},structuredClone$1=typeof structuredClone=="function"?(_,R)=>R&&("json"in R||"lossy"in R)?deserialize(serialize$1(_,R)):structuredClone(_):(_,R)=>deserialize(serialize$1(_,R));function defaultFootnoteBackContent(_,R){const O=[{type:"text",value:""}];return R>1&&O.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(R)}]}),O}function defaultFootnoteBackLabel(_,R){return"Back to reference "+(_+1)+(R>1?"-"+R:"")}function footer(_){const R=typeof _.options.clobberPrefix=="string"?_.options.clobberPrefix:"user-content-",O=_.options.footnoteBackContent||defaultFootnoteBackContent,I=_.options.footnoteBackLabel||defaultFootnoteBackLabel,F=_.options.footnoteLabel||"Footnotes",z=_.options.footnoteLabelTagName||"h2",L=_.options.footnoteLabelProperties||{className:["sr-only"]},U=[];let q=-1;for(;++q<_.footnoteOrder.length;){const G=_.footnoteById.get(_.footnoteOrder[q]);if(!G)continue;const V=_.all(G),Z=String(G.identifier).toUpperCase(),Y=normalizeUri(Z.toLowerCase());let W=0;const ee=[],ne=_.footnoteCounts.get(Z);for(;ne!==void 0&&++W<=ne;){ee.length>0&&ee.push({type:"text",value:" "});let oe=typeof O=="string"?O:O(q,W);typeof oe=="string"&&(oe={type:"text",value:oe}),ee.push({type:"element",tagName:"a",properties:{href:"#"+R+"fnref-"+Y+(W>1?"-"+W:""),dataFootnoteBackref:"",ariaLabel:typeof I=="string"?I:I(q,W),className:["data-footnote-backref"]},children:Array.isArray(oe)?oe:[oe]})}const ie=V[V.length-1];if(ie&&ie.type==="element"&&ie.tagName==="p"){const oe=ie.children[ie.children.length-1];oe&&oe.type==="text"?oe.value+=" ":ie.children.push({type:"text",value:" "}),ie.children.push(...ee)}else V.push(...ee);const se={type:"element",tagName:"li",properties:{id:R+"fn-"+Y},children:_.wrap(V,!0)};_.patch(G,se),U.push(se)}if(U.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:z,properties:{...structuredClone$1(L),id:"footnote-label"},children:[{type:"text",value:F}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:_.wrap(U,!0)},{type:"text",value:`
`}]}}const convert=(function(_){if(_==null)return ok$1;if(typeof _=="function")return castFactory$1(_);if(typeof _=="object")return Array.isArray(_)?anyFactory$1(_):propertiesFactory(_);if(typeof _=="string")return typeFactory(_);throw new Error("Expected function, string, or object as test")});function anyFactory$1(_){const R=[];let O=-1;for(;++O<_.length;)R[O]=convert(_[O]);return castFactory$1(I);function I(...F){let z=-1;for(;++z<R.length;)if(R[z].apply(this,F))return!0;return!1}}function propertiesFactory(_){const R=_;return castFactory$1(O);function O(I){const F=I;let z;for(z in _)if(F[z]!==R[z])return!1;return!0}}function typeFactory(_){return castFactory$1(R);function R(O){return O&&O.type===_}}function castFactory$1(_){return R;function R(O,I,F){return!!(looksLikeANode(O)&&_.call(this,O,typeof I=="number"?I:void 0,F||void 0))}}function ok$1(){return!0}function looksLikeANode(_){return _!==null&&typeof _=="object"&&"type"in _}function color$2(_){return _}const empty$2=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(_,R,O,I){let F;typeof R=="function"&&typeof O!="function"?(I=O,O=R):F=R;const z=convert(F),L=I?-1:1;U(_,void 0,[])();function U(q,G,V){const Z=q&&typeof q=="object"?q:{};if(typeof Z.type=="string"){const W=typeof Z.tagName=="string"?Z.tagName:typeof Z.name=="string"?Z.name:void 0;Object.defineProperty(Y,"name",{value:"node ("+(q.type+(W?"<"+W+">":""))+")"})}return Y;function Y(){let W=empty$2,ee,ne,ie;if((!R||z(q,G,V[V.length-1]||void 0))&&(W=toResult(O(q,V)),W[0]===EXIT))return W;if("children"in q&&q.children){const se=q;if(se.children&&W[0]!==SKIP)for(ne=(I?se.children.length:-1)+L,ie=V.concat(se);ne>-1&&ne<se.children.length;){const oe=se.children[ne];if(ee=U(oe,ne,ie)(),ee[0]===EXIT)return ee;ne=typeof ee[1]=="number"?ee[1]:ne+L}}return W}}}function toResult(_){return Array.isArray(_)?_:typeof _=="number"?[CONTINUE,_]:_==null?empty$2:[_]}function visit(_,R,O,I){let F,z,L;typeof R=="function"&&typeof O!="function"?(z=void 0,L=R,F=O):(z=R,L=O,F=I),visitParents(_,z,U,F);function U(q,G){const V=G[G.length-1],Z=V?V.children.indexOf(q):void 0;return L(q,Z,V)}}const own$1={}.hasOwnProperty,emptyOptions$3={};function createState(_,R){const O=R||emptyOptions$3,I=new Map,F=new Map,z=new Map,L={...handlers,...O.handlers},U={all:G,applyData,definitionById:I,footnoteById:F,footnoteCounts:z,footnoteOrder:[],handlers:L,one:q,options:O,patch,wrap:wrap$1};return visit(_,function(V){if(V.type==="definition"||V.type==="footnoteDefinition"){const Z=V.type==="definition"?I:F,Y=String(V.identifier).toUpperCase();Z.has(Y)||Z.set(Y,V)}}),U;function q(V,Z){const Y=V.type,W=U.handlers[Y];if(own$1.call(U.handlers,Y)&&W)return W(U,V,Z);if(U.options.passThrough&&U.options.passThrough.includes(Y)){if("children"in V){const{children:ne,...ie}=V,se=structuredClone$1(ie);return se.children=U.all(V),se}return structuredClone$1(V)}return(U.options.unknownHandler||defaultUnknownHandler)(U,V,Z)}function G(V){const Z=[];if("children"in V){const Y=V.children;let W=-1;for(;++W<Y.length;){const ee=U.one(Y[W],V);if(ee){if(W&&Y[W-1].type==="break"&&(!Array.isArray(ee)&&ee.type==="text"&&(ee.value=trimMarkdownSpaceStart(ee.value)),!Array.isArray(ee)&&ee.type==="element")){const ne=ee.children[0];ne&&ne.type==="text"&&(ne.value=trimMarkdownSpaceStart(ne.value))}Array.isArray(ee)?Z.push(...ee):Z.push(ee)}}}return Z}}function patch(_,R){_.position&&(R.position=position$2(_))}function applyData(_,R){let O=R;if(_&&_.data){const I=_.data.hName,F=_.data.hChildren,z=_.data.hProperties;if(typeof I=="string")if(O.type==="element")O.tagName=I;else{const L="children"in O?O.children:[O];O={type:"element",tagName:I,properties:{},children:L}}O.type==="element"&&z&&Object.assign(O.properties,structuredClone$1(z)),"children"in O&&O.children&&F!==null&&F!==void 0&&(O.children=F)}return O}function defaultUnknownHandler(_,R){const O=R.data||{},I="value"in R&&!(own$1.call(O,"hProperties")||own$1.call(O,"hChildren"))?{type:"text",value:R.value}:{type:"element",tagName:"div",properties:{},children:_.all(R)};return _.patch(R,I),_.applyData(R,I)}function wrap$1(_,R){const O=[];let I=-1;for(R&&O.push({type:"text",value:`
`});++I<_.length;)I&&O.push({type:"text",value:`
`}),O.push(_[I]);return R&&_.length>0&&O.push({type:"text",value:`
`}),O}function trimMarkdownSpaceStart(_){let R=0,O=_.charCodeAt(R);for(;O===9||O===32;)R++,O=_.charCodeAt(R);return _.slice(R)}function toHast(_,R){const O=createState(_,R),I=O.one(_,void 0),F=footer(O),z=Array.isArray(I)?{type:"root",children:I}:I||{type:"root",children:[]};return F&&z.children.push({type:"text",value:`
`},F),z}function remarkRehype(_,R){return _&&"run"in _?async function(O,I){const F=toHast(O,{file:I,...R});await _.run(F,I)}:function(O,I){return toHast(O,{file:I,..._||R})}}function bail(_){if(_)throw _}var extend$3,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend$3;hasRequiredExtend=1;var _=Object.prototype.hasOwnProperty,R=Object.prototype.toString,O=Object.defineProperty,I=Object.getOwnPropertyDescriptor,F=function(G){return typeof Array.isArray=="function"?Array.isArray(G):R.call(G)==="[object Array]"},z=function(G){if(!G||R.call(G)!=="[object Object]")return!1;var V=_.call(G,"constructor"),Z=G.constructor&&G.constructor.prototype&&_.call(G.constructor.prototype,"isPrototypeOf");if(G.constructor&&!V&&!Z)return!1;var Y;for(Y in G);return typeof Y>"u"||_.call(G,Y)},L=function(G,V){O&&V.name==="__proto__"?O(G,V.name,{enumerable:!0,configurable:!0,value:V.newValue,writable:!0}):G[V.name]=V.newValue},U=function(G,V){if(V==="__proto__")if(_.call(G,V)){if(I)return I(G,V).value}else return;return G[V]};return extend$3=function q(){var G,V,Z,Y,W,ee,ne=arguments[0],ie=1,se=arguments.length,oe=!1;for(typeof ne=="boolean"&&(oe=ne,ne=arguments[1]||{},ie=2),(ne==null||typeof ne!="object"&&typeof ne!="function")&&(ne={});ie<se;++ie)if(G=arguments[ie],G!=null)for(V in G)Z=U(ne,V),Y=U(G,V),ne!==Y&&(oe&&Y&&(z(Y)||(W=F(Y)))?(W?(W=!1,ee=Z&&F(Z)?Z:[]):ee=Z&&z(Z)?Z:{},L(ne,{name:V,newValue:q(oe,ee,Y)})):typeof Y<"u"&&L(ne,{name:V,newValue:Y}));return ne},extend$3}var extendExports=requireExtend();const extend$2=getDefaultExportFromCjs(extendExports);function isPlainObject$1(_){if(typeof _!="object"||_===null)return!1;const R=Object.getPrototypeOf(_);return(R===null||R===Object.prototype||Object.getPrototypeOf(R)===null)&&!(Symbol.toStringTag in _)&&!(Symbol.iterator in _)}function trough(){const _=[],R={run:O,use:I};return R;function O(...F){let z=-1;const L=F.pop();if(typeof L!="function")throw new TypeError("Expected function as last argument, not "+L);U(null,...F);function U(q,...G){const V=_[++z];let Z=-1;if(q){L(q);return}for(;++Z<F.length;)(G[Z]===null||G[Z]===void 0)&&(G[Z]=F[Z]);F=G,V?wrap(V,U)(...G):L(null,...G)}}function I(F){if(typeof F!="function")throw new TypeError("Expected `middelware` to be a function, not "+F);return _.push(F),R}}function wrap(_,R){let O;return I;function I(...L){const U=_.length>L.length;let q;U&&L.push(F);try{q=_.apply(this,L)}catch(G){const V=G;if(U&&O)throw V;return F(V)}U||(q&&q.then&&typeof q.then=="function"?q.then(z,F):q instanceof Error?F(q):z(q))}function F(L,...U){O||(O=!0,R(L,...U))}function z(L){F(null,L)}}const minpath={basename,dirname,extname,join:join$1,sep:"/"};function basename(_,R){if(R!==void 0&&typeof R!="string")throw new TypeError('"ext" argument must be a string');assertPath$2(_);let O=0,I=-1,F=_.length,z;if(R===void 0||R.length===0||R.length>_.length){for(;F--;)if(_.codePointAt(F)===47){if(z){O=F+1;break}}else I<0&&(z=!0,I=F+1);return I<0?"":_.slice(O,I)}if(R===_)return"";let L=-1,U=R.length-1;for(;F--;)if(_.codePointAt(F)===47){if(z){O=F+1;break}}else L<0&&(z=!0,L=F+1),U>-1&&(_.codePointAt(F)===R.codePointAt(U--)?U<0&&(I=F):(U=-1,I=L));return O===I?I=L:I<0&&(I=_.length),_.slice(O,I)}function dirname(_){if(assertPath$2(_),_.length===0)return".";let R=-1,O=_.length,I;for(;--O;)if(_.codePointAt(O)===47){if(I){R=O;break}}else I||(I=!0);return R<0?_.codePointAt(0)===47?"/":".":R===1&&_.codePointAt(0)===47?"//":_.slice(0,R)}function extname(_){assertPath$2(_);let R=_.length,O=-1,I=0,F=-1,z=0,L;for(;R--;){const U=_.codePointAt(R);if(U===47){if(L){I=R+1;break}continue}O<0&&(L=!0,O=R+1),U===46?F<0?F=R:z!==1&&(z=1):F>-1&&(z=-1)}return F<0||O<0||z===0||z===1&&F===O-1&&F===I+1?"":_.slice(F,O)}function join$1(..._){let R=-1,O;for(;++R<_.length;)assertPath$2(_[R]),_[R]&&(O=O===void 0?_[R]:O+"/"+_[R]);return O===void 0?".":normalize$1(O)}function normalize$1(_){assertPath$2(_);const R=_.codePointAt(0)===47;let O=normalizeString(_,!R);return O.length===0&&!R&&(O="."),O.length>0&&_.codePointAt(_.length-1)===47&&(O+="/"),R?"/"+O:O}function normalizeString(_,R){let O="",I=0,F=-1,z=0,L=-1,U,q;for(;++L<=_.length;){if(L<_.length)U=_.codePointAt(L);else{if(U===47)break;U=47}if(U===47){if(!(F===L-1||z===1))if(F!==L-1&&z===2){if(O.length<2||I!==2||O.codePointAt(O.length-1)!==46||O.codePointAt(O.length-2)!==46){if(O.length>2){if(q=O.lastIndexOf("/"),q!==O.length-1){q<0?(O="",I=0):(O=O.slice(0,q),I=O.length-1-O.lastIndexOf("/")),F=L,z=0;continue}}else if(O.length>0){O="",I=0,F=L,z=0;continue}}R&&(O=O.length>0?O+"/..":"..",I=2)}else O.length>0?O+="/"+_.slice(F+1,L):O=_.slice(F+1,L),I=L-F-1;F=L,z=0}else U===46&&z>-1?z++:z=-1}return O}function assertPath$2(_){if(typeof _!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(_))}const minproc={cwd};function cwd(){return"/"}function isUrl(_){return!!(_!==null&&typeof _=="object"&&"href"in _&&_.href&&"protocol"in _&&_.protocol&&_.auth===void 0)}function urlToPath(_){if(typeof _=="string")_=new URL(_);else if(!isUrl(_)){const R=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+_+"`");throw R.code="ERR_INVALID_ARG_TYPE",R}if(_.protocol!=="file:"){const R=new TypeError("The URL must be of scheme file");throw R.code="ERR_INVALID_URL_SCHEME",R}return getPathFromURLPosix(_)}function getPathFromURLPosix(_){if(_.hostname!==""){const I=new TypeError('File URL host must be "localhost" or empty on darwin');throw I.code="ERR_INVALID_FILE_URL_HOST",I}const R=_.pathname;let O=-1;for(;++O<R.length;)if(R.codePointAt(O)===37&&R.codePointAt(O+1)===50){const I=R.codePointAt(O+2);if(I===70||I===102){const F=new TypeError("File URL path must not include encoded / characters");throw F.code="ERR_INVALID_FILE_URL_PATH",F}}return decodeURIComponent(R)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(R){let O;R?isUrl(R)?O={path:R}:typeof R=="string"||isUint8Array$1(R)?O={value:R}:O=R:O={},this.cwd="cwd"in O?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let I=-1;for(;++I<order.length;){const z=order[I];z in O&&O[z]!==void 0&&O[z]!==null&&(this[z]=z==="history"?[...O[z]]:O[z])}let F;for(F in O)order.includes(F)||(this[F]=O[F])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(R){assertNonEmpty(R,"basename"),assertPart(R,"basename"),this.path=minpath.join(this.dirname||"",R)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(R){assertPath$1(this.basename,"dirname"),this.path=minpath.join(R||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(R){if(assertPart(R,"extname"),assertPath$1(this.dirname,"extname"),R){if(R.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(R.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(R||""))}get path(){return this.history[this.history.length-1]}set path(R){isUrl(R)&&(R=urlToPath(R)),assertNonEmpty(R,"path"),this.path!==R&&this.history.push(R)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(R){assertNonEmpty(R,"stem"),assertPart(R,"stem"),this.path=minpath.join(this.dirname||"",R+(this.extname||""))}fail(R,O,I){const F=this.message(R,O,I);throw F.fatal=!0,F}info(R,O,I){const F=this.message(R,O,I);return F.fatal=void 0,F}message(R,O,I){const F=new VFileMessage(R,O,I);return this.path&&(F.name=this.path+":"+F.name,F.file=this.path),F.fatal=!1,this.messages.push(F),F}toString(R){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(R||void 0).decode(this.value)}}function assertPart(_,R){if(_&&_.includes(minpath.sep))throw new Error("`"+R+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(_,R){if(!_)throw new Error("`"+R+"` cannot be empty")}function assertPath$1(_,R){if(!_)throw new Error("Setting `"+R+"` requires `path` to be set too")}function isUint8Array$1(_){return!!(_&&typeof _=="object"&&"byteLength"in _&&"byteOffset"in _)}const CallableInstance=(function(_){const I=this.constructor.prototype,F=I[_],z=function(){return F.apply(z,arguments)};return Object.setPrototypeOf(z,I),z}),own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const R=new Processor;let O=-1;for(;++O<this.attachers.length;){const I=this.attachers[O];R.use(...I)}return R.data(extend$2(!0,{},this.namespace)),R}data(R,O){return typeof R=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[R]=O,this):own.call(this.namespace,R)&&this.namespace[R]||void 0:R?(assertUnfrozen("data",this.frozen),this.namespace=R,this):this.namespace}freeze(){if(this.frozen)return this;const R=this;for(;++this.freezeIndex<this.attachers.length;){const[O,...I]=this.attachers[this.freezeIndex];if(I[0]===!1)continue;I[0]===!0&&(I[0]=void 0);const F=O.call(R,...I);typeof F=="function"&&this.transformers.use(F)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(R){this.freeze();const O=vfile(R),I=this.parser||this.Parser;return assertParser("parse",I),I(String(O),O)}process(R,O){const I=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),O?F(void 0,O):new Promise(F);function F(z,L){const U=vfile(R),q=I.parse(U);I.run(q,U,function(V,Z,Y){if(V||!Z||!Y)return G(V);const W=Z,ee=I.stringify(W,Y);looksLikeAValue(ee)?Y.value=ee:Y.result=ee,G(V,Y)});function G(V,Z){V||!Z?L(V):z?z(Z):O(void 0,Z)}}}processSync(R){let O=!1,I;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(R,F),assertDone("processSync","process",O),I;function F(z,L){O=!0,bail(z),I=L}}run(R,O,I){assertNode(R),this.freeze();const F=this.transformers;return!I&&typeof O=="function"&&(I=O,O=void 0),I?z(void 0,I):new Promise(z);function z(L,U){const q=vfile(O);F.run(R,q,G);function G(V,Z,Y){const W=Z||R;V?U(V):L?L(W):I(void 0,W,Y)}}}runSync(R,O){let I=!1,F;return this.run(R,O,z),assertDone("runSync","run",I),F;function z(L,U){bail(L),F=U,I=!0}}stringify(R,O){this.freeze();const I=vfile(O),F=this.compiler||this.Compiler;return assertCompiler("stringify",F),assertNode(R),F(R,I)}use(R,...O){const I=this.attachers,F=this.namespace;if(assertUnfrozen("use",this.frozen),R!=null)if(typeof R=="function")q(R,O);else if(typeof R=="object")Array.isArray(R)?U(R):L(R);else throw new TypeError("Expected usable value, not `"+R+"`");return this;function z(G){if(typeof G=="function")q(G,[]);else if(typeof G=="object")if(Array.isArray(G)){const[V,...Z]=G;q(V,Z)}else L(G);else throw new TypeError("Expected usable value, not `"+G+"`")}function L(G){if(!("plugins"in G)&&!("settings"in G))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");U(G.plugins),G.settings&&(F.settings=extend$2(!0,F.settings,G.settings))}function U(G){let V=-1;if(G!=null)if(Array.isArray(G))for(;++V<G.length;){const Z=G[V];z(Z)}else throw new TypeError("Expected a list of plugins, not `"+G+"`")}function q(G,V){let Z=-1,Y=-1;for(;++Z<I.length;)if(I[Z][0]===G){Y=Z;break}if(Y===-1)I.push([G,...V]);else if(V.length>0){let[W,...ee]=V;const ne=I[Y][1];isPlainObject$1(ne)&&isPlainObject$1(W)&&(W=extend$2(!0,ne,W)),I[Y]=[G,W,...ee]}}}}const unified=new Processor().freeze();function assertParser(_,R){if(typeof R!="function")throw new TypeError("Cannot `"+_+"` without `parser`")}function assertCompiler(_,R){if(typeof R!="function")throw new TypeError("Cannot `"+_+"` without `compiler`")}function assertUnfrozen(_,R){if(R)throw new Error("Cannot call `"+_+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(_){if(!isPlainObject$1(_)||typeof _.type!="string")throw new TypeError("Expected node, got `"+_+"`")}function assertDone(_,R,O){if(!O)throw new Error("`"+_+"` finished async. Use `"+R+"` instead")}function vfile(_){return looksLikeAVFile(_)?_:new VFile(_)}function looksLikeAVFile(_){return!!(_&&typeof _=="object"&&"message"in _&&"messages"in _)}function looksLikeAValue(_){return typeof _=="string"||isUint8Array(_)}function isUint8Array(_){return!!(_&&typeof _=="object"&&"byteLength"in _&&"byteOffset"in _)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(_){const R=createProcessor(_),O=createFile(_);return post(R.runSync(R.parse(O),O),_)}function createProcessor(_){const R=_.rehypePlugins||emptyPlugins,O=_.remarkPlugins||emptyPlugins,I=_.remarkRehypeOptions?{..._.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(O).use(remarkRehype,I).use(R)}function createFile(_){const R=_.children||"",O=new VFile;return typeof R=="string"&&(O.value=R),O}function post(_,R){const O=R.allowedElements,I=R.allowElement,F=R.components,z=R.disallowedElements,L=R.skipHtml,U=R.unwrapDisallowed,q=R.urlTransform||defaultUrlTransform;for(const V of deprecations)Object.hasOwn(R,V.from)&&(""+V.from+(V.to?"use `"+V.to+"` instead":"remove it")+changelog+V.id,void 0);return visit(_,G),toJsxRuntime(_,{Fragment:jsxRuntimeExports.Fragment,components:F,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function G(V,Z,Y){if(V.type==="raw"&&Y&&typeof Z=="number")return L?Y.children.splice(Z,1):Y.children[Z]={type:"text",value:V.value},Z;if(V.type==="element"){let W;for(W in urlAttributes)if(Object.hasOwn(urlAttributes,W)&&Object.hasOwn(V.properties,W)){const ee=V.properties[W],ne=urlAttributes[W];(ne===null||ne.includes(V.tagName))&&(V.properties[W]=q(String(ee||""),W,V))}}if(V.type==="element"){let W=O?!O.includes(V.tagName):z?z.includes(V.tagName):!1;if(!W&&I&&typeof Z=="number"&&(W=!I(V,Z,Y)),W&&Y&&typeof Z=="number")return U&&V.children?Y.children.splice(Z,1,...V.children):Y.children.splice(Z,1),Z}}}function defaultUrlTransform(_){const R=_.indexOf(":"),O=_.indexOf("?"),I=_.indexOf("#"),F=_.indexOf("/");return R===-1||F!==-1&&R>F||O!==-1&&R>O||I!==-1&&R>I||safeProtocol.test(_.slice(0,R))?_:""}function longestStreak(_,R){const O=String(_);let I=O.indexOf(R),F=I,z=0,L=0;if(typeof R!="string")throw new TypeError("Expected substring");for(;I!==-1;)I===F?++z>L&&(L=z):z=1,F=I+R.length,I=O.indexOf(R,F);return L}function mathFromMarkdown(){return{enter:{mathFlow:_,mathFlowFenceMeta:R,mathText:z},exit:{mathFlow:F,mathFlowFence:I,mathFlowFenceMeta:O,mathFlowValue:U,mathText:L,mathTextData:U}};function _(q){const G={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[G]}},q)}function R(){this.buffer()}function O(){const q=this.resume(),G=this.stack[this.stack.length-1];G.type,G.meta=q}function I(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function F(q){const G=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),V=this.stack[this.stack.length-1];V.type,this.exit(q),V.value=G;const Z=V.data.hChildren[0];Z.type,Z.tagName,Z.children.push({type:"text",value:G}),this.data.mathFlowInside=void 0}function z(q){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},q),this.buffer()}function L(q){const G=this.resume(),V=this.stack[this.stack.length-1];V.type,this.exit(q),V.value=G,V.data.hChildren.push({type:"text",value:G})}function U(q){this.config.enter.data.call(this,q),this.config.exit.data.call(this,q)}}function mathToMarkdown(_){let R=(_||{}).singleDollarTextMath;return R==null&&(R=!0),I.peek=F,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:R?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:O,inlineMath:I}};function O(z,L,U,q){const G=z.value||"",V=U.createTracker(q),Z="$".repeat(Math.max(longestStreak(G,"$")+1,2)),Y=U.enter("mathFlow");let W=V.move(Z);if(z.meta){const ee=U.enter("mathFlowMeta");W+=V.move(U.safe(z.meta,{after:`
`,before:W,encode:["$"],...V.current()})),ee()}return W+=V.move(`
`),G&&(W+=V.move(G+`
`)),W+=V.move(Z),Y(),W}function I(z,L,U){let q=z.value||"",G=1;for(R||G++;new RegExp("(^|[^$])"+"\\$".repeat(G)+"([^$]|$)").test(q);)G++;const V="$".repeat(G);/[^ \r\n]/.test(q)&&(/^[ \r\n]/.test(q)&&/[ \r\n]$/.test(q)||/^\$|\$$/.test(q))&&(q=" "+q+" ");let Z=-1;for(;++Z<U.unsafe.length;){const Y=U.unsafe[Z];if(!Y.atBreak)continue;const W=U.compilePattern(Y);let ee;for(;ee=W.exec(q);){let ne=ee.index;q.codePointAt(ne)===10&&q.codePointAt(ne-1)===13&&ne--,q=q.slice(0,ne)+" "+q.slice(ee.index+1)}}return V+q+V}function F(){return"$"}}const mathFlow={tokenize:tokenizeMathFenced,concrete:!0,name:"mathFlow"},nonLazyContinuation={tokenize:tokenizeNonLazyContinuation,partial:!0};function tokenizeMathFenced(_,R,O){const I=this,F=I.events[I.events.length-1],z=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0;let L=0;return U;function U(oe){return _.enter("mathFlow"),_.enter("mathFlowFence"),_.enter("mathFlowFenceSequence"),q(oe)}function q(oe){return oe===36?(_.consume(oe),L++,q):L<2?O(oe):(_.exit("mathFlowFenceSequence"),factorySpace(_,G,"whitespace")(oe))}function G(oe){return oe===null||markdownLineEnding(oe)?Z(oe):(_.enter("mathFlowFenceMeta"),_.enter("chunkString",{contentType:"string"}),V(oe))}function V(oe){return oe===null||markdownLineEnding(oe)?(_.exit("chunkString"),_.exit("mathFlowFenceMeta"),Z(oe)):oe===36?O(oe):(_.consume(oe),V)}function Z(oe){return _.exit("mathFlowFence"),I.interrupt?R(oe):_.attempt(nonLazyContinuation,Y,ie)(oe)}function Y(oe){return _.attempt({tokenize:se,partial:!0},ie,W)(oe)}function W(oe){return(z?factorySpace(_,ee,"linePrefix",z+1):ee)(oe)}function ee(oe){return oe===null?ie(oe):markdownLineEnding(oe)?_.attempt(nonLazyContinuation,Y,ie)(oe):(_.enter("mathFlowValue"),ne(oe))}function ne(oe){return oe===null||markdownLineEnding(oe)?(_.exit("mathFlowValue"),ee(oe)):(_.consume(oe),ne)}function ie(oe){return _.exit("mathFlow"),R(oe)}function se(oe,le,ue){let ce=0;return factorySpace(oe,fe,"linePrefix",I.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function fe(pe){return oe.enter("mathFlowFence"),oe.enter("mathFlowFenceSequence"),me(pe)}function me(pe){return pe===36?(ce++,oe.consume(pe),me):ce<L?ue(pe):(oe.exit("mathFlowFenceSequence"),factorySpace(oe,he,"whitespace")(pe))}function he(pe){return pe===null||markdownLineEnding(pe)?(oe.exit("mathFlowFence"),le(pe)):ue(pe)}}}function tokenizeNonLazyContinuation(_,R,O){const I=this;return F;function F(L){return L===null?R(L):(_.enter("lineEnding"),_.consume(L),_.exit("lineEnding"),z)}function z(L){return I.parser.lazy[I.now().line]?O(L):R(L)}}function mathText(_){let O=(_||{}).singleDollarTextMath;return O==null&&(O=!0),{tokenize:I,resolve:resolveMathText,previous:previous$1,name:"mathText"};function I(F,z,L){let U=0,q,G;return V;function V(ne){return F.enter("mathText"),F.enter("mathTextSequence"),Z(ne)}function Z(ne){return ne===36?(F.consume(ne),U++,Z):U<2&&!O?L(ne):(F.exit("mathTextSequence"),Y(ne))}function Y(ne){return ne===null?L(ne):ne===36?(G=F.enter("mathTextSequence"),q=0,ee(ne)):ne===32?(F.enter("space"),F.consume(ne),F.exit("space"),Y):markdownLineEnding(ne)?(F.enter("lineEnding"),F.consume(ne),F.exit("lineEnding"),Y):(F.enter("mathTextData"),W(ne))}function W(ne){return ne===null||ne===32||ne===36||markdownLineEnding(ne)?(F.exit("mathTextData"),Y(ne)):(F.consume(ne),W)}function ee(ne){return ne===36?(F.consume(ne),q++,ee):q===U?(F.exit("mathTextSequence"),F.exit("mathText"),z(ne)):(G.type="mathTextData",W(ne))}}}function resolveMathText(_){let R=_.length-4,O=3,I,F;if((_[O][1].type==="lineEnding"||_[O][1].type==="space")&&(_[R][1].type==="lineEnding"||_[R][1].type==="space")){for(I=O;++I<R;)if(_[I][1].type==="mathTextData"){_[R][1].type="mathTextPadding",_[O][1].type="mathTextPadding",O+=2,R-=2;break}}for(I=O-1,R++;++I<=R;)F===void 0?I!==R&&_[I][1].type!=="lineEnding"&&(F=I):(I===R||_[I][1].type==="lineEnding")&&(_[F][1].type="mathTextData",I!==F+2&&(_[F][1].end=_[I-1][1].end,_.splice(F+2,I-F-2),R-=I-F-2,I=F+2),F=void 0);return _}function previous$1(_){return _!==36||this.events[this.events.length-1][1].type==="characterEscape"}function math$2(_){return{flow:{36:mathFlow},text:{36:mathText(_)}}}class SourceLocation{constructor(R,O,I){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=R,this.start=O,this.end=I}static range(R,O){return O?!R||!R.loc||!O.loc||R.loc.lexer!==O.loc.lexer?null:new SourceLocation(R.loc.lexer,R.loc.start,O.loc.end):R&&R.loc}}class Token{constructor(R,O){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=R,this.loc=O}range(R,O){return new Token(O,SourceLocation.range(this,R))}}class ParseError{constructor(R,O){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var I="KaTeX parse error: "+R,F,z,L=O&&O.loc;if(L&&L.start<=L.end){var U=L.lexer.input;F=L.start,z=L.end,F===U.length?I+=" at end of input: ":I+=" at position "+(F+1)+": ";var q=U.slice(F,z).replace(/[^]/g,"$&"),G;F>15?G=""+U.slice(F-15,F):G=U.slice(0,F);var V;z+15<U.length?V=U.slice(z,z+15)+"":V=U.slice(z),I+=G+q+V}var Z=new Error(I);return Z.name="ParseError",Z.__proto__=ParseError.prototype,Z.position=F,F!=null&&z!=null&&(Z.length=z-F),Z.rawMessage=R,Z}}ParseError.prototype.__proto__=Error.prototype;var deflt=function _(R,O){return R===void 0?O:R},uppercase=/([A-Z])/g,hyphenate=function _(R){return R.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape$1(_){return String(_).replace(ESCAPE_REGEX,R=>ESCAPE_LOOKUP[R])}var getBaseElem=function _(R){return R.type==="ordgroup"||R.type==="color"?R.body.length===1?_(R.body[0]):R:R.type==="font"?_(R.body):R},isCharacterBox=function _(R){var O=getBaseElem(R);return O.type==="mathord"||O.type==="textord"||O.type==="atom"},assert=function _(R){if(!R)throw new Error("Expected non-null, but got "+String(R));return R},protocolFromUrl=function _(R){var O=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(R);return O?O[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(O[1])?null:O[1].toLowerCase():"_relative"},utils={deflt,escape:escape$1,hyphenate,getBaseElem,isCharacterBox,protocolFromUrl},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:_=>"#"+_},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(_,R)=>(R.push(_),R)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:_=>Math.max(0,_),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:_=>Math.max(0,_),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:_=>Math.max(0,_),cli:"-e, --max-expand <n>",cliProcessor:_=>_==="Infinity"?1/0:parseInt(_)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(_){if(_.default)return _.default;var R=_.type,O=Array.isArray(R)?R[0]:R;if(typeof O!="string")return O.enum[0];switch(O){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Settings{constructor(R){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,R=R||{};for(var O in SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(O)){var I=SETTINGS_SCHEMA[O];this[O]=R[O]!==void 0?I.processor?I.processor(R[O]):R[O]:getDefaultValue(I)}}reportNonstrict(R,O,I){var F=this.strict;if(typeof F=="function"&&(F=F(R,O,I)),!(!F||F==="ignore")){if(F===!0||F==="error")throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+(O+" ["+R+"]"),I);F==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(O+" ["+R+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+F+"': "+O+" ["+R+"]"))}}useStrictBehavior(R,O,I){var F=this.strict;if(typeof F=="function")try{F=F(R,O,I)}catch{F="error"}return!F||F==="ignore"?!1:F===!0||F==="error"?!0:F==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(O+" ["+R+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+F+"': "+O+" ["+R+"]")),!1)}isTrusted(R){if(R.url&&!R.protocol){var O=utils.protocolFromUrl(R.url);if(O==null)return!1;R.protocol=O}var I=typeof this.trust=="function"?this.trust(R):this.trust;return!!I}}class Style{constructor(R,O,I){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=R,this.size=O,this.cramped=I}sup(){return styles$1[sup[this.id]]}sub(){return styles$1[sub$1[this.id]]}fracNum(){return styles$1[fracNum[this.id]]}fracDen(){return styles$1[fracDen[this.id]]}cramp(){return styles$1[cramp[this.id]]}text(){return styles$1[text$1$1[this.id]]}isTight(){return this.size>=2}}var D$1=0,Dc=1,T=2,Tc=3,S$1=4,Sc=5,SS=6,SSc=7,styles$1=[new Style(D$1,0,!1),new Style(Dc,0,!0),new Style(T,1,!1),new Style(Tc,1,!0),new Style(S$1,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S$1,Sc,S$1,Sc,SS,SSc,SS,SSc],sub$1=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T,Tc,S$1,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1$1=[D$1,Dc,T,Tc,T,Tc,T,Tc],Style$1={DISPLAY:styles$1[D$1],TEXT:styles$1[T],SCRIPT:styles$1[S$1],SCRIPTSCRIPT:styles$1[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(_){for(var R=0;R<scriptData.length;R++)for(var O=scriptData[R],I=0;I<O.blocks.length;I++){var F=O.blocks[I];if(_>=F[0]&&_<=F[1])return O.name}return null}var allBlocks=[];scriptData.forEach(_=>_.blocks.forEach(R=>allBlocks.push(...R)));function supportedCodepoint(_){for(var R=0;R<allBlocks.length;R+=2)if(_>=allBlocks[R]&&_<=allBlocks[R+1])return!0;return!1}var hLinePad=80,sqrtMain=function _(R,O){return"M95,"+(622+R+O)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+R/2.075+" -"+R+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+R)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+R)+" "+O+"h400000v"+(40+R)+"h-400000z"},sqrtSize1=function _(R,O){return"M263,"+(601+R+O)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+R/2.084+" -"+R+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+R)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+R)+" "+O+"h400000v"+(40+R)+"h-400000z"},sqrtSize2=function _(R,O){return"M983 "+(10+R+O)+`
l`+R/3.13+" -"+R+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+R)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+R)+" "+O+"h400000v"+(40+R)+"h-400000z"},sqrtSize3=function _(R,O){return"M424,"+(2398+R+O)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+R/4.223+" -"+R+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+R)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+R)+" "+O+`
h400000v`+(40+R)+"h-400000z"},sqrtSize4=function _(R,O){return"M473,"+(2713+R+O)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+R/5.298+" -"+R+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+R)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+R)+" "+O+"h400000v"+(40+R)+"H1017.7z"},phasePath=function _(R){var O=R/2;return"M400000 "+R+" H0 L"+O+" 0 l65 45 L145 "+(R-80)+" H400000z"},sqrtTall=function _(R,O,I){var F=I-54-O-R;return"M702 "+(R+O)+"H400000"+(40+R)+`
H742v`+F+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+O+"H400000v"+(40+R)+"H742z"},sqrtPath=function _(R,O,I){O=1e3*O;var F="";switch(R){case"sqrtMain":F=sqrtMain(O,hLinePad);break;case"sqrtSize1":F=sqrtSize1(O,hLinePad);break;case"sqrtSize2":F=sqrtSize2(O,hLinePad);break;case"sqrtSize3":F=sqrtSize3(O,hLinePad);break;case"sqrtSize4":F=sqrtSize4(O,hLinePad);break;case"sqrtTall":F=sqrtTall(O,hLinePad,I)}return F},innerPath=function _(R,O){switch(R){case"":return"M291 0 H417 V"+O+" H291z M291 0 H417 V"+O+" H291z";case"":return"M145 0 H188 V"+O+" H145z M145 0 H188 V"+O+" H145z";case"":return"M145 0 H188 V"+O+" H145z M145 0 H188 V"+O+" H145z"+("M367 0 H410 V"+O+" H367z M367 0 H410 V"+O+" H367z");case"":return"M457 0 H583 V"+O+" H457z M457 0 H583 V"+O+" H457z";case"":return"M319 0 H403 V"+O+" H319z M319 0 H403 V"+O+" H319z";case"":return"M263 0 H347 V"+O+" H263z M263 0 H347 V"+O+" H263z";case"":return"M384 0 H504 V"+O+" H384z M384 0 H504 V"+O+" H384z";case"":return"M312 0 H355 V"+O+" H312z M312 0 H355 V"+O+" H312z";case"":return"M257 0 H300 V"+O+" H257z M257 0 H300 V"+O+" H257z"+("M478 0 H521 V"+O+" H478z M478 0 H521 V"+O+" H478z");default:return""}},path$2={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tallDelim=function _(R,O){switch(R){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+O+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+O+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+O+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+O+" v1759 h84z";case"vert":return"M145 15 v585 v"+O+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-O+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+O+" v585 h43z";case"doublevert":return"M145 15 v585 v"+O+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-O+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+O+` v585 h43z
M367 15 v585 v`+O+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-O+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+O+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+O+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+O+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+O+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+O+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+O+` v602 h84z
M403 1759 V0 H319 V1759 v`+O+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+O+` v602 h84z
M347 1759 V0 h-84 V1759 v`+O+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(O+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(O+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(O+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(O+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let DocumentFragment$1=class{constructor(R){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=R,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(R){return this.classes.includes(R)}toNode(){for(var R=document.createDocumentFragment(),O=0;O<this.children.length;O++)R.appendChild(this.children[O].toNode());return R}toMarkup(){for(var R="",O=0;O<this.children.length;O++)R+=this.children[O].toMarkup();return R}toText(){var R=O=>O.toText();return this.children.map(R).join("")}};var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function setFontMetrics(_,R){fontMetricsData[_]=R}function getCharacterMetrics(_,R,O){if(!fontMetricsData[R])throw new Error("Font metrics not found for font: "+R+".");var I=_.charCodeAt(0),F=fontMetricsData[R][I];if(!F&&_[0]in extraCharacterMap&&(I=extraCharacterMap[_[0]].charCodeAt(0),F=fontMetricsData[R][I]),!F&&O==="text"&&supportedCodepoint(I)&&(F=fontMetricsData[R][77]),F)return{depth:F[0],height:F[1],italic:F[2],skew:F[3],width:F[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(_){var R;if(_>=5?R=0:_>=3?R=1:R=2,!fontMetricsBySizeIndex[R]){var O=fontMetricsBySizeIndex[R]={cssEmPerMu:sigmasAndXis.quad[R]/18};for(var I in sigmasAndXis)sigmasAndXis.hasOwnProperty(I)&&(O[I]=sigmasAndXis[I][R])}return fontMetricsBySizeIndex[R]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function _(R,O){return O.size<2?R:sizeStyleMap[R-1][O.size-1]};class Options{constructor(R){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=R.style,this.color=R.color,this.size=R.size||Options.BASESIZE,this.textSize=R.textSize||this.size,this.phantom=!!R.phantom,this.font=R.font||"",this.fontFamily=R.fontFamily||"",this.fontWeight=R.fontWeight||"",this.fontShape=R.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=R.maxSize,this.minRuleThickness=R.minRuleThickness,this._fontMetrics=void 0}extend(R){var O={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var I in R)R.hasOwnProperty(I)&&(O[I]=R[I]);return new Options(O)}havingStyle(R){return this.style===R?this:this.extend({style:R,size:sizeAtStyle(this.textSize,R)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(R){return this.size===R&&this.textSize===R?this:this.extend({style:this.style.text(),size:R,textSize:R,sizeMultiplier:sizeMultipliers[R-1]})}havingBaseStyle(R){R=R||this.style.text();var O=sizeAtStyle(Options.BASESIZE,R);return this.size===O&&this.textSize===Options.BASESIZE&&this.style===R?this:this.extend({style:R,size:O})}havingBaseSizing(){var R;switch(this.style.id){case 4:case 5:R=3;break;case 6:case 7:R=1;break;default:R=6}return this.extend({style:this.style.text(),size:R})}withColor(R){return this.extend({color:R})}withPhantom(){return this.extend({phantom:!0})}withFont(R){return this.extend({font:R})}withTextFontFamily(R){return this.extend({fontFamily:R,font:""})}withTextFontWeight(R){return this.extend({fontWeight:R,font:""})}withTextFontShape(R){return this.extend({fontShape:R,font:""})}sizingClasses(R){return R.size!==this.size?["sizing","reset-size"+R.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function _(R){return typeof R!="string"&&(R=R.unit),R in ptPerUnit||R in relativeUnit||R==="ex"},calculateSize=function _(R,O){var I;if(R.unit in ptPerUnit)I=ptPerUnit[R.unit]/O.fontMetrics().ptPerEm/O.sizeMultiplier;else if(R.unit==="mu")I=O.fontMetrics().cssEmPerMu;else{var F;if(O.style.isTight()?F=O.havingStyle(O.style.text()):F=O,R.unit==="ex")I=F.fontMetrics().xHeight;else if(R.unit==="em")I=F.fontMetrics().quad;else throw new ParseError("Invalid unit: '"+R.unit+"'");F!==O&&(I*=F.sizeMultiplier/O.sizeMultiplier)}return Math.min(R.number*I,O.maxSize)},makeEm=function _(R){return+R.toFixed(4)+"em"},createClass=function _(R){return R.filter(O=>O).join(" ")},initNode=function _(R,O,I){if(this.classes=R||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=I||{},O){O.style.isTight()&&this.classes.push("mtight");var F=O.getColor();F&&(this.style.color=F)}},toNode=function _(R){var O=document.createElement(R);O.className=createClass(this.classes);for(var I in this.style)this.style.hasOwnProperty(I)&&(O.style[I]=this.style[I]);for(var F in this.attributes)this.attributes.hasOwnProperty(F)&&O.setAttribute(F,this.attributes[F]);for(var z=0;z<this.children.length;z++)O.appendChild(this.children[z].toNode());return O},invalidAttributeNameRegex=/[\s"'>/=\x00-\x1f]/,toMarkup=function _(R){var O="<"+R;this.classes.length&&(O+=' class="'+utils.escape(createClass(this.classes))+'"');var I="";for(var F in this.style)this.style.hasOwnProperty(F)&&(I+=utils.hyphenate(F)+":"+this.style[F]+";");I&&(O+=' style="'+utils.escape(I)+'"');for(var z in this.attributes)if(this.attributes.hasOwnProperty(z)){if(invalidAttributeNameRegex.test(z))throw new ParseError("Invalid attribute name '"+z+"'");O+=" "+z+'="'+utils.escape(this.attributes[z])+'"'}O+=">";for(var L=0;L<this.children.length;L++)O+=this.children[L].toMarkup();return O+="</"+R+">",O};class Span{constructor(R,O,I,F){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,R,I,F),this.children=O||[]}setAttribute(R,O){this.attributes[R]=O}hasClass(R){return this.classes.includes(R)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor(R,O,I,F){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,O,F),this.children=I||[],this.setAttribute("href",R)}setAttribute(R,O){this.attributes[R]=O}hasClass(R){return this.classes.includes(R)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(R,O,I){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=O,this.src=R,this.classes=["mord"],this.style=I}hasClass(R){return this.classes.includes(R)}toNode(){var R=document.createElement("img");R.src=this.src,R.alt=this.alt,R.className="mord";for(var O in this.style)this.style.hasOwnProperty(O)&&(R.style[O]=this.style[O]);return R}toMarkup(){var R='<img src="'+utils.escape(this.src)+'"'+(' alt="'+utils.escape(this.alt)+'"'),O="";for(var I in this.style)this.style.hasOwnProperty(I)&&(O+=utils.hyphenate(I)+":"+this.style[I]+";");return O&&(R+=' style="'+utils.escape(O)+'"'),R+="'/>",R}}var iCombinations={:"",:"",:"",:""};let SymbolNode$1=class{constructor(R,O,I,F,z,L,U,q){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=R,this.height=O||0,this.depth=I||0,this.italic=F||0,this.skew=z||0,this.width=L||0,this.classes=U||[],this.style=q||{},this.maxFontSize=0;var G=scriptFromCodepoint(this.text.charCodeAt(0));G&&this.classes.push(G+"_fallback"),/[]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(R){return this.classes.includes(R)}toNode(){var R=document.createTextNode(this.text),O=null;this.italic>0&&(O=document.createElement("span"),O.style.marginRight=makeEm(this.italic)),this.classes.length>0&&(O=O||document.createElement("span"),O.className=createClass(this.classes));for(var I in this.style)this.style.hasOwnProperty(I)&&(O=O||document.createElement("span"),O.style[I]=this.style[I]);return O?(O.appendChild(R),O):R}toMarkup(){var R=!1,O="<span";this.classes.length&&(R=!0,O+=' class="',O+=utils.escape(createClass(this.classes)),O+='"');var I="";this.italic>0&&(I+="margin-right:"+this.italic+"em;");for(var F in this.style)this.style.hasOwnProperty(F)&&(I+=utils.hyphenate(F)+":"+this.style[F]+";");I&&(R=!0,O+=' style="'+utils.escape(I)+'"');var z=utils.escape(this.text);return R?(O+=">",O+=z,O+="</span>",O):z}};class SvgNode{constructor(R,O){this.children=void 0,this.attributes=void 0,this.children=R||[],this.attributes=O||{}}toNode(){var R="http://www.w3.org/2000/svg",O=document.createElementNS(R,"svg");for(var I in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,I)&&O.setAttribute(I,this.attributes[I]);for(var F=0;F<this.children.length;F++)O.appendChild(this.children[F].toNode());return O}toMarkup(){var R='<svg xmlns="http://www.w3.org/2000/svg"';for(var O in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,O)&&(R+=" "+O+'="'+utils.escape(this.attributes[O])+'"');R+=">";for(var I=0;I<this.children.length;I++)R+=this.children[I].toMarkup();return R+="</svg>",R}}class PathNode{constructor(R,O){this.pathName=void 0,this.alternate=void 0,this.pathName=R,this.alternate=O}toNode(){var R="http://www.w3.org/2000/svg",O=document.createElementNS(R,"path");return this.alternate?O.setAttribute("d",this.alternate):O.setAttribute("d",path$2[this.pathName]),O}toMarkup(){return this.alternate?'<path d="'+utils.escape(this.alternate)+'"/>':'<path d="'+utils.escape(path$2[this.pathName])+'"/>'}}class LineNode{constructor(R){this.attributes=void 0,this.attributes=R||{}}toNode(){var R="http://www.w3.org/2000/svg",O=document.createElementNS(R,"line");for(var I in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,I)&&O.setAttribute(I,this.attributes[I]);return O}toMarkup(){var R="<line";for(var O in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,O)&&(R+=" "+O+'="'+utils.escape(this.attributes[O])+'"');return R+="/>",R}}function assertSymbolDomNode(_){if(_ instanceof SymbolNode$1)return _;throw new Error("Expected symbolNode but got "+String(_)+".")}function assertSpan(_){if(_ instanceof Span)return _;throw new Error("Expected span<HtmlDomNode> but got "+String(_)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols$1={math:{},text:{}};function defineSymbol(_,R,O,I,F,z){symbols$1[_][F]={font:R,group:O,replace:I},z&&I&&(symbols$1[_][I]=symbols$1[_][F])}var math$1="math",text$4="text",main="main",ams="ams",accent="accent-token",bin$1="bin",close="close",inner="inner",mathord="mathord",op="op-token",open="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math$1,main,rel,"","\\equiv",!0);defineSymbol(math$1,main,rel,"","\\prec",!0);defineSymbol(math$1,main,rel,"","\\succ",!0);defineSymbol(math$1,main,rel,"","\\sim",!0);defineSymbol(math$1,main,rel,"","\\perp");defineSymbol(math$1,main,rel,"","\\preceq",!0);defineSymbol(math$1,main,rel,"","\\succeq",!0);defineSymbol(math$1,main,rel,"","\\simeq",!0);defineSymbol(math$1,main,rel,"","\\mid",!0);defineSymbol(math$1,main,rel,"","\\ll",!0);defineSymbol(math$1,main,rel,"","\\gg",!0);defineSymbol(math$1,main,rel,"","\\asymp",!0);defineSymbol(math$1,main,rel,"","\\parallel");defineSymbol(math$1,main,rel,"","\\bowtie",!0);defineSymbol(math$1,main,rel,"","\\smile",!0);defineSymbol(math$1,main,rel,"","\\sqsubseteq",!0);defineSymbol(math$1,main,rel,"","\\sqsupseteq",!0);defineSymbol(math$1,main,rel,"","\\doteq",!0);defineSymbol(math$1,main,rel,"","\\frown",!0);defineSymbol(math$1,main,rel,"","\\ni",!0);defineSymbol(math$1,main,rel,"","\\propto",!0);defineSymbol(math$1,main,rel,"","\\vdash",!0);defineSymbol(math$1,main,rel,"","\\dashv",!0);defineSymbol(math$1,main,rel,"","\\owns");defineSymbol(math$1,main,punct,".","\\ldotp");defineSymbol(math$1,main,punct,"","\\cdotp");defineSymbol(math$1,main,textord,"#","\\#");defineSymbol(text$4,main,textord,"#","\\#");defineSymbol(math$1,main,textord,"&","\\&");defineSymbol(text$4,main,textord,"&","\\&");defineSymbol(math$1,main,textord,"","\\aleph",!0);defineSymbol(math$1,main,textord,"","\\forall",!0);defineSymbol(math$1,main,textord,"","\\hbar",!0);defineSymbol(math$1,main,textord,"","\\exists",!0);defineSymbol(math$1,main,textord,"","\\nabla",!0);defineSymbol(math$1,main,textord,"","\\flat",!0);defineSymbol(math$1,main,textord,"","\\ell",!0);defineSymbol(math$1,main,textord,"","\\natural",!0);defineSymbol(math$1,main,textord,"","\\clubsuit",!0);defineSymbol(math$1,main,textord,"","\\wp",!0);defineSymbol(math$1,main,textord,"","\\sharp",!0);defineSymbol(math$1,main,textord,"","\\diamondsuit",!0);defineSymbol(math$1,main,textord,"","\\Re",!0);defineSymbol(math$1,main,textord,"","\\heartsuit",!0);defineSymbol(math$1,main,textord,"","\\Im",!0);defineSymbol(math$1,main,textord,"","\\spadesuit",!0);defineSymbol(math$1,main,textord,"","\\S",!0);defineSymbol(text$4,main,textord,"","\\S");defineSymbol(math$1,main,textord,"","\\P",!0);defineSymbol(text$4,main,textord,"","\\P");defineSymbol(math$1,main,textord,"","\\dag");defineSymbol(text$4,main,textord,"","\\dag");defineSymbol(text$4,main,textord,"","\\textdagger");defineSymbol(math$1,main,textord,"","\\ddag");defineSymbol(text$4,main,textord,"","\\ddag");defineSymbol(text$4,main,textord,"","\\textdaggerdbl");defineSymbol(math$1,main,close,"","\\rmoustache",!0);defineSymbol(math$1,main,open,"","\\lmoustache",!0);defineSymbol(math$1,main,close,"","\\rgroup",!0);defineSymbol(math$1,main,open,"","\\lgroup",!0);defineSymbol(math$1,main,bin$1,"","\\mp",!0);defineSymbol(math$1,main,bin$1,"","\\ominus",!0);defineSymbol(math$1,main,bin$1,"","\\uplus",!0);defineSymbol(math$1,main,bin$1,"","\\sqcap",!0);defineSymbol(math$1,main,bin$1,"","\\ast");defineSymbol(math$1,main,bin$1,"","\\sqcup",!0);defineSymbol(math$1,main,bin$1,"","\\bigcirc",!0);defineSymbol(math$1,main,bin$1,"","\\bullet",!0);defineSymbol(math$1,main,bin$1,"","\\ddagger");defineSymbol(math$1,main,bin$1,"","\\wr",!0);defineSymbol(math$1,main,bin$1,"","\\amalg");defineSymbol(math$1,main,bin$1,"&","\\And");defineSymbol(math$1,main,rel,"","\\longleftarrow",!0);defineSymbol(math$1,main,rel,"","\\Leftarrow",!0);defineSymbol(math$1,main,rel,"","\\Longleftarrow",!0);defineSymbol(math$1,main,rel,"","\\longrightarrow",!0);defineSymbol(math$1,main,rel,"","\\Rightarrow",!0);defineSymbol(math$1,main,rel,"","\\Longrightarrow",!0);defineSymbol(math$1,main,rel,"","\\leftrightarrow",!0);defineSymbol(math$1,main,rel,"","\\longleftrightarrow",!0);defineSymbol(math$1,main,rel,"","\\Leftrightarrow",!0);defineSymbol(math$1,main,rel,"","\\Longleftrightarrow",!0);defineSymbol(math$1,main,rel,"","\\mapsto",!0);defineSymbol(math$1,main,rel,"","\\longmapsto",!0);defineSymbol(math$1,main,rel,"","\\nearrow",!0);defineSymbol(math$1,main,rel,"","\\hookleftarrow",!0);defineSymbol(math$1,main,rel,"","\\hookrightarrow",!0);defineSymbol(math$1,main,rel,"","\\searrow",!0);defineSymbol(math$1,main,rel,"","\\leftharpoonup",!0);defineSymbol(math$1,main,rel,"","\\rightharpoonup",!0);defineSymbol(math$1,main,rel,"","\\swarrow",!0);defineSymbol(math$1,main,rel,"","\\leftharpoondown",!0);defineSymbol(math$1,main,rel,"","\\rightharpoondown",!0);defineSymbol(math$1,main,rel,"","\\nwarrow",!0);defineSymbol(math$1,main,rel,"","\\rightleftharpoons",!0);defineSymbol(math$1,ams,rel,"","\\nless",!0);defineSymbol(math$1,ams,rel,"","\\@nleqslant");defineSymbol(math$1,ams,rel,"","\\@nleqq");defineSymbol(math$1,ams,rel,"","\\lneq",!0);defineSymbol(math$1,ams,rel,"","\\lneqq",!0);defineSymbol(math$1,ams,rel,"","\\@lvertneqq");defineSymbol(math$1,ams,rel,"","\\lnsim",!0);defineSymbol(math$1,ams,rel,"","\\lnapprox",!0);defineSymbol(math$1,ams,rel,"","\\nprec",!0);defineSymbol(math$1,ams,rel,"","\\npreceq",!0);defineSymbol(math$1,ams,rel,"","\\precnsim",!0);defineSymbol(math$1,ams,rel,"","\\precnapprox",!0);defineSymbol(math$1,ams,rel,"","\\nsim",!0);defineSymbol(math$1,ams,rel,"","\\@nshortmid");defineSymbol(math$1,ams,rel,"","\\nmid",!0);defineSymbol(math$1,ams,rel,"","\\nvdash",!0);defineSymbol(math$1,ams,rel,"","\\nvDash",!0);defineSymbol(math$1,ams,rel,"","\\ntriangleleft");defineSymbol(math$1,ams,rel,"","\\ntrianglelefteq",!0);defineSymbol(math$1,ams,rel,"","\\subsetneq",!0);defineSymbol(math$1,ams,rel,"","\\@varsubsetneq");defineSymbol(math$1,ams,rel,"","\\subsetneqq",!0);defineSymbol(math$1,ams,rel,"","\\@varsubsetneqq");defineSymbol(math$1,ams,rel,"","\\ngtr",!0);defineSymbol(math$1,ams,rel,"","\\@ngeqslant");defineSymbol(math$1,ams,rel,"","\\@ngeqq");defineSymbol(math$1,ams,rel,"","\\gneq",!0);defineSymbol(math$1,ams,rel,"","\\gneqq",!0);defineSymbol(math$1,ams,rel,"","\\@gvertneqq");defineSymbol(math$1,ams,rel,"","\\gnsim",!0);defineSymbol(math$1,ams,rel,"","\\gnapprox",!0);defineSymbol(math$1,ams,rel,"","\\nsucc",!0);defineSymbol(math$1,ams,rel,"","\\nsucceq",!0);defineSymbol(math$1,ams,rel,"","\\succnsim",!0);defineSymbol(math$1,ams,rel,"","\\succnapprox",!0);defineSymbol(math$1,ams,rel,"","\\ncong",!0);defineSymbol(math$1,ams,rel,"","\\@nshortparallel");defineSymbol(math$1,ams,rel,"","\\nparallel",!0);defineSymbol(math$1,ams,rel,"","\\nVDash",!0);defineSymbol(math$1,ams,rel,"","\\ntriangleright");defineSymbol(math$1,ams,rel,"","\\ntrianglerighteq",!0);defineSymbol(math$1,ams,rel,"","\\@nsupseteqq");defineSymbol(math$1,ams,rel,"","\\supsetneq",!0);defineSymbol(math$1,ams,rel,"","\\@varsupsetneq");defineSymbol(math$1,ams,rel,"","\\supsetneqq",!0);defineSymbol(math$1,ams,rel,"","\\@varsupsetneqq");defineSymbol(math$1,ams,rel,"","\\nVdash",!0);defineSymbol(math$1,ams,rel,"","\\precneqq",!0);defineSymbol(math$1,ams,rel,"","\\succneqq",!0);defineSymbol(math$1,ams,rel,"","\\@nsubseteqq");defineSymbol(math$1,ams,bin$1,"","\\unlhd");defineSymbol(math$1,ams,bin$1,"","\\unrhd");defineSymbol(math$1,ams,rel,"","\\nleftarrow",!0);defineSymbol(math$1,ams,rel,"","\\nrightarrow",!0);defineSymbol(math$1,ams,rel,"","\\nLeftarrow",!0);defineSymbol(math$1,ams,rel,"","\\nRightarrow",!0);defineSymbol(math$1,ams,rel,"","\\nleftrightarrow",!0);defineSymbol(math$1,ams,rel,"","\\nLeftrightarrow",!0);defineSymbol(math$1,ams,rel,"","\\vartriangle");defineSymbol(math$1,ams,textord,"","\\hslash");defineSymbol(math$1,ams,textord,"","\\triangledown");defineSymbol(math$1,ams,textord,"","\\lozenge");defineSymbol(math$1,ams,textord,"","\\circledS");defineSymbol(math$1,ams,textord,"","\\circledR");defineSymbol(text$4,ams,textord,"","\\circledR");defineSymbol(math$1,ams,textord,"","\\measuredangle",!0);defineSymbol(math$1,ams,textord,"","\\nexists");defineSymbol(math$1,ams,textord,"","\\mho");defineSymbol(math$1,ams,textord,"","\\Finv",!0);defineSymbol(math$1,ams,textord,"","\\Game",!0);defineSymbol(math$1,ams,textord,"","\\backprime");defineSymbol(math$1,ams,textord,"","\\blacktriangle");defineSymbol(math$1,ams,textord,"","\\blacktriangledown");defineSymbol(math$1,ams,textord,"","\\blacksquare");defineSymbol(math$1,ams,textord,"","\\blacklozenge");defineSymbol(math$1,ams,textord,"","\\bigstar");defineSymbol(math$1,ams,textord,"","\\sphericalangle",!0);defineSymbol(math$1,ams,textord,"","\\complement",!0);defineSymbol(math$1,ams,textord,"","\\eth",!0);defineSymbol(text$4,main,textord,"","");defineSymbol(math$1,ams,textord,"","\\diagup");defineSymbol(math$1,ams,textord,"","\\diagdown");defineSymbol(math$1,ams,textord,"","\\square");defineSymbol(math$1,ams,textord,"","\\Box");defineSymbol(math$1,ams,textord,"","\\Diamond");defineSymbol(math$1,ams,textord,"","\\yen",!0);defineSymbol(text$4,ams,textord,"","\\yen",!0);defineSymbol(math$1,ams,textord,"","\\checkmark",!0);defineSymbol(text$4,ams,textord,"","\\checkmark");defineSymbol(math$1,ams,textord,"","\\beth",!0);defineSymbol(math$1,ams,textord,"","\\daleth",!0);defineSymbol(math$1,ams,textord,"","\\gimel",!0);defineSymbol(math$1,ams,textord,"","\\digamma",!0);defineSymbol(math$1,ams,textord,"","\\varkappa");defineSymbol(math$1,ams,open,"","\\@ulcorner",!0);defineSymbol(math$1,ams,close,"","\\@urcorner",!0);defineSymbol(math$1,ams,open,"","\\@llcorner",!0);defineSymbol(math$1,ams,close,"","\\@lrcorner",!0);defineSymbol(math$1,ams,rel,"","\\leqq",!0);defineSymbol(math$1,ams,rel,"","\\leqslant",!0);defineSymbol(math$1,ams,rel,"","\\eqslantless",!0);defineSymbol(math$1,ams,rel,"","\\lesssim",!0);defineSymbol(math$1,ams,rel,"","\\lessapprox",!0);defineSymbol(math$1,ams,rel,"","\\approxeq",!0);defineSymbol(math$1,ams,bin$1,"","\\lessdot");defineSymbol(math$1,ams,rel,"","\\lll",!0);defineSymbol(math$1,ams,rel,"","\\lessgtr",!0);defineSymbol(math$1,ams,rel,"","\\lesseqgtr",!0);defineSymbol(math$1,ams,rel,"","\\lesseqqgtr",!0);defineSymbol(math$1,ams,rel,"","\\doteqdot");defineSymbol(math$1,ams,rel,"","\\risingdotseq",!0);defineSymbol(math$1,ams,rel,"","\\fallingdotseq",!0);defineSymbol(math$1,ams,rel,"","\\backsim",!0);defineSymbol(math$1,ams,rel,"","\\backsimeq",!0);defineSymbol(math$1,ams,rel,"","\\subseteqq",!0);defineSymbol(math$1,ams,rel,"","\\Subset",!0);defineSymbol(math$1,ams,rel,"","\\sqsubset",!0);defineSymbol(math$1,ams,rel,"","\\preccurlyeq",!0);defineSymbol(math$1,ams,rel,"","\\curlyeqprec",!0);defineSymbol(math$1,ams,rel,"","\\precsim",!0);defineSymbol(math$1,ams,rel,"","\\precapprox",!0);defineSymbol(math$1,ams,rel,"","\\vartriangleleft");defineSymbol(math$1,ams,rel,"","\\trianglelefteq");defineSymbol(math$1,ams,rel,"","\\vDash",!0);defineSymbol(math$1,ams,rel,"","\\Vvdash",!0);defineSymbol(math$1,ams,rel,"","\\smallsmile");defineSymbol(math$1,ams,rel,"","\\smallfrown");defineSymbol(math$1,ams,rel,"","\\bumpeq",!0);defineSymbol(math$1,ams,rel,"","\\Bumpeq",!0);defineSymbol(math$1,ams,rel,"","\\geqq",!0);defineSymbol(math$1,ams,rel,"","\\geqslant",!0);defineSymbol(math$1,ams,rel,"","\\eqslantgtr",!0);defineSymbol(math$1,ams,rel,"","\\gtrsim",!0);defineSymbol(math$1,ams,rel,"","\\gtrapprox",!0);defineSymbol(math$1,ams,bin$1,"","\\gtrdot");defineSymbol(math$1,ams,rel,"","\\ggg",!0);defineSymbol(math$1,ams,rel,"","\\gtrless",!0);defineSymbol(math$1,ams,rel,"","\\gtreqless",!0);defineSymbol(math$1,ams,rel,"","\\gtreqqless",!0);defineSymbol(math$1,ams,rel,"","\\eqcirc",!0);defineSymbol(math$1,ams,rel,"","\\circeq",!0);defineSymbol(math$1,ams,rel,"","\\triangleq",!0);defineSymbol(math$1,ams,rel,"","\\thicksim");defineSymbol(math$1,ams,rel,"","\\thickapprox");defineSymbol(math$1,ams,rel,"","\\supseteqq",!0);defineSymbol(math$1,ams,rel,"","\\Supset",!0);defineSymbol(math$1,ams,rel,"","\\sqsupset",!0);defineSymbol(math$1,ams,rel,"","\\succcurlyeq",!0);defineSymbol(math$1,ams,rel,"","\\curlyeqsucc",!0);defineSymbol(math$1,ams,rel,"","\\succsim",!0);defineSymbol(math$1,ams,rel,"","\\succapprox",!0);defineSymbol(math$1,ams,rel,"","\\vartriangleright");defineSymbol(math$1,ams,rel,"","\\trianglerighteq");defineSymbol(math$1,ams,rel,"","\\Vdash",!0);defineSymbol(math$1,ams,rel,"","\\shortmid");defineSymbol(math$1,ams,rel,"","\\shortparallel");defineSymbol(math$1,ams,rel,"","\\between",!0);defineSymbol(math$1,ams,rel,"","\\pitchfork",!0);defineSymbol(math$1,ams,rel,"","\\varpropto");defineSymbol(math$1,ams,rel,"","\\blacktriangleleft");defineSymbol(math$1,ams,rel,"","\\therefore",!0);defineSymbol(math$1,ams,rel,"","\\backepsilon");defineSymbol(math$1,ams,rel,"","\\blacktriangleright");defineSymbol(math$1,ams,rel,"","\\because",!0);defineSymbol(math$1,ams,rel,"","\\llless");defineSymbol(math$1,ams,rel,"","\\gggtr");defineSymbol(math$1,ams,bin$1,"","\\lhd");defineSymbol(math$1,ams,bin$1,"","\\rhd");defineSymbol(math$1,ams,rel,"","\\eqsim",!0);defineSymbol(math$1,main,rel,"","\\Join");defineSymbol(math$1,ams,rel,"","\\Doteq",!0);defineSymbol(math$1,ams,bin$1,"","\\dotplus",!0);defineSymbol(math$1,ams,bin$1,"","\\smallsetminus");defineSymbol(math$1,ams,bin$1,"","\\Cap",!0);defineSymbol(math$1,ams,bin$1,"","\\Cup",!0);defineSymbol(math$1,ams,bin$1,"","\\doublebarwedge",!0);defineSymbol(math$1,ams,bin$1,"","\\boxminus",!0);defineSymbol(math$1,ams,bin$1,"","\\boxplus",!0);defineSymbol(math$1,ams,bin$1,"","\\divideontimes",!0);defineSymbol(math$1,ams,bin$1,"","\\ltimes",!0);defineSymbol(math$1,ams,bin$1,"","\\rtimes",!0);defineSymbol(math$1,ams,bin$1,"","\\leftthreetimes",!0);defineSymbol(math$1,ams,bin$1,"","\\rightthreetimes",!0);defineSymbol(math$1,ams,bin$1,"","\\curlywedge",!0);defineSymbol(math$1,ams,bin$1,"","\\curlyvee",!0);defineSymbol(math$1,ams,bin$1,"","\\circleddash",!0);defineSymbol(math$1,ams,bin$1,"","\\circledast",!0);defineSymbol(math$1,ams,bin$1,"","\\centerdot");defineSymbol(math$1,ams,bin$1,"","\\intercal",!0);defineSymbol(math$1,ams,bin$1,"","\\doublecap");defineSymbol(math$1,ams,bin$1,"","\\doublecup");defineSymbol(math$1,ams,bin$1,"","\\boxtimes",!0);defineSymbol(math$1,ams,rel,"","\\dashrightarrow",!0);defineSymbol(math$1,ams,rel,"","\\dashleftarrow",!0);defineSymbol(math$1,ams,rel,"","\\leftleftarrows",!0);defineSymbol(math$1,ams,rel,"","\\leftrightarrows",!0);defineSymbol(math$1,ams,rel,"","\\Lleftarrow",!0);defineSymbol(math$1,ams,rel,"","\\twoheadleftarrow",!0);defineSymbol(math$1,ams,rel,"","\\leftarrowtail",!0);defineSymbol(math$1,ams,rel,"","\\looparrowleft",!0);defineSymbol(math$1,ams,rel,"","\\leftrightharpoons",!0);defineSymbol(math$1,ams,rel,"","\\curvearrowleft",!0);defineSymbol(math$1,ams,rel,"","\\circlearrowleft",!0);defineSymbol(math$1,ams,rel,"","\\Lsh",!0);defineSymbol(math$1,ams,rel,"","\\upuparrows",!0);defineSymbol(math$1,ams,rel,"","\\upharpoonleft",!0);defineSymbol(math$1,ams,rel,"","\\downharpoonleft",!0);defineSymbol(math$1,main,rel,"","\\origof",!0);defineSymbol(math$1,main,rel,"","\\imageof",!0);defineSymbol(math$1,ams,rel,"","\\multimap",!0);defineSymbol(math$1,ams,rel,"","\\leftrightsquigarrow",!0);defineSymbol(math$1,ams,rel,"","\\rightrightarrows",!0);defineSymbol(math$1,ams,rel,"","\\rightleftarrows",!0);defineSymbol(math$1,ams,rel,"","\\twoheadrightarrow",!0);defineSymbol(math$1,ams,rel,"","\\rightarrowtail",!0);defineSymbol(math$1,ams,rel,"","\\looparrowright",!0);defineSymbol(math$1,ams,rel,"","\\curvearrowright",!0);defineSymbol(math$1,ams,rel,"","\\circlearrowright",!0);defineSymbol(math$1,ams,rel,"","\\Rsh",!0);defineSymbol(math$1,ams,rel,"","\\downdownarrows",!0);defineSymbol(math$1,ams,rel,"","\\upharpoonright",!0);defineSymbol(math$1,ams,rel,"","\\downharpoonright",!0);defineSymbol(math$1,ams,rel,"","\\rightsquigarrow",!0);defineSymbol(math$1,ams,rel,"","\\leadsto");defineSymbol(math$1,ams,rel,"","\\Rrightarrow",!0);defineSymbol(math$1,ams,rel,"","\\restriction");defineSymbol(math$1,main,textord,"","`");defineSymbol(math$1,main,textord,"$","\\$");defineSymbol(text$4,main,textord,"$","\\$");defineSymbol(text$4,main,textord,"$","\\textdollar");defineSymbol(math$1,main,textord,"%","\\%");defineSymbol(text$4,main,textord,"%","\\%");defineSymbol(math$1,main,textord,"_","\\_");defineSymbol(text$4,main,textord,"_","\\_");defineSymbol(text$4,main,textord,"_","\\textunderscore");defineSymbol(math$1,main,textord,"","\\angle",!0);defineSymbol(math$1,main,textord,"","\\infty",!0);defineSymbol(math$1,main,textord,"","\\prime");defineSymbol(math$1,main,textord,"","\\triangle");defineSymbol(math$1,main,textord,"","\\Gamma",!0);defineSymbol(math$1,main,textord,"","\\Delta",!0);defineSymbol(math$1,main,textord,"","\\Theta",!0);defineSymbol(math$1,main,textord,"","\\Lambda",!0);defineSymbol(math$1,main,textord,"","\\Xi",!0);defineSymbol(math$1,main,textord,"","\\Pi",!0);defineSymbol(math$1,main,textord,"","\\Sigma",!0);defineSymbol(math$1,main,textord,"","\\Upsilon",!0);defineSymbol(math$1,main,textord,"","\\Phi",!0);defineSymbol(math$1,main,textord,"","\\Psi",!0);defineSymbol(math$1,main,textord,"","\\Omega",!0);defineSymbol(math$1,main,textord,"A","");defineSymbol(math$1,main,textord,"B","");defineSymbol(math$1,main,textord,"E","");defineSymbol(math$1,main,textord,"Z","");defineSymbol(math$1,main,textord,"H","");defineSymbol(math$1,main,textord,"I","");defineSymbol(math$1,main,textord,"K","");defineSymbol(math$1,main,textord,"M","");defineSymbol(math$1,main,textord,"N","");defineSymbol(math$1,main,textord,"O","");defineSymbol(math$1,main,textord,"P","");defineSymbol(math$1,main,textord,"T","");defineSymbol(math$1,main,textord,"X","");defineSymbol(math$1,main,textord,"","\\neg",!0);defineSymbol(math$1,main,textord,"","\\lnot");defineSymbol(math$1,main,textord,"","\\top");defineSymbol(math$1,main,textord,"","\\bot");defineSymbol(math$1,main,textord,"","\\emptyset");defineSymbol(math$1,ams,textord,"","\\varnothing");defineSymbol(math$1,main,mathord,"","\\alpha",!0);defineSymbol(math$1,main,mathord,"","\\beta",!0);defineSymbol(math$1,main,mathord,"","\\gamma",!0);defineSymbol(math$1,main,mathord,"","\\delta",!0);defineSymbol(math$1,main,mathord,"","\\epsilon",!0);defineSymbol(math$1,main,mathord,"","\\zeta",!0);defineSymbol(math$1,main,mathord,"","\\eta",!0);defineSymbol(math$1,main,mathord,"","\\theta",!0);defineSymbol(math$1,main,mathord,"","\\iota",!0);defineSymbol(math$1,main,mathord,"","\\kappa",!0);defineSymbol(math$1,main,mathord,"","\\lambda",!0);defineSymbol(math$1,main,mathord,"","\\mu",!0);defineSymbol(math$1,main,mathord,"","\\nu",!0);defineSymbol(math$1,main,mathord,"","\\xi",!0);defineSymbol(math$1,main,mathord,"","\\omicron",!0);defineSymbol(math$1,main,mathord,"","\\pi",!0);defineSymbol(math$1,main,mathord,"","\\rho",!0);defineSymbol(math$1,main,mathord,"","\\sigma",!0);defineSymbol(math$1,main,mathord,"","\\tau",!0);defineSymbol(math$1,main,mathord,"","\\upsilon",!0);defineSymbol(math$1,main,mathord,"","\\phi",!0);defineSymbol(math$1,main,mathord,"","\\chi",!0);defineSymbol(math$1,main,mathord,"","\\psi",!0);defineSymbol(math$1,main,mathord,"","\\omega",!0);defineSymbol(math$1,main,mathord,"","\\varepsilon",!0);defineSymbol(math$1,main,mathord,"","\\vartheta",!0);defineSymbol(math$1,main,mathord,"","\\varpi",!0);defineSymbol(math$1,main,mathord,"","\\varrho",!0);defineSymbol(math$1,main,mathord,"","\\varsigma",!0);defineSymbol(math$1,main,mathord,"","\\varphi",!0);defineSymbol(math$1,main,bin$1,"","*",!0);defineSymbol(math$1,main,bin$1,"+","+");defineSymbol(math$1,main,bin$1,"","-",!0);defineSymbol(math$1,main,bin$1,"","\\cdot",!0);defineSymbol(math$1,main,bin$1,"","\\circ",!0);defineSymbol(math$1,main,bin$1,"","\\div",!0);defineSymbol(math$1,main,bin$1,"","\\pm",!0);defineSymbol(math$1,main,bin$1,"","\\times",!0);defineSymbol(math$1,main,bin$1,"","\\cap",!0);defineSymbol(math$1,main,bin$1,"","\\cup",!0);defineSymbol(math$1,main,bin$1,"","\\setminus",!0);defineSymbol(math$1,main,bin$1,"","\\land");defineSymbol(math$1,main,bin$1,"","\\lor");defineSymbol(math$1,main,bin$1,"","\\wedge",!0);defineSymbol(math$1,main,bin$1,"","\\vee",!0);defineSymbol(math$1,main,textord,"","\\surd");defineSymbol(math$1,main,open,"","\\langle",!0);defineSymbol(math$1,main,open,"","\\lvert");defineSymbol(math$1,main,open,"","\\lVert");defineSymbol(math$1,main,close,"?","?");defineSymbol(math$1,main,close,"!","!");defineSymbol(math$1,main,close,"","\\rangle",!0);defineSymbol(math$1,main,close,"","\\rvert");defineSymbol(math$1,main,close,"","\\rVert");defineSymbol(math$1,main,rel,"=","=");defineSymbol(math$1,main,rel,":",":");defineSymbol(math$1,main,rel,"","\\approx",!0);defineSymbol(math$1,main,rel,"","\\cong",!0);defineSymbol(math$1,main,rel,"","\\ge");defineSymbol(math$1,main,rel,"","\\geq",!0);defineSymbol(math$1,main,rel,"","\\gets");defineSymbol(math$1,main,rel,">","\\gt",!0);defineSymbol(math$1,main,rel,"","\\in",!0);defineSymbol(math$1,main,rel,"","\\@not");defineSymbol(math$1,main,rel,"","\\subset",!0);defineSymbol(math$1,main,rel,"","\\supset",!0);defineSymbol(math$1,main,rel,"","\\subseteq",!0);defineSymbol(math$1,main,rel,"","\\supseteq",!0);defineSymbol(math$1,ams,rel,"","\\nsubseteq",!0);defineSymbol(math$1,ams,rel,"","\\nsupseteq",!0);defineSymbol(math$1,main,rel,"","\\models");defineSymbol(math$1,main,rel,"","\\leftarrow",!0);defineSymbol(math$1,main,rel,"","\\le");defineSymbol(math$1,main,rel,"","\\leq",!0);defineSymbol(math$1,main,rel,"<","\\lt",!0);defineSymbol(math$1,main,rel,"","\\rightarrow",!0);defineSymbol(math$1,main,rel,"","\\to");defineSymbol(math$1,ams,rel,"","\\ngeq",!0);defineSymbol(math$1,ams,rel,"","\\nleq",!0);defineSymbol(math$1,main,spacing,"","\\ ");defineSymbol(math$1,main,spacing,"","\\space");defineSymbol(math$1,main,spacing,"","\\nobreakspace");defineSymbol(text$4,main,spacing,"","\\ ");defineSymbol(text$4,main,spacing,""," ");defineSymbol(text$4,main,spacing,"","\\space");defineSymbol(text$4,main,spacing,"","\\nobreakspace");defineSymbol(math$1,main,spacing,null,"\\nobreak");defineSymbol(math$1,main,spacing,null,"\\allowbreak");defineSymbol(math$1,main,punct,",",",");defineSymbol(math$1,main,punct,";",";");defineSymbol(math$1,ams,bin$1,"","\\barwedge",!0);defineSymbol(math$1,ams,bin$1,"","\\veebar",!0);defineSymbol(math$1,main,bin$1,"","\\odot",!0);defineSymbol(math$1,main,bin$1,"","\\oplus",!0);defineSymbol(math$1,main,bin$1,"","\\otimes",!0);defineSymbol(math$1,main,textord,"","\\partial",!0);defineSymbol(math$1,main,bin$1,"","\\oslash",!0);defineSymbol(math$1,ams,bin$1,"","\\circledcirc",!0);defineSymbol(math$1,ams,bin$1,"","\\boxdot",!0);defineSymbol(math$1,main,bin$1,"","\\bigtriangleup");defineSymbol(math$1,main,bin$1,"","\\bigtriangledown");defineSymbol(math$1,main,bin$1,"","\\dagger");defineSymbol(math$1,main,bin$1,"","\\diamond");defineSymbol(math$1,main,bin$1,"","\\star");defineSymbol(math$1,main,bin$1,"","\\triangleleft");defineSymbol(math$1,main,bin$1,"","\\triangleright");defineSymbol(math$1,main,open,"{","\\{");defineSymbol(text$4,main,textord,"{","\\{");defineSymbol(text$4,main,textord,"{","\\textbraceleft");defineSymbol(math$1,main,close,"}","\\}");defineSymbol(text$4,main,textord,"}","\\}");defineSymbol(text$4,main,textord,"}","\\textbraceright");defineSymbol(math$1,main,open,"{","\\lbrace");defineSymbol(math$1,main,close,"}","\\rbrace");defineSymbol(math$1,main,open,"[","\\lbrack",!0);defineSymbol(text$4,main,textord,"[","\\lbrack",!0);defineSymbol(math$1,main,close,"]","\\rbrack",!0);defineSymbol(text$4,main,textord,"]","\\rbrack",!0);defineSymbol(math$1,main,open,"(","\\lparen",!0);defineSymbol(math$1,main,close,")","\\rparen",!0);defineSymbol(text$4,main,textord,"<","\\textless",!0);defineSymbol(text$4,main,textord,">","\\textgreater",!0);defineSymbol(math$1,main,open,"","\\lfloor",!0);defineSymbol(math$1,main,close,"","\\rfloor",!0);defineSymbol(math$1,main,open,"","\\lceil",!0);defineSymbol(math$1,main,close,"","\\rceil",!0);defineSymbol(math$1,main,textord,"\\","\\backslash");defineSymbol(math$1,main,textord,"","|");defineSymbol(math$1,main,textord,"","\\vert");defineSymbol(text$4,main,textord,"|","\\textbar",!0);defineSymbol(math$1,main,textord,"","\\|");defineSymbol(math$1,main,textord,"","\\Vert");defineSymbol(text$4,main,textord,"","\\textbardbl");defineSymbol(text$4,main,textord,"~","\\textasciitilde");defineSymbol(text$4,main,textord,"\\","\\textbackslash");defineSymbol(text$4,main,textord,"^","\\textasciicircum");defineSymbol(math$1,main,rel,"","\\uparrow",!0);defineSymbol(math$1,main,rel,"","\\Uparrow",!0);defineSymbol(math$1,main,rel,"","\\downarrow",!0);defineSymbol(math$1,main,rel,"","\\Downarrow",!0);defineSymbol(math$1,main,rel,"","\\updownarrow",!0);defineSymbol(math$1,main,rel,"","\\Updownarrow",!0);defineSymbol(math$1,main,op,"","\\coprod");defineSymbol(math$1,main,op,"","\\bigvee");defineSymbol(math$1,main,op,"","\\bigwedge");defineSymbol(math$1,main,op,"","\\biguplus");defineSymbol(math$1,main,op,"","\\bigcap");defineSymbol(math$1,main,op,"","\\bigcup");defineSymbol(math$1,main,op,"","\\int");defineSymbol(math$1,main,op,"","\\intop");defineSymbol(math$1,main,op,"","\\iint");defineSymbol(math$1,main,op,"","\\iiint");defineSymbol(math$1,main,op,"","\\prod");defineSymbol(math$1,main,op,"","\\sum");defineSymbol(math$1,main,op,"","\\bigotimes");defineSymbol(math$1,main,op,"","\\bigoplus");defineSymbol(math$1,main,op,"","\\bigodot");defineSymbol(math$1,main,op,"","\\oint");defineSymbol(math$1,main,op,"","\\oiint");defineSymbol(math$1,main,op,"","\\oiiint");defineSymbol(math$1,main,op,"","\\bigsqcup");defineSymbol(math$1,main,op,"","\\smallint");defineSymbol(text$4,main,inner,"","\\textellipsis");defineSymbol(math$1,main,inner,"","\\mathellipsis");defineSymbol(text$4,main,inner,"","\\ldots",!0);defineSymbol(math$1,main,inner,"","\\ldots",!0);defineSymbol(math$1,main,inner,"","\\@cdots",!0);defineSymbol(math$1,main,inner,"","\\ddots",!0);defineSymbol(math$1,main,textord,"","\\varvdots");defineSymbol(text$4,main,textord,"","\\varvdots");defineSymbol(math$1,main,accent,"","\\acute");defineSymbol(math$1,main,accent,"","\\grave");defineSymbol(math$1,main,accent,"","\\ddot");defineSymbol(math$1,main,accent,"~","\\tilde");defineSymbol(math$1,main,accent,"","\\bar");defineSymbol(math$1,main,accent,"","\\breve");defineSymbol(math$1,main,accent,"","\\check");defineSymbol(math$1,main,accent,"^","\\hat");defineSymbol(math$1,main,accent,"","\\vec");defineSymbol(math$1,main,accent,"","\\dot");defineSymbol(math$1,main,accent,"","\\mathring");defineSymbol(math$1,main,mathord,"","\\@imath");defineSymbol(math$1,main,mathord,"","\\@jmath");defineSymbol(math$1,main,textord,"","");defineSymbol(math$1,main,textord,"","");defineSymbol(text$4,main,textord,"","\\i",!0);defineSymbol(text$4,main,textord,"","\\j",!0);defineSymbol(text$4,main,textord,"","\\ss",!0);defineSymbol(text$4,main,textord,"","\\ae",!0);defineSymbol(text$4,main,textord,"","\\oe",!0);defineSymbol(text$4,main,textord,"","\\o",!0);defineSymbol(text$4,main,textord,"","\\AE",!0);defineSymbol(text$4,main,textord,"","\\OE",!0);defineSymbol(text$4,main,textord,"","\\O",!0);defineSymbol(text$4,main,accent,"","\\'");defineSymbol(text$4,main,accent,"","\\`");defineSymbol(text$4,main,accent,"","\\^");defineSymbol(text$4,main,accent,"","\\~");defineSymbol(text$4,main,accent,"","\\=");defineSymbol(text$4,main,accent,"","\\u");defineSymbol(text$4,main,accent,"","\\.");defineSymbol(text$4,main,accent,"","\\c");defineSymbol(text$4,main,accent,"","\\r");defineSymbol(text$4,main,accent,"","\\v");defineSymbol(text$4,main,accent,"",'\\"');defineSymbol(text$4,main,accent,"","\\H");defineSymbol(text$4,main,accent,"","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text$4,main,textord,"","--",!0);defineSymbol(text$4,main,textord,"","\\textendash");defineSymbol(text$4,main,textord,"","---",!0);defineSymbol(text$4,main,textord,"","\\textemdash");defineSymbol(text$4,main,textord,"","`",!0);defineSymbol(text$4,main,textord,"","\\textquoteleft");defineSymbol(text$4,main,textord,"","'",!0);defineSymbol(text$4,main,textord,"","\\textquoteright");defineSymbol(text$4,main,textord,"","``",!0);defineSymbol(text$4,main,textord,"","\\textquotedblleft");defineSymbol(text$4,main,textord,"","''",!0);defineSymbol(text$4,main,textord,"","\\textquotedblright");defineSymbol(math$1,main,textord,"","\\degree",!0);defineSymbol(text$4,main,textord,"","\\degree");defineSymbol(text$4,main,textord,"","\\textdegree",!0);defineSymbol(math$1,main,textord,"","\\pounds");defineSymbol(math$1,main,textord,"","\\mathsterling",!0);defineSymbol(text$4,main,textord,"","\\pounds");defineSymbol(text$4,main,textord,"","\\textsterling",!0);defineSymbol(math$1,ams,textord,"","\\maltese");defineSymbol(text$4,ams,textord,"","\\maltese");var mathTextSymbols='0123456789/@."';for(var i$2=0;i$2<mathTextSymbols.length;i$2++){var ch=mathTextSymbols.charAt(i$2);defineSymbol(math$1,main,textord,ch,ch)}var textSymbols='0123456789!@*()-=+";:?/.,';for(var _i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text$4,main,textord,_ch,_ch)}var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var _i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math$1,main,mathord,_ch2,_ch2),defineSymbol(text$4,main,textord,_ch2,_ch2)}defineSymbol(math$1,ams,textord,"C","");defineSymbol(text$4,ams,textord,"C","");defineSymbol(math$1,ams,textord,"H","");defineSymbol(text$4,ams,textord,"H","");defineSymbol(math$1,ams,textord,"N","");defineSymbol(text$4,ams,textord,"N","");defineSymbol(math$1,ams,textord,"P","");defineSymbol(text$4,ams,textord,"P","");defineSymbol(math$1,ams,textord,"Q","");defineSymbol(text$4,ams,textord,"Q","");defineSymbol(math$1,ams,textord,"R","");defineSymbol(text$4,ams,textord,"R","");defineSymbol(math$1,ams,textord,"Z","");defineSymbol(text$4,ams,textord,"Z","");defineSymbol(math$1,main,mathord,"h","");defineSymbol(text$4,main,mathord,"h","");var wideChar="";for(var _i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math$1,main,mathord,_ch3,wideChar),defineSymbol(text$4,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math$1,main,mathord,_ch3,wideChar),defineSymbol(text$4,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math$1,main,mathord,_ch3,wideChar),defineSymbol(text$4,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math$1,main,mathord,_ch3,wideChar),defineSymbol(text$4,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56684+_i3),defineSymbol(math$1,main,mathord,_ch3,wideChar),defineSymbol(text$4,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math$1,main,mathord,_ch3,wideChar),defineSymbol(text$4,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math$1,main,mathord,_ch3,wideChar),defineSymbol(text$4,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math$1,main,mathord,_ch3,wideChar),defineSymbol(text$4,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math$1,main,mathord,_ch3,wideChar),defineSymbol(text$4,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math$1,main,mathord,_ch3,wideChar),defineSymbol(text$4,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math$1,main,mathord,_ch3,wideChar),defineSymbol(text$4,main,textord,_ch3,wideChar))}wideChar="";defineSymbol(math$1,main,mathord,"k",wideChar);defineSymbol(text$4,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math$1,main,mathord,_ch4,wideChar),defineSymbol(text$4,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math$1,main,mathord,_ch4,wideChar),defineSymbol(text$4,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math$1,main,mathord,_ch4,wideChar),defineSymbol(text$4,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math$1,main,mathord,_ch4,wideChar),defineSymbol(text$4,main,textord,_ch4,wideChar)}var extraLatin="";for(var _i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math$1,main,mathord,_ch5,_ch5),defineSymbol(text$4,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function _(R,O){var I=R.charCodeAt(0),F=R.charCodeAt(1),z=(I-55296)*1024+(F-56320)+65536,L=O==="math"?0:1;if(119808<=z&&z<120484){var U=Math.floor((z-119808)/26);return[wideLatinLetterData[U][2],wideLatinLetterData[U][L]]}else if(120782<=z&&z<=120831){var q=Math.floor((z-120782)/10);return[wideNumeralData[q][2],wideNumeralData[q][L]]}else{if(z===120485||z===120486)return[wideLatinLetterData[0][2],wideLatinLetterData[0][L]];if(120486<z&&z<120782)return["",""];throw new ParseError("Unsupported character: "+R)}},lookupSymbol=function _(R,O,I){return symbols$1[I][R]&&symbols$1[I][R].replace&&(R=symbols$1[I][R].replace),{value:R,metrics:getCharacterMetrics(R,O,I)}},makeSymbol=function _(R,O,I,F,z){var L=lookupSymbol(R,O,I),U=L.metrics;R=L.value;var q;if(U){var G=U.italic;(I==="text"||F&&F.font==="mathit")&&(G=0),q=new SymbolNode$1(R,U.height,U.depth,G,U.skew,U.width,z)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+R+"' in style '"+O+"' and mode '"+I+"'")),q=new SymbolNode$1(R,0,0,0,0,0,z);if(F){q.maxFontSize=F.sizeMultiplier,F.style.isTight()&&q.classes.push("mtight");var V=F.getColor();V&&(q.style.color=V)}return q},mathsym=function _(R,O,I,F){return F===void 0&&(F=[]),I.font==="boldsymbol"&&lookupSymbol(R,"Main-Bold",O).metrics?makeSymbol(R,"Main-Bold",O,I,F.concat(["mathbf"])):R==="\\"||symbols$1[O][R].font==="main"?makeSymbol(R,"Main-Regular",O,I,F):makeSymbol(R,"AMS-Regular",O,I,F.concat(["amsrm"]))},boldsymbol=function _(R,O,I,F,z){return z!=="textord"&&lookupSymbol(R,"Math-BoldItalic",O).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function _(R,O,I){var F=R.mode,z=R.text,L=["mord"],U=F==="math"||F==="text"&&O.font,q=U?O.font:O.fontFamily,G="",V="";if(z.charCodeAt(0)===55349&&([G,V]=wideCharacterFont(z,F)),G.length>0)return makeSymbol(z,G,F,O,L.concat(V));if(q){var Z,Y;if(q==="boldsymbol"){var W=boldsymbol(z,F,O,L,I);Z=W.fontName,Y=[W.fontClass]}else U?(Z=fontMap[q].fontName,Y=[q]):(Z=retrieveTextFontName(q,O.fontWeight,O.fontShape),Y=[q,O.fontWeight,O.fontShape]);if(lookupSymbol(z,Z,F).metrics)return makeSymbol(z,Z,F,O,L.concat(Y));if(ligatures.hasOwnProperty(z)&&Z.slice(0,10)==="Typewriter"){for(var ee=[],ne=0;ne<z.length;ne++)ee.push(makeSymbol(z[ne],Z,F,O,L.concat(Y)));return makeFragment(ee)}}if(I==="mathord")return makeSymbol(z,"Math-Italic",F,O,L.concat(["mathnormal"]));if(I==="textord"){var ie=symbols$1[F][z]&&symbols$1[F][z].font;if(ie==="ams"){var se=retrieveTextFontName("amsrm",O.fontWeight,O.fontShape);return makeSymbol(z,se,F,O,L.concat("amsrm",O.fontWeight,O.fontShape))}else if(ie==="main"||!ie){var oe=retrieveTextFontName("textrm",O.fontWeight,O.fontShape);return makeSymbol(z,oe,F,O,L.concat(O.fontWeight,O.fontShape))}else{var le=retrieveTextFontName(ie,O.fontWeight,O.fontShape);return makeSymbol(z,le,F,O,L.concat(le,O.fontWeight,O.fontShape))}}else throw new Error("unexpected type: "+I+" in makeOrd")},canCombine=(_,R)=>{if(createClass(_.classes)!==createClass(R.classes)||_.skew!==R.skew||_.maxFontSize!==R.maxFontSize)return!1;if(_.classes.length===1){var O=_.classes[0];if(O==="mbin"||O==="mord")return!1}for(var I in _.style)if(_.style.hasOwnProperty(I)&&_.style[I]!==R.style[I])return!1;for(var F in R.style)if(R.style.hasOwnProperty(F)&&_.style[F]!==R.style[F])return!1;return!0},tryCombineChars=_=>{for(var R=0;R<_.length-1;R++){var O=_[R],I=_[R+1];O instanceof SymbolNode$1&&I instanceof SymbolNode$1&&canCombine(O,I)&&(O.text+=I.text,O.height=Math.max(O.height,I.height),O.depth=Math.max(O.depth,I.depth),O.italic=I.italic,_.splice(R+1,1),R--)}return _},sizeElementFromChildren=function _(R){for(var O=0,I=0,F=0,z=0;z<R.children.length;z++){var L=R.children[z];L.height>O&&(O=L.height),L.depth>I&&(I=L.depth),L.maxFontSize>F&&(F=L.maxFontSize)}R.height=O,R.depth=I,R.maxFontSize=F},makeSpan$2=function _(R,O,I,F){var z=new Span(R,O,I,F);return sizeElementFromChildren(z),z},makeSvgSpan=(_,R,O,I)=>new Span(_,R,O,I),makeLineSpan=function _(R,O,I){var F=makeSpan$2([R],[],O);return F.height=Math.max(I||O.fontMetrics().defaultRuleThickness,O.minRuleThickness),F.style.borderBottomWidth=makeEm(F.height),F.maxFontSize=1,F},makeAnchor=function _(R,O,I,F){var z=new Anchor(R,O,I,F);return sizeElementFromChildren(z),z},makeFragment=function _(R){var O=new DocumentFragment$1(R);return sizeElementFromChildren(O),O},wrapFragment=function _(R,O){return R instanceof DocumentFragment$1?makeSpan$2([],[R],O):R},getVListChildrenAndDepth=function _(R){if(R.positionType==="individualShift"){for(var O=R.children,I=[O[0]],F=-O[0].shift-O[0].elem.depth,z=F,L=1;L<O.length;L++){var U=-O[L].shift-z-O[L].elem.depth,q=U-(O[L-1].elem.height+O[L-1].elem.depth);z=z+U,I.push({type:"kern",size:q}),I.push(O[L])}return{children:I,depth:F}}var G;if(R.positionType==="top"){for(var V=R.positionData,Z=0;Z<R.children.length;Z++){var Y=R.children[Z];V-=Y.type==="kern"?Y.size:Y.elem.height+Y.elem.depth}G=V}else if(R.positionType==="bottom")G=-R.positionData;else{var W=R.children[0];if(W.type!=="elem")throw new Error('First child must have type "elem".');if(R.positionType==="shift")G=-W.elem.depth-R.positionData;else if(R.positionType==="firstBaseline")G=-W.elem.depth;else throw new Error("Invalid positionType "+R.positionType+".")}return{children:R.children,depth:G}},makeVList=function _(R,O){for(var{children:I,depth:F}=getVListChildrenAndDepth(R),z=0,L=0;L<I.length;L++){var U=I[L];if(U.type==="elem"){var q=U.elem;z=Math.max(z,q.maxFontSize,q.height)}}z+=2;var G=makeSpan$2(["pstrut"],[]);G.style.height=makeEm(z);for(var V=[],Z=F,Y=F,W=F,ee=0;ee<I.length;ee++){var ne=I[ee];if(ne.type==="kern")W+=ne.size;else{var ie=ne.elem,se=ne.wrapperClasses||[],oe=ne.wrapperStyle||{},le=makeSpan$2(se,[G,ie],void 0,oe);le.style.top=makeEm(-z-W-ie.depth),ne.marginLeft&&(le.style.marginLeft=ne.marginLeft),ne.marginRight&&(le.style.marginRight=ne.marginRight),V.push(le),W+=ie.height+ie.depth}Z=Math.min(Z,W),Y=Math.max(Y,W)}var ue=makeSpan$2(["vlist"],V);ue.style.height=makeEm(Y);var ce;if(Z<0){var fe=makeSpan$2([],[]),me=makeSpan$2(["vlist"],[fe]);me.style.height=makeEm(-Z);var he=makeSpan$2(["vlist-s"],[new SymbolNode$1("")]);ce=[makeSpan$2(["vlist-r"],[ue,he]),makeSpan$2(["vlist-r"],[me])]}else ce=[makeSpan$2(["vlist-r"],[ue])];var pe=makeSpan$2(["vlist-t"],ce);return ce.length===2&&pe.classes.push("vlist-t2"),pe.height=Y,pe.depth=-Z,pe},makeGlue=(_,R)=>{var O=makeSpan$2(["mspace"],[],R),I=calculateSize(_,R);return O.style.marginRight=makeEm(I),O},retrieveTextFontName=function _(R,O,I){var F="";switch(R){case"amsrm":F="AMS";break;case"textrm":F="Main";break;case"textsf":F="SansSerif";break;case"texttt":F="Typewriter";break;default:F=R}var z;return O==="textbf"&&I==="textit"?z="BoldItalic":O==="textbf"?z="Bold":O==="textit"?z="Italic":z="Regular",F+"-"+z},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function _(R,O){var[I,F,z]=svgData[R],L=new PathNode(I),U=new SvgNode([L],{width:makeEm(F),height:makeEm(z),style:"width:"+makeEm(F),viewBox:"0 0 "+1e3*F+" "+1e3*z,preserveAspectRatio:"xMinYMin"}),q=makeSvgSpan(["overlay"],[U],O);return q.height=z,q.style.height=makeEm(z),q.style.width=makeEm(F),q},buildCommon={fontMap,makeSymbol,mathsym,makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan,makeAnchor,makeFragment,wrapFragment,makeVList,makeOrd,makeGlue,staticSvg,svgData,tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(_){for(var{type:R,names:O,props:I,handler:F,htmlBuilder:z,mathmlBuilder:L}=_,U={type:R,numArgs:I.numArgs,argTypes:I.argTypes,allowedInArgument:!!I.allowedInArgument,allowedInText:!!I.allowedInText,allowedInMath:I.allowedInMath===void 0?!0:I.allowedInMath,numOptionalArgs:I.numOptionalArgs||0,infix:!!I.infix,primitive:!!I.primitive,handler:F},q=0;q<O.length;++q)_functions[O[q]]=U;R&&(z&&(_htmlGroupBuilders[R]=z),L&&(_mathmlGroupBuilders[R]=L))}function defineFunctionBuilders(_){var{type:R,htmlBuilder:O,mathmlBuilder:I}=_;defineFunction({type:R,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:O,mathmlBuilder:I})}var normalizeArgument=function _(R){return R.type==="ordgroup"&&R.body.length===1?R.body[0]:R},ordargument=function _(R){return R.type==="ordgroup"?R.body:[R]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function _(R,O,I,F){F===void 0&&(F=[null,null]);for(var z=[],L=0;L<R.length;L++){var U=buildGroup$1(R[L],O);if(U instanceof DocumentFragment$1){var q=U.children;z.push(...q)}else z.push(U)}if(buildCommon.tryCombineChars(z),!I)return z;var G=O;if(R.length===1){var V=R[0];V.type==="sizing"?G=O.havingSize(V.size):V.type==="styling"&&(G=O.havingStyle(styleMap$1[V.style]))}var Z=makeSpan$1([F[0]||"leftmost"],[],O),Y=makeSpan$1([F[1]||"rightmost"],[],O),W=I==="root";return traverseNonSpaceNodes(z,(ee,ne)=>{var ie=ne.classes[0],se=ee.classes[0];ie==="mbin"&&binRightCanceller.includes(se)?ne.classes[0]="mord":se==="mbin"&&binLeftCanceller.includes(ie)&&(ee.classes[0]="mord")},{node:Z},Y,W),traverseNonSpaceNodes(z,(ee,ne)=>{var ie=getTypeOfDomTree(ne),se=getTypeOfDomTree(ee),oe=ie&&se?ee.hasClass("mtight")?tightSpacings[ie][se]:spacings[ie][se]:null;if(oe)return buildCommon.makeGlue(oe,G)},{node:Z},Y,W),z},traverseNonSpaceNodes=function _(R,O,I,F,z){F&&R.push(F);for(var L=0;L<R.length;L++){var U=R[L],q=checkPartialGroup(U);if(q){_(q.children,O,I,null,z);continue}var G=!U.hasClass("mspace");if(G){var V=O(U,I.node);V&&(I.insertAfter?I.insertAfter(V):(R.unshift(V),L++))}G?I.node=U:z&&U.hasClass("newline")&&(I.node=makeSpan$1(["leftmost"])),I.insertAfter=(Z=>Y=>{R.splice(Z+1,0,Y),L++})(L)}F&&R.pop()},checkPartialGroup=function _(R){return R instanceof DocumentFragment$1||R instanceof Anchor||R instanceof Span&&R.hasClass("enclosing")?R:null},getOutermostNode=function _(R,O){var I=checkPartialGroup(R);if(I){var F=I.children;if(F.length){if(O==="right")return _(F[F.length-1],"right");if(O==="left")return _(F[0],"left")}}return R},getTypeOfDomTree=function _(R,O){return R?(O&&(R=getOutermostNode(R,O)),DomEnum[R.classes[0]]||null):null},makeNullDelimiter=function _(R,O){var I=["nulldelimiter"].concat(R.baseSizingClasses());return makeSpan$1(O.concat(I))},buildGroup$1=function _(R,O,I){if(!R)return makeSpan$1();if(_htmlGroupBuilders[R.type]){var F=_htmlGroupBuilders[R.type](R,O);if(I&&O.size!==I.size){F=makeSpan$1(O.sizingClasses(I),[F],O);var z=O.sizeMultiplier/I.sizeMultiplier;F.height*=z,F.depth*=z}return F}else throw new ParseError("Got group of unknown type: '"+R.type+"'")};function buildHTMLUnbreakable(_,R){var O=makeSpan$1(["base"],_,R),I=makeSpan$1(["strut"]);return I.style.height=makeEm(O.height+O.depth),O.depth&&(I.style.verticalAlign=makeEm(-O.depth)),O.children.unshift(I),O}function buildHTML(_,R){var O=null;_.length===1&&_[0].type==="tag"&&(O=_[0].tag,_=_[0].body);var I=buildExpression$1(_,R,"root"),F;I.length===2&&I[1].hasClass("tag")&&(F=I.pop());for(var z=[],L=[],U=0;U<I.length;U++)if(L.push(I[U]),I[U].hasClass("mbin")||I[U].hasClass("mrel")||I[U].hasClass("allowbreak")){for(var q=!1;U<I.length-1&&I[U+1].hasClass("mspace")&&!I[U+1].hasClass("newline");)U++,L.push(I[U]),I[U].hasClass("nobreak")&&(q=!0);q||(z.push(buildHTMLUnbreakable(L,R)),L=[])}else I[U].hasClass("newline")&&(L.pop(),L.length>0&&(z.push(buildHTMLUnbreakable(L,R)),L=[]),z.push(I[U]));L.length>0&&z.push(buildHTMLUnbreakable(L,R));var G;O?(G=buildHTMLUnbreakable(buildExpression$1(O,R,!0)),G.classes=["tag"],z.push(G)):F&&z.push(F);var V=makeSpan$1(["katex-html"],z);if(V.setAttribute("aria-hidden","true"),G){var Z=G.children[0];Z.style.height=makeEm(V.height+V.depth),V.depth&&(Z.style.verticalAlign=makeEm(-V.depth))}return V}function newDocumentFragment(_){return new DocumentFragment$1(_)}class MathNode{constructor(R,O,I){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=R,this.attributes={},this.children=O||[],this.classes=I||[]}setAttribute(R,O){this.attributes[R]=O}getAttribute(R){return this.attributes[R]}toNode(){var R=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var O in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,O)&&R.setAttribute(O,this.attributes[O]);this.classes.length>0&&(R.className=createClass(this.classes));for(var I=0;I<this.children.length;I++)if(this.children[I]instanceof TextNode&&this.children[I+1]instanceof TextNode){for(var F=this.children[I].toText()+this.children[++I].toText();this.children[I+1]instanceof TextNode;)F+=this.children[++I].toText();R.appendChild(new TextNode(F).toNode())}else R.appendChild(this.children[I].toNode());return R}toMarkup(){var R="<"+this.type;for(var O in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,O)&&(R+=" "+O+'="',R+=utils.escape(this.attributes[O]),R+='"');this.classes.length>0&&(R+=' class ="'+utils.escape(createClass(this.classes))+'"'),R+=">";for(var I=0;I<this.children.length;I++)R+=this.children[I].toMarkup();return R+="</"+this.type+">",R}toText(){return this.children.map(R=>R.toText()).join("")}}class TextNode{constructor(R){this.text=void 0,this.text=R}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}}class SpaceNode{constructor(R){this.width=void 0,this.character=void 0,this.width=R,R>=.05555&&R<=.05556?this.character="":R>=.1666&&R<=.1667?this.character="":R>=.2222&&R<=.2223?this.character="":R>=.2777&&R<=.2778?this.character="":R>=-.05556&&R<=-.05555?this.character="":R>=-.1667&&R<=-.1666?this.character="":R>=-.2223&&R<=-.2222?this.character="":R>=-.2778&&R<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var R=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return R.setAttribute("width",makeEm(this.width)),R}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode,TextNode,SpaceNode,newDocumentFragment},makeText=function _(R,O,I){return symbols$1[O][R]&&symbols$1[O][R].replace&&R.charCodeAt(0)!==55349&&!(ligatures.hasOwnProperty(R)&&I&&(I.fontFamily&&I.fontFamily.slice(4,6)==="tt"||I.font&&I.font.slice(4,6)==="tt"))&&(R=symbols$1[O][R].replace),new mathMLTree.TextNode(R)},makeRow=function _(R){return R.length===1?R[0]:new mathMLTree.MathNode("mrow",R)},getVariant=function _(R,O){if(O.fontFamily==="texttt")return"monospace";if(O.fontFamily==="textsf")return O.fontShape==="textit"&&O.fontWeight==="textbf"?"sans-serif-bold-italic":O.fontShape==="textit"?"sans-serif-italic":O.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(O.fontShape==="textit"&&O.fontWeight==="textbf")return"bold-italic";if(O.fontShape==="textit")return"italic";if(O.fontWeight==="textbf")return"bold";var I=O.font;if(!I||I==="mathnormal")return null;var F=R.mode;if(I==="mathit")return"italic";if(I==="boldsymbol")return R.type==="textord"?"bold":"bold-italic";if(I==="mathbf")return"bold";if(I==="mathbb")return"double-struck";if(I==="mathsfit")return"sans-serif-italic";if(I==="mathfrak")return"fraktur";if(I==="mathscr"||I==="mathcal")return"script";if(I==="mathsf")return"sans-serif";if(I==="mathtt")return"monospace";var z=R.text;if(["\\imath","\\jmath"].includes(z))return null;symbols$1[F][z]&&symbols$1[F][z].replace&&(z=symbols$1[F][z].replace);var L=buildCommon.fontMap[I].fontName;return getCharacterMetrics(z,L,F)?buildCommon.fontMap[I].variant:null};function isNumberPunctuation(_){if(!_)return!1;if(_.type==="mi"&&_.children.length===1){var R=_.children[0];return R instanceof TextNode&&R.text==="."}else if(_.type==="mo"&&_.children.length===1&&_.getAttribute("separator")==="true"&&_.getAttribute("lspace")==="0em"&&_.getAttribute("rspace")==="0em"){var O=_.children[0];return O instanceof TextNode&&O.text===","}else return!1}var buildExpression2=function _(R,O,I){if(R.length===1){var F=buildGroup2(R[0],O);return I&&F instanceof MathNode&&F.type==="mo"&&(F.setAttribute("lspace","0em"),F.setAttribute("rspace","0em")),[F]}for(var z=[],L,U=0;U<R.length;U++){var q=buildGroup2(R[U],O);if(q instanceof MathNode&&L instanceof MathNode){if(q.type==="mtext"&&L.type==="mtext"&&q.getAttribute("mathvariant")===L.getAttribute("mathvariant")){L.children.push(...q.children);continue}else if(q.type==="mn"&&L.type==="mn"){L.children.push(...q.children);continue}else if(isNumberPunctuation(q)&&L.type==="mn"){L.children.push(...q.children);continue}else if(q.type==="mn"&&isNumberPunctuation(L))q.children=[...L.children,...q.children],z.pop();else if((q.type==="msup"||q.type==="msub")&&q.children.length>=1&&(L.type==="mn"||isNumberPunctuation(L))){var G=q.children[0];G instanceof MathNode&&G.type==="mn"&&(G.children=[...L.children,...G.children],z.pop())}else if(L.type==="mi"&&L.children.length===1){var V=L.children[0];if(V instanceof TextNode&&V.text===""&&(q.type==="mo"||q.type==="mi"||q.type==="mn")){var Z=q.children[0];Z instanceof TextNode&&Z.text.length>0&&(Z.text=Z.text.slice(0,1)+""+Z.text.slice(1),z.pop())}}}z.push(q),L=q}return z},buildExpressionRow=function _(R,O,I){return makeRow(buildExpression2(R,O,I))},buildGroup2=function _(R,O){if(!R)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[R.type]){var I=_mathmlGroupBuilders[R.type](R,O);return I}else throw new ParseError("Got group of unknown type: '"+R.type+"'")};function buildMathML(_,R,O,I,F){var z=buildExpression2(_,O),L;z.length===1&&z[0]instanceof MathNode&&["mrow","mtable"].includes(z[0].type)?L=z[0]:L=new mathMLTree.MathNode("mrow",z);var U=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(R)]);U.setAttribute("encoding","application/x-tex");var q=new mathMLTree.MathNode("semantics",[L,U]),G=new mathMLTree.MathNode("math",[q]);G.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),I&&G.setAttribute("display","block");var V=F?"katex":"katex-mathml";return buildCommon.makeSpan([V],[G])}var optionsFromSettings=function _(R){return new Options({style:R.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:R.maxSize,minRuleThickness:R.minRuleThickness})},displayWrap=function _(R,O){if(O.displayMode){var I=["katex-display"];O.leqno&&I.push("leqno"),O.fleqn&&I.push("fleqn"),R=buildCommon.makeSpan(I,[R])}return R},buildTree=function _(R,O,I){var F=optionsFromSettings(I),z;if(I.output==="mathml")return buildMathML(R,O,F,I.displayMode,!0);if(I.output==="html"){var L=buildHTML(R,F);z=buildCommon.makeSpan(["katex"],[L])}else{var U=buildMathML(R,O,F,I.displayMode,!1),q=buildHTML(R,F);z=buildCommon.makeSpan(["katex"],[U,q])}return displayWrap(z,I)},buildHTMLTree=function _(R,O,I){var F=optionsFromSettings(I),z=buildHTML(R,F),L=buildCommon.makeSpan(["katex"],[z]);return displayWrap(L,I)},stretchyCodePoint={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},mathMLnode=function _(R){var O=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[R.replace(/^\\/,"")])]);return O.setAttribute("stretchy","true"),O},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function _(R){return R.type==="ordgroup"?R.body.length:1},svgSpan=function _(R,O){function I(){var U=4e5,q=R.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(q)){var G=R,V=groupLength(G.base),Z,Y,W;if(V>5)q==="widehat"||q==="widecheck"?(Z=420,U=2364,W=.42,Y=q+"4"):(Z=312,U=2340,W=.34,Y="tilde4");else{var ee=[1,1,2,2,3,3][V];q==="widehat"||q==="widecheck"?(U=[0,1062,2364,2364,2364][ee],Z=[0,239,300,360,420][ee],W=[0,.24,.3,.3,.36,.42][ee],Y=q+ee):(U=[0,600,1033,2339,2340][ee],Z=[0,260,286,306,312][ee],W=[0,.26,.286,.3,.306,.34][ee],Y="tilde"+ee)}var ne=new PathNode(Y),ie=new SvgNode([ne],{width:"100%",height:makeEm(W),viewBox:"0 0 "+U+" "+Z,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[ie],O),minWidth:0,height:W}}else{var se=[],oe=katexImagesData[q],[le,ue,ce]=oe,fe=ce/1e3,me=le.length,he,pe;if(me===1){var ge=oe[3];he=["hide-tail"],pe=[ge]}else if(me===2)he=["halfarrow-left","halfarrow-right"],pe=["xMinYMin","xMaxYMin"];else if(me===3)he=["brace-left","brace-center","brace-right"],pe=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+me+" children.");for(var _e=0;_e<me;_e++){var ye=new PathNode(le[_e]),we=new SvgNode([ye],{width:"400em",height:makeEm(fe),viewBox:"0 0 "+U+" "+ce,preserveAspectRatio:pe[_e]+" slice"}),ve=buildCommon.makeSvgSpan([he[_e]],[we],O);if(me===1)return{span:ve,minWidth:ue,height:fe};ve.style.height=makeEm(fe),se.push(ve)}return{span:buildCommon.makeSpan(["stretchy"],se,O),minWidth:ue,height:fe}}}var{span:F,minWidth:z,height:L}=I();return F.height=L,F.style.height=makeEm(L),z>0&&(F.style.minWidth=makeEm(z)),F},encloseSpan=function _(R,O,I,F,z){var L,U=R.height+R.depth+I+F;if(/fbox|color|angl/.test(O)){if(L=buildCommon.makeSpan(["stretchy",O],[],z),O==="fbox"){var q=z.color&&z.getColor();q&&(L.style.borderColor=q)}}else{var G=[];/^[bx]cancel$/.test(O)&&G.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(O)&&G.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var V=new SvgNode(G,{width:"100%",height:makeEm(U)});L=buildCommon.makeSvgSpan([],[V],z)}return L.height=U,L.style.height=makeEm(U),L},stretchy={encloseSpan,mathMLnode,svgSpan};function assertNodeType(_,R){if(!_||_.type!==R)throw new Error("Expected node of type "+R+", but got "+(_?"node of type "+_.type:String(_)));return _}function assertSymbolNodeType(_){var R=checkSymbolNodeType(_);if(!R)throw new Error("Expected node of symbol group type, but got "+(_?"node of type "+_.type:String(_)));return R}function checkSymbolNodeType(_){return _&&(_.type==="atom"||NON_ATOMS.hasOwnProperty(_.type))?_:null}var htmlBuilder$a=(_,R)=>{var O,I,F;_&&_.type==="supsub"?(I=assertNodeType(_.base,"accent"),O=I.base,_.base=O,F=assertSpan(buildGroup$1(_,R)),_.base=I):(I=assertNodeType(_,"accent"),O=I.base);var z=buildGroup$1(O,R.havingCrampedStyle()),L=I.isShifty&&utils.isCharacterBox(O),U=0;if(L){var q=utils.getBaseElem(O),G=buildGroup$1(q,R.havingCrampedStyle());U=assertSymbolDomNode(G).skew}var V=I.label==="\\c",Z=V?z.height+z.depth:Math.min(z.height,R.fontMetrics().xHeight),Y;if(I.isStretchy)Y=stretchy.svgSpan(I,R),Y=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:z},{type:"elem",elem:Y,wrapperClasses:["svg-align"],wrapperStyle:U>0?{width:"calc(100% - "+makeEm(2*U)+")",marginLeft:makeEm(2*U)}:void 0}]},R);else{var W,ee;I.label==="\\vec"?(W=buildCommon.staticSvg("vec",R),ee=buildCommon.svgData.vec[1]):(W=buildCommon.makeOrd({mode:I.mode,text:I.label},R,"textord"),W=assertSymbolDomNode(W),W.italic=0,ee=W.width,V&&(Z+=W.depth)),Y=buildCommon.makeSpan(["accent-body"],[W]);var ne=I.label==="\\textcircled";ne&&(Y.classes.push("accent-full"),Z=z.height);var ie=U;ne||(ie-=ee/2),Y.style.left=makeEm(ie),I.label==="\\textcircled"&&(Y.style.top=".2em"),Y=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:z},{type:"kern",size:-Z},{type:"elem",elem:Y}]},R)}var se=buildCommon.makeSpan(["mord","accent"],[Y],R);return F?(F.children[0]=se,F.height=Math.max(se.height,F.height),F.classes[0]="mord",F):se},mathmlBuilder$9=(_,R)=>{var O=_.isStretchy?stretchy.mathMLnode(_.label):new mathMLTree.MathNode("mo",[makeText(_.label,_.mode)]),I=new mathMLTree.MathNode("mover",[buildGroup2(_.base,R),O]);return I.setAttribute("accent","true"),I},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(_=>"\\"+_).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(_,R)=>{var O=normalizeArgument(R[0]),I=!NON_STRETCHY_ACCENT_REGEX.test(_.funcName),F=!I||_.funcName==="\\widehat"||_.funcName==="\\widetilde"||_.funcName==="\\widecheck";return{type:"accent",mode:_.parser.mode,label:_.funcName,isStretchy:I,isShifty:F,base:O}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(_,R)=>{var O=R[0],I=_.parser.mode;return I==="math"&&(_.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+_.funcName+" works only in text mode"),I="text"),{type:"accent",mode:I,label:_.funcName,isStretchy:!1,isShifty:!0,base:O}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(_,R)=>{var{parser:O,funcName:I}=_,F=R[0];return{type:"accentUnder",mode:O.mode,label:I,base:F}},htmlBuilder:(_,R)=>{var O=buildGroup$1(_.base,R),I=stretchy.svgSpan(_,R),F=_.label==="\\utilde"?.12:0,z=buildCommon.makeVList({positionType:"top",positionData:O.height,children:[{type:"elem",elem:I,wrapperClasses:["svg-align"]},{type:"kern",size:F},{type:"elem",elem:O}]},R);return buildCommon.makeSpan(["mord","accentunder"],[z],R)},mathmlBuilder:(_,R)=>{var O=stretchy.mathMLnode(_.label),I=new mathMLTree.MathNode("munder",[buildGroup2(_.base,R),O]);return I.setAttribute("accentunder","true"),I}});var paddedNode=_=>{var R=new mathMLTree.MathNode("mpadded",_?[_]:[]);return R.setAttribute("width","+0.6em"),R.setAttribute("lspace","0.3em"),R};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(_,R,O){var{parser:I,funcName:F}=_;return{type:"xArrow",mode:I.mode,label:F,body:R[0],below:O[0]}},htmlBuilder(_,R){var O=R.style,I=R.havingStyle(O.sup()),F=buildCommon.wrapFragment(buildGroup$1(_.body,I,R),R),z=_.label.slice(0,2)==="\\x"?"x":"cd";F.classes.push(z+"-arrow-pad");var L;_.below&&(I=R.havingStyle(O.sub()),L=buildCommon.wrapFragment(buildGroup$1(_.below,I,R),R),L.classes.push(z+"-arrow-pad"));var U=stretchy.svgSpan(_,R),q=-R.fontMetrics().axisHeight+.5*U.height,G=-R.fontMetrics().axisHeight-.5*U.height-.111;(F.depth>.25||_.label==="\\xleftequilibrium")&&(G-=F.depth);var V;if(L){var Z=-R.fontMetrics().axisHeight+L.height+.5*U.height+.111;V=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:F,shift:G},{type:"elem",elem:U,shift:q},{type:"elem",elem:L,shift:Z}]},R)}else V=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:F,shift:G},{type:"elem",elem:U,shift:q}]},R);return V.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[V],R)},mathmlBuilder(_,R){var O=stretchy.mathMLnode(_.label);O.setAttribute("minsize",_.label.charAt(0)==="x"?"1.75em":"3.0em");var I;if(_.body){var F=paddedNode(buildGroup2(_.body,R));if(_.below){var z=paddedNode(buildGroup2(_.below,R));I=new mathMLTree.MathNode("munderover",[O,z,F])}else I=new mathMLTree.MathNode("mover",[O,F])}else if(_.below){var L=paddedNode(buildGroup2(_.below,R));I=new mathMLTree.MathNode("munder",[O,L])}else I=paddedNode(),I=new mathMLTree.MathNode("mover",[O,I]);return I}});var makeSpan2=buildCommon.makeSpan;function htmlBuilder$9(_,R){var O=buildExpression$1(_.body,R,!0);return makeSpan2([_.mclass],O,R)}function mathmlBuilder$8(_,R){var O,I=buildExpression2(_.body,R);return _.mclass==="minner"?O=new mathMLTree.MathNode("mpadded",I):_.mclass==="mord"?_.isCharacterBox?(O=I[0],O.type="mi"):O=new mathMLTree.MathNode("mi",I):(_.isCharacterBox?(O=I[0],O.type="mo"):O=new mathMLTree.MathNode("mo",I),_.mclass==="mbin"?(O.attributes.lspace="0.22em",O.attributes.rspace="0.22em"):_.mclass==="mpunct"?(O.attributes.lspace="0em",O.attributes.rspace="0.17em"):_.mclass==="mopen"||_.mclass==="mclose"?(O.attributes.lspace="0em",O.attributes.rspace="0em"):_.mclass==="minner"&&(O.attributes.lspace="0.0556em",O.attributes.width="+0.1111em")),O}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(_,R){var{parser:O,funcName:I}=_,F=R[0];return{type:"mclass",mode:O.mode,mclass:"m"+I.slice(5),body:ordargument(F),isCharacterBox:utils.isCharacterBox(F)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});var binrelClass=_=>{var R=_.type==="ordgroup"&&_.body.length?_.body[0]:_;return R.type==="atom"&&(R.family==="bin"||R.family==="rel")?"m"+R.family:"mord"};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(_,R){var{parser:O}=_;return{type:"mclass",mode:O.mode,mclass:binrelClass(R[0]),body:ordargument(R[1]),isCharacterBox:utils.isCharacterBox(R[1])}}});defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(_,R){var{parser:O,funcName:I}=_,F=R[1],z=R[0],L;I!=="\\stackrel"?L=binrelClass(F):L="mrel";var U={type:"op",mode:F.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:I!=="\\stackrel",body:ordargument(F)},q={type:"supsub",mode:z.mode,base:U,sup:I==="\\underset"?null:z,sub:I==="\\underset"?z:null};return{type:"mclass",mode:O.mode,mclass:L,body:[q],isCharacterBox:utils.isCharacterBox(q)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});defineFunction({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(_,R){var{parser:O}=_;return{type:"pmb",mode:O.mode,mclass:binrelClass(R[0]),body:ordargument(R[0])}},htmlBuilder(_,R){var O=buildExpression$1(_.body,R,!0),I=buildCommon.makeSpan([_.mclass],O,R);return I.style.textShadow="0.02em 0.01em 0.04px",I},mathmlBuilder(_,R){var O=buildExpression2(_.body,R),I=new mathMLTree.MathNode("mstyle",O);return I.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),I}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=_=>_.type==="textord"&&_.text==="@",isLabelEnd=(_,R)=>(_.type==="mathord"||_.type==="atom")&&_.text===R;function cdArrow(_,R,O){var I=cdArrowFunctionName[_];switch(I){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return O.callFunction(I,[R[0]],[R[1]]);case"\\uparrow":case"\\downarrow":{var F=O.callFunction("\\\\cdleft",[R[0]],[]),z={type:"atom",text:I,mode:"math",family:"rel"},L=O.callFunction("\\Big",[z],[]),U=O.callFunction("\\\\cdright",[R[1]],[]),q={type:"ordgroup",mode:"math",body:[F,L,U]};return O.callFunction("\\\\cdparent",[q],[])}case"\\\\cdlongequal":return O.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var G={type:"textord",text:"\\Vert",mode:"math"};return O.callFunction("\\Big",[G],[])}default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(_){var R=[];for(_.gullet.beginGroup(),_.gullet.macros.set("\\cr","\\\\\\relax"),_.gullet.beginGroup();;){R.push(_.parseExpression(!1,"\\\\")),_.gullet.endGroup(),_.gullet.beginGroup();var O=_.fetch().text;if(O==="&"||O==="\\\\")_.consume();else if(O==="\\end"){R[R.length-1].length===0&&R.pop();break}else throw new ParseError("Expected \\\\ or \\cr or \\end",_.nextToken)}for(var I=[],F=[I],z=0;z<R.length;z++){for(var L=R[z],U=newCell(),q=0;q<L.length;q++)if(!isStartOfArrow(L[q]))U.body.push(L[q]);else{I.push(U),q+=1;var G=assertSymbolNodeType(L[q]).text,V=new Array(2);if(V[0]={type:"ordgroup",mode:"math",body:[]},V[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(G)>-1))if("<>AV".indexOf(G)>-1)for(var Z=0;Z<2;Z++){for(var Y=!0,W=q+1;W<L.length;W++){if(isLabelEnd(L[W],G)){Y=!1,q=W;break}if(isStartOfArrow(L[W]))throw new ParseError("Missing a "+G+" character to complete a CD arrow.",L[W]);V[Z].body.push(L[W])}if(Y)throw new ParseError("Missing a "+G+" character to complete a CD arrow.",L[q])}else throw new ParseError('Expected one of "<>AV=|." after @',L[q]);var ee=cdArrow(G,V,_),ne={type:"styling",body:[ee],mode:"math",style:"display"};I.push(ne),U=newCell()}z%2===0?I.push(U):I.shift(),I=[],F.push(I)}_.gullet.endGroup(),_.gullet.endGroup();var ie=new Array(F[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:F,arraystretch:1,addJot:!0,rowGaps:[null],cols:ie,colSeparationType:"CD",hLinesBeforeRow:new Array(F.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(_,R){var{parser:O,funcName:I}=_;return{type:"cdlabel",mode:O.mode,side:I.slice(4),label:R[0]}},htmlBuilder(_,R){var O=R.havingStyle(R.style.sup()),I=buildCommon.wrapFragment(buildGroup$1(_.label,O,R),R);return I.classes.push("cd-label-"+_.side),I.style.bottom=makeEm(.8-I.depth),I.height=0,I.depth=0,I},mathmlBuilder(_,R){var O=new mathMLTree.MathNode("mrow",[buildGroup2(_.label,R)]);return O=new mathMLTree.MathNode("mpadded",[O]),O.setAttribute("width","0"),_.side==="left"&&O.setAttribute("lspace","-1width"),O.setAttribute("voffset","0.7em"),O=new mathMLTree.MathNode("mstyle",[O]),O.setAttribute("displaystyle","false"),O.setAttribute("scriptlevel","1"),O}});defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(_,R){var{parser:O}=_;return{type:"cdlabelparent",mode:O.mode,fragment:R[0]}},htmlBuilder(_,R){var O=buildCommon.wrapFragment(buildGroup$1(_.fragment,R),R);return O.classes.push("cd-vert-arrow"),O},mathmlBuilder(_,R){return new mathMLTree.MathNode("mrow",[buildGroup2(_.fragment,R)])}});defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(_,R){for(var{parser:O}=_,I=assertNodeType(R[0],"ordgroup"),F=I.body,z="",L=0;L<F.length;L++){var U=assertNodeType(F[L],"textord");z+=U.text}var q=parseInt(z),G;if(isNaN(q))throw new ParseError("\\@char has non-numeric argument "+z);if(q<0||q>=1114111)throw new ParseError("\\@char with invalid code point "+z);return q<=65535?G=String.fromCharCode(q):(q-=65536,G=String.fromCharCode((q>>10)+55296,(q&1023)+56320)),{type:"textord",mode:O.mode,text:G}}});var htmlBuilder$8=(_,R)=>{var O=buildExpression$1(_.body,R.withColor(_.color),!1);return buildCommon.makeFragment(O)},mathmlBuilder$7=(_,R)=>{var O=buildExpression2(_.body,R.withColor(_.color)),I=new mathMLTree.MathNode("mstyle",O);return I.setAttribute("mathcolor",_.color),I};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(_,R){var{parser:O}=_,I=assertNodeType(R[0],"color-token").color,F=R[1];return{type:"color",mode:O.mode,color:I,body:ordargument(F)}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(_,R){var{parser:O,breakOnTokenText:I}=_,F=assertNodeType(R[0],"color-token").color;O.gullet.macros.set("\\current@color",F);var z=O.parseExpression(!0,I);return{type:"color",mode:O.mode,color:F,body:z}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(_,R,O){var{parser:I}=_,F=I.gullet.future().text==="["?I.parseSizeGroup(!0):null,z=!I.settings.displayMode||!I.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:I.mode,newLine:z,size:F&&assertNodeType(F,"size").value}},htmlBuilder(_,R){var O=buildCommon.makeSpan(["mspace"],[],R);return _.newLine&&(O.classes.push("newline"),_.size&&(O.style.marginTop=makeEm(calculateSize(_.size,R)))),O},mathmlBuilder(_,R){var O=new mathMLTree.MathNode("mspace");return _.newLine&&(O.setAttribute("linebreak","newline"),_.size&&O.setAttribute("height",makeEm(calculateSize(_.size,R)))),O}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=_=>{var R=_.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(R))throw new ParseError("Expected a control sequence",_);return R},getRHS=_=>{var R=_.gullet.popToken();return R.text==="="&&(R=_.gullet.popToken(),R.text===" "&&(R=_.gullet.popToken())),R},letCommand=(_,R,O,I)=>{var F=_.gullet.macros.get(O.text);F==null&&(O.noexpand=!0,F={tokens:[O],numArgs:0,unexpandable:!_.gullet.isExpandable(O.text)}),_.gullet.macros.set(R,F,I)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(_){var{parser:R,funcName:O}=_;R.consumeSpaces();var I=R.fetch();if(globalMap[I.text])return(O==="\\global"||O==="\\\\globallong")&&(I.text=globalMap[I.text]),assertNodeType(R.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",I)}});defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_){var{parser:R,funcName:O}=_,I=R.gullet.popToken(),F=I.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(F))throw new ParseError("Expected a control sequence",I);for(var z=0,L,U=[[]];R.gullet.future().text!=="{";)if(I=R.gullet.popToken(),I.text==="#"){if(R.gullet.future().text==="{"){L=R.gullet.future(),U[z].push("{");break}if(I=R.gullet.popToken(),!/^[1-9]$/.test(I.text))throw new ParseError('Invalid argument number "'+I.text+'"');if(parseInt(I.text)!==z+1)throw new ParseError('Argument number "'+I.text+'" out of order');z++,U.push([])}else{if(I.text==="EOF")throw new ParseError("Expected a macro definition");U[z].push(I.text)}var{tokens:q}=R.gullet.consumeArg();return L&&q.unshift(L),(O==="\\edef"||O==="\\xdef")&&(q=R.gullet.expandTokens(q),q.reverse()),R.gullet.macros.set(F,{tokens:q,numArgs:z,delimiters:U},O===globalMap[O]),{type:"internal",mode:R.mode}}});defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_){var{parser:R,funcName:O}=_,I=checkControlSequence(R.gullet.popToken());R.gullet.consumeSpaces();var F=getRHS(R);return letCommand(R,I,F,O==="\\\\globallet"),{type:"internal",mode:R.mode}}});defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_){var{parser:R,funcName:O}=_,I=checkControlSequence(R.gullet.popToken()),F=R.gullet.popToken(),z=R.gullet.popToken();return letCommand(R,I,z,O==="\\\\globalfuture"),R.gullet.pushToken(z),R.gullet.pushToken(F),{type:"internal",mode:R.mode}}});var getMetrics=function _(R,O,I){var F=symbols$1.math[R]&&symbols$1.math[R].replace,z=getCharacterMetrics(F||R,O,I);if(!z)throw new Error("Unsupported symbol "+R+" and font size "+O+".");return z},styleWrap=function _(R,O,I,F){var z=I.havingBaseStyle(O),L=buildCommon.makeSpan(F.concat(z.sizingClasses(I)),[R],I),U=z.sizeMultiplier/I.sizeMultiplier;return L.height*=U,L.depth*=U,L.maxFontSize=z.sizeMultiplier,L},centerSpan=function _(R,O,I){var F=O.havingBaseStyle(I),z=(1-O.sizeMultiplier/F.sizeMultiplier)*O.fontMetrics().axisHeight;R.classes.push("delimcenter"),R.style.top=makeEm(z),R.height-=z,R.depth+=z},makeSmallDelim=function _(R,O,I,F,z,L){var U=buildCommon.makeSymbol(R,"Main-Regular",z,F),q=styleWrap(U,O,F,L);return I&&centerSpan(q,F,O),q},mathrmSize=function _(R,O,I,F){return buildCommon.makeSymbol(R,"Size"+O+"-Regular",I,F)},makeLargeDelim=function _(R,O,I,F,z,L){var U=mathrmSize(R,O,z,F),q=styleWrap(buildCommon.makeSpan(["delimsizing","size"+O],[U],F),Style$1.TEXT,F,L);return I&&centerSpan(q,F,Style$1.TEXT),q},makeGlyphSpan=function _(R,O,I){var F;O==="Size1-Regular"?F="delim-size1":F="delim-size4";var z=buildCommon.makeSpan(["delimsizinginner",F],[buildCommon.makeSpan([],[buildCommon.makeSymbol(R,O,I)])]);return{type:"elem",elem:z}},makeInner=function _(R,O,I){var F=fontMetricsData["Size4-Regular"][R.charCodeAt(0)]?fontMetricsData["Size4-Regular"][R.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][R.charCodeAt(0)][4],z=new PathNode("inner",innerPath(R,Math.round(1e3*O))),L=new SvgNode([z],{width:makeEm(F),height:makeEm(O),style:"width:"+makeEm(F),viewBox:"0 0 "+1e3*F+" "+Math.round(1e3*O),preserveAspectRatio:"xMinYMin"}),U=buildCommon.makeSvgSpan([],[L],I);return U.height=O,U.style.height=makeEm(O),U.style.width=makeEm(F),{type:"elem",elem:U}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function _(R,O,I,F,z,L){var U,q,G,V,Z="",Y=0;U=G=V=R,q=null;var W="Size1-Regular";R==="\\uparrow"?G=V="":R==="\\Uparrow"?G=V="":R==="\\downarrow"?U=G="":R==="\\Downarrow"?U=G="":R==="\\updownarrow"?(U="\\uparrow",G="",V="\\downarrow"):R==="\\Updownarrow"?(U="\\Uparrow",G="",V="\\Downarrow"):verts.includes(R)?(G="",Z="vert",Y=333):doubleVerts.includes(R)?(G="",Z="doublevert",Y=556):R==="["||R==="\\lbrack"?(U="",G="",V="",W="Size4-Regular",Z="lbrack",Y=667):R==="]"||R==="\\rbrack"?(U="",G="",V="",W="Size4-Regular",Z="rbrack",Y=667):R==="\\lfloor"||R===""?(G=U="",V="",W="Size4-Regular",Z="lfloor",Y=667):R==="\\lceil"||R===""?(U="",G=V="",W="Size4-Regular",Z="lceil",Y=667):R==="\\rfloor"||R===""?(G=U="",V="",W="Size4-Regular",Z="rfloor",Y=667):R==="\\rceil"||R===""?(U="",G=V="",W="Size4-Regular",Z="rceil",Y=667):R==="("||R==="\\lparen"?(U="",G="",V="",W="Size4-Regular",Z="lparen",Y=875):R===")"||R==="\\rparen"?(U="",G="",V="",W="Size4-Regular",Z="rparen",Y=875):R==="\\{"||R==="\\lbrace"?(U="",q="",V="",G="",W="Size4-Regular"):R==="\\}"||R==="\\rbrace"?(U="",q="",V="",G="",W="Size4-Regular"):R==="\\lgroup"||R===""?(U="",V="",G="",W="Size4-Regular"):R==="\\rgroup"||R===""?(U="",V="",G="",W="Size4-Regular"):R==="\\lmoustache"||R===""?(U="",V="",G="",W="Size4-Regular"):(R==="\\rmoustache"||R==="")&&(U="",V="",G="",W="Size4-Regular");var ee=getMetrics(U,W,z),ne=ee.height+ee.depth,ie=getMetrics(G,W,z),se=ie.height+ie.depth,oe=getMetrics(V,W,z),le=oe.height+oe.depth,ue=0,ce=1;if(q!==null){var fe=getMetrics(q,W,z);ue=fe.height+fe.depth,ce=2}var me=ne+le+ue,he=Math.max(0,Math.ceil((O-me)/(ce*se))),pe=me+he*ce*se,ge=F.fontMetrics().axisHeight;I&&(ge*=F.sizeMultiplier);var _e=pe/2-ge,ye=[];if(Z.length>0){var we=pe-ne-le,ve=Math.round(pe*1e3),$e=tallDelim(Z,Math.round(we*1e3)),be=new PathNode(Z,$e),Ce=(Y/1e3).toFixed(3)+"em",De=(ve/1e3).toFixed(3)+"em",Ne=new SvgNode([be],{width:Ce,height:De,viewBox:"0 0 "+Y+" "+ve}),Me=buildCommon.makeSvgSpan([],[Ne],F);Me.height=ve/1e3,Me.style.width=Ce,Me.style.height=De,ye.push({type:"elem",elem:Me})}else{if(ye.push(makeGlyphSpan(V,W,z)),ye.push(lap),q===null){var Te=pe-ne-le+2*lapInEms;ye.push(makeInner(G,Te,F))}else{var Re=(pe-ne-le-ue)/2+2*lapInEms;ye.push(makeInner(G,Re,F)),ye.push(lap),ye.push(makeGlyphSpan(q,W,z)),ye.push(lap),ye.push(makeInner(G,Re,F))}ye.push(lap),ye.push(makeGlyphSpan(U,W,z))}var Se=F.havingBaseStyle(Style$1.TEXT),ze=buildCommon.makeVList({positionType:"bottom",positionData:_e,children:ye},Se);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[ze],Se),Style$1.TEXT,F,L)},vbPad=80,emPad=.08,sqrtSvg=function _(R,O,I,F,z){var L=sqrtPath(R,F,I),U=new PathNode(R,L),q=new SvgNode([U],{width:"400em",height:makeEm(O),viewBox:"0 0 400000 "+I,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[q],z)},makeSqrtImage=function _(R,O){var I=O.havingBaseSizing(),F=traverseSequence("\\surd",R*I.sizeMultiplier,stackLargeDelimiterSequence,I),z=I.sizeMultiplier,L=Math.max(0,O.minRuleThickness-O.fontMetrics().sqrtRuleThickness),U,q=0,G=0,V=0,Z;return F.type==="small"?(V=1e3+1e3*L+vbPad,R<1?z=1:R<1.4&&(z=.7),q=(1+L+emPad)/z,G=(1+L)/z,U=sqrtSvg("sqrtMain",q,V,L,O),U.style.minWidth="0.853em",Z=.833/z):F.type==="large"?(V=(1e3+vbPad)*sizeToMaxHeight[F.size],G=(sizeToMaxHeight[F.size]+L)/z,q=(sizeToMaxHeight[F.size]+L+emPad)/z,U=sqrtSvg("sqrtSize"+F.size,q,V,L,O),U.style.minWidth="1.02em",Z=1/z):(q=R+L+emPad,G=R+L,V=Math.floor(1e3*R+L)+vbPad,U=sqrtSvg("sqrtTall",q,V,L,O),U.style.minWidth="0.742em",Z=1.056),U.height=G,U.style.height=makeEm(q),{span:U,advanceWidth:Z,ruleWidth:(O.fontMetrics().sqrtRuleThickness+L)*z}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function _(R,O,I,F,z){if(R==="<"||R==="\\lt"||R===""?R="\\langle":(R===">"||R==="\\gt"||R==="")&&(R="\\rangle"),stackLargeDelimiters.includes(R)||stackNeverDelimiters.includes(R))return makeLargeDelim(R,O,!1,I,F,z);if(stackAlwaysDelimiters.includes(R))return makeStackedDelim(R,sizeToMaxHeight[O],!1,I,F,z);throw new ParseError("Illegal delimiter: '"+R+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function _(R){if(R.type==="small")return"Main-Regular";if(R.type==="large")return"Size"+R.size+"-Regular";if(R.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+R.type+"' here.")},traverseSequence=function _(R,O,I,F){for(var z=Math.min(2,3-F.style.size),L=z;L<I.length&&I[L].type!=="stack";L++){var U=getMetrics(R,delimTypeToFont(I[L]),"math"),q=U.height+U.depth;if(I[L].type==="small"){var G=F.havingBaseStyle(I[L].style);q*=G.sizeMultiplier}if(q>O)return I[L]}return I[I.length-1]},makeCustomSizedDelim=function _(R,O,I,F,z,L){R==="<"||R==="\\lt"||R===""?R="\\langle":(R===">"||R==="\\gt"||R==="")&&(R="\\rangle");var U;stackNeverDelimiters.includes(R)?U=stackNeverDelimiterSequence:stackLargeDelimiters.includes(R)?U=stackLargeDelimiterSequence:U=stackAlwaysDelimiterSequence;var q=traverseSequence(R,O,U,F);return q.type==="small"?makeSmallDelim(R,q.style,I,F,z,L):q.type==="large"?makeLargeDelim(R,q.size,I,F,z,L):makeStackedDelim(R,O,I,F,z,L)},makeLeftRightDelim=function _(R,O,I,F,z,L){var U=F.fontMetrics().axisHeight*F.sizeMultiplier,q=901,G=5/F.fontMetrics().ptPerEm,V=Math.max(O-U,I+U),Z=Math.max(V/500*q,2*V-G);return makeCustomSizedDelim(R,Z,!0,F,z,L)},delimiter={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(_,R){var O=checkSymbolNodeType(_);if(O&&delimiters.includes(O.text))return O;throw O?new ParseError("Invalid delimiter '"+O.text+"' after '"+R.funcName+"'",_):new ParseError("Invalid delimiter type '"+_.type+"'",_)}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(_,R)=>{var O=checkDelimiter(R[0],_);return{type:"delimsizing",mode:_.parser.mode,size:delimiterSizes[_.funcName].size,mclass:delimiterSizes[_.funcName].mclass,delim:O.text}},htmlBuilder:(_,R)=>_.delim==="."?buildCommon.makeSpan([_.mclass]):delimiter.sizedDelim(_.delim,_.size,R,_.mode,[_.mclass]),mathmlBuilder:_=>{var R=[];_.delim!=="."&&R.push(makeText(_.delim,_.mode));var O=new mathMLTree.MathNode("mo",R);_.mclass==="mopen"||_.mclass==="mclose"?O.setAttribute("fence","true"):O.setAttribute("fence","false"),O.setAttribute("stretchy","true");var I=makeEm(delimiter.sizeToMaxHeight[_.size]);return O.setAttribute("minsize",I),O.setAttribute("maxsize",I),O}});function assertParsed(_){if(!_.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(_,R)=>{var O=_.parser.gullet.macros.get("\\current@color");if(O&&typeof O!="string")throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:_.parser.mode,delim:checkDelimiter(R[0],_).text,color:O}}});defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(_,R)=>{var O=checkDelimiter(R[0],_),I=_.parser;++I.leftrightDepth;var F=I.parseExpression(!1);--I.leftrightDepth,I.expect("\\right",!1);var z=assertNodeType(I.parseFunction(),"leftright-right");return{type:"leftright",mode:I.mode,body:F,left:O.text,right:z.delim,rightColor:z.color}},htmlBuilder:(_,R)=>{assertParsed(_);for(var O=buildExpression$1(_.body,R,!0,["mopen","mclose"]),I=0,F=0,z=!1,L=0;L<O.length;L++)O[L].isMiddle?z=!0:(I=Math.max(O[L].height,I),F=Math.max(O[L].depth,F));I*=R.sizeMultiplier,F*=R.sizeMultiplier;var U;if(_.left==="."?U=makeNullDelimiter(R,["mopen"]):U=delimiter.leftRightDelim(_.left,I,F,R,_.mode,["mopen"]),O.unshift(U),z)for(var q=1;q<O.length;q++){var G=O[q],V=G.isMiddle;V&&(O[q]=delimiter.leftRightDelim(V.delim,I,F,V.options,_.mode,[]))}var Z;if(_.right===".")Z=makeNullDelimiter(R,["mclose"]);else{var Y=_.rightColor?R.withColor(_.rightColor):R;Z=delimiter.leftRightDelim(_.right,I,F,Y,_.mode,["mclose"])}return O.push(Z),buildCommon.makeSpan(["minner"],O,R)},mathmlBuilder:(_,R)=>{assertParsed(_);var O=buildExpression2(_.body,R);if(_.left!=="."){var I=new mathMLTree.MathNode("mo",[makeText(_.left,_.mode)]);I.setAttribute("fence","true"),O.unshift(I)}if(_.right!=="."){var F=new mathMLTree.MathNode("mo",[makeText(_.right,_.mode)]);F.setAttribute("fence","true"),_.rightColor&&F.setAttribute("mathcolor",_.rightColor),O.push(F)}return makeRow(O)}});defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(_,R)=>{var O=checkDelimiter(R[0],_);if(!_.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",O);return{type:"middle",mode:_.parser.mode,delim:O.text}},htmlBuilder:(_,R)=>{var O;if(_.delim===".")O=makeNullDelimiter(R,[]);else{O=delimiter.sizedDelim(_.delim,1,R,_.mode,[]);var I={delim:_.delim,options:R};O.isMiddle=I}return O},mathmlBuilder:(_,R)=>{var O=_.delim==="\\vert"||_.delim==="|"?makeText("|","text"):makeText(_.delim,_.mode),I=new mathMLTree.MathNode("mo",[O]);return I.setAttribute("fence","true"),I.setAttribute("lspace","0.05em"),I.setAttribute("rspace","0.05em"),I}});var htmlBuilder$7=(_,R)=>{var O=buildCommon.wrapFragment(buildGroup$1(_.body,R),R),I=_.label.slice(1),F=R.sizeMultiplier,z,L=0,U=utils.isCharacterBox(_.body);if(I==="sout")z=buildCommon.makeSpan(["stretchy","sout"]),z.height=R.fontMetrics().defaultRuleThickness/F,L=-.5*R.fontMetrics().xHeight;else if(I==="phase"){var q=calculateSize({number:.6,unit:"pt"},R),G=calculateSize({number:.35,unit:"ex"},R),V=R.havingBaseSizing();F=F/V.sizeMultiplier;var Z=O.height+O.depth+q+G;O.style.paddingLeft=makeEm(Z/2+q);var Y=Math.floor(1e3*Z*F),W=phasePath(Y),ee=new SvgNode([new PathNode("phase",W)],{width:"400em",height:makeEm(Y/1e3),viewBox:"0 0 400000 "+Y,preserveAspectRatio:"xMinYMin slice"});z=buildCommon.makeSvgSpan(["hide-tail"],[ee],R),z.style.height=makeEm(Z),L=O.depth+q+G}else{/cancel/.test(I)?U||O.classes.push("cancel-pad"):I==="angl"?O.classes.push("anglpad"):O.classes.push("boxpad");var ne=0,ie=0,se=0;/box/.test(I)?(se=Math.max(R.fontMetrics().fboxrule,R.minRuleThickness),ne=R.fontMetrics().fboxsep+(I==="colorbox"?0:se),ie=ne):I==="angl"?(se=Math.max(R.fontMetrics().defaultRuleThickness,R.minRuleThickness),ne=4*se,ie=Math.max(0,.25-O.depth)):(ne=U?.2:0,ie=ne),z=stretchy.encloseSpan(O,I,ne,ie,R),/fbox|boxed|fcolorbox/.test(I)?(z.style.borderStyle="solid",z.style.borderWidth=makeEm(se)):I==="angl"&&se!==.049&&(z.style.borderTopWidth=makeEm(se),z.style.borderRightWidth=makeEm(se)),L=O.depth+ie,_.backgroundColor&&(z.style.backgroundColor=_.backgroundColor,_.borderColor&&(z.style.borderColor=_.borderColor))}var oe;if(_.backgroundColor)oe=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:z,shift:L},{type:"elem",elem:O,shift:0}]},R);else{var le=/cancel|phase/.test(I)?["svg-align"]:[];oe=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:O,shift:0},{type:"elem",elem:z,shift:L,wrapperClasses:le}]},R)}return/cancel/.test(I)&&(oe.height=O.height,oe.depth=O.depth),/cancel/.test(I)&&!U?buildCommon.makeSpan(["mord","cancel-lap"],[oe],R):buildCommon.makeSpan(["mord"],[oe],R)},mathmlBuilder$6=(_,R)=>{var O=0,I=new mathMLTree.MathNode(_.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup2(_.body,R)]);switch(_.label){case"\\cancel":I.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":I.setAttribute("notation","downdiagonalstrike");break;case"\\phase":I.setAttribute("notation","phasorangle");break;case"\\sout":I.setAttribute("notation","horizontalstrike");break;case"\\fbox":I.setAttribute("notation","box");break;case"\\angl":I.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(O=R.fontMetrics().fboxsep*R.fontMetrics().ptPerEm,I.setAttribute("width","+"+2*O+"pt"),I.setAttribute("height","+"+2*O+"pt"),I.setAttribute("lspace",O+"pt"),I.setAttribute("voffset",O+"pt"),_.label==="\\fcolorbox"){var F=Math.max(R.fontMetrics().fboxrule,R.minRuleThickness);I.setAttribute("style","border: "+F+"em solid "+String(_.borderColor))}break;case"\\xcancel":I.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return _.backgroundColor&&I.setAttribute("mathbackground",_.backgroundColor),I};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(_,R,O){var{parser:I,funcName:F}=_,z=assertNodeType(R[0],"color-token").color,L=R[1];return{type:"enclose",mode:I.mode,label:F,backgroundColor:z,body:L}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(_,R,O){var{parser:I,funcName:F}=_,z=assertNodeType(R[0],"color-token").color,L=assertNodeType(R[1],"color-token").color,U=R[2];return{type:"enclose",mode:I.mode,label:F,backgroundColor:L,borderColor:z,body:U}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(_,R){var{parser:O}=_;return{type:"enclose",mode:O.mode,label:"\\fbox",body:R[0]}}});defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(_,R){var{parser:O,funcName:I}=_,F=R[0];return{type:"enclose",mode:O.mode,label:I,body:F}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(_,R){var{parser:O}=_;return{type:"enclose",mode:O.mode,label:"\\angl",body:R[0]}}});var _environments={};function defineEnvironment(_){for(var{type:R,names:O,props:I,handler:F,htmlBuilder:z,mathmlBuilder:L}=_,U={type:R,numArgs:I.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:F},q=0;q<O.length;++q)_environments[O[q]]=U;z&&(_htmlGroupBuilders[R]=z),L&&(_mathmlGroupBuilders[R]=L)}var _macros={};function defineMacro(_,R){_macros[_]=R}function getHLines(_){var R=[];_.consumeSpaces();var O=_.fetch().text;for(O==="\\relax"&&(_.consume(),_.consumeSpaces(),O=_.fetch().text);O==="\\hline"||O==="\\hdashline";)_.consume(),R.push(O==="\\hdashline"),_.consumeSpaces(),O=_.fetch().text;return R}var validateAmsEnvironmentContext=_=>{var R=_.parser.settings;if(!R.displayMode)throw new ParseError("{"+_.envName+"} can be used only in display mode.")};function getAutoTag(_){if(_.indexOf("ed")===-1)return _.indexOf("*")===-1}function parseArray(_,R,O){var{hskipBeforeAndAfter:I,addJot:F,cols:z,arraystretch:L,colSeparationType:U,autoTag:q,singleRow:G,emptySingleRow:V,maxNumCols:Z,leqno:Y}=R;if(_.gullet.beginGroup(),G||_.gullet.macros.set("\\cr","\\\\\\relax"),!L){var W=_.gullet.expandMacroAsText("\\arraystretch");if(W==null)L=1;else if(L=parseFloat(W),!L||L<0)throw new ParseError("Invalid \\arraystretch: "+W)}_.gullet.beginGroup();var ee=[],ne=[ee],ie=[],se=[],oe=q!=null?[]:void 0;function le(){q&&_.gullet.macros.set("\\@eqnsw","1",!0)}function ue(){oe&&(_.gullet.macros.get("\\df@tag")?(oe.push(_.subparse([new Token("\\df@tag")])),_.gullet.macros.set("\\df@tag",void 0,!0)):oe.push(!!q&&_.gullet.macros.get("\\@eqnsw")==="1"))}for(le(),se.push(getHLines(_));;){var ce=_.parseExpression(!1,G?"\\end":"\\\\");_.gullet.endGroup(),_.gullet.beginGroup(),ce={type:"ordgroup",mode:_.mode,body:ce},O&&(ce={type:"styling",mode:_.mode,style:O,body:[ce]}),ee.push(ce);var fe=_.fetch().text;if(fe==="&"){if(Z&&ee.length===Z){if(G||U)throw new ParseError("Too many tab characters: &",_.nextToken);_.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}_.consume()}else if(fe==="\\end"){ue(),ee.length===1&&ce.type==="styling"&&ce.body[0].body.length===0&&(ne.length>1||!V)&&ne.pop(),se.length<ne.length+1&&se.push([]);break}else if(fe==="\\\\"){_.consume();var me=void 0;_.gullet.future().text!==" "&&(me=_.parseSizeGroup(!0)),ie.push(me?me.value:null),ue(),se.push(getHLines(_)),ee=[],ne.push(ee),le()}else throw new ParseError("Expected & or \\\\ or \\cr or \\end",_.nextToken)}return _.gullet.endGroup(),_.gullet.endGroup(),{type:"array",mode:_.mode,addJot:F,arraystretch:L,body:ne,cols:z,rowGaps:ie,hskipBeforeAndAfter:I,hLinesBeforeRow:se,colSeparationType:U,tags:oe,leqno:Y}}function dCellStyle(_){return _.slice(0,1)==="d"?"display":"text"}var htmlBuilder$6=function _(R,O){var I,F,z=R.body.length,L=R.hLinesBeforeRow,U=0,q=new Array(z),G=[],V=Math.max(O.fontMetrics().arrayRuleWidth,O.minRuleThickness),Z=1/O.fontMetrics().ptPerEm,Y=5*Z;if(R.colSeparationType&&R.colSeparationType==="small"){var W=O.havingStyle(Style$1.SCRIPT).sizeMultiplier;Y=.2778*(W/O.sizeMultiplier)}var ee=R.colSeparationType==="CD"?calculateSize({number:3,unit:"ex"},O):12*Z,ne=3*Z,ie=R.arraystretch*ee,se=.7*ie,oe=.3*ie,le=0;function ue(qe){for(var nt=0;nt<qe.length;++nt)nt>0&&(le+=.25),G.push({pos:le,isDashed:qe[nt]})}for(ue(L[0]),I=0;I<R.body.length;++I){var ce=R.body[I],fe=se,me=oe;U<ce.length&&(U=ce.length);var he=new Array(ce.length);for(F=0;F<ce.length;++F){var pe=buildGroup$1(ce[F],O);me<pe.depth&&(me=pe.depth),fe<pe.height&&(fe=pe.height),he[F]=pe}var ge=R.rowGaps[I],_e=0;ge&&(_e=calculateSize(ge,O),_e>0&&(_e+=oe,me<_e&&(me=_e),_e=0)),R.addJot&&(me+=ne),he.height=fe,he.depth=me,le+=fe,he.pos=le,le+=me+_e,q[I]=he,ue(L[I+1])}var ye=le/2+O.fontMetrics().axisHeight,we=R.cols||[],ve=[],$e,be,Ce=[];if(R.tags&&R.tags.some(qe=>qe))for(I=0;I<z;++I){var De=q[I],Ne=De.pos-ye,Me=R.tags[I],Te=void 0;Me===!0?Te=buildCommon.makeSpan(["eqn-num"],[],O):Me===!1?Te=buildCommon.makeSpan([],[],O):Te=buildCommon.makeSpan([],buildExpression$1(Me,O,!0),O),Te.depth=De.depth,Te.height=De.height,Ce.push({type:"elem",elem:Te,shift:Ne})}for(F=0,be=0;F<U||be<we.length;++F,++be){for(var Re=we[be]||{},Se=!0;Re.type==="separator";){if(Se||($e=buildCommon.makeSpan(["arraycolsep"],[]),$e.style.width=makeEm(O.fontMetrics().doubleRuleSep),ve.push($e)),Re.separator==="|"||Re.separator===":"){var ze=Re.separator==="|"?"solid":"dashed",Pe=buildCommon.makeSpan(["vertical-separator"],[],O);Pe.style.height=makeEm(le),Pe.style.borderRightWidth=makeEm(V),Pe.style.borderRightStyle=ze,Pe.style.margin="0 "+makeEm(-V/2);var Qe=le-ye;Qe&&(Pe.style.verticalAlign=makeEm(-Qe)),ve.push(Pe)}else throw new ParseError("Invalid separator type: "+Re.separator);be++,Re=we[be]||{},Se=!1}if(!(F>=U)){var Ze=void 0;(F>0||R.hskipBeforeAndAfter)&&(Ze=utils.deflt(Re.pregap,Y),Ze!==0&&($e=buildCommon.makeSpan(["arraycolsep"],[]),$e.style.width=makeEm(Ze),ve.push($e)));var Le=[];for(I=0;I<z;++I){var ke=q[I],Ge=ke[F];if(Ge){var Ke=ke.pos-ye;Ge.depth=ke.depth,Ge.height=ke.height,Le.push({type:"elem",elem:Ge,shift:Ke})}}Le=buildCommon.makeVList({positionType:"individualShift",children:Le},O),Le=buildCommon.makeSpan(["col-align-"+(Re.align||"c")],[Le]),ve.push(Le),(F<U-1||R.hskipBeforeAndAfter)&&(Ze=utils.deflt(Re.postgap,Y),Ze!==0&&($e=buildCommon.makeSpan(["arraycolsep"],[]),$e.style.width=makeEm(Ze),ve.push($e)))}}if(q=buildCommon.makeSpan(["mtable"],ve),G.length>0){for(var He=buildCommon.makeLineSpan("hline",O,V),st=buildCommon.makeLineSpan("hdashline",O,V),Ae=[{type:"elem",elem:q,shift:0}];G.length>0;){var tt=G.pop(),rt=tt.pos-ye;tt.isDashed?Ae.push({type:"elem",elem:st,shift:rt}):Ae.push({type:"elem",elem:He,shift:rt})}q=buildCommon.makeVList({positionType:"individualShift",children:Ae},O)}if(Ce.length===0)return buildCommon.makeSpan(["mord"],[q],O);var We=buildCommon.makeVList({positionType:"individualShift",children:Ce},O);return We=buildCommon.makeSpan(["tag"],[We],O),buildCommon.makeFragment([q,We])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$5=function _(R,O){for(var I=[],F=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),z=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),L=0;L<R.body.length;L++){for(var U=R.body[L],q=[],G=0;G<U.length;G++)q.push(new mathMLTree.MathNode("mtd",[buildGroup2(U[G],O)]));R.tags&&R.tags[L]&&(q.unshift(F),q.push(F),R.leqno?q.unshift(z):q.push(z)),I.push(new mathMLTree.MathNode("mtr",q))}var V=new mathMLTree.MathNode("mtable",I),Z=R.arraystretch===.5?.1:.16+R.arraystretch-1+(R.addJot?.09:0);V.setAttribute("rowspacing",makeEm(Z));var Y="",W="";if(R.cols&&R.cols.length>0){var ee=R.cols,ne="",ie=!1,se=0,oe=ee.length;ee[0].type==="separator"&&(Y+="top ",se=1),ee[ee.length-1].type==="separator"&&(Y+="bottom ",oe-=1);for(var le=se;le<oe;le++)ee[le].type==="align"?(W+=alignMap[ee[le].align],ie&&(ne+="none "),ie=!0):ee[le].type==="separator"&&ie&&(ne+=ee[le].separator==="|"?"solid ":"dashed ",ie=!1);V.setAttribute("columnalign",W.trim()),/[sd]/.test(ne)&&V.setAttribute("columnlines",ne.trim())}if(R.colSeparationType==="align"){for(var ue=R.cols||[],ce="",fe=1;fe<ue.length;fe++)ce+=fe%2?"0em ":"1em ";V.setAttribute("columnspacing",ce.trim())}else R.colSeparationType==="alignat"||R.colSeparationType==="gather"?V.setAttribute("columnspacing","0em"):R.colSeparationType==="small"?V.setAttribute("columnspacing","0.2778em"):R.colSeparationType==="CD"?V.setAttribute("columnspacing","0.5em"):V.setAttribute("columnspacing","1em");var me="",he=R.hLinesBeforeRow;Y+=he[0].length>0?"left ":"",Y+=he[he.length-1].length>0?"right ":"";for(var pe=1;pe<he.length-1;pe++)me+=he[pe].length===0?"none ":he[pe][0]?"dashed ":"solid ";return/[sd]/.test(me)&&V.setAttribute("rowlines",me.trim()),Y!==""&&(V=new mathMLTree.MathNode("menclose",[V]),V.setAttribute("notation",Y.trim())),R.arraystretch&&R.arraystretch<1&&(V=new mathMLTree.MathNode("mstyle",[V]),V.setAttribute("scriptlevel","1")),V},alignedHandler=function _(R,O){R.envName.indexOf("ed")===-1&&validateAmsEnvironmentContext(R);var I=[],F=R.envName.indexOf("at")>-1?"alignat":"align",z=R.envName==="split",L=parseArray(R.parser,{cols:I,addJot:!0,autoTag:z?void 0:getAutoTag(R.envName),emptySingleRow:!0,colSeparationType:F,maxNumCols:z?2:void 0,leqno:R.parser.settings.leqno},"display"),U,q=0,G={type:"ordgroup",mode:R.mode,body:[]};if(O[0]&&O[0].type==="ordgroup"){for(var V="",Z=0;Z<O[0].body.length;Z++){var Y=assertNodeType(O[0].body[Z],"textord");V+=Y.text}U=Number(V),q=U*2}var W=!q;L.body.forEach(function(se){for(var oe=1;oe<se.length;oe+=2){var le=assertNodeType(se[oe],"styling"),ue=assertNodeType(le.body[0],"ordgroup");ue.body.unshift(G)}if(W)q<se.length&&(q=se.length);else{var ce=se.length/2;if(U<ce)throw new ParseError("Too many math in a row: "+("expected "+U+", but got "+ce),se[0])}});for(var ee=0;ee<q;++ee){var ne="r",ie=0;ee%2===1?ne="l":ee>0&&W&&(ie=1),I[ee]={type:"align",align:ne,pregap:ie,postgap:0}}return L.colSeparationType=W?"align":"alignat",L};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(_,R){var O=checkSymbolNodeType(R[0]),I=O?[R[0]]:assertNodeType(R[0],"ordgroup").body,F=I.map(function(L){var U=assertSymbolNodeType(L),q=U.text;if("lcr".indexOf(q)!==-1)return{type:"align",align:q};if(q==="|")return{type:"separator",separator:"|"};if(q===":")return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+q,L)}),z={cols:F,hskipBeforeAndAfter:!0,maxNumCols:F.length};return parseArray(_.parser,z,dCellStyle(_.envName))},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(_){var R={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[_.envName.replace("*","")],O="c",I={hskipBeforeAndAfter:!1,cols:[{type:"align",align:O}]};if(_.envName.charAt(_.envName.length-1)==="*"){var F=_.parser;if(F.consumeSpaces(),F.fetch().text==="["){if(F.consume(),F.consumeSpaces(),O=F.fetch().text,"lcr".indexOf(O)===-1)throw new ParseError("Expected l or c or r",F.nextToken);F.consume(),F.consumeSpaces(),F.expect("]"),F.consume(),I.cols=[{type:"align",align:O}]}}var z=parseArray(_.parser,I,dCellStyle(_.envName)),L=Math.max(0,...z.body.map(U=>U.length));return z.cols=new Array(L).fill({type:"align",align:O}),R?{type:"leftright",mode:_.mode,body:[z],left:R[0],right:R[1],rightColor:void 0}:z},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(_){var R={arraystretch:.5},O=parseArray(_.parser,R,"script");return O.colSeparationType="small",O},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(_,R){var O=checkSymbolNodeType(R[0]),I=O?[R[0]]:assertNodeType(R[0],"ordgroup").body,F=I.map(function(L){var U=assertSymbolNodeType(L),q=U.text;if("lc".indexOf(q)!==-1)return{type:"align",align:q};throw new ParseError("Unknown column alignment: "+q,L)});if(F.length>1)throw new ParseError("{subarray} can contain only one column");var z={cols:F,hskipBeforeAndAfter:!1,arraystretch:.5};if(z=parseArray(_.parser,z,"script"),z.body.length>0&&z.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return z},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(_){var R={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},O=parseArray(_.parser,R,dCellStyle(_.envName));return{type:"leftright",mode:_.mode,body:[O],left:_.envName.indexOf("r")>-1?".":"\\{",right:_.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(_){["gather","gather*"].includes(_.envName)&&validateAmsEnvironmentContext(_);var R={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(_.envName),emptySingleRow:!0,leqno:_.parser.settings.leqno};return parseArray(_.parser,R,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(_){validateAmsEnvironmentContext(_);var R={autoTag:getAutoTag(_.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:_.parser.settings.leqno};return parseArray(_.parser,R,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler(_){return validateAmsEnvironmentContext(_),parseCD(_.parser)},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineMacro("\\nonumber","\\gdef\\@eqnsw{0}");defineMacro("\\notag","\\nonumber");defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(_,R){throw new ParseError(_.funcName+" valid only within array environment")}});var environments$1=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(_,R){var{parser:O,funcName:I}=_,F=R[0];if(F.type!=="ordgroup")throw new ParseError("Invalid environment name",F);for(var z="",L=0;L<F.body.length;++L)z+=assertNodeType(F.body[L],"textord").text;if(I==="\\begin"){if(!environments$1.hasOwnProperty(z))throw new ParseError("No such environment: "+z,F);var U=environments$1[z],{args:q,optArgs:G}=O.parseArguments("\\begin{"+z+"}",U),V={mode:O.mode,envName:z,parser:O},Z=U.handler(V,q,G);O.expect("\\end",!1);var Y=O.nextToken,W=assertNodeType(O.parseFunction(),"environment");if(W.name!==z)throw new ParseError("Mismatch: \\begin{"+z+"} matched by \\end{"+W.name+"}",Y);return Z}return{type:"environment",mode:O.mode,name:z,nameGroup:F}}});var htmlBuilder$5=(_,R)=>{var O=_.font,I=R.withFont(O);return buildGroup$1(_.body,I)},mathmlBuilder$4=(_,R)=>{var O=_.font,I=R.withFont(O);return buildGroup2(_.body,I)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(_,R)=>{var{parser:O,funcName:I}=_,F=normalizeArgument(R[0]),z=I;return z in fontAliases&&(z=fontAliases[z]),{type:"font",mode:O.mode,font:z.slice(1),body:F}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(_,R)=>{var{parser:O}=_,I=R[0],F=utils.isCharacterBox(I);return{type:"mclass",mode:O.mode,mclass:binrelClass(I),body:[{type:"font",mode:O.mode,font:"boldsymbol",body:I}],isCharacterBox:F}}});defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(_,R)=>{var{parser:O,funcName:I,breakOnTokenText:F}=_,{mode:z}=O,L=O.parseExpression(!0,F),U="math"+I.slice(1);return{type:"font",mode:z,font:U,body:{type:"ordgroup",mode:O.mode,body:L}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(_,R)=>{var O=R;return _==="display"?O=O.id>=Style$1.SCRIPT.id?O.text():Style$1.DISPLAY:_==="text"&&O.size===Style$1.DISPLAY.size?O=Style$1.TEXT:_==="script"?O=Style$1.SCRIPT:_==="scriptscript"&&(O=Style$1.SCRIPTSCRIPT),O},htmlBuilder$4=(_,R)=>{var O=adjustStyle(_.size,R.style),I=O.fracNum(),F=O.fracDen(),z;z=R.havingStyle(I);var L=buildGroup$1(_.numer,z,R);if(_.continued){var U=8.5/R.fontMetrics().ptPerEm,q=3.5/R.fontMetrics().ptPerEm;L.height=L.height<U?U:L.height,L.depth=L.depth<q?q:L.depth}z=R.havingStyle(F);var G=buildGroup$1(_.denom,z,R),V,Z,Y;_.hasBarLine?(_.barSize?(Z=calculateSize(_.barSize,R),V=buildCommon.makeLineSpan("frac-line",R,Z)):V=buildCommon.makeLineSpan("frac-line",R),Z=V.height,Y=V.height):(V=null,Z=0,Y=R.fontMetrics().defaultRuleThickness);var W,ee,ne;O.size===Style$1.DISPLAY.size||_.size==="display"?(W=R.fontMetrics().num1,Z>0?ee=3*Y:ee=7*Y,ne=R.fontMetrics().denom1):(Z>0?(W=R.fontMetrics().num2,ee=Y):(W=R.fontMetrics().num3,ee=3*Y),ne=R.fontMetrics().denom2);var ie;if(V){var oe=R.fontMetrics().axisHeight;W-L.depth-(oe+.5*Z)<ee&&(W+=ee-(W-L.depth-(oe+.5*Z))),oe-.5*Z-(G.height-ne)<ee&&(ne+=ee-(oe-.5*Z-(G.height-ne)));var le=-(oe-.5*Z);ie=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:G,shift:ne},{type:"elem",elem:V,shift:le},{type:"elem",elem:L,shift:-W}]},R)}else{var se=W-L.depth-(G.height-ne);se<ee&&(W+=.5*(ee-se),ne+=.5*(ee-se)),ie=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:G,shift:ne},{type:"elem",elem:L,shift:-W}]},R)}z=R.havingStyle(O),ie.height*=z.sizeMultiplier/R.sizeMultiplier,ie.depth*=z.sizeMultiplier/R.sizeMultiplier;var ue;O.size===Style$1.DISPLAY.size?ue=R.fontMetrics().delim1:O.size===Style$1.SCRIPTSCRIPT.size?ue=R.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:ue=R.fontMetrics().delim2;var ce,fe;return _.leftDelim==null?ce=makeNullDelimiter(R,["mopen"]):ce=delimiter.customSizedDelim(_.leftDelim,ue,!0,R.havingStyle(O),_.mode,["mopen"]),_.continued?fe=buildCommon.makeSpan([]):_.rightDelim==null?fe=makeNullDelimiter(R,["mclose"]):fe=delimiter.customSizedDelim(_.rightDelim,ue,!0,R.havingStyle(O),_.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(z.sizingClasses(R)),[ce,buildCommon.makeSpan(["mfrac"],[ie]),fe],R)},mathmlBuilder$3=(_,R)=>{var O=new mathMLTree.MathNode("mfrac",[buildGroup2(_.numer,R),buildGroup2(_.denom,R)]);if(!_.hasBarLine)O.setAttribute("linethickness","0px");else if(_.barSize){var I=calculateSize(_.barSize,R);O.setAttribute("linethickness",makeEm(I))}var F=adjustStyle(_.size,R.style);if(F.size!==R.style.size){O=new mathMLTree.MathNode("mstyle",[O]);var z=F.size===Style$1.DISPLAY.size?"true":"false";O.setAttribute("displaystyle",z),O.setAttribute("scriptlevel","0")}if(_.leftDelim!=null||_.rightDelim!=null){var L=[];if(_.leftDelim!=null){var U=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(_.leftDelim.replace("\\",""))]);U.setAttribute("fence","true"),L.push(U)}if(L.push(O),_.rightDelim!=null){var q=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(_.rightDelim.replace("\\",""))]);q.setAttribute("fence","true"),L.push(q)}return makeRow(L)}return O};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(_,R)=>{var{parser:O,funcName:I}=_,F=R[0],z=R[1],L,U=null,q=null,G="auto";switch(I){case"\\dfrac":case"\\frac":case"\\tfrac":L=!0;break;case"\\\\atopfrac":L=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":L=!1,U="(",q=")";break;case"\\\\bracefrac":L=!1,U="\\{",q="\\}";break;case"\\\\brackfrac":L=!1,U="[",q="]";break;default:throw new Error("Unrecognized genfrac command")}switch(I){case"\\dfrac":case"\\dbinom":G="display";break;case"\\tfrac":case"\\tbinom":G="text";break}return{type:"genfrac",mode:O.mode,continued:!1,numer:F,denom:z,hasBarLine:L,leftDelim:U,rightDelim:q,size:G,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(_,R)=>{var{parser:O,funcName:I}=_,F=R[0],z=R[1];return{type:"genfrac",mode:O.mode,continued:!0,numer:F,denom:z,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(_){var{parser:R,funcName:O,token:I}=_,F;switch(O){case"\\over":F="\\frac";break;case"\\choose":F="\\binom";break;case"\\atop":F="\\\\atopfrac";break;case"\\brace":F="\\\\bracefrac";break;case"\\brack":F="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:R.mode,replaceWith:F,token:I}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function _(R){var O=null;return R.length>0&&(O=R,O=O==="."?null:O),O};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(_,R){var{parser:O}=_,I=R[4],F=R[5],z=normalizeArgument(R[0]),L=z.type==="atom"&&z.family==="open"?delimFromValue(z.text):null,U=normalizeArgument(R[1]),q=U.type==="atom"&&U.family==="close"?delimFromValue(U.text):null,G=assertNodeType(R[2],"size"),V,Z=null;G.isBlank?V=!0:(Z=G.value,V=Z.number>0);var Y="auto",W=R[3];if(W.type==="ordgroup"){if(W.body.length>0){var ee=assertNodeType(W.body[0],"textord");Y=stylArray[Number(ee.text)]}}else W=assertNodeType(W,"textord"),Y=stylArray[Number(W.text)];return{type:"genfrac",mode:O.mode,numer:I,denom:F,continued:!1,hasBarLine:V,barSize:Z,leftDelim:L,rightDelim:q,size:Y}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(_,R){var{parser:O,funcName:I,token:F}=_;return{type:"infix",mode:O.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(R[0],"size").value,token:F}}});defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(_,R)=>{var{parser:O,funcName:I}=_,F=R[0],z=assert(assertNodeType(R[1],"infix").size),L=R[2],U=z.number>0;return{type:"genfrac",mode:O.mode,numer:F,denom:L,continued:!1,hasBarLine:U,barSize:z,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(_,R)=>{var O=R.style,I,F;_.type==="supsub"?(I=_.sup?buildGroup$1(_.sup,R.havingStyle(O.sup()),R):buildGroup$1(_.sub,R.havingStyle(O.sub()),R),F=assertNodeType(_.base,"horizBrace")):F=assertNodeType(_,"horizBrace");var z=buildGroup$1(F.base,R.havingBaseStyle(Style$1.DISPLAY)),L=stretchy.svgSpan(F,R),U;if(F.isOver?(U=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:z},{type:"kern",size:.1},{type:"elem",elem:L}]},R),U.children[0].children[0].children[1].classes.push("svg-align")):(U=buildCommon.makeVList({positionType:"bottom",positionData:z.depth+.1+L.height,children:[{type:"elem",elem:L},{type:"kern",size:.1},{type:"elem",elem:z}]},R),U.children[0].children[0].children[0].classes.push("svg-align")),I){var q=buildCommon.makeSpan(["mord",F.isOver?"mover":"munder"],[U],R);F.isOver?U=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:q},{type:"kern",size:.2},{type:"elem",elem:I}]},R):U=buildCommon.makeVList({positionType:"bottom",positionData:q.depth+.2+I.height+I.depth,children:[{type:"elem",elem:I},{type:"kern",size:.2},{type:"elem",elem:q}]},R)}return buildCommon.makeSpan(["mord",F.isOver?"mover":"munder"],[U],R)},mathmlBuilder$2=(_,R)=>{var O=stretchy.mathMLnode(_.label);return new mathMLTree.MathNode(_.isOver?"mover":"munder",[buildGroup2(_.base,R),O])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(_,R){var{parser:O,funcName:I}=_;return{type:"horizBrace",mode:O.mode,label:I,isOver:/^\\over/.test(I),base:R[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2});defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(_,R)=>{var{parser:O}=_,I=R[1],F=assertNodeType(R[0],"url").url;return O.settings.isTrusted({command:"\\href",url:F})?{type:"href",mode:O.mode,href:F,body:ordargument(I)}:O.formatUnsupportedCmd("\\href")},htmlBuilder:(_,R)=>{var O=buildExpression$1(_.body,R,!1);return buildCommon.makeAnchor(_.href,[],O,R)},mathmlBuilder:(_,R)=>{var O=buildExpressionRow(_.body,R);return O instanceof MathNode||(O=new MathNode("mrow",[O])),O.setAttribute("href",_.href),O}});defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(_,R)=>{var{parser:O}=_,I=assertNodeType(R[0],"url").url;if(!O.settings.isTrusted({command:"\\url",url:I}))return O.formatUnsupportedCmd("\\url");for(var F=[],z=0;z<I.length;z++){var L=I[z];L==="~"&&(L="\\textasciitilde"),F.push({type:"textord",mode:"text",text:L})}var U={type:"text",mode:O.mode,font:"\\texttt",body:F};return{type:"href",mode:O.mode,href:I,body:ordargument(U)}}});defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(_,R){var{parser:O}=_;return{type:"hbox",mode:O.mode,body:ordargument(R[0])}},htmlBuilder(_,R){var O=buildExpression$1(_.body,R,!1);return buildCommon.makeFragment(O)},mathmlBuilder(_,R){return new mathMLTree.MathNode("mrow",buildExpression2(_.body,R))}});defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(_,R)=>{var{parser:O,funcName:I,token:F}=_,z=assertNodeType(R[0],"raw").string,L=R[1];O.settings.strict&&O.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var U,q={};switch(I){case"\\htmlClass":q.class=z,U={command:"\\htmlClass",class:z};break;case"\\htmlId":q.id=z,U={command:"\\htmlId",id:z};break;case"\\htmlStyle":q.style=z,U={command:"\\htmlStyle",style:z};break;case"\\htmlData":{for(var G=z.split(","),V=0;V<G.length;V++){var Z=G[V],Y=Z.indexOf("=");if(Y<0)throw new ParseError("\\htmlData key/value '"+Z+"' missing equals sign");var W=Z.slice(0,Y),ee=Z.slice(Y+1);q["data-"+W.trim()]=ee}U={command:"\\htmlData",attributes:q};break}default:throw new Error("Unrecognized html command")}return O.settings.isTrusted(U)?{type:"html",mode:O.mode,attributes:q,body:ordargument(L)}:O.formatUnsupportedCmd(I)},htmlBuilder:(_,R)=>{var O=buildExpression$1(_.body,R,!1),I=["enclosing"];_.attributes.class&&I.push(..._.attributes.class.trim().split(/\s+/));var F=buildCommon.makeSpan(I,O,R);for(var z in _.attributes)z!=="class"&&_.attributes.hasOwnProperty(z)&&F.setAttribute(z,_.attributes[z]);return F},mathmlBuilder:(_,R)=>buildExpressionRow(_.body,R)});defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(_,R)=>{var{parser:O}=_;return{type:"htmlmathml",mode:O.mode,html:ordargument(R[0]),mathml:ordargument(R[1])}},htmlBuilder:(_,R)=>{var O=buildExpression$1(_.html,R,!1);return buildCommon.makeFragment(O)},mathmlBuilder:(_,R)=>buildExpressionRow(_.mathml,R)});var sizeData=function _(R){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(R))return{number:+R,unit:"bp"};var O=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(R);if(!O)throw new ParseError("Invalid size: '"+R+"' in \\includegraphics");var I={number:+(O[1]+O[2]),unit:O[3]};if(!validUnit(I))throw new ParseError("Invalid unit: '"+I.unit+"' in \\includegraphics.");return I};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(_,R,O)=>{var{parser:I}=_,F={number:0,unit:"em"},z={number:.9,unit:"em"},L={number:0,unit:"em"},U="";if(O[0])for(var q=assertNodeType(O[0],"raw").string,G=q.split(","),V=0;V<G.length;V++){var Z=G[V].split("=");if(Z.length===2){var Y=Z[1].trim();switch(Z[0].trim()){case"alt":U=Y;break;case"width":F=sizeData(Y);break;case"height":z=sizeData(Y);break;case"totalheight":L=sizeData(Y);break;default:throw new ParseError("Invalid key: '"+Z[0]+"' in \\includegraphics.")}}}var W=assertNodeType(R[0],"url").url;return U===""&&(U=W,U=U.replace(/^.*[\\/]/,""),U=U.substring(0,U.lastIndexOf("."))),I.settings.isTrusted({command:"\\includegraphics",url:W})?{type:"includegraphics",mode:I.mode,alt:U,width:F,height:z,totalheight:L,src:W}:I.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(_,R)=>{var O=calculateSize(_.height,R),I=0;_.totalheight.number>0&&(I=calculateSize(_.totalheight,R)-O);var F=0;_.width.number>0&&(F=calculateSize(_.width,R));var z={height:makeEm(O+I)};F>0&&(z.width=makeEm(F)),I>0&&(z.verticalAlign=makeEm(-I));var L=new Img(_.src,_.alt,z);return L.height=O,L.depth=I,L},mathmlBuilder:(_,R)=>{var O=new mathMLTree.MathNode("mglyph",[]);O.setAttribute("alt",_.alt);var I=calculateSize(_.height,R),F=0;if(_.totalheight.number>0&&(F=calculateSize(_.totalheight,R)-I,O.setAttribute("valign",makeEm(-F))),O.setAttribute("height",makeEm(I+F)),_.width.number>0){var z=calculateSize(_.width,R);O.setAttribute("width",makeEm(z))}return O.setAttribute("src",_.src),O}});defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(_,R){var{parser:O,funcName:I}=_,F=assertNodeType(R[0],"size");if(O.settings.strict){var z=I[1]==="m",L=F.value.unit==="mu";z?(L||O.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+I+" supports only mu units, "+("not "+F.value.unit+" units")),O.mode!=="math"&&O.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+I+" works only in math mode")):L&&O.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+I+" doesn't support mu units")}return{type:"kern",mode:O.mode,dimension:F.value}},htmlBuilder(_,R){return buildCommon.makeGlue(_.dimension,R)},mathmlBuilder(_,R){var O=calculateSize(_.dimension,R);return new mathMLTree.SpaceNode(O)}});defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(_,R)=>{var{parser:O,funcName:I}=_,F=R[0];return{type:"lap",mode:O.mode,alignment:I.slice(5),body:F}},htmlBuilder:(_,R)=>{var O;_.alignment==="clap"?(O=buildCommon.makeSpan([],[buildGroup$1(_.body,R)]),O=buildCommon.makeSpan(["inner"],[O],R)):O=buildCommon.makeSpan(["inner"],[buildGroup$1(_.body,R)]);var I=buildCommon.makeSpan(["fix"],[]),F=buildCommon.makeSpan([_.alignment],[O,I],R),z=buildCommon.makeSpan(["strut"]);return z.style.height=makeEm(F.height+F.depth),F.depth&&(z.style.verticalAlign=makeEm(-F.depth)),F.children.unshift(z),F=buildCommon.makeSpan(["thinbox"],[F],R),buildCommon.makeSpan(["mord","vbox"],[F],R)},mathmlBuilder:(_,R)=>{var O=new mathMLTree.MathNode("mpadded",[buildGroup2(_.body,R)]);if(_.alignment!=="rlap"){var I=_.alignment==="llap"?"-1":"-0.5";O.setAttribute("lspace",I+"width")}return O.setAttribute("width","0px"),O}});defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(_,R){var{funcName:O,parser:I}=_,F=I.mode;I.switchMode("math");var z=O==="\\("?"\\)":"$",L=I.parseExpression(!1,z);return I.expect(z),I.switchMode(F),{type:"styling",mode:I.mode,style:"text",body:L}}});defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(_,R){throw new ParseError("Mismatched "+_.funcName)}});var chooseMathStyle=(_,R)=>{switch(R.style.size){case Style$1.DISPLAY.size:return _.display;case Style$1.TEXT.size:return _.text;case Style$1.SCRIPT.size:return _.script;case Style$1.SCRIPTSCRIPT.size:return _.scriptscript;default:return _.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(_,R)=>{var{parser:O}=_;return{type:"mathchoice",mode:O.mode,display:ordargument(R[0]),text:ordargument(R[1]),script:ordargument(R[2]),scriptscript:ordargument(R[3])}},htmlBuilder:(_,R)=>{var O=chooseMathStyle(_,R),I=buildExpression$1(O,R,!1);return buildCommon.makeFragment(I)},mathmlBuilder:(_,R)=>{var O=chooseMathStyle(_,R);return buildExpressionRow(O,R)}});var assembleSupSub=(_,R,O,I,F,z,L)=>{_=buildCommon.makeSpan([],[_]);var U=O&&utils.isCharacterBox(O),q,G;if(R){var V=buildGroup$1(R,I.havingStyle(F.sup()),I);G={elem:V,kern:Math.max(I.fontMetrics().bigOpSpacing1,I.fontMetrics().bigOpSpacing3-V.depth)}}if(O){var Z=buildGroup$1(O,I.havingStyle(F.sub()),I);q={elem:Z,kern:Math.max(I.fontMetrics().bigOpSpacing2,I.fontMetrics().bigOpSpacing4-Z.height)}}var Y;if(G&&q){var W=I.fontMetrics().bigOpSpacing5+q.elem.height+q.elem.depth+q.kern+_.depth+L;Y=buildCommon.makeVList({positionType:"bottom",positionData:W,children:[{type:"kern",size:I.fontMetrics().bigOpSpacing5},{type:"elem",elem:q.elem,marginLeft:makeEm(-z)},{type:"kern",size:q.kern},{type:"elem",elem:_},{type:"kern",size:G.kern},{type:"elem",elem:G.elem,marginLeft:makeEm(z)},{type:"kern",size:I.fontMetrics().bigOpSpacing5}]},I)}else if(q){var ee=_.height-L;Y=buildCommon.makeVList({positionType:"top",positionData:ee,children:[{type:"kern",size:I.fontMetrics().bigOpSpacing5},{type:"elem",elem:q.elem,marginLeft:makeEm(-z)},{type:"kern",size:q.kern},{type:"elem",elem:_}]},I)}else if(G){var ne=_.depth+L;Y=buildCommon.makeVList({positionType:"bottom",positionData:ne,children:[{type:"elem",elem:_},{type:"kern",size:G.kern},{type:"elem",elem:G.elem,marginLeft:makeEm(z)},{type:"kern",size:I.fontMetrics().bigOpSpacing5}]},I)}else return _;var ie=[Y];if(q&&z!==0&&!U){var se=buildCommon.makeSpan(["mspace"],[],I);se.style.marginRight=makeEm(z),ie.unshift(se)}return buildCommon.makeSpan(["mop","op-limits"],ie,I)},noSuccessor=["\\smallint"],htmlBuilder$2=(_,R)=>{var O,I,F=!1,z;_.type==="supsub"?(O=_.sup,I=_.sub,z=assertNodeType(_.base,"op"),F=!0):z=assertNodeType(_,"op");var L=R.style,U=!1;L.size===Style$1.DISPLAY.size&&z.symbol&&!noSuccessor.includes(z.name)&&(U=!0);var q;if(z.symbol){var G=U?"Size2-Regular":"Size1-Regular",V="";if((z.name==="\\oiint"||z.name==="\\oiiint")&&(V=z.name.slice(1),z.name=V==="oiint"?"\\iint":"\\iiint"),q=buildCommon.makeSymbol(z.name,G,"math",R,["mop","op-symbol",U?"large-op":"small-op"]),V.length>0){var Z=q.italic,Y=buildCommon.staticSvg(V+"Size"+(U?"2":"1"),R);q=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:q,shift:0},{type:"elem",elem:Y,shift:U?.08:0}]},R),z.name="\\"+V,q.classes.unshift("mop"),q.italic=Z}}else if(z.body){var W=buildExpression$1(z.body,R,!0);W.length===1&&W[0]instanceof SymbolNode$1?(q=W[0],q.classes[0]="mop"):q=buildCommon.makeSpan(["mop"],W,R)}else{for(var ee=[],ne=1;ne<z.name.length;ne++)ee.push(buildCommon.mathsym(z.name[ne],z.mode,R));q=buildCommon.makeSpan(["mop"],ee,R)}var ie=0,se=0;return(q instanceof SymbolNode$1||z.name==="\\oiint"||z.name==="\\oiiint")&&!z.suppressBaseShift&&(ie=(q.height-q.depth)/2-R.fontMetrics().axisHeight,se=q.italic),F?assembleSupSub(q,O,I,R,L,se,ie):(ie&&(q.style.position="relative",q.style.top=makeEm(ie)),q)},mathmlBuilder$1=(_,R)=>{var O;if(_.symbol)O=new MathNode("mo",[makeText(_.name,_.mode)]),noSuccessor.includes(_.name)&&O.setAttribute("largeop","false");else if(_.body)O=new MathNode("mo",buildExpression2(_.body,R));else{O=new MathNode("mi",[new TextNode(_.name.slice(1))]);var I=new MathNode("mo",[makeText("","text")]);_.parentIsSupSub?O=new MathNode("mrow",[O,I]):O=newDocumentFragment([O,I])}return O},singleCharBigOps={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(_,R)=>{var{parser:O,funcName:I}=_,F=I;return F.length===1&&(F=singleCharBigOps[F]),{type:"op",mode:O.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:F}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(_,R)=>{var{parser:O}=_,I=R[0];return{type:"op",mode:O.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(I)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(_){var{parser:R,funcName:O}=_;return{type:"op",mode:R.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:O}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(_){var{parser:R,funcName:O}=_;return{type:"op",mode:R.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:O}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(_){var{parser:R,funcName:O}=_,I=O;return I.length===1&&(I=singleCharIntegrals[I]),{type:"op",mode:R.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:I}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(_,R)=>{var O,I,F=!1,z;_.type==="supsub"?(O=_.sup,I=_.sub,z=assertNodeType(_.base,"operatorname"),F=!0):z=assertNodeType(_,"operatorname");var L;if(z.body.length>0){for(var U=z.body.map(Z=>{var Y=Z.text;return typeof Y=="string"?{type:"textord",mode:Z.mode,text:Y}:Z}),q=buildExpression$1(U,R.withFont("mathrm"),!0),G=0;G<q.length;G++){var V=q[G];V instanceof SymbolNode$1&&(V.text=V.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}L=buildCommon.makeSpan(["mop"],q,R)}else L=buildCommon.makeSpan(["mop"],[],R);return F?assembleSupSub(L,O,I,R,R.style,0,0):L},mathmlBuilder2=(_,R)=>{for(var O=buildExpression2(_.body,R.withFont("mathrm")),I=!0,F=0;F<O.length;F++){var z=O[F];if(!(z instanceof mathMLTree.SpaceNode))if(z instanceof mathMLTree.MathNode)switch(z.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var L=z.children[0];z.children.length===1&&L instanceof mathMLTree.TextNode?L.text=L.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):I=!1;break}default:I=!1}else I=!1}if(I){var U=O.map(V=>V.toText()).join("");O=[new mathMLTree.TextNode(U)]}var q=new mathMLTree.MathNode("mi",O);q.setAttribute("mathvariant","normal");var G=new mathMLTree.MathNode("mo",[makeText("","text")]);return _.parentIsSupSub?new mathMLTree.MathNode("mrow",[q,G]):mathMLTree.newDocumentFragment([q,G])};defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(_,R)=>{var{parser:O,funcName:I}=_,F=R[0];return{type:"operatorname",mode:O.mode,body:ordargument(F),alwaysHandleSupSub:I==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder:mathmlBuilder2});defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");defineFunctionBuilders({type:"ordgroup",htmlBuilder(_,R){return _.semisimple?buildCommon.makeFragment(buildExpression$1(_.body,R,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(_.body,R,!0),R)},mathmlBuilder(_,R){return buildExpressionRow(_.body,R,!0)}});defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(_,R){var{parser:O}=_,I=R[0];return{type:"overline",mode:O.mode,body:I}},htmlBuilder(_,R){var O=buildGroup$1(_.body,R.havingCrampedStyle()),I=buildCommon.makeLineSpan("overline-line",R),F=R.fontMetrics().defaultRuleThickness,z=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:O},{type:"kern",size:3*F},{type:"elem",elem:I},{type:"kern",size:F}]},R);return buildCommon.makeSpan(["mord","overline"],[z],R)},mathmlBuilder(_,R){var O=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);O.setAttribute("stretchy","true");var I=new mathMLTree.MathNode("mover",[buildGroup2(_.body,R),O]);return I.setAttribute("accent","true"),I}});defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(_,R)=>{var{parser:O}=_,I=R[0];return{type:"phantom",mode:O.mode,body:ordargument(I)}},htmlBuilder:(_,R)=>{var O=buildExpression$1(_.body,R.withPhantom(),!1);return buildCommon.makeFragment(O)},mathmlBuilder:(_,R)=>{var O=buildExpression2(_.body,R);return new mathMLTree.MathNode("mphantom",O)}});defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(_,R)=>{var{parser:O}=_,I=R[0];return{type:"hphantom",mode:O.mode,body:I}},htmlBuilder:(_,R)=>{var O=buildCommon.makeSpan([],[buildGroup$1(_.body,R.withPhantom())]);if(O.height=0,O.depth=0,O.children)for(var I=0;I<O.children.length;I++)O.children[I].height=0,O.children[I].depth=0;return O=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:O}]},R),buildCommon.makeSpan(["mord"],[O],R)},mathmlBuilder:(_,R)=>{var O=buildExpression2(ordargument(_.body),R),I=new mathMLTree.MathNode("mphantom",O),F=new mathMLTree.MathNode("mpadded",[I]);return F.setAttribute("height","0px"),F.setAttribute("depth","0px"),F}});defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(_,R)=>{var{parser:O}=_,I=R[0];return{type:"vphantom",mode:O.mode,body:I}},htmlBuilder:(_,R)=>{var O=buildCommon.makeSpan(["inner"],[buildGroup$1(_.body,R.withPhantom())]),I=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[O,I],R)},mathmlBuilder:(_,R)=>{var O=buildExpression2(ordargument(_.body),R),I=new mathMLTree.MathNode("mphantom",O),F=new mathMLTree.MathNode("mpadded",[I]);return F.setAttribute("width","0px"),F}});defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(_,R){var{parser:O}=_,I=assertNodeType(R[0],"size").value,F=R[1];return{type:"raisebox",mode:O.mode,dy:I,body:F}},htmlBuilder(_,R){var O=buildGroup$1(_.body,R),I=calculateSize(_.dy,R);return buildCommon.makeVList({positionType:"shift",positionData:-I,children:[{type:"elem",elem:O}]},R)},mathmlBuilder(_,R){var O=new mathMLTree.MathNode("mpadded",[buildGroup2(_.body,R)]),I=_.dy.number+_.dy.unit;return O.setAttribute("voffset",I),O}});defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(_){var{parser:R}=_;return{type:"internal",mode:R.mode}}});defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(_,R,O){var{parser:I}=_,F=O[0],z=assertNodeType(R[0],"size"),L=assertNodeType(R[1],"size");return{type:"rule",mode:I.mode,shift:F&&assertNodeType(F,"size").value,width:z.value,height:L.value}},htmlBuilder(_,R){var O=buildCommon.makeSpan(["mord","rule"],[],R),I=calculateSize(_.width,R),F=calculateSize(_.height,R),z=_.shift?calculateSize(_.shift,R):0;return O.style.borderRightWidth=makeEm(I),O.style.borderTopWidth=makeEm(F),O.style.bottom=makeEm(z),O.width=I,O.height=F+z,O.depth=-z,O.maxFontSize=F*1.125*R.sizeMultiplier,O},mathmlBuilder(_,R){var O=calculateSize(_.width,R),I=calculateSize(_.height,R),F=_.shift?calculateSize(_.shift,R):0,z=R.color&&R.getColor()||"black",L=new mathMLTree.MathNode("mspace");L.setAttribute("mathbackground",z),L.setAttribute("width",makeEm(O)),L.setAttribute("height",makeEm(I));var U=new mathMLTree.MathNode("mpadded",[L]);return F>=0?U.setAttribute("height",makeEm(F)):(U.setAttribute("height",makeEm(F)),U.setAttribute("depth",makeEm(-F))),U.setAttribute("voffset",makeEm(F)),U}});function sizingGroup(_,R,O){for(var I=buildExpression$1(_,R,!1),F=R.sizeMultiplier/O.sizeMultiplier,z=0;z<I.length;z++){var L=I[z].classes.indexOf("sizing");L<0?Array.prototype.push.apply(I[z].classes,R.sizingClasses(O)):I[z].classes[L+1]==="reset-size"+R.size&&(I[z].classes[L+1]="reset-size"+O.size),I[z].height*=F,I[z].depth*=F}return buildCommon.makeFragment(I)}var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder2=(_,R)=>{var O=R.havingSize(_.size);return sizingGroup(_.body,O,R)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(_,R)=>{var{breakOnTokenText:O,funcName:I,parser:F}=_,z=F.parseExpression(!1,O);return{type:"sizing",mode:F.mode,size:sizeFuncs.indexOf(I)+1,body:z}},htmlBuilder:htmlBuilder2,mathmlBuilder:(_,R)=>{var O=R.havingSize(_.size),I=buildExpression2(_.body,O),F=new mathMLTree.MathNode("mstyle",I);return F.setAttribute("mathsize",makeEm(O.sizeMultiplier)),F}});defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(_,R,O)=>{var{parser:I}=_,F=!1,z=!1,L=O[0]&&assertNodeType(O[0],"ordgroup");if(L)for(var U="",q=0;q<L.body.length;++q){var G=L.body[q];if(U=G.text,U==="t")F=!0;else if(U==="b")z=!0;else{F=!1,z=!1;break}}else F=!0,z=!0;var V=R[0];return{type:"smash",mode:I.mode,body:V,smashHeight:F,smashDepth:z}},htmlBuilder:(_,R)=>{var O=buildCommon.makeSpan([],[buildGroup$1(_.body,R)]);if(!_.smashHeight&&!_.smashDepth)return O;if(_.smashHeight&&(O.height=0,O.children))for(var I=0;I<O.children.length;I++)O.children[I].height=0;if(_.smashDepth&&(O.depth=0,O.children))for(var F=0;F<O.children.length;F++)O.children[F].depth=0;var z=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:O}]},R);return buildCommon.makeSpan(["mord"],[z],R)},mathmlBuilder:(_,R)=>{var O=new mathMLTree.MathNode("mpadded",[buildGroup2(_.body,R)]);return _.smashHeight&&O.setAttribute("height","0px"),_.smashDepth&&O.setAttribute("depth","0px"),O}});defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(_,R,O){var{parser:I}=_,F=O[0],z=R[0];return{type:"sqrt",mode:I.mode,body:z,index:F}},htmlBuilder(_,R){var O=buildGroup$1(_.body,R.havingCrampedStyle());O.height===0&&(O.height=R.fontMetrics().xHeight),O=buildCommon.wrapFragment(O,R);var I=R.fontMetrics(),F=I.defaultRuleThickness,z=F;R.style.id<Style$1.TEXT.id&&(z=R.fontMetrics().xHeight);var L=F+z/4,U=O.height+O.depth+L+F,{span:q,ruleWidth:G,advanceWidth:V}=delimiter.sqrtImage(U,R),Z=q.height-G;Z>O.height+O.depth+L&&(L=(L+Z-O.height-O.depth)/2);var Y=q.height-O.height-L-G;O.style.paddingLeft=makeEm(V);var W=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:O,wrapperClasses:["svg-align"]},{type:"kern",size:-(O.height+Y)},{type:"elem",elem:q},{type:"kern",size:G}]},R);if(_.index){var ee=R.havingStyle(Style$1.SCRIPTSCRIPT),ne=buildGroup$1(_.index,ee,R),ie=.6*(W.height-W.depth),se=buildCommon.makeVList({positionType:"shift",positionData:-ie,children:[{type:"elem",elem:ne}]},R),oe=buildCommon.makeSpan(["root"],[se]);return buildCommon.makeSpan(["mord","sqrt"],[oe,W],R)}else return buildCommon.makeSpan(["mord","sqrt"],[W],R)},mathmlBuilder(_,R){var{body:O,index:I}=_;return I?new mathMLTree.MathNode("mroot",[buildGroup2(O,R),buildGroup2(I,R)]):new mathMLTree.MathNode("msqrt",[buildGroup2(O,R)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_,R){var{breakOnTokenText:O,funcName:I,parser:F}=_,z=F.parseExpression(!0,O),L=I.slice(1,I.length-5);return{type:"styling",mode:F.mode,style:L,body:z}},htmlBuilder(_,R){var O=styleMap[_.style],I=R.havingStyle(O).withFont("");return sizingGroup(_.body,I,R)},mathmlBuilder(_,R){var O=styleMap[_.style],I=R.havingStyle(O),F=buildExpression2(_.body,I),z=new mathMLTree.MathNode("mstyle",F),L={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},U=L[_.style];return z.setAttribute("scriptlevel",U[0]),z.setAttribute("displaystyle",U[1]),z}});var htmlBuilderDelegate=function _(R,O){var I=R.base;if(I)if(I.type==="op"){var F=I.limits&&(O.style.size===Style$1.DISPLAY.size||I.alwaysHandleSupSub);return F?htmlBuilder$2:null}else if(I.type==="operatorname"){var z=I.alwaysHandleSupSub&&(O.style.size===Style$1.DISPLAY.size||I.limits);return z?htmlBuilder$1:null}else{if(I.type==="accent")return utils.isCharacterBox(I.base)?htmlBuilder$a:null;if(I.type==="horizBrace"){var L=!R.sub;return L===I.isOver?htmlBuilder$3:null}else return null}else return null};defineFunctionBuilders({type:"supsub",htmlBuilder(_,R){var O=htmlBuilderDelegate(_,R);if(O)return O(_,R);var{base:I,sup:F,sub:z}=_,L=buildGroup$1(I,R),U,q,G=R.fontMetrics(),V=0,Z=0,Y=I&&utils.isCharacterBox(I);if(F){var W=R.havingStyle(R.style.sup());U=buildGroup$1(F,W,R),Y||(V=L.height-W.fontMetrics().supDrop*W.sizeMultiplier/R.sizeMultiplier)}if(z){var ee=R.havingStyle(R.style.sub());q=buildGroup$1(z,ee,R),Y||(Z=L.depth+ee.fontMetrics().subDrop*ee.sizeMultiplier/R.sizeMultiplier)}var ne;R.style===Style$1.DISPLAY?ne=G.sup1:R.style.cramped?ne=G.sup3:ne=G.sup2;var ie=R.sizeMultiplier,se=makeEm(.5/G.ptPerEm/ie),oe=null;if(q){var le=_.base&&_.base.type==="op"&&_.base.name&&(_.base.name==="\\oiint"||_.base.name==="\\oiiint");(L instanceof SymbolNode$1||le)&&(oe=makeEm(-L.italic))}var ue;if(U&&q){V=Math.max(V,ne,U.depth+.25*G.xHeight),Z=Math.max(Z,G.sub2);var ce=G.defaultRuleThickness,fe=4*ce;if(V-U.depth-(q.height-Z)<fe){Z=fe-(V-U.depth)+q.height;var me=.8*G.xHeight-(V-U.depth);me>0&&(V+=me,Z-=me)}var he=[{type:"elem",elem:q,shift:Z,marginRight:se,marginLeft:oe},{type:"elem",elem:U,shift:-V,marginRight:se}];ue=buildCommon.makeVList({positionType:"individualShift",children:he},R)}else if(q){Z=Math.max(Z,G.sub1,q.height-.8*G.xHeight);var pe=[{type:"elem",elem:q,marginLeft:oe,marginRight:se}];ue=buildCommon.makeVList({positionType:"shift",positionData:Z,children:pe},R)}else if(U)V=Math.max(V,ne,U.depth+.25*G.xHeight),ue=buildCommon.makeVList({positionType:"shift",positionData:-V,children:[{type:"elem",elem:U,marginRight:se}]},R);else throw new Error("supsub must have either sup or sub.");var ge=getTypeOfDomTree(L,"right")||"mord";return buildCommon.makeSpan([ge],[L,buildCommon.makeSpan(["msupsub"],[ue])],R)},mathmlBuilder(_,R){var O=!1,I,F;_.base&&_.base.type==="horizBrace"&&(F=!!_.sup,F===_.base.isOver&&(O=!0,I=_.base.isOver)),_.base&&(_.base.type==="op"||_.base.type==="operatorname")&&(_.base.parentIsSupSub=!0);var z=[buildGroup2(_.base,R)];_.sub&&z.push(buildGroup2(_.sub,R)),_.sup&&z.push(buildGroup2(_.sup,R));var L;if(O)L=I?"mover":"munder";else if(_.sub)if(_.sup){var G=_.base;G&&G.type==="op"&&G.limits&&R.style===Style$1.DISPLAY||G&&G.type==="operatorname"&&G.alwaysHandleSupSub&&(R.style===Style$1.DISPLAY||G.limits)?L="munderover":L="msubsup"}else{var q=_.base;q&&q.type==="op"&&q.limits&&(R.style===Style$1.DISPLAY||q.alwaysHandleSupSub)||q&&q.type==="operatorname"&&q.alwaysHandleSupSub&&(q.limits||R.style===Style$1.DISPLAY)?L="munder":L="msub"}else{var U=_.base;U&&U.type==="op"&&U.limits&&(R.style===Style$1.DISPLAY||U.alwaysHandleSupSub)||U&&U.type==="operatorname"&&U.alwaysHandleSupSub&&(U.limits||R.style===Style$1.DISPLAY)?L="mover":L="msup"}return new mathMLTree.MathNode(L,z)}});defineFunctionBuilders({type:"atom",htmlBuilder(_,R){return buildCommon.mathsym(_.text,_.mode,R,["m"+_.family])},mathmlBuilder(_,R){var O=new mathMLTree.MathNode("mo",[makeText(_.text,_.mode)]);if(_.family==="bin"){var I=getVariant(_,R);I==="bold-italic"&&O.setAttribute("mathvariant",I)}else _.family==="punct"?O.setAttribute("separator","true"):(_.family==="open"||_.family==="close")&&O.setAttribute("stretchy","false");return O}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder(_,R){return buildCommon.makeOrd(_,R,"mathord")},mathmlBuilder(_,R){var O=new mathMLTree.MathNode("mi",[makeText(_.text,_.mode,R)]),I=getVariant(_,R)||"italic";return I!==defaultVariant[O.type]&&O.setAttribute("mathvariant",I),O}});defineFunctionBuilders({type:"textord",htmlBuilder(_,R){return buildCommon.makeOrd(_,R,"textord")},mathmlBuilder(_,R){var O=makeText(_.text,_.mode,R),I=getVariant(_,R)||"normal",F;return _.mode==="text"?F=new mathMLTree.MathNode("mtext",[O]):/[0-9]/.test(_.text)?F=new mathMLTree.MathNode("mn",[O]):_.text==="\\prime"?F=new mathMLTree.MathNode("mo",[O]):F=new mathMLTree.MathNode("mi",[O]),I!==defaultVariant[F.type]&&F.setAttribute("mathvariant",I),F}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(_,R){if(regularSpace.hasOwnProperty(_.text)){var O=regularSpace[_.text].className||"";if(_.mode==="text"){var I=buildCommon.makeOrd(_,R,"textord");return I.classes.push(O),I}else return buildCommon.makeSpan(["mspace",O],[buildCommon.mathsym(_.text,_.mode,R)],R)}else{if(cssSpace.hasOwnProperty(_.text))return buildCommon.makeSpan(["mspace",cssSpace[_.text]],[],R);throw new ParseError('Unknown type of space "'+_.text+'"')}},mathmlBuilder(_,R){var O;if(regularSpace.hasOwnProperty(_.text))O=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode("")]);else{if(cssSpace.hasOwnProperty(_.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+_.text+'"')}return O}});var pad$2=()=>{var _=new mathMLTree.MathNode("mtd",[]);return _.setAttribute("width","50%"),_};defineFunctionBuilders({type:"tag",mathmlBuilder(_,R){var O=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad$2(),new mathMLTree.MathNode("mtd",[buildExpressionRow(_.body,R)]),pad$2(),new mathMLTree.MathNode("mtd",[buildExpressionRow(_.tag,R)])])]);return O.setAttribute("width","100%"),O}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(_,R)=>{var O=_.font;if(O){if(textFontFamilies[O])return R.withTextFontFamily(textFontFamilies[O]);if(textFontWeights[O])return R.withTextFontWeight(textFontWeights[O]);if(O==="\\emph")return R.fontShape==="textit"?R.withTextFontShape("textup"):R.withTextFontShape("textit")}else return R;return R.withTextFontShape(textFontShapes[O])};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(_,R){var{parser:O,funcName:I}=_,F=R[0];return{type:"text",mode:O.mode,body:ordargument(F),font:I}},htmlBuilder(_,R){var O=optionsWithFont(_,R),I=buildExpression$1(_.body,O,!0);return buildCommon.makeSpan(["mord","text"],I,O)},mathmlBuilder(_,R){var O=optionsWithFont(_,R);return buildExpressionRow(_.body,O)}});defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(_,R){var{parser:O}=_;return{type:"underline",mode:O.mode,body:R[0]}},htmlBuilder(_,R){var O=buildGroup$1(_.body,R),I=buildCommon.makeLineSpan("underline-line",R),F=R.fontMetrics().defaultRuleThickness,z=buildCommon.makeVList({positionType:"top",positionData:O.height,children:[{type:"kern",size:F},{type:"elem",elem:I},{type:"kern",size:3*F},{type:"elem",elem:O}]},R);return buildCommon.makeSpan(["mord","underline"],[z],R)},mathmlBuilder(_,R){var O=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);O.setAttribute("stretchy","true");var I=new mathMLTree.MathNode("munder",[buildGroup2(_.body,R),O]);return I.setAttribute("accentunder","true"),I}});defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(_,R){var{parser:O}=_;return{type:"vcenter",mode:O.mode,body:R[0]}},htmlBuilder(_,R){var O=buildGroup$1(_.body,R),I=R.fontMetrics().axisHeight,F=.5*(O.height-I-(O.depth+I));return buildCommon.makeVList({positionType:"shift",positionData:F,children:[{type:"elem",elem:O}]},R)},mathmlBuilder(_,R){return new mathMLTree.MathNode("mpadded",[buildGroup2(_.body,R)],["vcenter"])}});defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(_,R,O){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(_,R){for(var O=makeVerb(_),I=[],F=R.havingStyle(R.style.text()),z=0;z<O.length;z++){var L=O[z];L==="~"&&(L="\\textasciitilde"),I.push(buildCommon.makeSymbol(L,"Typewriter-Regular",_.mode,F,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(F.sizingClasses(R)),buildCommon.tryCombineChars(I),F)},mathmlBuilder(_,R){var O=new mathMLTree.TextNode(makeVerb(_)),I=new mathMLTree.MathNode("mtext",[O]);return I.setAttribute("mathvariant","monospace"),I}});var makeVerb=_=>_.body.replace(/ /g,_.star?"":""),functions=_functions,spaceRegexString=`[ \r
	]`,controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\uD800-\uDFFF]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString=`\\\\(
|[ \r	]+
?)[ \r	]*`,combiningDiacriticalMarkString="[-]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+(controlSpaceRegexString+"|")+"([!-\\[\\]---]"+(combiningDiacriticalMarkString+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(combiningDiacriticalMarkString+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+controlWordWhitespaceRegexString)+("|"+controlSymbolRegexString+")");class Lexer{constructor(R,O){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=R,this.settings=O,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode(R,O){this.catcodes[R]=O}lex(){var R=this.input,O=this.tokenRegex.lastIndex;if(O===R.length)return new Token("EOF",new SourceLocation(this,O,O));var I=this.tokenRegex.exec(R);if(I===null||I.index!==O)throw new ParseError("Unexpected character: '"+R[O]+"'",new Token(R[O],new SourceLocation(this,O,O+1)));var F=I[6]||I[3]||(I[2]?"\\ ":" ");if(this.catcodes[F]===14){var z=R.indexOf(`
`,this.tokenRegex.lastIndex);return z===-1?(this.tokenRegex.lastIndex=R.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=z+1,this.lex()}return new Token(F,new SourceLocation(this,O,this.tokenRegex.lastIndex))}}class Namespace{constructor(R,O){R===void 0&&(R={}),O===void 0&&(O={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=O,this.builtins=R,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var R=this.undefStack.pop();for(var O in R)R.hasOwnProperty(O)&&(R[O]==null?delete this.current[O]:this.current[O]=R[O])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(R){return this.current.hasOwnProperty(R)||this.builtins.hasOwnProperty(R)}get(R){return this.current.hasOwnProperty(R)?this.current[R]:this.builtins[R]}set(R,O,I){if(I===void 0&&(I=!1),I){for(var F=0;F<this.undefStack.length;F++)delete this.undefStack[F][R];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][R]=O)}else{var z=this.undefStack[this.undefStack.length-1];z&&!z.hasOwnProperty(R)&&(z[R]=this.current[R])}O==null?delete this.current[R]:this.current[R]=O}}var macros=_macros;defineMacro("\\noexpand",function(_){var R=_.popToken();return _.isExpandable(R.text)&&(R.noexpand=!0,R.treatAsRelax=!0),{tokens:[R],numArgs:0}});defineMacro("\\expandafter",function(_){var R=_.popToken();return _.expandOnce(!0),{tokens:[R],numArgs:0}});defineMacro("\\@firstoftwo",function(_){var R=_.consumeArgs(2);return{tokens:R[0],numArgs:0}});defineMacro("\\@secondoftwo",function(_){var R=_.consumeArgs(2);return{tokens:R[1],numArgs:0}});defineMacro("\\@ifnextchar",function(_){var R=_.consumeArgs(3);_.consumeSpaces();var O=_.future();return R[0].length===1&&R[0][0].text===O.text?{tokens:R[1],numArgs:0}:{tokens:R[2],numArgs:0}});defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");defineMacro("\\TextOrMath",function(_){var R=_.consumeArgs(2);return _.mode==="text"?{tokens:R[0],numArgs:0}:{tokens:R[1],numArgs:0}});var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",function(_){var R=_.popToken(),O,I="";if(R.text==="'")O=8,R=_.popToken();else if(R.text==='"')O=16,R=_.popToken();else if(R.text==="`")if(R=_.popToken(),R.text[0]==="\\")I=R.text.charCodeAt(1);else{if(R.text==="EOF")throw new ParseError("\\char` missing argument");I=R.text.charCodeAt(0)}else O=10;if(O){if(I=digitToNumber[R.text],I==null||I>=O)throw new ParseError("Invalid base-"+O+" digit "+R.text);for(var F;(F=digitToNumber[_.future().text])!=null&&F<O;)I*=O,I+=F,_.popToken()}return"\\@char{"+I+"}"});var newcommand=(_,R,O,I)=>{var F=_.consumeArg().tokens;if(F.length!==1)throw new ParseError("\\newcommand's first argument must be a macro name");var z=F[0].text,L=_.isDefined(z);if(L&&!R)throw new ParseError("\\newcommand{"+z+"} attempting to redefine "+(z+"; use \\renewcommand"));if(!L&&!O)throw new ParseError("\\renewcommand{"+z+"} when command "+z+" does not yet exist; use \\newcommand");var U=0;if(F=_.consumeArg().tokens,F.length===1&&F[0].text==="["){for(var q="",G=_.expandNextToken();G.text!=="]"&&G.text!=="EOF";)q+=G.text,G=_.expandNextToken();if(!q.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+q);U=parseInt(q),F=_.consumeArg().tokens}return L&&I||_.macros.set(z,{tokens:F,numArgs:U}),""};defineMacro("\\newcommand",_=>newcommand(_,!1,!0,!1));defineMacro("\\renewcommand",_=>newcommand(_,!0,!1,!1));defineMacro("\\providecommand",_=>newcommand(_,!0,!0,!0));defineMacro("\\message",_=>{var R=_.consumeArgs(1)[0];return console.log(R.reverse().map(O=>O.text).join("")),""});defineMacro("\\errmessage",_=>{var R=_.consumeArgs(1)[0];return console.error(R.reverse().map(O=>O.text).join("")),""});defineMacro("\\show",_=>{var R=_.popToken(),O=R.text;return console.log(R,_.macros.get(O),functions[O],symbols$1.math[O],symbols$1.text[O]),""});defineMacro("\\bgroup","{");defineMacro("\\egroup","}");defineMacro("~","\\nobreakspace");defineMacro("\\lq","`");defineMacro("\\rq","'");defineMacro("\\aa","\\r a");defineMacro("\\AA","\\r A");defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");defineMacro("","\\mathscr{B}");defineMacro("","\\mathscr{E}");defineMacro("","\\mathscr{F}");defineMacro("","\\mathscr{H}");defineMacro("","\\mathscr{I}");defineMacro("","\\mathscr{L}");defineMacro("","\\mathscr{M}");defineMacro("","\\mathscr{R}");defineMacro("","\\mathfrak{C}");defineMacro("","\\mathfrak{H}");defineMacro("","\\mathfrak{Z}");defineMacro("\\Bbbk","\\Bbb{k}");defineMacro("","\\cdotp");defineMacro("\\llap","\\mathllap{\\textrm{#1}}");defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}");defineMacro("\\clap","\\mathclap{\\textrm{#1}}");defineMacro("\\mathstrut","\\vphantom{(}");defineMacro("\\underbar","\\underline{\\text{#1}}");defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");defineMacro("\\ne","\\neq");defineMacro("","\\neq");defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");defineMacro("","\\notin");defineMacro("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");defineMacro("","\\perp");defineMacro("","\\mathclose{!\\mkern-0.8mu!}");defineMacro("","\\notni");defineMacro("","\\ulcorner");defineMacro("","\\urcorner");defineMacro("","\\llcorner");defineMacro("","\\lrcorner");defineMacro("","\\copyright");defineMacro("","\\textregistered");defineMacro("","\\textregistered");defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');defineMacro("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");defineMacro("","\\vdots");defineMacro("\\varGamma","\\mathit{\\Gamma}");defineMacro("\\varDelta","\\mathit{\\Delta}");defineMacro("\\varTheta","\\mathit{\\Theta}");defineMacro("\\varLambda","\\mathit{\\Lambda}");defineMacro("\\varXi","\\mathit{\\Xi}");defineMacro("\\varPi","\\mathit{\\Pi}");defineMacro("\\varSigma","\\mathit{\\Sigma}");defineMacro("\\varUpsilon","\\mathit{\\Upsilon}");defineMacro("\\varPhi","\\mathit{\\Phi}");defineMacro("\\varPsi","\\mathit{\\Psi}");defineMacro("\\varOmega","\\mathit{\\Omega}");defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}");defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}");defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;");defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");defineMacro("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");defineMacro("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(_){var R="\\dotso",O=_.expandAfterFuture().text;return O in dotsByToken?R=dotsByToken[O]:(O.slice(0,4)==="\\not"||O in symbols$1.math&&["bin","rel"].includes(symbols$1.math[O].group))&&(R="\\dotsb"),R});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(_){var R=_.future().text;return R in spaceAfterDots?"\\ldots\\,":"\\ldots"});defineMacro("\\dotsc",function(_){var R=_.future().text;return R in spaceAfterDots&&R!==","?"\\ldots\\,":"\\ldots"});defineMacro("\\cdots",function(_){var R=_.future().text;return R in spaceAfterDots?"\\@cdots\\,":"\\@cdots"});defineMacro("\\dotsb","\\cdots");defineMacro("\\dotsm","\\cdots");defineMacro("\\dotsi","\\!\\cdots");defineMacro("\\dotsx","\\ldots\\,");defineMacro("\\DOTSI","\\relax");defineMacro("\\DOTSB","\\relax");defineMacro("\\DOTSX","\\relax");defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");defineMacro("\\,","\\tmspace+{3mu}{.1667em}");defineMacro("\\thinspace","\\,");defineMacro("\\>","\\mskip{4mu}");defineMacro("\\:","\\tmspace+{4mu}{.2222em}");defineMacro("\\medspace","\\:");defineMacro("\\;","\\tmspace+{5mu}{.2777em}");defineMacro("\\thickspace","\\;");defineMacro("\\!","\\tmspace-{3mu}{.1667em}");defineMacro("\\negthinspace","\\!");defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}");defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}");defineMacro("\\enspace","\\kern.5em ");defineMacro("\\enskip","\\hskip.5em\\relax");defineMacro("\\quad","\\hskip1em\\relax");defineMacro("\\qquad","\\hskip2em\\relax");defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren");defineMacro("\\tag@paren","\\tag@literal{({#1})}");defineMacro("\\tag@literal",_=>{if(_.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");defineMacro("\\newline","\\\\\\relax");defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"][84][1]-.7*fontMetricsData["Main-Regular"][65][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");defineMacro("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace");defineMacro("\\@hspace","\\hskip #1\\relax");defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");defineMacro("\\ordinarycolon",":");defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');defineMacro("","\\dblcolon");defineMacro("","\\eqcolon");defineMacro("","\\coloneqq");defineMacro("","\\eqqcolon");defineMacro("","\\Coloneqq");defineMacro("\\ratio","\\vcentcolon");defineMacro("\\coloncolon","\\dblcolon");defineMacro("\\colonequals","\\coloneqq");defineMacro("\\coloncolonequals","\\Coloneqq");defineMacro("\\equalscolon","\\eqqcolon");defineMacro("\\equalscoloncolon","\\Eqqcolon");defineMacro("\\colonminus","\\coloneq");defineMacro("\\coloncolonminus","\\Coloneq");defineMacro("\\minuscolon","\\eqcolon");defineMacro("\\minuscoloncolon","\\Eqcolon");defineMacro("\\coloncolonapprox","\\Colonapprox");defineMacro("\\coloncolonsim","\\Colonsim");defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{}");defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{}");defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{}");defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{}");defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");defineMacro("\\imath","\\html@mathml{\\@imath}{}");defineMacro("\\jmath","\\html@mathml{\\@jmath}{}");defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");defineMacro("","\\llbracket");defineMacro("","\\rrbracket");defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");defineMacro("","\\lBrace");defineMacro("","\\rBrace");defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");defineMacro("","\\minuso");defineMacro("\\darr","\\downarrow");defineMacro("\\dArr","\\Downarrow");defineMacro("\\Darr","\\Downarrow");defineMacro("\\lang","\\langle");defineMacro("\\rang","\\rangle");defineMacro("\\uarr","\\uparrow");defineMacro("\\uArr","\\Uparrow");defineMacro("\\Uarr","\\Uparrow");defineMacro("\\N","\\mathbb{N}");defineMacro("\\R","\\mathbb{R}");defineMacro("\\Z","\\mathbb{Z}");defineMacro("\\alef","\\aleph");defineMacro("\\alefsym","\\aleph");defineMacro("\\Alpha","\\mathrm{A}");defineMacro("\\Beta","\\mathrm{B}");defineMacro("\\bull","\\bullet");defineMacro("\\Chi","\\mathrm{X}");defineMacro("\\clubs","\\clubsuit");defineMacro("\\cnums","\\mathbb{C}");defineMacro("\\Complex","\\mathbb{C}");defineMacro("\\Dagger","\\ddagger");defineMacro("\\diamonds","\\diamondsuit");defineMacro("\\empty","\\emptyset");defineMacro("\\Epsilon","\\mathrm{E}");defineMacro("\\Eta","\\mathrm{H}");defineMacro("\\exist","\\exists");defineMacro("\\harr","\\leftrightarrow");defineMacro("\\hArr","\\Leftrightarrow");defineMacro("\\Harr","\\Leftrightarrow");defineMacro("\\hearts","\\heartsuit");defineMacro("\\image","\\Im");defineMacro("\\infin","\\infty");defineMacro("\\Iota","\\mathrm{I}");defineMacro("\\isin","\\in");defineMacro("\\Kappa","\\mathrm{K}");defineMacro("\\larr","\\leftarrow");defineMacro("\\lArr","\\Leftarrow");defineMacro("\\Larr","\\Leftarrow");defineMacro("\\lrarr","\\leftrightarrow");defineMacro("\\lrArr","\\Leftrightarrow");defineMacro("\\Lrarr","\\Leftrightarrow");defineMacro("\\Mu","\\mathrm{M}");defineMacro("\\natnums","\\mathbb{N}");defineMacro("\\Nu","\\mathrm{N}");defineMacro("\\Omicron","\\mathrm{O}");defineMacro("\\plusmn","\\pm");defineMacro("\\rarr","\\rightarrow");defineMacro("\\rArr","\\Rightarrow");defineMacro("\\Rarr","\\Rightarrow");defineMacro("\\real","\\Re");defineMacro("\\reals","\\mathbb{R}");defineMacro("\\Reals","\\mathbb{R}");defineMacro("\\Rho","\\mathrm{P}");defineMacro("\\sdot","\\cdot");defineMacro("\\sect","\\S");defineMacro("\\spades","\\spadesuit");defineMacro("\\sub","\\subset");defineMacro("\\sube","\\subseteq");defineMacro("\\supe","\\supseteq");defineMacro("\\Tau","\\mathrm{T}");defineMacro("\\thetasym","\\vartheta");defineMacro("\\weierp","\\wp");defineMacro("\\Zeta","\\mathrm{Z}");defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");defineMacro("\\bra","\\mathinner{\\langle{#1}|}");defineMacro("\\ket","\\mathinner{|{#1}\\rangle}");defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}");defineMacro("\\Bra","\\left\\langle#1\\right|");defineMacro("\\Ket","\\left|#1\\right\\rangle");var braketHelper=_=>R=>{var O=R.consumeArg().tokens,I=R.consumeArg().tokens,F=R.consumeArg().tokens,z=R.consumeArg().tokens,L=R.macros.get("|"),U=R.macros.get("\\|");R.macros.beginGroup();var q=Z=>Y=>{_&&(Y.macros.set("|",L),F.length&&Y.macros.set("\\|",U));var W=Z;if(!Z&&F.length){var ee=Y.future();ee.text==="|"&&(Y.popToken(),W=!0)}return{tokens:W?F:I,numArgs:0}};R.macros.set("|",q(!1)),F.length&&R.macros.set("\\|",q(!0));var G=R.consumeArg().tokens,V=R.expandTokens([...z,...G,...O]);return R.macros.endGroup(),{tokens:V.reverse(),numArgs:0}};defineMacro("\\bra@ket",braketHelper(!1));defineMacro("\\bra@set",braketHelper(!0));defineMacro("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");defineMacro("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");defineMacro("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");defineMacro("\\angln","{\\angl n}");defineMacro("\\blue","\\textcolor{##6495ed}{#1}");defineMacro("\\orange","\\textcolor{##ffa500}{#1}");defineMacro("\\pink","\\textcolor{##ff00af}{#1}");defineMacro("\\red","\\textcolor{##df0030}{#1}");defineMacro("\\green","\\textcolor{##28ae7b}{#1}");defineMacro("\\gray","\\textcolor{gray}{#1}");defineMacro("\\purple","\\textcolor{##9d38bd}{#1}");defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}");defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}");defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}");defineMacro("\\blueD","\\textcolor{##11accd}{#1}");defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}");defineMacro("\\tealA","\\textcolor{##94fff5}{#1}");defineMacro("\\tealB","\\textcolor{##26edd5}{#1}");defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}");defineMacro("\\tealD","\\textcolor{##01a995}{#1}");defineMacro("\\tealE","\\textcolor{##208170}{#1}");defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}");defineMacro("\\greenB","\\textcolor{##8af281}{#1}");defineMacro("\\greenC","\\textcolor{##74cf70}{#1}");defineMacro("\\greenD","\\textcolor{##1fab54}{#1}");defineMacro("\\greenE","\\textcolor{##0d923f}{#1}");defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}");defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}");defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}");defineMacro("\\goldD","\\textcolor{##e07d10}{#1}");defineMacro("\\goldE","\\textcolor{##a75a05}{#1}");defineMacro("\\redA","\\textcolor{##fca9a9}{#1}");defineMacro("\\redB","\\textcolor{##ff8482}{#1}");defineMacro("\\redC","\\textcolor{##f9685d}{#1}");defineMacro("\\redD","\\textcolor{##e84d39}{#1}");defineMacro("\\redE","\\textcolor{##bc2612}{#1}");defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}");defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}");defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}");defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}");defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}");defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}");defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}");defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}");defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}");defineMacro("\\purpleE","\\textcolor{##543b78}{#1}");defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}");defineMacro("\\mintB","\\textcolor{##edf2df}{#1}");defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}");defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}");defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}");defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}");defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}");defineMacro("\\grayE","\\textcolor{##babec2}{#1}");defineMacro("\\grayF","\\textcolor{##888d93}{#1}");defineMacro("\\grayG","\\textcolor{##626569}{#1}");defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}");defineMacro("\\grayI","\\textcolor{##21242c}{#1}");defineMacro("\\kaBlue","\\textcolor{##314453}{#1}");defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(R,O,I){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=O,this.expansionCount=0,this.feed(R),this.macros=new Namespace(macros,O.macros),this.mode=I,this.stack=[]}feed(R){this.lexer=new Lexer(R,this.settings)}switchMode(R){this.mode=R}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(R){this.stack.push(R)}pushTokens(R){this.stack.push(...R)}scanArgument(R){var O,I,F;if(R){if(this.consumeSpaces(),this.future().text!=="[")return null;O=this.popToken(),{tokens:F,end:I}=this.consumeArg(["]"])}else({tokens:F,start:O,end:I}=this.consumeArg());return this.pushToken(new Token("EOF",I.loc)),this.pushTokens(F),new Token("",SourceLocation.range(O,I))}consumeSpaces(){for(;;){var R=this.future();if(R.text===" ")this.stack.pop();else break}}consumeArg(R){var O=[],I=R&&R.length>0;I||this.consumeSpaces();var F=this.future(),z,L=0,U=0;do{if(z=this.popToken(),O.push(z),z.text==="{")++L;else if(z.text==="}"){if(--L,L===-1)throw new ParseError("Extra }",z)}else if(z.text==="EOF")throw new ParseError("Unexpected end of input in a macro argument, expected '"+(R&&I?R[U]:"}")+"'",z);if(R&&I)if((L===0||L===1&&R[U]==="{")&&z.text===R[U]){if(++U,U===R.length){O.splice(-U,U);break}}else U=0}while(L!==0||I);return F.text==="{"&&O[O.length-1].text==="}"&&(O.pop(),O.shift()),O.reverse(),{tokens:O,start:F,end:z}}consumeArgs(R,O){if(O){if(O.length!==R+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var I=O[0],F=0;F<I.length;F++){var z=this.popToken();if(I[F]!==z.text)throw new ParseError("Use of the macro doesn't match its definition",z)}}for(var L=[],U=0;U<R;U++)L.push(this.consumeArg(O&&O[U+1]).tokens);return L}countExpansion(R){if(this.expansionCount+=R,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(R){var O=this.popToken(),I=O.text,F=O.noexpand?null:this._getExpansion(I);if(F==null||R&&F.unexpandable){if(R&&F==null&&I[0]==="\\"&&!this.isDefined(I))throw new ParseError("Undefined control sequence: "+I);return this.pushToken(O),!1}this.countExpansion(1);var z=F.tokens,L=this.consumeArgs(F.numArgs,F.delimiters);if(F.numArgs){z=z.slice();for(var U=z.length-1;U>=0;--U){var q=z[U];if(q.text==="#"){if(U===0)throw new ParseError("Incomplete placeholder at end of macro body",q);if(q=z[--U],q.text==="#")z.splice(U+1,1);else if(/^[1-9]$/.test(q.text))z.splice(U,2,...L[+q.text-1]);else throw new ParseError("Not a valid argument number",q)}}}return this.pushTokens(z),z.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var R=this.stack.pop();return R.treatAsRelax&&(R.text="\\relax"),R}throw new Error}expandMacro(R){return this.macros.has(R)?this.expandTokens([new Token(R)]):void 0}expandTokens(R){var O=[],I=this.stack.length;for(this.pushTokens(R);this.stack.length>I;)if(this.expandOnce(!0)===!1){var F=this.stack.pop();F.treatAsRelax&&(F.noexpand=!1,F.treatAsRelax=!1),O.push(F)}return this.countExpansion(O.length),O}expandMacroAsText(R){var O=this.expandMacro(R);return O&&O.map(I=>I.text).join("")}_getExpansion(R){var O=this.macros.get(R);if(O==null)return O;if(R.length===1){var I=this.lexer.catcodes[R];if(I!=null&&I!==13)return}var F=typeof O=="function"?O(this):O;if(typeof F=="string"){var z=0;if(F.indexOf("#")!==-1)for(var L=F.replace(/##/g,"");L.indexOf("#"+(z+1))!==-1;)++z;for(var U=new Lexer(F,this.settings),q=[],G=U.lex();G.text!=="EOF";)q.push(G),G=U.lex();q.reverse();var V={tokens:q,numArgs:z};return V}return F}isDefined(R){return this.macros.has(R)||functions.hasOwnProperty(R)||symbols$1.math.hasOwnProperty(R)||symbols$1.text.hasOwnProperty(R)||implicitCommands.hasOwnProperty(R)}isExpandable(R){var O=this.macros.get(R);return O!=null?typeof O=="string"||typeof O=="function"||!O.unexpandable:functions.hasOwnProperty(R)&&!functions[R].primitive}}var unicodeSubRegEx=/^[]/,uSubsAndSups=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),unicodeAccents={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},unicodeSymbols={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};let Parser$1=class Rh{constructor(R,O){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(R,O,this.mode),this.settings=O,this.leftrightDepth=0}expect(R,O){if(O===void 0&&(O=!0),this.fetch().text!==R)throw new ParseError("Expected '"+R+"', got '"+this.fetch().text+"'",this.fetch());O&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(R){this.mode=R,this.gullet.switchMode(R)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var R=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),R}finally{this.gullet.endGroups()}}subparse(R){var O=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(R);var I=this.parseExpression(!1);return this.expect("}"),this.nextToken=O,I}parseExpression(R,O){for(var I=[];;){this.mode==="math"&&this.consumeSpaces();var F=this.fetch();if(Rh.endOfExpression.indexOf(F.text)!==-1||O&&F.text===O||R&&functions[F.text]&&functions[F.text].infix)break;var z=this.parseAtom(O);if(z){if(z.type==="internal")continue}else break;I.push(z)}return this.mode==="text"&&this.formLigatures(I),this.handleInfixNodes(I)}handleInfixNodes(R){for(var O=-1,I,F=0;F<R.length;F++)if(R[F].type==="infix"){if(O!==-1)throw new ParseError("only one infix operator per group",R[F].token);O=F,I=R[F].replaceWith}if(O!==-1&&I){var z,L,U=R.slice(0,O),q=R.slice(O+1);U.length===1&&U[0].type==="ordgroup"?z=U[0]:z={type:"ordgroup",mode:this.mode,body:U},q.length===1&&q[0].type==="ordgroup"?L=q[0]:L={type:"ordgroup",mode:this.mode,body:q};var G;return I==="\\\\abovefrac"?G=this.callFunction(I,[z,R[O],L],[]):G=this.callFunction(I,[z,L],[]),[G]}else return R}handleSupSubscript(R){var O=this.fetch(),I=O.text;this.consume(),this.consumeSpaces();var F;do{var z;F=this.parseGroup(R)}while(((z=F)==null?void 0:z.type)==="internal");if(!F)throw new ParseError("Expected group after '"+I+"'",O);return F}formatUnsupportedCmd(R){for(var O=[],I=0;I<R.length;I++)O.push({type:"textord",mode:"text",text:R[I]});var F={type:"text",mode:this.mode,body:O},z={type:"color",mode:this.mode,color:this.settings.errorColor,body:[F]};return z}parseAtom(R){var O=this.parseGroup("atom",R);if(O?.type==="internal"||this.mode==="text")return O;for(var I,F;;){this.consumeSpaces();var z=this.fetch();if(z.text==="\\limits"||z.text==="\\nolimits"){if(O&&O.type==="op"){var L=z.text==="\\limits";O.limits=L,O.alwaysHandleSupSub=!0}else if(O&&O.type==="operatorname")O.alwaysHandleSupSub&&(O.limits=z.text==="\\limits");else throw new ParseError("Limit controls must follow a math operator",z);this.consume()}else if(z.text==="^"){if(I)throw new ParseError("Double superscript",z);I=this.handleSupSubscript("superscript")}else if(z.text==="_"){if(F)throw new ParseError("Double subscript",z);F=this.handleSupSubscript("subscript")}else if(z.text==="'"){if(I)throw new ParseError("Double superscript",z);var U={type:"textord",mode:this.mode,text:"\\prime"},q=[U];for(this.consume();this.fetch().text==="'";)q.push(U),this.consume();this.fetch().text==="^"&&q.push(this.handleSupSubscript("superscript")),I={type:"ordgroup",mode:this.mode,body:q}}else if(uSubsAndSups[z.text]){var G=unicodeSubRegEx.test(z.text),V=[];for(V.push(new Token(uSubsAndSups[z.text])),this.consume();;){var Z=this.fetch().text;if(!uSubsAndSups[Z]||unicodeSubRegEx.test(Z)!==G)break;V.unshift(new Token(uSubsAndSups[Z])),this.consume()}var Y=this.subparse(V);G?F={type:"ordgroup",mode:"math",body:Y}:I={type:"ordgroup",mode:"math",body:Y}}else break}return I||F?{type:"supsub",mode:this.mode,base:O,sup:I,sub:F}:O}parseFunction(R,O){var I=this.fetch(),F=I.text,z=functions[F];if(!z)return null;if(this.consume(),O&&O!=="atom"&&!z.allowedInArgument)throw new ParseError("Got function '"+F+"' with no arguments"+(O?" as "+O:""),I);if(this.mode==="text"&&!z.allowedInText)throw new ParseError("Can't use function '"+F+"' in text mode",I);if(this.mode==="math"&&z.allowedInMath===!1)throw new ParseError("Can't use function '"+F+"' in math mode",I);var{args:L,optArgs:U}=this.parseArguments(F,z);return this.callFunction(F,L,U,I,R)}callFunction(R,O,I,F,z){var L={funcName:R,parser:this,token:F,breakOnTokenText:z},U=functions[R];if(U&&U.handler)return U.handler(L,O,I);throw new ParseError("No function handler for "+R)}parseArguments(R,O){var I=O.numArgs+O.numOptionalArgs;if(I===0)return{args:[],optArgs:[]};for(var F=[],z=[],L=0;L<I;L++){var U=O.argTypes&&O.argTypes[L],q=L<O.numOptionalArgs;(O.primitive&&U==null||O.type==="sqrt"&&L===1&&z[0]==null)&&(U="primitive");var G=this.parseGroupOfType("argument to '"+R+"'",U,q);if(q)z.push(G);else if(G!=null)F.push(G);else throw new ParseError("Null argument, please report this as a bug")}return{args:F,optArgs:z}}parseGroupOfType(R,O,I){switch(O){case"color":return this.parseColorGroup(I);case"size":return this.parseSizeGroup(I);case"url":return this.parseUrlGroup(I);case"math":case"text":return this.parseArgumentGroup(I,O);case"hbox":{var F=this.parseArgumentGroup(I,"text");return F!=null?{type:"styling",mode:F.mode,body:[F],style:"text"}:null}case"raw":{var z=this.parseStringGroup("raw",I);return z!=null?{type:"raw",mode:"text",string:z.text}:null}case"primitive":{if(I)throw new ParseError("A primitive argument cannot be optional");var L=this.parseGroup(R);if(L==null)throw new ParseError("Expected group as "+R,this.fetch());return L}case"original":case null:case void 0:return this.parseArgumentGroup(I);default:throw new ParseError("Unknown group type as "+R,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(R,O){var I=this.gullet.scanArgument(O);if(I==null)return null;for(var F="",z;(z=this.fetch()).text!=="EOF";)F+=z.text,this.consume();return this.consume(),I.text=F,I}parseRegexGroup(R,O){for(var I=this.fetch(),F=I,z="",L;(L=this.fetch()).text!=="EOF"&&R.test(z+L.text);)F=L,z+=F.text,this.consume();if(z==="")throw new ParseError("Invalid "+O+": '"+I.text+"'",I);return I.range(F,z)}parseColorGroup(R){var O=this.parseStringGroup("color",R);if(O==null)return null;var I=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(O.text);if(!I)throw new ParseError("Invalid color: '"+O.text+"'",O);var F=I[0];return/^[0-9a-f]{6}$/i.test(F)&&(F="#"+F),{type:"color-token",mode:this.mode,color:F}}parseSizeGroup(R){var O,I=!1;if(this.gullet.consumeSpaces(),!R&&this.gullet.future().text!=="{"?O=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):O=this.parseStringGroup("size",R),!O)return null;!R&&O.text.length===0&&(O.text="0pt",I=!0);var F=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(O.text);if(!F)throw new ParseError("Invalid size: '"+O.text+"'",O);var z={number:+(F[1]+F[2]),unit:F[3]};if(!validUnit(z))throw new ParseError("Invalid unit: '"+z.unit+"'",O);return{type:"size",mode:this.mode,value:z,isBlank:I}}parseUrlGroup(R){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var O=this.parseStringGroup("url",R);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),O==null)return null;var I=O.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:I}}parseArgumentGroup(R,O){var I=this.gullet.scanArgument(R);if(I==null)return null;var F=this.mode;O&&this.switchMode(O),this.gullet.beginGroup();var z=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var L={type:"ordgroup",mode:this.mode,loc:I.loc,body:z};return O&&this.switchMode(F),L}parseGroup(R,O){var I=this.fetch(),F=I.text,z;if(F==="{"||F==="\\begingroup"){this.consume();var L=F==="{"?"}":"\\endgroup";this.gullet.beginGroup();var U=this.parseExpression(!1,L),q=this.fetch();this.expect(L),this.gullet.endGroup(),z={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(I,q),body:U,semisimple:F==="\\begingroup"||void 0}}else if(z=this.parseFunction(O,R)||this.parseSymbol(),z==null&&F[0]==="\\"&&!implicitCommands.hasOwnProperty(F)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+F,I);z=this.formatUnsupportedCmd(F),this.consume()}return z}formLigatures(R){for(var O=R.length-1,I=0;I<O;++I){var F=R[I],z=F.text;z==="-"&&R[I+1].text==="-"&&(I+1<O&&R[I+2].text==="-"?(R.splice(I,3,{type:"textord",mode:"text",loc:SourceLocation.range(F,R[I+2]),text:"---"}),O-=2):(R.splice(I,2,{type:"textord",mode:"text",loc:SourceLocation.range(F,R[I+1]),text:"--"}),O-=1)),(z==="'"||z==="`")&&R[I+1].text===z&&(R.splice(I,2,{type:"textord",mode:"text",loc:SourceLocation.range(F,R[I+1]),text:z+z}),O-=1)}}parseSymbol(){var R=this.fetch(),O=R.text;if(/^\\verb[^a-zA-Z]/.test(O)){this.consume();var I=O.slice(5),F=I.charAt(0)==="*";if(F&&(I=I.slice(1)),I.length<2||I.charAt(0)!==I.slice(-1))throw new ParseError(`\\verb assertion failed --
                    please report what input caused this bug`);return I=I.slice(1,-1),{type:"verb",mode:"text",body:I,star:F}}unicodeSymbols.hasOwnProperty(O[0])&&!symbols$1[this.mode][O[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+O[0]+'" used in math mode',R),O=unicodeSymbols[O[0]]+O.slice(1));var z=combiningDiacriticalMarksEndRegex.exec(O);z&&(O=O.substring(0,z.index),O==="i"?O="":O==="j"&&(O=""));var L;if(symbols$1[this.mode][O]){this.settings.strict&&this.mode==="math"&&extraLatin.indexOf(O)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+O[0]+'" used in math mode',R);var U=symbols$1[this.mode][O].group,q=SourceLocation.range(R),G;if(ATOMS.hasOwnProperty(U)){var V=U;G={type:"atom",mode:this.mode,family:V,loc:q,text:O}}else G={type:U,mode:this.mode,loc:q,text:O};L=G}else if(O.charCodeAt(0)>=128)this.settings.strict&&(supportedCodepoint(O.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+O[0]+'" used in math mode',R):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+O[0]+'"'+(" ("+O.charCodeAt(0)+")"),R)),L={type:"textord",mode:"text",loc:SourceLocation.range(R),text:O};else return null;if(this.consume(),z)for(var Z=0;Z<z[0].length;Z++){var Y=z[0][Z];if(!unicodeAccents[Y])throw new ParseError("Unknown accent ' "+Y+"'",R);var W=unicodeAccents[Y][this.mode]||unicodeAccents[Y].text;if(!W)throw new ParseError("Accent "+Y+" unsupported in "+this.mode+" mode",R);L={type:"accent",mode:this.mode,loc:SourceLocation.range(R),label:W,isStretchy:!1,isShifty:!0,base:L}}return L}};Parser$1.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function _(R,O){if(!(typeof R=="string"||R instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var I=new Parser$1(R,O);delete I.gullet.macros.current["\\df@tag"];var F=I.parse();if(delete I.gullet.macros.current["\\current@color"],delete I.gullet.macros.current["\\color"],I.gullet.macros.get("\\df@tag")){if(!O.displayMode)throw new ParseError("\\tag works only in display equations");F=[{type:"tag",mode:"text",body:F,tag:I.subparse([new Token("\\df@tag")])}]}return F},render=function _(R,O,I){O.textContent="";var F=renderToDomTree(R,I).toNode();O.appendChild(F)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function _(R,O){var I=renderToDomTree(R,O).toMarkup();return I},generateParseTree=function _(R,O){var I=new Settings(O);return parseTree(R,I)},renderError=function _(R,O,I){if(I.throwOnError||!(R instanceof ParseError))throw R;var F=buildCommon.makeSpan(["katex-error"],[new SymbolNode$1(O)]);return F.setAttribute("title",R.toString()),F.setAttribute("style","color:"+I.errorColor),F},renderToDomTree=function _(R,O){var I=new Settings(O);try{var F=parseTree(R,I);return buildTree(F,R,I)}catch(z){return renderError(z,R,I)}},renderToHTMLTree=function _(R,O){var I=new Settings(O);try{var F=parseTree(R,I);return buildHTMLTree(F,R,I)}catch(z){return renderError(z,R,I)}},version$2="0.16.27",__domTree={Span,Anchor,SymbolNode:SymbolNode$1,SvgNode,PathNode,LineNode},katex={version:version$2,render,renderToString,ParseError,SETTINGS_SCHEMA,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineFunction:defineFunction,__defineMacro:defineMacro,__domTree};const emptyOptions$2={};function remarkMath(_){const R=this,O=_||emptyOptions$2,I=R.data(),F=I.micromarkExtensions||(I.micromarkExtensions=[]),z=I.fromMarkdownExtensions||(I.fromMarkdownExtensions=[]),L=I.toMarkdownExtensions||(I.toMarkdownExtensions=[]);F.push(math$2(O)),z.push(mathFromMarkdown()),L.push(mathToMarkdown(O))}const search=/[#.]/g;function parseSelector(_,R){const O=_||"",I={};let F=0,z,L;for(;F<O.length;){search.lastIndex=F;const U=search.exec(O),q=O.slice(F,U?U.index:O.length);q&&(z?z==="#"?I.id=q:Array.isArray(I.className)?I.className.push(q):I.className=[q]:L=q,F+=q.length),U&&(z=U[0],F++)}return{type:"element",tagName:L||R||"div",properties:I,children:[]}}function createH(_,R,O){const I=O?createAdjustMap(O):void 0;function F(z,L,...U){let q;if(z==null){q={type:"root",children:[]};const G=L;U.unshift(G)}else{q=parseSelector(z,R);const G=q.tagName.toLowerCase(),V=I?I.get(G):void 0;if(q.tagName=V||G,isChild(L))U.unshift(L);else for(const[Z,Y]of Object.entries(L))addProperty(_,q.properties,Z,Y)}for(const G of U)addChild(q.children,G);return q.type==="element"&&q.tagName==="template"&&(q.content={type:"root",children:q.children},q.children=[]),q}return F}function isChild(_){if(_===null||typeof _!="object"||Array.isArray(_))return!0;if(typeof _.type!="string")return!1;const R=_,O=Object.keys(_);for(const I of O){const F=R[I];if(F&&typeof F=="object"){if(!Array.isArray(F))return!0;const z=F;for(const L of z)if(typeof L!="number"&&typeof L!="string")return!0}}return!!("children"in _&&Array.isArray(_.children))}function addProperty(_,R,O,I){const F=find$1(_,O);let z;if(I!=null){if(typeof I=="number"){if(Number.isNaN(I))return;z=I}else typeof I=="boolean"?z=I:typeof I=="string"?F.spaceSeparated?z=parse$6(I):F.commaSeparated?z=parse$7(I):F.commaOrSpaceSeparated?z=parse$6(parse$7(I).join(" ")):z=parsePrimitive(F,F.property,I):Array.isArray(I)?z=[...I]:z=F.property==="style"?style(I):String(I);if(Array.isArray(z)){const L=[];for(const U of z)L.push(parsePrimitive(F,F.property,U));z=L}F.property==="className"&&Array.isArray(R.className)&&(z=R.className.concat(z)),R[F.property]=z}}function addChild(_,R){if(R!=null)if(typeof R=="number"||typeof R=="string")_.push({type:"text",value:String(R)});else if(Array.isArray(R))for(const O of R)addChild(_,O);else if(typeof R=="object"&&"type"in R)R.type==="root"?addChild(_,R.children):_.push(R);else throw new Error("Expected node, nodes, or string, got `"+R+"`")}function parsePrimitive(_,R,O){if(typeof O=="string"){if(_.number&&O&&!Number.isNaN(Number(O)))return Number(O);if((_.boolean||_.overloadedBoolean)&&(O===""||normalize$2(O)===normalize$2(R)))return!0}return O}function style(_){const R=[];for(const[O,I]of Object.entries(_))R.push([O,I].join(": "));return R.join("; ")}function createAdjustMap(_){const R=new Map;for(const O of _)R.set(O.toLowerCase(),O);return R}const svgCaseSensitiveTagNames=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],h$1=createH(html$2,"div"),s$2=createH(svg,"g",svgCaseSensitiveTagNames),webNamespaces={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function fromDom(_,R){return transform(_,{})||{type:"root",children:[]}}function transform(_,R){const O=one$2(_,R);return O&&R.afterTransform&&R.afterTransform(_,O),O}function one$2(_,R){switch(_.nodeType){case 1:return element$1(_,R);case 3:return text$3(_);case 8:return comment(_);case 9:return root$2(_,R);case 10:return doctype();case 11:return root$2(_,R);default:return}}function root$2(_,R){return{type:"root",children:all(_,R)}}function doctype(){return{type:"doctype"}}function text$3(_){return{type:"text",value:_.nodeValue||""}}function comment(_){return{type:"comment",value:_.nodeValue||""}}function element$1(_,R){const O=_.namespaceURI,I=O===webNamespaces.svg?s$2:h$1,F=O===webNamespaces.html?_.tagName.toLowerCase():_.tagName,z=O===webNamespaces.html&&F==="template"?_.content:_,L=_.getAttributeNames(),U={};let q=-1;for(;++q<L.length;)U[L[q]]=_.getAttribute(L[q])||"";return I(F,U,all(z,R))}function all(_,R){const O=_.childNodes,I=[];let F=-1;for(;++F<O.length;){const z=transform(O[F],R);z!==void 0&&I.push(z)}return I}new DOMParser;function fromHtmlIsomorphic(_,R){const O=parseFragment(_);return fromDom(O)}function parseFragment(_){const R=document.createElement("template");return R.innerHTML=_,R.content}const findAfter=(function(_,R,O){const I=convert(O);if(!_||!_.type||!_.children)throw new Error("Expected parent node");if(typeof R=="number"){if(R<0||R===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(R=_.children.indexOf(R),R<0)throw new Error("Expected child node or index");for(;++R<_.children.length;)if(I(_.children[R],R,_))return _.children[R]}),convertElement=(function(_){if(_==null)return element;if(typeof _=="string")return tagNameFactory(_);if(typeof _=="object")return anyFactory(_);if(typeof _=="function")return castFactory(_);throw new Error("Expected function, string, or array as `test`")});function anyFactory(_){const R=[];let O=-1;for(;++O<_.length;)R[O]=convertElement(_[O]);return castFactory(I);function I(...F){let z=-1;for(;++z<R.length;)if(R[z].apply(this,F))return!0;return!1}}function tagNameFactory(_){return castFactory(R);function R(O){return O.tagName===_}}function castFactory(_){return R;function R(O,I,F){return!!(looksLikeAnElement(O)&&_.call(this,O,typeof I=="number"?I:void 0,F||void 0))}}function element(_){return!!(_&&typeof _=="object"&&"type"in _&&_.type==="element"&&"tagName"in _&&typeof _.tagName=="string")}function looksLikeAnElement(_){return _!==null&&typeof _=="object"&&"type"in _&&"tagName"in _}const searchLineFeeds=/\n/g,searchTabOrSpaces=/[\t ]+/g,br=convertElement("br"),cell=convertElement(isCell),p$1=convertElement("p"),row$1=convertElement("tr"),notRendered=convertElement(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",hidden,closedDialog]),blockOrCaption=convertElement(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function toText(_,R){const O=R||{},I="children"in _?_.children:[],F=blockOrCaption(_),z=inferWhitespace(_,{whitespace:O.whitespace||"normal"}),L=[];(_.type==="text"||_.type==="comment")&&L.push(...collectText(_,{breakBefore:!0,breakAfter:!0}));let U=-1;for(;++U<I.length;)L.push(...renderedTextCollection(I[U],_,{whitespace:z,breakBefore:U?void 0:F,breakAfter:U<I.length-1?br(I[U+1]):F}));const q=[];let G;for(U=-1;++U<L.length;){const V=L[U];typeof V=="number"?G!==void 0&&V>G&&(G=V):V&&(G!==void 0&&G>-1&&q.push(`
`.repeat(G)||" "),G=-1,q.push(V))}return q.join("")}function renderedTextCollection(_,R,O){return _.type==="element"?collectElement(_,R,O):_.type==="text"?O.whitespace==="normal"?collectText(_,O):collectPreText(_):[]}function collectElement(_,R,O){const I=inferWhitespace(_,O),F=_.children||[];let z=-1,L=[];if(notRendered(_))return L;let U,q;for(br(_)||row$1(_)&&findAfter(R,_,row$1)?q=`
`:p$1(_)?(U=2,q=2):blockOrCaption(_)&&(U=1,q=1);++z<F.length;)L=L.concat(renderedTextCollection(F[z],_,{whitespace:I,breakBefore:z?void 0:U,breakAfter:z<F.length-1?br(F[z+1]):q}));return cell(_)&&findAfter(R,_,cell)&&L.push("	"),U&&L.unshift(U),q&&L.push(q),L}function collectText(_,R){const O=String(_.value),I=[],F=[];let z=0;for(;z<=O.length;){searchLineFeeds.lastIndex=z;const q=searchLineFeeds.exec(O),G=q&&"index"in q?q.index:O.length;I.push(trimAndCollapseSpacesAndTabs(O.slice(z,G).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),z===0?R.breakBefore:!0,G===O.length?R.breakAfter:!0)),z=G+1}let L=-1,U;for(;++L<I.length;)I[L].charCodeAt(I[L].length-1)===8203||L<I.length-1&&I[L+1].charCodeAt(0)===8203?(F.push(I[L]),U=void 0):I[L]?(typeof U=="number"&&F.push(U),F.push(I[L]),U=0):(L===0||L===I.length-1)&&F.push(0);return F}function collectPreText(_){return[String(_.value)]}function trimAndCollapseSpacesAndTabs(_,R,O){const I=[];let F=0,z;for(;F<_.length;){searchTabOrSpaces.lastIndex=F;const L=searchTabOrSpaces.exec(_);z=L?L.index:_.length,!F&&!z&&L&&!R&&I.push(""),F!==z&&I.push(_.slice(F,z)),F=L?z+L[0].length:z}return F!==z&&!O&&I.push(""),I.join(" ")}function inferWhitespace(_,R){if(_.type==="element"){const O=_.properties||{};switch(_.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return O.wrap?"pre-wrap":"pre";case"td":case"th":return O.noWrap?"nowrap":R.whitespace;case"textarea":return"pre-wrap"}}return R.whitespace}function hidden(_){return!!(_.properties||{}).hidden}function isCell(_){return _.tagName==="td"||_.tagName==="th"}function closedDialog(_){return _.tagName==="dialog"&&!(_.properties||{}).open}const emptyOptions$1={},emptyClasses=[];function rehypeKatex(_){const R=_||emptyOptions$1;return function(O,I){visitParents(O,"element",function(F,z){const L=Array.isArray(F.properties.className)?F.properties.className:emptyClasses,U=L.includes("language-math"),q=L.includes("math-display"),G=L.includes("math-inline");let V=q;if(!U&&!q&&!G)return;let Z=z[z.length-1],Y=F;if(F.tagName==="code"&&U&&Z&&Z.type==="element"&&Z.tagName==="pre"&&(Y=Z,Z=z[z.length-2],V=!0),!Z)return;const W=toText(Y,{whitespace:"pre"});let ee;try{ee=katex.renderToString(W,{...R,displayMode:V,throwOnError:!0})}catch(ie){const se=ie,oe=se.name.toLowerCase();I.message("Could not render math with KaTeX",{ancestors:[...z,F],cause:se,place:F.position,ruleId:oe,source:"rehype-katex"});try{ee=katex.renderToString(W,{...R,displayMode:V,strict:"ignore",throwOnError:!1})}catch{ee=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(R.errorColor||"#cc0000"),title:String(ie)},children:[{type:"text",value:W}]}]}}typeof ee=="string"&&(ee=fromHtmlIsomorphic(ee).children);const ne=Z.children.indexOf(Y);return Z.children.splice(ne,1,...ee),SKIP})}}function HelpPopover({content:_,side:R="right",className:O}){return jsxRuntimeExports.jsxs(Root2$3,{children:[jsxRuntimeExports.jsx(Trigger$3,{asChild:!0,children:jsxRuntimeExports.jsx("button",{type:"button",className:cn("inline-flex items-center justify-center rounded-full p-0.5 text-muted-foreground hover:text-foreground hover:bg-muted transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-1",O),"aria-label":"Help",children:jsxRuntimeExports.jsx(CircleQuestionMark,{className:"h-3.5 w-3.5"})})}),jsxRuntimeExports.jsx(Portal$2,{children:jsxRuntimeExports.jsxs(Content2$2,{side:R,sideOffset:5,align:"start",className:"z-50 w-80 rounded-md border bg-popover p-3 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",children:[jsxRuntimeExports.jsx("div",{className:"help-popover-content text-sm",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkMath],rehypePlugins:[rehypeKatex],children:_})}),jsxRuntimeExports.jsx("style",{children:`
            .help-popover-content { line-height: 1.5; }
            .help-popover-content p { margin: 0.25rem 0; }
            .help-popover-content p:first-child { margin-top: 0; }
            .help-popover-content p:last-child { margin-bottom: 0; }
            .help-popover-content code { background: hsl(var(--muted)); padding: 0.125rem 0.25rem; border-radius: 0.25rem; font-size: 0.875em; }
            .help-popover-content .katex { font-size: 0.95em; }
            .help-popover-content .katex-display { margin: 0.5rem 0; text-align: center; overflow-x: auto; }
          `}),jsxRuntimeExports.jsx(Arrow2,{className:"fill-border"})]})})]})}function parseNumericText(_){const R=_.trim().toLowerCase();if(R==="")return 0;if(R==="inf"||R==="infinity")return 1/0;if(R==="-inf"||R==="-infinity")return-1/0;const O=Number(R);return isNaN(O)?null:O}function formatNumericValue(_){return _===1/0?"inf":_===-1/0?"-inf":String(_)}function useNumericText({value:_,onChange:R,integer:O,min:I,max:F}){const[z,L]=reactExports.useState(()=>formatNumericValue(_)),[U,q]=reactExports.useState(!0),G=reactExports.useRef(!1);reactExports.useEffect(()=>{G.current||(L(formatNumericValue(_)),q(!0))},[_]);const V=reactExports.useCallback(ee=>{let ne=O?Math.round(ee):ee;return I!==void 0&&(ne=Math.max(I,ne)),F!==void 0&&(ne=Math.min(F,ne)),ne},[O,I,F]),Z=reactExports.useCallback(ee=>{L(ee);const ne=parseNumericText(ee);ne!==null?(q(!0),R(V(ne))):(q(!1),R(V(0)))},[R,V]),Y=reactExports.useCallback(()=>{G.current=!0},[]),W=reactExports.useCallback(()=>{G.current=!1,L(formatNumericValue(_)),q(!0)},[_]);return{text:z,isValid:U,handleChange:Z,handleFocus:Y,handleBlur:W}}function NumericTextInput({value:_,onChange:R,disabled:O,integer:I,min:F,max:z,className:L}){const{text:U,isValid:q,handleChange:G,handleFocus:V,handleBlur:Z}=useNumericText({value:_,onChange:R,integer:I,min:F,max:z});return jsxRuntimeExports.jsx(Input,{type:"text",value:U,onChange:Y=>G(Y.target.value),onFocus:V,onBlur:Z,disabled:O,className:cn(L,!q&&"border-red-500 focus-visible:ring-red-500")})}function useScrubber({value:_,onChange:R,disabled:O,integer:I,min:F,max:z,sensitivity:L=1}){const U=reactExports.useRef(0),q=reactExports.useRef(0),G=reactExports.useCallback(Z=>{let Y=I?Math.round(Z):Z;return F!==void 0&&(Y=Math.max(F,Y)),z!==void 0&&(Y=Math.min(z,Y)),Y},[I,F,z]);return{scrubberProps:{onMouseDown:reactExports.useCallback(Z=>{if(O||!isFinite(_))return;Z.preventDefault(),U.current=Z.clientX,q.current=_;const Y=ee=>{const ne=ee.clientX-U.current,ie=1e-6;let se;Math.abs(q.current)<ie?se=q.current+ne*.01*L:se=q.current*Math.pow(1.01,ne*L),R(G(se))},W=()=>{document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",W)};document.addEventListener("mousemove",Y),document.addEventListener("mouseup",W)},[_,R,O,G,L]),style:{cursor:O?void 0:"ew-resize",userSelect:"none"}}}}function ScrubLabel({label:_,value:R,onChange:O,disabled:I,integer:F,min:z,max:L,description:U,className:q}){const{scrubberProps:G}=useScrubber({value:R,onChange:O,disabled:I,integer:F,min:z,max:L});return jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-1",q),children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs",...G,children:_}),U&&jsxRuntimeExports.jsx(HelpPopover,{content:U})]})}function NumberInput$1({label:_,value:R,onChange:O,disabled:I,min:F,max:z,description:L}){return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ScrubLabel,{label:_,value:R,onChange:O,disabled:I,min:F,max:z,description:L,className:"w-32 shrink-0"}),jsxRuntimeExports.jsx(NumericTextInput,{value:R,onChange:O,disabled:I,min:F,max:z,className:"h-7 text-xs w-24"})]})}function IntegerInput({label:_,value:R,onChange:O,disabled:I,min:F,max:z,description:L}){return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ScrubLabel,{label:_,value:R,onChange:O,disabled:I,integer:!0,min:F,max:z,description:L,className:"w-32 shrink-0"}),jsxRuntimeExports.jsx(NumericTextInput,{value:R,onChange:O,disabled:I,integer:!0,min:F,max:z,className:"h-7 text-xs w-24"})]})}function usePrevious(_){const R=reactExports.useRef({value:_,previous:_});return reactExports.useMemo(()=>(R.current.value!==_&&(R.current.previous=R.current.value,R.current.value=_),R.current.previous),[_])}var CHECKBOX_NAME="Checkbox",[createCheckboxContext]=createContextScope$1(CHECKBOX_NAME),[CheckboxProviderImpl,useCheckboxContext]=createCheckboxContext(CHECKBOX_NAME);function CheckboxProvider(_){const{__scopeCheckbox:R,checked:O,children:I,defaultChecked:F,disabled:z,form:L,name:U,onCheckedChange:q,required:G,value:V="on",internal_do_not_use_render:Z}=_,[Y,W]=useControllableState({prop:O,defaultProp:F??!1,onChange:q,caller:CHECKBOX_NAME}),[ee,ne]=reactExports.useState(null),[ie,se]=reactExports.useState(null),oe=reactExports.useRef(!1),le=ee?!!L||!!ee.closest("form"):!0,ue={checked:Y,disabled:z,setChecked:W,control:ee,setControl:ne,name:U,form:L,value:V,hasConsumerStoppedPropagationRef:oe,required:G,defaultChecked:isIndeterminate(F)?!1:F,isFormControl:le,bubbleInput:ie,setBubbleInput:se};return jsxRuntimeExports.jsx(CheckboxProviderImpl,{scope:R,...ue,children:isFunction$1(Z)?Z(ue):I})}var TRIGGER_NAME$5="CheckboxTrigger",CheckboxTrigger=reactExports.forwardRef(({__scopeCheckbox:_,onKeyDown:R,onClick:O,...I},F)=>{const{control:z,value:L,disabled:U,checked:q,required:G,setControl:V,setChecked:Z,hasConsumerStoppedPropagationRef:Y,isFormControl:W,bubbleInput:ee}=useCheckboxContext(TRIGGER_NAME$5,_),ne=useComposedRefs(F,V),ie=reactExports.useRef(q);return reactExports.useEffect(()=>{const se=z?.form;if(se){const oe=()=>Z(ie.current);return se.addEventListener("reset",oe),()=>se.removeEventListener("reset",oe)}},[z,Z]),jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"checkbox","aria-checked":isIndeterminate(q)?"mixed":q,"aria-required":G,"data-state":getState$3(q),"data-disabled":U?"":void 0,disabled:U,value:L,...I,ref:ne,onKeyDown:composeEventHandlers$1(R,se=>{se.key==="Enter"&&se.preventDefault()}),onClick:composeEventHandlers$1(O,se=>{Z(oe=>isIndeterminate(oe)?!0:!oe),ee&&W&&(Y.current=se.isPropagationStopped(),Y.current||se.stopPropagation())})})});CheckboxTrigger.displayName=TRIGGER_NAME$5;var Checkbox$1=reactExports.forwardRef((_,R)=>{const{__scopeCheckbox:O,name:I,checked:F,defaultChecked:z,required:L,disabled:U,value:q,onCheckedChange:G,form:V,...Z}=_;return jsxRuntimeExports.jsx(CheckboxProvider,{__scopeCheckbox:O,checked:F,defaultChecked:z,disabled:U,required:L,onCheckedChange:G,name:I,form:V,value:q,internal_do_not_use_render:({isFormControl:Y})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckboxTrigger,{...Z,ref:R,__scopeCheckbox:O}),Y&&jsxRuntimeExports.jsx(CheckboxBubbleInput,{__scopeCheckbox:O})]})})});Checkbox$1.displayName=CHECKBOX_NAME;var INDICATOR_NAME$1="CheckboxIndicator",CheckboxIndicator=reactExports.forwardRef((_,R)=>{const{__scopeCheckbox:O,forceMount:I,...F}=_,z=useCheckboxContext(INDICATOR_NAME$1,O);return jsxRuntimeExports.jsx(Presence,{present:I||isIndeterminate(z.checked)||z.checked===!0,children:jsxRuntimeExports.jsx(Primitive$2.span,{"data-state":getState$3(z.checked),"data-disabled":z.disabled?"":void 0,...F,ref:R,style:{pointerEvents:"none",..._.style}})})});CheckboxIndicator.displayName=INDICATOR_NAME$1;var BUBBLE_INPUT_NAME$2="CheckboxBubbleInput",CheckboxBubbleInput=reactExports.forwardRef(({__scopeCheckbox:_,...R},O)=>{const{control:I,hasConsumerStoppedPropagationRef:F,checked:z,defaultChecked:L,required:U,disabled:q,name:G,value:V,form:Z,bubbleInput:Y,setBubbleInput:W}=useCheckboxContext(BUBBLE_INPUT_NAME$2,_),ee=useComposedRefs(O,W),ne=usePrevious(z),ie=useSize(I);reactExports.useEffect(()=>{const oe=Y;if(!oe)return;const le=window.HTMLInputElement.prototype,ce=Object.getOwnPropertyDescriptor(le,"checked").set,fe=!F.current;if(ne!==z&&ce){const me=new Event("click",{bubbles:fe});oe.indeterminate=isIndeterminate(z),ce.call(oe,isIndeterminate(z)?!1:z),oe.dispatchEvent(me)}},[Y,ne,z,F]);const se=reactExports.useRef(isIndeterminate(z)?!1:z);return jsxRuntimeExports.jsx(Primitive$2.input,{type:"checkbox","aria-hidden":!0,defaultChecked:L??se.current,required:U,disabled:q,name:G,value:V,form:Z,...R,tabIndex:-1,ref:ee,style:{...R.style,...ie,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});CheckboxBubbleInput.displayName=BUBBLE_INPUT_NAME$2;function isFunction$1(_){return typeof _=="function"}function isIndeterminate(_){return _==="indeterminate"}function getState$3(_){return isIndeterminate(_)?"indeterminate":_?"checked":"unchecked"}const Checkbox=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx(Checkbox$1,{ref:O,className:cn("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",_),...R,children:jsxRuntimeExports.jsx(CheckboxIndicator,{className:cn("flex items-center justify-center text-current"),children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}));Checkbox.displayName=Checkbox$1.displayName;function BoolInput({label:_,value:R,onChange:O,disabled:I,description:F}){return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 w-32 shrink-0",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs",children:_}),F&&jsxRuntimeExports.jsx(HelpPopover,{content:F})]}),jsxRuntimeExports.jsx(Checkbox,{checked:R,onCheckedChange:z=>O(z===!0),disabled:I})]})}function clamp$1(_,[R,O]){return Math.min(O,Math.max(R,_))}function createSlot$2(_){const R=createSlotClone$2(_),O=reactExports.forwardRef((I,F)=>{const{children:z,...L}=I,U=reactExports.Children.toArray(z),q=U.find(isSlottable$2);if(q){const G=q.props.children,V=U.map(Z=>Z===q?reactExports.Children.count(G)>1?reactExports.Children.only(null):reactExports.isValidElement(G)?G.props.children:null:Z);return jsxRuntimeExports.jsx(R,{...L,ref:F,children:reactExports.isValidElement(G)?reactExports.cloneElement(G,void 0,V):null})}return jsxRuntimeExports.jsx(R,{...L,ref:F,children:z})});return O.displayName=`${_}.Slot`,O}function createSlotClone$2(_){const R=reactExports.forwardRef((O,I)=>{const{children:F,...z}=O;if(reactExports.isValidElement(F)){const L=getElementRef$2(F),U=mergeProps$2(z,F.props);return F.type!==reactExports.Fragment&&(U.ref=I?composeRefs(I,L):L),reactExports.cloneElement(F,U)}return reactExports.Children.count(F)>1?reactExports.Children.only(null):null});return R.displayName=`${_}.SlotClone`,R}var SLOTTABLE_IDENTIFIER$2=Symbol("radix.slottable");function isSlottable$2(_){return reactExports.isValidElement(_)&&typeof _.type=="function"&&"__radixId"in _.type&&_.type.__radixId===SLOTTABLE_IDENTIFIER$2}function mergeProps$2(_,R){const O={...R};for(const I in R){const F=_[I],z=R[I];/^on[A-Z]/.test(I)?F&&z?O[I]=(...U)=>{const q=z(...U);return F(...U),q}:F&&(O[I]=F):I==="style"?O[I]={...F,...z}:I==="className"&&(O[I]=[F,z].filter(Boolean).join(" "))}return{..._,...O}}function getElementRef$2(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,O=R&&"isReactWarning"in R&&R.isReactWarning;return O?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,O=R&&"isReactWarning"in R&&R.isReactWarning,O?_.props.ref:_.props.ref||_.ref)}function createCollection(_){const R=_+"CollectionProvider",[O,I]=createContextScope$1(R),[F,z]=O(R,{collectionRef:{current:null},itemMap:new Map}),L=ne=>{const{scope:ie,children:se}=ne,oe=React.useRef(null),le=React.useRef(new Map).current;return jsxRuntimeExports.jsx(F,{scope:ie,itemMap:le,collectionRef:oe,children:se})};L.displayName=R;const U=_+"CollectionSlot",q=createSlot$2(U),G=React.forwardRef((ne,ie)=>{const{scope:se,children:oe}=ne,le=z(U,se),ue=useComposedRefs(ie,le.collectionRef);return jsxRuntimeExports.jsx(q,{ref:ue,children:oe})});G.displayName=U;const V=_+"CollectionItemSlot",Z="data-radix-collection-item",Y=createSlot$2(V),W=React.forwardRef((ne,ie)=>{const{scope:se,children:oe,...le}=ne,ue=React.useRef(null),ce=useComposedRefs(ie,ue),fe=z(V,se);return React.useEffect(()=>(fe.itemMap.set(ue,{ref:ue,...le}),()=>{fe.itemMap.delete(ue)})),jsxRuntimeExports.jsx(Y,{[Z]:"",ref:ce,children:oe})});W.displayName=V;function ee(ne){const ie=z(_+"CollectionConsumer",ne);return React.useCallback(()=>{const oe=ie.collectionRef.current;if(!oe)return[];const le=Array.from(oe.querySelectorAll(`[${Z}]`));return Array.from(ie.itemMap.values()).sort((fe,me)=>le.indexOf(fe.ref.current)-le.indexOf(me.ref.current))},[ie.collectionRef,ie.itemMap])}return[{Provider:L,Slot:G,ItemSlot:W},ee,I]}var DirectionContext=reactExports.createContext(void 0);function useDirection(_){const R=reactExports.useContext(DirectionContext);return _||R||"ltr"}function createSlot$1(_){const R=createSlotClone$1(_),O=reactExports.forwardRef((I,F)=>{const{children:z,...L}=I,U=reactExports.Children.toArray(z),q=U.find(isSlottable$1);if(q){const G=q.props.children,V=U.map(Z=>Z===q?reactExports.Children.count(G)>1?reactExports.Children.only(null):reactExports.isValidElement(G)?G.props.children:null:Z);return jsxRuntimeExports.jsx(R,{...L,ref:F,children:reactExports.isValidElement(G)?reactExports.cloneElement(G,void 0,V):null})}return jsxRuntimeExports.jsx(R,{...L,ref:F,children:z})});return O.displayName=`${_}.Slot`,O}function createSlotClone$1(_){const R=reactExports.forwardRef((O,I)=>{const{children:F,...z}=O;if(reactExports.isValidElement(F)){const L=getElementRef$1(F),U=mergeProps$1(z,F.props);return F.type!==reactExports.Fragment&&(U.ref=I?composeRefs(I,L):L),reactExports.cloneElement(F,U)}return reactExports.Children.count(F)>1?reactExports.Children.only(null):null});return R.displayName=`${_}.SlotClone`,R}var SLOTTABLE_IDENTIFIER$1=Symbol("radix.slottable");function isSlottable$1(_){return reactExports.isValidElement(_)&&typeof _.type=="function"&&"__radixId"in _.type&&_.type.__radixId===SLOTTABLE_IDENTIFIER$1}function mergeProps$1(_,R){const O={...R};for(const I in R){const F=_[I],z=R[I];/^on[A-Z]/.test(I)?F&&z?O[I]=(...U)=>{const q=z(...U);return F(...U),q}:F&&(O[I]=F):I==="style"?O[I]={...F,...z}:I==="className"&&(O[I]=[F,z].filter(Boolean).join(" "))}return{..._,...O}}function getElementRef$1(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,O=R&&"isReactWarning"in R&&R.isReactWarning;return O?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,O=R&&"isReactWarning"in R&&R.isReactWarning,O?_.props.ref:_.props.ref||_.ref)}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME$2="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((_,R)=>jsxRuntimeExports.jsx(Primitive$2.span,{..._,ref:R,style:{...VISUALLY_HIDDEN_STYLES,..._.style}}));VisuallyHidden.displayName=NAME$2;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection(SELECT_NAME),[createSelectContext]=createContextScope$1(SELECT_NAME,[createCollectionScope$3,createPopperScope]),usePopperScope=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=_=>{const{__scopeSelect:R,children:O,open:I,defaultOpen:F,onOpenChange:z,value:L,defaultValue:U,onValueChange:q,dir:G,name:V,autoComplete:Z,disabled:Y,required:W,form:ee}=_,ne=usePopperScope(R),[ie,se]=reactExports.useState(null),[oe,le]=reactExports.useState(null),[ue,ce]=reactExports.useState(!1),fe=useDirection(G),[me,he]=useControllableState({prop:I,defaultProp:F??!1,onChange:z,caller:SELECT_NAME}),[pe,ge]=useControllableState({prop:L,defaultProp:U,onChange:q,caller:SELECT_NAME}),_e=reactExports.useRef(null),ye=ie?ee||!!ie.closest("form"):!0,[we,ve]=reactExports.useState(new Set),$e=Array.from(we).map(be=>be.props.value).join(";");return jsxRuntimeExports.jsx(Root2$4,{...ne,children:jsxRuntimeExports.jsxs(SelectProvider,{required:W,scope:R,trigger:ie,onTriggerChange:se,valueNode:oe,onValueNodeChange:le,valueNodeHasChildren:ue,onValueNodeHasChildrenChange:ce,contentId:useId(),value:pe,onValueChange:ge,open:me,onOpenChange:he,dir:fe,triggerPointerDownPosRef:_e,disabled:Y,children:[jsxRuntimeExports.jsx(Collection$3.Provider,{scope:R,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:_.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(be=>{ve(Ce=>new Set(Ce).add(be))},[]),onNativeOptionRemove:reactExports.useCallback(be=>{ve(Ce=>{const De=new Set(Ce);return De.delete(be),De})},[]),children:O})}),ye?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:W,tabIndex:-1,name:V,autoComplete:Z,value:pe,onChange:be=>ge(be.target.value),disabled:Y,form:ee,children:[pe===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(we)]},$e):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$4="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:O,disabled:I=!1,...F}=_,z=usePopperScope(O),L=useSelectContext(TRIGGER_NAME$4,O),U=L.disabled||I,q=useComposedRefs(R,L.onTriggerChange),G=useCollection$3(O),V=reactExports.useRef("touch"),[Z,Y,W]=useTypeaheadSearch(ne=>{const ie=G().filter(le=>!le.disabled),se=ie.find(le=>le.value===L.value),oe=findNextItem(ie,ne,se);oe!==void 0&&L.onValueChange(oe.value)}),ee=ne=>{U||(L.onOpenChange(!0),W()),ne&&(L.triggerPointerDownPosRef.current={x:Math.round(ne.pageX),y:Math.round(ne.pageY)})};return jsxRuntimeExports.jsx(Anchor$1,{asChild:!0,...z,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"combobox","aria-controls":L.contentId,"aria-expanded":L.open,"aria-required":L.required,"aria-autocomplete":"none",dir:L.dir,"data-state":L.open?"open":"closed",disabled:U,"data-disabled":U?"":void 0,"data-placeholder":shouldShowPlaceholder(L.value)?"":void 0,...F,ref:q,onClick:composeEventHandlers$1(F.onClick,ne=>{ne.currentTarget.focus(),V.current!=="mouse"&&ee(ne)}),onPointerDown:composeEventHandlers$1(F.onPointerDown,ne=>{V.current=ne.pointerType;const ie=ne.target;ie.hasPointerCapture(ne.pointerId)&&ie.releasePointerCapture(ne.pointerId),ne.button===0&&ne.ctrlKey===!1&&ne.pointerType==="mouse"&&(ee(ne),ne.preventDefault())}),onKeyDown:composeEventHandlers$1(F.onKeyDown,ne=>{const ie=Z.current!=="";!(ne.ctrlKey||ne.altKey||ne.metaKey)&&ne.key.length===1&&Y(ne.key),!(ie&&ne.key===" ")&&OPEN_KEYS.includes(ne.key)&&(ee(),ne.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$4;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:O,className:I,style:F,children:z,placeholder:L="",...U}=_,q=useSelectContext(VALUE_NAME,O),{onValueNodeHasChildrenChange:G}=q,V=z!==void 0,Z=useComposedRefs(R,q.onValueNodeChange);return useLayoutEffect2(()=>{G(V)},[G,V]),jsxRuntimeExports.jsx(Primitive$2.span,{...U,ref:Z,style:{pointerEvents:"none"},children:shouldShowPlaceholder(q.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:L}):z})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((_,R)=>{const{__scopeSelect:O,children:I,...F}=_;return jsxRuntimeExports.jsx(Primitive$2.span,{"aria-hidden":!0,...F,ref:R,children:I||""})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME$1="SelectPortal",SelectPortal=_=>jsxRuntimeExports.jsx(Portal$3,{asChild:!0,..._});SelectPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$4="SelectContent",SelectContent$1=reactExports.forwardRef((_,R)=>{const O=useSelectContext(CONTENT_NAME$4,_.__scopeSelect),[I,F]=reactExports.useState();if(useLayoutEffect2(()=>{F(new DocumentFragment)},[]),!O.open){const z=I;return z?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:_.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$3.Slot,{scope:_.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:_.children})})}),z):null}return jsxRuntimeExports.jsx(SelectContentImpl,{..._,ref:R})});SelectContent$1.displayName=CONTENT_NAME$4;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$4),CONTENT_IMPL_NAME="SelectContentImpl",Slot$1=createSlot$1("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((_,R)=>{const{__scopeSelect:O,position:I="item-aligned",onCloseAutoFocus:F,onEscapeKeyDown:z,onPointerDownOutside:L,side:U,sideOffset:q,align:G,alignOffset:V,arrowPadding:Z,collisionBoundary:Y,collisionPadding:W,sticky:ee,hideWhenDetached:ne,avoidCollisions:ie,...se}=_,oe=useSelectContext(CONTENT_NAME$4,O),[le,ue]=reactExports.useState(null),[ce,fe]=reactExports.useState(null),me=useComposedRefs(R,Ze=>ue(Ze)),[he,pe]=reactExports.useState(null),[ge,_e]=reactExports.useState(null),ye=useCollection$3(O),[we,ve]=reactExports.useState(!1),$e=reactExports.useRef(!1);reactExports.useEffect(()=>{if(le)return hideOthers(le)},[le]),useFocusGuards();const be=reactExports.useCallback(Ze=>{const[Le,...ke]=ye().map(He=>He.ref.current),[Ge]=ke.slice(-1),Ke=document.activeElement;for(const He of Ze)if(He===Ke||(He?.scrollIntoView({block:"nearest"}),He===Le&&ce&&(ce.scrollTop=0),He===Ge&&ce&&(ce.scrollTop=ce.scrollHeight),He?.focus(),document.activeElement!==Ke))return},[ye,ce]),Ce=reactExports.useCallback(()=>be([he,le]),[be,he,le]);reactExports.useEffect(()=>{we&&Ce()},[we,Ce]);const{onOpenChange:De,triggerPointerDownPosRef:Ne}=oe;reactExports.useEffect(()=>{if(le){let Ze={x:0,y:0};const Le=Ge=>{Ze={x:Math.abs(Math.round(Ge.pageX)-(Ne.current?.x??0)),y:Math.abs(Math.round(Ge.pageY)-(Ne.current?.y??0))}},ke=Ge=>{Ze.x<=10&&Ze.y<=10?Ge.preventDefault():le.contains(Ge.target)||De(!1),document.removeEventListener("pointermove",Le),Ne.current=null};return Ne.current!==null&&(document.addEventListener("pointermove",Le),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Le),document.removeEventListener("pointerup",ke,{capture:!0})}}},[le,De,Ne]),reactExports.useEffect(()=>{const Ze=()=>De(!1);return window.addEventListener("blur",Ze),window.addEventListener("resize",Ze),()=>{window.removeEventListener("blur",Ze),window.removeEventListener("resize",Ze)}},[De]);const[Me,Te]=useTypeaheadSearch(Ze=>{const Le=ye().filter(Ke=>!Ke.disabled),ke=Le.find(Ke=>Ke.ref.current===document.activeElement),Ge=findNextItem(Le,Ze,ke);Ge&&setTimeout(()=>Ge.ref.current.focus())}),Re=reactExports.useCallback((Ze,Le,ke)=>{const Ge=!$e.current&&!ke;(oe.value!==void 0&&oe.value===Le||Ge)&&(pe(Ze),Ge&&($e.current=!0))},[oe.value]),Se=reactExports.useCallback(()=>le?.focus(),[le]),ze=reactExports.useCallback((Ze,Le,ke)=>{const Ge=!$e.current&&!ke;(oe.value!==void 0&&oe.value===Le||Ge)&&_e(Ze)},[oe.value]),Pe=I==="popper"?SelectPopperPosition:SelectItemAlignedPosition,Qe=Pe===SelectPopperPosition?{side:U,sideOffset:q,align:G,alignOffset:V,arrowPadding:Z,collisionBoundary:Y,collisionPadding:W,sticky:ee,hideWhenDetached:ne,avoidCollisions:ie}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:O,content:le,viewport:ce,onViewportChange:fe,itemRefCallback:Re,selectedItem:he,onItemLeave:Se,itemTextRefCallback:ze,focusSelectedItem:Ce,selectedItemText:ge,position:I,isPositioned:we,searchRef:Me,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$1,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:oe.open,onMountAutoFocus:Ze=>{Ze.preventDefault()},onUnmountAutoFocus:composeEventHandlers$1(F,Ze=>{oe.trigger?.focus({preventScroll:!0}),Ze.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:z,onPointerDownOutside:L,onFocusOutside:Ze=>Ze.preventDefault(),onDismiss:()=>oe.onOpenChange(!1),children:jsxRuntimeExports.jsx(Pe,{role:"listbox",id:oe.contentId,"data-state":oe.open?"open":"closed",dir:oe.dir,onContextMenu:Ze=>Ze.preventDefault(),...se,...Qe,onPlaced:()=>ve(!0),ref:me,style:{display:"flex",flexDirection:"column",outline:"none",...se.style},onKeyDown:composeEventHandlers$1(se.onKeyDown,Ze=>{const Le=Ze.ctrlKey||Ze.altKey||Ze.metaKey;if(Ze.key==="Tab"&&Ze.preventDefault(),!Le&&Ze.key.length===1&&Te(Ze.key),["ArrowUp","ArrowDown","Home","End"].includes(Ze.key)){let Ge=ye().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);if(["ArrowUp","End"].includes(Ze.key)&&(Ge=Ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ze.key)){const Ke=Ze.target,He=Ge.indexOf(Ke);Ge=Ge.slice(He+1)}setTimeout(()=>be(Ge)),Ze.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((_,R)=>{const{__scopeSelect:O,onPlaced:I,...F}=_,z=useSelectContext(CONTENT_NAME$4,O),L=useSelectContentContext(CONTENT_NAME$4,O),[U,q]=reactExports.useState(null),[G,V]=reactExports.useState(null),Z=useComposedRefs(R,me=>V(me)),Y=useCollection$3(O),W=reactExports.useRef(!1),ee=reactExports.useRef(!0),{viewport:ne,selectedItem:ie,selectedItemText:se,focusSelectedItem:oe}=L,le=reactExports.useCallback(()=>{if(z.trigger&&z.valueNode&&U&&G&&ne&&ie&&se){const me=z.trigger.getBoundingClientRect(),he=G.getBoundingClientRect(),pe=z.valueNode.getBoundingClientRect(),ge=se.getBoundingClientRect();if(z.dir!=="rtl"){const Ke=ge.left-he.left,He=pe.left-Ke,st=me.left-He,Ae=me.width+st,tt=Math.max(Ae,he.width),rt=window.innerWidth-CONTENT_MARGIN,We=clamp$1(He,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,rt-tt)]);U.style.minWidth=Ae+"px",U.style.left=We+"px"}else{const Ke=he.right-ge.right,He=window.innerWidth-pe.right-Ke,st=window.innerWidth-me.right-He,Ae=me.width+st,tt=Math.max(Ae,he.width),rt=window.innerWidth-CONTENT_MARGIN,We=clamp$1(He,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,rt-tt)]);U.style.minWidth=Ae+"px",U.style.right=We+"px"}const _e=Y(),ye=window.innerHeight-CONTENT_MARGIN*2,we=ne.scrollHeight,ve=window.getComputedStyle(G),$e=parseInt(ve.borderTopWidth,10),be=parseInt(ve.paddingTop,10),Ce=parseInt(ve.borderBottomWidth,10),De=parseInt(ve.paddingBottom,10),Ne=$e+be+we+De+Ce,Me=Math.min(ie.offsetHeight*5,Ne),Te=window.getComputedStyle(ne),Re=parseInt(Te.paddingTop,10),Se=parseInt(Te.paddingBottom,10),ze=me.top+me.height/2-CONTENT_MARGIN,Pe=ye-ze,Qe=ie.offsetHeight/2,Ze=ie.offsetTop+Qe,Le=$e+be+Ze,ke=Ne-Le;if(Le<=ze){const Ke=_e.length>0&&ie===_e[_e.length-1].ref.current;U.style.bottom="0px";const He=G.clientHeight-ne.offsetTop-ne.offsetHeight,st=Math.max(Pe,Qe+(Ke?Se:0)+He+Ce),Ae=Le+st;U.style.height=Ae+"px"}else{const Ke=_e.length>0&&ie===_e[0].ref.current;U.style.top="0px";const st=Math.max(ze,$e+ne.offsetTop+(Ke?Re:0)+Qe)+ke;U.style.height=st+"px",ne.scrollTop=Le-ze+ne.offsetTop}U.style.margin=`${CONTENT_MARGIN}px 0`,U.style.minHeight=Me+"px",U.style.maxHeight=ye+"px",I?.(),requestAnimationFrame(()=>W.current=!0)}},[Y,z.trigger,z.valueNode,U,G,ne,ie,se,z.dir,I]);useLayoutEffect2(()=>le(),[le]);const[ue,ce]=reactExports.useState();useLayoutEffect2(()=>{G&&ce(window.getComputedStyle(G).zIndex)},[G]);const fe=reactExports.useCallback(me=>{me&&ee.current===!0&&(le(),oe?.(),ee.current=!1)},[le,oe]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:O,contentWrapper:U,shouldExpandOnScrollRef:W,onScrollButtonChange:fe,children:jsxRuntimeExports.jsx("div",{ref:q,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:ue},children:jsxRuntimeExports.jsx(Primitive$2.div,{...F,ref:Z,style:{boxSizing:"border-box",maxHeight:"100%",...F.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((_,R)=>{const{__scopeSelect:O,align:I="start",collisionPadding:F=CONTENT_MARGIN,...z}=_,L=usePopperScope(O);return jsxRuntimeExports.jsx(Content$3,{...L,...z,ref:R,align:I,collisionPadding:F,style:{boxSizing:"border-box",...z.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$4,{}),VIEWPORT_NAME$1="SelectViewport",SelectViewport=reactExports.forwardRef((_,R)=>{const{__scopeSelect:O,nonce:I,...F}=_,z=useSelectContentContext(VIEWPORT_NAME$1,O),L=useSelectViewportContext(VIEWPORT_NAME$1,O),U=useComposedRefs(R,z.onViewportChange),q=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:I}),jsxRuntimeExports.jsx(Collection$3.Slot,{scope:O,children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-radix-select-viewport":"",role:"presentation",...F,ref:U,style:{position:"relative",flex:1,overflow:"hidden auto",...F.style},onScroll:composeEventHandlers$1(F.onScroll,G=>{const V=G.currentTarget,{contentWrapper:Z,shouldExpandOnScrollRef:Y}=L;if(Y?.current&&Z){const W=Math.abs(q.current-V.scrollTop);if(W>0){const ee=window.innerHeight-CONTENT_MARGIN*2,ne=parseFloat(Z.style.minHeight),ie=parseFloat(Z.style.height),se=Math.max(ne,ie);if(se<ee){const oe=se+W,le=Math.min(ee,oe),ue=oe-le;Z.style.height=le+"px",Z.style.bottom==="0px"&&(V.scrollTop=ue>0?ue:0,Z.style.justifyContent="flex-end")}}}q.current=V.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME$1;var GROUP_NAME$1="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME$1),SelectGroup$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:O,...I}=_,F=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:O,id:F,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"group","aria-labelledby":F,...I,ref:R})})});SelectGroup$1.displayName=GROUP_NAME$1;var LABEL_NAME="SelectLabel",SelectLabel$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:O,...I}=_,F=useSelectGroupContext(LABEL_NAME,O);return jsxRuntimeExports.jsx(Primitive$2.div,{id:F.id,...I,ref:R})});SelectLabel$1.displayName=LABEL_NAME;var ITEM_NAME$2="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME$2),SelectItem$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:O,value:I,disabled:F=!1,textValue:z,...L}=_,U=useSelectContext(ITEM_NAME$2,O),q=useSelectContentContext(ITEM_NAME$2,O),G=U.value===I,[V,Z]=reactExports.useState(z??""),[Y,W]=reactExports.useState(!1),ee=useComposedRefs(R,oe=>q.itemRefCallback?.(oe,I,F)),ne=useId(),ie=reactExports.useRef("touch"),se=()=>{F||(U.onValueChange(I),U.onOpenChange(!1))};if(I==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:O,value:I,disabled:F,textId:ne,isSelected:G,onItemTextChange:reactExports.useCallback(oe=>{Z(le=>le||(oe?.textContent??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:O,value:I,disabled:F,textValue:V,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"option","aria-labelledby":ne,"data-highlighted":Y?"":void 0,"aria-selected":G&&Y,"data-state":G?"checked":"unchecked","aria-disabled":F||void 0,"data-disabled":F?"":void 0,tabIndex:F?void 0:-1,...L,ref:ee,onFocus:composeEventHandlers$1(L.onFocus,()=>W(!0)),onBlur:composeEventHandlers$1(L.onBlur,()=>W(!1)),onClick:composeEventHandlers$1(L.onClick,()=>{ie.current!=="mouse"&&se()}),onPointerUp:composeEventHandlers$1(L.onPointerUp,()=>{ie.current==="mouse"&&se()}),onPointerDown:composeEventHandlers$1(L.onPointerDown,oe=>{ie.current=oe.pointerType}),onPointerMove:composeEventHandlers$1(L.onPointerMove,oe=>{ie.current=oe.pointerType,F?q.onItemLeave?.():ie.current==="mouse"&&oe.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers$1(L.onPointerLeave,oe=>{oe.currentTarget===document.activeElement&&q.onItemLeave?.()}),onKeyDown:composeEventHandlers$1(L.onKeyDown,oe=>{q.searchRef?.current!==""&&oe.key===" "||(SELECTION_KEYS.includes(oe.key)&&se(),oe.key===" "&&oe.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME$2;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((_,R)=>{const{__scopeSelect:O,className:I,style:F,...z}=_,L=useSelectContext(ITEM_TEXT_NAME,O),U=useSelectContentContext(ITEM_TEXT_NAME,O),q=useSelectItemContext(ITEM_TEXT_NAME,O),G=useSelectNativeOptionsContext(ITEM_TEXT_NAME,O),[V,Z]=reactExports.useState(null),Y=useComposedRefs(R,se=>Z(se),q.onItemTextChange,se=>U.itemTextRefCallback?.(se,q.value,q.disabled)),W=V?.textContent,ee=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:q.value,disabled:q.disabled,children:W},q.value),[q.disabled,q.value,W]),{onNativeOptionAdd:ne,onNativeOptionRemove:ie}=G;return useLayoutEffect2(()=>(ne(ee),()=>ie(ee)),[ne,ie,ee]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive$2.span,{id:q.textId,...z,ref:Y}),q.isSelected&&L.valueNode&&!L.valueNodeHasChildren?reactDomExports.createPortal(z.children,L.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((_,R)=>{const{__scopeSelect:O,...I}=_;return useSelectItemContext(ITEM_INDICATOR_NAME,O).isSelected?jsxRuntimeExports.jsx(Primitive$2.span,{"aria-hidden":!0,...I,ref:R}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((_,R)=>{const O=useSelectContentContext(SCROLL_UP_BUTTON_NAME,_.__scopeSelect),I=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,_.__scopeSelect),[F,z]=reactExports.useState(!1),L=useComposedRefs(R,I.onScrollButtonChange);return useLayoutEffect2(()=>{if(O.viewport&&O.isPositioned){let U=function(){const G=q.scrollTop>0;z(G)};const q=O.viewport;return U(),q.addEventListener("scroll",U),()=>q.removeEventListener("scroll",U)}},[O.viewport,O.isPositioned]),F?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{..._,ref:L,onAutoScroll:()=>{const{viewport:U,selectedItem:q}=O;U&&q&&(U.scrollTop=U.scrollTop-q.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((_,R)=>{const O=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,_.__scopeSelect),I=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,_.__scopeSelect),[F,z]=reactExports.useState(!1),L=useComposedRefs(R,I.onScrollButtonChange);return useLayoutEffect2(()=>{if(O.viewport&&O.isPositioned){let U=function(){const G=q.scrollHeight-q.clientHeight,V=Math.ceil(q.scrollTop)<G;z(V)};const q=O.viewport;return U(),q.addEventListener("scroll",U),()=>q.removeEventListener("scroll",U)}},[O.viewport,O.isPositioned]),F?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{..._,ref:L,onAutoScroll:()=>{const{viewport:U,selectedItem:q}=O;U&&q&&(U.scrollTop=U.scrollTop+q.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((_,R)=>{const{__scopeSelect:O,onAutoScroll:I,...F}=_,z=useSelectContentContext("SelectScrollButton",O),L=reactExports.useRef(null),U=useCollection$3(O),q=reactExports.useCallback(()=>{L.current!==null&&(window.clearInterval(L.current),L.current=null)},[]);return reactExports.useEffect(()=>()=>q(),[q]),useLayoutEffect2(()=>{U().find(V=>V.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[U]),jsxRuntimeExports.jsx(Primitive$2.div,{"aria-hidden":!0,...F,ref:R,style:{flexShrink:0,...F.style},onPointerDown:composeEventHandlers$1(F.onPointerDown,()=>{L.current===null&&(L.current=window.setInterval(I,50))}),onPointerMove:composeEventHandlers$1(F.onPointerMove,()=>{z.onItemLeave?.(),L.current===null&&(L.current=window.setInterval(I,50))}),onPointerLeave:composeEventHandlers$1(F.onPointerLeave,()=>{q()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:O,...I}=_;return jsxRuntimeExports.jsx(Primitive$2.div,{"aria-hidden":!0,...I,ref:R})});SelectSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME="SelectArrow",SelectArrow=reactExports.forwardRef((_,R)=>{const{__scopeSelect:O,...I}=_,F=usePopperScope(O),z=useSelectContext(ARROW_NAME,O),L=useSelectContentContext(ARROW_NAME,O);return z.open&&L.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...F,...I,ref:R}):null});SelectArrow.displayName=ARROW_NAME;var BUBBLE_INPUT_NAME$1="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:_,value:R,...O},I)=>{const F=reactExports.useRef(null),z=useComposedRefs(I,F),L=usePrevious(R);return reactExports.useEffect(()=>{const U=F.current;if(!U)return;const q=window.HTMLSelectElement.prototype,V=Object.getOwnPropertyDescriptor(q,"value").set;if(L!==R&&V){const Z=new Event("change",{bubbles:!0});V.call(U,R),U.dispatchEvent(Z)}},[L,R]),jsxRuntimeExports.jsx(Primitive$2.select,{...O,style:{...VISUALLY_HIDDEN_STYLES,...O.style},ref:z,defaultValue:R})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME$1;function shouldShowPlaceholder(_){return _===""||_===void 0}function useTypeaheadSearch(_){const R=useCallbackRef$1(_),O=reactExports.useRef(""),I=reactExports.useRef(0),F=reactExports.useCallback(L=>{const U=O.current+L;R(U),(function q(G){O.current=G,window.clearTimeout(I.current),G!==""&&(I.current=window.setTimeout(()=>q(""),1e3))})(U)},[R]),z=reactExports.useCallback(()=>{O.current="",window.clearTimeout(I.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(I.current),[]),[O,F,z]}function findNextItem(_,R,O){const F=R.length>1&&Array.from(R).every(G=>G===R[0])?R[0]:R,z=O?_.indexOf(O):-1;let L=wrapArray$1(_,Math.max(z,0));F.length===1&&(L=L.filter(G=>G!==O));const q=L.find(G=>G.textValue.toLowerCase().startsWith(F.toLowerCase()));return q!==O?q:void 0}function wrapArray$1(_,R){return _.map((O,I)=>_[(R+I)%_.length])}var Root2$2=Select$1,Trigger$2=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal$1=SelectPortal,Content2$1=SelectContent$1,Viewport$1=SelectViewport,Group=SelectGroup$1,Label=SelectLabel$1,Item$2=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator$2=SelectSeparator$1;const Select=Root2$2,SelectGroup=Group,SelectValue=Value,SelectTrigger=reactExports.forwardRef(({className:_,children:R,...O},I)=>jsxRuntimeExports.jsxs(Trigger$2,{ref:I,className:cn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",_),...O,children:[R,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=Trigger$2.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:O,className:cn("flex cursor-default items-center justify-center py-1",_),...R,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:O,className:cn("flex cursor-default items-center justify-center py-1",_),...R,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=reactExports.forwardRef(({className:_,children:R,position:O="popper",...I},F)=>jsxRuntimeExports.jsx(Portal$1,{children:jsxRuntimeExports.jsxs(Content2$1,{ref:F,className:cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden bg-secondary rounded-md border text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",O==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",_),position:O,...I,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport$1,{className:cn("p-1",O==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:R}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2$1.displayName;const SelectLabel=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx(Label,{ref:O,className:cn("py-1.5 pl-8 pr-2 text-sm font-semibold",_),...R}));SelectLabel.displayName=Label.displayName;const SelectItem=reactExports.forwardRef(({className:_,children:R,...O},I)=>jsxRuntimeExports.jsxs(Item$2,{ref:I,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",_),...O,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:R})]}));SelectItem.displayName=Item$2.displayName;const SelectSeparator=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx(Separator$2,{ref:O,className:cn("-mx-1 my-1 h-px bg-muted",_),...R}));SelectSeparator.displayName=Separator$2.displayName;function ComboBox({label:_,value:R,options:O,onChange:I,disabled:F,placeholder:z,description:L}){return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 w-32 shrink-0",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs",children:_}),L&&jsxRuntimeExports.jsx(HelpPopover,{content:L})]}),jsxRuntimeExports.jsxs(Select,{value:R,onValueChange:I,disabled:F,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 text-xs w-32",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:z??"Select..."})}),jsxRuntimeExports.jsx(SelectContent,{children:O.map(U=>jsxRuntimeExports.jsx(SelectItem,{value:U.value,className:"text-xs",children:U.label},U.value))})]})]})}const PARAMETER_DESCRIPTIONS={"general.t_end":"Simulation end time in hours.","general.random_seed":"Seed for the random number generator. Using the same seed produces identical simulations.","general.p_div_out":"Probability that cell division occurs perpendicular to the epithelial plane (out-of-plane division). Value between 0 and 1.","general.full_circle":"If enabled, the tissue forms a complete circular (or elliptical) shape. Otherwise, it's an open arc.","general.w_init":"Initial width of the tissue domain.","general.h_init":"Initial height of the tissue domain.","general.perimeter":"Perimeter of the basal membrane curve. Larger values create a longer tissue.","general.aspect_ratio":"Aspect ratio $b/a$ of the ellipse. 0 = straight line, 1 = circle.","general.hard_sphere_nuclei":"If enabled, nuclei are treated as hard spheres that cannot overlap.","general.mu":`Friction coefficient $\\mu$ for overdamped dynamics:
$$\\mu \\frac{d\\mathbf{x}}{dt} = \\mathbf{F}$$`,"cell_types.R_hard":"Hard sphere radius $R_{hard}$. Nuclei cannot overlap within this radius.","cell_types.R_hard_div":"Hard sphere radius during cell division. Typically smaller to allow daughter cells to separate.","cell_types.R_soft":"Soft interaction radius $R_{soft}$. Used for repulsive forces between nearby nuclei.","cell_types.stiffness_repulsion":`Repulsion stiffness $k_{rep}$ between nuclei. Force increases as nuclei approach:
$$F_{rep} = k_{rep} \\cdot \\max\\left(0, \\frac{R_{soft} - d}{R_{soft}}\\right)$$
where $d$ is the distance between nuclei.`,"cell_types.k_apical_junction":`Apical junction spring stiffness $k_{aj}$. Controls how strongly neighboring cells' apical points are connected:
$$F_{aj} = k_{aj} \\cdot (d - d_0)$$`,"cell_types.k_cytos":"Cytoskeleton relaxation rate. Controls how quickly the cytoskeleton length adjusts to its target length.","cell_types.stiffness_apical_apical":"Stiffness for apical-to-apical interactions between neighboring cells.","cell_types.stiffness_apical_apical_div":"Apical-apical stiffness during cell division. Often reduced to allow cells to round up.","cell_types.stiffness_nuclei_apical":`Spring stiffness connecting the nucleus to the apical surface:
$$F_{na} = k_{na} \\cdot (|\\mathbf{x}_n - \\mathbf{x}_a| - L_{cytos})$$`,"cell_types.stiffness_nuclei_basal":"Spring stiffness connecting the nucleus to the basal surface.","cell_types.stiffness_straightness":"Penalty stiffness for cell straightness. Higher values keep the cell axis more aligned.","cell_types.lifespan_start":"Time (in hours) when cell division becomes possible. Set to infinity (unchecked) to disable division.","cell_types.lifespan_end":"Time (in hours) when cell division ends. Division occurs uniformly at random between start and end.","cell_types.dur_G2":"Duration of G2 phase in hours. During G2, the cell prepares for division.","cell_types.dur_mitosis":"Duration of mitosis (M phase) in hours. The cell rounds up and then divides.","cell_types.INM":"**Interkinetic Nuclear Migration** (INM). Probability that the nucleus moves toward the apical surface before division. Value between 0 (no INM) and 1 (always INM).","cell_types.N_init":"Initial number of cells of this type to spawn at simulation start.","cell_types.location":'Initial placement along the basal membrane:\n- `"top"`: upper region\n- `"bottom"`: lower region\n- `"rest"`: remaining space\n- Numeric value in $[-1, 1]$: specific position',"cell_types.diffusion":`Diffusion coefficient $D$ for random motion of the nucleus. Adds Brownian noise:
$$d\\mathbf{x} = \\sqrt{2D}\\, d\\mathbf{W}$$`,"cell_types.basal_damping_ratio":"Damping ratio for basal point motion. Higher values make basal movement more sluggish.","cell_types.max_basal_junction_dist":"Maximum distance for basal junction formation between neighboring cells.","cell_types.cytos_init":"Initial cytoskeleton length $L_{cytos}$ (distance from basal to apical point).","cell_types.basal_membrane_repulsion":"Repulsion strength keeping nuclei inside the basal membrane boundary.","cell_types.apical_junction_init":"Initial rest length for apical junctions between neighboring cells.","cell_types.max_cytoskeleton_length":"Maximum allowed cytoskeleton length. Prevents cells from stretching too far.","cell_types.run":'Probability that an extruded cell becomes a "running" cell (migrating along the basal membrane). Value between 0 and 1.',"cell_types.running_speed":"Speed of running cells in $\\mu m/h$.","cell_types.running_mode":`Running behavior mode:
- **0**: No running
- **1**: Run after extrusion (leaves tissue)
- **2**: Run but retain length (stays connected)
- **3**: Immediate running (starts running instantly)`,"cell_types.apical_cytos_strain_init":`Initial apical cytoskeleton strain. Controls the rest length scaling of the apical cytoskeleton:
- **-1**: Inactive (rest length = 0)
- **0**: No change (default)
- **> 0**: Increased rest length
- **< 0**: Decreased rest length

Formula: $drl \\times (1 + \\text{strain})$`,"cell_types.basal_cytos_strain_init":`Initial basal cytoskeleton strain. Controls the rest length scaling of the basal cytoskeleton:
- **-1**: Inactive (rest length = 0)
- **0**: No change (default)
- **> 0**: Increased rest length
- **< 0**: Decreased rest length

Formula: $drl \\times (1 + \\text{strain})$`,"cell_types.skip_default_events":"List of default event IDs that should NOT apply to this cell type. Use to opt specific cell types out of shared default events.","general.default_events":"Default events applied to all cell types. Each cell type can opt out of specific events using `skip_default_events`.","events.formula":"A **math.js** expression to compute the new parameter value. Available variables:\n\n- `old_value`: current value of the parameter\n- `t`: current simulation time (hours)\n- `dt`: timestep size\n- `period`: event repeat interval (0 if one-time)\n\n**Examples:**\n- `old_value * 0.1`  reduce to 10%\n- `old_value + 1`  increment by 1\n- `0`  set to zero\n- `sin(t) + 1`  oscillate over time","events.time_range":`Time window during which the event can trigger. A random trigger time is sampled uniformly from this range at cell birth.

Uncheck to disable the event entirely.`,"events.period":`Repeat interval in hours.
- **0** = one-time event (fires once at trigger time)
- **> 0** = periodic event (fires at trigger time, then every $period$ hours)`,"events.probability":"Probability formula evaluated at cell birth (should return 01). Can use **math.js** expressions and reference general parameters.\n\n**Examples:**\n- `1`  all cells get this event\n- `0.5`  50% of cells\n- `0`  event disabled\n- `p_div_out`  use the division-out probability from general params","events.prereq":`Prerequisite event that must fire first (on the same cell) before this event can trigger.

Use this to create event chains, e.g., "lose basal adhesion"  "start running".`,"events.cell_phase":`Cell cycle phase requirement. The event only fires if the cell has reached this phase:

- **Any**: No restriction
- **Birth**: Immediately after cell birth
- **G1**: After entering G1 phase
- **G2**: After entering G2 phase (preparing for division)
- **Mitosis**: During mitosis`,"events.special.lose_apical_adhesion":"Removes the cell's apical connections to neighbors and reduces apical stiffness (`stiffness_nuclei_apical`) to 10%. The cell's apical point detaches from the apical junction network.","events.special.lose_basal_adhesion":"Removes the cell's basal connections and reduces basal stiffness (`stiffness_nuclei_basal`) to 10%. The cell detaches from the basal membrane.","events.special.lose_apical_interface":"Severs apical links between this cell type and other cell types at the interface, while preserving links between cells of the same type. Neighboring non-interface cells are reconnected.","events.special.start_running":"Sets the cell's running mode to 3 (immediate running), enabling active migration.","events.special.cell_division":"Triggers cell division. The cell divides into two daughter cells (or resets if `p_div_out` applies). Bypasses the normal phase-based division timing.","events.special.cell_cycle_reset":"Resets the cell's cycle without dividing. The cell gets a fresh lifespan and re-sampled event trigger times, but remains a single cell.","events.overview":"# Cell Events System\n\nThe event system controls time-dependent changes to individual cells  adhesion loss, parameter modifications, division, migration, and more. Events can be **shared across all cell types** (default events) or **specific to one cell type** (per-type events).\n\n## Event Types\n\nThere are two kinds of events:\n\n- **Special events** (`S` badge): Hard-coded actions that modify the simulation state structurally.\n- **Parameter change events** (`P` badge): Modify a numeric cell parameter using a math.js formula.\n\n## Available Special Events\n\n| Name | Description |\n|------|-------------|\n| `lose_apical_adhesion` | Removes the cell's apical links and reduces apical stiffness to 10%. |\n| `lose_basal_adhesion` | Removes the cell's basal links and reduces basal stiffness to 10%. |\n| `lose_apical_interface` | Severs apical links between this cell type and other types at the interface, reconnecting non-interface neighbors. |\n| `start_running` | Sets running mode to 3, enabling active cell migration along the basal membrane. |\n| `cell_division` | Triggers cell division into two daughter cells (subject to `p_div_out`). |\n| `cell_cycle_reset` | Resets the cell cycle without dividing  fresh lifespan and re-sampled events. |\n\n## Targetable Cell Parameters\n\nParameter change events can modify these cell properties via the `target_parameter` field:\n\n`stiffness_nuclei_apical`, `stiffness_nuclei_basal`, `stiffness_straightness`, `stiffness_apical_apical`, `R_soft`, `R_hard`, `eta_A`, `eta_B`, `running_mode`, `apical_cytos_strain`, `basal_cytos_strain`\n\n## Trigger Mechanisms\n\n### Time-based triggering\nEach event has a **start** and **end** time. At cell birth, a random trigger time $t_{trigger}$ is sampled uniformly from $[\\text{start}, \\text{end}]$. The event fires when the simulation crosses $t_{trigger}$.\n\n### Phase-gated triggering\nEvents can require a **cell cycle phase** (`Any`, `G1`, `G2`, `Mitosis`, `Division`). The event only fires once the cell has reached that phase.\n\n### Phase-only triggering\nWhen both start and end are **0**, the event fires as soon as the phase requirement is met (no time sampling). This is used for INM events that should activate exactly when G2 begins.\n\n### Periodic events\nIf `period > 0`, the event repeats every `period` hours after its initial trigger.\n\n### One-time events\nIf `period = 0`, the event fires exactly once.\n\n## Probability\n\nThe **probability** field is a math.js formula evaluated at cell birth. It determines whether the event is active for that cell. Available variables:\n\n- `p_div_out`  division-out probability (general param)\n- `mu`, `h_init`, `w_init`, `t_end`  general simulation parameters\n- `INM`  interkinetic nuclear migration probability (cell type param)\n\n**Examples:** `1` (always), `0.5` (50%), `INM` (use cell type's INM value), `p_div_out` (use division probability)\n\nIf the probability evaluates to 0, the event is skipped entirely for that cell. If it evaluates to a value less than 1, each cell independently samples whether the event is active.\n\n## Formula (Parameter Change Events)\n\nThe `formula` field is a math.js expression that computes the new parameter value. Available variables:\n\n- `old_value`  current value of the target parameter\n- `t`  current simulation time (hours)\n- `dt`  timestep size\n- `period`  event repeat interval\n- `p_div_out`, `mu`, `h_init`, `w_init`, `t_end`  general params\n\n**Examples:**\n- `old_value * 0.1`  reduce to 10%\n- `old_value + 0.01 * dt`  gradual increase over time\n- `-1`  set to -1 (e.g. for strain = inactive)\n- `2`  set to 2\n\n## Prerequisites\n\nEvents can depend on other events via the `prereq` field. A prerequisite event must have fired (on the same cell) before the dependent event can trigger. This creates event chains, e.g.:\n\n1. `lose_apical_adhesion` fires  2. `start_running` fires (prereq: `lose_apical`)\n\n## Default vs Per-Type Events\n\n**Default events** (in `general.default_events`) apply to all cell types. Each cell type can opt out of specific default events using the **skip** checkboxes.\n\n**Per-type events** (in `cell_types.X.events_v2`) apply only to that cell type. If a per-type event has the same ID as a default event, the per-type event takes precedence.\n\n## Daughter Cell Events\n\nWhen a cell divides, daughter cells get **fresh event states**  new trigger times are sampled, and one-time events can fire again. This ensures each cell has its own independent event lifecycle.\n\n## Built-in Default Events\n\nThe following events are included by default:\n\n| Event | Probability | Phase | Description |\n|-------|-------------|-------|-------------|\n| Cell Division | `p_div_out` | Division | Triggers cell division when the cell reaches Division phase |\n| Increase R_hard | `1` | Any | Gradually increases hard radius: `old_value + 0.01 * dt` (periodic, every 0.1h) |\n| INM: Contract Apical | `INM` | G2 | Sets apical strain to -1 (contracts apical cytoskeleton) |\n| INM: Extend Basal | `1` (prereq: apical) | G2 | Sets basal strain to 2 (extends basal cytoskeleton) |\n"};function getParameterDescription(_){return PARAMETER_DESCRIPTIONS[_]}function EHTParametersTab({params:_,onChange:R,disabled:O}){const I=(L,U)=>{const q=structuredClone(_);q.general[L]=U,R(q)},F=_.general,z=L=>getParameterDescription(`general.${L}`);return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"General"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(NumberInput$1,{label:"End Time (h)",value:F.t_end,onChange:L=>I("t_end",L),disabled:O,min:0,description:z("t_end")}),jsxRuntimeExports.jsx(IntegerInput,{label:"Random Seed",value:F.random_seed,onChange:L=>I("random_seed",L),disabled:O,description:z("random_seed")}),jsxRuntimeExports.jsx(NumberInput$1,{label:"Out-of-plane Division Prob.",value:F.p_div_out,onChange:L=>I("p_div_out",L),disabled:O,min:0,max:1,description:z("p_div_out")})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Geometry"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(BoolInput,{label:"Full Circle",value:F.full_circle,onChange:L=>I("full_circle",L),disabled:O,description:z("full_circle")}),jsxRuntimeExports.jsx(NumberInput$1,{label:"Initial Width",value:F.w_init,onChange:L=>I("w_init",L),disabled:O,min:0,description:z("w_init")}),jsxRuntimeExports.jsx(NumberInput$1,{label:"Initial Height",value:F.h_init,onChange:L=>I("h_init",L),disabled:O,min:0,description:z("h_init")}),jsxRuntimeExports.jsx(NumberInput$1,{label:"Perimeter",value:F.perimeter,onChange:L=>I("perimeter",L),disabled:O,min:1,description:z("perimeter")}),jsxRuntimeExports.jsx(NumberInput$1,{label:"Aspect (0=line, b/a)",value:F.aspect_ratio,onChange:L=>I("aspect_ratio",L),disabled:O,description:z("aspect_ratio")})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Model Parameters"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(BoolInput,{label:"Hard Sphere Nuclei",value:F.hard_sphere_nuclei,onChange:L=>I("hard_sphere_nuclei",L),disabled:O,description:z("hard_sphere_nuclei")}),jsxRuntimeExports.jsx(NumberInput$1,{label:"Friction (mu)",value:F.mu,onChange:L=>I("mu",L),disabled:O,min:0,description:z("mu")})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Display"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(IntegerInput,{label:"Screen Width",value:F.w_screen,onChange:L=>I("w_screen",L),disabled:O,min:10}),jsxRuntimeExports.jsx(IntegerInput,{label:"Screen Height",value:F.h_screen,onChange:L=>I("h_screen",L),disabled:O,min:10})]})]})]})}const buttonVariants=cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-play text-play-foreground hover:bg-play/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:_,variant:R,size:O,asChild:I=!1,...F},z)=>{const L=I?Slot$3:"button";return jsxRuntimeExports.jsx(L,{className:cn(buttonVariants({variant:R,size:O,className:_})),ref:z,...F})});Button.displayName="Button";const SECTIONS=[{key:"initial",label:"Initial Setup",fields:["N_init","location"]},{key:"geometry",label:"Geometry",fields:["R_hard","R_hard_div","R_soft"]},{key:"appearance",label:"Appearance",fields:["color"]},{key:"stiffness",label:"Stiffness",fields:["k_apical_junction","k_cytos","stiffness_apical_apical","stiffness_apical_apical_div","stiffness_nuclei_apical","stiffness_nuclei_basal","stiffness_repulsion","stiffness_straightness"]},{key:"strain",label:"Cytoskeleton Strain",fields:["apical_cytos_strain_init","basal_cytos_strain_init"]},{key:"division",label:"Division & Lifecycle",fields:["lifespan_start","lifespan_end","dur_G2","dur_mitosis","INM"]},{key:"cellTypeProps",label:"Cell-Type Properties",fields:["diffusion","basal_damping_ratio","max_basal_junction_dist","cytos_init","basal_membrane_repulsion","apical_junction_init","max_cytoskeleton_length"]},{key:"running",label:"Running Behavior",fields:["run","running_speed","running_mode"]}];function CellTypeRow({label:_,tooltip:R,description:O,children:I}){return jsxRuntimeExports.jsxs("tr",{className:"border-b border-border/50 hover:bg-muted/30",children:[jsxRuntimeExports.jsx("td",{className:"py-1.5 px-2 text-xs font-medium w-36",title:R,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{children:_}),O&&jsxRuntimeExports.jsx(HelpPopover,{content:O})]})}),I]})}function NumberCell({value:_,onChange:R,disabled:O,min:I,max:F}){return jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsx(NumericTextInput,{value:_,onChange:R,disabled:O,min:I,max:F,className:"h-6 text-xs w-20"})})}function StringCell({value:_,onChange:R,disabled:O}){const I=F=>{R(F.target.value)};return jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsx(Input,{type:"text",value:_,onChange:I,disabled:O,className:"h-6 text-xs w-24"})})}function SplitRangeCell({valueStart:_,valueEnd:R,onChangeStart:O,onChangeEnd:I,disabled:F,label:z}){const L=isFinite(_),U=isFinite(R),q=Y=>{z==="start"?O(Y?0:1/0):I(Y?1:1/0)},G=z==="start"?L:U,V=z==="start"?_:R,Z=Y=>{z==="start"?O(Y):I(Y)};return jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Checkbox,{checked:G,onCheckedChange:q,disabled:F,title:"Active (enabled when checked)"}),G?jsxRuntimeExports.jsx(NumericTextInput,{value:V,onChange:Z,disabled:F,className:"h-6 text-xs w-20"}):jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground w-20",children:"-"})]})})}function rgbToHex$1(_){const R=_.r>1?_.r:Math.round(_.r*255),O=_.g>1?_.g:Math.round(_.g*255),I=_.b>1?_.b:Math.round(_.b*255);return`#${R.toString(16).padStart(2,"0")}${O.toString(16).padStart(2,"0")}${I.toString(16).padStart(2,"0")}`}function hexToRgb(_){const R=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(_);return R?{r:parseInt(R[1],16),g:parseInt(R[2],16),b:parseInt(R[3],16)}:{r:0,g:0,b:0}}function ColorCell({value:_,onChange:R,disabled:O}){const I=rgbToHex$1(_),F=z=>{const L=hexToRgb(z.target.value);R(L)};return jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsx(Input,{type:"color",value:I,onChange:F,disabled:O,className:"h-6 w-10 p-0.5 cursor-pointer"})})}function SectionHeader({section:_,cellTypeKeys:R,disabled:O,params:I,onChange:F}){const[z,L]=reactExports.useState({}),U=reactExports.useCallback(Z=>{if(Z===1/0)return"Infinity";if(Z===-1/0)return"-Infinity";if(typeof Z=="object"&&Z!==null){if(Array.isArray(Z))return Z.map(U);const Y={};for(const[W,ee]of Object.entries(Z))Y[W]=U(ee);return Y}return Z},[]),q=reactExports.useCallback(Z=>{if(Z==="Infinity")return 1/0;if(Z==="-Infinity")return-1/0;if(typeof Z=="object"&&Z!==null){if(Array.isArray(Z))return Z.map(q);const Y={};for(const[W,ee]of Object.entries(Z))Y[W]=q(ee);return Y}return Z},[]),G=reactExports.useCallback(async Z=>{const Y=I.cell_types[Z],W={};for(const ne of _.fields)W[ne]=U(structuredClone(Y[ne]));const ee=JSON.stringify({section:_.key,cellType:Z,data:W},null,2);await navigator.clipboard.writeText(ee)},[I.cell_types,_,U]),V=reactExports.useCallback(async Z=>{try{const Y=await navigator.clipboard.readText(),W=JSON.parse(Y);if(W.section!==_.key||!W.data){L(ie=>({...ie,[Z]:"error"})),setTimeout(()=>L(ie=>({...ie,[Z]:"idle"})),2e3);return}const ee=structuredClone(I),ne=ee.cell_types[Z];for(const ie of _.fields)ie in W.data&&(ne[ie]=q(structuredClone(W.data[ie])));F(ee),L(ie=>({...ie,[Z]:"success"})),setTimeout(()=>L(ie=>({...ie,[Z]:"idle"})),2e3)}catch{L(Y=>({...Y,[Z]:"error"})),setTimeout(()=>L(Y=>({...Y,[Z]:"idle"})),2e3)}},[I,_,F,q]);return jsxRuntimeExports.jsxs("tr",{className:"bg-muted/50",children:[jsxRuntimeExports.jsx("td",{className:"py-1 px-2",children:jsxRuntimeExports.jsx("span",{className:"text-xs font-semibold text-muted-foreground",children:_.label})}),R.map(Z=>jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-0.5",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>G(Z),disabled:O,className:"h-5 w-5",title:`Copy ${_.label} from ${Z}`,children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>V(Z),disabled:O,className:`h-5 w-5 ${z[Z]==="success"?"text-green-500":z[Z]==="error"?"text-red-500":""}`,title:`Paste ${_.label} to ${Z}`,children:jsxRuntimeExports.jsx(ClipboardPaste,{className:"h-3 w-3"})})]})},Z))]})}function EHTCellTypesTab({params:_,onChange:R,disabled:O}){const[I,F]=reactExports.useState(""),z=Object.keys(_.cell_types),L=(W,ee,ne)=>{const ie=structuredClone(_);ie.cell_types[W][ee]=ne,R(ie)},U=reactExports.useCallback(W=>{const ee=structuredClone(_);let ne=1,ie=`type_${ne}`;for(;ee.cell_types[ie];)ne++,ie=`type_${ne}`;if(W&&_.cell_types[W]){const se=_.cell_types[W],oe={...structuredClone(se),N_init:0,color:{r:Math.floor(Math.random()*200)+50,g:Math.floor(Math.random()*200)+50,b:Math.floor(Math.random()*200)+50}};ee.cell_types[ie]=oe}else{const se={...structuredClone(DEFAULT_CONTROL_CELL),N_init:0,location:"",color:{r:Math.floor(Math.random()*200)+50,g:Math.floor(Math.random()*200)+50,b:Math.floor(Math.random()*200)+50}};ee.cell_types[ie]=se}R(ee)},[_,R]),q=W=>{if(z.length<=1)return;const ee=structuredClone(_);delete ee.cell_types[W],R(ee)},G=(W,ee)=>{if(!ee.trim()||ee===W||_.cell_types[ee])return;const ne=structuredClone(_);ne.cell_types[ee]=ne.cell_types[W],delete ne.cell_types[W],R(ne)},V=W=>_.cell_types[W],Z=W=>getParameterDescription(`cell_types.${W}`),Y=reactExports.useCallback(()=>{U(I==="__new__"?void 0:I),F("__new__")},[U,I]);return jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto overflow-y-auto max-h-[600px]",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-end items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"Copy from:"}),jsxRuntimeExports.jsxs(Select,{value:I||"__new__",onValueChange:F,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 w-28 text-xs",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"(new)"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"__new__",children:"(new)"}),z.map(W=>jsxRuntimeExports.jsx(SelectItem,{value:W,children:W},W))]})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Y,disabled:O,className:"gap-1",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),"Add Cell Type"]})]}),jsxRuntimeExports.jsxs("table",{className:"min-w-full text-xs",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b-2 border-border",children:[jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-semibold",children:"Parameter"}),z.map(W=>jsxRuntimeExports.jsx("th",{className:"py-2 px-1 text-left",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Input,{defaultValue:W,onBlur:ee=>G(W,ee.target.value),onKeyDown:ee=>{ee.key==="Enter"&&(G(W,ee.currentTarget.value),ee.currentTarget.blur())},disabled:O,className:"h-6 text-xs font-semibold w-24"}),z.length>1&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>q(W),disabled:O,className:"h-6 w-6 text-muted-foreground hover:text-destructive",children:jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3"})})]})},W))]})}),jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[0],cellTypeKeys:z,disabled:O,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"N Init",description:Z("N_init"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).N_init,onChange:ee=>L(W,"N_init",Math.round(ee)),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Location",description:Z("location"),children:z.map(W=>jsxRuntimeExports.jsx(StringCell,{value:V(W).location,onChange:ee=>L(W,"location",ee),disabled:O},W))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[1],cellTypeKeys:z,disabled:O,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"R Hard",description:Z("R_hard"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).R_hard,onChange:ee=>L(W,"R_hard",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"R Hard (div)",description:Z("R_hard_div"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).R_hard_div,onChange:ee=>L(W,"R_hard_div",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"R Soft",description:Z("R_soft"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).R_soft,onChange:ee=>L(W,"R_soft",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[2],cellTypeKeys:z,disabled:O,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Color",children:z.map(W=>jsxRuntimeExports.jsx(ColorCell,{value:V(W).color,onChange:ee=>L(W,"color",ee),disabled:O},W))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[3],cellTypeKeys:z,disabled:O,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"k Apical Junction",description:Z("k_apical_junction"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).k_apical_junction,onChange:ee=>L(W,"k_apical_junction",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"k Cytos",description:Z("k_cytos"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).k_cytos,onChange:ee=>L(W,"k_cytos",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff Apical-Apical",description:Z("stiffness_apical_apical"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).stiffness_apical_apical,onChange:ee=>L(W,"stiffness_apical_apical",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff A-A (div)",description:Z("stiffness_apical_apical_div"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).stiffness_apical_apical_div,onChange:ee=>L(W,"stiffness_apical_apical_div",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff Nuclei-Apical",description:Z("stiffness_nuclei_apical"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).stiffness_nuclei_apical,onChange:ee=>L(W,"stiffness_nuclei_apical",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff Nuclei-Basal",description:Z("stiffness_nuclei_basal"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).stiffness_nuclei_basal,onChange:ee=>L(W,"stiffness_nuclei_basal",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff Repulsion",description:Z("stiffness_repulsion"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).stiffness_repulsion,onChange:ee=>L(W,"stiffness_repulsion",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff Straightness",description:Z("stiffness_straightness"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).stiffness_straightness,onChange:ee=>L(W,"stiffness_straightness",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[4],cellTypeKeys:z,disabled:O,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Apical Strain Init",description:Z("apical_cytos_strain_init"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).apical_cytos_strain_init,onChange:ee=>L(W,"apical_cytos_strain_init",ee),disabled:O,step:.1},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Basal Strain Init",description:Z("basal_cytos_strain_init"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).basal_cytos_strain_init,onChange:ee=>L(W,"basal_cytos_strain_init",ee),disabled:O,step:.1},W))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[5],cellTypeKeys:z,disabled:O,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Lifespan (start)",description:Z("lifespan_start"),children:z.map(W=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:V(W).lifespan_start,valueEnd:V(W).lifespan_end,onChangeStart:ee=>L(W,"lifespan_start",ee),onChangeEnd:ee=>L(W,"lifespan_end",ee),disabled:O,label:"start"},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Lifespan (end)",description:Z("lifespan_end"),children:z.map(W=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:V(W).lifespan_start,valueEnd:V(W).lifespan_end,onChangeStart:ee=>L(W,"lifespan_start",ee),onChangeEnd:ee=>L(W,"lifespan_end",ee),disabled:O,label:"end"},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"G2 Duration",description:Z("dur_G2"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).dur_G2,onChange:ee=>L(W,"dur_G2",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Mitosis Duration",description:Z("dur_mitosis"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).dur_mitosis,onChange:ee=>L(W,"dur_mitosis",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"INM",description:Z("INM"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).INM,onChange:ee=>L(W,"INM",ee),disabled:O,min:0,max:1},W))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[6],cellTypeKeys:z,disabled:O,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Diffusion",description:Z("diffusion"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).diffusion,onChange:ee=>L(W,"diffusion",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Basal Damping",description:Z("basal_damping_ratio"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).basal_damping_ratio,onChange:ee=>L(W,"basal_damping_ratio",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Max Basal Junc Dist",description:Z("max_basal_junction_dist"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).max_basal_junction_dist,onChange:ee=>L(W,"max_basal_junction_dist",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Cytos Init",description:Z("cytos_init"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).cytos_init,onChange:ee=>L(W,"cytos_init",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Basal Repulsion",description:Z("basal_membrane_repulsion"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).basal_membrane_repulsion,onChange:ee=>L(W,"basal_membrane_repulsion",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Apical Junc Init",description:Z("apical_junction_init"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).apical_junction_init,onChange:ee=>L(W,"apical_junction_init",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Max Cytos Length",description:Z("max_cytoskeleton_length"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).max_cytoskeleton_length,onChange:ee=>L(W,"max_cytoskeleton_length",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[7],cellTypeKeys:z,disabled:O,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Run Probability",description:Z("run"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).run,onChange:ee=>L(W,"run",ee),disabled:O,min:0,max:1},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Running Speed",description:Z("running_speed"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).running_speed,onChange:ee=>L(W,"running_speed",ee),disabled:O,min:0},W))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Running Mode",description:Z("running_mode"),children:z.map(W=>jsxRuntimeExports.jsx(NumberCell,{value:V(W).running_mode,onChange:ee=>L(W,"running_mode",Math.round(ee)),disabled:O,min:0,max:3},W))})]})]})]})}var COLLAPSIBLE_NAME="Collapsible",[createCollapsibleContext,createCollapsibleScope]=createContextScope$1(COLLAPSIBLE_NAME),[CollapsibleProvider,useCollapsibleContext]=createCollapsibleContext(COLLAPSIBLE_NAME),Collapsible=reactExports.forwardRef((_,R)=>{const{__scopeCollapsible:O,open:I,defaultOpen:F,disabled:z,onOpenChange:L,...U}=_,[q,G]=useControllableState({prop:I,defaultProp:F??!1,onChange:L,caller:COLLAPSIBLE_NAME});return jsxRuntimeExports.jsx(CollapsibleProvider,{scope:O,disabled:z,contentId:useId(),open:q,onOpenToggle:reactExports.useCallback(()=>G(V=>!V),[G]),children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":getState$2(q),"data-disabled":z?"":void 0,...U,ref:R})})});Collapsible.displayName=COLLAPSIBLE_NAME;var TRIGGER_NAME$3="CollapsibleTrigger",CollapsibleTrigger=reactExports.forwardRef((_,R)=>{const{__scopeCollapsible:O,...I}=_,F=useCollapsibleContext(TRIGGER_NAME$3,O);return jsxRuntimeExports.jsx(Primitive$2.button,{type:"button","aria-controls":F.contentId,"aria-expanded":F.open||!1,"data-state":getState$2(F.open),"data-disabled":F.disabled?"":void 0,disabled:F.disabled,...I,ref:R,onClick:composeEventHandlers$1(_.onClick,F.onOpenToggle)})});CollapsibleTrigger.displayName=TRIGGER_NAME$3;var CONTENT_NAME$3="CollapsibleContent",CollapsibleContent=reactExports.forwardRef((_,R)=>{const{forceMount:O,...I}=_,F=useCollapsibleContext(CONTENT_NAME$3,_.__scopeCollapsible);return jsxRuntimeExports.jsx(Presence,{present:O||F.open,children:({present:z})=>jsxRuntimeExports.jsx(CollapsibleContentImpl,{...I,ref:R,present:z})})});CollapsibleContent.displayName=CONTENT_NAME$3;var CollapsibleContentImpl=reactExports.forwardRef((_,R)=>{const{__scopeCollapsible:O,present:I,children:F,...z}=_,L=useCollapsibleContext(CONTENT_NAME$3,O),[U,q]=reactExports.useState(I),G=reactExports.useRef(null),V=useComposedRefs(R,G),Z=reactExports.useRef(0),Y=Z.current,W=reactExports.useRef(0),ee=W.current,ne=L.open||U,ie=reactExports.useRef(ne),se=reactExports.useRef(void 0);return reactExports.useEffect(()=>{const oe=requestAnimationFrame(()=>ie.current=!1);return()=>cancelAnimationFrame(oe)},[]),useLayoutEffect2(()=>{const oe=G.current;if(oe){se.current=se.current||{transitionDuration:oe.style.transitionDuration,animationName:oe.style.animationName},oe.style.transitionDuration="0s",oe.style.animationName="none";const le=oe.getBoundingClientRect();Z.current=le.height,W.current=le.width,ie.current||(oe.style.transitionDuration=se.current.transitionDuration,oe.style.animationName=se.current.animationName),q(I)}},[L.open,I]),jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":getState$2(L.open),"data-disabled":L.disabled?"":void 0,id:L.contentId,hidden:!ne,...z,ref:V,style:{"--radix-collapsible-content-height":Y?`${Y}px`:void 0,"--radix-collapsible-content-width":ee?`${ee}px`:void 0,..._.style},children:ne&&F})});function getState$2(_){return _?"open":"closed"}var Root$6=Collapsible,Trigger$1=CollapsibleTrigger,Content$2=CollapsibleContent,ACCORDION_NAME="Accordion",ACCORDION_KEYS=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(ACCORDION_NAME),[createAccordionContext]=createContextScope$1(ACCORDION_NAME,[createCollectionScope$2,createCollapsibleScope]),useCollapsibleScope=createCollapsibleScope(),Accordion$1=React.forwardRef((_,R)=>{const{type:O,...I}=_,F=I,z=I;return jsxRuntimeExports.jsx(Collection$2.Provider,{scope:_.__scopeAccordion,children:O==="multiple"?jsxRuntimeExports.jsx(AccordionImplMultiple,{...z,ref:R}):jsxRuntimeExports.jsx(AccordionImplSingle,{...F,ref:R})})});Accordion$1.displayName=ACCORDION_NAME;var[AccordionValueProvider,useAccordionValueContext]=createAccordionContext(ACCORDION_NAME),[AccordionCollapsibleProvider,useAccordionCollapsibleContext]=createAccordionContext(ACCORDION_NAME,{collapsible:!1}),AccordionImplSingle=React.forwardRef((_,R)=>{const{value:O,defaultValue:I,onValueChange:F=()=>{},collapsible:z=!1,...L}=_,[U,q]=useControllableState({prop:O,defaultProp:I??"",onChange:F,caller:ACCORDION_NAME});return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:_.__scopeAccordion,value:React.useMemo(()=>U?[U]:[],[U]),onItemOpen:q,onItemClose:React.useCallback(()=>z&&q(""),[z,q]),children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:_.__scopeAccordion,collapsible:z,children:jsxRuntimeExports.jsx(AccordionImpl,{...L,ref:R})})})}),AccordionImplMultiple=React.forwardRef((_,R)=>{const{value:O,defaultValue:I,onValueChange:F=()=>{},...z}=_,[L,U]=useControllableState({prop:O,defaultProp:I??[],onChange:F,caller:ACCORDION_NAME}),q=React.useCallback(V=>U((Z=[])=>[...Z,V]),[U]),G=React.useCallback(V=>U((Z=[])=>Z.filter(Y=>Y!==V)),[U]);return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:_.__scopeAccordion,value:L,onItemOpen:q,onItemClose:G,children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:_.__scopeAccordion,collapsible:!0,children:jsxRuntimeExports.jsx(AccordionImpl,{...z,ref:R})})})}),[AccordionImplProvider,useAccordionContext]=createAccordionContext(ACCORDION_NAME),AccordionImpl=React.forwardRef((_,R)=>{const{__scopeAccordion:O,disabled:I,dir:F,orientation:z="vertical",...L}=_,U=React.useRef(null),q=useComposedRefs(U,R),G=useCollection$2(O),Z=useDirection(F)==="ltr",Y=composeEventHandlers$1(_.onKeyDown,W=>{if(!ACCORDION_KEYS.includes(W.key))return;const ee=W.target,ne=G().filter(he=>!he.ref.current?.disabled),ie=ne.findIndex(he=>he.ref.current===ee),se=ne.length;if(ie===-1)return;W.preventDefault();let oe=ie;const le=0,ue=se-1,ce=()=>{oe=ie+1,oe>ue&&(oe=le)},fe=()=>{oe=ie-1,oe<le&&(oe=ue)};switch(W.key){case"Home":oe=le;break;case"End":oe=ue;break;case"ArrowRight":z==="horizontal"&&(Z?ce():fe());break;case"ArrowDown":z==="vertical"&&ce();break;case"ArrowLeft":z==="horizontal"&&(Z?fe():ce());break;case"ArrowUp":z==="vertical"&&fe();break}const me=oe%se;ne[me].ref.current?.focus()});return jsxRuntimeExports.jsx(AccordionImplProvider,{scope:O,disabled:I,direction:F,orientation:z,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:O,children:jsxRuntimeExports.jsx(Primitive$2.div,{...L,"data-orientation":z,ref:q,onKeyDown:I?void 0:Y})})})}),ITEM_NAME$1="AccordionItem",[AccordionItemProvider,useAccordionItemContext]=createAccordionContext(ITEM_NAME$1),AccordionItem$1=React.forwardRef((_,R)=>{const{__scopeAccordion:O,value:I,...F}=_,z=useAccordionContext(ITEM_NAME$1,O),L=useAccordionValueContext(ITEM_NAME$1,O),U=useCollapsibleScope(O),q=useId(),G=I&&L.value.includes(I)||!1,V=z.disabled||_.disabled;return jsxRuntimeExports.jsx(AccordionItemProvider,{scope:O,open:G,disabled:V,triggerId:q,children:jsxRuntimeExports.jsx(Root$6,{"data-orientation":z.orientation,"data-state":getState$1(G),...U,...F,ref:R,disabled:V,open:G,onOpenChange:Z=>{Z?L.onItemOpen(I):L.onItemClose(I)}})})});AccordionItem$1.displayName=ITEM_NAME$1;var HEADER_NAME="AccordionHeader",AccordionHeader=React.forwardRef((_,R)=>{const{__scopeAccordion:O,...I}=_,F=useAccordionContext(ACCORDION_NAME,O),z=useAccordionItemContext(HEADER_NAME,O);return jsxRuntimeExports.jsx(Primitive$2.h3,{"data-orientation":F.orientation,"data-state":getState$1(z.open),"data-disabled":z.disabled?"":void 0,...I,ref:R})});AccordionHeader.displayName=HEADER_NAME;var TRIGGER_NAME$2="AccordionTrigger",AccordionTrigger$1=React.forwardRef((_,R)=>{const{__scopeAccordion:O,...I}=_,F=useAccordionContext(ACCORDION_NAME,O),z=useAccordionItemContext(TRIGGER_NAME$2,O),L=useAccordionCollapsibleContext(TRIGGER_NAME$2,O),U=useCollapsibleScope(O);return jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:O,children:jsxRuntimeExports.jsx(Trigger$1,{"aria-disabled":z.open&&!L.collapsible||void 0,"data-orientation":F.orientation,id:z.triggerId,...U,...I,ref:R})})});AccordionTrigger$1.displayName=TRIGGER_NAME$2;var CONTENT_NAME$2="AccordionContent",AccordionContent$1=React.forwardRef((_,R)=>{const{__scopeAccordion:O,...I}=_,F=useAccordionContext(ACCORDION_NAME,O),z=useAccordionItemContext(CONTENT_NAME$2,O),L=useCollapsibleScope(O);return jsxRuntimeExports.jsx(Content$2,{role:"region","aria-labelledby":z.triggerId,"data-orientation":F.orientation,...L,...I,ref:R,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",..._.style}})});AccordionContent$1.displayName=CONTENT_NAME$2;function getState$1(_){return _?"open":"closed"}var Root2$1=Accordion$1,Item$1=AccordionItem$1,Header$1=AccordionHeader,Trigger2=AccordionTrigger$1,Content2=AccordionContent$1;const Accordion=Root2$1,AccordionItem=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx(Item$1,{ref:O,className:cn("border-b",_),...R}));AccordionItem.displayName="AccordionItem";const AccordionTrigger=reactExports.forwardRef(({className:_,children:R,...O},I)=>jsxRuntimeExports.jsx(Header$1,{className:"flex",children:jsxRuntimeExports.jsxs(Trigger2,{ref:I,className:cn("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",_),...O,children:[R,jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));AccordionTrigger.displayName=Trigger2.displayName;const AccordionContent=reactExports.forwardRef(({className:_,children:R,...O},I)=>jsxRuntimeExports.jsx(Content2,{ref:I,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...O,children:jsxRuntimeExports.jsx("div",{className:cn("pb-4 pt-0",_),children:R})}));AccordionContent.displayName=Content2.displayName;function createSlot(_){const R=createSlotClone(_),O=reactExports.forwardRef((I,F)=>{const{children:z,...L}=I,U=reactExports.Children.toArray(z),q=U.find(isSlottable);if(q){const G=q.props.children,V=U.map(Z=>Z===q?reactExports.Children.count(G)>1?reactExports.Children.only(null):reactExports.isValidElement(G)?G.props.children:null:Z);return jsxRuntimeExports.jsx(R,{...L,ref:F,children:reactExports.isValidElement(G)?reactExports.cloneElement(G,void 0,V):null})}return jsxRuntimeExports.jsx(R,{...L,ref:F,children:z})});return O.displayName=`${_}.Slot`,O}function createSlotClone(_){const R=reactExports.forwardRef((O,I)=>{const{children:F,...z}=O;if(reactExports.isValidElement(F)){const L=getElementRef(F),U=mergeProps(z,F.props);return F.type!==reactExports.Fragment&&(U.ref=I?composeRefs(I,L):L),reactExports.cloneElement(F,U)}return reactExports.Children.count(F)>1?reactExports.Children.only(null):null});return R.displayName=`${_}.SlotClone`,R}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(_){return reactExports.isValidElement(_)&&typeof _.type=="function"&&"__radixId"in _.type&&_.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(_,R){const O={...R};for(const I in R){const F=_[I],z=R[I];/^on[A-Z]/.test(I)?F&&z?O[I]=(...U)=>{const q=z(...U);return F(...U),q}:F&&(O[I]=F):I==="style"?O[I]={...F,...z}:I==="className"&&(O[I]=[F,z].filter(Boolean).join(" "))}return{..._,...O}}function getElementRef(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,O=R&&"isReactWarning"in R&&R.isReactWarning;return O?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,O=R&&"isReactWarning"in R&&R.isReactWarning,O?_.props.ref:_.props.ref||_.ref)}var DIALOG_NAME="Dialog",[createDialogContext]=createContextScope$1(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog$1=_=>{const{__scopeDialog:R,children:O,open:I,defaultOpen:F,onOpenChange:z,modal:L=!0}=_,U=reactExports.useRef(null),q=reactExports.useRef(null),[G,V]=useControllableState({prop:I,defaultProp:F??!1,onChange:z,caller:DIALOG_NAME});return jsxRuntimeExports.jsx(DialogProvider,{scope:R,triggerRef:U,contentRef:q,contentId:useId(),titleId:useId(),descriptionId:useId(),open:G,onOpenChange:V,onOpenToggle:reactExports.useCallback(()=>V(Z=>!Z),[V]),modal:L,children:O})};Dialog$1.displayName=DIALOG_NAME;var TRIGGER_NAME$1="DialogTrigger",DialogTrigger=reactExports.forwardRef((_,R)=>{const{__scopeDialog:O,...I}=_,F=useDialogContext(TRIGGER_NAME$1,O),z=useComposedRefs(R,F.triggerRef);return jsxRuntimeExports.jsx(Primitive$2.button,{type:"button","aria-haspopup":"dialog","aria-expanded":F.open,"aria-controls":F.contentId,"data-state":getState(F.open),...I,ref:z,onClick:composeEventHandlers$1(_.onClick,F.onOpenToggle)})});DialogTrigger.displayName=TRIGGER_NAME$1;var PORTAL_NAME="DialogPortal",[PortalProvider,usePortalContext]=createDialogContext(PORTAL_NAME,{forceMount:void 0}),DialogPortal$1=_=>{const{__scopeDialog:R,forceMount:O,children:I,container:F}=_,z=useDialogContext(PORTAL_NAME,R);return jsxRuntimeExports.jsx(PortalProvider,{scope:R,forceMount:O,children:reactExports.Children.map(I,L=>jsxRuntimeExports.jsx(Presence,{present:O||z.open,children:jsxRuntimeExports.jsx(Portal$3,{asChild:!0,container:F,children:L})}))})};DialogPortal$1.displayName=PORTAL_NAME;var OVERLAY_NAME="DialogOverlay",DialogOverlay$1=reactExports.forwardRef((_,R)=>{const O=usePortalContext(OVERLAY_NAME,_.__scopeDialog),{forceMount:I=O.forceMount,...F}=_,z=useDialogContext(OVERLAY_NAME,_.__scopeDialog);return z.modal?jsxRuntimeExports.jsx(Presence,{present:I||z.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...F,ref:R})}):null});DialogOverlay$1.displayName=OVERLAY_NAME;var Slot=createSlot("DialogOverlay.RemoveScroll"),DialogOverlayImpl=reactExports.forwardRef((_,R)=>{const{__scopeDialog:O,...I}=_,F=useDialogContext(OVERLAY_NAME,O);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,shards:[F.contentRef],children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":getState(F.open),...I,ref:R,style:{pointerEvents:"auto",...I.style}})})}),CONTENT_NAME$1="DialogContent",DialogContent$1=reactExports.forwardRef((_,R)=>{const O=usePortalContext(CONTENT_NAME$1,_.__scopeDialog),{forceMount:I=O.forceMount,...F}=_,z=useDialogContext(CONTENT_NAME$1,_.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:I||z.open,children:z.modal?jsxRuntimeExports.jsx(DialogContentModal,{...F,ref:R}):jsxRuntimeExports.jsx(DialogContentNonModal,{...F,ref:R})})});DialogContent$1.displayName=CONTENT_NAME$1;var DialogContentModal=reactExports.forwardRef((_,R)=>{const O=useDialogContext(CONTENT_NAME$1,_.__scopeDialog),I=reactExports.useRef(null),F=useComposedRefs(R,O.contentRef,I);return reactExports.useEffect(()=>{const z=I.current;if(z)return hideOthers(z)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{..._,ref:F,trapFocus:O.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers$1(_.onCloseAutoFocus,z=>{z.preventDefault(),O.triggerRef.current?.focus()}),onPointerDownOutside:composeEventHandlers$1(_.onPointerDownOutside,z=>{const L=z.detail.originalEvent,U=L.button===0&&L.ctrlKey===!0;(L.button===2||U)&&z.preventDefault()}),onFocusOutside:composeEventHandlers$1(_.onFocusOutside,z=>z.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((_,R)=>{const O=useDialogContext(CONTENT_NAME$1,_.__scopeDialog),I=reactExports.useRef(!1),F=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{..._,ref:R,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:z=>{_.onCloseAutoFocus?.(z),z.defaultPrevented||(I.current||O.triggerRef.current?.focus(),z.preventDefault()),I.current=!1,F.current=!1},onInteractOutside:z=>{_.onInteractOutside?.(z),z.defaultPrevented||(I.current=!0,z.detail.originalEvent.type==="pointerdown"&&(F.current=!0));const L=z.target;O.triggerRef.current?.contains(L)&&z.preventDefault(),z.detail.originalEvent.type==="focusin"&&F.current&&z.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((_,R)=>{const{__scopeDialog:O,trapFocus:I,onOpenAutoFocus:F,onCloseAutoFocus:z,...L}=_,U=useDialogContext(CONTENT_NAME$1,O),q=reactExports.useRef(null),G=useComposedRefs(R,q);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:I,onMountAutoFocus:F,onUnmountAutoFocus:z,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:U.contentId,"aria-describedby":U.descriptionId,"aria-labelledby":U.titleId,"data-state":getState(U.open),...L,ref:G,onDismiss:()=>U.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:U.titleId}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:q,descriptionId:U.descriptionId})]})]})}),TITLE_NAME="DialogTitle",DialogTitle$1=reactExports.forwardRef((_,R)=>{const{__scopeDialog:O,...I}=_,F=useDialogContext(TITLE_NAME,O);return jsxRuntimeExports.jsx(Primitive$2.h2,{id:F.titleId,...I,ref:R})});DialogTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="DialogDescription",DialogDescription$1=reactExports.forwardRef((_,R)=>{const{__scopeDialog:O,...I}=_,F=useDialogContext(DESCRIPTION_NAME,O);return jsxRuntimeExports.jsx(Primitive$2.p,{id:F.descriptionId,...I,ref:R})});DialogDescription$1.displayName=DESCRIPTION_NAME;var CLOSE_NAME="DialogClose",DialogClose=reactExports.forwardRef((_,R)=>{const{__scopeDialog:O,...I}=_,F=useDialogContext(CLOSE_NAME,O);return jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",...I,ref:R,onClick:composeEventHandlers$1(_.onClick,()=>F.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME;function getState(_){return _?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME$1,titleName:TITLE_NAME,docsSlug:"dialog"}),TitleWarning=({titleId:_})=>{const R=useWarningContext(TITLE_WARNING_NAME),O=`\`${R.contentName}\` requires a \`${R.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${R.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${R.docsSlug}`;return reactExports.useEffect(()=>{_&&(document.getElementById(_)||console.error(O))},[O,_]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning=({contentRef:_,descriptionId:R})=>{const I=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{const F=_.current?.getAttribute("aria-describedby");R&&F&&(document.getElementById(R)||console.warn(I))},[I,_,R]),null},Root$5=Dialog$1,Portal=DialogPortal$1,Overlay=DialogOverlay$1,Content$1=DialogContent$1,Title=DialogTitle$1,Description=DialogDescription$1,Close=DialogClose;const Dialog=Root$5,DialogPortal=Portal,DialogOverlay=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx(Overlay,{ref:O,className:cn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",_),...R}));DialogOverlay.displayName=Overlay.displayName;const DialogContent=reactExports.forwardRef(({className:_,children:R,...O},I)=>jsxRuntimeExports.jsxs(DialogPortal,{children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content$1,{ref:I,className:cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",_),...O,children:[R,jsxRuntimeExports.jsxs(Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[jsxRuntimeExports.jsx(X,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));DialogContent.displayName=Content$1.displayName;const DialogHeader=({className:_,...R})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-1.5 text-center sm:text-left",_),...R});DialogHeader.displayName="DialogHeader";const DialogTitle=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx(Title,{ref:O,className:cn("text-lg font-semibold leading-none tracking-tight",_),...R}));DialogTitle.displayName=Title.displayName;const DialogDescription=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx(Description,{ref:O,className:cn("text-sm text-muted-foreground",_),...R}));DialogDescription.displayName=Description.displayName;function ccount(_,R){const O=String(_);if(typeof R!="string")throw new TypeError("Expected character");let I=0,F=O.indexOf(R);for(;F!==-1;)I++,F=O.indexOf(R,F+R.length);return I}function escapeStringRegexp(_){if(typeof _!="string")throw new TypeError("Expected a string");return _.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(_,R,O){const F=convert((O||{}).ignore||[]),z=toPairs(R);let L=-1;for(;++L<z.length;)visitParents(_,"text",U);function U(G,V){let Z=-1,Y;for(;++Z<V.length;){const W=V[Z],ee=Y?Y.children:void 0;if(F(W,ee?ee.indexOf(W):void 0,Y))return;Y=W}if(Y)return q(G,V)}function q(G,V){const Z=V[V.length-1],Y=z[L][0],W=z[L][1];let ee=0;const ie=Z.children.indexOf(G);let se=!1,oe=[];Y.lastIndex=0;let le=Y.exec(G.value);for(;le;){const ue=le.index,ce={index:le.index,input:le.input,stack:[...V,G]};let fe=W(...le,ce);if(typeof fe=="string"&&(fe=fe.length>0?{type:"text",value:fe}:void 0),fe===!1?Y.lastIndex=ue+1:(ee!==ue&&oe.push({type:"text",value:G.value.slice(ee,ue)}),Array.isArray(fe)?oe.push(...fe):fe&&oe.push(fe),ee=ue+le[0].length,se=!0),!Y.global)break;le=Y.exec(G.value)}return se?(ee<G.value.length&&oe.push({type:"text",value:G.value.slice(ee)}),Z.children.splice(ie,1,...oe)):oe=[G],ie+oe.length}}function toPairs(_){const R=[];if(!Array.isArray(_))throw new TypeError("Expected find and replace tuple or list of tuples");const O=!_[0]||Array.isArray(_[0])?_:[_];let I=-1;for(;++I<O.length;){const F=O[I];R.push([toExpression(F[0]),toFunction(F[1])])}return R}function toExpression(_){return typeof _=="string"?new RegExp(escapeStringRegexp(_),"g"):_}function toFunction(_){return typeof _=="function"?_:function(){return _}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(_){this.enter({type:"link",title:null,url:"",children:[]},_)}function enterLiteralAutolinkValue(_){this.config.enter.autolinkProtocol.call(this,_)}function exitLiteralAutolinkHttp(_){this.config.exit.autolinkProtocol.call(this,_)}function exitLiteralAutolinkWww(_){this.config.exit.data.call(this,_);const R=this.stack[this.stack.length-1];R.type,R.url="http://"+this.sliceSerialize(_)}function exitLiteralAutolinkEmail(_){this.config.exit.autolinkEmail.call(this,_)}function exitLiteralAutolink(_){this.exit(_)}function transformGfmAutolinkLiterals(_){findAndReplace(_,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),findEmail]],{ignore:["link","linkReference"]})}function findUrl(_,R,O,I,F){let z="";if(!previous(F)||(/^w/i.test(R)&&(O=R+O,R="",z="http://"),!isCorrectDomain(O)))return!1;const L=splitUrl(O+I);if(!L[0])return!1;const U={type:"link",title:null,url:z+R+L[0],children:[{type:"text",value:R+L[0]}]};return L[1]?[U,{type:"text",value:L[1]}]:U}function findEmail(_,R,O,I){return!previous(I,!0)||/[-\d_]$/.test(O)?!1:{type:"link",title:null,url:"mailto:"+R+"@"+O,children:[{type:"text",value:R+"@"+O}]}}function isCorrectDomain(_){const R=_.split(".");return!(R.length<2||R[R.length-1]&&(/_/.test(R[R.length-1])||!/[a-zA-Z\d]/.test(R[R.length-1]))||R[R.length-2]&&(/_/.test(R[R.length-2])||!/[a-zA-Z\d]/.test(R[R.length-2])))}function splitUrl(_){const R=/[!"&'),.:;<>?\]}]+$/.exec(_);if(!R)return[_,void 0];_=_.slice(0,R.index);let O=R[0],I=O.indexOf(")");const F=ccount(_,"(");let z=ccount(_,")");for(;I!==-1&&F>z;)_+=O.slice(0,I+1),O=O.slice(I+1),I=O.indexOf(")"),z++;return[_,O]}function previous(_,R){const O=_.input.charCodeAt(_.index-1);return(_.index===0||unicodeWhitespace(O)||unicodePunctuation(O))&&(!R||O!==47)}footnoteReference.peek=footnoteReferencePeek;function enterFootnoteCallString(){this.buffer()}function enterFootnoteCall(_){this.enter({type:"footnoteReference",identifier:"",label:""},_)}function enterFootnoteDefinitionLabelString(){this.buffer()}function enterFootnoteDefinition(_){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},_)}function exitFootnoteCallString(_){const R=this.resume(),O=this.stack[this.stack.length-1];O.type,O.identifier=normalizeIdentifier(this.sliceSerialize(_)).toLowerCase(),O.label=R}function exitFootnoteCall(_){this.exit(_)}function exitFootnoteDefinitionLabelString(_){const R=this.resume(),O=this.stack[this.stack.length-1];O.type,O.identifier=normalizeIdentifier(this.sliceSerialize(_)).toLowerCase(),O.label=R}function exitFootnoteDefinition(_){this.exit(_)}function footnoteReferencePeek(){return"["}function footnoteReference(_,R,O,I){const F=O.createTracker(I);let z=F.move("[^");const L=O.enter("footnoteReference"),U=O.enter("reference");return z+=F.move(O.safe(O.associationId(_),{after:"]",before:z})),U(),L(),z+=F.move("]"),z}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteDefinition:enterFootnoteDefinition},exit:{gfmFootnoteCallString:exitFootnoteCallString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteDefinition:exitFootnoteDefinition}}}function gfmFootnoteToMarkdown(_){let R=!1;return _&&_.firstLineBlank&&(R=!0),{handlers:{footnoteDefinition:O,footnoteReference},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function O(I,F,z,L){const U=z.createTracker(L);let q=U.move("[^");const G=z.enter("footnoteDefinition"),V=z.enter("label");return q+=U.move(z.safe(z.associationId(I),{before:q,after:"]"})),V(),q+=U.move("]:"),I.children&&I.children.length>0&&(U.shift(4),q+=U.move((R?`
`:" ")+z.indentLines(z.containerFlow(I,U.current()),R?mapAll:mapExceptFirst))),G(),q}}function mapExceptFirst(_,R,O){return R===0?_:mapAll(_,R,O)}function mapAll(_,R,O){return(O?"":"    ")+_}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(_){this.enter({type:"delete",children:[]},_)}function exitStrikethrough(_){this.exit(_)}function handleDelete(_,R,O,I){const F=O.createTracker(I),z=O.enter("strikethrough");let L=F.move("~~");return L+=O.containerPhrasing(_,{...F.current(),before:L,after:"~"}),L+=F.move("~~"),z(),L}function peekDelete(){return"~"}function defaultStringLength(_){return _.length}function markdownTable(_,R){const O=R||{},I=(O.align||[]).concat(),F=O.stringLength||defaultStringLength,z=[],L=[],U=[],q=[];let G=0,V=-1;for(;++V<_.length;){const ne=[],ie=[];let se=-1;for(_[V].length>G&&(G=_[V].length);++se<_[V].length;){const oe=serialize(_[V][se]);if(O.alignDelimiters!==!1){const le=F(oe);ie[se]=le,(q[se]===void 0||le>q[se])&&(q[se]=le)}ne.push(oe)}L[V]=ne,U[V]=ie}let Z=-1;if(typeof I=="object"&&"length"in I)for(;++Z<G;)z[Z]=toAlignment(I[Z]);else{const ne=toAlignment(I);for(;++Z<G;)z[Z]=ne}Z=-1;const Y=[],W=[];for(;++Z<G;){const ne=z[Z];let ie="",se="";ne===99?(ie=":",se=":"):ne===108?ie=":":ne===114&&(se=":");let oe=O.alignDelimiters===!1?1:Math.max(1,q[Z]-ie.length-se.length);const le=ie+"-".repeat(oe)+se;O.alignDelimiters!==!1&&(oe=ie.length+oe+se.length,oe>q[Z]&&(q[Z]=oe),W[Z]=oe),Y[Z]=le}L.splice(1,0,Y),U.splice(1,0,W),V=-1;const ee=[];for(;++V<L.length;){const ne=L[V],ie=U[V];Z=-1;const se=[];for(;++Z<G;){const oe=ne[Z]||"";let le="",ue="";if(O.alignDelimiters!==!1){const ce=q[Z]-(ie[Z]||0),fe=z[Z];fe===114?le=" ".repeat(ce):fe===99?ce%2?(le=" ".repeat(ce/2+.5),ue=" ".repeat(ce/2-.5)):(le=" ".repeat(ce/2),ue=le):ue=" ".repeat(ce)}O.delimiterStart!==!1&&!Z&&se.push("|"),O.padding!==!1&&!(O.alignDelimiters===!1&&oe==="")&&(O.delimiterStart!==!1||Z)&&se.push(" "),O.alignDelimiters!==!1&&se.push(le),se.push(oe),O.alignDelimiters!==!1&&se.push(ue),O.padding!==!1&&se.push(" "),(O.delimiterEnd!==!1||Z!==G-1)&&se.push("|")}ee.push(O.delimiterEnd===!1?se.join("").replace(/ +$/,""):se.join(""))}return ee.join(`
`)}function serialize(_){return _==null?"":String(_)}function toAlignment(_){const R=typeof _=="string"?_.codePointAt(0):0;return R===67||R===99?99:R===76||R===108?108:R===82||R===114?114:0}function blockquote(_,R,O,I){const F=O.enter("blockquote"),z=O.createTracker(I);z.move("> "),z.shift(2);const L=O.indentLines(O.containerFlow(_,z.current()),map$5);return F(),L}function map$5(_,R,O){return">"+(O?"":" ")+_}function patternInScope(_,R){return listInScope(_,R.inConstruct,!0)&&!listInScope(_,R.notInConstruct,!1)}function listInScope(_,R,O){if(typeof R=="string"&&(R=[R]),!R||R.length===0)return O;let I=-1;for(;++I<R.length;)if(_.includes(R[I]))return!0;return!1}function hardBreak(_,R,O,I){let F=-1;for(;++F<O.unsafe.length;)if(O.unsafe[F].character===`
`&&patternInScope(O.stack,O.unsafe[F]))return/[ \t]/.test(I.before)?"":" ";return`\\
`}function formatCodeAsIndented(_,R){return!!(R.options.fences===!1&&_.value&&!_.lang&&/[^ \r\n]/.test(_.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(_.value))}function checkFence(_){const R=_.options.fence||"`";if(R!=="`"&&R!=="~")throw new Error("Cannot serialize code with `"+R+"` for `options.fence`, expected `` ` `` or `~`");return R}function code$1(_,R,O,I){const F=checkFence(O),z=_.value||"",L=F==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(_,O)){const Z=O.enter("codeIndented"),Y=O.indentLines(z,map$4);return Z(),Y}const U=O.createTracker(I),q=F.repeat(Math.max(longestStreak(z,F)+1,3)),G=O.enter("codeFenced");let V=U.move(q);if(_.lang){const Z=O.enter(`codeFencedLang${L}`);V+=U.move(O.safe(_.lang,{before:V,after:" ",encode:["`"],...U.current()})),Z()}if(_.lang&&_.meta){const Z=O.enter(`codeFencedMeta${L}`);V+=U.move(" "),V+=U.move(O.safe(_.meta,{before:V,after:`
`,encode:["`"],...U.current()})),Z()}return V+=U.move(`
`),z&&(V+=U.move(z+`
`)),V+=U.move(q),G(),V}function map$4(_,R,O){return(O?"":"    ")+_}function checkQuote(_){const R=_.options.quote||'"';if(R!=='"'&&R!=="'")throw new Error("Cannot serialize title with `"+R+"` for `options.quote`, expected `\"`, or `'`");return R}function definition(_,R,O,I){const F=checkQuote(O),z=F==='"'?"Quote":"Apostrophe",L=O.enter("definition");let U=O.enter("label");const q=O.createTracker(I);let G=q.move("[");return G+=q.move(O.safe(O.associationId(_),{before:G,after:"]",...q.current()})),G+=q.move("]: "),U(),!_.url||/[\0- \u007F]/.test(_.url)?(U=O.enter("destinationLiteral"),G+=q.move("<"),G+=q.move(O.safe(_.url,{before:G,after:">",...q.current()})),G+=q.move(">")):(U=O.enter("destinationRaw"),G+=q.move(O.safe(_.url,{before:G,after:_.title?" ":`
`,...q.current()}))),U(),_.title&&(U=O.enter(`title${z}`),G+=q.move(" "+F),G+=q.move(O.safe(_.title,{before:G,after:F,...q.current()})),G+=q.move(F),U()),L(),G}function checkEmphasis(_){const R=_.options.emphasis||"*";if(R!=="*"&&R!=="_")throw new Error("Cannot serialize emphasis with `"+R+"` for `options.emphasis`, expected `*`, or `_`");return R}function encodeCharacterReference(_){return"&#x"+_.toString(16).toUpperCase()+";"}function encodeInfo(_,R,O){const I=classifyCharacter(_),F=classifyCharacter(R);return I===void 0?F===void 0?O==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:F===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:I===1?F===void 0?{inside:!1,outside:!1}:F===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:F===void 0?{inside:!1,outside:!1}:F===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(_,R,O,I){const F=checkEmphasis(O),z=O.enter("emphasis"),L=O.createTracker(I),U=L.move(F);let q=L.move(O.containerPhrasing(_,{after:F,before:U,...L.current()}));const G=q.charCodeAt(0),V=encodeInfo(I.before.charCodeAt(I.before.length-1),G,F);V.inside&&(q=encodeCharacterReference(G)+q.slice(1));const Z=q.charCodeAt(q.length-1),Y=encodeInfo(I.after.charCodeAt(0),Z,F);Y.inside&&(q=q.slice(0,-1)+encodeCharacterReference(Z));const W=L.move(F);return z(),O.attentionEncodeSurroundingInfo={after:Y.outside,before:V.outside},U+q+W}function emphasisPeek(_,R,O){return O.options.emphasis||"*"}function formatHeadingAsSetext(_,R){let O=!1;return visit(_,function(I){if("value"in I&&/\r?\n|\r/.test(I.value)||I.type==="break")return O=!0,EXIT}),!!((!_.depth||_.depth<3)&&toString$3(_)&&(R.options.setext||O))}function heading(_,R,O,I){const F=Math.max(Math.min(6,_.depth||1),1),z=O.createTracker(I);if(formatHeadingAsSetext(_,O)){const V=O.enter("headingSetext"),Z=O.enter("phrasing"),Y=O.containerPhrasing(_,{...z.current(),before:`
`,after:`
`});return Z(),V(),Y+`
`+(F===1?"=":"-").repeat(Y.length-(Math.max(Y.lastIndexOf("\r"),Y.lastIndexOf(`
`))+1))}const L="#".repeat(F),U=O.enter("headingAtx"),q=O.enter("phrasing");z.move(L+" ");let G=O.containerPhrasing(_,{before:"# ",after:`
`,...z.current()});return/^[\t ]/.test(G)&&(G=encodeCharacterReference(G.charCodeAt(0))+G.slice(1)),G=G?L+" "+G:L,O.options.closeAtx&&(G+=" "+L),q(),U(),G}html.peek=htmlPeek;function html(_){return _.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(_,R,O,I){const F=checkQuote(O),z=F==='"'?"Quote":"Apostrophe",L=O.enter("image");let U=O.enter("label");const q=O.createTracker(I);let G=q.move("![");return G+=q.move(O.safe(_.alt,{before:G,after:"]",...q.current()})),G+=q.move("]("),U(),!_.url&&_.title||/[\0- \u007F]/.test(_.url)?(U=O.enter("destinationLiteral"),G+=q.move("<"),G+=q.move(O.safe(_.url,{before:G,after:">",...q.current()})),G+=q.move(">")):(U=O.enter("destinationRaw"),G+=q.move(O.safe(_.url,{before:G,after:_.title?" ":")",...q.current()}))),U(),_.title&&(U=O.enter(`title${z}`),G+=q.move(" "+F),G+=q.move(O.safe(_.title,{before:G,after:F,...q.current()})),G+=q.move(F),U()),G+=q.move(")"),L(),G}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(_,R,O,I){const F=_.referenceType,z=O.enter("imageReference");let L=O.enter("label");const U=O.createTracker(I);let q=U.move("![");const G=O.safe(_.alt,{before:q,after:"]",...U.current()});q+=U.move(G+"]["),L();const V=O.stack;O.stack=[],L=O.enter("reference");const Z=O.safe(O.associationId(_),{before:q,after:"]",...U.current()});return L(),O.stack=V,z(),F==="full"||!G||G!==Z?q+=U.move(Z+"]"):F==="shortcut"?q=q.slice(0,-1):q+=U.move("]"),q}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(_,R,O){let I=_.value||"",F="`",z=-1;for(;new RegExp("(^|[^`])"+F+"([^`]|$)").test(I);)F+="`";for(/[^ \r\n]/.test(I)&&(/^[ \r\n]/.test(I)&&/[ \r\n]$/.test(I)||/^`|`$/.test(I))&&(I=" "+I+" ");++z<O.unsafe.length;){const L=O.unsafe[z],U=O.compilePattern(L);let q;if(L.atBreak)for(;q=U.exec(I);){let G=q.index;I.charCodeAt(G)===10&&I.charCodeAt(G-1)===13&&G--,I=I.slice(0,G)+" "+I.slice(q.index+1)}}return F+I+F}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(_,R){const O=toString$3(_);return!!(!R.options.resourceLink&&_.url&&!_.title&&_.children&&_.children.length===1&&_.children[0].type==="text"&&(O===_.url||"mailto:"+O===_.url)&&/^[a-z][a-z+.-]+:/i.test(_.url)&&!/[\0- <>\u007F]/.test(_.url))}link$2.peek=linkPeek;function link$2(_,R,O,I){const F=checkQuote(O),z=F==='"'?"Quote":"Apostrophe",L=O.createTracker(I);let U,q;if(formatLinkAsAutolink(_,O)){const V=O.stack;O.stack=[],U=O.enter("autolink");let Z=L.move("<");return Z+=L.move(O.containerPhrasing(_,{before:Z,after:">",...L.current()})),Z+=L.move(">"),U(),O.stack=V,Z}U=O.enter("link"),q=O.enter("label");let G=L.move("[");return G+=L.move(O.containerPhrasing(_,{before:G,after:"](",...L.current()})),G+=L.move("]("),q(),!_.url&&_.title||/[\0- \u007F]/.test(_.url)?(q=O.enter("destinationLiteral"),G+=L.move("<"),G+=L.move(O.safe(_.url,{before:G,after:">",...L.current()})),G+=L.move(">")):(q=O.enter("destinationRaw"),G+=L.move(O.safe(_.url,{before:G,after:_.title?" ":")",...L.current()}))),q(),_.title&&(q=O.enter(`title${z}`),G+=L.move(" "+F),G+=L.move(O.safe(_.title,{before:G,after:F,...L.current()})),G+=L.move(F),q()),G+=L.move(")"),U(),G}function linkPeek(_,R,O){return formatLinkAsAutolink(_,O)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(_,R,O,I){const F=_.referenceType,z=O.enter("linkReference");let L=O.enter("label");const U=O.createTracker(I);let q=U.move("[");const G=O.containerPhrasing(_,{before:q,after:"]",...U.current()});q+=U.move(G+"]["),L();const V=O.stack;O.stack=[],L=O.enter("reference");const Z=O.safe(O.associationId(_),{before:q,after:"]",...U.current()});return L(),O.stack=V,z(),F==="full"||!G||G!==Z?q+=U.move(Z+"]"):F==="shortcut"?q=q.slice(0,-1):q+=U.move("]"),q}function linkReferencePeek(){return"["}function checkBullet(_){const R=_.options.bullet||"*";if(R!=="*"&&R!=="+"&&R!=="-")throw new Error("Cannot serialize items with `"+R+"` for `options.bullet`, expected `*`, `+`, or `-`");return R}function checkBulletOther(_){const R=checkBullet(_),O=_.options.bulletOther;if(!O)return R==="*"?"-":"*";if(O!=="*"&&O!=="+"&&O!=="-")throw new Error("Cannot serialize items with `"+O+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(O===R)throw new Error("Expected `bullet` (`"+R+"`) and `bulletOther` (`"+O+"`) to be different");return O}function checkBulletOrdered(_){const R=_.options.bulletOrdered||".";if(R!=="."&&R!==")")throw new Error("Cannot serialize items with `"+R+"` for `options.bulletOrdered`, expected `.` or `)`");return R}function checkRule(_){const R=_.options.rule||"*";if(R!=="*"&&R!=="-"&&R!=="_")throw new Error("Cannot serialize rules with `"+R+"` for `options.rule`, expected `*`, `-`, or `_`");return R}function list(_,R,O,I){const F=O.enter("list"),z=O.bulletCurrent;let L=_.ordered?checkBulletOrdered(O):checkBullet(O);const U=_.ordered?L==="."?")":".":checkBulletOther(O);let q=R&&O.bulletLastUsed?L===O.bulletLastUsed:!1;if(!_.ordered){const V=_.children?_.children[0]:void 0;if((L==="*"||L==="-")&&V&&(!V.children||!V.children[0])&&O.stack[O.stack.length-1]==="list"&&O.stack[O.stack.length-2]==="listItem"&&O.stack[O.stack.length-3]==="list"&&O.stack[O.stack.length-4]==="listItem"&&O.indexStack[O.indexStack.length-1]===0&&O.indexStack[O.indexStack.length-2]===0&&O.indexStack[O.indexStack.length-3]===0&&(q=!0),checkRule(O)===L&&V){let Z=-1;for(;++Z<_.children.length;){const Y=_.children[Z];if(Y&&Y.type==="listItem"&&Y.children&&Y.children[0]&&Y.children[0].type==="thematicBreak"){q=!0;break}}}}q&&(L=U),O.bulletCurrent=L;const G=O.containerFlow(_,I);return O.bulletLastUsed=L,O.bulletCurrent=z,F(),G}function checkListItemIndent(_){const R=_.options.listItemIndent||"one";if(R!=="tab"&&R!=="one"&&R!=="mixed")throw new Error("Cannot serialize items with `"+R+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return R}function listItem(_,R,O,I){const F=checkListItemIndent(O);let z=O.bulletCurrent||checkBullet(O);R&&R.type==="list"&&R.ordered&&(z=(typeof R.start=="number"&&R.start>-1?R.start:1)+(O.options.incrementListMarker===!1?0:R.children.indexOf(_))+z);let L=z.length+1;(F==="tab"||F==="mixed"&&(R&&R.type==="list"&&R.spread||_.spread))&&(L=Math.ceil(L/4)*4);const U=O.createTracker(I);U.move(z+" ".repeat(L-z.length)),U.shift(L);const q=O.enter("listItem"),G=O.indentLines(O.containerFlow(_,U.current()),V);return q(),G;function V(Z,Y,W){return Y?(W?"":" ".repeat(L))+Z:(W?z:z+" ".repeat(L-z.length))+Z}}function paragraph(_,R,O,I){const F=O.enter("paragraph"),z=O.enter("phrasing"),L=O.containerPhrasing(_,I);return z(),F(),L}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root$1(_,R,O,I){return(_.children.some(function(L){return phrasing(L)})?O.containerPhrasing:O.containerFlow).call(O,_,I)}function checkStrong(_){const R=_.options.strong||"*";if(R!=="*"&&R!=="_")throw new Error("Cannot serialize strong with `"+R+"` for `options.strong`, expected `*`, or `_`");return R}strong.peek=strongPeek;function strong(_,R,O,I){const F=checkStrong(O),z=O.enter("strong"),L=O.createTracker(I),U=L.move(F+F);let q=L.move(O.containerPhrasing(_,{after:F,before:U,...L.current()}));const G=q.charCodeAt(0),V=encodeInfo(I.before.charCodeAt(I.before.length-1),G,F);V.inside&&(q=encodeCharacterReference(G)+q.slice(1));const Z=q.charCodeAt(q.length-1),Y=encodeInfo(I.after.charCodeAt(0),Z,F);Y.inside&&(q=q.slice(0,-1)+encodeCharacterReference(Z));const W=L.move(F+F);return z(),O.attentionEncodeSurroundingInfo={after:Y.outside,before:V.outside},U+q+W}function strongPeek(_,R,O){return O.options.strong||"*"}function text$2(_,R,O,I){return O.safe(_.value,I)}function checkRuleRepetition(_){const R=_.options.ruleRepetition||3;if(R<3)throw new Error("Cannot serialize rules with repetition `"+R+"` for `options.ruleRepetition`, expected `3` or more");return R}function thematicBreak(_,R,O){const I=(checkRule(O)+(O.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(O));return O.options.ruleSpaces?I.slice(0,-1):I}const handle={blockquote,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading,html,image,imageReference,inlineCode,link:link$2,linkReference,list,listItem,paragraph,root:root$1,strong,text:text$2,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(_){const R=_._align;this.enter({type:"table",align:R.map(function(O){return O==="none"?null:O}),children:[]},_),this.data.inTable=!0}function exitTable(_){this.exit(_),this.data.inTable=void 0}function enterRow(_){this.enter({type:"tableRow",children:[]},_)}function exit(_){this.exit(_)}function enterCell(_){this.enter({type:"tableCell",children:[]},_)}function exitCodeText(_){let R=this.resume();this.data.inTable&&(R=R.replace(/\\([\\|])/g,replace));const O=this.stack[this.stack.length-1];O.type,O.value=R,this.exit(_)}function replace(_,R){return R==="|"?R:_}function gfmTableToMarkdown(_){const R=_||{},O=R.tableCellPadding,I=R.tablePipeAlign,F=R.stringLength,z=O?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:Y,table:L,tableCell:q,tableRow:U}};function L(W,ee,ne,ie){return G(V(W,ne,ie),W.align)}function U(W,ee,ne,ie){const se=Z(W,ne,ie),oe=G([se]);return oe.slice(0,oe.indexOf(`
`))}function q(W,ee,ne,ie){const se=ne.enter("tableCell"),oe=ne.enter("phrasing"),le=ne.containerPhrasing(W,{...ie,before:z,after:z});return oe(),se(),le}function G(W,ee){return markdownTable(W,{align:ee,alignDelimiters:I,padding:O,stringLength:F})}function V(W,ee,ne){const ie=W.children;let se=-1;const oe=[],le=ee.enter("table");for(;++se<ie.length;)oe[se]=Z(ie[se],ee,ne);return le(),oe}function Z(W,ee,ne){const ie=W.children;let se=-1;const oe=[],le=ee.enter("tableRow");for(;++se<ie.length;)oe[se]=q(ie[se],W,ee,ne);return le(),oe}function Y(W,ee,ne){let ie=handle.inlineCode(W,ee,ne);return ne.stack.includes("tableCell")&&(ie=ie.replace(/\|/g,"\\$&")),ie}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(_){const R=this.stack[this.stack.length-2];R.type,R.checked=_.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(_){const R=this.stack[this.stack.length-2];if(R&&R.type==="listItem"&&typeof R.checked=="boolean"){const O=this.stack[this.stack.length-1];O.type;const I=O.children[0];if(I&&I.type==="text"){const F=R.children;let z=-1,L;for(;++z<F.length;){const U=F[z];if(U.type==="paragraph"){L=U;break}}L===O&&(I.value=I.value.slice(1),I.value.length===0?O.children.shift():O.position&&I.position&&typeof I.position.start.offset=="number"&&(I.position.start.column++,I.position.start.offset++,O.position.start=Object.assign({},I.position.start)))}}this.exit(_)}function listItemWithTaskListItem(_,R,O,I){const F=_.children[0],z=typeof _.checked=="boolean"&&F&&F.type==="paragraph",L="["+(_.checked?"x":" ")+"] ",U=O.createTracker(I);z&&U.move(L);let q=handle.listItem(_,R,O,{...I,...U.current()});return z&&(q=q.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,G)),q;function G(V){return V+L}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(_){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(_),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(_),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path$1={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text$1={};function gfmAutolinkLiteral(){return{text:text$1}}let code=48;for(;code<123;)text$1[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text$1[43]=emailAutolink;text$1[45]=emailAutolink;text$1[46]=emailAutolink;text$1[95]=emailAutolink;text$1[72]=[emailAutolink,protocolAutolink];text$1[104]=[emailAutolink,protocolAutolink];text$1[87]=[emailAutolink,wwwAutolink];text$1[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(_,R,O){const I=this;let F,z;return L;function L(Z){return!gfmAtext(Z)||!previousEmail.call(I,I.previous)||previousUnbalanced(I.events)?O(Z):(_.enter("literalAutolink"),_.enter("literalAutolinkEmail"),U(Z))}function U(Z){return gfmAtext(Z)?(_.consume(Z),U):Z===64?(_.consume(Z),q):O(Z)}function q(Z){return Z===46?_.check(emailDomainDotTrail,V,G)(Z):Z===45||Z===95||asciiAlphanumeric(Z)?(z=!0,_.consume(Z),q):V(Z)}function G(Z){return _.consume(Z),F=!0,q}function V(Z){return z&&F&&asciiAlpha(I.previous)?(_.exit("literalAutolinkEmail"),_.exit("literalAutolink"),R(Z)):O(Z)}}function tokenizeWwwAutolink(_,R,O){const I=this;return F;function F(L){return L!==87&&L!==119||!previousWww.call(I,I.previous)||previousUnbalanced(I.events)?O(L):(_.enter("literalAutolink"),_.enter("literalAutolinkWww"),_.check(wwwPrefix,_.attempt(domain,_.attempt(path$1,z),O),O)(L))}function z(L){return _.exit("literalAutolinkWww"),_.exit("literalAutolink"),R(L)}}function tokenizeProtocolAutolink(_,R,O){const I=this;let F="",z=!1;return L;function L(Z){return(Z===72||Z===104)&&previousProtocol.call(I,I.previous)&&!previousUnbalanced(I.events)?(_.enter("literalAutolink"),_.enter("literalAutolinkHttp"),F+=String.fromCodePoint(Z),_.consume(Z),U):O(Z)}function U(Z){if(asciiAlpha(Z)&&F.length<5)return F+=String.fromCodePoint(Z),_.consume(Z),U;if(Z===58){const Y=F.toLowerCase();if(Y==="http"||Y==="https")return _.consume(Z),q}return O(Z)}function q(Z){return Z===47?(_.consume(Z),z?G:(z=!0,q)):O(Z)}function G(Z){return Z===null||asciiControl(Z)||markdownLineEndingOrSpace(Z)||unicodeWhitespace(Z)||unicodePunctuation(Z)?O(Z):_.attempt(domain,_.attempt(path$1,V),O)(Z)}function V(Z){return _.exit("literalAutolinkHttp"),_.exit("literalAutolink"),R(Z)}}function tokenizeWwwPrefix(_,R,O){let I=0;return F;function F(L){return(L===87||L===119)&&I<3?(I++,_.consume(L),F):L===46&&I===3?(_.consume(L),z):O(L)}function z(L){return L===null?O(L):R(L)}}function tokenizeDomain(_,R,O){let I,F,z;return L;function L(G){return G===46||G===95?_.check(trail,q,U)(G):G===null||markdownLineEndingOrSpace(G)||unicodeWhitespace(G)||G!==45&&unicodePunctuation(G)?q(G):(z=!0,_.consume(G),L)}function U(G){return G===95?I=!0:(F=I,I=void 0),_.consume(G),L}function q(G){return F||I||!z?O(G):R(G)}}function tokenizePath(_,R){let O=0,I=0;return F;function F(L){return L===40?(O++,_.consume(L),F):L===41&&I<O?z(L):L===33||L===34||L===38||L===39||L===41||L===42||L===44||L===46||L===58||L===59||L===60||L===63||L===93||L===95||L===126?_.check(trail,R,z)(L):L===null||markdownLineEndingOrSpace(L)||unicodeWhitespace(L)?R(L):(_.consume(L),F)}function z(L){return L===41&&I++,_.consume(L),F}}function tokenizeTrail(_,R,O){return I;function I(U){return U===33||U===34||U===39||U===41||U===42||U===44||U===46||U===58||U===59||U===63||U===95||U===126?(_.consume(U),I):U===38?(_.consume(U),z):U===93?(_.consume(U),F):U===60||U===null||markdownLineEndingOrSpace(U)||unicodeWhitespace(U)?R(U):O(U)}function F(U){return U===null||U===40||U===91||markdownLineEndingOrSpace(U)||unicodeWhitespace(U)?R(U):I(U)}function z(U){return asciiAlpha(U)?L(U):O(U)}function L(U){return U===59?(_.consume(U),I):asciiAlpha(U)?(_.consume(U),L):O(U)}}function tokenizeEmailDomainDotTrail(_,R,O){return I;function I(z){return _.consume(z),F}function F(z){return asciiAlphanumeric(z)?O(z):R(z)}}function previousWww(_){return _===null||_===40||_===42||_===95||_===91||_===93||_===126||markdownLineEndingOrSpace(_)}function previousProtocol(_){return!asciiAlpha(_)}function previousEmail(_){return!(_===47||gfmAtext(_))}function gfmAtext(_){return _===43||_===45||_===46||_===95||asciiAlphanumeric(_)}function previousUnbalanced(_){let R=_.length,O=!1;for(;R--;){const I=_[R][1];if((I.type==="labelLink"||I.type==="labelImage")&&!I._balanced){O=!0;break}if(I._gfmAutolinkLiteralWalkedInto){O=!1;break}}return _.length>0&&!O&&(_[_.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),O}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(_,R,O){const I=this;let F=I.events.length;const z=I.parser.gfmFootnotes||(I.parser.gfmFootnotes=[]);let L;for(;F--;){const q=I.events[F][1];if(q.type==="labelImage"){L=q;break}if(q.type==="gfmFootnoteCall"||q.type==="labelLink"||q.type==="label"||q.type==="image"||q.type==="link")break}return U;function U(q){if(!L||!L._balanced)return O(q);const G=normalizeIdentifier(I.sliceSerialize({start:L.end,end:I.now()}));return G.codePointAt(0)!==94||!z.includes(G.slice(1))?O(q):(_.enter("gfmFootnoteCallLabelMarker"),_.consume(q),_.exit("gfmFootnoteCallLabelMarker"),R(q))}}function resolveToPotentialGfmFootnoteCall(_,R){let O=_.length;for(;O--;)if(_[O][1].type==="labelImage"&&_[O][0]==="enter"){_[O][1];break}_[O+1][1].type="data",_[O+3][1].type="gfmFootnoteCallLabelMarker";const I={type:"gfmFootnoteCall",start:Object.assign({},_[O+3][1].start),end:Object.assign({},_[_.length-1][1].end)},F={type:"gfmFootnoteCallMarker",start:Object.assign({},_[O+3][1].end),end:Object.assign({},_[O+3][1].end)};F.end.column++,F.end.offset++,F.end._bufferIndex++;const z={type:"gfmFootnoteCallString",start:Object.assign({},F.end),end:Object.assign({},_[_.length-1][1].start)},L={type:"chunkString",contentType:"string",start:Object.assign({},z.start),end:Object.assign({},z.end)},U=[_[O+1],_[O+2],["enter",I,R],_[O+3],_[O+4],["enter",F,R],["exit",F,R],["enter",z,R],["enter",L,R],["exit",L,R],["exit",z,R],_[_.length-2],_[_.length-1],["exit",I,R]];return _.splice(O,_.length-O+1,...U),_}function tokenizeGfmFootnoteCall(_,R,O){const I=this,F=I.parser.gfmFootnotes||(I.parser.gfmFootnotes=[]);let z=0,L;return U;function U(Z){return _.enter("gfmFootnoteCall"),_.enter("gfmFootnoteCallLabelMarker"),_.consume(Z),_.exit("gfmFootnoteCallLabelMarker"),q}function q(Z){return Z!==94?O(Z):(_.enter("gfmFootnoteCallMarker"),_.consume(Z),_.exit("gfmFootnoteCallMarker"),_.enter("gfmFootnoteCallString"),_.enter("chunkString").contentType="string",G)}function G(Z){if(z>999||Z===93&&!L||Z===null||Z===91||markdownLineEndingOrSpace(Z))return O(Z);if(Z===93){_.exit("chunkString");const Y=_.exit("gfmFootnoteCallString");return F.includes(normalizeIdentifier(I.sliceSerialize(Y)))?(_.enter("gfmFootnoteCallLabelMarker"),_.consume(Z),_.exit("gfmFootnoteCallLabelMarker"),_.exit("gfmFootnoteCall"),R):O(Z)}return markdownLineEndingOrSpace(Z)||(L=!0),z++,_.consume(Z),Z===92?V:G}function V(Z){return Z===91||Z===92||Z===93?(_.consume(Z),z++,G):G(Z)}}function tokenizeDefinitionStart(_,R,O){const I=this,F=I.parser.gfmFootnotes||(I.parser.gfmFootnotes=[]);let z,L=0,U;return q;function q(ee){return _.enter("gfmFootnoteDefinition")._container=!0,_.enter("gfmFootnoteDefinitionLabel"),_.enter("gfmFootnoteDefinitionLabelMarker"),_.consume(ee),_.exit("gfmFootnoteDefinitionLabelMarker"),G}function G(ee){return ee===94?(_.enter("gfmFootnoteDefinitionMarker"),_.consume(ee),_.exit("gfmFootnoteDefinitionMarker"),_.enter("gfmFootnoteDefinitionLabelString"),_.enter("chunkString").contentType="string",V):O(ee)}function V(ee){if(L>999||ee===93&&!U||ee===null||ee===91||markdownLineEndingOrSpace(ee))return O(ee);if(ee===93){_.exit("chunkString");const ne=_.exit("gfmFootnoteDefinitionLabelString");return z=normalizeIdentifier(I.sliceSerialize(ne)),_.enter("gfmFootnoteDefinitionLabelMarker"),_.consume(ee),_.exit("gfmFootnoteDefinitionLabelMarker"),_.exit("gfmFootnoteDefinitionLabel"),Y}return markdownLineEndingOrSpace(ee)||(U=!0),L++,_.consume(ee),ee===92?Z:V}function Z(ee){return ee===91||ee===92||ee===93?(_.consume(ee),L++,V):V(ee)}function Y(ee){return ee===58?(_.enter("definitionMarker"),_.consume(ee),_.exit("definitionMarker"),F.includes(z)||F.push(z),factorySpace(_,W,"gfmFootnoteDefinitionWhitespace")):O(ee)}function W(ee){return R(ee)}}function tokenizeDefinitionContinuation(_,R,O){return _.check(blankLine,R,_.attempt(indent,R,O))}function gfmFootnoteDefinitionEnd(_){_.exit("gfmFootnoteDefinition")}function tokenizeIndent(_,R,O){const I=this;return factorySpace(_,F,"gfmFootnoteDefinitionIndent",5);function F(z){const L=I.events[I.events.length-1];return L&&L[1].type==="gfmFootnoteDefinitionIndent"&&L[2].sliceSerialize(L[1],!0).length===4?R(z):O(z)}}function gfmStrikethrough(_){let O=(_||{}).singleTilde;const I={name:"strikethrough",tokenize:z,resolveAll:F};return O==null&&(O=!0),{text:{126:I},insideSpan:{null:[I]},attentionMarkers:{null:[126]}};function F(L,U){let q=-1;for(;++q<L.length;)if(L[q][0]==="enter"&&L[q][1].type==="strikethroughSequenceTemporary"&&L[q][1]._close){let G=q;for(;G--;)if(L[G][0]==="exit"&&L[G][1].type==="strikethroughSequenceTemporary"&&L[G][1]._open&&L[q][1].end.offset-L[q][1].start.offset===L[G][1].end.offset-L[G][1].start.offset){L[q][1].type="strikethroughSequence",L[G][1].type="strikethroughSequence";const V={type:"strikethrough",start:Object.assign({},L[G][1].start),end:Object.assign({},L[q][1].end)},Z={type:"strikethroughText",start:Object.assign({},L[G][1].end),end:Object.assign({},L[q][1].start)},Y=[["enter",V,U],["enter",L[G][1],U],["exit",L[G][1],U],["enter",Z,U]],W=U.parser.constructs.insideSpan.null;W&&splice(Y,Y.length,0,resolveAll(W,L.slice(G+1,q),U)),splice(Y,Y.length,0,[["exit",Z,U],["enter",L[q][1],U],["exit",L[q][1],U],["exit",V,U]]),splice(L,G-1,q-G+3,Y),q=G+Y.length-2;break}}for(q=-1;++q<L.length;)L[q][1].type==="strikethroughSequenceTemporary"&&(L[q][1].type="data");return L}function z(L,U,q){const G=this.previous,V=this.events;let Z=0;return Y;function Y(ee){return G===126&&V[V.length-1][1].type!=="characterEscape"?q(ee):(L.enter("strikethroughSequenceTemporary"),W(ee))}function W(ee){const ne=classifyCharacter(G);if(ee===126)return Z>1?q(ee):(L.consume(ee),Z++,W);if(Z<2&&!O)return q(ee);const ie=L.exit("strikethroughSequenceTemporary"),se=classifyCharacter(ee);return ie._open=!se||se===2&&!!ne,ie._close=!ne||ne===2&&!!se,U(ee)}}}class EditMap{constructor(){this.map=[]}add(R,O,I){addImplementation(this,R,O,I)}consume(R){if(this.map.sort(function(z,L){return z[0]-L[0]}),this.map.length===0)return;let O=this.map.length;const I=[];for(;O>0;)O-=1,I.push(R.slice(this.map[O][0]+this.map[O][1]),this.map[O][2]),R.length=this.map[O][0];I.push(R.slice()),R.length=0;let F=I.pop();for(;F;){for(const z of F)R.push(z);F=I.pop()}this.map.length=0}}function addImplementation(_,R,O,I){let F=0;if(!(O===0&&I.length===0)){for(;F<_.map.length;){if(_.map[F][0]===R){_.map[F][1]+=O,_.map[F][2].push(...I);return}F+=1}_.map.push([R,O,I])}}function gfmTableAlign(_,R){let O=!1;const I=[];for(;R<_.length;){const F=_[R];if(O){if(F[0]==="enter")F[1].type==="tableContent"&&I.push(_[R+1][1].type==="tableDelimiterMarker"?"left":"none");else if(F[1].type==="tableContent"){if(_[R-1][1].type==="tableDelimiterMarker"){const z=I.length-1;I[z]=I[z]==="left"?"center":"right"}}else if(F[1].type==="tableDelimiterRow")break}else F[0]==="enter"&&F[1].type==="tableDelimiterRow"&&(O=!0);R+=1}return I}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(_,R,O){const I=this;let F=0,z=0,L;return U;function U(ge){let _e=I.events.length-1;for(;_e>-1;){const ve=I.events[_e][1].type;if(ve==="lineEnding"||ve==="linePrefix")_e--;else break}const ye=_e>-1?I.events[_e][1].type:null,we=ye==="tableHead"||ye==="tableRow"?fe:q;return we===fe&&I.parser.lazy[I.now().line]?O(ge):we(ge)}function q(ge){return _.enter("tableHead"),_.enter("tableRow"),G(ge)}function G(ge){return ge===124||(L=!0,z+=1),V(ge)}function V(ge){return ge===null?O(ge):markdownLineEnding(ge)?z>1?(z=0,I.interrupt=!0,_.exit("tableRow"),_.enter("lineEnding"),_.consume(ge),_.exit("lineEnding"),W):O(ge):markdownSpace(ge)?factorySpace(_,V,"whitespace")(ge):(z+=1,L&&(L=!1,F+=1),ge===124?(_.enter("tableCellDivider"),_.consume(ge),_.exit("tableCellDivider"),L=!0,V):(_.enter("data"),Z(ge)))}function Z(ge){return ge===null||ge===124||markdownLineEndingOrSpace(ge)?(_.exit("data"),V(ge)):(_.consume(ge),ge===92?Y:Z)}function Y(ge){return ge===92||ge===124?(_.consume(ge),Z):Z(ge)}function W(ge){return I.interrupt=!1,I.parser.lazy[I.now().line]?O(ge):(_.enter("tableDelimiterRow"),L=!1,markdownSpace(ge)?factorySpace(_,ee,"linePrefix",I.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ge):ee(ge))}function ee(ge){return ge===45||ge===58?ie(ge):ge===124?(L=!0,_.enter("tableCellDivider"),_.consume(ge),_.exit("tableCellDivider"),ne):ce(ge)}function ne(ge){return markdownSpace(ge)?factorySpace(_,ie,"whitespace")(ge):ie(ge)}function ie(ge){return ge===58?(z+=1,L=!0,_.enter("tableDelimiterMarker"),_.consume(ge),_.exit("tableDelimiterMarker"),se):ge===45?(z+=1,se(ge)):ge===null||markdownLineEnding(ge)?ue(ge):ce(ge)}function se(ge){return ge===45?(_.enter("tableDelimiterFiller"),oe(ge)):ce(ge)}function oe(ge){return ge===45?(_.consume(ge),oe):ge===58?(L=!0,_.exit("tableDelimiterFiller"),_.enter("tableDelimiterMarker"),_.consume(ge),_.exit("tableDelimiterMarker"),le):(_.exit("tableDelimiterFiller"),le(ge))}function le(ge){return markdownSpace(ge)?factorySpace(_,ue,"whitespace")(ge):ue(ge)}function ue(ge){return ge===124?ee(ge):ge===null||markdownLineEnding(ge)?!L||F!==z?ce(ge):(_.exit("tableDelimiterRow"),_.exit("tableHead"),R(ge)):ce(ge)}function ce(ge){return O(ge)}function fe(ge){return _.enter("tableRow"),me(ge)}function me(ge){return ge===124?(_.enter("tableCellDivider"),_.consume(ge),_.exit("tableCellDivider"),me):ge===null||markdownLineEnding(ge)?(_.exit("tableRow"),R(ge)):markdownSpace(ge)?factorySpace(_,me,"whitespace")(ge):(_.enter("data"),he(ge))}function he(ge){return ge===null||ge===124||markdownLineEndingOrSpace(ge)?(_.exit("data"),me(ge)):(_.consume(ge),ge===92?pe:he)}function pe(ge){return ge===92||ge===124?(_.consume(ge),he):he(ge)}}function resolveTable(_,R){let O=-1,I=!0,F=0,z=[0,0,0,0],L=[0,0,0,0],U=!1,q=0,G,V,Z;const Y=new EditMap;for(;++O<_.length;){const W=_[O],ee=W[1];W[0]==="enter"?ee.type==="tableHead"?(U=!1,q!==0&&(flushTableEnd(Y,R,q,G,V),V=void 0,q=0),G={type:"table",start:Object.assign({},ee.start),end:Object.assign({},ee.end)},Y.add(O,0,[["enter",G,R]])):ee.type==="tableRow"||ee.type==="tableDelimiterRow"?(I=!0,Z=void 0,z=[0,0,0,0],L=[0,O+1,0,0],U&&(U=!1,V={type:"tableBody",start:Object.assign({},ee.start),end:Object.assign({},ee.end)},Y.add(O,0,[["enter",V,R]])),F=ee.type==="tableDelimiterRow"?2:V?3:1):F&&(ee.type==="data"||ee.type==="tableDelimiterMarker"||ee.type==="tableDelimiterFiller")?(I=!1,L[2]===0&&(z[1]!==0&&(L[0]=L[1],Z=flushCell(Y,R,z,F,void 0,Z),z=[0,0,0,0]),L[2]=O)):ee.type==="tableCellDivider"&&(I?I=!1:(z[1]!==0&&(L[0]=L[1],Z=flushCell(Y,R,z,F,void 0,Z)),z=L,L=[z[1],O,0,0])):ee.type==="tableHead"?(U=!0,q=O):ee.type==="tableRow"||ee.type==="tableDelimiterRow"?(q=O,z[1]!==0?(L[0]=L[1],Z=flushCell(Y,R,z,F,O,Z)):L[1]!==0&&(Z=flushCell(Y,R,L,F,O,Z)),F=0):F&&(ee.type==="data"||ee.type==="tableDelimiterMarker"||ee.type==="tableDelimiterFiller")&&(L[3]=O)}for(q!==0&&flushTableEnd(Y,R,q,G,V),Y.consume(R.events),O=-1;++O<R.events.length;){const W=R.events[O];W[0]==="enter"&&W[1].type==="table"&&(W[1]._align=gfmTableAlign(R.events,O))}return _}function flushCell(_,R,O,I,F,z){const L=I===1?"tableHeader":I===2?"tableDelimiter":"tableData",U="tableContent";O[0]!==0&&(z.end=Object.assign({},getPoint(R.events,O[0])),_.add(O[0],0,[["exit",z,R]]));const q=getPoint(R.events,O[1]);if(z={type:L,start:Object.assign({},q),end:Object.assign({},q)},_.add(O[1],0,[["enter",z,R]]),O[2]!==0){const G=getPoint(R.events,O[2]),V=getPoint(R.events,O[3]),Z={type:U,start:Object.assign({},G),end:Object.assign({},V)};if(_.add(O[2],0,[["enter",Z,R]]),I!==2){const Y=R.events[O[2]],W=R.events[O[3]];if(Y[1].end=Object.assign({},W[1].end),Y[1].type="chunkText",Y[1].contentType="text",O[3]>O[2]+1){const ee=O[2]+1,ne=O[3]-O[2]-1;_.add(ee,ne,[])}}_.add(O[3]+1,0,[["exit",Z,R]])}return F!==void 0&&(z.end=Object.assign({},getPoint(R.events,F)),_.add(F,0,[["exit",z,R]]),z=void 0),z}function flushTableEnd(_,R,O,I,F){const z=[],L=getPoint(R.events,O);F&&(F.end=Object.assign({},L),z.push(["exit",F,R])),I.end=Object.assign({},L),z.push(["exit",I,R]),_.add(O+1,0,z)}function getPoint(_,R){const O=_[R],I=O[0]==="enter"?"start":"end";return O[1][I]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(_,R,O){const I=this;return F;function F(q){return I.previous!==null||!I._gfmTasklistFirstContentOfListItem?O(q):(_.enter("taskListCheck"),_.enter("taskListCheckMarker"),_.consume(q),_.exit("taskListCheckMarker"),z)}function z(q){return markdownLineEndingOrSpace(q)?(_.enter("taskListCheckValueUnchecked"),_.consume(q),_.exit("taskListCheckValueUnchecked"),L):q===88||q===120?(_.enter("taskListCheckValueChecked"),_.consume(q),_.exit("taskListCheckValueChecked"),L):O(q)}function L(q){return q===93?(_.enter("taskListCheckMarker"),_.consume(q),_.exit("taskListCheckMarker"),_.exit("taskListCheck"),U):O(q)}function U(q){return markdownLineEnding(q)?R(q):markdownSpace(q)?_.check({tokenize:spaceThenNonSpace},R,O)(q):O(q)}}function spaceThenNonSpace(_,R,O){return factorySpace(_,I,"whitespace");function I(F){return F===null?O(F):R(F)}}function gfm(_){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(_),gfmTable(),gfmTaskListItem()])}const emptyOptions={};function remarkGfm(_){const R=this,O=_||emptyOptions,I=R.data(),F=I.micromarkExtensions||(I.micromarkExtensions=[]),z=I.fromMarkdownExtensions||(I.fromMarkdownExtensions=[]),L=I.toMarkdownExtensions||(I.toMarkdownExtensions=[]);F.push(gfm(O)),z.push(gfmFromMarkdown()),L.push(gfmToMarkdown(O))}const SPECIAL_EVENT_OPTIONS=[{value:"lose_apical_adhesion",label:"Lose Apical Adhesion"},{value:"lose_basal_adhesion",label:"Lose Basal Adhesion"},{value:"lose_apical_interface",label:"Lose Apical Interface"},{value:"start_running",label:"Start Running"},{value:"cell_division",label:"Cell Division"},{value:"cell_cycle_reset",label:"Cell Cycle Reset"}],CELL_CYCLE_PHASE_OPTIONS=[{value:CellCyclePhase.Any,label:"Any"},{value:CellCyclePhase.Birth,label:"Birth"},{value:CellCyclePhase.G1,label:"G1"},{value:CellCyclePhase.G2,label:"G2"},{value:CellCyclePhase.Mitosis,label:"Mitosis"}],PARAMETER_OPTIONS=[{value:"stiffness_nuclei_apical",label:"Stiffness Nuclei-Apical"},{value:"stiffness_nuclei_basal",label:"Stiffness Nuclei-Basal"},{value:"stiffness_straightness",label:"Stiffness Straightness"},{value:"stiffness_apical_apical",label:"Stiffness Apical-Apical"},{value:"R_soft",label:"R Soft"},{value:"R_hard",label:"R Hard"},{value:"eta_A",label:"Eta A (Apical Rest Length)"},{value:"eta_B",label:"Eta B (Basal Rest Length)"},{value:"running_mode",label:"Running Mode"},{value:"k_apical_junction",label:"K Apical Junction"}];function NumberInput({value:_,onChange:R,disabled:O,min:I,max:F,label:z,className:L}){return jsxRuntimeExports.jsxs("div",{className:`flex flex-col gap-1 ${L}`,children:[z&&jsxRuntimeExports.jsx("label",{className:"text-xs text-muted-foreground",children:z}),jsxRuntimeExports.jsx(NumericTextInput,{value:_,onChange:R,disabled:O,min:I,max:F,className:"h-7 text-xs"})]})}function TimeRangeInput({start:_,end:R,onChangeStart:O,onChangeEnd:I,disabled:F}){const z=R!==-1,L=U=>{I(U?10:-1)};return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Checkbox,{checked:z,onCheckedChange:L,disabled:F,title:"Active"}),jsxRuntimeExports.jsx(NumberInput,{value:_,onChange:O,disabled:F||!z,min:0,step:.1,label:"Start",className:"w-20"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"-"}),jsxRuntimeExports.jsx(NumberInput,{value:R,onChange:I,disabled:F||!z,min:0,step:.1,label:"End",className:"w-20"})]})}function EventEditor({event:_,allEvents:R,onChange:O,onDelete:I,onMoveUp:F,onMoveDown:z,disabled:L}){const U=R.filter(G=>G.id!==_.id).map(G=>({value:G.id,label:G.name||G.id})),q=(G,V)=>{O({..._,[G]:V})};return jsxRuntimeExports.jsxs("div",{className:"border rounded-md p-3 space-y-3 bg-card",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Input,{value:_.id,onChange:G=>q("id",G.target.value),disabled:L,className:"h-7 text-xs w-24",placeholder:"ID",title:"Unique identifier"}),jsxRuntimeExports.jsx(Input,{value:_.name,onChange:G=>q("name",G.target.value),disabled:L,className:"h-7 text-xs flex-1",placeholder:"Name"}),jsxRuntimeExports.jsxs(Select,{value:_.type,onValueChange:G=>{if(G==="special"){const V={..._,type:"special",special_name:"lose_apical_adhesion"};delete V.target_parameter,delete V.formula,O(V)}else{const V={..._,type:"parameter_change",target_parameter:"stiffness_nuclei_apical",formula:"old_value * 0.1"};delete V.special_name,O(V)}},disabled:L,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 w-32 text-xs",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"special",children:"Special"}),jsxRuntimeExports.jsx(SelectItem,{value:"parameter_change",children:"Parameter"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-0.5",children:[F&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:F,disabled:L,className:"h-7 w-7",title:"Move up",children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}),z&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:z,disabled:L,className:"h-7 w-7",title:"Move down",children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:I,disabled:L,className:"h-7 w-7 text-destructive hover:text-destructive",title:"Delete event",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]}),_.type==="special"?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-muted-foreground w-20",children:"Action:"}),jsxRuntimeExports.jsxs(Select,{value:_.special_name,onValueChange:G=>{O({..._,special_name:G})},disabled:L,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 flex-1 text-xs",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsx(SelectContent,{children:SPECIAL_EVENT_OPTIONS.map(G=>jsxRuntimeExports.jsx(SelectItem,{value:G.value,children:G.label},G.value))})]}),jsxRuntimeExports.jsx(HelpPopover,{content:getParameterDescription(`events.special.${_.special_name}`)||""})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-muted-foreground w-20",children:"Parameter:"}),jsxRuntimeExports.jsxs(Select,{value:_.target_parameter,onValueChange:G=>{O({..._,target_parameter:G})},disabled:L,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 flex-1 text-xs",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsx(SelectContent,{children:PARAMETER_OPTIONS.map(G=>jsxRuntimeExports.jsx(SelectItem,{value:G.value,children:G.label},G.value))})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("label",{className:"text-xs text-muted-foreground w-20 flex items-center gap-1",children:["Formula:",jsxRuntimeExports.jsx(HelpPopover,{content:getParameterDescription("events.formula")||""})]}),jsxRuntimeExports.jsx(Input,{value:_.formula,onChange:G=>{O({..._,formula:G.target.value})},disabled:L,className:"h-7 flex-1 text-xs font-mono",placeholder:"old_value * 0.1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"text-xs text-muted-foreground flex items-center gap-1",children:["Time:",jsxRuntimeExports.jsx(HelpPopover,{content:getParameterDescription("events.time_range")||""})]}),jsxRuntimeExports.jsx(TimeRangeInput,{start:_.start,end:_.end,onChangeStart:G=>q("start",G),onChangeEnd:G=>q("end",G),disabled:L}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsxs("label",{className:"text-xs text-muted-foreground flex items-center gap-1",children:["Period",jsxRuntimeExports.jsx(HelpPopover,{content:getParameterDescription("events.period")||""})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsxs(Select,{value:_.period==="dt"?"dt":_.period===0?"0":"custom",onValueChange:G=>{G==="0"?q("period",0):G==="dt"?q("period","dt"):q("period",1)},disabled:L,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 w-20 text-xs",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"0",children:"Once"}),jsxRuntimeExports.jsx(SelectItem,{value:"dt",children:"dt"}),jsxRuntimeExports.jsx(SelectItem,{value:"custom",children:"Custom"})]})]}),typeof _.period=="number"&&_.period>0&&jsxRuntimeExports.jsx(NumericTextInput,{value:_.period,onChange:G=>q("period",Math.max(.001,G)),disabled:L,min:.001,className:"h-7 text-xs w-20"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsxs("label",{className:"text-xs text-muted-foreground flex items-center gap-1",children:["Probability",jsxRuntimeExports.jsx(HelpPopover,{content:getParameterDescription("events.probability")||""})]}),jsxRuntimeExports.jsx(Input,{type:"text",value:_.probability,onChange:G=>{q("probability",G.target.value)},disabled:L,placeholder:"1",className:"h-7 text-xs w-32"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsxs("label",{className:"text-xs text-muted-foreground flex items-center gap-1",children:["Prerequisite",jsxRuntimeExports.jsx(HelpPopover,{content:getParameterDescription("events.prereq")||""})]}),jsxRuntimeExports.jsxs(Select,{value:_.prereq||"__none__",onValueChange:G=>{q("prereq",G==="__none__"?null:G)},disabled:L,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 w-36 text-xs",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"None"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"__none__",children:"(None)"}),U.map(G=>jsxRuntimeExports.jsx(SelectItem,{value:G.value,children:G.label},G.value))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsxs("label",{className:"text-xs text-muted-foreground flex items-center gap-1",children:["Cell Phase",jsxRuntimeExports.jsx(HelpPopover,{content:getParameterDescription("events.cell_phase")||""})]}),jsxRuntimeExports.jsxs(Select,{value:_.cell_cycle_phase,onValueChange:G=>{q("cell_cycle_phase",G)},disabled:L,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 w-24 text-xs",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsx(SelectContent,{children:CELL_CYCLE_PHASE_OPTIONS.map(G=>jsxRuntimeExports.jsx(SelectItem,{value:G.value,children:G.label},G.value))})]})]})]})]})}function CompactEventCard({event:_,index:R,totalCount:O,allEvents:I,onEventChange:F,onEdit:z,onDelete:L,onMoveUp:U,onMoveDown:q,onCopy:G,disabled:V}){const Z=_.end!==-1,Y=ee=>{F(ee?{..._,end:10}:{..._,end:-1})},W=ee=>{F({..._,probability:ee.target.value})};return jsxRuntimeExports.jsxs("div",{className:`border rounded-md px-2 py-1 text-xs items-center gap-x-1.5 ${Z?"bg-card":"bg-muted/40 opacity-60"}`,style:{display:"grid",gridTemplateColumns:"20px minmax(0, 200px) 80px 110px 1fr"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>!V&&Y(!Z),disabled:V,className:`px-1.5 py-0.5 rounded text-[10px] font-medium cursor-pointer transition-colors ${Z?_.type==="special"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-muted text-muted-foreground"}`,title:`${_.type==="special"?"Special":"Parameter"} event  click to ${Z?"disable":"enable"}`,children:_.type==="special"?"S":"P"}),jsxRuntimeExports.jsx("span",{className:"font-medium truncate",title:_.name||_.id,children:_.name||_.id}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-0.5",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"p="}),jsxRuntimeExports.jsx(Input,{type:"text",value:_.probability,onChange:W,disabled:V,className:"h-5 text-xs w-full px-1",placeholder:"1"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-0.5",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground text-[10px]",children:"t:"}),jsxRuntimeExports.jsx(NumericTextInput,{value:_.start,onChange:ee=>F({..._,start:ee}),disabled:V||!Z,min:0,className:"h-5 text-xs w-full px-1"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"-"}),jsxRuntimeExports.jsx(NumericTextInput,{value:_.end,onChange:ee=>F({..._,end:ee}),disabled:V||!Z,min:0,className:"h-5 text-xs w-full px-1"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-0 justify-end",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:U,disabled:V||R===0,className:"h-5 w-5",title:"Move up",children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:q,disabled:V||R>=O-1,className:"h-5 w-5",title:"Move down",children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:z,disabled:V,className:"h-5 w-5",title:"Edit event",children:jsxRuntimeExports.jsx(Pencil,{className:"h-2.5 w-2.5"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:G,disabled:V,className:"h-5 w-5",title:"Copy event",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:L,disabled:V,className:"h-5 w-5 text-destructive hover:text-destructive",title:"Delete event",children:jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3"})})]})]})}function EventEditDialog({event:_,allEvents:R,onSave:O,onDelete:I,onClose:F,disabled:z}){return jsxRuntimeExports.jsx(Dialog,{open:_!==null,onOpenChange:L=>{L||F()},children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-lg max-h-[80vh] overflow-y-auto",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{className:"text-sm",children:["Edit Event: ",_?.name||_?.id]})}),_&&jsxRuntimeExports.jsx(EventEditor,{event:_,allEvents:R,onChange:O,onDelete:()=>{I(),F()},disabled:z})]})})}function EHTCellEventsTab({params:_,onChange:R,disabled:O}){const[I,F]=reactExports.useState(null),[z,L]=reactExports.useState(null),[U,q]=reactExports.useState(null),[G,V]=reactExports.useState(!1),Z=Object.keys(_.cell_types),Y=_.general.default_events??[],W=reactExports.useCallback(we=>{const ve=structuredClone(_);ve.general.default_events=we,R(ve)},[_,R]),ee=reactExports.useCallback((we,ve)=>{const $e=[...Y];$e[we]=ve,W($e)},[Y,W]),ne=reactExports.useCallback(we=>{W(Y.filter((ve,$e)=>$e!==we))},[Y,W]),ie=reactExports.useCallback((we,ve)=>{const $e=[...Y],be=ve==="up"?we-1:we+1;be<0||be>=$e.length||([$e[we],$e[be]]=[$e[be],$e[we]],W($e))},[Y,W]),se=reactExports.useCallback(we=>{const ve=DEFAULT_EVENT_PRESETS[we];if(!ve)return;const $e=structuredClone(ve);let be=$e.id,Ce=1;for(;Y.some(De=>De.id===be);)be=`${$e.id}_${Ce}`,Ce++;$e.id=be,W([...Y,$e])},[Y,W]),oe=reactExports.useCallback((we,ve,$e)=>{const be=structuredClone(_),Ce=be.cell_types[we];Ce.skip_default_events||(Ce.skip_default_events=[]),$e?Ce.skip_default_events.includes(ve)||Ce.skip_default_events.push(ve):Ce.skip_default_events=Ce.skip_default_events.filter(De=>De!==ve),R(be)},[_,R]),le=we=>_.cell_types[we].events_v2||[],ue=reactExports.useCallback((we,ve)=>{const $e=structuredClone(_);$e.cell_types[we].events_v2=ve,R($e)},[_,R]),ce=reactExports.useCallback((we,ve,$e)=>{const be=[...le(we)];be[ve]=$e,ue(we,be)},[_,ue]),fe=reactExports.useCallback((we,ve)=>{const $e=le(we).filter((be,Ce)=>Ce!==ve);ue(we,$e)},[_,ue]),me=reactExports.useCallback((we,ve,$e)=>{const be=[...le(we)],Ce=$e==="up"?ve-1:ve+1;Ce<0||Ce>=be.length||([be[ve],be[Ce]]=[be[Ce],be[ve]],ue(we,be))},[_,ue]),he=reactExports.useCallback((we,ve)=>{const $e=le(we);let be=1,Ce=`event_${be}`;for(;$e.some(Me=>Me.id===Ce);)be++,Ce=`event_${be}`;const De={id:Ce,name:`New Event ${be}`,start:0,end:10,period:0,probability:"1",prereq:null,cell_cycle_phase:CellCyclePhase.Any};let Ne;ve==="special"?Ne={...De,type:"special",special_name:"lose_apical_adhesion"}:Ne={...De,type:"parameter_change",target_parameter:"stiffness_nuclei_apical",formula:"old_value * 0.1"},ue(we,[...$e,Ne])},[_,ue]),pe=reactExports.useCallback(we=>{if(!U)return;const ve=le(we),$e=structuredClone(U);let be=$e.id,Ce=1;for(;ve.some(De=>De.id===be);)be=`${$e.id}_${Ce}`,Ce++;$e.id=be,$e.prereq=null,ue(we,[...ve,$e])},[U,_,ue]),ge=I?le(I.cellTypeKey)[I.eventIndex]??null:null,_e=I?le(I.cellTypeKey):[],ye=z!==null?Y[z]??null:null;return jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>V(!0),className:"inline-flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-colors",title:"Event system documentation",children:[jsxRuntimeExports.jsx(CircleQuestionMark,{className:"h-3.5 w-3.5"}),jsxRuntimeExports.jsx("span",{children:"Help"})]})}),jsxRuntimeExports.jsx(Dialog,{open:G,onOpenChange:V,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl max-h-[85vh] overflow-y-auto",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Cell Events Documentation"})}),jsxRuntimeExports.jsx("div",{className:"events-help-content prose prose-sm dark:prose-invert max-w-none",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm,remarkMath],rehypePlugins:[rehypeKatex],children:getParameterDescription("events.overview")??""})}),jsxRuntimeExports.jsx("style",{children:`
            .events-help-content { line-height: 1.6; font-size: 0.875rem; }
            .events-help-content h1 { font-size: 1.25rem; font-weight: 700; margin: 0 0 0.75rem; }
            .events-help-content h2 { font-size: 1rem; font-weight: 600; margin: 1.25rem 0 0.5rem; border-bottom: 1px solid hsl(var(--border)); padding-bottom: 0.25rem; }
            .events-help-content h3 { font-size: 0.9rem; font-weight: 600; margin: 1rem 0 0.375rem; }
            .events-help-content p { margin: 0.375rem 0; }
            .events-help-content ul, .events-help-content ol { margin: 0.375rem 0; padding-left: 1.25rem; }
            .events-help-content li { margin: 0.125rem 0; }
            .events-help-content code { background: hsl(var(--muted)); padding: 0.1rem 0.3rem; border-radius: 0.25rem; font-size: 0.85em; }
            .events-help-content pre { background: hsl(var(--muted)); padding: 0.5rem; border-radius: 0.375rem; overflow-x: auto; margin: 0.5rem 0; }
            .events-help-content pre code { background: none; padding: 0; }
            .events-help-content table { width: 100%; border-collapse: collapse; margin: 0.5rem 0; font-size: 0.8rem; }
            .events-help-content th { text-align: left; padding: 0.375rem 0.5rem; border-bottom: 2px solid hsl(var(--border)); font-weight: 600; }
            .events-help-content td { padding: 0.375rem 0.5rem; border-bottom: 1px solid hsl(var(--border)); }
            .events-help-content .katex { font-size: 0.95em; }
            .events-help-content .katex-display { margin: 0.5rem 0; text-align: center; overflow-x: auto; }
            .events-help-content strong { font-weight: 600; }
          `})]})}),jsxRuntimeExports.jsxs(Accordion,{type:"multiple",defaultValue:Z,children:[jsxRuntimeExports.jsxs(AccordionItem,{value:"default-events",children:[jsxRuntimeExports.jsxs(AccordionTrigger,{className:"py-2 text-sm font-semibold",children:["Default Events (",Y.length,")"]}),jsxRuntimeExports.jsx(AccordionContent,{className:"pb-2 pt-0",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[Y.length>0&&jsxRuntimeExports.jsx("div",{className:"space-y-1",children:Y.map((we,ve)=>jsxRuntimeExports.jsx(CompactEventCard,{event:we,index:ve,totalCount:Y.length,allEvents:Y,onEventChange:$e=>ee(ve,$e),onEdit:()=>L(ve),onDelete:()=>ne(ve),onMoveUp:()=>ie(ve,"up"),onMoveDown:()=>ie(ve,"down"),onCopy:()=>q(structuredClone(we)),disabled:O},`default-${we.id}-${ve}`))}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(DEFAULT_EVENT_PRESETS).map(([we,ve])=>jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>se(we),disabled:O,className:"h-6 text-xs gap-1",children:[jsxRuntimeExports.jsx(Plus,{className:"h-3 w-3"}),ve.name]},we))}),Y.length>0&&jsxRuntimeExports.jsxs("div",{className:"border rounded-md p-2 space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Skip default events per cell type:"}),Z.map(we=>{const ve=_.cell_types[we],$e=new Set(ve.skip_default_events??[]);return!Y.some(Ce=>$e.has(Ce.id))&&Y.length<=3?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs font-semibold min-w-[60px]",children:[we,":"]}),Y.map(Ce=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Checkbox,{checked:$e.has(Ce.id),onCheckedChange:De=>oe(we,Ce.id,!!De),disabled:O,className:"h-3.5 w-3.5"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground truncate",title:Ce.name,children:Ce.name||Ce.id})]},Ce.id))]},we):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs font-semibold min-w-[60px]",children:[we,":"]}),Y.map(Ce=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Checkbox,{checked:$e.has(Ce.id),onCheckedChange:De=>oe(we,Ce.id,!!De),disabled:O,className:"h-3.5 w-3.5"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground truncate",title:Ce.name,children:Ce.name||Ce.id})]},Ce.id))]},we)})]})]})})]}),Z.map(we=>{const ve=le(we);return jsxRuntimeExports.jsxs(AccordionItem,{value:we,children:[jsxRuntimeExports.jsxs(AccordionTrigger,{className:"py-2 text-sm font-semibold",children:[we," (",ve.length,")"]}),jsxRuntimeExports.jsx(AccordionContent,{className:"pb-2 pt-0",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[ve.length===0?jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground text-center py-2 border rounded-md bg-muted/30",children:"No events"}):jsxRuntimeExports.jsx("div",{className:"space-y-1",children:ve.map(($e,be)=>jsxRuntimeExports.jsx(CompactEventCard,{event:$e,index:be,totalCount:ve.length,allEvents:ve,onEventChange:Ce=>ce(we,be,Ce),onEdit:()=>F({cellTypeKey:we,eventIndex:be}),onDelete:()=>fe(we,be),onMoveUp:()=>me(we,be,"up"),onMoveDown:()=>me(we,be,"down"),onCopy:()=>q(structuredClone($e)),disabled:O},`${we}-${$e.id}-${be}`))}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>he(we,"special"),disabled:O,className:"h-6 text-xs gap-1",children:[jsxRuntimeExports.jsx(Plus,{className:"h-3 w-3"}),"Special"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>he(we,"parameter_change"),disabled:O,className:"h-6 text-xs gap-1",children:[jsxRuntimeExports.jsx(Plus,{className:"h-3 w-3"}),"Parameter"]}),U&&jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>pe(we),disabled:O,className:"h-6 text-xs gap-1",children:[jsxRuntimeExports.jsx(ClipboardPaste,{className:"h-3 w-3"}),"Paste"]})]})]})})]},we)})]}),jsxRuntimeExports.jsx(EventEditDialog,{event:ge,allEvents:_e,onSave:we=>{I&&ce(I.cellTypeKey,I.eventIndex,we)},onDelete:()=>{I&&fe(I.cellTypeKey,I.eventIndex)},onClose:()=>F(null),disabled:O}),jsxRuntimeExports.jsx(EventEditDialog,{event:ye,allEvents:Y,onSave:we=>{z!==null&&ee(z,we)},onDelete:()=>{z!==null&&ne(z)},onClose:()=>L(null),disabled:O})]})}function EHTSimulationTab({params:_,onChange:R,disabled:O}){const I=(z,L)=>{const U=structuredClone(_);U.general[z]=L,R(U)},F=_.general;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Time Stepping"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(NumberInput$1,{label:"Time Step (dt)",value:F.dt,onChange:z=>I("dt",z),disabled:O,step:.01,min:.001}),jsxRuntimeExports.jsx(NumberInput$1,{label:"Algo Time Step",value:F.alg_dt,onChange:z=>I("alg_dt",z),disabled:O,step:.001,min:1e-4}),jsxRuntimeExports.jsx(IntegerInput,{label:"Substeps",value:F.n_substeps,onChange:z=>I("n_substeps",z),disabled:O,min:1})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-muted/50 rounded-md text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1",children:"Notes:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-0.5",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"dt"}),": Output time step (visualization/export interval)"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"alg_dt"}),": Internal algorithm time step for physics"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"n_substeps"}),": Number of physics steps per output step"]}),jsxRuntimeExports.jsx("li",{children:"Effective physics dt = alg_dt, run n_substeps times per dt"})]})]})]})}function EHTWarningBanner({params:_,onChange:R,disabled:O}){const I=_.general,{totalNInit:F,avgMaxBasalJunctionDist:z}=reactExports.useMemo(()=>{const q=Object.values(_.cell_types),G=q.reduce((Y,W)=>Y+W.N_init,0),V=q.reduce((Y,W)=>Y+W.N_init*W.max_basal_junction_dist,0),Z=G>0?V/G:q.length>0?q.reduce((Y,W)=>Y+W.max_basal_junction_dist,0)/q.length:4;return{totalNInit:G,avgMaxBasalJunctionDist:Z}},[_.cell_types]),L=reactExports.useMemo(()=>{if(I.perimeter>0&&I.full_circle){const q=F*z;if(q<=I.perimeter)return{message:`Perimeter constraint violated: total cells (${F})  avg max_basal_junction_dist (${z.toFixed(1)}) = ${q.toFixed(1)}  perimeter (${I.perimeter.toFixed(1)}). Cells may not cover the membrane.`,maxCoverage:q}}return null},[F,I.perimeter,I.full_circle,z]),U=reactExports.useCallback(()=>{if(!R||!L)return;const q=I.perimeter+5,G=L.maxCoverage;if(G<=0)return;const V=q/G,Z=structuredClone(_);for(const Y of Object.keys(Z.cell_types))Z.cell_types[Y].max_basal_junction_dist*=V;R(Z)},[R,L,_,I.perimeter]);return L?jsxRuntimeExports.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-md text-xs text-yellow-600 dark:text-yellow-400 flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"flex-1",children:L.message}),R&&jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:U,disabled:O,className:"shrink-0 text-xs h-6 px-2",children:"Fix"})]}):null}const ehtUI={WarningBanner:EHTWarningBanner,ParametersTab:EHTParametersTab,CellTypesTab:EHTCellTypesTab,CellEventsTab:EHTCellEventsTab,SimulationTab:EHTSimulationTab};function ramanujanPerimeter(_,R){if(_===0&&R===0)return 0;if(_===R)return 2*Math.PI*_;const O=_+R,I=_-R,F=I*I/(O*O);return Math.PI*O*(1+3*F/(10+Math.sqrt(4-3*F)))}function computeEllipseFromPerimeter(_,R){if(R===0)return{a:1/0,b:1/0,curvature_1:0,curvature_2:0};const O=Math.sign(R),I=Math.abs(R),F=1,z=I,L=ramanujanPerimeter(F,z),U=_/L,q=U*F,G=U*z,V=q>0?O/q:0,Z=G>0?O/G:0;return{a:q,b:G,curvature_1:V,curvature_2:Z}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(_){for(var R=1;R<arguments.length;R++){var O=arguments[R];for(var I in O)({}).hasOwnProperty.call(O,I)&&(_[I]=O[I])}return _},_extends.apply(null,arguments)}var DEFAULT_CONFIG={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null,legacySubset:!1};function getSafeProperty(_,R){if(isSafeProperty(_,R))return _[R];throw typeof _[R]=="function"&&isSafeMethod(_,R)?new Error('Cannot access method "'+R+'" as a property'):new Error('No access to property "'+R+'"')}function setSafeProperty(_,R,O){if(isSafeProperty(_,R))return _[R]=O,O;throw new Error('No access to property "'+R+'"')}function isSafeProperty(_,R){return!isPlainObject(_)&&!Array.isArray(_)?!1:hasOwnProperty(safeNativeProperties,R)?!0:!(R in Object.prototype||R in Function.prototype)}function getSafeMethod(_,R){if(!isSafeMethod(_,R))throw new Error('No access to method "'+R+'"');return _[R]}function isSafeMethod(_,R){return _==null||typeof _[R]!="function"||hasOwnProperty(_,R)&&Object.getPrototypeOf&&R in Object.getPrototypeOf(_)?!1:hasOwnProperty(safeNativeMethods,R)?!0:!(R in Object.prototype||R in Function.prototype)}function isPlainObject(_){return typeof _=="object"&&_&&_.constructor===Object}var safeNativeProperties={length:!0,name:!0},safeNativeMethods={toString:!0,valueOf:!0,toLocaleString:!0};class ObjectWrappingMap{constructor(R){this.wrappedObject=R,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(R=>this.has(R)).values()}get(R){return getSafeProperty(this.wrappedObject,R)}set(R,O){return setSafeProperty(this.wrappedObject,R,O),this}has(R){return isSafeProperty(this.wrappedObject,R)&&R in this.wrappedObject}entries(){return mapIterator(this.keys(),R=>[R,this.get(R)])}forEach(R){for(var O of this.keys())R(this.get(O),O,this)}delete(R){isSafeProperty(this.wrappedObject,R)&&delete this.wrappedObject[R]}clear(){for(var R of this.keys())this.delete(R)}get size(){return Object.keys(this.wrappedObject).length}}class PartitionedMap{constructor(R,O,I){this.a=R,this.b=O,this.bKeys=I,this[Symbol.iterator]=this.entries}get(R){return this.bKeys.has(R)?this.b.get(R):this.a.get(R)}set(R,O){return this.bKeys.has(R)?this.b.set(R,O):this.a.set(R,O),this}has(R){return this.b.has(R)||this.a.has(R)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return mapIterator(this.keys(),R=>[R,this.get(R)])}forEach(R){for(var O of this.keys())R(this.get(O),O,this)}delete(R){return this.bKeys.has(R)?this.b.delete(R):this.a.delete(R)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function mapIterator(_,R){return{next:()=>{var O=_.next();return O.done?O:{value:R(O.value),done:!1}}}}function createEmptyMap(){return new Map}function createMap$1(_){if(!_)return createEmptyMap();if(isMap(_))return _;if(isObject$1(_))return new ObjectWrappingMap(_);throw new Error("createMap can create maps from objects or Maps")}function toObject(_){if(_ instanceof ObjectWrappingMap)return _.wrappedObject;var R={};for(var O of _.keys()){var I=_.get(O);setSafeProperty(R,O,I)}return R}function isNumber$1(_){return typeof _=="number"}function isBigNumber(_){return!_||typeof _!="object"||typeof _.constructor!="function"?!1:_.isBigNumber===!0&&typeof _.constructor.prototype=="object"&&_.constructor.prototype.isBigNumber===!0||typeof _.constructor.isDecimal=="function"&&_.constructor.isDecimal(_)===!0}function isBigInt(_){return typeof _=="bigint"}function isComplex(_){return _&&typeof _=="object"&&Object.getPrototypeOf(_).isComplex===!0||!1}function isFraction(_){return _&&typeof _=="object"&&Object.getPrototypeOf(_).isFraction===!0||!1}function isUnit(_){return _&&_.constructor.prototype.isUnit===!0||!1}function isString(_){return typeof _=="string"}var isArray$1=Array.isArray;function isMatrix(_){return _&&_.constructor.prototype.isMatrix===!0||!1}function isCollection(_){return Array.isArray(_)||isMatrix(_)}function isDenseMatrix(_){return _&&_.isDenseMatrix&&_.constructor.prototype.isMatrix===!0||!1}function isSparseMatrix(_){return _&&_.isSparseMatrix&&_.constructor.prototype.isMatrix===!0||!1}function isRange(_){return _&&_.constructor.prototype.isRange===!0||!1}function isIndex(_){return _&&_.constructor.prototype.isIndex===!0||!1}function isBoolean(_){return typeof _=="boolean"}function isResultSet(_){return _&&_.constructor.prototype.isResultSet===!0||!1}function isHelp(_){return _&&_.constructor.prototype.isHelp===!0||!1}function isFunction(_){return typeof _=="function"}function isDate(_){return _ instanceof Date}function isRegExp(_){return _ instanceof RegExp}function isObject$1(_){return!!(_&&typeof _=="object"&&_.constructor===Object&&!isComplex(_)&&!isFraction(_))}function isMap(_){return _?_ instanceof Map||_ instanceof ObjectWrappingMap||typeof _.set=="function"&&typeof _.get=="function"&&typeof _.keys=="function"&&typeof _.has=="function":!1}function isNull(_){return _===null}function isUndefined(_){return _===void 0}function isAccessorNode(_){return _&&_.isAccessorNode===!0&&_.constructor.prototype.isNode===!0||!1}function isArrayNode(_){return _&&_.isArrayNode===!0&&_.constructor.prototype.isNode===!0||!1}function isAssignmentNode(_){return _&&_.isAssignmentNode===!0&&_.constructor.prototype.isNode===!0||!1}function isBlockNode(_){return _&&_.isBlockNode===!0&&_.constructor.prototype.isNode===!0||!1}function isConditionalNode(_){return _&&_.isConditionalNode===!0&&_.constructor.prototype.isNode===!0||!1}function isConstantNode(_){return _&&_.isConstantNode===!0&&_.constructor.prototype.isNode===!0||!1}function rule2Node(_){return isConstantNode(_)||isOperatorNode(_)&&_.args.length===1&&isConstantNode(_.args[0])&&"-+~".includes(_.op)}function isFunctionAssignmentNode(_){return _&&_.isFunctionAssignmentNode===!0&&_.constructor.prototype.isNode===!0||!1}function isFunctionNode(_){return _&&_.isFunctionNode===!0&&_.constructor.prototype.isNode===!0||!1}function isIndexNode(_){return _&&_.isIndexNode===!0&&_.constructor.prototype.isNode===!0||!1}function isNode(_){return _&&_.isNode===!0&&_.constructor.prototype.isNode===!0||!1}function isObjectNode(_){return _&&_.isObjectNode===!0&&_.constructor.prototype.isNode===!0||!1}function isOperatorNode(_){return _&&_.isOperatorNode===!0&&_.constructor.prototype.isNode===!0||!1}function isParenthesisNode(_){return _&&_.isParenthesisNode===!0&&_.constructor.prototype.isNode===!0||!1}function isRangeNode(_){return _&&_.isRangeNode===!0&&_.constructor.prototype.isNode===!0||!1}function isRelationalNode(_){return _&&_.isRelationalNode===!0&&_.constructor.prototype.isNode===!0||!1}function isSymbolNode(_){return _&&_.isSymbolNode===!0&&_.constructor.prototype.isNode===!0||!1}function isChain(_){return _&&_.constructor.prototype.isChain===!0||!1}function typeOf$1(_){var R=typeof _;return R==="object"?_===null?"null":isBigNumber(_)?"BigNumber":_.constructor&&_.constructor.name?_.constructor.name:"Object":R}function clone$3(_){var R=typeof _;if(R==="number"||R==="bigint"||R==="string"||R==="boolean"||_===null||_===void 0)return _;if(typeof _.clone=="function")return _.clone();if(Array.isArray(_))return _.map(function(O){return clone$3(O)});if(_ instanceof Date)return new Date(_.valueOf());if(isBigNumber(_))return _;if(isObject$1(_))return mapObject(_,clone$3);if(R==="function")return _;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(_,")"))}function mapObject(_,R){var O={};for(var I in _)hasOwnProperty(_,I)&&(O[I]=R(_[I]));return O}function extend$1(_,R){for(var O in R)hasOwnProperty(R,O)&&(_[O]=R[O]);return _}function deepStrictEqual(_,R){var O,I,F;if(Array.isArray(_)){if(!Array.isArray(R)||_.length!==R.length)return!1;for(I=0,F=_.length;I<F;I++)if(!deepStrictEqual(_[I],R[I]))return!1;return!0}else{if(typeof _=="function")return _===R;if(_ instanceof Object){if(Array.isArray(R)||!(R instanceof Object))return!1;for(O in _)if(!(O in R)||!deepStrictEqual(_[O],R[O]))return!1;for(O in R)if(!(O in _))return!1;return!0}else return _===R}}function lazy(_,R,O){var I=!0,F;Object.defineProperty(_,R,{get:function(){return I&&(F=O(),I=!1),F},set:function(L){F=L,I=!1},configurable:!0,enumerable:!0})}function hasOwnProperty(_,R){return _&&Object.hasOwnProperty.call(_,R)}function pickShallow(_,R){for(var O={},I=0;I<R.length;I++){var F=R[I],z=_[F];z!==void 0&&(O[F]=z)}return O}var MATRIX_OPTIONS=["Matrix","Array"],NUMBER_OPTIONS=["number","BigNumber","bigint","Fraction"],config$1=function _(R){if(R)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(DEFAULT_CONFIG)};_extends(config$1,DEFAULT_CONFIG,{MATRIX_OPTIONS,NUMBER_OPTIONS});function ok(){return!0}function notOk(){return!1}function undef(){}const NOT_TYPED_FUNCTION="Argument is not a typed-function.";function create$2(){function _(Ie){return typeof Ie=="object"&&Ie!==null&&Ie.constructor===Object}const R=[{name:"number",test:function(Ie){return typeof Ie=="number"}},{name:"string",test:function(Ie){return typeof Ie=="string"}},{name:"boolean",test:function(Ie){return typeof Ie=="boolean"}},{name:"Function",test:function(Ie){return typeof Ie=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(Ie){return Ie instanceof Date}},{name:"RegExp",test:function(Ie){return Ie instanceof RegExp}},{name:"Object",test:_},{name:"null",test:function(Ie){return Ie===null}},{name:"undefined",test:function(Ie){return Ie===void 0}}],O={name:"any",test:ok,isAny:!0};let I,F,z=0,L={createCount:0};function U(Ie){const Ue=I.get(Ie);if(Ue)return Ue;let Xe='Unknown type "'+Ie+'"';const Fe=Ie.toLowerCase();let Je;for(Je of F)if(Je.toLowerCase()===Fe){Xe+='. Did you mean "'+Je+'" ?';break}throw new TypeError(Xe)}function q(Ie){let Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const Xe=Ue?U(Ue).index:F.length,Fe=[];for(let et=0;et<Ie.length;++et){if(!Ie[et]||typeof Ie[et].name!="string"||typeof Ie[et].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const ut=Ie[et].name;if(I.has(ut))throw new TypeError('Duplicate type name "'+ut+'"');Fe.push(ut),I.set(ut,{name:ut,test:Ie[et].test,isAny:Ie[et].isAny,index:Xe+et,conversionsTo:[]})}const Je=F.slice(Xe);F=F.slice(0,Xe).concat(Fe).concat(Je);for(let et=Xe+Fe.length;et<F.length;++et)I.get(F[et]).index=et}function G(){I=new Map,F=[],z=0,q([O],!1)}G(),q(R);function V(){let Ie;for(Ie of F)I.get(Ie).conversionsTo=[];z=0}function Z(Ie){const Ue=F.filter(Xe=>{const Fe=I.get(Xe);return!Fe.isAny&&Fe.test(Ie)});return Ue.length?Ue:["any"]}function Y(Ie){return Ie&&typeof Ie=="function"&&"_typedFunctionData"in Ie}function W(Ie,Ue,Xe){if(!Y(Ie))throw new TypeError(NOT_TYPED_FUNCTION);const Fe=Xe&&Xe.exact,Je=Array.isArray(Ue)?Ue.join(","):Ue,et=ue(Je),ut=ie(et);if(!Fe||ut in Ie.signatures){const xt=Ie._typedFunctionData.signatureMap.get(ut);if(xt)return xt}const ct=et.length;let bt;if(Fe){bt=[];let xt;for(xt in Ie.signatures)bt.push(Ie._typedFunctionData.signatureMap.get(xt))}else bt=Ie._typedFunctionData.signatures;for(let xt=0;xt<ct;++xt){const $t=et[xt],At=[];let Ct;for(Ct of bt){const Pt=he(Ct.params,xt);if(!(!Pt||$t.restParam&&!Pt.restParam)){if(!Pt.hasAny){const Oe=le(Pt);if($t.types.some(at=>!Oe.has(at.name)))continue}At.push(Ct)}}if(bt=At,bt.length===0)break}let ht;for(ht of bt)if(ht.params.length<=ct)return ht;throw new TypeError("Signature not found (signature: "+(Ie.name||"unnamed")+"("+ie(et,", ")+"))")}function ee(Ie,Ue,Xe){return W(Ie,Ue,Xe).implementation}function ne(Ie,Ue){const Xe=U(Ue);if(Xe.test(Ie))return Ie;const Fe=Xe.conversionsTo;if(Fe.length===0)throw new Error("There are no conversions to "+Ue+" defined.");for(let Je=0;Je<Fe.length;Je++)if(U(Fe[Je].from).test(Ie))return Fe[Je].convert(Ie);throw new Error("Cannot convert "+Ie+" to "+Ue)}function ie(Ie){let Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return Ie.map(Xe=>Xe.name).join(Ue)}function se(Ie){const Ue=Ie.indexOf("...")===0,Fe=(Ue?Ie.length>3?Ie.slice(3):"any":Ie).split("|").map(ct=>U(ct.trim()));let Je=!1,et=Ue?"...":"";return{types:Fe.map(function(ct){return Je=ct.isAny||Je,et+=ct.name+"|",{name:ct.name,typeIndex:ct.index,test:ct.test,isAny:ct.isAny,conversion:null,conversionIndex:-1}}),name:et.slice(0,-1),hasAny:Je,hasConversion:!1,restParam:Ue}}function oe(Ie){const Ue=Ie.types.map(ut=>ut.name),Xe=Ce(Ue);let Fe=Ie.hasAny,Je=Ie.name;const et=Xe.map(function(ut){const ct=U(ut.from);return Fe=ct.isAny||Fe,Je+="|"+ut.from,{name:ut.from,typeIndex:ct.index,test:ct.test,isAny:ct.isAny,conversion:ut,conversionIndex:ut.index}});return{types:Ie.types.concat(et),name:Je,hasAny:Fe,hasConversion:et.length>0,restParam:Ie.restParam}}function le(Ie){return Ie.typeSet||(Ie.typeSet=new Set,Ie.types.forEach(Ue=>Ie.typeSet.add(Ue.name))),Ie.typeSet}function ue(Ie){const Ue=[];if(typeof Ie!="string")throw new TypeError("Signatures must be strings");const Xe=Ie.trim();if(Xe==="")return Ue;const Fe=Xe.split(",");for(let Je=0;Je<Fe.length;++Je){const et=se(Fe[Je].trim());if(et.restParam&&Je!==Fe.length-1)throw new SyntaxError('Unexpected rest parameter "'+Fe[Je]+'": only allowed for the last parameter');if(et.types.length===0)return null;Ue.push(et)}return Ue}function ce(Ie){const Ue=ke(Ie);return Ue?Ue.restParam:!1}function fe(Ie){if(!Ie||Ie.types.length===0)return ok;if(Ie.types.length===1)return U(Ie.types[0].name).test;if(Ie.types.length===2){const Ue=U(Ie.types[0].name).test,Xe=U(Ie.types[1].name).test;return function(Je){return Ue(Je)||Xe(Je)}}else{const Ue=Ie.types.map(function(Xe){return U(Xe.name).test});return function(Fe){for(let Je=0;Je<Ue.length;Je++)if(Ue[Je](Fe))return!0;return!1}}}function me(Ie){let Ue,Xe,Fe;if(ce(Ie)){Ue=Le(Ie).map(fe);const Je=Ue.length,et=fe(ke(Ie)),ut=function(ct){for(let bt=Je;bt<ct.length;bt++)if(!et(ct[bt]))return!1;return!0};return function(bt){for(let ht=0;ht<Ue.length;ht++)if(!Ue[ht](bt[ht]))return!1;return ut(bt)&&bt.length>=Je+1}}else return Ie.length===0?function(et){return et.length===0}:Ie.length===1?(Xe=fe(Ie[0]),function(et){return Xe(et[0])&&et.length===1}):Ie.length===2?(Xe=fe(Ie[0]),Fe=fe(Ie[1]),function(et){return Xe(et[0])&&Fe(et[1])&&et.length===2}):(Ue=Ie.map(fe),function(et){for(let ut=0;ut<Ue.length;ut++)if(!Ue[ut](et[ut]))return!1;return et.length===Ue.length})}function he(Ie,Ue){return Ue<Ie.length?Ie[Ue]:ce(Ie)?ke(Ie):null}function pe(Ie,Ue){const Xe=he(Ie,Ue);return Xe?le(Xe):new Set}function ge(Ie){return Ie.conversion===null||Ie.conversion===void 0}function _e(Ie,Ue){const Xe=new Set;return Ie.forEach(Fe=>{const Je=pe(Fe.params,Ue);let et;for(et of Je)Xe.add(et)}),Xe.has("any")?["any"]:Array.from(Xe)}function ye(Ie,Ue,Xe){let Fe,Je;const et=Ie||"unnamed";let ut=Xe,ct;for(ct=0;ct<Ue.length;ct++){const $t=[];if(ut.forEach(At=>{const Ct=he(At.params,ct),Pt=fe(Ct);(ct<At.params.length||ce(At.params))&&Pt(Ue[ct])&&$t.push(At)}),$t.length===0){if(Je=_e(ut,ct),Je.length>0){const At=Z(Ue[ct]);return Fe=new TypeError("Unexpected type of argument in function "+et+" (expected: "+Je.join(" or ")+", actual: "+At.join(" | ")+", index: "+ct+")"),Fe.data={category:"wrongType",fn:et,index:ct,actual:At,expected:Je},Fe}}else ut=$t}const bt=ut.map(function($t){return ce($t.params)?1/0:$t.params.length});if(Ue.length<Math.min.apply(null,bt))return Je=_e(ut,ct),Fe=new TypeError("Too few arguments in function "+et+" (expected: "+Je.join(" or ")+", index: "+Ue.length+")"),Fe.data={category:"tooFewArgs",fn:et,index:Ue.length,expected:Je},Fe;const ht=Math.max.apply(null,bt);if(Ue.length>ht)return Fe=new TypeError("Too many arguments in function "+et+" (expected: "+ht+", actual: "+Ue.length+")"),Fe.data={category:"tooManyArgs",fn:et,index:Ue.length,expectedLength:ht},Fe;const xt=[];for(let $t=0;$t<Ue.length;++$t)xt.push(Z(Ue[$t]).join("|"));return Fe=new TypeError('Arguments of type "'+xt.join(", ")+'" do not match any of the defined signatures of function '+et+"."),Fe.data={category:"mismatch",actual:xt},Fe}function we(Ie){let Ue=F.length+1;for(let Xe=0;Xe<Ie.types.length;Xe++)Ue=Math.min(Ue,Ie.types[Xe].typeIndex);return Ue}function ve(Ie){let Ue=z+1;for(let Xe=0;Xe<Ie.types.length;Xe++)ge(Ie.types[Xe])||(Ue=Math.min(Ue,Ie.types[Xe].conversionIndex));return Ue}function $e(Ie,Ue){if(Ie.hasAny){if(!Ue.hasAny)return .1}else if(Ue.hasAny)return-.1;if(Ie.restParam){if(!Ue.restParam)return .01}else if(Ue.restParam)return-.01;const Xe=we(Ie)-we(Ue);if(Xe<0)return-.001;if(Xe>0)return .001;const Fe=ve(Ie),Je=ve(Ue);if(Ie.hasConversion){if(!Ue.hasConversion)return(1+Fe)*1e-6}else if(Ue.hasConversion)return-(1+Je)*1e-6;const et=Fe-Je;return et<0?-1e-7:et>0?1e-7:0}function be(Ie,Ue){const Xe=Ie.params,Fe=Ue.params,Je=ke(Xe),et=ke(Fe),ut=ce(Xe),ct=ce(Fe);if(ut&&Je.hasAny){if(!ct||!et.hasAny)return 1e7}else if(ct&&et.hasAny)return-1e7;let bt=0,ht=0,xt;for(xt of Xe)xt.hasAny&&++bt,xt.hasConversion&&++ht;let $t=0,At=0;for(xt of Fe)xt.hasAny&&++$t,xt.hasConversion&&++At;if(bt!==$t)return(bt-$t)*1e6;if(ut&&Je.hasConversion){if(!ct||!et.hasConversion)return 1e5}else if(ct&&et.hasConversion)return-1e5;if(ht!==At)return(ht-At)*1e4;if(ut){if(!ct)return 1e3}else if(ct)return-1e3;const Ct=(Xe.length-Fe.length)*(ut?-100:100);if(Ct!==0)return Ct;const Pt=[];let Oe=0;for(let Tt=0;Tt<Xe.length;++Tt){const Mt=$e(Xe[Tt],Fe[Tt]);Pt.push(Mt),Oe+=Mt}if(Oe!==0)return(Oe<0?-10:10)+Oe;let at,mt=9;const Et=mt/(Pt.length+1);for(at of Pt){if(at!==0)return(at<0?-mt:mt)+at;mt-=Et}return 0}function Ce(Ie){if(Ie.length===0)return[];const Ue=Ie.map(U);if(Ie.length===1)return Ue[0].conversionsTo;const Xe=new Set(Ie),Fe=new Set;for(let et=0;et<Ue.length;++et)for(const ut of Ue[et].conversionsTo)Xe.has(ut.from)||Fe.add(ut.from);const Je=[];for(const et of Fe){let ut=z+1,ct=null;for(let bt=0;bt<Ue.length;++bt)for(const ht of Ue[bt].conversionsTo)ht.from===et&&ht.index<ut&&(ut=ht.index,ct=ht);Je.push(ct)}return Je}function De(Ie,Ue){let Xe=Ue,Fe="";if(Ie.some(et=>et.hasConversion)){const et=ce(Ie),ut=Ie.map(Ne);Fe=ut.map(ct=>ct.name).join(";"),Xe=function(){const bt=[],ht=et?arguments.length-1:arguments.length;for(let xt=0;xt<ht;xt++)bt[xt]=ut[xt](arguments[xt]);return et&&(bt[ht]=arguments[ht].map(ut[ht])),Ue.apply(this,bt)}}let Je=Xe;if(ce(Ie)){const et=Ie.length-1;Je=function(){return Xe.apply(this,Ge(arguments,0,et).concat([Ge(arguments,et)]))}}return Fe&&Object.defineProperty(Je,"name",{value:Fe}),Je}function Ne(Ie){let Ue,Xe,Fe,Je;const et=[],ut=[];let ct="";Ie.types.forEach(function(ht){ht.conversion&&(ct+=ht.conversion.from+"~>"+ht.conversion.to+",",et.push(U(ht.conversion.from).test),ut.push(ht.conversion.convert))}),ct?ct=ct.slice(0,-1):ct="pass";let bt=ht=>ht;switch(ut.length){case 0:break;case 1:Ue=et[0],Fe=ut[0],bt=function(xt){return Ue(xt)?Fe(xt):xt};break;case 2:Ue=et[0],Xe=et[1],Fe=ut[0],Je=ut[1],bt=function(xt){return Ue(xt)?Fe(xt):Xe(xt)?Je(xt):xt};break;default:bt=function(xt){for(let $t=0;$t<ut.length;$t++)if(et[$t](xt))return ut[$t](xt);return xt}}return Object.defineProperty(bt,"name",{value:ct}),bt}function Me(Ie){function Ue(Xe,Fe,Je){if(Fe<Xe.length){const et=Xe[Fe];let ut=[];if(et.restParam){const ct=et.types.filter(ge);ct.length<et.types.length&&ut.push({types:ct,name:"..."+ct.map(bt=>bt.name).join("|"),hasAny:ct.some(bt=>bt.isAny),hasConversion:!1,restParam:!0}),ut.push(et)}else ut=et.types.map(function(ct){return{types:[ct],name:ct.name,hasAny:ct.isAny,hasConversion:ct.conversion,restParam:!1}});return He(ut,function(ct){return Ue(Xe,Fe+1,Je.concat([ct]))})}else return[Je]}return Ue(Ie,0,[])}function Te(Ie,Ue){const Xe=Math.max(Ie.length,Ue.length);for(let ct=0;ct<Xe;ct++){const bt=pe(Ie,ct),ht=pe(Ue,ct);let xt=!1,$t;for($t of ht)if(bt.has($t)){xt=!0;break}if(!xt)return!1}const Fe=Ie.length,Je=Ue.length,et=ce(Ie),ut=ce(Ue);return et?ut?Fe===Je:Je>=Fe:ut?Fe>=Je:Fe===Je}function Re(Ie){return Ie.map(Ue=>We(Ue)?tt(Ue.referToSelf.callback):rt(Ue)?Ae(Ue.referTo.references,Ue.referTo.callback):Ue)}function Se(Ie,Ue,Xe){const Fe=[];let Je;for(Je of Ie){let et=Xe[Je];if(typeof et!="number")throw new TypeError('No definition for referenced signature "'+Je+'"');if(et=Ue[et],typeof et!="function")return!1;Fe.push(et)}return Fe}function ze(Ie,Ue,Xe){const Fe=Re(Ie),Je=new Array(Fe.length).fill(!1);let et=!0;for(;et;){et=!1;let ut=!0;for(let ct=0;ct<Fe.length;++ct){if(Je[ct])continue;const bt=Fe[ct];if(We(bt))Fe[ct]=bt.referToSelf.callback(Xe),Fe[ct].referToSelf=bt.referToSelf,Je[ct]=!0,ut=!1;else if(rt(bt)){const ht=Se(bt.referTo.references,Fe,Ue);ht?(Fe[ct]=bt.referTo.callback.apply(this,ht),Fe[ct].referTo=bt.referTo,Je[ct]=!0,ut=!1):et=!0}}if(ut&&et)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Fe}function Pe(Ie){const Ue=/\bthis(\(|\.signatures\b)/;Object.keys(Ie).forEach(Xe=>{const Fe=Ie[Xe];if(Ue.test(Fe.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Qe(Ie,Ue){if(L.createCount++,Object.keys(Ue).length===0)throw new SyntaxError("No signatures provided");L.warnAgainstDeprecatedThis&&Pe(Ue);const Xe=[],Fe=[],Je={},et=[];let ut;for(ut in Ue){if(!Object.prototype.hasOwnProperty.call(Ue,ut))continue;const Lt=ue(ut);if(!Lt)continue;Xe.forEach(function(Nr){if(Te(Nr,Lt))throw new TypeError('Conflicting signatures "'+ie(Nr)+'" and "'+ie(Lt)+'".')}),Xe.push(Lt);const qt=Fe.length;Fe.push(Ue[ut]);const us=Lt.map(oe);let si;for(si of Me(us)){const Nr=ie(si);et.push({params:si,name:Nr,fn:qt}),si.every(Rn=>!Rn.hasConversion)&&(Je[Nr]=qt)}}et.sort(be);const ct=ze(Fe,Je,Kr);let bt;for(bt in Je)Object.prototype.hasOwnProperty.call(Je,bt)&&(Je[bt]=ct[Je[bt]]);const ht=[],xt=new Map;for(bt of et)xt.has(bt.name)||(bt.fn=ct[bt.fn],ht.push(bt),xt.set(bt.name,bt));const $t=ht[0]&&ht[0].params.length<=2&&!ce(ht[0].params),At=ht[1]&&ht[1].params.length<=2&&!ce(ht[1].params),Ct=ht[2]&&ht[2].params.length<=2&&!ce(ht[2].params),Pt=ht[3]&&ht[3].params.length<=2&&!ce(ht[3].params),Oe=ht[4]&&ht[4].params.length<=2&&!ce(ht[4].params),at=ht[5]&&ht[5].params.length<=2&&!ce(ht[5].params),mt=$t&&At&&Ct&&Pt&&Oe&&at;for(let Lt=0;Lt<ht.length;++Lt)ht[Lt].test=me(ht[Lt].params);const Et=$t?fe(ht[0].params[0]):notOk,Tt=At?fe(ht[1].params[0]):notOk,Mt=Ct?fe(ht[2].params[0]):notOk,lr=Pt?fe(ht[3].params[0]):notOk,zr=Oe?fe(ht[4].params[0]):notOk,aa=at?fe(ht[5].params[0]):notOk,rs=$t?fe(ht[0].params[1]):notOk,sa=At?fe(ht[1].params[1]):notOk,ii=Ct?fe(ht[2].params[1]):notOk,Eo=Pt?fe(ht[3].params[1]):notOk,ns=Oe?fe(ht[4].params[1]):notOk,is=at?fe(ht[5].params[1]):notOk;for(let Lt=0;Lt<ht.length;++Lt)ht[Lt].implementation=De(ht[Lt].params,ht[Lt].fn);const as=$t?ht[0].implementation:undef,oa=At?ht[1].implementation:undef,la=Ct?ht[2].implementation:undef,ss=Pt?ht[3].implementation:undef,os=Oe?ht[4].implementation:undef,tn=at?ht[5].implementation:undef,hr=$t?ht[0].params.length:-1,xr=At?ht[1].params.length:-1,Tn=Ct?ht[2].params.length:-1,ua=Pt?ht[3].params.length:-1,Co=Oe?ht[4].params.length:-1,$o=at?ht[5].params.length:-1,ls=mt?6:0,ai=ht.length,ca=ht.map(Lt=>Lt.test),Nn=ht.map(Lt=>Lt.implementation),Mn=function(){for(let qt=ls;qt<ai;qt++)if(ca[qt](arguments))return Nn[qt].apply(this,arguments);return L.onMismatch(Ie,arguments,ht)};function Kr(Lt,qt){return arguments.length===hr&&Et(Lt)&&rs(qt)?as.apply(this,arguments):arguments.length===xr&&Tt(Lt)&&sa(qt)?oa.apply(this,arguments):arguments.length===Tn&&Mt(Lt)&&ii(qt)?la.apply(this,arguments):arguments.length===ua&&lr(Lt)&&Eo(qt)?ss.apply(this,arguments):arguments.length===Co&&zr(Lt)&&ns(qt)?os.apply(this,arguments):arguments.length===$o&&aa(Lt)&&is(qt)?tn.apply(this,arguments):Mn.apply(this,arguments)}try{Object.defineProperty(Kr,"name",{value:Ie})}catch{}return Kr.signatures=Je,Kr._typedFunctionData={signatures:ht,signatureMap:xt},Kr}function Ze(Ie,Ue,Xe){throw ye(Ie,Ue,Xe)}function Le(Ie){return Ge(Ie,0,Ie.length-1)}function ke(Ie){return Ie[Ie.length-1]}function Ge(Ie,Ue,Xe){return Array.prototype.slice.call(Ie,Ue,Xe)}function Ke(Ie,Ue){for(let Xe=0;Xe<Ie.length;Xe++)if(Ue(Ie[Xe]))return Ie[Xe]}function He(Ie,Ue){return Array.prototype.concat.apply([],Ie.map(Ue))}function st(){const Ie=Le(arguments).map(Xe=>ie(ue(Xe))),Ue=ke(arguments);if(typeof Ue!="function")throw new TypeError("Callback function expected as last argument");return Ae(Ie,Ue)}function Ae(Ie,Ue){return{referTo:{references:Ie,callback:Ue}}}function tt(Ie){if(typeof Ie!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:Ie}}}function rt(Ie){return Ie&&typeof Ie.referTo=="object"&&Array.isArray(Ie.referTo.references)&&typeof Ie.referTo.callback=="function"}function We(Ie){return Ie&&typeof Ie.referToSelf=="object"&&typeof Ie.referToSelf.callback=="function"}function qe(Ie,Ue){if(!Ie)return Ue;if(Ue&&Ue!==Ie){const Xe=new Error("Function names do not match (expected: "+Ie+", actual: "+Ue+")");throw Xe.data={actual:Ue,expected:Ie},Xe}return Ie}function nt(Ie){let Ue;for(const Xe in Ie)Object.prototype.hasOwnProperty.call(Ie,Xe)&&(Y(Ie[Xe])||typeof Ie[Xe].signature=="string")&&(Ue=qe(Ue,Ie[Xe].name));return Ue}function ft(Ie,Ue){let Xe;for(Xe in Ue)if(Object.prototype.hasOwnProperty.call(Ue,Xe)){if(Xe in Ie&&Ue[Xe]!==Ie[Xe]){const Fe=new Error('Signature "'+Xe+'" is defined twice');throw Fe.data={signature:Xe,sourceFunction:Ue[Xe],destFunction:Ie[Xe]},Fe}Ie[Xe]=Ue[Xe]}}const je=L;L=function(Ie){const Ue=typeof Ie=="string",Xe=Ue?1:0;let Fe=Ue?Ie:"";const Je={};for(let et=Xe;et<arguments.length;++et){const ut=arguments[et];let ct={},bt;if(typeof ut=="function"?(bt=ut.name,typeof ut.signature=="string"?ct[ut.signature]=ut:Y(ut)&&(ct=ut.signatures)):_(ut)&&(ct=ut,Ue||(bt=nt(ut))),Object.keys(ct).length===0){const ht=new TypeError("Argument to 'typed' at index "+et+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw ht.data={index:et,argument:ut},ht}Ue||(Fe=qe(Fe,bt)),ft(Je,ct)}return Qe(Fe||"",Je)},L.create=create$2,L.createCount=je.createCount,L.onMismatch=Ze,L.throwMismatchError=Ze,L.createError=ye,L.clear=G,L.clearConversions=V,L.addTypes=q,L._findType=U,L.referTo=st,L.referToSelf=tt,L.convert=ne,L.findSignature=W,L.find=ee,L.isTypedFunction=Y,L.warnAgainstDeprecatedThis=!0,L.addType=function(Ie,Ue){let Xe="any";Ue!==!1&&I.has("Object")&&(Xe="Object"),L.addTypes([Ie],Xe)};function Ve(Ie){if(!Ie||typeof Ie.from!="string"||typeof Ie.to!="string"||typeof Ie.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(Ie.to===Ie.from)throw new SyntaxError('Illegal to define conversion from "'+Ie.from+'" to itself.')}return L.addConversion=function(Ie){let Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Ve(Ie);const Xe=U(Ie.to),Fe=Xe.conversionsTo.find(Je=>Je.from===Ie.from);if(Fe)if(Ue&&Ue.override)L.removeConversion({from:Fe.from,to:Ie.to,convert:Fe.convert});else throw new Error('There is already a conversion from "'+Ie.from+'" to "'+Xe.name+'"');Xe.conversionsTo.push({from:Ie.from,to:Xe.name,convert:Ie.convert,index:z++})},L.addConversions=function(Ie,Ue){Ie.forEach(Xe=>L.addConversion(Xe,Ue))},L.removeConversion=function(Ie){Ve(Ie);const Ue=U(Ie.to),Xe=Ke(Ue.conversionsTo,Je=>Je.from===Ie.from);if(!Xe)throw new Error("Attempt to remove nonexistent conversion from "+Ie.from+" to "+Ie.to);if(Xe.convert!==Ie.convert)throw new Error("Conversion to remove does not match existing conversion");const Fe=Ue.conversionsTo.indexOf(Xe);Ue.conversionsTo.splice(Fe,1)},L.resolve=function(Ie,Ue){if(!Y(Ie))throw new TypeError(NOT_TYPED_FUNCTION);const Xe=Ie._typedFunctionData.signatures;for(let Fe=0;Fe<Xe.length;++Fe)if(Xe[Fe].test(Ue))return Xe[Fe];return null},L}const typedFunction=create$2();function factory(_,R,O,I){function F(z){var L=pickShallow(z,R.map(stripOptionalNotation));return assertDependencies(_,R,z),O(L)}return F.isFactory=!0,F.fn=_,F.dependencies=R.slice().sort(),I&&(F.meta=I),F}function assertDependencies(_,R,O){var I=R.filter(z=>!isOptionalDependency(z)).every(z=>O[z]!==void 0);if(!I){var F=R.filter(z=>O[z]===void 0);throw new Error('Cannot create function "'.concat(_,'", ')+"some dependencies are missing: ".concat(F.map(z=>'"'.concat(z,'"')).join(", "),"."))}}function isOptionalDependency(_){return _&&_[0]==="?"}function stripOptionalNotation(_){return _&&_[0]==="?"?_.slice(1):_}function isInteger$1(_){return typeof _=="boolean"?!0:Number.isFinite(_)?_===Math.round(_):!1}function safeNumberType(_,R){if(R.number==="bigint")try{BigInt(_)}catch{return R.numberFallback}return R.number}var sign$5=Math.sign||function(_){return _>0?1:_<0?-1:0},log2$2=Math.log2||function _(R){return Math.log(R)/Math.LN2},log10$2=Math.log10||function _(R){return Math.log(R)/Math.LN10},log1p$1=Math.log1p||function(_){return Math.log(_+1)},cbrt$2=Math.cbrt||function _(R){if(R===0)return R;var O=R<0,I;return O&&(R=-R),Number.isFinite(R)?(I=Math.exp(Math.log(R)/3),I=(R/(I*I)+2*I)/3):I=R,O?-I:I},expm1$1=Math.expm1||function _(R){return R>=2e-4||R<=-2e-4?Math.exp(R)-1:R+R*R/2+R*R*R/6};function formatNumberToBase(_,R,O){var I={2:"0b",8:"0o",16:"0x"},F=I[R],z="";if(O){if(O<1)throw new Error("size must be in greater than 0");if(!isInteger$1(O))throw new Error("size must be an integer");if(_>2**(O-1)-1||_<-(2**(O-1)))throw new Error("Value must be in range [-2^".concat(O-1,", 2^").concat(O-1,"-1]"));if(!isInteger$1(_))throw new Error("Value must be an integer");_<0&&(_=_+2**O),z="i".concat(O)}var L="";return _<0&&(_=-_,L="-"),"".concat(L).concat(F).concat(_.toString(R)).concat(z)}function format$5(_,R){if(typeof R=="function")return R(_);if(_===1/0)return"Infinity";if(_===-1/0)return"-Infinity";if(isNaN(_))return"NaN";var{notation:O,precision:I,wordSize:F}=normalizeFormatOptions(R);switch(O){case"fixed":return toFixed$1(_,I);case"exponential":return toExponential$1(_,I);case"engineering":return toEngineering$1(_,I);case"bin":return formatNumberToBase(_,2,F);case"oct":return formatNumberToBase(_,8,F);case"hex":return formatNumberToBase(_,16,F);case"auto":return toPrecision(_,I,R).replace(/((\.\d*?)(0+))($|e)/,function(){var z=arguments[2],L=arguments[4];return z!=="."?z+L:L});default:throw new Error('Unknown notation "'+O+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function normalizeFormatOptions(_){var R="auto",O,I;if(_!==void 0)if(isNumber$1(_))O=_;else if(isBigNumber(_))O=_.toNumber();else if(isObject$1(_))_.precision!==void 0&&(O=_toNumberOrThrow(_.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),_.wordSize!==void 0&&(I=_toNumberOrThrow(_.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),_.notation&&(R=_.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:R,precision:O,wordSize:I}}function splitNumber(_){var R=String(_).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!R)throw new SyntaxError("Invalid number "+_);var O=R[1],I=R[2],F=parseFloat(R[4]||"0"),z=I.indexOf(".");F+=z!==-1?z-1:I.length-1;var L=I.replace(".","").replace(/^0*/,function(U){return F-=U.length,""}).replace(/0*$/,"").split("").map(function(U){return parseInt(U)});return L.length===0&&(L.push(0),F++),{sign:O,coefficients:L,exponent:F}}function toEngineering$1(_,R){if(isNaN(_)||!Number.isFinite(_))return String(_);var O=splitNumber(_),I=roundDigits(O,R),F=I.exponent,z=I.coefficients,L=F%3===0?F:F<0?F-3-F%3:F-F%3;if(isNumber$1(R))for(;R>z.length||F-L+1>z.length;)z.push(0);else for(var U=Math.abs(F-L)-(z.length-1),q=0;q<U;q++)z.push(0);for(var G=Math.abs(F-L),V=1;G>0;)V++,G--;var Z=z.slice(V).join(""),Y=isNumber$1(R)&&Z.length||Z.match(/[1-9]/)?"."+Z:"",W=z.slice(0,V).join("")+Y+"e"+(F>=0?"+":"")+L.toString();return I.sign+W}function toFixed$1(_,R){if(isNaN(_)||!Number.isFinite(_))return String(_);var O=splitNumber(_),I=typeof R=="number"?roundDigits(O,O.exponent+1+R):O,F=I.coefficients,z=I.exponent+1,L=z+(R||0);return F.length<L&&(F=F.concat(zeros$1(L-F.length))),z<0&&(F=zeros$1(-z+1).concat(F),z=1),z<F.length&&F.splice(z,0,z===0?"0.":"."),I.sign+F.join("")}function toExponential$1(_,R){if(isNaN(_)||!Number.isFinite(Number(_)))return String(_);var O=splitNumber(_),I=R?roundDigits(O,R):O,F=I.coefficients,z=I.exponent;F.length<R&&(F=F.concat(zeros$1(R-F.length)));var L=F.shift();return I.sign+L+(F.length>0?"."+F.join(""):"")+"e"+(z>=0?"+":"")+z}function toPrecision(_,R,O){if(isNaN(_)||!Number.isFinite(_))return String(_);var I=_toNumberOrDefault$1(O?.lowerExp,-3),F=_toNumberOrDefault$1(O?.upperExp,5),z=splitNumber(_),L=R?roundDigits(z,R):z;if(L.exponent<I||L.exponent>=F)return toExponential$1(_,R);var U=L.coefficients,q=L.exponent;U.length<R&&(U=U.concat(zeros$1(R-U.length))),U=U.concat(zeros$1(q-U.length+1+(U.length<R?R-U.length:0))),U=zeros$1(-q).concat(U);var G=q>0?q:0;return G<U.length-1&&U.splice(G+1,0,"."),L.sign+U.join("")}function roundDigits(_,R){for(var O={sign:_.sign,coefficients:_.coefficients,exponent:_.exponent},I=O.coefficients;R<=0;)I.unshift(0),O.exponent++,R++;if(I.length>R){var F=I.splice(R,I.length-R);if(F[0]>=5){var z=R-1;for(I[z]++;I[z]===10;)I.pop(),z===0&&(I.unshift(0),O.exponent++,z++),z--,I[z]++}}return O}function zeros$1(_){for(var R=[],O=0;O<_;O++)R.push(0);return R}function digits(_){return _.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function nearlyEqual$1(_,R){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(O<=0)throw new Error("Relative tolerance must be greater than 0");if(I<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(_)||isNaN(R)?!1:!Number.isFinite(_)||!Number.isFinite(R)?_===R:_===R?!0:Math.abs(_-R)<=Math.max(O*Math.max(Math.abs(_),Math.abs(R)),I)}var acosh$2=Math.acosh||function(_){return Math.log(Math.sqrt(_*_-1)+_)},asinh$2=Math.asinh||function(_){return Math.log(Math.sqrt(_*_+1)+_)},atanh$2=Math.atanh||function(_){return Math.log((1+_)/(1-_))/2},cosh$3=Math.cosh||function(_){return(Math.exp(_)+Math.exp(-_))/2},sinh$3=Math.sinh||function(_){return(Math.exp(_)-Math.exp(-_))/2},tanh$2=Math.tanh||function(_){var R=Math.exp(2*_);return(R-1)/(R+1)};function copysign(_,R){var O=!0,I=R>0?!0:R<0?!1:1/R===1/0;return O^I?-_:_}function _toNumberOrThrow(_,R){if(isNumber$1(_))return _;if(isBigNumber(_))return _.toNumber();R()}function _toNumberOrDefault$1(_,R){return isNumber$1(_)?_:isBigNumber(_)?_.toNumber():R}var _createTyped2=function _(){return _createTyped2=typedFunction.create,typedFunction},dependencies$50=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],createTyped=factory("typed",dependencies$50,function _(R){var{BigNumber:O,Complex:I,DenseMatrix:F,Fraction:z}=R,L=_createTyped2();return L.clear(),L.addTypes([{name:"number",test:isNumber$1},{name:"Complex",test:isComplex},{name:"BigNumber",test:isBigNumber},{name:"bigint",test:isBigInt},{name:"Fraction",test:isFraction},{name:"Unit",test:isUnit},{name:"identifier",test:U=>isString&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(U)},{name:"string",test:isString},{name:"Chain",test:isChain},{name:"Array",test:isArray$1},{name:"Matrix",test:isMatrix},{name:"DenseMatrix",test:isDenseMatrix},{name:"SparseMatrix",test:isSparseMatrix},{name:"Range",test:isRange},{name:"Index",test:isIndex},{name:"boolean",test:isBoolean},{name:"ResultSet",test:isResultSet},{name:"Help",test:isHelp},{name:"function",test:isFunction},{name:"Date",test:isDate},{name:"RegExp",test:isRegExp},{name:"null",test:isNull},{name:"undefined",test:isUndefined},{name:"AccessorNode",test:isAccessorNode},{name:"ArrayNode",test:isArrayNode},{name:"AssignmentNode",test:isAssignmentNode},{name:"BlockNode",test:isBlockNode},{name:"ConditionalNode",test:isConditionalNode},{name:"ConstantNode",test:isConstantNode},{name:"FunctionNode",test:isFunctionNode},{name:"FunctionAssignmentNode",test:isFunctionAssignmentNode},{name:"IndexNode",test:isIndexNode},{name:"Node",test:isNode},{name:"ObjectNode",test:isObjectNode},{name:"OperatorNode",test:isOperatorNode},{name:"ParenthesisNode",test:isParenthesisNode},{name:"RangeNode",test:isRangeNode},{name:"RelationalNode",test:isRelationalNode},{name:"SymbolNode",test:isSymbolNode},{name:"Map",test:isMap},{name:"Object",test:isObject$1}]),L.addConversions([{from:"number",to:"BigNumber",convert:function(q){if(O||throwNoBignumber(q),digits(q)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+q+"). Use function bignumber(x) to convert to BigNumber.");return new O(q)}},{from:"number",to:"Complex",convert:function(q){return I||throwNoComplex(q),new I(q,0)}},{from:"BigNumber",to:"Complex",convert:function(q){return I||throwNoComplex(q),new I(q.toNumber(),0)}},{from:"bigint",to:"number",convert:function(q){if(q>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+q+")");return Number(q)}},{from:"bigint",to:"BigNumber",convert:function(q){return O||throwNoBignumber(q),new O(q.toString())}},{from:"bigint",to:"Fraction",convert:function(q){return z||throwNoFraction(q),new z(q)}},{from:"Fraction",to:"BigNumber",convert:function(q){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(q){return I||throwNoComplex(q),new I(q.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(q){z||throwNoFraction(q);var G=new z(q);if(G.valueOf()!==q)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+q+"). Use function fraction(x) to convert to Fraction.");return G}},{from:"string",to:"number",convert:function(q){var G=Number(q);if(isNaN(G))throw new Error('Cannot convert "'+q+'" to a number');return G}},{from:"string",to:"BigNumber",convert:function(q){O||throwNoBignumber(q);try{return new O(q)}catch{throw new Error('Cannot convert "'+q+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(q){try{return BigInt(q)}catch{throw new Error('Cannot convert "'+q+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(q){z||throwNoFraction(q);try{return new z(q)}catch{throw new Error('Cannot convert "'+q+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(q){I||throwNoComplex(q);try{return new I(q)}catch{throw new Error('Cannot convert "'+q+'" to Complex')}}},{from:"boolean",to:"number",convert:function(q){return+q}},{from:"boolean",to:"BigNumber",convert:function(q){return O||throwNoBignumber(q),new O(+q)}},{from:"boolean",to:"bigint",convert:function(q){return BigInt(+q)}},{from:"boolean",to:"Fraction",convert:function(q){return z||throwNoFraction(q),new z(+q)}},{from:"boolean",to:"string",convert:function(q){return String(q)}},{from:"Array",to:"Matrix",convert:function(q){return F||throwNoMatrix(),new F(q)}},{from:"Matrix",to:"Array",convert:function(q){return q.valueOf()}}]),L.onMismatch=(U,q,G)=>{var V=L.createError(U,q,G);if(["wrongType","mismatch"].includes(V.data.category)&&q.length===1&&isCollection(q[0])&&G.some(Y=>!Y.params.includes(","))){var Z=new TypeError("Function '".concat(U,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(U,")'."));throw Z.data=V.data,Z}throw V},L.onMismatch=(U,q,G)=>{var V=L.createError(U,q,G);if(["wrongType","mismatch"].includes(V.data.category)&&q.length===1&&isCollection(q[0])&&G.some(Y=>!Y.params.includes(","))){var Z=new TypeError("Function '".concat(U,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(U,")'."));throw Z.data=V.data,Z}throw V},L});function throwNoBignumber(_){throw new Error("Cannot convert value ".concat(_," into a BigNumber: no class 'BigNumber' provided"))}function throwNoComplex(_){throw new Error("Cannot convert value ".concat(_," into a Complex number: no class 'Complex' provided"))}function throwNoMatrix(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function throwNoFraction(_){throw new Error("Cannot convert value ".concat(_," into a Fraction, no class 'Fraction' provided."))}var name$4$="ResultSet",dependencies$4$=[],createResultSet=factory(name$4$,dependencies$4$,()=>{function _(R){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");this.entries=R||[]}return _.prototype.type="ResultSet",_.prototype.isResultSet=!0,_.prototype.valueOf=function(){return this.entries},_.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},_.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},_.fromJSON=function(R){return new _(R.entries)},_},{isClass:!0});var EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10$1="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:!1},inexact,quadrant,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,LN10_PRECISION=LN10$1.length-1,PI_PRECISION=PI.length-1,P$3={toStringTag:tag};P$3.absoluteValue=P$3.abs=function(){var _=new this.constructor(this);return _.s<0&&(_.s=1),finalise(_)};P$3.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)};P$3.clampedTo=P$3.clamp=function(_,R){var O,I=this,F=I.constructor;if(_=new F(_),R=new F(R),!_.s||!R.s)return new F(NaN);if(_.gt(R))throw Error(invalidArgument+R);return O=I.cmp(_),O<0?_:I.cmp(R)>0?R:new F(I)};P$3.comparedTo=P$3.cmp=function(_){var R,O,I,F,z=this,L=z.d,U=(_=new z.constructor(_)).d,q=z.s,G=_.s;if(!L||!U)return!q||!G?NaN:q!==G?q:L===U?0:!L^q<0?1:-1;if(!L[0]||!U[0])return L[0]?q:U[0]?-G:0;if(q!==G)return q;if(z.e!==_.e)return z.e>_.e^q<0?1:-1;for(I=L.length,F=U.length,R=0,O=I<F?I:F;R<O;++R)if(L[R]!==U[R])return L[R]>U[R]^q<0?1:-1;return I===F?0:I>F^q<0?1:-1};P$3.cosine=P$3.cos=function(){var _,R,O=this,I=O.constructor;return O.d?O.d[0]?(_=I.precision,R=I.rounding,I.precision=_+Math.max(O.e,O.sd())+LOG_BASE,I.rounding=1,O=cosine(I,toLessThanHalfPi(I,O)),I.precision=_,I.rounding=R,finalise(quadrant==2||quadrant==3?O.neg():O,_,R,!0)):new I(1):new I(NaN)};P$3.cubeRoot=P$3.cbrt=function(){var _,R,O,I,F,z,L,U,q,G,V=this,Z=V.constructor;if(!V.isFinite()||V.isZero())return new Z(V);for(external=!1,z=V.s*mathpow(V.s*V,1/3),!z||Math.abs(z)==1/0?(O=digitsToString(V.d),_=V.e,(z=(_-O.length+1)%3)&&(O+=z==1||z==-2?"0":"00"),z=mathpow(O,1/3),_=mathfloor((_+1)/3)-(_%3==(_<0?-1:2)),z==1/0?O="5e"+_:(O=z.toExponential(),O=O.slice(0,O.indexOf("e")+1)+_),I=new Z(O),I.s=V.s):I=new Z(z.toString()),L=(_=Z.precision)+3;;)if(U=I,q=U.times(U).times(U),G=q.plus(V),I=divide$1(G.plus(V).times(U),G.plus(q),L+2,1),digitsToString(U.d).slice(0,L)===(O=digitsToString(I.d)).slice(0,L))if(O=O.slice(L-3,L+1),O=="9999"||!F&&O=="4999"){if(!F&&(finalise(U,_+1,0),U.times(U).times(U).eq(V))){I=U;break}L+=4,F=1}else{(!+O||!+O.slice(1)&&O.charAt(0)=="5")&&(finalise(I,_+1,1),R=!I.times(I).times(I).eq(V));break}return external=!0,finalise(I,_,Z.rounding,R)};P$3.decimalPlaces=P$3.dp=function(){var _,R=this.d,O=NaN;if(R){if(_=R.length-1,O=(_-mathfloor(this.e/LOG_BASE))*LOG_BASE,_=R[_],_)for(;_%10==0;_/=10)O--;O<0&&(O=0)}return O};P$3.dividedBy=P$3.div=function(_){return divide$1(this,new this.constructor(_))};P$3.dividedToIntegerBy=P$3.divToInt=function(_){var R=this,O=R.constructor;return finalise(divide$1(R,new O(_),0,1,1),O.precision,O.rounding)};P$3.equals=P$3.eq=function(_){return this.cmp(_)===0};P$3.floor=function(){return finalise(new this.constructor(this),this.e+1,3)};P$3.greaterThan=P$3.gt=function(_){return this.cmp(_)>0};P$3.greaterThanOrEqualTo=P$3.gte=function(_){var R=this.cmp(_);return R==1||R===0};P$3.hyperbolicCosine=P$3.cosh=function(){var _,R,O,I,F,z=this,L=z.constructor,U=new L(1);if(!z.isFinite())return new L(z.s?1/0:NaN);if(z.isZero())return U;O=L.precision,I=L.rounding,L.precision=O+Math.max(z.e,z.sd())+4,L.rounding=1,F=z.d.length,F<32?(_=Math.ceil(F/3),R=(1/tinyPow(4,_)).toString()):(_=16,R="2.3283064365386962890625e-10"),z=taylorSeries(L,1,z.times(R),new L(1),!0);for(var q,G=_,V=new L(8);G--;)q=z.times(z),z=U.minus(q.times(V.minus(q.times(V))));return finalise(z,L.precision=O,L.rounding=I,!0)};P$3.hyperbolicSine=P$3.sinh=function(){var _,R,O,I,F=this,z=F.constructor;if(!F.isFinite()||F.isZero())return new z(F);if(R=z.precision,O=z.rounding,z.precision=R+Math.max(F.e,F.sd())+4,z.rounding=1,I=F.d.length,I<3)F=taylorSeries(z,2,F,F,!0);else{_=1.4*Math.sqrt(I),_=_>16?16:_|0,F=F.times(1/tinyPow(5,_)),F=taylorSeries(z,2,F,F,!0);for(var L,U=new z(5),q=new z(16),G=new z(20);_--;)L=F.times(F),F=F.times(U.plus(L.times(q.times(L).plus(G))))}return z.precision=R,z.rounding=O,finalise(F,R,O,!0)};P$3.hyperbolicTangent=P$3.tanh=function(){var _,R,O=this,I=O.constructor;return O.isFinite()?O.isZero()?new I(O):(_=I.precision,R=I.rounding,I.precision=_+7,I.rounding=1,divide$1(O.sinh(),O.cosh(),I.precision=_,I.rounding=R)):new I(O.s)};P$3.inverseCosine=P$3.acos=function(){var _=this,R=_.constructor,O=_.abs().cmp(1),I=R.precision,F=R.rounding;return O!==-1?O===0?_.isNeg()?getPi(R,I,F):new R(0):new R(NaN):_.isZero()?getPi(R,I+4,F).times(.5):(R.precision=I+6,R.rounding=1,_=new R(1).minus(_).div(_.plus(1)).sqrt().atan(),R.precision=I,R.rounding=F,_.times(2))};P$3.inverseHyperbolicCosine=P$3.acosh=function(){var _,R,O=this,I=O.constructor;return O.lte(1)?new I(O.eq(1)?0:NaN):O.isFinite()?(_=I.precision,R=I.rounding,I.precision=_+Math.max(Math.abs(O.e),O.sd())+4,I.rounding=1,external=!1,O=O.times(O).minus(1).sqrt().plus(O),external=!0,I.precision=_,I.rounding=R,O.ln()):new I(O)};P$3.inverseHyperbolicSine=P$3.asinh=function(){var _,R,O=this,I=O.constructor;return!O.isFinite()||O.isZero()?new I(O):(_=I.precision,R=I.rounding,I.precision=_+2*Math.max(Math.abs(O.e),O.sd())+6,I.rounding=1,external=!1,O=O.times(O).plus(1).sqrt().plus(O),external=!0,I.precision=_,I.rounding=R,O.ln())};P$3.inverseHyperbolicTangent=P$3.atanh=function(){var _,R,O,I,F=this,z=F.constructor;return F.isFinite()?F.e>=0?new z(F.abs().eq(1)?F.s/0:F.isZero()?F:NaN):(_=z.precision,R=z.rounding,I=F.sd(),Math.max(I,_)<2*-F.e-1?finalise(new z(F),_,R,!0):(z.precision=O=I-F.e,F=divide$1(F.plus(1),new z(1).minus(F),O+_,1),z.precision=_+4,z.rounding=1,F=F.ln(),z.precision=_,z.rounding=R,F.times(.5))):new z(NaN)};P$3.inverseSine=P$3.asin=function(){var _,R,O,I,F=this,z=F.constructor;return F.isZero()?new z(F):(R=F.abs().cmp(1),O=z.precision,I=z.rounding,R!==-1?R===0?(_=getPi(z,O+4,I).times(.5),_.s=F.s,_):new z(NaN):(z.precision=O+6,z.rounding=1,F=F.div(new z(1).minus(F.times(F)).sqrt().plus(1)).atan(),z.precision=O,z.rounding=I,F.times(2)))};P$3.inverseTangent=P$3.atan=function(){var _,R,O,I,F,z,L,U,q,G=this,V=G.constructor,Z=V.precision,Y=V.rounding;if(G.isFinite()){if(G.isZero())return new V(G);if(G.abs().eq(1)&&Z+4<=PI_PRECISION)return L=getPi(V,Z+4,Y).times(.25),L.s=G.s,L}else{if(!G.s)return new V(NaN);if(Z+4<=PI_PRECISION)return L=getPi(V,Z+4,Y).times(.5),L.s=G.s,L}for(V.precision=U=Z+10,V.rounding=1,O=Math.min(28,U/LOG_BASE+2|0),_=O;_;--_)G=G.div(G.times(G).plus(1).sqrt().plus(1));for(external=!1,R=Math.ceil(U/LOG_BASE),I=1,q=G.times(G),L=new V(G),F=G;_!==-1;)if(F=F.times(q),z=L.minus(F.div(I+=2)),F=F.times(q),L=z.plus(F.div(I+=2)),L.d[R]!==void 0)for(_=R;L.d[_]===z.d[_]&&_--;);return O&&(L=L.times(2<<O-1)),external=!0,finalise(L,V.precision=Z,V.rounding=Y,!0)};P$3.isFinite=function(){return!!this.d};P$3.isInteger=P$3.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2};P$3.isNaN=function(){return!this.s};P$3.isNegative=P$3.isNeg=function(){return this.s<0};P$3.isPositive=P$3.isPos=function(){return this.s>0};P$3.isZero=function(){return!!this.d&&this.d[0]===0};P$3.lessThan=P$3.lt=function(_){return this.cmp(_)<0};P$3.lessThanOrEqualTo=P$3.lte=function(_){return this.cmp(_)<1};P$3.logarithm=P$3.log=function(_){var R,O,I,F,z,L,U,q,G=this,V=G.constructor,Z=V.precision,Y=V.rounding,W=5;if(_==null)_=new V(10),R=!0;else{if(_=new V(_),O=_.d,_.s<0||!O||!O[0]||_.eq(1))return new V(NaN);R=_.eq(10)}if(O=G.d,G.s<0||!O||!O[0]||G.eq(1))return new V(O&&!O[0]?-1/0:G.s!=1?NaN:O?0:1/0);if(R)if(O.length>1)z=!0;else{for(F=O[0];F%10===0;)F/=10;z=F!==1}if(external=!1,U=Z+W,L=naturalLogarithm(G,U),I=R?getLn10(V,U+10):naturalLogarithm(_,U),q=divide$1(L,I,U,1),checkRoundingDigits(q.d,F=Z,Y))do if(U+=10,L=naturalLogarithm(G,U),I=R?getLn10(V,U+10):naturalLogarithm(_,U),q=divide$1(L,I,U,1),!z){+digitsToString(q.d).slice(F+1,F+15)+1==1e14&&(q=finalise(q,Z+1,0));break}while(checkRoundingDigits(q.d,F+=10,Y));return external=!0,finalise(q,Z,Y)};P$3.minus=P$3.sub=function(_){var R,O,I,F,z,L,U,q,G,V,Z,Y,W=this,ee=W.constructor;if(_=new ee(_),!W.d||!_.d)return!W.s||!_.s?_=new ee(NaN):W.d?_.s=-_.s:_=new ee(_.d||W.s!==_.s?W:NaN),_;if(W.s!=_.s)return _.s=-_.s,W.plus(_);if(G=W.d,Y=_.d,U=ee.precision,q=ee.rounding,!G[0]||!Y[0]){if(Y[0])_.s=-_.s;else if(G[0])_=new ee(W);else return new ee(q===3?-0:0);return external?finalise(_,U,q):_}if(O=mathfloor(_.e/LOG_BASE),V=mathfloor(W.e/LOG_BASE),G=G.slice(),z=V-O,z){for(Z=z<0,Z?(R=G,z=-z,L=Y.length):(R=Y,O=V,L=G.length),I=Math.max(Math.ceil(U/LOG_BASE),L)+2,z>I&&(z=I,R.length=1),R.reverse(),I=z;I--;)R.push(0);R.reverse()}else{for(I=G.length,L=Y.length,Z=I<L,Z&&(L=I),I=0;I<L;I++)if(G[I]!=Y[I]){Z=G[I]<Y[I];break}z=0}for(Z&&(R=G,G=Y,Y=R,_.s=-_.s),L=G.length,I=Y.length-L;I>0;--I)G[L++]=0;for(I=Y.length;I>z;){if(G[--I]<Y[I]){for(F=I;F&&G[--F]===0;)G[F]=BASE-1;--G[F],G[I]+=BASE}G[I]-=Y[I]}for(;G[--L]===0;)G.pop();for(;G[0]===0;G.shift())--O;return G[0]?(_.d=G,_.e=getBase10Exponent(G,O),external?finalise(_,U,q):_):new ee(q===3?-0:0)};P$3.modulo=P$3.mod=function(_){var R,O=this,I=O.constructor;return _=new I(_),!O.d||!_.s||_.d&&!_.d[0]?new I(NaN):!_.d||O.d&&!O.d[0]?finalise(new I(O),I.precision,I.rounding):(external=!1,I.modulo==9?(R=divide$1(O,_.abs(),0,3,1),R.s*=_.s):R=divide$1(O,_,0,I.modulo,1),R=R.times(_),external=!0,O.minus(R))};P$3.naturalExponential=P$3.exp=function(){return naturalExponential(this)};P$3.naturalLogarithm=P$3.ln=function(){return naturalLogarithm(this)};P$3.negated=P$3.neg=function(){var _=new this.constructor(this);return _.s=-_.s,finalise(_)};P$3.plus=P$3.add=function(_){var R,O,I,F,z,L,U,q,G,V,Z=this,Y=Z.constructor;if(_=new Y(_),!Z.d||!_.d)return!Z.s||!_.s?_=new Y(NaN):Z.d||(_=new Y(_.d||Z.s===_.s?Z:NaN)),_;if(Z.s!=_.s)return _.s=-_.s,Z.minus(_);if(G=Z.d,V=_.d,U=Y.precision,q=Y.rounding,!G[0]||!V[0])return V[0]||(_=new Y(Z)),external?finalise(_,U,q):_;if(z=mathfloor(Z.e/LOG_BASE),I=mathfloor(_.e/LOG_BASE),G=G.slice(),F=z-I,F){for(F<0?(O=G,F=-F,L=V.length):(O=V,I=z,L=G.length),z=Math.ceil(U/LOG_BASE),L=z>L?z+1:L+1,F>L&&(F=L,O.length=1),O.reverse();F--;)O.push(0);O.reverse()}for(L=G.length,F=V.length,L-F<0&&(F=L,O=V,V=G,G=O),R=0;F;)R=(G[--F]=G[F]+V[F]+R)/BASE|0,G[F]%=BASE;for(R&&(G.unshift(R),++I),L=G.length;G[--L]==0;)G.pop();return _.d=G,_.e=getBase10Exponent(G,I),external?finalise(_,U,q):_};P$3.precision=P$3.sd=function(_){var R,O=this;if(_!==void 0&&_!==!!_&&_!==1&&_!==0)throw Error(invalidArgument+_);return O.d?(R=getPrecision(O.d),_&&O.e+1>R&&(R=O.e+1)):R=NaN,R};P$3.round=function(){var _=this,R=_.constructor;return finalise(new R(_),_.e+1,R.rounding)};P$3.sine=P$3.sin=function(){var _,R,O=this,I=O.constructor;return O.isFinite()?O.isZero()?new I(O):(_=I.precision,R=I.rounding,I.precision=_+Math.max(O.e,O.sd())+LOG_BASE,I.rounding=1,O=sine(I,toLessThanHalfPi(I,O)),I.precision=_,I.rounding=R,finalise(quadrant>2?O.neg():O,_,R,!0)):new I(NaN)};P$3.squareRoot=P$3.sqrt=function(){var _,R,O,I,F,z,L=this,U=L.d,q=L.e,G=L.s,V=L.constructor;if(G!==1||!U||!U[0])return new V(!G||G<0&&(!U||U[0])?NaN:U?L:1/0);for(external=!1,G=Math.sqrt(+L),G==0||G==1/0?(R=digitsToString(U),(R.length+q)%2==0&&(R+="0"),G=Math.sqrt(R),q=mathfloor((q+1)/2)-(q<0||q%2),G==1/0?R="5e"+q:(R=G.toExponential(),R=R.slice(0,R.indexOf("e")+1)+q),I=new V(R)):I=new V(G.toString()),O=(q=V.precision)+3;;)if(z=I,I=z.plus(divide$1(L,z,O+2,1)).times(.5),digitsToString(z.d).slice(0,O)===(R=digitsToString(I.d)).slice(0,O))if(R=R.slice(O-3,O+1),R=="9999"||!F&&R=="4999"){if(!F&&(finalise(z,q+1,0),z.times(z).eq(L))){I=z;break}O+=4,F=1}else{(!+R||!+R.slice(1)&&R.charAt(0)=="5")&&(finalise(I,q+1,1),_=!I.times(I).eq(L));break}return external=!0,finalise(I,q,V.rounding,_)};P$3.tangent=P$3.tan=function(){var _,R,O=this,I=O.constructor;return O.isFinite()?O.isZero()?new I(O):(_=I.precision,R=I.rounding,I.precision=_+10,I.rounding=1,O=O.sin(),O.s=1,O=divide$1(O,new I(1).minus(O.times(O)).sqrt(),_+10,0),I.precision=_,I.rounding=R,finalise(quadrant==2||quadrant==4?O.neg():O,_,R,!0)):new I(NaN)};P$3.times=P$3.mul=function(_){var R,O,I,F,z,L,U,q,G,V=this,Z=V.constructor,Y=V.d,W=(_=new Z(_)).d;if(_.s*=V.s,!Y||!Y[0]||!W||!W[0])return new Z(!_.s||Y&&!Y[0]&&!W||W&&!W[0]&&!Y?NaN:!Y||!W?_.s/0:_.s*0);for(O=mathfloor(V.e/LOG_BASE)+mathfloor(_.e/LOG_BASE),q=Y.length,G=W.length,q<G&&(z=Y,Y=W,W=z,L=q,q=G,G=L),z=[],L=q+G,I=L;I--;)z.push(0);for(I=G;--I>=0;){for(R=0,F=q+I;F>I;)U=z[F]+W[I]*Y[F-I-1]+R,z[F--]=U%BASE|0,R=U/BASE|0;z[F]=(z[F]+R)%BASE|0}for(;!z[--L];)z.pop();return R?++O:z.shift(),_.d=z,_.e=getBase10Exponent(z,O),external?finalise(_,Z.precision,Z.rounding):_};P$3.toBinary=function(_,R){return toStringBinary(this,2,_,R)};P$3.toDecimalPlaces=P$3.toDP=function(_,R){var O=this,I=O.constructor;return O=new I(O),_===void 0?O:(checkInt32(_,0,MAX_DIGITS),R===void 0?R=I.rounding:checkInt32(R,0,8),finalise(O,_+O.e+1,R))};P$3.toExponential=function(_,R){var O,I=this,F=I.constructor;return _===void 0?O=finiteToString(I,!0):(checkInt32(_,0,MAX_DIGITS),R===void 0?R=F.rounding:checkInt32(R,0,8),I=finalise(new F(I),_+1,R),O=finiteToString(I,!0,_+1)),I.isNeg()&&!I.isZero()?"-"+O:O};P$3.toFixed=function(_,R){var O,I,F=this,z=F.constructor;return _===void 0?O=finiteToString(F):(checkInt32(_,0,MAX_DIGITS),R===void 0?R=z.rounding:checkInt32(R,0,8),I=finalise(new z(F),_+F.e+1,R),O=finiteToString(I,!1,_+I.e+1)),F.isNeg()&&!F.isZero()?"-"+O:O};P$3.toFraction=function(_){var R,O,I,F,z,L,U,q,G,V,Z,Y,W=this,ee=W.d,ne=W.constructor;if(!ee)return new ne(W);if(G=O=new ne(1),I=q=new ne(0),R=new ne(I),z=R.e=getPrecision(ee)-W.e-1,L=z%LOG_BASE,R.d[0]=mathpow(10,L<0?LOG_BASE+L:L),_==null)_=z>0?R:G;else{if(U=new ne(_),!U.isInt()||U.lt(G))throw Error(invalidArgument+U);_=U.gt(R)?z>0?R:G:U}for(external=!1,U=new ne(digitsToString(ee)),V=ne.precision,ne.precision=z=ee.length*LOG_BASE*2;Z=divide$1(U,R,0,1,1),F=O.plus(Z.times(I)),F.cmp(_)!=1;)O=I,I=F,F=G,G=q.plus(Z.times(F)),q=F,F=R,R=U.minus(Z.times(F)),U=F;return F=divide$1(_.minus(O),I,0,1,1),q=q.plus(F.times(G)),O=O.plus(F.times(I)),q.s=G.s=W.s,Y=divide$1(G,I,z,1).minus(W).abs().cmp(divide$1(q,O,z,1).minus(W).abs())<1?[G,I]:[q,O],ne.precision=V,external=!0,Y};P$3.toHexadecimal=P$3.toHex=function(_,R){return toStringBinary(this,16,_,R)};P$3.toNearest=function(_,R){var O=this,I=O.constructor;if(O=new I(O),_==null){if(!O.d)return O;_=new I(1),R=I.rounding}else{if(_=new I(_),R===void 0?R=I.rounding:checkInt32(R,0,8),!O.d)return _.s?O:_;if(!_.d)return _.s&&(_.s=O.s),_}return _.d[0]?(external=!1,O=divide$1(O,_,0,R,1).times(_),external=!0,finalise(O)):(_.s=O.s,O=_),O};P$3.toNumber=function(){return+this};P$3.toOctal=function(_,R){return toStringBinary(this,8,_,R)};P$3.toPower=P$3.pow=function(_){var R,O,I,F,z,L,U=this,q=U.constructor,G=+(_=new q(_));if(!U.d||!_.d||!U.d[0]||!_.d[0])return new q(mathpow(+U,G));if(U=new q(U),U.eq(1))return U;if(I=q.precision,z=q.rounding,_.eq(1))return finalise(U,I,z);if(R=mathfloor(_.e/LOG_BASE),R>=_.d.length-1&&(O=G<0?-G:G)<=MAX_SAFE_INTEGER)return F=intPow(q,U,O,I),_.s<0?new q(1).div(F):finalise(F,I,z);if(L=U.s,L<0){if(R<_.d.length-1)return new q(NaN);if((_.d[R]&1)==0&&(L=1),U.e==0&&U.d[0]==1&&U.d.length==1)return U.s=L,U}return O=mathpow(+U,G),R=O==0||!isFinite(O)?mathfloor(G*(Math.log("0."+digitsToString(U.d))/Math.LN10+U.e+1)):new q(O+"").e,R>q.maxE+1||R<q.minE-1?new q(R>0?L/0:0):(external=!1,q.rounding=U.s=1,O=Math.min(12,(R+"").length),F=naturalExponential(_.times(naturalLogarithm(U,I+O)),I),F.d&&(F=finalise(F,I+5,1),checkRoundingDigits(F.d,I,z)&&(R=I+10,F=finalise(naturalExponential(_.times(naturalLogarithm(U,R+O)),R),R+5,1),+digitsToString(F.d).slice(I+1,I+15)+1==1e14&&(F=finalise(F,I+1,0)))),F.s=L,external=!0,q.rounding=z,finalise(F,I,z))};P$3.toPrecision=function(_,R){var O,I=this,F=I.constructor;return _===void 0?O=finiteToString(I,I.e<=F.toExpNeg||I.e>=F.toExpPos):(checkInt32(_,1,MAX_DIGITS),R===void 0?R=F.rounding:checkInt32(R,0,8),I=finalise(new F(I),_,R),O=finiteToString(I,_<=I.e||I.e<=F.toExpNeg,_)),I.isNeg()&&!I.isZero()?"-"+O:O};P$3.toSignificantDigits=P$3.toSD=function(_,R){var O=this,I=O.constructor;return _===void 0?(_=I.precision,R=I.rounding):(checkInt32(_,1,MAX_DIGITS),R===void 0?R=I.rounding:checkInt32(R,0,8)),finalise(new I(O),_,R)};P$3.toString=function(){var _=this,R=_.constructor,O=finiteToString(_,_.e<=R.toExpNeg||_.e>=R.toExpPos);return _.isNeg()&&!_.isZero()?"-"+O:O};P$3.truncated=P$3.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)};P$3.valueOf=P$3.toJSON=function(){var _=this,R=_.constructor,O=finiteToString(_,_.e<=R.toExpNeg||_.e>=R.toExpPos);return _.isNeg()?"-"+O:O};function digitsToString(_){var R,O,I,F=_.length-1,z="",L=_[0];if(F>0){for(z+=L,R=1;R<F;R++)I=_[R]+"",O=LOG_BASE-I.length,O&&(z+=getZeroString(O)),z+=I;L=_[R],I=L+"",O=LOG_BASE-I.length,O&&(z+=getZeroString(O))}else if(L===0)return"0";for(;L%10===0;)L/=10;return z+L}function checkInt32(_,R,O){if(_!==~~_||_<R||_>O)throw Error(invalidArgument+_)}function checkRoundingDigits(_,R,O,I){var F,z,L,U;for(z=_[0];z>=10;z/=10)--R;return--R<0?(R+=LOG_BASE,F=0):(F=Math.ceil((R+1)/LOG_BASE),R%=LOG_BASE),z=mathpow(10,LOG_BASE-R),U=_[F]%z|0,I==null?R<3?(R==0?U=U/100|0:R==1&&(U=U/10|0),L=O<4&&U==99999||O>3&&U==49999||U==5e4||U==0):L=(O<4&&U+1==z||O>3&&U+1==z/2)&&(_[F+1]/z/100|0)==mathpow(10,R-2)-1||(U==z/2||U==0)&&(_[F+1]/z/100|0)==0:R<4?(R==0?U=U/1e3|0:R==1?U=U/100|0:R==2&&(U=U/10|0),L=(I||O<4)&&U==9999||!I&&O>3&&U==4999):L=((I||O<4)&&U+1==z||!I&&O>3&&U+1==z/2)&&(_[F+1]/z/1e3|0)==mathpow(10,R-3)-1,L}function convertBase(_,R,O){for(var I,F=[0],z,L=0,U=_.length;L<U;){for(z=F.length;z--;)F[z]*=R;for(F[0]+=NUMERALS.indexOf(_.charAt(L++)),I=0;I<F.length;I++)F[I]>O-1&&(F[I+1]===void 0&&(F[I+1]=0),F[I+1]+=F[I]/O|0,F[I]%=O)}return F.reverse()}function cosine(_,R){var O,I,F;if(R.isZero())return R;I=R.d.length,I<32?(O=Math.ceil(I/3),F=(1/tinyPow(4,O)).toString()):(O=16,F="2.3283064365386962890625e-10"),_.precision+=O,R=taylorSeries(_,1,R.times(F),new _(1));for(var z=O;z--;){var L=R.times(R);R=L.times(L).minus(L).times(8).plus(1)}return _.precision-=O,R}var divide$1=(function(){function _(I,F,z){var L,U=0,q=I.length;for(I=I.slice();q--;)L=I[q]*F+U,I[q]=L%z|0,U=L/z|0;return U&&I.unshift(U),I}function R(I,F,z,L){var U,q;if(z!=L)q=z>L?1:-1;else for(U=q=0;U<z;U++)if(I[U]!=F[U]){q=I[U]>F[U]?1:-1;break}return q}function O(I,F,z,L){for(var U=0;z--;)I[z]-=U,U=I[z]<F[z]?1:0,I[z]=U*L+I[z]-F[z];for(;!I[0]&&I.length>1;)I.shift()}return function(I,F,z,L,U,q){var G,V,Z,Y,W,ee,ne,ie,se,oe,le,ue,ce,fe,me,he,pe,ge,_e,ye,we=I.constructor,ve=I.s==F.s?1:-1,$e=I.d,be=F.d;if(!$e||!$e[0]||!be||!be[0])return new we(!I.s||!F.s||($e?be&&$e[0]==be[0]:!be)?NaN:$e&&$e[0]==0||!be?ve*0:ve/0);for(q?(W=1,V=I.e-F.e):(q=BASE,W=LOG_BASE,V=mathfloor(I.e/W)-mathfloor(F.e/W)),_e=be.length,pe=$e.length,se=new we(ve),oe=se.d=[],Z=0;be[Z]==($e[Z]||0);Z++);if(be[Z]>($e[Z]||0)&&V--,z==null?(fe=z=we.precision,L=we.rounding):U?fe=z+(I.e-F.e)+1:fe=z,fe<0)oe.push(1),ee=!0;else{if(fe=fe/W+2|0,Z=0,_e==1){for(Y=0,be=be[0],fe++;(Z<pe||Y)&&fe--;Z++)me=Y*q+($e[Z]||0),oe[Z]=me/be|0,Y=me%be|0;ee=Y||Z<pe}else{for(Y=q/(be[0]+1)|0,Y>1&&(be=_(be,Y,q),$e=_($e,Y,q),_e=be.length,pe=$e.length),he=_e,le=$e.slice(0,_e),ue=le.length;ue<_e;)le[ue++]=0;ye=be.slice(),ye.unshift(0),ge=be[0],be[1]>=q/2&&++ge;do Y=0,G=R(be,le,_e,ue),G<0?(ce=le[0],_e!=ue&&(ce=ce*q+(le[1]||0)),Y=ce/ge|0,Y>1?(Y>=q&&(Y=q-1),ne=_(be,Y,q),ie=ne.length,ue=le.length,G=R(ne,le,ie,ue),G==1&&(Y--,O(ne,_e<ie?ye:be,ie,q))):(Y==0&&(G=Y=1),ne=be.slice()),ie=ne.length,ie<ue&&ne.unshift(0),O(le,ne,ue,q),G==-1&&(ue=le.length,G=R(be,le,_e,ue),G<1&&(Y++,O(le,_e<ue?ye:be,ue,q))),ue=le.length):G===0&&(Y++,le=[0]),oe[Z++]=Y,G&&le[0]?le[ue++]=$e[he]||0:(le=[$e[he]],ue=1);while((he++<pe||le[0]!==void 0)&&fe--);ee=le[0]!==void 0}oe[0]||oe.shift()}if(W==1)se.e=V,inexact=ee;else{for(Z=1,Y=oe[0];Y>=10;Y/=10)Z++;se.e=Z+V*W-1,finalise(se,U?z+se.e+1:z,L,ee)}return se}})();function finalise(_,R,O,I){var F,z,L,U,q,G,V,Z,Y,W=_.constructor;e:if(R!=null){if(Z=_.d,!Z)return _;for(F=1,U=Z[0];U>=10;U/=10)F++;if(z=R-F,z<0)z+=LOG_BASE,L=R,V=Z[Y=0],q=V/mathpow(10,F-L-1)%10|0;else if(Y=Math.ceil((z+1)/LOG_BASE),U=Z.length,Y>=U)if(I){for(;U++<=Y;)Z.push(0);V=q=0,F=1,z%=LOG_BASE,L=z-LOG_BASE+1}else break e;else{for(V=U=Z[Y],F=1;U>=10;U/=10)F++;z%=LOG_BASE,L=z-LOG_BASE+F,q=L<0?0:V/mathpow(10,F-L-1)%10|0}if(I=I||R<0||Z[Y+1]!==void 0||(L<0?V:V%mathpow(10,F-L-1)),G=O<4?(q||I)&&(O==0||O==(_.s<0?3:2)):q>5||q==5&&(O==4||I||O==6&&(z>0?L>0?V/mathpow(10,F-L):0:Z[Y-1])%10&1||O==(_.s<0?8:7)),R<1||!Z[0])return Z.length=0,G?(R-=_.e+1,Z[0]=mathpow(10,(LOG_BASE-R%LOG_BASE)%LOG_BASE),_.e=-R||0):Z[0]=_.e=0,_;if(z==0?(Z.length=Y,U=1,Y--):(Z.length=Y+1,U=mathpow(10,LOG_BASE-z),Z[Y]=L>0?(V/mathpow(10,F-L)%mathpow(10,L)|0)*U:0),G)for(;;)if(Y==0){for(z=1,L=Z[0];L>=10;L/=10)z++;for(L=Z[0]+=U,U=1;L>=10;L/=10)U++;z!=U&&(_.e++,Z[0]==BASE&&(Z[0]=1));break}else{if(Z[Y]+=U,Z[Y]!=BASE)break;Z[Y--]=0,U=1}for(z=Z.length;Z[--z]===0;)Z.pop()}return external&&(_.e>W.maxE?(_.d=null,_.e=NaN):_.e<W.minE&&(_.e=0,_.d=[0])),_}function finiteToString(_,R,O){if(!_.isFinite())return nonFiniteToString(_);var I,F=_.e,z=digitsToString(_.d),L=z.length;return R?(O&&(I=O-L)>0?z=z.charAt(0)+"."+z.slice(1)+getZeroString(I):L>1&&(z=z.charAt(0)+"."+z.slice(1)),z=z+(_.e<0?"e":"e+")+_.e):F<0?(z="0."+getZeroString(-F-1)+z,O&&(I=O-L)>0&&(z+=getZeroString(I))):F>=L?(z+=getZeroString(F+1-L),O&&(I=O-F-1)>0&&(z=z+"."+getZeroString(I))):((I=F+1)<L&&(z=z.slice(0,I)+"."+z.slice(I)),O&&(I=O-L)>0&&(F+1===L&&(z+="."),z+=getZeroString(I))),z}function getBase10Exponent(_,R){var O=_[0];for(R*=LOG_BASE;O>=10;O/=10)R++;return R}function getLn10(_,R,O){if(R>LN10_PRECISION)throw external=!0,O&&(_.precision=O),Error(precisionLimitExceeded);return finalise(new _(LN10$1),R,1,!0)}function getPi(_,R,O){if(R>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new _(PI),R,O,!0)}function getPrecision(_){var R=_.length-1,O=R*LOG_BASE+1;if(R=_[R],R){for(;R%10==0;R/=10)O--;for(R=_[0];R>=10;R/=10)O++}return O}function getZeroString(_){for(var R="";_--;)R+="0";return R}function intPow(_,R,O,I){var F,z=new _(1),L=Math.ceil(I/LOG_BASE+4);for(external=!1;;){if(O%2&&(z=z.times(R),truncate(z.d,L)&&(F=!0)),O=mathfloor(O/2),O===0){O=z.d.length-1,F&&z.d[O]===0&&++z.d[O];break}R=R.times(R),truncate(R.d,L)}return external=!0,z}function isOdd(_){return _.d[_.d.length-1]&1}function maxOrMin(_,R,O){for(var I,F,z=new _(R[0]),L=0;++L<R.length;){if(F=new _(R[L]),!F.s){z=F;break}I=z.cmp(F),(I===O||I===0&&z.s===O)&&(z=F)}return z}function naturalExponential(_,R){var O,I,F,z,L,U,q,G=0,V=0,Z=0,Y=_.constructor,W=Y.rounding,ee=Y.precision;if(!_.d||!_.d[0]||_.e>17)return new Y(_.d?_.d[0]?_.s<0?0:1/0:1:_.s?_.s<0?0:_:NaN);for(R==null?(external=!1,q=ee):q=R,U=new Y(.03125);_.e>-2;)_=_.times(U),Z+=5;for(I=Math.log(mathpow(2,Z))/Math.LN10*2+5|0,q+=I,O=z=L=new Y(1),Y.precision=q;;){if(z=finalise(z.times(_),q,1),O=O.times(++V),U=L.plus(divide$1(z,O,q,1)),digitsToString(U.d).slice(0,q)===digitsToString(L.d).slice(0,q)){for(F=Z;F--;)L=finalise(L.times(L),q,1);if(R==null)if(G<3&&checkRoundingDigits(L.d,q-I,W,G))Y.precision=q+=10,O=z=U=new Y(1),V=0,G++;else return finalise(L,Y.precision=ee,W,external=!0);else return Y.precision=ee,L}L=U}}function naturalLogarithm(_,R){var O,I,F,z,L,U,q,G,V,Z,Y,W=1,ee=10,ne=_,ie=ne.d,se=ne.constructor,oe=se.rounding,le=se.precision;if(ne.s<0||!ie||!ie[0]||!ne.e&&ie[0]==1&&ie.length==1)return new se(ie&&!ie[0]?-1/0:ne.s!=1?NaN:ie?0:ne);if(R==null?(external=!1,V=le):V=R,se.precision=V+=ee,O=digitsToString(ie),I=O.charAt(0),Math.abs(z=ne.e)<15e14){for(;I<7&&I!=1||I==1&&O.charAt(1)>3;)ne=ne.times(_),O=digitsToString(ne.d),I=O.charAt(0),W++;z=ne.e,I>1?(ne=new se("0."+O),z++):ne=new se(I+"."+O.slice(1))}else return G=getLn10(se,V+2,le).times(z+""),ne=naturalLogarithm(new se(I+"."+O.slice(1)),V-ee).plus(G),se.precision=le,R==null?finalise(ne,le,oe,external=!0):ne;for(Z=ne,q=L=ne=divide$1(ne.minus(1),ne.plus(1),V,1),Y=finalise(ne.times(ne),V,1),F=3;;){if(L=finalise(L.times(Y),V,1),G=q.plus(divide$1(L,new se(F),V,1)),digitsToString(G.d).slice(0,V)===digitsToString(q.d).slice(0,V))if(q=q.times(2),z!==0&&(q=q.plus(getLn10(se,V+2,le).times(z+""))),q=divide$1(q,new se(W),V,1),R==null)if(checkRoundingDigits(q.d,V-ee,oe,U))se.precision=V+=ee,G=L=ne=divide$1(Z.minus(1),Z.plus(1),V,1),Y=finalise(ne.times(ne),V,1),F=U=1;else return finalise(q,se.precision=le,oe,external=!0);else return se.precision=le,q;q=G,F+=2}}function nonFiniteToString(_){return String(_.s*_.s/0)}function parseDecimal(_,R){var O,I,F;for((O=R.indexOf("."))>-1&&(R=R.replace(".","")),(I=R.search(/e/i))>0?(O<0&&(O=I),O+=+R.slice(I+1),R=R.substring(0,I)):O<0&&(O=R.length),I=0;R.charCodeAt(I)===48;I++);for(F=R.length;R.charCodeAt(F-1)===48;--F);if(R=R.slice(I,F),R){if(F-=I,_.e=O=O-I-1,_.d=[],I=(O+1)%LOG_BASE,O<0&&(I+=LOG_BASE),I<F){for(I&&_.d.push(+R.slice(0,I)),F-=LOG_BASE;I<F;)_.d.push(+R.slice(I,I+=LOG_BASE));R=R.slice(I),I=LOG_BASE-R.length}else I-=F;for(;I--;)R+="0";_.d.push(+R),external&&(_.e>_.constructor.maxE?(_.d=null,_.e=NaN):_.e<_.constructor.minE&&(_.e=0,_.d=[0]))}else _.e=0,_.d=[0];return _}function parseOther(_,R){var O,I,F,z,L,U,q,G,V;if(R.indexOf("_")>-1){if(R=R.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test(R))return parseDecimal(_,R)}else if(R==="Infinity"||R==="NaN")return+R||(_.s=NaN),_.e=NaN,_.d=null,_;if(isHex.test(R))O=16,R=R.toLowerCase();else if(isBinary.test(R))O=2;else if(isOctal.test(R))O=8;else throw Error(invalidArgument+R);for(z=R.search(/p/i),z>0?(q=+R.slice(z+1),R=R.substring(2,z)):R=R.slice(2),z=R.indexOf("."),L=z>=0,I=_.constructor,L&&(R=R.replace(".",""),U=R.length,z=U-z,F=intPow(I,new I(O),z,z*2)),G=convertBase(R,O,BASE),V=G.length-1,z=V;G[z]===0;--z)G.pop();return z<0?new I(_.s*0):(_.e=getBase10Exponent(G,V),_.d=G,external=!1,L&&(_=divide$1(_,F,U*4)),q&&(_=_.times(Math.abs(q)<54?mathpow(2,q):Decimal.pow(2,q))),external=!0,_)}function sine(_,R){var O,I=R.d.length;if(I<3)return R.isZero()?R:taylorSeries(_,2,R,R);O=1.4*Math.sqrt(I),O=O>16?16:O|0,R=R.times(1/tinyPow(5,O)),R=taylorSeries(_,2,R,R);for(var F,z=new _(5),L=new _(16),U=new _(20);O--;)F=R.times(R),R=R.times(z.plus(F.times(L.times(F).minus(U))));return R}function taylorSeries(_,R,O,I,F){var z,L,U,q,G=_.precision,V=Math.ceil(G/LOG_BASE);for(external=!1,q=O.times(O),U=new _(I);;){if(L=divide$1(U.times(q),new _(R++*R++),G,1),U=F?I.plus(L):I.minus(L),I=divide$1(L.times(q),new _(R++*R++),G,1),L=U.plus(I),L.d[V]!==void 0){for(z=V;L.d[z]===U.d[z]&&z--;);if(z==-1)break}z=U,U=I,I=L,L=z}return external=!0,L.d.length=V+1,L}function tinyPow(_,R){for(var O=_;--R;)O*=_;return O}function toLessThanHalfPi(_,R){var O,I=R.s<0,F=getPi(_,_.precision,1),z=F.times(.5);if(R=R.abs(),R.lte(z))return quadrant=I?4:1,R;if(O=R.divToInt(F),O.isZero())quadrant=I?3:2;else{if(R=R.minus(O.times(F)),R.lte(z))return quadrant=isOdd(O)?I?2:3:I?4:1,R;quadrant=isOdd(O)?I?1:4:I?3:2}return R.minus(F).abs()}function toStringBinary(_,R,O,I){var F,z,L,U,q,G,V,Z,Y,W=_.constructor,ee=O!==void 0;if(ee?(checkInt32(O,1,MAX_DIGITS),I===void 0?I=W.rounding:checkInt32(I,0,8)):(O=W.precision,I=W.rounding),!_.isFinite())V=nonFiniteToString(_);else{for(V=finiteToString(_),L=V.indexOf("."),ee?(F=2,R==16?O=O*4-3:R==8&&(O=O*3-2)):F=R,L>=0&&(V=V.replace(".",""),Y=new W(1),Y.e=V.length-L,Y.d=convertBase(finiteToString(Y),10,F),Y.e=Y.d.length),Z=convertBase(V,10,F),z=q=Z.length;Z[--q]==0;)Z.pop();if(!Z[0])V=ee?"0p+0":"0";else{if(L<0?z--:(_=new W(_),_.d=Z,_.e=z,_=divide$1(_,Y,O,I,0,F),Z=_.d,z=_.e,G=inexact),L=Z[O],U=F/2,G=G||Z[O+1]!==void 0,G=I<4?(L!==void 0||G)&&(I===0||I===(_.s<0?3:2)):L>U||L===U&&(I===4||G||I===6&&Z[O-1]&1||I===(_.s<0?8:7)),Z.length=O,G)for(;++Z[--O]>F-1;)Z[O]=0,O||(++z,Z.unshift(1));for(q=Z.length;!Z[q-1];--q);for(L=0,V="";L<q;L++)V+=NUMERALS.charAt(Z[L]);if(ee){if(q>1)if(R==16||R==8){for(L=R==16?4:3,--q;q%L;q++)V+="0";for(Z=convertBase(V,F,R),q=Z.length;!Z[q-1];--q);for(L=1,V="1.";L<q;L++)V+=NUMERALS.charAt(Z[L])}else V=V.charAt(0)+"."+V.slice(1);V=V+(z<0?"p":"p+")+z}else if(z<0){for(;++z;)V="0"+V;V="0."+V}else if(++z>q)for(z-=q;z--;)V+="0";else z<q&&(V=V.slice(0,z)+"."+V.slice(z))}V=(R==16?"0x":R==2?"0b":R==8?"0o":"")+V}return _.s<0?"-"+V:V}function truncate(_,R){if(_.length>R)return _.length=R,!0}function abs$2(_){return new this(_).abs()}function acos$2(_){return new this(_).acos()}function acosh$1(_){return new this(_).acosh()}function add$2(_,R){return new this(_).plus(R)}function asin$2(_){return new this(_).asin()}function asinh$1(_){return new this(_).asinh()}function atan$2(_){return new this(_).atan()}function atanh$1(_){return new this(_).atanh()}function atan2$2(_,R){_=new this(_),R=new this(R);var O,I=this.precision,F=this.rounding,z=I+4;return!_.s||!R.s?O=new this(NaN):!_.d&&!R.d?(O=getPi(this,z,1).times(R.s>0?.25:.75),O.s=_.s):!R.d||_.isZero()?(O=R.s<0?getPi(this,I,F):new this(0),O.s=_.s):!_.d||R.isZero()?(O=getPi(this,z,1).times(.5),O.s=_.s):R.s<0?(this.precision=z,this.rounding=1,O=this.atan(divide$1(_,R,z,1)),R=getPi(this,z,1),this.precision=I,this.rounding=F,O=_.s<0?O.minus(R):O.plus(R)):O=this.atan(divide$1(_,R,z,1)),O}function cbrt$1(_){return new this(_).cbrt()}function ceil$1(_){return finalise(_=new this(_),_.e+1,2)}function clamp(_,R,O){return new this(_).clamp(R,O)}function config(_){if(!_||typeof _!="object")throw Error(decimalError+"Object expected");var R,O,I,F=_.defaults===!0,z=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-EXP_LIMIT,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-EXP_LIMIT,0,"modulo",0,9];for(R=0;R<z.length;R+=3)if(O=z[R],F&&(this[O]=DEFAULTS[O]),(I=_[O])!==void 0)if(mathfloor(I)===I&&I>=z[R+1]&&I<=z[R+2])this[O]=I;else throw Error(invalidArgument+O+": "+I);if(O="crypto",F&&(this[O]=DEFAULTS[O]),(I=_[O])!==void 0)if(I===!0||I===!1||I===0||I===1)if(I)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[O]=!0;else throw Error(cryptoUnavailable);else this[O]=!1;else throw Error(invalidArgument+O+": "+I);return this}function cos$3(_){return new this(_).cos()}function cosh$2(_){return new this(_).cosh()}function clone$2(_){var R,O,I;function F(z){var L,U,q,G=this;if(!(G instanceof F))return new F(z);if(G.constructor=F,isDecimalInstance(z)){G.s=z.s,external?!z.d||z.e>F.maxE?(G.e=NaN,G.d=null):z.e<F.minE?(G.e=0,G.d=[0]):(G.e=z.e,G.d=z.d.slice()):(G.e=z.e,G.d=z.d?z.d.slice():z.d);return}if(q=typeof z,q==="number"){if(z===0){G.s=1/z<0?-1:1,G.e=0,G.d=[0];return}if(z<0?(z=-z,G.s=-1):G.s=1,z===~~z&&z<1e7){for(L=0,U=z;U>=10;U/=10)L++;external?L>F.maxE?(G.e=NaN,G.d=null):L<F.minE?(G.e=0,G.d=[0]):(G.e=L,G.d=[z]):(G.e=L,G.d=[z]);return}if(z*0!==0){z||(G.s=NaN),G.e=NaN,G.d=null;return}return parseDecimal(G,z.toString())}if(q==="string")return(U=z.charCodeAt(0))===45?(z=z.slice(1),G.s=-1):(U===43&&(z=z.slice(1)),G.s=1),isDecimal.test(z)?parseDecimal(G,z):parseOther(G,z);if(q==="bigint")return z<0?(z=-z,G.s=-1):G.s=1,parseDecimal(G,z.toString());throw Error(invalidArgument+z)}if(F.prototype=P$3,F.ROUND_UP=0,F.ROUND_DOWN=1,F.ROUND_CEIL=2,F.ROUND_FLOOR=3,F.ROUND_HALF_UP=4,F.ROUND_HALF_DOWN=5,F.ROUND_HALF_EVEN=6,F.ROUND_HALF_CEIL=7,F.ROUND_HALF_FLOOR=8,F.EUCLID=9,F.config=F.set=config,F.clone=clone$2,F.isDecimal=isDecimalInstance,F.abs=abs$2,F.acos=acos$2,F.acosh=acosh$1,F.add=add$2,F.asin=asin$2,F.asinh=asinh$1,F.atan=atan$2,F.atanh=atanh$1,F.atan2=atan2$2,F.cbrt=cbrt$1,F.ceil=ceil$1,F.clamp=clamp,F.cos=cos$3,F.cosh=cosh$2,F.div=div,F.exp=exp$2,F.floor=floor$1,F.hypot=hypot$2,F.ln=ln,F.log=log$3,F.log10=log10$1,F.log2=log2$1,F.max=max$2,F.min=min$3,F.mod=mod$1,F.mul=mul,F.pow=pow$3,F.random=random$1,F.round=round$2,F.sign=sign$4,F.sin=sin$3,F.sinh=sinh$2,F.sqrt=sqrt$3,F.sub=sub,F.sum=sum$2,F.tan=tan$2,F.tanh=tanh$1,F.trunc=trunc,_===void 0&&(_={}),_&&_.defaults!==!0)for(I=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],R=0;R<I.length;)_.hasOwnProperty(O=I[R++])||(_[O]=this[O]);return F.config(_),F}function div(_,R){return new this(_).div(R)}function exp$2(_){return new this(_).exp()}function floor$1(_){return finalise(_=new this(_),_.e+1,3)}function hypot$2(){var _,R,O=new this(0);for(external=!1,_=0;_<arguments.length;)if(R=new this(arguments[_++]),R.d)O.d&&(O=O.plus(R.times(R)));else{if(R.s)return external=!0,new this(1/0);O=R}return external=!0,O.sqrt()}function isDecimalInstance(_){return _ instanceof Decimal||_&&_.toStringTag===tag||!1}function ln(_){return new this(_).ln()}function log$3(_,R){return new this(_).log(R)}function log2$1(_){return new this(_).log(2)}function log10$1(_){return new this(_).log(10)}function max$2(){return maxOrMin(this,arguments,-1)}function min$3(){return maxOrMin(this,arguments,1)}function mod$1(_,R){return new this(_).mod(R)}function mul(_,R){return new this(_).mul(R)}function pow$3(_,R){return new this(_).pow(R)}function random$1(_){var R,O,I,F,z=0,L=new this(1),U=[];if(_===void 0?_=this.precision:checkInt32(_,1,MAX_DIGITS),I=Math.ceil(_/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(R=crypto.getRandomValues(new Uint32Array(I));z<I;)F=R[z],F>=429e7?R[z]=crypto.getRandomValues(new Uint32Array(1))[0]:U[z++]=F%1e7;else if(crypto.randomBytes){for(R=crypto.randomBytes(I*=4);z<I;)F=R[z]+(R[z+1]<<8)+(R[z+2]<<16)+((R[z+3]&127)<<24),F>=214e7?crypto.randomBytes(4).copy(R,z):(U.push(F%1e7),z+=4);z=I/4}else throw Error(cryptoUnavailable);else for(;z<I;)U[z++]=Math.random()*1e7|0;for(I=U[--z],_%=LOG_BASE,I&&_&&(F=mathpow(10,LOG_BASE-_),U[z]=(I/F|0)*F);U[z]===0;z--)U.pop();if(z<0)O=0,U=[0];else{for(O=-1;U[0]===0;O-=LOG_BASE)U.shift();for(I=1,F=U[0];F>=10;F/=10)I++;I<LOG_BASE&&(O-=LOG_BASE-I)}return L.e=O,L.d=U,L}function round$2(_){return finalise(_=new this(_),_.e+1,this.rounding)}function sign$4(_){return _=new this(_),_.d?_.d[0]?_.s:0*_.s:_.s||NaN}function sin$3(_){return new this(_).sin()}function sinh$2(_){return new this(_).sinh()}function sqrt$3(_){return new this(_).sqrt()}function sub(_,R){return new this(_).sub(R)}function sum$2(){var _=0,R=arguments,O=new this(R[_]);for(external=!1;O.s&&++_<R.length;)O=O.plus(R[_]);return external=!0,finalise(O,this.precision,this.rounding)}function tan$2(_){return new this(_).tan()}function tanh$1(_){return new this(_).tanh()}function trunc(_){return finalise(_=new this(_),_.e+1,1)}P$3[Symbol.for("nodejs.util.inspect.custom")]=P$3.toString;P$3[Symbol.toStringTag]="Decimal";var Decimal=P$3.constructor=clone$2(DEFAULTS);LN10$1=new Decimal(LN10$1);PI=new Decimal(PI);var name$4_="BigNumber",dependencies$4_=["?on","config"],createBigNumberClass=factory(name$4_,dependencies$4_,_=>{var{on:R,config:O}=_,I=Decimal.clone({precision:O.precision,modulo:Decimal.EUCLID});return I.prototype=Object.create(I.prototype),I.prototype.type="BigNumber",I.prototype.isBigNumber=!0,I.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},I.fromJSON=function(F){return new I(F.value)},R&&R("config",function(F,z){F.precision!==z.precision&&I.config({precision:F.precision})}),I},{isClass:!0});const cosh$1=Math.cosh||function(_){return Math.abs(_)<1e-9?1-_:(Math.exp(_)+Math.exp(-_))*.5},sinh$1=Math.sinh||function(_){return Math.abs(_)<1e-9?_:(Math.exp(_)-Math.exp(-_))*.5},cosm1=_=>{const R=Math.sin(.5*_);return-2*R*R},hypot$1=function(_,R){return _=Math.abs(_),R=Math.abs(R),_<R&&([_,R]=[R,_]),_<1e8?Math.sqrt(_*_+R*R):(R/=_,_*Math.sqrt(1+R*R))},parser_exit=function(){throw SyntaxError("Invalid Param")};function logHypot(_,R){const O=Math.abs(_),I=Math.abs(R);return _===0?Math.log(I):R===0?Math.log(O):O<3e3&&I<3e3?Math.log(_*_+R*R)*.5:(_=_*.5,R=R*.5,.5*Math.log(_*_+R*R)+Math.LN2)}const P$2={re:0,im:0},parse$4=function(_,R){const O=P$2;if(_==null)O.re=O.im=0;else if(R!==void 0)O.re=_,O.im=R;else switch(typeof _){case"object":if("im"in _&&"re"in _)O.re=_.re,O.im=_.im;else if("abs"in _&&"arg"in _){if(!isFinite(_.abs)&&isFinite(_.arg))return Complex$1.INFINITY;O.re=_.abs*Math.cos(_.arg),O.im=_.abs*Math.sin(_.arg)}else if("r"in _&&"phi"in _){if(!isFinite(_.r)&&isFinite(_.phi))return Complex$1.INFINITY;O.re=_.r*Math.cos(_.phi),O.im=_.r*Math.sin(_.phi)}else _.length===2?(O.re=_[0],O.im=_[1]):parser_exit();break;case"string":O.im=O.re=0;const I=_.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let F=1,z=0;I===null&&parser_exit();for(let L=0;L<I.length;L++){const U=I[L];U===" "||U==="	"||U===`
`||(U==="+"?F++:U==="-"?z++:U==="i"||U==="I"?(F+z===0&&parser_exit(),I[L+1]!==" "&&!isNaN(I[L+1])?(O.im+=parseFloat((z%2?"-":"")+I[L+1]),L++):O.im+=parseFloat((z%2?"-":"")+"1"),F=z=0):((F+z===0||isNaN(U))&&parser_exit(),I[L+1]==="i"||I[L+1]==="I"?(O.im+=parseFloat((z%2?"-":"")+U),L++):O.re+=parseFloat((z%2?"-":"")+U),F=z=0))}F+z>0&&parser_exit();break;case"number":O.im=0,O.re=_;break;default:parser_exit()}return isNaN(O.re)||isNaN(O.im),O};function Complex$1(_,R){if(!(this instanceof Complex$1))return new Complex$1(_,R);const O=parse$4(_,R);this.re=O.re,this.im=O.im}Complex$1.prototype={re:0,im:0,sign:function(){const _=hypot$1(this.re,this.im);return new Complex$1(this.re/_,this.im/_)},add:function(_,R){const O=parse$4(_,R),I=this.isInfinite(),F=!(isFinite(O.re)&&isFinite(O.im));return I||F?I&&F?Complex$1.NAN:Complex$1.INFINITY:new Complex$1(this.re+O.re,this.im+O.im)},sub:function(_,R){const O=parse$4(_,R),I=this.isInfinite(),F=!(isFinite(O.re)&&isFinite(O.im));return I||F?I&&F?Complex$1.NAN:Complex$1.INFINITY:new Complex$1(this.re-O.re,this.im-O.im)},mul:function(_,R){const O=parse$4(_,R),I=this.isInfinite(),F=!(isFinite(O.re)&&isFinite(O.im)),z=this.re===0&&this.im===0,L=O.re===0&&O.im===0;return I&&L||F&&z?Complex$1.NAN:I||F?Complex$1.INFINITY:O.im===0&&this.im===0?new Complex$1(this.re*O.re,0):new Complex$1(this.re*O.re-this.im*O.im,this.re*O.im+this.im*O.re)},div:function(_,R){const O=parse$4(_,R),I=this.isInfinite(),F=!(isFinite(O.re)&&isFinite(O.im)),z=this.re===0&&this.im===0,L=O.re===0&&O.im===0;if(z&&L||I&&F)return Complex$1.NAN;if(L||I)return Complex$1.INFINITY;if(z||F)return Complex$1.ZERO;if(O.im===0)return new Complex$1(this.re/O.re,this.im/O.re);if(Math.abs(O.re)<Math.abs(O.im)){const U=O.re/O.im,q=O.re*U+O.im;return new Complex$1((this.re*U+this.im)/q,(this.im*U-this.re)/q)}else{const U=O.im/O.re,q=O.im*U+O.re;return new Complex$1((this.re+this.im*U)/q,(this.im-this.re*U)/q)}},pow:function(_,R){const O=parse$4(_,R),I=this.re===0&&this.im===0;if(O.re===0&&O.im===0)return Complex$1.ONE;if(O.im===0){if(this.im===0&&this.re>0)return new Complex$1(Math.pow(this.re,O.re),0);if(this.re===0)switch((O.re%4+4)%4){case 0:return new Complex$1(Math.pow(this.im,O.re),0);case 1:return new Complex$1(0,Math.pow(this.im,O.re));case 2:return new Complex$1(-Math.pow(this.im,O.re),0);case 3:return new Complex$1(0,-Math.pow(this.im,O.re))}}if(I&&O.re>0)return Complex$1.ZERO;const z=Math.atan2(this.im,this.re),L=logHypot(this.re,this.im);let U=Math.exp(O.re*L-O.im*z),q=O.im*L+O.re*z;return new Complex$1(U*Math.cos(q),U*Math.sin(q))},sqrt:function(){const _=this.re,R=this.im;if(R===0)return _>=0?new Complex$1(Math.sqrt(_),0):new Complex$1(0,Math.sqrt(-_));const O=hypot$1(_,R);let I=Math.sqrt(.5*(O+Math.abs(_))),F=Math.abs(R)/(2*I);return _>=0?new Complex$1(I,R<0?-F:F):new Complex$1(F,R<0?-I:I)},exp:function(){const _=Math.exp(this.re);return this.im===0?new Complex$1(_,0):new Complex$1(_*Math.cos(this.im),_*Math.sin(this.im))},expm1:function(){const _=this.re,R=this.im;return new Complex$1(Math.expm1(_)*Math.cos(R)+cosm1(R),Math.exp(_)*Math.sin(R))},log:function(){const _=this.re,R=this.im;return R===0&&_>0?new Complex$1(Math.log(_),0):new Complex$1(logHypot(_,R),Math.atan2(R,_))},abs:function(){return hypot$1(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const _=this.re,R=this.im;return new Complex$1(Math.sin(_)*cosh$1(R),Math.cos(_)*sinh$1(R))},cos:function(){const _=this.re,R=this.im;return new Complex$1(Math.cos(_)*cosh$1(R),-Math.sin(_)*sinh$1(R))},tan:function(){const _=2*this.re,R=2*this.im,O=Math.cos(_)+cosh$1(R);return new Complex$1(Math.sin(_)/O,sinh$1(R)/O)},cot:function(){const _=2*this.re,R=2*this.im,O=Math.cos(_)-cosh$1(R);return new Complex$1(-Math.sin(_)/O,sinh$1(R)/O)},sec:function(){const _=this.re,R=this.im,O=.5*cosh$1(2*R)+.5*Math.cos(2*_);return new Complex$1(Math.cos(_)*cosh$1(R)/O,Math.sin(_)*sinh$1(R)/O)},csc:function(){const _=this.re,R=this.im,O=.5*cosh$1(2*R)-.5*Math.cos(2*_);return new Complex$1(Math.sin(_)*cosh$1(R)/O,-Math.cos(_)*sinh$1(R)/O)},asin:function(){const _=this.re,R=this.im,O=new Complex$1(R*R-_*_+1,-2*_*R).sqrt(),I=new Complex$1(O.re-R,O.im+_).log();return new Complex$1(I.im,-I.re)},acos:function(){const _=this.re,R=this.im,O=new Complex$1(R*R-_*_+1,-2*_*R).sqrt(),I=new Complex$1(O.re-R,O.im+_).log();return new Complex$1(Math.PI/2-I.im,I.re)},atan:function(){const _=this.re,R=this.im;if(_===0){if(R===1)return new Complex$1(0,1/0);if(R===-1)return new Complex$1(0,-1/0)}const O=_*_+(1-R)*(1-R),I=new Complex$1((1-R*R-_*_)/O,-2*_/O).log();return new Complex$1(-.5*I.im,.5*I.re)},acot:function(){const _=this.re,R=this.im;if(R===0)return new Complex$1(Math.atan2(1,_),0);const O=_*_+R*R;return O!==0?new Complex$1(_/O,-R/O).atan():new Complex$1(_!==0?_/0:0,R!==0?-R/0:0).atan()},asec:function(){const _=this.re,R=this.im;if(_===0&&R===0)return new Complex$1(0,1/0);const O=_*_+R*R;return O!==0?new Complex$1(_/O,-R/O).acos():new Complex$1(_!==0?_/0:0,R!==0?-R/0:0).acos()},acsc:function(){const _=this.re,R=this.im;if(_===0&&R===0)return new Complex$1(Math.PI/2,1/0);const O=_*_+R*R;return O!==0?new Complex$1(_/O,-R/O).asin():new Complex$1(_!==0?_/0:0,R!==0?-R/0:0).asin()},sinh:function(){const _=this.re,R=this.im;return new Complex$1(sinh$1(_)*Math.cos(R),cosh$1(_)*Math.sin(R))},cosh:function(){const _=this.re,R=this.im;return new Complex$1(cosh$1(_)*Math.cos(R),sinh$1(_)*Math.sin(R))},tanh:function(){const _=2*this.re,R=2*this.im,O=cosh$1(_)+Math.cos(R);return new Complex$1(sinh$1(_)/O,Math.sin(R)/O)},coth:function(){const _=2*this.re,R=2*this.im,O=cosh$1(_)-Math.cos(R);return new Complex$1(sinh$1(_)/O,-Math.sin(R)/O)},csch:function(){const _=this.re,R=this.im,O=Math.cos(2*R)-cosh$1(2*_);return new Complex$1(-2*sinh$1(_)*Math.cos(R)/O,2*cosh$1(_)*Math.sin(R)/O)},sech:function(){const _=this.re,R=this.im,O=Math.cos(2*R)+cosh$1(2*_);return new Complex$1(2*cosh$1(_)*Math.cos(R)/O,-2*sinh$1(_)*Math.sin(R)/O)},asinh:function(){const _=this.re,R=this.im;if(R===0){if(_===0)return new Complex$1(0,0);const z=Math.abs(_),L=Math.log(z+Math.sqrt(z*z+1));return new Complex$1(_<0?-L:L,0)}const O=_*_-R*R+1,I=2*_*R,F=new Complex$1(O,I).sqrt();return new Complex$1(_+F.re,R+F.im).log()},acosh:function(){const _=this.re,R=this.im;if(R===0){if(_>1)return new Complex$1(Math.log(_+Math.sqrt(_-1)*Math.sqrt(_+1)),0);if(_<-1){const F=Math.sqrt(_*_-1);return new Complex$1(Math.log(-_+F),Math.PI)}return new Complex$1(0,Math.acos(_))}const O=new Complex$1(_-1,R).sqrt(),I=new Complex$1(_+1,R).sqrt();return new Complex$1(_+O.re*I.re-O.im*I.im,R+O.re*I.im+O.im*I.re).log()},atanh:function(){const _=this.re,R=this.im;if(R===0){if(_===0)return new Complex$1(0,0);if(_===1)return new Complex$1(1/0,0);if(_===-1)return new Complex$1(-1/0,0);if(-1<_&&_<1)return new Complex$1(.5*Math.log((1+_)/(1-_)),0);if(_>1){const q=(_+1)/(_-1);return new Complex$1(.5*Math.log(q),-Math.PI/2)}const U=(1+_)/(1-_);return new Complex$1(.5*Math.log(-U),Math.PI/2)}const O=1-_,I=1+_,F=O*O+R*R;if(F===0)return new Complex$1(_!==-1?_/0:0,R!==0?R/0:0);const z=(I*O-R*R)/F,L=(R*O+I*R)/F;return new Complex$1(logHypot(z,L)/2,Math.atan2(L,z)/2)},acoth:function(){const _=this.re,R=this.im;if(_===0&&R===0)return new Complex$1(0,Math.PI/2);const O=_*_+R*R;return O!==0?new Complex$1(_/O,-R/O).atanh():new Complex$1(_!==0?_/0:0,R!==0?-R/0:0).atanh()},acsch:function(){const _=this.re,R=this.im;if(R===0){if(_===0)return new Complex$1(1/0,0);const I=1/_;return new Complex$1(Math.log(I+Math.sqrt(I*I+1)),0)}const O=_*_+R*R;return O!==0?new Complex$1(_/O,-R/O).asinh():new Complex$1(_!==0?_/0:0,R!==0?-R/0:0).asinh()},asech:function(){const _=this.re,R=this.im;if(this.isZero())return Complex$1.INFINITY;const O=_*_+R*R;return O!==0?new Complex$1(_/O,-R/O).acosh():new Complex$1(_!==0?_/0:0,R!==0?-R/0:0).acosh()},inverse:function(){if(this.isZero())return Complex$1.INFINITY;if(this.isInfinite())return Complex$1.ZERO;const _=this.re,R=this.im,O=_*_+R*R;return new Complex$1(_/O,-R/O)},conjugate:function(){return new Complex$1(this.re,-this.im)},neg:function(){return new Complex$1(-this.re,-this.im)},ceil:function(_){return _=Math.pow(10,_||0),new Complex$1(Math.ceil(this.re*_)/_,Math.ceil(this.im*_)/_)},floor:function(_){return _=Math.pow(10,_||0),new Complex$1(Math.floor(this.re*_)/_,Math.floor(this.im*_)/_)},round:function(_){return _=Math.pow(10,_||0),new Complex$1(Math.round(this.re*_)/_,Math.round(this.im*_)/_)},equals:function(_,R){const O=parse$4(_,R);return Math.abs(O.re-this.re)<=Complex$1.EPSILON&&Math.abs(O.im-this.im)<=Complex$1.EPSILON},clone:function(){return new Complex$1(this.re,this.im)},toString:function(){let _=this.re,R=this.im,O="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(_)<Complex$1.EPSILON&&(_=0),Math.abs(R)<Complex$1.EPSILON&&(R=0),R===0?O+_:(_!==0?(O+=_,O+=" ",R<0?(R=-R,O+="-"):O+="+",O+=" "):R<0&&(R=-R,O+="-"),R!==1&&(O+=R),O+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};Complex$1.ZERO=new Complex$1(0,0);Complex$1.ONE=new Complex$1(1,0);Complex$1.I=new Complex$1(0,1);Complex$1.PI=new Complex$1(Math.PI,0);Complex$1.E=new Complex$1(Math.E,0);Complex$1.INFINITY=new Complex$1(1/0,1/0);Complex$1.NAN=new Complex$1(NaN,NaN);Complex$1.EPSILON=1e-15;var name$4Z="Complex",dependencies$4Z=[],createComplexClass=factory(name$4Z,dependencies$4Z,()=>(Object.defineProperty(Complex$1,"name",{value:"Complex"}),Complex$1.prototype.constructor=Complex$1,Complex$1.prototype.type="Complex",Complex$1.prototype.isComplex=!0,Complex$1.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Complex$1.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Complex$1.prototype.format=function(_){var R="",O=this.im,I=this.re,F=format$5(this.re,_),z=format$5(this.im,_),L=isNumber$1(_)?_:_?_.precision:null;if(L!==null){var U=Math.pow(10,-L);Math.abs(I/O)<U&&(I=0),Math.abs(O/I)<U&&(O=0)}return O===0?R=F:I===0?O===1?R="i":O===-1?R="-i":R=z+"i":O<0?O===-1?R=F+" - i":R=F+" - "+z.substring(1)+"i":O===1?R=F+" + i":R=F+" + "+z+"i",R},Complex$1.fromPolar=function(_){switch(arguments.length){case 1:{var R=arguments[0];if(typeof R=="object")return Complex$1(R);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var O=arguments[0],I=arguments[1];if(isNumber$1(O)){if(isUnit(I)&&I.hasBase("ANGLE")&&(I=I.toNumber("rad")),isNumber$1(I))return new Complex$1({r:O,phi:I});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Complex$1.prototype.valueOf=Complex$1.prototype.toString,Complex$1.fromJSON=function(_){return new Complex$1(_)},Complex$1.compare=function(_,R){return _.re>R.re?1:_.re<R.re?-1:_.im>R.im?1:_.im<R.im?-1:0},Complex$1),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(_){if(isNaN(_))throw new Error("");return _});const C_ZERO=BigInt(0),C_ONE=BigInt(1),C_TWO=BigInt(2),C_THREE=BigInt(3),C_FIVE=BigInt(5),C_TEN=BigInt(10);BigInt(Number.MAX_SAFE_INTEGER);const MAX_CYCLE_LEN=2e3,P$1={s:C_ONE,n:C_ZERO,d:C_ONE};function assign$1(_,R){try{_=BigInt(_)}catch{throw InvalidParameter()}return _*R}function ifloor(_){return typeof _=="bigint"?_:Math.floor(_)}function newFraction(_,R){if(R===C_ZERO)throw DivisionByZero();const O=Object.create(Fraction$1.prototype);O.s=_<C_ZERO?-C_ONE:C_ONE,_=_<C_ZERO?-_:_;const I=gcd$1(_,R);return O.n=_/I,O.d=R/I,O}const FACTORSTEPS=[C_TWO*C_TWO,C_TWO,C_TWO*C_TWO,C_TWO,C_TWO*C_TWO,C_TWO*C_THREE,C_TWO,C_TWO*C_THREE];function factorize(_){const R=Object.create(null);if(_<=C_ONE)return R[_]=C_ONE,R;const O=I=>{R[I]=(R[I]||C_ZERO)+C_ONE};for(;_%C_TWO===C_ZERO;)O(C_TWO),_/=C_TWO;for(;_%C_THREE===C_ZERO;)O(C_THREE),_/=C_THREE;for(;_%C_FIVE===C_ZERO;)O(C_FIVE),_/=C_FIVE;for(let I=0,F=C_TWO+C_FIVE;F*F<=_;){for(;_%F===C_ZERO;)O(F),_/=F;F+=FACTORSTEPS[I],I=I+1&7}return _>C_ONE&&O(_),R}const parse$3=function(_,R){let O=C_ZERO,I=C_ONE,F=C_ONE;if(_!=null)if(R!==void 0){if(typeof _=="bigint")O=_;else{if(isNaN(_))throw InvalidParameter();if(_%1!==0)throw NonIntegerParameter();O=BigInt(_)}if(typeof R=="bigint")I=R;else{if(isNaN(R))throw InvalidParameter();if(R%1!==0)throw NonIntegerParameter();I=BigInt(R)}F=O*I}else if(typeof _=="object"){if("d"in _&&"n"in _)O=BigInt(_.n),I=BigInt(_.d),"s"in _&&(O*=BigInt(_.s));else if(0 in _)O=BigInt(_[0]),1 in _&&(I=BigInt(_[1]));else if(typeof _=="bigint")O=_;else throw InvalidParameter();F=O*I}else if(typeof _=="number"){if(isNaN(_))throw InvalidParameter();if(_<0&&(F=-C_ONE,_=-_),_%1===0)O=BigInt(_);else{let z=1,L=0,U=1,q=1,G=1,V=1e7;for(_>=1&&(z=10**Math.floor(1+Math.log10(_)),_/=z);U<=V&&G<=V;){let Z=(L+q)/(U+G);if(_===Z){U+G<=V?(O=L+q,I=U+G):G>U?(O=q,I=G):(O=L,I=U);break}else _>Z?(L+=q,U+=G):(q+=L,G+=U),U>V?(O=q,I=G):(O=L,I=U)}O=BigInt(O)*BigInt(z),I=BigInt(I)}}else if(typeof _=="string"){let z=0,L=C_ZERO,U=C_ZERO,q=C_ZERO,G=C_ONE,V=C_ONE,Z=_.replace(/_/g,"").match(/\d+|./g);if(Z===null)throw InvalidParameter();if(Z[z]==="-"?(F=-C_ONE,z++):Z[z]==="+"&&z++,Z.length===z+1?U=assign$1(Z[z++],F):Z[z+1]==="."||Z[z]==="."?(Z[z]!=="."&&(L=assign$1(Z[z++],F)),z++,(z+1===Z.length||Z[z+1]==="("&&Z[z+3]===")"||Z[z+1]==="'"&&Z[z+3]==="'")&&(U=assign$1(Z[z],F),G=C_TEN**BigInt(Z[z].length),z++),(Z[z]==="("&&Z[z+2]===")"||Z[z]==="'"&&Z[z+2]==="'")&&(q=assign$1(Z[z+1],F),V=C_TEN**BigInt(Z[z+1].length)-C_ONE,z+=3)):Z[z+1]==="/"||Z[z+1]===":"?(U=assign$1(Z[z],F),G=assign$1(Z[z+2],C_ONE),z+=3):Z[z+3]==="/"&&Z[z+1]===" "&&(L=assign$1(Z[z],F),U=assign$1(Z[z+2],F),G=assign$1(Z[z+4],C_ONE),z+=5),Z.length<=z)I=G*V,F=O=q+I*L+V*U;else throw InvalidParameter()}else if(typeof _=="bigint")O=_,F=_,I=C_ONE;else throw InvalidParameter();if(I===C_ZERO)throw DivisionByZero();P$1.s=F<C_ZERO?-C_ONE:C_ONE,P$1.n=O<C_ZERO?-O:O,P$1.d=I<C_ZERO?-I:I};function modpow(_,R,O){let I=C_ONE;for(;R>C_ZERO;_=_*_%O,R>>=C_ONE)R&C_ONE&&(I=I*_%O);return I}function cycleLen(_,R){for(;R%C_TWO===C_ZERO;R/=C_TWO);for(;R%C_FIVE===C_ZERO;R/=C_FIVE);if(R===C_ONE)return C_ZERO;let O=C_TEN%R,I=1;for(;O!==C_ONE;I++)if(O=O*C_TEN%R,I>MAX_CYCLE_LEN)return C_ZERO;return BigInt(I)}function cycleStart(_,R,O){let I=C_ONE,F=modpow(C_TEN,O,R);for(let z=0;z<300;z++){if(I===F)return BigInt(z);I=I*C_TEN%R,F=F*C_TEN%R}return 0}function gcd$1(_,R){if(!_)return R;if(!R)return _;for(;;){if(_%=R,!_)return R;if(R%=_,!R)return _}}function Fraction$1(_,R){if(parse$3(_,R),this instanceof Fraction$1)_=gcd$1(P$1.d,P$1.n),this.s=P$1.s,this.n=P$1.n/_,this.d=P$1.d/_;else return newFraction(P$1.s*P$1.n,P$1.d)}const DivisionByZero=function(){return new Error("Division by Zero")},InvalidParameter=function(){return new Error("Invalid argument")},NonIntegerParameter=function(){return new Error("Parameters must be integer")};Fraction$1.prototype={s:C_ONE,n:C_ZERO,d:C_ONE,abs:function(){return newFraction(this.n,this.d)},neg:function(){return newFraction(-this.s*this.n,this.d)},add:function(_,R){return parse$3(_,R),newFraction(this.s*this.n*P$1.d+P$1.s*this.d*P$1.n,this.d*P$1.d)},sub:function(_,R){return parse$3(_,R),newFraction(this.s*this.n*P$1.d-P$1.s*this.d*P$1.n,this.d*P$1.d)},mul:function(_,R){return parse$3(_,R),newFraction(this.s*P$1.s*this.n*P$1.n,this.d*P$1.d)},div:function(_,R){return parse$3(_,R),newFraction(this.s*P$1.s*this.n*P$1.d,this.d*P$1.n)},clone:function(){return newFraction(this.s*this.n,this.d)},mod:function(_,R){if(_===void 0)return newFraction(this.s*this.n%this.d,C_ONE);if(parse$3(_,R),C_ZERO===P$1.n*this.d)throw DivisionByZero();return newFraction(this.s*(P$1.d*this.n)%(P$1.n*this.d),P$1.d*this.d)},gcd:function(_,R){return parse$3(_,R),newFraction(gcd$1(P$1.n,this.n)*gcd$1(P$1.d,this.d),P$1.d*this.d)},lcm:function(_,R){return parse$3(_,R),P$1.n===C_ZERO&&this.n===C_ZERO?newFraction(C_ZERO,C_ONE):newFraction(P$1.n*this.n,gcd$1(P$1.n,this.n)*gcd$1(P$1.d,this.d))},inverse:function(){return newFraction(this.s*this.d,this.n)},pow:function(_,R){if(parse$3(_,R),P$1.d===C_ONE)return P$1.s<C_ZERO?newFraction((this.s*this.d)**P$1.n,this.n**P$1.n):newFraction((this.s*this.n)**P$1.n,this.d**P$1.n);if(this.s<C_ZERO)return null;let O=factorize(this.n),I=factorize(this.d),F=C_ONE,z=C_ONE;for(let L in O)if(L!=="1"){if(L==="0"){F=C_ZERO;break}if(O[L]*=P$1.n,O[L]%P$1.d===C_ZERO)O[L]/=P$1.d;else return null;F*=BigInt(L)**O[L]}for(let L in I)if(L!=="1"){if(I[L]*=P$1.n,I[L]%P$1.d===C_ZERO)I[L]/=P$1.d;else return null;z*=BigInt(L)**I[L]}return P$1.s<C_ZERO?newFraction(z,F):newFraction(F,z)},log:function(_,R){if(parse$3(_,R),this.s<=C_ZERO||P$1.s<=C_ZERO)return null;const O=Object.create(null),I=factorize(P$1.n),F=factorize(P$1.d),z=factorize(this.n),L=factorize(this.d);for(const G in F)I[G]=(I[G]||C_ZERO)-F[G];for(const G in L)z[G]=(z[G]||C_ZERO)-L[G];for(const G in I)G!=="1"&&(O[G]=!0);for(const G in z)G!=="1"&&(O[G]=!0);let U=null,q=null;for(const G in O){const V=I[G]||C_ZERO,Z=z[G]||C_ZERO;if(V===C_ZERO){if(Z!==C_ZERO)return null;continue}let Y=Z,W=V;const ee=gcd$1(Y,W);if(Y/=ee,W/=ee,U===null&&q===null)U=Y,q=W;else if(Y*q!==U*W)return null}return U!==null&&q!==null?newFraction(U,q):null},equals:function(_,R){return parse$3(_,R),this.s*this.n*P$1.d===P$1.s*P$1.n*this.d},lt:function(_,R){return parse$3(_,R),this.s*this.n*P$1.d<P$1.s*P$1.n*this.d},lte:function(_,R){return parse$3(_,R),this.s*this.n*P$1.d<=P$1.s*P$1.n*this.d},gt:function(_,R){return parse$3(_,R),this.s*this.n*P$1.d>P$1.s*P$1.n*this.d},gte:function(_,R){return parse$3(_,R),this.s*this.n*P$1.d>=P$1.s*P$1.n*this.d},compare:function(_,R){parse$3(_,R);let O=this.s*this.n*P$1.d-P$1.s*P$1.n*this.d;return(C_ZERO<O)-(O<C_ZERO)},ceil:function(_){return _=C_TEN**BigInt(_||0),newFraction(ifloor(this.s*_*this.n/this.d)+(_*this.n%this.d>C_ZERO&&this.s>=C_ZERO?C_ONE:C_ZERO),_)},floor:function(_){return _=C_TEN**BigInt(_||0),newFraction(ifloor(this.s*_*this.n/this.d)-(_*this.n%this.d>C_ZERO&&this.s<C_ZERO?C_ONE:C_ZERO),_)},round:function(_){return _=C_TEN**BigInt(_||0),newFraction(ifloor(this.s*_*this.n/this.d)+this.s*((this.s>=C_ZERO?C_ONE:C_ZERO)+C_TWO*(_*this.n%this.d)>this.d?C_ONE:C_ZERO),_)},roundTo:function(_,R){parse$3(_,R);const O=this.n*P$1.d,I=this.d*P$1.n,F=O%I;let z=ifloor(O/I);return F+F>=I&&z++,newFraction(this.s*z*P$1.n,P$1.d)},divisible:function(_,R){return parse$3(_,R),P$1.n===C_ZERO?!1:this.n*P$1.d%(P$1.n*this.d)===C_ZERO},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(_=15){let R=this.n,O=this.d,I=cycleLen(R,O),F=cycleStart(R,O,I),z=this.s<C_ZERO?"-":"";if(z+=ifloor(R/O),R%=O,R*=C_TEN,R&&(z+="."),I){for(let L=F;L--;)z+=ifloor(R/O),R%=O,R*=C_TEN;z+="(";for(let L=I;L--;)z+=ifloor(R/O),R%=O,R*=C_TEN;z+=")"}else for(let L=_;R&&L--;)z+=ifloor(R/O),R%=O,R*=C_TEN;return z},toFraction:function(_=!1){let R=this.n,O=this.d,I=this.s<C_ZERO?"-":"";if(O===C_ONE)I+=R;else{const F=ifloor(R/O);_&&F>C_ZERO&&(I+=F,I+=" ",R%=O),I+=R,I+="/",I+=O}return I},toLatex:function(_=!1){let R=this.n,O=this.d,I=this.s<C_ZERO?"-":"";if(O===C_ONE)I+=R;else{const F=ifloor(R/O);_&&F>C_ZERO&&(I+=F,R%=O),I+="\\frac{",I+=R,I+="}{",I+=O,I+="}"}return I},toContinued:function(){let _=this.n,R=this.d;const O=[];for(;R;){O.push(ifloor(_/R));const I=_%R;_=R,R=I}return O},simplify:function(_=.001){const R=BigInt(Math.ceil(1/_)),O=this.abs(),I=O.toContinued();for(let F=1;F<I.length;F++){let z=newFraction(I[F-1],C_ONE);for(let U=F-2;U>=0;U--)z=z.inverse().add(I[U]);let L=z.sub(O);if(L.n*R<L.d)return z.mul(this.s)}return this}};var name$4Y="Fraction",dependencies$4Y=[],createFractionClass=factory(name$4Y,dependencies$4Y,()=>(Object.defineProperty(Fraction$1,"name",{value:"Fraction"}),Fraction$1.prototype.constructor=Fraction$1,Fraction$1.prototype.type="Fraction",Fraction$1.prototype.isFraction=!0,Fraction$1.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Fraction$1.fromJSON=function(_){return new Fraction$1(_)},Fraction$1),{isClass:!0}),name$4X="Range",dependencies$4X=[],createRangeClass=factory(name$4X,dependencies$4X,()=>{function _(R,O,I){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");var F=R!=null,z=O!=null,L=I!=null;if(F){if(isBigNumber(R))R=R.toNumber();else if(typeof R!="number"&&!isBigInt(R))throw new TypeError("Parameter start must be a number or bigint")}if(z){if(isBigNumber(O))O=O.toNumber();else if(typeof O!="number"&&!isBigInt(O))throw new TypeError("Parameter end must be a number or bigint")}if(L){if(isBigNumber(I))I=I.toNumber();else if(typeof I!="number"&&!isBigInt(I))throw new TypeError("Parameter step must be a number or bigint")}if(this.start=F?parseFloat(R):0,this.end=z?parseFloat(O):0,this.step=L?parseFloat(I):1,L&&nearlyEqual$1(this.step,0))throw new Error("Step must not be zero")}return _.prototype.type="Range",_.prototype.isRange=!0,_.parse=function(R){if(typeof R!="string")return null;var O=R.split(":"),I=O.map(function(z){return parseFloat(z)}),F=I.some(function(z){return isNaN(z)});if(F)return null;switch(I.length){case 2:return new _(I[0],I[1]);case 3:return new _(I[0],I[2],I[1]);default:return null}},_.prototype.clone=function(){return new _(this.start,this.end,this.step)},_.prototype.size=function(){var R=0,O=this.start,I=this.step,F=this.end,z=F-O;return sign$5(I)===sign$5(z)?R=Math.ceil(z/I):z===0&&(R=0),isNaN(R)&&(R=0),[R]},_.prototype.min=function(){var R=this.size()[0];if(R>0)return this.step>0?this.start:this.start+(R-1)*this.step},_.prototype.max=function(){var R=this.size()[0];if(R>0)return this.step>0?this.start+(R-1)*this.step:this.start},_.prototype.forEach=function(R){var O=this.start,I=this.step,F=this.end,z=0;if(I>0)for(;O<F;)R(O,[z],this),O+=I,z++;else if(I<0)for(;O>F;)R(O,[z],this),O+=I,z++},_.prototype.map=function(R){var O=[];return this.forEach(function(I,F,z){O[F[0]]=R(I,F,z)}),O},_.prototype.toArray=function(){var R=[];return this.forEach(function(O,I){R[I[0]]=O}),R},_.prototype.valueOf=function(){return this.toArray()},_.prototype.format=function(R){var O=format$5(this.start,R);return this.step!==1&&(O+=":"+format$5(this.step,R)),O+=":"+format$5(this.end,R),O},_.prototype.toString=function(){return this.format()},_.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},_.fromJSON=function(R){return new _(R.start,R.end,R.step)},_},{isClass:!0}),name$4W="Matrix",dependencies$4W=[],createMatrixClass=factory(name$4W,dependencies$4W,()=>{function _(){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator")}return _.prototype.type="Matrix",_.prototype.isMatrix=!0,_.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},_.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},_.prototype.create=function(R,O){throw new Error("Cannot invoke create on a Matrix interface")},_.prototype.subset=function(R,O,I){throw new Error("Cannot invoke subset on a Matrix interface")},_.prototype.get=function(R){throw new Error("Cannot invoke get on a Matrix interface")},_.prototype.set=function(R,O,I){throw new Error("Cannot invoke set on a Matrix interface")},_.prototype.resize=function(R,O){throw new Error("Cannot invoke resize on a Matrix interface")},_.prototype.reshape=function(R,O){throw new Error("Cannot invoke reshape on a Matrix interface")},_.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},_.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},_.prototype.map=function(R,O){throw new Error("Cannot invoke map on a Matrix interface")},_.prototype.forEach=function(R){throw new Error("Cannot invoke forEach on a Matrix interface")},_.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},_.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},_.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},_.prototype.format=function(R){throw new Error("Cannot invoke format on a Matrix interface")},_.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},_},{isClass:!0});function formatBigNumberToBase(_,R,O){var I=_.constructor,F=new I(2),z="";if(O){if(O<1)throw new Error("size must be in greater than 0");if(!isInteger$1(O))throw new Error("size must be an integer");if(_.greaterThan(F.pow(O-1).sub(1))||_.lessThan(F.pow(O-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(O-1,", 2^").concat(O-1,"-1]"));if(!_.isInteger())throw new Error("Value must be an integer");_.lessThan(0)&&(_=_.add(F.pow(O))),z="i".concat(O)}switch(R){case 2:return"".concat(_.toBinary()).concat(z);case 8:return"".concat(_.toOctal()).concat(z);case 16:return"".concat(_.toHexadecimal()).concat(z);default:throw new Error("Base ".concat(R," not supported "))}}function format$4(_,R){if(typeof R=="function")return R(_);if(!_.isFinite())return _.isNaN()?"NaN":_.gt(0)?"Infinity":"-Infinity";var{notation:O,precision:I,wordSize:F}=normalizeFormatOptions(R);switch(O){case"fixed":return toFixed(_,I);case"exponential":return toExponential(_,I);case"engineering":return toEngineering(_,I);case"bin":return formatBigNumberToBase(_,2,F);case"oct":return formatBigNumberToBase(_,8,F);case"hex":return formatBigNumberToBase(_,16,F);case"auto":{var z=_toNumberOrDefault(R?.lowerExp,-3),L=_toNumberOrDefault(R?.upperExp,5);if(_.isZero())return"0";var U,q=_.toSignificantDigits(I),G=q.e;return G>=z&&G<L?U=q.toFixed():U=toExponential(_,I),U.replace(/((\.\d*?)(0+))($|e)/,function(){var V=arguments[2],Z=arguments[4];return V!=="."?V+Z:Z})}default:throw new Error('Unknown notation "'+O+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function toEngineering(_,R){var O=_.e,I=O%3===0?O:O<0?O-3-O%3:O-O%3,F=_.mul(Math.pow(10,-I)),z=F.toPrecision(R);if(z.includes("e")){var L=_.constructor;z=new L(z).toFixed()}return z+"e"+(O>=0?"+":"")+I.toString()}function toExponential(_,R){return R!==void 0?_.toExponential(R-1):_.toExponential()}function toFixed(_,R){return _.toFixed(R)}function _toNumberOrDefault(_,R){return isNumber$1(_)?_:isBigNumber(_)?_.toNumber():R}function endsWith(_,R){var O=_.length-R.length,I=_.length;return _.substring(O,I)===R}function format$3(_,R){var O=_format(_,R);return R&&typeof R=="object"&&"truncate"in R&&O.length>R.truncate?O.substring(0,R.truncate-3)+"...":O}function _format(_,R){if(typeof _=="number")return format$5(_,R);if(isBigNumber(_))return format$4(_,R);if(looksLikeFraction(_))return!R||R.fraction!=="decimal"?"".concat(_.s*_.n,"/").concat(_.d):_.toString();if(Array.isArray(_))return formatArray(_,R);if(isString(_))return stringify(_);if(typeof _=="function")return _.syntax?String(_.syntax):"function";if(_&&typeof _=="object"){if(typeof _.format=="function")return _.format(R);if(_&&_.toString(R)!=={}.toString())return _.toString(R);var O=Object.keys(_).map(I=>stringify(I)+": "+format$3(_[I],R));return"{"+O.join(", ")+"}"}return String(_)}function stringify(_){for(var R=String(_),O="",I=0;I<R.length;){var F=R.charAt(I);O+=F in controlCharacters?controlCharacters[F]:F,I++}return'"'+O+'"'}var controlCharacters={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function escape(_){var R=String(_);return R=R.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),R}function formatArray(_,R){if(Array.isArray(_)){for(var O="[",I=_.length,F=0;F<I;F++)F!==0&&(O+=", "),O+=formatArray(_[F],R);return O+="]",O}else return format$3(_,R)}function looksLikeFraction(_){return _&&typeof _=="object"&&typeof _.s=="bigint"&&typeof _.n=="bigint"&&typeof _.d=="bigint"||!1}function compareText$1(_,R){if(!isString(_))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+typeOf$1(_)+", index: 0)");if(!isString(R))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+typeOf$1(R)+", index: 1)");return _===R?0:_>R?1:-1}function DimensionError(_,R,O){if(!(this instanceof DimensionError))throw new SyntaxError("Constructor must be called with the new operator");this.actual=_,this.expected=R,this.relation=O,this.message="Dimension mismatch ("+(Array.isArray(_)?"["+_.join(", ")+"]":_)+" "+(this.relation||"!=")+" "+(Array.isArray(R)?"["+R.join(", ")+"]":R)+")",this.stack=new Error().stack}DimensionError.prototype=new RangeError;DimensionError.prototype.constructor=RangeError;DimensionError.prototype.name="DimensionError";DimensionError.prototype.isDimensionError=!0;function IndexError(_,R,O){if(!(this instanceof IndexError))throw new SyntaxError("Constructor must be called with the new operator");this.index=_,arguments.length<3?(this.min=0,this.max=R):(this.min=R,this.max=O),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}IndexError.prototype=new RangeError;IndexError.prototype.constructor=RangeError;IndexError.prototype.name="IndexError";IndexError.prototype.isIndexError=!0;function arraySize(_){for(var R=[];Array.isArray(_);)R.push(_.length),_=_[0];return R}function _validate(_,R,O){var I,F=_.length;if(F!==R[O])throw new DimensionError(F,R[O]);if(O<R.length-1){var z=O+1;for(I=0;I<F;I++){var L=_[I];if(!Array.isArray(L))throw new DimensionError(R.length-1,R.length,"<");_validate(_[I],R,z)}}else for(I=0;I<F;I++)if(Array.isArray(_[I]))throw new DimensionError(R.length+1,R.length,">")}function validate(_,R){var O=R.length===0;if(O){if(Array.isArray(_))throw new DimensionError(_.length,0)}else _validate(_,R,0)}function validateIndexSourceSize(_,R){var O=_.isMatrix?_._size:arraySize(_),I=R._sourceSize;I.forEach((F,z)=>{if(F!==null&&F!==O[z])throw new DimensionError(F,O[z])})}function validateIndex(_,R){if(_!==void 0){if(!isNumber$1(_)||!isInteger$1(_))throw new TypeError("Index must be an integer (value: "+_+")");if(_<0||typeof R=="number"&&_>=R)throw new IndexError(_,R)}}function isEmptyIndex(_){for(var R=0;R<_._dimensions.length;++R){var O=_._dimensions[R];if(O._data&&isArray$1(O._data)){if(O._size[0]===0)return!0}else if(O.isRange){if(O.start===O.end)return!0}else if(isString(O)&&O.length===0)return!0}return!1}function resize$1(_,R,O){if(!Array.isArray(R))throw new TypeError("Array expected");if(R.length===0)throw new Error("Resizing to scalar is not supported");R.forEach(function(F){if(!isNumber$1(F)||!isInteger$1(F)||F<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format$3(R)+")")}),(isNumber$1(_)||isBigNumber(_))&&(_=[_]);var I=O!==void 0?O:0;return _resize(_,R,0,I),_}function _resize(_,R,O,I){var F,z,L=_.length,U=R[O],q=Math.min(L,U);if(_.length=U,O<R.length-1){var G=O+1;for(F=0;F<q;F++)z=_[F],Array.isArray(z)||(z=[z],_[F]=z),_resize(z,R,G,I);for(F=q;F<U;F++)z=[],_[F]=z,_resize(z,R,G,I)}else{for(F=0;F<q;F++)for(;Array.isArray(_[F]);)_[F]=_[F][0];for(F=q;F<U;F++)_[F]=I}}function reshape$1(_,R){var O=flatten$2(_,!0),I=O.length;if(!Array.isArray(_)||!Array.isArray(R))throw new TypeError("Array expected");if(R.length===0)throw new DimensionError(0,I,"!=");R=processSizesWildcard(R,I);var F=product$1(R);if(I!==F)throw new DimensionError(F,I,"!=");try{return _reshape(O,R)}catch(z){throw z instanceof DimensionError?new DimensionError(F,I,"!="):z}}function processSizesWildcard(_,R){var O=product$1(_),I=_.slice(),F=-1,z=_.indexOf(F),L=_.indexOf(F,z+1)>=0;if(L)throw new Error("More than one wildcard in sizes");var U=z>=0,q=R%O===0;if(U)if(q)I[z]=-R/O;else throw new Error("Could not replace wildcard, since "+R+" is no multiple of "+-O);return I}function product$1(_){return _.reduce((R,O)=>R*O,1)}function _reshape(_,R){for(var O=_,I,F=R.length-1;F>0;F--){var z=R[F];I=[];for(var L=O.length/z,U=0;U<L;U++)I.push(O.slice(U*z,(U+1)*z));O=I}return O}function squeeze$1(_,R){for(var O=arraySize(_);Array.isArray(_)&&_.length===1;)_=_[0],O.shift();for(var I=O.length;O[I-1]===1;)I--;return I<O.length&&(_=_squeeze(_,I,0),O.length=I),_}function _squeeze(_,R,O){var I,F;if(O<R){var z=O+1;for(I=0,F=_.length;I<F;I++)_[I]=_squeeze(_[I],R,z)}else for(;Array.isArray(_);)_=_[0];return _}function unsqueeze(_,R,O,I){var F=I||arraySize(_);if(O)for(var z=0;z<O;z++)_=[_],F.unshift(1);for(_=_unsqueeze(_,R,0);F.length<R;)F.push(1);return _}function _unsqueeze(_,R,O){var I,F;if(Array.isArray(_)){var z=O+1;for(I=0,F=_.length;I<F;I++)_[I]=_unsqueeze(_[I],R,z)}else for(var L=O;L<R;L++)_=[_];return _}function flatten$2(_){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(_))return _;if(typeof R!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var O=[];return R?F(_):I(_),O;function I(z){for(var L=0;L<z.length;L++){var U=z[L];Array.isArray(U)?I(U):O.push(U)}}function F(z){if(Array.isArray(z[0]))for(var L=0;L<z.length;L++)F(z[L]);else for(var U=0;U<z.length;U++)O.push(z[U])}}function map$3(_,R){return Array.prototype.map.call(_,R)}function forEach$1(_,R){Array.prototype.forEach.call(_,R)}function filter$2(_,R){if(arraySize(_).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(_,R)}function filterRegExp(_,R){if(arraySize(_).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(_,O=>R.test(O))}function join(_,R){return Array.prototype.join.call(_,R)}function identify(_){if(!Array.isArray(_))throw new TypeError("Array input expected");if(_.length===0)return _;var R=[],O=0;R[0]={value:_[0],identifier:0};for(var I=1;I<_.length;I++)_[I]===_[I-1]?O++:O=0,R.push({value:_[I],identifier:O});return R}function generalize(_){if(!Array.isArray(_))throw new TypeError("Array input expected");if(_.length===0)return _;for(var R=[],O=0;O<_.length;O++)R.push(_[O].value);return R}function getArrayDataType(_,R){for(var O,I=0,F=0;F<_.length;F++){var z=_[F],L=Array.isArray(z);if(F===0&&L&&(I=z.length),L&&z.length!==I)return;var U=L?getArrayDataType(z,R):R(z);if(O===void 0)O=U;else if(O!==U)return"mixed"}return O}function concatRecursive(_,R,O,I){if(I<O){if(_.length!==R.length)throw new DimensionError(_.length,R.length);for(var F=[],z=0;z<_.length;z++)F[z]=concatRecursive(_[z],R[z],O,I+1);return F}else return _.concat(R)}function concat$1(){var _=Array.prototype.slice.call(arguments,0,-1),R=Array.prototype.slice.call(arguments,-1);if(_.length===1)return _[0];if(_.length>1)return _.slice(1).reduce(function(O,I){return concatRecursive(O,I,R,0)},_[0]);throw new Error("Wrong number of arguments in function concat")}function broadcastSizes(){for(var _=arguments.length,R=new Array(_),O=0;O<_;O++)R[O]=arguments[O];for(var I=R.map(Y=>Y.length),F=Math.max(...I),z=new Array(F).fill(null),L=0;L<R.length;L++)for(var U=R[L],q=I[L],G=0;G<q;G++){var V=F-q+G;U[G]>z[V]&&(z[V]=U[G])}for(var Z=0;Z<R.length;Z++)checkBroadcastingRules(R[Z],z);return z}function checkBroadcastingRules(_,R){for(var O=R.length,I=_.length,F=0;F<I;F++){var z=O-I+F;if(_[F]<R[z]&&_[F]>1||_[F]>R[z])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(_,") not possible to broadcast dimension ").concat(I," with size ").concat(_[F]," to size ").concat(R[z]))}}function broadcastTo(_,R){var O=arraySize(_);if(deepStrictEqual(O,R))return _;checkBroadcastingRules(O,R);var I=broadcastSizes(O,R),F=I.length,z=[...Array(F-O.length).fill(1),...O],L=clone$1(_);O.length<F&&(L=reshape$1(L,z),O=arraySize(L));for(var U=0;U<F;U++)O[U]<I[U]&&(L=stretch(L,I[U],U),O=arraySize(L));return L}function stretch(_,R,O){return concat$1(...Array(R).fill(_),O)}function get$2(_,R){if(!Array.isArray(_))throw new Error("Array expected");var O=arraySize(_);if(R.length!==O.length)throw new DimensionError(R.length,O.length);for(var I=0;I<R.length;I++)validateIndex(R[I],O[I]);return R.reduce((F,z)=>F[z],_)}function deepMap$1(_,R){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(_.length===0)return[];if(O)return z(_);var I=[];return F(_,0);function F(L,U){if(Array.isArray(L)){for(var q=L.length,G=Array(q),V=0;V<q;V++)I[U]=V,G[V]=F(L[V],U+1);return G}else return R(L,I.slice(0,U),_)}function z(L){if(Array.isArray(L)){for(var U=L.length,q=Array(U),G=0;G<U;G++)q[G]=z(L[G]);return q}else return R(L)}}function deepForEach$1(_,R){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(_.length===0)return;if(O){z(_);return}var I=[];F(_,0);function F(L,U){if(Array.isArray(L))for(var q=L.length,G=0;G<q;G++)I[U]=G,F(L[G],U+1);else R(L,I.slice(0,U),_)}function z(L){if(Array.isArray(L))for(var U=L.length,q=0;q<U;q++)z(L[q]);else R(L)}}function clone$1(_){return _extends([],_)}function optimizeCallback(_,R,O,I){if(typedFunction.isTypedFunction(_)){var F;if(I)F=1;else{var z=R.isMatrix?R.size():arraySize(R),L=z.length?z[z.length-1]===0:!0;if(L)return{isUnary:I,fn:_};var U=z.map(()=>0),q=R.isMatrix?R.get(U):get$2(R,U);F=_findNumberOfArgumentsTyped(_,q,U,R)}var G;if(R.isMatrix&&R.dataType!=="mixed"&&R.dataType!==void 0){var V=_findSingleSignatureWithArity(_,F);G=V!==void 0?V:_}else G=_;return F>=1&&F<=3?{isUnary:F===1,fn:function(){for(var Y=arguments.length,W=new Array(Y),ee=0;ee<Y;ee++)W[ee]=arguments[ee];return _tryFunctionWithArgs(G,W.slice(0,F),O,_.name)}}:{isUnary:!1,fn:function(){for(var Y=arguments.length,W=new Array(Y),ee=0;ee<Y;ee++)W[ee]=arguments[ee];return _tryFunctionWithArgs(G,W,O,_.name)}}}return I===void 0?{isUnary:_findIfCallbackIsUnary(_),fn:_}:{isUnary:I,fn:_}}function _findSingleSignatureWithArity(_,R){var O=[];if(Object.entries(_.signatures).forEach(I=>{var[F,z]=I;F.split(",").length===R&&O.push(z)}),O.length===1)return O[0]}function _findIfCallbackIsUnary(_){if(_.length!==1)return!1;var R=_.toString();if(/arguments/.test(R))return!1;var O=R.match(/\(.*?\)/);return!/\.\.\./.test(O)}function _findNumberOfArgumentsTyped(_,R,O,I){for(var F=[R,O,I],z=3;z>0;z--){var L=F.slice(0,z);if(typedFunction.resolve(_,L)!==null)return z}}function _tryFunctionWithArgs(_,R,O,I){try{return _(...R)}catch(F){_createCallbackError(F,R,O,I)}}function _createCallbackError(_,R,O,I){var F;if(_ instanceof TypeError&&((F=_.data)===null||F===void 0?void 0:F.category)==="wrongType"){var z=[];throw z.push("value: ".concat(typeOf$1(R[0]))),R.length>=2&&z.push("index: ".concat(typeOf$1(R[1]))),R.length>=3&&z.push("array: ".concat(typeOf$1(R[2]))),new TypeError("Function ".concat(O," cannot apply callback arguments ")+"".concat(I,"(").concat(z.join(", "),") at index ").concat(JSON.stringify(R[1])))}else throw new TypeError("Function ".concat(O," cannot apply callback arguments ")+"to function ".concat(I,": ").concat(_.message))}var name$4V="DenseMatrix",dependencies$4V=["Matrix","config"],createDenseMatrixClass=factory(name$4V,dependencies$4V,_=>{var{Matrix:R,config:O}=_;function I(Z,Y){if(!(this instanceof I))throw new SyntaxError("Constructor must be called with the new operator");if(Y&&!isString(Y))throw new Error("Invalid datatype: "+Y);if(isMatrix(Z))Z.type==="DenseMatrix"?(this._data=clone$3(Z._data),this._size=clone$3(Z._size),this._datatype=Y||Z._datatype):(this._data=Z.toArray(),this._size=Z.size(),this._datatype=Y||Z._datatype);else if(Z&&isArray$1(Z.data)&&isArray$1(Z.size))this._data=Z.data,this._size=Z.size,validate(this._data,this._size),this._datatype=Y||Z.datatype;else if(isArray$1(Z))this._data=V(Z),this._size=arraySize(this._data),validate(this._data,this._size),this._datatype=Y;else{if(Z)throw new TypeError("Unsupported type of data ("+typeOf$1(Z)+")");this._data=[],this._size=[0],this._datatype=Y}}I.prototype=new R,I.prototype.createDenseMatrix=function(Z,Y){return new I(Z,Y)},Object.defineProperty(I,"name",{value:"DenseMatrix"}),I.prototype.constructor=I,I.prototype.type="DenseMatrix",I.prototype.isDenseMatrix=!0,I.prototype.getDataType=function(){return getArrayDataType(this._data,typeOf$1)},I.prototype.storage=function(){return"dense"},I.prototype.datatype=function(){return this._datatype},I.prototype.create=function(Z,Y){return new I(Z,Y)},I.prototype.subset=function(Z,Y,W){switch(arguments.length){case 1:return F(this,Z);case 2:case 3:return L(this,Z,Y,W);default:throw new SyntaxError("Wrong number of arguments")}},I.prototype.get=function(Z){return get$2(this._data,Z)},I.prototype.set=function(Z,Y,W){if(!isArray$1(Z))throw new TypeError("Array expected");if(Z.length<this._size.length)throw new DimensionError(Z.length,this._size.length,"<");var ee,ne,ie,se=Z.map(function(le){return le+1});G(this,se,W);var oe=this._data;for(ee=0,ne=Z.length-1;ee<ne;ee++)ie=Z[ee],validateIndex(ie,oe.length),oe=oe[ie];return ie=Z[Z.length-1],validateIndex(ie,oe.length),oe[ie]=Y,this};function F(Z,Y){if(!isIndex(Y))throw new TypeError("Invalid index");var W=O.legacySubset?Y.size().every(ce=>ce===1):Y.isScalar();if(W)return Z.get(Y.min());var ee=Y.size();if(ee.length!==Z._size.length)throw new DimensionError(ee.length,Z._size.length);for(var ne=Y.min(),ie=Y.max(),se=0,oe=Z._size.length;se<oe;se++)validateIndex(ne[se],Z._size[se]),validateIndex(ie[se],Z._size[se]);var le=new I,ue=z(Z._data,Y);return le._size=ue.size,le._datatype=Z._datatype,le._data=ue.data,O.legacySubset?le.reshape(Y.size()):le}function z(Z,Y){var W=Y.size().length-1,ee=Array(W);return{data:ne(Z),size:ee.filter(ie=>ie!==null)};function ne(ie){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,oe=Y.dimension(se);function le(ue,ce){return isNumber$1(ue)?ce(ue):ue.map(ce).valueOf()}return isNumber$1(oe)?ee[se]=null:ee[se]=oe.size()[0],se<W?le(oe,ue=>(validateIndex(ue,ie.length),ne(ie[ue],se+1))):le(oe,ue=>(validateIndex(ue,ie.length),ie[ue]))}}function L(Z,Y,W,ee){if(!Y||Y.isIndex!==!0)throw new TypeError("Invalid index");var ne=Y.size(),ie=Y.isScalar(),se;if(isMatrix(W)?(se=W.size(),W=W.valueOf()):se=arraySize(W),ie){if(se.length!==0)throw new TypeError("Scalar expected");Z.set(Y.min(),W,ee)}else{if(!deepStrictEqual(se,ne)){if(se.length===0)W=broadcastTo([W],ne);else try{W=broadcastTo(W,ne)}catch{}se=arraySize(W)}if(ne.length<Z._size.length)throw new DimensionError(ne.length,Z._size.length,"<");if(se.length<ne.length){for(var oe=0,le=0;ne[oe]===1&&se[oe]===1;)oe++;for(;ne[oe]===1;)le++,oe++;W=unsqueeze(W,ne.length,le,se)}if(!deepStrictEqual(ne,se))throw new DimensionError(ne,se,">");var ue=Y.max().map(function(ce){return ce+1});G(Z,ue,ee),U(Z._data,Y,W)}return Z}function U(Z,Y,W){var ee=Y.size().length-1;ne(Z,W);function ne(ie,se){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,le=Y.dimension(oe),ue=(fe,me)=>{validateIndex(fe,ie.length),ne(ie[fe],se[me[0]],oe+1)},ce=(fe,me)=>{validateIndex(fe,ie.length),ie[fe]=se[me[0]]};oe<ee?isNumber$1(le)?ue(le,[0]):le.forEach(ue):isNumber$1(le)?ce(le,[0]):le.forEach(ce)}}I.prototype.resize=function(Z,Y,W){if(!isCollection(Z))throw new TypeError("Array or Matrix expected");var ee=Z.valueOf().map(ie=>Array.isArray(ie)&&ie.length===1?ie[0]:ie),ne=W?this.clone():this;return q(ne,ee,Y)};function q(Z,Y,W){if(Y.length===0){for(var ee=Z._data;isArray$1(ee);)ee=ee[0];return ee}return Z._size=Y.slice(0),Z._data=resize$1(Z._data,Z._size,W),Z}I.prototype.reshape=function(Z,Y){var W=Y?this.clone():this;W._data=reshape$1(W._data,Z);var ee=W._size.reduce((ne,ie)=>ne*ie);return W._size=processSizesWildcard(Z,ee),W};function G(Z,Y,W){for(var ee=Z._size.slice(0),ne=!1;ee.length<Y.length;)ee.push(0),ne=!0;for(var ie=0,se=Y.length;ie<se;ie++)Y[ie]>ee[ie]&&(ee[ie]=Y[ie],ne=!0);ne&&q(Z,ee,W)}I.prototype.clone=function(){var Z=new I({data:clone$3(this._data),size:clone$3(this._size),datatype:this._datatype});return Z},I.prototype.size=function(){return this._size.slice(0)},I.prototype.map=function(Z){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,W=this,ee=W._size.length-1;if(ee<0)return W.clone();var ne=optimizeCallback(Z,W,"map",Y),ie=ne.fn,se=W.create(void 0,W._datatype);if(se._size=W._size,Y||ne.isUnary)return se._data=me(W._data),se;if(ee===0){for(var oe=W.valueOf(),le=Array(oe.length),ue=0;ue<oe.length;ue++)le[ue]=ie(oe[ue],[ue],W);return se._data=le,se}var ce=[];return se._data=fe(W._data),se;function fe(he){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ge=Array(he.length);if(pe<ee)for(var _e=0;_e<he.length;_e++)ce[pe]=_e,ge[_e]=fe(he[_e],pe+1);else for(var ye=0;ye<he.length;ye++)ce[pe]=ye,ge[ye]=ie(he[ye],ce.slice(),W);return ge}function me(he){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ge=Array(he.length);if(pe<ee)for(var _e=0;_e<he.length;_e++)ge[_e]=me(he[_e],pe+1);else for(var ye=0;ye<he.length;ye++)ge[ye]=ie(he[ye]);return ge}},I.prototype.forEach=function(Z){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,W=this,ee=W._size.length-1;if(ee<0)return;var ne=optimizeCallback(Z,W,"map",Y),ie=ne.fn;if(Y||ne.isUnary){ue(W._data);return}if(ee===0){for(var se=0;se<W._data.length;se++)ie(W._data[se],[se],W);return}var oe=[];le(W._data);function le(ce){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(fe<ee)for(var me=0;me<ce.length;me++)oe[fe]=me,le(ce[me],fe+1);else for(var he=0;he<ce.length;he++)oe[fe]=he,ie(ce[he],oe.slice(),W)}function ue(ce){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(fe<ee)for(var me=0;me<ce.length;me++)ue(ce[me],fe+1);else for(var he=0;he<ce.length;he++)ie(ce[he])}},I.prototype[Symbol.iterator]=function*(){var Z=this._size.length-1;if(!(Z<0)){if(Z===0){for(var Y=0;Y<this._data.length;Y++)yield{value:this._data[Y],index:[Y]};return}for(var W=Array(Z+1).fill(0),ee=this._size.reduce((le,ue)=>le*ue,1),ne=0;ne<ee;ne++){for(var ie=this._data,se=0;se<Z;se++)ie=ie[W[se]];yield{value:ie[W[Z]],index:W.slice()};for(var oe=Z;oe>=0&&(W[oe]++,!(W[oe]<this._size[oe]));oe--)W[oe]=0}}},I.prototype.rows=function(){var Z=[],Y=this.size();if(Y.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var W=this._data;for(var ee of W)Z.push(new I([ee],this._datatype));return Z},I.prototype.columns=function(){var Z=this,Y=[],W=this.size();if(W.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var ee=this._data,ne=function(oe){var le=ee.map(ue=>[ue[oe]]);Y.push(new I(le,Z._datatype))},ie=0;ie<W[1];ie++)ne(ie);return Y},I.prototype.toArray=function(){return clone$3(this._data)},I.prototype.valueOf=function(){return this._data},I.prototype.format=function(Z){return format$3(this._data,Z)},I.prototype.toString=function(){return format$3(this._data)},I.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},I.prototype.diagonal=function(Z){if(Z){if(isBigNumber(Z)&&(Z=Z.toNumber()),!isNumber$1(Z)||!isInteger$1(Z))throw new TypeError("The parameter k must be an integer number")}else Z=0;for(var Y=Z>0?Z:0,W=Z<0?-Z:0,ee=this._size[0],ne=this._size[1],ie=Math.min(ee-W,ne-Y),se=[],oe=0;oe<ie;oe++)se[oe]=this._data[oe+W][oe+Y];return new I({data:se,size:[ie],datatype:this._datatype})},I.diagonal=function(Z,Y,W,ee){if(!isArray$1(Z))throw new TypeError("Array expected, size parameter");if(Z.length!==2)throw new Error("Only two dimensions matrix are supported");if(Z=Z.map(function(he){if(isBigNumber(he)&&(he=he.toNumber()),!isNumber$1(he)||!isInteger$1(he)||he<1)throw new Error("Size values must be positive integers");return he}),W){if(isBigNumber(W)&&(W=W.toNumber()),!isNumber$1(W)||!isInteger$1(W))throw new TypeError("The parameter k must be an integer number")}else W=0;var ne=W>0?W:0,ie=W<0?-W:0,se=Z[0],oe=Z[1],le=Math.min(se-ie,oe-ne),ue;if(isArray$1(Y)){if(Y.length!==le)throw new Error("Invalid value array length");ue=function(pe){return Y[pe]}}else if(isMatrix(Y)){var ce=Y.size();if(ce.length!==1||ce[0]!==le)throw new Error("Invalid matrix length");ue=function(pe){return Y.get([pe])}}else ue=function(){return Y};ee||(ee=isBigNumber(ue(0))?ue(0).mul(0):0);var fe=[];if(Z.length>0){fe=resize$1(fe,Z,ee);for(var me=0;me<le;me++)fe[me+ie][me+ne]=ue(me)}return new I({data:fe,size:[se,oe]})},I.fromJSON=function(Z){return new I(Z)},I.prototype.swapRows=function(Z,Y){if(!isNumber$1(Z)||!isInteger$1(Z)||!isNumber$1(Y)||!isInteger$1(Y))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return validateIndex(Z,this._size[0]),validateIndex(Y,this._size[0]),I._swapRows(Z,Y,this._data),this},I._swapRows=function(Z,Y,W){var ee=W[Z];W[Z]=W[Y],W[Y]=ee};function V(Z){return isMatrix(Z)?V(Z.valueOf()):isArray$1(Z)?Z.map(V):Z}return I},{isClass:!0}),name$4U="clone",dependencies$4U=["typed"],createClone=factory(name$4U,dependencies$4U,_=>{var{typed:R}=_;return R(name$4U,{any:clone$3})});function _switch$1(_){var R=_.length,O=_[0].length,I,F,z=[];for(F=0;F<O;F++){var L=[];for(I=0;I<R;I++)L.push(_[I][F]);z.push(L)}return z}function containsCollections(_){for(var R=0;R<_.length;R++)if(isCollection(_[R]))return!0;return!1}function deepForEach(_,R){isMatrix(_)?_.forEach(O=>R(O),!1,!0):deepForEach$1(_,R,!0)}function deepMap(_,R,O){if(!O)return isMatrix(_)?_.map(F=>R(F),!1,!0):deepMap$1(_,R,!0);var I=F=>F===0?F:R(F);return isMatrix(_)?_.map(F=>I(F),!1,!0):deepMap$1(_,I,!0)}function reduce(_,R,O){var I=Array.isArray(_)?arraySize(_):_.size();if(R<0||R>=I.length)throw new IndexError(R,I.length);return isMatrix(_)?_.create(_reduce(_.valueOf(),R,O),_.datatype()):_reduce(_,R,O)}function _reduce(_,R,O){var I,F,z,L;if(R<=0)if(Array.isArray(_[0])){for(L=_switch$1(_),F=[],I=0;I<L.length;I++)F[I]=_reduce(L[I],R-1,O);return F}else{for(z=_[0],I=1;I<_.length;I++)z=O(z,_[I]);return z}else{for(F=[],I=0;I<_.length;I++)F[I]=_reduce(_[I],R-1,O);return F}}function scatter(_,R,O,I,F,z,L,U,q,G,V){var Z=_._values,Y=_._index,W=_._ptr,ee,ne,ie,se;if(I)for(ne=W[R],ie=W[R+1],ee=ne;ee<ie;ee++)se=Y[ee],O[se]!==z?(O[se]=z,L.push(se),I[se]=Z[ee]):(I[se]=U(I[se],Z[ee]),F[se]=z);else for(ne=W[R],ie=W[R+1],ee=ne;ee<ie;ee++)se=Y[ee],O[se]!==z?(O[se]=z,L.push(se)):F[se]=z}var name$4T="isInteger",dependencies$4T=["typed","equal"],createIsInteger=factory(name$4T,dependencies$4T,_=>{var{typed:R,equal:O}=_;return R(name$4T,{number:I=>Number.isFinite(I)?O(I,Math.round(I)):!1,BigNumber:I=>I.isFinite()?O(I.round(),I):!1,bigint:I=>!0,Fraction:I=>I.d===1n,"Array | Matrix":R.referToSelf(I=>F=>deepMap(F,I))})}),n1$4="number",n2$2="number, number";function absNumber(_){return Math.abs(_)}absNumber.signature=n1$4;function addNumber(_,R){return _+R}addNumber.signature=n2$2;function subtractNumber(_,R){return _-R}subtractNumber.signature=n2$2;function multiplyNumber(_,R){return _*R}multiplyNumber.signature=n2$2;function unaryMinusNumber(_){return-_}unaryMinusNumber.signature=n1$4;function unaryPlusNumber(_){return _}unaryPlusNumber.signature=n1$4;function cbrtNumber(_){return cbrt$2(_)}cbrtNumber.signature=n1$4;function cubeNumber(_){return _*_*_}cubeNumber.signature=n1$4;function expNumber(_){return Math.exp(_)}expNumber.signature=n1$4;function expm1Number(_){return expm1$1(_)}expm1Number.signature=n1$4;function lcmNumber(_,R){if(!isInteger$1(_)||!isInteger$1(R))throw new Error("Parameters in function lcm must be integer numbers");if(_===0||R===0)return 0;for(var O,I=_*R;R!==0;)O=R,R=_%O,_=O;return Math.abs(I/_)}lcmNumber.signature=n2$2;function logNumber(_,R){return R?Math.log(_)/Math.log(R):Math.log(_)}function log10Number(_){return log10$2(_)}log10Number.signature=n1$4;function log2Number(_){return log2$2(_)}log2Number.signature=n1$4;function nthRootNumber(_){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,O=R<0;if(O&&(R=-R),R===0)throw new Error("Root must be non-zero");if(_<0&&Math.abs(R)%2!==1)throw new Error("Root must be odd when a is negative.");if(_===0)return O?1/0:0;if(!isFinite(_))return O?0:_;var I=Math.pow(Math.abs(_),1/R);return I=_<0?-I:I,O?1/I:I}function signNumber(_){return sign$5(_)}signNumber.signature=n1$4;function squareNumber(_){return _*_}squareNumber.signature=n1$4;function xgcdNumber(_,R){var O,I,F,z=0,L=1,U=1,q=0;if(!isInteger$1(_)||!isInteger$1(R))throw new Error("Parameters in function xgcd must be integer numbers");for(;R;)I=Math.floor(_/R),F=_-I*R,O=z,z=L-I*z,L=O,O=U,U=q-I*U,q=O,_=R,R=F;var G;return _<0?G=[-_,-L,-q]:G=[_,_?L:0,q],G}xgcdNumber.signature=n2$2;function powNumber(_,R){return _*_<1&&R===1/0||_*_>1&&R===-1/0?0:Math.pow(_,R)}powNumber.signature=n2$2;function roundNumber(_){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!isInteger$1(R)||R<0||R>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(toFixed$1(_,R))}var n1$3="number",n2$1="number, number";function bitAndNumber(_,R){if(!isInteger$1(_)||!isInteger$1(R))throw new Error("Integers expected in function bitAnd");return _&R}bitAndNumber.signature=n2$1;function bitNotNumber(_){if(!isInteger$1(_))throw new Error("Integer expected in function bitNot");return~_}bitNotNumber.signature=n1$3;function bitOrNumber(_,R){if(!isInteger$1(_)||!isInteger$1(R))throw new Error("Integers expected in function bitOr");return _|R}bitOrNumber.signature=n2$1;function bitXorNumber(_,R){if(!isInteger$1(_)||!isInteger$1(R))throw new Error("Integers expected in function bitXor");return _^R}bitXorNumber.signature=n2$1;function leftShiftNumber(_,R){if(!isInteger$1(_)||!isInteger$1(R))throw new Error("Integers expected in function leftShift");return _<<R}leftShiftNumber.signature=n2$1;function rightArithShiftNumber(_,R){if(!isInteger$1(_)||!isInteger$1(R))throw new Error("Integers expected in function rightArithShift");return _>>R}rightArithShiftNumber.signature=n2$1;function rightLogShiftNumber(_,R){if(!isInteger$1(_)||!isInteger$1(R))throw new Error("Integers expected in function rightLogShift");return _>>>R}rightLogShiftNumber.signature=n2$1;function product(_,R){if(R<_)return 1;if(R===_)return R;var O=R+_>>1;return product(_,O)*product(O+1,R)}function combinationsNumber(_,R){if(!isInteger$1(_)||_<0)throw new TypeError("Positive integer value expected in function combinations");if(!isInteger$1(R)||R<0)throw new TypeError("Positive integer value expected in function combinations");if(R>_)throw new TypeError("k must be less than or equal to n");for(var O=_-R,I=1,F=R<O?O+1:R+1,z=2,L=R<O?R:O,U=F;U<=_;++U)for(I*=U;z<=L&&I%z===0;)I/=z,++z;return z<=L&&(I/=product(z,L)),I}combinationsNumber.signature="number, number";var pi$5=Math.PI,tau$5=2*Math.PI,e$2=Math.E,phi$1=1.618033988749895,n1$2="number",n2="number, number";function notNumber(_){return!_}notNumber.signature=n1$2;function orNumber(_,R){return!!(_||R)}orNumber.signature=n2;function xorNumber(_,R){return!!_!=!!R}xorNumber.signature=n2;function andNumber(_,R){return!!(_&&R)}andNumber.signature=n2;function gammaNumber(_){var R;if(isInteger$1(_))return _<=0?Number.isFinite(_)?1/0:NaN:_>171?1/0:product(1,_-1);if(_<.5)return Math.PI/(Math.sin(Math.PI*_)*gammaNumber(1-_));if(_>=171.35)return 1/0;if(_>85){var O=_*_,I=O*_,F=I*_,z=F*_;return Math.sqrt(2*Math.PI/_)*Math.pow(_/Math.E,_)*(1+1/(12*_)+1/(288*O)-139/(51840*I)-571/(2488320*F)+163879/(209018880*z)+5246819/(75246796800*z*_))}--_,R=gammaP[0];for(var L=1;L<gammaP.length;++L)R+=gammaP[L]/(_+L);var U=_+gammaG+.5;return Math.sqrt(2*Math.PI)*Math.pow(U,_+.5)*Math.exp(-U)*R}gammaNumber.signature="number";var gammaG=4.7421875,gammaP=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],lnSqrt2PI=.9189385332046728,lgammaG=5,lgammaN=7,lgammaSeries=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function lgammaNumber(_){if(_<0)return NaN;if(_===0)return 1/0;if(!Number.isFinite(_))return _;if(_<.5)return Math.log(Math.PI/Math.sin(Math.PI*_))-lgammaNumber(1-_);_=_-1;for(var R=_+lgammaG+.5,O=lgammaSeries[0],I=lgammaN-1;I>=1;I--)O+=lgammaSeries[I]/(_+I);return lnSqrt2PI+(_+.5)*Math.log(R)-R+Math.log(O)}lgammaNumber.signature="number";var n1$1="number";function acoshNumber(_){return acosh$2(_)}acoshNumber.signature=n1$1;function acotNumber(_){return Math.atan(1/_)}acotNumber.signature=n1$1;function acothNumber(_){return Number.isFinite(_)?(Math.log((_+1)/_)+Math.log(_/(_-1)))/2:0}acothNumber.signature=n1$1;function acscNumber(_){return Math.asin(1/_)}acscNumber.signature=n1$1;function acschNumber(_){var R=1/_;return Math.log(R+Math.sqrt(R*R+1))}acschNumber.signature=n1$1;function asecNumber(_){return Math.acos(1/_)}asecNumber.signature=n1$1;function asechNumber(_){var R=1/_,O=Math.sqrt(R*R-1);return Math.log(O+R)}asechNumber.signature=n1$1;function asinhNumber(_){return asinh$2(_)}asinhNumber.signature=n1$1;function atanhNumber(_){return atanh$2(_)}atanhNumber.signature=n1$1;function cotNumber(_){return 1/Math.tan(_)}cotNumber.signature=n1$1;function cothNumber(_){var R=Math.exp(2*_);return(R+1)/(R-1)}cothNumber.signature=n1$1;function cscNumber(_){return 1/Math.sin(_)}cscNumber.signature=n1$1;function cschNumber(_){return _===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(_)-Math.exp(-_)))*sign$5(_)}cschNumber.signature=n1$1;function secNumber(_){return 1/Math.cos(_)}secNumber.signature=n1$1;function sechNumber(_){return 2/(Math.exp(_)+Math.exp(-_))}sechNumber.signature=n1$1;function sinhNumber(_){return sinh$3(_)}sinhNumber.signature=n1$1;var n1="number";function isNegativeNumber(_){return _<0}isNegativeNumber.signature=n1;function isPositiveNumber(_){return _>0}isPositiveNumber.signature=n1;function isNaNNumber(_){return Number.isNaN(_)}isNaNNumber.signature=n1;function nearlyEqual(_,R){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(O<=0)throw new Error("Relative tolerance must be greater than 0");if(I<0)throw new Error("Absolute tolerance must be at least 0");return _.isNaN()||R.isNaN()?!1:!_.isFinite()||!R.isFinite()?_.eq(R):_.eq(R)?!0:_.minus(R).abs().lte(_.constructor.max(_.constructor.max(_.abs(),R.abs()).mul(O),I))}var name$4S="isNegative",dependencies$4S=["typed","config"],createIsNegative=factory(name$4S,dependencies$4S,_=>{var{typed:R,config:O}=_;return R(name$4S,{number:I=>nearlyEqual$1(I,0,O.relTol,O.absTol)?!1:isNegativeNumber(I),BigNumber:I=>nearlyEqual(I,new I.constructor(0),O.relTol,O.absTol)?!1:I.isNeg()&&!I.isZero()&&!I.isNaN(),bigint:I=>I<0n,Fraction:I=>I.s<0n,Unit:R.referToSelf(I=>F=>R.find(I,F.valueType())(F.value)),"Array | Matrix":R.referToSelf(I=>F=>deepMap(F,I))})}),name$4R="isNumeric",dependencies$4R=["typed"],createIsNumeric=factory(name$4R,dependencies$4R,_=>{var{typed:R}=_;return R(name$4R,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":R.referToSelf(O=>I=>deepMap(I,O))})}),name$4Q="hasNumericValue",dependencies$4Q=["typed","isNumeric"],createHasNumericValue=factory(name$4Q,dependencies$4Q,_=>{var{typed:R,isNumeric:O}=_;return R(name$4Q,{boolean:()=>!0,string:function(F){return F.trim().length>0&&!isNaN(Number(F))},any:function(F){return O(F)}})}),name$4P="isPositive",dependencies$4P=["typed","config"],createIsPositive=factory(name$4P,dependencies$4P,_=>{var{typed:R,config:O}=_;return R(name$4P,{number:I=>nearlyEqual$1(I,0,O.relTol,O.absTol)?!1:isPositiveNumber(I),BigNumber:I=>nearlyEqual(I,new I.constructor(0),O.relTol,O.absTol)?!1:!I.isNeg()&&!I.isZero()&&!I.isNaN(),bigint:I=>I>0n,Fraction:I=>I.s>0n&&I.n>0n,Unit:R.referToSelf(I=>F=>R.find(I,F.valueType())(F.value)),"Array | Matrix":R.referToSelf(I=>F=>deepMap(F,I))})}),name$4O="isZero",dependencies$4O=["typed","equalScalar"],createIsZero=factory(name$4O,dependencies$4O,_=>{var{typed:R,equalScalar:O}=_;return R(name$4O,{"number | BigNumber | Complex | Fraction":I=>O(I,0),bigint:I=>I===0n,Unit:R.referToSelf(I=>F=>R.find(I,F.valueType())(F.value)),"Array | Matrix":R.referToSelf(I=>F=>deepMap(F,I))})}),name$4N="isNaN",dependencies$4N=["typed"],createIsNaN=factory(name$4N,dependencies$4N,_=>{var{typed:R}=_;return R(name$4N,{number:isNaNNumber,BigNumber:function(I){return I.isNaN()},bigint:function(I){return!1},Fraction:function(I){return!1},Complex:function(I){return I.isNaN()},Unit:function(I){return Number.isNaN(I.value)},"Array | Matrix":R.referToSelf(O=>I=>deepMap(I,O))})}),name$4M="isBounded",dependencies$4M=["typed"],createIsBounded=factory(name$4M,dependencies$4M,_=>{var{typed:R}=_;return R(name$4M,{number:O=>Number.isFinite(O),"BigNumber | Complex":O=>O.isFinite(),"bigint | Fraction":()=>!0,"null | undefined":()=>!1,Unit:R.referToSelf(O=>I=>O(I.value)),"Array | Matrix":R.referToSelf(O=>I=>(Array.isArray(I)||(I=I.valueOf()),I.every(F=>O(F))))})}),name$4L="isFinite",dependencies$4L=["typed","isBounded","map"],createIsFinite=factory(name$4L,dependencies$4L,_=>{var{typed:R,isBounded:O,map:I}=_;return R(name$4L,{"Array | Matrix":F=>I(F,O),any:F=>O(F)})}),name$4K="typeOf",dependencies$4K=["typed"],createTypeOf=factory(name$4K,dependencies$4K,_=>{var{typed:R}=_;return R(name$4K,{any:typeOf$1})});function complexEquals(_,R,O,I){return nearlyEqual$1(_.re,R.re,O,I)&&nearlyEqual$1(_.im,R.im,O,I)}var createCompareUnits=factory("compareUnits",["typed"],_=>{var{typed:R}=_;return{"Unit, Unit":R.referToSelf(O=>(I,F)=>{if(!I.equalBase(F))throw new Error("Cannot compare units with different base");return R.find(O,[I.valueType(),F.valueType()])(I.value,F.value)})}}),name$4J="equalScalar",dependencies$4J=["typed","config"],createEqualScalar=factory(name$4J,dependencies$4J,_=>{var{typed:R,config:O}=_,I=createCompareUnits({typed:R});return R(name$4J,{"boolean, boolean":function(z,L){return z===L},"number, number":function(z,L){return nearlyEqual$1(z,L,O.relTol,O.absTol)},"BigNumber, BigNumber":function(z,L){return z.eq(L)||nearlyEqual(z,L,O.relTol,O.absTol)},"bigint, bigint":function(z,L){return z===L},"Fraction, Fraction":function(z,L){return z.equals(L)},"Complex, Complex":function(z,L){return complexEquals(z,L,O.relTol,O.absTol)}},I)});factory(name$4J,["typed","config"],_=>{var{typed:R,config:O}=_;return R(name$4J,{"number, number":function(F,z){return nearlyEqual$1(F,z,O.relTol,O.absTol)}})});var name$4I="SparseMatrix",dependencies$4I=["typed","equalScalar","Matrix"],createSparseMatrixClass=factory(name$4I,dependencies$4I,_=>{var{typed:R,equalScalar:O,Matrix:I}=_;function F(ne,ie){if(!(this instanceof F))throw new SyntaxError("Constructor must be called with the new operator");if(ie&&!isString(ie))throw new Error("Invalid datatype: "+ie);if(isMatrix(ne))z(this,ne,ie);else if(ne&&isArray$1(ne.index)&&isArray$1(ne.ptr)&&isArray$1(ne.size))this._values=ne.values,this._index=ne.index,this._ptr=ne.ptr,this._size=ne.size,this._datatype=ie||ne.datatype;else if(isArray$1(ne))L(this,ne,ie);else{if(ne)throw new TypeError("Unsupported type of data ("+typeOf$1(ne)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=ie}}function z(ne,ie,se){ie.type==="SparseMatrix"?(ne._values=ie._values?clone$3(ie._values):void 0,ne._index=clone$3(ie._index),ne._ptr=clone$3(ie._ptr),ne._size=clone$3(ie._size),ne._datatype=se||ie._datatype):L(ne,ie.valueOf(),se||ie._datatype)}function L(ne,ie,se){ne._values=[],ne._index=[],ne._ptr=[],ne._datatype=se;var oe=ie.length,le=0,ue=O,ce=0;if(isString(se)&&(ue=R.find(O,[se,se])||O,ce=R.convert(0,se)),oe>0){var fe=0;do{ne._ptr.push(ne._index.length);for(var me=0;me<oe;me++){var he=ie[me];if(isArray$1(he)){if(fe===0&&le<he.length&&(le=he.length),fe<he.length){var pe=he[fe];ue(pe,ce)||(ne._values.push(pe),ne._index.push(me))}}else fe===0&&le<1&&(le=1),ue(he,ce)||(ne._values.push(he),ne._index.push(me))}fe++}while(fe<le)}for(;ne._ptr.length<=le;)ne._ptr.push(ne._index.length);ne._size=[oe,le]}F.prototype=new I,F.prototype.createSparseMatrix=function(ne,ie){return new F(ne,ie)},Object.defineProperty(F,"name",{value:"SparseMatrix"}),F.prototype.constructor=F,F.prototype.type="SparseMatrix",F.prototype.isSparseMatrix=!0,F.prototype.getDataType=function(){return getArrayDataType(this._values,typeOf$1)},F.prototype.storage=function(){return"sparse"},F.prototype.datatype=function(){return this._datatype},F.prototype.create=function(ne,ie){return new F(ne,ie)},F.prototype.density=function(){var ne=this._size[0],ie=this._size[1];return ne!==0&&ie!==0?this._index.length/(ne*ie):0},F.prototype.subset=function(ne,ie,se){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return U(this,ne);case 2:case 3:return q(this,ne,ie,se);default:throw new SyntaxError("Wrong number of arguments")}};function U(ne,ie){if(!isIndex(ie))throw new TypeError("Invalid index");var se=ie.isScalar();if(se)return ne.get(ie.min());var oe=ie.size();if(oe.length!==ne._size.length)throw new DimensionError(oe.length,ne._size.length);var le,ue,ce,fe,me=ie.min(),he=ie.max();for(le=0,ue=ne._size.length;le<ue;le++)validateIndex(me[le],ne._size[le]),validateIndex(he[le],ne._size[le]);var pe=ne._values,ge=ne._index,_e=ne._ptr,ye=ie.dimension(0),we=ie.dimension(1),ve=[],$e=[];function be(Te,Re){$e[Te]=Re[0],ve[Te]=!0}Number.isInteger(ye)?be(ye,[0]):ye.forEach(be);var Ce=pe?[]:void 0,De=[],Ne=[];function Me(Te){for(Ne.push(De.length),ce=_e[Te],fe=_e[Te+1];ce<fe;ce++)le=ge[ce],ve[le]===!0&&(De.push($e[le]),Ce&&Ce.push(pe[ce]))}return Number.isInteger(we)?Me(we):we.forEach(Me),Ne.push(De.length),new F({values:Ce,index:De,ptr:Ne,size:oe,datatype:ne._datatype})}function q(ne,ie,se,oe){if(!ie||ie.isIndex!==!0)throw new TypeError("Invalid index");var le=ie.size(),ue=ie.isScalar(),ce;if(isMatrix(se)?(ce=se.size(),se=se.toArray()):ce=arraySize(se),ue){if(ce.length!==0)throw new TypeError("Scalar expected");ne.set(ie.min(),se,oe)}else{if(le.length!==1&&le.length!==2)throw new DimensionError(le.length,ne._size.length,"<");if(ce.length<le.length){for(var fe=0,me=0;le[fe]===1&&ce[fe]===1;)fe++;for(;le[fe]===1;)me++,fe++;se=unsqueeze(se,le.length,me,ce)}if(!deepStrictEqual(le,ce))throw new DimensionError(le,ce,">");if(le.length===1){var he=ie.dimension(0);_e(he,(ye,we)=>{validateIndex(ye),ne.set([ye,0],se[we[0]],oe)})}else{var pe=ie.dimension(0),ge=ie.dimension(1);_e(pe,(ye,we)=>{validateIndex(ye),_e(ge,(ve,$e)=>{validateIndex(ve),ne.set([ye,ve],se[we[0]][$e[0]],oe)})})}}return ne;function _e(ye,we){isNumber$1(ye)?we(ye,[0]):ye.forEach(we)}}F.prototype.get=function(ne){if(!isArray$1(ne))throw new TypeError("Array expected");if(ne.length!==this._size.length)throw new DimensionError(ne.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var ie=ne[0],se=ne[1];validateIndex(ie,this._size[0]),validateIndex(se,this._size[1]);var oe=G(ie,this._ptr[se],this._ptr[se+1],this._index);return oe<this._ptr[se+1]&&this._index[oe]===ie?this._values[oe]:0},F.prototype.set=function(ne,ie,se){if(!isArray$1(ne))throw new TypeError("Array expected");if(ne.length!==this._size.length)throw new DimensionError(ne.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var oe=ne[0],le=ne[1],ue=this._size[0],ce=this._size[1],fe=O,me=0;isString(this._datatype)&&(fe=R.find(O,[this._datatype,this._datatype])||O,me=R.convert(0,this._datatype)),(oe>ue-1||le>ce-1)&&(Y(this,Math.max(oe+1,ue),Math.max(le+1,ce),se),ue=this._size[0],ce=this._size[1]),validateIndex(oe,ue),validateIndex(le,ce);var he=G(oe,this._ptr[le],this._ptr[le+1],this._index);return he<this._ptr[le+1]&&this._index[he]===oe?fe(ie,me)?V(he,le,this._values,this._index,this._ptr):this._values[he]=ie:fe(ie,me)||Z(he,oe,le,ie,this._values,this._index,this._ptr),this};function G(ne,ie,se,oe){if(se-ie===0)return se;for(var le=ie;le<se;le++)if(oe[le]===ne)return le;return ie}function V(ne,ie,se,oe,le){se.splice(ne,1),oe.splice(ne,1);for(var ue=ie+1;ue<le.length;ue++)le[ue]--}function Z(ne,ie,se,oe,le,ue,ce){le.splice(ne,0,oe),ue.splice(ne,0,ie);for(var fe=se+1;fe<ce.length;fe++)ce[fe]++}F.prototype.resize=function(ne,ie,se){if(!isCollection(ne))throw new TypeError("Array or Matrix expected");var oe=ne.valueOf().map(ue=>Array.isArray(ue)&&ue.length===1?ue[0]:ue);if(oe.length!==2)throw new Error("Only two dimensions matrix are supported");oe.forEach(function(ue){if(!isNumber$1(ue)||!isInteger$1(ue)||ue<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format$3(oe)+")")});var le=se?this.clone():this;return Y(le,oe[0],oe[1],ie)};function Y(ne,ie,se,oe){var le=oe||0,ue=O,ce=0;isString(ne._datatype)&&(ue=R.find(O,[ne._datatype,ne._datatype])||O,ce=R.convert(0,ne._datatype),le=R.convert(le,ne._datatype));var fe=!ue(le,ce),me=ne._size[0],he=ne._size[1],pe,ge,_e;if(se>he){for(ge=he;ge<se;ge++)if(ne._ptr[ge]=ne._values.length,fe)for(pe=0;pe<me;pe++)ne._values.push(le),ne._index.push(pe);ne._ptr[se]=ne._values.length}else se<he&&(ne._ptr.splice(se+1,he-se),ne._values.splice(ne._ptr[se],ne._values.length),ne._index.splice(ne._ptr[se],ne._index.length));if(he=se,ie>me){if(fe){var ye=0;for(ge=0;ge<he;ge++){ne._ptr[ge]=ne._ptr[ge]+ye,_e=ne._ptr[ge+1]+ye;var we=0;for(pe=me;pe<ie;pe++,we++)ne._values.splice(_e+we,0,le),ne._index.splice(_e+we,0,pe),ye++}ne._ptr[he]=ne._values.length}}else if(ie<me){var ve=0;for(ge=0;ge<he;ge++){ne._ptr[ge]=ne._ptr[ge]-ve;var $e=ne._ptr[ge],be=ne._ptr[ge+1]-ve;for(_e=$e;_e<be;_e++)pe=ne._index[_e],pe>ie-1&&(ne._values.splice(_e,1),ne._index.splice(_e,1),ve++)}ne._ptr[ge]=ne._values.length}return ne._size[0]=ie,ne._size[1]=se,ne}F.prototype.reshape=function(ne,ie){if(!isArray$1(ne))throw new TypeError("Array expected");if(ne.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");ne.forEach(function(Ne){if(!isNumber$1(Ne)||!isInteger$1(Ne)||Ne<=-2||Ne===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+format$3(ne)+")")});var se=this._size[0]*this._size[1];ne=processSizesWildcard(ne,se);var oe=ne[0]*ne[1];if(se!==oe)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var le=ie?this.clone():this;if(this._size[0]===ne[0]&&this._size[1]===ne[1])return le;for(var ue=[],ce=0;ce<le._ptr.length;ce++)for(var fe=0;fe<le._ptr[ce+1]-le._ptr[ce];fe++)ue.push(ce);for(var me=le._values.slice(),he=le._index.slice(),pe=0;pe<le._index.length;pe++){var ge=he[pe],_e=ue[pe],ye=ge*le._size[1]+_e;ue[pe]=ye%ne[1],he[pe]=Math.floor(ye/ne[1])}le._values.length=0,le._index.length=0,le._ptr.length=ne[1]+1,le._size=ne.slice();for(var we=0;we<le._ptr.length;we++)le._ptr[we]=0;for(var ve=0;ve<me.length;ve++){var $e=he[ve],be=ue[ve],Ce=me[ve],De=G($e,le._ptr[be],le._ptr[be+1],le._index);Z(De,$e,be,Ce,le._values,le._index,le._ptr)}return le},F.prototype.clone=function(){var ne=new F({values:this._values?clone$3(this._values):void 0,index:clone$3(this._index),ptr:clone$3(this._ptr),size:clone$3(this._size),datatype:this._datatype});return ne},F.prototype.size=function(){return this._size.slice(0)},F.prototype.map=function(ne,ie){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var se=this,oe=this._size[0],le=this._size[1],ue=optimizeCallback(ne,se,"map"),ce=function(me,he,pe){return ue.fn(me,[he,pe],se)};return W(this,0,oe-1,0,le-1,ce,ie)};function W(ne,ie,se,oe,le,ue,ce){var fe=[],me=[],he=[],pe=O,ge=0;isString(ne._datatype)&&(pe=R.find(O,[ne._datatype,ne._datatype])||O,ge=R.convert(0,ne._datatype));for(var _e=function(Se,ze,Pe){var Qe=ue(Se,ze,Pe);pe(Qe,ge)||(fe.push(Qe),me.push(ze))},ye=oe;ye<=le;ye++){he.push(fe.length);var we=ne._ptr[ye],ve=ne._ptr[ye+1];if(ce)for(var $e=we;$e<ve;$e++){var be=ne._index[$e];be>=ie&&be<=se&&_e(ne._values[$e],be-ie,ye-oe)}else{for(var Ce={},De=we;De<ve;De++){var Ne=ne._index[De];Ce[Ne]=ne._values[De]}for(var Me=ie;Me<=se;Me++){var Te=Me in Ce?Ce[Me]:0;_e(Te,Me-ie,ye-oe)}}}return he.push(fe.length),new F({values:fe,index:me,ptr:he,size:[se-ie+1,le-oe+1]})}F.prototype.forEach=function(ne,ie){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var se=this,oe=this._size[0],le=this._size[1],ue=optimizeCallback(ne,se,"forEach"),ce=0;ce<le;ce++){var fe=this._ptr[ce],me=this._ptr[ce+1];if(ie)for(var he=fe;he<me;he++){var pe=this._index[he];ue.fn(this._values[he],[pe,ce],se)}else{for(var ge={},_e=fe;_e<me;_e++){var ye=this._index[_e];ge[ye]=this._values[_e]}for(var we=0;we<oe;we++){var ve=we in ge?ge[we]:0;ue.fn(ve,[we,ce],se)}}}},F.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var ne=this._size[1],ie=0;ie<ne;ie++)for(var se=this._ptr[ie],oe=this._ptr[ie+1],le=se;le<oe;le++){var ue=this._index[le];yield{value:this._values[le],index:[ue,ie]}}},F.prototype.toArray=function(){return ee(this._values,this._index,this._ptr,this._size,!0)},F.prototype.valueOf=function(){return ee(this._values,this._index,this._ptr,this._size,!1)};function ee(ne,ie,se,oe,le){var ue=oe[0],ce=oe[1],fe=[],me,he;for(me=0;me<ue;me++)for(fe[me]=[],he=0;he<ce;he++)fe[me][he]=0;for(he=0;he<ce;he++)for(var pe=se[he],ge=se[he+1],_e=pe;_e<ge;_e++)me=ie[_e],fe[me][he]=ne?le?clone$3(ne[_e]):ne[_e]:1;return fe}return F.prototype.format=function(ne){for(var ie=this._size[0],se=this._size[1],oe=this.density(),le="Sparse Matrix ["+format$3(ie,ne)+" x "+format$3(se,ne)+"] density: "+format$3(oe,ne)+`
`,ue=0;ue<se;ue++)for(var ce=this._ptr[ue],fe=this._ptr[ue+1],me=ce;me<fe;me++){var he=this._index[me];le+=`
    (`+format$3(he,ne)+", "+format$3(ue,ne)+") ==> "+(this._values?format$3(this._values[me],ne):"X")}return le},F.prototype.toString=function(){return format$3(this.toArray())},F.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},F.prototype.diagonal=function(ne){if(ne){if(isBigNumber(ne)&&(ne=ne.toNumber()),!isNumber$1(ne)||!isInteger$1(ne))throw new TypeError("The parameter k must be an integer number")}else ne=0;var ie=ne>0?ne:0,se=ne<0?-ne:0,oe=this._size[0],le=this._size[1],ue=Math.min(oe-se,le-ie),ce=[],fe=[],me=[];me[0]=0;for(var he=ie;he<le&&ce.length<ue;he++)for(var pe=this._ptr[he],ge=this._ptr[he+1],_e=pe;_e<ge;_e++){var ye=this._index[_e];if(ye===he-ie+se){ce.push(this._values[_e]),fe[ce.length-1]=ye-se;break}}return me.push(ce.length),new F({values:ce,index:fe,ptr:me,size:[ue,1]})},F.fromJSON=function(ne){return new F(ne)},F.diagonal=function(ne,ie,se,oe,le){if(!isArray$1(ne))throw new TypeError("Array expected, size parameter");if(ne.length!==2)throw new Error("Only two dimensions matrix are supported");if(ne=ne.map(function(Ne){if(isBigNumber(Ne)&&(Ne=Ne.toNumber()),!isNumber$1(Ne)||!isInteger$1(Ne)||Ne<1)throw new Error("Size values must be positive integers");return Ne}),se){if(isBigNumber(se)&&(se=se.toNumber()),!isNumber$1(se)||!isInteger$1(se))throw new TypeError("The parameter k must be an integer number")}else se=0;var ue=O,ce=0;isString(le)&&(ue=R.find(O,[le,le])||O,ce=R.convert(0,le));var fe=se>0?se:0,me=se<0?-se:0,he=ne[0],pe=ne[1],ge=Math.min(he-me,pe-fe),_e;if(isArray$1(ie)){if(ie.length!==ge)throw new Error("Invalid value array length");_e=function(Me){return ie[Me]}}else if(isMatrix(ie)){var ye=ie.size();if(ye.length!==1||ye[0]!==ge)throw new Error("Invalid matrix length");_e=function(Me){return ie.get([Me])}}else _e=function(){return ie};for(var we=[],ve=[],$e=[],be=0;be<pe;be++){$e.push(we.length);var Ce=be-fe;if(Ce>=0&&Ce<ge){var De=_e(Ce);ue(De,ce)||(ve.push(Ce+me),we.push(De))}}return $e.push(we.length),new F({values:we,index:ve,ptr:$e,size:[he,pe]})},F.prototype.swapRows=function(ne,ie){if(!isNumber$1(ne)||!isInteger$1(ne)||!isNumber$1(ie)||!isInteger$1(ie))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return validateIndex(ne,this._size[0]),validateIndex(ie,this._size[0]),F._swapRows(ne,ie,this._size[1],this._values,this._index,this._ptr),this},F._forEachRow=function(ne,ie,se,oe,le){for(var ue=oe[ne],ce=oe[ne+1],fe=ue;fe<ce;fe++)le(se[fe],ie[fe])},F._swapRows=function(ne,ie,se,oe,le,ue){for(var ce=0;ce<se;ce++){var fe=ue[ce],me=ue[ce+1],he=G(ne,fe,me,le),pe=G(ie,fe,me,le);if(he<me&&pe<me&&le[he]===ne&&le[pe]===ie){if(oe){var ge=oe[he];oe[he]=oe[pe],oe[pe]=ge}continue}if(he<me&&le[he]===ne&&(pe>=me||le[pe]!==ie)){var _e=oe?oe[he]:void 0;le.splice(pe,0,ie),oe&&oe.splice(pe,0,_e),le.splice(pe<=he?he+1:he,1),oe&&oe.splice(pe<=he?he+1:he,1);continue}if(pe<me&&le[pe]===ie&&(he>=me||le[he]!==ne)){var ye=oe?oe[pe]:void 0;le.splice(he,0,ne),oe&&oe.splice(he,0,ye),le.splice(he<=pe?pe+1:pe,1),oe&&oe.splice(he<=pe?pe+1:pe,1)}}},F},{isClass:!0}),name$4H="number",dependencies$4H=["typed"];function getNonDecimalNumberParts(_){var R=_.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(R){var O={"0b":2,"0o":8,"0x":16}[R[1]],I=R[2],F=R[3];return{input:_,radix:O,integerPart:I,fractionalPart:F}}else return null}function makeNumberFromNonDecimalParts(_){for(var R=parseInt(_.integerPart,_.radix),O=0,I=0;I<_.fractionalPart.length;I++){var F=parseInt(_.fractionalPart[I],_.radix);O+=F/Math.pow(_.radix,I+1)}var z=R+O;if(isNaN(z))throw new SyntaxError('String "'+_.input+'" is not a valid number');return z}var createNumber=factory(name$4H,dependencies$4H,_=>{var{typed:R}=_,O=R("number",{"":function(){return 0},number:function(F){return F},string:function(F){if(F==="NaN")return NaN;var z=getNonDecimalNumberParts(F);if(z)return makeNumberFromNonDecimalParts(z);var L=0,U=F.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);U&&(L=Number(U[2]),F=U[1]);var q=Number(F);if(isNaN(q))throw new SyntaxError('String "'+F+'" is not a valid number');if(U){if(q>2**L-1)throw new SyntaxError('String "'.concat(F,'" is out of range'));q>=2**(L-1)&&(q=q-2**L)}return q},BigNumber:function(F){return F.toNumber()},bigint:function(F){return Number(F)},Fraction:function(F){return F.valueOf()},Unit:R.referToSelf(I=>F=>{var z=F.clone();return z.value=I(F.value),z}),null:function(F){return 0},"Unit, string | Unit":function(F,z){return F.toNumber(z)},"Array | Matrix":R.referToSelf(I=>F=>deepMap(F,I))});return O.fromJSON=function(I){return parseFloat(I.value)},O}),name$4G="bigint",dependencies$4G=["typed"],createBigint=factory(name$4G,dependencies$4G,_=>{var{typed:R}=_,O=R("bigint",{"":function(){return 0n},bigint:function(F){return F},number:function(F){return BigInt(F.toFixed())},BigNumber:function(F){return BigInt(F.round().toString())},Fraction:function(F){return BigInt(F.valueOf().toFixed())},"string | boolean":function(F){return BigInt(F)},null:function(F){return 0n},"Array | Matrix":R.referToSelf(I=>F=>deepMap(F,I))});return O.fromJSON=function(I){return BigInt(I.value)},O}),name$4F="string",dependencies$4F=["typed"],createString=factory(name$4F,dependencies$4F,_=>{var{typed:R}=_;return R(name$4F,{"":function(){return""},number:format$5,null:function(I){return"null"},boolean:function(I){return I+""},string:function(I){return I},"Array | Matrix":R.referToSelf(O=>I=>deepMap(I,O)),any:function(I){return String(I)}})}),name$4E="boolean",dependencies$4E=["typed"],createBoolean=factory(name$4E,dependencies$4E,_=>{var{typed:R}=_;return R(name$4E,{"":function(){return!1},boolean:function(I){return I},number:function(I){return!!I},null:function(I){return!1},BigNumber:function(I){return!I.isZero()},string:function(I){var F=I.toLowerCase();if(F==="true")return!0;if(F==="false")return!1;var z=Number(I);if(I!==""&&!isNaN(z))return!!z;throw new Error('Cannot convert "'+I+'" to a boolean')},"Array | Matrix":R.referToSelf(O=>I=>deepMap(I,O))})}),name$4D="bignumber",dependencies$4D=["typed","BigNumber"],createBignumber=factory(name$4D,dependencies$4D,_=>{var{typed:R,BigNumber:O}=_;return R("bignumber",{"":function(){return new O(0)},number:function(F){return new O(F+"")},string:function(F){var z=F.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(z){var L=z[2],U=O(z[1]),q=new O(2).pow(Number(L));if(U.gt(q.sub(1)))throw new SyntaxError('String "'.concat(F,'" is out of range'));var G=new O(2).pow(Number(L)-1);return U.gte(G)?U.sub(q):U}return new O(F)},BigNumber:function(F){return F},bigint:function(F){return new O(F.toString())},Unit:R.referToSelf(I=>F=>{var z=F.clone();return z.value=I(F.value),z}),Fraction:function(F){return new O(String(F.n)).div(String(F.d)).times(String(F.s))},null:function(F){return new O(0)},"Array | Matrix":R.referToSelf(I=>F=>deepMap(F,I))})}),name$4C="complex",dependencies$4C=["typed","Complex"],createComplex=factory(name$4C,dependencies$4C,_=>{var{typed:R,Complex:O}=_;return R("complex",{"":function(){return O.ZERO},number:function(F){return new O(F,0)},"number, number":function(F,z){return new O(F,z)},"BigNumber, BigNumber":function(F,z){return new O(F.toNumber(),z.toNumber())},Fraction:function(F){return new O(F.valueOf(),0)},Complex:function(F){return F.clone()},string:function(F){return O(F)},null:function(F){return O(0)},Object:function(F){if("re"in F&&"im"in F)return new O(F.re,F.im);if("r"in F&&"phi"in F||"abs"in F&&"arg"in F)return new O(F);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":R.referToSelf(I=>F=>deepMap(F,I))})}),name$4B="fraction",dependencies$4B=["typed","Fraction"],createFraction=factory(name$4B,dependencies$4B,_=>{var{typed:R,Fraction:O}=_;return R("fraction",{number:function(F){if(!Number.isFinite(F)||isNaN(F))throw new Error(F+" cannot be represented as a fraction");return new O(F)},string:function(F){return new O(F)},"number, number":function(F,z){return new O(F,z)},"bigint, bigint":function(F,z){return new O(F,z)},null:function(F){return new O(0)},BigNumber:function(F){return new O(F.toString())},bigint:function(F){return new O(F.toString())},Fraction:function(F){return F},Unit:R.referToSelf(I=>F=>{var z=F.clone();return z.value=I(F.value),z}),Object:function(F){return new O(F)},"Array | Matrix":R.referToSelf(I=>F=>deepMap(F,I))})}),name$4A="matrix",dependencies$4A=["typed","Matrix","DenseMatrix","SparseMatrix"],createMatrix=factory(name$4A,dependencies$4A,_=>{var{typed:R,Matrix:O,DenseMatrix:I,SparseMatrix:F}=_;return R(name$4A,{"":function(){return z([])},string:function(U){return z([],U)},"string, string":function(U,q){return z([],U,q)},Array:function(U){return z(U)},Matrix:function(U){return z(U,U.storage())},"Array | Matrix, string":z,"Array | Matrix, string, string":z});function z(L,U,q){if(U==="dense"||U==="default"||U===void 0)return new I(L,q);if(U==="sparse")return new F(L,q);throw new TypeError("Unknown matrix type "+JSON.stringify(U)+".")}}),name$4z="matrixFromFunction",dependencies$4z=["typed","matrix","isZero"],createMatrixFromFunction=factory(name$4z,dependencies$4z,_=>{var{typed:R,matrix:O,isZero:I}=_;return R(name$4z,{"Array | Matrix, function, string, string":function(L,U,q,G){return F(L,U,q,G)},"Array | Matrix, function, string":function(L,U,q){return F(L,U,q)},"Matrix, function":function(L,U){return F(L,U,"dense")},"Array, function":function(L,U){return F(L,U,"dense").toArray()},"Array | Matrix, string, function":function(L,U,q){return F(L,q,U)},"Array | Matrix, string, string, function":function(L,U,q,G){return F(L,G,U,q)}});function F(z,L,U,q){var G;return q!==void 0?G=O(U,q):G=O(U),G.resize(z),G.forEach(function(V,Z){var Y=L(Z);I(Y)||G.set(Z,Y)}),G}}),name$4y="matrixFromRows",dependencies$4y=["typed","matrix","flatten","size"],createMatrixFromRows=factory(name$4y,dependencies$4y,_=>{var{typed:R,matrix:O,flatten:I,size:F}=_;return R(name$4y,{"...Array":function(q){return z(q)},"...Matrix":function(q){return O(z(q.map(G=>G.toArray())))}});function z(U){if(U.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var q=L(U[0]),G=[];for(var V of U){var Z=L(V);if(Z!==q)throw new TypeError("The vectors had different length: "+(q|0)+"  "+(Z|0));G.push(I(V))}return G}function L(U){var q=F(U);if(q.length===1)return q[0];if(q.length===2){if(q[0]===1)return q[1];if(q[1]===1)return q[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),name$4x="matrixFromColumns",dependencies$4x=["typed","matrix","flatten","size"],createMatrixFromColumns=factory(name$4x,dependencies$4x,_=>{var{typed:R,matrix:O,flatten:I,size:F}=_;return R(name$4x,{"...Array":function(q){return z(q)},"...Matrix":function(q){return O(z(q.map(G=>G.toArray())))}});function z(U){if(U.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var q=L(U[0]),G=[],V=0;V<q;V++)G[V]=[];for(var Z of U){var Y=L(Z);if(Y!==q)throw new TypeError("The vectors had different length: "+(q|0)+"  "+(Y|0));for(var W=I(Z),ee=0;ee<q;ee++)G[ee].push(W[ee])}return G}function L(U){var q=F(U);if(q.length===1)return q[0];if(q.length===2){if(q[0]===1)return q[1];if(q[1]===1)return q[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),name$4w="splitUnit",dependencies$4w=["typed"],createSplitUnit=factory(name$4w,dependencies$4w,_=>{var{typed:R}=_;return R(name$4w,{"Unit, Array":function(I,F){return I.splitUnit(F)}})}),name$4v="unaryMinus",dependencies$4v=["typed"],createUnaryMinus=factory(name$4v,dependencies$4v,_=>{var{typed:R}=_;return R(name$4v,{number:unaryMinusNumber,"Complex | BigNumber | Fraction":O=>O.neg(),bigint:O=>-O,Unit:R.referToSelf(O=>I=>{var F=I.clone();return F.value=R.find(O,F.valueType())(I.value),F}),"Array | Matrix":R.referToSelf(O=>I=>deepMap(I,O,!0))})}),name$4u="unaryPlus",dependencies$4u=["typed","config","numeric"],createUnaryPlus=factory(name$4u,dependencies$4u,_=>{var{typed:R,config:O,numeric:I}=_;return R(name$4u,{number:unaryPlusNumber,Complex:function(z){return z},BigNumber:function(z){return z},bigint:function(z){return z},Fraction:function(z){return z},Unit:function(z){return z.clone()},"Array | Matrix":R.referToSelf(F=>z=>deepMap(z,F,!0)),boolean:function(z){return I(z?1:0,O.number)},string:function(z){return I(z,safeNumberType(z,O))}})}),name$4t="abs",dependencies$4t=["typed"],createAbs=factory(name$4t,dependencies$4t,_=>{var{typed:R}=_;return R(name$4t,{number:absNumber,"Complex | BigNumber | Fraction | Unit":O=>O.abs(),bigint:O=>O<0n?-O:O,"Array | Matrix":R.referToSelf(O=>I=>deepMap(I,O,!0))})}),name$4s="mapSlices",dependencies$4s=["typed","isInteger"],createMapSlices=factory(name$4s,dependencies$4s,_=>{var{typed:R,isInteger:O}=_;return R(name$4s,{"Array | Matrix, number | BigNumber, function":function(F,z,L){if(!O(z))throw new TypeError("Integer number expected for dimension");var U=Array.isArray(F)?arraySize(F):F.size();if(z<0||z>=U.length)throw new IndexError(z,U.length);return isMatrix(F)?F.create(_mapSlices(F.valueOf(),z,L),F.datatype()):_mapSlices(F,z,L)}})},{formerly:"apply"});function _mapSlices(_,R,O){var I,F,z;if(R<=0)if(Array.isArray(_[0])){for(z=_switch(_),F=[],I=0;I<z.length;I++)F[I]=_mapSlices(z[I],R-1,O);return F}else return O(_);else{for(F=[],I=0;I<_.length;I++)F[I]=_mapSlices(_[I],R-1,O);return F}}function _switch(_){var R=_.length,O=_[0].length,I,F,z=[];for(F=0;F<O;F++){var L=[];for(I=0;I<R;I++)L.push(_[I][F]);z.push(L)}return z}var name$4r="addScalar",dependencies$4r=["typed"],createAddScalar=factory(name$4r,dependencies$4r,_=>{var{typed:R}=_;return R(name$4r,{"number, number":addNumber,"Complex, Complex":function(I,F){return I.add(F)},"BigNumber, BigNumber":function(I,F){return I.plus(F)},"bigint, bigint":function(I,F){return I+F},"Fraction, Fraction":function(I,F){return I.add(F)},"Unit, Unit":R.referToSelf(O=>(I,F)=>{if(I.value===null||I.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(F.value===null||F.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!I.equalBase(F))throw new Error("Units do not match");var z=I.clone();return z.value=R.find(O,[z.valueType(),F.valueType()])(z.value,F.value),z.fixPrefix=!1,z})})}),name$4q="subtractScalar",dependencies$4q=["typed"],createSubtractScalar=factory(name$4q,dependencies$4q,_=>{var{typed:R}=_;return R(name$4q,{"number, number":subtractNumber,"Complex, Complex":function(I,F){return I.sub(F)},"BigNumber, BigNumber":function(I,F){return I.minus(F)},"bigint, bigint":function(I,F){return I-F},"Fraction, Fraction":function(I,F){return I.sub(F)},"Unit, Unit":R.referToSelf(O=>(I,F)=>{if(I.value===null||I.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(F.value===null||F.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!I.equalBase(F))throw new Error("Units do not match");var z=I.clone();return z.value=R.find(O,[z.valueType(),F.valueType()])(z.value,F.value),z.fixPrefix=!1,z})})}),name$4p="cbrt",dependencies$4p=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],createCbrt=factory(name$4p,dependencies$4p,_=>{var{config:R,typed:O,isNegative:I,unaryMinus:F,matrix:z,Complex:L,BigNumber:U,Fraction:q}=_;return O(name$4p,{number:cbrtNumber,Complex:G,"Complex, boolean":G,BigNumber:function(Y){return Y.cbrt()},Unit:V});function G(Z,Y){var W=Z.arg()/3,ee=Z.abs(),ne=new L(cbrtNumber(ee),0).mul(new L(0,W).exp());if(Y){var ie=[ne,new L(cbrtNumber(ee),0).mul(new L(0,W+Math.PI*2/3).exp()),new L(cbrtNumber(ee),0).mul(new L(0,W-Math.PI*2/3).exp())];return R.matrix==="Array"?ie:z(ie)}else return ne}function V(Z){if(Z.value&&isComplex(Z.value)){var Y=Z.clone();return Y.value=1,Y=Y.pow(1/3),Y.value=G(Z.value),Y}else{var W=I(Z.value);W&&(Z.value=F(Z.value));var ee;isBigNumber(Z.value)?ee=new U(1).div(3):isFraction(Z.value)?ee=new q(1,3):ee=1/3;var ne=Z.pow(ee);return W&&(ne.value=F(ne.value)),ne}}}),name$4o="matAlgo11xS0s",dependencies$4o=["typed","equalScalar"],createMatAlgo11xS0s=factory(name$4o,dependencies$4o,_=>{var{typed:R,equalScalar:O}=_;return function(F,z,L,U){var q=F._values,G=F._index,V=F._ptr,Z=F._size,Y=F._datatype;if(!q)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var W=Z[0],ee=Z[1],ne,ie=O,se=0,oe=L;typeof Y=="string"&&(ne=Y,ie=R.find(O,[ne,ne]),se=R.convert(0,ne),z=R.convert(z,ne),oe=R.find(L,[ne,ne]));for(var le=[],ue=[],ce=[],fe=0;fe<ee;fe++){ce[fe]=ue.length;for(var me=V[fe],he=V[fe+1],pe=me;pe<he;pe++){var ge=G[pe],_e=U?oe(z,q[pe]):oe(q[pe],z);ie(_e,se)||(ue.push(ge),le.push(_e))}}return ce[ee]=ue.length,F.createSparseMatrix({values:le,index:ue,ptr:ce,size:[W,ee],datatype:ne})}}),name$4n="matAlgo12xSfs",dependencies$4n=["typed","DenseMatrix"],createMatAlgo12xSfs=factory(name$4n,dependencies$4n,_=>{var{typed:R,DenseMatrix:O}=_;return function(F,z,L,U){var q=F._values,G=F._index,V=F._ptr,Z=F._size,Y=F._datatype;if(!q)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var W=Z[0],ee=Z[1],ne,ie=L;typeof Y=="string"&&(ne=Y,z=R.convert(z,ne),ie=R.find(L,[ne,ne]));for(var se=[],oe=[],le=[],ue=0;ue<ee;ue++){for(var ce=ue+1,fe=V[ue],me=V[ue+1],he=fe;he<me;he++){var pe=G[he];oe[pe]=q[he],le[pe]=ce}for(var ge=0;ge<W;ge++)ue===0&&(se[ge]=[]),le[ge]===ce?se[ge][ue]=U?ie(z,oe[ge]):ie(oe[ge],z):se[ge][ue]=U?ie(z,0):ie(0,z)}return new O({data:se,size:[W,ee],datatype:ne})}}),name$4m="matAlgo14xDs",dependencies$4m=["typed"],createMatAlgo14xDs=factory(name$4m,dependencies$4m,_=>{var{typed:R}=_;return function(F,z,L,U){var q=F._data,G=F._size,V=F._datatype,Z,Y=L;typeof V=="string"&&(Z=V,z=R.convert(z,Z),Y=R.find(L,[Z,Z]));var W=G.length>0?O(Y,0,G,G[0],q,z,U):[];return F.createDenseMatrix({data:W,size:clone$3(G),datatype:Z})};function O(I,F,z,L,U,q,G){var V=[];if(F===z.length-1)for(var Z=0;Z<L;Z++)V[Z]=G?I(q,U[Z]):I(U[Z],q);else for(var Y=0;Y<L;Y++)V[Y]=O(I,F+1,z,z[F+1],U[Y],q,G);return V}}),name$4l="ceil",dependencies$4l=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],bigTen$1=new Decimal(10),createCeilNumber=factory(name$4l,["typed","config","round"],_=>{var{typed:R,config:O,round:I}=_;function F(z){var L=Math.ceil(z),U=I(z);return L===U?L:nearlyEqual$1(z,U,O.relTol,O.absTol)&&!nearlyEqual$1(z,L,O.relTol,O.absTol)?U:L}return R(name$4l,{number:F,"number, number":function(L,U){if(!isInteger$1(U))throw new RangeError("number of decimals in function ceil must be an integer");if(U<0||U>15)throw new RangeError("number of decimals in ceil number must be in range 0-15");var q=10**U;return F(L*q)/q}})}),createCeil=factory(name$4l,dependencies$4l,_=>{var{typed:R,config:O,round:I,matrix:F,equalScalar:z,zeros:L,DenseMatrix:U}=_,q=createMatAlgo11xS0s({typed:R,equalScalar:z}),G=createMatAlgo12xSfs({typed:R,DenseMatrix:U}),V=createMatAlgo14xDs({typed:R}),Z=createCeilNumber({typed:R,config:O,round:I});function Y(W){var ee=(se,oe)=>nearlyEqual(se,oe,O.relTol,O.absTol),ne=W.ceil(),ie=I(W);return ne.eq(ie)?ne:ee(W,ie)&&!ee(W,ne)?ie:ne}return R("ceil",{number:Z.signatures.number,"number,number":Z.signatures["number,number"],Complex:function(ee){return ee.ceil()},"Complex, number":function(ee,ne){return ee.ceil(ne)},"Complex, BigNumber":function(ee,ne){return ee.ceil(ne.toNumber())},BigNumber:Y,"BigNumber, BigNumber":function(ee,ne){var ie=bigTen$1.pow(ne);return Y(ee.mul(ie)).div(ie)},bigint:W=>W,"bigint, number":(W,ee)=>W,"bigint, BigNumber":(W,ee)=>W,Fraction:function(ee){return ee.ceil()},"Fraction, number":function(ee,ne){return ee.ceil(ne)},"Fraction, BigNumber":function(ee,ne){return ee.ceil(ne.toNumber())},"Unit, number, Unit":R.referToSelf(W=>function(ee,ne,ie){var se=ee.toNumeric(ie);return ie.multiply(W(se,ne))}),"Unit, BigNumber, Unit":R.referToSelf(W=>(ee,ne,ie)=>W(ee,ne.toNumber(),ie)),"Array | Matrix, number | BigNumber, Unit":R.referToSelf(W=>(ee,ne,ie)=>deepMap(ee,se=>W(se,ne,ie),!0)),"Array | Matrix | Unit, Unit":R.referToSelf(W=>(ee,ne)=>W(ee,0,ne)),"Array | Matrix":R.referToSelf(W=>ee=>deepMap(ee,W,!0)),"Array, number | BigNumber":R.referToSelf(W=>(ee,ne)=>deepMap(ee,ie=>W(ie,ne),!0)),"SparseMatrix, number | BigNumber":R.referToSelf(W=>(ee,ne)=>q(ee,ne,W,!1)),"DenseMatrix, number | BigNumber":R.referToSelf(W=>(ee,ne)=>V(ee,ne,W,!1)),"number | Complex | Fraction | BigNumber, Array":R.referToSelf(W=>(ee,ne)=>V(F(ne),ee,W,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":R.referToSelf(W=>(ee,ne)=>z(ee,0)?L(ne.size(),ne.storage()):ne.storage()==="dense"?V(ne,ee,W,!0):G(ne,ee,W,!0))})}),name$4k="cube",dependencies$4k=["typed"],createCube=factory(name$4k,dependencies$4k,_=>{var{typed:R}=_;return R(name$4k,{number:cubeNumber,Complex:function(I){return I.mul(I).mul(I)},BigNumber:function(I){return I.times(I).times(I)},bigint:function(I){return I*I*I},Fraction:function(I){return I.pow(3)},Unit:function(I){return I.pow(3)}})}),name$4j="exp",dependencies$4j=["typed"],createExp=factory(name$4j,dependencies$4j,_=>{var{typed:R}=_;return R(name$4j,{number:expNumber,Complex:function(I){return I.exp()},BigNumber:function(I){return I.exp()}})}),name$4i="expm1",dependencies$4i=["typed","Complex"],createExpm1=factory(name$4i,dependencies$4i,_=>{var{typed:R,Complex:O}=_;return R(name$4i,{number:expm1Number,Complex:function(F){var z=Math.exp(F.re);return new O(z*Math.cos(F.im)-1,z*Math.sin(F.im))},BigNumber:function(F){return F.exp().minus(1)}})}),name$4h="fix",dependencies$4h=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],createFixNumber=factory(name$4h,["typed","ceil","floor"],_=>{var{typed:R,ceil:O,floor:I}=_;return R(name$4h,{number:function(z){return z>0?I(z):O(z)},"number, number":function(z,L){return z>0?I(z,L):O(z,L)}})}),createFix=factory(name$4h,dependencies$4h,_=>{var{typed:R,Complex:O,matrix:I,ceil:F,floor:z,equalScalar:L,zeros:U,DenseMatrix:q}=_,G=createMatAlgo12xSfs({typed:R,DenseMatrix:q}),V=createMatAlgo14xDs({typed:R}),Z=createFixNumber({typed:R,ceil:F,floor:z});return R("fix",{number:Z.signatures.number,"number, number | BigNumber":Z.signatures["number,number"],Complex:function(W){return new O(W.re>0?Math.floor(W.re):Math.ceil(W.re),W.im>0?Math.floor(W.im):Math.ceil(W.im))},"Complex, number":function(W,ee){return new O(W.re>0?z(W.re,ee):F(W.re,ee),W.im>0?z(W.im,ee):F(W.im,ee))},"Complex, BigNumber":function(W,ee){var ne=ee.toNumber();return new O(W.re>0?z(W.re,ne):F(W.re,ne),W.im>0?z(W.im,ne):F(W.im,ne))},BigNumber:function(W){return W.isNegative()?F(W):z(W)},"BigNumber, number | BigNumber":function(W,ee){return W.isNegative()?F(W,ee):z(W,ee)},bigint:Y=>Y,"bigint, number":(Y,W)=>Y,"bigint, BigNumber":(Y,W)=>Y,Fraction:function(W){return W.s<0n?W.ceil():W.floor()},"Fraction, number | BigNumber":function(W,ee){return W.s<0n?F(W,ee):z(W,ee)},"Unit, number, Unit":R.referToSelf(Y=>function(W,ee,ne){var ie=W.toNumeric(ne);return ne.multiply(Y(ie,ee))}),"Unit, BigNumber, Unit":R.referToSelf(Y=>(W,ee,ne)=>Y(W,ee.toNumber(),ne)),"Array | Matrix, number | BigNumber, Unit":R.referToSelf(Y=>(W,ee,ne)=>deepMap(W,ie=>Y(ie,ee,ne),!0)),"Array | Matrix | Unit, Unit":R.referToSelf(Y=>(W,ee)=>Y(W,0,ee)),"Array | Matrix":R.referToSelf(Y=>W=>deepMap(W,Y,!0)),"Array | Matrix, number | BigNumber":R.referToSelf(Y=>(W,ee)=>deepMap(W,ne=>Y(ne,ee),!0)),"number | Complex | Fraction | BigNumber, Array":R.referToSelf(Y=>(W,ee)=>V(I(ee),W,Y,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":R.referToSelf(Y=>(W,ee)=>L(W,0)?U(ee.size(),ee.storage()):ee.storage()==="dense"?V(ee,W,Y,!0):G(ee,W,Y,!0))})}),name$4g="floor",dependencies$4g=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],bigTen=new Decimal(10),createFloorNumber=factory(name$4g,["typed","config","round"],_=>{var{typed:R,config:O,round:I}=_;function F(z){var L=Math.floor(z),U=I(z);return L===U?L:nearlyEqual$1(z,U,O.relTol,O.absTol)&&!nearlyEqual$1(z,L,O.relTol,O.absTol)?U:L}return R(name$4g,{number:F,"number, number":function(L,U){if(!isInteger$1(U))throw new RangeError("number of decimals in function floor must be an integer");if(U<0||U>15)throw new RangeError("number of decimals in floor number must be in range 0 - 15");var q=10**U;return F(L*q)/q}})}),createFloor=factory(name$4g,dependencies$4g,_=>{var{typed:R,config:O,round:I,matrix:F,equalScalar:z,zeros:L,DenseMatrix:U}=_,q=createMatAlgo11xS0s({typed:R,equalScalar:z}),G=createMatAlgo12xSfs({typed:R,DenseMatrix:U}),V=createMatAlgo14xDs({typed:R}),Z=createFloorNumber({typed:R,config:O,round:I});function Y(W){var ee=(se,oe)=>nearlyEqual(se,oe,O.relTol,O.absTol),ne=W.floor(),ie=I(W);return ne.eq(ie)?ne:ee(W,ie)&&!ee(W,ne)?ie:ne}return R("floor",{number:Z.signatures.number,"number,number":Z.signatures["number,number"],Complex:function(ee){return ee.floor()},"Complex, number":function(ee,ne){return ee.floor(ne)},"Complex, BigNumber":function(ee,ne){return ee.floor(ne.toNumber())},BigNumber:Y,"BigNumber, BigNumber":function(ee,ne){var ie=bigTen.pow(ne);return Y(ee.mul(ie)).div(ie)},bigint:W=>W,"bigint, number":(W,ee)=>W,"bigint, BigNumber":(W,ee)=>W,Fraction:function(ee){return ee.floor()},"Fraction, number":function(ee,ne){return ee.floor(ne)},"Fraction, BigNumber":function(ee,ne){return ee.floor(ne.toNumber())},"Unit, number, Unit":R.referToSelf(W=>function(ee,ne,ie){var se=ee.toNumeric(ie);return ie.multiply(W(se,ne))}),"Unit, BigNumber, Unit":R.referToSelf(W=>(ee,ne,ie)=>W(ee,ne.toNumber(),ie)),"Array | Matrix, number | BigNumber, Unit":R.referToSelf(W=>(ee,ne,ie)=>deepMap(ee,se=>W(se,ne,ie),!0)),"Array | Matrix | Unit, Unit":R.referToSelf(W=>(ee,ne)=>W(ee,0,ne)),"Array | Matrix":R.referToSelf(W=>ee=>deepMap(ee,W,!0)),"Array, number | BigNumber":R.referToSelf(W=>(ee,ne)=>deepMap(ee,ie=>W(ie,ne),!0)),"SparseMatrix, number | BigNumber":R.referToSelf(W=>(ee,ne)=>q(ee,ne,W,!1)),"DenseMatrix, number | BigNumber":R.referToSelf(W=>(ee,ne)=>V(ee,ne,W,!1)),"number | Complex | Fraction | BigNumber, Array":R.referToSelf(W=>(ee,ne)=>V(F(ne),ee,W,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":R.referToSelf(W=>(ee,ne)=>z(ee,0)?L(ne.size(),ne.storage()):ne.storage()==="dense"?V(ne,ee,W,!0):G(ne,ee,W,!0))})}),name$4f="matAlgo02xDS0",dependencies$4f=["typed","equalScalar"],createMatAlgo02xDS0=factory(name$4f,dependencies$4f,_=>{var{typed:R,equalScalar:O}=_;return function(F,z,L,U){var q=F._data,G=F._size,V=F._datatype||F.getDataType(),Z=z._values,Y=z._index,W=z._ptr,ee=z._size,ne=z._datatype||z._data===void 0?z._datatype:z.getDataType();if(G.length!==ee.length)throw new DimensionError(G.length,ee.length);if(G[0]!==ee[0]||G[1]!==ee[1])throw new RangeError("Dimension mismatch. Matrix A ("+G+") must match Matrix B ("+ee+")");if(!Z)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var ie=G[0],se=G[1],oe,le=O,ue=0,ce=L;typeof V=="string"&&V===ne&&V!=="mixed"&&(oe=V,le=R.find(O,[oe,oe]),ue=R.convert(0,oe),ce=R.find(L,[oe,oe]));for(var fe=[],me=[],he=[],pe=0;pe<se;pe++){he[pe]=me.length;for(var ge=W[pe],_e=W[pe+1],ye=ge;ye<_e;ye++){var we=Y[ye],ve=U?ce(Z[ye],q[we][pe]):ce(q[we][pe],Z[ye]);le(ve,ue)||(me.push(we),fe.push(ve))}}return he[se]=me.length,z.createSparseMatrix({values:fe,index:me,ptr:he,size:[ie,se],datatype:V===F._datatype&&ne===z._datatype?oe:void 0})}}),name$4e="matAlgo03xDSf",dependencies$4e=["typed"],createMatAlgo03xDSf=factory(name$4e,dependencies$4e,_=>{var{typed:R}=_;return function(I,F,z,L){var U=I._data,q=I._size,G=I._datatype||I.getDataType(),V=F._values,Z=F._index,Y=F._ptr,W=F._size,ee=F._datatype||F._data===void 0?F._datatype:F.getDataType();if(q.length!==W.length)throw new DimensionError(q.length,W.length);if(q[0]!==W[0]||q[1]!==W[1])throw new RangeError("Dimension mismatch. Matrix A ("+q+") must match Matrix B ("+W+")");if(!V)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var ne=q[0],ie=q[1],se,oe=0,le=z;typeof G=="string"&&G===ee&&G!=="mixed"&&(se=G,oe=R.convert(0,se),le=R.find(z,[se,se]));for(var ue=[],ce=0;ce<ne;ce++)ue[ce]=[];for(var fe=[],me=[],he=0;he<ie;he++){for(var pe=he+1,ge=Y[he],_e=Y[he+1],ye=ge;ye<_e;ye++){var we=Z[ye];fe[we]=L?le(V[ye],U[we][he]):le(U[we][he],V[ye]),me[we]=pe}for(var ve=0;ve<ne;ve++)me[ve]===pe?ue[ve][he]=fe[ve]:ue[ve][he]=L?le(oe,U[ve][he]):le(U[ve][he],oe)}return I.createDenseMatrix({data:ue,size:[ne,ie],datatype:G===I._datatype&&ee===F._datatype?se:void 0})}}),name$4d="matAlgo05xSfSf",dependencies$4d=["typed","equalScalar"],createMatAlgo05xSfSf=factory(name$4d,dependencies$4d,_=>{var{typed:R,equalScalar:O}=_;return function(F,z,L){var U=F._values,q=F._index,G=F._ptr,V=F._size,Z=F._datatype||F._data===void 0?F._datatype:F.getDataType(),Y=z._values,W=z._index,ee=z._ptr,ne=z._size,ie=z._datatype||z._data===void 0?z._datatype:z.getDataType();if(V.length!==ne.length)throw new DimensionError(V.length,ne.length);if(V[0]!==ne[0]||V[1]!==ne[1])throw new RangeError("Dimension mismatch. Matrix A ("+V+") must match Matrix B ("+ne+")");var se=V[0],oe=V[1],le,ue=O,ce=0,fe=L;typeof Z=="string"&&Z===ie&&Z!=="mixed"&&(le=Z,ue=R.find(O,[le,le]),ce=R.convert(0,le),fe=R.find(L,[le,le]));var me=U&&Y?[]:void 0,he=[],pe=[],ge=me?[]:void 0,_e=me?[]:void 0,ye=[],we=[],ve,$e,be,Ce;for($e=0;$e<oe;$e++){pe[$e]=he.length;var De=$e+1;for(be=G[$e],Ce=G[$e+1];be<Ce;be++)ve=q[be],he.push(ve),ye[ve]=De,ge&&(ge[ve]=U[be]);for(be=ee[$e],Ce=ee[$e+1];be<Ce;be++)ve=W[be],ye[ve]!==De&&he.push(ve),we[ve]=De,_e&&(_e[ve]=Y[be]);if(me)for(be=pe[$e];be<he.length;){ve=he[be];var Ne=ye[ve],Me=we[ve];if(Ne===De||Me===De){var Te=Ne===De?ge[ve]:ce,Re=Me===De?_e[ve]:ce,Se=fe(Te,Re);ue(Se,ce)?he.splice(be,1):(me.push(Se),be++)}}}return pe[oe]=he.length,F.createSparseMatrix({values:me,index:he,ptr:pe,size:[se,oe],datatype:Z===F._datatype&&ie===z._datatype?le:void 0})}}),name$4c="matAlgo13xDD",dependencies$4c=["typed"],createMatAlgo13xDD=factory(name$4c,dependencies$4c,_=>{var{typed:R}=_;return function(F,z,L){var U=F._data,q=F._size,G=F._datatype,V=z._data,Z=z._size,Y=z._datatype,W=[];if(q.length!==Z.length)throw new DimensionError(q.length,Z.length);for(var ee=0;ee<q.length;ee++){if(q[ee]!==Z[ee])throw new RangeError("Dimension mismatch. Matrix A ("+q+") must match Matrix B ("+Z+")");W[ee]=q[ee]}var ne,ie=L;typeof G=="string"&&G===Y&&(ne=G,ie=R.find(L,[ne,ne]));var se=W.length>0?O(ie,0,W,W[0],U,V):[];return F.createDenseMatrix({data:se,size:W,datatype:ne})};function O(I,F,z,L,U,q){var G=[];if(F===z.length-1)for(var V=0;V<L;V++)G[V]=I(U[V],q[V]);else for(var Z=0;Z<L;Z++)G[Z]=O(I,F+1,z,z[F+1],U[Z],q[Z]);return G}});function broadcast(_,R){if(deepStrictEqual(_.size(),R.size()))return[_,R];var O=broadcastSizes(_.size(),R.size());return[_,R].map(I=>_broadcastTo(I,O))}function _broadcastTo(_,R){return deepStrictEqual(_.size(),R)?_:_.create(broadcastTo(_.valueOf(),R),_.datatype())}var name$4b="matrixAlgorithmSuite",dependencies$4b=["typed","matrix"],createMatrixAlgorithmSuite=factory(name$4b,dependencies$4b,_=>{var{typed:R,matrix:O}=_,I=createMatAlgo13xDD({typed:R}),F=createMatAlgo14xDs({typed:R});return function(L){var U=L.elop,q=L.SD||L.DS,G;U?(G={"DenseMatrix, DenseMatrix":(W,ee)=>I(...broadcast(W,ee),U),"Array, Array":(W,ee)=>I(...broadcast(O(W),O(ee)),U).valueOf(),"Array, DenseMatrix":(W,ee)=>I(...broadcast(O(W),ee),U),"DenseMatrix, Array":(W,ee)=>I(...broadcast(W,O(ee)),U)},L.SS&&(G["SparseMatrix, SparseMatrix"]=(W,ee)=>L.SS(...broadcast(W,ee),U,!1)),L.DS&&(G["DenseMatrix, SparseMatrix"]=(W,ee)=>L.DS(...broadcast(W,ee),U,!1),G["Array, SparseMatrix"]=(W,ee)=>L.DS(...broadcast(O(W),ee),U,!1)),q&&(G["SparseMatrix, DenseMatrix"]=(W,ee)=>q(...broadcast(ee,W),U,!0),G["SparseMatrix, Array"]=(W,ee)=>q(...broadcast(O(ee),W),U,!0))):(G={"DenseMatrix, DenseMatrix":R.referToSelf(W=>(ee,ne)=>I(...broadcast(ee,ne),W)),"Array, Array":R.referToSelf(W=>(ee,ne)=>I(...broadcast(O(ee),O(ne)),W).valueOf()),"Array, DenseMatrix":R.referToSelf(W=>(ee,ne)=>I(...broadcast(O(ee),ne),W)),"DenseMatrix, Array":R.referToSelf(W=>(ee,ne)=>I(...broadcast(ee,O(ne)),W))},L.SS&&(G["SparseMatrix, SparseMatrix"]=R.referToSelf(W=>(ee,ne)=>L.SS(...broadcast(ee,ne),W,!1))),L.DS&&(G["DenseMatrix, SparseMatrix"]=R.referToSelf(W=>(ee,ne)=>L.DS(...broadcast(ee,ne),W,!1)),G["Array, SparseMatrix"]=R.referToSelf(W=>(ee,ne)=>L.DS(...broadcast(O(ee),ne),W,!1))),q&&(G["SparseMatrix, DenseMatrix"]=R.referToSelf(W=>(ee,ne)=>q(...broadcast(ne,ee),W,!0)),G["SparseMatrix, Array"]=R.referToSelf(W=>(ee,ne)=>q(...broadcast(O(ne),ee),W,!0))));var V=L.scalar||"any",Z=L.Ds||L.Ss;Z&&(U?(G["DenseMatrix,"+V]=(W,ee)=>F(W,ee,U,!1),G[V+", DenseMatrix"]=(W,ee)=>F(ee,W,U,!0),G["Array,"+V]=(W,ee)=>F(O(W),ee,U,!1).valueOf(),G[V+", Array"]=(W,ee)=>F(O(ee),W,U,!0).valueOf()):(G["DenseMatrix,"+V]=R.referToSelf(W=>(ee,ne)=>F(ee,ne,W,!1)),G[V+", DenseMatrix"]=R.referToSelf(W=>(ee,ne)=>F(ne,ee,W,!0)),G["Array,"+V]=R.referToSelf(W=>(ee,ne)=>F(O(ee),ne,W,!1).valueOf()),G[V+", Array"]=R.referToSelf(W=>(ee,ne)=>F(O(ne),ee,W,!0).valueOf())));var Y=L.sS!==void 0?L.sS:L.Ss;return U?(L.Ss&&(G["SparseMatrix,"+V]=(W,ee)=>L.Ss(W,ee,U,!1)),Y&&(G[V+", SparseMatrix"]=(W,ee)=>Y(ee,W,U,!0))):(L.Ss&&(G["SparseMatrix,"+V]=R.referToSelf(W=>(ee,ne)=>L.Ss(ee,ne,W,!1))),Y&&(G[V+", SparseMatrix"]=R.referToSelf(W=>(ee,ne)=>Y(ne,ee,W,!0)))),U&&U.signatures&&extend$1(G,U.signatures),G}}),name$4a="mod",dependencies$4a=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],createMod=factory(name$4a,dependencies$4a,_=>{var{typed:R,config:O,round:I,matrix:F,equalScalar:z,zeros:L,DenseMatrix:U,concat:q}=_,G=createFloor({typed:R,config:O,round:I,matrix:F,equalScalar:z,zeros:L,DenseMatrix:U}),V=createMatAlgo02xDS0({typed:R,equalScalar:z}),Z=createMatAlgo03xDSf({typed:R}),Y=createMatAlgo05xSfSf({typed:R,equalScalar:z}),W=createMatAlgo11xS0s({typed:R,equalScalar:z}),ee=createMatAlgo12xSfs({typed:R,DenseMatrix:U}),ne=createMatrixAlgorithmSuite({typed:R,matrix:F,concat:q});return R(name$4a,{"number, number":ie,"BigNumber, BigNumber":function(oe,le){return le.isZero()?oe:oe.sub(le.mul(G(oe.div(le))))},"bigint, bigint":function(oe,le){if(le===0n)return oe;if(oe<0){var ue=oe%le;return ue===0n?ue:ue+le}return oe%le},"Fraction, Fraction":function(oe,le){return le.equals(0)?oe:oe.sub(le.mul(G(oe.div(le))))}},ne({SS:Y,DS:Z,SD:V,Ss:W,sS:ee}));function ie(se,oe){return oe===0?se:se-oe*G(se/oe)}}),name$49="matAlgo01xDSid",dependencies$49=["typed"],createMatAlgo01xDSid=factory(name$49,dependencies$49,_=>{var{typed:R}=_;return function(I,F,z,L){var U=I._data,q=I._size,G=I._datatype||I.getDataType(),V=F._values,Z=F._index,Y=F._ptr,W=F._size,ee=F._datatype||F._data===void 0?F._datatype:F.getDataType();if(q.length!==W.length)throw new DimensionError(q.length,W.length);if(q[0]!==W[0]||q[1]!==W[1])throw new RangeError("Dimension mismatch. Matrix A ("+q+") must match Matrix B ("+W+")");if(!V)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var ne=q[0],ie=q[1],se=typeof G=="string"&&G!=="mixed"&&G===ee?G:void 0,oe=se?R.find(z,[se,se]):z,le,ue,ce=[];for(le=0;le<ne;le++)ce[le]=[];var fe=[],me=[];for(ue=0;ue<ie;ue++){for(var he=ue+1,pe=Y[ue],ge=Y[ue+1],_e=pe;_e<ge;_e++)le=Z[_e],fe[le]=L?oe(V[_e],U[le][ue]):oe(U[le][ue],V[_e]),me[le]=he;for(le=0;le<ne;le++)me[le]===he?ce[le][ue]=fe[le]:ce[le][ue]=U[le][ue]}return I.createDenseMatrix({data:ce,size:[ne,ie],datatype:G===I._datatype&&ee===F._datatype?se:void 0})}}),name$48="matAlgo04xSidSid",dependencies$48=["typed","equalScalar"],createMatAlgo04xSidSid=factory(name$48,dependencies$48,_=>{var{typed:R,equalScalar:O}=_;return function(F,z,L){var U=F._values,q=F._index,G=F._ptr,V=F._size,Z=F._datatype||F._data===void 0?F._datatype:F.getDataType(),Y=z._values,W=z._index,ee=z._ptr,ne=z._size,ie=z._datatype||z._data===void 0?z._datatype:z.getDataType();if(V.length!==ne.length)throw new DimensionError(V.length,ne.length);if(V[0]!==ne[0]||V[1]!==ne[1])throw new RangeError("Dimension mismatch. Matrix A ("+V+") must match Matrix B ("+ne+")");var se=V[0],oe=V[1],le,ue=O,ce=0,fe=L;typeof Z=="string"&&Z===ie&&Z!=="mixed"&&(le=Z,ue=R.find(O,[le,le]),ce=R.convert(0,le),fe=R.find(L,[le,le]));var me=U&&Y?[]:void 0,he=[],pe=[],ge=U&&Y?[]:void 0,_e=U&&Y?[]:void 0,ye=[],we=[],ve,$e,be,Ce,De;for($e=0;$e<oe;$e++){pe[$e]=he.length;var Ne=$e+1;for(Ce=G[$e],De=G[$e+1],be=Ce;be<De;be++)ve=q[be],he.push(ve),ye[ve]=Ne,ge&&(ge[ve]=U[be]);for(Ce=ee[$e],De=ee[$e+1],be=Ce;be<De;be++)if(ve=W[be],ye[ve]===Ne){if(ge){var Me=fe(ge[ve],Y[be]);ue(Me,ce)?ye[ve]=null:ge[ve]=Me}}else he.push(ve),we[ve]=Ne,_e&&(_e[ve]=Y[be]);if(ge&&_e)for(be=pe[$e];be<he.length;)ve=he[be],ye[ve]===Ne?(me[be]=ge[ve],be++):we[ve]===Ne?(me[be]=_e[ve],be++):he.splice(be,1)}return pe[oe]=he.length,F.createSparseMatrix({values:me,index:he,ptr:pe,size:[se,oe],datatype:Z===F._datatype&&ie===z._datatype?le:void 0})}}),name$47="matAlgo10xSids",dependencies$47=["typed","DenseMatrix"],createMatAlgo10xSids=factory(name$47,dependencies$47,_=>{var{typed:R,DenseMatrix:O}=_;return function(F,z,L,U){var q=F._values,G=F._index,V=F._ptr,Z=F._size,Y=F._datatype;if(!q)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var W=Z[0],ee=Z[1],ne,ie=L;typeof Y=="string"&&(ne=Y,z=R.convert(z,ne),ie=R.find(L,[ne,ne]));for(var se=[],oe=[],le=[],ue=0;ue<ee;ue++){for(var ce=ue+1,fe=V[ue],me=V[ue+1],he=fe;he<me;he++){var pe=G[he];oe[pe]=q[he],le[pe]=ce}for(var ge=0;ge<W;ge++)ue===0&&(se[ge]=[]),le[ge]===ce?se[ge][ue]=U?ie(z,oe[ge]):ie(oe[ge],z):se[ge][ue]=z}return new O({data:se,size:[W,ee],datatype:ne})}});function ArgumentsError(_,R,O,I){if(!(this instanceof ArgumentsError))throw new SyntaxError("Constructor must be called with the new operator");this.fn=_,this.count=R,this.min=O,this.max=I,this.message="Wrong number of arguments in function "+_+" ("+R+" provided, "+O+(I!=null?"-"+I:"")+" expected)",this.stack=new Error().stack}ArgumentsError.prototype=new Error;ArgumentsError.prototype.constructor=Error;ArgumentsError.prototype.name="ArgumentsError";ArgumentsError.prototype.isArgumentsError=!0;var name$46="gcd",dependencies$46=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],gcdTypes="number | BigNumber | Fraction | Matrix | Array",gcdManyTypesSignature="".concat(gcdTypes,", ").concat(gcdTypes,", ...").concat(gcdTypes);function is1d(_){return!_.some(R=>Array.isArray(R))}var createGcd=factory(name$46,dependencies$46,_=>{var{typed:R,matrix:O,config:I,round:F,equalScalar:z,zeros:L,BigNumber:U,DenseMatrix:q,concat:G}=_,V=createMod({typed:R,config:I,round:F,matrix:O,equalScalar:z,zeros:L,DenseMatrix:q,concat:G}),Z=createMatAlgo01xDSid({typed:R}),Y=createMatAlgo04xSidSid({typed:R,equalScalar:z}),W=createMatAlgo10xSids({typed:R,DenseMatrix:q}),ee=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:G});return R(name$46,{"number, number":ne,"BigNumber, BigNumber":ie,"Fraction, Fraction":(se,oe)=>se.gcd(oe)},ee({SS:Y,DS:Z,Ss:W}),{[gcdManyTypesSignature]:R.referToSelf(se=>(oe,le,ue)=>{for(var ce=se(oe,le),fe=0;fe<ue.length;fe++)ce=se(ce,ue[fe]);return ce}),Array:R.referToSelf(se=>oe=>{if(oe.length===1&&Array.isArray(oe[0])&&is1d(oe[0]))return se(...oe[0]);if(is1d(oe))return se(...oe);throw new ArgumentsError("gcd() supports only 1d matrices!")}),Matrix:R.referToSelf(se=>oe=>se(oe.toArray()))});function ne(se,oe){if(!isInteger$1(se)||!isInteger$1(oe))throw new Error("Parameters in function gcd must be integer numbers");for(var le;oe!==0;)le=V(se,oe),se=oe,oe=le;return se<0?-se:se}function ie(se,oe){if(!se.isInt()||!oe.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var le=new U(0);!oe.isZero();){var ue=V(se,oe);se=oe,oe=ue}return se.lt(le)?se.neg():se}}),name$45="matAlgo06xS0S0",dependencies$45=["typed","equalScalar"],createMatAlgo06xS0S0=factory(name$45,dependencies$45,_=>{var{typed:R,equalScalar:O}=_;return function(F,z,L){var U=F._values,q=F._size,G=F._datatype||F._data===void 0?F._datatype:F.getDataType(),V=z._values,Z=z._size,Y=z._datatype||z._data===void 0?z._datatype:z.getDataType();if(q.length!==Z.length)throw new DimensionError(q.length,Z.length);if(q[0]!==Z[0]||q[1]!==Z[1])throw new RangeError("Dimension mismatch. Matrix A ("+q+") must match Matrix B ("+Z+")");var W=q[0],ee=q[1],ne,ie=O,se=0,oe=L;typeof G=="string"&&G===Y&&G!=="mixed"&&(ne=G,ie=R.find(O,[ne,ne]),se=R.convert(0,ne),oe=R.find(L,[ne,ne]));for(var le=U&&V?[]:void 0,ue=[],ce=[],fe=le?[]:void 0,me=[],he=[],pe=0;pe<ee;pe++){ce[pe]=ue.length;var ge=pe+1;if(scatter(F,pe,me,fe,he,ge,ue,oe),scatter(z,pe,me,fe,he,ge,ue,oe),fe)for(var _e=ce[pe];_e<ue.length;){var ye=ue[_e];if(he[ye]===ge){var we=fe[ye];ie(we,se)?ue.splice(_e,1):(le.push(we),_e++)}else ue.splice(_e,1)}else for(var ve=ce[pe];ve<ue.length;){var $e=ue[ve];he[$e]!==ge?ue.splice(ve,1):ve++}}return ce[ee]=ue.length,F.createSparseMatrix({values:le,index:ue,ptr:ce,size:[W,ee],datatype:G===F._datatype&&Y===z._datatype?ne:void 0})}}),name$44="lcm",dependencies$44=["typed","matrix","equalScalar","concat"],createLcm=factory(name$44,dependencies$44,_=>{var{typed:R,matrix:O,equalScalar:I,concat:F}=_,z=createMatAlgo02xDS0({typed:R,equalScalar:I}),L=createMatAlgo06xS0S0({typed:R,equalScalar:I}),U=createMatAlgo11xS0s({typed:R,equalScalar:I}),q=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:F}),G="number | BigNumber | Fraction | Matrix | Array",V={};return V["".concat(G,", ").concat(G,", ...").concat(G)]=R.referToSelf(Y=>(W,ee,ne)=>{for(var ie=Y(W,ee),se=0;se<ne.length;se++)ie=Y(ie,ne[se]);return ie}),R(name$44,{"number, number":lcmNumber,"BigNumber, BigNumber":Z,"Fraction, Fraction":(Y,W)=>Y.lcm(W)},q({SS:L,DS:z,Ss:U}),V);function Z(Y,W){if(!Y.isInt()||!W.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(Y.isZero())return Y;if(W.isZero())return W;for(var ee=Y.times(W);!W.isZero();){var ne=W;W=Y.mod(ne),Y=ne}return ee.div(Y).abs()}});function promoteLogarithm(_,R,O,I){return function(F){if(F>0||O.predictable){if(F<=0)return NaN;var z=F.toString(16),L=z.substring(0,15);return _*(z.length-L.length)+R(+("0x"+L))}return I(F.toNumber())}}var name$43="log10",dependencies$43=["typed","config","Complex"],log16=log10Number(16),createLog10=factory(name$43,dependencies$43,_=>{var{typed:R,config:O,Complex:I}=_;function F(L){return L.log().div(Math.LN10)}function z(L){return F(new I(L,0))}return R(name$43,{number:function(U){return U>=0||O.predictable?log10Number(U):z(U)},bigint:promoteLogarithm(log16,log10Number,O,z),Complex:F,BigNumber:function(U){return!U.isNegative()||O.predictable?U.log():z(U.toNumber())},"Array | Matrix":R.referToSelf(L=>U=>deepMap(U,L))})}),name$42="log2",dependencies$42=["typed","config","Complex"],createLog2=factory(name$42,dependencies$42,_=>{var{typed:R,config:O,Complex:I}=_;function F(L){return z(new I(L,0))}return R(name$42,{number:function(U){return U>=0||O.predictable?log2Number(U):F(U)},bigint:promoteLogarithm(4,log2Number,O,F),Complex:z,BigNumber:function(U){return!U.isNegative()||O.predictable?U.log(2):F(U.toNumber())},"Array | Matrix":R.referToSelf(L=>U=>deepMap(U,L))});function z(L){var U=Math.sqrt(L.re*L.re+L.im*L.im);return new I(Math.log2?Math.log2(U):Math.log(U)/Math.LN2,Math.atan2(L.im,L.re)/Math.LN2)}}),name$41="multiplyScalar",dependencies$41=["typed"],createMultiplyScalar=factory(name$41,dependencies$41,_=>{var{typed:R}=_;return R("multiplyScalar",{"number, number":multiplyNumber,"Complex, Complex":function(I,F){return I.mul(F)},"BigNumber, BigNumber":function(I,F){return I.times(F)},"bigint, bigint":function(I,F){return I*F},"Fraction, Fraction":function(I,F){return I.mul(F)},"number | Fraction | BigNumber | Complex, Unit":(O,I)=>I.multiply(O),"Unit, number | Fraction | BigNumber | Complex | Unit":(O,I)=>O.multiply(I)})}),name$40="multiply",dependencies$40=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],createMultiply=factory(name$40,dependencies$40,_=>{var{typed:R,matrix:O,addScalar:I,multiplyScalar:F,equalScalar:z,dot:L}=_,U=createMatAlgo11xS0s({typed:R,equalScalar:z}),q=createMatAlgo14xDs({typed:R});function G(ce,fe){switch(ce.length){case 1:switch(fe.length){case 1:if(ce[0]!==fe[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(ce[0]!==fe[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+ce[0]+") must match Matrix rows ("+fe[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+fe.length+" dimensions)")}break;case 2:switch(fe.length){case 1:if(ce[1]!==fe[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+ce[1]+") must match Vector length ("+fe[0]+")");break;case 2:if(ce[1]!==fe[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+ce[1]+") must match Matrix B rows ("+fe[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+fe.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+ce.length+" dimensions)")}}function V(ce,fe,me){if(me===0)throw new Error("Cannot multiply two empty vectors");return L(ce,fe)}function Z(ce,fe){if(fe.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return Y(ce,fe)}function Y(ce,fe){var me=ce._data,he=ce._size,pe=ce._datatype||ce.getDataType(),ge=fe._data,_e=fe._size,ye=fe._datatype||fe.getDataType(),we=he[0],ve=_e[1],$e,be=I,Ce=F;pe&&ye&&pe===ye&&typeof pe=="string"&&pe!=="mixed"&&($e=pe,be=R.find(I,[$e,$e]),Ce=R.find(F,[$e,$e]));for(var De=[],Ne=0;Ne<ve;Ne++){for(var Me=Ce(me[0],ge[0][Ne]),Te=1;Te<we;Te++)Me=be(Me,Ce(me[Te],ge[Te][Ne]));De[Ne]=Me}return ce.createDenseMatrix({data:De,size:[ve],datatype:pe===ce._datatype&&ye===fe._datatype?$e:void 0})}var W=R("_multiplyMatrixVector",{"DenseMatrix, any":ne,"SparseMatrix, any":oe}),ee=R("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":ie,"DenseMatrix, SparseMatrix":se,"SparseMatrix, DenseMatrix":le,"SparseMatrix, SparseMatrix":ue});function ne(ce,fe){var me=ce._data,he=ce._size,pe=ce._datatype||ce.getDataType(),ge=fe._data,_e=fe._datatype||fe.getDataType(),ye=he[0],we=he[1],ve,$e=I,be=F;pe&&_e&&pe===_e&&typeof pe=="string"&&pe!=="mixed"&&(ve=pe,$e=R.find(I,[ve,ve]),be=R.find(F,[ve,ve]));for(var Ce=[],De=0;De<ye;De++){for(var Ne=me[De],Me=be(Ne[0],ge[0]),Te=1;Te<we;Te++)Me=$e(Me,be(Ne[Te],ge[Te]));Ce[De]=Me}return ce.createDenseMatrix({data:Ce,size:[ye],datatype:pe===ce._datatype&&_e===fe._datatype?ve:void 0})}function ie(ce,fe){var me=ce._data,he=ce._size,pe=ce._datatype||ce.getDataType(),ge=fe._data,_e=fe._size,ye=fe._datatype||fe.getDataType(),we=he[0],ve=he[1],$e=_e[1],be,Ce=I,De=F;pe&&ye&&pe===ye&&typeof pe=="string"&&pe!=="mixed"&&pe!=="mixed"&&(be=pe,Ce=R.find(I,[be,be]),De=R.find(F,[be,be]));for(var Ne=[],Me=0;Me<we;Me++){var Te=me[Me];Ne[Me]=[];for(var Re=0;Re<$e;Re++){for(var Se=De(Te[0],ge[0][Re]),ze=1;ze<ve;ze++)Se=Ce(Se,De(Te[ze],ge[ze][Re]));Ne[Me][Re]=Se}}return ce.createDenseMatrix({data:Ne,size:[we,$e],datatype:pe===ce._datatype&&ye===fe._datatype?be:void 0})}function se(ce,fe){var me=ce._data,he=ce._size,pe=ce._datatype||ce.getDataType(),ge=fe._values,_e=fe._index,ye=fe._ptr,we=fe._size,ve=fe._datatype||fe._data===void 0?fe._datatype:fe.getDataType();if(!ge)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var $e=he[0],be=we[1],Ce,De=I,Ne=F,Me=z,Te=0;pe&&ve&&pe===ve&&typeof pe=="string"&&pe!=="mixed"&&(Ce=pe,De=R.find(I,[Ce,Ce]),Ne=R.find(F,[Ce,Ce]),Me=R.find(z,[Ce,Ce]),Te=R.convert(0,Ce));for(var Re=[],Se=[],ze=[],Pe=fe.createSparseMatrix({values:Re,index:Se,ptr:ze,size:[$e,be],datatype:pe===ce._datatype&&ve===fe._datatype?Ce:void 0}),Qe=0;Qe<be;Qe++){ze[Qe]=Se.length;var Ze=ye[Qe],Le=ye[Qe+1];if(Le>Ze)for(var ke=0,Ge=0;Ge<$e;Ge++){for(var Ke=Ge+1,He=void 0,st=Ze;st<Le;st++){var Ae=_e[st];ke!==Ke?(He=Ne(me[Ge][Ae],ge[st]),ke=Ke):He=De(He,Ne(me[Ge][Ae],ge[st]))}ke===Ke&&!Me(He,Te)&&(Se.push(Ge),Re.push(He))}}return ze[be]=Se.length,Pe}function oe(ce,fe){var me=ce._values,he=ce._index,pe=ce._ptr,ge=ce._datatype||ce._data===void 0?ce._datatype:ce.getDataType();if(!me)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var _e=fe._data,ye=fe._datatype||fe.getDataType(),we=ce._size[0],ve=fe._size[0],$e=[],be=[],Ce=[],De,Ne=I,Me=F,Te=z,Re=0;ge&&ye&&ge===ye&&typeof ge=="string"&&ge!=="mixed"&&(De=ge,Ne=R.find(I,[De,De]),Me=R.find(F,[De,De]),Te=R.find(z,[De,De]),Re=R.convert(0,De));var Se=[],ze=[];Ce[0]=0;for(var Pe=0;Pe<ve;Pe++){var Qe=_e[Pe];if(!Te(Qe,Re))for(var Ze=pe[Pe],Le=pe[Pe+1],ke=Ze;ke<Le;ke++){var Ge=he[ke];ze[Ge]?Se[Ge]=Ne(Se[Ge],Me(Qe,me[ke])):(ze[Ge]=!0,be.push(Ge),Se[Ge]=Me(Qe,me[ke]))}}for(var Ke=be.length,He=0;He<Ke;He++){var st=be[He];$e[He]=Se[st]}return Ce[1]=be.length,ce.createSparseMatrix({values:$e,index:be,ptr:Ce,size:[we,1],datatype:ge===ce._datatype&&ye===fe._datatype?De:void 0})}function le(ce,fe){var me=ce._values,he=ce._index,pe=ce._ptr,ge=ce._datatype||ce._data===void 0?ce._datatype:ce.getDataType();if(!me)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var _e=fe._data,ye=fe._datatype||fe.getDataType(),we=ce._size[0],ve=fe._size[0],$e=fe._size[1],be,Ce=I,De=F,Ne=z,Me=0;ge&&ye&&ge===ye&&typeof ge=="string"&&ge!=="mixed"&&(be=ge,Ce=R.find(I,[be,be]),De=R.find(F,[be,be]),Ne=R.find(z,[be,be]),Me=R.convert(0,be));for(var Te=[],Re=[],Se=[],ze=ce.createSparseMatrix({values:Te,index:Re,ptr:Se,size:[we,$e],datatype:ge===ce._datatype&&ye===fe._datatype?be:void 0}),Pe=[],Qe=[],Ze=0;Ze<$e;Ze++){Se[Ze]=Re.length;for(var Le=Ze+1,ke=0;ke<ve;ke++){var Ge=_e[ke][Ze];if(!Ne(Ge,Me))for(var Ke=pe[ke],He=pe[ke+1],st=Ke;st<He;st++){var Ae=he[st];Qe[Ae]!==Le?(Qe[Ae]=Le,Re.push(Ae),Pe[Ae]=De(Ge,me[st])):Pe[Ae]=Ce(Pe[Ae],De(Ge,me[st]))}}for(var tt=Se[Ze],rt=Re.length,We=tt;We<rt;We++){var qe=Re[We];Te[We]=Pe[qe]}}return Se[$e]=Re.length,ze}function ue(ce,fe){var me=ce._values,he=ce._index,pe=ce._ptr,ge=ce._datatype||ce._data===void 0?ce._datatype:ce.getDataType(),_e=fe._values,ye=fe._index,we=fe._ptr,ve=fe._datatype||fe._data===void 0?fe._datatype:fe.getDataType(),$e=ce._size[0],be=fe._size[1],Ce=me&&_e,De,Ne=I,Me=F;ge&&ve&&ge===ve&&typeof ge=="string"&&ge!=="mixed"&&(De=ge,Ne=R.find(I,[De,De]),Me=R.find(F,[De,De]));for(var Te=Ce?[]:void 0,Re=[],Se=[],ze=ce.createSparseMatrix({values:Te,index:Re,ptr:Se,size:[$e,be],datatype:ge===ce._datatype&&ve===fe._datatype?De:void 0}),Pe=Ce?[]:void 0,Qe=[],Ze,Le,ke,Ge,Ke,He,st,Ae,tt=0;tt<be;tt++){Se[tt]=Re.length;var rt=tt+1;for(Ke=we[tt],He=we[tt+1],Ge=Ke;Ge<He;Ge++)if(Ae=ye[Ge],Ce)for(Le=pe[Ae],ke=pe[Ae+1],Ze=Le;Ze<ke;Ze++)st=he[Ze],Qe[st]!==rt?(Qe[st]=rt,Re.push(st),Pe[st]=Me(_e[Ge],me[Ze])):Pe[st]=Ne(Pe[st],Me(_e[Ge],me[Ze]));else for(Le=pe[Ae],ke=pe[Ae+1],Ze=Le;Ze<ke;Ze++)st=he[Ze],Qe[st]!==rt&&(Qe[st]=rt,Re.push(st));if(Ce)for(var We=Se[tt],qe=Re.length,nt=We;nt<qe;nt++){var ft=Re[nt];Te[nt]=Pe[ft]}}return Se[be]=Re.length,ze}return R(name$40,F,{"Array, Array":R.referTo("Matrix, Matrix",ce=>(fe,me)=>{G(arraySize(fe),arraySize(me));var he=ce(O(fe),O(me));return isMatrix(he)?he.valueOf():he}),"Matrix, Matrix":function(fe,me){var he=fe.size(),pe=me.size();return G(he,pe),he.length===1?pe.length===1?V(fe,me,he[0]):Z(fe,me):pe.length===1?W(fe,me):ee(fe,me)},"Matrix, Array":R.referTo("Matrix,Matrix",ce=>(fe,me)=>ce(fe,O(me))),"Array, Matrix":R.referToSelf(ce=>(fe,me)=>ce(O(fe,me.storage()),me)),"SparseMatrix, any":function(fe,me){return U(fe,me,F,!1)},"DenseMatrix, any":function(fe,me){return q(fe,me,F,!1)},"any, SparseMatrix":function(fe,me){return U(me,fe,F,!0)},"any, DenseMatrix":function(fe,me){return q(me,fe,F,!0)},"Array, any":function(fe,me){return q(O(fe),me,F,!1).valueOf()},"any, Array":function(fe,me){return q(O(me),fe,F,!0).valueOf()},"any, any":F,"any, any, ...any":R.referToSelf(ce=>(fe,me,he)=>{for(var pe=ce(fe,me),ge=0;ge<he.length;ge++)pe=ce(pe,he[ge]);return pe})})}),name$3$="nthRoot",dependencies$3$=["typed","matrix","equalScalar","BigNumber","concat"],createNthRoot=factory(name$3$,dependencies$3$,_=>{var{typed:R,matrix:O,equalScalar:I,BigNumber:F,concat:z}=_,L=createMatAlgo01xDSid({typed:R}),U=createMatAlgo02xDS0({typed:R,equalScalar:I}),q=createMatAlgo06xS0S0({typed:R,equalScalar:I}),G=createMatAlgo11xS0s({typed:R,equalScalar:I}),V=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:z});function Z(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return R(name$3$,{number:nthRootNumber,"number, number":nthRootNumber,BigNumber:W=>Y(W,new F(2)),"BigNumber, BigNumber":Y,Complex:Z,"Complex, number":Z,Array:R.referTo("DenseMatrix,number",W=>ee=>W(O(ee),2).valueOf()),DenseMatrix:R.referTo("DenseMatrix,number",W=>ee=>W(ee,2)),SparseMatrix:R.referTo("SparseMatrix,number",W=>ee=>W(ee,2)),"SparseMatrix, SparseMatrix":R.referToSelf(W=>(ee,ne)=>{if(ne.density()===1)return q(ee,ne,W);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":R.referToSelf(W=>(ee,ne)=>{if(ne.density()===1)return L(ee,ne,W,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":R.referTo("DenseMatrix,SparseMatrix",W=>(ee,ne)=>W(O(ee),ne)),"number | BigNumber, SparseMatrix":R.referToSelf(W=>(ee,ne)=>{if(ne.density()===1)return G(ne,ee,W,!0);throw new Error("Root must be non-zero")})},V({scalar:"number | BigNumber",SD:U,Ss:G,sS:!1}));function Y(W,ee){var ne=F.precision,ie=F.clone({precision:ne+2}),se=new F(0),oe=new ie(1),le=ee.isNegative();if(le&&(ee=ee.neg()),ee.isZero())throw new Error("Root must be non-zero");if(W.isNegative()&&!ee.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(W.isZero())return le?new ie(1/0):0;if(!W.isFinite())return le?se:W;var ue=W.abs().pow(oe.div(ee));return ue=W.isNeg()?ue.neg():ue,new F((le?oe.div(ue):ue).toPrecision(ne))}}),name$3_="sign",dependencies$3_=["typed","BigNumber","Fraction","complex"],createSign=factory(name$3_,dependencies$3_,_=>{var{typed:R,BigNumber:O,complex:I,Fraction:F}=_;return R(name$3_,{number:signNumber,Complex:function(L){return L.im===0?I(signNumber(L.re)):L.sign()},BigNumber:function(L){return new O(L.cmp(0))},bigint:function(L){return L>0n?1n:L<0n?-1n:0n},Fraction:function(L){return L.n===0n?new F(0):new F(L.s)},"Array | Matrix":R.referToSelf(z=>L=>deepMap(L,z,!0)),Unit:R.referToSelf(z=>L=>{if(!L._isDerived()&&L.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return R.find(z,L.valueType())(L.value)})})}),name$3Z="sqrt",dependencies$3Z=["config","typed","Complex"],createSqrt=factory(name$3Z,dependencies$3Z,_=>{var{config:R,typed:O,Complex:I}=_;return O("sqrt",{number:F,Complex:function(L){return L.sqrt()},BigNumber:function(L){return!L.isNegative()||R.predictable?L.sqrt():F(L.toNumber())},Unit:function(L){return L.pow(.5)}});function F(z){return isNaN(z)?NaN:z>=0||R.predictable?Math.sqrt(z):new I(z,0).sqrt()}}),name$3Y="square",dependencies$3Y=["typed"],createSquare=factory(name$3Y,dependencies$3Y,_=>{var{typed:R}=_;return R(name$3Y,{number:squareNumber,Complex:function(I){return I.mul(I)},BigNumber:function(I){return I.times(I)},bigint:function(I){return I*I},Fraction:function(I){return I.mul(I)},Unit:function(I){return I.pow(2)}})}),name$3X="subtract",dependencies$3X=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],createSubtract=factory(name$3X,dependencies$3X,_=>{var{typed:R,matrix:O,equalScalar:I,subtractScalar:F,unaryMinus:z,DenseMatrix:L,concat:U}=_,q=createMatAlgo01xDSid({typed:R}),G=createMatAlgo03xDSf({typed:R}),V=createMatAlgo05xSfSf({typed:R,equalScalar:I}),Z=createMatAlgo10xSids({typed:R,DenseMatrix:L}),Y=createMatAlgo12xSfs({typed:R,DenseMatrix:L}),W=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:U});return R(name$3X,{"any, any":F},W({elop:F,SS:V,DS:q,SD:G,Ss:Y,sS:Z}))}),name$3W="xgcd",dependencies$3W=["typed","config","matrix","BigNumber"],createXgcd=factory(name$3W,dependencies$3W,_=>{var{typed:R,config:O,matrix:I,BigNumber:F}=_;return R(name$3W,{"number, number":function(U,q){var G=xgcdNumber(U,q);return O.matrix==="Array"?G:I(G)},"BigNumber, BigNumber":z});function z(L,U){var q,G,V,Z=new F(0),Y=new F(1),W=Z,ee=Y,ne=Y,ie=Z;if(!L.isInt()||!U.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!U.isZero();)G=L.div(U).floor(),V=L.mod(U),q=W,W=ee.minus(G.times(W)),ee=q,q=ne,ne=ie.minus(G.times(ne)),ie=q,L=U,U=V;var se;return L.lt(Z)?se=[L.neg(),ee.neg(),ie.neg()]:se=[L,L.isZero()?0:ee,ie],O.matrix==="Array"?se:I(se)}}),name$3V="invmod",dependencies$3V=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],createInvmod=factory(name$3V,dependencies$3V,_=>{var{typed:R,config:O,BigNumber:I,xgcd:F,equal:z,smaller:L,mod:U,add:q,isInteger:G}=_;return R(name$3V,{"number, number":V,"BigNumber, BigNumber":V});function V(Z,Y){if(!G(Z)||!G(Y))throw new Error("Parameters in function invmod must be integer numbers");if(Z=U(Z,Y),z(Y,0))throw new Error("Divisor must be non zero");var W=F(Z,Y);W=W.valueOf();var[ee,ne]=W;return z(ee,I(1))?(ne=U(ne,Y),L(ne,I(0))&&(ne=q(ne,Y)),ne):NaN}}),name$3U="matAlgo09xS0Sf",dependencies$3U=["typed","equalScalar"],createMatAlgo09xS0Sf=factory(name$3U,dependencies$3U,_=>{var{typed:R,equalScalar:O}=_;return function(F,z,L){var U=F._values,q=F._index,G=F._ptr,V=F._size,Z=F._datatype||F._data===void 0?F._datatype:F.getDataType(),Y=z._values,W=z._index,ee=z._ptr,ne=z._size,ie=z._datatype||z._data===void 0?z._datatype:z.getDataType();if(V.length!==ne.length)throw new DimensionError(V.length,ne.length);if(V[0]!==ne[0]||V[1]!==ne[1])throw new RangeError("Dimension mismatch. Matrix A ("+V+") must match Matrix B ("+ne+")");var se=V[0],oe=V[1],le,ue=O,ce=0,fe=L;typeof Z=="string"&&Z===ie&&Z!=="mixed"&&(le=Z,ue=R.find(O,[le,le]),ce=R.convert(0,le),fe=R.find(L,[le,le]));var me=U&&Y?[]:void 0,he=[],pe=[],ge=me?[]:void 0,_e=[],ye,we,ve,$e,be;for(we=0;we<oe;we++){pe[we]=he.length;var Ce=we+1;if(ge)for($e=ee[we],be=ee[we+1],ve=$e;ve<be;ve++)ye=W[ve],_e[ye]=Ce,ge[ye]=Y[ve];for($e=G[we],be=G[we+1],ve=$e;ve<be;ve++)if(ye=q[ve],ge){var De=_e[ye]===Ce?ge[ye]:ce,Ne=fe(U[ve],De);ue(Ne,ce)||(he.push(ye),me.push(Ne))}else he.push(ye)}return pe[oe]=he.length,F.createSparseMatrix({values:me,index:he,ptr:pe,size:[se,oe],datatype:Z===F._datatype&&ie===z._datatype?le:void 0})}}),name$3T="dotMultiply",dependencies$3T=["typed","matrix","equalScalar","multiplyScalar","concat"],createDotMultiply=factory(name$3T,dependencies$3T,_=>{var{typed:R,matrix:O,equalScalar:I,multiplyScalar:F,concat:z}=_,L=createMatAlgo02xDS0({typed:R,equalScalar:I}),U=createMatAlgo09xS0Sf({typed:R,equalScalar:I}),q=createMatAlgo11xS0s({typed:R,equalScalar:I}),G=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:z});return R(name$3T,G({elop:F,SS:U,DS:L,Ss:q}))});function bitAndBigNumber(_,R){if(_.isFinite()&&!_.isInteger()||R.isFinite()&&!R.isInteger())throw new Error("Integers expected in function bitAnd");var O=_.constructor;if(_.isNaN()||R.isNaN())return new O(NaN);if(_.isZero()||R.eq(-1)||_.eq(R))return _;if(R.isZero()||_.eq(-1))return R;if(!_.isFinite()||!R.isFinite()){if(!_.isFinite()&&!R.isFinite())return _.isNegative()===R.isNegative()?_:new O(0);if(!_.isFinite())return R.isNegative()?_:_.isNegative()?new O(0):R;if(!R.isFinite())return _.isNegative()?R:R.isNegative()?new O(0):_}return bitwise(_,R,function(I,F){return I&F})}function bitNotBigNumber(_){if(_.isFinite()&&!_.isInteger())throw new Error("Integer expected in function bitNot");var R=_.constructor,O=R.precision;R.config({precision:1e9});var I=_.plus(new R(1));return I.s=-I.s||null,R.config({precision:O}),I}function bitOrBigNumber(_,R){if(_.isFinite()&&!_.isInteger()||R.isFinite()&&!R.isInteger())throw new Error("Integers expected in function bitOr");var O=_.constructor;if(_.isNaN()||R.isNaN())return new O(NaN);var I=new O(-1);return _.isZero()||R.eq(I)||_.eq(R)?R:R.isZero()||_.eq(I)?_:!_.isFinite()||!R.isFinite()?!_.isFinite()&&!_.isNegative()&&R.isNegative()||_.isNegative()&&!R.isNegative()&&!R.isFinite()?I:_.isNegative()&&R.isNegative()?_.isFinite()?_:R:_.isFinite()?R:_:bitwise(_,R,function(F,z){return F|z})}function bitwise(_,R,O){var I=_.constructor,F,z,L=+(_.s<0),U=+(R.s<0);if(L){F=decCoefficientToBinaryString(bitNotBigNumber(_));for(var q=0;q<F.length;++q)F[q]^=1}else F=decCoefficientToBinaryString(_);if(U){z=decCoefficientToBinaryString(bitNotBigNumber(R));for(var G=0;G<z.length;++G)z[G]^=1}else z=decCoefficientToBinaryString(R);var V,Z,Y;F.length<=z.length?(V=F,Z=z,Y=L):(V=z,Z=F,Y=U);var W=V.length,ee=Z.length,ne=O(L,U)^1,ie=new I(ne^1),se=new I(1),oe=new I(2),le=I.precision;for(I.config({precision:1e9});W>0;)O(V[--W],Z[--ee])===ne&&(ie=ie.plus(se)),se=se.times(oe);for(;ee>0;)O(Y,Z[--ee])===ne&&(ie=ie.plus(se)),se=se.times(oe);return I.config({precision:le}),ne===0&&(ie.s=-ie.s),ie}function decCoefficientToBinaryString(_){for(var R=_.d,O=R[0]+"",I=1;I<R.length;++I){for(var F=R[I]+"",z=7-F.length;z--;)F="0"+F;O+=F}for(var L=O.length;O.charAt(L)==="0";)L--;var U=_.e,q=O.slice(0,L+1||1),G=q.length;if(U>0)if(++U>G)for(U-=G;U--;)q+="0";else U<G&&(q=q.slice(0,U)+"."+q.slice(U));for(var V=[0],Z=0;Z<q.length;){for(var Y=V.length;Y--;)V[Y]*=10;V[0]+=parseInt(q.charAt(Z++));for(var W=0;W<V.length;++W)V[W]>1&&((V[W+1]===null||V[W+1]===void 0)&&(V[W+1]=0),V[W+1]+=V[W]>>1,V[W]&=1)}return V.reverse()}function bitXor$1(_,R){if(_.isFinite()&&!_.isInteger()||R.isFinite()&&!R.isInteger())throw new Error("Integers expected in function bitXor");var O=_.constructor;if(_.isNaN()||R.isNaN())return new O(NaN);if(_.isZero())return R;if(R.isZero())return _;if(_.eq(R))return new O(0);var I=new O(-1);return _.eq(I)?bitNotBigNumber(R):R.eq(I)?bitNotBigNumber(_):!_.isFinite()||!R.isFinite()?!_.isFinite()&&!R.isFinite()?I:new O(_.isNegative()===R.isNegative()?1/0:-1/0):bitwise(_,R,function(F,z){return F^z})}function leftShiftBigNumber(_,R){if(_.isFinite()&&!_.isInteger()||R.isFinite()&&!R.isInteger())throw new Error("Integers expected in function leftShift");var O=_.constructor;return _.isNaN()||R.isNaN()||R.isNegative()&&!R.isZero()?new O(NaN):_.isZero()||R.isZero()?_:!_.isFinite()&&!R.isFinite()?new O(NaN):R.lt(55)?_.times(Math.pow(2,R.toNumber())+""):_.times(new O(2).pow(R))}function rightArithShiftBigNumber(_,R){if(_.isFinite()&&!_.isInteger()||R.isFinite()&&!R.isInteger())throw new Error("Integers expected in function rightArithShift");var O=_.constructor;return _.isNaN()||R.isNaN()||R.isNegative()&&!R.isZero()?new O(NaN):_.isZero()||R.isZero()?_:R.isFinite()?R.lt(55)?_.div(Math.pow(2,R.toNumber())+"").floor():_.div(new O(2).pow(R)).floor():_.isNegative()?new O(-1):_.isFinite()?new O(0):new O(NaN)}var name$3S="bitAnd",dependencies$3S=["typed","matrix","equalScalar","concat"],createBitAnd=factory(name$3S,dependencies$3S,_=>{var{typed:R,matrix:O,equalScalar:I,concat:F}=_,z=createMatAlgo02xDS0({typed:R,equalScalar:I}),L=createMatAlgo06xS0S0({typed:R,equalScalar:I}),U=createMatAlgo11xS0s({typed:R,equalScalar:I}),q=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:F});return R(name$3S,{"number, number":bitAndNumber,"BigNumber, BigNumber":bitAndBigNumber,"bigint, bigint":(G,V)=>G&V},q({SS:L,DS:z,Ss:U}))}),name$3R="bitNot",dependencies$3R=["typed"],createBitNot=factory(name$3R,dependencies$3R,_=>{var{typed:R}=_;return R(name$3R,{number:bitNotNumber,BigNumber:bitNotBigNumber,bigint:O=>~O,"Array | Matrix":R.referToSelf(O=>I=>deepMap(I,O))})}),name$3Q="bitOr",dependencies$3Q=["typed","matrix","equalScalar","DenseMatrix","concat"],createBitOr=factory(name$3Q,dependencies$3Q,_=>{var{typed:R,matrix:O,equalScalar:I,DenseMatrix:F,concat:z}=_,L=createMatAlgo01xDSid({typed:R}),U=createMatAlgo04xSidSid({typed:R,equalScalar:I}),q=createMatAlgo10xSids({typed:R,DenseMatrix:F}),G=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:z});return R(name$3Q,{"number, number":bitOrNumber,"BigNumber, BigNumber":bitOrBigNumber,"bigint, bigint":(V,Z)=>V|Z},G({SS:U,DS:L,Ss:q}))}),name$3P="matAlgo07xSSf",dependencies$3P=["typed","SparseMatrix"],createMatAlgo07xSSf=factory(name$3P,dependencies$3P,_=>{var{typed:R,SparseMatrix:O}=_;return function(z,L,U){var q=z._size,G=z._datatype||z._data===void 0?z._datatype:z.getDataType(),V=L._size,Z=L._datatype||L._data===void 0?L._datatype:L.getDataType();if(q.length!==V.length)throw new DimensionError(q.length,V.length);if(q[0]!==V[0]||q[1]!==V[1])throw new RangeError("Dimension mismatch. Matrix A ("+q+") must match Matrix B ("+V+")");var Y=q[0],W=q[1],ee,ne=0,ie=U;typeof G=="string"&&G===Z&&G!=="mixed"&&(ee=G,ne=R.convert(0,ee),ie=R.find(U,[ee,ee]));for(var se=[],oe=[],le=new Array(W+1).fill(0),ue=[],ce=[],fe=[],me=[],he=0;he<W;he++){var pe=he+1,ge=0;I(z,he,fe,ue,pe),I(L,he,me,ce,pe);for(var _e=0;_e<Y;_e++){var ye=fe[_e]===pe?ue[_e]:ne,we=me[_e]===pe?ce[_e]:ne,ve=ie(ye,we);ve!==0&&ve!==!1&&(oe.push(_e),se.push(ve),ge++)}le[he+1]=le[he]+ge}return new O({values:se,index:oe,ptr:le,size:[Y,W],datatype:G===z._datatype&&Z===L._datatype?ee:void 0})};function I(F,z,L,U,q){for(var G=F._values,V=F._index,Z=F._ptr,Y=Z[z],W=Z[z+1];Y<W;Y++){var ee=V[Y];L[ee]=q,U[ee]=G[Y]}}}),name$3O="bitXor",dependencies$3O=["typed","matrix","DenseMatrix","concat","SparseMatrix"],createBitXor=factory(name$3O,dependencies$3O,_=>{var{typed:R,matrix:O,DenseMatrix:I,concat:F,SparseMatrix:z}=_,L=createMatAlgo03xDSf({typed:R}),U=createMatAlgo07xSSf({typed:R,SparseMatrix:z}),q=createMatAlgo12xSfs({typed:R,DenseMatrix:I}),G=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:F});return R(name$3O,{"number, number":bitXorNumber,"BigNumber, BigNumber":bitXor$1,"bigint, bigint":(V,Z)=>V^Z},G({SS:U,DS:L,Ss:q}))}),name$3N="arg",dependencies$3N=["typed"],createArg=factory(name$3N,dependencies$3N,_=>{var{typed:R}=_;return R(name$3N,{number:function(I){return Math.atan2(0,I)},BigNumber:function(I){return I.constructor.atan2(0,I)},Complex:function(I){return I.arg()},"Array | Matrix":R.referToSelf(O=>I=>deepMap(I,O))})}),name$3M="conj",dependencies$3M=["typed"],createConj=factory(name$3M,dependencies$3M,_=>{var{typed:R}=_;return R(name$3M,{"number | BigNumber | Fraction":O=>O,Complex:O=>O.conjugate(),Unit:R.referToSelf(O=>I=>new I.constructor(O(I.toNumeric()),I.formatUnits())),"Array | Matrix":R.referToSelf(O=>I=>deepMap(I,O))})}),name$3L="im",dependencies$3L=["typed"],createIm=factory(name$3L,dependencies$3L,_=>{var{typed:R}=_;return R(name$3L,{number:()=>0,"BigNumber | Fraction":O=>O.mul(0),Complex:O=>O.im,"Array | Matrix":R.referToSelf(O=>I=>deepMap(I,O))})}),name$3K="re",dependencies$3K=["typed"],createRe=factory(name$3K,dependencies$3K,_=>{var{typed:R}=_;return R(name$3K,{"number | BigNumber | Fraction":O=>O,Complex:O=>O.re,"Array | Matrix":R.referToSelf(O=>I=>deepMap(I,O))})}),name$3J="not",dependencies$3J=["typed"],createNot=factory(name$3J,dependencies$3J,_=>{var{typed:R}=_;return R(name$3J,{"null | undefined":()=>!0,number:notNumber,Complex:function(I){return I.re===0&&I.im===0},BigNumber:function(I){return I.isZero()||I.isNaN()},bigint:O=>!O,Unit:R.referToSelf(O=>I=>R.find(O,I.valueType())(I.value)),"Array | Matrix":R.referToSelf(O=>I=>deepMap(I,O))})}),name$3I="nullish",dependencies$3I=["typed","matrix","size","flatten","deepEqual"],createNullish=factory(name$3I,dependencies$3I,_=>{var{typed:R,matrix:O,size:I,flatten:F,deepEqual:z}=_,L=createMatAlgo03xDSf({typed:R}),U=createMatAlgo14xDs({typed:R}),q=createMatAlgo13xDD({typed:R});return R(name$3I,{"number|bigint|Complex|BigNumber|Fraction|Unit|string|boolean|SparseMatrix, any":(G,V)=>G,"null, any":(G,V)=>V,"undefined, any":(G,V)=>V,"SparseMatrix, Array | Matrix":(G,V)=>{var Z=I(G),Y=I(V);if(z(Z,Y))return G;throw new DimensionError(Z,Y)},"DenseMatrix, DenseMatrix":R.referToSelf(G=>(V,Z)=>q(V,Z,G)),"DenseMatrix, SparseMatrix":R.referToSelf(G=>(V,Z)=>L(V,Z,G,!1)),"DenseMatrix, Array":R.referToSelf(G=>(V,Z)=>q(V,O(Z),G)),"DenseMatrix, any":R.referToSelf(G=>(V,Z)=>U(V,Z,G,!1)),"Array, Array":R.referToSelf(G=>(V,Z)=>q(O(V),O(Z),G).valueOf()),"Array, DenseMatrix":R.referToSelf(G=>(V,Z)=>q(O(V),Z,G)),"Array, SparseMatrix":R.referToSelf(G=>(V,Z)=>L(O(V),Z,G,!1)),"Array, any":R.referToSelf(G=>(V,Z)=>U(O(V),Z,G,!1).valueOf())})}),name$3H="or",dependencies$3H=["typed","matrix","equalScalar","DenseMatrix","concat"],createOr=factory(name$3H,dependencies$3H,_=>{var{typed:R,matrix:O,equalScalar:I,DenseMatrix:F,concat:z}=_,L=createMatAlgo03xDSf({typed:R}),U=createMatAlgo05xSfSf({typed:R,equalScalar:I}),q=createMatAlgo12xSfs({typed:R,DenseMatrix:F}),G=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:z});return R(name$3H,{"number, number":orNumber,"Complex, Complex":function(Z,Y){return Z.re!==0||Z.im!==0||Y.re!==0||Y.im!==0},"BigNumber, BigNumber":function(Z,Y){return!Z.isZero()&&!Z.isNaN()||!Y.isZero()&&!Y.isNaN()},"bigint, bigint":orNumber,"Unit, Unit":R.referToSelf(V=>(Z,Y)=>V(Z.value||0,Y.value||0))},G({SS:U,DS:L,Ss:q}))}),name$3G="xor",dependencies$3G=["typed","matrix","DenseMatrix","concat","SparseMatrix"],createXor=factory(name$3G,dependencies$3G,_=>{var{typed:R,matrix:O,DenseMatrix:I,concat:F,SparseMatrix:z}=_,L=createMatAlgo03xDSf({typed:R}),U=createMatAlgo07xSSf({typed:R,SparseMatrix:z}),q=createMatAlgo12xSfs({typed:R,DenseMatrix:I}),G=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:F});return R(name$3G,{"number, number":xorNumber,"Complex, Complex":function(Z,Y){return(Z.re!==0||Z.im!==0)!=(Y.re!==0||Y.im!==0)},"bigint, bigint":xorNumber,"BigNumber, BigNumber":function(Z,Y){return(!Z.isZero()&&!Z.isNaN())!=(!Y.isZero()&&!Y.isNaN())},"Unit, Unit":R.referToSelf(V=>(Z,Y)=>V(Z.value||0,Y.value||0))},G({SS:U,DS:L,Ss:q}))}),name$3F="concat",dependencies$3F=["typed","matrix","isInteger"],createConcat=factory(name$3F,dependencies$3F,_=>{var{typed:R,matrix:O,isInteger:I}=_;return R(name$3F,{"...Array | Matrix | number | BigNumber":function(z){var L,U=z.length,q=-1,G,V=!1,Z=[];for(L=0;L<U;L++){var Y=z[L];if(isMatrix(Y)&&(V=!0),isNumber$1(Y)||isBigNumber(Y)){if(L!==U-1)throw new Error("Dimension must be specified as last argument");if(G=q,q=Y.valueOf(),!I(q))throw new TypeError("Integer number expected for dimension");if(q<0||L>0&&q>G)throw new IndexError(q,G+1)}else{var W=clone$3(Y).valueOf(),ee=arraySize(W);if(Z[L]=W,G=q,q=ee.length-1,L>0&&q!==G)throw new DimensionError(G+1,q+1)}}if(Z.length===0)throw new SyntaxError("At least one matrix expected");for(var ne=Z.shift();Z.length;)ne=concat$1(ne,Z.shift(),q);return V?O(ne):ne},"...string":function(z){return z.join("")}})}),name$3E="column",dependencies$3E=["typed","Index","matrix","range"],createColumn=factory(name$3E,dependencies$3E,_=>{var{typed:R,Index:O,matrix:I,range:F}=_;return R(name$3E,{"Matrix, number":z,"Array, number":function(U,q){return z(I(clone$3(U)),q).valueOf()}});function z(L,U){if(L.size().length!==2)throw new Error("Only two dimensional matrix is supported");validateIndex(U,L.size()[1]);var q=F(0,L.size()[0]),G=new O(q,[U]),V=L.subset(G);return isMatrix(V)?V:I([[V]])}}),name$3D="count",dependencies$3D=["typed","size","prod"],createCount=factory(name$3D,dependencies$3D,_=>{var{typed:R,size:O,prod:I}=_;return R(name$3D,{string:function(z){return z.length},"Matrix | Array":function(z){return I(O(z))}})}),name$3C="cross",dependencies$3C=["typed","matrix","subtract","multiply"],createCross=factory(name$3C,dependencies$3C,_=>{var{typed:R,matrix:O,subtract:I,multiply:F}=_;return R(name$3C,{"Matrix, Matrix":function(U,q){return O(z(U.toArray(),q.toArray()))},"Matrix, Array":function(U,q){return O(z(U.toArray(),q))},"Array, Matrix":function(U,q){return O(z(U,q.toArray()))},"Array, Array":z});function z(L,U){var q=Math.max(arraySize(L).length,arraySize(U).length);L=squeeze$1(L),U=squeeze$1(U);var G=arraySize(L),V=arraySize(U);if(G.length!==1||V.length!==1||G[0]!==3||V[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+G.join(", ")+"], B = ["+V.join(", ")+"])");var Z=[I(F(L[1],U[2]),F(L[2],U[1])),I(F(L[2],U[0]),F(L[0],U[2])),I(F(L[0],U[1]),F(L[1],U[0]))];return q>1?[Z]:Z}}),name$3B="diag",dependencies$3B=["typed","matrix","DenseMatrix","SparseMatrix"],createDiag=factory(name$3B,dependencies$3B,_=>{var{typed:R,matrix:O,DenseMatrix:I,SparseMatrix:F}=_;return R(name$3B,{Array:function(G){return z(G,0,arraySize(G),null)},"Array, number":function(G,V){return z(G,V,arraySize(G),null)},"Array, BigNumber":function(G,V){return z(G,V.toNumber(),arraySize(G),null)},"Array, string":function(G,V){return z(G,0,arraySize(G),V)},"Array, number, string":function(G,V,Z){return z(G,V,arraySize(G),Z)},"Array, BigNumber, string":function(G,V,Z){return z(G,V.toNumber(),arraySize(G),Z)},Matrix:function(G){return z(G,0,G.size(),G.storage())},"Matrix, number":function(G,V){return z(G,V,G.size(),G.storage())},"Matrix, BigNumber":function(G,V){return z(G,V.toNumber(),G.size(),G.storage())},"Matrix, string":function(G,V){return z(G,0,G.size(),V)},"Matrix, number, string":function(G,V,Z){return z(G,V,G.size(),Z)},"Matrix, BigNumber, string":function(G,V,Z){return z(G,V.toNumber(),G.size(),Z)}});function z(q,G,V,Z){if(!isInteger$1(G))throw new TypeError("Second parameter in function diag must be an integer");var Y=G>0?G:0,W=G<0?-G:0;switch(V.length){case 1:return L(q,G,Z,V[0],W,Y);case 2:return U(q,G,Z,V,W,Y)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function L(q,G,V,Z,Y,W){var ee=[Z+Y,Z+W];if(V&&V!=="sparse"&&V!=="dense")throw new TypeError("Unknown matrix type ".concat(V,'"'));var ne=V==="sparse"?F.diagonal(ee,q,G):I.diagonal(ee,q,G);return V!==null?ne:ne.valueOf()}function U(q,G,V,Z,Y,W){if(isMatrix(q)){var ee=q.diagonal(G);return V!==null?V!==ee.storage()?O(ee,V):ee:ee.valueOf()}for(var ne=Math.min(Z[0]-Y,Z[1]-W),ie=[],se=0;se<ne;se++)ie[se]=q[se+Y][se+W];return V!==null?O(ie):ie}}),name$3A="filter",dependencies$3A=["typed"],createFilter=factory(name$3A,dependencies$3A,_=>{var{typed:R}=_;return R("filter",{"Array, function":_filterCallback,"Matrix, function":function(I,F){return I.create(_filterCallback(I.valueOf(),F),I.datatype())},"Array, RegExp":filterRegExp,"Matrix, RegExp":function(I,F){return I.create(filterRegExp(I.valueOf(),F),I.datatype())}})});function _filterCallback(_,R){var O=optimizeCallback(R,_,"filter");return O.isUnary?filter$2(_,O.fn):filter$2(_,function(I,F,z){return O.fn(I,[F],z)})}var name$3z="flatten",dependencies$3z=["typed"],createFlatten=factory(name$3z,dependencies$3z,_=>{var{typed:R}=_;return R(name$3z,{Array:function(I){return flatten$2(I)},DenseMatrix:function(I){return I.create(flatten$2(I.valueOf(),!0),I.datatype())},SparseMatrix:function(I){throw new TypeError("SparseMatrix is not supported by function flatten because it does not support 1D vectors. Convert to a DenseMatrix or Array first. Example: flatten(x.toArray())")}})}),name$3y="forEach",dependencies$3y=["typed"],createForEach=factory(name$3y,dependencies$3y,_=>{var{typed:R}=_;return R(name$3y,{"Array, function":_forEach,"Matrix, function":function(I,F){I.forEach(F)}})});function _forEach(_,R){var O=optimizeCallback(R,_,name$3y);deepForEach$1(_,O.fn,O.isUnary)}var name$3x="getMatrixDataType",dependencies$3x=["typed"],createGetMatrixDataType=factory(name$3x,dependencies$3x,_=>{var{typed:R}=_;return R(name$3x,{Array:function(I){return getArrayDataType(I,typeOf$1)},Matrix:function(I){return I.getDataType()}})}),name$3w="identity",dependencies$3w=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],createIdentity=factory(name$3w,dependencies$3w,_=>{var{typed:R,config:O,matrix:I,BigNumber:F,DenseMatrix:z,SparseMatrix:L}=_;return R(name$3w,{"":function(){return O.matrix==="Matrix"?I([]):[]},string:function(V){return I(V)},"number | BigNumber":function(V){return q(V,V,O.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(V,Z){return q(V,V,Z)},"number | BigNumber, number | BigNumber":function(V,Z){return q(V,Z,O.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(V,Z,Y){return q(V,Z,Y)},Array:function(V){return U(V)},"Array, string":function(V,Z){return U(V,Z)},Matrix:function(V){return U(V.valueOf(),V.storage())},"Matrix, string":function(V,Z){return U(V.valueOf(),Z)}});function U(G,V){switch(G.length){case 0:return V?I(V):[];case 1:return q(G[0],G[0],V);case 2:return q(G[0],G[1],V);default:throw new Error("Vector containing two values expected")}}function q(G,V,Z){var Y=isBigNumber(G)||isBigNumber(V)?F:null;if(isBigNumber(G)&&(G=G.toNumber()),isBigNumber(V)&&(V=V.toNumber()),!isInteger$1(G)||G<1)throw new Error("Parameters in function identity must be positive integers");if(!isInteger$1(V)||V<1)throw new Error("Parameters in function identity must be positive integers");var W=Y?new F(1):1,ee=Y?new Y(0):0,ne=[G,V];if(Z){if(Z==="sparse")return L.diagonal(ne,W,0,ee);if(Z==="dense")return z.diagonal(ne,W,0,ee);throw new TypeError('Unknown matrix type "'.concat(Z,'"'))}for(var ie=resize$1([],ne,ee),se=G<V?G:V,oe=0;oe<se;oe++)ie[oe][oe]=W;return ie}}),name$3v="kron",dependencies$3v=["typed","matrix","multiplyScalar"],createKron=factory(name$3v,dependencies$3v,_=>{var{typed:R,matrix:O,multiplyScalar:I}=_;return R(name$3v,{"Matrix, Matrix":function(U,q){return O(z(U.toArray(),q.toArray()))},"Matrix, Array":function(U,q){return O(z(U.toArray(),q))},"Array, Matrix":function(U,q){return O(z(U,q.toArray()))},"Array, Array":z});function F(L,U){return L.flatMap(q=>U.map(G=>I(q,G)))}function z(L,U){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(q<0){var G=arraySize(L).length,V=arraySize(U).length;for(q=Math.max(G,V);G++<q;)L=[L];for(;V++<q;)U=[U]}return q===1?F(L,U):L.flatMap(Z=>U.map(Y=>z(Z,Y,q-1)))}}),name$3u="map",dependencies$3u=["typed"],createMap=factory(name$3u,dependencies$3u,_=>{var{typed:R}=_;return R(name$3u,{"Array, function":U,"Matrix, function":function(G,V){return G.map(V)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(q,G,V)=>O([q,G,...V.slice(0,V.length-1)],V[V.length-1])});function O(q,G){if(typeof G!="function")throw new Error("Last argument must be a callback function");var V=q[0].isMatrix,Z=q.map(ce=>ce.isMatrix?ce.size():arraySize(ce)),Y=broadcastSizes(...Z),W=q.length,ee=V?(ce,fe)=>ce.get(fe):get$2,ne=q.map((ce,fe)=>{var me=Z[fe].map(()=>0);return ce.isMatrix?ce.get(me):get$2(ce,me)}),ie=R.isTypedFunction(G)?L(G,ne,Y.map(()=>0),q):z(G,W);if(ie<2){var se=F(ie,G,null);return I(q,se)}var oe=V?q.map(ce=>ce.isMatrix?ce.create(broadcastTo(ce.toArray(),Y),ce.datatype()):q[0].create(broadcastTo(ce.valueOf(),Y))):q.map(ce=>ce.isMatrix?broadcastTo(ce.toArray(),Y):broadcastTo(ce,Y)),le=F(ie,G,oe),ue=(ce,fe)=>le([ce,...oe.slice(1).map(me=>ee(me,fe))],fe);return V?oe[0].map(ue):U(oe[0],ue)}function I(q,G){var V=q[0],Z=q.map(ce=>ce.isMatrix?ce.valueOf():ce),Y=q.map(ce=>ce.isMatrix?ce.size():arraySize(ce)),W=broadcastSizes(...Y),ee=Y.map(ce=>W.length-ce.length),ne=W.length-1,ie=G.length>1,se=ie?[]:null,oe=ue(Z,0);if(V.isMatrix){var le=V.create();return le._data=oe,le._size=W,le}else return oe;function ue(ce){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,me=W[fe],he=Array(me);if(fe<ne)for(var pe=function(ve){se&&(se[fe]=ve),he[ve]=ue(ce.map(($e,be)=>ee[be]>fe?$e:$e.length===1?$e[0]:$e[ve]),fe+1)},ge=0;ge<me;ge++)pe(ge);else for(var _e=function(ve){se&&(se[fe]=ve),he[ve]=G(ce.map($e=>$e.length===1?$e[0]:$e[ve]),se?se.slice():void 0)},ye=0;ye<me;ye++)_e(ye);return he}}function F(q,G,V){switch(q){case 0:return Z=>G(...Z);case 1:return(Z,Y)=>G(...Z,Y);case 2:return(Z,Y)=>G(...Z,Y,...V)}}function z(q,G){var V=q.toString();if(/arguments/.test(V))return 2;var Z=V.match(/\(.*?\)/);return/\.\.\./.test(Z)||q.length>G+1?2:q.length===G+1?1:0}function L(q,G,V,Z){return R.resolve(q,[...G,V,...Z])!==null?2:R.resolve(q,[...G,V])!==null?1:(R.resolve(q,G)!==null,0)}function U(q,G){var V=optimizeCallback(G,q,name$3u);return deepMap$1(q,V.fn,V.isUnary)}}),name$3t="diff",dependencies$3t=["typed","matrix","subtract","number"],createDiff=factory(name$3t,dependencies$3t,_=>{var{typed:R,matrix:O,subtract:I,number:F}=_;return R(name$3t,{"Array | Matrix":function(V){return isMatrix(V)?O(L(V.toArray())):L(V)},"Array | Matrix, number":function(V,Z){if(!isInteger$1(Z))throw new RangeError("Dimension must be a whole number");return isMatrix(V)?O(z(V.toArray(),Z)):z(V,Z)},"Array, BigNumber":R.referTo("Array,number",G=>(V,Z)=>G(V,F(Z))),"Matrix, BigNumber":R.referTo("Matrix,number",G=>(V,Z)=>G(V,F(Z)))});function z(G,V){if(isMatrix(G)&&(G=G.toArray()),!Array.isArray(G))throw RangeError("Array/Matrix does not have that many dimensions");if(V>0){var Z=[];return G.forEach(Y=>{Z.push(z(Y,V-1))}),Z}else{if(V===0)return L(G);throw RangeError("Cannot have negative dimension")}}function L(G){for(var V=[],Z=G.length,Y=1;Y<Z;Y++)V.push(U(G[Y-1],G[Y]));return V}function U(G,V){isMatrix(G)&&(G=G.toArray()),isMatrix(V)&&(V=V.toArray());var Z=Array.isArray(G),Y=Array.isArray(V);if(Z&&Y)return q(G,V);if(!Z&&!Y)return I(V,G);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function q(G,V){if(G.length!==V.length)throw RangeError("Not all sub-arrays have the same length");for(var Z=[],Y=G.length,W=0;W<Y;W++)Z.push(U(G[W],V[W]));return Z}}),name$3s="ones",dependencies$3s=["typed","config","matrix","BigNumber"],createOnes=factory(name$3s,dependencies$3s,_=>{var{typed:R,config:O,matrix:I,BigNumber:F}=_;return R("ones",{"":function(){return O.matrix==="Array"?z([]):z([],"default")},"...number | BigNumber | string":function(G){var V=G[G.length-1];if(typeof V=="string"){var Z=G.pop();return z(G,Z)}else return O.matrix==="Array"?z(G):z(G,"default")},Array:z,Matrix:function(G){var V=G.storage();return z(G.valueOf(),V)},"Array | Matrix, string":function(G,V){return z(G.valueOf(),V)}});function z(q,G){var V=L(q),Z=V?new F(1):1;if(U(q),G){var Y=I(G);return q.length>0?Y.resize(q,Z):Y}else{var W=[];return q.length>0?resize$1(W,q,Z):W}}function L(q){var G=!1;return q.forEach(function(V,Z,Y){isBigNumber(V)&&(G=!0,Y[Z]=V.toNumber())}),G}function U(q){q.forEach(function(G){if(typeof G!="number"||!isInteger$1(G)||G<0)throw new Error("Parameters in function ones must be positive integers")})}});function noBignumber(){throw new Error('No "bignumber" implementation available')}function noFraction(){throw new Error('No "fraction" implementation available')}function noMatrix(){throw new Error('No "matrix" implementation available')}var name$3r="range",dependencies$3r=["typed","config","?matrix","?bignumber","equal","smaller","smallerEq","larger","largerEq","add","isZero","isPositive"],createRange=factory(name$3r,dependencies$3r,_=>{var{typed:R,config:O,matrix:I,bignumber:F,smaller:z,smallerEq:L,larger:U,largerEq:q,add:G,isZero:V,isPositive:Z}=_;return R(name$3r,{string:W,"string, boolean":W,number:function(se){throw new TypeError("Too few arguments to function range(): ".concat(se))},boolean:function(se){throw new TypeError("Unexpected type of argument 1 to function range(): ".concat(se,", number|bigint|BigNumber|Fraction"))},"number, number":function(se,oe){return Y(ee(se,oe,1,!1))},"number, number, number":function(se,oe,le){return Y(ee(se,oe,le,!1))},"number, number, boolean":function(se,oe,le){return Y(ee(se,oe,1,le))},"number, number, number, boolean":function(se,oe,le,ue){return Y(ee(se,oe,le,ue))},"bigint, bigint|number":function(se,oe){return Y(ee(se,oe,1n,!1))},"number, bigint":function(se,oe){return Y(ee(BigInt(se),oe,1n,!1))},"bigint, bigint|number, bigint|number":function(se,oe,le){return Y(ee(se,oe,BigInt(le),!1))},"number, bigint, bigint|number":function(se,oe,le){return Y(ee(BigInt(se),oe,BigInt(le),!1))},"bigint, bigint|number, boolean":function(se,oe,le){return Y(ee(se,oe,1n,le))},"number, bigint, boolean":function(se,oe,le){return Y(ee(BigInt(se),oe,1n,le))},"bigint, bigint|number, bigint|number, boolean":function(se,oe,le,ue){return Y(ee(se,oe,BigInt(le),ue))},"number, bigint, bigint|number, boolean":function(se,oe,le,ue){return Y(ee(BigInt(se),oe,BigInt(le),ue))},"BigNumber, BigNumber":function(se,oe){var le=se.constructor;return Y(ee(se,oe,new le(1),!1))},"BigNumber, BigNumber, BigNumber":function(se,oe,le){return Y(ee(se,oe,le,!1))},"BigNumber, BigNumber, boolean":function(se,oe,le){var ue=se.constructor;return Y(ee(se,oe,new ue(1),le))},"BigNumber, BigNumber, BigNumber, boolean":function(se,oe,le,ue){return Y(ee(se,oe,le,ue))},"Fraction, Fraction":function(se,oe){return Y(ee(se,oe,1,!1))},"Fraction, Fraction, Fraction":function(se,oe,le){return Y(ee(se,oe,le,!1))},"Fraction, Fraction, boolean":function(se,oe,le){return Y(ee(se,oe,1,le))},"Fraction, Fraction, Fraction, boolean":function(se,oe,le,ue){return Y(ee(se,oe,le,ue))},"Unit, Unit, Unit":function(se,oe,le){return Y(ee(se,oe,le,!1))},"Unit, Unit, Unit, boolean":function(se,oe,le,ue){return Y(ee(se,oe,le,ue))}});function Y(ie){return O.matrix==="Matrix"?I?I(ie):noMatrix():ie}function W(ie,se){var oe=ne(ie);if(!oe)throw new SyntaxError('String "'+ie+'" is no valid range');return O.number==="BigNumber"?(F===void 0&&noBignumber(),Y(ee(F(oe.start),F(oe.end),F(oe.step)))):Y(ee(oe.start,oe.end,oe.step,se))}function ee(ie,se,oe,le){var ue=[];if(V(oe))throw new Error("Step must be non-zero");for(var ce=Z(oe)?le?L:z:le?q:U,fe=ie;ce(fe,se);)ue.push(fe),fe=G(fe,oe);return ue}function ne(ie){var se=ie.split(":"),oe=se.map(function(ue){return Number(ue)}),le=oe.some(function(ue){return isNaN(ue)});if(le)return null;switch(oe.length){case 2:return{start:oe[0],end:oe[1],step:1};case 3:return{start:oe[0],end:oe[2],step:oe[1]};default:return null}}}),name$3q="reshape",dependencies$3q=["typed","isInteger","matrix"],createReshape=factory(name$3q,dependencies$3q,_=>{var{typed:R,isInteger:O}=_;return R(name$3q,{"Matrix, Array":function(F,z){return F.reshape(z,!0)},"Array, Array":function(F,z){return z.forEach(function(L){if(!O(L))throw new TypeError("Invalid size for dimension: "+L)}),reshape$1(F,z)}})}),name$3p="resize",dependencies$3p=["config","matrix"],createResize=factory(name$3p,dependencies$3p,_=>{var{config:R,matrix:O}=_;return function(z,L,U){if(arguments.length!==2&&arguments.length!==3)throw new ArgumentsError("resize",arguments.length,2,3);if(isMatrix(L)&&(L=L.valueOf()),isBigNumber(L[0])&&(L=L.map(function(V){return isBigNumber(V)?V.toNumber():V})),isMatrix(z))return z.resize(L,U,!0);if(typeof z=="string")return I(z,L,U);var q=Array.isArray(z)?!1:R.matrix!=="Array";if(L.length===0){for(;Array.isArray(z);)z=z[0];return clone$3(z)}else{Array.isArray(z)||(z=[z]),z=clone$3(z);var G=resize$1(z,L,U);return q?O(G):G}};function I(F,z,L){if(L!==void 0){if(typeof L!="string"||L.length!==1)throw new TypeError("Single character expected as defaultValue")}else L=" ";if(z.length!==1)throw new DimensionError(z.length,1);var U=z[0];if(typeof U!="number"||!isInteger$1(U))throw new TypeError("Invalid size, must contain positive integers (size: "+format$3(z)+")");if(F.length>U)return F.substring(0,U);if(F.length<U){for(var q=F,G=0,V=U-F.length;G<V;G++)q+=L;return q}else return F}}),name$3o="rotate",dependencies$3o=["typed","multiply","rotationMatrix"],createRotate=factory(name$3o,dependencies$3o,_=>{var{typed:R,multiply:O,rotationMatrix:I}=_;return R(name$3o,{"Array , number | BigNumber | Complex | Unit":function(L,U){F(L,2);var q=O(I(U),L);return q.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(L,U){return F(L,2),O(I(U),L)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(L,U,q){F(L,3);var G=O(I(U,q),L);return G},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(L,U,q){return F(L,3),O(I(U,q),L)}});function F(z,L){var U=Array.isArray(z)?arraySize(z):z.size();if(U.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(L));if(U.length===2&&U[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(L));if(U[0]!==L)throw new RangeError("Vector must be of dimensions 1x".concat(L))}}),name$3n="rotationMatrix",dependencies$3n=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],createRotationMatrix=factory(name$3n,dependencies$3n,_=>{var{typed:R,config:O,multiplyScalar:I,addScalar:F,unaryMinus:z,norm:L,BigNumber:U,matrix:q,DenseMatrix:G,SparseMatrix:V,cos:Z,sin:Y}=_;return R(name$3n,{"":function(){return O.matrix==="Matrix"?q([]):[]},string:function(le){return q(le)},"number | BigNumber | Complex | Unit":function(le){return W(le,O.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(le,ue){return W(le,ue)},"number | BigNumber | Complex | Unit, Array":function(le,ue){var ce=q(ue);return ee(ce),se(le,ce,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(le,ue){ee(ue);var ce=ue.storage()||(O.matrix==="Matrix"?"dense":void 0);return se(le,ue,ce)},"number | BigNumber | Complex | Unit, Array, string":function(le,ue,ce){var fe=q(ue);return ee(fe),se(le,fe,ce)},"number | BigNumber | Complex | Unit, Matrix, string":function(le,ue,ce){return ee(ue),se(le,ue,ce)}});function W(oe,le){var ue=isBigNumber(oe),ce=ue?new U(-1):-1,fe=Z(oe),me=Y(oe),he=[[fe,I(ce,me)],[me,fe]];return ie(he,le)}function ee(oe){var le=oe.size();if(le.length<1||le[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function ne(oe){return oe.reduce((le,ue)=>I(le,ue))}function ie(oe,le){if(le){if(le==="sparse")return new V(oe);if(le==="dense")return new G(oe);throw new TypeError('Unknown matrix type "'.concat(le,'"'))}return oe}function se(oe,le,ue){var ce=L(le);if(ce===0)throw new RangeError("Rotation around zero vector");var fe=isBigNumber(oe)?U:null,me=fe?new fe(1):1,he=fe?new fe(-1):-1,pe=fe?new fe(le.get([0])/ce):le.get([0])/ce,ge=fe?new fe(le.get([1])/ce):le.get([1])/ce,_e=fe?new fe(le.get([2])/ce):le.get([2])/ce,ye=Z(oe),we=F(me,z(ye)),ve=Y(oe),$e=F(ye,ne([pe,pe,we])),be=F(ne([pe,ge,we]),ne([he,_e,ve])),Ce=F(ne([pe,_e,we]),ne([ge,ve])),De=F(ne([pe,ge,we]),ne([_e,ve])),Ne=F(ye,ne([ge,ge,we])),Me=F(ne([ge,_e,we]),ne([he,pe,ve])),Te=F(ne([pe,_e,we]),ne([he,ge,ve])),Re=F(ne([ge,_e,we]),ne([pe,ve])),Se=F(ye,ne([_e,_e,we])),ze=[[$e,be,Ce],[De,Ne,Me],[Te,Re,Se]];return ie(ze,ue)}}),name$3m="row",dependencies$3m=["typed","Index","matrix","range"],createRow=factory(name$3m,dependencies$3m,_=>{var{typed:R,Index:O,matrix:I,range:F}=_;return R(name$3m,{"Matrix, number":z,"Array, number":function(U,q){return z(I(clone$3(U)),q).valueOf()}});function z(L,U){if(L.size().length!==2)throw new Error("Only two dimensional matrix is supported");validateIndex(U,L.size()[0]);var q=F(0,L.size()[1]),G=new O([U],q),V=L.subset(G);return isMatrix(V)?V:I([[V]])}}),name$3l="size",dependencies$3l=["typed"],createSize=factory(name$3l,dependencies$3l,_=>{var{typed:R}=_;return R(name$3l,{Matrix:O=>O.size(),Array:arraySize,string:O=>[O.length],"number | Complex | BigNumber | Unit | boolean | null":O=>[]})}),name$3k="squeeze",dependencies$3k=["typed"],createSqueeze=factory(name$3k,dependencies$3k,_=>{var{typed:R}=_;return R(name$3k,{Array:function(I){return squeeze$1(clone$3(I))},Matrix:function(I){var F=squeeze$1(I.toArray());return Array.isArray(F)?I.create(F,I.datatype()):F},any:function(I){return clone$3(I)}})}),name$3j="subset",dependencies$3j=["typed","matrix","zeros","add"],createSubset=factory(name$3j,dependencies$3j,_=>{var{typed:R,matrix:O,zeros:I,add:F}=_;return R(name$3j,{"Matrix, Index":function(U,q){return isEmptyIndex(q)?O():(validateIndexSourceSize(U,q),U.subset(q))},"Array, Index":R.referTo("Matrix, Index",function(L){return function(U,q){var G=L(O(U),q);return q.isScalar()?G:G.valueOf()}}),"Object, Index":_getObjectProperty,"string, Index":_getSubstring,"Matrix, Index, any, any":function(U,q,G,V){return isEmptyIndex(q)?U:(validateIndexSourceSize(U,q),U.clone().subset(q,z(G,q),V))},"Array, Index, any, any":R.referTo("Matrix, Index, any, any",function(L){return function(U,q,G,V){var Z=L(O(U),q,G,V);return Z.isMatrix?Z.valueOf():Z}}),"Array, Index, any":R.referTo("Matrix, Index, any, any",function(L){return function(U,q,G){return L(O(U),q,G,void 0).valueOf()}}),"Matrix, Index, any":R.referTo("Matrix, Index, any, any",function(L){return function(U,q,G){return L(U,q,G,void 0)}}),"string, Index, string":_setSubstring,"string, Index, string, string":_setSubstring,"Object, Index, any":_setObjectProperty});function z(L,U){if(typeof L=="string")throw new Error("can't boradcast a string");if(U.isScalar())return L;var q=U.size();if(q.every(G=>G>0))try{return F(L,I(q))}catch{return L}else return L}});function _getSubstring(_,R){if(!isIndex(R))throw new TypeError("Index expected");if(isEmptyIndex(R))return"";if(validateIndexSourceSize(Array.from(_),R),R.size().length!==1)throw new DimensionError(R.size().length,1);var O=_.length;validateIndex(R.min()[0],O),validateIndex(R.max()[0],O);var I=R.dimension(0),F="";function z(L){F+=_.charAt(L)}return Number.isInteger(I)?z(I):I.forEach(z),F}function _setSubstring(_,R,O,I){if(!R||R.isIndex!==!0)throw new TypeError("Index expected");if(isEmptyIndex(R))return _;if(validateIndexSourceSize(Array.from(_),R),R.size().length!==1)throw new DimensionError(R.size().length,1);if(I!==void 0){if(typeof I!="string"||I.length!==1)throw new TypeError("Single character expected as defaultValue")}else I=" ";var F=R.dimension(0),z=Number.isInteger(F)?1:F.size()[0];if(z!==O.length)throw new DimensionError(F.size()[0],O.length);var L=_.length;validateIndex(R.min()[0]),validateIndex(R.max()[0]);for(var U=[],q=0;q<L;q++)U[q]=_.charAt(q);function G(Y,W){U[Y]=O.charAt(W[0])}if(Number.isInteger(F)?G(F,[0]):F.forEach(G),U.length>L)for(var V=L-1,Z=U.length;V<Z;V++)U[V]||(U[V]=I);return U.join("")}function _getObjectProperty(_,R){if(!isEmptyIndex(R)){if(R.size().length!==1)throw new DimensionError(R.size(),1);var O=R.dimension(0);if(typeof O!="string")throw new TypeError("String expected as index to retrieve an object property");return getSafeProperty(_,O)}}function _setObjectProperty(_,R,O){if(isEmptyIndex(R))return _;if(R.size().length!==1)throw new DimensionError(R.size(),1);var I=R.dimension(0);if(typeof I!="string")throw new TypeError("String expected as index to retrieve an object property");var F=clone$3(_);return setSafeProperty(F,I,O),F}var name$3i="transpose",dependencies$3i=["typed","matrix"],createTranspose=factory(name$3i,dependencies$3i,_=>{var{typed:R,matrix:O}=_;return R(name$3i,{Array:L=>I(O(L)).valueOf(),Matrix:I,any:clone$3});function I(L){var U=L.size(),q;switch(U.length){case 1:q=L.clone();break;case 2:{var G=U[0],V=U[1];if(V===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+format$3(U)+")");switch(L.storage()){case"dense":q=F(L,G,V);break;case"sparse":q=z(L,G,V);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+format$3(U)+")")}return q}function F(L,U,q){for(var G=L._data,V=[],Z,Y=0;Y<q;Y++){Z=V[Y]=[];for(var W=0;W<U;W++)Z[W]=clone$3(G[W][Y])}return L.createDenseMatrix({data:V,size:[q,U],datatype:L._datatype})}function z(L,U,q){for(var G=L._values,V=L._index,Z=L._ptr,Y=G?[]:void 0,W=[],ee=[],ne=[],ie=0;ie<U;ie++)ne[ie]=0;var se,oe,le;for(se=0,oe=V.length;se<oe;se++)ne[V[se]]++;for(var ue=0,ce=0;ce<U;ce++)ee.push(ue),ue+=ne[ce],ne[ce]=ee[ce];for(ee.push(ue),le=0;le<q;le++)for(var fe=Z[le],me=Z[le+1],he=fe;he<me;he++){var pe=ne[V[he]]++;W[pe]=le,G&&(Y[pe]=clone$3(G[he]))}return L.createSparseMatrix({values:Y,index:W,ptr:ee,size:[q,U],datatype:L._datatype})}}),name$3h="ctranspose",dependencies$3h=["typed","transpose","conj"],createCtranspose=factory(name$3h,dependencies$3h,_=>{var{typed:R,transpose:O,conj:I}=_;return R(name$3h,{any:function(z){return I(O(z))}})}),name$3g="zeros",dependencies$3g=["typed","config","matrix","BigNumber"],createZeros=factory(name$3g,dependencies$3g,_=>{var{typed:R,config:O,matrix:I,BigNumber:F}=_;return R(name$3g,{"":function(){return O.matrix==="Array"?z([]):z([],"default")},"...number | BigNumber | string":function(G){var V=G[G.length-1];if(typeof V=="string"){var Z=G.pop();return z(G,Z)}else return O.matrix==="Array"?z(G):z(G,"default")},Array:z,Matrix:function(G){var V=G.storage();return z(G.valueOf(),V)},"Array | Matrix, string":function(G,V){return z(G.valueOf(),V)}});function z(q,G){var V=L(q),Z=V?new F(0):0;if(U(q),G){var Y=I(G);return q.length>0?Y.resize(q,Z):Y}else{var W=[];return q.length>0?resize$1(W,q,Z):W}}function L(q){var G=!1;return q.forEach(function(V,Z,Y){isBigNumber(V)&&(G=!0,Y[Z]=V.toNumber())}),G}function U(q){q.forEach(function(G){if(typeof G!="number"||!isInteger$1(G)||G<0)throw new Error("Parameters in function zeros must be positive integers")})}}),name$3f="fft",dependencies$3f=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],createFft=factory(name$3f,dependencies$3f,_=>{var{typed:R,matrix:O,addScalar:I,multiplyScalar:F,divideScalar:z,exp:L,tau:U,i:q,dotDivide:G,conj:V,pow:Z,ceil:Y,log2:W}=_;return R(name$3f,{Array:ee,Matrix:function(le){return le.create(ee(le.valueOf()),le.datatype())}});function ee(oe){var le=arraySize(oe);return le.length===1?se(oe,le[0]):ne(oe.map(ue=>ee(ue,le.slice(1))),0)}function ne(oe,le){var ue=arraySize(oe);if(le!==0)return new Array(ue[0]).fill(0).map((fe,me)=>ne(oe[me],le-1));if(ue.length===1)return se(oe);function ce(fe){var me=arraySize(fe);return new Array(me[1]).fill(0).map((he,pe)=>new Array(me[0]).fill(0).map((ge,_e)=>fe[_e][pe]))}return ce(ne(ce(oe),1))}function ie(oe){for(var le=oe.length,ue=L(z(F(-1,F(q,U)),le)),ce=[],fe=1-le;fe<le;fe++)ce.push(Z(ue,z(Z(fe,2),2)));for(var me=Z(2,Y(W(le+le-1))),he=[...new Array(le).fill(0).map((be,Ce)=>F(oe[Ce],ce[le-1+Ce])),...new Array(me-le).fill(0)],pe=[...new Array(le+le-1).fill(0).map((be,Ce)=>z(1,ce[Ce])),...new Array(me-(le+le-1)).fill(0)],ge=se(he),_e=se(pe),ye=new Array(me).fill(0).map((be,Ce)=>F(ge[Ce],_e[Ce])),we=G(V(ee(V(ye))),me),ve=[],$e=le-1;$e<le+le-1;$e++)ve.push(F(we[$e],ce[$e]));return ve}function se(oe){var le=oe.length;if(le===1)return[oe[0]];if(le%2===0){for(var ue=[...se(oe.filter((he,pe)=>pe%2===0)),...se(oe.filter((he,pe)=>pe%2===1))],ce=0;ce<le/2;ce++){var fe=ue[ce],me=F(ue[ce+le/2],L(F(F(U,q),z(-ce,le))));ue[ce]=I(fe,me),ue[ce+le/2]=I(fe,F(-1,me))}return ue}else return ie(oe)}}),name$3e="ifft",dependencies$3e=["typed","fft","dotDivide","conj"],createIfft=factory(name$3e,dependencies$3e,_=>{var{typed:R,fft:O,dotDivide:I,conj:F}=_;return R(name$3e,{"Array | Matrix":function(L){var U=isMatrix(L)?L.size():arraySize(L);return I(F(O(F(L))),U.reduce((q,G)=>q*G,1))}})});function _typeof(_){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},_typeof(_)}function toPrimitive(_,R){if(_typeof(_)!="object"||!_)return _;var O=_[Symbol.toPrimitive];if(O!==void 0){var I=O.call(_,R);if(_typeof(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(_)}function toPropertyKey(_){var R=toPrimitive(_,"string");return _typeof(R)=="symbol"?R:R+""}function _defineProperty(_,R,O){return(R=toPropertyKey(R))in _?Object.defineProperty(_,R,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[R]=O,_}function ownKeys$3(_,R){var O=Object.keys(_);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(_);R&&(I=I.filter(function(F){return Object.getOwnPropertyDescriptor(_,F).enumerable})),O.push.apply(O,I)}return O}function _objectSpread$3(_){for(var R=1;R<arguments.length;R++){var O=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$3(Object(O),!0).forEach(function(I){_defineProperty(_,I,O[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(O)):ownKeys$3(Object(O)).forEach(function(I){Object.defineProperty(_,I,Object.getOwnPropertyDescriptor(O,I))})}return _}var name$3d="solveODE",dependencies$3d=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],createSolveODE=factory(name$3d,dependencies$3d,_=>{var{typed:R,add:O,subtract:I,multiply:F,divide:z,max:L,map:U,abs:q,isPositive:G,isNegative:V,larger:Z,smaller:Y,matrix:W,bignumber:ee,unaryMinus:ne}=_;function ie(he){return function(pe,ge,_e,ye){var we=!(ge.length===2&&(ge.every(fe)||ge.every(isUnit)));if(we)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var ve=ge[0],$e=ge[1],be=Z($e,ve),Ce=ye.firstStep;if(Ce!==void 0&&!G(Ce))throw new Error('"firstStep" must be positive');var De=ye.maxStep;if(De!==void 0&&!G(De))throw new Error('"maxStep" must be positive');var Ne=ye.minStep;if(Ne&&V(Ne))throw new Error('"minStep" must be positive or zero');var Me=[ve,$e,Ce,Ne,De].filter(Ie=>Ie!==void 0);if(!(Me.every(fe)||Me.every(isUnit)))throw new Error('Inconsistent type of "t" dependant variables');for(var Te=1,Re=ye.tol?ye.tol:1e-4,Se=ye.minDelta?ye.minDelta:.2,ze=ye.maxDelta?ye.maxDelta:5,Pe=ye.maxIter?ye.maxIter:1e4,Qe=[ve,$e,..._e,De,Ne].some(isBigNumber),[Ze,Le,ke,Ge]=Qe?[ee(he.a),ee(he.c),ee(he.b),ee(he.bp)]:[he.a,he.c,he.b,he.bp],Ke=Ce?be?Ce:ne(Ce):z(I($e,ve),Te),He=[ve],st=[_e],Ae=I(ke,Ge),tt=0,rt=0,We=ue(be),qe=ce(be);We(He[tt],$e);){var nt=[];Ke=qe(He[tt],$e,Ke),nt.push(pe(He[tt],st[tt]));for(var ft=1;ft<Le.length;++ft)nt.push(pe(O(He[tt],F(Le[ft],Ke)),O(st[tt],F(Ke,Ze[ft],nt))));var je=L(q(U(F(Ae,nt),Ie=>isUnit(Ie)?Ie.value:Ie)));je<Re&&Re/je>1/4&&(He.push(O(He[tt],Ke)),st.push(O(st[tt],F(Ke,ke,nt))),tt++);var Ve=.84*(Re/je)**(1/5);if(Y(Ve,Se)?Ve=Se:Z(Ve,ze)&&(Ve=ze),Ve=Qe?ee(Ve):Ve,Ke=F(Ke,Ve),De&&Z(q(Ke),De)?Ke=be?De:ne(De):Ne&&Y(q(Ke),Ne)&&(Ke=be?Ne:ne(Ne)),rt++,rt>Pe)throw new Error("Maximum number of iterations reached, try changing options")}return{t:He,y:st}}}function se(he,pe,ge,_e){var ye=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],we=[null,1/2,3/4,1],ve=[2/9,1/3,4/9,0],$e=[7/24,1/4,1/3,1/8],be={a:ye,c:we,b:ve,bp:$e};return ie(be)(he,pe,ge,_e)}function oe(he,pe,ge,_e){var ye=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],we=[null,1/5,3/10,4/5,8/9,1,1],ve=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],$e=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],be={a:ye,c:we,b:ve,bp:$e};return ie(be)(he,pe,ge,_e)}function le(he,pe,ge,_e){var ye=_e.method?_e.method:"RK45",we={RK23:se,RK45:oe};if(ye.toUpperCase()in we){var ve=_objectSpread$3({},_e);return delete ve.method,we[ye.toUpperCase()](he,pe,ge,ve)}else{var $e=Object.keys(we).map(Ce=>'"'.concat(Ce,'"')),be="".concat($e.slice(0,-1).join(", ")," and ").concat($e.slice(-1));throw new Error('Unavailable method "'.concat(ye,'". Available methods are ').concat(be))}}function ue(he){return he?Y:Z}function ce(he){var pe=he?Z:Y;return function(ge,_e,ye){var we=O(ge,ye);return pe(we,_e)?I(_e,ge):ye}}function fe(he){return isBigNumber(he)||isNumber$1(he)}function me(he,pe,ge,_e){var ye=le(he,pe.toArray(),ge.toArray(),_e);return{t:W(ye.t),y:W(ye.y)}}return R("solveODE",{"function, Array, Array, Object":le,"function, Matrix, Matrix, Object":me,"function, Array, Array":(he,pe,ge)=>le(he,pe,ge,{}),"function, Matrix, Matrix":(he,pe,ge)=>me(he,pe,ge,{}),"function, Array, number | BigNumber | Unit":(he,pe,ge)=>{var _e=le(he,pe,[ge],{});return{t:_e.t,y:_e.y.map(ye=>ye[0])}},"function, Matrix, number | BigNumber | Unit":(he,pe,ge)=>{var _e=le(he,pe.toArray(),[ge],{});return{t:W(_e.t),y:W(_e.y.map(ye=>ye[0]))}},"function, Array, number | BigNumber | Unit, Object":(he,pe,ge,_e)=>{var ye=le(he,pe,[ge],_e);return{t:ye.t,y:ye.y.map(we=>we[0])}},"function, Matrix, number | BigNumber | Unit, Object":(he,pe,ge,_e)=>{var ye=le(he,pe.toArray(),[ge],_e);return{t:W(ye.t),y:W(ye.y.map(we=>we[0]))}}})}),name$3c="erf",dependencies$3c=["typed"],createErf=factory(name$3c,dependencies$3c,_=>{var{typed:R}=_;return R("name",{number:function(L){var U=Math.abs(L);return U>=MAX_NUM?sign$5(L):U<=THRESH?sign$5(L)*O(U):U<=4?sign$5(L)*(1-I(U)):sign$5(L)*(1-F(U))},"Array | Matrix":R.referToSelf(z=>L=>deepMap(L,z))});function O(z){var L=z*z,U=P[0][4]*L,q=L,G;for(G=0;G<3;G+=1)U=(U+P[0][G])*L,q=(q+Q[0][G])*L;return z*(U+P[0][3])/(q+Q[0][3])}function I(z){var L=P[1][8]*z,U=z,q;for(q=0;q<7;q+=1)L=(L+P[1][q])*z,U=(U+Q[1][q])*z;var G=(L+P[1][7])/(U+Q[1][7]),V=parseInt(z*16)/16,Z=(z-V)*(z+V);return Math.exp(-V*V)*Math.exp(-Z)*G}function F(z){var L=1/(z*z),U=P[2][5]*L,q=L,G;for(G=0;G<4;G+=1)U=(U+P[2][G])*L,q=(q+Q[2][G])*L;var V=L*(U+P[2][4])/(q+Q[2][4]);V=(SQRPI-V)/z,L=parseInt(z*16)/16;var Z=(z-L)*(z+L);return Math.exp(-L*L)*Math.exp(-Z)*V}}),THRESH=.46875,SQRPI=.5641895835477563,P=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Q=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],MAX_NUM=Math.pow(2,53),name$3b="zeta",dependencies$3b=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isBounded","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],createZeta=factory(name$3b,dependencies$3b,_=>{var{typed:R,config:O,multiply:I,pow:F,divide:z,factorial:L,equal:U,smallerEq:q,isBounded:G,isNegative:V,gamma:Z,sin:Y,subtract:W,add:ee,Complex:ne,BigNumber:ie,pi:se}=_;return R(name$3b,{number:me=>oe(me,he=>he,()=>20),BigNumber:me=>oe(me,he=>new ie(he),()=>Math.abs(Math.log10(O.relTol))),Complex:le});function oe(me,he,pe){return U(me,0)?he(-.5):U(me,1)?he(NaN):G(me)?ue(me,he,pe,ge=>ge):V(me)?he(NaN):he(1)}function le(me){return me.re===0&&me.im===0?new ne(-.5):me.re===1?new ne(NaN,NaN):me.re===1/0&&me.im===0?new ne(1):me.im===1/0||me.re===-1/0?new ne(NaN,NaN):ue(me,he=>he,he=>Math.round(1.3*15+.9*Math.abs(he.im)),he=>he.re)}function ue(me,he,pe,ge){var _e=pe(me);if(ge(me)>-(_e-1)/2)return fe(me,he(_e),he);var ye=I(F(2,me),F(he(se),W(me,1)));return ye=I(ye,Y(I(z(he(se),2),me))),ye=I(ye,Z(W(1,me))),I(ye,ue(W(1,me),he,pe,ge))}function ce(me,he){for(var pe=me,ge=me;q(ge,he);ge=ee(ge,1)){var _e=z(I(L(ee(he,W(ge,1))),F(4,ge)),I(L(W(he,ge)),L(I(2,ge))));pe=ee(pe,_e)}return I(he,pe)}function fe(me,he,pe){for(var ge=z(1,I(ce(pe(0),he),W(1,F(2,W(1,me))))),_e=pe(0),ye=pe(1);q(ye,he);ye=ee(ye,1))_e=ee(_e,z(I((-1)**(ye-1),ce(ye,he)),F(ye,me)));return I(ge,_e)}}),name$3a="mode",dependencies$3a=["typed","isNaN","isNumeric"],createMode=factory(name$3a,dependencies$3a,_=>{var{typed:R,isNaN:O,isNumeric:I}=_;return R(name$3a,{"Array | Matrix":F,"...":function(L){return F(L)}});function F(z){z=flatten$2(z.valueOf());var L=z.length;if(L===0)throw new Error("Cannot calculate mode of an empty array");for(var U={},q=[],G=0,V=0;V<z.length;V++){var Z=z[V];if(I(Z)&&O(Z))throw new Error("Cannot calculate mode of an array containing NaN values");Z in U||(U[Z]=0),U[Z]++,U[Z]===G?q.push(Z):U[Z]>G&&(G=U[Z],q=[Z])}return q}});function improveErrorMessage(_,R,O){var I;return String(_).includes("Unexpected type")?(I=arguments.length>2?" (type: "+typeOf$1(O)+", value: "+JSON.stringify(O)+")":" (type: "+_.data.actual+")",new TypeError("Cannot calculate "+R+", unexpected type of argument"+I)):String(_).includes("complex numbers")?(I=arguments.length>2?" (type: "+typeOf$1(O)+", value: "+JSON.stringify(O)+")":"",new TypeError("Cannot calculate "+R+", no ordering relation is defined for complex numbers"+I)):_}var name$39="prod",dependencies$39=["typed","config","multiplyScalar","numeric"],createProd=factory(name$39,dependencies$39,_=>{var{typed:R,config:O,multiplyScalar:I,numeric:F}=_;return R(name$39,{"Array | Matrix":z,"Array | Matrix, number | BigNumber":function(U,q){throw new Error("prod(A, dim) is not yet supported")},"...":function(U){return z(U)}});function z(L){var U;if(deepForEach(L,function(q){try{U=U===void 0?q:I(U,q)}catch(G){throw improveErrorMessage(G,"prod",q)}}),typeof U=="string"&&(U=F(U,safeNumberType(U,O))),U===void 0)throw new Error("Cannot calculate prod of an empty array");return U}}),name$38="format",dependencies$38=["typed"],createFormat=factory(name$38,dependencies$38,_=>{var{typed:R}=_;return R(name$38,{any:format$3,"any, Object | function | number | BigNumber":format$3})}),name$37="bin",dependencies$37=["typed","format"],createBin=factory(name$37,dependencies$37,_=>{var{typed:R,format:O}=_;return R(name$37,{"number | BigNumber":function(F){return O(F,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(F,z){return O(F,{notation:"bin",wordSize:z})}})}),name$36="oct",dependencies$36=["typed","format"],createOct=factory(name$36,dependencies$36,_=>{var{typed:R,format:O}=_;return R(name$36,{"number | BigNumber":function(F){return O(F,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(F,z){return O(F,{notation:"oct",wordSize:z})}})}),name$35="hex",dependencies$35=["typed","format"],createHex=factory(name$35,dependencies$35,_=>{var{typed:R,format:O}=_;return R(name$35,{"number | BigNumber":function(F){return O(F,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(F,z){return O(F,{notation:"hex",wordSize:z})}})}),printTemplate=/\$([\w.]+)/g,name$34="print",dependencies$34=["typed"],createPrint=factory(name$34,dependencies$34,_=>{var{typed:R}=_;return R(name$34,{"string, Object | Array":_print,"string, Object | Array, number | Object":_print})});function _print(_,R,O){return _.replace(printTemplate,function(I,F){var z=F.split("."),L=R[z.shift()];for(L!==void 0&&L.isMatrix&&(L=L.toArray());z.length&&L!==void 0;){var U=z.shift();L=U?L[U]:L+"."}return L!==void 0?isString(L)?L:format$3(L,O):I})}var name$33="to",dependencies$33=["typed","matrix","concat"],createTo=factory(name$33,dependencies$33,_=>{var{typed:R,matrix:O,concat:I}=_,F=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:I});return R(name$33,{"Unit, Unit | string":(z,L)=>z.to(L)},F({Ds:!0}))}),name$32="toBest",dependencies$32=["typed"],createToBest=factory(name$32,dependencies$32,_=>{var{typed:R}=_;return R(name$32,{Unit:O=>O.toBest(),"Unit, string":(O,I)=>O.toBest(I.split(",")),"Unit, string, Object":(O,I,F)=>O.toBest(I.split(","),F),"Unit, Array":(O,I)=>O.toBest(I),"Unit, Array, Object":(O,I,F)=>O.toBest(I,F)})}),name$31="isPrime",dependencies$31=["typed"],createIsPrime=factory(name$31,dependencies$31,_=>{var{typed:R}=_;return R(name$31,{number:function(I){if(I<=3)return I>1;if(I%2===0||I%3===0)return!1;for(var F=5;F*F<=I;F+=6)if(I%F===0||I%(F+2)===0)return!1;return!0},bigint:function(I){if(I<=3n)return I>1n;if(I%2n===0n||I%3n===0n)return!1;for(var F=5n;F*F<=I;F+=6n)if(I%F===0n||I%(F+2n)===0n)return!1;return!0},BigNumber:function(I){if(I.lte(3))return I.gt(1);if(I.mod(2).eq(0)||I.mod(3).eq(0))return!1;if(I.lt(Math.pow(2,32))){for(var F=I.toNumber(),z=5;z*z<=F;z+=6)if(F%z===0||F%(z+2)===0)return!1;return!0}function L(oe,le,ue){for(var ce=1;!le.eq(0);)le.mod(2).eq(0)?(le=le.div(2),oe=oe.mul(oe).mod(ue)):(le=le.sub(1),ce=oe.mul(ce).mod(ue));return ce}var U=I.constructor.clone({precision:I.toFixed(0).length*2});I=new U(I);for(var q=0,G=I.sub(1);G.mod(2).eq(0);)G=G.div(2),q+=1;var V=null;if(I.lt("3317044064679887385961981"))V=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(oe=>oe<I);else{var Z=Math.min(I.toNumber()-2,Math.floor(2*Math.pow(I.toFixed(0).length*Math.log(10),2)));V=[];for(var Y=2;Y<=Z;Y+=1)V.push(Z)}for(var W=0;W<V.length;W+=1){var ee=V[W],ne=L(I.sub(I).add(ee),G,I);if(!ne.eq(1)){for(var ie=0,se=ne;!se.eq(I.sub(1));ie+=1,se=se.mul(se).mod(I))if(ie===q-1)return!1}}return!0},"Array | Matrix":R.referToSelf(O=>I=>deepMap(I,O))})}),name$30="numeric",dependencies$30=["number","?bignumber","?fraction"],createNumeric=factory(name$30,dependencies$30,_=>{var{number:R,bignumber:O,fraction:I}=_,F={string:!0,number:!0,BigNumber:!0,Fraction:!0},z={number:L=>R(L),BigNumber:O?L=>O(L):noBignumber,bigint:L=>BigInt(L),Fraction:I?L=>I(L):noFraction};return function(U){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",G=arguments.length>2?arguments[2]:void 0;if(G!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var V=typeOf$1(U);if(!(V in F))throw new TypeError("Cannot convert "+U+' of type "'+V+'"; valid input types are '+Object.keys(F).join(", "));if(!(q in z))throw new TypeError("Cannot convert "+U+' to type "'+q+'"; valid output types are '+Object.keys(z).join(", "));return q===V?U:z[q](U)}}),name$2$="divideScalar",dependencies$2$=["typed","numeric"],createDivideScalar=factory(name$2$,dependencies$2$,_=>{var{typed:R,numeric:O}=_;return R(name$2$,{"number, number":function(F,z){return F/z},"Complex, Complex":function(F,z){return F.div(z)},"BigNumber, BigNumber":function(F,z){return F.div(z)},"bigint, bigint":function(F,z){return F/z},"Fraction, Fraction":function(F,z){return F.div(z)},"Unit, number | Complex | Fraction | BigNumber | Unit":(I,F)=>I.divide(F),"number | Fraction | Complex | BigNumber, Unit":(I,F)=>F.divideInto(I)})}),name$2_="pow",dependencies$2_=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],createPow=factory(name$2_,dependencies$2_,_=>{var{typed:R,config:O,identity:I,multiply:F,matrix:z,inv:L,number:U,fraction:q,Complex:G}=_;return R(name$2_,{"number, number":V,"Complex, Complex":function(ee,ne){return ee.pow(ne)},"BigNumber, BigNumber":function(ee,ne){return ne.isInteger()||ee>=0||O.predictable?ee.pow(ne):new G(ee.toNumber(),0).pow(ne.toNumber(),0)},"bigint, bigint":(W,ee)=>W**ee,"Fraction, Fraction":function(ee,ne){var ie=ee.pow(ne);if(ie!=null)return ie;if(O.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return V(ee.valueOf(),ne.valueOf())},"Array, number":Z,"Array, BigNumber":function(ee,ne){return Z(ee,ne.toNumber())},"Matrix, number":Y,"Matrix, BigNumber":function(ee,ne){return Y(ee,ne.toNumber())},"Unit, number | BigNumber":function(ee,ne){return ee.pow(ne)}});function V(W,ee){if(O.predictable&&!isInteger$1(ee)&&W<0)try{var ne=q(ee),ie=U(ne);if((ee===ie||Math.abs((ee-ie)/ee)<1e-14)&&ne.d%2n===1n)return(ne.n%2n===0n?1:-1)*Math.pow(-W,ee)}catch{}return O.predictable&&(W<-1&&ee===1/0||W>-1&&W<0&&ee===-1/0)?NaN:isInteger$1(ee)||W>=0||O.predictable?powNumber(W,ee):W*W<1&&ee===1/0||W*W>1&&ee===-1/0?0:new G(W,0).pow(ee,0)}function Z(W,ee){if(!isInteger$1(ee))throw new TypeError("For A^b, b must be an integer (value is "+ee+")");var ne=arraySize(W);if(ne.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+ne.length+" dimensions)");if(ne[0]!==ne[1])throw new Error("For A^b, A must be square (size is "+ne[0]+"x"+ne[1]+")");if(ee<0)try{return Z(L(W),-ee)}catch(oe){throw oe.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+ee+")"):oe}for(var ie=I(ne[0]).valueOf(),se=W;ee>=1;)(ee&1)===1&&(ie=F(se,ie)),ee>>=1,se=F(se,se);return ie}function Y(W,ee){return z(Z(W.valueOf(),ee))}}),NO_INT="Number of decimals in function round must be an integer",name$2Z="round",dependencies$2Z=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],createRound=factory(name$2Z,dependencies$2Z,_=>{var{typed:R,config:O,matrix:I,equalScalar:F,zeros:z,BigNumber:L,DenseMatrix:U}=_,q=createMatAlgo11xS0s({typed:R,equalScalar:F}),G=createMatAlgo12xSfs({typed:R,DenseMatrix:U}),V=createMatAlgo14xDs({typed:R});function Z(Y){return Math.abs(splitNumber(Y).exponent)}return R(name$2Z,{number:function(W){var ee=roundNumber(W,Z(O.relTol)),ne=nearlyEqual$1(W,ee,O.relTol,O.absTol)?ee:W;return roundNumber(ne)},"number, number":function(W,ee){var ne=Z(O.relTol);if(ee>=ne)return roundNumber(W,ee);var ie=roundNumber(W,ne),se=nearlyEqual$1(W,ie,O.relTol,O.absTol)?ie:W;return roundNumber(se,ee)},"number, BigNumber":function(W,ee){if(!ee.isInteger())throw new TypeError(NO_INT);return new L(W).toDecimalPlaces(ee.toNumber())},Complex:function(W){return W.round()},"Complex, number":function(W,ee){if(ee%1)throw new TypeError(NO_INT);return W.round(ee)},"Complex, BigNumber":function(W,ee){if(!ee.isInteger())throw new TypeError(NO_INT);var ne=ee.toNumber();return W.round(ne)},BigNumber:function(W){var ee=new L(W).toDecimalPlaces(Z(O.relTol)),ne=nearlyEqual(W,ee,O.relTol,O.absTol)?ee:W;return ne.toDecimalPlaces(0)},"BigNumber, BigNumber":function(W,ee){if(!ee.isInteger())throw new TypeError(NO_INT);var ne=Z(O.relTol);if(ee>=ne)return W.toDecimalPlaces(ee.toNumber());var ie=W.toDecimalPlaces(ne),se=nearlyEqual(W,ie,O.relTol,O.absTol)?ie:W;return se.toDecimalPlaces(ee.toNumber())},bigint:Y=>Y,"bigint, number":(Y,W)=>Y,"bigint, BigNumber":(Y,W)=>Y,Fraction:function(W){return W.round()},"Fraction, number":function(W,ee){if(ee%1)throw new TypeError(NO_INT);return W.round(ee)},"Fraction, BigNumber":function(W,ee){if(!ee.isInteger())throw new TypeError(NO_INT);return W.round(ee.toNumber())},"Unit, number, Unit":R.referToSelf(Y=>function(W,ee,ne){var ie=W.toNumeric(ne);return ne.multiply(Y(ie,ee))}),"Unit, BigNumber, Unit":R.referToSelf(Y=>(W,ee,ne)=>Y(W,ee.toNumber(),ne)),"Array | Matrix, number | BigNumber, Unit":R.referToSelf(Y=>(W,ee,ne)=>deepMap(W,ie=>Y(ie,ee,ne),!0)),"Array | Matrix | Unit, Unit":R.referToSelf(Y=>(W,ee)=>Y(W,0,ee)),"Array | Matrix":R.referToSelf(Y=>W=>deepMap(W,Y,!0)),"SparseMatrix, number | BigNumber":R.referToSelf(Y=>(W,ee)=>q(W,ee,Y,!1)),"DenseMatrix, number | BigNumber":R.referToSelf(Y=>(W,ee)=>V(W,ee,Y,!1)),"Array, number | BigNumber":R.referToSelf(Y=>(W,ee)=>V(I(W),ee,Y,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":R.referToSelf(Y=>(W,ee)=>F(W,0)?z(ee.size(),ee.storage()):G(ee,W,Y,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":R.referToSelf(Y=>(W,ee)=>F(W,0)?z(ee.size(),ee.storage()):V(ee,W,Y,!0)),"number | Complex | BigNumber | Fraction, Array":R.referToSelf(Y=>(W,ee)=>V(I(ee),W,Y,!0).valueOf())})}),name$2Y="log",dependencies$2Y=["config","typed","typeOf","divideScalar","Complex"],nlg16=Math.log(16),createLog=factory(name$2Y,dependencies$2Y,_=>{var{typed:R,typeOf:O,config:I,divideScalar:F,Complex:z}=_;function L(q){return q.log()}function U(q){return L(new z(q,0))}return R(name$2Y,{number:function(G){return G>=0||I.predictable?logNumber(G):U(G)},bigint:promoteLogarithm(nlg16,logNumber,I,U),Complex:L,BigNumber:function(G){return!G.isNegative()||I.predictable?G.ln():U(G.toNumber())},"any, any":R.referToSelf(q=>(G,V)=>{if(O(G)==="Fraction"&&O(V)==="Fraction"){var Z=G.log(V);if(Z!==null)return Z}return F(q(G),q(V))})})}),name$2X="log1p",dependencies$2X=["typed","config","divideScalar","log","Complex"],createLog1p=factory(name$2X,dependencies$2X,_=>{var{typed:R,config:O,divideScalar:I,log:F,Complex:z}=_;return R(name$2X,{number:function(q){return q>=-1||O.predictable?log1p$1(q):L(new z(q,0))},Complex:L,BigNumber:function(q){var G=q.plus(1);return!G.isNegative()||O.predictable?G.ln():L(new z(q.toNumber(),0))},"Array | Matrix":R.referToSelf(U=>q=>deepMap(q,U)),"any, any":R.referToSelf(U=>(q,G)=>I(U(q),F(G)))});function L(U){var q=U.re+1;return new z(Math.log(Math.sqrt(q*q+U.im*U.im)),Math.atan2(U.im,q))}}),name$2W="nthRoots",dependencies$2W=["config","typed","divideScalar","Complex"],createNthRoots=factory(name$2W,dependencies$2W,_=>{var{typed:R,config:O,divideScalar:I,Complex:F}=_,z=[function(q){return new F(q,0)},function(q){return new F(0,q)},function(q){return new F(-q,0)},function(q){return new F(0,-q)}];function L(U,q){if(q<0)throw new Error("Root must be greater than zero");if(q===0)throw new Error("Root must be non-zero");if(q%1!==0)throw new Error("Root must be an integer");if(U===0||U.abs()===0)return[new F(0,0)];var G=typeof U=="number",V;(G||U.re===0||U.im===0)&&(G?V=2*+(U<0):U.im===0?V=2*+(U.re<0):V=2*+(U.im<0)+1);for(var Z=U.arg(),Y=U.abs(),W=[],ee=Math.pow(Y,1/q),ne=0;ne<q;ne++){var ie=(V+4*ne)/q;if(ie===Math.round(ie)){W.push(z[ie%4](ee));continue}W.push(new F({r:ee,phi:(Z+2*Math.PI*ne)/q}))}return W}return R(name$2W,{Complex:function(q){return L(q,2)},"Complex, number":L})}),name$2V="dotPow",dependencies$2V=["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],createDotPow=factory(name$2V,dependencies$2V,_=>{var{typed:R,equalScalar:O,matrix:I,pow:F,DenseMatrix:z,concat:L,SparseMatrix:U}=_,q=createMatAlgo03xDSf({typed:R}),G=createMatAlgo07xSSf({typed:R,SparseMatrix:U}),V=createMatAlgo11xS0s({typed:R,equalScalar:O}),Z=createMatAlgo12xSfs({typed:R,DenseMatrix:z}),Y=createMatrixAlgorithmSuite({typed:R,matrix:I,concat:L}),W={};for(var ee in F.signatures)Object.prototype.hasOwnProperty.call(F.signatures,ee)&&!ee.includes("Matrix")&&!ee.includes("Array")&&(W[ee]=F.signatures[ee]);var ne=R(W);return R(name$2V,Y({elop:ne,SS:G,DS:q,Ss:V,sS:Z}))}),name$2U="dotDivide",dependencies$2U=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],createDotDivide=factory(name$2U,dependencies$2U,_=>{var{typed:R,matrix:O,equalScalar:I,divideScalar:F,DenseMatrix:z,concat:L,SparseMatrix:U}=_,q=createMatAlgo02xDS0({typed:R,equalScalar:I}),G=createMatAlgo03xDSf({typed:R}),V=createMatAlgo07xSSf({typed:R,SparseMatrix:U}),Z=createMatAlgo11xS0s({typed:R,equalScalar:I}),Y=createMatAlgo12xSfs({typed:R,DenseMatrix:z}),W=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:L});return R(name$2U,W({elop:F,SS:V,DS:G,SD:q,Ss:Z,sS:Y}))});function createSolveValidation(_){var{DenseMatrix:R}=_;return function(I,F,z){var L=I.size();if(L.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+format$3(L)+")");var U=L[0],q=L[1];if(U!==q)throw new RangeError("Matrix must be square (size: "+format$3(L)+")");var G=[];if(isMatrix(F)){var V=F.size(),Z=F._data;if(V.length===1){if(V[0]!==U)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var Y=0;Y<U;Y++)G[Y]=[Z[Y]];return new R({data:G,size:[U,1],datatype:F._datatype})}if(V.length===2){if(V[0]!==U||V[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(isDenseMatrix(F)){if(z){G=[];for(var W=0;W<U;W++)G[W]=[Z[W][0]];return new R({data:G,size:[U,1],datatype:F._datatype})}return F}if(isSparseMatrix(F)){for(var ee=0;ee<U;ee++)G[ee]=[0];for(var ne=F._values,ie=F._index,se=F._ptr,oe=se[1],le=se[0];le<oe;le++){var ue=ie[le];G[ue][0]=ne[le]}return new R({data:G,size:[U,1],datatype:F._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(isArray$1(F)){var ce=arraySize(F);if(ce.length===1){if(ce[0]!==U)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var fe=0;fe<U;fe++)G[fe]=[F[fe]];return new R({data:G,size:[U,1]})}if(ce.length===2){if(ce[0]!==U||ce[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var me=0;me<U;me++)G[me]=[F[me][0]];return new R({data:G,size:[U,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var name$2T="lsolve",dependencies$2T=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],createLsolve=factory(name$2T,dependencies$2T,_=>{var{typed:R,matrix:O,divideScalar:I,multiplyScalar:F,subtractScalar:z,equalScalar:L,DenseMatrix:U}=_,q=createSolveValidation({DenseMatrix:U});return R(name$2T,{"SparseMatrix, Array | Matrix":function(Y,W){return V(Y,W)},"DenseMatrix, Array | Matrix":function(Y,W){return G(Y,W)},"Array, Array | Matrix":function(Y,W){var ee=O(Y),ne=G(ee,W);return ne.valueOf()}});function G(Z,Y){Y=q(Z,Y,!0);for(var W=Y._data,ee=Z._size[0],ne=Z._size[1],ie=[],se=Z._data,oe=0;oe<ne;oe++){var le=W[oe][0]||0,ue=void 0;if(L(le,0))ue=0;else{var ce=se[oe][oe];if(L(ce,0))throw new Error("Linear system cannot be solved since matrix is singular");ue=I(le,ce);for(var fe=oe+1;fe<ee;fe++)W[fe]=[z(W[fe][0]||0,F(ue,se[fe][oe]))]}ie[oe]=[ue]}return new U({data:ie,size:[ee,1]})}function V(Z,Y){Y=q(Z,Y,!0);for(var W=Y._data,ee=Z._size[0],ne=Z._size[1],ie=Z._values,se=Z._index,oe=Z._ptr,le=[],ue=0;ue<ne;ue++){var ce=W[ue][0]||0;if(L(ce,0))le[ue]=[0];else{for(var fe=0,me=[],he=[],pe=oe[ue],ge=oe[ue+1],_e=pe;_e<ge;_e++){var ye=se[_e];ye===ue?fe=ie[_e]:ye>ue&&(me.push(ie[_e]),he.push(ye))}if(L(fe,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var we=I(ce,fe),ve=0,$e=he.length;ve<$e;ve++){var be=he[ve];W[be]=[z(W[be][0]||0,F(we,me[ve]))]}le[ue]=[we]}}return new U({data:le,size:[ee,1]})}}),name$2S="usolve",dependencies$2S=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],createUsolve=factory(name$2S,dependencies$2S,_=>{var{typed:R,matrix:O,divideScalar:I,multiplyScalar:F,subtractScalar:z,equalScalar:L,DenseMatrix:U}=_,q=createSolveValidation({DenseMatrix:U});return R(name$2S,{"SparseMatrix, Array | Matrix":function(Y,W){return V(Y,W)},"DenseMatrix, Array | Matrix":function(Y,W){return G(Y,W)},"Array, Array | Matrix":function(Y,W){var ee=O(Y),ne=G(ee,W);return ne.valueOf()}});function G(Z,Y){Y=q(Z,Y,!0);for(var W=Y._data,ee=Z._size[0],ne=Z._size[1],ie=[],se=Z._data,oe=ne-1;oe>=0;oe--){var le=W[oe][0]||0,ue=void 0;if(L(le,0))ue=0;else{var ce=se[oe][oe];if(L(ce,0))throw new Error("Linear system cannot be solved since matrix is singular");ue=I(le,ce);for(var fe=oe-1;fe>=0;fe--)W[fe]=[z(W[fe][0]||0,F(ue,se[fe][oe]))]}ie[oe]=[ue]}return new U({data:ie,size:[ee,1]})}function V(Z,Y){Y=q(Z,Y,!0);for(var W=Y._data,ee=Z._size[0],ne=Z._size[1],ie=Z._values,se=Z._index,oe=Z._ptr,le=[],ue=ne-1;ue>=0;ue--){var ce=W[ue][0]||0;if(L(ce,0))le[ue]=[0];else{for(var fe=0,me=[],he=[],pe=oe[ue],ge=oe[ue+1],_e=ge-1;_e>=pe;_e--){var ye=se[_e];ye===ue?fe=ie[_e]:ye<ue&&(me.push(ie[_e]),he.push(ye))}if(L(fe,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var we=I(ce,fe),ve=0,$e=he.length;ve<$e;ve++){var be=he[ve];W[be]=[z(W[be][0],F(we,me[ve]))]}le[ue]=[we]}}return new U({data:le,size:[ee,1]})}}),name$2R="lsolveAll",dependencies$2R=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],createLsolveAll=factory(name$2R,dependencies$2R,_=>{var{typed:R,matrix:O,divideScalar:I,multiplyScalar:F,subtractScalar:z,equalScalar:L,DenseMatrix:U}=_,q=createSolveValidation({DenseMatrix:U});return R(name$2R,{"SparseMatrix, Array | Matrix":function(Y,W){return V(Y,W)},"DenseMatrix, Array | Matrix":function(Y,W){return G(Y,W)},"Array, Array | Matrix":function(Y,W){var ee=O(Y),ne=G(ee,W);return ne.map(ie=>ie.valueOf())}});function G(Z,Y){for(var W=[q(Z,Y,!0)._data.map(he=>he[0])],ee=Z._data,ne=Z._size[0],ie=Z._size[1],se=0;se<ie;se++)for(var oe=W.length,le=0;le<oe;le++){var ue=W[le];if(L(ee[se][se],0))if(L(ue[se],0)){if(le===0){var fe=[...ue];fe[se]=1;for(var me=se+1;me<ie;me++)fe[me]=z(fe[me],ee[me][se]);W.push(fe)}}else{if(le===0)return[];W.splice(le,1),le-=1,oe-=1}else{ue[se]=I(ue[se],ee[se][se]);for(var ce=se+1;ce<ie;ce++)ue[ce]=z(ue[ce],F(ue[se],ee[ce][se]))}}return W.map(he=>new U({data:he.map(pe=>[pe]),size:[ne,1]}))}function V(Z,Y){for(var W=[q(Z,Y,!0)._data.map(Te=>Te[0])],ee=Z._size[0],ne=Z._size[1],ie=Z._values,se=Z._index,oe=Z._ptr,le=0;le<ne;le++)for(var ue=W.length,ce=0;ce<ue;ce++){for(var fe=W[ce],me=[],he=[],pe=oe[le],ge=oe[le+1],_e=0,ye=pe;ye<ge;ye++){var we=se[ye];we===le?_e=ie[ye]:we>le&&(me.push(ie[ye]),he.push(we))}if(L(_e,0))if(L(fe[le],0)){if(ce===0){var Ce=[...fe];Ce[le]=1;for(var De=0,Ne=he.length;De<Ne;De++){var Me=he[De];Ce[Me]=z(Ce[Me],me[De])}W.push(Ce)}}else{if(ce===0)return[];W.splice(ce,1),ce-=1,ue-=1}else{fe[le]=I(fe[le],_e);for(var ve=0,$e=he.length;ve<$e;ve++){var be=he[ve];fe[be]=z(fe[be],F(fe[le],me[ve]))}}}return W.map(Te=>new U({data:Te.map(Re=>[Re]),size:[ee,1]}))}}),name$2Q="usolveAll",dependencies$2Q=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],createUsolveAll=factory(name$2Q,dependencies$2Q,_=>{var{typed:R,matrix:O,divideScalar:I,multiplyScalar:F,subtractScalar:z,equalScalar:L,DenseMatrix:U}=_,q=createSolveValidation({DenseMatrix:U});return R(name$2Q,{"SparseMatrix, Array | Matrix":function(Y,W){return V(Y,W)},"DenseMatrix, Array | Matrix":function(Y,W){return G(Y,W)},"Array, Array | Matrix":function(Y,W){var ee=O(Y),ne=G(ee,W);return ne.map(ie=>ie.valueOf())}});function G(Z,Y){for(var W=[q(Z,Y,!0)._data.map(he=>he[0])],ee=Z._data,ne=Z._size[0],ie=Z._size[1],se=ie-1;se>=0;se--)for(var oe=W.length,le=0;le<oe;le++){var ue=W[le];if(L(ee[se][se],0))if(L(ue[se],0)){if(le===0){var fe=[...ue];fe[se]=1;for(var me=se-1;me>=0;me--)fe[me]=z(fe[me],ee[me][se]);W.push(fe)}}else{if(le===0)return[];W.splice(le,1),le-=1,oe-=1}else{ue[se]=I(ue[se],ee[se][se]);for(var ce=se-1;ce>=0;ce--)ue[ce]=z(ue[ce],F(ue[se],ee[ce][se]))}}return W.map(he=>new U({data:he.map(pe=>[pe]),size:[ne,1]}))}function V(Z,Y){for(var W=[q(Z,Y,!0)._data.map(Te=>Te[0])],ee=Z._size[0],ne=Z._size[1],ie=Z._values,se=Z._index,oe=Z._ptr,le=ne-1;le>=0;le--)for(var ue=W.length,ce=0;ce<ue;ce++){for(var fe=W[ce],me=[],he=[],pe=oe[le],ge=oe[le+1],_e=0,ye=ge-1;ye>=pe;ye--){var we=se[ye];we===le?_e=ie[ye]:we<le&&(me.push(ie[ye]),he.push(we))}if(L(_e,0))if(L(fe[le],0)){if(ce===0){var Ce=[...fe];Ce[le]=1;for(var De=0,Ne=he.length;De<Ne;De++){var Me=he[De];Ce[Me]=z(Ce[Me],me[De])}W.push(Ce)}}else{if(ce===0)return[];W.splice(ce,1),ce-=1,ue-=1}else{fe[le]=I(fe[le],_e);for(var ve=0,$e=he.length;ve<$e;ve++){var be=he[ve];fe[be]=z(fe[be],F(fe[le],me[ve]))}}}return W.map(Te=>new U({data:Te.map(Re=>[Re]),size:[ee,1]}))}}),name$2P="matAlgo08xS0Sid",dependencies$2P=["typed","equalScalar"],createMatAlgo08xS0Sid=factory(name$2P,dependencies$2P,_=>{var{typed:R,equalScalar:O}=_;return function(F,z,L){var U=F._values,q=F._index,G=F._ptr,V=F._size,Z=F._datatype||F._data===void 0?F._datatype:F.getDataType(),Y=z._values,W=z._index,ee=z._ptr,ne=z._size,ie=z._datatype||z._data===void 0?z._datatype:z.getDataType();if(V.length!==ne.length)throw new DimensionError(V.length,ne.length);if(V[0]!==ne[0]||V[1]!==ne[1])throw new RangeError("Dimension mismatch. Matrix A ("+V+") must match Matrix B ("+ne+")");if(!U||!Y)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var se=V[0],oe=V[1],le,ue=O,ce=0,fe=L;typeof Z=="string"&&Z===ie&&Z!=="mixed"&&(le=Z,ue=R.find(O,[le,le]),ce=R.convert(0,le),fe=R.find(L,[le,le]));for(var me=[],he=[],pe=[],ge=[],_e=[],ye,we,ve,$e,be=0;be<oe;be++){pe[be]=he.length;var Ce=be+1;for(we=G[be],ve=G[be+1],ye=we;ye<ve;ye++)$e=q[ye],_e[$e]=Ce,ge[$e]=U[ye],he.push($e);for(we=ee[be],ve=ee[be+1],ye=we;ye<ve;ye++)$e=W[ye],_e[$e]===Ce&&(ge[$e]=fe(ge[$e],Y[ye]));for(ye=pe[be];ye<he.length;){$e=he[ye];var De=ge[$e];ue(De,ce)?he.splice(ye,1):(me.push(De),ye++)}}return pe[oe]=he.length,F.createSparseMatrix({values:me,index:he,ptr:pe,size:[se,oe],datatype:Z===F._datatype&&ie===z._datatype?le:void 0})}}),createUseMatrixForArrayScalar=factory("useMatrixForArrayScalar",["typed","matrix"],_=>{var{typed:R,matrix:O}=_;return{"Array, number":R.referTo("DenseMatrix, number",I=>(F,z)=>I(O(F),z).valueOf()),"Array, BigNumber":R.referTo("DenseMatrix, BigNumber",I=>(F,z)=>I(O(F),z).valueOf()),"number, Array":R.referTo("number, DenseMatrix",I=>(F,z)=>I(F,O(z)).valueOf()),"BigNumber, Array":R.referTo("BigNumber, DenseMatrix",I=>(F,z)=>I(F,O(z)).valueOf())}}),name$2O="leftShift",dependencies$2O=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],createLeftShift=factory(name$2O,dependencies$2O,_=>{var{typed:R,matrix:O,equalScalar:I,zeros:F,DenseMatrix:z,concat:L}=_,U=createMatAlgo01xDSid({typed:R}),q=createMatAlgo02xDS0({typed:R,equalScalar:I}),G=createMatAlgo08xS0Sid({typed:R,equalScalar:I}),V=createMatAlgo10xSids({typed:R,DenseMatrix:z}),Z=createMatAlgo11xS0s({typed:R,equalScalar:I}),Y=createMatAlgo14xDs({typed:R}),W=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:L}),ee=createUseMatrixForArrayScalar({typed:R,matrix:O});return R(name$2O,{"number, number":leftShiftNumber,"BigNumber, BigNumber":leftShiftBigNumber,"bigint, bigint":(ne,ie)=>ne<<ie,"SparseMatrix, number | BigNumber":R.referToSelf(ne=>(ie,se)=>I(se,0)?ie.clone():Z(ie,se,ne,!1)),"DenseMatrix, number | BigNumber":R.referToSelf(ne=>(ie,se)=>I(se,0)?ie.clone():Y(ie,se,ne,!1)),"number | BigNumber, SparseMatrix":R.referToSelf(ne=>(ie,se)=>I(ie,0)?F(se.size(),se.storage()):V(se,ie,ne,!0)),"number | BigNumber, DenseMatrix":R.referToSelf(ne=>(ie,se)=>I(ie,0)?F(se.size(),se.storage()):Y(se,ie,ne,!0))},ee,W({SS:G,DS:U,SD:q}))}),name$2N="rightArithShift",dependencies$2N=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],createRightArithShift=factory(name$2N,dependencies$2N,_=>{var{typed:R,matrix:O,equalScalar:I,zeros:F,DenseMatrix:z,concat:L}=_,U=createMatAlgo01xDSid({typed:R}),q=createMatAlgo02xDS0({typed:R,equalScalar:I}),G=createMatAlgo08xS0Sid({typed:R,equalScalar:I}),V=createMatAlgo10xSids({typed:R,DenseMatrix:z}),Z=createMatAlgo11xS0s({typed:R,equalScalar:I}),Y=createMatAlgo14xDs({typed:R}),W=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:L}),ee=createUseMatrixForArrayScalar({typed:R,matrix:O});return R(name$2N,{"number, number":rightArithShiftNumber,"BigNumber, BigNumber":rightArithShiftBigNumber,"bigint, bigint":(ne,ie)=>ne>>ie,"SparseMatrix, number | BigNumber":R.referToSelf(ne=>(ie,se)=>I(se,0)?ie.clone():Z(ie,se,ne,!1)),"DenseMatrix, number | BigNumber":R.referToSelf(ne=>(ie,se)=>I(se,0)?ie.clone():Y(ie,se,ne,!1)),"number | BigNumber, SparseMatrix":R.referToSelf(ne=>(ie,se)=>I(ie,0)?F(se.size(),se.storage()):V(se,ie,ne,!0)),"number | BigNumber, DenseMatrix":R.referToSelf(ne=>(ie,se)=>I(ie,0)?F(se.size(),se.storage()):Y(se,ie,ne,!0))},ee,W({SS:G,DS:U,SD:q}))}),name$2M="rightLogShift",dependencies$2M=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],createRightLogShift=factory(name$2M,dependencies$2M,_=>{var{typed:R,matrix:O,equalScalar:I,zeros:F,DenseMatrix:z,concat:L}=_,U=createMatAlgo01xDSid({typed:R}),q=createMatAlgo02xDS0({typed:R,equalScalar:I}),G=createMatAlgo08xS0Sid({typed:R,equalScalar:I}),V=createMatAlgo10xSids({typed:R,DenseMatrix:z}),Z=createMatAlgo11xS0s({typed:R,equalScalar:I}),Y=createMatAlgo14xDs({typed:R}),W=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:L}),ee=createUseMatrixForArrayScalar({typed:R,matrix:O});return R(name$2M,{"number, number":rightLogShiftNumber,"SparseMatrix, number | BigNumber":R.referToSelf(ne=>(ie,se)=>I(se,0)?ie.clone():Z(ie,se,ne,!1)),"DenseMatrix, number | BigNumber":R.referToSelf(ne=>(ie,se)=>I(se,0)?ie.clone():Y(ie,se,ne,!1)),"number | BigNumber, SparseMatrix":R.referToSelf(ne=>(ie,se)=>I(ie,0)?F(se.size(),se.storage()):V(se,ie,ne,!0)),"number | BigNumber, DenseMatrix":R.referToSelf(ne=>(ie,se)=>I(ie,0)?F(se.size(),se.storage()):Y(se,ie,ne,!0))},ee,W({SS:G,DS:U,SD:q}))}),name$2L="and",dependencies$2L=["typed","matrix","equalScalar","zeros","not","concat"],createAnd=factory(name$2L,dependencies$2L,_=>{var{typed:R,matrix:O,equalScalar:I,zeros:F,not:z,concat:L}=_,U=createMatAlgo02xDS0({typed:R,equalScalar:I}),q=createMatAlgo06xS0S0({typed:R,equalScalar:I}),G=createMatAlgo11xS0s({typed:R,equalScalar:I}),V=createMatAlgo14xDs({typed:R}),Z=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:L});return R(name$2L,{"number, number":andNumber,"Complex, Complex":function(W,ee){return(W.re!==0||W.im!==0)&&(ee.re!==0||ee.im!==0)},"BigNumber, BigNumber":function(W,ee){return!W.isZero()&&!ee.isZero()&&!W.isNaN()&&!ee.isNaN()},"bigint, bigint":andNumber,"Unit, Unit":R.referToSelf(Y=>(W,ee)=>Y(W.value||0,ee.value||0)),"SparseMatrix, any":R.referToSelf(Y=>(W,ee)=>z(ee)?F(W.size(),W.storage()):G(W,ee,Y,!1)),"DenseMatrix, any":R.referToSelf(Y=>(W,ee)=>z(ee)?F(W.size(),W.storage()):V(W,ee,Y,!1)),"any, SparseMatrix":R.referToSelf(Y=>(W,ee)=>z(W)?F(W.size(),W.storage()):G(ee,W,Y,!0)),"any, DenseMatrix":R.referToSelf(Y=>(W,ee)=>z(W)?F(W.size(),W.storage()):V(ee,W,Y,!0)),"Array, any":R.referToSelf(Y=>(W,ee)=>Y(O(W),ee).valueOf()),"any, Array":R.referToSelf(Y=>(W,ee)=>Y(W,O(ee)).valueOf())},Z({SS:q,DS:U}))}),name$2K="compare",dependencies$2K=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],createCompare=factory(name$2K,dependencies$2K,_=>{var{typed:R,config:O,equalScalar:I,matrix:F,BigNumber:z,Fraction:L,DenseMatrix:U,concat:q}=_,G=createMatAlgo03xDSf({typed:R}),V=createMatAlgo05xSfSf({typed:R,equalScalar:I}),Z=createMatAlgo12xSfs({typed:R,DenseMatrix:U}),Y=createMatrixAlgorithmSuite({typed:R,matrix:F,concat:q}),W=createCompareUnits({typed:R});return R(name$2K,createCompareNumber({typed:R,config:O}),{"boolean, boolean":function(ne,ie){return ne===ie?0:ne>ie?1:-1},"BigNumber, BigNumber":function(ne,ie){return nearlyEqual(ne,ie,O.relTol,O.absTol)?new z(0):new z(ne.cmp(ie))},"bigint, bigint":function(ne,ie){return ne===ie?0n:ne>ie?1n:-1n},"Fraction, Fraction":function(ne,ie){return new L(ne.compare(ie))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},W,Y({SS:V,DS:G,Ss:Z}))}),createCompareNumber=factory(name$2K,["typed","config"],_=>{var{typed:R,config:O}=_;return R(name$2K,{"number, number":function(F,z){return nearlyEqual$1(F,z,O.relTol,O.absTol)?0:F>z?1:-1}})}),naturalSort$1,hasRequiredNaturalSort;function requireNaturalSort(){return hasRequiredNaturalSort||(hasRequiredNaturalSort=1,naturalSort$1=function _(R,O){var I=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,F=/(^[ ]*|[ ]*$)/g,z=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,L=/^0x[0-9a-f]+$/i,U=/^0/,q=function(le){return _.insensitive&&(""+le).toLowerCase()||""+le},G=q(R).replace(F,"")||"",V=q(O).replace(F,"")||"",Z=G.replace(I,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),Y=V.replace(I,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),W=parseInt(G.match(L),16)||Z.length!==1&&G.match(z)&&Date.parse(G),ee=parseInt(V.match(L),16)||W&&V.match(z)&&Date.parse(V)||null,ne,ie;if(ee){if(W<ee)return-1;if(W>ee)return 1}for(var se=0,oe=Math.max(Z.length,Y.length);se<oe;se++){if(ne=!(Z[se]||"").match(U)&&parseFloat(Z[se])||Z[se]||0,ie=!(Y[se]||"").match(U)&&parseFloat(Y[se])||Y[se]||0,isNaN(ne)!==isNaN(ie))return isNaN(ne)?1:-1;if(typeof ne!=typeof ie&&(ne+="",ie+=""),ne<ie)return-1;if(ne>ie)return 1}return 0}),naturalSort$1}var naturalSortExports=requireNaturalSort();const naturalSort=getDefaultExportFromCjs(naturalSortExports);var name$2J="compareNatural",dependencies$2J=["typed","compare"],createCompareNatural=factory(name$2J,dependencies$2J,_=>{var{typed:R,compare:O}=_,I=O.signatures["boolean,boolean"];return R(name$2J,{"any, any":F});function F(q,G){var V=typeOf$1(q),Z=typeOf$1(G),Y;if((V==="number"||V==="BigNumber"||V==="Fraction")&&(Z==="number"||Z==="BigNumber"||Z==="Fraction"))return Y=O(q,G),Y.toString()!=="0"?Y>0?1:-1:naturalSort(V,Z);var W=["Array","DenseMatrix","SparseMatrix"];if(W.includes(V)||W.includes(Z))return Y=z(F,q,G),Y!==0?Y:naturalSort(V,Z);if(V!==Z)return naturalSort(V,Z);if(V==="Complex")return compareComplexNumbers(q,G);if(V==="Unit")return q.equalBase(G)?F(q.value,G.value):L(F,q.formatUnits(),G.formatUnits());if(V==="boolean")return I(q,G);if(V==="string")return naturalSort(q,G);if(V==="Object")return U(F,q,G);if(V==="null"||V==="undefined")return 0;throw new TypeError('Unsupported type of value "'+V+'"')}function z(q,G,V){return isSparseMatrix(G)&&isSparseMatrix(V)?L(q,G.toJSON().values,V.toJSON().values):isSparseMatrix(G)?z(q,G.toArray(),V):isSparseMatrix(V)?z(q,G,V.toArray()):isDenseMatrix(G)?z(q,G.toJSON().data,V):isDenseMatrix(V)?z(q,G,V.toJSON().data):Array.isArray(G)?Array.isArray(V)?L(q,G,V):z(q,G,[V]):z(q,[G],V)}function L(q,G,V){for(var Z=0,Y=Math.min(G.length,V.length);Z<Y;Z++){var W=q(G[Z],V[Z]);if(W!==0)return W}return G.length>V.length?1:G.length<V.length?-1:0}function U(q,G,V){var Z=Object.keys(G),Y=Object.keys(V);Z.sort(naturalSort),Y.sort(naturalSort);var W=L(q,Z,Y);if(W!==0)return W;for(var ee=0;ee<Z.length;ee++){var ne=q(G[Z[ee]],V[Y[ee]]);if(ne!==0)return ne}return 0}});function compareComplexNumbers(_,R){return _.re>R.re?1:_.re<R.re?-1:_.im>R.im?1:_.im<R.im?-1:0}var name$2I="compareText",dependencies$2I=["typed","matrix","concat"];compareText$1.signature="any, any";var createCompareText=factory(name$2I,dependencies$2I,_=>{var{typed:R,matrix:O,concat:I}=_,F=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:I});return R(name$2I,compareText$1,F({elop:compareText$1,Ds:!0}))}),name$2H="equal",dependencies$2H=["typed","matrix","equalScalar","DenseMatrix","SparseMatrix"],createEqual=factory(name$2H,dependencies$2H,_=>{var{typed:R,matrix:O,equalScalar:I,DenseMatrix:F,concat:z,SparseMatrix:L}=_,U=createMatAlgo03xDSf({typed:R}),q=createMatAlgo07xSSf({typed:R,SparseMatrix:L}),G=createMatAlgo12xSfs({typed:R,DenseMatrix:F}),V=createMatrixAlgorithmSuite({typed:R,matrix:O});return R(name$2H,createEqualNumber({typed:R,equalScalar:I}),V({elop:I,SS:q,DS:U,Ss:G}))}),createEqualNumber=factory(name$2H,["typed","equalScalar"],_=>{var{typed:R,equalScalar:O}=_;return R(name$2H,{"any, any":function(F,z){return F===null?z===null:z===null?F===null:F===void 0?z===void 0:z===void 0?F===void 0:O(F,z)}})}),name$2G="equalText",dependencies$2G=["typed","compareText","isZero"],createEqualText=factory(name$2G,dependencies$2G,_=>{var{typed:R,compareText:O,isZero:I}=_;return R(name$2G,{"any, any":function(z,L){return I(O(z,L))}})}),name$2F="smaller",dependencies$2F=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],createSmaller=factory(name$2F,dependencies$2F,_=>{var{typed:R,config:O,bignumber:I,matrix:F,DenseMatrix:z,concat:L,SparseMatrix:U}=_,q=createMatAlgo03xDSf({typed:R}),G=createMatAlgo07xSSf({typed:R,SparseMatrix:U}),V=createMatAlgo12xSfs({typed:R,DenseMatrix:z}),Z=createMatrixAlgorithmSuite({typed:R,matrix:F,concat:L}),Y=createCompareUnits({typed:R});function W(ee,ne){return ee.lt(ne)&&!nearlyEqual(ee,ne,O.relTol,O.absTol)}return R(name$2F,createSmallerNumber({typed:R,config:O}),{"boolean, boolean":(ee,ne)=>ee<ne,"BigNumber, BigNumber":W,"bigint, bigint":(ee,ne)=>ee<ne,"Fraction, Fraction":(ee,ne)=>ee.compare(ne)===-1,"Fraction, BigNumber":function(ne,ie){return W(I(ne),ie)},"BigNumber, Fraction":function(ne,ie){return W(ne,I(ie))},"Complex, Complex":function(ne,ie){throw new TypeError("No ordering relation is defined for complex numbers")}},Y,Z({SS:G,DS:q,Ss:V}))}),createSmallerNumber=factory(name$2F,["typed","config"],_=>{var{typed:R,config:O}=_;return R(name$2F,{"number, number":function(F,z){return F<z&&!nearlyEqual$1(F,z,O.relTol,O.absTol)}})}),name$2E="smallerEq",dependencies$2E=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],createSmallerEq=factory(name$2E,dependencies$2E,_=>{var{typed:R,config:O,matrix:I,DenseMatrix:F,concat:z,SparseMatrix:L}=_,U=createMatAlgo03xDSf({typed:R}),q=createMatAlgo07xSSf({typed:R,SparseMatrix:L}),G=createMatAlgo12xSfs({typed:R,DenseMatrix:F}),V=createMatrixAlgorithmSuite({typed:R,matrix:I,concat:z}),Z=createCompareUnits({typed:R});return R(name$2E,createSmallerEqNumber({typed:R,config:O}),{"boolean, boolean":(Y,W)=>Y<=W,"BigNumber, BigNumber":function(W,ee){return W.lte(ee)||nearlyEqual(W,ee,O.relTol,O.absTol)},"bigint, bigint":(Y,W)=>Y<=W,"Fraction, Fraction":(Y,W)=>Y.compare(W)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},Z,V({SS:q,DS:U,Ss:G}))}),createSmallerEqNumber=factory(name$2E,["typed","config"],_=>{var{typed:R,config:O}=_;return R(name$2E,{"number, number":function(F,z){return F<=z||nearlyEqual$1(F,z,O.relTol,O.absTol)}})}),name$2D="larger",dependencies$2D=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],createLarger=factory(name$2D,dependencies$2D,_=>{var{typed:R,config:O,bignumber:I,matrix:F,DenseMatrix:z,concat:L,SparseMatrix:U}=_,q=createMatAlgo03xDSf({typed:R}),G=createMatAlgo07xSSf({typed:R,SparseMatrix:U}),V=createMatAlgo12xSfs({typed:R,DenseMatrix:z}),Z=createMatrixAlgorithmSuite({typed:R,matrix:F,concat:L}),Y=createCompareUnits({typed:R});function W(ee,ne){return ee.gt(ne)&&!nearlyEqual(ee,ne,O.relTol,O.absTol)}return R(name$2D,createLargerNumber({typed:R,config:O}),{"boolean, boolean":(ee,ne)=>ee>ne,"BigNumber, BigNumber":W,"bigint, bigint":(ee,ne)=>ee>ne,"Fraction, Fraction":(ee,ne)=>ee.compare(ne)===1,"Fraction, BigNumber":function(ne,ie){return W(I(ne),ie)},"BigNumber, Fraction":function(ne,ie){return W(ne,I(ie))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},Y,Z({SS:G,DS:q,Ss:V}))}),createLargerNumber=factory(name$2D,["typed","config"],_=>{var{typed:R,config:O}=_;return R(name$2D,{"number, number":function(F,z){return F>z&&!nearlyEqual$1(F,z,O.relTol,O.absTol)}})}),name$2C="largerEq",dependencies$2C=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],createLargerEq=factory(name$2C,dependencies$2C,_=>{var{typed:R,config:O,matrix:I,DenseMatrix:F,concat:z,SparseMatrix:L}=_,U=createMatAlgo03xDSf({typed:R}),q=createMatAlgo07xSSf({typed:R,SparseMatrix:L}),G=createMatAlgo12xSfs({typed:R,DenseMatrix:F}),V=createMatrixAlgorithmSuite({typed:R,matrix:I,concat:z}),Z=createCompareUnits({typed:R});return R(name$2C,createLargerEqNumber({typed:R,config:O}),{"boolean, boolean":(Y,W)=>Y>=W,"BigNumber, BigNumber":function(W,ee){return W.gte(ee)||nearlyEqual(W,ee,O.relTol,O.absTol)},"bigint, bigint":function(W,ee){return W>=ee},"Fraction, Fraction":(Y,W)=>Y.compare(W)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},Z,V({SS:q,DS:U,Ss:G}))}),createLargerEqNumber=factory(name$2C,["typed","config"],_=>{var{typed:R,config:O}=_;return R(name$2C,{"number, number":function(F,z){return F>=z||nearlyEqual$1(F,z,O.relTol,O.absTol)}})}),name$2B="deepEqual",dependencies$2B=["typed","equal"],createDeepEqual=factory(name$2B,dependencies$2B,_=>{var{typed:R,equal:O}=_;return R(name$2B,{"any, any":function(z,L){return I(z.valueOf(),L.valueOf())}});function I(F,z){if(Array.isArray(F))if(Array.isArray(z)){var L=F.length;if(L!==z.length)return!1;for(var U=0;U<L;U++)if(!I(F[U],z[U]))return!1;return!0}else return!1;else return Array.isArray(z)?!1:O(F,z)}}),name$2A="unequal",dependencies$2A=["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],createUnequal=factory(name$2A,dependencies$2A,_=>{var{typed:R,config:O,equalScalar:I,matrix:F,DenseMatrix:z,concat:L,SparseMatrix:U}=_,q=createMatAlgo03xDSf({typed:R}),G=createMatAlgo07xSSf({typed:R,SparseMatrix:U}),V=createMatAlgo12xSfs({typed:R,DenseMatrix:z}),Z=createMatrixAlgorithmSuite({typed:R,matrix:F,concat:L});return R(name$2A,createUnequalNumber({typed:R,equalScalar:I}),Z({elop:Y,SS:G,DS:q,Ss:V}));function Y(W,ee){return!I(W,ee)}}),createUnequalNumber=factory(name$2A,["typed","equalScalar"],_=>{var{typed:R,equalScalar:O}=_;return R(name$2A,{"any, any":function(F,z){return F===null?z!==null:z===null?F!==null:F===void 0?z!==void 0:z===void 0?F!==void 0:!O(F,z)}})}),name$2z="partitionSelect",dependencies$2z=["typed","isNumeric","isNaN","compare"],createPartitionSelect=factory(name$2z,dependencies$2z,_=>{var{typed:R,isNumeric:O,isNaN:I,compare:F}=_,z=F,L=(G,V)=>-F(G,V);return R(name$2z,{"Array | Matrix, number":function(V,Z){return U(V,Z,z)},"Array | Matrix, number, string":function(V,Z,Y){if(Y==="asc")return U(V,Z,z);if(Y==="desc")return U(V,Z,L);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":U});function U(G,V,Z){if(!isInteger$1(V)||V<0)throw new Error("k must be a non-negative integer");if(isMatrix(G)){var Y=G.size();if(Y.length>1)throw new Error("Only one dimensional matrices supported");return q(G.valueOf(),V,Z)}if(Array.isArray(G))return q(G,V,Z)}function q(G,V,Z){if(V>=G.length)throw new Error("k out of bounds");for(var Y=0;Y<G.length;Y++)if(O(G[Y])&&I(G[Y]))return G[Y];for(var W=0,ee=G.length-1;W<ee;){for(var ne=W,ie=ee,se=G[Math.floor(Math.random()*(ee-W+1))+W];ne<ie;)if(Z(G[ne],se)>=0){var oe=G[ie];G[ie]=G[ne],G[ne]=oe,--ie}else++ne;Z(G[ne],se)>0&&--ne,V<=ne?ee=ne:W=ne+1}return G[V]}}),name$2y="sort",dependencies$2y=["typed","matrix","compare","compareNatural"],createSort=factory(name$2y,dependencies$2y,_=>{var{typed:R,matrix:O,compare:I,compareNatural:F}=_,z=I,L=(V,Z)=>-I(V,Z);return R(name$2y,{Array:function(Z){return q(Z),Z.sort(z)},Matrix:function(Z){return G(Z),O(Z.toArray().sort(z),Z.storage())},"Array, function":function(Z,Y){return q(Z),Z.sort(Y)},"Matrix, function":function(Z,Y){return G(Z),O(Z.toArray().sort(Y),Z.storage())},"Array, string":function(Z,Y){return q(Z),Z.sort(U(Y))},"Matrix, string":function(Z,Y){return G(Z),O(Z.toArray().sort(U(Y)),Z.storage())}});function U(V){if(V==="asc")return z;if(V==="desc")return L;if(V==="natural")return F;throw new Error('String "asc", "desc", or "natural" expected')}function q(V){if(arraySize(V).length!==1)throw new Error("One dimensional array expected")}function G(V){if(V.size().length!==1)throw new Error("One dimensional matrix expected")}}),name$2x="max",dependencies$2x=["typed","config","numeric","larger","isNaN"],createMax=factory(name$2x,dependencies$2x,_=>{var{typed:R,config:O,numeric:I,larger:F,isNaN:z}=_;return R(name$2x,{"Array | Matrix":U,"Array | Matrix, number | BigNumber":function(G,V){return reduce(G,V.valueOf(),L)},"...":function(G){if(containsCollections(G))throw new TypeError("Scalar values expected in function max");return U(G)}});function L(q,G){try{return F(q,G)?q:G}catch(V){throw improveErrorMessage(V,"max",G)}}function U(q){var G;if(deepForEach(q,function(V){try{(z(V)||G===void 0||F(V,G))&&(G=V)}catch(Z){throw improveErrorMessage(Z,"max",V)}}),G===void 0)throw new Error("Cannot calculate max of an empty array");return typeof G=="string"&&(G=I(G,safeNumberType(G,O))),G}}),name$2w="min",dependencies$2w=["typed","config","numeric","smaller","isNaN"],createMin=factory(name$2w,dependencies$2w,_=>{var{typed:R,config:O,numeric:I,smaller:F,isNaN:z}=_;return R(name$2w,{"Array | Matrix":U,"Array | Matrix, number | BigNumber":function(G,V){return reduce(G,V.valueOf(),L)},"...":function(G){if(containsCollections(G))throw new TypeError("Scalar values expected in function min");return U(G)}});function L(q,G){try{return F(q,G)?q:G}catch(V){throw improveErrorMessage(V,"min",G)}}function U(q){var G;if(deepForEach(q,function(V){try{(z(V)||G===void 0||F(V,G))&&(G=V)}catch(Z){throw improveErrorMessage(Z,"min",V)}}),G===void 0)throw new Error("Cannot calculate min of an empty array");return typeof G=="string"&&(G=I(G,safeNumberType(G,O))),G}}),name$2v="ImmutableDenseMatrix",dependencies$2v=["smaller","DenseMatrix"],createImmutableDenseMatrixClass=factory(name$2v,dependencies$2v,_=>{var{smaller:R,DenseMatrix:O}=_;function I(F,z){if(!(this instanceof I))throw new SyntaxError("Constructor must be called with the new operator");if(z&&!isString(z))throw new Error("Invalid datatype: "+z);if(isMatrix(F)||isArray$1(F)){var L=new O(F,z);this._data=L._data,this._size=L._size,this._datatype=L._datatype,this._min=null,this._max=null}else if(F&&isArray$1(F.data)&&isArray$1(F.size))this._data=F.data,this._size=F.size,this._datatype=F.datatype,this._min=typeof F.min<"u"?F.min:null,this._max=typeof F.max<"u"?F.max:null;else{if(F)throw new TypeError("Unsupported type of data ("+typeOf$1(F)+")");this._data=[],this._size=[0],this._datatype=z,this._min=null,this._max=null}}return I.prototype=new O,I.prototype.type="ImmutableDenseMatrix",I.prototype.isImmutableDenseMatrix=!0,I.prototype.subset=function(F){switch(arguments.length){case 1:{var z=O.prototype.subset.call(this,F);return isMatrix(z)?new I({data:z._data,size:z._size,datatype:z._datatype}):z}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},I.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},I.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},I.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},I.prototype.clone=function(){return new I({data:clone$3(this._data),size:clone$3(this._size),datatype:this._datatype})},I.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},I.fromJSON=function(F){return new I(F)},I.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},I.prototype.min=function(){if(this._min===null){var F=null;this.forEach(function(z){(F===null||R(z,F))&&(F=z)}),this._min=F!==null?F:void 0}return this._min},I.prototype.max=function(){if(this._max===null){var F=null;this.forEach(function(z){(F===null||R(F,z))&&(F=z)}),this._max=F!==null?F:void 0}return this._max},I},{isClass:!0}),name$2u="Index",dependencies$2u=["ImmutableDenseMatrix","getMatrixDataType"],createIndexClass=factory(name$2u,dependencies$2u,_=>{var{ImmutableDenseMatrix:R,getMatrixDataType:O}=_;function I(){if(!(this instanceof I))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var z=0,L=arguments.length;z<L;z++){var U=z<0||arguments.length<=z?void 0:arguments[z],q=isArray$1(U),G=isMatrix(U),V=typeof U,Z=null;if(isRange(U))this._dimensions.push(U),this._isScalar=!1;else if(q||G){var Y=void 0;this._isScalar=!1,O(U)==="boolean"?(q&&(Y=F(_booleansArrayToNumbersForIndex(U).valueOf())),G&&(Y=F(_booleansArrayToNumbersForIndex(U._data).valueOf())),Z=U.valueOf().length):Y=F(U.valueOf()),this._dimensions.push(Y)}else if(V==="number")this._dimensions.push(U);else if(V==="bigint")this._dimensions.push(Number(U));else if(V==="string")this._dimensions.push(U);else throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._sourceSize.push(Z)}}I.prototype.type="Index",I.prototype.isIndex=!0;function F(z){for(var L=0,U=z.length;L<U;L++)if(!isNumber$1(z[L])||!isInteger$1(z[L]))throw new TypeError("Index parameters must be positive integer numbers");var q=new R;return q._data=z,q._size=[z.length],q}return I.prototype.clone=function(){var z=new I;return z._dimensions=clone$3(this._dimensions),z._isScalar=this._isScalar,z._sourceSize=this._sourceSize,z},I.create=function(z){var L=new I;return I.apply(L,z),L},I.prototype.size=function(){for(var z=[],L=0,U=this._dimensions.length;L<U;L++){var q=this._dimensions[L];z[L]=isString(q)||isNumber$1(q)?1:q.size()[0]}return z},I.prototype.max=function(){for(var z=[],L=0,U=this._dimensions.length;L<U;L++){var q=this._dimensions[L];z[L]=isString(q)||isNumber$1(q)?q:q.max()}return z},I.prototype.min=function(){for(var z=[],L=0,U=this._dimensions.length;L<U;L++){var q=this._dimensions[L];z[L]=isString(q)||isNumber$1(q)?q:q.min()}return z},I.prototype.forEach=function(z){for(var L=0,U=this._dimensions.length;L<U;L++)z(this._dimensions[L],L,this)},I.prototype.dimension=function(z){var L;return isNumber$1(z)&&(L=this._dimensions[z])!==null&&L!==void 0?L:null},I.prototype.isObjectProperty=function(){return this._dimensions.length===1&&isString(this._dimensions[0])},I.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},I.prototype.isScalar=function(){return this._isScalar},I.prototype.toArray=function(){for(var z=[],L=0,U=this._dimensions.length;L<U;L++){var q=this._dimensions[L];z.push(isString(q)||isNumber$1(q)?q:q.toArray())}return z},I.prototype.valueOf=I.prototype.toArray,I.prototype.toString=function(){for(var z=[],L=0,U=this._dimensions.length;L<U;L++){var q=this._dimensions[L];isString(q)?z.push(JSON.stringify(q)):z.push(q.toString())}return"["+z.join(", ")+"]"},I.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},I.fromJSON=function(z){return I.create(z.dimensions)},I},{isClass:!0});function _booleansArrayToNumbersForIndex(_){var R=[];return _.forEach((O,I)=>{O&&R.push(I)}),R}var name$2t="FibonacciHeap",dependencies$2t=["smaller","larger"],createFibonacciHeapClass=factory(name$2t,dependencies$2t,_=>{var{smaller:R,larger:O}=_,I=1/Math.log((1+Math.sqrt(5))/2);function F(){if(!(this instanceof F))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}F.prototype.type="FibonacciHeap",F.prototype.isFibonacciHeap=!0,F.prototype.insert=function(V,Z){var Y={key:V,value:Z,degree:0};if(this._minimum){var W=this._minimum;Y.left=W,Y.right=W.right,W.right=Y,Y.right.left=Y,R(V,W.key)&&(this._minimum=Y)}else Y.left=Y,Y.right=Y,this._minimum=Y;return this._size++,Y},F.prototype.size=function(){return this._size},F.prototype.clear=function(){this._minimum=null,this._size=0},F.prototype.isEmpty=function(){return this._size===0},F.prototype.extractMinimum=function(){var V=this._minimum;if(V===null)return V;for(var Z=this._minimum,Y=V.degree,W=V.child;Y>0;){var ee=W.right;W.left.right=W.right,W.right.left=W.left,W.left=Z,W.right=Z.right,Z.right=W,W.right.left=W,W.parent=null,W=ee,Y--}return V.left.right=V.right,V.right.left=V.left,V===V.right?Z=null:(Z=V.right,Z=G(Z,this._size)),this._size--,this._minimum=Z,V},F.prototype.remove=function(V){this._minimum=z(this._minimum,V,-1),this.extractMinimum()};function z(V,Z,Y){Z.key=Y;var W=Z.parent;return W&&R(Z.key,W.key)&&(L(V,Z,W),U(V,W)),R(Z.key,V.key)&&(V=Z),V}function L(V,Z,Y){Z.left.right=Z.right,Z.right.left=Z.left,Y.degree--,Y.child===Z&&(Y.child=Z.right),Y.degree===0&&(Y.child=null),Z.left=V,Z.right=V.right,V.right=Z,Z.right.left=Z,Z.parent=null,Z.mark=!1}function U(V,Z){var Y=Z.parent;Y&&(Z.mark?(L(V,Z,Y),U(Y)):Z.mark=!0)}var q=function(Z,Y){Z.left.right=Z.right,Z.right.left=Z.left,Z.parent=Y,Y.child?(Z.left=Y.child,Z.right=Y.child.right,Y.child.right=Z,Z.right.left=Z):(Y.child=Z,Z.right=Z,Z.left=Z),Y.degree++,Z.mark=!1};function G(V,Z){var Y=Math.floor(Math.log(Z)*I)+1,W=new Array(Y),ee=0,ne=V;if(ne)for(ee++,ne=ne.right;ne!==V;)ee++,ne=ne.right;for(var ie;ee>0;){for(var se=ne.degree,oe=ne.right;ie=W[se],!!ie;){if(O(ne.key,ie.key)){var le=ie;ie=ne,ne=le}q(ie,ne),W[se]=null,se++}W[se]=ne,ne=oe,ee--}V=null;for(var ue=0;ue<Y;ue++)ie=W[ue],ie&&(V?(ie.left.right=ie.right,ie.right.left=ie.left,ie.left=V,ie.right=V.right,V.right=ie,ie.right.left=ie,R(ie.key,V.key)&&(V=ie)):V=ie);return V}return F},{isClass:!0}),name$2s="Spa",dependencies$2s=["addScalar","equalScalar","FibonacciHeap"],createSpaClass=factory(name$2s,dependencies$2s,_=>{var{addScalar:R,equalScalar:O,FibonacciHeap:I}=_;function F(){if(!(this instanceof F))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new I}return F.prototype.type="Spa",F.prototype.isSpa=!0,F.prototype.set=function(z,L){if(this._values[z])this._values[z].value=L;else{var U=this._heap.insert(z,L);this._values[z]=U}},F.prototype.get=function(z){var L=this._values[z];return L?L.value:0},F.prototype.accumulate=function(z,L){var U=this._values[z];U?U.value=R(U.value,L):(U=this._heap.insert(z,L),this._values[z]=U)},F.prototype.forEach=function(z,L,U){var q=this._heap,G=this._values,V=[],Z=q.extractMinimum();for(Z&&V.push(Z);Z&&Z.key<=L;)Z.key>=z&&(O(Z.value,0)||U(Z.key,Z.value,this)),Z=q.extractMinimum(),Z&&V.push(Z);for(var Y=0;Y<V.length;Y++){var W=V[Y];Z=q.insert(W.key,W.value),G[Z.key]=Z}},F.prototype.swap=function(z,L){var U=this._values[z],q=this._values[L];if(!U&&q)U=this._heap.insert(z,q.value),this._heap.remove(q),this._values[z]=U,this._values[L]=void 0;else if(U&&!q)q=this._heap.insert(L,U.value),this._heap.remove(U),this._values[L]=q,this._values[z]=void 0;else if(U&&q){var G=U.value;U.value=q.value,q.value=G}},F},{isClass:!0});function lruQueue(_){var R=0,O=1,I=Object.create(null),F=Object.create(null),z=0,L=function(q){var G=F[q];if(G&&(delete I[G],delete F[q],--R,O===G)){if(!R){z=0,O=1;return}for(;!Object.prototype.hasOwnProperty.call(I,++O););}};return _=Math.abs(_),{hit:function(q){var G=F[q],V=++z;if(I[V]=q,F[q]=V,!G)return++R,R<=_?void 0:(q=I[O],L(q),q);if(delete I[G],O===G)for(;!Object.prototype.hasOwnProperty.call(I,++O););},delete:L,clear:function(){R=z=0,O=1,I=Object.create(null),F=Object.create(null)}}}function memoize(_){var{hasher:R,limit:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O=O??Number.POSITIVE_INFINITY,R=R??JSON.stringify,function I(){typeof I.cache!="object"&&(I.cache={values:new Map,lru:lruQueue(O||Number.POSITIVE_INFINITY)});for(var F=[],z=0;z<arguments.length;z++)F[z]=arguments[z];var L=R(F);if(I.cache.values.has(L))return I.cache.lru.hit(L),I.cache.values.get(L);var U=_.apply(_,F);return I.cache.values.set(L,U),I.cache.values.delete(I.cache.lru.hit(L)),U}}var createBigNumberE=memoize(function(_){return new _(1).exp()},{hasher}),createBigNumberPhi=memoize(function(_){return new _(1).plus(new _(5).sqrt()).div(2)},{hasher}),createBigNumberPi=memoize(function(_){return _.acos(-1)},{hasher}),createBigNumberTau=memoize(function(_){return createBigNumberPi(_).times(2)},{hasher});function hasher(_){return _[0].precision}function ownKeys$2(_,R){var O=Object.keys(_);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(_);R&&(I=I.filter(function(F){return Object.getOwnPropertyDescriptor(_,F).enumerable})),O.push.apply(O,I)}return O}function _objectSpread$2(_){for(var R=1;R<arguments.length;R++){var O=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$2(Object(O),!0).forEach(function(I){_defineProperty(_,I,O[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(O)):ownKeys$2(Object(O)).forEach(function(I){Object.defineProperty(_,I,Object.getOwnPropertyDescriptor(O,I))})}return _}var name$2r="Unit",dependencies$2r=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],createUnitClass=factory(name$2r,dependencies$2r,_=>{var{on:R,config:O,addScalar:I,subtractScalar:F,multiplyScalar:z,divideScalar:L,pow:U,abs:q,fix:G,round:V,equal:Z,isNumeric:Y,format:W,number:ee,Complex:ne,BigNumber:ie,Fraction:se}=_,oe=ee,le=!1,ue=!0;function ce(je,Ve){if(!(this instanceof ce))throw new Error("Constructor must be called with the new operator");if(!(je==null||Y(je)||isComplex(je)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=le,this.skipAutomaticSimplification=ue,Ve===void 0)this.units=[],this.dimensions=ze.map(Ue=>0);else if(typeof Ve=="string"){var Ie=ce.parse(Ve);this.units=Ie.units,this.dimensions=Ie.dimensions}else if(isUnit(Ve)&&Ve.value===null)this.fixPrefix=Ve.fixPrefix,this.skipAutomaticSimplification=Ve.skipAutomaticSimplification,this.dimensions=Ve.dimensions.slice(0),this.units=Ve.units.map(Ue=>_extends({},Ue));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(je)}Object.defineProperty(ce,"name",{value:"Unit"}),ce.prototype.constructor=ce,ce.prototype.type="Unit",ce.prototype.isUnit=!0;var fe,me,he;function pe(){for(;he===" "||he==="	";)ye()}function ge(je){return je>="0"&&je<="9"||je==="."}function _e(je){return je>="0"&&je<="9"}function ye(){me++,he=fe.charAt(me)}function we(je){me=je,he=fe.charAt(me)}function ve(){var je="",Ve=me;if(he==="+"?ye():he==="-"&&(je+=he,ye()),!ge(he))return we(Ve),null;if(he==="."){if(je+=he,ye(),!_e(he))return we(Ve),null}else{for(;_e(he);)je+=he,ye();he==="."&&(je+=he,ye())}for(;_e(he);)je+=he,ye();if(he==="E"||he==="e"){var Ie="",Ue=me;if(Ie+=he,ye(),(he==="+"||he==="-")&&(Ie+=he,ye()),!_e(he))return we(Ue),je;for(je=je+Ie;_e(he);)je+=he,ye()}return je}function $e(){for(var je="";_e(he)||ce.isValidAlpha(he);)je+=he,ye();var Ve=je.charAt(0);return ce.isValidAlpha(Ve)?je:null}function be(je){return he===je?(ye(),je):null}ce.parse=function(je,Ve){if(Ve=Ve||{},fe=je,me=-1,he="",typeof fe!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var Ie=new ce;Ie.units=[];var Ue=1,Xe=!1;ye(),pe();var Fe=ve(),Je=null;if(Fe){if(O.number==="BigNumber")Je=new ie(Fe);else if(O.number==="Fraction")try{Je=new se(Fe)}catch{Je=parseFloat(Fe)}else Je=parseFloat(Fe);pe(),be("*")?(Ue=1,Xe=!0):be("/")&&(Ue=-1,Xe=!0)}for(var et=[],ut=1;;){for(pe();he==="(";)et.push(Ue),ut*=Ue,Ue=1,ye(),pe();var ct=void 0;if(he){var bt=he;if(ct=$e(),ct===null)throw new SyntaxError('Unexpected "'+bt+'" in "'+fe+'" at index '+me.toString())}else break;var ht=Ce(ct);if(ht===null)throw new SyntaxError('Unit "'+ct+'" not found.');var xt=Ue*ut;if(pe(),be("^")){pe();var $t=ve();if($t===null)throw new SyntaxError('In "'+je+'", "^" must be followed by a floating-point number');xt*=$t}Ie.units.push({unit:ht.unit,prefix:ht.prefix,power:xt});for(var At=0;At<ze.length;At++)Ie.dimensions[At]+=(ht.unit.dimensions[At]||0)*xt;for(pe();he===")";){if(et.length===0)throw new SyntaxError('Unmatched ")" in "'+fe+'" at index '+me.toString());ut/=et.pop(),ye(),pe()}if(Xe=!1,be("*")?(Ue=1,Xe=!0):be("/")?(Ue=-1,Xe=!0):Ue=1,ht.unit.base){var Ct=ht.unit.base.key;He.auto[Ct]={unit:ht.unit,prefix:ht.prefix}}}if(pe(),he)throw new SyntaxError('Could not parse: "'+je+'"');if(Xe)throw new SyntaxError('Trailing characters: "'+je+'"');if(et.length!==0)throw new SyntaxError('Unmatched "(" in "'+fe+'"');if(Ie.units.length===0&&!Ve.allowNoUnits)throw new SyntaxError('"'+je+'" contains no units');return Ie.value=Je!==void 0?Ie._normalize(Je):null,Ie},ce.prototype.clone=function(){var je=new ce;je.fixPrefix=this.fixPrefix,je.skipAutomaticSimplification=this.skipAutomaticSimplification,je.value=clone$3(this.value),je.dimensions=this.dimensions.slice(0),je.units=[];for(var Ve=0;Ve<this.units.length;Ve++){je.units[Ve]={};for(var Ie in this.units[Ve])hasOwnProperty(this.units[Ve],Ie)&&(je.units[Ve][Ie]=this.units[Ve][Ie])}return je},ce.prototype.valueType=function(){return typeOf$1(this.value)},ce.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},ce.prototype._normalize=function(je){if(je==null||this.units.length===0)return je;for(var Ve=je,Ie=ce._getNumberConverter(typeOf$1(je)),Ue=0;Ue<this.units.length;Ue++){var Xe=Ie(this.units[Ue].unit.value),Fe=Ie(this.units[Ue].prefix.value),Je=Ie(this.units[Ue].power);Ve=z(Ve,U(z(Xe,Fe),Je))}return Ve},ce.prototype._denormalize=function(je,Ve){if(je==null||this.units.length===0)return je;for(var Ie=je,Ue=ce._getNumberConverter(typeOf$1(je)),Xe=0;Xe<this.units.length;Xe++){var Fe=Ue(this.units[Xe].unit.value),Je=Ue(this.units[Xe].prefix.value),et=Ue(this.units[Xe].power);Ie=L(Ie,U(z(Fe,Je),et))}return Ie};var Ce=memoize(je=>{if(hasOwnProperty(ke,je)){var Ve=ke[je],Ie=Ve.prefixes[""];return{unit:Ve,prefix:Ie}}for(var Ue in ke)if(hasOwnProperty(ke,Ue)&&endsWith(je,Ue)){var Xe=ke[Ue],Fe=je.length-Ue.length,Je=je.substring(0,Fe),et=hasOwnProperty(Xe.prefixes,Je)?Xe.prefixes[Je]:void 0;if(et!==void 0)return{unit:Xe,prefix:et}}return null},{hasher:je=>je[0],limit:100});ce.isValuelessUnit=function(je){return Ce(je)!==null},ce.prototype.hasBase=function(je){if(typeof je=="string"&&(je=Pe[je]),!je)return!1;for(var Ve=0;Ve<ze.length;Ve++)if(Math.abs((this.dimensions[Ve]||0)-(je.dimensions[Ve]||0))>1e-12)return!1;return!0},ce.prototype.equalBase=function(je){for(var Ve=0;Ve<ze.length;Ve++)if(Math.abs((this.dimensions[Ve]||0)-(je.dimensions[Ve]||0))>1e-12)return!1;return!0},ce.prototype.equals=function(je){return this.equalBase(je)&&Z(this.value,je.value)},ce.prototype.multiply=function(je){for(var Ve=this.clone(),Ie=isUnit(je)?je:new ce(je),Ue=0;Ue<ze.length;Ue++)Ve.dimensions[Ue]=(this.dimensions[Ue]||0)+(Ie.dimensions[Ue]||0);for(var Xe=0;Xe<Ie.units.length;Xe++){var Fe=_objectSpread$2({},Ie.units[Xe]);Ve.units.push(Fe)}if(this.value!==null||Ie.value!==null){var Je=this.value===null?this._normalize(Ne(Ie.value)):this.value,et=Ie.value===null?Ie._normalize(Ne(this.value)):Ie.value;Ve.value=z(Je,et)}else Ve.value=null;return isUnit(je)&&(Ve.skipAutomaticSimplification=!1),De(Ve)},ce.prototype.divideInto=function(je){return new ce(je).divide(this)},ce.prototype.divide=function(je){for(var Ve=this.clone(),Ie=isUnit(je)?je:new ce(je),Ue=0;Ue<ze.length;Ue++)Ve.dimensions[Ue]=(this.dimensions[Ue]||0)-(Ie.dimensions[Ue]||0);for(var Xe=0;Xe<Ie.units.length;Xe++){var Fe=_objectSpread$2(_objectSpread$2({},Ie.units[Xe]),{},{power:-Ie.units[Xe].power});Ve.units.push(Fe)}if(this.value!==null||Ie.value!==null){var Je=this.value===null?this._normalize(Ne(Ie.value)):this.value,et=Ie.value===null?Ie._normalize(Ne(this.value)):Ie.value;Ve.value=L(Je,et)}else Ve.value=null;return isUnit(je)&&(Ve.skipAutomaticSimplification=!1),De(Ve)},ce.prototype.pow=function(je){for(var Ve=this.clone(),Ie=0;Ie<ze.length;Ie++)Ve.dimensions[Ie]=(this.dimensions[Ie]||0)*je;for(var Ue=0;Ue<Ve.units.length;Ue++)Ve.units[Ue].power*=je;return Ve.value!==null?Ve.value=U(Ve.value,je):Ve.value=null,Ve.skipAutomaticSimplification=!1,De(Ve)};function De(je){return je.equalBase(Pe.NONE)&&je.value!==null&&!O.predictable?je.value:je}function Ne(je){var Ve=ce._getNumberConverter(typeOf$1(je));return Ve(1)}ce.prototype.abs=function(){var je=this.clone();if(je.value!==null)if(je._isDerived()||je.units.length===0||je.units[0].unit.offset===0)je.value=q(je.value);else{var Ve=je._numberConverter(),Ie=Ve(je.units[0].unit.value),Ue=Ve(je.units[0].unit.offset),Xe=z(Ie,Ue);je.value=F(q(I(je.value,Xe)),Xe)}for(var Fe in je.units)(je.units[Fe].unit.name==="VA"||je.units[Fe].unit.name==="VAR")&&(je.units[Fe].unit=ke.W);return je},ce.prototype.to=function(je){var Ve=this.value===null?this._normalize(1):this.value,Ie;if(typeof je=="string")Ie=ce.parse(je);else if(isUnit(je))Ie=je.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(Ie))throw new Error("Units do not match ('".concat(Ie.toString(),"' != '").concat(this.toString(),"')"));if(Ie.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||Ie.units.length===0||this.units[0].unit.offset===Ie.units[0].unit.offset)Ie.value=clone$3(Ve);else{var Ue=ce._getNumberConverter(typeOf$1(Ve)),Xe=this.units[0].unit.value,Fe=this.units[0].unit.offset,Je=z(Xe,Fe),et=Ie.units[0].unit.value,ut=Ie.units[0].unit.offset,ct=z(et,ut);Ie.value=I(Ve,Ue(F(Je,ct)))}return Ie.fixPrefix=!0,Ie.skipAutomaticSimplification=!0,Ie},ce.prototype.toNumber=function(je){return oe(this.toNumeric(je))},ce.prototype.toNumeric=function(je){var Ve;return je?Ve=this.to(je):Ve=this.clone(),Ve._isDerived()||Ve.units.length===0?Ve._denormalize(Ve.value):Ve._denormalize(Ve.value,Ve.units[0].prefix.value)},ce.prototype.toString=function(){return this.format()},ce.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix,skipSimp:this.skipAutomaticSimplification}},ce.fromJSON=function(je){var Ve,Ie,Ue,Xe=new ce(je.value,(Ve=je.unit)!==null&&Ve!==void 0?Ve:void 0);return Xe.fixPrefix=(Ie=je.fixPrefix)!==null&&Ie!==void 0?Ie:le,Xe.skipAutomaticSimplification=(Ue=je.skipSimp)!==null&&Ue!==void 0?Ue:ue,Xe},ce.prototype.valueOf=ce.prototype.toString,ce.prototype.simplify=function(){var je=this.clone(),Ve=[],Ie;for(var Ue in st)if(hasOwnProperty(st,Ue)&&je.hasBase(Pe[Ue])){Ie=Ue;break}if(Ie==="NONE")je.units=[];else{var Xe;if(Ie&&hasOwnProperty(st,Ie)&&(Xe=st[Ie]),Xe)je.units=[{unit:Xe.unit,prefix:Xe.prefix,power:1}];else{for(var Fe=!1,Je=0;Je<ze.length;Je++){var et=ze[Je];Math.abs(je.dimensions[Je]||0)>1e-12&&(hasOwnProperty(st,et)?Ve.push({unit:st[et].unit,prefix:st[et].prefix,power:je.dimensions[Je]||0}):Fe=!0)}Ve.length<je.units.length&&!Fe&&(je.units=Ve)}}return je},ce.prototype.toSI=function(){for(var je=this.clone(),Ve=[],Ie=0;Ie<ze.length;Ie++){var Ue=ze[Ie];if(Math.abs(je.dimensions[Ie]||0)>1e-12)if(hasOwnProperty(He.si,Ue))Ve.push({unit:He.si[Ue].unit,prefix:He.si[Ue].prefix,power:je.dimensions[Ie]||0});else throw new Error("Cannot express custom unit "+Ue+" in SI units")}return je.units=Ve,je.fixPrefix=!0,je.skipAutomaticSimplification=!0,this.value!==null?(je.value=null,this.to(je)):je},ce.prototype.formatUnits=function(){for(var je="",Ve="",Ie=0,Ue=0,Xe=0;Xe<this.units.length;Xe++)this.units[Xe].power>0?(Ie++,je+=" "+this.units[Xe].prefix.name+this.units[Xe].unit.name,Math.abs(this.units[Xe].power-1)>1e-15&&(je+="^"+this.units[Xe].power)):this.units[Xe].power<0&&Ue++;if(Ue>0)for(var Fe=0;Fe<this.units.length;Fe++)this.units[Fe].power<0&&(Ie>0?(Ve+=" "+this.units[Fe].prefix.name+this.units[Fe].unit.name,Math.abs(this.units[Fe].power+1)>1e-15&&(Ve+="^"+-this.units[Fe].power)):(Ve+=" "+this.units[Fe].prefix.name+this.units[Fe].unit.name,Ve+="^"+this.units[Fe].power));je=je.substr(1),Ve=Ve.substr(1),Ie>1&&Ue>0&&(je="("+je+")"),Ue>1&&Ie>0&&(Ve="("+Ve+")");var Je=je;return Ie>0&&Ue>0&&(Je+=" / "),Je+=Ve,Je},ce.prototype.toBest=function(){var je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(je&&!Array.isArray(je))throw new Error("Invalid unit type. Expected string or Unit.");var Ie=this.units[0].unit.prefixes;if(je&&je.length>0){var Ue=je.map(Je=>{var et=null;if(typeof Je=="string"){if(et=ce.parse(Je),!et)throw new Error("Invalid unit type. Expected compatible string or Unit.")}else if(!isUnit(Je))throw new Error("Invalid unit type. Expected compatible string or Unit.");et===null&&(et=Je.clone());try{return this.to(et.formatUnits()),et}catch{throw new Error("Invalid unit type. Expected compatible string or Unit.")}}),Xe=Ue.map(Je=>Je.units[0].prefix);this.units[0].unit.prefixes=Xe.reduce((Je,et)=>(Je[et.name]=et,Je),{}),this.units[0].prefix=Xe[0]}var Fe=Me(this,Ve).simp;return this.units[0].unit.prefixes=Ie,Fe.fixPrefix=!0,Fe},ce.prototype.format=function(je){var{simp:Ve,valueStr:Ie,unitStr:Ue}=Me(this,je),Xe=Ie;return Ve.value&&isComplex(Ve.value)&&(Xe="("+Xe+")"),Ue.length>0&&Xe.length>0&&(Xe+=" "),Xe+=Ue,Xe};function Me(je){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=je.skipAutomaticSimplification||je.value===null?je.clone():je.simplify();Te(Ie),Re(Ie,Ve.offset);var Ue=Ie._denormalize(Ie.value),Xe=Ie.value!==null?W(Ue,Ve||{}):"",Fe=Ie.formatUnits();return{simp:Ie,valueStr:Xe,unitStr:Fe}}function Te(je){var Ve=!1;typeof je.value<"u"&&je.value!==null&&isComplex(je.value)&&(Ve=Math.abs(je.value.re)<1e-14);for(var Ie in je.units)hasOwnProperty(je.units,Ie)&&je.units[Ie].unit&&(je.units[Ie].unit.name==="VA"&&Ve?je.units[Ie].unit=ke.VAR:je.units[Ie].unit.name==="VAR"&&!Ve&&(je.units[Ie].unit=ke.VA))}function Re(je,Ve){je.units.length===1&&!je.fixPrefix&&Math.abs(je.units[0].power-Math.round(je.units[0].power))<1e-14&&(je.units[0].prefix=je._bestPrefix(Ve))}ce.prototype._bestPrefix=function(){var je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1.2;if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var Ve=this.value!==null?q(this.value):0,Ie=q(this.units[0].unit.value),Ue=this.units[0].prefix;if(Ve===0)return Ue;var Xe=this.units[0].power,Fe=Math.log(Ve/Math.pow(Ue.value*Ie,Xe))/Math.LN10-je;if(Fe>-2.200001&&Fe<1.800001)return Ue;Fe=Math.abs(Fe);var Je=this.units[0].unit.prefixes;for(var et in Je)if(hasOwnProperty(Je,et)){var ut=Je[et];if(ut.scientific){var ct=Math.abs(Math.log(Ve/Math.pow(ut.value*Ie,Xe))/Math.LN10-je);(ct<Fe||ct===Fe&&ut.name.length<Ue.name.length)&&(Ue=ut,Fe=ct)}}return Ue},ce.prototype.splitUnit=function(je){for(var Ve=this.clone(),Ie=[],Ue=0;Ue<je.length&&(Ve=Ve.to(je[Ue]),Ue!==je.length-1);Ue++){var Xe=Ve.toNumeric(),Fe=V(Xe),Je=void 0,et=Z(Fe,Xe);et?Je=Fe:Je=G(Ve.toNumeric());var ut=new ce(Je,je[Ue].toString());Ie.push(ut),Ve=F(Ve,ut)}for(var ct=0,bt=0;bt<Ie.length;bt++)ct=I(ct,Ie[bt].value);return Z(ct,this.value)&&(Ve.value=0),Ie.push(Ve),Ie};var Se={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};Se.SHORTLONG=_extends({},Se.SHORT,Se.LONG),Se.BINARY_SHORT=_extends({},Se.BINARY_SHORT_SI,Se.BINARY_SHORT_IEC),Se.BINARY_LONG=_extends({},Se.BINARY_LONG_SI,Se.BINARY_LONG_IEC);var ze=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],Pe={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var Qe in Pe)hasOwnProperty(Pe,Qe)&&(Pe[Qe].key=Qe);var Ze={},Le={name:"",base:Ze,value:1,offset:0,dimensions:ze.map(je=>0)},ke={meter:{name:"meter",base:Pe.LENGTH,prefixes:Se.LONG,value:1,offset:0},inch:{name:"inch",base:Pe.LENGTH,prefixes:Se.NONE,value:.0254,offset:0},foot:{name:"foot",base:Pe.LENGTH,prefixes:Se.NONE,value:.3048,offset:0},yard:{name:"yard",base:Pe.LENGTH,prefixes:Se.NONE,value:.9144,offset:0},mile:{name:"mile",base:Pe.LENGTH,prefixes:Se.NONE,value:1609.344,offset:0},link:{name:"link",base:Pe.LENGTH,prefixes:Se.NONE,value:.201168,offset:0},rod:{name:"rod",base:Pe.LENGTH,prefixes:Se.NONE,value:5.0292,offset:0},chain:{name:"chain",base:Pe.LENGTH,prefixes:Se.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:Pe.LENGTH,prefixes:Se.NONE,value:1e-10,offset:0},m:{name:"m",base:Pe.LENGTH,prefixes:Se.SHORT,value:1,offset:0},in:{name:"in",base:Pe.LENGTH,prefixes:Se.NONE,value:.0254,offset:0},ft:{name:"ft",base:Pe.LENGTH,prefixes:Se.NONE,value:.3048,offset:0},yd:{name:"yd",base:Pe.LENGTH,prefixes:Se.NONE,value:.9144,offset:0},mi:{name:"mi",base:Pe.LENGTH,prefixes:Se.NONE,value:1609.344,offset:0},li:{name:"li",base:Pe.LENGTH,prefixes:Se.NONE,value:.201168,offset:0},rd:{name:"rd",base:Pe.LENGTH,prefixes:Se.NONE,value:5.02921,offset:0},ch:{name:"ch",base:Pe.LENGTH,prefixes:Se.NONE,value:20.1168,offset:0},mil:{name:"mil",base:Pe.LENGTH,prefixes:Se.NONE,value:254e-7,offset:0},m2:{name:"m2",base:Pe.SURFACE,prefixes:Se.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:Pe.SURFACE,prefixes:Se.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:Pe.SURFACE,prefixes:Se.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:Pe.SURFACE,prefixes:Se.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:Pe.SURFACE,prefixes:Se.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:Pe.SURFACE,prefixes:Se.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:Pe.SURFACE,prefixes:Se.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:Pe.SURFACE,prefixes:Se.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:Pe.SURFACE,prefixes:Se.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:Pe.SURFACE,prefixes:Se.NONE,value:1e4,offset:0},m3:{name:"m3",base:Pe.VOLUME,prefixes:Se.CUBIC,value:1,offset:0},L:{name:"L",base:Pe.VOLUME,prefixes:Se.SHORT,value:.001,offset:0},l:{name:"l",base:Pe.VOLUME,prefixes:Se.SHORT,value:.001,offset:0},litre:{name:"litre",base:Pe.VOLUME,prefixes:Se.LONG,value:.001,offset:0},cuin:{name:"cuin",base:Pe.VOLUME,prefixes:Se.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:Pe.VOLUME,prefixes:Se.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:Pe.VOLUME,prefixes:Se.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:Pe.VOLUME,prefixes:Se.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:Pe.VOLUME,prefixes:Se.NONE,value:15e-6,offset:0},drop:{name:"drop",base:Pe.VOLUME,prefixes:Se.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:Pe.VOLUME,prefixes:Se.NONE,value:5e-8,offset:0},minim:{name:"minim",base:Pe.VOLUME,prefixes:Se.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:Pe.VOLUME,prefixes:Se.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:Pe.VOLUME,prefixes:Se.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:Pe.VOLUME,prefixes:Se.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:Pe.VOLUME,prefixes:Se.NONE,value:1e-6,offset:0},cup:{name:"cup",base:Pe.VOLUME,prefixes:Se.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:Pe.VOLUME,prefixes:Se.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:Pe.VOLUME,prefixes:Se.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:Pe.VOLUME,prefixes:Se.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:Pe.VOLUME,prefixes:Se.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:Pe.VOLUME,prefixes:Se.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:Pe.VOLUME,prefixes:Se.NONE,value:.238480942392,offset:0},g:{name:"g",base:Pe.MASS,prefixes:Se.SHORT,value:.001,offset:0},gram:{name:"gram",base:Pe.MASS,prefixes:Se.LONG,value:.001,offset:0},ton:{name:"ton",base:Pe.MASS,prefixes:Se.SHORT,value:907.18474,offset:0},t:{name:"t",base:Pe.MASS,prefixes:Se.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:Pe.MASS,prefixes:Se.LONG,value:1e3,offset:0},grain:{name:"grain",base:Pe.MASS,prefixes:Se.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:Pe.MASS,prefixes:Se.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:Pe.MASS,prefixes:Se.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:Pe.MASS,prefixes:Se.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:Pe.MASS,prefixes:Se.NONE,value:45.359237,offset:0},stick:{name:"stick",base:Pe.MASS,prefixes:Se.NONE,value:.115,offset:0},stone:{name:"stone",base:Pe.MASS,prefixes:Se.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:Pe.MASS,prefixes:Se.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:Pe.MASS,prefixes:Se.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:Pe.MASS,prefixes:Se.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:Pe.MASS,prefixes:Se.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:Pe.MASS,prefixes:Se.NONE,value:45.359237,offset:0},s:{name:"s",base:Pe.TIME,prefixes:Se.SHORT,value:1,offset:0},min:{name:"min",base:Pe.TIME,prefixes:Se.NONE,value:60,offset:0},h:{name:"h",base:Pe.TIME,prefixes:Se.NONE,value:3600,offset:0},second:{name:"second",base:Pe.TIME,prefixes:Se.LONG,value:1,offset:0},sec:{name:"sec",base:Pe.TIME,prefixes:Se.LONG,value:1,offset:0},minute:{name:"minute",base:Pe.TIME,prefixes:Se.NONE,value:60,offset:0},hour:{name:"hour",base:Pe.TIME,prefixes:Se.NONE,value:3600,offset:0},day:{name:"day",base:Pe.TIME,prefixes:Se.NONE,value:86400,offset:0},week:{name:"week",base:Pe.TIME,prefixes:Se.NONE,value:7*86400,offset:0},month:{name:"month",base:Pe.TIME,prefixes:Se.NONE,value:2629800,offset:0},year:{name:"year",base:Pe.TIME,prefixes:Se.NONE,value:31557600,offset:0},decade:{name:"decade",base:Pe.TIME,prefixes:Se.NONE,value:315576e3,offset:0},century:{name:"century",base:Pe.TIME,prefixes:Se.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:Pe.TIME,prefixes:Se.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:Pe.FREQUENCY,prefixes:Se.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:Pe.FREQUENCY,prefixes:Se.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:Pe.ANGLE,prefixes:Se.SHORT,value:1,offset:0},radian:{name:"radian",base:Pe.ANGLE,prefixes:Se.LONG,value:1,offset:0},deg:{name:"deg",base:Pe.ANGLE,prefixes:Se.SHORT,value:null,offset:0},degree:{name:"degree",base:Pe.ANGLE,prefixes:Se.LONG,value:null,offset:0},grad:{name:"grad",base:Pe.ANGLE,prefixes:Se.SHORT,value:null,offset:0},gradian:{name:"gradian",base:Pe.ANGLE,prefixes:Se.LONG,value:null,offset:0},cycle:{name:"cycle",base:Pe.ANGLE,prefixes:Se.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:Pe.ANGLE,prefixes:Se.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:Pe.ANGLE,prefixes:Se.NONE,value:null,offset:0},A:{name:"A",base:Pe.CURRENT,prefixes:Se.SHORT,value:1,offset:0},ampere:{name:"ampere",base:Pe.CURRENT,prefixes:Se.LONG,value:1,offset:0},K:{name:"K",base:Pe.TEMPERATURE,prefixes:Se.SHORT,value:1,offset:0},degC:{name:"degC",base:Pe.TEMPERATURE,prefixes:Se.SHORT,value:1,offset:273.15},degF:{name:"degF",base:Pe.TEMPERATURE,prefixes:Se.SHORT,value:new se(5,9),offset:459.67},degR:{name:"degR",base:Pe.TEMPERATURE,prefixes:Se.SHORT,value:new se(5,9),offset:0},kelvin:{name:"kelvin",base:Pe.TEMPERATURE,prefixes:Se.LONG,value:1,offset:0},celsius:{name:"celsius",base:Pe.TEMPERATURE,prefixes:Se.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:Pe.TEMPERATURE,prefixes:Se.LONG,value:new se(5,9),offset:459.67},rankine:{name:"rankine",base:Pe.TEMPERATURE,prefixes:Se.LONG,value:new se(5,9),offset:0},mol:{name:"mol",base:Pe.AMOUNT_OF_SUBSTANCE,prefixes:Se.SHORT,value:1,offset:0},mole:{name:"mole",base:Pe.AMOUNT_OF_SUBSTANCE,prefixes:Se.LONG,value:1,offset:0},cd:{name:"cd",base:Pe.LUMINOUS_INTENSITY,prefixes:Se.SHORT,value:1,offset:0},candela:{name:"candela",base:Pe.LUMINOUS_INTENSITY,prefixes:Se.LONG,value:1,offset:0},N:{name:"N",base:Pe.FORCE,prefixes:Se.SHORT,value:1,offset:0},newton:{name:"newton",base:Pe.FORCE,prefixes:Se.LONG,value:1,offset:0},dyn:{name:"dyn",base:Pe.FORCE,prefixes:Se.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:Pe.FORCE,prefixes:Se.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:Pe.FORCE,prefixes:Se.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:Pe.FORCE,prefixes:Se.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:Pe.FORCE,prefixes:Se.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:Pe.FORCE,prefixes:Se.NONE,value:9.80665,offset:0},J:{name:"J",base:Pe.ENERGY,prefixes:Se.SHORT,value:1,offset:0},joule:{name:"joule",base:Pe.ENERGY,prefixes:Se.LONG,value:1,offset:0},erg:{name:"erg",base:Pe.ENERGY,prefixes:Se.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:Pe.ENERGY,prefixes:Se.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:Pe.ENERGY,prefixes:Se.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:Pe.ENERGY,prefixes:Se.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:Pe.ENERGY,prefixes:Se.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:Pe.POWER,prefixes:Se.SHORT,value:1,offset:0},watt:{name:"watt",base:Pe.POWER,prefixes:Se.LONG,value:1,offset:0},hp:{name:"hp",base:Pe.POWER,prefixes:Se.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:Pe.POWER,prefixes:Se.SHORT,value:ne.I,offset:0},VA:{name:"VA",base:Pe.POWER,prefixes:Se.SHORT,value:1,offset:0},Pa:{name:"Pa",base:Pe.PRESSURE,prefixes:Se.SHORT,value:1,offset:0},psi:{name:"psi",base:Pe.PRESSURE,prefixes:Se.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:Pe.PRESSURE,prefixes:Se.NONE,value:101325,offset:0},bar:{name:"bar",base:Pe.PRESSURE,prefixes:Se.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:Pe.PRESSURE,prefixes:Se.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:Pe.PRESSURE,prefixes:Se.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:Pe.PRESSURE,prefixes:Se.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:Pe.PRESSURE,prefixes:Se.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:Pe.ELECTRIC_CHARGE,prefixes:Se.LONG,value:1,offset:0},C:{name:"C",base:Pe.ELECTRIC_CHARGE,prefixes:Se.SHORT,value:1,offset:0},farad:{name:"farad",base:Pe.ELECTRIC_CAPACITANCE,prefixes:Se.LONG,value:1,offset:0},F:{name:"F",base:Pe.ELECTRIC_CAPACITANCE,prefixes:Se.SHORT,value:1,offset:0},volt:{name:"volt",base:Pe.ELECTRIC_POTENTIAL,prefixes:Se.LONG,value:1,offset:0},V:{name:"V",base:Pe.ELECTRIC_POTENTIAL,prefixes:Se.SHORT,value:1,offset:0},ohm:{name:"ohm",base:Pe.ELECTRIC_RESISTANCE,prefixes:Se.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:Pe.ELECTRIC_INDUCTANCE,prefixes:Se.LONG,value:1,offset:0},H:{name:"H",base:Pe.ELECTRIC_INDUCTANCE,prefixes:Se.SHORT,value:1,offset:0},siemens:{name:"siemens",base:Pe.ELECTRIC_CONDUCTANCE,prefixes:Se.LONG,value:1,offset:0},S:{name:"S",base:Pe.ELECTRIC_CONDUCTANCE,prefixes:Se.SHORT,value:1,offset:0},weber:{name:"weber",base:Pe.MAGNETIC_FLUX,prefixes:Se.LONG,value:1,offset:0},Wb:{name:"Wb",base:Pe.MAGNETIC_FLUX,prefixes:Se.SHORT,value:1,offset:0},tesla:{name:"tesla",base:Pe.MAGNETIC_FLUX_DENSITY,prefixes:Se.LONG,value:1,offset:0},T:{name:"T",base:Pe.MAGNETIC_FLUX_DENSITY,prefixes:Se.SHORT,value:1,offset:0},b:{name:"b",base:Pe.BIT,prefixes:Se.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:Pe.BIT,prefixes:Se.BINARY_LONG,value:1,offset:0},B:{name:"B",base:Pe.BIT,prefixes:Se.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:Pe.BIT,prefixes:Se.BINARY_LONG,value:8,offset:0}},Ge={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function Ke(je){if(je.number==="BigNumber"){var Ve=createBigNumberPi(ie);ke.rad.value=new ie(1),ke.deg.value=Ve.div(180),ke.grad.value=Ve.div(200),ke.cycle.value=Ve.times(2),ke.arcsec.value=Ve.div(648e3),ke.arcmin.value=Ve.div(10800)}else ke.rad.value=1,ke.deg.value=Math.PI/180,ke.grad.value=Math.PI/200,ke.cycle.value=Math.PI*2,ke.arcsec.value=Math.PI/648e3,ke.arcmin.value=Math.PI/10800;ke.radian.value=ke.rad.value,ke.degree.value=ke.deg.value,ke.gradian.value=ke.grad.value}Ke(O),R&&R("config",function(je,Ve){je.number!==Ve.number&&Ke(je)});var He={si:{NONE:{unit:Le,prefix:Se.NONE[""]},LENGTH:{unit:ke.m,prefix:Se.SHORT[""]},MASS:{unit:ke.g,prefix:Se.SHORT.k},TIME:{unit:ke.s,prefix:Se.SHORT[""]},CURRENT:{unit:ke.A,prefix:Se.SHORT[""]},TEMPERATURE:{unit:ke.K,prefix:Se.SHORT[""]},LUMINOUS_INTENSITY:{unit:ke.cd,prefix:Se.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:ke.mol,prefix:Se.SHORT[""]},ANGLE:{unit:ke.rad,prefix:Se.SHORT[""]},BIT:{unit:ke.bits,prefix:Se.SHORT[""]},FORCE:{unit:ke.N,prefix:Se.SHORT[""]},ENERGY:{unit:ke.J,prefix:Se.SHORT[""]},POWER:{unit:ke.W,prefix:Se.SHORT[""]},PRESSURE:{unit:ke.Pa,prefix:Se.SHORT[""]},ELECTRIC_CHARGE:{unit:ke.C,prefix:Se.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:ke.F,prefix:Se.SHORT[""]},ELECTRIC_POTENTIAL:{unit:ke.V,prefix:Se.SHORT[""]},ELECTRIC_RESISTANCE:{unit:ke.ohm,prefix:Se.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:ke.H,prefix:Se.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:ke.S,prefix:Se.SHORT[""]},MAGNETIC_FLUX:{unit:ke.Wb,prefix:Se.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:ke.T,prefix:Se.SHORT[""]},FREQUENCY:{unit:ke.Hz,prefix:Se.SHORT[""]}}};He.cgs=JSON.parse(JSON.stringify(He.si)),He.cgs.LENGTH={unit:ke.m,prefix:Se.SHORT.c},He.cgs.MASS={unit:ke.g,prefix:Se.SHORT[""]},He.cgs.FORCE={unit:ke.dyn,prefix:Se.SHORT[""]},He.cgs.ENERGY={unit:ke.erg,prefix:Se.NONE[""]},He.us=JSON.parse(JSON.stringify(He.si)),He.us.LENGTH={unit:ke.ft,prefix:Se.NONE[""]},He.us.MASS={unit:ke.lbm,prefix:Se.NONE[""]},He.us.TEMPERATURE={unit:ke.degF,prefix:Se.NONE[""]},He.us.FORCE={unit:ke.lbf,prefix:Se.NONE[""]},He.us.ENERGY={unit:ke.BTU,prefix:Se.BTU[""]},He.us.POWER={unit:ke.hp,prefix:Se.NONE[""]},He.us.PRESSURE={unit:ke.psi,prefix:Se.NONE[""]},He.auto=JSON.parse(JSON.stringify(He.si));var st=He.auto;ce.setUnitSystem=function(je){if(hasOwnProperty(He,je))st=He[je];else throw new Error("Unit system "+je+" does not exist. Choices are: "+Object.keys(He).join(", "))},ce.getUnitSystem=function(){for(var je in He)if(hasOwnProperty(He,je)&&He[je]===st)return je},ce.typeConverters={BigNumber:function(Ve){return Ve!=null&&Ve.isFraction?new ie(String(Ve.n)).div(String(Ve.d)).times(String(Ve.s)):new ie(Ve+"")},Fraction:function(Ve){return new se(Ve)},Complex:function(Ve){return Ve},number:function(Ve){return Ve!=null&&Ve.isFraction?ee(Ve):Ve}},ce.prototype._numberConverter=function(){var je=ce.typeConverters[this.valueType()];if(je)return je;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},ce._getNumberConverter=function(je){if(!ce.typeConverters[je])throw new TypeError('Unsupported type "'+je+'"');return ce.typeConverters[je]};for(var Ae in ke)if(hasOwnProperty(ke,Ae)){var tt=ke[Ae];tt.dimensions=tt.base.dimensions}for(var rt in Ge)if(hasOwnProperty(Ge,rt)){var We=ke[Ge[rt]],qe={};for(var nt in We)hasOwnProperty(We,nt)&&(qe[nt]=We[nt]);qe.name=rt,ke[rt]=qe}ce.isValidAlpha=function(Ve){return/^[a-zA-Z]$/.test(Ve)};function ft(je){for(var Ve=0;Ve<je.length;Ve++){if(he=je.charAt(Ve),Ve===0&&!ce.isValidAlpha(he))throw new Error('Invalid unit name (must begin with alpha character): "'+je+'"');if(Ve>0&&!(ce.isValidAlpha(he)||_e(he)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+je+'"')}}return ce.createUnit=function(je,Ve){if(typeof je!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(Ve&&Ve.override){for(var Ie in je)if(hasOwnProperty(je,Ie)&&ce.deleteUnit(Ie),je[Ie].aliases)for(var Ue=0;Ue<je[Ie].aliases.length;Ue++)ce.deleteUnit(je[Ie].aliases[Ue])}var Xe;for(var Fe in je)hasOwnProperty(je,Fe)&&(Xe=ce.createUnitSingle(Fe,je[Fe]));return Xe},ce.createUnitSingle=function(je,Ve){if((typeof Ve>"u"||Ve===null)&&(Ve={}),typeof je!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(hasOwnProperty(ke,je))throw new Error('Cannot create unit "'+je+'": a unit with that name already exists');ft(je);var Ie=null,Ue=[],Xe=0,Fe,Je,et;if(Ve&&Ve.type==="Unit")Ie=Ve.clone();else if(typeof Ve=="string")Ve!==""&&(Fe=Ve);else if(typeof Ve=="object")Fe=Ve.definition,Je=Ve.prefixes,Xe=Ve.offset,et=Ve.baseName,Ve.aliases&&(Ue=Ve.aliases.valueOf());else throw new TypeError('Cannot create unit "'+je+'" from "'+Ve.toString()+'": expecting "string" or "Unit" or "Object"');if(Ue){for(var ut=0;ut<Ue.length;ut++)if(hasOwnProperty(ke,Ue[ut]))throw new Error('Cannot create alias "'+Ue[ut]+'": a unit with that name already exists')}if(Fe&&typeof Fe=="string"&&!Ie)try{Ie=ce.parse(Fe,{allowNoUnits:!0})}catch(Mt){throw Mt.message='Could not create unit "'+je+'" from "'+Fe+'": '+Mt.message,Mt}else Fe&&Fe.type==="Unit"&&(Ie=Fe.clone());Ue=Ue||[],Xe=Xe||0,Je&&Je.toUpperCase?Je=Se[Je.toUpperCase()]||Se.NONE:Je=Se.NONE;var ct={};if(Ie){ct={name:je,value:Ie.value,dimensions:Ie.dimensions.slice(0),prefixes:Je,offset:Xe};var $t=!1;for(var At in Pe)if(hasOwnProperty(Pe,At)){for(var Ct=!0,Pt=0;Pt<ze.length;Pt++)if(Math.abs((ct.dimensions[Pt]||0)-(Pe[At].dimensions[Pt]||0))>1e-12){Ct=!1;break}if(Ct){$t=!0,ct.base=Pe[At];break}}if(!$t){et=et||je+"_STUFF";var Oe={dimensions:Ie.dimensions.slice(0)};Oe.key=et,Pe[et]=Oe,st[et]={unit:ct,prefix:Se.NONE[""]},ct.base=Pe[et]}}else{if(et=et||je+"_STUFF",ze.indexOf(et)>=0)throw new Error('Cannot create new base unit "'+je+'": a base unit with that name already exists (and cannot be overridden)');ze.push(et);for(var bt in Pe)hasOwnProperty(Pe,bt)&&(Pe[bt].dimensions[ze.length-1]=0);for(var ht={dimensions:[]},xt=0;xt<ze.length;xt++)ht.dimensions[xt]=0;ht.dimensions[ze.length-1]=1,ht.key=et,Pe[et]=ht,ct={name:je,value:1,dimensions:Pe[et].dimensions.slice(0),prefixes:Je,offset:Xe,base:Pe[et]},st[et]={unit:ct,prefix:Se.NONE[""]}}ce.UNITS[je]=ct;for(var at=0;at<Ue.length;at++){var mt=Ue[at],Et={};for(var Tt in ct)hasOwnProperty(ct,Tt)&&(Et[Tt]=ct[Tt]);Et.name=mt,ce.UNITS[mt]=Et}return delete Ce.cache,new ce(null,je)},ce.deleteUnit=function(je){delete ce.UNITS[je],delete Ce.cache},ce.PREFIXES=Se,ce.BASE_DIMENSIONS=ze,ce.BASE_UNITS=Pe,ce.UNIT_SYSTEMS=He,ce.UNITS=ke,ce},{isClass:!0}),name$2q="unit",dependencies$2q=["typed","Unit"],createUnitFunction=factory(name$2q,dependencies$2q,_=>{var{typed:R,Unit:O}=_;return R(name$2q,{Unit:function(F){return F.clone()},string:function(F){return O.isValuelessUnit(F)?new O(null,F):O.parse(F,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(F,z){return new O(F,z)},"number | BigNumber | Fraction":function(F){return new O(F)},"Array | Matrix":R.referToSelf(I=>F=>deepMap(F,I))})}),name$2p="sparse",dependencies$2p=["typed","SparseMatrix"],createSparse=factory(name$2p,dependencies$2p,_=>{var{typed:R,SparseMatrix:O}=_;return R(name$2p,{"":function(){return new O([])},string:function(F){return new O([],F)},"Array | Matrix":function(F){return new O(F)},"Array | Matrix, string":function(F,z){return new O(F,z)}})}),name$2o="createUnit",dependencies$2o=["typed","Unit"],createCreateUnit=factory(name$2o,dependencies$2o,_=>{var{typed:R,Unit:O}=_;return R(name$2o,{"Object, Object":function(F,z){return O.createUnit(F,z)},Object:function(F){return O.createUnit(F,{})},"string, Unit | string | Object, Object":function(F,z,L){var U={};return U[F]=z,O.createUnit(U,L)},"string, Unit | string | Object":function(F,z){var L={};return L[F]=z,O.createUnit(L,{})},string:function(F){var z={};return z[F]={},O.createUnit(z,{})}})}),name$2n="acos",dependencies$2n=["typed","config","Complex"],createAcos=factory(name$2n,dependencies$2n,_=>{var{typed:R,config:O,Complex:I}=_;return R(name$2n,{number:function(z){return z>=-1&&z<=1||O.predictable?Math.acos(z):new I(z,0).acos()},Complex:function(z){return z.acos()},BigNumber:function(z){return z.acos()}})}),name$2m="acosh",dependencies$2m=["typed","config","Complex"],createAcosh=factory(name$2m,dependencies$2m,_=>{var{typed:R,config:O,Complex:I}=_;return R(name$2m,{number:function(z){return z>=1||O.predictable?acoshNumber(z):z<=-1?new I(Math.log(Math.sqrt(z*z-1)-z),Math.PI):new I(z,0).acosh()},Complex:function(z){return z.acosh()},BigNumber:function(z){return z.acosh()}})}),name$2l="acot",dependencies$2l=["typed","BigNumber"],createAcot=factory(name$2l,dependencies$2l,_=>{var{typed:R,BigNumber:O}=_;return R(name$2l,{number:acotNumber,Complex:function(F){return F.acot()},BigNumber:function(F){return new O(1).div(F).atan()}})}),name$2k="acoth",dependencies$2k=["typed","config","Complex","BigNumber"],createAcoth=factory(name$2k,dependencies$2k,_=>{var{typed:R,config:O,Complex:I,BigNumber:F}=_;return R(name$2k,{number:function(L){return L>=1||L<=-1||O.predictable?acothNumber(L):new I(L,0).acoth()},Complex:function(L){return L.acoth()},BigNumber:function(L){return new F(1).div(L).atanh()}})}),name$2j="acsc",dependencies$2j=["typed","config","Complex","BigNumber"],createAcsc=factory(name$2j,dependencies$2j,_=>{var{typed:R,config:O,Complex:I,BigNumber:F}=_;return R(name$2j,{number:function(L){return L<=-1||L>=1||O.predictable?acscNumber(L):new I(L,0).acsc()},Complex:function(L){return L.acsc()},BigNumber:function(L){return new F(1).div(L).asin()}})}),name$2i="acsch",dependencies$2i=["typed","BigNumber"],createAcsch=factory(name$2i,dependencies$2i,_=>{var{typed:R,BigNumber:O}=_;return R(name$2i,{number:acschNumber,Complex:function(F){return F.acsch()},BigNumber:function(F){return new O(1).div(F).asinh()}})}),name$2h="asec",dependencies$2h=["typed","config","Complex","BigNumber"],createAsec=factory(name$2h,dependencies$2h,_=>{var{typed:R,config:O,Complex:I,BigNumber:F}=_;return R(name$2h,{number:function(L){return L<=-1||L>=1||O.predictable?asecNumber(L):new I(L,0).asec()},Complex:function(L){return L.asec()},BigNumber:function(L){return new F(1).div(L).acos()}})}),name$2g="asech",dependencies$2g=["typed","config","Complex","BigNumber"],createAsech=factory(name$2g,dependencies$2g,_=>{var{typed:R,config:O,Complex:I,BigNumber:F}=_;return R(name$2g,{number:function(L){if(L<=1&&L>=-1||O.predictable){var U=1/L;if(U>0||O.predictable)return asechNumber(L);var q=Math.sqrt(U*U-1);return new I(Math.log(q-U),Math.PI)}return new I(L,0).asech()},Complex:function(L){return L.asech()},BigNumber:function(L){return new F(1).div(L).acosh()}})}),name$2f="asin",dependencies$2f=["typed","config","Complex"],createAsin=factory(name$2f,dependencies$2f,_=>{var{typed:R,config:O,Complex:I}=_;return R(name$2f,{number:function(z){return z>=-1&&z<=1||O.predictable?Math.asin(z):new I(z,0).asin()},Complex:function(z){return z.asin()},BigNumber:function(z){return z.asin()}})}),name$2e="asinh",dependencies$2e=["typed"],createAsinh=factory(name$2e,dependencies$2e,_=>{var{typed:R}=_;return R("asinh",{number:asinhNumber,Complex:function(I){return I.asinh()},BigNumber:function(I){return I.asinh()}})}),name$2d="atan",dependencies$2d=["typed"],createAtan=factory(name$2d,dependencies$2d,_=>{var{typed:R}=_;return R("atan",{number:function(I){return Math.atan(I)},Complex:function(I){return I.atan()},BigNumber:function(I){return I.atan()}})}),name$2c="atan2",dependencies$2c=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],createAtan2=factory(name$2c,dependencies$2c,_=>{var{typed:R,matrix:O,equalScalar:I,BigNumber:F,DenseMatrix:z,concat:L}=_,U=createMatAlgo02xDS0({typed:R,equalScalar:I}),q=createMatAlgo03xDSf({typed:R}),G=createMatAlgo09xS0Sf({typed:R,equalScalar:I}),V=createMatAlgo11xS0s({typed:R,equalScalar:I}),Z=createMatAlgo12xSfs({typed:R,DenseMatrix:z}),Y=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:L});return R(name$2c,{"number, number":Math.atan2,"BigNumber, BigNumber":(W,ee)=>F.atan2(W,ee)},Y({scalar:"number | BigNumber",SS:G,DS:q,SD:U,Ss:V,sS:Z}))}),name$2b="atanh",dependencies$2b=["typed","config","Complex"],createAtanh=factory(name$2b,dependencies$2b,_=>{var{typed:R,config:O,Complex:I}=_;return R(name$2b,{number:function(z){return z<=1&&z>=-1||O.predictable?atanhNumber(z):new I(z,0).atanh()},Complex:function(z){return z.atanh()},BigNumber:function(z){return z.atanh()}})}),createTrigUnit=factory("trigUnit",["typed"],_=>{var{typed:R}=_;return{Unit:R.referToSelf(O=>I=>{if(!I.hasBase(I.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return R.find(O,I.valueType())(I.value)})}}),name$2a="cos",dependencies$2a=["typed"],createCos=factory(name$2a,dependencies$2a,_=>{var{typed:R}=_,O=createTrigUnit({typed:R});return R(name$2a,{number:Math.cos,"Complex | BigNumber":I=>I.cos()},O)}),name$29="cosh",dependencies$29=["typed"],createCosh=factory(name$29,dependencies$29,_=>{var{typed:R}=_;return R(name$29,{number:cosh$3,"Complex | BigNumber":O=>O.cosh()})}),name$28="cot",dependencies$28=["typed","BigNumber"],createCot=factory(name$28,dependencies$28,_=>{var{typed:R,BigNumber:O}=_,I=createTrigUnit({typed:R});return R(name$28,{number:cotNumber,Complex:F=>F.cot(),BigNumber:F=>new O(1).div(F.tan())},I)}),name$27="coth",dependencies$27=["typed","BigNumber"],createCoth=factory(name$27,dependencies$27,_=>{var{typed:R,BigNumber:O}=_;return R(name$27,{number:cothNumber,Complex:I=>I.coth(),BigNumber:I=>new O(1).div(I.tanh())})}),name$26="csc",dependencies$26=["typed","BigNumber"],createCsc=factory(name$26,dependencies$26,_=>{var{typed:R,BigNumber:O}=_,I=createTrigUnit({typed:R});return R(name$26,{number:cscNumber,Complex:F=>F.csc(),BigNumber:F=>new O(1).div(F.sin())},I)}),name$25="csch",dependencies$25=["typed","BigNumber"],createCsch=factory(name$25,dependencies$25,_=>{var{typed:R,BigNumber:O}=_;return R(name$25,{number:cschNumber,Complex:I=>I.csch(),BigNumber:I=>new O(1).div(I.sinh())})}),name$24="sec",dependencies$24=["typed","BigNumber"],createSec=factory(name$24,dependencies$24,_=>{var{typed:R,BigNumber:O}=_,I=createTrigUnit({typed:R});return R(name$24,{number:secNumber,Complex:F=>F.sec(),BigNumber:F=>new O(1).div(F.cos())},I)}),name$23="sech",dependencies$23=["typed","BigNumber"],createSech=factory(name$23,dependencies$23,_=>{var{typed:R,BigNumber:O}=_;return R(name$23,{number:sechNumber,Complex:I=>I.sech(),BigNumber:I=>new O(1).div(I.cosh())})}),name$22="sin",dependencies$22=["typed"],createSin=factory(name$22,dependencies$22,_=>{var{typed:R}=_,O=createTrigUnit({typed:R});return R(name$22,{number:Math.sin,"Complex | BigNumber":I=>I.sin()},O)}),name$21="sinh",dependencies$21=["typed"],createSinh=factory(name$21,dependencies$21,_=>{var{typed:R}=_;return R(name$21,{number:sinhNumber,"Complex | BigNumber":O=>O.sinh()})}),name$20="tan",dependencies$20=["typed"],createTan=factory(name$20,dependencies$20,_=>{var{typed:R}=_,O=createTrigUnit({typed:R});return R(name$20,{number:Math.tan,"Complex | BigNumber":I=>I.tan()},O)}),name$1$="tanh",dependencies$1$=["typed"],createTanh=factory(name$1$,dependencies$1$,_=>{var{typed:R}=_;return R("tanh",{number:tanh$2,"Complex | BigNumber":O=>O.tanh()})}),name$1_="setCartesian",dependencies$1_=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetCartesian=factory(name$1_,dependencies$1_,_=>{var{typed:R,size:O,subset:I,compareNatural:F,Index:z,DenseMatrix:L}=_;return R(name$1_,{"Array | Matrix, Array | Matrix":function(q,G){var V=[];if(I(O(q),new z(0))!==0&&I(O(G),new z(0))!==0){var Z=flatten$2(Array.isArray(q)?q:q.toArray()).sort(F),Y=flatten$2(Array.isArray(G)?G:G.toArray()).sort(F);V=[];for(var W=0;W<Z.length;W++)for(var ee=0;ee<Y.length;ee++)V.push([Z[W],Y[ee]])}return Array.isArray(q)&&Array.isArray(G)?V:new L(V)}})}),name$1Z="setDifference",dependencies$1Z=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetDifference=factory(name$1Z,dependencies$1Z,_=>{var{typed:R,size:O,subset:I,compareNatural:F,Index:z,DenseMatrix:L}=_;return R(name$1Z,{"Array | Matrix, Array | Matrix":function(q,G){var V;if(I(O(q),new z(0))===0)V=[];else{if(I(O(G),new z(0))===0)return flatten$2(q.toArray());var Z=identify(flatten$2(Array.isArray(q)?q:q.toArray()).sort(F)),Y=identify(flatten$2(Array.isArray(G)?G:G.toArray()).sort(F));V=[];for(var W,ee=0;ee<Z.length;ee++){W=!1;for(var ne=0;ne<Y.length;ne++)if(F(Z[ee].value,Y[ne].value)===0&&Z[ee].identifier===Y[ne].identifier){W=!0;break}W||V.push(Z[ee])}}return Array.isArray(q)&&Array.isArray(G)?generalize(V):new L(generalize(V))}})}),name$1Y="setDistinct",dependencies$1Y=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetDistinct=factory(name$1Y,dependencies$1Y,_=>{var{typed:R,size:O,subset:I,compareNatural:F,Index:z,DenseMatrix:L}=_;return R(name$1Y,{"Array | Matrix":function(q){var G;if(I(O(q),new z(0))===0)G=[];else{var V=flatten$2(Array.isArray(q)?q:q.toArray()).sort(F);G=[],G.push(V[0]);for(var Z=1;Z<V.length;Z++)F(V[Z],V[Z-1])!==0&&G.push(V[Z])}return Array.isArray(q)?G:new L(G)}})}),name$1X="setIntersect",dependencies$1X=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetIntersect=factory(name$1X,dependencies$1X,_=>{var{typed:R,size:O,subset:I,compareNatural:F,Index:z,DenseMatrix:L}=_;return R(name$1X,{"Array | Matrix, Array | Matrix":function(q,G){var V;if(I(O(q),new z(0))===0||I(O(G),new z(0))===0)V=[];else{var Z=identify(flatten$2(Array.isArray(q)?q:q.toArray()).sort(F)),Y=identify(flatten$2(Array.isArray(G)?G:G.toArray()).sort(F));V=[];for(var W=0;W<Z.length;W++)for(var ee=0;ee<Y.length;ee++)if(F(Z[W].value,Y[ee].value)===0&&Z[W].identifier===Y[ee].identifier){V.push(Z[W]);break}}return Array.isArray(q)&&Array.isArray(G)?generalize(V):new L(generalize(V))}})}),name$1W="setIsSubset",dependencies$1W=["typed","size","subset","compareNatural","Index"],createSetIsSubset=factory(name$1W,dependencies$1W,_=>{var{typed:R,size:O,subset:I,compareNatural:F,Index:z}=_;return R(name$1W,{"Array | Matrix, Array | Matrix":function(U,q){if(I(O(U),new z(0))===0)return!0;if(I(O(q),new z(0))===0)return!1;for(var G=identify(flatten$2(Array.isArray(U)?U:U.toArray()).sort(F)),V=identify(flatten$2(Array.isArray(q)?q:q.toArray()).sort(F)),Z,Y=0;Y<G.length;Y++){Z=!1;for(var W=0;W<V.length;W++)if(F(G[Y].value,V[W].value)===0&&G[Y].identifier===V[W].identifier){Z=!0;break}if(Z===!1)return!1}return!0}})}),name$1V="setMultiplicity",dependencies$1V=["typed","size","subset","compareNatural","Index"],createSetMultiplicity=factory(name$1V,dependencies$1V,_=>{var{typed:R,size:O,subset:I,compareNatural:F,Index:z}=_;return R(name$1V,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(U,q){if(I(O(q),new z(0))===0)return 0;for(var G=flatten$2(Array.isArray(q)?q:q.toArray()),V=0,Z=0;Z<G.length;Z++)F(G[Z],U)===0&&V++;return V}})}),name$1U="setPowerset",dependencies$1U=["typed","size","subset","compareNatural","Index"],createSetPowerset=factory(name$1U,dependencies$1U,_=>{var{typed:R,size:O,subset:I,compareNatural:F,Index:z}=_;return R(name$1U,{"Array | Matrix":function(G){if(I(O(G),new z(0))===0)return[];for(var V=flatten$2(Array.isArray(G)?G:G.toArray()).sort(F),Z=[],Y=0;Y.toString(2).length<=V.length;)Z.push(L(V,Y.toString(2).split("").reverse())),Y++;return U(Z)}});function L(q,G){for(var V=[],Z=0;Z<G.length;Z++)G[Z]==="1"&&V.push(q[Z]);return V}function U(q){for(var G=[],V=q.length-1;V>0;V--)for(var Z=0;Z<V;Z++)q[Z].length>q[Z+1].length&&(G=q[Z],q[Z]=q[Z+1],q[Z+1]=G);return q}}),name$1T="setSize",dependencies$1T=["typed","compareNatural"],createSetSize=factory(name$1T,dependencies$1T,_=>{var{typed:R,compareNatural:O}=_;return R(name$1T,{"Array | Matrix":function(F){return Array.isArray(F)?flatten$2(F).length:flatten$2(F.toArray()).length},"Array | Matrix, boolean":function(F,z){if(z===!1||F.length===0)return Array.isArray(F)?flatten$2(F).length:flatten$2(F.toArray()).length;for(var L=flatten$2(Array.isArray(F)?F:F.toArray()).sort(O),U=1,q=1;q<L.length;q++)O(L[q],L[q-1])!==0&&U++;return U}})}),name$1S="setSymDifference",dependencies$1S=["typed","size","concat","subset","setDifference","Index"],createSetSymDifference=factory(name$1S,dependencies$1S,_=>{var{typed:R,size:O,concat:I,subset:F,setDifference:z,Index:L}=_;return R(name$1S,{"Array | Matrix, Array | Matrix":function(q,G){if(F(O(q),new L(0))===0)return flatten$2(G);if(F(O(G),new L(0))===0)return flatten$2(q);var V=flatten$2(q),Z=flatten$2(G);return I(z(V,Z),z(Z,V))}})}),name$1R="setUnion",dependencies$1R=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],createSetUnion=factory(name$1R,dependencies$1R,_=>{var{typed:R,size:O,concat:I,subset:F,setIntersect:z,setSymDifference:L,Index:U}=_;return R(name$1R,{"Array | Matrix, Array | Matrix":function(G,V){if(F(O(G),new U(0))===0)return flatten$2(V);if(F(O(V),new U(0))===0)return flatten$2(G);var Z=flatten$2(G),Y=flatten$2(V);return I(L(Z,Y),z(Z,Y))}})}),name$1Q="add",dependencies$1Q=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],createAdd=factory(name$1Q,dependencies$1Q,_=>{var{typed:R,matrix:O,addScalar:I,equalScalar:F,DenseMatrix:z,SparseMatrix:L,concat:U}=_,q=createMatAlgo01xDSid({typed:R}),G=createMatAlgo04xSidSid({typed:R,equalScalar:F}),V=createMatAlgo10xSids({typed:R,DenseMatrix:z}),Z=createMatrixAlgorithmSuite({typed:R,matrix:O,concat:U});return R(name$1Q,{"any, any":I,"any, any, ...any":R.referToSelf(Y=>(W,ee,ne)=>{for(var ie=Y(W,ee),se=0;se<ne.length;se++)ie=Y(ie,ne[se]);return ie})},Z({elop:I,DS:q,SS:G,Ss:V}))}),name$1P="hypot",dependencies$1P=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],createHypot=factory(name$1P,dependencies$1P,_=>{var{typed:R,abs:O,addScalar:I,divideScalar:F,multiplyScalar:z,sqrt:L,smaller:U,isPositive:q}=_;return R(name$1P,{"... number | BigNumber":G,Array:G,Matrix:V=>G(flatten$2(V.toArray(),!0))});function G(V){for(var Z=0,Y=0,W=0;W<V.length;W++){if(isComplex(V[W]))throw new TypeError("Unexpected type of argument to hypot");var ee=O(V[W]);U(Y,ee)?(Z=z(Z,z(F(Y,ee),F(Y,ee))),Z=I(Z,1),Y=ee):Z=I(Z,q(ee)?z(F(ee,Y),F(ee,Y)):ee)}return z(Y,L(Z))}}),name$1O="norm",dependencies$1O=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],createNorm=factory(name$1O,dependencies$1O,_=>{var{typed:R,abs:O,add:I,pow:F,conj:z,sqrt:L,multiply:U,equalScalar:q,larger:G,smaller:V,matrix:Z,ctranspose:Y,eigs:W}=_;return R(name$1O,{number:Math.abs,Complex:function(he){return he.abs()},BigNumber:function(he){return he.abs()},boolean:function(he){return Math.abs(he)},Array:function(he){return fe(Z(he),2)},Matrix:function(he){return fe(he,2)},"Array, number | BigNumber | string":function(he,pe){return fe(Z(he),pe)},"Matrix, number | BigNumber | string":function(he,pe){return fe(he,pe)}});function ee(me){var he=0;return me.forEach(function(pe){var ge=O(pe);G(ge,he)&&(he=ge)},!0),he}function ne(me){var he;return me.forEach(function(pe){var ge=O(pe);(!he||V(ge,he))&&(he=ge)},!0),he||0}function ie(me,he){if(he===Number.POSITIVE_INFINITY||he==="inf")return ee(me);if(he===Number.NEGATIVE_INFINITY||he==="-inf")return ne(me);if(he==="fro")return fe(me,2);if(typeof he=="number"&&!isNaN(he)){if(!q(he,0)){var pe=0;return me.forEach(function(ge){pe=I(F(O(ge),he),pe)},!0),F(pe,1/he)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function se(me){var he=0;return me.forEach(function(pe,ge){he=I(he,U(pe,z(pe)))}),O(L(he))}function oe(me){var he=[],pe=0;return me.forEach(function(ge,_e){var ye=_e[1],we=I(he[ye]||0,O(ge));G(we,pe)&&(pe=we),he[ye]=we},!0),pe}function le(me){var he=me.size();if(he[0]!==he[1])throw new RangeError("Invalid matrix dimensions");var pe=Y(me),ge=U(pe,me),_e=W(ge).values.toArray(),ye=_e[_e.length-1];return O(L(ye))}function ue(me){var he=[],pe=0;return me.forEach(function(ge,_e){var ye=_e[0],we=I(he[ye]||0,O(ge));G(we,pe)&&(pe=we),he[ye]=we},!0),pe}function ce(me,he){if(he===1)return oe(me);if(he===Number.POSITIVE_INFINITY||he==="inf")return ue(me);if(he==="fro")return se(me);if(he===2)return le(me);throw new Error("Unsupported parameter value "+he)}function fe(me,he){var pe=me.size();if(pe.length===1)return ie(me,he);if(pe.length===2){if(pe[0]&&pe[1])return ce(me,he);throw new RangeError("Invalid matrix dimensions")}}}),name$1N="dot",dependencies$1N=["typed","addScalar","multiplyScalar","conj","size"],createDot=factory(name$1N,dependencies$1N,_=>{var{typed:R,addScalar:O,multiplyScalar:I,conj:F,size:z}=_;return R(name$1N,{"Array | DenseMatrix, Array | DenseMatrix":U,"SparseMatrix, SparseMatrix":q});function L(G,V){var Z=z(G),Y=z(V),W,ee;if(Z.length===1)W=Z[0];else if(Z.length===2&&Z[1]===1)W=Z[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+Z.join(", ")+")");if(Y.length===1)ee=Y[0];else if(Y.length===2&&Y[1]===1)ee=Y[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+Y.join(", ")+")");if(W!==ee)throw new RangeError("Vectors must have equal length ("+W+" != "+ee+")");if(W===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return W}function U(G,V){var Z=L(G,V),Y=isMatrix(G)?G._data:G,W=isMatrix(G)?G._datatype||G.getDataType():void 0,ee=isMatrix(V)?V._data:V,ne=isMatrix(V)?V._datatype||V.getDataType():void 0,ie=z(G).length===2,se=z(V).length===2,oe=O,le=I;if(W&&ne&&W===ne&&typeof W=="string"&&W!=="mixed"){var ue=W;oe=R.find(O,[ue,ue]),le=R.find(I,[ue,ue])}if(!ie&&!se){for(var ce=le(F(Y[0]),ee[0]),fe=1;fe<Z;fe++)ce=oe(ce,le(F(Y[fe]),ee[fe]));return ce}if(!ie&&se){for(var me=le(F(Y[0]),ee[0][0]),he=1;he<Z;he++)me=oe(me,le(F(Y[he]),ee[he][0]));return me}if(ie&&!se){for(var pe=le(F(Y[0][0]),ee[0]),ge=1;ge<Z;ge++)pe=oe(pe,le(F(Y[ge][0]),ee[ge]));return pe}if(ie&&se){for(var _e=le(F(Y[0][0]),ee[0][0]),ye=1;ye<Z;ye++)_e=oe(_e,le(F(Y[ye][0]),ee[ye][0]));return _e}}function q(G,V){L(G,V);for(var Z=G._index,Y=G._values,W=V._index,ee=V._values,ne=0,ie=O,se=I,oe=0,le=0;oe<Z.length&&le<W.length;){var ue=Z[oe],ce=W[le];if(ue<ce){oe++;continue}if(ue>ce){le++;continue}ue===ce&&(ne=ie(ne,se(Y[oe],ee[le])),oe++,le++)}return ne}}),name$1M="trace",dependencies$1M=["typed","matrix","add"],createTrace=factory(name$1M,dependencies$1M,_=>{var{typed:R,matrix:O,add:I}=_;return R("trace",{Array:function(U){return F(O(U))},SparseMatrix:z,DenseMatrix:F,any:clone$3});function F(L){var U=L._size,q=L._data;switch(U.length){case 1:if(U[0]===1)return clone$3(q[0]);throw new RangeError("Matrix must be square (size: "+format$3(U)+")");case 2:{var G=U[0],V=U[1];if(G===V){for(var Z=0,Y=0;Y<G;Y++)Z=I(Z,q[Y][Y]);return Z}else throw new RangeError("Matrix must be square (size: "+format$3(U)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+format$3(U)+")")}}function z(L){var U=L._values,q=L._index,G=L._ptr,V=L._size,Z=V[0],Y=V[1];if(Z===Y){var W=0;if(U.length>0)for(var ee=0;ee<Y;ee++)for(var ne=G[ee],ie=G[ee+1],se=ne;se<ie;se++){var oe=q[se];if(oe===ee){W=I(W,U[se]);break}if(oe>ee)break}return W}throw new RangeError("Matrix must be square (size: "+format$3(V)+")")}}),name$1L="index",dependencies$1L=["typed","Index"],createIndex=factory(name$1L,dependencies$1L,_=>{var{typed:R,Index:O}=_;return R(name$1L,{"...number | string | BigNumber | Range | Array | Matrix":function(F){var z=F.map(function(U){return isBigNumber(U)?U.toNumber():isArray$1(U)||isMatrix(U)?U.map(function(q){return isBigNumber(q)?q.toNumber():q}):U}),L=new O;return O.apply(L,z),L}})}),keywords=new Set(["end"]),name$1K="Node",dependencies$1K=["mathWithTransform"],createNode$1=factory(name$1K,dependencies$1K,_=>{var{mathWithTransform:R}=_;function O(F){for(var z of[...keywords])if(F.has(z))throw new Error('Scope contains an illegal symbol, "'+z+'" is a reserved keyword')}class I{get type(){return"Node"}get isNode(){return!0}evaluate(z){return this.compile().evaluate(z)}compile(){var z=this._compile(R,{}),L={},U=null;function q(G){var V=createMap$1(G);return O(V),z(V,L,U)}return{evaluate:q}}_compile(z,L){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(z){throw new Error("Cannot run forEach on a Node interface")}map(z){throw new Error("Cannot run map on a Node interface")}_ifNode(z){if(!isNode(z))throw new TypeError("Callback function must return a Node");return z}traverse(z){z(this,null,null);function L(U,q){U.forEach(function(G,V,Z){q(G,V,Z),L(G,q)})}L(this,z)}transform(z){function L(U,q,G){var V=z(U,q,G);return V!==U?V:U.map(L)}return L(this,null,null)}filter(z){var L=[];return this.traverse(function(U,q,G){z(U,q,G)&&L.push(U)}),L}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(z){return z.cloneDeep()})}equals(z){return z?this.type===z.type&&deepStrictEqual(this,z):!1}toString(z){var L=this._getCustomString(z);return typeof L<"u"?L:this._toString(z)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(z){var L=this._getCustomString(z);return typeof L<"u"?L:this._toHTML(z)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(z){var L=this._getCustomString(z);return typeof L<"u"?L:this._toTex(z)}_toTex(z){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(z){if(z&&typeof z=="object")switch(typeof z.handler){case"object":case"undefined":return;case"function":return z.handler(this,z);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return I},{isClass:!0,isNode:!0});function errorTransform(_){return _&&_.isIndexError?new IndexError(_.index+1,_.min+1,_.max!==void 0?_.max+1:void 0):_}function accessFactory(_){var{subset:R}=_;return function(I,F){try{if(Array.isArray(I))return R(I,F);if(I&&typeof I.subset=="function")return I.subset(F);if(typeof I=="string")return R(I,F);if(typeof I=="object"){if(!F.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return getSafeProperty(I,F.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(z){throw errorTransform(z)}}}var name$1J="AccessorNode",dependencies$1J=["subset","Node"],createAccessorNode=factory(name$1J,dependencies$1J,_=>{var{subset:R,Node:O}=_,I=accessFactory({subset:R});function F(L){return!(isAccessorNode(L)||isArrayNode(L)||isConstantNode(L)||isFunctionNode(L)||isObjectNode(L)||isParenthesisNode(L)||isSymbolNode(L))}class z extends O{constructor(U,q){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(super(),!isNode(U))throw new TypeError('Node expected for parameter "object"');if(!isIndexNode(q))throw new TypeError('IndexNode expected for parameter "index"');this.object=U,this.index=q,this.optionalChaining=G}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return name$1J}get isAccessorNode(){return!0}_compile(U,q){var G=this.object._compile(U,q),V=this.index._compile(U,q),Z=this.optionalChaining,Y=isAccessorNode(this.object)&&this.object.optionalChaining;if(this.index.isObjectProperty()){var W=this.index.getObjectProperty();return function(ne,ie,se){var oe=se||{},le=G(ne,ie,oe);if(Z&&le==null){oe.optionalShortCircuit=!0;return}if(!(Y&&oe!==null&&oe!==void 0&&oe.optionalShortCircuit))return getSafeProperty(le,W)}}else return function(ne,ie,se){var oe=se||{},le=G(ne,ie,oe);if(Z&&le==null){oe.optionalShortCircuit=!0;return}if(!(Y&&oe!==null&&oe!==void 0&&oe.optionalShortCircuit)){var ue=V(ne,ie,le);return I(le,ue)}}}forEach(U){U(this.object,"object",this),U(this.index,"index",this)}map(U){return new z(this._ifNode(U(this.object,"object",this)),this._ifNode(U(this.index,"index",this)),this.optionalChaining)}clone(){return new z(this.object,this.index,this.optionalChaining)}_toString(U){var q=this.object.toString(U);F(this.object)&&(q="("+q+")");var G=this.optionalChaining?this.index.dotNotation?"?":"?.":"";return q+G+this.index.toString(U)}_toHTML(U){var q=this.object.toHTML(U);return F(this.object)&&(q='<span class="math-parenthesis math-round-parenthesis">(</span>'+q+'<span class="math-parenthesis math-round-parenthesis">)</span>'),q+this.index.toHTML(U)}_toTex(U){var q=this.object.toTex(U);return F(this.object)&&(q="\\left(' + object + '\\right)"),q+this.index.toTex(U)}toJSON(){return{mathjs:name$1J,object:this.object,index:this.index,optionalChaining:this.optionalChaining}}static fromJSON(U){return new z(U.object,U.index,U.optionalChaining)}}return _defineProperty(z,"name",name$1J),z},{isClass:!0,isNode:!0}),name$1I="ArrayNode",dependencies$1I=["Node"],createArrayNode=factory(name$1I,dependencies$1I,_=>{var{Node:R}=_;class O extends R{constructor(F){if(super(),this.items=F||[],!Array.isArray(this.items)||!this.items.every(isNode))throw new TypeError("Array containing Nodes expected")}get type(){return name$1I}get isArrayNode(){return!0}_compile(F,z){var L=map$3(this.items,function(G){return G._compile(F,z)}),U=F.config.matrix!=="Array";if(U){var q=F.matrix;return function(V,Z,Y){return q(map$3(L,function(W){return W(V,Z,Y)}))}}else return function(V,Z,Y){return map$3(L,function(W){return W(V,Z,Y)})}}forEach(F){for(var z=0;z<this.items.length;z++){var L=this.items[z];F(L,"items["+z+"]",this)}}map(F){for(var z=[],L=0;L<this.items.length;L++)z[L]=this._ifNode(F(this.items[L],"items["+L+"]",this));return new O(z)}clone(){return new O(this.items.slice(0))}_toString(F){var z=this.items.map(function(L){return L.toString(F)});return"["+z.join(", ")+"]"}toJSON(){return{mathjs:name$1I,items:this.items}}static fromJSON(F){return new O(F.items)}_toHTML(F){var z=this.items.map(function(L){return L.toHTML(F)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+z.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(F){function z(L,U){var q=L.some(isArrayNode)&&!L.every(isArrayNode),G=U||q,V=G?"&":"\\\\",Z=L.map(function(Y){return Y.items?z(Y.items,!U):Y.toTex(F)}).join(V);return q||!G||G&&!U?"\\begin{bmatrix}"+Z+"\\end{bmatrix}":Z}return z(this.items,!1)}}return _defineProperty(O,"name",name$1I),O},{isClass:!0,isNode:!0});function assignFactory(_){var{subset:R,matrix:O}=_;return function(F,z,L){try{if(Array.isArray(F)){var U=O(F).subset(z,L).valueOf();return U.forEach((q,G)=>{F[G]=q}),F}else{if(F&&typeof F.subset=="function")return F.subset(z,L);if(typeof F=="string")return R(F,z,L);if(typeof F=="object"){if(!z.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return setSafeProperty(F,z.getObjectProperty(),L),F}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(q){throw errorTransform(q)}}}var properties=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:nullish":{op:"??",associativity:"left",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function unwrapParen(_,R){if(!R||R!=="auto")return _;for(var O=_;isParenthesisNode(O);)O=O.content;return O}function getPrecedence(_,R,O,I){var F=_;R!=="keep"&&(F=_.getContent());for(var z=F.getIdentifier(),L=null,U=0;U<properties.length;U++)if(z in properties[U]){L=U;break}if(z==="OperatorNode:multiply"&&F.implicit&&O!=="show"){var q=unwrapParen(F.args[0],R);!(isConstantNode(q)&&I&&I.getIdentifier()==="OperatorNode:divide"&&rule2Node(unwrapParen(I.args[0],R)))&&!(q.getIdentifier()==="OperatorNode:divide"&&rule2Node(unwrapParen(q.args[0],R))&&isConstantNode(unwrapParen(q.args[1])))&&(L+=1)}return L}function getAssociativity(_,R){var O=_;R!=="keep"&&(O=_.getContent());var I=O.getIdentifier(),F=getPrecedence(O,R);if(F===null)return null;var z=properties[F][I];if(hasOwnProperty(z,"associativity")){if(z.associativity==="left")return"left";if(z.associativity==="right")return"right";throw Error("'"+I+"' has the invalid associativity '"+z.associativity+"'.")}return null}function isAssociativeWith(_,R,O){var I=O!=="keep"?_.getContent():_,F=O!=="keep"?_.getContent():R,z=I.getIdentifier(),L=F.getIdentifier(),U=getPrecedence(I,O);if(U===null)return null;var q=properties[U][z];if(hasOwnProperty(q,"associativeWith")&&q.associativeWith instanceof Array){for(var G=0;G<q.associativeWith.length;G++)if(q.associativeWith[G]===L)return!0;return!1}return null}function getOperator(_){var R="OperatorNode:"+_;for(var O of properties)if(R in O)return O[R].op;return null}var name$1H="AssignmentNode",dependencies$1H=["subset","?matrix","Node"],createAssignmentNode=factory(name$1H,dependencies$1H,_=>{var{subset:R,matrix:O,Node:I}=_,F=accessFactory({subset:R}),z=assignFactory({subset:R,matrix:O});function L(q,G,V){G||(G="keep");var Z=getPrecedence(q,G,V),Y=getPrecedence(q.value,G,V);return G==="all"||Y!==null&&Y<=Z}class U extends I{constructor(G,V,Z){if(super(),this.object=G,this.index=Z?V:null,this.value=Z||V,!isSymbolNode(G)&&!isAccessorNode(G))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(isSymbolNode(G)&&G.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!isIndexNode(this.index))throw new TypeError('IndexNode expected as "index"');if(!isNode(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return name$1H}get isAssignmentNode(){return!0}_compile(G,V){var Z=this.object._compile(G,V),Y=this.index?this.index._compile(G,V):null,W=this.value._compile(G,V),ee=this.object.name;if(this.index)if(this.index.isObjectProperty()){var ne=this.index.getObjectProperty();return function(ue,ce,fe){var me=Z(ue,ce,fe),he=W(ue,ce,fe);return setSafeProperty(me,ne,he),he}}else{if(isSymbolNode(this.object))return function(ue,ce,fe){var me=Z(ue,ce,fe),he=W(ue,ce,fe),pe=Y(ue,ce,me);return ue.set(ee,z(me,pe,he)),he};var ie=this.object.object._compile(G,V);if(this.object.index.isObjectProperty()){var se=this.object.index.getObjectProperty();return function(ue,ce,fe){var me=ie(ue,ce,fe),he=getSafeProperty(me,se),pe=Y(ue,ce,he),ge=W(ue,ce,fe);return setSafeProperty(me,se,z(he,pe,ge)),ge}}else{var oe=this.object.index._compile(G,V);return function(ue,ce,fe){var me=ie(ue,ce,fe),he=oe(ue,ce,me),pe=F(me,he),ge=Y(ue,ce,pe),_e=W(ue,ce,fe);return z(me,he,z(pe,ge,_e)),_e}}}else{if(!isSymbolNode(this.object))throw new TypeError("SymbolNode expected as object");return function(ue,ce,fe){var me=W(ue,ce,fe);return ue.set(ee,me),me}}}forEach(G){G(this.object,"object",this),this.index&&G(this.index,"index",this),G(this.value,"value",this)}map(G){var V=this._ifNode(G(this.object,"object",this)),Z=this.index?this._ifNode(G(this.index,"index",this)):null,Y=this._ifNode(G(this.value,"value",this));return new U(V,Z,Y)}clone(){return new U(this.object,this.index,this.value)}_toString(G){var V=this.object.toString(G),Z=this.index?this.index.toString(G):"",Y=this.value.toString(G);return L(this,G&&G.parenthesis,G&&G.implicit)&&(Y="("+Y+")"),V+Z+" = "+Y}toJSON(){return{mathjs:name$1H,object:this.object,index:this.index,value:this.value}}static fromJSON(G){return new U(G.object,G.index,G.value)}_toHTML(G){var V=this.object.toHTML(G),Z=this.index?this.index.toHTML(G):"",Y=this.value.toHTML(G);return L(this,G&&G.parenthesis,G&&G.implicit)&&(Y='<span class="math-paranthesis math-round-parenthesis">(</span>'+Y+'<span class="math-paranthesis math-round-parenthesis">)</span>'),V+Z+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+Y}_toTex(G){var V=this.object.toTex(G),Z=this.index?this.index.toTex(G):"",Y=this.value.toTex(G);return L(this,G&&G.parenthesis,G&&G.implicit)&&(Y="\\left(".concat(Y,"\\right)")),V+Z+"="+Y}}return _defineProperty(U,"name",name$1H),U},{isClass:!0,isNode:!0}),name$1G="BlockNode",dependencies$1G=["ResultSet","Node"],createBlockNode=factory(name$1G,dependencies$1G,_=>{var{ResultSet:R,Node:O}=_;class I extends O{constructor(z){if(super(),!Array.isArray(z))throw new Error("Array expected");this.blocks=z.map(function(L){var U=L&&L.node,q=L&&L.visible!==void 0?L.visible:!0;if(!isNode(U))throw new TypeError('Property "node" must be a Node');if(typeof q!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:U,visible:q}})}get type(){return name$1G}get isBlockNode(){return!0}_compile(z,L){var U=map$3(this.blocks,function(q){return{evaluate:q.node._compile(z,L),visible:q.visible}});return function(G,V,Z){var Y=[];return forEach$1(U,function(ee){var ne=ee.evaluate(G,V,Z);ee.visible&&Y.push(ne)}),new R(Y)}}forEach(z){for(var L=0;L<this.blocks.length;L++)z(this.blocks[L].node,"blocks["+L+"].node",this)}map(z){for(var L=[],U=0;U<this.blocks.length;U++){var q=this.blocks[U],G=this._ifNode(z(q.node,"blocks["+U+"].node",this));L[U]={node:G,visible:q.visible}}return new I(L)}clone(){var z=this.blocks.map(function(L){return{node:L.node,visible:L.visible}});return new I(z)}_toString(z){return this.blocks.map(function(L){return L.node.toString(z)+(L.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:name$1G,blocks:this.blocks}}static fromJSON(z){return new I(z.blocks)}_toHTML(z){return this.blocks.map(function(L){return L.node.toHTML(z)+(L.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(z){return this.blocks.map(function(L){return L.node.toTex(z)+(L.visible?"":";")}).join(`\\;\\;
`)}}return _defineProperty(I,"name",name$1G),I},{isClass:!0,isNode:!0}),name$1F="ConditionalNode",dependencies$1F=["Node"],createConditionalNode=factory(name$1F,dependencies$1F,_=>{var{Node:R}=_;function O(F){if(typeof F=="number"||typeof F=="boolean"||typeof F=="string")return!!F;if(F){if(isBigNumber(F))return!F.isZero();if(isComplex(F))return!!(F.re||F.im);if(isUnit(F))return!!F.value}if(F==null)return!1;throw new TypeError('Unsupported type of condition "'+typeOf$1(F)+'"')}class I extends R{constructor(z,L,U){if(super(),!isNode(z))throw new TypeError("Parameter condition must be a Node");if(!isNode(L))throw new TypeError("Parameter trueExpr must be a Node");if(!isNode(U))throw new TypeError("Parameter falseExpr must be a Node");this.condition=z,this.trueExpr=L,this.falseExpr=U}get type(){return name$1F}get isConditionalNode(){return!0}_compile(z,L){var U=this.condition._compile(z,L),q=this.trueExpr._compile(z,L),G=this.falseExpr._compile(z,L);return function(Z,Y,W){return O(U(Z,Y,W))?q(Z,Y,W):G(Z,Y,W)}}forEach(z){z(this.condition,"condition",this),z(this.trueExpr,"trueExpr",this),z(this.falseExpr,"falseExpr",this)}map(z){return new I(this._ifNode(z(this.condition,"condition",this)),this._ifNode(z(this.trueExpr,"trueExpr",this)),this._ifNode(z(this.falseExpr,"falseExpr",this)))}clone(){return new I(this.condition,this.trueExpr,this.falseExpr)}_toString(z){var L=z&&z.parenthesis?z.parenthesis:"keep",U=getPrecedence(this,L,z&&z.implicit),q=this.condition.toString(z),G=getPrecedence(this.condition,L,z&&z.implicit);(L==="all"||this.condition.type==="OperatorNode"||G!==null&&G<=U)&&(q="("+q+")");var V=this.trueExpr.toString(z),Z=getPrecedence(this.trueExpr,L,z&&z.implicit);(L==="all"||this.trueExpr.type==="OperatorNode"||Z!==null&&Z<=U)&&(V="("+V+")");var Y=this.falseExpr.toString(z),W=getPrecedence(this.falseExpr,L,z&&z.implicit);return(L==="all"||this.falseExpr.type==="OperatorNode"||W!==null&&W<=U)&&(Y="("+Y+")"),q+" ? "+V+" : "+Y}toJSON(){return{mathjs:name$1F,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(z){return new I(z.condition,z.trueExpr,z.falseExpr)}_toHTML(z){var L=z&&z.parenthesis?z.parenthesis:"keep",U=getPrecedence(this,L,z&&z.implicit),q=this.condition.toHTML(z),G=getPrecedence(this.condition,L,z&&z.implicit);(L==="all"||this.condition.type==="OperatorNode"||G!==null&&G<=U)&&(q='<span class="math-parenthesis math-round-parenthesis">(</span>'+q+'<span class="math-parenthesis math-round-parenthesis">)</span>');var V=this.trueExpr.toHTML(z),Z=getPrecedence(this.trueExpr,L,z&&z.implicit);(L==="all"||this.trueExpr.type==="OperatorNode"||Z!==null&&Z<=U)&&(V='<span class="math-parenthesis math-round-parenthesis">(</span>'+V+'<span class="math-parenthesis math-round-parenthesis">)</span>');var Y=this.falseExpr.toHTML(z),W=getPrecedence(this.falseExpr,L,z&&z.implicit);return(L==="all"||this.falseExpr.type==="OperatorNode"||W!==null&&W<=U)&&(Y='<span class="math-parenthesis math-round-parenthesis">(</span>'+Y+'<span class="math-parenthesis math-round-parenthesis">)</span>'),q+'<span class="math-operator math-conditional-operator">?</span>'+V+'<span class="math-operator math-conditional-operator">:</span>'+Y}_toTex(z){return"\\begin{cases} {"+this.trueExpr.toTex(z)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(z)+"}\\\\{"+this.falseExpr.toTex(z)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return _defineProperty(I,"name",name$1F),I},{isClass:!0,isNode:!0}),dist,hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1;var _=Object.assign||function(F){for(var z=1;z<arguments.length;z++){var L=arguments[z];for(var U in L)Object.prototype.hasOwnProperty.call(L,U)&&(F[U]=L[U])}return F},R={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},O={"":"\\--","":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},I=function(z,L){return _({},z,L)};return dist=function(F){for(var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=z.preserveFormatting,U=L===void 0?!1:L,q=z.escapeMapFn,G=q===void 0?I:q,V=String(F),Z="",Y=G(_({},R),U?_({},O):{}),W=Object.keys(Y),ee=function(){var ie=!1;W.forEach(function(se,oe){ie||V.length>=se.length&&V.slice(0,se.length)===se&&(Z+=Y[W[oe]],V=V.slice(se.length,V.length),ie=!0)}),ie||(Z+=V.slice(0,1),V=V.slice(1,V.length))};V;)ee();return Z},dist}var distExports=requireDist();const escapeLatexLib=getDefaultExportFromCjs(distExports);var latexSymbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},latexOperators={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},latexFunctions={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(latexOperators.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(latexOperators.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(latexOperators.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(latexOperators.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(latexOperators.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},fraction:{2:"\\frac{${args[0]}}{${args[1]}}"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(latexOperators.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(latexOperators.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : y^${args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(latexOperators.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(latexOperators.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(latexOperators.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(latexOperators.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(latexOperators.bitAnd,"${args[1]}\\right)")},bitNot:{1:latexOperators.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(latexOperators.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(latexOperators.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(latexOperators.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(latexOperators.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(latexOperators.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(latexOperators.and,"${args[1]}\\right)")},not:{1:latexOperators.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(latexOperators.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(latexOperators.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(latexOperators.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(latexOperators.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(latexOperators.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(latexOperators.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(latexOperators.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(latexOperators.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(latexOperators.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(latexOperators.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(latexOperators.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(latexOperators.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(latexOperators.to,"${args[1]}\\right)")},numeric:function _(R,O){return R.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(latexSymbols.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)",latexUnits={deg:"^\\circ"};function escapeLatex(_){return escapeLatexLib(_,{preserveFormatting:!0})}function toSymbol(_,R){return R=typeof R>"u"?!1:R,R?hasOwnProperty(latexUnits,_)?latexUnits[_]:"\\mathrm{"+escapeLatex(_)+"}":hasOwnProperty(latexSymbols,_)?latexSymbols[_]:escapeLatex(_)}var name$1E="ConstantNode",dependencies$1E=["Node","isBounded"],createConstantNode=factory(name$1E,dependencies$1E,_=>{var{Node:R,isBounded:O}=_;class I extends R{constructor(z){super(),this.value=z}get type(){return name$1E}get isConstantNode(){return!0}_compile(z,L){var U=this.value;return function(){return U}}forEach(z){}map(z){return this.clone()}clone(){return new I(this.value)}_toString(z){return format$3(this.value,z)}_toHTML(z){var L=this._toString(z);switch(typeOf$1(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+L+"</span>";case"string":return'<span class="math-string">'+L+"</span>";case"boolean":return'<span class="math-boolean">'+L+"</span>";case"null":return'<span class="math-null-symbol">'+L+"</span>";case"undefined":return'<span class="math-undefined">'+L+"</span>";default:return'<span class="math-symbol">'+L+"</span>"}}toJSON(){return{mathjs:name$1E,value:this.value}}static fromJSON(z){return new I(z.value)}_toTex(z){var L=this._toString(z),U=typeOf$1(this.value);switch(U){case"string":return"\\mathtt{"+escapeLatex(L)+"}";case"number":case"BigNumber":{if(!O(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var q=L.toLowerCase().indexOf("e");return q!==-1?L.substring(0,q)+"\\cdot10^{"+L.substring(q+1)+"}":L}case"bigint":return L.toString();case"Fraction":return this.value.toLatex();default:return L}}}return _defineProperty(I,"name",name$1E),I},{isClass:!0,isNode:!0}),name$1D="FunctionAssignmentNode",dependencies$1D=["typed","Node"],createFunctionAssignmentNode=factory(name$1D,dependencies$1D,_=>{var{typed:R,Node:O}=_;function I(z,L,U){var q=getPrecedence(z,L,U),G=getPrecedence(z.expr,L,U);return L==="all"||G!==null&&G<=q}class F extends O{constructor(L,U,q){if(super(),typeof L!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(U))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!isNode(q))throw new TypeError('Node expected for parameter "expr"');if(keywords.has(L))throw new Error('Illegal function name, "'+L+'" is a reserved keyword');var G=new Set;for(var V of U){var Z=typeof V=="string"?V:V.name;if(G.has(Z))throw new Error('Duplicate parameter name "'.concat(Z,'"'));G.add(Z)}this.name=L,this.params=U.map(function(Y){return Y&&Y.name||Y}),this.types=U.map(function(Y){return Y&&Y.type||"any"}),this.expr=q}get type(){return name$1D}get isFunctionAssignmentNode(){return!0}_compile(L,U){var q=Object.create(U);forEach$1(this.params,function(ne){q[ne]=!0});var G=this.expr,V=G._compile(L,q),Z=this.name,Y=this.params,W=join(this.types,","),ee=Z+"("+join(this.params,", ")+")";return function(ie,se,oe){var le={};le[W]=function(){for(var ce=Object.create(se),fe=0;fe<Y.length;fe++)ce[Y[fe]]=arguments[fe];return V(ie,ce,oe)};var ue=R(Z,le);return ue.syntax=ee,ue.expr=G.toString(),ie.set(Z,ue),ue}}forEach(L){L(this.expr,"expr",this)}map(L){var U=this._ifNode(L(this.expr,"expr",this));return new F(this.name,this.params.slice(0),U)}clone(){return new F(this.name,this.params.slice(0),this.expr)}_toString(L){var U=L&&L.parenthesis?L.parenthesis:"keep",q=this.expr.toString(L);return I(this,U,L&&L.implicit)&&(q="("+q+")"),this.name+"("+this.params.join(", ")+") = "+q}toJSON(){var L=this.types;return{mathjs:name$1D,name:this.name,params:this.params.map(function(U,q){return{name:U,type:L[q]}}),expr:this.expr}}static fromJSON(L){return new F(L.name,L.params,L.expr)}_toHTML(L){for(var U=L&&L.parenthesis?L.parenthesis:"keep",q=[],G=0;G<this.params.length;G++)q.push('<span class="math-symbol math-parameter">'+escape(this.params[G])+"</span>");var V=this.expr.toHTML(L);return I(this,U,L&&L.implicit)&&(V='<span class="math-parenthesis math-round-parenthesis">(</span>'+V+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+escape(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+q.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+V}_toTex(L){var U=L&&L.parenthesis?L.parenthesis:"keep",q=this.expr.toTex(L);return I(this,U,L&&L.implicit)&&(q="\\left(".concat(q,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(toSymbol).join(",")+"\\right)="+q}}return _defineProperty(F,"name",name$1D),F},{isClass:!0,isNode:!0}),name$1C="IndexNode",dependencies$1C=["Node","size"],createIndexNode=factory(name$1C,dependencies$1C,_=>{var{Node:R,size:O}=_;class I extends R{constructor(z,L){if(super(),this.dimensions=z,this.dotNotation=L||!1,!Array.isArray(z)||!z.every(isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return name$1C}get isIndexNode(){return!0}_compile(z,L){var U=map$3(this.dimensions,function(G,V){var Z=G.filter(ee=>ee.isSymbolNode&&ee.name==="end").length>0;if(Z){var Y=Object.create(L);Y.end=!0;var W=G._compile(z,Y);return function(ne,ie,se){if(!isMatrix(se)&&!isArray$1(se)&&!isString(se))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+typeOf$1(se));var oe=O(se),le=Object.create(ie);return le.end=oe[V],W(ne,le,se)}}else return G._compile(z,L)}),q=getSafeProperty(z,"index");return function(V,Z,Y){var W=map$3(U,function(ee){return ee(V,Z,Y)});return q(...W)}}forEach(z){for(var L=0;L<this.dimensions.length;L++)z(this.dimensions[L],"dimensions["+L+"]",this)}map(z){for(var L=[],U=0;U<this.dimensions.length;U++)L[U]=this._ifNode(z(this.dimensions[U],"dimensions["+U+"]",this));return new I(L,this.dotNotation)}clone(){return new I(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&isConstantNode(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(z){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:name$1C,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(z){return new I(z.dimensions,z.dotNotation)}_toHTML(z){for(var L=[],U=0;U<this.dimensions.length;U++)L[U]=this.dimensions[U].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+escape(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+L.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(z){var L=this.dimensions.map(function(U){return U.toTex(z)});return this.dotNotation?"."+this.getObjectProperty():"_{"+L.join(",")+"}"}}return _defineProperty(I,"name",name$1C),I},{isClass:!0,isNode:!0}),name$1B="ObjectNode",dependencies$1B=["Node"],createObjectNode=factory(name$1B,dependencies$1B,_=>{var{Node:R}=_;class O extends R{constructor(F){if(super(),this.properties=F||{},F&&(typeof F!="object"||!Object.keys(F).every(function(z){return isNode(F[z])})))throw new TypeError("Object containing Nodes expected")}get type(){return name$1B}get isObjectNode(){return!0}_compile(F,z){var L={};for(var U in this.properties)if(hasOwnProperty(this.properties,U)){var q=stringify(U),G=JSON.parse(q),V=getSafeProperty(this.properties,U);L[G]=V._compile(F,z)}return function(Y,W,ee){var ne={};for(var ie in L)hasOwnProperty(L,ie)&&(ne[ie]=L[ie](Y,W,ee));return ne}}forEach(F){for(var z in this.properties)hasOwnProperty(this.properties,z)&&F(this.properties[z],"properties["+stringify(z)+"]",this)}map(F){var z={};for(var L in this.properties)hasOwnProperty(this.properties,L)&&(z[L]=this._ifNode(F(this.properties[L],"properties["+stringify(L)+"]",this)));return new O(z)}clone(){var F={};for(var z in this.properties)hasOwnProperty(this.properties,z)&&(F[z]=this.properties[z]);return new O(F)}_toString(F){var z=[];for(var L in this.properties)hasOwnProperty(this.properties,L)&&z.push(stringify(L)+": "+this.properties[L].toString(F));return"{"+z.join(", ")+"}"}toJSON(){return{mathjs:name$1B,properties:this.properties}}static fromJSON(F){return new O(F.properties)}_toHTML(F){var z=[];for(var L in this.properties)hasOwnProperty(this.properties,L)&&z.push('<span class="math-symbol math-property">'+escape(L)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[L].toHTML(F));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+z.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(F){var z=[];for(var L in this.properties)hasOwnProperty(this.properties,L)&&z.push("\\mathbf{"+L+":} & "+this.properties[L].toTex(F)+"\\\\");var U="\\left\\{\\begin{array}{ll}"+z.join(`
`)+"\\end{array}\\right\\}";return U}}return _defineProperty(O,"name",name$1B),O},{isClass:!0,isNode:!0});function createSubScope(_,R){return new PartitionedMap(_,new ObjectWrappingMap(R),new Set(Object.keys(R)))}var name$1A="OperatorNode",dependencies$1A=["Node"],createOperatorNode=factory(name$1A,dependencies$1A,_=>{var{Node:R}=_;function O(z,L){var U=z;if(L==="auto")for(;isParenthesisNode(U);)U=U.content;return isConstantNode(U)?!0:isOperatorNode(U)?O(U.args[0],L):!1}function I(z,L,U,q,G){var V=getPrecedence(z,L,U),Z=getAssociativity(z,L);if(L==="all"||q.length>2&&z.getIdentifier()!=="OperatorNode:add"&&z.getIdentifier()!=="OperatorNode:multiply")return q.map(function(ge){switch(ge.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var Y;switch(q.length){case 0:Y=[];break;case 1:{var W=getPrecedence(q[0],L,U,z);if(G&&W!==null){var ee,ne;if(L==="keep"?(ee=q[0].getIdentifier(),ne=z.getIdentifier()):(ee=q[0].getContent().getIdentifier(),ne=z.getContent().getIdentifier()),properties[V][ne].latexLeftParens===!1){Y=[!1];break}if(properties[W][ee].latexParens===!1){Y=[!1];break}}if(W===null){Y=[!1];break}if(W<=V){Y=[!0];break}Y=[!1]}break;case 2:{var ie,se=getPrecedence(q[0],L,U,z),oe=isAssociativeWith(z,q[0],L);se===null?ie=!1:se===V&&Z==="right"&&!oe||se<V?ie=!0:ie=!1;var le,ue=getPrecedence(q[1],L,U,z),ce=isAssociativeWith(z,q[1],L);if(ue===null?le=!1:ue===V&&Z==="left"&&!ce||ue<V?le=!0:le=!1,G){var fe,me,he;L==="keep"?(fe=z.getIdentifier(),me=z.args[0].getIdentifier(),he=z.args[1].getIdentifier()):(fe=z.getContent().getIdentifier(),me=z.args[0].getContent().getIdentifier(),he=z.args[1].getContent().getIdentifier()),se!==null&&(properties[V][fe].latexLeftParens===!1&&(ie=!1),properties[se][me].latexParens===!1&&(ie=!1)),ue!==null&&(properties[V][fe].latexRightParens===!1&&(le=!1),properties[ue][he].latexParens===!1&&(le=!1))}Y=[ie,le]}break;default:(z.getIdentifier()==="OperatorNode:add"||z.getIdentifier()==="OperatorNode:multiply")&&(Y=q.map(function(ge){var _e=getPrecedence(ge,L,U,z),ye=isAssociativeWith(z,ge,L),we=getAssociativity(ge,L);return _e===null?!1:V===_e&&Z===we&&!ye?!0:_e<V}));break}if(q.length>=2&&z.getIdentifier()==="OperatorNode:multiply"&&z.implicit&&L!=="all"&&U==="hide")for(var pe=1;pe<Y.length;++pe)O(q[pe],L)&&!Y[pe-1]&&(L!=="keep"||!isParenthesisNode(q[pe-1]))&&(Y[pe]=!0);return Y}class F extends R{constructor(L,U,q,G,V){if(super(),typeof L!="string")throw new TypeError('string expected for parameter "op"');if(typeof U!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(q)||!q.every(isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=G===!0,this.isPercentage=V===!0,this.op=L,this.fn=U,this.args=q||[]}get type(){return name$1A}get isOperatorNode(){return!0}_compile(L,U){if(typeof this.fn!="string"||!isSafeMethod(L,this.fn))throw L[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var q=getSafeProperty(L,this.fn),G=map$3(this.args,function(ee){return ee._compile(L,U)});if(typeof q=="function"&&q.rawArgs===!0){var V=this.args;return function(ne,ie,se){return q(V,L,createSubScope(ne,ie))}}else if(G.length===1){var Z=G[0];return function(ne,ie,se){return q(Z(ne,ie,se))}}else if(G.length===2){var Y=G[0],W=G[1];return function(ne,ie,se){return q(Y(ne,ie,se),W(ne,ie,se))}}else return function(ne,ie,se){return q.apply(null,map$3(G,function(oe){return oe(ne,ie,se)}))}}forEach(L){for(var U=0;U<this.args.length;U++)L(this.args[U],"args["+U+"]",this)}map(L){for(var U=[],q=0;q<this.args.length;q++)U[q]=this._ifNode(L(this.args[q],"args["+q+"]",this));return new F(this.op,this.fn,U,this.implicit,this.isPercentage)}clone(){return new F(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(L){var U=L&&L.parenthesis?L.parenthesis:"keep",q=L&&L.implicit?L.implicit:"hide",G=this.args,V=I(this,U,q,G,!1);if(G.length===1){var Z=getAssociativity(this,U),Y=G[0].toString(L);V[0]&&(Y="("+Y+")");var W=/[a-zA-Z]+/.test(this.op);return Z==="right"?this.op+(W?" ":"")+Y:Z==="left"?Y+(W?" ":"")+this.op:Y+this.op}else if(G.length===2){var ee=G[0].toString(L),ne=G[1].toString(L);return V[0]&&(ee="("+ee+")"),V[1]&&(ne="("+ne+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&q==="hide"?ee+" "+ne:ee+" "+this.op+" "+ne}else if(G.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var ie=G.map(function(se,oe){return se=se.toString(L),V[oe]&&(se="("+se+")"),se});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&q==="hide"?ie.join(" "):ie.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:name$1A,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(L){return new F(L.op,L.fn,L.args,L.implicit,L.isPercentage)}_toHTML(L){var U=L&&L.parenthesis?L.parenthesis:"keep",q=L&&L.implicit?L.implicit:"hide",G=this.args,V=I(this,U,q,G,!1);if(G.length===1){var Z=getAssociativity(this,U),Y=G[0].toHTML(L);return V[0]&&(Y='<span class="math-parenthesis math-round-parenthesis">(</span>'+Y+'<span class="math-parenthesis math-round-parenthesis">)</span>'),Z==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+escape(this.op)+"</span>"+Y:Y+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+escape(this.op)+"</span>"}else if(G.length===2){var W=G[0].toHTML(L),ee=G[1].toHTML(L);return V[0]&&(W='<span class="math-parenthesis math-round-parenthesis">(</span>'+W+'<span class="math-parenthesis math-round-parenthesis">)</span>'),V[1]&&(ee='<span class="math-parenthesis math-round-parenthesis">(</span>'+ee+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&q==="hide"?W+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+ee:W+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+escape(this.op)+"</span>"+ee}else{var ne=G.map(function(ie,se){return ie=ie.toHTML(L),V[se]&&(ie='<span class="math-parenthesis math-round-parenthesis">(</span>'+ie+'<span class="math-parenthesis math-round-parenthesis">)</span>'),ie});return G.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&q==="hide"?ne.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):ne.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+escape(this.op)+"</span>"):'<span class="math-function">'+escape(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+ne.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(L){var U=L&&L.parenthesis?L.parenthesis:"keep",q=L&&L.implicit?L.implicit:"hide",G=this.args,V=I(this,U,q,G,!0),Z=latexOperators[this.fn];if(Z=typeof Z>"u"?this.op:Z,G.length===1){var Y=getAssociativity(this,U),W=G[0].toTex(L);return V[0]&&(W="\\left(".concat(W,"\\right)")),Y==="right"?Z+W:W+Z}else if(G.length===2){var ee=G[0],ne=ee.toTex(L);V[0]&&(ne="\\left(".concat(ne,"\\right)"));var ie=G[1],se=ie.toTex(L);V[1]&&(se="\\left(".concat(se,"\\right)"));var oe;switch(U==="keep"?oe=ee.getIdentifier():oe=ee.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return Z+"{"+ne+"}{"+se+"}";case"OperatorNode:pow":switch(ne="{"+ne+"}",se="{"+se+"}",oe){case"ConditionalNode":case"OperatorNode:divide":ne="\\left(".concat(ne,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&q==="hide")return ne+"~"+se}return ne+Z+se}else if(G.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var le=G.map(function(ue,ce){return ue=ue.toTex(L),V[ce]&&(ue="\\left(".concat(ue,"\\right)")),ue});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&q==="hide"?le.join("~"):le.join(Z)}else return"\\mathrm{"+this.fn+"}\\left("+G.map(function(ue){return ue.toTex(L)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return _defineProperty(F,"name",name$1A),F},{isClass:!0,isNode:!0}),name$1z="ParenthesisNode",dependencies$1z=["Node"],createParenthesisNode=factory(name$1z,dependencies$1z,_=>{var{Node:R}=_;class O extends R{constructor(F){if(super(),!isNode(F))throw new TypeError('Node expected for parameter "content"');this.content=F}get type(){return name$1z}get isParenthesisNode(){return!0}_compile(F,z){return this.content._compile(F,z)}getContent(){return this.content.getContent()}forEach(F){F(this.content,"content",this)}map(F){var z=F(this.content,"content",this);return new O(z)}clone(){return new O(this.content)}_toString(F){return!F||F&&!F.parenthesis||F&&F.parenthesis==="keep"?"("+this.content.toString(F)+")":this.content.toString(F)}toJSON(){return{mathjs:name$1z,content:this.content}}static fromJSON(F){return new O(F.content)}_toHTML(F){return!F||F&&!F.parenthesis||F&&F.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(F)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(F)}_toTex(F){return!F||F&&!F.parenthesis||F&&F.parenthesis==="keep"?"\\left(".concat(this.content.toTex(F),"\\right)"):this.content.toTex(F)}}return _defineProperty(O,"name",name$1z),O},{isClass:!0,isNode:!0}),name$1y="RangeNode",dependencies$1y=["Node"],createRangeNode=factory(name$1y,dependencies$1y,_=>{var{Node:R}=_;function O(F,z,L){var U=getPrecedence(F,z,L),q={},G=getPrecedence(F.start,z,L);if(q.start=G!==null&&G<=U||z==="all",F.step){var V=getPrecedence(F.step,z,L);q.step=V!==null&&V<=U||z==="all"}var Z=getPrecedence(F.end,z,L);return q.end=Z!==null&&Z<=U||z==="all",q}class I extends R{constructor(z,L,U){if(super(),!isNode(z))throw new TypeError("Node expected");if(!isNode(L))throw new TypeError("Node expected");if(U&&!isNode(U))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=z,this.end=L,this.step=U||null}get type(){return name$1y}get isRangeNode(){return!0}needsEnd(){var z=this.filter(function(L){return isSymbolNode(L)&&L.name==="end"});return z.length>0}_compile(z,L){var U=z.range,q=this.start._compile(z,L),G=this.end._compile(z,L);if(this.step){var V=this.step._compile(z,L);return function(Y,W,ee){return U(q(Y,W,ee),G(Y,W,ee),V(Y,W,ee))}}else return function(Y,W,ee){return U(q(Y,W,ee),G(Y,W,ee))}}forEach(z){z(this.start,"start",this),z(this.end,"end",this),this.step&&z(this.step,"step",this)}map(z){return new I(this._ifNode(z(this.start,"start",this)),this._ifNode(z(this.end,"end",this)),this.step&&this._ifNode(z(this.step,"step",this)))}clone(){return new I(this.start,this.end,this.step&&this.step)}_toString(z){var L=z&&z.parenthesis?z.parenthesis:"keep",U=O(this,L,z&&z.implicit),q,G=this.start.toString(z);if(U.start&&(G="("+G+")"),q=G,this.step){var V=this.step.toString(z);U.step&&(V="("+V+")"),q+=":"+V}var Z=this.end.toString(z);return U.end&&(Z="("+Z+")"),q+=":"+Z,q}toJSON(){return{mathjs:name$1y,start:this.start,end:this.end,step:this.step}}static fromJSON(z){return new I(z.start,z.end,z.step)}_toHTML(z){var L=z&&z.parenthesis?z.parenthesis:"keep",U=O(this,L,z&&z.implicit),q,G=this.start.toHTML(z);if(U.start&&(G='<span class="math-parenthesis math-round-parenthesis">(</span>'+G+'<span class="math-parenthesis math-round-parenthesis">)</span>'),q=G,this.step){var V=this.step.toHTML(z);U.step&&(V='<span class="math-parenthesis math-round-parenthesis">(</span>'+V+'<span class="math-parenthesis math-round-parenthesis">)</span>'),q+='<span class="math-operator math-range-operator">:</span>'+V}var Z=this.end.toHTML(z);return U.end&&(Z='<span class="math-parenthesis math-round-parenthesis">(</span>'+Z+'<span class="math-parenthesis math-round-parenthesis">)</span>'),q+='<span class="math-operator math-range-operator">:</span>'+Z,q}_toTex(z){var L=z&&z.parenthesis?z.parenthesis:"keep",U=O(this,L,z&&z.implicit),q=this.start.toTex(z);if(U.start&&(q="\\left(".concat(q,"\\right)")),this.step){var G=this.step.toTex(z);U.step&&(G="\\left(".concat(G,"\\right)")),q+=":"+G}var V=this.end.toTex(z);return U.end&&(V="\\left(".concat(V,"\\right)")),q+=":"+V,q}}return _defineProperty(I,"name",name$1y),I},{isClass:!0,isNode:!0}),name$1x="RelationalNode",dependencies$1x=["Node"],createRelationalNode=factory(name$1x,dependencies$1x,_=>{var{Node:R}=_,O={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class I extends R{constructor(z,L){if(super(),!Array.isArray(z))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(L))throw new TypeError("Parameter params must be an array");if(z.length!==L.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=z,this.params=L}get type(){return name$1x}get isRelationalNode(){return!0}_compile(z,L){var U=this,q=this.params.map(G=>G._compile(z,L));return function(V,Z,Y){for(var W,ee=q[0](V,Z,Y),ne=0;ne<U.conditionals.length;ne++){W=ee,ee=q[ne+1](V,Z,Y);var ie=getSafeProperty(z,U.conditionals[ne]);if(!ie(W,ee))return!1}return!0}}forEach(z){this.params.forEach((L,U)=>z(L,"params["+U+"]",this),this)}map(z){return new I(this.conditionals.slice(),this.params.map((L,U)=>this._ifNode(z(L,"params["+U+"]",this)),this))}clone(){return new I(this.conditionals,this.params)}_toString(z){for(var L=z&&z.parenthesis?z.parenthesis:"keep",U=getPrecedence(this,L,z&&z.implicit),q=this.params.map(function(Z,Y){var W=getPrecedence(Z,L,z&&z.implicit);return L==="all"||W!==null&&W<=U?"("+Z.toString(z)+")":Z.toString(z)}),G=q[0],V=0;V<this.conditionals.length;V++)G+=" "+O[this.conditionals[V]],G+=" "+q[V+1];return G}toJSON(){return{mathjs:name$1x,conditionals:this.conditionals,params:this.params}}static fromJSON(z){return new I(z.conditionals,z.params)}_toHTML(z){for(var L=z&&z.parenthesis?z.parenthesis:"keep",U=getPrecedence(this,L,z&&z.implicit),q=this.params.map(function(Z,Y){var W=getPrecedence(Z,L,z&&z.implicit);return L==="all"||W!==null&&W<=U?'<span class="math-parenthesis math-round-parenthesis">(</span>'+Z.toHTML(z)+'<span class="math-parenthesis math-round-parenthesis">)</span>':Z.toHTML(z)}),G=q[0],V=0;V<this.conditionals.length;V++)G+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+escape(O[this.conditionals[V]])+"</span>"+q[V+1];return G}_toTex(z){for(var L=z&&z.parenthesis?z.parenthesis:"keep",U=getPrecedence(this,L,z&&z.implicit),q=this.params.map(function(Z,Y){var W=getPrecedence(Z,L,z&&z.implicit);return L==="all"||W!==null&&W<=U?"\\left("+Z.toTex(z)+"\right)":Z.toTex(z)}),G=q[0],V=0;V<this.conditionals.length;V++)G+=latexOperators[this.conditionals[V]]+q[V+1];return G}}return _defineProperty(I,"name",name$1x),I},{isClass:!0,isNode:!0}),name$1w="SymbolNode",dependencies$1w=["math","?Unit","Node"],createSymbolNode=factory(name$1w,dependencies$1w,_=>{var{math:R,Unit:O,Node:I}=_;function F(L){return O?O.isValuelessUnit(L):!1}class z extends I{constructor(U){if(super(),typeof U!="string")throw new TypeError('String expected for parameter "name"');this.name=U}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(U,q){var G=this.name;if(q[G]===!0)return function(Z,Y,W){return getSafeProperty(Y,G)};if(G in U)return function(Z,Y,W){return Z.has(G)?Z.get(G):getSafeProperty(U,G)};var V=F(G);return function(Z,Y,W){return Z.has(G)?Z.get(G):V?new O(null,G):z.onUndefinedSymbol(G)}}forEach(U){}map(U){return this.clone()}static onUndefinedSymbol(U){throw new Error("Undefined symbol "+U)}clone(){return new z(this.name)}_toString(U){return this.name}_toHTML(U){var q=escape(this.name);return q==="true"||q==="false"?'<span class="math-symbol math-boolean">'+q+"</span>":q==="i"?'<span class="math-symbol math-imaginary-symbol">'+q+"</span>":q==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+q+"</span>":q==="NaN"?'<span class="math-symbol math-nan-symbol">'+q+"</span>":q==="null"?'<span class="math-symbol math-null-symbol">'+q+"</span>":q==="undefined"?'<span class="math-symbol math-undefined-symbol">'+q+"</span>":'<span class="math-symbol">'+q+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(U){return new z(U.name)}_toTex(U){var q=!1;typeof R[this.name]>"u"&&F(this.name)&&(q=!0);var G=toSymbol(this.name,q);return G[0]==="\\"?G:" "+G}}return z},{isClass:!0,isNode:!0}),name$1v="FunctionNode",dependencies$1v=["math","Node","SymbolNode"],createFunctionNode=factory(name$1v,dependencies$1v,_=>{var R,{math:O,Node:I,SymbolNode:F}=_,z=q=>format$3(q,{truncate:78});function L(q,G,V){for(var Z="",Y=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,W=0,ee;(ee=Y.exec(q))!==null;)if(Z+=q.substring(W,ee.index),W=ee.index,ee[0]==="$$")Z+="$",W++;else{W+=ee[0].length;var ne=G[ee[1]];if(!ne)throw new ReferenceError("Template: Property "+ee[1]+" does not exist.");if(ee[2]===void 0)switch(typeof ne){case"string":Z+=ne;break;case"object":if(isNode(ne))Z+=ne.toTex(V);else if(Array.isArray(ne))Z+=ne.map(function(ie,se){if(isNode(ie))return ie.toTex(V);throw new TypeError("Template: "+ee[1]+"["+se+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+ee[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+ee[1]+" has to be a Node, String or array of Nodes")}else if(isNode(ne[ee[2]]&&ne[ee[2]]))Z+=ne[ee[2]].toTex(V);else throw new TypeError("Template: "+ee[1]+"["+ee[2]+"] is not a Node.")}return Z+=q.slice(W),Z}class U extends I{constructor(G,V,Z){if(super(),typeof G=="string"&&(G=new F(G)),!isNode(G))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(V)||!V.every(isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');var Y=typeof Z;if(!(Y==="undefined"||Y==="boolean"))throw new TypeError("optional flag, if specified, must be boolean");this.fn=G,this.args=V||[],this.optional=!!Z}get name(){return this.fn.name||""}get type(){return name$1v}get isFunctionNode(){return!0}_compile(G,V){var Z=this.args.map(pe=>pe._compile(G,V)),Y=this.optional||isAccessorNode(this.fn)&&this.fn.optionalChaining;if(isSymbolNode(this.fn)){var W=this.fn.name;if(V[W]){var oe=this.args;return function(ge,_e,ye){var we=getSafeProperty(_e,W);if(!(Y&&we===void 0)){if(typeof we!="function")throw new TypeError("Argument '".concat(W,"' was not a function; received: ").concat(z(we)));if(we.rawArgs)return we(oe,G,createSubScope(ge,_e));var ve=Z.map($e=>$e(ge,_e,ye));return we.apply(we,ve)}}}else{var ee=W in G?getSafeProperty(G,W):void 0,ne=typeof ee=="function"&&ee.rawArgs===!0,ie=pe=>{var ge;if(pe.has(W))ge=pe.get(W);else if(W in G)ge=getSafeProperty(G,W);else if(Y)ge=void 0;else return U.onUndefinedFunction(W);if(typeof ge=="function"||Y&&ge===void 0)return ge;throw new TypeError("'".concat(W,`' is not a function; its value is:
  `).concat(z(ge)))};if(ne){var se=this.args;return function(ge,_e,ye){var we=ie(ge);if(we.rawArgs===!0)return we(se,G,createSubScope(ge,_e));var ve=Z.map($e=>$e(ge,_e,ye));return we(...ve)}}else switch(Z.length){case 0:return function(ge,_e,ye){var we=ie(ge);if(!(Y&&we===void 0))return we()};case 1:return function(ge,_e,ye){var we=ie(ge);if(!(Y&&we===void 0)){var ve=Z[0];return we(ve(ge,_e,ye))}};case 2:return function(ge,_e,ye){var we=ie(ge);if(!(Y&&we===void 0)){var ve=Z[0],$e=Z[1];return we(ve(ge,_e,ye),$e(ge,_e,ye))}};default:return function(ge,_e,ye){var we=ie(ge);if(!(Y&&we===void 0)){var ve=Z.map($e=>$e(ge,_e,ye));return we(...ve)}}}}}else if(isAccessorNode(this.fn)&&isIndexNode(this.fn.index)&&this.fn.index.isObjectProperty()){var le=this.fn.object._compile(G,V),ue=this.fn.index.getObjectProperty(),ce=this.args;return function(ge,_e,ye){var we=le(ge,_e,ye);if(!(Y&&(we==null||we[ue]===void 0))){var ve=getSafeMethod(we,ue);if(ve!=null&&ve.rawArgs)return ve(ce,G,createSubScope(ge,_e));var $e=Z.map(be=>be(ge,_e,ye));return ve.apply(we,$e)}}}else{var fe=this.fn.toString(),me=this.fn._compile(G,V),he=this.args;return function(ge,_e,ye){var we=me(ge,_e,ye);if(!(Y&&we===void 0)){if(typeof we!="function")throw new TypeError("Expression '".concat(fe,"' did not evaluate to a function; value is:")+`
  `.concat(z(we)));if(we.rawArgs)return we(he,G,createSubScope(ge,_e));var ve=Z.map($e=>$e(ge,_e,ye));return we.apply(we,ve)}}}}forEach(G){G(this.fn,"fn",this);for(var V=0;V<this.args.length;V++)G(this.args[V],"args["+V+"]",this)}map(G){for(var V=this._ifNode(G(this.fn,"fn",this)),Z=[],Y=0;Y<this.args.length;Y++)Z[Y]=this._ifNode(G(this.args[Y],"args["+Y+"]",this));return new U(V,Z)}clone(){return new U(this.fn,this.args.slice(0))}toString(G){var V,Z=this.fn.toString(G);return G&&typeof G.handler=="object"&&hasOwnProperty(G.handler,Z)&&(V=G.handler[Z](this,G)),typeof V<"u"?V:super.toString(G)}_toString(G){var V=this.args.map(function(Y){return Y.toString(G)}),Z=isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(G)+")":this.fn.toString(G);return Z+"("+V.join(", ")+")"}toJSON(){return{mathjs:name$1v,fn:this.fn,args:this.args}}_toHTML(G){var V=this.args.map(function(Z){return Z.toHTML(G)});return'<span class="math-function">'+escape(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+V.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(G){var V;return G&&typeof G.handler=="object"&&hasOwnProperty(G.handler,this.name)&&(V=G.handler[this.name](this,G)),typeof V<"u"?V:super.toTex(G)}_toTex(G){var V=this.args.map(function(W){return W.toTex(G)}),Z;latexFunctions[this.name]&&(Z=latexFunctions[this.name]),O[this.name]&&(typeof O[this.name].toTex=="function"||typeof O[this.name].toTex=="object"||typeof O[this.name].toTex=="string")&&(Z=O[this.name].toTex);var Y;switch(typeof Z){case"function":Y=Z(this,G);break;case"string":Y=L(Z,this,G);break;case"object":switch(typeof Z[V.length]){case"function":Y=Z[V.length](this,G);break;case"string":Y=L(Z[V.length],this,G);break}}return typeof Y<"u"?Y:L(defaultTemplate,this,G)}getIdentifier(){return this.type+":"+this.name}}return R=U,_defineProperty(U,"name",name$1v),_defineProperty(U,"onUndefinedFunction",function(q){throw new Error("Undefined function "+q)}),_defineProperty(U,"fromJSON",function(q){return new R(q.fn,q.args)}),U},{isClass:!0,isNode:!0}),name$1u="parse",dependencies$1u=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],createParse=factory(name$1u,dependencies$1u,_=>{var{typed:R,numeric:O,config:I,AccessorNode:F,ArrayNode:z,AssignmentNode:L,BlockNode:U,ConditionalNode:q,ConstantNode:G,FunctionAssignmentNode:V,FunctionNode:Z,IndexNode:Y,ObjectNode:W,OperatorNode:ee,ParenthesisNode:ne,RangeNode:ie,RelationalNode:se,SymbolNode:oe}=_,le=R(name$1u,{string:function(at){return Te(at,{})},"Array | Matrix":function(at){return ue(at,{})},"string, Object":function(at,mt){var Et=mt.nodes!==void 0?mt.nodes:{};return Te(at,Et)},"Array | Matrix, Object":ue});function ue(Oe){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},mt=at.nodes!==void 0?at.nodes:{};return deepMap(Oe,function(Et){if(typeof Et!="string")throw new TypeError("String expected");return Te(Et,mt)})}var ce={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},fe={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"?.":!0,"??":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},me={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},he={true:!0,false:!1,null:null,undefined:void 0},pe=["NaN","Infinity"],ge={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function _e(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:ce.NULL,nestingLevel:0,conditionalLevel:null}}function ye(Oe,at){return Oe.expression.substr(Oe.index,at)}function we(Oe){return ye(Oe,1)}function ve(Oe){Oe.index++}function $e(Oe){return Oe.expression.charAt(Oe.index-1)}function be(Oe){return Oe.expression.charAt(Oe.index+1)}function Ce(Oe){for(Oe.tokenType=ce.NULL,Oe.token="",Oe.comment="";;){if(we(Oe)==="#")for(;we(Oe)!==`
`&&we(Oe)!=="";)Oe.comment+=we(Oe),ve(Oe);if(le.isWhitespace(we(Oe),Oe.nestingLevel))ve(Oe);else break}if(we(Oe)===""){Oe.tokenType=ce.DELIMITER;return}if(we(Oe)===`
`&&!Oe.nestingLevel){Oe.tokenType=ce.DELIMITER,Oe.token=we(Oe),ve(Oe);return}var at=we(Oe),mt=ye(Oe,2),Et=ye(Oe,3);if(Et.length===3&&fe[Et]){Oe.tokenType=ce.DELIMITER,Oe.token=Et,ve(Oe),ve(Oe),ve(Oe);return}if(mt.length===2&&fe[mt]&&(mt!=="?."||!le.isDigit(Oe.expression.charAt(Oe.index+2)))){Oe.tokenType=ce.DELIMITER,Oe.token=mt,ve(Oe),ve(Oe);return}if(fe[at]){Oe.tokenType=ce.DELIMITER,Oe.token=at,ve(Oe);return}if(le.isDigitDot(at)){Oe.tokenType=ce.NUMBER;var Tt=ye(Oe,2);if(Tt==="0b"||Tt==="0o"||Tt==="0x"){for(Oe.token+=we(Oe),ve(Oe),Oe.token+=we(Oe),ve(Oe);le.isAlpha(we(Oe),$e(Oe),be(Oe))||le.isDigit(we(Oe));)Oe.token+=we(Oe),ve(Oe);if(we(Oe)===".")for(Oe.token+=".",ve(Oe);le.isAlpha(we(Oe),$e(Oe),be(Oe))||le.isDigit(we(Oe));)Oe.token+=we(Oe),ve(Oe);else if(we(Oe)==="i")for(Oe.token+="i",ve(Oe);le.isDigit(we(Oe));)Oe.token+=we(Oe),ve(Oe);return}if(we(Oe)==="."){if(Oe.token+=we(Oe),ve(Oe),!le.isDigit(we(Oe))){Oe.tokenType=ce.DELIMITER;return}}else{for(;le.isDigit(we(Oe));)Oe.token+=we(Oe),ve(Oe);le.isDecimalMark(we(Oe),be(Oe))&&(Oe.token+=we(Oe),ve(Oe))}for(;le.isDigit(we(Oe));)Oe.token+=we(Oe),ve(Oe);if(we(Oe)==="E"||we(Oe)==="e"){if(le.isDigit(be(Oe))||be(Oe)==="-"||be(Oe)==="+"){if(Oe.token+=we(Oe),ve(Oe),(we(Oe)==="+"||we(Oe)==="-")&&(Oe.token+=we(Oe),ve(Oe)),!le.isDigit(we(Oe)))throw Ct(Oe,'Digit expected, got "'+we(Oe)+'"');for(;le.isDigit(we(Oe));)Oe.token+=we(Oe),ve(Oe);if(le.isDecimalMark(we(Oe),be(Oe)))throw Ct(Oe,'Digit expected, got "'+we(Oe)+'"')}else if(le.isDecimalMark(be(Oe),Oe.expression.charAt(Oe.index+2)))throw ve(Oe),Ct(Oe,'Digit expected, got "'+we(Oe)+'"')}return}if(le.isAlpha(we(Oe),$e(Oe),be(Oe))){for(;le.isAlpha(we(Oe),$e(Oe),be(Oe))||le.isDigit(we(Oe));)Oe.token+=we(Oe),ve(Oe);hasOwnProperty(me,Oe.token)?Oe.tokenType=ce.DELIMITER:Oe.tokenType=ce.SYMBOL;return}for(Oe.tokenType=ce.UNKNOWN;we(Oe)!=="";)Oe.token+=we(Oe),ve(Oe);throw Ct(Oe,'Syntax error in part "'+Oe.token+'"')}function De(Oe){do Ce(Oe);while(Oe.token===`
`)}function Ne(Oe){Oe.nestingLevel++}function Me(Oe){Oe.nestingLevel--}le.isAlpha=function(at,mt,Et){return le.isValidLatinOrGreek(at)||le.isValidMathSymbol(at,Et)||le.isValidMathSymbol(mt,at)},le.isValidLatinOrGreek=function(at){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(at)},le.isValidMathSymbol=function(at,mt){return/^[\uD835]$/.test(at)&&/^[\uDC00-\uDFFF]$/.test(mt)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(mt)},le.isWhitespace=function(at,mt){return at===" "||at==="	"||at===""||at===`
`&&mt>0},le.isDecimalMark=function(at,mt){return at==="."&&mt!=="/"&&mt!=="*"&&mt!=="^"},le.isDigitDot=function(at){return at>="0"&&at<="9"||at==="."},le.isDigit=function(at){return at>="0"&&at<="9"};function Te(Oe,at){var mt=_e();_extends(mt,{expression:Oe,extraNodes:at}),Ce(mt);var Et=Re(mt);if(mt.token!=="")throw mt.tokenType===ce.DELIMITER?Pt(mt,"Unexpected operator "+mt.token):Ct(mt,'Unexpected part "'+mt.token+'"');return Et}function Re(Oe){var at,mt=[],Et;for(Oe.token!==""&&Oe.token!==`
`&&Oe.token!==";"&&(at=Se(Oe),Oe.comment&&(at.comment=Oe.comment));Oe.token===`
`||Oe.token===";";)mt.length===0&&at&&(Et=Oe.token!==";",mt.push({node:at,visible:Et})),Ce(Oe),Oe.token!==`
`&&Oe.token!==";"&&Oe.token!==""&&(at=Se(Oe),Oe.comment&&(at.comment=Oe.comment),Et=Oe.token!==";",mt.push({node:at,visible:Et}));return mt.length>0?new U(mt):(at||(at=new G(void 0),Oe.comment&&(at.comment=Oe.comment)),at)}function Se(Oe){var at,mt,Et,Tt,Mt=ze(Oe);if(Oe.token==="="){if(isSymbolNode(Mt))return at=Mt.name,De(Oe),Et=Se(Oe),new L(new oe(at),Et);if(isAccessorNode(Mt)){if(Mt.optionalChaining)throw Ct(Oe,"Cannot assign to optional chain");return De(Oe),Et=Se(Oe),new L(Mt.object,Mt.index,Et)}else if(isFunctionNode(Mt)&&isSymbolNode(Mt.fn)&&(Tt=!0,mt=[],at=Mt.name,Mt.args.forEach(function(lr,zr){isSymbolNode(lr)?mt[zr]=lr.name:Tt=!1}),Tt))return De(Oe),Et=Se(Oe),new V(at,mt,Et);throw Ct(Oe,"Invalid left hand side of assignment operator =")}return Mt}function ze(Oe){for(var at=Pe(Oe);Oe.token==="?";){var mt=Oe.conditionalLevel;Oe.conditionalLevel=Oe.nestingLevel,De(Oe);var Et=at,Tt=Se(Oe);if(Oe.token!==":")throw Ct(Oe,"False part of conditional expression expected");Oe.conditionalLevel=null,De(Oe);var Mt=Se(Oe);at=new q(Et,Tt,Mt),Oe.conditionalLevel=mt}return at}function Pe(Oe){for(var at=Qe(Oe);Oe.token==="or";)De(Oe),at=new ee("or","or",[at,Qe(Oe)]);return at}function Qe(Oe){for(var at=Ze(Oe);Oe.token==="xor";)De(Oe),at=new ee("xor","xor",[at,Ze(Oe)]);return at}function Ze(Oe){for(var at=Le(Oe);Oe.token==="and";)De(Oe),at=new ee("and","and",[at,Le(Oe)]);return at}function Le(Oe){for(var at=ke(Oe);Oe.token==="|";)De(Oe),at=new ee("|","bitOr",[at,ke(Oe)]);return at}function ke(Oe){for(var at=Ge(Oe);Oe.token==="^|";)De(Oe),at=new ee("^|","bitXor",[at,Ge(Oe)]);return at}function Ge(Oe){for(var at=Ke(Oe);Oe.token==="&";)De(Oe),at=new ee("&","bitAnd",[at,Ke(Oe)]);return at}function Ke(Oe){for(var at=[He(Oe)],mt=[],Et={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};hasOwnProperty(Et,Oe.token);){var Tt={name:Oe.token,fn:Et[Oe.token]};mt.push(Tt),De(Oe),at.push(He(Oe))}return at.length===1?at[0]:at.length===2?new ee(mt[0].name,mt[0].fn,at):new se(mt.map(Mt=>Mt.fn),at)}function He(Oe){var at,mt,Et,Tt;at=st(Oe);for(var Mt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};hasOwnProperty(Mt,Oe.token);)mt=Oe.token,Et=Mt[mt],De(Oe),Tt=[at,st(Oe)],at=new ee(mt,Et,Tt);return at}function st(Oe){var at,mt,Et,Tt;at=Ae(Oe);for(var Mt={to:"to",in:"to"};hasOwnProperty(Mt,Oe.token);)mt=Oe.token,Et=Mt[mt],De(Oe),mt==="in"&&"])},;".includes(Oe.token)?at=new ee("*","multiply",[at,new oe("in")],!0):(Tt=[at,Ae(Oe)],at=new ee(mt,Et,Tt));return at}function Ae(Oe){var at,mt=[];if(Oe.token===":"?at=new G(1):at=tt(Oe),Oe.token===":"&&Oe.conditionalLevel!==Oe.nestingLevel){for(mt.push(at);Oe.token===":"&&mt.length<3;)De(Oe),Oe.token===")"||Oe.token==="]"||Oe.token===","||Oe.token===""?mt.push(new oe("end")):mt.push(tt(Oe));mt.length===3?at=new ie(mt[0],mt[2],mt[1]):at=new ie(mt[0],mt[1])}return at}function tt(Oe){var at,mt,Et,Tt;at=rt(Oe);for(var Mt={"+":"add","-":"subtract"};hasOwnProperty(Mt,Oe.token);){mt=Oe.token,Et=Mt[mt],De(Oe);var lr=rt(Oe);lr.isPercentage?Tt=[at,new ee("*","multiply",[at,lr])]:Tt=[at,lr],at=new ee(mt,Et,Tt)}return at}function rt(Oe){var at,mt,Et,Tt;at=We(Oe),mt=at;for(var Mt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};hasOwnProperty(Mt,Oe.token);)Et=Oe.token,Tt=Mt[Et],De(Oe),mt=We(Oe),at=new ee(Et,Tt,[at,mt]);return at}function We(Oe){var at,mt;for(at=qe(Oe),mt=at;Oe.tokenType===ce.SYMBOL||Oe.token==="in"&&isConstantNode(at)||Oe.token==="in"&&isOperatorNode(at)&&at.fn==="unaryMinus"&&isConstantNode(at.args[0])||Oe.tokenType===ce.NUMBER&&!isConstantNode(mt)&&(!isOperatorNode(mt)||mt.op==="!")||Oe.token==="(";)mt=qe(Oe),at=new ee("*","multiply",[at,mt],!0);return at}function qe(Oe){for(var at=nt(Oe),mt=at,Et=[];Oe.token==="/"&&rule2Node(mt);)if(Et.push(_extends({},Oe)),De(Oe),Oe.tokenType===ce.NUMBER)if(Et.push(_extends({},Oe)),De(Oe),Oe.tokenType===ce.SYMBOL||Oe.token==="("||Oe.token==="in")_extends(Oe,Et.pop()),Et.pop(),mt=nt(Oe),at=new ee("/","divide",[at,mt]);else{Et.pop(),_extends(Oe,Et.pop());break}else{_extends(Oe,Et.pop());break}return at}function nt(Oe){var at=ft(Oe);if(Oe.token==="%"){var mt=_extends({},Oe);De(Oe);try{ft(Oe),_extends(Oe,mt)}catch{at=new ee("/","divide",[at,new G(100)],!1,!0)}}return at}function ft(Oe){var at,mt,Et,Tt={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return hasOwnProperty(Tt,Oe.token)?(Et=Tt[Oe.token],at=Oe.token,De(Oe),mt=[ft(Oe)],new ee(at,Et,mt)):je(Oe)}function je(Oe){var at,mt,Et,Tt;return at=Ve(Oe),(Oe.token==="^"||Oe.token===".^")&&(mt=Oe.token,Et=mt==="^"?"pow":"dotPow",De(Oe),Tt=[at,ft(Oe)],at=new ee(mt,Et,Tt)),at}function Ve(Oe){for(var at=Ie(Oe);Oe.token==="??";)De(Oe),at=new ee("??","nullish",[at,Ie(Oe)]);return at}function Ie(Oe){var at,mt,Et,Tt;at=Ue(Oe);for(var Mt={"!":"factorial","'":"ctranspose"};hasOwnProperty(Mt,Oe.token);)mt=Oe.token,Et=Mt[mt],Ce(Oe),Tt=[at],at=new ee(mt,Et,Tt),at=Fe(Oe,at);return at}function Ue(Oe){var at=[];if(Oe.tokenType===ce.SYMBOL&&hasOwnProperty(Oe.extraNodes,Oe.token)){var mt=Oe.extraNodes[Oe.token];if(Ce(Oe),Oe.token==="("){if(at=[],Ne(Oe),Ce(Oe),Oe.token!==")")for(at.push(Se(Oe));Oe.token===",";)Ce(Oe),at.push(Se(Oe));if(Oe.token!==")")throw Ct(Oe,"Parenthesis ) expected");Me(Oe),Ce(Oe)}return new mt(at)}return Xe(Oe)}function Xe(Oe){var at,mt;return Oe.tokenType===ce.SYMBOL||Oe.tokenType===ce.DELIMITER&&Oe.token in me?(mt=Oe.token,Ce(Oe),hasOwnProperty(he,mt)?at=new G(he[mt]):pe.includes(mt)?at=new G(O(mt,"number")):at=new oe(mt),at=Fe(Oe,at),at):Je(Oe)}function Fe(Oe,at,mt){for(var Et;;){var Tt=!1;Oe.token==="?."&&(Tt=!0,Ce(Oe));var Mt=(Oe.token==="("||Oe.token==="["||Oe.token===".")&&!0;if(!(Tt||Mt))break;if(Et=[],Oe.token==="(")if(Tt||isSymbolNode(at)||isAccessorNode(at)){if(Ne(Oe),Ce(Oe),Oe.token!==")")for(Et.push(Se(Oe));Oe.token===",";)Ce(Oe),Et.push(Se(Oe));if(Oe.token!==")")throw Ct(Oe,"Parenthesis ) expected");Me(Oe),Ce(Oe),at=new Z(at,Et,Tt)}else return at;else if(Oe.token==="["){if(Ne(Oe),Ce(Oe),Oe.token!=="]")for(Et.push(Se(Oe));Oe.token===",";)Ce(Oe),Et.push(Se(Oe));if(Oe.token!=="]")throw Ct(Oe,"Parenthesis ] expected");Me(Oe),Ce(Oe),at=new F(at,new Y(Et),Tt)}else{Tt||Ce(Oe);var lr=Oe.tokenType===ce.SYMBOL||Oe.tokenType===ce.DELIMITER&&Oe.token in me;if(!lr){var zr="Property name expected after ";throw zr+=Tt?"optional chain":"dot",Ct(Oe,zr)}Et.push(new G(Oe.token)),Ce(Oe);var aa=!0;at=new F(at,new Y(Et,aa),Tt)}}return at}function Je(Oe){var at,mt;return Oe.token==='"'||Oe.token==="'"?(mt=et(Oe,Oe.token),at=new G(mt),at=Fe(Oe,at),at):ut(Oe)}function et(Oe,at){for(var mt="";we(Oe)!==""&&we(Oe)!==at;)if(we(Oe)==="\\"){ve(Oe);var Et=we(Oe),Tt=ge[Et];if(Tt!==void 0)mt+=Tt,Oe.index+=1;else if(Et==="u"){var Mt=Oe.expression.slice(Oe.index+1,Oe.index+5);if(/^[0-9A-Fa-f]{4}$/.test(Mt))mt+=String.fromCharCode(parseInt(Mt,16)),Oe.index+=5;else throw Ct(Oe,"Invalid unicode character \\u".concat(Mt))}else throw Ct(Oe,"Bad escape character \\".concat(Et))}else mt+=we(Oe),ve(Oe);if(Ce(Oe),Oe.token!==at)throw Ct(Oe,"End of string ".concat(at," expected"));return Ce(Oe),mt}function ut(Oe){var at,mt,Et,Tt;if(Oe.token==="["){if(Ne(Oe),Ce(Oe),Oe.token!=="]"){var Mt=ct(Oe);if(Oe.token===";"){for(Et=1,mt=[Mt];Oe.token===";";)Ce(Oe),Oe.token!=="]"&&(mt[Et]=ct(Oe),Et++);if(Oe.token!=="]")throw Ct(Oe,"End of matrix ] expected");Me(Oe),Ce(Oe),Tt=mt[0].items.length;for(var lr=1;lr<Et;lr++)if(mt[lr].items.length!==Tt)throw Pt(Oe,"Column dimensions mismatch ("+mt[lr].items.length+" !== "+Tt+")");at=new z(mt)}else{if(Oe.token!=="]")throw Ct(Oe,"End of matrix ] expected");Me(Oe),Ce(Oe),at=Mt}}else Me(Oe),Ce(Oe),at=new z([]);return Fe(Oe,at)}return bt(Oe)}function ct(Oe){for(var at=[Se(Oe)],mt=1;Oe.token===",";)Ce(Oe),Oe.token!=="]"&&Oe.token!==";"&&(at[mt]=Se(Oe),mt++);return new z(at)}function bt(Oe){if(Oe.token==="{"){Ne(Oe);var at,mt={};do if(Ce(Oe),Oe.token!=="}"){if(Oe.token==='"'||Oe.token==="'")at=et(Oe,Oe.token);else if(Oe.tokenType===ce.SYMBOL||Oe.tokenType===ce.DELIMITER&&Oe.token in me)at=Oe.token,Ce(Oe);else throw Ct(Oe,"Symbol or string expected as object key");if(Oe.token!==":")throw Ct(Oe,"Colon : expected after object key");Ce(Oe),mt[at]=Se(Oe)}while(Oe.token===",");if(Oe.token!=="}")throw Ct(Oe,"Comma , or bracket } expected after object value");Me(Oe),Ce(Oe);var Et=new W(mt);return Et=Fe(Oe,Et),Et}return ht(Oe)}function ht(Oe){var at;if(Oe.tokenType===ce.NUMBER){at=Oe.token,Ce(Oe);var mt=safeNumberType(at,I),Et=O(at,mt);return new G(Et)}return xt(Oe)}function xt(Oe){var at;if(Oe.token==="("){if(Ne(Oe),Ce(Oe),at=Se(Oe),Oe.token!==")")throw Ct(Oe,"Parenthesis ) expected");return Me(Oe),Ce(Oe),at=new ne(at),at=Fe(Oe,at),at}return $t(Oe)}function $t(Oe){throw Oe.token===""?Ct(Oe,"Unexpected end of expression"):Ct(Oe,"Value expected")}function At(Oe){return Oe.index-Oe.token.length+1}function Ct(Oe,at){var mt=At(Oe),Et=new SyntaxError(at+" (char "+mt+")");return Et.char=mt,Et}function Pt(Oe,at){var mt=At(Oe),Et=new SyntaxError(at+" (char "+mt+")");return Et.char=mt,Et}return R.addConversion({from:"string",to:"Node",convert:le}),le}),name$1t="compile",dependencies$1t=["typed","parse"],createCompile=factory(name$1t,dependencies$1t,_=>{var{typed:R,parse:O}=_;return R(name$1t,{string:function(F){return O(F).compile()},"Array | Matrix":function(F){return deepMap(F,function(z){return O(z).compile()})}})}),name$1s="evaluate",dependencies$1s=["typed","parse"],createEvaluate=factory(name$1s,dependencies$1s,_=>{var{typed:R,parse:O}=_;return R(name$1s,{string:function(F){var z=createEmptyMap();return O(F).compile().evaluate(z)},"string, Map | Object":function(F,z){return O(F).compile().evaluate(z)},"Array | Matrix":function(F){var z=createEmptyMap();return deepMap(F,function(L){return O(L).compile().evaluate(z)})},"Array | Matrix, Map | Object":function(F,z){return deepMap(F,function(L){return O(L).compile().evaluate(z)})}})}),name$1r="Parser",dependencies$1r=["evaluate","parse"],createParserClass=factory(name$1r,dependencies$1r,_=>{var{evaluate:R,parse:O}=_;function I(){if(!(this instanceof I))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:createEmptyMap(),writable:!1})}I.prototype.type="Parser",I.prototype.isParser=!0,I.prototype.evaluate=function(z){return R(z,this.scope)},I.prototype.get=function(z){if(this.scope.has(z))return this.scope.get(z)},I.prototype.getAll=function(){return toObject(this.scope)},I.prototype.getAllAsMap=function(){return this.scope};function F(z){if(z.length===0)return!1;for(var L=0;L<z.length;L++){var U=z.charAt(L-1),q=z.charAt(L),G=z.charAt(L+1),V=O.isAlpha(q,U,G)||L>0&&O.isDigit(q);if(!V)return!1}return!0}return I.prototype.set=function(z,L){if(!F(z))throw new Error("Invalid variable name: '".concat(z,"'. Variable names must follow the specified rules."));return this.scope.set(z,L),L},I.prototype.remove=function(z){this.scope.delete(z)},I.prototype.clear=function(){this.scope.clear()},I.prototype.toJSON=function(){var z={mathjs:"Parser",variables:{},functions:{}};for(var[L,U]of this.scope)if(isFunction(U)){if(!isExpressionFunction(U))throw new Error("Cannot serialize external function ".concat(L));z.functions[L]="".concat(U.syntax," = ").concat(U.expr)}else z.variables[L]=U;return z},I.fromJSON=function(z){var L=new I;return Object.entries(z.variables).forEach(U=>{var[q,G]=U;return L.set(q,G)}),Object.entries(z.functions).forEach(U=>{var[q,G]=U;return L.evaluate(G)}),L},I},{isClass:!0});function isExpressionFunction(_){return typeof _=="function"&&typeof _.syntax=="string"&&typeof _.expr=="string"}var name$1q="parser",dependencies$1q=["typed","Parser"],createParser=factory(name$1q,dependencies$1q,_=>{var{typed:R,Parser:O}=_;return R(name$1q,{"":function(){return new O}})}),name$1p="lup",dependencies$1p=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],createLup=factory(name$1p,dependencies$1p,_=>{var{typed:R,matrix:O,abs:I,addScalar:F,divideScalar:z,multiplyScalar:L,subtractScalar:U,larger:q,equalScalar:G,unaryMinus:V,DenseMatrix:Z,SparseMatrix:Y,Spa:W}=_;return R(name$1p,{DenseMatrix:function(se){return ee(se)},SparseMatrix:function(se){return ne(se)},Array:function(se){var oe=O(se),le=ee(oe);return{L:le.L.valueOf(),U:le.U.valueOf(),p:le.p}}});function ee(ie){var se=ie._size[0],oe=ie._size[1],le=Math.min(se,oe),ue=clone$3(ie._data),ce=[],fe=[se,le],me=[],he=[le,oe],pe,ge,_e,ye=[];for(pe=0;pe<se;pe++)ye[pe]=pe;for(ge=0;ge<oe;ge++){if(ge>0)for(pe=0;pe<se;pe++){var we=Math.min(pe,ge),ve=0;for(_e=0;_e<we;_e++)ve=F(ve,L(ue[pe][_e],ue[_e][ge]));ue[pe][ge]=U(ue[pe][ge],ve)}var $e=ge,be=0,Ce=0;for(pe=ge;pe<se;pe++){var De=ue[pe][ge],Ne=I(De);q(Ne,be)&&($e=pe,be=Ne,Ce=De)}if(ge!==$e&&(ye[ge]=[ye[$e],ye[$e]=ye[ge]][0],Z._swapRows(ge,$e,ue)),ge<se)for(pe=ge+1;pe<se;pe++){var Me=ue[pe][ge];G(Me,0)||(ue[pe][ge]=z(ue[pe][ge],Ce))}}for(ge=0;ge<oe;ge++)for(pe=0;pe<se;pe++){if(ge===0&&(pe<oe&&(me[pe]=[]),ce[pe]=[]),pe<ge){pe<oe&&(me[pe][ge]=ue[pe][ge]),ge<se&&(ce[pe][ge]=0);continue}if(pe===ge){pe<oe&&(me[pe][ge]=ue[pe][ge]),ge<se&&(ce[pe][ge]=1);continue}pe<oe&&(me[pe][ge]=0),ge<se&&(ce[pe][ge]=ue[pe][ge])}var Te=new Z({data:ce,size:fe}),Re=new Z({data:me,size:he}),Se=[];for(pe=0,le=ye.length;pe<le;pe++)Se[ye[pe]]=pe;return{L:Te,U:Re,p:Se,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function ne(ie){var se=ie._size[0],oe=ie._size[1],le=Math.min(se,oe),ue=ie._values,ce=ie._index,fe=ie._ptr,me=[],he=[],pe=[],ge=[se,le],_e=[],ye=[],we=[],ve=[le,oe],$e,be,Ce,De=[],Ne=[];for($e=0;$e<se;$e++)De[$e]=$e,Ne[$e]=$e;var Me=function(Se,ze){var Pe=Ne[Se],Qe=Ne[ze];De[Pe]=ze,De[Qe]=Se,Ne[Se]=Qe,Ne[ze]=Pe},Te=function(){var Se=new W;be<se&&(pe.push(me.length),me.push(1),he.push(be)),we.push(_e.length);var ze=fe[be],Pe=fe[be+1];for(Ce=ze;Ce<Pe;Ce++)$e=ce[Ce],Se.set(De[$e],ue[Ce]);be>0&&Se.forEach(0,be-1,function(ke,Ge){Y._forEachRow(ke,me,he,pe,function(Ke,He){Ke>ke&&Se.accumulate(Ke,V(L(He,Ge)))})});var Qe=be,Ze=Se.get(be),Le=I(Ze);Se.forEach(be+1,se-1,function(ke,Ge){var Ke=I(Ge);q(Ke,Le)&&(Qe=ke,Le=Ke,Ze=Ge)}),be!==Qe&&(Y._swapRows(be,Qe,ge[1],me,he,pe),Y._swapRows(be,Qe,ve[1],_e,ye,we),Se.swap(be,Qe),Me(be,Qe)),Se.forEach(0,se-1,function(ke,Ge){ke<=be?(_e.push(Ge),ye.push(ke)):(Ge=z(Ge,Ze),G(Ge,0)||(me.push(Ge),he.push(ke)))})};for(be=0;be<oe;be++)Te();return we.push(_e.length),pe.push(me.length),{L:new Y({values:me,index:he,ptr:pe,size:ge}),U:new Y({values:_e,index:ye,ptr:we,size:ve}),p:De,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),name$1o="qr",dependencies$1o=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],createQr=factory(name$1o,dependencies$1o,_=>{var{typed:R,matrix:O,zeros:I,identity:F,isZero:z,equal:L,sign:U,sqrt:q,conj:G,unaryMinus:V,addScalar:Z,divideScalar:Y,multiplyScalar:W,subtractScalar:ee,complex:ne}=_;return _extends(R(name$1o,{DenseMatrix:function(ue){return se(ue)},SparseMatrix:function(ue){return oe()},Array:function(ue){var ce=O(ue),fe=se(ce);return{Q:fe.Q.valueOf(),R:fe.R.valueOf()}}}),{_denseQRimpl:ie});function ie(le){var ue=le._size[0],ce=le._size[1],fe=F([ue],"dense"),me=fe._data,he=le.clone(),pe=he._data,ge,_e,ye,we=I([ue],"");for(ye=0;ye<Math.min(ce,ue);++ye){var ve=pe[ye][ye],$e=V(L(ve,0)?1:U(ve)),be=G($e),Ce=0;for(ge=ye;ge<ue;ge++)Ce=Z(Ce,W(pe[ge][ye],G(pe[ge][ye])));var De=W($e,q(Ce));if(!z(De)){var Ne=ee(ve,De);for(we[ye]=1,ge=ye+1;ge<ue;ge++)we[ge]=Y(pe[ge][ye],Ne);var Me=V(G(Y(Ne,De))),Te=void 0;for(_e=ye;_e<ce;_e++){for(Te=0,ge=ye;ge<ue;ge++)Te=Z(Te,W(G(we[ge]),pe[ge][_e]));for(Te=W(Te,Me),ge=ye;ge<ue;ge++)pe[ge][_e]=W(ee(pe[ge][_e],W(we[ge],Te)),be)}for(ge=0;ge<ue;ge++){for(Te=0,_e=ye;_e<ue;_e++)Te=Z(Te,W(me[ge][_e],we[_e]));for(Te=W(Te,Me),_e=ye;_e<ue;++_e)me[ge][_e]=Y(ee(me[ge][_e],W(Te,G(we[_e]))),be)}}}return{Q:fe,R:he,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function se(le){var ue=ie(le),ce=ue.R._data;if(le._data.length>0)for(var fe=ce[0][0].type==="Complex"?ne(0):0,me=0;me<ce.length;++me)for(var he=0;he<me&&he<(ce[0]||[]).length;++he)ce[me][he]=fe;return ue}function oe(le){throw new Error("qr not implemented for sparse matrices yet")}});function csPermute(_,R,O,I){_._values;for(var F=_._index,z=_._ptr,L=_._size,U=_._datatype,q=L[0],G=L[1],V=null,Z=[],Y=[],W=0,ee=0;ee<G;ee++){Y[ee]=W;for(var ne=O?O[ee]:ee,ie=z[ne],se=z[ne+1],oe=ie;oe<se;oe++){var le=F[oe];Z[W]=le,W++}}return Y[G]=W,_.createSparseMatrix({values:V,index:Z,ptr:Y,size:[q,G],datatype:U})}function csTdfs(_,R,O,I,F,z,L){var U=0;for(O[L]=_;U>=0;){var q=O[L+U],G=O[I+q];G===-1?(U--,z[R++]=q):(O[I+q]=O[F+G],++U,O[L+U]=G)}return R}function csPost(_,R){if(!_)return null;var O=0,I,F=[],z=[],L=0,U=R,q=2*R;for(I=0;I<R;I++)z[L+I]=-1;for(I=R-1;I>=0;I--)_[I]!==-1&&(z[U+I]=z[L+_[I]],z[L+_[I]]=I);for(I=0;I<R;I++)_[I]===-1&&(O=csTdfs(I,O,z,L,U,F,q));return F}function csEtree(_,R){if(!_)return null;var O=_._index,I=_._ptr,F=_._size,z=F[0],L=F[1],U=[],q=[],G=0,V=L,Z,Y;for(Z=0;Z<z;Z++)q[V+Z]=-1;for(var W=0;W<L;W++){U[W]=-1,q[G+W]=-1;for(var ee=I[W],ne=I[W+1],ie=ee;ie<ne;ie++){var se=O[ie];for(Z=q[V+se];Z!==-1&&Z<W;Z=Y)Y=q[G+Z],q[G+Z]=W,Y===-1&&(U[Z]=W);q[V+se]=W}}return U}function csFkeep(_,R,O){for(var I=_._values,F=_._index,z=_._ptr,L=_._size,U=L[1],q=0,G=0;G<U;G++){var V=z[G];for(z[G]=q;V<z[G+1];V++)R(F[V],G,I?I[V]:1,O)&&(F[q]=F[V],I&&(I[q]=I[V]),q++)}return z[U]=q,F.splice(q,F.length-q),I&&I.splice(q,I.length-q),q}function csFlip(_){return-_-2}var name$1n="csAmd",dependencies$1n=["add","multiply","transpose"],createCsAmd=factory(name$1n,dependencies$1n,_=>{var{add:R,multiply:O,transpose:I}=_;return function(V,Z){if(!Z||V<=0||V>3)return null;var Y=Z._size,W=Y[0],ee=Y[1],ne=0,ie=Math.max(16,10*Math.sqrt(ee));ie=Math.min(ee-2,ie);var se=F(V,Z,W,ee,ie);csFkeep(se,q,null);for(var oe=se._index,le=se._ptr,ue=le[ee],ce=[],fe=[],me=0,he=ee+1,pe=2*(ee+1),ge=3*(ee+1),_e=4*(ee+1),ye=5*(ee+1),we=6*(ee+1),ve=7*(ee+1),$e=ce,be=z(ee,le,fe,me,ge,$e,pe,ve,he,we,_e,ye),Ce=L(ee,le,fe,ye,_e,we,ie,he,ge,$e,pe),De=0,Ne,Me,Te,Re,Se,ze,Pe,Qe,Ze,Le,ke,Ge,Ke,He,st,Ae;Ce<ee;){for(Te=-1;De<ee&&(Te=fe[ge+De])===-1;De++);fe[pe+Te]!==-1&&($e[fe[pe+Te]]=-1),fe[ge+De]=fe[pe+Te];var tt=fe[_e+Te],rt=fe[he+Te];Ce+=rt;var We=0;fe[he+Te]=-rt;var qe=le[Te],nt=tt===0?qe:ue,ft=nt;for(Re=1;Re<=tt+1;Re++){for(Re>tt?(ze=Te,Pe=qe,Qe=fe[me+Te]-tt):(ze=oe[qe++],Pe=le[ze],Qe=fe[me+ze]),Se=1;Se<=Qe;Se++)Ne=oe[Pe++],!((Ze=fe[he+Ne])<=0)&&(We+=Ze,fe[he+Ne]=-Ze,oe[ft++]=Ne,fe[pe+Ne]!==-1&&($e[fe[pe+Ne]]=$e[Ne]),$e[Ne]!==-1?fe[pe+$e[Ne]]=fe[pe+Ne]:fe[ge+fe[ye+Ne]]=fe[pe+Ne]);ze!==Te&&(le[ze]=csFlip(Te),fe[we+ze]=0)}for(tt!==0&&(ue=ft),fe[ye+Te]=We,le[Te]=nt,fe[me+Te]=ft-nt,fe[_e+Te]=-2,be=U(be,ne,fe,we,ee),Le=nt;Le<ft;Le++)if(Ne=oe[Le],!((ke=fe[_e+Ne])<=0)){Ze=-fe[he+Ne];var je=be-Ze;for(qe=le[Ne],Ge=le[Ne]+ke-1;qe<=Ge;qe++)ze=oe[qe],fe[we+ze]>=be?fe[we+ze]-=Ze:fe[we+ze]!==0&&(fe[we+ze]=fe[ye+ze]+je)}for(Le=nt;Le<ft;Le++){for(Ne=oe[Le],Ge=le[Ne],Ke=Ge+fe[_e+Ne]-1,He=Ge,st=0,Ae=0,qe=Ge;qe<=Ke;qe++)if(ze=oe[qe],fe[we+ze]!==0){var Ve=fe[we+ze]-be;Ve>0?(Ae+=Ve,oe[He++]=ze,st+=ze):(le[ze]=csFlip(Te),fe[we+ze]=0)}fe[_e+Ne]=He-Ge+1;var Ie=He,Ue=Ge+fe[me+Ne];for(qe=Ke+1;qe<Ue;qe++){Me=oe[qe];var Xe=fe[he+Me];Xe<=0||(Ae+=Xe,oe[He++]=Me,st+=Me)}Ae===0?(le[Ne]=csFlip(Te),Ze=-fe[he+Ne],We-=Ze,rt+=Ze,Ce+=Ze,fe[he+Ne]=0,fe[_e+Ne]=-1):(fe[ye+Ne]=Math.min(fe[ye+Ne],Ae),oe[He]=oe[Ie],oe[Ie]=oe[Ge],oe[Ge]=Te,fe[me+Ne]=He-Ge+1,st=(st<0?-st:st)%ee,fe[pe+Ne]=fe[ve+st],fe[ve+st]=Ne,$e[Ne]=st)}for(fe[ye+Te]=We,ne=Math.max(ne,We),be=U(be+ne,ne,fe,we,ee),Le=nt;Le<ft;Le++)if(Ne=oe[Le],!(fe[he+Ne]>=0))for(st=$e[Ne],Ne=fe[ve+st],fe[ve+st]=-1;Ne!==-1&&fe[pe+Ne]!==-1;Ne=fe[pe+Ne],be++){for(Qe=fe[me+Ne],ke=fe[_e+Ne],qe=le[Ne]+1;qe<=le[Ne]+Qe-1;qe++)fe[we+oe[qe]]=be;var Fe=Ne;for(Me=fe[pe+Ne];Me!==-1;){var Je=fe[me+Me]===Qe&&fe[_e+Me]===ke;for(qe=le[Me]+1;Je&&qe<=le[Me]+Qe-1;qe++)fe[we+oe[qe]]!==be&&(Je=0);Je?(le[Me]=csFlip(Ne),fe[he+Ne]+=fe[he+Me],fe[he+Me]=0,fe[_e+Me]=-1,Me=fe[pe+Me],fe[pe+Fe]=Me):(Fe=Me,Me=fe[pe+Me])}}for(qe=nt,Le=nt;Le<ft;Le++)Ne=oe[Le],!((Ze=-fe[he+Ne])<=0)&&(fe[he+Ne]=Ze,Ae=fe[ye+Ne]+We-Ze,Ae=Math.min(Ae,ee-Ce-Ze),fe[ge+Ae]!==-1&&($e[fe[ge+Ae]]=Ne),fe[pe+Ne]=fe[ge+Ae],$e[Ne]=-1,fe[ge+Ae]=Ne,De=Math.min(De,Ae),fe[ye+Ne]=Ae,oe[qe++]=Ne);fe[he+Te]=rt,(fe[me+Te]=qe-nt)===0&&(le[Te]=-1,fe[we+Te]=0),tt!==0&&(ue=qe)}for(Ne=0;Ne<ee;Ne++)le[Ne]=csFlip(le[Ne]);for(Me=0;Me<=ee;Me++)fe[ge+Me]=-1;for(Me=ee;Me>=0;Me--)fe[he+Me]>0||(fe[pe+Me]=fe[ge+le[Me]],fe[ge+le[Me]]=Me);for(ze=ee;ze>=0;ze--)fe[he+ze]<=0||le[ze]!==-1&&(fe[pe+ze]=fe[ge+le[ze]],fe[ge+le[ze]]=ze);for(Te=0,Ne=0;Ne<=ee;Ne++)le[Ne]===-1&&(Te=csTdfs(Ne,Te,fe,ge,pe,ce,we));return ce.splice(ce.length-1,1),ce};function F(G,V,Z,Y,W){var ee=I(V);if(G===1&&Y===Z)return R(V,ee);if(G===2){for(var ne=ee._index,ie=ee._ptr,se=0,oe=0;oe<Z;oe++){var le=ie[oe];if(ie[oe]=se,!(ie[oe+1]-le>W))for(var ue=ie[oe+1];le<ue;le++)ne[se++]=ne[le]}return ie[Z]=se,V=I(ee),O(ee,V)}return O(ee,V)}function z(G,V,Z,Y,W,ee,ne,ie,se,oe,le,ue){for(var ce=0;ce<G;ce++)Z[Y+ce]=V[ce+1]-V[ce];Z[Y+G]=0;for(var fe=0;fe<=G;fe++)Z[W+fe]=-1,ee[fe]=-1,Z[ne+fe]=-1,Z[ie+fe]=-1,Z[se+fe]=1,Z[oe+fe]=1,Z[le+fe]=0,Z[ue+fe]=Z[Y+fe];var me=U(0,0,Z,oe,G);return Z[le+G]=-2,V[G]=-1,Z[oe+G]=0,me}function L(G,V,Z,Y,W,ee,ne,ie,se,oe,le){for(var ue=0,ce=0;ce<G;ce++){var fe=Z[Y+ce];if(fe===0)Z[W+ce]=-2,ue++,V[ce]=-1,Z[ee+ce]=0;else if(fe>ne)Z[ie+ce]=0,Z[W+ce]=-1,ue++,V[ce]=csFlip(G),Z[ie+G]++;else{var me=Z[se+fe];me!==-1&&(oe[me]=ce),Z[le+ce]=Z[se+fe],Z[se+fe]=ce}}return ue}function U(G,V,Z,Y,W){if(G<2||G+V<0){for(var ee=0;ee<W;ee++)Z[Y+ee]!==0&&(Z[Y+ee]=1);G=2}return G}function q(G,V){return G!==V}});function csLeaf(_,R,O,I,F,z,L){var U,q,G=0,V;if(_<=R||O[I+R]<=O[F+_])return-1;O[F+_]=O[I+R];var Z=O[z+_];if(O[z+_]=R,Z===-1)G=1,V=_;else{for(G=2,V=Z;V!==O[L+V];V=O[L+V]);for(U=Z;U!==V;U=q)q=O[L+U],O[L+U]=V}return{jleaf:G,q:V}}var name$1m="csCounts",dependencies$1m=["transpose"],createCsCounts=factory(name$1m,dependencies$1m,_=>{var{transpose:R}=_;return function(O,I,F,z){if(!O||!I||!F)return null;var L=O._size,U=L[0],q=L[1],G,V,Z,Y,W,ee,ne,ie=4*q+(z?q+U+1:0),se=[],oe=0,le=q,ue=2*q,ce=3*q,fe=4*q,me=5*q+1;for(Z=0;Z<ie;Z++)se[Z]=-1;var he=[],pe=R(O),ge=pe._index,_e=pe._ptr;for(Z=0;Z<q;Z++)for(V=F[Z],he[V]=se[ce+V]===-1?1:0;V!==-1&&se[ce+V]===-1;V=I[V])se[ce+V]=Z;if(z){for(Z=0;Z<q;Z++)se[F[Z]]=Z;for(G=0;G<U;G++){for(Z=q,ee=_e[G],ne=_e[G+1],W=ee;W<ne;W++)Z=Math.min(Z,se[ge[W]]);se[me+G]=se[fe+Z],se[fe+Z]=G}}for(G=0;G<q;G++)se[oe+G]=G;for(Z=0;Z<q;Z++){for(V=F[Z],I[V]!==-1&&he[I[V]]--,Y=z?se[fe+Z]:V;Y!==-1;Y=z?se[me+Y]:-1)for(W=_e[Y];W<_e[Y+1];W++){G=ge[W];var ye=csLeaf(G,V,se,ce,le,ue,oe);ye.jleaf>=1&&he[V]++,ye.jleaf===2&&he[ye.q]--}I[V]!==-1&&(se[oe+V]=I[V])}for(V=0;V<q;V++)I[V]!==-1&&(he[I[V]]+=he[V]);return he}}),name$1l="csSqr",dependencies$1l=["add","multiply","transpose"],createCsSqr=factory(name$1l,dependencies$1l,_=>{var{add:R,multiply:O,transpose:I}=_,F=createCsAmd({add:R,multiply:O,transpose:I}),z=createCsCounts({transpose:I});return function(q,G,V){var Z=G._ptr,Y=G._size,W=Y[1],ee,ne={};if(ne.q=F(q,G),q&&!ne.q)return null;if(V){var ie=q?csPermute(G,null,ne.q):G;ne.parent=csEtree(ie);var se=csPost(ne.parent,W);if(ne.cp=z(ie,ne.parent,se,1),ie&&ne.parent&&ne.cp&&L(ie,ne))for(ne.unz=0,ee=0;ee<W;ee++)ne.unz+=ne.cp[ee]}else ne.unz=4*Z[W]+W,ne.lnz=ne.unz;return ne};function L(U,q){var G=U._ptr,V=U._index,Z=U._size,Y=Z[0],W=Z[1];q.pinv=[],q.leftmost=[];var ee=q.parent,ne=q.pinv,ie=q.leftmost,se=[],oe=0,le=Y,ue=Y+W,ce=Y+2*W,fe,me,he,pe,ge;for(me=0;me<W;me++)se[le+me]=-1,se[ue+me]=-1,se[ce+me]=0;for(fe=0;fe<Y;fe++)ie[fe]=-1;for(me=W-1;me>=0;me--)for(pe=G[me],ge=G[me+1],he=pe;he<ge;he++)ie[V[he]]=me;for(fe=Y-1;fe>=0;fe--)ne[fe]=-1,me=ie[fe],me!==-1&&(se[ce+me]++===0&&(se[ue+me]=fe),se[oe+fe]=se[le+me],se[le+me]=fe);for(q.lnz=0,q.m2=Y,me=0;me<W;me++)if(fe=se[le+me],q.lnz++,fe<0&&(fe=q.m2++),ne[fe]=me,!(--ce[me]<=0)){q.lnz+=se[ce+me];var _e=ee[me];_e!==-1&&(se[ce+_e]===0&&(se[ue+_e]=se[ue+me]),se[oe+se[ue+me]]=se[le+_e],se[le+_e]=se[oe+fe],se[ce+_e]+=se[ce+me])}for(fe=0;fe<Y;fe++)ne[fe]<0&&(ne[fe]=me++);return!0}});function csMarked(_,R){return _[R]<0}function csMark(_,R){_[R]=csFlip(_[R])}function csUnflip(_){return _<0?csFlip(_):_}function csDfs(_,R,O,I,F){var z=R._index,L=R._ptr,U=R._size,q=U[1],G,V,Z,Y=0;for(I[0]=_;Y>=0;){_=I[Y];var W=F?F[_]:_;csMarked(L,_)||(csMark(L,_),I[q+Y]=W<0?0:csUnflip(L[W]));var ee=1;for(V=I[q+Y],Z=W<0?0:csUnflip(L[W+1]);V<Z;V++)if(G=z[V],!csMarked(L,G)){I[q+Y]=V,I[++Y]=G,ee=0;break}ee&&(Y--,I[--O]=_)}return O}function csReach(_,R,O,I,F){var z=_._ptr,L=_._size,U=R._index,q=R._ptr,G=L[1],V,Z,Y,W=G;for(Z=q[O],Y=q[O+1],V=Z;V<Y;V++){var ee=U[V];csMarked(z,ee)||(W=csDfs(ee,_,W,I,F))}for(V=W;V<G;V++)csMark(z,I[V]);return W}var name$1k="csSpsolve",dependencies$1k=["divideScalar","multiply","subtract"],createCsSpsolve=factory(name$1k,dependencies$1k,_=>{var{divideScalar:R,multiply:O,subtract:I}=_;return function(z,L,U,q,G,V,Z){var Y=z._values,W=z._index,ee=z._ptr,ne=z._size,ie=ne[1],se=L._values,oe=L._index,le=L._ptr,ue,ce,fe,me,he=csReach(z,L,U,q,V);for(ue=he;ue<ie;ue++)G[q[ue]]=0;for(ce=le[U],fe=le[U+1],ue=ce;ue<fe;ue++)G[oe[ue]]=se[ue];for(var pe=he;pe<ie;pe++){var ge=q[pe],_e=V?V[ge]:ge;if(!(_e<0))for(ce=ee[_e],fe=ee[_e+1],G[ge]=R(G[ge],Y[Z?ce:fe-1]),ue=Z?ce+1:ce,me=Z?fe:fe-1;ue<me;ue++){var ye=W[ue];G[ye]=I(G[ye],O(Y[ue],G[ge]))}}return he}}),name$1j="csLu",dependencies$1j=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],createCsLu=factory(name$1j,dependencies$1j,_=>{var{abs:R,divideScalar:O,multiply:I,subtract:F,larger:z,largerEq:L,SparseMatrix:U}=_,q=createCsSpsolve({divideScalar:O,multiply:I,subtract:F});return function(V,Z,Y){if(!V)return null;var W=V._size,ee=W[1],ne,ie=100,se=100;Z&&(ne=Z.q,ie=Z.lnz||ie,se=Z.unz||se);var oe=[],le=[],ue=[],ce=new U({values:oe,index:le,ptr:ue,size:[ee,ee]}),fe=[],me=[],he=[],pe=new U({values:fe,index:me,ptr:he,size:[ee,ee]}),ge=[],_e,ye,we=[],ve=[];for(_e=0;_e<ee;_e++)we[_e]=0,ge[_e]=-1,ue[_e+1]=0;ie=0,se=0;for(var $e=0;$e<ee;$e++){ue[$e]=ie,he[$e]=se;var be=ne?ne[$e]:$e,Ce=q(ce,V,be,ve,we,ge,1),De=-1,Ne=-1;for(ye=Ce;ye<ee;ye++)if(_e=ve[ye],ge[_e]<0){var Me=R(we[_e]);z(Me,Ne)&&(Ne=Me,De=_e)}else me[se]=ge[_e],fe[se++]=we[_e];if(De===-1||Ne<=0)return null;ge[be]<0&&L(R(we[be]),I(Ne,Y))&&(De=be);var Te=we[De];for(me[se]=$e,fe[se++]=Te,ge[De]=$e,le[ie]=De,oe[ie++]=1,ye=Ce;ye<ee;ye++)_e=ve[ye],ge[_e]<0&&(le[ie]=_e,oe[ie++]=O(we[_e],Te)),we[_e]=0}for(ue[ee]=ie,he[ee]=se,ye=0;ye<ie;ye++)le[ye]=ge[le[ye]];return oe.splice(ie,oe.length-ie),le.splice(ie,le.length-ie),fe.splice(se,fe.length-se),me.splice(se,me.length-se),{L:ce,U:pe,pinv:ge}}}),name$1i="slu",dependencies$1i=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],createSlu=factory(name$1i,dependencies$1i,_=>{var{typed:R,abs:O,add:I,multiply:F,transpose:z,divideScalar:L,subtract:U,larger:q,largerEq:G,SparseMatrix:V}=_,Z=createCsSqr({add:I,multiply:F,transpose:z}),Y=createCsLu({abs:O,divideScalar:L,multiply:F,subtract:U,larger:q,largerEq:G,SparseMatrix:V});return R(name$1i,{"SparseMatrix, number, number":function(ee,ne,ie){if(!isInteger$1(ne)||ne<0||ne>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(ie<0||ie>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var se=Z(ne,ee,!1),oe=Y(ee,se,ie);return{L:oe.L,U:oe.U,p:oe.pinv,q:se.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function csIpvec(_,R){var O,I=R.length,F=[];if(_)for(O=0;O<I;O++)F[_[O]]=R[O];else for(O=0;O<I;O++)F[O]=R[O];return F}var name$1h="lusolve",dependencies$1h=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],createLusolve=factory(name$1h,dependencies$1h,_=>{var{typed:R,matrix:O,lup:I,slu:F,usolve:z,lsolve:L,DenseMatrix:U}=_,q=createSolveValidation({DenseMatrix:U});return R(name$1h,{"Array, Array | Matrix":function(Y,W){Y=O(Y);var ee=I(Y),ne=V(ee.L,ee.U,ee.p,null,W);return ne.valueOf()},"DenseMatrix, Array | Matrix":function(Y,W){var ee=I(Y);return V(ee.L,ee.U,ee.p,null,W)},"SparseMatrix, Array | Matrix":function(Y,W){var ee=I(Y);return V(ee.L,ee.U,ee.p,null,W)},"SparseMatrix, Array | Matrix, number, number":function(Y,W,ee,ne){var ie=F(Y,ee,ne);return V(ie.L,ie.U,ie.p,ie.q,W)},"Object, Array | Matrix":function(Y,W){return V(Y.L,Y.U,Y.p,Y.q,W)}});function G(Z){if(isMatrix(Z))return Z;if(isArray$1(Z))return O(Z);throw new TypeError("Invalid Matrix LU decomposition")}function V(Z,Y,W,ee,ne){Z=G(Z),Y=G(Y),W&&(ne=q(Z,ne,!0),ne._data=csIpvec(W,ne._data));var ie=L(Z,ne),se=z(Y,ie);return ee&&(se._data=csIpvec(ee,se._data)),se}}),name$1g="polynomialRoot",dependencies$1g=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],createPolynomialRoot=factory(name$1g,dependencies$1g,_=>{var{typed:R,isZero:O,equalScalar:I,add:F,subtract:z,multiply:L,divide:U,sqrt:q,unaryMinus:G,cbrt:V,typeOf:Z,im:Y,re:W}=_;return R(name$1g,{"number|Complex, ...number|Complex":(ee,ne)=>{for(var ie=[ee,...ne];ie.length>0&&O(ie[ie.length-1]);)ie.pop();if(ie.length<2)throw new RangeError("Polynomial [".concat(ee,", ").concat(ne,"] must have a non-zero non-constant coefficient"));switch(ie.length){case 2:return[G(U(ie[0],ie[1]))];case 3:{var[se,oe,le]=ie,ue=L(2,le),ce=L(oe,oe),fe=L(4,le,se);if(I(ce,fe))return[U(G(oe),ue)];var me=q(z(ce,fe));return[U(z(me,oe),ue),U(z(G(me),oe),ue)]}case 4:{var[he,pe,ge,_e]=ie,ye=G(L(3,_e)),we=L(ge,ge),ve=L(3,_e,pe),$e=F(L(2,ge,ge,ge),L(27,_e,_e,he)),be=L(9,_e,ge,pe);if(I(we,ve)&&I($e,be))return[U(ge,ye)];var Ce=z(we,ve),De=z($e,be),Ne=F(L(18,_e,ge,pe,he),L(ge,ge,pe,pe)),Me=F(L(4,ge,ge,ge,he),L(4,_e,pe,pe,pe),L(27,_e,_e,he,he));if(I(Ne,Me))return[U(z(L(4,_e,ge,pe),F(L(9,_e,_e,he),L(ge,ge,ge))),L(_e,Ce)),U(z(L(9,_e,he),L(ge,pe)),L(2,Ce))];var Te;I(we,ve)?Te=De:Te=U(F(De,q(z(L(De,De),L(4,Ce,Ce,Ce)))),2);var Re=!0,Se=V(Te,Re).toArray().map(ze=>U(F(ge,ze,U(Ce,ze)),ye));return Se.map(ze=>Z(ze)==="Complex"&&I(W(ze),W(ze)+Y(ze))?W(ze):ze)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(ie))}}})}),name$1f="Help",dependencies$1f=["evaluate"],createHelpClass=factory(name$1f,dependencies$1f,_=>{var{evaluate:R}=_;function O(I){if(!(this instanceof O))throw new SyntaxError("Constructor must be called with the new operator");if(!I)throw new Error('Argument "doc" missing');this.doc=I}return O.prototype.type="Help",O.prototype.isHelp=!0,O.prototype.toString=function(){var I=this.doc||{},F=`
`;if(I.name&&(F+="Name: "+I.name+`

`),I.category&&(F+="Category: "+I.category+`

`),I.description&&(F+=`Description:
    `+I.description+`

`),I.syntax&&(F+=`Syntax:
    `+I.syntax.join(`
    `)+`

`),I.examples){F+=`Examples:
`;for(var z=!1,L=R("config()"),U={config:Z=>(z=!0,R("config(newConfig)",{newConfig:Z}))},q=0;q<I.examples.length;q++){var G=I.examples[q];F+="    "+G+`
`;var V=void 0;try{V=R(G,U)}catch(Z){V=Z}V!==void 0&&!isHelp(V)&&(F+="        "+format$3(V,{precision:14})+`
`)}F+=`
`,z&&R("config(originalConfig)",{originalConfig:L})}return I.mayThrow&&I.mayThrow.length&&(F+="Throws: "+I.mayThrow.join(", ")+`

`),I.seealso&&I.seealso.length&&(F+="See also: "+I.seealso.join(", ")+`
`),F},O.prototype.toJSON=function(){var I=clone$3(this.doc);return I.mathjs="Help",I},O.fromJSON=function(I){var F={};return Object.keys(I).filter(z=>z!=="mathjs").forEach(z=>{F[z]=I[z]}),new O(F)},O.prototype.valueOf=O.prototype.toString,O},{isClass:!0}),name$1e="Chain",dependencies$1e=["?on","math","typed"],createChainClass=factory(name$1e,dependencies$1e,_=>{var{on:R,math:O,typed:I}=_;function F(G){if(!(this instanceof F))throw new SyntaxError("Constructor must be called with the new operator");isChain(G)?this.value=G.value:this.value=G}F.prototype.type="Chain",F.prototype.isChain=!0,F.prototype.done=function(){return this.value},F.prototype.valueOf=function(){return this.value},F.prototype.toString=function(){return format$3(this.value)},F.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},F.fromJSON=function(G){return new F(G.value)};function z(G,V){typeof V=="function"&&(F.prototype[G]=U(V))}function L(G,V){lazy(F.prototype,G,function(){var Y=V();if(typeof Y=="function")return U(Y)})}function U(G){return function(){if(arguments.length===0)return new F(G(this.value));for(var V=[this.value],Z=0;Z<arguments.length;Z++)V[Z+1]=arguments[Z];if(I.isTypedFunction(G)){var Y=I.resolve(G,V);if(Y.params.length===1)throw new Error("chain function "+G.name+" cannot match rest parameter between chain value and additional arguments.");return new F(Y.implementation.apply(G,V))}return new F(G.apply(G,V))}}F.createProxy=function(G,V){if(typeof G=="string")z(G,V);else{var Z=function(ee){hasOwnProperty(G,ee)&&q[ee]===void 0&&L(ee,()=>G[ee])};for(var Y in G)Z(Y)}};var q={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return F.createProxy(O),R&&R("import",function(G,V,Z){Z||L(G,V)}),F},{isClass:!0}),eDocs={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},falseDocs={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},iDocs={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},InfinityDocs={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN10Docs={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LN2Docs={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LOG10EDocs={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},LOG2EDocs={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},NaNDocs={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},nullDocs={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},phiDocs={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},piDocs={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},SQRT12Docs={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2Docs={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tauDocs={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},trueDocs={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},versionDocs={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},bignumberDocs={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},bigintDocs={name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},booleanDocs={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complexDocs={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnitDocs={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fractionDocs={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},indexDocs={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix","number","range","string","unit"]},matrixDocs={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},numberDocs={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},sparseDocs={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnitDocs={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},stringDocs={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unitDocs={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},configDocs={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},importDocs={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typedDocs={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},derivativeDocs={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},leafCountDocs={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},lsolveDocs={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAllDocs={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lupDocs={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolveDocs={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},polynomialRootDocs={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},qrDocs={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},rationalizeDocs={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},resolveDocs={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplifyDocs={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstantDocs={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCoreDocs={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},sluDocs={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},symbolicEqualDocs={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},usolveDocs={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAllDocs={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},absDocs={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},addDocs={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrtDocs={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceilDocs={name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},cubeDocs={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divideDocs={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivideDocs={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiplyDocs={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPowDocs={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},expDocs={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expmDocs={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1Docs={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fixDocs={name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},floorDocs={name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},gcdDocs={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypotDocs={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},invmodDocs={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax  1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},lcmDocs={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},logDocs={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log10Docs={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},log1pDocs={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log2Docs={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},modDocs={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiplyDocs={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},normDocs={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRootDocs={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRootsDocs={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},powDocs={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},roundDocs={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},signDocs={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>0, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrtDocs={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtmDocs={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},sylvesterDocs={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},schurDocs={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},lyapDocs={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},squareDocs={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtractDocs={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinusDocs={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlusDocs={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcdDocs={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},bitAndDocs={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNotDocs={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOrDocs={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXorDocs={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShiftDocs={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShiftDocs={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShiftDocs={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbersDocs={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalanDocs={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},compositionDocs={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2Docs={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"The Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers","bernoulli"]},argDocs={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conjDocs={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},imDocs={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},reDocs={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},evaluateDocs={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:["parser","parse","compile"]},parserDocs={name:"parser",category:"Expression",syntax:["parser()"],description:"Create a parser object that keeps a context of variables and their values, allowing the evaluation of expressions in that context.",examples:["myParser = parser()",'myParser.evaluate("sqrt(3^2 + 4^2)")','myParser.set("x", 3)','myParser.evaluate("y = x + 3")','myParser.evaluate(["y = x + 3", "y = y + 1"])','myParser.get("y")'],seealso:["evaluate","parse","compile"]},parseDocs={name:"parse",category:"Expression",syntax:["parse(expr)","parse(expr, options)","parse([expr1, expr2, expr3, ...])","parse([expr1, expr2, expr3, ...], options)"],description:"Parse an expression. Returns a node tree, which can be evaluated by invoking node.evaluate() or transformed into a functional object via node.compile().",examples:['node1 = parse("sqrt(3^2 + 4^2)")',"node1.evaluate()","code1 = node1.compile()","code1.evaluate()","scope = {a: 3, b: 4}",'node2 = parse("a * b")',"node2.evaluate(scope)","code2 = node2.compile()","code2.evaluate(scope)"],seealso:["parser","evaluate","compile"]},compileDocs={name:"compile",category:"Expression",syntax:["compile(expr) ","compile([expr1, expr2, expr3, ...])"],description:"Parse and compile an expression. Returns a an object with a function evaluate([scope]) to evaluate the compiled expression.",examples:['code1 = compile("sqrt(3^2 + 4^2)")',"code1.evaluate() ",'code2 = compile("a * b")',"code2.evaluate({a: 3, b: 4})"],seealso:["parser","parse","evaluate"]},helpDocs={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distanceDocs={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersectDocs={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},andDocs={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},notDocs={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},nullishDocs={name:"nullish",category:"Logical",syntax:["x ?? y","nullish(x, y)"],description:"Nullish coalescing operator. Returns the right-hand operand when the left-hand operand is null or undefined, and otherwise returns the left-hand operand.",examples:["null ?? 42","undefined ?? 42","0 ?? 42","false ?? 42","null ?? undefined ?? 42"],seealso:["and","or","not"]},orDocs={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xorDocs={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},mapSlicesDocs={name:"mapSlices",category:"Matrix",syntax:["mapSlices(A, dim, callback)"],description:"Generate a matrix one dimension less than A by applying callback to each slice of A along dimension dim.",examples:["A = [[1, 2], [3, 4]]","mapSlices(A, 1, sum)","mapSlices(A, 2, prod)"],seealso:["map","forEach"]},columnDocs={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},concatDocs={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},countDocs={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},crossDocs={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},ctransposeDocs={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},detDocs={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diagDocs={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diffDocs={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},dotDocs={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},eigsDocs={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},filterDocs={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flattenDocs={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEachDocs={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},getMatrixDataTypeDocs={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identityDocs={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},invDocs={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinvDocs={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the MoorePenrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},kronDocs={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},mapDocs={name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},matrixFromColumnsDocs={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},matrixFromFunctionDocs={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRowsDocs={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},onesDocs={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelectDocs={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},rangeDocs={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},reshapeDocs={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},resizeDocs={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},rotateDocs={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrixDocs={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},rowDocs={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},sizeDocs={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sortDocs={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeezeDocs={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subsetDocs={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},traceDocs={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transposeDocs={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zerosDocs={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fftDocs={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifftDocs={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},bernoulliDocs={name:"bernoulli",category:"Probability",syntax:["bernoulli(n)"],description:"The nth Bernoulli number",examples:["bernoulli(4)","bernoulli(fraction(12))"],seealso:["combinations","gamma","stirlingS2"]},combinationsDocs={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRepDocs={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorialDocs={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gammaDocs={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},lgammaDocs={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},kldivergenceDocs={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},multinomialDocs={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutationsDocs={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandomDocs={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},randomDocs={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomIntDocs={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compareDocs={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNaturalDocs={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareTextDocs={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqualDocs={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equalDocs={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalTextDocs={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},largerDocs={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not. Comparing a value with NaN returns false.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEqDocs={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smallerDocs={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not. Comparing a value with NaN returns false.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEqDocs={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequalDocs={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesianDocs={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifferenceDocs={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinctDocs={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersectDocs={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubsetDocs={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicityDocs={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowersetDocs={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSizeDocs={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifferenceDocs={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnionDocs={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},zpk2tfDocs={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},freqzDocs={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},erfDocs={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},zetaDocs={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},madDocs={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},maxDocs={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},meanDocs={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},medianDocs={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},minDocs={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},modeDocs={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prodDocs={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeqDocs={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},stdDocs={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},cumSumDocs={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},sumDocs={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","variance"]},varianceDocs={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},corrDocs={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},acosDocs={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acoshDocs={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acotDocs={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acothDocs={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acscDocs={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acschDocs={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asecDocs={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asechDocs={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asinDocs={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinhDocs={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atanDocs={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atan2Docs={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},atanhDocs={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},cosDocs={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},coshDocs={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cotDocs={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},cothDocs={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},cscDocs={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},cschDocs={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},secDocs={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sechDocs={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sinDocs={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinhDocs={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tanDocs={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanhDocs={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},toDocs={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},toBestDocs={name:"toBest",category:"Units",syntax:["toBest(x)","toBest(x, unitList)","toBest(x, unitList, options)"],description:"Converts to the most appropriate display unit.",examples:['toBest(unit(5000, "m"))','toBest(unit(3500000, "W"))','toBest(unit(0.000000123, "A"))','toBest(unit(10, "m"), "cm")','toBest(unit(10, "m"), "mm,km", {offset: 1.5})'],seealso:[]},binDocs={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},cloneDocs={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},formatDocs={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},hasNumericValueDocs={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},hexDocs={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isIntegerDocs={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNaNDocs={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero","isFinite","isBounded"]},isBoundedDocs={name:"isBounded",category:"Utils",syntax:["isBounded(x)"],description:"Test whether a value or its entries are bounded.",examples:["isBounded(Infinity)","isBounded(bigint(3))","isBounded([3, -Infinity, -3])"],seealso:["isFinite","isNumeric","isNaN","isNegative","isPositive"]},isFiniteDocs={name:"isFinite",category:"Utils",syntax:["isFinite(x)"],description:"Test whether a value is finite, elementwise on collections.",examples:["isFinite(Infinity)","isFinite(bigint(3))","isFinite([3, -Infinity, -3])"],seealso:["isBounded","isNumeric","isNaN","isNegative","isPositive"]},isNegativeDocs={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumericDocs={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue","isFinite","isBounded"]},isPositiveDocs={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrimeDocs={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZeroDocs={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},numericDocs={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]},octDocs={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},printDocs={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},typeOfDocs={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},solveODEDocs={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},embeddedDocs={bignumber:bignumberDocs,bigint:bigintDocs,boolean:booleanDocs,complex:complexDocs,createUnit:createUnitDocs,fraction:fractionDocs,index:indexDocs,matrix:matrixDocs,number:numberDocs,sparse:sparseDocs,splitUnit:splitUnitDocs,string:stringDocs,unit:unitDocs,e:eDocs,E:eDocs,false:falseDocs,i:iDocs,Infinity:InfinityDocs,LN2:LN2Docs,LN10:LN10Docs,LOG2E:LOG2EDocs,LOG10E:LOG10EDocs,NaN:NaNDocs,null:nullDocs,pi:piDocs,PI:piDocs,phi:phiDocs,SQRT1_2:SQRT12Docs,SQRT2:SQRT2Docs,tau:tauDocs,true:trueDocs,version:versionDocs,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant. Deprecated in favor of coulombConstant",examples:["coulombConstant"]},coulombConstant:{description:"Coulomb's constant",examples:["coulombConstant"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:derivativeDocs,lsolve:lsolveDocs,lsolveAll:lsolveAllDocs,lup:lupDocs,lusolve:lusolveDocs,leafCount:leafCountDocs,polynomialRoot:polynomialRootDocs,resolve:resolveDocs,simplify:simplifyDocs,simplifyConstant:simplifyConstantDocs,simplifyCore:simplifyCoreDocs,symbolicEqual:symbolicEqualDocs,rationalize:rationalizeDocs,slu:sluDocs,usolve:usolveDocs,usolveAll:usolveAllDocs,qr:qrDocs,abs:absDocs,add:addDocs,cbrt:cbrtDocs,ceil:ceilDocs,cube:cubeDocs,divide:divideDocs,dotDivide:dotDivideDocs,dotMultiply:dotMultiplyDocs,dotPow:dotPowDocs,exp:expDocs,expm:expmDocs,expm1:expm1Docs,fix:fixDocs,floor:floorDocs,gcd:gcdDocs,hypot:hypotDocs,lcm:lcmDocs,log:logDocs,log2:log2Docs,log1p:log1pDocs,log10:log10Docs,mod:modDocs,multiply:multiplyDocs,norm:normDocs,nthRoot:nthRootDocs,nthRoots:nthRootsDocs,pow:powDocs,round:roundDocs,sign:signDocs,sqrt:sqrtDocs,sqrtm:sqrtmDocs,square:squareDocs,subtract:subtractDocs,unaryMinus:unaryMinusDocs,unaryPlus:unaryPlusDocs,xgcd:xgcdDocs,invmod:invmodDocs,bitAnd:bitAndDocs,bitNot:bitNotDocs,bitOr:bitOrDocs,bitXor:bitXorDocs,leftShift:leftShiftDocs,rightArithShift:rightArithShiftDocs,rightLogShift:rightLogShiftDocs,bellNumbers:bellNumbersDocs,catalan:catalanDocs,composition:compositionDocs,stirlingS2:stirlingS2Docs,config:configDocs,import:importDocs,typed:typedDocs,arg:argDocs,conj:conjDocs,re:reDocs,im:imDocs,evaluate:evaluateDocs,help:helpDocs,parse:parseDocs,parser:parserDocs,compile:compileDocs,distance:distanceDocs,intersect:intersectDocs,and:andDocs,not:notDocs,nullish:nullishDocs,or:orDocs,xor:xorDocs,mapSlices:mapSlicesDocs,concat:concatDocs,count:countDocs,cross:crossDocs,column:columnDocs,ctranspose:ctransposeDocs,det:detDocs,diag:diagDocs,diff:diffDocs,dot:dotDocs,getMatrixDataType:getMatrixDataTypeDocs,identity:identityDocs,filter:filterDocs,flatten:flattenDocs,forEach:forEachDocs,inv:invDocs,pinv:pinvDocs,eigs:eigsDocs,kron:kronDocs,matrixFromFunction:matrixFromFunctionDocs,matrixFromRows:matrixFromRowsDocs,matrixFromColumns:matrixFromColumnsDocs,map:mapDocs,ones:onesDocs,partitionSelect:partitionSelectDocs,range:rangeDocs,resize:resizeDocs,reshape:reshapeDocs,rotate:rotateDocs,rotationMatrix:rotationMatrixDocs,row:rowDocs,size:sizeDocs,sort:sortDocs,squeeze:squeezeDocs,subset:subsetDocs,trace:traceDocs,transpose:transposeDocs,zeros:zerosDocs,fft:fftDocs,ifft:ifftDocs,sylvester:sylvesterDocs,schur:schurDocs,lyap:lyapDocs,solveODE:solveODEDocs,bernoulli:bernoulliDocs,combinations:combinationsDocs,combinationsWithRep:combinationsWithRepDocs,factorial:factorialDocs,gamma:gammaDocs,kldivergence:kldivergenceDocs,lgamma:lgammaDocs,multinomial:multinomialDocs,permutations:permutationsDocs,pickRandom:pickRandomDocs,random:randomDocs,randomInt:randomIntDocs,compare:compareDocs,compareNatural:compareNaturalDocs,compareText:compareTextDocs,deepEqual:deepEqualDocs,equal:equalDocs,equalText:equalTextDocs,larger:largerDocs,largerEq:largerEqDocs,smaller:smallerDocs,smallerEq:smallerEqDocs,unequal:unequalDocs,setCartesian:setCartesianDocs,setDifference:setDifferenceDocs,setDistinct:setDistinctDocs,setIntersect:setIntersectDocs,setIsSubset:setIsSubsetDocs,setMultiplicity:setMultiplicityDocs,setPowerset:setPowersetDocs,setSize:setSizeDocs,setSymDifference:setSymDifferenceDocs,setUnion:setUnionDocs,zpk2tf:zpk2tfDocs,freqz:freqzDocs,erf:erfDocs,zeta:zetaDocs,cumsum:cumSumDocs,mad:madDocs,max:maxDocs,mean:meanDocs,median:medianDocs,min:minDocs,mode:modeDocs,prod:prodDocs,quantileSeq:quantileSeqDocs,std:stdDocs,sum:sumDocs,variance:varianceDocs,corr:corrDocs,acos:acosDocs,acosh:acoshDocs,acot:acotDocs,acoth:acothDocs,acsc:acscDocs,acsch:acschDocs,asec:asecDocs,asech:asechDocs,asin:asinDocs,asinh:asinhDocs,atan:atanDocs,atanh:atanhDocs,atan2:atan2Docs,cos:cosDocs,cosh:coshDocs,cot:cotDocs,coth:cothDocs,csc:cscDocs,csch:cschDocs,sec:secDocs,sech:sechDocs,sin:sinDocs,sinh:sinhDocs,tan:tanDocs,tanh:tanhDocs,to:toDocs,toBest:toBestDocs,clone:cloneDocs,format:formatDocs,bin:binDocs,oct:octDocs,hex:hexDocs,isNaN:isNaNDocs,isBounded:isBoundedDocs,isFinite:isFiniteDocs,isInteger:isIntegerDocs,isNegative:isNegativeDocs,isNumeric:isNumericDocs,hasNumericValue:hasNumericValueDocs,isPositive:isPositiveDocs,isPrime:isPrimeDocs,isZero:isZeroDocs,print:printDocs,typeOf:typeOfDocs,numeric:numericDocs},name$1d="help",dependencies$1d=["typed","mathWithTransform","Help"],createHelp=factory(name$1d,dependencies$1d,_=>{var{typed:R,mathWithTransform:O,Help:I}=_;return R(name$1d,{any:function(z){var L,U=z;if(typeof z!="string"){for(L in O)if(hasOwnProperty(O,L)&&z===O[L]){U=L;break}}var q=getSafeProperty(embeddedDocs,U);if(!q){var G=typeof U=="function"?U.name:U;throw new Error('No documentation found on "'+G+'"')}return new I(q)}})}),name$1c="chain",dependencies$1c=["typed","Chain"],createChain=factory(name$1c,dependencies$1c,_=>{var{typed:R,Chain:O}=_;return R(name$1c,{"":function(){return new O},any:function(F){return new O(F)}})}),name$1b="det",dependencies$1b=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],createDet=factory(name$1b,dependencies$1b,_=>{var{typed:R,matrix:O,subtractScalar:I,multiply:F,divideScalar:z,isZero:L,unaryMinus:U}=_;return R(name$1b,{any:function(V){return clone$3(V)},"Array | Matrix":function(V){var Z;switch(isMatrix(V)?Z=V.size():Array.isArray(V)?(V=O(V),Z=V.size()):Z=[],Z.length){case 0:return clone$3(V);case 1:if(Z[0]===1)return clone$3(V.valueOf()[0]);if(Z[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+format$3(Z)+")");case 2:{var Y=Z[0],W=Z[1];if(Y===W)return q(V.clone().valueOf(),Y);if(W===0)return 1;throw new RangeError("Matrix must be square (size: "+format$3(Z)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+format$3(Z)+")")}}});function q(G,V,Z){if(V===1)return clone$3(G[0][0]);if(V===2)return I(F(G[0][0],G[1][1]),F(G[1][0],G[0][1]));for(var Y=!1,W=new Array(V).fill(0).map((me,he)=>he),ee=0;ee<V;ee++){var ne=W[ee];if(L(G[ne][ee])){var ie=void 0;for(ie=ee+1;ie<V;ie++)if(!L(G[W[ie]][ee])){ne=W[ie],W[ie]=W[ee],W[ee]=ne,Y=!Y;break}if(ie===V)return G[ne][ee]}for(var se=G[ne][ee],oe=ee===0?1:G[W[ee-1]][ee-1],le=ee+1;le<V;le++)for(var ue=W[le],ce=ee+1;ce<V;ce++)G[ue][ce]=z(I(F(G[ue][ce],se),F(G[ue][ee],G[ne][ce])),oe)}var fe=G[W[V-1]][V-1];return Y?U(fe):fe}}),name$1a="inv",dependencies$1a=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],createInv=factory(name$1a,dependencies$1a,_=>{var{typed:R,matrix:O,divideScalar:I,addScalar:F,multiply:z,unaryMinus:L,det:U,identity:q,abs:G}=_;return R(name$1a,{"Array | Matrix":function(Y){var W=isMatrix(Y)?Y.size():arraySize(Y);switch(W.length){case 1:if(W[0]===1)return isMatrix(Y)?O([I(1,Y.valueOf()[0])]):[I(1,Y[0])];throw new RangeError("Matrix must be square (size: "+format$3(W)+")");case 2:{var ee=W[0],ne=W[1];if(ee===ne)return isMatrix(Y)?O(V(Y.valueOf(),ee,ne),Y.storage()):V(Y,ee,ne);throw new RangeError("Matrix must be square (size: "+format$3(W)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+format$3(W)+")")}},any:function(Y){return I(1,Y)}});function V(Z,Y,W){var ee,ne,ie,se,oe;if(Y===1){if(se=Z[0][0],se===0)throw Error("Cannot calculate inverse, determinant is zero");return[[I(1,se)]]}else if(Y===2){var le=U(Z);if(le===0)throw Error("Cannot calculate inverse, determinant is zero");return[[I(Z[1][1],le),I(L(Z[0][1]),le)],[I(L(Z[1][0]),le),I(Z[0][0],le)]]}else{var ue=Z.concat();for(ee=0;ee<Y;ee++)ue[ee]=ue[ee].concat();for(var ce=q(Y).valueOf(),fe=0;fe<W;fe++){var me=G(ue[fe][fe]),he=fe;for(ee=fe+1;ee<Y;)G(ue[ee][fe])>me&&(me=G(ue[ee][fe]),he=ee),ee++;if(me===0)throw Error("Cannot calculate inverse, determinant is zero");ee=he,ee!==fe&&(oe=ue[fe],ue[fe]=ue[ee],ue[ee]=oe,oe=ce[fe],ce[fe]=ce[ee],ce[ee]=oe);var pe=ue[fe],ge=ce[fe];for(ee=0;ee<Y;ee++){var _e=ue[ee],ye=ce[ee];if(ee!==fe){if(_e[fe]!==0){for(ie=I(L(_e[fe]),pe[fe]),ne=fe;ne<W;ne++)_e[ne]=F(_e[ne],z(ie,pe[ne]));for(ne=0;ne<W;ne++)ye[ne]=F(ye[ne],z(ie,ge[ne]))}}else{for(ie=pe[fe],ne=fe;ne<W;ne++)_e[ne]=I(_e[ne],ie);for(ne=0;ne<W;ne++)ye[ne]=I(ye[ne],ie)}}}return ce}}}),name$19="pinv",dependencies$19=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],createPinv=factory(name$19,dependencies$19,_=>{var{typed:R,matrix:O,inv:I,deepEqual:F,equal:z,dotDivide:L,dot:U,ctranspose:q,divideScalar:G,multiply:V,add:Z,Complex:Y}=_;return R(name$19,{"Array | Matrix":function(le){var ue=isMatrix(le)?le.size():arraySize(le);switch(ue.length){case 1:return se(le)?q(le):ue[0]===1?I(le):L(q(le),U(le,le));case 2:{if(se(le))return q(le);var ce=ue[0],fe=ue[1];if(ce===fe)try{return I(le)}catch(me){if(!(me instanceof Error&&me.message.match(/Cannot calculate inverse, determinant is zero/)))throw me}return isMatrix(le)?O(W(le.valueOf(),ce,fe),le.storage()):W(le,ce,fe)}default:throw new RangeError("Matrix must be two dimensional (size: "+format$3(ue)+")")}},any:function(le){return z(le,0)?clone$3(le):G(1,le)}});function W(oe,le,ue){var{C:ce,F:fe}=ne(oe,le,ue),me=V(I(V(q(ce),ce)),q(ce)),he=V(q(fe),I(V(fe,q(fe))));return V(he,me)}function ee(oe,le,ue){for(var ce=clone$3(oe),fe=0,me=0;me<le;me++){if(ue<=fe)return ce;for(var he=me;ie(ce[he][fe]);)if(he++,le===he&&(he=me,fe++,ue===fe))return ce;[ce[he],ce[me]]=[ce[me],ce[he]];for(var pe=ce[me][fe],ge=0;ge<ue;ge++)ce[me][ge]=L(ce[me][ge],pe);for(var _e=0;_e<le;_e++)if(_e!==me){pe=ce[_e][fe];for(var ye=0;ye<ue;ye++)ce[_e][ye]=Z(ce[_e][ye],V(-1,V(pe,ce[me][ye])))}fe++}return ce}function ne(oe,le,ue){var ce=ee(oe,le,ue),fe=oe.map((he,pe)=>he.filter((ge,_e)=>_e<le&&!ie(U(ce[_e],ce[_e])))),me=ce.filter((he,pe)=>!ie(U(ce[pe],ce[pe])));return{C:fe,F:me}}function ie(oe){return z(Z(oe,Y(1,1)),Z(0,Y(1,1)))}function se(oe){return F(Z(oe,Y(1,1)),Z(V(oe,0),Y(1,1)))}});function createComplexEigs(_){var{addScalar:R,subtract:O,flatten:I,multiply:F,multiplyScalar:z,divideScalar:L,sqrt:U,abs:q,bignumber:G,diag:V,size:Z,reshape:Y,inv:W,qr:ee,usolve:ne,usolveAll:ie,equal:se,complex:oe,larger:le,smaller:ue,matrixFromColumns:ce,dot:fe}=_;function me(Re,Se,ze,Pe){var Qe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,Ze=he(Re,Se,ze,Pe,Qe);pe(Re,Se,ze,Pe,Qe,Ze);var{values:Le,C:ke}=ge(Re,Se,ze,Pe,Qe);if(Qe){var Ge=_e(Re,Se,ke,Ze,Le,ze,Pe);return{values:Le,eigenvectors:Ge}}return{values:Le}}function he(Re,Se,ze,Pe,Qe){var Ze=Pe==="BigNumber",Le=Pe==="Complex",ke=Ze?G(0):0,Ge=Ze?G(1):Le?oe(1):1,Ke=Ze?G(1):1,He=Ze?G(10):2,st=z(He,He),Ae;Qe&&(Ae=Array(Se).fill(Ge));for(var tt=!1;!tt;){tt=!0;for(var rt=0;rt<Se;rt++){for(var We=ke,qe=ke,nt=0;nt<Se;nt++)rt!==nt&&(We=R(We,q(Re[nt][rt])),qe=R(qe,q(Re[rt][nt])));if(!se(We,0)&&!se(qe,0)){for(var ft=Ke,je=We,Ve=L(qe,He),Ie=z(qe,He);ue(je,Ve);)je=z(je,st),ft=z(ft,He);for(;le(je,Ie);)je=L(je,st),ft=L(ft,He);var Ue=ue(L(R(je,qe),ft),z(R(We,qe),.95));if(Ue){tt=!1;for(var Xe=L(1,ft),Fe=0;Fe<Se;Fe++)rt!==Fe&&(Re[rt][Fe]=z(Re[rt][Fe],Xe),Re[Fe][rt]=z(Re[Fe][rt],ft));Qe&&(Ae[rt]=z(Ae[rt],Xe))}}}}return Qe?V(Ae):null}function pe(Re,Se,ze,Pe,Qe,Ze){var Le=Pe==="BigNumber",ke=Pe==="Complex",Ge=Le?G(0):ke?oe(0):0;Le&&(ze=G(ze));for(var Ke=0;Ke<Se-2;Ke++){for(var He=0,st=Ge,Ae=Ke+1;Ae<Se;Ae++){var tt=Re[Ae][Ke];ue(q(st),q(tt))&&(st=tt,He=Ae)}if(!ue(q(st),ze)){if(He!==Ke+1){var rt=Re[He];Re[He]=Re[Ke+1],Re[Ke+1]=rt;for(var We=0;We<Se;We++){var qe=Re[We][He];Re[We][He]=Re[We][Ke+1],Re[We][Ke+1]=qe}if(Qe){var nt=Ze[He];Ze[He]=Ze[Ke+1],Ze[Ke+1]=nt}}for(var ft=Ke+2;ft<Se;ft++){var je=L(Re[ft][Ke],st);if(je!==0){for(var Ve=0;Ve<Se;Ve++)Re[ft][Ve]=O(Re[ft][Ve],z(je,Re[Ke+1][Ve]));for(var Ie=0;Ie<Se;Ie++)Re[Ie][Ke+1]=R(Re[Ie][Ke+1],z(je,Re[Ie][ft]));if(Qe)for(var Ue=0;Ue<Se;Ue++)Ze[ft][Ue]=O(Ze[ft][Ue],z(je,Ze[Ke+1][Ue]))}}}}return Ze}function ge(Re,Se,ze,Pe,Qe){var Ze=Pe==="BigNumber",Le=Pe==="Complex",ke=Ze?G(1):Le?oe(1):1;Ze&&(ze=G(ze));for(var Ge=clone$3(Re),Ke=[],He=Se,st=[],Ae=Qe?V(Array(Se).fill(ke)):void 0,tt=Qe?V(Array(He).fill(ke)):void 0,rt=0;rt<=100;){rt+=1;for(var We=Ge[He-1][He-1],qe=0;qe<He;qe++)Ge[qe][qe]=O(Ge[qe][qe],We);var{Q:nt,R:ft}=ee(Ge);Ge=F(ft,nt);for(var je=0;je<He;je++)Ge[je][je]=R(Ge[je][je],We);if(Qe&&(tt=F(tt,nt)),He===1||ue(q(Ge[He-1][He-2]),ze)){rt=0,Ke.push(Ge[He-1][He-1]),Qe&&(st.unshift([[1]]),ve(tt,Se),Ae=F(Ae,tt),He>1&&(tt=V(Array(He-1).fill(ke)))),He-=1,Ge.pop();for(var Ve=0;Ve<He;Ve++)Ge[Ve].pop()}else if(He===2||ue(q(Ge[He-2][He-3]),ze)){rt=0;var Ie=ye(Ge[He-2][He-2],Ge[He-2][He-1],Ge[He-1][He-2],Ge[He-1][He-1]);Ke.push(...Ie),Qe&&(st.unshift(we(Ge[He-2][He-2],Ge[He-2][He-1],Ge[He-1][He-2],Ge[He-1][He-1],Ie[0],Ie[1],ze,Pe)),ve(tt,Se),Ae=F(Ae,tt),He>2&&(tt=V(Array(He-2).fill(ke)))),He-=2,Ge.pop(),Ge.pop();for(var Ue=0;Ue<He;Ue++)Ge[Ue].pop(),Ge[Ue].pop()}if(He===0)break}if(Ke.sort((Je,et)=>+O(q(Je),q(et))),rt>100){var Xe=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+Ke.join(", "));throw Xe.values=Ke,Xe.vectors=[],Xe}var Fe=Qe?F(Ae,$e(st,Se)):void 0;return{values:Ke,C:Fe}}function _e(Re,Se,ze,Pe,Qe,Ze,Le){var ke=W(ze),Ge=F(ke,Re,ze),Ke=Le==="BigNumber",He=Le==="Complex",st=Ke?G(0):He?oe(0):0,Ae=Ke?G(1):He?oe(1):1,tt=[],rt=[];for(var We of Qe){var qe=be(tt,We,se);qe===-1?(tt.push(We),rt.push(1)):rt[qe]+=1}for(var nt=[],ft=tt.length,je=Array(Se).fill(st),Ve=V(Array(Se).fill(Ae)),Ie=function(){var Fe=tt[Ue],Je=O(Ge,F(Fe,Ve)),et=ie(Je,je);for(et.shift();et.length<rt[Ue];){var ut=Ce(Je,Se,et,Ze,Le);if(ut===null)break;et.push(ut)}var ct=F(W(Pe),ze);et=et.map(bt=>F(ct,bt)),nt.push(...et.map(bt=>({value:Fe,vector:I(bt)})))},Ue=0;Ue<ft;Ue++)Ie();return nt}function ye(Re,Se,ze,Pe){var Qe=R(Re,Pe),Ze=O(z(Re,Pe),z(Se,ze)),Le=z(Qe,.5),ke=z(U(O(z(Qe,Qe),z(4,Ze))),.5);return[R(Le,ke),O(Le,ke)]}function we(Re,Se,ze,Pe,Qe,Ze,Le,ke){var Ge=ke==="BigNumber",Ke=ke==="Complex",He=Ge?G(0):Ke?oe(0):0,st=Ge?G(1):Ke?oe(1):1;if(ue(q(ze),Le))return[[st,He],[He,st]];if(le(q(O(Qe,Ze)),Le))return[[O(Qe,Pe),O(Ze,Pe)],[ze,ze]];var Ae=O(Re,Qe),tt=O(Pe,Qe);return ue(q(Se),Le)&&ue(q(tt),Le)?[[Ae,st],[ze,He]]:[[Se,He],[tt,st]]}function ve(Re,Se){for(var ze=0;ze<Re.length;ze++)Re[ze].push(...Array(Se-Re[ze].length).fill(0));for(var Pe=Re.length;Pe<Se;Pe++)Re.push(Array(Se).fill(0)),Re[Pe][Pe]=1;return Re}function $e(Re,Se){for(var ze=[],Pe=0;Pe<Se;Pe++)ze[Pe]=Array(Se).fill(0);var Qe=0;for(var Ze of Re){for(var Le=Ze.length,ke=0;ke<Le;ke++)for(var Ge=0;Ge<Le;Ge++)ze[Qe+ke][Qe+Ge]=Ze[ke][Ge];Qe+=Le}return ze}function be(Re,Se,ze){for(var Pe=0;Pe<Re.length;Pe++)if(ze(Re[Pe],Se))return Pe;return-1}function Ce(Re,Se,ze,Pe,Qe){for(var Ze=Qe==="BigNumber"?G(1e3):1e3,Le,ke=0;ke<5;++ke){Le=De(Se,ze,Qe);try{Le=ne(Re,Le)}catch{continue}if(le(Me(Le),Ze))break}if(ke>=5)return null;for(ke=0;;){var Ge=ne(Re,Le);if(ue(Me(Ne(Le,[Ge])),Pe))break;if(++ke>=10)return null;Le=Te(Ge)}return Le}function De(Re,Se,ze){var Pe=ze==="BigNumber",Qe=ze==="Complex",Ze=Array(Re).fill(0).map(Le=>2*Math.random()-1);return Pe&&(Ze=Ze.map(Le=>G(Le))),Qe&&(Ze=Ze.map(Le=>oe(Le))),Ze=Ne(Ze,Se),Te(Ze,ze)}function Ne(Re,Se){var ze=Z(Re);for(var Pe of Se)Pe=Y(Pe,ze),Re=O(Re,F(L(fe(Pe,Re),fe(Pe,Pe)),Pe));return Re}function Me(Re){return q(U(fe(Re,Re)))}function Te(Re,Se){var ze=Se==="BigNumber",Pe=Se==="Complex",Qe=ze?G(1):Pe?oe(1):1;return F(L(Qe,Me(Re)),Re)}return me}function createRealSymmetric(_){var{config:R,addScalar:O,subtract:I,abs:F,atan:z,cos:L,sin:U,multiplyScalar:q,inv:G,bignumber:V,multiply:Z,add:Y}=_;function W(pe,ge){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R.relTol,ye=arguments.length>3?arguments[3]:void 0,we=arguments.length>4?arguments[4]:void 0;if(ye==="number")return ee(pe,_e,we);if(ye==="BigNumber")return ne(pe,_e,we);throw TypeError("Unsupported data type: "+ye)}function ee(pe,ge,_e){var ye=pe.length,we=Math.abs(ge/ye),ve,$e;if(_e){$e=new Array(ye);for(var be=0;be<ye;be++)$e[be]=Array(ye).fill(0),$e[be][be]=1}for(var Ce=fe(pe);Math.abs(Ce[1])>=Math.abs(we);){var De=Ce[0][0],Ne=Ce[0][1];ve=ie(pe[De][De],pe[Ne][Ne],pe[De][Ne]),pe=ce(pe,ve,De,Ne),_e&&($e=oe($e,ve,De,Ne)),Ce=fe(pe)}for(var Me=Array(ye).fill(0),Te=0;Te<ye;Te++)Me[Te]=pe[Te][Te];return he(clone$3(Me),$e,_e)}function ne(pe,ge,_e){var ye=pe.length,we=F(ge/ye),ve,$e;if(_e){$e=new Array(ye);for(var be=0;be<ye;be++)$e[be]=Array(ye).fill(0),$e[be][be]=1}for(var Ce=me(pe);F(Ce[1])>=F(we);){var De=Ce[0][0],Ne=Ce[0][1];ve=se(pe[De][De],pe[Ne][Ne],pe[De][Ne]),pe=ue(pe,ve,De,Ne),_e&&($e=le($e,ve,De,Ne)),Ce=me(pe)}for(var Me=Array(ye).fill(0),Te=0;Te<ye;Te++)Me[Te]=pe[Te][Te];return he(clone$3(Me),$e,_e)}function ie(pe,ge,_e){var ye=ge-pe;return Math.abs(ye)<=R.relTol?Math.PI/4:.5*Math.atan(2*_e/(ge-pe))}function se(pe,ge,_e){var ye=I(ge,pe);return F(ye)<=R.relTol?V(-1).acos().div(4):q(.5,z(Z(2,_e,G(ye))))}function oe(pe,ge,_e,ye){for(var we=pe.length,ve=Math.cos(ge),$e=Math.sin(ge),be=Array(we).fill(0),Ce=Array(we).fill(0),De=0;De<we;De++)be[De]=ve*pe[De][_e]-$e*pe[De][ye],Ce[De]=$e*pe[De][_e]+ve*pe[De][ye];for(var Ne=0;Ne<we;Ne++)pe[Ne][_e]=be[Ne],pe[Ne][ye]=Ce[Ne];return pe}function le(pe,ge,_e,ye){for(var we=pe.length,ve=L(ge),$e=U(ge),be=Array(we).fill(V(0)),Ce=Array(we).fill(V(0)),De=0;De<we;De++)be[De]=I(q(ve,pe[De][_e]),q($e,pe[De][ye])),Ce[De]=O(q($e,pe[De][_e]),q(ve,pe[De][ye]));for(var Ne=0;Ne<we;Ne++)pe[Ne][_e]=be[Ne],pe[Ne][ye]=Ce[Ne];return pe}function ue(pe,ge,_e,ye){for(var we=pe.length,ve=V(L(ge)),$e=V(U(ge)),be=q(ve,ve),Ce=q($e,$e),De=Array(we).fill(V(0)),Ne=Array(we).fill(V(0)),Me=Z(V(2),ve,$e,pe[_e][ye]),Te=O(I(q(be,pe[_e][_e]),Me),q(Ce,pe[ye][ye])),Re=Y(q(Ce,pe[_e][_e]),Me,q(be,pe[ye][ye])),Se=0;Se<we;Se++)De[Se]=I(q(ve,pe[_e][Se]),q($e,pe[ye][Se])),Ne[Se]=O(q($e,pe[_e][Se]),q(ve,pe[ye][Se]));pe[_e][_e]=Te,pe[ye][ye]=Re,pe[_e][ye]=V(0),pe[ye][_e]=V(0);for(var ze=0;ze<we;ze++)ze!==_e&&ze!==ye&&(pe[_e][ze]=De[ze],pe[ze][_e]=De[ze],pe[ye][ze]=Ne[ze],pe[ze][ye]=Ne[ze]);return pe}function ce(pe,ge,_e,ye){for(var we=pe.length,ve=Math.cos(ge),$e=Math.sin(ge),be=ve*ve,Ce=$e*$e,De=Array(we).fill(0),Ne=Array(we).fill(0),Me=be*pe[_e][_e]-2*ve*$e*pe[_e][ye]+Ce*pe[ye][ye],Te=Ce*pe[_e][_e]+2*ve*$e*pe[_e][ye]+be*pe[ye][ye],Re=0;Re<we;Re++)De[Re]=ve*pe[_e][Re]-$e*pe[ye][Re],Ne[Re]=$e*pe[_e][Re]+ve*pe[ye][Re];pe[_e][_e]=Me,pe[ye][ye]=Te,pe[_e][ye]=0,pe[ye][_e]=0;for(var Se=0;Se<we;Se++)Se!==_e&&Se!==ye&&(pe[_e][Se]=De[Se],pe[Se][_e]=De[Se],pe[ye][Se]=Ne[Se],pe[Se][ye]=Ne[Se]);return pe}function fe(pe){for(var ge=pe.length,_e=0,ye=[0,1],we=0;we<ge;we++)for(var ve=we+1;ve<ge;ve++)Math.abs(_e)<Math.abs(pe[we][ve])&&(_e=Math.abs(pe[we][ve]),ye=[we,ve]);return[ye,_e]}function me(pe){for(var ge=pe.length,_e=0,ye=[0,1],we=0;we<ge;we++)for(var ve=we+1;ve<ge;ve++)F(_e)<F(pe[we][ve])&&(_e=F(pe[we][ve]),ye=[we,ve]);return[ye,_e]}function he(pe,ge,_e){var ye=pe.length,we=Array(ye),ve;if(_e){ve=Array(ye);for(var $e=0;$e<ye;$e++)ve[$e]=Array(ye)}for(var be=0;be<ye;be++){for(var Ce=0,De=pe[0],Ne=0;Ne<pe.length;Ne++)F(pe[Ne])<F(De)&&(Ce=Ne,De=pe[Ce]);if(we[be]=pe.splice(Ce,1)[0],_e)for(var Me=0;Me<ye;Me++)ve[be][Me]=ge[Me][Ce],ge[Me].splice(Ce,1)}if(!_e)return{values:we};var Te=ve.map((Re,Se)=>({value:we[Se],vector:Re}));return{values:we,eigenvectors:Te}}return W}var name$18="eigs",dependencies$18=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],createEigs=factory(name$18,dependencies$18,_=>{var{config:R,typed:O,matrix:I,addScalar:F,subtract:z,equal:L,abs:U,atan:q,cos:G,sin:V,multiplyScalar:Z,divideScalar:Y,inv:W,bignumber:ee,multiply:ne,add:ie,larger:se,column:oe,flatten:le,number:ue,complex:ce,sqrt:fe,diag:me,size:he,reshape:pe,qr:ge,usolve:_e,usolveAll:ye,im:we,re:ve,smaller:$e,matrixFromColumns:be,dot:Ce}=_,De=createRealSymmetric({config:R,addScalar:F,subtract:z,abs:U,atan:q,cos:G,sin:V,multiplyScalar:Z,inv:W,bignumber:ee,multiply:ne,add:ie}),Ne=createComplexEigs({addScalar:F,subtract:z,multiply:ne,multiplyScalar:Z,flatten:le,divideScalar:Y,sqrt:fe,abs:U,bignumber:ee,diag:me,size:he,reshape:pe,qr:ge,inv:W,usolve:_e,usolveAll:ye,equal:L,complex:ce,larger:se,smaller:$e,matrixFromColumns:be,dot:Ce});return O("eigs",{Array:function(Ze){return Me(I(Ze))},"Array, number|BigNumber":function(Ze,Le){return Me(I(Ze),{precision:Le})},"Array, Object"(Qe,Ze){return Me(I(Qe),Ze)},Matrix:function(Ze){return Me(Ze,{matricize:!0})},"Matrix, number|BigNumber":function(Ze,Le){return Me(Ze,{precision:Le,matricize:!0})},"Matrix, Object":function(Ze,Le){var ke={matricize:!0};return _extends(ke,Le),Me(Ze,ke)}});function Me(Qe){var Ze,Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke="eigenvectors"in Le?Le.eigenvectors:!0,Ge=(Ze=Le.precision)!==null&&Ze!==void 0?Ze:R.relTol,Ke=Te(Qe,Ge,ke);return Le.matricize&&(Ke.values=I(Ke.values),ke&&(Ke.eigenvectors=Ke.eigenvectors.map(He=>{var{value:st,vector:Ae}=He;return{value:st,vector:I(Ae)}}))),ke&&Object.defineProperty(Ke,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),Ke}function Te(Qe,Ze,Le){var ke=Qe.toArray(),Ge=Qe.size();if(Ge.length!==2||Ge[0]!==Ge[1])throw new RangeError("Matrix must be square (size: ".concat(format$3(Ge),")"));var Ke=Ge[0];if(Se(ke,Ke,Ze)&&(ze(ke,Ke),Re(ke,Ke,Ze))){var He=Pe(Qe,ke,Ke);return De(ke,Ke,Ze,He,Le)}var st=Pe(Qe,ke,Ke);return Ne(ke,Ke,Ze,st,Le)}function Re(Qe,Ze,Le){for(var ke=0;ke<Ze;ke++)for(var Ge=ke;Ge<Ze;Ge++)if(se(ee(U(z(Qe[ke][Ge],Qe[Ge][ke]))),Le))return!1;return!0}function Se(Qe,Ze,Le){for(var ke=0;ke<Ze;ke++)for(var Ge=0;Ge<Ze;Ge++)if(se(ee(U(we(Qe[ke][Ge]))),Le))return!1;return!0}function ze(Qe,Ze){for(var Le=0;Le<Ze;Le++)for(var ke=0;ke<Ze;ke++)Qe[Le][ke]=ve(Qe[Le][ke])}function Pe(Qe,Ze,Le){var ke=Qe.datatype();if(ke==="number"||ke==="BigNumber"||ke==="Complex")return ke;for(var Ge=!1,Ke=!1,He=!1,st=0;st<Le;st++)for(var Ae=0;Ae<Le;Ae++){var tt=Ze[st][Ae];if(isNumber$1(tt)||isFraction(tt))Ge=!0;else if(isBigNumber(tt))Ke=!0;else if(isComplex(tt))He=!0;else throw TypeError("Unsupported type in Matrix: "+typeOf$1(tt))}if(Ke&&He&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),He){for(var rt=0;rt<Le;rt++)for(var We=0;We<Le;We++)Ze[rt][We]=ce(Ze[rt][We]);return"Complex"}if(Ke){for(var qe=0;qe<Le;qe++)for(var nt=0;nt<Le;nt++)Ze[qe][nt]=ee(Ze[qe][nt]);return"BigNumber"}if(Ge){for(var ft=0;ft<Le;ft++)for(var je=0;je<Le;je++)Ze[ft][je]=ue(Ze[ft][je]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),name$17="expm",dependencies$17=["typed","abs","add","identity","inv","multiply"],createExpm=factory(name$17,dependencies$17,_=>{var{typed:R,abs:O,add:I,identity:F,inv:z,multiply:L}=_;return R(name$17,{Matrix:function(Z){var Y=Z.size();if(Y.length!==2||Y[0]!==Y[1])throw new RangeError("Matrix must be square (size: "+format$3(Y)+")");for(var W=Y[0],ee=1e-15,ne=U(Z),ie=q(ne,ee),se=ie.q,oe=ie.j,le=L(Z,Math.pow(2,-oe)),ue=F(W),ce=F(W),fe=1,me=le,he=-1,pe=1;pe<=se;pe++)pe>1&&(me=L(me,le),he=-he),fe=fe*(se-pe+1)/((2*se-pe+1)*pe),ue=I(ue,L(fe,me)),ce=I(ce,L(fe*he,me));for(var ge=L(z(ce),ue),_e=0;_e<oe;_e++)ge=L(ge,ge);return isSparseMatrix(Z)?Z.createSparseMatrix(ge):ge}});function U(V){for(var Z=V.size()[0],Y=0,W=0;W<Z;W++){for(var ee=0,ne=0;ne<Z;ne++)ee+=O(V.get([W,ne]));Y=Math.max(ee,Y)}return Y}function q(V,Z){for(var Y=30,W=0;W<Y;W++)for(var ee=0;ee<=W;ee++){var ne=W-ee;if(G(V,ee,ne)<Z)return{q:ee,j:ne}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function G(V,Z,Y){for(var W=1,ee=2;ee<=Z;ee++)W*=ee;for(var ne=W,ie=Z+1;ie<=2*Z;ie++)ne*=ie;var se=ne*(2*Z+1);return 8*Math.pow(V/Math.pow(2,Y),2*Z)*W*W/(ne*se)}}),name$16="sqrtm",dependencies$16=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],createSqrtm=factory(name$16,dependencies$16,_=>{var{typed:R,abs:O,add:I,multiply:F,map:z,sqrt:L,subtract:U,inv:q,size:G,max:V,identity:Z}=_,Y=1e3,W=1e-6;function ee(ne){var ie,se=0,oe=ne,le=Z(G(ne));do{var ue=oe;if(oe=F(.5,I(ue,q(le))),le=F(.5,I(le,q(ue))),ie=V(O(U(oe,ue))),ie>W&&++se>Y)throw new Error("computing square root of matrix: iterative method could not converge")}while(ie>W);return oe}return R(name$16,{"Array | Matrix":function(ie){var se=isMatrix(ie)?ie.size():arraySize(ie);switch(se.length){case 1:if(se[0]===1)return z(ie,L);throw new RangeError("Matrix must be square (size: "+format$3(se)+")");case 2:{var oe=se[0],le=se[1];if(oe===le)return ee(ie);throw new RangeError("Matrix must be square (size: "+format$3(se)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+format$3(se)+")")}}})}),name$15="sylvester",dependencies$15=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],createSylvester=factory(name$15,dependencies$15,_=>{var{typed:R,schur:O,matrixFromColumns:I,matrix:F,multiply:z,range:L,concat:U,transpose:q,index:G,subset:V,add:Z,subtract:Y,identity:W,lusolve:ee,abs:ne,config:ie}=_;return R(name$15,{"Matrix, Matrix, Matrix":se,"Array, Matrix, Matrix":function(le,ue,ce){return se(F(le),ue,ce)},"Array, Array, Matrix":function(le,ue,ce){return se(F(le),F(ue),ce)},"Array, Matrix, Array":function(le,ue,ce){return se(F(le),ue,F(ce))},"Matrix, Array, Matrix":function(le,ue,ce){return se(le,F(ue),ce)},"Matrix, Array, Array":function(le,ue,ce){return se(le,F(ue),F(ce))},"Matrix, Matrix, Array":function(le,ue,ce){return se(le,ue,F(ce))},"Array, Array, Array":function(le,ue,ce){return se(F(le),F(ue),F(ce)).toArray()}});function se(oe,le,ue){for(var ce=le.size()[0],fe=oe.size()[0],me=O(oe),he=me.T,pe=me.U,ge=O(z(-1,le)),_e=ge.T,ye=ge.U,we=z(z(q(pe),ue),ye),ve=L(0,fe),$e=[],be=(st,Ae)=>U(st,Ae,1),Ce=(st,Ae)=>U(st,Ae,0),De=0;De<ce;De++)if(De<ce-1&&ne(V(_e,G(De+1,De)))>1e-5){for(var Ne=Ce(V(we,G(ve,[De])),V(we,G(ve,[De+1]))),Me=0;Me<De;Me++)Ne=Z(Ne,Ce(z($e[Me],V(_e,G(Me,De))),z($e[Me],V(_e,G(Me,De+1)))));var Te=z(W(fe),z(-1,V(_e,G(De,De)))),Re=z(W(fe),z(-1,V(_e,G(De+1,De)))),Se=z(W(fe),z(-1,V(_e,G(De,De+1)))),ze=z(W(fe),z(-1,V(_e,G(De+1,De+1)))),Pe=Ce(be(Z(he,Te),Re),be(Se,Z(he,ze))),Qe=ee(Pe,Ne);$e[De]=Qe.subset(G(L(0,fe),[0])),$e[De+1]=Qe.subset(G(L(fe,2*fe),[0])),De++}else{for(var Ze=V(we,G(ve,[De])),Le=0;Le<De;Le++)Ze=Z(Ze,z($e[Le],V(_e,G(Le,De))));var ke=V(_e,G(De,De)),Ge=Y(he,z(ke,W(fe)));$e[De]=ee(Ge,Ze)}var Ke=F(I(...$e)),He=z(pe,z(Ke,q(ye)));return He}}),name$14="schur",dependencies$14=["typed","matrix","identity","multiply","qr","norm","subtract"],createSchur=factory(name$14,dependencies$14,_=>{var{typed:R,matrix:O,identity:I,multiply:F,qr:z,norm:L,subtract:U}=_;return R(name$14,{Array:function(V){var Z=q(O(V));return{U:Z.U.valueOf(),T:Z.T.valueOf()}},Matrix:function(V){return q(V)}});function q(G){var V=G.size()[0],Z=G,Y=I(V),W=0,ee;do{ee=Z;var ne=z(Z),ie=ne.Q,se=ne.R;if(Z=F(se,ie),Y=F(Y,ie),W++>100)break}while(L(U(Z,ee))>1e-4);return{U:Y,T:Z}}}),name$13="lyap",dependencies$13=["typed","matrix","sylvester","multiply","transpose"],createLyap=factory(name$13,dependencies$13,_=>{var{typed:R,matrix:O,sylvester:I,multiply:F,transpose:z}=_;return R(name$13,{"Matrix, Matrix":function(U,q){return I(U,z(U),F(-1,q))},"Array, Matrix":function(U,q){return I(O(U),z(O(U)),F(-1,q))},"Matrix, Array":function(U,q){return I(U,z(O(U)),O(F(-1,q)))},"Array, Array":function(U,q){return I(O(U),z(O(U)),O(F(-1,q))).toArray()}})}),name$12="divide",dependencies$12=["typed","matrix","multiply","equalScalar","divideScalar","inv"],createDivide=factory(name$12,dependencies$12,_=>{var{typed:R,matrix:O,multiply:I,equalScalar:F,divideScalar:z,inv:L}=_,U=createMatAlgo11xS0s({typed:R,equalScalar:F}),q=createMatAlgo14xDs({typed:R});return R("divide",extend$1({"Array | Matrix, Array | Matrix":function(V,Z){return I(V,L(Z))},"DenseMatrix, any":function(V,Z){return q(V,Z,z,!1)},"SparseMatrix, any":function(V,Z){return U(V,Z,z,!1)},"Array, any":function(V,Z){return q(O(V),Z,z,!1).valueOf()},"any, Array | Matrix":function(V,Z){return I(V,L(Z))}},z.signatures))}),name$11="distance",dependencies$11=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],createDistance=factory(name$11,dependencies$11,_=>{var{typed:R,addScalar:O,subtractScalar:I,multiplyScalar:F,divideScalar:z,deepEqual:L,sqrt:U,abs:q}=_;return R(name$11,{"Array, Array, Array":function(ce,fe,me){if(ce.length===2&&fe.length===2&&me.length===2){if(!V(ce))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!V(fe))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!V(me))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(L(fe,me))throw new TypeError("LinePoint1 should not be same with LinePoint2");var he=I(me[1],fe[1]),pe=I(fe[0],me[0]),ge=I(F(me[0],fe[1]),F(fe[0],me[1]));return ie(ce[0],ce[1],he,pe,ge)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(ce,fe,me){if(Object.keys(ce).length===2&&Object.keys(fe).length===2&&Object.keys(me).length===2){if(!V(ce))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!V(fe))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!V(me))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(L(ee(fe),ee(me)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in ce&&"pointY"in ce&&"lineOnePtX"in fe&&"lineOnePtY"in fe&&"lineTwoPtX"in me&&"lineTwoPtY"in me){var he=I(me.lineTwoPtY,fe.lineOnePtY),pe=I(fe.lineOnePtX,me.lineTwoPtX),ge=I(F(me.lineTwoPtX,fe.lineOnePtY),F(fe.lineOnePtX,me.lineTwoPtY));return ie(ce.pointX,ce.pointY,he,pe,ge)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(ce,fe){if(ce.length===2&&fe.length===3){if(!V(ce))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!Z(fe))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return ie(ce[0],ce[1],fe[0],fe[1],fe[2])}else if(ce.length===3&&fe.length===6){if(!Z(ce))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!W(fe))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return se(ce[0],ce[1],ce[2],fe[0],fe[1],fe[2],fe[3],fe[4],fe[5])}else if(ce.length===fe.length&&ce.length>0){if(!Y(ce))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!Y(fe))throw new TypeError("All values of an array should be numbers or BigNumbers");return oe(ce,fe)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(ce,fe){if(Object.keys(ce).length===2&&Object.keys(fe).length===3){if(!V(ce))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!Z(fe))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in ce&&"pointY"in ce&&"xCoeffLine"in fe&&"yCoeffLine"in fe&&"constant"in fe)return ie(ce.pointX,ce.pointY,fe.xCoeffLine,fe.yCoeffLine,fe.constant);throw new TypeError("Key names do not match")}else if(Object.keys(ce).length===3&&Object.keys(fe).length===6){if(!Z(ce))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!W(fe))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in ce&&"pointY"in ce&&"x0"in fe&&"y0"in fe&&"z0"in fe&&"a"in fe&&"b"in fe&&"c"in fe)return se(ce.pointX,ce.pointY,ce.pointZ,fe.x0,fe.y0,fe.z0,fe.a,fe.b,fe.c);throw new TypeError("Key names do not match")}else if(Object.keys(ce).length===2&&Object.keys(fe).length===2){if(!V(ce))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!V(fe))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in ce&&"pointOneY"in ce&&"pointTwoX"in fe&&"pointTwoY"in fe)return oe([ce.pointOneX,ce.pointOneY],[fe.pointTwoX,fe.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(ce).length===3&&Object.keys(fe).length===3){if(!Z(ce))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!Z(fe))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in ce&&"pointOneY"in ce&&"pointOneZ"in ce&&"pointTwoX"in fe&&"pointTwoY"in fe&&"pointTwoZ"in fe)return oe([ce.pointOneX,ce.pointOneY,ce.pointOneZ],[fe.pointTwoX,fe.pointTwoY,fe.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(ce){if(!ne(ce))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return le(ce)}});function G(ue){return typeof ue=="number"||isBigNumber(ue)}function V(ue){return ue.constructor!==Array&&(ue=ee(ue)),G(ue[0])&&G(ue[1])}function Z(ue){return ue.constructor!==Array&&(ue=ee(ue)),G(ue[0])&&G(ue[1])&&G(ue[2])}function Y(ue){return Array.isArray(ue)||(ue=ee(ue)),ue.every(G)}function W(ue){return ue.constructor!==Array&&(ue=ee(ue)),G(ue[0])&&G(ue[1])&&G(ue[2])&&G(ue[3])&&G(ue[4])&&G(ue[5])}function ee(ue){for(var ce=Object.keys(ue),fe=[],me=0;me<ce.length;me++)fe.push(ue[ce[me]]);return fe}function ne(ue){if(ue[0].length===2&&G(ue[0][0])&&G(ue[0][1])){if(ue.some(ce=>ce.length!==2||!G(ce[0])||!G(ce[1])))return!1}else if(ue[0].length===3&&G(ue[0][0])&&G(ue[0][1])&&G(ue[0][2])){if(ue.some(ce=>ce.length!==3||!G(ce[0])||!G(ce[1])||!G(ce[2])))return!1}else return!1;return!0}function ie(ue,ce,fe,me,he){var pe=q(O(O(F(fe,ue),F(me,ce)),he)),ge=U(O(F(fe,fe),F(me,me)));return z(pe,ge)}function se(ue,ce,fe,me,he,pe,ge,_e,ye){var we=[I(F(I(he,ce),ye),F(I(pe,fe),_e)),I(F(I(pe,fe),ge),F(I(me,ue),ye)),I(F(I(me,ue),_e),F(I(he,ce),ge))];we=U(O(O(F(we[0],we[0]),F(we[1],we[1])),F(we[2],we[2])));var ve=U(O(O(F(ge,ge),F(_e,_e)),F(ye,ye)));return z(we,ve)}function oe(ue,ce){for(var fe=ue.length,me=0,he=0,pe=0;pe<fe;pe++)he=I(ue[pe],ce[pe]),me=O(F(he,he),me);return U(me)}function le(ue){for(var ce=[],fe=[],me=[],he=0;he<ue.length-1;he++)for(var pe=he+1;pe<ue.length;pe++)ue[0].length===2?(fe=[ue[he][0],ue[he][1]],me=[ue[pe][0],ue[pe][1]]):ue[0].length===3&&(fe=[ue[he][0],ue[he][1],ue[he][2]],me=[ue[pe][0],ue[pe][1],ue[pe][2]]),ce.push(oe(fe,me));return ce}}),name$10="intersect",dependencies$10=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],createIntersect=factory(name$10,dependencies$10,_=>{var{typed:R,config:O,abs:I,add:F,addScalar:z,matrix:L,multiply:U,multiplyScalar:q,divideScalar:G,subtract:V,smaller:Z,equalScalar:Y,flatten:W,isZero:ee,isNumeric:ne}=_;return R("intersect",{"Array, Array, Array":ie,"Array, Array, Array, Array":se,"Matrix, Matrix, Matrix":function(_e,ye,we){var ve=ie(_e.valueOf(),ye.valueOf(),we.valueOf());return ve===null?null:L(ve)},"Matrix, Matrix, Matrix, Matrix":function(_e,ye,we,ve){var $e=se(_e.valueOf(),ye.valueOf(),we.valueOf(),ve.valueOf());return $e===null?null:L($e)}});function ie(ge,_e,ye){if(ge=oe(ge),_e=oe(_e),ye=oe(ye),!ue(ge))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!ue(_e))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!ce(ye))throw new TypeError("Array with 4 numbers expected as third argument");return pe(ge[0],ge[1],ge[2],_e[0],_e[1],_e[2],ye[0],ye[1],ye[2],ye[3])}function se(ge,_e,ye,we){if(ge=oe(ge),_e=oe(_e),ye=oe(ye),we=oe(we),ge.length===2){if(!le(ge))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!le(_e))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!le(ye))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!le(we))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return fe(ge,_e,ye,we)}else if(ge.length===3){if(!ue(ge))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!ue(_e))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!ue(ye))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!ue(we))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return he(ge[0],ge[1],ge[2],_e[0],_e[1],_e[2],ye[0],ye[1],ye[2],we[0],we[1],we[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function oe(ge){return ge.length===1?ge[0]:ge.length>1&&Array.isArray(ge[0])&&ge.every(_e=>Array.isArray(_e)&&_e.length===1)?W(ge):ge}function le(ge){return ge.length===2&&ne(ge[0])&&ne(ge[1])}function ue(ge){return ge.length===3&&ne(ge[0])&&ne(ge[1])&&ne(ge[2])}function ce(ge){return ge.length===4&&ne(ge[0])&&ne(ge[1])&&ne(ge[2])&&ne(ge[3])}function fe(ge,_e,ye,we){var ve=ge,$e=ye,be=V(ve,_e),Ce=V($e,we),De=V(q(be[0],Ce[1]),q(Ce[0],be[1]));if(ee(De)||Z(I(De),O.relTol))return null;var Ne=q(Ce[0],ve[1]),Me=q(Ce[1],ve[0]),Te=q(Ce[0],$e[1]),Re=q(Ce[1],$e[0]),Se=G(z(V(V(Ne,Me),Te),Re),De);return F(U(be,Se),ve)}function me(ge,_e,ye,we,ve,$e,be,Ce,De,Ne,Me,Te){var Re=q(V(ge,_e),V(ye,we)),Se=q(V(ve,$e),V(be,Ce)),ze=q(V(De,Ne),V(Me,Te));return z(z(Re,Se),ze)}function he(ge,_e,ye,we,ve,$e,be,Ce,De,Ne,Me,Te){var Re=me(ge,be,Ne,be,_e,Ce,Me,Ce,ye,De,Te,De),Se=me(Ne,be,we,ge,Me,Ce,ve,_e,Te,De,$e,ye),ze=me(ge,be,we,ge,_e,Ce,ve,_e,ye,De,$e,ye),Pe=me(Ne,be,Ne,be,Me,Ce,Me,Ce,Te,De,Te,De),Qe=me(we,ge,we,ge,ve,_e,ve,_e,$e,ye,$e,ye),Ze=V(q(Re,Se),q(ze,Pe)),Le=V(q(Qe,Pe),q(Se,Se));if(ee(Le))return null;var ke=G(Ze,Le),Ge=G(z(Re,q(ke,Se)),Pe),Ke=z(ge,q(ke,V(we,ge))),He=z(_e,q(ke,V(ve,_e))),st=z(ye,q(ke,V($e,ye))),Ae=z(be,q(Ge,V(Ne,be))),tt=z(Ce,q(Ge,V(Me,Ce))),rt=z(De,q(Ge,V(Te,De)));return Y(Ke,Ae)&&Y(He,tt)&&Y(st,rt)?[Ke,He,st]:null}function pe(ge,_e,ye,we,ve,$e,be,Ce,De,Ne){var Me=q(ge,be),Te=q(we,be),Re=q(_e,Ce),Se=q(ve,Ce),ze=q(ye,De),Pe=q($e,De),Qe=V(V(V(Ne,Me),Re),ze),Ze=V(V(V(z(z(Te,Se),Pe),Me),Re),ze),Le=G(Qe,Ze),ke=z(ge,q(Le,V(we,ge))),Ge=z(_e,q(Le,V(ve,_e))),Ke=z(ye,q(Le,V($e,ye)));return[ke,Ge,Ke]}}),name$$="sum",dependencies$$=["typed","config","add","numeric"],createSum=factory(name$$,dependencies$$,_=>{var{typed:R,config:O,add:I,numeric:F}=_;return R(name$$,{"Array | Matrix":z,"Array | Matrix, number | BigNumber":L,"...":function(q){if(containsCollections(q))throw new TypeError("Scalar values expected in function sum");return z(q)}});function z(U){var q;return deepForEach(U,function(G){try{q=q===void 0?G:I(q,G)}catch(V){throw improveErrorMessage(V,"sum",G)}}),q===void 0&&(q=F(0,O.number)),typeof q=="string"&&(q=F(q,safeNumberType(q,O))),q}function L(U,q){try{var G=reduce(U,q,I);return G}catch(V){throw improveErrorMessage(V,"sum")}}}),name$_="cumsum",dependencies$_=["typed","add","unaryPlus"],createCumSum=factory(name$_,dependencies$_,_=>{var{typed:R,add:O,unaryPlus:I}=_;return R(name$_,{Array:F,Matrix:function(G){return G.create(F(G.valueOf(),G.datatype()))},"Array, number | BigNumber":L,"Matrix, number | BigNumber":function(G,V){return G.create(L(G.valueOf(),V),G.datatype())},"...":function(G){if(containsCollections(G))throw new TypeError("All values expected to be scalar in function cumsum");return F(G)}});function F(q){try{return z(q)}catch(G){throw improveErrorMessage(G,name$_)}}function z(q){if(q.length===0)return[];for(var G=[I(q[0])],V=1;V<q.length;++V)G.push(O(G[V-1],q[V]));return G}function L(q,G){var V=arraySize(q);if(G<0||G>=V.length)throw new IndexError(G,V.length);try{return U(q,G)}catch(Z){throw improveErrorMessage(Z,name$_)}}function U(q,G){var V,Z,Y;if(G<=0){var W=q[0][0];if(Array.isArray(W)){for(Y=_switch$1(q),Z=[],V=0;V<Y.length;V++)Z[V]=U(Y[V],G-1);return Z}else return z(q)}else{for(Z=[],V=0;V<q.length;V++)Z[V]=U(q[V],G-1);return Z}}}),name$Z="mean",dependencies$Z=["typed","add","divide"],createMean=factory(name$Z,dependencies$Z,_=>{var{typed:R,add:O,divide:I}=_;return R(name$Z,{"Array | Matrix":z,"Array | Matrix, number | BigNumber":F,"...":function(U){if(containsCollections(U))throw new TypeError("Scalar values expected in function mean");return z(U)}});function F(L,U){try{var q=reduce(L,U,O),G=Array.isArray(L)?arraySize(L):L.size();return I(q,G[U])}catch(V){throw improveErrorMessage(V,"mean")}}function z(L){var U,q=0;if(deepForEach(L,function(G){try{U=U===void 0?G:O(U,G),q++}catch(V){throw improveErrorMessage(V,"mean",G)}}),q===0)throw new Error("Cannot calculate the mean of an empty array");return I(U,q)}}),name$Y="median",dependencies$Y=["typed","add","divide","compare","partitionSelect"],createMedian=factory(name$Y,dependencies$Y,_=>{var{typed:R,add:O,divide:I,compare:F,partitionSelect:z}=_;function L(G){try{G=flatten$2(G.valueOf());var V=G.length;if(V===0)throw new Error("Cannot calculate median of an empty array");if(V%2===0){for(var Z=V/2-1,Y=z(G,Z+1),W=G[Z],ee=0;ee<Z;++ee)F(G[ee],W)>0&&(W=G[ee]);return q(W,Y)}else{var ne=z(G,(V-1)/2);return U(ne)}}catch(ie){throw improveErrorMessage(ie,"median")}}var U=R({"number | BigNumber | Complex | Unit":function(V){return V}}),q=R({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(V,Z){return I(O(V,Z),2)}});return R(name$Y,{"Array | Matrix":L,"Array | Matrix, number | BigNumber":function(V,Z){throw new Error("median(A, dim) is not yet supported")},"...":function(V){if(containsCollections(V))throw new TypeError("Scalar values expected in function median");return L(V)}})}),name$X="mad",dependencies$X=["typed","abs","map","median","subtract"],createMad=factory(name$X,dependencies$X,_=>{var{typed:R,abs:O,map:I,median:F,subtract:z}=_;return R(name$X,{"Array | Matrix":L,"...":function(q){return L(q)}});function L(U){if(U=flatten$2(U.valueOf()),U.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var q=F(U);return F(I(U,function(G){return O(z(G,q))}))}catch(G){throw G instanceof TypeError&&G.message.includes("median")?new TypeError(G.message.replace("median","mad")):improveErrorMessage(G,"mad")}}}),DEFAULT_NORMALIZATION="unbiased",name$W="variance",dependencies$W=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],createVariance=factory(name$W,dependencies$W,_=>{var{typed:R,add:O,subtract:I,multiply:F,divide:z,mapSlices:L,isNaN:U}=_;return R(name$W,{"Array | Matrix":function(Z){return q(Z,DEFAULT_NORMALIZATION)},"Array | Matrix, string":q,"Array | Matrix, number | BigNumber":function(Z,Y){return G(Z,Y,DEFAULT_NORMALIZATION)},"Array | Matrix, number | BigNumber, string":G,"...":function(Z){return q(Z,DEFAULT_NORMALIZATION)}});function q(V,Z){var Y,W=0;if(V.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(deepForEach(V,function(ie){try{Y=Y===void 0?ie:O(Y,ie),W++}catch(se){throw improveErrorMessage(se,"variance",ie)}}),W===0)throw new Error("Cannot calculate variance of an empty array");var ee=z(Y,W);if(Y=void 0,deepForEach(V,function(ie){var se=I(ie,ee);Y=Y===void 0?F(se,se):O(Y,F(se,se))}),U(Y))return Y;switch(Z){case"uncorrected":return z(Y,W);case"biased":return z(Y,W+1);case"unbiased":{var ne=isBigNumber(Y)?Y.mul(0):0;return W===1?ne:z(Y,W-1)}default:throw new Error('Unknown normalization "'+Z+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function G(V,Z,Y){try{if(V.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return L(V,Z,W=>q(W,Y))}catch(W){throw improveErrorMessage(W,"variance")}}}),name$V="quantileSeq",dependencies$V=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],createQuantileSeq=factory(name$V,dependencies$V,_=>{var{typed:R,bignumber:O,add:I,subtract:F,divide:z,multiply:L,partitionSelect:U,compare:q,isInteger:G,smaller:V,smallerEq:Z,larger:Y,mapSlices:W}=_;return R(name$V,{"Array | Matrix, number | BigNumber":(oe,le)=>ne(oe,le,!1),"Array | Matrix, number | BigNumber, number":(oe,le,ue)=>ee(oe,le,!1,ue,ne),"Array | Matrix, number | BigNumber, boolean":ne,"Array | Matrix, number | BigNumber, boolean, number":(oe,le,ue,ce)=>ee(oe,le,ue,ce,ne),"Array | Matrix, Array | Matrix":(oe,le)=>ie(oe,le,!1),"Array | Matrix, Array | Matrix, number":(oe,le,ue)=>ee(oe,le,!1,ue,ie),"Array | Matrix, Array | Matrix, boolean":ie,"Array | Matrix, Array | Matrix, boolean, number":(oe,le,ue,ce)=>ee(oe,le,ue,ce,ie)});function ee(oe,le,ue,ce,fe){return W(oe,ce,me=>fe(me,le,ue))}function ne(oe,le,ue){var ce,fe=oe.valueOf();if(V(le,0))throw new Error("N/prob must be non-negative");if(Z(le,1))return isNumber$1(le)?se(fe,le,ue):O(se(fe,le,ue));if(Y(le,1)){if(!G(le))throw new Error("N must be a positive integer");if(Y(le,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var me=I(le,1);ce=[];for(var he=0;V(he,le);he++){var pe=z(he+1,me);ce.push(se(fe,pe,ue))}return isNumber$1(le)?ce:O(ce)}}function ie(oe,le,ue){for(var ce=oe.valueOf(),fe=le.valueOf(),me=[],he=0;he<fe.length;++he)me.push(se(ce,fe[he],ue));return me}function se(oe,le,ue){var ce=flatten$2(oe),fe=ce.length;if(fe===0)throw new Error("Cannot calculate quantile of an empty sequence");var me=isNumber$1(le)?le*(fe-1):le.times(fe-1),he=isNumber$1(le)?Math.floor(me):me.floor().toNumber(),pe=isNumber$1(le)?me%1:me.minus(he);if(G(me))return ue?ce[me]:U(ce,isNumber$1(le)?me:me.valueOf());var ge,_e;if(ue)ge=ce[he],_e=ce[he+1];else{_e=U(ce,he+1),ge=ce[he];for(var ye=0;ye<he;++ye)q(ce[ye],ge)>0&&(ge=ce[ye])}return I(L(ge,F(1,pe)),L(_e,pe))}}),name$U="std",dependencies$U=["typed","map","sqrt","variance"],createStd=factory(name$U,dependencies$U,_=>{var{typed:R,map:O,sqrt:I,variance:F}=_;return R(name$U,{"Array | Matrix":z,"Array | Matrix, string":z,"Array | Matrix, number | BigNumber":z,"Array | Matrix, number | BigNumber, string":z,"...":function(U){return z(U)}});function z(L,U){if(L.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var q=F.apply(null,arguments);return isCollection(q)?O(q,I):I(q)}catch(G){throw G instanceof TypeError&&G.message.includes(" variance")?new TypeError(G.message.replace(" variance"," std")):G}}}),name$T="corr",dependencies$T=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],createCorr=factory(name$T,dependencies$T,_=>{var{typed:R,matrix:O,sqrt:I,sum:F,add:z,subtract:L,multiply:U,pow:q,divide:G}=_;return R(name$T,{"Array, Array":function(W,ee){return V(W,ee)},"Matrix, Matrix":function(W,ee){var ne=V(W.toArray(),ee.toArray());return Array.isArray(ne)?O(ne):ne}});function V(Y,W){var ee=[];if(Array.isArray(Y[0])&&Array.isArray(W[0])){if(Y.length!==W.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var ne=0;ne<Y.length;ne++){if(Y[ne].length!==W[ne].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");ee.push(Z(Y[ne],W[ne]))}return ee}else{if(Y.length!==W.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return Z(Y,W)}}function Z(Y,W){var ee=Y.length,ne=F(Y),ie=F(W),se=Y.reduce((fe,me,he)=>z(fe,U(me,W[he])),0),oe=F(Y.map(fe=>q(fe,2))),le=F(W.map(fe=>q(fe,2))),ue=L(U(ee,se),U(ne,ie)),ce=I(U(L(U(ee,oe),q(ne,2)),L(U(ee,le),q(ie,2))));return G(ue,ce)}}),name$S="bernoulli",dependencies$S=["typed","config","isInteger","number","?BigNumber","?Fraction"],createBernoulli=factory(name$S,dependencies$S,_=>{var{typed:R,config:O,number:I,BigNumber:F,Fraction:z}=_,L=[void 0],U=[void 0],q=[void 0],G=50;return R(name$S,{number:V=>_bernoulli(V,Z=>Z,L,(Z,Y)=>Z+Y,(Z,Y)=>Z*Y,(Z,Y)=>Z/Y),"bigint | Fraction":V=>_bernoulli(I(V),Z=>new z(Z),U,(Z,Y)=>Z.add(Y),(Z,Y)=>Z.mul(Y),(Z,Y)=>Z.div(Y)),BigNumber:V=>(O.precision!==G&&(q=[void 0],G=O.precision),_bernoulli(I(V),Z=>new F(Z),q,(Z,Y)=>Z.add(Y),(Z,Y)=>Z.mul(Y),(Z,Y)=>Z.div(Y)))})});function _bernoulli(_,R,O,I,F,z){if(_<0||!isInteger$1(_))throw new RangeError("Bernoulli index must be nonnegative integer");if(_===0)return R(1);if(_===1)return z(R(-1),R(2));if(_%2===1)return R(0);var L=R(1);O.length===1&&O.push([z(L,R(-3)),z(L,R(-2)),z(L,R(6))]);for(var U=_/2,q=R(0),G=R(2);O.length<=U;){for(var V=O.length,Z=Math.floor((V+1)/2),Y=q,W=1;W<Z;++W)Y=I(Y,F(O[W][0],O[V-W][0]));Y=F(Y,G),V%2===0&&(Y=I(Y,F(O[Z][0],O[Z][0]))),Y=z(Y,R(-(2*V+1)));var ee=z(F(O[V-1][1],R(-V*(2*V-1))),G);O.push([Y,ee,F(ee,Y)])}return O[U][2]}var name$R="combinations",dependencies$R=["typed"],createCombinations=factory(name$R,dependencies$R,_=>{var{typed:R}=_;return R(name$R,{"number, number":combinationsNumber,"BigNumber, BigNumber":function(I,F){var z=I.constructor,L,U,q=I.minus(F),G=new z(1);if(!isPositiveInteger$2(I)||!isPositiveInteger$2(F))throw new TypeError("Positive integer value expected in function combinations");if(F.gt(I))throw new TypeError("k must be less than n in function combinations");if(L=G,F.lt(q))for(U=G;U.lte(q);U=U.plus(G))L=L.times(F.plus(U)).dividedBy(U);else for(U=G;U.lte(F);U=U.plus(G))L=L.times(q.plus(U)).dividedBy(U);return L}})});function isPositiveInteger$2(_){return _.isInteger()&&_.gte(0)}var name$Q="combinationsWithRep",dependencies$Q=["typed"],createCombinationsWithRep=factory(name$Q,dependencies$Q,_=>{var{typed:R}=_;return R(name$Q,{"number, number":function(I,F){if(!isInteger$1(I)||I<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!isInteger$1(F)||F<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(I<1)throw new TypeError("k must be less than or equal to n + k - 1");if(F<I-1){var z=product(I,I+F-1);return z/product(1,F)}var L=product(F+1,I+F-1);return L/product(1,I-1)},"BigNumber, BigNumber":function(I,F){var z=I.constructor,L,U,q=new z(1),G=I.minus(q);if(!isPositiveInteger$1(I)||!isPositiveInteger$1(F))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(I.lt(q))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(L=q,F.lt(G))for(U=q;U.lte(G);U=U.plus(q))L=L.times(F.plus(U)).dividedBy(U);else for(U=q;U.lte(F);U=U.plus(q))L=L.times(G.plus(U)).dividedBy(U);return L}})});function isPositiveInteger$1(_){return _.isInteger()&&_.gte(0)}var name$P="gamma",dependencies$P=["typed","config","multiplyScalar","pow","BigNumber","Complex"],createGamma=factory(name$P,dependencies$P,_=>{var{typed:R,config:O,multiplyScalar:I,pow:F,BigNumber:z,Complex:L}=_;function U(G){if(G.im===0)return gammaNumber(G.re);if(G.re<.5){var V=new L(1-G.re,-G.im),Z=new L(Math.PI*G.re,Math.PI*G.im);return new L(Math.PI).div(Z.sin()).div(U(V))}G=new L(G.re-1,G.im);for(var Y=new L(gammaP[0],0),W=1;W<gammaP.length;++W){var ee=new L(gammaP[W],0);Y=Y.add(ee.div(G.add(W)))}var ne=new L(G.re+gammaG+.5,G.im),ie=Math.sqrt(2*Math.PI),se=ne.pow(G.add(.5)),oe=ne.neg().exp();return Y.mul(ie).mul(se).mul(oe)}return R(name$P,{number:gammaNumber,Complex:U,BigNumber:function(V){if(V.isInteger())return V.isNegative()||V.isZero()?new z(1/0):q(V.minus(1));if(!V.isFinite())return new z(V.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function q(G){if(G<8)return new z([1,1,2,6,24,120,720,5040][G]);var V=O.precision+(Math.log(G.toNumber())|0),Z=z.clone({precision:V});if(G%2===1)return G.times(q(new z(G-1)));for(var Y=G,W=new Z(G),ee=G.toNumber();Y>2;)Y-=2,ee+=Y,W=W.times(ee);return new z(W.toPrecision(z.precision))}}),name$O="lgamma",dependencies$O=["Complex","typed"],createLgamma=factory(name$O,dependencies$O,_=>{var{Complex:R,typed:O}=_,I=7,F=7,z=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return O(name$O,{number:lgammaNumber,Complex:L,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function L(G){var V=6.283185307179586,Z=1.1447298858494002,Y=.1;if(G.isNaN())return new R(NaN,NaN);if(G.im===0)return new R(lgammaNumber(G.re),0);if(G.re>=I||Math.abs(G.im)>=F)return U(G);if(G.re<=Y){var W=copysign(V,G.im)*Math.floor(.5*G.re+.25),ee=G.mul(Math.PI).sin().log(),ne=L(new R(1-G.re,-G.im));return new R(Z,W).sub(ee).sub(ne)}else return G.im>=0?q(G):q(G.conjugate()).conjugate()}function U(G){for(var V=G.sub(.5).mul(G.log()).sub(G).add(lnSqrt2PI),Z=new R(1,0).div(G),Y=Z.div(G),W=z[0],ee=z[1],ne=2*Y.re,ie=Y.re*Y.re+Y.im*Y.im,se=2;se<8;se++){var oe=ee;ee=-ie*W+z[se],W=ne*W+oe}var le=Z.mul(Y.mul(W).add(ee));return V.add(le)}function q(G){var V=0,Z=0,Y=G;for(G=G.add(1);G.re<=I;){Y=Y.mul(G);var W=Y.im<0?1:0;W!==0&&Z===0&&V++,Z=W,G=G.add(1)}return U(G).sub(Y.log()).sub(new R(0,V*2*Math.PI*1))}}),name$N="factorial",dependencies$N=["typed","gamma"],createFactorial=factory(name$N,dependencies$N,_=>{var{typed:R,gamma:O}=_;return R(name$N,{number:function(F){if(F<0)throw new Error("Value must be non-negative");return O(F+1)},BigNumber:function(F){if(F.isNegative())throw new Error("Value must be non-negative");return O(F.plus(1))},"Array | Matrix":R.referToSelf(I=>F=>deepMap(F,I))})}),name$M="kldivergence",dependencies$M=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],createKldivergence=factory(name$M,dependencies$M,_=>{var{typed:R,matrix:O,divide:I,sum:F,multiply:z,map:L,dotDivide:U,log:q,isNumeric:G}=_;return R(name$M,{"Array, Array":function(Y,W){return V(O(Y),O(W))},"Matrix, Array":function(Y,W){return V(Y,O(W))},"Array, Matrix":function(Y,W){return V(O(Y),W)},"Matrix, Matrix":function(Y,W){return V(Y,W)}});function V(Z,Y){var W=Y.size().length,ee=Z.size().length;if(W>1)throw new Error("first object must be one dimensional");if(ee>1)throw new Error("second object must be one dimensional");if(W!==ee)throw new Error("Length of two vectors must be equal");var ne=F(Z);if(ne===0)throw new Error("Sum of elements in first object must be non zero");var ie=F(Y);if(ie===0)throw new Error("Sum of elements in second object must be non zero");var se=I(Z,F(Z)),oe=I(Y,F(Y)),le=F(z(se,L(U(se,oe),ue=>q(ue))));return G(le)?le:Number.NaN}}),name$L="multinomial",dependencies$L=["typed","add","divide","multiply","factorial","isInteger","isPositive"],createMultinomial=factory(name$L,dependencies$L,_=>{var{typed:R,add:O,divide:I,multiply:F,factorial:z,isInteger:L,isPositive:U}=_;return R(name$L,{"Array | Matrix":function(G){var V=0,Z=1;return deepForEach(G,function(Y){if(!L(Y)||!U(Y))throw new TypeError("Positive integer value expected in function multinomial");V=O(V,Y),Z=F(Z,z(Y))}),I(z(V),Z)}})}),name$K="permutations",dependencies$K=["typed","factorial"],createPermutations=factory(name$K,dependencies$K,_=>{var{typed:R,factorial:O}=_;return R(name$K,{"number | BigNumber":O,"number, number":function(F,z){if(!isInteger$1(F)||F<0)throw new TypeError("Positive integer value expected in function permutations");if(!isInteger$1(z)||z<0)throw new TypeError("Positive integer value expected in function permutations");if(z>F)throw new TypeError("second argument k must be less than or equal to first argument n");return product(F-z+1,F)},"BigNumber, BigNumber":function(F,z){var L,U;if(!isPositiveInteger(F)||!isPositiveInteger(z))throw new TypeError("Positive integer value expected in function permutations");if(z.gt(F))throw new TypeError("second argument k must be less than or equal to first argument n");var q=F.mul(0).add(1);for(L=q,U=F.minus(z).plus(1);U.lte(F);U=U.plus(1))L=L.times(U);return L}})});function isPositiveInteger(_){return _.isInteger()&&_.gte(0)}var singletonRandom=seedrandom(Date.now());function createRng(_){var R;function O(F){R=F===null?singletonRandom:seedrandom(String(F))}O(_);function I(){return R()}return I}var name$J="pickRandom",dependencies$J=["typed","config","?on"],createPickRandom=factory(name$J,dependencies$J,_=>{var{typed:R,config:O,on:I}=_,F=createRng(O.randomSeed);return I&&I("config",function(L,U){L.randomSeed!==U.randomSeed&&(F=createRng(L.randomSeed))}),R(name$J,{"Array | Matrix":function(U){return z(U,{})},"Array | Matrix, Object":function(U,q){return z(U,q)},"Array | Matrix, number":function(U,q){return z(U,{number:q})},"Array | Matrix, Array | Matrix":function(U,q){return z(U,{weights:q})},"Array | Matrix, Array | Matrix, number":function(U,q,G){return z(U,{number:G,weights:q})},"Array | Matrix, number, Array | Matrix":function(U,q,G){return z(U,{number:q,weights:G})}});function z(L,U){var{number:q,weights:G,elementWise:V=!0}=U,Z=typeof q>"u";Z&&(q=1);var Y=isMatrix(L)?L.create:isMatrix(G)?G.create:null;L=L.valueOf(),G&&(G=G.valueOf()),V===!0&&(L=flatten$2(L),G=flatten$2(G));var W=0;if(typeof G<"u"){if(G.length!==L.length)throw new Error("Weights must have the same length as possibles");for(var ee=0,ne=G.length;ee<ne;ee++){if(!isNumber$1(G[ee])||G[ee]<0)throw new Error("Weights must be an array of positive numbers");W+=G[ee]}}for(var ie=L.length,se=[],oe;se.length<q;){if(typeof G>"u")oe=L[Math.floor(F()*ie)];else for(var le=F()*W,ue=0,ce=L.length;ue<ce;ue++)if(le-=G[ue],le<0){oe=L[ue];break}se.push(oe)}return Z?se[0]:Y?Y(se):se}});function randomMatrix(_,R){var O=[];if(_=_.slice(0),_.length>1)for(var I=0,F=_.shift();I<F;I++)O.push(randomMatrix(_,R));else for(var z=0,L=_.shift();z<L;z++)O.push(R());return O}var name$I="random",dependencies$I=["typed","config","?on"],createRandom=factory(name$I,dependencies$I,_=>{var{typed:R,config:O,on:I}=_,F=createRng(O.randomSeed);return I&&I("config",function(U,q){U.randomSeed!==q.randomSeed&&(F=createRng(U.randomSeed))}),R(name$I,{"":()=>L(0,1),number:U=>L(0,U),"number, number":(U,q)=>L(U,q),"Array | Matrix":U=>z(U,0,1),"Array | Matrix, number":(U,q)=>z(U,0,q),"Array | Matrix, number, number":(U,q,G)=>z(U,q,G)});function z(U,q,G){var V=randomMatrix(U.valueOf(),()=>L(q,G));return isMatrix(U)?U.create(V,"number"):V}function L(U,q){return U+F()*(q-U)}}),name$H="randomInt",dependencies$H=["typed","config","log2","?on"],createRandomInt=factory(name$H,dependencies$H,_=>{var{typed:R,config:O,log2:I,on:F}=_,z=createRng(O.randomSeed);return F&&F("config",function(G,V){G.randomSeed!==V.randomSeed&&(z=createRng(G.randomSeed))}),R(name$H,{"":()=>U(0,2),number:G=>U(0,G),"number, number":(G,V)=>U(G,V),bigint:G=>q(0n,G),"bigint, bigint":q,"Array | Matrix":G=>L(G,0,1),"Array | Matrix, number":(G,V)=>L(G,0,V),"Array | Matrix, number, number":(G,V,Z)=>L(G,V,Z)});function L(G,V,Z){var Y=randomMatrix(G.valueOf(),()=>U(V,Z));return isMatrix(G)?G.create(Y,"number"):Y}function U(G,V){return Math.floor(G+z()*(V-G))}function q(G,V){var Z=2n**30n,Y=V-G;if(Y<=Z)return G+BigInt(U(0,Number(Y)));for(var W=I(Y),ee=Y;ee>=Y;){ee=0n;for(var ne=0;ne<W;++ne)ee=2n*ee+(z()<.5?0n:1n)}return G+ee}}),name$G="stirlingS2",dependencies$G=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],createStirlingS2=factory(name$G,dependencies$G,_=>{var{typed:R,addScalar:O,subtractScalar:I,multiplyScalar:F,divideScalar:z,pow:L,factorial:U,combinations:q,isNegative:G,isInteger:V,number:Z,bignumber:Y,larger:W}=_,ee=[],ne=[];return R(name$G,{"number | BigNumber, number | BigNumber":function(se,oe){if(!V(se)||G(se)||!V(oe)||G(oe))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(W(oe,se))throw new TypeError("k must be less than or equal to n in function stirlingS2");var le=!(isNumber$1(se)&&isNumber$1(oe)),ue=le?ne:ee,ce=le?Y:Z,fe=Z(se),me=Z(oe);if(ue[fe]&&ue[fe].length>me)return ue[fe][me];for(var he=0;he<=fe;++he)if(ue[he]||(ue[he]=[ce(he===0?1:0)]),he!==0)for(var pe=ue[he],ge=ue[he-1],_e=pe.length;_e<=he&&_e<=me;++_e)_e===he?pe[_e]=1:pe[_e]=O(F(ce(_e),ge[_e]),ge[_e-1]);return ue[fe][me]}})}),name$F="bellNumbers",dependencies$F=["typed","addScalar","isNegative","isInteger","stirlingS2"],createBellNumbers=factory(name$F,dependencies$F,_=>{var{typed:R,addScalar:O,isNegative:I,isInteger:F,stirlingS2:z}=_;return R(name$F,{"number | BigNumber":function(U){if(!F(U)||I(U))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var q=0,G=0;G<=U;G++)q=O(q,z(U,G));return q}})}),name$E="catalan",dependencies$E=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],createCatalan=factory(name$E,dependencies$E,_=>{var{typed:R,addScalar:O,divideScalar:I,multiplyScalar:F,combinations:z,isNegative:L,isInteger:U}=_;return R(name$E,{"number | BigNumber":function(G){if(!U(G)||L(G))throw new TypeError("Non-negative integer value expected in function catalan");return I(z(F(G,2),G),O(G,1))}})}),name$D="composition",dependencies$D=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],createComposition=factory(name$D,dependencies$D,_=>{var{typed:R,addScalar:O,combinations:I,isPositive:F,isNegative:z,isInteger:L,larger:U}=_;return R(name$D,{"number | BigNumber, number | BigNumber":function(G,V){if(!L(G)||!F(G)||!L(V)||!F(V))throw new TypeError("Positive integer value expected in function composition");if(U(V,G))throw new TypeError("k must be less than or equal to n in function composition");return I(O(G,-1),O(V,-1))}})}),name$C="leafCount",dependencies$C=["parse","typed"],createLeafCount=factory(name$C,dependencies$C,_=>{var{parse:R,typed:O}=_;function I(F){var z=0;return F.forEach(L=>{z+=I(L)}),z||1}return O(name$C,{Node:function(z){return I(z)}})});function isNumericNode(_){return isConstantNode(_)||isOperatorNode(_)&&_.isUnary()&&isConstantNode(_.args[0])}function isConstantExpression(_){return!!(isConstantNode(_)||(isFunctionNode(_)||isOperatorNode(_))&&_.args.every(isConstantExpression)||isParenthesisNode(_)&&isConstantExpression(_.content))}function ownKeys$1(_,R){var O=Object.keys(_);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(_);R&&(I=I.filter(function(F){return Object.getOwnPropertyDescriptor(_,F).enumerable})),O.push.apply(O,I)}return O}function _objectSpread$1(_){for(var R=1;R<arguments.length;R++){var O=arguments[R]!=null?arguments[R]:{};R%2?ownKeys$1(Object(O),!0).forEach(function(I){_defineProperty(_,I,O[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(O)):ownKeys$1(Object(O)).forEach(function(I){Object.defineProperty(_,I,Object.getOwnPropertyDescriptor(O,I))})}return _}var name$B="simplifyUtil",dependencies$B=["FunctionNode","OperatorNode","SymbolNode"],createUtil=factory(name$B,dependencies$B,_=>{var{FunctionNode:R,OperatorNode:O,SymbolNode:I}=_,F=!0,z=!1,L="defaultF",U={add:{trivial:F,total:F,commutative:F,associative:F},unaryPlus:{trivial:F,total:F,commutative:F,associative:F},subtract:{trivial:z,total:F,commutative:z,associative:z},multiply:{trivial:F,total:F,commutative:F,associative:F},divide:{trivial:z,total:F,commutative:z,associative:z},paren:{trivial:F,total:F,commutative:F,associative:z},defaultF:{trivial:z,total:F,commutative:z,associative:z}},q={divide:{total:z},log:{total:z}},G={subtract:{total:z},abs:{trivial:F},log:{total:F}};function V(le,ue){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U,fe=L;if(typeof le=="string"?fe=le:isOperatorNode(le)?fe=le.fn.toString():isFunctionNode(le)?fe=le.name:isParenthesisNode(le)&&(fe="paren"),hasOwnProperty(ce,fe)){var me=ce[fe];if(hasOwnProperty(me,ue))return me[ue];if(hasOwnProperty(U,fe))return U[fe][ue]}if(hasOwnProperty(ce,L)){var he=ce[L];return hasOwnProperty(he,ue)?he[ue]:U[L][ue]}if(hasOwnProperty(U,fe)){var pe=U[fe];if(hasOwnProperty(pe,ue))return pe[ue]}return U[L][ue]}function Z(le){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U;return V(le,"commutative",ue)}function Y(le){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U;return V(le,"associative",ue)}function W(le,ue){var ce=_objectSpread$1({},le);for(var fe in ue)hasOwnProperty(le,fe)?ce[fe]=_objectSpread$1(_objectSpread$1({},ue[fe]),le[fe]):ce[fe]=ue[fe];return ce}function ee(le,ue){if(!le.args||le.args.length===0)return le;le.args=ne(le,ue);for(var ce=0;ce<le.args.length;ce++)ee(le.args[ce],ue)}function ne(le,ue){var ce,fe=[],me=function(pe){for(var ge=0;ge<pe.args.length;ge++){var _e=pe.args[ge];isOperatorNode(_e)&&ce===_e.op?me(_e):fe.push(_e)}};return Y(le,ue)?(ce=le.op,me(le),fe):le.args}function ie(le,ue){if(!(!le.args||le.args.length===0)){for(var ce=oe(le),fe=le.args.length,me=0;me<fe;me++)ie(le.args[me],ue);if(fe>2&&Y(le,ue)){for(var he=le.args.pop();le.args.length>0;)he=ce([le.args.pop(),he]);le.args=he.args}}}function se(le,ue){if(!(!le.args||le.args.length===0)){for(var ce=oe(le),fe=le.args.length,me=0;me<fe;me++)se(le.args[me],ue);if(fe>2&&Y(le,ue)){for(var he=le.args.shift();le.args.length>0;)he=ce([he,le.args.shift()]);le.args=he.args}}}function oe(le){return isOperatorNode(le)?function(ue){try{return new O(le.op,le.fn,ue,le.implicit)}catch(ce){return console.error(ce),[]}}:function(ue){return new R(new I(le.name),ue)}}return{createMakeNodeFunction:oe,hasProperty:V,isCommutative:Z,isAssociative:Y,mergeContext:W,flatten:ee,allChildren:ne,unflattenr:ie,unflattenl:se,defaultContext:U,realContext:q,positiveContext:G}}),name$A="simplify",dependencies$A=["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],createSimplify=factory(name$A,dependencies$A,_=>{var{typed:R,parse:O,equal:I,resolve:F,simplifyConstant:z,simplifyCore:L,AccessorNode:U,ArrayNode:q,ConstantNode:G,FunctionNode:V,IndexNode:Z,ObjectNode:Y,OperatorNode:W,ParenthesisNode:ee,SymbolNode:ne,replacer:ie}=_,{hasProperty:se,isCommutative:oe,isAssociative:le,mergeContext:ue,flatten:ce,unflattenr:fe,unflattenl:me,createMakeNodeFunction:he,defaultContext:pe,realContext:ge,positiveContext:_e}=createUtil({FunctionNode:V,OperatorNode:W,SymbolNode:ne});R.addConversion({from:"Object",to:"Map",convert:createMap$1});var ye=R("simplify",{Node:Ne,"Node, Map":(Le,ke)=>Ne(Le,!1,ke),"Node, Map, Object":(Le,ke,Ge)=>Ne(Le,!1,ke,Ge),"Node, Array":Ne,"Node, Array, Map":Ne,"Node, Array, Map, Object":Ne});R.removeConversion({from:"Object",to:"Map",convert:createMap$1}),ye.defaultContext=pe,ye.realContext=ge,ye.positiveContext=_e;function we(Le){return Le.transform(function(ke){return isParenthesisNode(ke)?we(ke.content):ke})}var ve={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};ye.rules=[L,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},z,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},z,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function $e(Le,ke){var Ge={};if(Le.s){var Ke=Le.s.split("->");if(Ke.length===2)Ge.l=Ke[0],Ge.r=Ke[1];else throw SyntaxError("Could not parse rule: "+Le.s)}else Ge.l=Le.l,Ge.r=Le.r;Ge.l=we(O(Ge.l)),Ge.r=we(O(Ge.r));for(var He of["imposeContext","repeat","assuming"])He in Le&&(Ge[He]=Le[He]);if(Le.evaluate&&(Ge.evaluate=O(Le.evaluate)),le(Ge.l,ke)){var st=!oe(Ge.l,ke),Ae;st&&(Ae=De());var tt=he(Ge.l),rt=De();Ge.expanded={},Ge.expanded.l=tt([Ge.l,rt]),ce(Ge.expanded.l,ke),fe(Ge.expanded.l,ke),Ge.expanded.r=tt([Ge.r,rt]),st&&(Ge.expandedNC1={},Ge.expandedNC1.l=tt([Ae,Ge.l]),Ge.expandedNC1.r=tt([Ae,Ge.r]),Ge.expandedNC2={},Ge.expandedNC2.l=tt([Ae,Ge.expanded.l]),Ge.expandedNC2.r=tt([Ae,Ge.expanded.r]))}return Ge}function be(Le,ke){for(var Ge=[],Ke=0;Ke<Le.length;Ke++){var He=Le[Ke],st=void 0,Ae=typeof He;switch(Ae){case"string":He={s:He};case"object":st=$e(He,ke);break;case"function":st=He;break;default:throw TypeError("Unsupported type of rule: "+Ae)}Ge.push(st)}return Ge}var Ce=0;function De(){return new ne("_p"+Ce++)}function Ne(Le,ke){var Ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:createEmptyMap(),Ke=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},He=Ke.consoleDebug;ke=be(ke||ye.rules,Ke.context);var st=F(Le,Ge);st=we(st);for(var Ae={},tt=st.toString({parenthesis:"all"});!Ae[tt];){Ae[tt]=!0,Ce=0;var rt=tt;He&&console.log("Working on: ",tt);for(var We=0;We<ke.length;We++){var qe="";if(typeof ke[We]=="function"?(st=ke[We](st,Ke),He&&(qe=ke[We].name)):(ce(st,Ke.context),st=Te(st,ke[We],Ke.context),He&&(qe="".concat(ke[We].l.toString()," -> ").concat(ke[We].r.toString()))),He){var nt=st.toString({parenthesis:"all"});nt!==rt&&(console.log("Applying",qe,"produced",nt),rt=nt)}me(st,Ke.context)}tt=st.toString({parenthesis:"all"})}return st}function Me(Le,ke,Ge){var Ke=Le;if(Le)for(var He=0;He<Le.length;++He){var st=Te(Le[He],ke,Ge);st!==Le[He]&&(Ke===Le&&(Ke=Le.slice()),Ke[He]=st)}return Ke}function Te(Le,ke,Ge){if(ke.assuming){for(var Ke in ke.assuming)for(var He in ke.assuming[Ke])if(se(Ke,He,Ge)!==ke.assuming[Ke][He])return Le}var st=ue(ke.imposeContext,Ge),Ae=Le;if(Ae instanceof W||Ae instanceof V){var tt=Me(Ae.args,ke,Ge);tt!==Ae.args&&(Ae=Ae.clone(),Ae.args=tt)}else if(Ae instanceof ee){if(Ae.content){var rt=Te(Ae.content,ke,Ge);rt!==Ae.content&&(Ae=new ee(rt))}}else if(Ae instanceof q){var We=Me(Ae.items,ke,Ge);We!==Ae.items&&(Ae=new q(We))}else if(Ae instanceof U){var qe=Ae.object;Ae.object&&(qe=Te(Ae.object,ke,Ge));var nt=Ae.index;Ae.index&&(nt=Te(Ae.index,ke,Ge)),(qe!==Ae.object||nt!==Ae.index)&&(Ae=new U(qe,nt))}else if(Ae instanceof Z){var ft=Me(Ae.dimensions,ke,Ge);ft!==Ae.dimensions&&(Ae=new Z(ft))}else if(Ae instanceof Y){var je=!1,Ve={};for(var Ie in Ae.properties)Ve[Ie]=Te(Ae.properties[Ie],ke,Ge),Ve[Ie]!==Ae.properties[Ie]&&(je=!0);je&&(Ae=new Y(Ve))}var Ue=ke.r,Xe=Qe(ke.l,Ae,st)[0];if(!Xe&&ke.expanded&&(Ue=ke.expanded.r,Xe=Qe(ke.expanded.l,Ae,st)[0]),!Xe&&ke.expandedNC1&&(Ue=ke.expandedNC1.r,Xe=Qe(ke.expandedNC1.l,Ae,st)[0],Xe||(Ue=ke.expandedNC2.r,Xe=Qe(ke.expandedNC2.l,Ae,st)[0])),Xe){var Fe=Ae.implicit;Ae=Ue.clone(),Fe&&"implicit"in Ue&&(Ae.implicit=!0),Ae=Ae.transform(function(Je){return Je.isSymbolNode&&hasOwnProperty(Xe.placeholders,Je.name)?Xe.placeholders[Je.name].clone():Je})}return ke.repeat&&Ae!==Le&&(Ae=Te(Ae,ke,Ge)),Ae}function Re(Le,ke){var Ge=[],Ke,He,st=he(Le);if(oe(Le,ke))for(var Ae=0;Ae<Le.args.length;Ae++)He=Le.args.slice(0),He.splice(Ae,1),Ke=He.length===1?He[0]:st(He),Ge.push(st([Le.args[Ae],Ke]));else for(var tt=1;tt<Le.args.length;tt++){var rt=Le.args[0];tt>1&&(rt=st(Le.args.slice(0,tt))),He=Le.args.slice(tt),Ke=He.length===1?He[0]:st(He),Ge.push(st([rt,Ke]))}return Ge}function Se(Le,ke){var Ge={placeholders:{}};if(!Le.placeholders&&!ke.placeholders)return Ge;if(Le.placeholders){if(!ke.placeholders)return Le}else return ke;for(var Ke in Le.placeholders)if(hasOwnProperty(Le.placeholders,Ke)&&(Ge.placeholders[Ke]=Le.placeholders[Ke],hasOwnProperty(ke.placeholders,Ke)&&!Ze(Le.placeholders[Ke],ke.placeholders[Ke])))return null;for(var He in ke.placeholders)hasOwnProperty(ke.placeholders,He)&&(Ge.placeholders[He]=ke.placeholders[He]);return Ge}function ze(Le,ke){var Ge=[];if(Le.length===0||ke.length===0)return Ge;for(var Ke,He=0;He<Le.length;He++)for(var st=0;st<ke.length;st++)Ke=Se(Le[He],ke[st]),Ke&&Ge.push(Ke);return Ge}function Pe(Le){if(Le.length===0)return Le;for(var ke=Le.reduce(ze),Ge=[],Ke={},He=0;He<ke.length;He++){var st=JSON.stringify(ke[He],ie);Ke[st]||(Ke[st]=!0,Ge.push(ke[He]))}return Ge}function Qe(Le,ke,Ge,Ke){var He=[{placeholders:{}}];if(Le instanceof W&&ke instanceof W||Le instanceof V&&ke instanceof V){if(Le instanceof W){if(Le.op!==ke.op||Le.fn!==ke.fn)return[]}else if(Le instanceof V&&Le.name!==ke.name)return[];if(ke.args.length===1&&Le.args.length===1||!le(ke,Ge)&&ke.args.length===Le.args.length||Ke){for(var st=[],Ae=0;Ae<Le.args.length;Ae++){var tt=Qe(Le.args[Ae],ke.args[Ae],Ge);if(tt.length===0)break;st.push(tt)}if(st.length!==Le.args.length){if(!oe(ke,Ge)||Le.args.length===1)return[];if(Le.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var rt=Qe(Le.args[0],ke.args[1],Ge);if(rt.length===0)return[];var We=Qe(Le.args[1],ke.args[0],Ge);if(We.length===0)return[];st=[rt,We]}He=Pe(st)}else if(ke.args.length>=2&&Le.args.length===2){for(var qe=Re(ke,Ge),nt=[],ft=0;ft<qe.length;ft++){var je=Qe(Le,qe[ft],Ge,!0);nt=nt.concat(je)}return nt}else{if(Le.args.length>2)throw Error("Unexpected non-binary associative function: "+Le.toString());return[]}}else if(Le instanceof ne){if(Le.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(ve[Le.name]){if(Le.name!==ke.name)return[]}else switch(Le.name[1]>="a"&&Le.name[1]<="z"?Le.name.substring(0,2):Le.name[0]){case"n":case"_p":He[0].placeholders[Le.name]=ke;break;case"c":case"cl":if(isConstantNode(ke))He[0].placeholders[Le.name]=ke;else return[];break;case"v":if(!isConstantNode(ke))He[0].placeholders[Le.name]=ke;else return[];break;case"vl":if(isSymbolNode(ke))He[0].placeholders[Le.name]=ke;else return[];break;case"cd":if(isNumericNode(ke))He[0].placeholders[Le.name]=ke;else return[];break;case"vd":if(!isNumericNode(ke))He[0].placeholders[Le.name]=ke;else return[];break;case"ce":if(isConstantExpression(ke))He[0].placeholders[Le.name]=ke;else return[];break;case"ve":if(!isConstantExpression(ke))He[0].placeholders[Le.name]=ke;else return[];break;default:throw new Error("Invalid symbol in rule: "+Le.name)}}else if(Le instanceof G){if(!I(Le.value,ke.value))return[]}else return[];return He}function Ze(Le,ke){if(Le instanceof G&&ke instanceof G){if(!I(Le.value,ke.value))return!1}else if(Le instanceof ne&&ke instanceof ne){if(Le.name!==ke.name)return!1}else if(Le instanceof W&&ke instanceof W||Le instanceof V&&ke instanceof V){if(Le instanceof W){if(Le.op!==ke.op||Le.fn!==ke.fn)return!1}else if(Le instanceof V&&Le.name!==ke.name)return!1;if(Le.args.length!==ke.args.length)return!1;for(var Ge=0;Ge<Le.args.length;Ge++)if(!Ze(Le.args[Ge],ke.args[Ge]))return!1}else return!1;return!0}return ye}),name$z="simplifyConstant",dependencies$z=["typed","config","mathWithTransform","matrix","isBounded","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],createSimplifyConstant=factory(name$z,dependencies$z,_=>{var{typed:R,config:O,mathWithTransform:I,matrix:F,isBounded:z,fraction:L,bignumber:U,AccessorNode:q,ArrayNode:G,ConstantNode:V,FunctionNode:Z,IndexNode:Y,ObjectNode:W,OperatorNode:ee,SymbolNode:ne}=_,{isCommutative:ie,isAssociative:se,allChildren:oe,createMakeNodeFunction:le}=createUtil({FunctionNode:Z,OperatorNode:ee,SymbolNode:ne}),ue=R("simplifyConstant",{Node:be=>he($e(be,{})),"Node, Object":function(Ce,De){return he($e(Ce,De))}});function ce(be){return isFraction(be)?be.valueOf():be instanceof Array?be.map(ce):isMatrix(be)?F(ce(be.valueOf())):be}function fe(be,Ce,De){try{return I[be].apply(null,Ce)}catch{return Ce=Ce.map(ce),ge(I[be].apply(null,Ce),De)}}var me=R({Fraction:ye,number:function(Ce){return Ce<0?_e(new V(-Ce)):new V(Ce)},BigNumber:function(Ce){return Ce<0?_e(new V(-Ce)):new V(Ce)},bigint:function(Ce){return Ce<0n?_e(new V(-Ce)):new V(Ce)},Complex:function(Ce){throw new Error("Cannot convert Complex number to Node")},string:function(Ce){return new V(Ce)},Matrix:function(Ce){return new G(Ce.valueOf().map(De=>me(De)))}});function he(be){return isNode(be)?be:me(be)}function pe(be,Ce){var De=Ce&&Ce.exactFractions!==!1;if(De&&z(be)&&L){var Ne=L(be),Me=Ce&&typeof Ce.fractionsLimit=="number"?Ce.fractionsLimit:1/0;if(Ne.valueOf()===be&&Ne.n<Me&&Ne.d<Me)return Ne}return be}var ge=R({"string, Object":function(Ce,De){var Ne=safeNumberType(Ce,O);if(Ne==="BigNumber")return U===void 0&&noBignumber(),U(Ce);if(Ne==="bigint")return BigInt(Ce);if(Ne==="Fraction")return L===void 0&&noFraction(),L(Ce);var Me=parseFloat(Ce);return pe(Me,De)},"Fraction, Object":function(Ce,De){return Ce},"BigNumber, Object":function(Ce,De){return Ce},"number, Object":function(Ce,De){return pe(Ce,De)},"bigint, Object":function(Ce,De){return Ce},"Complex, Object":function(Ce,De){return Ce.im!==0?Ce:pe(Ce.re,De)},"Matrix, Object":function(Ce,De){return F(pe(Ce.valueOf()))},"Array, Object":function(Ce,De){return Ce.map(pe)}});function _e(be){return new ee("-","unaryMinus",[be])}function ye(be){var Ce=Me=>O.number==="BigNumber"&&U?U(Me):Number(Me),De=be.s*be.n,Ne=De<0n?new ee("-","unaryMinus",[new V(-Ce(De))]):new V(Ce(De));return be.d===1n?Ne:new ee("/","divide",[Ne,new V(Ce(be.d))])}function we(be,Ce,De){if(!isIndexNode(Ce))return new q(he(be),he(Ce));if(isArrayNode(be)||isMatrix(be)){for(var Ne=Array.from(Ce.dimensions);Ne.length>0;)if(isConstantNode(Ne[0])&&typeof Ne[0].value!="string"){var Me=ge(Ne.shift().value,De);isArrayNode(be)?be=be.items[Me-1]:(be=be.valueOf()[Me-1],be instanceof Array&&(be=F(be)))}else if(Ne.length>1&&isConstantNode(Ne[1])&&typeof Ne[1].value!="string"){var Te=ge(Ne[1].value,De),Re=[],Se=isArrayNode(be)?be.items:be.valueOf();for(var ze of Se)if(isArrayNode(ze))Re.push(ze.items[Te-1]);else if(isMatrix(be))Re.push(ze[Te-1]);else break;if(Re.length===Se.length)isArrayNode(be)?be=new G(Re):be=F(Re),Ne.splice(1,1);else break}else break;return Ne.length===Ce.dimensions.length?new q(he(be),Ce):Ne.length>0?(Ce=new Y(Ne),new q(he(be),Ce)):be}if(isObjectNode(be)&&Ce.dimensions.length===1&&isConstantNode(Ce.dimensions[0])){var Pe=Ce.dimensions[0].value;return Pe in be.properties?be.properties[Pe]:new V}return new q(he(be),Ce)}function ve(be,Ce,De,Ne){var Me=Ce.shift(),Te=Ce.reduce((Re,Se)=>{if(!isNode(Se)){var ze=Re.pop();if(isNode(ze))return[ze,Se];try{return Re.push(fe(be,[ze,Se],Ne)),Re}catch{Re.push(ze)}}Re.push(he(Re.pop()));var Pe=Re.length===1?Re[0]:De(Re);return[De([Pe,he(Se)])]},[Me]);return Te.length===1?Te[0]:De([Te[0],me(Te[1])])}function $e(be,Ce){switch(be.type){case"SymbolNode":return be;case"ConstantNode":switch(typeof be.value){case"number":return ge(be.value,Ce);case"bigint":return ge(be.value,Ce);case"string":return be.value;default:if(!isNaN(be.value))return ge(be.value,Ce)}return be;case"FunctionNode":if(I[be.name]&&I[be.name].rawArgs)return be;{var De=["add","multiply"];if(!De.includes(be.name)){var Ne=be.args.map(He=>$e(He,Ce));if(!Ne.some(isNode))try{return fe(be.name,Ne,Ce)}catch{}if(be.name==="size"&&Ne.length===1&&isArrayNode(Ne[0])){for(var Me=[],Te=Ne[0];isArrayNode(Te);)Me.push(Te.items.length),Te=Te.items[0];return F(Me)}return new Z(be.name,Ne.map(he))}}case"OperatorNode":{var Re=be.fn.toString(),Se,ze,Pe=le(be);if(isOperatorNode(be)&&be.isUnary())Se=[$e(be.args[0],Ce)],isNode(Se[0])?ze=Pe(Se):ze=fe(Re,Se,Ce);else if(se(be,Ce.context))if(Se=oe(be,Ce.context),Se=Se.map(He=>$e(He,Ce)),ie(Re,Ce.context)){for(var Qe=[],Ze=[],Le=0;Le<Se.length;Le++)isNode(Se[Le])?Ze.push(Se[Le]):Qe.push(Se[Le]);Qe.length>1?(ze=ve(Re,Qe,Pe,Ce),Ze.unshift(ze),ze=ve(Re,Ze,Pe,Ce)):ze=ve(Re,Se,Pe,Ce)}else ze=ve(Re,Se,Pe,Ce);else Se=be.args.map(He=>$e(He,Ce)),ze=ve(Re,Se,Pe,Ce);return ze}case"ParenthesisNode":return $e(be.content,Ce);case"AccessorNode":return we($e(be.object,Ce),$e(be.index,Ce),Ce);case"ArrayNode":{var ke=be.items.map(He=>$e(He,Ce));return ke.some(isNode)?new G(ke.map(he)):F(ke)}case"IndexNode":return new Y(be.dimensions.map(He=>ue(He,Ce)));case"ObjectNode":{var Ge={};for(var Ke in be.properties)Ge[Ke]=ue(be.properties[Ke],Ce);return new W(Ge)}default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(be.type))}}return ue}),name$y="simplifyCore",dependencies$y=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],createSimplifyCore=factory(name$y,dependencies$y,_=>{var{typed:R,parse:O,equal:I,isZero:F,add:z,subtract:L,multiply:U,divide:q,pow:G,AccessorNode:V,ArrayNode:Z,ConstantNode:Y,FunctionNode:W,IndexNode:ee,ObjectNode:ne,OperatorNode:ie,ParenthesisNode:se,SymbolNode:oe}=_,le=new Y(0),ue=new Y(1),ce=new Y(!0),fe=new Y(!1);function me(_e){return isOperatorNode(_e)&&["and","not","or"].includes(_e.op)}var{hasProperty:he,isCommutative:pe}=createUtil({FunctionNode:W,OperatorNode:ie,SymbolNode:oe});function ge(_e){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=ye?ye.context:void 0;if(he(_e,"trivial",we)){if(isFunctionNode(_e)&&_e.args.length===1)return ge(_e.args[0],ye);var ve=!1,$e=0;if(_e.forEach(Qe=>{++$e,$e===1&&(ve=ge(Qe,ye))}),$e===1)return ve}var be=_e;if(isFunctionNode(be)){var Ce=getOperator(be.name);if(Ce){if(be.args.length>2&&he(be,"associative",we))for(;be.args.length>2;){var De=be.args.pop(),Ne=be.args.pop();be.args.push(new ie(Ce,be.name,[De,Ne]))}be=new ie(Ce,be.name,be.args)}else return new W(ge(be.fn),be.args.map(Qe=>ge(Qe,ye)))}if(isOperatorNode(be)&&be.isUnary()){var Me=ge(be.args[0],ye);if(be.op==="~"&&isOperatorNode(Me)&&Me.isUnary()&&Me.op==="~"||be.op==="not"&&isOperatorNode(Me)&&Me.isUnary()&&Me.op==="not"&&me(Me.args[0]))return Me.args[0];var Te=!0;if(be.op==="-"&&isOperatorNode(Me)&&(Me.isBinary()&&Me.fn==="subtract"&&(be=new ie("-","subtract",[Me.args[1],Me.args[0]]),Te=!1),Me.isUnary()&&Me.op==="-"))return Me.args[0];if(Te)return new ie(be.op,be.fn,[Me])}if(isOperatorNode(be)&&be.isBinary()){var Re=ge(be.args[0],ye),Se=ge(be.args[1],ye);if(be.op==="+"){if(isConstantNode(Re)&&F(Re.value))return Se;if(isConstantNode(Se)&&F(Se.value))return Re;isOperatorNode(Se)&&Se.isUnary()&&Se.op==="-"&&(Se=Se.args[0],be=new ie("-","subtract",[Re,Se]))}if(be.op==="-")return isOperatorNode(Se)&&Se.isUnary()&&Se.op==="-"?ge(new ie("+","add",[Re,Se.args[0]]),ye):isConstantNode(Re)&&F(Re.value)?ge(new ie("-","unaryMinus",[Se])):isConstantNode(Se)&&F(Se.value)?Re:new ie(be.op,be.fn,[Re,Se]);if(be.op==="*"){if(isConstantNode(Re)){if(F(Re.value))return le;if(I(Re.value,1))return Se}if(isConstantNode(Se)){if(F(Se.value))return le;if(I(Se.value,1))return Re;if(pe(be,we))return new ie(be.op,be.fn,[Se,Re],be.implicit)}return new ie(be.op,be.fn,[Re,Se],be.implicit)}if(be.op==="/")return isConstantNode(Re)&&F(Re.value)?le:isConstantNode(Se)&&I(Se.value,1)?Re:new ie(be.op,be.fn,[Re,Se]);if(be.op==="^"&&isConstantNode(Se)){if(F(Se.value))return ue;if(I(Se.value,1))return Re}if(be.op==="and"){if(isConstantNode(Re))if(Re.value){if(me(Se))return Se;if(isConstantNode(Se))return Se.value?ce:fe}else return fe;if(isConstantNode(Se))if(Se.value){if(me(Re))return Re}else return fe}if(be.op==="or"){if(isConstantNode(Re)){if(Re.value)return ce;if(me(Se))return Se}if(isConstantNode(Se)){if(Se.value)return ce;if(me(Re))return Re}}return new ie(be.op,be.fn,[Re,Se])}if(isOperatorNode(be))return new ie(be.op,be.fn,be.args.map(Qe=>ge(Qe,ye)));if(isArrayNode(be))return new Z(be.items.map(Qe=>ge(Qe,ye)));if(isAccessorNode(be))return new V(ge(be.object,ye),ge(be.index,ye));if(isIndexNode(be))return new ee(be.dimensions.map(Qe=>ge(Qe,ye)));if(isObjectNode(be)){var ze={};for(var Pe in be.properties)ze[Pe]=ge(be.properties[Pe],ye);return new ne(ze)}return be}return R(name$y,{Node:ge,"Node,Object":ge})}),name$x="resolve",dependencies$x=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],createResolve=factory(name$x,dependencies$x,_=>{var{typed:R,parse:O,ConstantNode:I,FunctionNode:F,OperatorNode:z,ParenthesisNode:L}=_;function U(q,G){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!G)return q;if(isSymbolNode(q)){if(V.has(q.name)){var Z=Array.from(V).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(Z,"}"))}var Y=G.get(q.name);if(isNode(Y)){var W=new Set(V);return W.add(q.name),U(Y,G,W)}else return typeof Y=="number"?O(String(Y)):Y!==void 0?new I(Y):q}else if(isOperatorNode(q)){var ee=q.args.map(function(ie){return U(ie,G,V)});return new z(q.op,q.fn,ee,q.implicit)}else{if(isParenthesisNode(q))return new L(U(q.content,G,V));if(isFunctionNode(q)){var ne=q.args.map(function(ie){return U(ie,G,V)});return new F(q.name,ne)}}return q.map(ie=>U(ie,G,V))}return R("resolve",{Node:U,"Node, Map | null | undefined":U,"Node, Object":(q,G)=>U(q,createMap$1(G)),"Array | Matrix":R.referToSelf(q=>G=>G.map(V=>q(V))),"Array | Matrix, null | undefined":R.referToSelf(q=>G=>G.map(V=>q(V))),"Array, Object":R.referTo("Array,Map",q=>(G,V)=>q(G,createMap$1(V))),"Matrix, Object":R.referTo("Matrix,Map",q=>(G,V)=>q(G,createMap$1(V))),"Array | Matrix, Map":R.referToSelf(q=>(G,V)=>G.map(Z=>q(Z,V)))})}),name$w="symbolicEqual",dependencies$w=["parse","simplify","typed","OperatorNode"],createSymbolicEqual=factory(name$w,dependencies$w,_=>{var{parse:R,simplify:O,typed:I,OperatorNode:F}=_;function z(L,U){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},G=new F("-","subtract",[L,U]),V=O(G,{},q);return isConstantNode(V)&&!V.value}return I(name$w,{"Node, Node":z,"Node, Node, Object":z})}),name$v="derivative",dependencies$v=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],createDerivative=factory(name$v,dependencies$v,_=>{var{typed:R,config:O,parse:I,simplify:F,equal:z,isZero:L,numeric:U,ConstantNode:q,FunctionNode:G,OperatorNode:V,ParenthesisNode:Z,SymbolNode:Y}=_;function W(ue,ce){var fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},me=new Map,he=ce.name;function pe(_e){var ye=me.get(_e);if(ye!==void 0)return ye;var we=se(pe,_e,he);return me.set(_e,we),we}var ge=oe(ue,pe);return fe.simplify?F(ge):ge}function ee(ue){var ce=I(ue);if(!ce.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(ue)," into a variable in function derivative"));return ce}var ne=R(name$v,{"Node, SymbolNode":W,"Node, SymbolNode, Object":W,"Node, string":(ue,ce)=>W(ue,ee(ce)),"Node, string, Object":(ue,ce,fe)=>W(ue,ee(ce),fe)});ne._simplify=!0,ne.toTex=function(ue){return ie.apply(null,ue.args)};var ie=R("_derivTex",{"Node, SymbolNode":function(ce,fe){return isConstantNode(ce)&&typeOf$1(ce.value)==="string"?ie(I(ce.value).toString(),fe.toString(),1):ie(ce.toTex(),fe.toString(),1)},"Node, ConstantNode":function(ce,fe){if(typeOf$1(fe.value)==="string")return ie(ce,I(fe.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(ce,fe,me){return ie(ce.toString(),fe.name,me.value)},"string, string, number":function(ce,fe,me){var he;return me===1?he="{d\\over d"+fe+"}":he="{d^{"+me+"}\\over d"+fe+"^{"+me+"}}",he+"\\left[".concat(ce,"\\right]")}}),se=R("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(ce,fe,me){return fe.name!==me},"function, ParenthesisNode, string":function(ce,fe,me){return ce(fe.content,me)},"function, FunctionAssignmentNode, string":function(ce,fe,me){return fe.params.includes(me)?ce(fe.expr,me):!0},"function, FunctionNode | OperatorNode, string":function(ce,fe,me){return fe.args.every(he=>ce(he,me))}}),oe=R("_derivative",{"ConstantNode, function":function(){return le(0)},"SymbolNode, function":function(ce,fe){return fe(ce)?le(0):le(1)},"ParenthesisNode, function":function(ce,fe){return new Z(oe(ce.content,fe))},"FunctionAssignmentNode, function":function(ce,fe){return fe(ce)?le(0):oe(ce.expr,fe)},"FunctionNode, function":function(ce,fe){if(fe(ce))return le(0);var me=ce.args[0],he,pe=!1,ge=!1,_e;switch(ce.name){case"cbrt":pe=!0,_e=new V("*","multiply",[le(3),new V("^","pow",[me,new V("/","divide",[le(2),le(3)])])]);break;case"sqrt":case"nthRoot":if(ce.args.length===1)pe=!0,_e=new V("*","multiply",[le(2),new G("sqrt",[me])]);else if(ce.args.length===2)return he=new V("/","divide",[le(1),ce.args[1]]),oe(new V("^","pow",[me,he]),fe);break;case"log10":he=le(10);case"log":if(!he&&ce.args.length===1)_e=me.clone(),pe=!0;else if(ce.args.length===1&&he||ce.args.length===2&&fe(ce.args[1]))_e=new V("*","multiply",[me.clone(),new G("log",[he||ce.args[1]])]),pe=!0;else if(ce.args.length===2)return oe(new V("/","divide",[new G("log",[me]),new G("log",[ce.args[1]])]),fe);break;case"pow":if(ce.args.length===2)return oe(new V("^","pow",[me,ce.args[1]]),fe);break;case"exp":_e=new G("exp",[me.clone()]);break;case"sin":_e=new G("cos",[me.clone()]);break;case"cos":_e=new V("-","unaryMinus",[new G("sin",[me.clone()])]);break;case"tan":_e=new V("^","pow",[new G("sec",[me.clone()]),le(2)]);break;case"sec":_e=new V("*","multiply",[ce,new G("tan",[me.clone()])]);break;case"csc":ge=!0,_e=new V("*","multiply",[ce,new G("cot",[me.clone()])]);break;case"cot":ge=!0,_e=new V("^","pow",[new G("csc",[me.clone()]),le(2)]);break;case"asin":pe=!0,_e=new G("sqrt",[new V("-","subtract",[le(1),new V("^","pow",[me.clone(),le(2)])])]);break;case"acos":pe=!0,ge=!0,_e=new G("sqrt",[new V("-","subtract",[le(1),new V("^","pow",[me.clone(),le(2)])])]);break;case"atan":pe=!0,_e=new V("+","add",[new V("^","pow",[me.clone(),le(2)]),le(1)]);break;case"asec":pe=!0,_e=new V("*","multiply",[new G("abs",[me.clone()]),new G("sqrt",[new V("-","subtract",[new V("^","pow",[me.clone(),le(2)]),le(1)])])]);break;case"acsc":pe=!0,ge=!0,_e=new V("*","multiply",[new G("abs",[me.clone()]),new G("sqrt",[new V("-","subtract",[new V("^","pow",[me.clone(),le(2)]),le(1)])])]);break;case"acot":pe=!0,ge=!0,_e=new V("+","add",[new V("^","pow",[me.clone(),le(2)]),le(1)]);break;case"sinh":_e=new G("cosh",[me.clone()]);break;case"cosh":_e=new G("sinh",[me.clone()]);break;case"tanh":_e=new V("^","pow",[new G("sech",[me.clone()]),le(2)]);break;case"sech":ge=!0,_e=new V("*","multiply",[ce,new G("tanh",[me.clone()])]);break;case"csch":ge=!0,_e=new V("*","multiply",[ce,new G("coth",[me.clone()])]);break;case"coth":ge=!0,_e=new V("^","pow",[new G("csch",[me.clone()]),le(2)]);break;case"asinh":pe=!0,_e=new G("sqrt",[new V("+","add",[new V("^","pow",[me.clone(),le(2)]),le(1)])]);break;case"acosh":pe=!0,_e=new G("sqrt",[new V("-","subtract",[new V("^","pow",[me.clone(),le(2)]),le(1)])]);break;case"atanh":pe=!0,_e=new V("-","subtract",[le(1),new V("^","pow",[me.clone(),le(2)])]);break;case"asech":pe=!0,ge=!0,_e=new V("*","multiply",[me.clone(),new G("sqrt",[new V("-","subtract",[le(1),new V("^","pow",[me.clone(),le(2)])])])]);break;case"acsch":pe=!0,ge=!0,_e=new V("*","multiply",[new G("abs",[me.clone()]),new G("sqrt",[new V("+","add",[new V("^","pow",[me.clone(),le(2)]),le(1)])])]);break;case"acoth":pe=!0,ge=!0,_e=new V("-","subtract",[le(1),new V("^","pow",[me.clone(),le(2)])]);break;case"abs":_e=new V("/","divide",[new G(new Y("abs"),[me.clone()]),me.clone()]);break;default:throw new Error('Cannot process function "'+ce.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var ye,we;pe?(ye="/",we="divide"):(ye="*",we="multiply");var ve=oe(me,fe);return ge&&(ve=new V("-","unaryMinus",[ve])),new V(ye,we,[ve,_e])},"OperatorNode, function":function(ce,fe){if(fe(ce))return le(0);if(ce.op==="+")return new V(ce.op,ce.fn,ce.args.map(function(be){return oe(be,fe)}));if(ce.op==="-"){if(ce.isUnary())return new V(ce.op,ce.fn,[oe(ce.args[0],fe)]);if(ce.isBinary())return new V(ce.op,ce.fn,[oe(ce.args[0],fe),oe(ce.args[1],fe)])}if(ce.op==="*"){var me=ce.args.filter(function(be){return fe(be)});if(me.length>0){var he=ce.args.filter(function(be){return!fe(be)}),pe=he.length===1?he[0]:new V("*","multiply",he),ge=me.concat(oe(pe,fe));return new V("*","multiply",ge)}return new V("+","add",ce.args.map(function(be){return new V("*","multiply",ce.args.map(function(Ce){return Ce===be?oe(Ce,fe):Ce.clone()}))}))}if(ce.op==="/"&&ce.isBinary()){var _e=ce.args[0],ye=ce.args[1];return fe(ye)?new V("/","divide",[oe(_e,fe),ye]):fe(_e)?new V("*","multiply",[new V("-","unaryMinus",[_e]),new V("/","divide",[oe(ye,fe),new V("^","pow",[ye.clone(),le(2)])])]):new V("/","divide",[new V("-","subtract",[new V("*","multiply",[oe(_e,fe),ye.clone()]),new V("*","multiply",[_e.clone(),oe(ye,fe)])]),new V("^","pow",[ye.clone(),le(2)])])}if(ce.op==="^"&&ce.isBinary()){var we=ce.args[0],ve=ce.args[1];if(fe(we))return isConstantNode(we)&&(L(we.value)||z(we.value,1))?le(0):new V("*","multiply",[ce,new V("*","multiply",[new G("log",[we.clone()]),oe(ve.clone(),fe)])]);if(fe(ve)){if(isConstantNode(ve)){if(L(ve.value))return le(0);if(z(ve.value,1))return oe(we,fe)}var $e=new V("^","pow",[we.clone(),new V("-","subtract",[ve,le(1)])]);return new V("*","multiply",[ve.clone(),new V("*","multiply",[oe(we,fe),$e])])}return new V("*","multiply",[new V("^","pow",[we.clone(),ve.clone()]),new V("+","add",[new V("*","multiply",[oe(we,fe),new V("/","divide",[ve.clone(),we.clone()])]),new V("*","multiply",[oe(ve,fe),new G("log",[we.clone()])])])])}throw new Error('Cannot process operator "'+ce.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function le(ue,ce){return new q(U(ue,safeNumberType(String(ue),O)))}return ne}),name$u="rationalize",dependencies$u=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],createRationalize=factory(name$u,dependencies$u,_=>{var{config:R,typed:O,equal:I,isZero:F,add:z,subtract:L,multiply:U,divide:q,pow:G,parse:V,simplifyConstant:Z,simplifyCore:Y,simplify:W,fraction:ee,bignumber:ne,mathWithTransform:ie,matrix:se,AccessorNode:oe,ArrayNode:le,ConstantNode:ue,FunctionNode:ce,IndexNode:fe,ObjectNode:me,OperatorNode:he,SymbolNode:pe,ParenthesisNode:ge}=_;function _e(be){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ne=we(),Me=ye(be,Ce,!0,Ne.firstRules),Te=Me.variables.length,Re={exactFractions:!1},Se={exactFractions:!0};if(be=Me.expression,Te>=1){be=ve(be);var ze,Pe,Qe=!0,Ze=!1;be=W(be,Ne.firstRules,{},Re);for(var Le;Pe=Qe?Ne.distrDivRules:Ne.sucDivRules,be=W(be,Pe,{},Se),Qe=!Qe,Le=be.toString(),Le!==ze;)Ze=!0,ze=Le;Ze&&(be=W(be,Ne.firstRulesAgain,{},Re)),be=W(be,Ne.finalRules,{},Re)}var ke=[],Ge={};return be.type==="OperatorNode"&&be.isBinary()&&be.op==="/"?(Te===1&&(be.args[0]=$e(be.args[0],ke),be.args[1]=$e(be.args[1])),De&&(Ge.numerator=be.args[0],Ge.denominator=be.args[1])):(Te===1&&(be=$e(be,ke)),De&&(Ge.numerator=be,Ge.denominator=null)),De?(Ge.coefficients=ke,Ge.variables=Me.variables,Ge.expression=be,Ge):be}return O(name$u,{Node:_e,"Node, boolean":(be,Ce)=>_e(be,{},Ce),"Node, Object":_e,"Node, Object, boolean":_e});function ye(be,Ce,De,Ne){var Me=[],Te=W(be,Ne,Ce,{exactFractions:!1});De=!!De;var Re="+-*"+(De?"/":"");ze(Te);var Se={};return Se.expression=Te,Se.variables=Me,Se;function ze(Pe){var Qe=Pe.type;if(Qe==="FunctionNode")throw new Error("There is an unsolved function call");if(Qe==="OperatorNode")if(Pe.op==="^"){if(Pe.args[1].type!=="ConstantNode"||!isInteger$1(parseFloat(Pe.args[1].value)))throw new Error("There is a non-integer exponent");ze(Pe.args[0])}else{if(!Re.includes(Pe.op))throw new Error("Operator "+Pe.op+" invalid in polynomial expression");for(var Ze=0;Ze<Pe.args.length;Ze++)ze(Pe.args[Ze])}else if(Qe==="SymbolNode"){var Le=Pe.name,ke=Me.indexOf(Le);ke===-1&&Me.push(Le)}else if(Qe==="ParenthesisNode")ze(Pe.content);else if(Qe!=="ConstantNode")throw new Error("type "+Qe+" is not allowed in polynomial expression")}}function we(){var be=[Y,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},Z,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],Ce=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],De=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],Ne=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],Me={};return Me.firstRules=be.concat(Ce,Ne),Me.distrDivRules=De,Me.sucDivRules=Ne,Me.firstRulesAgain=be.concat(Ce),Me.finalRules=[Y,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},Z,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],Me}function ve(be,Ce,De){var Ne=be.type,Me=arguments.length>1;if(Ne==="OperatorNode"&&be.isBinary()){var Te=!1,Re;if(be.op==="^"&&(be.args[0].type==="ParenthesisNode"||be.args[0].type==="OperatorNode")&&be.args[1].type==="ConstantNode"&&(Re=parseFloat(be.args[1].value),Te=Re>=2&&isInteger$1(Re)),Te){if(Re>2){var Se=be.args[0],ze=new he("^","pow",[be.args[0].cloneDeep(),new ue(Re-1)]);be=new he("*","multiply",[Se,ze])}else be=new he("*","multiply",[be.args[0],be.args[0].cloneDeep()]);Me&&(De==="content"?Ce.content=be:Ce.args[De]=be)}}if(Ne==="ParenthesisNode")ve(be.content,be,"content");else if(Ne!=="ConstantNode"&&Ne!=="SymbolNode")for(var Pe=0;Pe<be.args.length;Pe++)ve(be.args[Pe],be,Pe);if(!Me)return be}function $e(be,Ce){Ce===void 0&&(Ce=[]),Ce[0]=0;var De={};De.cte=1,De.oper="+",De.fire="";var Ne=0,Me="";Le(be,null,De),Ne=Ce.length-1;for(var Te=!0,Re,Se=Ne;Se>=0;Se--)if(Ce[Se]!==0){var ze=new ue(Te?Ce[Se]:Math.abs(Ce[Se])),Pe=Ce[Se]<0?"-":"+";if(Se>0){var Qe=new pe(Me);if(Se>1){var Ze=new ue(Se);Qe=new he("^","pow",[Qe,Ze])}Ce[Se]===-1&&Te?ze=new he("-","unaryMinus",[Qe]):Math.abs(Ce[Se])===1?ze=Qe:ze=new he("*","multiply",[ze,Qe])}Te?Re=ze:Pe==="+"?Re=new he("+","add",[Re,ze]):Re=new he("-","subtract",[Re,ze]),Te=!1}if(Te)return new ue(0);return Re;function Le(ke,Ge,Ke){var He=ke.type;if(He==="FunctionNode")throw new Error("There is an unsolved function call");if(He==="OperatorNode"){if(!"+-*^".includes(ke.op))throw new Error("Operator "+ke.op+" invalid");if(Ge!==null){if((ke.fn==="unaryMinus"||ke.fn==="pow")&&Ge.fn!=="add"&&Ge.fn!=="subtract"&&Ge.fn!=="multiply")throw new Error("Invalid "+ke.op+" placing");if((ke.fn==="subtract"||ke.fn==="add"||ke.fn==="multiply")&&Ge.fn!=="add"&&Ge.fn!=="subtract")throw new Error("Invalid "+ke.op+" placing");if((ke.fn==="subtract"||ke.fn==="add"||ke.fn==="unaryMinus")&&Ke.noFil!==0)throw new Error("Invalid "+ke.op+" placing")}(ke.op==="^"||ke.op==="*")&&(Ke.fire=ke.op);for(var st=0;st<ke.args.length;st++)ke.fn==="unaryMinus"&&(Ke.oper="-"),(ke.op==="+"||ke.fn==="subtract")&&(Ke.fire="",Ke.cte=1,Ke.oper=st===0?"+":ke.op),Ke.noFil=st,Le(ke.args[st],ke,Ke)}else if(He==="SymbolNode"){if(ke.name!==Me&&Me!=="")throw new Error("There is more than one variable");if(Me=ke.name,Ge===null){Ce[1]=1;return}if(Ge.op==="^"&&Ke.noFil!==0)throw new Error("In power the variable should be the first parameter");if(Ge.op==="*"&&Ke.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(Ke.fire===""||Ke.fire==="*")&&(Ne<1&&(Ce[1]=0),Ce[1]+=Ke.cte*(Ke.oper==="+"?1:-1),Ne=Math.max(1,Ne))}else if(He==="ConstantNode"){var Ae=parseFloat(ke.value);if(Ge===null){Ce[0]=Ae;return}if(Ge.op==="^"){if(Ke.noFil!==1)throw new Error("Constant cannot be powered");if(!isInteger$1(Ae)||Ae<=0)throw new Error("Non-integer exponent is not allowed");for(var tt=Ne+1;tt<Ae;tt++)Ce[tt]=0;Ae>Ne&&(Ce[Ae]=0),Ce[Ae]+=Ke.cte*(Ke.oper==="+"?1:-1),Ne=Math.max(Ae,Ne);return}Ke.cte=Ae,Ke.fire===""&&(Ce[0]+=Ke.cte*(Ke.oper==="+"?1:-1))}else throw new Error("Type "+He+" is not allowed")}}}),name$t="zpk2tf",dependencies$t=["typed","add","multiply","Complex","number"],createZpk2tf=factory(name$t,dependencies$t,_=>{var{typed:R,add:O,multiply:I,Complex:F,number:z}=_;return R(name$t,{"Array,Array,number":function(G,V,Z){return L(G,V,Z)},"Array,Array":function(G,V){return L(G,V,1)},"Matrix,Matrix,number":function(G,V,Z){return L(G.valueOf(),V.valueOf(),Z)},"Matrix,Matrix":function(G,V){return L(G.valueOf(),V.valueOf(),1)}});function L(q,G,V){q.some(oe=>oe.type==="BigNumber")&&(q=q.map(oe=>z(oe))),G.some(oe=>oe.type==="BigNumber")&&(G=G.map(oe=>z(oe)));for(var Z=[F(1,0)],Y=[F(1,0)],W=0;W<q.length;W++){var ee=q[W];typeof ee=="number"&&(ee=F(ee,0)),Z=U(Z,[F(1,0),F(-ee.re,-ee.im)])}for(var ne=0;ne<G.length;ne++){var ie=G[ne];typeof ie=="number"&&(ie=F(ie,0)),Y=U(Y,[F(1,0),F(-ie.re,-ie.im)])}for(var se=0;se<Z.length;se++)Z[se]=I(Z[se],V);return[Z,Y]}function U(q,G){for(var V=[],Z=0;Z<q.length+G.length-1;Z++){V[Z]=F(0,0);for(var Y=0;Y<q.length;Y++)Z-Y>=0&&Z-Y<G.length&&(V[Z]=O(V[Z],I(q[Y],G[Z-Y])))}return V}}),name$s="freqz",dependencies$s=["typed","add","multiply","Complex","divide","matrix"],createFreqz=factory(name$s,dependencies$s,_=>{var{typed:R,add:O,multiply:I,Complex:F,divide:z,matrix:L}=_;return R(name$s,{"Array, Array":function(V,Z){var Y=q(512);return U(V,Z,Y)},"Array, Array, Array":function(V,Z,Y){return U(V,Z,Y)},"Array, Array, number":function(V,Z,Y){if(Y<0)throw new Error("w must be a positive number");var W=q(Y);return U(V,Z,W)},"Matrix, Matrix":function(V,Z){var Y=q(512),{w:W,h:ee}=U(V.valueOf(),Z.valueOf(),Y);return{w:L(W),h:L(ee)}},"Matrix, Matrix, Matrix":function(V,Z,Y){var{h:W}=U(V.valueOf(),Z.valueOf(),Y.valueOf());return{h:L(W),w:L(Y)}},"Matrix, Matrix, number":function(V,Z,Y){if(Y<0)throw new Error("w must be a positive number");var W=q(Y),{h:ee}=U(V.valueOf(),Z.valueOf(),W);return{h:L(ee),w:L(W)}}});function U(G,V,Z){for(var Y=[],W=[],ee=0;ee<Z.length;ee++){for(var ne=F(0,0),ie=F(0,0),se=0;se<G.length;se++)ne=O(ne,I(G[se],F(Math.cos(-se*Z[ee]),Math.sin(-se*Z[ee]))));for(var oe=0;oe<V.length;oe++)ie=O(ie,I(V[oe],F(Math.cos(-oe*Z[ee]),Math.sin(-oe*Z[ee]))));Y.push(ne),W.push(ie)}for(var le=[],ue=0;ue<Y.length;ue++)le.push(z(Y[ue],W[ue]));return{h:le,w:Z}}function q(G){for(var V=[],Z=0;Z<G;Z++)V.push(Z/G*Math.PI);return V}}),name$r="reviver",dependencies$r=["classes"],createReviver=factory(name$r,dependencies$r,_=>{var{classes:R}=_;return function(I,F){var z=R[F&&F.mathjs];return z&&typeof z.fromJSON=="function"?z.fromJSON(F):F}}),name$q="replacer",dependencies$q=[],createReplacer=factory(name$q,dependencies$q,()=>function(R,O){return typeof O=="number"&&(!Number.isFinite(O)||isNaN(O))?{mathjs:"number",value:String(O)}:typeof O=="bigint"?{mathjs:"bigint",value:String(O)}:O}),version$1="15.1.0",createTrue=factory("true",[],()=>!0),createFalse=factory("false",[],()=>!1),createNull=factory("null",[],()=>null),createInfinity=recreateFactory("Infinity",["config","?BigNumber"],_=>{var{config:R,BigNumber:O}=_;return R.number==="BigNumber"?new O(1/0):1/0}),createNaN=recreateFactory("NaN",["config","?BigNumber"],_=>{var{config:R,BigNumber:O}=_;return R.number==="BigNumber"?new O(NaN):NaN}),createPi=recreateFactory("pi",["config","?BigNumber"],_=>{var{config:R,BigNumber:O}=_;return R.number==="BigNumber"?createBigNumberPi(O):pi$5}),createTau=recreateFactory("tau",["config","?BigNumber"],_=>{var{config:R,BigNumber:O}=_;return R.number==="BigNumber"?createBigNumberTau(O):tau$5}),createE=recreateFactory("e",["config","?BigNumber"],_=>{var{config:R,BigNumber:O}=_;return R.number==="BigNumber"?createBigNumberE(O):e$2}),createPhi=recreateFactory("phi",["config","?BigNumber"],_=>{var{config:R,BigNumber:O}=_;return R.number==="BigNumber"?createBigNumberPhi(O):phi$1}),createLN2=recreateFactory("LN2",["config","?BigNumber"],_=>{var{config:R,BigNumber:O}=_;return R.number==="BigNumber"?new O(2).ln():Math.LN2}),createLN10=recreateFactory("LN10",["config","?BigNumber"],_=>{var{config:R,BigNumber:O}=_;return R.number==="BigNumber"?new O(10).ln():Math.LN10}),createLOG2E=recreateFactory("LOG2E",["config","?BigNumber"],_=>{var{config:R,BigNumber:O}=_;return R.number==="BigNumber"?new O(1).div(new O(2).ln()):Math.LOG2E}),createLOG10E=recreateFactory("LOG10E",["config","?BigNumber"],_=>{var{config:R,BigNumber:O}=_;return R.number==="BigNumber"?new O(1).div(new O(10).ln()):Math.LOG10E}),createSQRT1_2=recreateFactory("SQRT1_2",["config","?BigNumber"],_=>{var{config:R,BigNumber:O}=_;return R.number==="BigNumber"?new O("0.5").sqrt():Math.SQRT1_2}),createSQRT2=recreateFactory("SQRT2",["config","?BigNumber"],_=>{var{config:R,BigNumber:O}=_;return R.number==="BigNumber"?new O(2).sqrt():Math.SQRT2}),createI=recreateFactory("i",["Complex"],_=>{var{Complex:R}=_;return R.I}),createVersion=factory("version",[],()=>version$1);function recreateFactory(_,R,O){return factory(_,R,O,{recreateOnConfigChange:!0})}var createSpeedOfLight=unitFactory("speedOfLight","299792458","m s^-1"),createGravitationConstant=unitFactory("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),createPlanckConstant=unitFactory("planckConstant","6.62607015e-34","J s"),createReducedPlanckConstant=unitFactory("reducedPlanckConstant","1.0545718176461565e-34","J s"),createMagneticConstant=unitFactory("magneticConstant","1.25663706212e-6","N A^-2"),createElectricConstant=unitFactory("electricConstant","8.8541878128e-12","F m^-1"),createVacuumImpedance=unitFactory("vacuumImpedance","376.730313667","ohm"),createCoulomb=unitFactory("coulomb","8.987551792261171e9","N m^2 C^-2"),createCoulombConstant=unitFactory("coulombConstant","8.987551792261171e9","N m^2 C^-2"),createElementaryCharge=unitFactory("elementaryCharge","1.602176634e-19","C"),createBohrMagneton=unitFactory("bohrMagneton","9.2740100783e-24","J T^-1"),createConductanceQuantum=unitFactory("conductanceQuantum","7.748091729863649e-5","S"),createInverseConductanceQuantum=unitFactory("inverseConductanceQuantum","12906.403729652257","ohm"),createMagneticFluxQuantum=unitFactory("magneticFluxQuantum","2.0678338484619295e-15","Wb"),createNuclearMagneton=unitFactory("nuclearMagneton","5.0507837461e-27","J T^-1"),createKlitzing=unitFactory("klitzing","25812.807459304513","ohm"),createBohrRadius=unitFactory("bohrRadius","5.29177210903e-11","m"),createClassicalElectronRadius=unitFactory("classicalElectronRadius","2.8179403262e-15","m"),createElectronMass=unitFactory("electronMass","9.1093837015e-31","kg"),createFermiCoupling=unitFactory("fermiCoupling","1.1663787e-5","GeV^-2"),createFineStructure=numberFactory("fineStructure",.0072973525693),createHartreeEnergy=unitFactory("hartreeEnergy","4.3597447222071e-18","J"),createProtonMass=unitFactory("protonMass","1.67262192369e-27","kg"),createDeuteronMass=unitFactory("deuteronMass","3.3435830926e-27","kg"),createNeutronMass=unitFactory("neutronMass","1.6749271613e-27","kg"),createQuantumOfCirculation=unitFactory("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),createRydberg=unitFactory("rydberg","10973731.568160","m^-1"),createThomsonCrossSection=unitFactory("thomsonCrossSection","6.6524587321e-29","m^2"),createWeakMixingAngle=numberFactory("weakMixingAngle",.2229),createEfimovFactor=numberFactory("efimovFactor",22.7),createAtomicMass=unitFactory("atomicMass","1.66053906660e-27","kg"),createAvogadro=unitFactory("avogadro","6.02214076e23","mol^-1"),createBoltzmann=unitFactory("boltzmann","1.380649e-23","J K^-1"),createFaraday=unitFactory("faraday","96485.33212331001","C mol^-1"),createFirstRadiation=unitFactory("firstRadiation","3.7417718521927573e-16","W m^2"),createLoschmidt=unitFactory("loschmidt","2.686780111798444e25","m^-3"),createGasConstant=unitFactory("gasConstant","8.31446261815324","J K^-1 mol^-1"),createMolarPlanckConstant=unitFactory("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),createMolarVolume=unitFactory("molarVolume","0.022413969545014137","m^3 mol^-1"),createSackurTetrode=numberFactory("sackurTetrode",-1.16487052358),createSecondRadiation=unitFactory("secondRadiation","0.014387768775039337","m K"),createStefanBoltzmann=unitFactory("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),createWienDisplacement=unitFactory("wienDisplacement","2.897771955e-3","m K"),createMolarMass=unitFactory("molarMass","0.99999999965e-3","kg mol^-1"),createMolarMassC12=unitFactory("molarMassC12","11.9999999958e-3","kg mol^-1"),createGravity=unitFactory("gravity","9.80665","m s^-2"),createPlanckLength=unitFactory("planckLength","1.616255e-35","m"),createPlanckMass=unitFactory("planckMass","2.176435e-8","kg"),createPlanckTime=unitFactory("planckTime","5.391245e-44","s"),createPlanckCharge=unitFactory("planckCharge","1.87554603778e-18","C"),createPlanckTemperature=unitFactory("planckTemperature","1.416785e+32","K");function unitFactory(_,R,O){var I=["config","Unit","BigNumber"];return factory(_,I,F=>{var{config:z,Unit:L,BigNumber:U}=F,q=z.number==="BigNumber"?new U(R):parseFloat(R),G=new L(q,O);return G.fixPrefix=!0,G})}function numberFactory(_,R){var O=["config","BigNumber"];return factory(_,O,I=>{var{config:F,BigNumber:z}=I;return F.number==="BigNumber"?new z(R):R})}function ownKeys(_,R){var O=Object.keys(_);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(_);R&&(I=I.filter(function(F){return Object.getOwnPropertyDescriptor(_,F).enumerable})),O.push.apply(O,I)}return O}function _objectSpread(_){for(var R=1;R<arguments.length;R++){var O=arguments[R]!=null?arguments[R]:{};R%2?ownKeys(Object(O),!0).forEach(function(I){_defineProperty(_,I,O[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(O)):ownKeys(Object(O)).forEach(function(I){Object.defineProperty(_,I,Object.getOwnPropertyDescriptor(O,I))})}return _}var name$p="mapSlices",dependencies$p=["typed","isInteger"],createMapSlicesTransform=factory(name$p,dependencies$p,_=>{var{typed:R,isInteger:O}=_,I=createMapSlices({typed:R,isInteger:O});return R("mapSlices",{"...any":function(z){var L=z[1];isNumber$1(L)?z[1]=L-1:isBigNumber(L)&&(z[1]=L.minus(1));try{return I.apply(null,z)}catch(U){throw errorTransform(U)}}})},_objectSpread({isTransformFunction:!0},createMapSlices.meta)),name$o="column",dependencies$o=["typed","Index","matrix","range"],createColumnTransform=factory(name$o,dependencies$o,_=>{var{typed:R,Index:O,matrix:I,range:F}=_,z=createColumn({typed:R,Index:O,matrix:I,range:F});return R("column",{"...any":function(U){var q=U.length-1,G=U[q];isNumber$1(G)&&(U[q]=G-1);try{return z.apply(null,U)}catch(V){throw errorTransform(V)}}})},{isTransformFunction:!0});function compileInlineExpression(_,R,O){var I=_.filter(function(q){return isSymbolNode(q)&&!(q.name in R)&&!O.has(q.name)})[0];if(!I)throw new Error('No undefined variable found in inline expression "'+_+'"');var F=I.name,z=new Map,L=new PartitionedMap(O,z,new Set([F])),U=_.compile();return function(G){return z.set(F,G),U.evaluate(L)}}var name$n="transformCallback",dependencies$n=["typed"],createTransformCallback=factory(name$n,dependencies$n,_=>{var{typed:R}=_;return function(I,F){return R.isTypedFunction(I)?O(I,F):_transformCallbackFunction(I,I.length,F)};function O(I,F){var z=Object.fromEntries(Object.entries(I.signatures).map(L=>{var[U,q]=L,G=U.split(",").length;return R.isTypedFunction(q)?[U,O(q,F)]:[U,_transformCallbackFunction(q,G,F)]}));return typeof I.name=="string"?R(I.name,z):R(z)}});function _transformCallbackFunction(_,R,O){return R===O?_:R===O+1?function(){for(var I=arguments.length,F=new Array(I),z=0;z<I;z++)F[z]=arguments[z];var L=F.slice(0,O),U=_transformDims(F[O]);return _(...L,U)}:R>O+1?function(){for(var I=arguments.length,F=new Array(I),z=0;z<I;z++)F[z]=arguments[z];var L=F.slice(0,O),U=_transformDims(F[O]),q=F.slice(O+1);return _(...L,U,...q)}:_}function _transformDims(_){return _.map(R=>R+1)}var name$m="filter",dependencies$m=["typed"],createFilterTransform=factory(name$m,dependencies$m,_=>{var{typed:R}=_;function O(F,z,L){var U=createFilter({typed:R}),q=createTransformCallback({typed:R});if(F.length===0)return U();var G=F[0];if(F.length===1)return U(G);var V=F.length-1,Z=F[V];return G&&(G=I(G,L)),Z&&(isSymbolNode(Z)||isFunctionAssignmentNode(Z)?Z=I(Z,L):Z=compileInlineExpression(Z,z,L)),U(G,q(Z,V))}O.rawArgs=!0;function I(F,z){return F.compile().evaluate(z)}return O},{isTransformFunction:!0}),name$l="forEach",dependencies$l=["typed"],createForEachTransform=factory(name$l,dependencies$l,_=>{var{typed:R}=_,O=createForEach({typed:R}),I=createTransformCallback({typed:R});function F(L,U,q){if(L.length===0)return O();var G=L[0];if(L.length===1)return O(G);var V=L.length-1,Z=L[V];return G&&(G=z(G,q)),Z&&(isSymbolNode(Z)||isFunctionAssignmentNode(Z)?Z=z(Z,q):Z=compileInlineExpression(Z,U,q)),O(G,I(Z,V))}F.rawArgs=!0;function z(L,U){return L.compile().evaluate(U)}return F},{isTransformFunction:!0}),name$k="index",dependencies$k=["Index","getMatrixDataType"],createIndexTransform=factory(name$k,dependencies$k,_=>{var{Index:R,getMatrixDataType:O}=_;return function(){for(var F=[],z=0,L=arguments.length;z<L;z++){var U=arguments[z];if(isRange(U))U.start--,U.end-=U.step>0?0:2;else if(U&&U.isSet===!0)U=U.map(function(G){return G-1});else if(isArray$1(U)||isMatrix(U))O(U)!=="boolean"&&(U=U.map(function(G){return G-1}));else if(isNumber$1(U)||isBigInt(U))U--;else if(isBigNumber(U))U=U.toNumber()-1;else if(typeof U!="string")throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");F[z]=U}var q=new R;return R.apply(q,F),q}},{isTransformFunction:!0}),name$j="map",dependencies$j=["typed"],createMapTransform=factory(name$j,dependencies$j,_=>{var{typed:R}=_,O=createMap({typed:R}),I=createTransformCallback({typed:R});function F(z,L,U){if(z.length===0)return O();if(z.length===1)return O(z[0]);var q=z.length-1,G=z.slice(0,q),V=z[q];return G=G.map(Y=>Z(Y,U)),V&&(isSymbolNode(V)||isFunctionAssignmentNode(V)?V=Z(V,U):V=compileInlineExpression(V,L,U)),O(...G,I(V,q));function Z(Y,W){return Y.compile().evaluate(W)}}return F.rawArgs=!0,F},{isTransformFunction:!0});function dimToZeroBase(_){return isNumber$1(_)?_-1:isBigNumber(_)?_.minus(1):_}function isNumberOrBigNumber(_){return isNumber$1(_)||isBigNumber(_)}function lastDimToZeroBase(_){if(_.length===2&&isCollection(_[0])){_=_.slice();var R=_[1];isNumberOrBigNumber(R)&&(_[1]=dimToZeroBase(R))}return _}var name$i="max",dependencies$i=["typed","config","numeric","larger","isNaN"],createMaxTransform=factory(name$i,dependencies$i,_=>{var{typed:R,config:O,numeric:I,larger:F,isNaN:z}=_,L=createMax({typed:R,config:O,numeric:I,larger:F,isNaN:z});return R("max",{"...any":function(q){q=lastDimToZeroBase(q);try{return L.apply(null,q)}catch(G){throw errorTransform(G)}}})},{isTransformFunction:!0}),name$h="mean",dependencies$h=["typed","add","divide"],createMeanTransform=factory(name$h,dependencies$h,_=>{var{typed:R,add:O,divide:I}=_,F=createMean({typed:R,add:O,divide:I});return R("mean",{"...any":function(L){L=lastDimToZeroBase(L);try{return F.apply(null,L)}catch(U){throw errorTransform(U)}}})},{isTransformFunction:!0}),name$g="min",dependencies$g=["typed","config","numeric","smaller","isNaN"],createMinTransform=factory(name$g,dependencies$g,_=>{var{typed:R,config:O,numeric:I,smaller:F,isNaN:z}=_,L=createMin({typed:R,config:O,numeric:I,smaller:F,isNaN:z});return R("min",{"...any":function(q){q=lastDimToZeroBase(q);try{return L.apply(null,q)}catch(G){throw errorTransform(G)}}})},{isTransformFunction:!0}),name$f="range",dependencies$f=["typed","config","?matrix","?bignumber","equal","smaller","smallerEq","larger","largerEq","add","isZero","isPositive"],createRangeTransform=factory(name$f,dependencies$f,_=>{var{typed:R,config:O,matrix:I,bignumber:F,equal:z,smaller:L,smallerEq:U,larger:q,largerEq:G,add:V,isZero:Z,isPositive:Y}=_,W=createRange({typed:R,config:O,matrix:I,bignumber:F,equal:z,smaller:L,smallerEq:U,larger:q,largerEq:G,add:V,isZero:Z,isPositive:Y});return R("range",{"...any":function(ne){var ie=ne.length-1,se=ne[ie];return typeof se!="boolean"&&ne.push(!0),W.apply(null,ne)}})},{isTransformFunction:!0}),name$e="row",dependencies$e=["typed","Index","matrix","range"],createRowTransform=factory(name$e,dependencies$e,_=>{var{typed:R,Index:O,matrix:I,range:F}=_,z=createRow({typed:R,Index:O,matrix:I,range:F});return R("row",{"...any":function(U){var q=U.length-1,G=U[q];isNumber$1(G)&&(U[q]=G-1);try{return z.apply(null,U)}catch(V){throw errorTransform(V)}}})},{isTransformFunction:!0}),name$d="subset",dependencies$d=["typed","matrix","zeros","add"],createSubsetTransform=factory(name$d,dependencies$d,_=>{var{typed:R,matrix:O,zeros:I,add:F}=_,z=createSubset({typed:R,matrix:O,zeros:I,add:F});return R("subset",{"...any":function(U){try{return z.apply(null,U)}catch(q){throw errorTransform(q)}}})},{isTransformFunction:!0}),name$c="concat",dependencies$c=["typed","matrix","isInteger"],createConcatTransform=factory(name$c,dependencies$c,_=>{var{typed:R,matrix:O,isInteger:I}=_,F=createConcat({typed:R,matrix:O,isInteger:I});return R("concat",{"...any":function(L){var U=L.length-1,q=L[U];isNumber$1(q)?L[U]=q-1:isBigNumber(q)&&(L[U]=q.minus(1));try{return F.apply(null,L)}catch(G){throw errorTransform(G)}}})},{isTransformFunction:!0}),name$b="diff",dependencies$b=["typed","matrix","subtract","number","bignumber"],createDiffTransform=factory(name$b,dependencies$b,_=>{var{typed:R,matrix:O,subtract:I,number:F,bignumber:z}=_,L=createDiff({typed:R,matrix:O,subtract:I,number:F,bignumber:z});return R(name$b,{"...any":function(q){q=lastDimToZeroBase(q);try{return L.apply(null,q)}catch(G){throw errorTransform(G)}}})},{isTransformFunction:!0}),name$a="std",dependencies$a=["typed","map","sqrt","variance"],createStdTransform=factory(name$a,dependencies$a,_=>{var{typed:R,map:O,sqrt:I,variance:F}=_,z=createStd({typed:R,map:O,sqrt:I,variance:F});return R("std",{"...any":function(U){U=lastDimToZeroBase(U);try{return z.apply(null,U)}catch(q){throw errorTransform(q)}}})},{isTransformFunction:!0}),name$9="sum",dependencies$9=["typed","config","add","numeric"],createSumTransform=factory(name$9,dependencies$9,_=>{var{typed:R,config:O,add:I,numeric:F}=_,z=createSum({typed:R,config:O,add:I,numeric:F});return R(name$9,{"...any":function(U){U=lastDimToZeroBase(U);try{return z.apply(null,U)}catch(q){throw errorTransform(q)}}})},{isTransformFunction:!0}),name$8="quantileSeq",dependencies$8=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],createQuantileSeqTransform=factory(name$8,dependencies$8,_=>{var{typed:R,bignumber:O,add:I,subtract:F,divide:z,multiply:L,partitionSelect:U,compare:q,isInteger:G,smaller:V,smallerEq:Z,larger:Y,mapSlices:W}=_,ee=createQuantileSeq({typed:R,bignumber:O,add:I,subtract:F,divide:z,multiply:L,partitionSelect:U,compare:q,isInteger:G,smaller:V,smallerEq:Z,larger:Y,mapSlices:W});return R("quantileSeq",{"Array | Matrix, number | BigNumber":ee,"Array | Matrix, number | BigNumber, number":(ie,se,oe)=>ee(ie,se,ne(oe)),"Array | Matrix, number | BigNumber, boolean":ee,"Array | Matrix, number | BigNumber, boolean, number":(ie,se,oe,le)=>ee(ie,se,oe,ne(le)),"Array | Matrix, Array | Matrix":ee,"Array | Matrix, Array | Matrix, number":(ie,se,oe)=>ee(ie,se,ne(oe)),"Array | Matrix, Array | Matrix, boolean":ee,"Array | Matrix, Array | Matrix, boolean, number":(ie,se,oe,le)=>ee(ie,se,oe,ne(le))});function ne(ie){return lastDimToZeroBase([[],ie])[1]}},{isTransformFunction:!0}),name$7="cumsum",dependencies$7=["typed","add","unaryPlus"],createCumSumTransform=factory(name$7,dependencies$7,_=>{var{typed:R,add:O,unaryPlus:I}=_,F=createCumSum({typed:R,add:O,unaryPlus:I});return R(name$7,{"...any":function(L){if(L.length===2&&isCollection(L[0])){var U=L[1];isNumber$1(U)?L[1]=U-1:isBigNumber(U)&&(L[1]=U.minus(1))}try{return F.apply(null,L)}catch(q){throw errorTransform(q)}}})},{isTransformFunction:!0}),name$6="variance",dependencies$6=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],createVarianceTransform=factory(name$6,dependencies$6,_=>{var{typed:R,add:O,subtract:I,multiply:F,divide:z,mapSlices:L,isNaN:U}=_,q=createVariance({typed:R,add:O,subtract:I,multiply:F,divide:z,mapSlices:L,isNaN:U});return R(name$6,{"...any":function(V){V=lastDimToZeroBase(V);try{return q.apply(null,V)}catch(Z){throw errorTransform(Z)}}})},{isTransformFunction:!0}),name$5="print",dependencies$5=["typed","matrix","zeros","add"],createPrintTransform=factory(name$5,dependencies$5,_=>{var{typed:R,matrix:O,zeros:I,add:F}=_,z=createPrint({typed:R,matrix:O,zeros:I,add:F});return R(name$5,{"string, Object | Array":function(q,G){return z(L(q),G)},"string, Object | Array, number | Object":function(q,G,V){return z(L(q),G,V)}});function L(U){return U.replace(printTemplate,q=>{var G=q.slice(1).split("."),V=G.map(function(Z){return!isNaN(Z)&&Z.length>0?parseInt(Z)-1:Z});return"$"+V.join(".")})}},{isTransformFunction:!0}),name$4="and",dependencies$4=["typed","matrix","zeros","add","equalScalar","not","concat"],createAndTransform=factory(name$4,dependencies$4,_=>{var{typed:R,matrix:O,equalScalar:I,zeros:F,not:z,concat:L}=_,U=createAnd({typed:R,matrix:O,equalScalar:I,zeros:F,not:z,concat:L});function q(G,V,Z){var Y=G[0].compile().evaluate(Z);if(!isCollection(Y)&&!U(Y,!0))return!1;var W=G[1].compile().evaluate(Z);return U(Y,W)}return q.rawArgs=!0,q},{isTransformFunction:!0}),name$3="or",dependencies$3=["typed","matrix","equalScalar","DenseMatrix","concat"],createOrTransform=factory(name$3,dependencies$3,_=>{var{typed:R,matrix:O,equalScalar:I,DenseMatrix:F,concat:z}=_,L=createOr({typed:R,matrix:O,equalScalar:I,DenseMatrix:F,concat:z});function U(q,G,V){var Z=q[0].compile().evaluate(V);if(!isCollection(Z)&&L(Z,!1))return!0;var Y=q[1].compile().evaluate(V);return L(Z,Y)}return U.rawArgs=!0,U},{isTransformFunction:!0}),name$2="nullish",dependencies$2=["typed","matrix","size","flatten","deepEqual"],createNullishTransform=factory(name$2,dependencies$2,_=>{var{typed:R,matrix:O,size:I,flatten:F,deepEqual:z}=_,L=createNullish({typed:R,matrix:O,size:I,flatten:F,deepEqual:z});function U(q,G,V){var Z=q[0].compile().evaluate(V);if(!isCollection(Z)&&Z!=null&&Z!==void 0)return Z;var Y=q[1].compile().evaluate(V);return L(Z,Y)}return U.rawArgs=!0,U},{isTransformFunction:!0}),name$1="bitAnd",dependencies$1=["typed","matrix","zeros","add","equalScalar","not","concat"],createBitAndTransform=factory(name$1,dependencies$1,_=>{var{typed:R,matrix:O,equalScalar:I,zeros:F,not:z,concat:L}=_,U=createBitAnd({typed:R,matrix:O,equalScalar:I,zeros:F,not:z,concat:L});function q(G,V,Z){var Y=G[0].compile().evaluate(Z);if(!isCollection(Y)){if(isNaN(Y))return NaN;if(Y===0||Y===!1)return 0}var W=G[1].compile().evaluate(Z);return U(Y,W)}return q.rawArgs=!0,q},{isTransformFunction:!0}),name="bitOr",dependencies=["typed","matrix","equalScalar","DenseMatrix","concat"],createBitOrTransform=factory(name,dependencies,_=>{var{typed:R,matrix:O,equalScalar:I,DenseMatrix:F,concat:z}=_,L=createBitOr({typed:R,matrix:O,equalScalar:I,DenseMatrix:F,concat:z});function U(q,G,V){var Z=q[0].compile().evaluate(V);if(!isCollection(Z)){if(isNaN(Z))return NaN;if(Z===-1)return-1;if(Z===!0)return 1}var Y=q[1].compile().evaluate(V);return L(Z,Y)}return U.rawArgs=!0,U},{isTransformFunction:!0}),BigNumber=createBigNumberClass({config:config$1}),Complex=createComplexClass({}),e$1=createE({BigNumber,config:config$1}),_false=createFalse({}),fineStructure=createFineStructure({BigNumber,config:config$1}),Fraction=createFractionClass({}),i$1=createI({Complex}),_Infinity=createInfinity({BigNumber,config:config$1}),LN10=createLN10({BigNumber,config:config$1}),LOG10E=createLOG10E({BigNumber,config:config$1}),Matrix$1=createMatrixClass({}),_NaN=createNaN({BigNumber,config:config$1}),_null=createNull({}),phi=createPhi({BigNumber,config:config$1}),Range$1=createRangeClass({}),ResultSet=createResultSet({}),SQRT1_2=createSQRT1_2({BigNumber,config:config$1}),sackurTetrode=createSackurTetrode({BigNumber,config:config$1}),tau$4=createTau({BigNumber,config:config$1}),_true=createTrue({}),version=createVersion({}),DenseMatrix=createDenseMatrixClass({Matrix:Matrix$1,config:config$1}),efimovFactor=createEfimovFactor({BigNumber,config:config$1}),LN2=createLN2({BigNumber,config:config$1}),pi$4=createPi({BigNumber,config:config$1}),replacer=createReplacer({}),SQRT2=createSQRT2({BigNumber,config:config$1}),typed=createTyped({BigNumber,Complex,DenseMatrix,Fraction}),weakMixingAngle=createWeakMixingAngle({BigNumber,config:config$1}),abs$1=createAbs({typed}),acos$1=createAcos({Complex,config:config$1,typed}),acot=createAcot({BigNumber,typed}),acsc=createAcsc({BigNumber,Complex,config:config$1,typed}),addScalar=createAddScalar({typed}),arg=createArg({typed}),asech=createAsech({BigNumber,Complex,config:config$1,typed}),asinh=createAsinh({typed}),atan$1=createAtan({typed}),atanh=createAtanh({Complex,config:config$1,typed}),bigint=createBigint({typed}),bitNot=createBitNot({typed}),boolean=createBoolean({typed}),clone=createClone({typed}),combinations=createCombinations({typed}),complex=createComplex({Complex,typed}),conj=createConj({typed}),cos$2=createCos({typed}),cot=createCot({BigNumber,typed}),csc=createCsc({BigNumber,typed}),cube=createCube({typed}),equalScalar=createEqualScalar({config:config$1,typed}),erf=createErf({typed}),exp$1=createExp({typed}),expm1=createExpm1({Complex,typed}),filter$1=createFilter({typed}),flatten$1=createFlatten({typed}),forEach=createForEach({typed}),format$2=createFormat({typed}),getMatrixDataType=createGetMatrixDataType({typed}),hex$1=createHex({format:format$2,typed}),im=createIm({typed}),isBounded=createIsBounded({typed}),isNaN$1=createIsNaN({typed}),isNumeric$1=createIsNumeric({typed}),isPrime=createIsPrime({typed}),LOG2E=createLOG2E({BigNumber,config:config$1}),lgamma=createLgamma({Complex,typed}),log10=createLog10({Complex,config:config$1,typed}),log2=createLog2({Complex,config:config$1,typed}),map$2=createMap({typed}),mode$1=createMode({isNaN:isNaN$1,isNumeric:isNumeric$1,typed}),multiplyScalar=createMultiplyScalar({typed}),not=createNot({typed}),number$5=createNumber({typed}),oct=createOct({format:format$2,typed}),pickRandom=createPickRandom({config:config$1,typed}),print=createPrint({typed}),random=createRandom({config:config$1,typed}),re$2=createRe({typed}),sec=createSec({BigNumber,typed}),sign$3=createSign({BigNumber,Fraction,complex,typed}),sin$2=createSin({typed}),size=createSize({typed}),SparseMatrix=createSparseMatrixClass({Matrix:Matrix$1,equalScalar,typed}),splitUnit=createSplitUnit({typed}),square$1=createSquare({typed}),string$1=createString({typed}),subtractScalar=createSubtractScalar({typed}),tan$1=createTan({typed}),toBest=createToBest({typed}),typeOf=createTypeOf({typed}),acosh=createAcosh({Complex,config:config$1,typed}),acsch=createAcsch({BigNumber,typed}),asec=createAsec({BigNumber,Complex,config:config$1,typed}),bignumber=createBignumber({BigNumber,typed}),combinationsWithRep=createCombinationsWithRep({typed}),cosh=createCosh({typed}),csch=createCsch({BigNumber,typed}),dot$1=createDot({addScalar,conj,multiplyScalar,size,typed}),hasNumericValue=createHasNumericValue({isNumeric:isNumeric$1,typed}),isFinite$1=createIsFinite({isBounded,map:map$2,typed}),isNegative=createIsNegative({config:config$1,typed}),isZero=createIsZero({equalScalar,typed}),matrix=createMatrix({DenseMatrix,Matrix:Matrix$1,SparseMatrix,typed}),matrixFromFunction=createMatrixFromFunction({isZero,matrix,typed}),multiply=createMultiply({addScalar,dot:dot$1,equalScalar,matrix,multiplyScalar,typed}),ones=createOnes({BigNumber,config:config$1,matrix,typed}),randomInt=createRandomInt({config:config$1,log2,typed}),resize=createResize({config:config$1,matrix}),sech=createSech({BigNumber,typed}),sinh=createSinh({typed}),sparse$1=createSparse({SparseMatrix,typed}),sqrt$2=createSqrt({Complex,config:config$1,typed}),squeeze=createSqueeze({typed}),tanh=createTanh({typed}),transpose=createTranspose({matrix,typed}),xgcd=createXgcd({BigNumber,config:config$1,matrix,typed}),zeros=createZeros({BigNumber,config:config$1,matrix,typed}),acoth=createAcoth({BigNumber,Complex,config:config$1,typed}),asin$1=createAsin({Complex,config:config$1,typed}),bin=createBin({format:format$2,typed}),coth=createCoth({BigNumber,typed}),ctranspose=createCtranspose({conj,transpose,typed}),diag=createDiag({DenseMatrix,SparseMatrix,matrix,typed}),equal=createEqual({DenseMatrix,SparseMatrix,equalScalar,matrix,typed}),fraction=createFraction({Fraction,typed}),identity$9=createIdentity({BigNumber,DenseMatrix,SparseMatrix,config:config$1,matrix,typed}),isInteger=createIsInteger({equal,typed}),kron=createKron({matrix,multiplyScalar,typed}),mapSlices=createMapSlices({isInteger,typed}),matrixFromColumns=createMatrixFromColumns({flatten:flatten$1,matrix,size,typed}),numeric=createNumeric({bignumber,fraction,number:number$5}),prod=createProd({config:config$1,multiplyScalar,numeric,typed}),reshape=createReshape({isInteger,matrix,typed}),round$1=createRound({BigNumber,DenseMatrix,config:config$1,equalScalar,matrix,typed,zeros}),unaryMinus=createUnaryMinus({typed}),bernoulli=createBernoulli({BigNumber,Fraction,config:config$1,isInteger,number:number$5,typed}),cbrt=createCbrt({BigNumber,Complex,Fraction,config:config$1,isNegative,matrix,typed,unaryMinus}),concat=createConcat({isInteger,matrix,typed}),count$2=createCount({prod,size,typed}),deepEqual=createDeepEqual({equal,typed}),divideScalar=createDivideScalar({numeric,typed}),dotMultiply=createDotMultiply({concat,equalScalar,matrix,multiplyScalar,typed}),floor=createFloor({DenseMatrix,config:config$1,equalScalar,matrix,round:round$1,typed,zeros}),gcd=createGcd({BigNumber,DenseMatrix,concat,config:config$1,equalScalar,matrix,round:round$1,typed,zeros}),isPositive=createIsPositive({config:config$1,typed}),larger=createLarger({DenseMatrix,SparseMatrix,bignumber,concat,config:config$1,matrix,typed}),lcm=createLcm({concat,equalScalar,matrix,typed}),leftShift=createLeftShift({DenseMatrix,concat,equalScalar,matrix,typed,zeros}),lsolve=createLsolve({DenseMatrix,divideScalar,equalScalar,matrix,multiplyScalar,subtractScalar,typed}),max$1=createMax({config:config$1,isNaN:isNaN$1,larger,numeric,typed}),mod=createMod({DenseMatrix,concat,config:config$1,equalScalar,matrix,round:round$1,typed,zeros}),nthRoot=createNthRoot({BigNumber,concat,equalScalar,matrix,typed}),nullish=createNullish({deepEqual,flatten:flatten$1,matrix,size,typed}),or=createOr({DenseMatrix,concat,equalScalar,matrix,typed}),qr=createQr({addScalar,complex,conj,divideScalar,equal,identity:identity$9,isZero,matrix,multiplyScalar,sign:sign$3,sqrt:sqrt$2,subtractScalar,typed,unaryMinus,zeros}),rightArithShift=createRightArithShift({DenseMatrix,concat,equalScalar,matrix,typed,zeros}),smaller$1=createSmaller({DenseMatrix,SparseMatrix,bignumber,concat,config:config$1,matrix,typed}),subtract=createSubtract({DenseMatrix,concat,equalScalar,matrix,subtractScalar,typed,unaryMinus}),to=createTo({concat,matrix,typed}),unaryPlus=createUnaryPlus({config:config$1,numeric,typed}),usolve=createUsolve({DenseMatrix,divideScalar,equalScalar,matrix,multiplyScalar,subtractScalar,typed}),xor=createXor({DenseMatrix,SparseMatrix,concat,matrix,typed}),add$1=createAdd({DenseMatrix,SparseMatrix,addScalar,concat,equalScalar,matrix,typed}),atan2$1=createAtan2({BigNumber,DenseMatrix,concat,equalScalar,matrix,typed}),bitAnd=createBitAnd({concat,equalScalar,matrix,typed}),bitOr=createBitOr({DenseMatrix,concat,equalScalar,matrix,typed}),bitXor=createBitXor({DenseMatrix,SparseMatrix,concat,matrix,typed}),catalan=createCatalan({addScalar,combinations,divideScalar,isInteger,isNegative,multiplyScalar,typed}),compare=createCompare({BigNumber,DenseMatrix,Fraction,concat,config:config$1,equalScalar,matrix,typed}),compareText=createCompareText({concat,matrix,typed}),composition=createComposition({addScalar,combinations,isInteger,isNegative,isPositive,larger,typed}),cross$1=createCross({matrix,multiply,subtract,typed}),det=createDet({divideScalar,isZero,matrix,multiply,subtractScalar,typed,unaryMinus}),diff=createDiff({matrix,number:number$5,subtract,typed}),distance=createDistance({abs:abs$1,addScalar,deepEqual,divideScalar,multiplyScalar,sqrt:sqrt$2,subtractScalar,typed}),dotDivide=createDotDivide({DenseMatrix,SparseMatrix,concat,divideScalar,equalScalar,matrix,typed}),equalText=createEqualText({compareText,isZero,typed}),FibonacciHeap=createFibonacciHeapClass({larger,smaller:smaller$1}),hypot=createHypot({abs:abs$1,addScalar,divideScalar,isPositive,multiplyScalar,smaller:smaller$1,sqrt:sqrt$2,typed}),ImmutableDenseMatrix=createImmutableDenseMatrixClass({DenseMatrix,smaller:smaller$1}),Index=createIndexClass({ImmutableDenseMatrix,getMatrixDataType}),intersect=createIntersect({abs:abs$1,add:add$1,addScalar,config:config$1,divideScalar,equalScalar,flatten:flatten$1,isNumeric:isNumeric$1,isZero,matrix,multiply,multiplyScalar,smaller:smaller$1,subtract,typed}),invmod=createInvmod({BigNumber,add:add$1,config:config$1,equal,isInteger,mod,smaller:smaller$1,typed,xgcd}),largerEq=createLargerEq({DenseMatrix,SparseMatrix,concat,config:config$1,matrix,typed}),log$2=createLog({Complex,config:config$1,divideScalar,typeOf,typed}),lsolveAll=createLsolveAll({DenseMatrix,divideScalar,equalScalar,matrix,multiplyScalar,subtractScalar,typed}),matrixFromRows=createMatrixFromRows({flatten:flatten$1,matrix,size,typed}),min$2=createMin({config:config$1,isNaN:isNaN$1,numeric,smaller:smaller$1,typed}),nthRoots=createNthRoots({Complex,config:config$1,divideScalar,typed}),partitionSelect=createPartitionSelect({compare,isNaN:isNaN$1,isNumeric:isNumeric$1,typed}),rightLogShift=createRightLogShift({DenseMatrix,concat,equalScalar,matrix,typed,zeros}),slu=createSlu({SparseMatrix,abs:abs$1,add:add$1,divideScalar,larger,largerEq,multiply,subtract,transpose,typed}),Spa=createSpaClass({FibonacciHeap,addScalar,equalScalar}),subset=createSubset({add:add$1,matrix,typed,zeros}),sum$1=createSum({add:add$1,config:config$1,numeric,typed}),trace=createTrace({add:add$1,matrix,typed}),usolveAll=createUsolveAll({DenseMatrix,divideScalar,equalScalar,matrix,multiplyScalar,subtractScalar,typed}),zpk2tf=createZpk2tf({Complex,add:add$1,multiply,number:number$5,typed}),ceil=createCeil({DenseMatrix,config:config$1,equalScalar,matrix,round:round$1,typed,zeros}),compareNatural=createCompareNatural({compare,typed}),cumsum$1=createCumSum({add:add$1,typed,unaryPlus}),fix=createFix({Complex,DenseMatrix,ceil,equalScalar,floor,matrix,typed,zeros}),index=createIndex({Index,typed}),inv=createInv({abs:abs$1,addScalar,det,divideScalar,identity:identity$9,matrix,multiply,typed,unaryMinus}),log1p=createLog1p({Complex,config:config$1,divideScalar,log:log$2,typed}),lup=createLup({DenseMatrix,Spa,SparseMatrix,abs:abs$1,addScalar,divideScalar,equalScalar,larger,matrix,multiplyScalar,subtractScalar,typed,unaryMinus}),pinv=createPinv({Complex,add:add$1,ctranspose,deepEqual,divideScalar,dot:dot$1,dotDivide,equal,inv,matrix,multiply,typed}),pow$2=createPow({Complex,config:config$1,fraction,identity:identity$9,inv,matrix,multiply,number:number$5,typed}),setCartesian=createSetCartesian({DenseMatrix,Index,compareNatural,size,subset,typed}),setDistinct=createSetDistinct({DenseMatrix,Index,compareNatural,size,subset,typed}),setIsSubset=createSetIsSubset({Index,compareNatural,size,subset,typed}),setPowerset=createSetPowerset({Index,compareNatural,size,subset,typed}),smallerEq=createSmallerEq({DenseMatrix,SparseMatrix,concat,config:config$1,matrix,typed}),sort$2=createSort({compare,compareNatural,matrix,typed}),sqrtm=createSqrtm({abs:abs$1,add:add$1,identity:identity$9,inv,map:map$2,max:max$1,multiply,size,sqrt:sqrt$2,subtract,typed}),unequal=createUnequal({DenseMatrix,SparseMatrix,concat,config:config$1,equalScalar,matrix,typed}),and$1=createAnd({concat,equalScalar,matrix,not,typed,zeros}),divide=createDivide({divideScalar,equalScalar,inv,matrix,multiply,typed}),expm=createExpm({abs:abs$1,add:add$1,identity:identity$9,inv,multiply,typed}),fft=createFft({addScalar,ceil,conj,divideScalar,dotDivide,exp:exp$1,i:i$1,log2,matrix,multiplyScalar,pow:pow$2,tau:tau$4,typed}),freqz=createFreqz({Complex,add:add$1,divide,matrix,multiply,typed}),gamma$1=createGamma({BigNumber,Complex,config:config$1,multiplyScalar,pow:pow$2,typed}),ifft=createIfft({conj,dotDivide,fft,typed}),kldivergence=createKldivergence({divide,dotDivide,isNumeric:isNumeric$1,log:log$2,map:map$2,matrix,multiply,sum:sum$1,typed}),lusolve=createLusolve({DenseMatrix,lsolve,lup,matrix,slu,typed,usolve}),mean$2=createMean({add:add$1,divide,typed}),median$1=createMedian({add:add$1,compare,divide,partitionSelect,typed}),polynomialRoot=createPolynomialRoot({add:add$1,cbrt,divide,equalScalar,im,isZero,multiply,re:re$2,sqrt:sqrt$2,subtract,typeOf,typed,unaryMinus}),quantileSeq=createQuantileSeq({bignumber,add:add$1,compare,divide,isInteger,larger,mapSlices,multiply,partitionSelect,smaller:smaller$1,smallerEq,subtract,typed}),range$2=createRange({bignumber,matrix,add:add$1,config:config$1,equal,isPositive,isZero,larger,largerEq,smaller:smaller$1,smallerEq,typed}),row=createRow({Index,matrix,range:range$2,typed}),setDifference=createSetDifference({DenseMatrix,Index,compareNatural,size,subset,typed}),setMultiplicity=createSetMultiplicity({Index,compareNatural,size,subset,typed}),setSymDifference=createSetSymDifference({Index,concat,setDifference,size,subset,typed}),solveODE=createSolveODE({abs:abs$1,add:add$1,bignumber,divide,isNegative,isPositive,larger,map:map$2,matrix,max:max$1,multiply,smaller:smaller$1,subtract,typed,unaryMinus}),Unit=createUnitClass({BigNumber,Complex,Fraction,abs:abs$1,addScalar,config:config$1,divideScalar,equal,fix,format:format$2,isNumeric:isNumeric$1,multiplyScalar,number:number$5,pow:pow$2,round:round$1,subtractScalar}),vacuumImpedance=createVacuumImpedance({BigNumber,Unit,config:config$1}),atomicMass=createAtomicMass({BigNumber,Unit,config:config$1}),bohrMagneton=createBohrMagneton({BigNumber,Unit,config:config$1}),boltzmann=createBoltzmann({BigNumber,Unit,config:config$1}),column$1=createColumn({Index,matrix,range:range$2,typed}),conductanceQuantum=createConductanceQuantum({BigNumber,Unit,config:config$1}),coulomb=createCoulomb({BigNumber,Unit,config:config$1}),createUnit=createCreateUnit({Unit,typed}),deuteronMass=createDeuteronMass({BigNumber,Unit,config:config$1}),eigs=createEigs({abs:abs$1,add:add$1,addScalar,atan:atan$1,bignumber,column:column$1,complex,config:config$1,cos:cos$2,diag,divideScalar,dot:dot$1,equal,flatten:flatten$1,im,inv,larger,matrix,matrixFromColumns,multiply,multiplyScalar,number:number$5,qr,re:re$2,reshape,sin:sin$2,size,smaller:smaller$1,sqrt:sqrt$2,subtract,typed,usolve,usolveAll}),electronMass=createElectronMass({BigNumber,Unit,config:config$1}),factorial=createFactorial({gamma:gamma$1,typed}),fermiCoupling=createFermiCoupling({BigNumber,Unit,config:config$1}),gasConstant=createGasConstant({BigNumber,Unit,config:config$1}),gravity=createGravity({BigNumber,Unit,config:config$1}),klitzing=createKlitzing({BigNumber,Unit,config:config$1}),loschmidt=createLoschmidt({BigNumber,Unit,config:config$1}),mad=createMad({abs:abs$1,map:map$2,median:median$1,subtract,typed}),magneticFluxQuantum=createMagneticFluxQuantum({BigNumber,Unit,config:config$1}),molarMass=createMolarMass({BigNumber,Unit,config:config$1}),molarPlanckConstant=createMolarPlanckConstant({BigNumber,Unit,config:config$1}),multinomial=createMultinomial({add:add$1,divide,factorial,isInteger,isPositive,multiply,typed}),norm=createNorm({abs:abs$1,add:add$1,conj,ctranspose,eigs,equalScalar,larger,matrix,multiply,pow:pow$2,smaller:smaller$1,sqrt:sqrt$2,typed}),permutations=createPermutations({factorial,typed}),planckConstant=createPlanckConstant({BigNumber,Unit,config:config$1}),planckMass=createPlanckMass({BigNumber,Unit,config:config$1}),planckTime=createPlanckTime({BigNumber,Unit,config:config$1}),reducedPlanckConstant=createReducedPlanckConstant({BigNumber,Unit,config:config$1}),rotationMatrix$1=createRotationMatrix({BigNumber,DenseMatrix,SparseMatrix,addScalar,config:config$1,cos:cos$2,matrix,multiplyScalar,norm,sin:sin$2,typed,unaryMinus}),rydberg=createRydberg({BigNumber,Unit,config:config$1}),secondRadiation=createSecondRadiation({BigNumber,Unit,config:config$1}),setSize=createSetSize({compareNatural,typed}),speedOfLight=createSpeedOfLight({BigNumber,Unit,config:config$1}),stefanBoltzmann=createStefanBoltzmann({BigNumber,Unit,config:config$1}),thomsonCrossSection=createThomsonCrossSection({BigNumber,Unit,config:config$1}),variance$1=createVariance({add:add$1,divide,isNaN:isNaN$1,mapSlices,multiply,subtract,typed}),zeta=createZeta({BigNumber,Complex,add:add$1,config:config$1,divide,equal,factorial,gamma:gamma$1,isBounded,isNegative,multiply,pi:pi$4,pow:pow$2,sin:sin$2,smallerEq,subtract,typed}),avogadro=createAvogadro({BigNumber,Unit,config:config$1}),bohrRadius=createBohrRadius({BigNumber,Unit,config:config$1}),corr=createCorr({add:add$1,divide,matrix,mean:mean$2,multiply,pow:pow$2,sqrt:sqrt$2,subtract,sum:sum$1,typed}),dotPow=createDotPow({DenseMatrix,SparseMatrix,concat,equalScalar,matrix,pow:pow$2,typed}),elementaryCharge=createElementaryCharge({BigNumber,Unit,config:config$1}),faraday=createFaraday({BigNumber,Unit,config:config$1}),hartreeEnergy=createHartreeEnergy({BigNumber,Unit,config:config$1}),inverseConductanceQuantum=createInverseConductanceQuantum({BigNumber,Unit,config:config$1}),magneticConstant=createMagneticConstant({BigNumber,Unit,config:config$1}),molarMassC12=createMolarMassC12({BigNumber,Unit,config:config$1}),neutronMass=createNeutronMass({BigNumber,Unit,config:config$1}),planckCharge=createPlanckCharge({BigNumber,Unit,config:config$1}),planckTemperature=createPlanckTemperature({BigNumber,Unit,config:config$1}),quantumOfCirculation=createQuantumOfCirculation({BigNumber,Unit,config:config$1}),setIntersect=createSetIntersect({DenseMatrix,Index,compareNatural,size,subset,typed}),std=createStd({map:map$2,sqrt:sqrt$2,typed,variance:variance$1}),stirlingS2=createStirlingS2({bignumber,addScalar,combinations,divideScalar,factorial,isInteger,isNegative,larger,multiplyScalar,number:number$5,pow:pow$2,subtractScalar,typed}),unit$2=createUnitFunction({Unit,typed}),bellNumbers=createBellNumbers({addScalar,isInteger,isNegative,stirlingS2,typed}),electricConstant=createElectricConstant({BigNumber,Unit,config:config$1}),firstRadiation=createFirstRadiation({BigNumber,Unit,config:config$1}),nuclearMagneton=createNuclearMagneton({BigNumber,Unit,config:config$1}),planckLength=createPlanckLength({BigNumber,Unit,config:config$1}),rotate=createRotate({multiply,rotationMatrix:rotationMatrix$1,typed}),setUnion=createSetUnion({Index,concat,setIntersect,setSymDifference,size,subset,typed}),wienDisplacement=createWienDisplacement({BigNumber,Unit,config:config$1}),classicalElectronRadius=createClassicalElectronRadius({BigNumber,Unit,config:config$1}),molarVolume=createMolarVolume({BigNumber,Unit,config:config$1}),schur=createSchur({identity:identity$9,matrix,multiply,norm,qr,subtract,typed}),coulombConstant=createCoulombConstant({BigNumber,Unit,config:config$1}),gravitationConstant=createGravitationConstant({BigNumber,Unit,config:config$1}),protonMass=createProtonMass({BigNumber,Unit,config:config$1}),sylvester=createSylvester({abs:abs$1,add:add$1,concat,identity:identity$9,index,lusolve,matrix,matrixFromColumns,multiply,range:range$2,schur,subset,subtract,transpose,typed}),lyap=createLyap({matrix,multiply,sylvester,transpose,typed}),math={},mathWithTransform={},classes={},Node$1=createNode$1({mathWithTransform}),ObjectNode=createObjectNode({Node:Node$1}),OperatorNode=createOperatorNode({Node:Node$1}),ParenthesisNode=createParenthesisNode({Node:Node$1}),RelationalNode=createRelationalNode({Node:Node$1}),ArrayNode=createArrayNode({Node:Node$1}),BlockNode=createBlockNode({Node:Node$1,ResultSet}),ConditionalNode=createConditionalNode({Node:Node$1}),RangeNode=createRangeNode({Node:Node$1}),reviver=createReviver({classes}),Chain=createChainClass({math,typed}),FunctionAssignmentNode=createFunctionAssignmentNode({Node:Node$1,typed}),chain=createChain({Chain,typed}),ConstantNode=createConstantNode({Node:Node$1,isBounded}),IndexNode=createIndexNode({Node:Node$1,size}),AccessorNode=createAccessorNode({Node:Node$1,subset}),AssignmentNode=createAssignmentNode({matrix,Node:Node$1,subset}),SymbolNode=createSymbolNode({Unit,Node:Node$1,math}),FunctionNode=createFunctionNode({Node:Node$1,SymbolNode,math}),parse$2=createParse({AccessorNode,ArrayNode,AssignmentNode,BlockNode,ConditionalNode,ConstantNode,FunctionAssignmentNode,FunctionNode,IndexNode,ObjectNode,OperatorNode,ParenthesisNode,RangeNode,RelationalNode,SymbolNode,config:config$1,numeric,typed}),resolve=createResolve({ConstantNode,FunctionNode,OperatorNode,ParenthesisNode,parse:parse$2,typed}),simplifyConstant=createSimplifyConstant({bignumber,fraction,AccessorNode,ArrayNode,ConstantNode,FunctionNode,IndexNode,ObjectNode,OperatorNode,SymbolNode,config:config$1,isBounded,mathWithTransform,matrix,typed}),compile=createCompile({parse:parse$2,typed}),leafCount=createLeafCount({parse:parse$2,typed}),simplifyCore=createSimplifyCore({AccessorNode,ArrayNode,ConstantNode,FunctionNode,IndexNode,ObjectNode,OperatorNode,ParenthesisNode,SymbolNode,add:add$1,divide,equal,isZero,multiply,parse:parse$2,pow:pow$2,subtract,typed}),evaluate=createEvaluate({parse:parse$2,typed}),Help=createHelpClass({evaluate}),Parser=createParserClass({evaluate,parse:parse$2}),parser=createParser({Parser,typed}),simplify=createSimplify({AccessorNode,ArrayNode,ConstantNode,FunctionNode,IndexNode,ObjectNode,OperatorNode,ParenthesisNode,SymbolNode,equal,parse:parse$2,replacer,resolve,simplifyConstant,simplifyCore,typed}),symbolicEqual=createSymbolicEqual({OperatorNode,parse:parse$2,simplify,typed}),derivative=createDerivative({ConstantNode,FunctionNode,OperatorNode,ParenthesisNode,SymbolNode,config:config$1,equal,isZero,numeric,parse:parse$2,simplify,typed}),help=createHelp({Help,mathWithTransform,typed}),rationalize=createRationalize({bignumber,fraction,AccessorNode,ArrayNode,ConstantNode,FunctionNode,IndexNode,ObjectNode,OperatorNode,ParenthesisNode,SymbolNode,add:add$1,config:config$1,divide,equal,isZero,mathWithTransform,matrix,multiply,parse:parse$2,pow:pow$2,simplify,simplifyConstant,simplifyCore,subtract,typed});_extends(math,{e:e$1,false:_false,fineStructure,i:i$1,Infinity:_Infinity,LN10,LOG10E,NaN:_NaN,null:_null,phi,SQRT1_2,sackurTetrode,tau:tau$4,true:_true,E:e$1,version,efimovFactor,LN2,pi:pi$4,replacer,reviver,SQRT2,typed,PI:pi$4,weakMixingAngle,abs:abs$1,acos:acos$1,acot,acsc,addScalar,arg,asech,asinh,atan:atan$1,atanh,bigint,bitNot,boolean,clone,combinations,complex,conj,cos:cos$2,cot,csc,cube,equalScalar,erf,exp:exp$1,expm1,filter:filter$1,flatten:flatten$1,forEach,format:format$2,getMatrixDataType,hex:hex$1,im,isBounded,isNaN:isNaN$1,isNumeric:isNumeric$1,isPrime,LOG2E,lgamma,log10,log2,map:map$2,mode:mode$1,multiplyScalar,not,number:number$5,oct,pickRandom,print,random,re:re$2,sec,sign:sign$3,sin:sin$2,size,splitUnit,square:square$1,string:string$1,subtractScalar,tan:tan$1,toBest,typeOf,acosh,acsch,asec,bignumber,chain,combinationsWithRep,cosh,csch,dot:dot$1,hasNumericValue,isFinite:isFinite$1,isNegative,isZero,matrix,matrixFromFunction,multiply,ones,randomInt,resize,sech,sinh,sparse:sparse$1,sqrt:sqrt$2,squeeze,tanh,transpose,xgcd,zeros,acoth,asin:asin$1,bin,coth,ctranspose,diag,equal,fraction,identity:identity$9,isInteger,kron,mapSlices,matrixFromColumns,numeric,prod,reshape,round:round$1,unaryMinus,bernoulli,cbrt,concat,count:count$2,deepEqual,divideScalar,dotMultiply,floor,gcd,isPositive,larger,lcm,leftShift,lsolve,max:max$1,mod,nthRoot,nullish,or,qr,rightArithShift,smaller:smaller$1,subtract,to,unaryPlus,usolve,xor,add:add$1,atan2:atan2$1,bitAnd,bitOr,bitXor,catalan,compare,compareText,composition,cross:cross$1,det,diff,distance,dotDivide,equalText,hypot,intersect,invmod,largerEq,log:log$2,lsolveAll,matrixFromRows,min:min$2,nthRoots,partitionSelect,rightLogShift,slu,subset,sum:sum$1,trace,usolveAll,zpk2tf,ceil,compareNatural,cumsum:cumsum$1,fix,index,inv,log1p,lup,pinv,pow:pow$2,setCartesian,setDistinct,setIsSubset,setPowerset,smallerEq,sort:sort$2,sqrtm,unequal,and:and$1,divide,expm,fft,freqz,gamma:gamma$1,ifft,kldivergence,lusolve,mean:mean$2,median:median$1,polynomialRoot,quantileSeq,range:range$2,row,setDifference,setMultiplicity,setSymDifference,solveODE,vacuumImpedance,atomicMass,bohrMagneton,boltzmann,column:column$1,conductanceQuantum,coulomb,createUnit,deuteronMass,eigs,electronMass,factorial,fermiCoupling,gasConstant,gravity,klitzing,loschmidt,mad,magneticFluxQuantum,molarMass,molarPlanckConstant,multinomial,norm,permutations,planckConstant,planckMass,planckTime,reducedPlanckConstant,rotationMatrix:rotationMatrix$1,rydberg,secondRadiation,setSize,speedOfLight,stefanBoltzmann,thomsonCrossSection,variance:variance$1,zeta,avogadro,bohrRadius,corr,dotPow,elementaryCharge,faraday,hartreeEnergy,inverseConductanceQuantum,magneticConstant,molarMassC12,neutronMass,parse:parse$2,planckCharge,planckTemperature,quantumOfCirculation,resolve,setIntersect,simplifyConstant,std,stirlingS2,unit:unit$2,bellNumbers,compile,electricConstant,firstRadiation,leafCount,nuclearMagneton,planckLength,rotate,setUnion,simplifyCore,wienDisplacement,classicalElectronRadius,evaluate,molarVolume,schur,coulombConstant,gravitationConstant,parser,simplify,symbolicEqual,derivative,protonMass,sylvester,help,rationalize,lyap,config:config$1});_extends(mathWithTransform,math,{map:createMapTransform({typed}),filter:createFilterTransform({typed}),forEach:createForEachTransform({typed}),mapSlices:createMapSlicesTransform({isInteger,typed}),and:createAndTransform({add:add$1,concat,equalScalar,matrix,not,typed,zeros}),cumsum:createCumSumTransform({add:add$1,typed,unaryPlus}),nullish:createNullishTransform({deepEqual,flatten:flatten$1,matrix,size,typed}),print:createPrintTransform({add:add$1,matrix,typed,zeros}),bitAnd:createBitAndTransform({add:add$1,concat,equalScalar,matrix,not,typed,zeros}),concat:createConcatTransform({isInteger,matrix,typed}),diff:createDiffTransform({bignumber,matrix,number:number$5,subtract,typed}),max:createMaxTransform({config:config$1,isNaN:isNaN$1,larger,numeric,typed}),min:createMinTransform({config:config$1,isNaN:isNaN$1,numeric,smaller:smaller$1,typed}),or:createOrTransform({DenseMatrix,concat,equalScalar,matrix,typed}),subset:createSubsetTransform({add:add$1,matrix,typed,zeros}),bitOr:createBitOrTransform({DenseMatrix,concat,equalScalar,matrix,typed}),sum:createSumTransform({add:add$1,config:config$1,numeric,typed}),variance:createVarianceTransform({add:add$1,divide,isNaN:isNaN$1,mapSlices,multiply,subtract,typed}),index:createIndexTransform({Index,getMatrixDataType}),quantileSeq:createQuantileSeqTransform({add:add$1,bignumber,compare,divide,isInteger,larger,mapSlices,multiply,partitionSelect,smaller:smaller$1,smallerEq,subtract,typed}),range:createRangeTransform({bignumber,matrix,add:add$1,config:config$1,equal,isPositive,isZero,larger,largerEq,smaller:smaller$1,smallerEq,typed}),column:createColumnTransform({Index,matrix,range:range$2,typed}),row:createRowTransform({Index,matrix,range:range$2,typed}),mean:createMeanTransform({add:add$1,divide,typed}),std:createStdTransform({map:map$2,sqrt:sqrt$2,typed,variance:variance$1})});_extends(classes,{BigNumber,Complex,Fraction,Matrix:Matrix$1,Node:Node$1,ObjectNode,OperatorNode,ParenthesisNode,Range:Range$1,RelationalNode,ResultSet,ArrayNode,BlockNode,ConditionalNode,DenseMatrix,RangeNode,Chain,FunctionAssignmentNode,SparseMatrix,ConstantNode,IndexNode,FibonacciHeap,ImmutableDenseMatrix,Index,Spa,AccessorNode,AssignmentNode,Unit,SymbolNode,FunctionNode,Help,Parser});Chain.createProxy(math);function evaluateProbabilityFormula(_,R,O){try{const I={};R&&(I.p_div_out=R.p_div_out,I.mu=R.mu,I.h_init=R.h_init,I.w_init=R.w_init,I.t_end=R.t_end),O&&(I.INM=O.INM);const F=evaluate(_,I);return typeof F=="number"?F:Number(F)}catch{const I=Number(_);return isNaN(I)?1:I}}function getEffectiveEvents(_,R){const O=_.default_events??[],I=new Set(R.skip_default_events??[]),F=R.events_v2??[],z=new Set(F.map(U=>U.id));return[...O.filter(U=>!I.has(U.id)&&!z.has(U.id)),...F]}function initializeEventStates(_,R,O,I){const F={};if(!_||_.length===0)return F;for(const z of _){const L=evaluateProbabilityFormula(z.probability,O,I),U=R.random()<=L;let q;z.period!==0?q=U?0:1/0:U&&z.end!==-1?isFinite(z.end)?q=R.random(z.start,z.end):q=z.start:q=1/0,F[z.id]={event_id:z.id,trigger_time:q,has_fired:!1,last_fire_time:-1/0,fire_count:0}}return F}function copyEventStates(_){if(!_)return;const R={};for(const[O,I]of Object.entries(_))R[O]={...I};return R}function inheritEventStates(_,R,O,I,F){const z={};for(const L of R){const U=_[L.id];if(L.period!==0&&U)z[L.id]={event_id:L.id,trigger_time:U.trigger_time,has_fired:!1,last_fire_time:-1/0,fire_count:0};else{const q=evaluateProbabilityFormula(L.probability,I,F),G=O.random()<=q;let V;G&&L.end!==-1?isFinite(L.end)?V=O.random(L.start,L.end):V=L.start:V=1/0,z[L.id]={event_id:L.id,trigger_time:V,has_fired:!1,last_fire_time:-1/0,fire_count:0}}}return z}function createCell(_,R,O,I,F,z,L){const{basalPoint:U,apicalPoint:q,nucleusPosition:G}=I,V=_.general.h_init,Z=O.random(F.lifespan_start,F.lifespan_end),Y=R.cells.length>0?Math.max(...R.cells.map(ne=>ne.id))+1:0,W=getEffectiveEvents(_.general,F),ee=W.length>0;if(L===void 0){const ne=R.t-O.random(0,Z);let ie=O.random(F.events.time_A_start,F.events.time_A_end),se=O.random(F.events.time_B_start,F.events.time_B_end),oe=O.random(F.events.time_S_start,F.events.time_S_end),le=O.random(F.events.time_AC_start,F.events.time_AC_end);const ue=O.random()<=F.run?se:1/0;F.hetero&&!ee&&(O.random()>.7&&(ie=1/0),O.random()>.7&&(se=1/0),O.random()>.7&&(oe=1/0),O.random()>.7&&(le=1/0));const ce=ee?initializeEventStates(W,O,_.general,F):void 0;return{id:Y,typeIndex:z,pos:G.toObject(),A:q.toObject(),B:U.toObject(),R_soft:F.R_soft,R_hard:F.R_hard,eta_A:V/2,eta_B:V/2,has_A:!0,has_B:!0,apical_cytos_strain:F.apical_cytos_strain_init??0,basal_cytos_strain:F.basal_cytos_strain_init??0,phase:CellPhase.G1,birth_time:ne,division_time:ne+Z,is_running:!1,running_mode:F.running_mode,has_inm:O.random()<=F.INM,time_A:ie,time_B:se,time_S:oe,time_P:ue,time_AC:le,stiffness_apical_apical:F.stiffness_apical_apical,stiffness_straightness:F.stiffness_straightness,stiffness_nuclei_apical:F.stiffness_nuclei_apical,stiffness_nuclei_basal:F.stiffness_nuclei_basal,k_apical_junction:F.k_apical_junction,event_states:ce,has_reached_G2:!1,has_reached_mitosis:!1}}else return{id:Y,typeIndex:z,pos:G.toObject(),A:q.toObject(),B:U.toObject(),R_soft:F.R_soft,R_hard:F.R_hard,eta_A:L.eta_A,eta_B:L.eta_B,has_A:L.has_A,has_B:L.has_B,apical_cytos_strain:F.apical_cytos_strain_init??0,basal_cytos_strain:F.basal_cytos_strain_init??0,phase:CellPhase.G1,birth_time:R.t,division_time:R.t+Z,is_running:L.is_running,running_mode:L.running_mode,has_inm:L.has_inm,time_A:L.time_A,time_B:L.time_B,time_S:L.time_S,time_P:L.time_P,time_AC:L.time_AC,stiffness_apical_apical:F.stiffness_apical_apical,stiffness_straightness:L.stiffness_straightness,stiffness_nuclei_apical:L.stiffness_nuclei_apical,stiffness_nuclei_basal:L.stiffness_nuclei_basal,k_apical_junction:F.k_apical_junction,event_states:ee?inheritEventStates(L.event_states,W,O,_.general,F):copyEventStates(L.event_states),has_reached_G2:!1,has_reached_mitosis:!1}}function getCellType(_,R){return _.cell_types[R.typeIndex]||_.cell_types.control}function updateCellPhase(_,R,O){const I=_.division_time,F=I-R.dur_G2-R.dur_mitosis,z=I-R.dur_mitosis,L=_.phase;O<F?_.phase=CellPhase.G1:O<z?_.phase=CellPhase.G2:O<I?_.phase=CellPhase.Mitosis:_.phase=CellPhase.Division,_.phase===CellPhase.G2&&L!==CellPhase.G2&&(_.has_reached_G2=!0),_.phase===CellPhase.Mitosis&&L!==CellPhase.Mitosis&&(_.has_reached_mitosis=!0)}function satisfiesCellCyclePhase(_,R){switch(R){case CellCyclePhase.Any:return!0;case CellCyclePhase.Birth:return!0;case CellCyclePhase.G1:return!0;case CellCyclePhase.G2:return _.has_reached_G2===!0;case CellCyclePhase.Mitosis:return _.has_reached_mitosis===!0;case CellCyclePhase.Division:return _.phase===CellPhase.Division;default:return!0}}function initializeEHTSimulation(_,R,O){const I=_.general,F=computeEllipseFromPerimeter(I.perimeter,I.aspect_ratio);R.geometry={curvature_1:F.curvature_1,curvature_2:F.curvature_2};const{curvature_1:z,curvature_2:L}=R.geometry;R.basalGeometry=createBasalGeometry(z,L,360);const U=Object.entries(_.cell_types),q=U.reduce((oe,[,le])=>oe+le.N_init,0),G=[];for(let oe=0;oe<q;oe++)G.push([-1+2*oe/q,""]);U.sort((oe,le)=>{const ue=oe[1].location!==""?1:0;return(le[1].location!==""?1:0)-ue});for(const[oe,le]of U)if(le.location!==""){let ue;le.location==="top"?ue=1:le.location==="bottom"?ue=0:(ue=parseFloat(le.location),(isNaN(ue)||ue<-1||ue>1)&&(ue=0)),G.sort((fe,me)=>Math.min(Math.abs(fe[0]-ue),Math.abs(fe[0]+2-ue))-Math.min(Math.abs(me[0]-ue),Math.abs(me[0]+2-ue)));let ce=0;for(let fe=0;fe<G.length&&ce<le.N_init;fe++)G[fe][1]===""&&(G[fe]=[G[fe][0],oe],ce++)}G.sort((oe,le)=>oe[0]-le[0]);let V=0;for(let oe=0;oe<G.length;oe++)if(G[oe][1]==="")for(;V<U.length;){const[le,ue]=U[V];if(G.filter(fe=>fe[1]===le).length<ue.N_init){G[oe]=[G[oe][0],le];break}else V++}G.sort((oe,le)=>oe[0]-le[0]);const Z=z===0&&L===0,Y=Z?I.w_init*4:ramanujanPerimeter(Math.abs(1/z),Math.abs(1/L)),W=I.full_circle?Y:I.w_init,ee=I.h_init,ne=I.aspect_ratio<0?-1:1,ie=[],se=[];for(let oe=0;oe<q;oe++){const le=Z?G[oe][0]*(W/2):G[oe][0]*(W/2)+Y/4,ue=R.basalGeometry.getPointAtArcLength(le),ce=R.basalGeometry.getNormal(ue).scale(ne),fe=ue.add(ce.scale(ee)),me=O.random(ee/3,2*ee/3),he=ue.add(ce.scale(me));ie.push({basalPoint:ue,apicalPoint:fe,nucleusPosition:he}),se.push(G[oe][1])}R.cells=[];for(let oe=0;oe<ie.length;oe++){const le=se[oe],ue=_.cell_types[le];if(!ue){console.warn("No cell type found for key",le);continue}const ce=createCell(_,R,O,ie[oe],ue,le);R.cells.push(ce)}for(let oe=0;oe<R.cells.length-1;oe++){const le=_.cell_types[R.cells[oe].typeIndex],ue=_.cell_types[R.cells[oe+1].typeIndex],ce=(le.apical_junction_init+ue.apical_junction_init)/2;R.ap_links.push({l:oe,r:oe+1,rl:ce}),R.ba_links.push({l:oe,r:oe+1})}if(I.full_circle&&R.cells.length>2){const oe=R.cells.length-1,le=_.cell_types[R.cells[oe].typeIndex],ue=_.cell_types[R.cells[0].typeIndex],ce=(le.apical_junction_init+ue.apical_junction_init)/2;R.ap_links.push({l:oe,r:0,rl:ce}),R.ba_links.push({l:oe,r:0})}}function zeroForces(){return{f:Vector2.zero(),fA:Vector2.zero(),fB:Vector2.zero()}}function calcRepulsionForces(_,R,O){const I=_.cells,F=I.length;for(let z=0;z<F;z++){const L=I[z],U=getCellType(R,L),q=Vector2.from(L.pos);for(let G=0;G<z;G++){const V=I[G],Z=getCellType(R,V),W=Vector2.from(V.pos).sub(q),ee=W.mag(),ne=L.R_soft+V.R_soft,ie=U.stiffness_repulsion+Z.stiffness_repulsion;if(ee<ne&&ee>ne/20){const se=-ie*(ne-ee)/(ee*ne*ne),oe=W.scale(se);O[z].f=O[z].f.add(oe),O[G].f=O[G].f.sub(oe)}}}}function calcApicalNucleiForces(_,R,O){const I=_.cells,F=R.general.hard_sphere_nuclei;for(let z=0;z<I.length;z++){const L=I[z],U=Vector2.from(L.pos),q=Vector2.from(L.A),G=U.sub(q),V=G.mag();if(V>0){const Z=F?L.R_hard:L.R_soft,Y=L.eta_A+Z,ee=2*L.stiffness_nuclei_apical*(V-Y)/(V*Y*Y),ne=G.scale(ee);O[z].f=O[z].f.sub(ne),O[z].fA=O[z].fA.add(ne)}}}function calcBasalNucleiForces(_,R,O){const I=_.cells,F=R.general.hard_sphere_nuclei;for(let z=0;z<I.length;z++){const L=I[z],U=Vector2.from(L.pos),q=Vector2.from(L.B),G=U.sub(q),V=G.mag();if(V>0){const Z=F?L.R_hard:L.R_soft,Y=L.eta_B+Z,ee=2*L.stiffness_nuclei_basal*(V-Y)/(V*Y*Y),ne=G.scale(ee);O[z].f=O[z].f.sub(ne),O[z].fB=O[z].fB.add(ne)}}}function calcStraightnessForces(_,R,O){const I=_.cells;for(let F=0;F<I.length;F++){const z=I[F],L=Vector2.from(z.pos),U=Vector2.from(z.A),q=Vector2.from(z.B),G=L.sub(U),V=L.sub(q),Z=G.mag(),Y=V.mag(),W=G.dot(V);if(W!==0&&Z>0&&Y>0){const ee=z.stiffness_straightness/(Z*Y),ne=V.scale(-1).add(G.scale(W/(Z*Z))).scale(ee),ie=G.scale(-1).add(V.scale(W/(Y*Y))).scale(ee);O[F].fA=O[F].fA.sub(ne),O[F].f=O[F].f.add(ne),O[F].f=O[F].f.add(ie),O[F].fB=O[F].fB.sub(ie)}}}function calcApicalJunctionForces(_,R,O){const I=_.cells,F=_.ap_links;for(const z of F){const L=I[z.l],U=I[z.r],q=Vector2.from(L.A),G=Vector2.from(U.A),V=q.sub(G),Z=V.mag();if(Z>1e-6){const Y=.5*(L.stiffness_apical_apical+U.stiffness_apical_apical),W=V.scale(.25*Y*(Z-z.rl)/Z);O[z.l].fA=O[z.l].fA.sub(W),O[z.r].fA=O[z.r].fA.add(W)}}}function calcAllForces(_,R){const O=_.cells.map(()=>zeroForces());return calcRepulsionForces(_,R,O),calcApicalNucleiForces(_,R,O),calcBasalNucleiForces(_,R,O),calcStraightnessForces(_,R,O),calcApicalJunctionForces(_,R,O),O}function projectHardSphereConstraints(_,R){const O=_.cells,I=O.length;for(let F=0;F<I;F++){const z=O[F];for(let L=0;L<F;L++){const U=O[L],q=z.R_hard+U.R_hard,G=Vector2.from(z.pos),V=Vector2.from(U.pos),Z=G.dist(V)-q;if(Z<0&&Z!==-q){const W=G.sub(V).scale(.5*Z/(Z+q));z.pos.x-=W.x,z.pos.y-=W.y,U.pos.x+=W.x,U.pos.y+=W.y}}}}function projectBasalOrderingConstraints(_,R){const O=_.cells,I=_.ba_links;for(const F of I){const z=O[F.l],L=O[F.r];if(!z.has_B||!L.has_B)continue;const U=Vector2.from(z.B),q=Vector2.from(L.B),G=U.add(q).scale(.5),V=_.basalGeometry.projectPoint(G),Z=_.basalGeometry.getNormal(V),Y=new Vector2(Z.y,-Z.x),W=U.sub(G).dot(Y),ee=q.sub(G).dot(Y);if(W>=ee){const ie=(W-ee)/2;z.B.x-=ie*Y.x,z.B.y-=ie*Y.y,L.B.x+=ie*Y.x,L.B.y+=ie*Y.y}}}function projectMaxBasalDistanceConstraints(_,R){const O=_.cells,I=_.ba_links;for(const F of I){const z=O[F.l],L=O[F.r],U=getCellType(R,z),q=getCellType(R,L),G=(U.max_basal_junction_dist+q.max_basal_junction_dist)/2,V=Vector2.from(z.B),Z=Vector2.from(L.B),Y=V.dist(Z);if(Y>G){const W=Y-G,ne=Z.sub(V).normalize().scale(W/2);z.B.x+=ne.x,z.B.y+=ne.y,L.B.x-=ne.x,L.B.y-=ne.y}}}function projectBasalCurveConstraints(_,R){const O=_.cells;for(const I of O){if(!I.has_B)continue;const F=Vector2.from(I.B),z=_.basalGeometry.projectPoint(F);I.B.x=z.x,I.B.y=z.y}}function applyAllConstraints(_,R){projectHardSphereConstraints(_),projectBasalOrderingConstraints(_),projectMaxBasalDistanceConstraints(_,R),projectBasalCurveConstraints(_)}function divideSingleCell(_,R,O,I){const F=_.cells[I],z=getCellType(R,F),L={basalPoint:Vector2.from(F.B),apicalPoint:Vector2.from(F.A),nucleusPosition:Vector2.from(F.pos)};if(O.random()<R.general.p_div_out){const q=createCell(R,_,O,L,z,F.typeIndex,F);q.id=F.id,_.cells[I]=q}else{const q=createCell(R,_,O,L,z,F.typeIndex,F);q.id=F.id,_.cells[I]=q;const G=createCell(R,_,O,L,z,F.typeIndex,q),V=.005*q.R_soft,Z=Vector2.from(q.B),Y=_.basalGeometry.projectPoint(Z),W=_.basalGeometry.getNormal(Y),ee=new Vector2(W.y,-W.x);q.pos.x-=V*ee.x,q.pos.y-=V*ee.y,G.pos.x+=V*ee.x,G.pos.y+=V*ee.y,q.A.x-=V*ee.x,q.A.y-=V*ee.y,G.A.x+=V*ee.x,G.A.y+=V*ee.y,q.B.x-=V*ee.x,q.B.y-=V*ee.y,G.B.x+=V*ee.x,G.B.y+=V*ee.y;const ne=_.cells.length;_.cells.push(G),updateApicalLinksAfterDivision(_,R,I,ne),updateBasalLinksAfterDivision(_,R,I,ne)}}function updateApicalLinksAfterDivision(_,R,O,I){for(const z of _.ap_links)z.l===O&&(z.l=I);const F=getCellType(R,_.cells[O]);_.ap_links.push({l:O,r:I,rl:F.apical_junction_init})}function updateBasalLinksAfterDivision(_,R,O,I){for(const F of _.ba_links)F.l===O&&(F.l=I);_.ba_links.push({l:O,r:I})}function resolveEffectivePeriod(_,R){return _==="dt"?R:_}function processLoseApicalAdhesion(_,R){const O=_.cells[R];O.has_A=!1,O.stiffness_nuclei_apical*=.1;const I=[];let F={l:0,r:0,rl:0};for(let z=0;z<_.ap_links.length;z++){const L=_.ap_links[z];L.l===R&&(I.push(z),F.r=L.r),L.r===R&&(I.push(z),F.l=L.l)}if(I.length===1)_.ap_links.splice(I[0],1);else if(I.length===2){I.sort((U,q)=>q-U),_.ap_links.splice(I[0],1),_.ap_links.splice(I[1],1);const z=_.cells[F.l],L=_.cells[F.r];F.rl=Vector2.from(z.A).dist(Vector2.from(L.A)),_.ap_links.push(F)}}function processLoseBasalAdhesion(_,R){const O=_.cells[R];O.has_B=!1,O.stiffness_nuclei_basal*=.1;const I=[];let F={l:0,r:0};for(let z=0;z<_.ba_links.length;z++){const L=_.ba_links[z];L.l===R&&(I.push(z),F.r=L.r),L.r===R&&(I.push(z),F.l=L.l)}I.length===1?_.ba_links.splice(I[0],1):I.length===2&&(I.sort((z,L)=>L-z),_.ba_links.splice(I[0],1),_.ba_links.splice(I[1],1),_.ba_links.push(F))}function processStartRunning(_,R){const O=_.cells[R];O.running_mode=3}function processLoseApicalInterface(_,R){const I=_.cells[R].typeIndex,F=[];for(let G=0;G<_.ap_links.length;G++){const V=_.ap_links[G],Z=_.cells[V.l],Y=_.cells[V.r],W=Z.typeIndex===I,ee=Y.typeIndex===I;W!==ee&&F.push(G)}const z=new Map,L=new Map;for(const G of _.ap_links)z.set(G.l,G.r),L.set(G.r,G.l);F.sort((G,V)=>V-G);for(const G of F)_.ap_links.splice(G,1);const U=new Map;for(const G of _.ap_links)U.set(G.l,G.r);const q=[];for(let G=0;G<_.cells.length;G++){if(_.cells[G].typeIndex===I)continue;const Z=z.has(G),Y=U.has(G);if(Z&&!Y){let W=z.get(G);for(;W<_.cells.length&&_.cells[W].typeIndex===I;){const ee=z.get(W);if(ee===void 0)break;W=ee}if(W<_.cells.length&&_.cells[W].typeIndex!==I){const ee=_.cells[G],ne=_.cells[W],ie=Vector2.from(ee.A).dist(Vector2.from(ne.A));q.push({l:G,r:W,rl:ie})}}}_.ap_links.push(...q)}function updateRunningState(_,R){if(_.has_B){_.is_running=!1;return}const O=Vector2.from(_.B),I=R.basalGeometry.projectPoint(O),F=R.basalGeometry.getNormal(I),L=O.sub(I).dot(F),U=L<-2,q=_.running_mode>=3||L>0&&_.running_mode>=1;_.is_running=U&&q}const specialEventHandlers={lose_apical_adhesion:processLoseApicalAdhesion,lose_basal_adhesion:processLoseBasalAdhesion,lose_apical_interface:processLoseApicalInterface,start_running:processStartRunning,cell_division:()=>{},cell_cycle_reset:()=>{}};function evaluateFormula(_,R,O,I,F,z,L,U){try{const q={old_value:R,t:O,dt:I,period:F||1,age:O-z};return L&&(q.p_div_out=L.p_div_out,q.mu=L.mu,q.h_init=L.h_init,q.w_init=L.w_init,q.t_end=L.t_end),U&&(q.R_hard_div=U.R_hard_div,q.stiffness_apical_apical_div=U.stiffness_apical_apical_div,q.INM=U.INM),evaluate(_,q)}catch(q){return console.error(`[Events] Failed to evaluate formula "${_}":`,q),R}}function getCellParameter(_,R){switch(R){case"stiffness_nuclei_apical":return _.stiffness_nuclei_apical;case"stiffness_nuclei_basal":return _.stiffness_nuclei_basal;case"stiffness_straightness":return _.stiffness_straightness;case"stiffness_apical_apical":return _.stiffness_apical_apical;case"R_soft":return _.R_soft;case"R_hard":return _.R_hard;case"eta_A":return _.eta_A;case"eta_B":return _.eta_B;case"running_mode":return _.running_mode;case"apical_cytos_strain":return _.apical_cytos_strain;case"basal_cytos_strain":return _.basal_cytos_strain;case"k_apical_junction":return _.k_apical_junction;default:console.warn(`[Events] Unknown cell parameter: ${R}`);return}}function setCellParameter(_,R,O){switch(R){case"stiffness_nuclei_apical":_.stiffness_nuclei_apical=O;break;case"stiffness_nuclei_basal":_.stiffness_nuclei_basal=O;break;case"stiffness_straightness":_.stiffness_straightness=O;break;case"stiffness_apical_apical":_.stiffness_apical_apical=O;break;case"R_soft":_.R_soft=O;break;case"R_hard":_.R_hard=O;break;case"eta_A":_.eta_A=O;break;case"eta_B":_.eta_B=O;break;case"running_mode":_.running_mode=O;break;case"apical_cytos_strain":_.apical_cytos_strain=O;break;case"basal_cytos_strain":_.basal_cytos_strain=O;break;case"k_apical_junction":_.k_apical_junction=O;break;default:console.warn(`[Events] Unknown cell parameter: ${R}`)}}function prereqSatisfied(_,R){return _.prereq?R.event_states?.[_.prereq]?.has_fired===!0:!0}function shouldEventFire(_,R,O,I,F){if(!satisfiesCellCyclePhase(O,R.cell_cycle_phase)||!prereqSatisfied(R,O)||!isFinite(_.trigger_time))return!1;if(R.period===0)return _.has_fired?!1:_.trigger_time===0?!0:I<=_.trigger_time&&I+F>_.trigger_time;const z=resolveEffectivePeriod(R.period,F);return I<R.start||R.end!==-1&&isFinite(R.end)&&I>R.end?!1:!_.has_fired||I-_.last_fire_time>=z}function processParameterChangeEvent(_,R,O,I,F,z,L){const U=getCellParameter(O,_.target_parameter);if(U===void 0)return;const q=resolveEffectivePeriod(_.period,F),G=evaluateFormula(_.formula,U,I,F,q,O.birth_time,z,L);setCellParameter(O,_.target_parameter,G),R.has_fired=!0,R.last_fire_time=I,R.fire_count++}function processSpecialEvent(_,R,O){const I=specialEventHandlers[_.special_name];I?I(R,O):console.warn(`[Events] Unknown special event: ${_.special_name}`)}function processV2Events(_,R,O,I){const F=_.t,z=new Set(["cell_division","cell_cycle_reset"]),L=new Set,U=[],q=[];for(let G=0;G<_.cells.length;G++){const V=_.cells[G],Z=R.cell_types[V.typeIndex],Y=getEffectiveEvents(R.general,Z);if(Y.length===0||!V.event_states)continue;let W=!1;for(const ee of Y){if(W&&ee.type==="special"&&z.has(ee.special_name))continue;const ne=V.event_states[ee.id];ne&&shouldEventFire(ne,ee,V,F,O)&&(ee.type==="parameter_change"?processParameterChangeEvent(ee,ne,V,F,O,R.general,Z):ee.type==="special"&&(ee.special_name==="lose_apical_interface"?(L.add(V.typeIndex),ne.has_fired=!0,ne.last_fire_time=F,ne.fire_count++):ee.special_name==="cell_cycle_reset"?(U.push(G),ne.has_fired=!0,ne.last_fire_time=F,ne.fire_count++,W=!0):ee.special_name==="cell_division"?(q.push(G),ne.has_fired=!0,ne.last_fire_time=F,ne.fire_count++,W=!0):(processSpecialEvent(ee,_,G),ne.has_fired=!0,ne.last_fire_time=F,ne.fire_count++)))}updateRunningState(V,_)}for(const G of U)processCellCycleReset(_,R,I,G);for(const G of q)divideSingleCell(_,R,I,G);for(const G of L){const V=_.cells.findIndex(Z=>Z.typeIndex===G);V!==-1&&processLoseApicalInterface(_,V)}}function processCellCycleReset(_,R,O,I){const F=_.cells[I],z=getCellType(R,F),L={basalPoint:Vector2.from(F.B),apicalPoint:Vector2.from(F.A),nucleusPosition:Vector2.from(F.pos)},U=createCell(R,_,O,L,z,F.typeIndex,F);U.id=F.id;const q=R.general.h_init;U.R_hard=z.R_hard,U.eta_A=q/2,U.eta_B=q/2,U.has_A=!0,U.has_B=!0,U.is_running=!1,U.running_mode=z.running_mode,U.stiffness_apical_apical=z.stiffness_apical_apical,U.stiffness_straightness=z.stiffness_straightness,U.stiffness_nuclei_apical=z.stiffness_nuclei_apical,U.stiffness_nuclei_basal=z.stiffness_nuclei_basal,U.k_apical_junction=z.k_apical_junction;const G=getEffectiveEvents(R.general,z);U.event_states=F.event_states?inheritEventStates(F.event_states,G,O,R.general,z):initializeEventStates(G,O,R.general,z),U.has_reached_G2=!1,U.has_reached_mitosis=!1,_.cells[I]=U}function processAllEvents(_,R,O,I){processV2Events(_,R,O,I)}function updateCytoskeleton(_,R,O){for(const I of _.cells){const F=getCellType(R,I),z=Vector2.from(I.pos),L=Vector2.from(I.A),U=Vector2.from(I.B),q=z.dist(L),G=z.dist(U);let V=Math.max(0,q-I.R_soft),Z=Math.max(0,G-I.R_soft);I.apical_cytos_strain===-1?V=0:I.apical_cytos_strain!==0&&(V*=1+I.apical_cytos_strain),I.basal_cytos_strain===-1?Z=0:I.basal_cytos_strain!==0&&(Z*=1+I.basal_cytos_strain),I.has_A||(V=0),I.has_B||(Z=0);const Y=Math.exp(-O*F.k_cytos);if(I.eta_A=Y*(I.eta_A-V)+V,I.has_B?I.eta_B=Y*(I.eta_B-Z)+Z:I.running_mode>=2&&I.B.y>0?I.eta_B=Vector2.from(I.B).dist(z)-I.R_soft:I.eta_B=Y*(I.eta_B-Z)+Z,!I.is_running||I.has_B){const W=F.max_cytoskeleton_length,ee=I.eta_A+I.eta_B-W;if(W>0&&ee>1){const ne=I.eta_A+I.eta_B,ie=I.eta_A*W/ne,se=I.eta_B*W/ne;I.eta_A=Y*(I.eta_A-ie)+ie,I.eta_B=Y*(I.eta_B-se)+se}}}}function updateApicalJunctions(_,R,O){for(const I of _.ap_links){const F=_.cells[I.l],z=_.cells[I.r],L=.5*F.k_apical_junction+.5*z.k_apical_junction;I.rl=I.rl*Math.exp(-O*L)}}function integrateForces(_,R,O,I,F){const z=R.general.mu,L=Math.sqrt(F);for(let U=0;U<_.cells.length;U++){const q=_.cells[U],G=getCellType(R,q),V=O[U],Z=G.diffusion;if(q.pos.x+=L*Z*I.gaussian(),q.pos.y+=L*Z*I.gaussian(),q.pos.x+=F*V.f.x/z,q.pos.y+=F*V.f.y/z,q.A.x+=F*V.fA.x/z,q.A.y+=F*V.fA.y/z,q.is_running){const Y=Vector2.from(q.B),W=Vector2.from(q.pos);if(Y.dist(W)<5){const ee=Y.sub(W).normalize();q.B.x+=F*ee.x*G.running_speed,q.B.y+=F*ee.y*G.running_speed}}else q.B.x+=F*V.fB.x/z,q.B.y+=F*V.fB.y/z}}function performTimestep(_,R,O){const I=R.general,F=I.dt;for(const L of _.cells){const U=getCellType(R,L);updateCellPhase(L,U,_.t)}processAllEvents(_,R,F,O),updateCytoskeleton(_,R,F),updateApicalJunctions(_,R,F);const z=F/I.n_substeps;for(let L=0;L<I.n_substeps;L++){_.t+=z;const U=calcAllForces(_,R);integrateForces(_,R,U,O,z),applyAllConstraints(_,R)}_.step_count++}const scriptRel="modulepreload",assetsURL=function(_){return"/internal/eht/beta/"+_},seen={},__vitePreload=function _(R,O,I){let F=Promise.resolve();if(O&&O.length>0){let q=function(G){return Promise.all(G.map(V=>Promise.resolve(V).then(Z=>({status:"fulfilled",value:Z}),Z=>({status:"rejected",reason:Z}))))};document.getElementsByTagName("link");const L=document.querySelector("meta[property=csp-nonce]"),U=L?.nonce||L?.getAttribute("nonce");F=q(O.map(G=>{if(G=assetsURL(G),G in seen)return;seen[G]=!0;const V=G.endsWith(".css"),Z=V?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${G}"]${Z}`))return;const Y=document.createElement("link");if(Y.rel=V?"stylesheet":scriptRel,V||(Y.as="script"),Y.crossOrigin="",Y.href=G,U&&Y.setAttribute("nonce",U),document.head.appendChild(Y),V)return new Promise((W,ee)=>{Y.addEventListener("load",W),Y.addEventListener("error",()=>ee(new Error(`Unable to preload CSS for ${G}`)))})}))}function z(L){const U=new Event("vite:preloadError",{cancelable:!0});if(U.payload=L,window.dispatchEvent(U),!U.defaultPrevented)throw L}return F.then(L=>{for(const U of L||[])U.status==="rejected"&&z(U.reason);return R().catch(z)})};var ExtensionType=(_=>(_.Application="application",_.WebGLPipes="webgl-pipes",_.WebGLPipesAdaptor="webgl-pipes-adaptor",_.WebGLSystem="webgl-system",_.WebGPUPipes="webgpu-pipes",_.WebGPUPipesAdaptor="webgpu-pipes-adaptor",_.WebGPUSystem="webgpu-system",_.CanvasSystem="canvas-system",_.CanvasPipesAdaptor="canvas-pipes-adaptor",_.CanvasPipes="canvas-pipes",_.Asset="asset",_.LoadParser="load-parser",_.ResolveParser="resolve-parser",_.CacheParser="cache-parser",_.DetectionParser="detection-parser",_.MaskEffect="mask-effect",_.BlendMode="blend-mode",_.TextureSource="texture-source",_.Environment="environment",_.ShapeBuilder="shape-builder",_.Batcher="batcher",_))(ExtensionType||{});const normalizeExtension=_=>{if(typeof _=="function"||typeof _=="object"&&_.extension){if(!_.extension)throw new Error("Extension class must have an extension object");_={...typeof _.extension!="object"?{type:_.extension}:_.extension,ref:_}}if(typeof _=="object")_={..._};else throw new Error("Invalid extension type");return typeof _.type=="string"&&(_.type=[_.type]),_},normalizeExtensionPriority=(_,R)=>normalizeExtension(_).priority??R,extensions={_addHandlers:{},_removeHandlers:{},_queue:{},remove(..._){return _.map(normalizeExtension).forEach(R=>{R.type.forEach(O=>this._removeHandlers[O]?.(R))}),this},add(..._){return _.map(normalizeExtension).forEach(R=>{R.type.forEach(O=>{const I=this._addHandlers,F=this._queue;I[O]?I[O]?.(R):(F[O]=F[O]||[],F[O]?.push(R))})}),this},handle(_,R,O){const I=this._addHandlers,F=this._removeHandlers;if(I[_]||F[_])throw new Error(`Extension type ${_} already has a handler`);I[_]=R,F[_]=O;const z=this._queue;return z[_]&&(z[_]?.forEach(L=>R(L)),delete z[_]),this},handleByMap(_,R){return this.handle(_,O=>{O.name&&(R[O.name]=O.ref)},O=>{O.name&&delete R[O.name]})},handleByNamedList(_,R,O=-1){return this.handle(_,I=>{R.findIndex(z=>z.name===I.name)>=0||(R.push({name:I.name,value:I.ref}),R.sort((z,L)=>normalizeExtensionPriority(L.value,O)-normalizeExtensionPriority(z.value,O)))},I=>{const F=R.findIndex(z=>z.name===I.name);F!==-1&&R.splice(F,1)})},handleByList(_,R,O=-1){return this.handle(_,I=>{R.includes(I.ref)||(R.push(I.ref),R.sort((F,z)=>normalizeExtensionPriority(z,O)-normalizeExtensionPriority(F,O)))},I=>{const F=R.indexOf(I.ref);F!==-1&&R.splice(F,1)})},mixin(_,...R){for(const O of R)Object.defineProperties(_.prototype,Object.getOwnPropertyDescriptors(O))}},browserExt={extension:{type:ExtensionType.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await __vitePreload(()=>import("./browserAll-C81AgXdw.js"),__vite__mapDeps([0,1,2]))}},webworkerExt={extension:{type:ExtensionType.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await __vitePreload(()=>import("./webworkerAll-dzM5vYN1.js"),__vite__mapDeps([1,2]))}};class ObservablePoint{constructor(R,O,I){this._x=O||0,this._y=I||0,this._observer=R}clone(R){return new ObservablePoint(R??this._observer,this._x,this._y)}set(R=0,O=R){return(this._x!==R||this._y!==O)&&(this._x=R,this._y=O,this._observer._onUpdate(this)),this}copyFrom(R){return(this._x!==R.x||this._y!==R.y)&&(this._x=R.x,this._y=R.y,this._observer._onUpdate(this)),this}copyTo(R){return R.set(this._x,this._y),R}equals(R){return R.x===this._x&&R.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(R){this._x!==R&&(this._x=R,this._observer._onUpdate(this))}get y(){return this._y}set y(R){this._y!==R&&(this._y=R,this._observer._onUpdate(this))}}var eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,(function(_){var R=Object.prototype.hasOwnProperty,O="~";function I(){}Object.create&&(I.prototype=Object.create(null),new I().__proto__||(O=!1));function F(q,G,V){this.fn=q,this.context=G,this.once=V||!1}function z(q,G,V,Z,Y){if(typeof V!="function")throw new TypeError("The listener must be a function");var W=new F(V,Z||q,Y),ee=O?O+G:G;return q._events[ee]?q._events[ee].fn?q._events[ee]=[q._events[ee],W]:q._events[ee].push(W):(q._events[ee]=W,q._eventsCount++),q}function L(q,G){--q._eventsCount===0?q._events=new I:delete q._events[G]}function U(){this._events=new I,this._eventsCount=0}U.prototype.eventNames=function(){var G=[],V,Z;if(this._eventsCount===0)return G;for(Z in V=this._events)R.call(V,Z)&&G.push(O?Z.slice(1):Z);return Object.getOwnPropertySymbols?G.concat(Object.getOwnPropertySymbols(V)):G},U.prototype.listeners=function(G){var V=O?O+G:G,Z=this._events[V];if(!Z)return[];if(Z.fn)return[Z.fn];for(var Y=0,W=Z.length,ee=new Array(W);Y<W;Y++)ee[Y]=Z[Y].fn;return ee},U.prototype.listenerCount=function(G){var V=O?O+G:G,Z=this._events[V];return Z?Z.fn?1:Z.length:0},U.prototype.emit=function(G,V,Z,Y,W,ee){var ne=O?O+G:G;if(!this._events[ne])return!1;var ie=this._events[ne],se=arguments.length,oe,le;if(ie.fn){switch(ie.once&&this.removeListener(G,ie.fn,void 0,!0),se){case 1:return ie.fn.call(ie.context),!0;case 2:return ie.fn.call(ie.context,V),!0;case 3:return ie.fn.call(ie.context,V,Z),!0;case 4:return ie.fn.call(ie.context,V,Z,Y),!0;case 5:return ie.fn.call(ie.context,V,Z,Y,W),!0;case 6:return ie.fn.call(ie.context,V,Z,Y,W,ee),!0}for(le=1,oe=new Array(se-1);le<se;le++)oe[le-1]=arguments[le];ie.fn.apply(ie.context,oe)}else{var ue=ie.length,ce;for(le=0;le<ue;le++)switch(ie[le].once&&this.removeListener(G,ie[le].fn,void 0,!0),se){case 1:ie[le].fn.call(ie[le].context);break;case 2:ie[le].fn.call(ie[le].context,V);break;case 3:ie[le].fn.call(ie[le].context,V,Z);break;case 4:ie[le].fn.call(ie[le].context,V,Z,Y);break;default:if(!oe)for(ce=1,oe=new Array(se-1);ce<se;ce++)oe[ce-1]=arguments[ce];ie[le].fn.apply(ie[le].context,oe)}}return!0},U.prototype.on=function(G,V,Z){return z(this,G,V,Z,!1)},U.prototype.once=function(G,V,Z){return z(this,G,V,Z,!0)},U.prototype.removeListener=function(G,V,Z,Y){var W=O?O+G:G;if(!this._events[W])return this;if(!V)return L(this,W),this;var ee=this._events[W];if(ee.fn)ee.fn===V&&(!Y||ee.once)&&(!Z||ee.context===Z)&&L(this,W);else{for(var ne=0,ie=[],se=ee.length;ne<se;ne++)(ee[ne].fn!==V||Y&&!ee[ne].once||Z&&ee[ne].context!==Z)&&ie.push(ee[ne]);ie.length?this._events[W]=ie.length===1?ie[0]:ie:L(this,W)}return this},U.prototype.removeAllListeners=function(G){var V;return G?(V=O?O+G:G,this._events[V]&&L(this,V)):(this._events=new I,this._eventsCount=0),this},U.prototype.off=U.prototype.removeListener,U.prototype.addListener=U.prototype.on,U.prefixed=O,U.EventEmitter=U,_.exports=U})(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports),PI_2=Math.PI*2,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180;class Point{constructor(R=0,O=0){this.x=0,this.y=0,this.x=R,this.y=O}clone(){return new Point(this.x,this.y)}copyFrom(R){return this.set(R.x,R.y),this}copyTo(R){return R.set(this.x,this.y),R}equals(R){return R.x===this.x&&R.y===this.y}set(R=0,O=R){return this.x=R,this.y=O,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return tempPoint.x=0,tempPoint.y=0,tempPoint}}const tempPoint=new Point;class Matrix{constructor(R=1,O=0,I=0,F=1,z=0,L=0){this.array=null,this.a=R,this.b=O,this.c=I,this.d=F,this.tx=z,this.ty=L}fromArray(R){this.a=R[0],this.b=R[1],this.c=R[3],this.d=R[4],this.tx=R[2],this.ty=R[5]}set(R,O,I,F,z,L){return this.a=R,this.b=O,this.c=I,this.d=F,this.tx=z,this.ty=L,this}toArray(R,O){this.array||(this.array=new Float32Array(9));const I=O||this.array;return R?(I[0]=this.a,I[1]=this.b,I[2]=0,I[3]=this.c,I[4]=this.d,I[5]=0,I[6]=this.tx,I[7]=this.ty,I[8]=1):(I[0]=this.a,I[1]=this.c,I[2]=this.tx,I[3]=this.b,I[4]=this.d,I[5]=this.ty,I[6]=0,I[7]=0,I[8]=1),I}apply(R,O){O=O||new Point;const I=R.x,F=R.y;return O.x=this.a*I+this.c*F+this.tx,O.y=this.b*I+this.d*F+this.ty,O}applyInverse(R,O){O=O||new Point;const I=this.a,F=this.b,z=this.c,L=this.d,U=this.tx,q=this.ty,G=1/(I*L+z*-F),V=R.x,Z=R.y;return O.x=L*G*V+-z*G*Z+(q*z-U*L)*G,O.y=I*G*Z+-F*G*V+(-q*I+U*F)*G,O}translate(R,O){return this.tx+=R,this.ty+=O,this}scale(R,O){return this.a*=R,this.d*=O,this.c*=R,this.b*=O,this.tx*=R,this.ty*=O,this}rotate(R){const O=Math.cos(R),I=Math.sin(R),F=this.a,z=this.c,L=this.tx;return this.a=F*O-this.b*I,this.b=F*I+this.b*O,this.c=z*O-this.d*I,this.d=z*I+this.d*O,this.tx=L*O-this.ty*I,this.ty=L*I+this.ty*O,this}append(R){const O=this.a,I=this.b,F=this.c,z=this.d;return this.a=R.a*O+R.b*F,this.b=R.a*I+R.b*z,this.c=R.c*O+R.d*F,this.d=R.c*I+R.d*z,this.tx=R.tx*O+R.ty*F+this.tx,this.ty=R.tx*I+R.ty*z+this.ty,this}appendFrom(R,O){const I=R.a,F=R.b,z=R.c,L=R.d,U=R.tx,q=R.ty,G=O.a,V=O.b,Z=O.c,Y=O.d;return this.a=I*G+F*Z,this.b=I*V+F*Y,this.c=z*G+L*Z,this.d=z*V+L*Y,this.tx=U*G+q*Z+O.tx,this.ty=U*V+q*Y+O.ty,this}setTransform(R,O,I,F,z,L,U,q,G){return this.a=Math.cos(U+G)*z,this.b=Math.sin(U+G)*z,this.c=-Math.sin(U-q)*L,this.d=Math.cos(U-q)*L,this.tx=R-(I*this.a+F*this.c),this.ty=O-(I*this.b+F*this.d),this}prepend(R){const O=this.tx;if(R.a!==1||R.b!==0||R.c!==0||R.d!==1){const I=this.a,F=this.c;this.a=I*R.a+this.b*R.c,this.b=I*R.b+this.b*R.d,this.c=F*R.a+this.d*R.c,this.d=F*R.b+this.d*R.d}return this.tx=O*R.a+this.ty*R.c+R.tx,this.ty=O*R.b+this.ty*R.d+R.ty,this}decompose(R){const O=this.a,I=this.b,F=this.c,z=this.d,L=R.pivot,U=-Math.atan2(-F,z),q=Math.atan2(I,O),G=Math.abs(U+q);return G<1e-5||Math.abs(PI_2-G)<1e-5?(R.rotation=q,R.skew.x=R.skew.y=0):(R.rotation=0,R.skew.x=U,R.skew.y=q),R.scale.x=Math.sqrt(O*O+I*I),R.scale.y=Math.sqrt(F*F+z*z),R.position.x=this.tx+(L.x*O+L.y*F),R.position.y=this.ty+(L.x*I+L.y*z),R}invert(){const R=this.a,O=this.b,I=this.c,F=this.d,z=this.tx,L=R*F-O*I;return this.a=F/L,this.b=-O/L,this.c=-I/L,this.d=R/L,this.tx=(I*this.ty-F*z)/L,this.ty=-(R*this.ty-O*z)/L,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const R=new Matrix;return R.a=this.a,R.b=this.b,R.c=this.c,R.d=this.d,R.tx=this.tx,R.ty=this.ty,R}copyTo(R){return R.a=this.a,R.b=this.b,R.c=this.c,R.d=this.d,R.tx=this.tx,R.ty=this.ty,R}copyFrom(R){return this.a=R.a,this.b=R.b,this.c=R.c,this.d=R.d,this.tx=R.tx,this.ty=R.ty,this}equals(R){return R.a===this.a&&R.b===this.b&&R.c===this.c&&R.d===this.d&&R.tx===this.tx&&R.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return identityMatrix$1.identity()}static get shared(){return tempMatrix$3.identity()}}const tempMatrix$3=new Matrix,identityMatrix$1=new Matrix,ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign;function init$1(){for(let _=0;_<16;_++){const R=[];rotationCayley.push(R);for(let O=0;O<16;O++){const I=signum(ux[_]*ux[O]+vx[_]*uy[O]),F=signum(uy[_]*ux[O]+vy[_]*uy[O]),z=signum(ux[_]*vx[O]+vx[_]*vy[O]),L=signum(uy[_]*vx[O]+vy[_]*vy[O]);for(let U=0;U<16;U++)if(ux[U]===I&&uy[U]===F&&vx[U]===z&&vy[U]===L){R.push(U);break}}}for(let _=0;_<16;_++){const R=new Matrix;R.set(ux[_],uy[_],vx[_],vy[_],0,0),rotationMatrices.push(R)}}init$1();const groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:_=>ux[_],uY:_=>uy[_],vX:_=>vx[_],vY:_=>vy[_],inv:_=>_&8?_&15:-_&7,add:(_,R)=>rotationCayley[_][R],sub:(_,R)=>rotationCayley[_][groupD8.inv(R)],rotate180:_=>_^4,isVertical:_=>(_&3)===2,byDirection:(_,R)=>Math.abs(_)*2<=Math.abs(R)?R>=0?groupD8.S:groupD8.N:Math.abs(R)*2<=Math.abs(_)?_>0?groupD8.E:groupD8.W:R>0?_>0?groupD8.SE:groupD8.SW:_>0?groupD8.NE:groupD8.NW,matrixAppendRotationInv:(_,R,O=0,I=0)=>{const F=rotationMatrices[groupD8.inv(R)];F.tx=O,F.ty=I,_.append(F)},transformRectCoords:(_,R,O,I)=>{const{x:F,y:z,width:L,height:U}=_,{x:q,y:G,width:V,height:Z}=R;return O===groupD8.E?(I.set(F+q,z+G,L,U),I):O===groupD8.S?I.set(V-z-U+q,F+G,U,L):O===groupD8.W?I.set(V-F-L+q,Z-z-U+G,L,U):O===groupD8.N?I.set(z+q,Z-F-L+G,U,L):I.set(F+q,z+G,L,U)}},tempPoints=[new Point,new Point,new Point,new Point];class Rectangle{constructor(R=0,O=0,I=0,F=0){this.type="rectangle",this.x=Number(R),this.y=Number(O),this.width=Number(I),this.height=Number(F)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Rectangle(0,0,0,0)}clone(){return new Rectangle(this.x,this.y,this.width,this.height)}copyFromBounds(R){return this.x=R.minX,this.y=R.minY,this.width=R.maxX-R.minX,this.height=R.maxY-R.minY,this}copyFrom(R){return this.x=R.x,this.y=R.y,this.width=R.width,this.height=R.height,this}copyTo(R){return R.copyFrom(this),R}contains(R,O){return this.width<=0||this.height<=0?!1:R>=this.x&&R<this.x+this.width&&O>=this.y&&O<this.y+this.height}strokeContains(R,O,I,F=.5){const{width:z,height:L}=this;if(z<=0||L<=0)return!1;const U=this.x,q=this.y,G=I*(1-F),V=I-G,Z=U-G,Y=U+z+G,W=q-G,ee=q+L+G,ne=U+V,ie=U+z-V,se=q+V,oe=q+L-V;return R>=Z&&R<=Y&&O>=W&&O<=ee&&!(R>ne&&R<ie&&O>se&&O<oe)}intersects(R,O){if(!O){const he=this.x<R.x?R.x:this.x;if((this.right>R.right?R.right:this.right)<=he)return!1;const ge=this.y<R.y?R.y:this.y;return(this.bottom>R.bottom?R.bottom:this.bottom)>ge}const I=this.left,F=this.right,z=this.top,L=this.bottom;if(F<=I||L<=z)return!1;const U=tempPoints[0].set(R.left,R.top),q=tempPoints[1].set(R.left,R.bottom),G=tempPoints[2].set(R.right,R.top),V=tempPoints[3].set(R.right,R.bottom);if(G.x<=U.x||q.y<=U.y)return!1;const Z=Math.sign(O.a*O.d-O.b*O.c);if(Z===0||(O.apply(U,U),O.apply(q,q),O.apply(G,G),O.apply(V,V),Math.max(U.x,q.x,G.x,V.x)<=I||Math.min(U.x,q.x,G.x,V.x)>=F||Math.max(U.y,q.y,G.y,V.y)<=z||Math.min(U.y,q.y,G.y,V.y)>=L))return!1;const Y=Z*(q.y-U.y),W=Z*(U.x-q.x),ee=Y*I+W*z,ne=Y*F+W*z,ie=Y*I+W*L,se=Y*F+W*L;if(Math.max(ee,ne,ie,se)<=Y*U.x+W*U.y||Math.min(ee,ne,ie,se)>=Y*V.x+W*V.y)return!1;const oe=Z*(U.y-G.y),le=Z*(G.x-U.x),ue=oe*I+le*z,ce=oe*F+le*z,fe=oe*I+le*L,me=oe*F+le*L;return!(Math.max(ue,ce,fe,me)<=oe*U.x+le*U.y||Math.min(ue,ce,fe,me)>=oe*V.x+le*V.y)}pad(R=0,O=R){return this.x-=R,this.y-=O,this.width+=R*2,this.height+=O*2,this}fit(R){const O=Math.max(this.x,R.x),I=Math.min(this.x+this.width,R.x+R.width),F=Math.max(this.y,R.y),z=Math.min(this.y+this.height,R.y+R.height);return this.x=O,this.width=Math.max(I-O,0),this.y=F,this.height=Math.max(z-F,0),this}ceil(R=1,O=.001){const I=Math.ceil((this.x+this.width-O)*R)/R,F=Math.ceil((this.y+this.height-O)*R)/R;return this.x=Math.floor((this.x+O)*R)/R,this.y=Math.floor((this.y+O)*R)/R,this.width=I-this.x,this.height=F-this.y,this}scale(R,O=R){return this.x*=R,this.y*=O,this.width*=R,this.height*=O,this}enlarge(R){const O=Math.min(this.x,R.x),I=Math.max(this.x+this.width,R.x+R.width),F=Math.min(this.y,R.y),z=Math.max(this.y+this.height,R.y+R.height);return this.x=O,this.width=I-O,this.y=F,this.height=z-F,this}getBounds(R){return R||(R=new Rectangle),R.copyFrom(this),R}containsRect(R){if(this.width<=0||this.height<=0)return!1;const O=R.x,I=R.y,F=R.x+R.width,z=R.y+R.height;return O>=this.x&&O<this.x+this.width&&I>=this.y&&I<this.y+this.height&&F>=this.x&&F<this.x+this.width&&z>=this.y&&z<this.y+this.height}set(R,O,I,F){return this.x=R,this.y=O,this.width=I,this.height=F,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const uidCache={default:-1};function uid(_="default"){return uidCache[_]===void 0&&(uidCache[_]=-1),++uidCache[_]}const warnings$1=new Set,v8_0_0="8.0.0",v8_3_4="8.3.4",deprecationState={quiet:!1,noColor:!1},deprecation=(_,R,O=3)=>{if(deprecationState.quiet||warnings$1.has(R))return;let I=new Error().stack;const F=`${R}
Deprecated since v${_}`,z=typeof console.groupCollapsed=="function"&&!deprecationState.noColor;typeof I>"u"?console.warn("PixiJS Deprecation Warning: ",F):(I=I.split(`
`).splice(O).join(`
`),z?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",F),console.warn(I),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",F),console.warn(I))),warnings$1.add(R)};Object.defineProperties(deprecation,{quiet:{get:()=>deprecationState.quiet,set:_=>{deprecationState.quiet=_},enumerable:!0,configurable:!1},noColor:{get:()=>deprecationState.noColor,set:_=>{deprecationState.noColor=_},enumerable:!0,configurable:!1}});const NOOP=()=>{};function nextPow2(_){return _+=_===0?1:0,--_,_|=_>>>1,_|=_>>>2,_|=_>>>4,_|=_>>>8,_|=_>>>16,_+1}function isPow2(_){return!(_&_-1)&&!!_}function definedProps(_){const R={};for(const O in _)_[O]!==void 0&&(R[O]=_[O]);return R}const idHash$1=Object.create(null);function createResourceIdFromString(_){const R=idHash$1[_];return R===void 0&&(idHash$1[_]=uid("resource")),R}const _TextureStyle=class Dh extends EventEmitter{constructor(R={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,R={...Dh.defaultOptions,...R},this.addressMode=R.addressMode,this.addressModeU=R.addressModeU??this.addressModeU,this.addressModeV=R.addressModeV??this.addressModeV,this.addressModeW=R.addressModeW??this.addressModeW,this.scaleMode=R.scaleMode,this.magFilter=R.magFilter??this.magFilter,this.minFilter=R.minFilter??this.minFilter,this.mipmapFilter=R.mipmapFilter??this.mipmapFilter,this.lodMinClamp=R.lodMinClamp,this.lodMaxClamp=R.lodMaxClamp,this.compare=R.compare,this.maxAnisotropy=R.maxAnisotropy??1}set addressMode(R){this.addressModeU=R,this.addressModeV=R,this.addressModeW=R}get addressMode(){return this.addressModeU}set wrapMode(R){deprecation(v8_0_0,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=R}get wrapMode(){return this.addressMode}set scaleMode(R){this.magFilter=R,this.minFilter=R,this.mipmapFilter=R}get scaleMode(){return this.magFilter}set maxAnisotropy(R){this._maxAnisotropy=Math.min(R,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const R=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=createResourceIdFromString(R),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};_TextureStyle.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let TextureStyle=_TextureStyle;const _TextureSource=class kh extends EventEmitter{constructor(R={}){super(),this.options=R,this.uid=uid("textureSource"),this._resourceType="textureSource",this._resourceId=uid("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,R={...kh.defaultOptions,...R},this.label=R.label??"",this.resource=R.resource,this.autoGarbageCollect=R.autoGarbageCollect,this._resolution=R.resolution,R.width?this.pixelWidth=R.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,R.height?this.pixelHeight=R.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=R.format,this.dimension=R.dimensions,this.mipLevelCount=R.mipLevelCount,this.autoGenerateMipmaps=R.autoGenerateMipmaps,this.sampleCount=R.sampleCount,this.antialias=R.antialias,this.alphaMode=R.alphaMode,this.style=new TextureStyle(definedProps(R)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(R){this.style!==R&&(this._style?.off("change",this._onStyleChange,this),this._style=R,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(R){this._style.maxAnisotropy=R}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(R){this._style.addressMode=R}get repeatMode(){return this._style.addressMode}set repeatMode(R){this._style.addressMode=R}get magFilter(){return this._style.magFilter}set magFilter(R){this._style.magFilter=R}get minFilter(){return this._style.minFilter}set minFilter(R){this._style.minFilter=R}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(R){this._style.mipmapFilter=R}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(R){this._style.lodMinClamp=R}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(R){this._style.lodMaxClamp=R}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const R=this._resolution;if(this.resize(this.resourceWidth/R,this.resourceHeight/R))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=uid("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:R}=this;return R.naturalWidth||R.videoWidth||R.displayWidth||R.width}get resourceHeight(){const{resource:R}=this;return R.naturalHeight||R.videoHeight||R.displayHeight||R.height}get resolution(){return this._resolution}set resolution(R){this._resolution!==R&&(this._resolution=R,this.width=this.pixelWidth/R,this.height=this.pixelHeight/R)}resize(R,O,I){I||(I=this._resolution),R||(R=this.width),O||(O=this.height);const F=Math.round(R*I),z=Math.round(O*I);return this.width=F/I,this.height=z/I,this._resolution=I,this.pixelWidth===F&&this.pixelHeight===z?!1:(this._refreshPOT(),this.pixelWidth=F,this.pixelHeight=z,this.emit("resize",this),this._resourceId=uid("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(R){this._style.wrapMode=R}get wrapMode(){return this._style.wrapMode}set scaleMode(R){this._style.scaleMode=R}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=isPow2(this.pixelWidth)&&isPow2(this.pixelHeight)}static test(R){throw new Error("Unimplemented")}};_TextureSource.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let TextureSource=_TextureSource;class BufferImageSource extends TextureSource{constructor(R){const O=R.resource||new Float32Array(R.width*R.height*4);let I=R.format;I||(O instanceof Float32Array?I="rgba32float":O instanceof Int32Array||O instanceof Uint32Array?I="rgba32uint":O instanceof Int16Array||O instanceof Uint16Array?I="rgba16uint":(O instanceof Int8Array,I="bgra8unorm")),super({...R,resource:O,format:I}),this.uploadMethodId="buffer"}static test(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array}}BufferImageSource.extension=ExtensionType.TextureSource;const tempMat=new Matrix;class TextureMatrix{constructor(R,O){this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof O>"u"?this.clampMargin=R.width<10?0:.5:this.clampMargin=O,this.isSimple=!1,this.texture=R}get texture(){return this._texture}set texture(R){this.texture!==R&&(this._texture?.removeListener("update",this.update,this),this._texture=R,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(R,O){O===void 0&&(O=R);const I=this.mapCoord;for(let F=0;F<R.length;F+=2){const z=R[F],L=R[F+1];O[F]=z*I.a+L*I.c+I.tx,O[F+1]=z*I.b+L*I.d+I.ty}return O}update(){const R=this._texture;this._updateID++;const O=R.uvs;this.mapCoord.set(O.x1-O.x0,O.y1-O.y0,O.x3-O.x0,O.y3-O.y0,O.x0,O.y0);const I=R.orig,F=R.trim;F&&(tempMat.set(I.width/F.width,0,0,I.height/F.height,-F.x/F.width,-F.y/F.height),this.mapCoord.append(tempMat));const z=R.source,L=this.uClampFrame,U=this.clampMargin/z._resolution,q=this.clampOffset/z._resolution;return L[0]=(R.frame.x+U+q)/z.width,L[1]=(R.frame.y+U+q)/z.height,L[2]=(R.frame.x+R.frame.width-U+q)/z.width,L[3]=(R.frame.y+R.frame.height-U+q)/z.height,this.uClampOffset[0]=this.clampOffset/z.pixelWidth,this.uClampOffset[1]=this.clampOffset/z.pixelHeight,this.isSimple=R.frame.width===z.width&&R.frame.height===z.height&&R.rotate===0,!0}}class Texture extends EventEmitter{constructor({source:R,label:O,frame:I,orig:F,trim:z,defaultAnchor:L,defaultBorders:U,rotate:q,dynamic:G}={}){if(super(),this.uid=uid("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Rectangle,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=O,this.source=R?.source??new TextureSource,this.noFrame=!I,I)this.frame.copyFrom(I);else{const{width:V,height:Z}=this._source;this.frame.width=V,this.frame.height=Z}this.orig=F||this.frame,this.trim=z,this.rotate=q??0,this.defaultAnchor=L,this.defaultBorders=U,this.destroyed=!1,this.dynamic=G||!1,this.updateUvs()}set source(R){this._source&&this._source.off("resize",this.update,this),this._source=R,R.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new TextureMatrix(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:R,frame:O}=this,{width:I,height:F}=this._source,z=O.x/I,L=O.y/F,U=O.width/I,q=O.height/F;let G=this.rotate;if(G){const V=U/2,Z=q/2,Y=z+V,W=L+Z;G=groupD8.add(G,groupD8.NW),R.x0=Y+V*groupD8.uX(G),R.y0=W+Z*groupD8.uY(G),G=groupD8.add(G,2),R.x1=Y+V*groupD8.uX(G),R.y1=W+Z*groupD8.uY(G),G=groupD8.add(G,2),R.x2=Y+V*groupD8.uX(G),R.y2=W+Z*groupD8.uY(G),G=groupD8.add(G,2),R.x3=Y+V*groupD8.uX(G),R.y3=W+Z*groupD8.uY(G)}else R.x0=z,R.y0=L,R.x1=z+U,R.y1=L,R.x2=z+U,R.y2=L+q,R.x3=z,R.y3=L+q}destroy(R=!1){this._source&&(this._source.off("resize",this.update,this),R&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return deprecation(v8_0_0,"Texture.baseTexture is now Texture.source"),this._source}}Texture.EMPTY=new Texture({label:"EMPTY",source:new TextureSource({label:"EMPTY"})});Texture.EMPTY.destroy=NOOP;Texture.WHITE=new Texture({source:new BufferImageSource({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Texture.WHITE.destroy=NOOP;function updateQuadBounds(_,R,O){const{width:I,height:F}=O.orig,z=O.trim;if(z){const L=z.width,U=z.height;_.minX=z.x-R._x*I,_.maxX=_.minX+L,_.minY=z.y-R._y*F,_.maxY=_.minY+U}else _.minX=-R._x*I,_.maxX=_.minX+I,_.minY=-R._y*F,_.maxY=_.minY+F}const defaultMatrix=new Matrix;class Bounds{constructor(R=1/0,O=1/0,I=-1/0,F=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=defaultMatrix,this.minX=R,this.minY=O,this.maxX=I,this.maxY=F}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Rectangle);const R=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(R.x=0,R.y=0,R.width=0,R.height=0):R.copyFromBounds(this),R}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=defaultMatrix,this}set(R,O,I,F){this.minX=R,this.minY=O,this.maxX=I,this.maxY=F}addFrame(R,O,I,F,z){z||(z=this.matrix);const L=z.a,U=z.b,q=z.c,G=z.d,V=z.tx,Z=z.ty;let Y=this.minX,W=this.minY,ee=this.maxX,ne=this.maxY,ie=L*R+q*O+V,se=U*R+G*O+Z;ie<Y&&(Y=ie),se<W&&(W=se),ie>ee&&(ee=ie),se>ne&&(ne=se),ie=L*I+q*O+V,se=U*I+G*O+Z,ie<Y&&(Y=ie),se<W&&(W=se),ie>ee&&(ee=ie),se>ne&&(ne=se),ie=L*R+q*F+V,se=U*R+G*F+Z,ie<Y&&(Y=ie),se<W&&(W=se),ie>ee&&(ee=ie),se>ne&&(ne=se),ie=L*I+q*F+V,se=U*I+G*F+Z,ie<Y&&(Y=ie),se<W&&(W=se),ie>ee&&(ee=ie),se>ne&&(ne=se),this.minX=Y,this.minY=W,this.maxX=ee,this.maxY=ne}addRect(R,O){this.addFrame(R.x,R.y,R.x+R.width,R.y+R.height,O)}addBounds(R,O){this.addFrame(R.minX,R.minY,R.maxX,R.maxY,O)}addBoundsMask(R){this.minX=this.minX>R.minX?this.minX:R.minX,this.minY=this.minY>R.minY?this.minY:R.minY,this.maxX=this.maxX<R.maxX?this.maxX:R.maxX,this.maxY=this.maxY<R.maxY?this.maxY:R.maxY}applyMatrix(R){const O=this.minX,I=this.minY,F=this.maxX,z=this.maxY,{a:L,b:U,c:q,d:G,tx:V,ty:Z}=R;let Y=L*O+q*I+V,W=U*O+G*I+Z;this.minX=Y,this.minY=W,this.maxX=Y,this.maxY=W,Y=L*F+q*I+V,W=U*F+G*I+Z,this.minX=Y<this.minX?Y:this.minX,this.minY=W<this.minY?W:this.minY,this.maxX=Y>this.maxX?Y:this.maxX,this.maxY=W>this.maxY?W:this.maxY,Y=L*O+q*z+V,W=U*O+G*z+Z,this.minX=Y<this.minX?Y:this.minX,this.minY=W<this.minY?W:this.minY,this.maxX=Y>this.maxX?Y:this.maxX,this.maxY=W>this.maxY?W:this.maxY,Y=L*F+q*z+V,W=U*F+G*z+Z,this.minX=Y<this.minX?Y:this.minX,this.minY=W<this.minY?W:this.minY,this.maxX=Y>this.maxX?Y:this.maxX,this.maxY=W>this.maxY?W:this.maxY}fit(R){return this.minX<R.left&&(this.minX=R.left),this.maxX>R.right&&(this.maxX=R.right),this.minY<R.top&&(this.minY=R.top),this.maxY>R.bottom&&(this.maxY=R.bottom),this}fitBounds(R,O,I,F){return this.minX<R&&(this.minX=R),this.maxX>O&&(this.maxX=O),this.minY<I&&(this.minY=I),this.maxY>F&&(this.maxY=F),this}pad(R,O=R){return this.minX-=R,this.maxX+=R,this.minY-=O,this.maxY+=O,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Bounds(this.minX,this.minY,this.maxX,this.maxY)}scale(R,O=R){return this.minX*=R,this.minY*=O,this.maxX*=R,this.maxY*=O,this}get x(){return this.minX}set x(R){const O=this.maxX-this.minX;this.minX=R,this.maxX=R+O}get y(){return this.minY}set y(R){const O=this.maxY-this.minY;this.minY=R,this.maxY=R+O}get width(){return this.maxX-this.minX}set width(R){this.maxX=this.minX+R}get height(){return this.maxY-this.minY}set height(R){this.maxY=this.minY+R}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(R,O,I,F){let z=this.minX,L=this.minY,U=this.maxX,q=this.maxY;F||(F=this.matrix);const G=F.a,V=F.b,Z=F.c,Y=F.d,W=F.tx,ee=F.ty;for(let ne=O;ne<I;ne+=2){const ie=R[ne],se=R[ne+1],oe=G*ie+Z*se+W,le=V*ie+Y*se+ee;z=oe<z?oe:z,L=le<L?le:L,U=oe>U?oe:U,q=le>q?le:q}this.minX=z,this.minY=L,this.maxX=U,this.maxY=q}containsPoint(R,O){return this.minX<=R&&this.minY<=O&&this.maxX>=R&&this.maxY>=O}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(R){return this.minX=R.minX,this.minY=R.minY,this.maxX=R.maxX,this.maxY=R.maxY,this}}var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(_){return typeof _=="string"?_.length>0:typeof _=="number"},n=function(_,R,O){return R===void 0&&(R=0),O===void 0&&(O=Math.pow(10,R)),Math.round(O*_)/O+0},e=function(_,R,O){return R===void 0&&(R=0),O===void 0&&(O=1),_>O?O:_>R?_:R},u=function(_){return(_=isFinite(_)?_%360:0)>0?_:_+360},a$1=function(_){return{r:e(_.r,0,255),g:e(_.g,0,255),b:e(_.b,0,255),a:e(_.a)}},o=function(_){return{r:n(_.r),g:n(_.g),b:n(_.b),a:n(_.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s$1=function(_){var R=_.toString(16);return R.length<2?"0"+R:R},h=function(_){var R=_.r,O=_.g,I=_.b,F=_.a,z=Math.max(R,O,I),L=z-Math.min(R,O,I),U=L?z===R?(O-I)/L:z===O?2+(I-R)/L:4+(R-O)/L:0;return{h:60*(U<0?U+6:U),s:z?L/z*100:0,v:z/255*100,a:F}},b=function(_){var R=_.h,O=_.s,I=_.v,F=_.a;R=R/360*6,O/=100,I/=100;var z=Math.floor(R),L=I*(1-O),U=I*(1-(R-z)*O),q=I*(1-(1-R+z)*O),G=z%6;return{r:255*[I,U,L,L,q,I][G],g:255*[q,I,I,U,L,L][G],b:255*[L,L,q,I,I,U][G],a:F}},g=function(_){return{h:u(_.h),s:e(_.s,0,100),l:e(_.l,0,100),a:e(_.a)}},d=function(_){return{h:n(_.h),s:n(_.s),l:n(_.l),a:n(_.a,3)}},f=function(_){return b((O=(R=_).s,{h:R.h,s:(O*=((I=R.l)<50?I:100-I)/100)>0?2*O/(I+O)*100:0,v:I+O,a:R.a}));var R,O,I},c$3=function(_){return{h:(R=h(_)).h,s:(F=(200-(O=R.s))*(I=R.v)/100)>0&&F<200?O*I/100/(F<=100?F:200-F)*100:0,l:F/2,a:R.a};var R,O,I,F},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$1={string:[[function(_){var R=i.exec(_);return R?(_=R[1]).length<=4?{r:parseInt(_[0]+_[0],16),g:parseInt(_[1]+_[1],16),b:parseInt(_[2]+_[2],16),a:_.length===4?n(parseInt(_[3]+_[3],16)/255,2):1}:_.length===6||_.length===8?{r:parseInt(_.substr(0,2),16),g:parseInt(_.substr(2,2),16),b:parseInt(_.substr(4,2),16),a:_.length===8?n(parseInt(_.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(_){var R=v.exec(_)||m.exec(_);return R?R[2]!==R[4]||R[4]!==R[6]?null:a$1({r:Number(R[1])/(R[2]?100/255:1),g:Number(R[3])/(R[4]?100/255:1),b:Number(R[5])/(R[6]?100/255:1),a:R[7]===void 0?1:Number(R[7])/(R[8]?100:1)}):null},"rgb"],[function(_){var R=l.exec(_)||p.exec(_);if(!R)return null;var O,I,F=g({h:(O=R[1],I=R[2],I===void 0&&(I="deg"),Number(O)*(r[I]||1)),s:Number(R[3]),l:Number(R[4]),a:R[5]===void 0?1:Number(R[5])/(R[6]?100:1)});return f(F)},"hsl"]],object:[[function(_){var R=_.r,O=_.g,I=_.b,F=_.a,z=F===void 0?1:F;return t(R)&&t(O)&&t(I)?a$1({r:Number(R),g:Number(O),b:Number(I),a:Number(z)}):null},"rgb"],[function(_){var R=_.h,O=_.s,I=_.l,F=_.a,z=F===void 0?1:F;if(!t(R)||!t(O)||!t(I))return null;var L=g({h:Number(R),s:Number(O),l:Number(I),a:Number(z)});return f(L)},"hsl"],[function(_){var R=_.h,O=_.s,I=_.v,F=_.a,z=F===void 0?1:F;if(!t(R)||!t(O)||!t(I))return null;var L=(function(U){return{h:u(U.h),s:e(U.s,0,100),v:e(U.v,0,100),a:e(U.a)}})({h:Number(R),s:Number(O),v:Number(I),a:Number(z)});return b(L)},"hsv"]]},N=function(_,R){for(var O=0;O<R.length;O++){var I=R[O][0](_);if(I)return[I,R[O][1]]}return[null,void 0]},x$1=function(_){return typeof _=="string"?N(_.trim(),y$1.string):typeof _=="object"&&_!==null?N(_,y$1.object):[null,void 0]},M$1=function(_,R){var O=c$3(_);return{h:O.h,s:e(O.s+100*R,0,100),l:O.l,a:O.a}},H=function(_){return(299*_.r+587*_.g+114*_.b)/1e3/255},$=function(_,R){var O=c$3(_);return{h:O.h,s:O.s,l:e(O.l+100*R,0,100),a:O.a}},j=(function(){function _(R){this.parsed=x$1(R)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return _.prototype.isValid=function(){return this.parsed!==null},_.prototype.brightness=function(){return n(H(this.rgba),2)},_.prototype.isDark=function(){return H(this.rgba)<.5},_.prototype.isLight=function(){return H(this.rgba)>=.5},_.prototype.toHex=function(){return R=o(this.rgba),O=R.r,I=R.g,F=R.b,L=(z=R.a)<1?s$1(n(255*z)):"","#"+s$1(O)+s$1(I)+s$1(F)+L;var R,O,I,F,z,L},_.prototype.toRgb=function(){return o(this.rgba)},_.prototype.toRgbString=function(){return R=o(this.rgba),O=R.r,I=R.g,F=R.b,(z=R.a)<1?"rgba("+O+", "+I+", "+F+", "+z+")":"rgb("+O+", "+I+", "+F+")";var R,O,I,F,z},_.prototype.toHsl=function(){return d(c$3(this.rgba))},_.prototype.toHslString=function(){return R=d(c$3(this.rgba)),O=R.h,I=R.s,F=R.l,(z=R.a)<1?"hsla("+O+", "+I+"%, "+F+"%, "+z+")":"hsl("+O+", "+I+"%, "+F+"%)";var R,O,I,F,z},_.prototype.toHsv=function(){return R=h(this.rgba),{h:n(R.h),s:n(R.s),v:n(R.v),a:n(R.a,3)};var R},_.prototype.invert=function(){return w({r:255-(R=this.rgba).r,g:255-R.g,b:255-R.b,a:R.a});var R},_.prototype.saturate=function(R){return R===void 0&&(R=.1),w(M$1(this.rgba,R))},_.prototype.desaturate=function(R){return R===void 0&&(R=.1),w(M$1(this.rgba,-R))},_.prototype.grayscale=function(){return w(M$1(this.rgba,-1))},_.prototype.lighten=function(R){return R===void 0&&(R=.1),w($(this.rgba,R))},_.prototype.darken=function(R){return R===void 0&&(R=.1),w($(this.rgba,-R))},_.prototype.rotate=function(R){return R===void 0&&(R=15),this.hue(this.hue()+R)},_.prototype.alpha=function(R){return typeof R=="number"?w({r:(O=this.rgba).r,g:O.g,b:O.b,a:R}):n(this.rgba.a,3);var O},_.prototype.hue=function(R){var O=c$3(this.rgba);return typeof R=="number"?w({h:R,s:O.s,l:O.l,a:O.a}):n(O.h)},_.prototype.isEqual=function(R){return this.toHex()===w(R).toHex()},_})(),w=function(_){return _ instanceof j?_:new j(_)},S=[],k$1=function(_){_.forEach(function(R){S.indexOf(R)<0&&(R(j,y$1),S.push(R))})};function namesPlugin(_,R){var O={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},I={};for(var F in O)I[O[F]]=F;var z={};_.prototype.toName=function(L){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var U,q,G=I[this.toHex()];if(G)return G;if(L?.closest){var V=this.toRgb(),Z=1/0,Y="black";if(!z.length)for(var W in O)z[W]=new _(O[W]).toRgb();for(var ee in O){var ne=(U=V,q=z[ee],Math.pow(U.r-q.r,2)+Math.pow(U.g-q.g,2)+Math.pow(U.b-q.b,2));ne<Z&&(Z=ne,Y=ee)}return Y}},R.string.push([function(L){var U=L.toLowerCase(),q=U==="transparent"?"#0000":O[U];return q?new _(q).toRgb():null},"name"])}k$1([namesPlugin]);const _Color=class es{constructor(R=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=R}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(R){return this.value=R,this}set value(R){if(R instanceof es)this._value=this._cloneSource(R._value),this._int=R._int,this._components.set(R._components);else{if(R===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,R))&&(this._value=this._cloneSource(R),this._normalize(this._value))}}get value(){return this._value}_cloneSource(R){return typeof R=="string"||typeof R=="number"||R instanceof Number||R===null?R:Array.isArray(R)||ArrayBuffer.isView(R)?R.slice(0):typeof R=="object"&&R!==null?{...R}:R}_isSourceEqual(R,O){const I=typeof R;if(I!==typeof O)return!1;if(I==="number"||I==="string"||R instanceof Number)return R===O;if(Array.isArray(R)&&Array.isArray(O)||ArrayBuffer.isView(R)&&ArrayBuffer.isView(O))return R.length!==O.length?!1:R.every((z,L)=>z===O[L]);if(R!==null&&O!==null){const z=Object.keys(R),L=Object.keys(O);return z.length!==L.length?!1:z.every(U=>R[U]===O[U])}return R===O}toRgba(){const[R,O,I,F]=this._components;return{r:R,g:O,b:I,a:F}}toRgb(){const[R,O,I]=this._components;return{r:R,g:O,b:I}}toRgbaString(){const[R,O,I]=this.toUint8RgbArray();return`rgba(${R},${O},${I},${this.alpha})`}toUint8RgbArray(R){const[O,I,F]=this._components;return this._arrayRgb||(this._arrayRgb=[]),R||(R=this._arrayRgb),R[0]=Math.round(O*255),R[1]=Math.round(I*255),R[2]=Math.round(F*255),R}toArray(R){this._arrayRgba||(this._arrayRgba=[]),R||(R=this._arrayRgba);const[O,I,F,z]=this._components;return R[0]=O,R[1]=I,R[2]=F,R[3]=z,R}toRgbArray(R){this._arrayRgb||(this._arrayRgb=[]),R||(R=this._arrayRgb);const[O,I,F]=this._components;return R[0]=O,R[1]=I,R[2]=F,R}toNumber(){return this._int}toBgrNumber(){const[R,O,I]=this.toUint8RgbArray();return(I<<16)+(O<<8)+R}toLittleEndianNumber(){const R=this._int;return(R>>16)+(R&65280)+((R&255)<<16)}multiply(R){const[O,I,F,z]=es._temp.setValue(R)._components;return this._components[0]*=O,this._components[1]*=I,this._components[2]*=F,this._components[3]*=z,this._refreshInt(),this._value=null,this}premultiply(R,O=!0){return O&&(this._components[0]*=R,this._components[1]*=R,this._components[2]*=R),this._components[3]=R,this._refreshInt(),this._value=null,this}toPremultiplied(R,O=!0){if(R===1)return(255<<24)+this._int;if(R===0)return O?0:this._int;let I=this._int>>16&255,F=this._int>>8&255,z=this._int&255;return O&&(I=I*R+.5|0,F=F*R+.5|0,z=z*R+.5|0),(R*255<<24)+(I<<16)+(F<<8)+z}toHex(){const R=this._int.toString(16);return`#${"000000".substring(0,6-R.length)+R}`}toHexa(){const O=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-O.length)+O}setAlpha(R){return this._components[3]=this._clamp(R),this}_normalize(R){let O,I,F,z;if((typeof R=="number"||R instanceof Number)&&R>=0&&R<=16777215){const L=R;O=(L>>16&255)/255,I=(L>>8&255)/255,F=(L&255)/255,z=1}else if((Array.isArray(R)||R instanceof Float32Array)&&R.length>=3&&R.length<=4)R=this._clamp(R),[O,I,F,z=1]=R;else if((R instanceof Uint8Array||R instanceof Uint8ClampedArray)&&R.length>=3&&R.length<=4)R=this._clamp(R,0,255),[O,I,F,z=255]=R,O/=255,I/=255,F/=255,z/=255;else if(typeof R=="string"||typeof R=="object"){if(typeof R=="string"){const U=es.HEX_PATTERN.exec(R);U&&(R=`#${U[2]}`)}const L=w(R);L.isValid()&&({r:O,g:I,b:F,a:z}=L.rgba,O/=255,I/=255,F/=255)}if(O!==void 0)this._components[0]=O,this._components[1]=I,this._components[2]=F,this._components[3]=z,this._refreshInt();else throw new Error(`Unable to convert color ${R}`)}_refreshInt(){this._clamp(this._components);const[R,O,I]=this._components;this._int=(R*255<<16)+(O*255<<8)+(I*255|0)}_clamp(R,O=0,I=1){return typeof R=="number"?Math.min(Math.max(R,O),I):(R.forEach((F,z)=>{R[z]=Math.min(Math.max(F,O),I)}),R)}static isColorLike(R){return typeof R=="number"||typeof R=="string"||R instanceof Number||R instanceof es||Array.isArray(R)||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Float32Array||R.r!==void 0&&R.g!==void 0&&R.b!==void 0||R.r!==void 0&&R.g!==void 0&&R.b!==void 0&&R.a!==void 0||R.h!==void 0&&R.s!==void 0&&R.l!==void 0||R.h!==void 0&&R.s!==void 0&&R.l!==void 0&&R.a!==void 0||R.h!==void 0&&R.s!==void 0&&R.v!==void 0||R.h!==void 0&&R.s!==void 0&&R.v!==void 0&&R.a!==void 0}};_Color.shared=new _Color;_Color._temp=new _Color;_Color.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Color$1=_Color;const cullingMixin={cullArea:null,cullable:!1,cullableChildren:!0};let warnCount=0;const maxWarnings=500;function warn$1(..._){warnCount!==maxWarnings&&(warnCount++,warnCount===maxWarnings?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",..._))}const GlobalResourceRegistry={_registeredResources:new Set,register(_){this._registeredResources.add(_)},unregister(_){this._registeredResources.delete(_)},release(){this._registeredResources.forEach(_=>_.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(_){return this._registeredResources.has(_)},reset(){this._registeredResources.clear()}};class Pool{constructor(R,O){this._pool=[],this._count=0,this._index=0,this._classType=R,O&&this.prepopulate(O)}prepopulate(R){for(let O=0;O<R;O++)this._pool[this._index++]=new this._classType;this._count+=R}get(R){let O;return this._index>0?O=this._pool[--this._index]:(O=new this._classType,this._count++),O.init?.(R),O}return(R){R.reset?.(),this._pool[this._index++]=R}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let R=0;R<this._index;R++)this._pool[R].destroy();this._pool.length=0,this._count=0,this._index=0}}class PoolGroupClass{constructor(){this._poolsByClass=new Map}prepopulate(R,O){this.getPool(R).prepopulate(O)}get(R,O){return this.getPool(R).get(O)}return(R){this.getPool(R.constructor).return(R)}getPool(R){return this._poolsByClass.has(R)||this._poolsByClass.set(R,new Pool(R)),this._poolsByClass.get(R)}stats(){const R={};return this._poolsByClass.forEach(O=>{const I=R[O._classType.name]?O._classType.name+O._classType.ID:O._classType.name;R[I]={free:O.totalFree,used:O.totalUsed,size:O.totalSize}}),R}clear(){this._poolsByClass.forEach(R=>R.clear()),this._poolsByClass.clear()}}const BigPool=new PoolGroupClass;GlobalResourceRegistry.register(BigPool);const cacheAsTextureMixin={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(_){typeof _=="boolean"&&_===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(_===!0?{}:_))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(_){deprecation("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(_)}};function removeItems(_,R,O){const I=_.length;let F;if(R>=I||O===0)return;O=R+O>I?I-R:O;const z=I-O;for(F=R;F<z;++F)_[F]=_[F+O];_.length=z}const childrenHelperMixin={allowChildren:!0,removeChildren(_=0,R){const O=R??this.children.length,I=O-_,F=[];if(I>0&&I<=O){for(let L=O-1;L>=_;L--){const U=this.children[L];U&&(F.push(U),U.parent=null)}removeItems(this.children,_,O);const z=this.renderGroup||this.parentRenderGroup;z&&z.removeChildren(F);for(let L=0;L<F.length;++L){const U=F[L];U.parentRenderLayer?.detach(U),this.emit("childRemoved",U,this,L),F[L].emit("removed",this)}return F.length>0&&this._didViewChangeTick++,F}else if(I===0&&this.children.length===0)return F;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(_){const R=this.getChildAt(_);return this.removeChild(R)},getChildAt(_){if(_<0||_>=this.children.length)throw new Error(`getChildAt: Index (${_}) does not exist.`);return this.children[_]},setChildIndex(_,R){if(R<0||R>=this.children.length)throw new Error(`The index ${R} supplied is out of bounds ${this.children.length}`);this.getChildIndex(_),this.addChildAt(_,R)},getChildIndex(_){const R=this.children.indexOf(_);if(R===-1)throw new Error("The supplied Container must be a child of the caller");return R},addChildAt(_,R){this.allowChildren||deprecation(v8_0_0,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:O}=this;if(R<0||R>O.length)throw new Error(`${_}addChildAt: The index ${R} supplied is out of bounds ${O.length}`);if(_.parent){const F=_.parent.children.indexOf(_);if(_.parent===this&&F===R)return _;F!==-1&&_.parent.children.splice(F,1)}R===O.length?O.push(_):O.splice(R,0,_),_.parent=this,_.didChange=!0,_._updateFlags=15;const I=this.renderGroup||this.parentRenderGroup;return I&&I.addChild(_),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",_,this,R),_.emit("added",this),_},swapChildren(_,R){if(_===R)return;const O=this.getChildIndex(_),I=this.getChildIndex(R);this.children[O]=R,this.children[I]=_;const F=this.renderGroup||this.parentRenderGroup;F&&(F.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(..._){return _.length===1?this.reparentChildAt(_[0],this.children.length):(_.forEach(R=>this.reparentChildAt(R,this.children.length)),_[0])},reparentChildAt(_,R){if(_.parent===this)return this.setChildIndex(_,R),_;const O=_.worldTransform.clone();_.removeFromParent(),this.addChildAt(_,R);const I=this.worldTransform.clone();return I.invert(),O.prepend(I),_.setFromMatrix(O),_},replaceChild(_,R){_.updateLocalTransform(),this.addChildAt(R,this.getChildIndex(_)),R.setFromMatrix(_.localTransform),R.updateLocalTransform(),this.removeChild(_)}},collectRenderablesMixin={collectRenderables(_,R,O){this.parentRenderLayer&&this.parentRenderLayer!==O||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(_,R,O):this.renderGroup?R.renderPipes.renderGroup.addRenderGroup(this.renderGroup,_):this.collectRenderablesWithEffects(_,R,O))},collectRenderablesSimple(_,R,O){const I=this.children,F=I.length;for(let z=0;z<F;z++)I[z].collectRenderables(_,R,O)},collectRenderablesWithEffects(_,R,O){const{renderPipes:I}=R;for(let F=0;F<this.effects.length;F++){const z=this.effects[F];I[z.pipe].push(z,this,_)}this.collectRenderablesSimple(_,R,O);for(let F=this.effects.length-1;F>=0;F--){const z=this.effects[F];I[z.pipe].pop(z,this,_)}}};class FilterEffect{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let R=0;R<this.filters.length;R++)this.filters[R].destroy();this.filters=null,this.filterArea=null}}class MaskEffectManagerClass{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(R=>{this.add({test:R.test,maskClass:R})}))}add(R){this._tests.push(R)}getMaskEffect(R){this._initialized||this.init();for(let O=0;O<this._tests.length;O++){const I=this._tests[O];if(I.test(R))return BigPool.get(I.maskClass,R)}return R}returnMaskEffect(R){BigPool.return(R)}}const MaskEffectManager=new MaskEffectManagerClass;extensions.handleByList(ExtensionType.MaskEffect,MaskEffectManager._effectClasses);const effectsMixin={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const _=this.renderGroup||this.parentRenderGroup;_&&(_.structureDidChange=!0)},addEffect(_){this.effects.indexOf(_)===-1&&(this.effects.push(_),this.effects.sort((O,I)=>O.priority-I.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(_){const R=this.effects.indexOf(_);R!==-1&&(this.effects.splice(R,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(_){const R=this._maskEffect;R?.mask!==_&&(R&&(this.removeEffect(R),MaskEffectManager.returnMaskEffect(R),this._maskEffect=null),_!=null&&(this._maskEffect=MaskEffectManager.getMaskEffect(_),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(_){this._maskOptions={...this._maskOptions,..._},_.mask&&(this.mask=_.mask),this._markStructureAsChanged()},set filters(_){!Array.isArray(_)&&_&&(_=[_]);const R=this._filterEffect||(this._filterEffect=new FilterEffect);_=_;const O=_?.length>0,I=R.filters?.length>0,F=O!==I;_=Array.isArray(_)?_.slice(0):_,R.filters=Object.freeze(_),F&&(O?this.addEffect(R):(this.removeEffect(R),R.filters=_??null))},get filters(){return this._filterEffect?.filters},set filterArea(_){this._filterEffect||(this._filterEffect=new FilterEffect),this._filterEffect.filterArea=_},get filterArea(){return this._filterEffect?.filterArea}},findMixin={label:null,get name(){return deprecation(v8_0_0,"Container.name property has been removed, use Container.label instead"),this.label},set name(_){deprecation(v8_0_0,"Container.name property has been removed, use Container.label instead"),this.label=_},getChildByName(_,R=!1){return this.getChildByLabel(_,R)},getChildByLabel(_,R=!1){const O=this.children;for(let I=0;I<O.length;I++){const F=O[I];if(F.label===_||_ instanceof RegExp&&_.test(F.label))return F}if(R)for(let I=0;I<O.length;I++){const z=O[I].getChildByLabel(_,!0);if(z)return z}return null},getChildrenByLabel(_,R=!1,O=[]){const I=this.children;for(let F=0;F<I.length;F++){const z=I[F];(z.label===_||_ instanceof RegExp&&_.test(z.label))&&O.push(z)}if(R)for(let F=0;F<I.length;F++)I[F].getChildrenByLabel(_,!0,O);return O}},matrixPool=BigPool.getPool(Matrix),boundsPool=BigPool.getPool(Bounds),tempMatrix$2=new Matrix,getFastGlobalBoundsMixin={getFastGlobalBounds(_,R){R||(R=new Bounds),R.clear(),this._getGlobalBoundsRecursive(!!_,R,this.parentRenderLayer),R.isValid||R.set(0,0,0,0);const O=this.renderGroup||this.parentRenderGroup;return R.applyMatrix(O.worldTransform),R},_getGlobalBoundsRecursive(_,R,O){let I=R;if(_&&this.parentRenderLayer&&this.parentRenderLayer!==O||this.localDisplayStatus!==7||!this.measurable)return;const F=!!this.effects.length;if((this.renderGroup||F)&&(I=boundsPool.get().clear()),this.boundsArea)R.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const L=this.bounds;I.addFrame(L.minX,L.minY,L.maxX,L.maxY,this.groupTransform)}const z=this.children;for(let L=0;L<z.length;L++)z[L]._getGlobalBoundsRecursive(_,I,O)}if(F){let z=!1;const L=this.renderGroup||this.parentRenderGroup;for(let U=0;U<this.effects.length;U++)this.effects[U].addBounds&&(z||(z=!0,I.applyMatrix(L.worldTransform)),this.effects[U].addBounds(I,!0));z&&I.applyMatrix(L.worldTransform.copyTo(tempMatrix$2).invert()),R.addBounds(I),boundsPool.return(I)}else this.renderGroup&&(R.addBounds(I,this.relativeGroupTransform),boundsPool.return(I))}};function getGlobalBounds(_,R,O){O.clear();let I,F;return _.parent?R?I=_.parent.worldTransform:(F=matrixPool.get().identity(),I=updateTransformBackwards(_,F)):I=Matrix.IDENTITY,_getGlobalBounds(_,O,I,R),F&&matrixPool.return(F),O.isValid||O.set(0,0,0,0),O}function _getGlobalBounds(_,R,O,I){if(!_.visible||!_.measurable)return;let F;I?F=_.worldTransform:(_.updateLocalTransform(),F=matrixPool.get(),F.appendFrom(_.localTransform,O));const z=R,L=!!_.effects.length;if(L&&(R=boundsPool.get().clear()),_.boundsArea)R.addRect(_.boundsArea,F);else{const U=_.bounds;U&&!U.isEmpty()&&(R.matrix=F,R.addBounds(U));for(let q=0;q<_.children.length;q++)_getGlobalBounds(_.children[q],R,F,I)}if(L){for(let U=0;U<_.effects.length;U++)_.effects[U].addBounds?.(R);z.addBounds(R,Matrix.IDENTITY),boundsPool.return(R)}I||matrixPool.return(F)}function updateTransformBackwards(_,R){const O=_.parent;return O&&(updateTransformBackwards(O,R),O.updateLocalTransform(),R.append(O.localTransform)),R}function multiplyHexColors(_,R){if(_===16777215||!R)return R;if(R===16777215||!_)return _;const O=_>>16&255,I=_>>8&255,F=_&255,z=R>>16&255,L=R>>8&255,U=R&255,q=O*z/255|0,G=I*L/255|0,V=F*U/255|0;return(q<<16)+(G<<8)+V}const WHITE_BGR=16777215;function multiplyColors(_,R){return _===WHITE_BGR?R:R===WHITE_BGR?_:multiplyHexColors(_,R)}function bgr2rgb(_){return((_&255)<<16)+(_&65280)+(_>>16&255)}const getGlobalMixin={getGlobalAlpha(_){if(_)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let R=this.alpha,O=this.parent;for(;O;)R*=O.alpha,O=O.parent;return R},getGlobalTransform(_=new Matrix,R){if(R)return _.copyFrom(this.worldTransform);this.updateLocalTransform();const O=updateTransformBackwards(this,matrixPool.get().identity());return _.appendFrom(this.localTransform,O),matrixPool.return(O),_},getGlobalTint(_){if(_)return this.renderGroup?bgr2rgb(this.renderGroup.worldColor):this.parentRenderGroup?bgr2rgb(multiplyColors(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let R=this.localColor,O=this.parent;for(;O;)R=multiplyColors(R,O.localColor),O=O.parent;return bgr2rgb(R)}};function getLocalBounds(_,R,O){return R.clear(),O||(O=Matrix.IDENTITY),_getLocalBounds(_,R,O,_,!0),R.isValid||R.set(0,0,0,0),R}function _getLocalBounds(_,R,O,I,F){let z;if(F)z=matrixPool.get(),z=O.copyTo(z);else{if(!_.visible||!_.measurable)return;_.updateLocalTransform();const q=_.localTransform;z=matrixPool.get(),z.appendFrom(q,O)}const L=R,U=!!_.effects.length;if(U&&(R=boundsPool.get().clear()),_.boundsArea)R.addRect(_.boundsArea,z);else{_.renderPipeId&&(R.matrix=z,R.addBounds(_.bounds));const q=_.children;for(let G=0;G<q.length;G++)_getLocalBounds(q[G],R,z,I,!1)}if(U){for(let q=0;q<_.effects.length;q++)_.effects[q].addLocalBounds?.(R,I);L.addBounds(R,Matrix.IDENTITY),boundsPool.return(R)}matrixPool.return(z)}function checkChildrenDidChange(_,R){const O=_.children;for(let I=0;I<O.length;I++){const F=O[I],z=F.uid,L=(F._didViewChangeTick&65535)<<16|F._didContainerChangeTick&65535,U=R.index;(R.data[U]!==z||R.data[U+1]!==L)&&(R.data[R.index]=z,R.data[R.index+1]=L,R.didChange=!0),R.index=U+2,F.children.length&&checkChildrenDidChange(F,R)}return R.didChange}const tempMatrix$1=new Matrix,measureMixin={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(_,R){const O=Math.sign(this.scale.x)||1;R!==0?this.scale.x=_/R*O:this.scale.x=O},_setHeight(_,R){const O=Math.sign(this.scale.y)||1;R!==0?this.scale.y=_/R*O:this.scale.y=O},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Bounds});const _=this._localBoundsCacheData;return _.index=1,_.didChange=!1,_.data[0]!==this._didViewChangeTick&&(_.didChange=!0,_.data[0]=this._didViewChangeTick),checkChildrenDidChange(this,_),_.didChange&&getLocalBounds(this,_.localBounds,tempMatrix$1),_.localBounds},getBounds(_,R){return getGlobalBounds(this,_,R||new Bounds)}},onRenderMixin={_onRender:null,set onRender(_){const R=this.renderGroup||this.parentRenderGroup;if(!_){this._onRender&&R?.removeOnRender(this),this._onRender=null;return}this._onRender||R?.addOnRender(this),this._onRender=_},get onRender(){return this._onRender}},sortMixin={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(_){this._zIndex!==_&&(this._zIndex=_,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(sortChildren))}};function sortChildren(_,R){return _._zIndex-R._zIndex}const toLocalGlobalMixin={getGlobalPosition(_=new Point,R=!1){return this.parent?this.parent.toGlobal(this._position,_,R):(_.x=this._position.x,_.y=this._position.y),_},toGlobal(_,R,O=!1){const I=this.getGlobalTransform(matrixPool.get(),O);return R=I.apply(_,R),matrixPool.return(I),R},toLocal(_,R,O,I){R&&(_=R.toGlobal(_,O,I));const F=this.getGlobalTransform(matrixPool.get(),I);return O=F.applyInverse(_,O),matrixPool.return(F),O}};class InstructionSet{constructor(){this.uid=uid("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(R){this.instructions[this.instructionSize++]=R}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let count$1=0;class TexturePoolClass{constructor(R){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=R||{},this.enableFullScreen=!1,this.textureStyle=new TextureStyle(this.textureOptions)}createTexture(R,O,I){const F=new TextureSource({...this.textureOptions,width:R,height:O,resolution:1,antialias:I,autoGarbageCollect:!1});return new Texture({source:F,label:`texturePool_${count$1++}`})}getOptimalTexture(R,O,I=1,F){let z=Math.ceil(R*I-1e-6),L=Math.ceil(O*I-1e-6);z=nextPow2(z),L=nextPow2(L);const U=(z<<17)+(L<<1)+(F?1:0);this._texturePool[U]||(this._texturePool[U]=[]);let q=this._texturePool[U].pop();return q||(q=this.createTexture(z,L,F)),q.source._resolution=I,q.source.width=z/I,q.source.height=L/I,q.source.pixelWidth=z,q.source.pixelHeight=L,q.frame.x=0,q.frame.y=0,q.frame.width=R,q.frame.height=O,q.updateUvs(),this._poolKeyHash[q.uid]=U,q}getSameSizeTexture(R,O=!1){const I=R.source;return this.getOptimalTexture(R.width,R.height,I._resolution,O)}returnTexture(R,O=!1){const I=this._poolKeyHash[R.uid];O&&(R.source.style=this.textureStyle),this._texturePool[I].push(R)}clear(R){if(R=R!==!1,R)for(const O in this._texturePool){const I=this._texturePool[O];if(I)for(let F=0;F<I.length;F++)I[F].destroy(!0)}this._texturePool={}}}const TexturePool=new TexturePoolClass;GlobalResourceRegistry.register(TexturePool);class RenderGroup{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Matrix,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new InstructionSet,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(R){this.root=R,R._onRender&&this.addOnRender(R),R.didChange=!0;const O=R.children;for(let I=0;I<O.length;I++){const F=O[I];F._updateFlags=15,this.addChild(F)}}enableCacheAsTexture(R={}){this.textureOptions=R,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(TexturePool.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const R=this._parentCacheAsTextureRenderGroup;R&&!R.textureNeedsUpdate&&R.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const R in this.childrenToUpdate){const O=this.childrenToUpdate[R];O.list.fill(null),O.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(R){R.renderGroupParent&&R.renderGroupParent._removeRenderGroupChild(R),R.renderGroupParent=this,this.renderGroupChildren.push(R)}_removeRenderGroupChild(R){const O=this.renderGroupChildren.indexOf(R);O>-1&&this.renderGroupChildren.splice(O,1),R.renderGroupParent=null}addChild(R){if(this.structureDidChange=!0,R.parentRenderGroup=this,R.updateTick=-1,R.parent===this.root?R.relativeRenderGroupDepth=1:R.relativeRenderGroupDepth=R.parent.relativeRenderGroupDepth+1,R.didChange=!0,this.onChildUpdate(R),R.renderGroup){this.addRenderGroupChild(R.renderGroup);return}R._onRender&&this.addOnRender(R);const O=R.children;for(let I=0;I<O.length;I++)this.addChild(O[I])}removeChild(R){if(this.structureDidChange=!0,R._onRender&&(R.renderGroup||this.removeOnRender(R)),R.parentRenderGroup=null,R.renderGroup){this._removeRenderGroupChild(R.renderGroup);return}const O=R.children;for(let I=0;I<O.length;I++)this.removeChild(O[I])}removeChildren(R){for(let O=0;O<R.length;O++)this.removeChild(R[O])}onChildUpdate(R){let O=this.childrenToUpdate[R.relativeRenderGroupDepth];O||(O=this.childrenToUpdate[R.relativeRenderGroupDepth]={index:0,list:[]}),O.list[O.index++]=R}updateRenderable(R){R.globalDisplayStatus<7||(this.instructionSet.renderPipes[R.renderPipeId].updateRenderable(R),R.didViewUpdate=!1)}onChildViewUpdate(R){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=R}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(R){this._onRenderContainers.push(R)}removeOnRender(R){this._onRenderContainers.splice(this._onRenderContainers.indexOf(R),1)}runOnRender(R){for(let O=0;O<this._onRenderContainers.length;O++)this._onRenderContainers[O]._onRender(R)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(R=[]){const O=this.root.children;for(let I=0;I<O.length;I++)this._getChildren(O[I],R);return R}_getChildren(R,O=[]){if(O.push(R),R.renderGroup)return O;const I=R.children;for(let F=0;F<I.length;F++)this._getChildren(I[F],O);return O}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Matrix),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Matrix),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const R=this._parentCacheAsTextureRenderGroup;return R?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Matrix),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(R.inverseWorldTransform).translate(-R._textureBounds.x,-R._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function assignWithIgnore(_,R,O={}){for(const I in R)!O[I]&&R[I]!==void 0&&(_[I]=R[I])}const defaultSkew=new ObservablePoint(null),defaultPivot=new ObservablePoint(null),defaultScale=new ObservablePoint(null,1,1),defaultOrigin=new ObservablePoint(null),UPDATE_COLOR=1,UPDATE_BLEND=2,UPDATE_VISIBLE=4;class Container extends EventEmitter{constructor(R={}){super(),this.uid=uid("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new Matrix,this.relativeGroupTransform=new Matrix,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new ObservablePoint(this,0,0),this._scale=defaultScale,this._pivot=defaultPivot,this._origin=defaultOrigin,this._skew=defaultSkew,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],assignWithIgnore(this,R,{children:!0,parent:!0,effects:!0}),R.children?.forEach(O=>this.addChild(O)),R.parent?.addChild(this)}static mixin(R){deprecation("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),extensions.mixin(Container,R)}set _didChangeId(R){this._didViewChangeTick=R>>12&4095,this._didContainerChangeTick=R&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...R){if(this.allowChildren||deprecation(v8_0_0,"addChild: Only Containers will be allowed to add children in v8.0.0"),R.length>1){for(let F=0;F<R.length;F++)this.addChild(R[F]);return R[0]}const O=R[0],I=this.renderGroup||this.parentRenderGroup;return O.parent===this?(this.children.splice(this.children.indexOf(O),1),this.children.push(O),I&&(I.structureDidChange=!0),O):(O.parent&&O.parent.removeChild(O),this.children.push(O),this.sortableChildren&&(this.sortDirty=!0),O.parent=this,O.didChange=!0,O._updateFlags=15,I&&I.addChild(O),this.emit("childAdded",O,this,this.children.length-1),O.emit("added",this),this._didViewChangeTick++,O._zIndex!==0&&O.depthOfChildModified(),O)}removeChild(...R){if(R.length>1){for(let F=0;F<R.length;F++)this.removeChild(R[F]);return R[0]}const O=R[0],I=this.children.indexOf(O);return I>-1&&(this._didViewChangeTick++,this.children.splice(I,1),this.renderGroup?this.renderGroup.removeChild(O):this.parentRenderGroup&&this.parentRenderGroup.removeChild(O),O.parentRenderLayer&&O.parentRenderLayer.detach(O),O.parent=null,this.emit("childRemoved",O,this,I),O.emit("removed",this)),O}_onUpdate(R){R&&R===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(R){!!this.renderGroup!==R&&(R?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const R=this.parentRenderGroup;R?.removeChild(this),this.renderGroup=BigPool.get(RenderGroup,this),this.groupTransform=Matrix.IDENTITY,R?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const R=this.parentRenderGroup;R?.removeChild(this),BigPool.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,R?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Matrix),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(R){this._position.x=R}get y(){return this._position.y}set y(R){this._position.y=R}get position(){return this._position}set position(R){this._position.copyFrom(R)}get rotation(){return this._rotation}set rotation(R){this._rotation!==R&&(this._rotation=R,this._onUpdate(this._skew))}get angle(){return this.rotation*RAD_TO_DEG}set angle(R){this.rotation=R*DEG_TO_RAD}get pivot(){return this._pivot===defaultPivot&&(this._pivot=new ObservablePoint(this,0,0)),this._pivot}set pivot(R){this._pivot===defaultPivot&&(this._pivot=new ObservablePoint(this,0,0),this._origin!==defaultOrigin&&warn$1("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof R=="number"?this._pivot.set(R):this._pivot.copyFrom(R)}get skew(){return this._skew===defaultSkew&&(this._skew=new ObservablePoint(this,0,0)),this._skew}set skew(R){this._skew===defaultSkew&&(this._skew=new ObservablePoint(this,0,0)),this._skew.copyFrom(R)}get scale(){return this._scale===defaultScale&&(this._scale=new ObservablePoint(this,1,1)),this._scale}set scale(R){this._scale===defaultScale&&(this._scale=new ObservablePoint(this,0,0)),typeof R=="string"&&(R=parseFloat(R)),typeof R=="number"?this._scale.set(R):this._scale.copyFrom(R)}get origin(){return this._origin===defaultOrigin&&(this._origin=new ObservablePoint(this,0,0)),this._origin}set origin(R){this._origin===defaultOrigin&&(this._origin=new ObservablePoint(this,0,0),this._pivot!==defaultPivot&&warn$1("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof R=="number"?this._origin.set(R):this._origin.copyFrom(R)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(R){const O=this.getLocalBounds().width;this._setWidth(R,O)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(R){const O=this.getLocalBounds().height;this._setHeight(R,O)}getSize(R){R||(R={});const O=this.getLocalBounds();return R.width=Math.abs(this.scale.x*O.width),R.height=Math.abs(this.scale.y*O.height),R}setSize(R,O){const I=this.getLocalBounds();typeof R=="object"?(O=R.height??R.width,R=R.width):O??(O=R),R!==void 0&&this._setWidth(R,I.width),O!==void 0&&this._setHeight(O,I.height)}_updateSkew(){const R=this._rotation,O=this._skew;this._cx=Math.cos(R+O._y),this._sx=Math.sin(R+O._y),this._cy=-Math.sin(R-O._x),this._sy=Math.cos(R-O._x)}updateTransform(R){return this.position.set(typeof R.x=="number"?R.x:this.position.x,typeof R.y=="number"?R.y:this.position.y),this.scale.set(typeof R.scaleX=="number"?R.scaleX||1:this.scale.x,typeof R.scaleY=="number"?R.scaleY||1:this.scale.y),this.rotation=typeof R.rotation=="number"?R.rotation:this.rotation,this.skew.set(typeof R.skewX=="number"?R.skewX:this.skew.x,typeof R.skewY=="number"?R.skewY:this.skew.y),this.pivot.set(typeof R.pivotX=="number"?R.pivotX:this.pivot.x,typeof R.pivotY=="number"?R.pivotY:this.pivot.y),this.origin.set(typeof R.originX=="number"?R.originX:this.origin.x,typeof R.originY=="number"?R.originY:this.origin.y),this}setFromMatrix(R){R.decompose(this)}updateLocalTransform(){const R=this._didContainerChangeTick;if(this._didLocalTransformChangeId===R)return;this._didLocalTransformChangeId=R;const O=this.localTransform,I=this._scale,F=this._pivot,z=this._origin,L=this._position,U=I._x,q=I._y,G=F._x,V=F._y,Z=-z._x,Y=-z._y;O.a=this._cx*U,O.b=this._sx*U,O.c=this._cy*q,O.d=this._sy*q,O.tx=L._x-(G*O.a+V*O.c)+(Z*O.a+Y*O.c)-Z,O.ty=L._y-(G*O.b+V*O.d)+(Z*O.b+Y*O.d)-Y}set alpha(R){R!==this.localAlpha&&(this.localAlpha=R,this._updateFlags|=UPDATE_COLOR,this._onUpdate())}get alpha(){return this.localAlpha}set tint(R){const I=Color$1.shared.setValue(R??16777215).toBgrNumber();I!==this.localColor&&(this.localColor=I,this._updateFlags|=UPDATE_COLOR,this._onUpdate())}get tint(){return bgr2rgb(this.localColor)}set blendMode(R){this.localBlendMode!==R&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_BLEND,this.localBlendMode=R,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(R){const O=R?2:0;(this.localDisplayStatus&2)!==O&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(R){const O=R?0:4;(this.localDisplayStatus&4)!==O&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(R){const O=R?1:0;(this.localDisplayStatus&1)!==O&&(this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(R=!1){if(this.destroyed)return;this.destroyed=!0;let O;if(this.children.length&&(O=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof R=="boolean"?R:R?.children)&&O)for(let F=0;F<O.length;++F)O[F].destroy(R);this.renderGroup?.destroy(),this.renderGroup=null}}extensions.mixin(Container,childrenHelperMixin,getFastGlobalBoundsMixin,toLocalGlobalMixin,onRenderMixin,measureMixin,effectsMixin,findMixin,sortMixin,cullingMixin,cacheAsTextureMixin,getGlobalMixin,collectRenderablesMixin);class ViewContainer extends Container{constructor(R){super(R),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new Bounds(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(R){this._roundPixels=R?1:0}containsPoint(R){const O=this.bounds,{x:I,y:F}=R;return I>=O.minX&&I<=O.maxX&&F>=O.minY&&F<=O.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const R=this.renderGroup||this.parentRenderGroup;R&&R.onChildViewUpdate(this)}destroy(R){super.destroy(R),this._bounds=null;for(const O in this._gpuData)this._gpuData[O].destroy?.();this._gpuData=null}collectRenderablesSimple(R,O,I){const{renderPipes:F}=O;F.blendMode.pushBlendMode(this,this.groupBlendMode,R),F[this.renderPipeId].addRenderable(this,R),this.didViewUpdate=!1;const L=this.children,U=L.length;for(let q=0;q<U;q++)L[q].collectRenderables(R,O,I);F.blendMode.popBlendMode(R)}}class Sprite extends ViewContainer{constructor(R=Texture.EMPTY){R instanceof Texture&&(R={texture:R});const{texture:O=Texture.EMPTY,anchor:I,roundPixels:F,width:z,height:L,...U}=R;super({label:"Sprite",...U}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new ObservablePoint({_onUpdate:()=>{this.onViewUpdate()}}),I?this.anchor=I:O.defaultAnchor&&(this.anchor=O.defaultAnchor),this.texture=O,this.allowChildren=!1,this.roundPixels=F??!1,z!==void 0&&(this.width=z),L!==void 0&&(this.height=L)}static from(R,O=!1){return R instanceof Texture?new Sprite(R):new Sprite(Texture.from(R,O))}set texture(R){R||(R=Texture.EMPTY);const O=this._texture;O!==R&&(O&&O.dynamic&&O.off("update",this.onViewUpdate,this),R.dynamic&&R.on("update",this.onViewUpdate,this),this._texture=R,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return updateQuadBounds(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return deprecation("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const R=this._anchor,O=this._texture,I=this._bounds,{width:F,height:z}=O.orig;I.minX=-R._x*F,I.maxX=I.minX+F,I.minY=-R._y*z,I.maxY=I.minY+z}destroy(R=!1){if(super.destroy(R),typeof R=="boolean"?R:R?.texture){const I=typeof R=="boolean"?R:R?.textureSource;this._texture.destroy(I)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(R){typeof R=="number"?this._anchor.set(R):this._anchor.copyFrom(R)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(R){this._setWidth(R,this._texture.orig.width),this._width=R}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(R){this._setHeight(R,this._texture.orig.height),this._height=R}getSize(R){return R||(R={}),R.width=Math.abs(this.scale.x)*this._texture.orig.width,R.height=Math.abs(this.scale.y)*this._texture.orig.height,R}setSize(R,O){typeof R=="object"?(O=R.height??R.width,R=R.width):O??(O=R),R!==void 0&&this._setWidth(R,this._texture.orig.width),O!==void 0&&this._setHeight(O,this._texture.orig.height)}}const tempBounds=new Bounds;function addMaskBounds(_,R,O){const I=tempBounds;_.measurable=!0,getGlobalBounds(_,O,I),R.addBoundsMask(I),_.measurable=!1}function addMaskLocalBounds(_,R,O){const I=boundsPool.get();_.measurable=!0;const F=matrixPool.get().identity(),z=getMatrixRelativeToParent(_,O,F);getLocalBounds(_,I,z),_.measurable=!1,R.addBoundsMask(I),matrixPool.return(F),boundsPool.return(I)}function getMatrixRelativeToParent(_,R,O){return _?(_!==R&&(getMatrixRelativeToParent(_.parent,R,O),_.updateLocalTransform(),O.append(_.localTransform)),O):(warn$1("Mask bounds, renderable is not inside the root container"),O)}class AlphaMask{constructor(R){this.priority=0,this.inverse=!1,this.pipe="alphaMask",R?.mask&&this.init(R.mask)}init(R){this.mask=R,this.renderMaskToTexture=!(R instanceof Sprite),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(R,O){this.inverse||addMaskBounds(this.mask,R,O)}addLocalBounds(R,O){addMaskLocalBounds(this.mask,R,O)}containsPoint(R,O){const I=this.mask;return O(I,R)}destroy(){this.reset()}static test(R){return R instanceof Sprite}}AlphaMask.extension=ExtensionType.MaskEffect;class ColorMask{constructor(R){this.priority=0,this.pipe="colorMask",R?.mask&&this.init(R.mask)}init(R){this.mask=R}destroy(){}static test(R){return typeof R=="number"}}ColorMask.extension=ExtensionType.MaskEffect;class StencilMask{constructor(R){this.priority=0,this.pipe="stencilMask",R?.mask&&this.init(R.mask)}init(R){this.mask=R,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(R,O){addMaskBounds(this.mask,R,O)}addLocalBounds(R,O){addMaskLocalBounds(this.mask,R,O)}containsPoint(R,O){const I=this.mask;return O(I,R)}destroy(){this.reset()}static test(R){return R instanceof Container}}StencilMask.extension=ExtensionType.MaskEffect;const BrowserAdapter={createCanvas:(_,R)=>{const O=document.createElement("canvas");return O.width=_,O.height=R,O},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(_,R)=>fetch(_,R),parseXML:_=>new DOMParser().parseFromString(_,"text/xml")};let currentAdapter=BrowserAdapter;const DOMAdapter={get(){return currentAdapter},set(_){currentAdapter=_}};class CanvasSource extends TextureSource{constructor(R){R.resource||(R.resource=DOMAdapter.get().createCanvas()),R.width||(R.width=R.resource.width,R.autoDensity||(R.width/=R.resolution)),R.height||(R.height=R.resource.height,R.autoDensity||(R.height/=R.resolution)),super(R),this.uploadMethodId="image",this.autoDensity=R.autoDensity,this.resizeCanvas(),this.transparent=!!R.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(R=this.width,O=this.height,I=this._resolution){const F=super.resize(R,O,I);return F&&this.resizeCanvas(),F}static test(R){return globalThis.HTMLCanvasElement&&R instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&R instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}CanvasSource.extension=ExtensionType.TextureSource;class ImageSource extends TextureSource{constructor(R){super(R),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(R){return globalThis.HTMLImageElement&&R instanceof HTMLImageElement||typeof ImageBitmap<"u"&&R instanceof ImageBitmap||globalThis.VideoFrame&&R instanceof VideoFrame}}ImageSource.extension=ExtensionType.TextureSource;var UPDATE_PRIORITY=(_=>(_[_.INTERACTION=50]="INTERACTION",_[_.HIGH=25]="HIGH",_[_.NORMAL=0]="NORMAL",_[_.LOW=-25]="LOW",_[_.UTILITY=-50]="UTILITY",_))(UPDATE_PRIORITY||{});class TickerListener{constructor(R,O=null,I=0,F=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=R,this._context=O,this.priority=I,this._once=F}match(R,O=null){return this._fn===R&&this._context===O}emit(R){this._fn&&(this._context?this._fn.call(this._context,R):this._fn(R));const O=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),O}connect(R){this.previous=R,R.next&&(R.next.previous=this),this.next=R.next,R.next=this}destroy(R=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const O=this.next;return this.next=R?null:O,this.previous=null,O}}const _Ticker=class Fr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/Fr.targetFPMS,this.elapsedMS=1/Fr.targetFPMS,this._tick=R=>{this._requestId=null,this.started&&(this.update(R),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(R,O,I=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(R,O,I))}addOnce(R,O,I=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(R,O,I,!0))}_addListener(R){let O=this._head.next,I=this._head;if(!O)R.connect(I);else{for(;O;){if(R.priority>O.priority){R.connect(I);break}I=O,O=O.next}R.previous||R.connect(I)}return this._startIfPossible(),this}remove(R,O){let I=this._head.next;for(;I;)I.match(R,O)?I=I.destroy():I=I.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let R=0,O=this._head;for(;O=O.next;)R++;return R}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let R=this._head.next;for(;R;)R=R.destroy(!0);this._head.destroy(),this._head=null}}update(R=performance.now()){let O;if(R>this.lastTime){if(O=this.elapsedMS=R-this.lastTime,O>this._maxElapsedMS&&(O=this._maxElapsedMS),O*=this.speed,this._minElapsedMS){const z=R-this._lastFrame|0;if(z<this._minElapsedMS)return;this._lastFrame=R-z%this._minElapsedMS}this.deltaMS=O,this.deltaTime=this.deltaMS*Fr.targetFPMS;const I=this._head;let F=I.next;for(;F;)F=F.emit(this);I.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=R}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(R){const O=Math.min(this.maxFPS,R),I=Math.min(Math.max(0,O)/1e3,Fr.targetFPMS);this._maxElapsedMS=1/I}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(R){if(R===0)this._minElapsedMS=0;else{const O=Math.max(this.minFPS,R);this._minElapsedMS=1/(O/1e3)}}static get shared(){if(!Fr._shared){const R=Fr._shared=new Fr;R.autoStart=!0,R._protected=!0}return Fr._shared}static get system(){if(!Fr._system){const R=Fr._system=new Fr;R.autoStart=!0,R._protected=!0}return Fr._system}};_Ticker.targetFPMS=.06;let Ticker=_Ticker,promise;async function detectVideoAlphaMode(){return promise??(promise=(async()=>{const R=DOMAdapter.get().createCanvas(1,1).getContext("webgl");if(!R)return"premultiply-alpha-on-upload";const O=await new Promise(L=>{const U=document.createElement("video");U.onloadeddata=()=>L(U),U.onerror=()=>L(null),U.autoplay=!1,U.crossOrigin="anonymous",U.preload="auto",U.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",U.load()});if(!O)return"premultiply-alpha-on-upload";const I=R.createTexture();R.bindTexture(R.TEXTURE_2D,I);const F=R.createFramebuffer();R.bindFramebuffer(R.FRAMEBUFFER,F),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,I,0),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),R.pixelStorei(R.UNPACK_COLORSPACE_CONVERSION_WEBGL,R.NONE),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,O);const z=new Uint8Array(4);return R.readPixels(0,0,1,1,R.RGBA,R.UNSIGNED_BYTE,z),R.deleteFramebuffer(F),R.deleteTexture(I),R.getExtension("WEBGL_lose_context")?.loseContext(),z[0]<=z[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),promise}const _VideoSource=class Oh extends TextureSource{constructor(R){super(R),this.isReady=!1,this.uploadMethodId="video",R={...Oh.defaultOptions,...R},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=R.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=R.autoPlay!==!1,this.alphaMode=R.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),R.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const R=Ticker.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-R)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const R=this.resource,O=this.options;return(R.readyState===R.HAVE_ENOUGH_DATA||R.readyState===R.HAVE_FUTURE_DATA)&&R.width&&R.height&&(R.complete=!0),R.addEventListener("play",this._onPlayStart),R.addEventListener("pause",this._onPlayStop),R.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(O.preload||R.addEventListener("canplay",this._onCanPlay),R.addEventListener("canplaythrough",this._onCanPlayThrough),R.addEventListener("error",this._onError,!0)),this.alphaMode=await detectVideoAlphaMode(),this._load=new Promise((I,F)=>{this.isValid?I(this):(this._resolve=I,this._reject=F,O.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${O.preloadTimeoutMs}ms`))})),R.load())}),this._load}_onError(R){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",R),this._reject&&(this._reject(R),this._reject=null,this._resolve=null)}_isSourcePlaying(){const R=this.resource;return!R.paused&&!R.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const R=this.resource;this.isValid&&(this.isReady=!0,this.resize(R.videoWidth,R.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const R=this.resource;R&&(R.removeEventListener("play",this._onPlayStart),R.removeEventListener("pause",this._onPlayStop),R.removeEventListener("seeked",this._onSeeked),R.removeEventListener("canplay",this._onCanPlay),R.removeEventListener("canplaythrough",this._onCanPlayThrough),R.removeEventListener("error",this._onError,!0),R.pause(),R.src="",R.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(R){R!==this._autoUpdate&&(this._autoUpdate=R,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(R){R!==this._updateFPS&&(this._updateFPS=R,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Ticker.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Ticker.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Ticker.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(R){return globalThis.HTMLVideoElement&&R instanceof HTMLVideoElement}};_VideoSource.extension=ExtensionType.TextureSource;_VideoSource.defaultOptions={...TextureSource.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};_VideoSource.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let VideoSource=_VideoSource;const convertToList=(_,R,O=!1)=>(Array.isArray(_)||(_=[_]),R?_.map(I=>typeof I=="string"||O?R(I):I):_);class CacheClass{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(R){return this._cache.has(R)}get(R){const O=this._cache.get(R);return O||warn$1(`[Assets] Asset id ${R} was not found in the Cache`),O}set(R,O){const I=convertToList(R);let F;for(let q=0;q<this.parsers.length;q++){const G=this.parsers[q];if(G.test(O)){F=G.getCacheableAssets(I,O);break}}const z=new Map(Object.entries(F||{}));F||I.forEach(q=>{z.set(q,O)});const L=[...z.keys()],U={cacheKeys:L,keys:I};I.forEach(q=>{this._cacheMap.set(q,U)}),L.forEach(q=>{const G=F?F[q]:O;this._cache.has(q)&&this._cache.get(q)!==G&&warn$1("[Cache] already has key:",q),this._cache.set(q,z.get(q))})}remove(R){if(!this._cacheMap.has(R)){warn$1(`[Assets] Asset id ${R} was not found in the Cache`);return}const O=this._cacheMap.get(R);O.cacheKeys.forEach(F=>{this._cache.delete(F)}),O.keys.forEach(F=>{this._cacheMap.delete(F)})}get parsers(){return this._parsers}}const Cache=new CacheClass,sources=[];extensions.handleByList(ExtensionType.TextureSource,sources);function textureSourceFrom(_={}){const R=_&&_.resource,O=R?_.resource:_,I=R?_:{resource:_};for(let F=0;F<sources.length;F++){const z=sources[F];if(z.test(O))return new z(I)}throw new Error(`Could not find a source type for resource: ${I.resource}`)}function resourceToTexture(_={},R=!1){const O=_&&_.resource,I=O?_.resource:_,F=O?_:{resource:_};if(!R&&Cache.has(I))return Cache.get(I);const z=new Texture({source:textureSourceFrom(F)});return z.on("destroy",()=>{Cache.has(I)&&Cache.remove(I)}),R||Cache.set(I,z),z}function textureFrom(_,R=!1){return typeof _=="string"?Cache.get(_):_ instanceof TextureSource?new Texture({source:_}):resourceToTexture(_,R)}Texture.from=textureFrom;TextureSource.from=textureSourceFrom;extensions.add(AlphaMask,ColorMask,StencilMask,VideoSource,ImageSource,CanvasSource,BufferImageSource);var LoaderParserPriority=(_=>(_[_.Low=0]="Low",_[_.Normal=1]="Normal",_[_.High=2]="High",_))(LoaderParserPriority||{});function assertPath(_){if(typeof _!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(_)}`)}function removeUrlParams(_){return _.split("?")[0].split("#")[0]}function escapeRegExp(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function replaceAll(_,R,O){return _.replace(new RegExp(escapeRegExp(R),"g"),O)}function normalizeStringPosix(_,R){let O="",I=0,F=-1,z=0,L=-1;for(let U=0;U<=_.length;++U){if(U<_.length)L=_.charCodeAt(U);else{if(L===47)break;L=47}if(L===47){if(!(F===U-1||z===1))if(F!==U-1&&z===2){if(O.length<2||I!==2||O.charCodeAt(O.length-1)!==46||O.charCodeAt(O.length-2)!==46){if(O.length>2){const q=O.lastIndexOf("/");if(q!==O.length-1){q===-1?(O="",I=0):(O=O.slice(0,q),I=O.length-1-O.lastIndexOf("/")),F=U,z=0;continue}}else if(O.length===2||O.length===1){O="",I=0,F=U,z=0;continue}}}else O.length>0?O+=`/${_.slice(F+1,U)}`:O=_.slice(F+1,U),I=U-F-1;F=U,z=0}else L===46&&z!==-1?++z:z=-1}return O}const path={toPosix(_){return replaceAll(_,"\\","/")},isUrl(_){return/^https?:/.test(this.toPosix(_))},isDataUrl(_){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(_)},isBlobUrl(_){return _.startsWith("blob:")},hasProtocol(_){return/^[^/:]+:/.test(this.toPosix(_))},getProtocol(_){assertPath(_),_=this.toPosix(_);const R=/^file:\/\/\//.exec(_);if(R)return R[0];const O=/^[^/:]+:\/{0,2}/.exec(_);return O?O[0]:""},toAbsolute(_,R,O){if(assertPath(_),this.isDataUrl(_)||this.isBlobUrl(_))return _;const I=removeUrlParams(this.toPosix(R??DOMAdapter.get().getBaseUrl())),F=removeUrlParams(this.toPosix(O??this.rootname(I)));return _=this.toPosix(_),_.startsWith("/")?path.join(F,_.slice(1)):this.isAbsolute(_)?_:this.join(I,_)},normalize(_){if(assertPath(_),_.length===0)return".";if(this.isDataUrl(_)||this.isBlobUrl(_))return _;_=this.toPosix(_);let R="";const O=_.startsWith("/");this.hasProtocol(_)&&(R=this.rootname(_),_=_.slice(R.length));const I=_.endsWith("/");return _=normalizeStringPosix(_),_.length>0&&I&&(_+="/"),O?`/${_}`:R+_},isAbsolute(_){return assertPath(_),_=this.toPosix(_),this.hasProtocol(_)?!0:_.startsWith("/")},join(..._){if(_.length===0)return".";let R;for(let O=0;O<_.length;++O){const I=_[O];if(assertPath(I),I.length>0)if(R===void 0)R=I;else{const F=_[O-1]??"";this.joinExtensions.includes(this.extname(F).toLowerCase())?R+=`/../${I}`:R+=`/${I}`}}return R===void 0?".":this.normalize(R)},dirname(_){if(assertPath(_),_.length===0)return".";_=this.toPosix(_);let R=_.charCodeAt(0);const O=R===47;let I=-1,F=!0;const z=this.getProtocol(_),L=_;_=_.slice(z.length);for(let U=_.length-1;U>=1;--U)if(R=_.charCodeAt(U),R===47){if(!F){I=U;break}}else F=!1;return I===-1?O?"/":this.isUrl(L)?z+_:z:O&&I===1?"//":z+_.slice(0,I)},rootname(_){assertPath(_),_=this.toPosix(_);let R="";if(_.startsWith("/")?R="/":R=this.getProtocol(_),this.isUrl(_)){const O=_.indexOf("/",R.length);O!==-1?R=_.slice(0,O):R=_,R.endsWith("/")||(R+="/")}return R},basename(_,R){assertPath(_),R&&assertPath(R),_=removeUrlParams(this.toPosix(_));let O=0,I=-1,F=!0,z;if(R!==void 0&&R.length>0&&R.length<=_.length){if(R.length===_.length&&R===_)return"";let L=R.length-1,U=-1;for(z=_.length-1;z>=0;--z){const q=_.charCodeAt(z);if(q===47){if(!F){O=z+1;break}}else U===-1&&(F=!1,U=z+1),L>=0&&(q===R.charCodeAt(L)?--L===-1&&(I=z):(L=-1,I=U))}return O===I?I=U:I===-1&&(I=_.length),_.slice(O,I)}for(z=_.length-1;z>=0;--z)if(_.charCodeAt(z)===47){if(!F){O=z+1;break}}else I===-1&&(F=!1,I=z+1);return I===-1?"":_.slice(O,I)},extname(_){assertPath(_),_=removeUrlParams(this.toPosix(_));let R=-1,O=0,I=-1,F=!0,z=0;for(let L=_.length-1;L>=0;--L){const U=_.charCodeAt(L);if(U===47){if(!F){O=L+1;break}continue}I===-1&&(F=!1,I=L+1),U===46?R===-1?R=L:z!==1&&(z=1):R!==-1&&(z=-1)}return R===-1||I===-1||z===0||z===1&&R===I-1&&R===O+1?"":_.slice(R,I)},parse(_){assertPath(_);const R={root:"",dir:"",base:"",ext:"",name:""};if(_.length===0)return R;_=removeUrlParams(this.toPosix(_));let O=_.charCodeAt(0);const I=this.isAbsolute(_);let F;R.root=this.rootname(_),I||this.hasProtocol(_)?F=1:F=0;let z=-1,L=0,U=-1,q=!0,G=_.length-1,V=0;for(;G>=F;--G){if(O=_.charCodeAt(G),O===47){if(!q){L=G+1;break}continue}U===-1&&(q=!1,U=G+1),O===46?z===-1?z=G:V!==1&&(V=1):z!==-1&&(V=-1)}return z===-1||U===-1||V===0||V===1&&z===U-1&&z===L+1?U!==-1&&(L===0&&I?R.base=R.name=_.slice(1,U):R.base=R.name=_.slice(L,U)):(L===0&&I?(R.name=_.slice(1,z),R.base=_.slice(1,U)):(R.name=_.slice(L,z),R.base=_.slice(L,U)),R.ext=_.slice(z,U)),R.dir=this.dirname(_),R},sep:"/",delimiter:":",joinExtensions:[".html"]};function processX(_,R,O,I,F){const z=R[O];for(let L=0;L<z.length;L++){const U=z[L];O<R.length-1?processX(_.replace(I[O],U),R,O+1,I,F):F.push(_.replace(I[O],U))}}function createStringVariations(_){const R=/\{(.*?)\}/g,O=_.match(R),I=[];if(O){const F=[];O.forEach(z=>{const L=z.substring(1,z.length-1).split(",");F.push(L)}),processX(_,F,0,O,I)}else I.push(_);return I}const isSingleItem=_=>!Array.isArray(_);class Resolver{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(R,O)=>`${R}${this._bundleIdConnector}${O}`,extractAssetIdFromBundle:(R,O)=>O.replace(`${R}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(R){if(this._bundleIdConnector=R.connector??this._bundleIdConnector,this._createBundleAssetId=R.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=R.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...R){R.forEach(O=>{this._preferredOrder.push(O),O.priority||(O.priority=Object.keys(O.params))}),this._resolverHash={}}set basePath(R){this._basePath=R}get basePath(){return this._basePath}set rootPath(R){this._rootPath=R}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(R){if(typeof R=="string")this._defaultSearchParams=R;else{const O=R;this._defaultSearchParams=Object.keys(O).map(I=>`${encodeURIComponent(I)}=${encodeURIComponent(O[I])}`).join("&")}}getAlias(R){const{alias:O,src:I}=R;return convertToList(O||I,z=>typeof z=="string"?z:Array.isArray(z)?z.map(L=>L?.src??L):z?.src?z.src:z,!0)}addManifest(R){this._manifest&&warn$1("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=R,R.bundles.forEach(O=>{this.addBundle(O.name,O.assets)})}addBundle(R,O){const I=[];let F=O;Array.isArray(O)||(F=Object.entries(O).map(([z,L])=>typeof L=="string"||Array.isArray(L)?{alias:z,src:L}:{alias:z,...L})),F.forEach(z=>{const L=z.src,U=z.alias;let q;if(typeof U=="string"){const G=this._createBundleAssetId(R,U);I.push(G),q=[U,G]}else{const G=U.map(V=>this._createBundleAssetId(R,V));I.push(...G),q=[...U,...G]}this.add({...z,alias:q,src:L})}),this._bundles[R]=I}add(R){const O=[];Array.isArray(R)?O.push(...R):O.push(R);let I;I=z=>{this.hasKey(z)&&warn$1(`[Resolver] already has key: ${z} overwriting`)},convertToList(O).forEach(z=>{const{src:L}=z;let{data:U,format:q,loadParser:G,parser:V}=z;const Z=convertToList(L).map(ne=>typeof ne=="string"?createStringVariations(ne):Array.isArray(ne)?ne:[ne]),Y=this.getAlias(z);Array.isArray(Y)?Y.forEach(I):I(Y);const W=[],ee=ne=>({...this._parsers.find(se=>se.test(ne))?.parse(ne),src:ne});Z.forEach(ne=>{ne.forEach(ie=>{let se={};if(typeof ie!="object"?se=ee(ie):(U=ie.data??U,q=ie.format??q,(ie.loadParser||ie.parser)&&(G=ie.loadParser??G,V=ie.parser??V),se={...ee(ie.src),...ie}),!Y)throw new Error(`[Resolver] alias is undefined for this asset: ${se.src}`);se=this._buildResolvedAsset(se,{aliases:Y,data:U,format:q,loadParser:G,parser:V,progressSize:z.progressSize}),W.push(se)})}),Y.forEach(ne=>{this._assetMap[ne]=W})})}resolveBundle(R){const O=isSingleItem(R);R=convertToList(R);const I={};return R.forEach(F=>{const z=this._bundles[F];if(z){const L=this.resolve(z),U={};for(const q in L){const G=L[q];U[this._extractAssetIdFromBundle(F,q)]=G}I[F]=U}}),O?I[R[0]]:I}resolveUrl(R){const O=this.resolve(R);if(typeof R!="string"){const I={};for(const F in O)I[F]=O[F].src;return I}return O.src}resolve(R){const O=isSingleItem(R);R=convertToList(R);const I={};return R.forEach(F=>{if(!this._resolverHash[F])if(this._assetMap[F]){let z=this._assetMap[F];const L=this._getPreferredOrder(z);L?.priority.forEach(U=>{L.params[U].forEach(q=>{const G=z.filter(V=>V[U]?V[U]===q:!1);G.length&&(z=G)})}),this._resolverHash[F]=z[0]}else this._resolverHash[F]=this._buildResolvedAsset({alias:[F],src:F},{});I[F]=this._resolverHash[F]}),O?I[R[0]]:I}hasKey(R){return!!this._assetMap[R]}hasBundle(R){return!!this._bundles[R]}_getPreferredOrder(R){for(let O=0;O<R.length;O++){const I=R[O],F=this._preferredOrder.find(z=>z.params.format.includes(I.format));if(F)return F}return this._preferredOrder[0]}_appendDefaultSearchParams(R){if(!this._defaultSearchParams)return R;const O=/\?/.test(R)?"&":"?";return`${R}${O}${this._defaultSearchParams}`}_buildResolvedAsset(R,O){const{aliases:I,data:F,loadParser:z,parser:L,format:U,progressSize:q}=O;return(this._basePath||this._rootPath)&&(R.src=path.toAbsolute(R.src,this._basePath,this._rootPath)),R.alias=I??R.alias??[R.src],R.src=this._appendDefaultSearchParams(R.src),R.data={...F||{},...R.data},R.loadParser=z??R.loadParser,R.parser=L??R.parser,R.format=U??R.format??getUrlExtension(R.src),q!==void 0&&(R.progressSize=q),R}}Resolver.RETINA_PREFIX=/@([0-9\.]+)x/;function getUrlExtension(_){return _.split(".").pop().split("?").shift().split("#").shift()}const copySearchParams=(_,R)=>{const O=R.split("?")[1];return O&&(_+=`?${O}`),_},_Spritesheet=class ts{constructor(R,O){this.linkedSheets=[];let I=R;R?.source instanceof TextureSource&&(I={texture:R,data:O});const{texture:F,data:z,cachePrefix:L=""}=I;this.cachePrefix=L,this._texture=F instanceof Texture?F:null,this.textureSource=F.source,this.textures={},this.animations={},this.data=z;const U=parseFloat(z.meta.scale);U?(this.resolution=U,F.source.resolution=this.resolution):this.resolution=F.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(R=>{this._callback=R,this._batchIndex=0,this._frameKeys.length<=ts.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(R){let O=R;const I=ts.BATCH_SIZE;for(;O-R<I&&O<this._frameKeys.length;){const F=this._frameKeys[O],z=this._frames[F],L=z.frame;if(L){let U=null,q=null;const G=z.trimmed!==!1&&z.sourceSize?z.sourceSize:z.frame,V=new Rectangle(0,0,Math.floor(G.w)/this.resolution,Math.floor(G.h)/this.resolution);z.rotated?U=new Rectangle(Math.floor(L.x)/this.resolution,Math.floor(L.y)/this.resolution,Math.floor(L.h)/this.resolution,Math.floor(L.w)/this.resolution):U=new Rectangle(Math.floor(L.x)/this.resolution,Math.floor(L.y)/this.resolution,Math.floor(L.w)/this.resolution,Math.floor(L.h)/this.resolution),z.trimmed!==!1&&z.spriteSourceSize&&(q=new Rectangle(Math.floor(z.spriteSourceSize.x)/this.resolution,Math.floor(z.spriteSourceSize.y)/this.resolution,Math.floor(L.w)/this.resolution,Math.floor(L.h)/this.resolution)),this.textures[F]=new Texture({source:this.textureSource,frame:U,orig:V,trim:q,rotate:z.rotated?2:0,defaultAnchor:z.anchor,defaultBorders:z.borders,label:F.toString()})}O++}}_processAnimations(){const R=this.data.animations||{};for(const O in R){this.animations[O]=[];for(let I=0;I<R[O].length;I++){const F=R[O][I];this.animations[O].push(this.textures[F])}}}_parseComplete(){const R=this._callback;this._callback=null,this._batchIndex=0,R.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*ts.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*ts.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(R=!1){for(const O in this.textures)this.textures[O].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,R&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};_Spritesheet.BATCH_SIZE=1e3;let Spritesheet=_Spritesheet;const validImages=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function getCacheableAssets(_,R,O){const I={};if(_.forEach(F=>{I[F]=R}),Object.keys(R.textures).forEach(F=>{I[`${R.cachePrefix}${F}`]=R.textures[F]}),!O){const F=path.dirname(_[0]);R.linkedSheets.forEach((z,L)=>{const U=getCacheableAssets([`${F}/${R.data.meta.related_multi_packs[L]}`],z,!0);Object.assign(I,U)})}return I}const spritesheetAsset={extension:ExtensionType.Asset,cache:{test:_=>_ instanceof Spritesheet,getCacheableAssets:(_,R)=>getCacheableAssets(_,R,!1)},resolver:{extension:{type:ExtensionType.ResolveParser,name:"resolveSpritesheet"},test:_=>{const O=_.split("?")[0].split("."),I=O.pop(),F=O.pop();return I==="json"&&validImages.includes(F)},parse:_=>{const R=_.split(".");return{resolution:parseFloat(Resolver.RETINA_PREFIX.exec(_)?.[1]??"1"),format:R[R.length-2],src:_}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Normal,name:"spritesheetLoader"},async testParse(_,R){return path.extname(R.src).toLowerCase()===".json"&&!!_.frames},async parse(_,R,O){const{texture:I,imageFilename:F,textureOptions:z,cachePrefix:L}=R?.data??{};let U=path.dirname(R.src);U&&U.lastIndexOf("/")!==U.length-1&&(U+="/");let q;if(I instanceof Texture)q=I;else{const Z=copySearchParams(U+(F??_.meta.image),R.src);q=(await O.load([{src:Z,data:z}]))[Z]}const G=new Spritesheet({texture:q.source,data:_,cachePrefix:L});await G.parse();const V=_?.meta?.related_multi_packs;if(Array.isArray(V)){const Z=[];for(const W of V){if(typeof W!="string")continue;let ee=U+W;R.data?.ignoreMultiPack||(ee=copySearchParams(ee,R.src),Z.push(O.load({src:ee,data:{textureOptions:z,ignoreMultiPack:!0}})))}const Y=await Promise.all(Z);G.linkedSheets=Y,Y.forEach(W=>{W.linkedSheets=[G].concat(G.linkedSheets.filter(ee=>ee!==W))})}return G},async unload(_,R,O){await O.unload(_.textureSource._sourceOrigin),_.destroy(!1)}}};extensions.add(spritesheetAsset);const idCounts=Object.create(null),idHash=Object.create(null);function createIdFromString(_,R){let O=idHash[_];return O===void 0&&(idCounts[R]===void 0&&(idCounts[R]=1),idHash[_]=O=idCounts[R]++),O}let context;function getTestContext(){return(!context||context?.isContextLost())&&(context=DOMAdapter.get().createCanvas().getContext("webgl",{})),context}let maxFragmentPrecision;function getMaxFragmentPrecision(){if(!maxFragmentPrecision){maxFragmentPrecision="mediump";const _=getTestContext();_&&_.getShaderPrecisionFormat&&(maxFragmentPrecision=_.getShaderPrecisionFormat(_.FRAGMENT_SHADER,_.HIGH_FLOAT).precision?"highp":"mediump")}return maxFragmentPrecision}function addProgramDefines(_,R,O){return R?_:O?(_=_.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${_}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${_}
        `}function ensurePrecision(_,R,O){const I=O?R.maxSupportedFragmentPrecision:R.maxSupportedVertexPrecision;if(_.substring(0,9)!=="precision"){let F=O?R.requestedFragmentPrecision:R.requestedVertexPrecision;return F==="highp"&&I!=="highp"&&(F="mediump"),`precision ${F} float;
${_}`}else if(I!=="highp"&&_.substring(0,15)==="precision highp")return _.replace("precision highp","precision mediump");return _}function insertVersion(_,R){return R?`#version 300 es
${_}`:_}const fragmentNameCache={},VertexNameCache={};function setProgramName(_,{name:R="pixi-program"},O=!0){R=R.replace(/\s+/g,"-"),R+=O?"-fragment":"-vertex";const I=O?fragmentNameCache:VertexNameCache;return I[R]?(I[R]++,R+=`-${I[R]}`):I[R]=1,_.indexOf("#define SHADER_NAME")!==-1?_:`${`#define SHADER_NAME ${R}`}
${_}`}function stripVersion(_,R){return R?_.replace("#version 300 es",""):_}const processes={stripVersion,ensurePrecision,addProgramDefines,setProgramName,insertVersion},programCache$1=Object.create(null),_GlProgram=class Ou{constructor(R){R={...Ou.defaultOptions,...R};const O=R.fragment.indexOf("#version 300 es")!==-1,I={stripVersion:O,ensurePrecision:{requestedFragmentPrecision:R.preferredFragmentPrecision,requestedVertexPrecision:R.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:getMaxFragmentPrecision()},setProgramName:{name:R.name},addProgramDefines:O,insertVersion:O};let F=R.fragment,z=R.vertex;Object.keys(processes).forEach(L=>{const U=I[L];F=processes[L](F,U,!0),z=processes[L](z,U,!1)}),this.fragment=F,this.vertex=z,this.transformFeedbackVaryings=R.transformFeedbackVaryings,this._key=createIdFromString(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,programCache$1[this._cacheKey]=null}static from(R){const O=`${R.vertex}:${R.fragment}`;return programCache$1[O]||(programCache$1[O]=new Ou(R),programCache$1[O]._cacheKey=O),programCache$1[O]}};_GlProgram.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let GlProgram=_GlProgram;const attributeFormatData={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function getAttributeInfoFromFormat(_){return attributeFormatData[_]??attributeFormatData.float32}const WGSL_TO_VERTEX_TYPES={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function extractAttributesFromGpuProgram({source:_,entryPoint:R}){const O={},I=_.indexOf(`fn ${R}`);if(I!==-1){const F=_.indexOf("->",I);if(F!==-1){const z=_.substring(I,F),L=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let U;for(;(U=L.exec(z))!==null;){const q=WGSL_TO_VERTEX_TYPES[U[3]]??"float32";O[U[2]]={location:parseInt(U[1],10),format:q,stride:getAttributeInfoFromFormat(q).stride,offset:0,instance:!1,start:0}}}}return O}function extractStructAndGroups(_){const R=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,O=/@group\((\d+)\)/,I=/@binding\((\d+)\)/,F=/var(<[^>]+>)? (\w+)/,z=/:\s*(\w+)/,L=/struct\s+(\w+)\s*{([^}]+)}/g,U=/(\w+)\s*:\s*([\w\<\>]+)/g,q=/struct\s+(\w+)/,G=_.match(R)?.map(Z=>({group:parseInt(Z.match(O)[1],10),binding:parseInt(Z.match(I)[1],10),name:Z.match(F)[2],isUniform:Z.match(F)[1]==="<uniform>",type:Z.match(z)[1]}));if(!G)return{groups:[],structs:[]};const V=_.match(L)?.map(Z=>{const Y=Z.match(q)[1],W=Z.match(U).reduce((ee,ne)=>{const[ie,se]=ne.split(":");return ee[ie.trim()]=se.trim(),ee},{});return W?{name:Y,members:W}:null}).filter(({name:Z})=>G.some(Y=>Y.type===Z))??[];return{groups:G,structs:V}}var ShaderStage=(_=>(_[_.VERTEX=1]="VERTEX",_[_.FRAGMENT=2]="FRAGMENT",_[_.COMPUTE=4]="COMPUTE",_))(ShaderStage||{});function generateGpuLayoutGroups({groups:_}){const R=[];for(let O=0;O<_.length;O++){const I=_[O];R[I.group]||(R[I.group]=[]),I.isUniform?R[I.group].push({binding:I.binding,visibility:ShaderStage.VERTEX|ShaderStage.FRAGMENT,buffer:{type:"uniform"}}):I.type==="sampler"?R[I.group].push({binding:I.binding,visibility:ShaderStage.FRAGMENT,sampler:{type:"filtering"}}):I.type==="texture_2d"&&R[I.group].push({binding:I.binding,visibility:ShaderStage.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return R}function generateLayoutHash({groups:_}){const R=[];for(let O=0;O<_.length;O++){const I=_[O];R[I.group]||(R[I.group]={}),R[I.group][I.name]=I.binding}return R}function removeStructAndGroupDuplicates(_,R){const O=new Set,I=new Set,F=[..._.structs,...R.structs].filter(L=>O.has(L.name)?!1:(O.add(L.name),!0)),z=[..._.groups,...R.groups].filter(L=>{const U=`${L.name}-${L.binding}`;return I.has(U)?!1:(I.add(U),!0)});return{structs:F,groups:z}}const programCache=Object.create(null);class GpuProgram{constructor(R){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:O,vertex:I,layout:F,gpuLayout:z,name:L}=R;if(this.name=L,this.fragment=O,this.vertex=I,O.source===I.source){const U=extractStructAndGroups(O.source);this.structsAndGroups=U}else{const U=extractStructAndGroups(I.source),q=extractStructAndGroups(O.source);this.structsAndGroups=removeStructAndGroupDuplicates(U,q)}this.layout=F??generateLayoutHash(this.structsAndGroups),this.gpuLayout=z??generateGpuLayoutGroups(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:R,fragment:O}=this,I=R.source+O.source+R.entryPoint+O.entryPoint;this._layoutKey=createIdFromString(I,"program")}get attributeData(){return this._attributeData??(this._attributeData=extractAttributesFromGpuProgram(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,programCache[this._cacheKey]=null}static from(R){const O=`${R.vertex.source}:${R.fragment.source}:${R.fragment.entryPoint}:${R.vertex.entryPoint}`;return programCache[O]||(programCache[O]=new GpuProgram(R),programCache[O]._cacheKey=O),programCache[O]}}const UNIFORM_TYPES_VALUES=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],UNIFORM_TYPES_MAP=UNIFORM_TYPES_VALUES.reduce((_,R)=>(_[R]=!0,_),{});function getDefaultUniformValue(_,R){switch(_){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*R);case"vec3<f32>":return new Float32Array(3*R);case"vec4<f32>":return new Float32Array(4*R);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const _UniformGroup=class Ph{constructor(R,O){this._touched=0,this.uid=uid("uniform"),this._resourceType="uniformGroup",this._resourceId=uid("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,O={...Ph.defaultOptions,...O},this.uniformStructures=R;const I={};for(const F in R){const z=R[F];if(z.name=F,z.size=z.size??1,!UNIFORM_TYPES_MAP[z.type]){const L=z.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(L){const[,U,q]=L;throw new Error(`Uniform type ${z.type} is not supported. Use type: '${U}', size: ${q} instead.`)}throw new Error(`Uniform type ${z.type} is not supported. Supported uniform types are: ${UNIFORM_TYPES_VALUES.join(", ")}`)}z.value??(z.value=getDefaultUniformValue(z.type,z.size)),I[F]=z.value}this.uniforms=I,this._dirtyId=1,this.ubo=O.ubo,this.isStatic=O.isStatic,this._signature=createIdFromString(Object.keys(I).map(F=>`${F}-${R[F].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};_UniformGroup.defaultOptions={ubo:!1,isStatic:!1};let UniformGroup=_UniformGroup;class BindGroup{constructor(R){this.resources=Object.create(null),this._dirty=!0;let O=0;for(const I in R){const F=R[I];this.setResource(F,O++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const R=[];let O=0;for(const I in this.resources)R[O++]=this.resources[I]._resourceId;this._key=R.join("|")}setResource(R,O){const I=this.resources[O];R!==I&&(I&&R.off?.("change",this.onResourceChange,this),R.on?.("change",this.onResourceChange,this),this.resources[O]=R,this._dirty=!0)}getResource(R){return this.resources[R]}_touch(R){const O=this.resources;for(const I in O)O[I]._touched=R}destroy(){const R=this.resources;for(const O in R)R[O]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(R){if(this._dirty=!0,R.destroyed){const O=this.resources;for(const I in O)O[I]===R&&(O[I]=null)}else this._updateKey()}}var RendererType=(_=>(_[_.WEBGL=1]="WEBGL",_[_.WEBGPU=2]="WEBGPU",_[_.BOTH=3]="BOTH",_))(RendererType||{});class Shader extends EventEmitter{constructor(R){super(),this.uid=uid("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:O,glProgram:I,groups:F,resources:z,compatibleRenderers:L,groupMap:U}=R;this.gpuProgram=O,this.glProgram=I,L===void 0&&(L=0,O&&(L|=RendererType.WEBGPU),I&&(L|=RendererType.WEBGL)),this.compatibleRenderers=L;const q={};if(!z&&!F&&(z={}),z&&F)throw new Error("[Shader] Cannot have both resources and groups");if(!O&&F&&!U)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!O&&F&&U)for(const G in U)for(const V in U[G]){const Z=U[G][V];q[Z]={group:G,binding:V,name:Z}}else if(O&&F&&!U){const G=O.structsAndGroups.groups;U={},G.forEach(V=>{U[V.group]=U[V.group]||{},U[V.group][V.binding]=V.name,q[V.name]=V})}else if(z){F={},U={},O&&O.structsAndGroups.groups.forEach(Z=>{U[Z.group]=U[Z.group]||{},U[Z.group][Z.binding]=Z.name,q[Z.name]=Z});let G=0;for(const V in z)q[V]||(F[99]||(F[99]=new BindGroup,this._ownedBindGroups.push(F[99])),q[V]={group:99,binding:G,name:V},U[99]=U[99]||{},U[99][G]=V,G++);for(const V in z){const Z=V;let Y=z[V];!Y.source&&!Y._resourceType&&(Y=new UniformGroup(Y));const W=q[Z];W&&(F[W.group]||(F[W.group]=new BindGroup,this._ownedBindGroups.push(F[W.group])),F[W.group].setResource(Y,W.binding))}}this.groups=F,this._uniformBindMap=U,this.resources=this._buildResourceAccessor(F,q)}addResource(R,O,I){var F,z;(F=this._uniformBindMap)[O]||(F[O]={}),(z=this._uniformBindMap[O])[I]||(z[I]=R),this.groups[O]||(this.groups[O]=new BindGroup,this._ownedBindGroups.push(this.groups[O]))}_buildResourceAccessor(R,O){const I={};for(const F in O){const z=O[F];Object.defineProperty(I,z.name,{get(){return R[z.group].getResource(z.binding)},set(L){R[z.group].setResource(L,z.binding)}})}return I}destroy(R=!1){this._destroyed||(this._destroyed=!0,this.emit("destroy",this),R&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(O=>{O.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(R){const{gpu:O,gl:I,...F}=R;let z,L;return O&&(z=GpuProgram.from(O)),I&&(L=GlProgram.from(I)),new Shader({gpuProgram:z,glProgram:L,...F})}}const environments=[];extensions.handleByNamedList(ExtensionType.Environment,environments);async function loadEnvironmentExtensions(_){if(!_)for(let R=0;R<environments.length;R++){const O=environments[R];if(O.value.test()){await O.value.load();return}}}let unsafeEval;function unsafeEvalSupported(){if(typeof unsafeEval=="boolean")return unsafeEval;try{unsafeEval=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{unsafeEval=!1}return unsafeEval}function earcut$1(_,R,O=2){const I=R&&R.length,F=I?R[0]*O:_.length;let z=linkedList(_,0,F,O,!0);const L=[];if(!z||z.next===z.prev)return L;let U,q,G;if(I&&(z=eliminateHoles(_,R,z,O)),_.length>80*O){U=_[0],q=_[1];let V=U,Z=q;for(let Y=O;Y<F;Y+=O){const W=_[Y],ee=_[Y+1];W<U&&(U=W),ee<q&&(q=ee),W>V&&(V=W),ee>Z&&(Z=ee)}G=Math.max(V-U,Z-q),G=G!==0?32767/G:0}return earcutLinked(z,L,O,U,q,G,0),L}function linkedList(_,R,O,I,F){let z;if(F===signedArea(_,R,O,I)>0)for(let L=R;L<O;L+=I)z=insertNode(L/I|0,_[L],_[L+1],z);else for(let L=O-I;L>=R;L-=I)z=insertNode(L/I|0,_[L],_[L+1],z);return z&&equals(z,z.next)&&(removeNode(z),z=z.next),z}function filterPoints(_,R){if(!_)return _;R||(R=_);let O=_,I;do if(I=!1,!O.steiner&&(equals(O,O.next)||area(O.prev,O,O.next)===0)){if(removeNode(O),O=R=O.prev,O===O.next)break;I=!0}else O=O.next;while(I||O!==R);return R}function earcutLinked(_,R,O,I,F,z,L){if(!_)return;!L&&z&&indexCurve(_,I,F,z);let U=_;for(;_.prev!==_.next;){const q=_.prev,G=_.next;if(z?isEarHashed(_,I,F,z):isEar(_)){R.push(q.i,_.i,G.i),removeNode(_),_=G.next,U=G.next;continue}if(_=G,_===U){L?L===1?(_=cureLocalIntersections(filterPoints(_),R),earcutLinked(_,R,O,I,F,z,2)):L===2&&splitEarcut(_,R,O,I,F,z):earcutLinked(filterPoints(_),R,O,I,F,z,1);break}}}function isEar(_){const R=_.prev,O=_,I=_.next;if(area(R,O,I)>=0)return!1;const F=R.x,z=O.x,L=I.x,U=R.y,q=O.y,G=I.y,V=Math.min(F,z,L),Z=Math.min(U,q,G),Y=Math.max(F,z,L),W=Math.max(U,q,G);let ee=I.next;for(;ee!==R;){if(ee.x>=V&&ee.x<=Y&&ee.y>=Z&&ee.y<=W&&pointInTriangleExceptFirst(F,U,z,q,L,G,ee.x,ee.y)&&area(ee.prev,ee,ee.next)>=0)return!1;ee=ee.next}return!0}function isEarHashed(_,R,O,I){const F=_.prev,z=_,L=_.next;if(area(F,z,L)>=0)return!1;const U=F.x,q=z.x,G=L.x,V=F.y,Z=z.y,Y=L.y,W=Math.min(U,q,G),ee=Math.min(V,Z,Y),ne=Math.max(U,q,G),ie=Math.max(V,Z,Y),se=zOrder(W,ee,R,O,I),oe=zOrder(ne,ie,R,O,I);let le=_.prevZ,ue=_.nextZ;for(;le&&le.z>=se&&ue&&ue.z<=oe;){if(le.x>=W&&le.x<=ne&&le.y>=ee&&le.y<=ie&&le!==F&&le!==L&&pointInTriangleExceptFirst(U,V,q,Z,G,Y,le.x,le.y)&&area(le.prev,le,le.next)>=0||(le=le.prevZ,ue.x>=W&&ue.x<=ne&&ue.y>=ee&&ue.y<=ie&&ue!==F&&ue!==L&&pointInTriangleExceptFirst(U,V,q,Z,G,Y,ue.x,ue.y)&&area(ue.prev,ue,ue.next)>=0))return!1;ue=ue.nextZ}for(;le&&le.z>=se;){if(le.x>=W&&le.x<=ne&&le.y>=ee&&le.y<=ie&&le!==F&&le!==L&&pointInTriangleExceptFirst(U,V,q,Z,G,Y,le.x,le.y)&&area(le.prev,le,le.next)>=0)return!1;le=le.prevZ}for(;ue&&ue.z<=oe;){if(ue.x>=W&&ue.x<=ne&&ue.y>=ee&&ue.y<=ie&&ue!==F&&ue!==L&&pointInTriangleExceptFirst(U,V,q,Z,G,Y,ue.x,ue.y)&&area(ue.prev,ue,ue.next)>=0)return!1;ue=ue.nextZ}return!0}function cureLocalIntersections(_,R){let O=_;do{const I=O.prev,F=O.next.next;!equals(I,F)&&intersects(I,O,O.next,F)&&locallyInside(I,F)&&locallyInside(F,I)&&(R.push(I.i,O.i,F.i),removeNode(O),removeNode(O.next),O=_=F),O=O.next}while(O!==_);return filterPoints(O)}function splitEarcut(_,R,O,I,F,z){let L=_;do{let U=L.next.next;for(;U!==L.prev;){if(L.i!==U.i&&isValidDiagonal(L,U)){let q=splitPolygon(L,U);L=filterPoints(L,L.next),q=filterPoints(q,q.next),earcutLinked(L,R,O,I,F,z,0),earcutLinked(q,R,O,I,F,z,0);return}U=U.next}L=L.next}while(L!==_)}function eliminateHoles(_,R,O,I){const F=[];for(let z=0,L=R.length;z<L;z++){const U=R[z]*I,q=z<L-1?R[z+1]*I:_.length,G=linkedList(_,U,q,I,!1);G===G.next&&(G.steiner=!0),F.push(getLeftmost(G))}F.sort(compareXYSlope);for(let z=0;z<F.length;z++)O=eliminateHole(F[z],O);return O}function compareXYSlope(_,R){let O=_.x-R.x;if(O===0&&(O=_.y-R.y,O===0)){const I=(_.next.y-_.y)/(_.next.x-_.x),F=(R.next.y-R.y)/(R.next.x-R.x);O=I-F}return O}function eliminateHole(_,R){const O=findHoleBridge(_,R);if(!O)return R;const I=splitPolygon(O,_);return filterPoints(I,I.next),filterPoints(O,O.next)}function findHoleBridge(_,R){let O=R;const I=_.x,F=_.y;let z=-1/0,L;if(equals(_,O))return O;do{if(equals(_,O.next))return O.next;if(F<=O.y&&F>=O.next.y&&O.next.y!==O.y){const Z=O.x+(F-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(Z<=I&&Z>z&&(z=Z,L=O.x<O.next.x?O:O.next,Z===I))return L}O=O.next}while(O!==R);if(!L)return null;const U=L,q=L.x,G=L.y;let V=1/0;O=L;do{if(I>=O.x&&O.x>=q&&I!==O.x&&pointInTriangle(F<G?I:z,F,q,G,F<G?z:I,F,O.x,O.y)){const Z=Math.abs(F-O.y)/(I-O.x);locallyInside(O,_)&&(Z<V||Z===V&&(O.x>L.x||O.x===L.x&&sectorContainsSector(L,O)))&&(L=O,V=Z)}O=O.next}while(O!==U);return L}function sectorContainsSector(_,R){return area(_.prev,_,R.prev)<0&&area(R.next,_,_.next)<0}function indexCurve(_,R,O,I){let F=_;do F.z===0&&(F.z=zOrder(F.x,F.y,R,O,I)),F.prevZ=F.prev,F.nextZ=F.next,F=F.next;while(F!==_);F.prevZ.nextZ=null,F.prevZ=null,sortLinked(F)}function sortLinked(_){let R,O=1;do{let I=_,F;_=null;let z=null;for(R=0;I;){R++;let L=I,U=0;for(let G=0;G<O&&(U++,L=L.nextZ,!!L);G++);let q=O;for(;U>0||q>0&&L;)U!==0&&(q===0||!L||I.z<=L.z)?(F=I,I=I.nextZ,U--):(F=L,L=L.nextZ,q--),z?z.nextZ=F:_=F,F.prevZ=z,z=F;I=L}z.nextZ=null,O*=2}while(R>1);return _}function zOrder(_,R,O,I,F){return _=(_-O)*F|0,R=(R-I)*F|0,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,_|R<<1}function getLeftmost(_){let R=_,O=_;do(R.x<O.x||R.x===O.x&&R.y<O.y)&&(O=R),R=R.next;while(R!==_);return O}function pointInTriangle(_,R,O,I,F,z,L,U){return(F-L)*(R-U)>=(_-L)*(z-U)&&(_-L)*(I-U)>=(O-L)*(R-U)&&(O-L)*(z-U)>=(F-L)*(I-U)}function pointInTriangleExceptFirst(_,R,O,I,F,z,L,U){return!(_===L&&R===U)&&pointInTriangle(_,R,O,I,F,z,L,U)}function isValidDiagonal(_,R){return _.next.i!==R.i&&_.prev.i!==R.i&&!intersectsPolygon(_,R)&&(locallyInside(_,R)&&locallyInside(R,_)&&middleInside(_,R)&&(area(_.prev,_,R.prev)||area(_,R.prev,R))||equals(_,R)&&area(_.prev,_,_.next)>0&&area(R.prev,R,R.next)>0)}function area(_,R,O){return(R.y-_.y)*(O.x-R.x)-(R.x-_.x)*(O.y-R.y)}function equals(_,R){return _.x===R.x&&_.y===R.y}function intersects(_,R,O,I){const F=sign$2(area(_,R,O)),z=sign$2(area(_,R,I)),L=sign$2(area(O,I,_)),U=sign$2(area(O,I,R));return!!(F!==z&&L!==U||F===0&&onSegment(_,O,R)||z===0&&onSegment(_,I,R)||L===0&&onSegment(O,_,I)||U===0&&onSegment(O,R,I))}function onSegment(_,R,O){return R.x<=Math.max(_.x,O.x)&&R.x>=Math.min(_.x,O.x)&&R.y<=Math.max(_.y,O.y)&&R.y>=Math.min(_.y,O.y)}function sign$2(_){return _>0?1:_<0?-1:0}function intersectsPolygon(_,R){let O=_;do{if(O.i!==_.i&&O.next.i!==_.i&&O.i!==R.i&&O.next.i!==R.i&&intersects(O,O.next,_,R))return!0;O=O.next}while(O!==_);return!1}function locallyInside(_,R){return area(_.prev,_,_.next)<0?area(_,R,_.next)>=0&&area(_,_.prev,R)>=0:area(_,R,_.prev)<0||area(_,_.next,R)<0}function middleInside(_,R){let O=_,I=!1;const F=(_.x+R.x)/2,z=(_.y+R.y)/2;do O.y>z!=O.next.y>z&&O.next.y!==O.y&&F<(O.next.x-O.x)*(z-O.y)/(O.next.y-O.y)+O.x&&(I=!I),O=O.next;while(O!==_);return I}function splitPolygon(_,R){const O=createNode(_.i,_.x,_.y),I=createNode(R.i,R.x,R.y),F=_.next,z=R.prev;return _.next=R,R.prev=_,O.next=F,F.prev=O,I.next=O,O.prev=I,z.next=I,I.prev=z,I}function insertNode(_,R,O,I){const F=createNode(_,R,O);return I?(F.next=I.next,F.prev=I,I.next.prev=F,I.next=F):(F.prev=F,F.next=F),F}function removeNode(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function createNode(_,R,O){return{i:_,x:R,y:O,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function signedArea(_,R,O,I){let F=0;for(let z=R,L=O-I;z<O;z+=I)F+=(_[L]-_[z])*(_[z+1]+_[L+1]),L=z;return F}const earcut=earcut$1.default||earcut$1;var CLEAR=(_=>(_[_.NONE=0]="NONE",_[_.COLOR=16384]="COLOR",_[_.STENCIL=1024]="STENCIL",_[_.DEPTH=256]="DEPTH",_[_.COLOR_DEPTH=16640]="COLOR_DEPTH",_[_.COLOR_STENCIL=17408]="COLOR_STENCIL",_[_.DEPTH_STENCIL=1280]="DEPTH_STENCIL",_[_.ALL=17664]="ALL",_))(CLEAR||{});class SystemRunner{constructor(R){this.items=[],this._name=R}emit(R,O,I,F,z,L,U,q){const{name:G,items:V}=this;for(let Z=0,Y=V.length;Z<Y;Z++)V[Z][G](R,O,I,F,z,L,U,q);return this}add(R){return R[this._name]&&(this.remove(R),this.items.push(R)),this}remove(R){const O=this.items.indexOf(R);return O!==-1&&this.items.splice(O,1),this}contains(R){return this.items.indexOf(R)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const defaultRunners=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],_AbstractRenderer=class Ih extends EventEmitter{constructor(R){super(),this.uid=uid("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=R.type,this.name=R.name,this.config=R;const O=[...defaultRunners,...this.config.runners??[]];this._addRunners(...O),this._unsafeEvalCheck()}async init(R={}){const O=R.skipExtensionImports===!0?!0:R.manageImports===!1;await loadEnvironmentExtensions(O),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const I in this._systemsHash)R={...this._systemsHash[I].constructor.defaultOptions,...R};R={...Ih.defaultOptions,...R},this._roundPixels=R.roundPixels?1:0;for(let I=0;I<this.runners.init.items.length;I++)await this.runners.init.items[I].init(R);this._initOptions=R}render(R,O){let I=R;if(I instanceof Container&&(I={container:I},O&&(deprecation(v8_0_0,"passing a second argument is deprecated, please use render options instead"),I.target=O.renderTexture)),I.target||(I.target=this.view.renderTarget),I.target===this.view.renderTarget&&(this._lastObjectRendered=I.container,I.clearColor??(I.clearColor=this.background.colorRgba),I.clear??(I.clear=this.background.clearBeforeRender)),I.clearColor){const F=Array.isArray(I.clearColor)&&I.clearColor.length===4;I.clearColor=F?I.clearColor:Color$1.shared.setValue(I.clearColor).toArray()}I.transform||(I.container.updateLocalTransform(),I.transform=I.container.localTransform),I.container.visible&&(I.container.enableRenderGroup(),this.runners.prerender.emit(I),this.runners.renderStart.emit(I),this.runners.render.emit(I),this.runners.renderEnd.emit(I),this.runners.postrender.emit(I))}resize(R,O,I){const F=this.view.resolution;this.view.resize(R,O,I),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),I!==void 0&&I!==F&&this.runners.resolutionChange.emit(I)}clear(R={}){const O=this;R.target||(R.target=O.renderTarget.renderTarget),R.clearColor||(R.clearColor=this.background.colorRgba),R.clear??(R.clear=CLEAR.ALL);const{clear:I,clearColor:F,target:z}=R;Color$1.shared.setValue(F??this.background.colorRgba),O.renderTarget.clear(z,I,Color$1.shared.toArray())}get resolution(){return this.view.resolution}set resolution(R){this.view.resolution=R,this.runners.resolutionChange.emit(R)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...R){R.forEach(O=>{this.runners[O]=new SystemRunner(O)})}_addSystems(R){let O;for(O in R){const I=R[O];this._addSystem(I.value,I.name)}}_addSystem(R,O){const I=new R(this);if(this[O])throw new Error(`Whoops! The name "${O}" is already in use`);this[O]=I,this._systemsHash[O]=I;for(const F in this.runners)this.runners[F].add(I);return this}_addPipes(R,O){const I=O.reduce((F,z)=>(F[z.name]=z.value,F),{});R.forEach(F=>{const z=F.value,L=F.name,U=I[L];this.renderPipes[L]=new z(this,U?new U:null),this.runners.destroy.add(this.renderPipes[L])})}destroy(R=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(R),(R===!0||typeof R=="object"&&R.releaseGlobalResources)&&GlobalResourceRegistry.release(),Object.values(this.runners).forEach(O=>{O.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(R){return this.textureGenerator.generateTexture(R)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};_AbstractRenderer.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let AbstractRenderer=_AbstractRenderer,_isWebGLSupported;function isWebGLSupported(_){return _isWebGLSupported!==void 0||(_isWebGLSupported=(()=>{const R={stencil:!0,failIfMajorPerformanceCaveat:_??AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat};try{if(!DOMAdapter.get().getWebGLRenderingContext())return!1;let I=DOMAdapter.get().createCanvas().getContext("webgl",R);const F=!!I?.getContextAttributes()?.stencil;if(I){const z=I.getExtension("WEBGL_lose_context");z&&z.loseContext()}return I=null,F}catch{return!1}})()),_isWebGLSupported}let _isWebGPUSupported;async function isWebGPUSupported(_={}){return _isWebGPUSupported!==void 0||(_isWebGPUSupported=await(async()=>{const R=DOMAdapter.get().getNavigator().gpu;if(!R)return!1;try{return await(await R.requestAdapter(_)).requestDevice(),!0}catch{return!1}})()),_isWebGPUSupported}const renderPriority=["webgl","webgpu","canvas"];async function autoDetectRenderer(_){let R=[];_.preference?(R.push(_.preference),renderPriority.forEach(z=>{z!==_.preference&&R.push(z)})):R=renderPriority.slice();let O,I={};for(let z=0;z<R.length;z++){const L=R[z];if(L==="webgpu"&&await isWebGPUSupported()){const{WebGPURenderer:U}=await __vitePreload(async()=>{const{WebGPURenderer:q}=await import("./WebGPURenderer-D8mXTCbF.js");return{WebGPURenderer:q}},__vite__mapDeps([3,2,4]));O=U,I={..._,..._.webgpu};break}else if(L==="webgl"&&isWebGLSupported(_.failIfMajorPerformanceCaveat??AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:U}=await __vitePreload(async()=>{const{WebGLRenderer:q}=await import("./WebGLRenderer-CCPkXXoe.js");return{WebGLRenderer:q}},__vite__mapDeps([5,2,4]));O=U,I={..._,..._.webgl};break}else if(L==="canvas")throw I={..._},new Error("CanvasRenderer is not yet implemented")}if(delete I.webgpu,delete I.webgl,!O)throw new Error("No available renderer for the current environment");const F=new O;return await F.init(I),F}const VERSION="8.14.3";class ApplicationInitHook{static init(){globalThis.__PIXI_APP_INIT__?.(this,VERSION)}static destroy(){}}ApplicationInitHook.extension=ExtensionType.Application;class RendererInitHook{constructor(R){this._renderer=R}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,VERSION)}destroy(){this._renderer=null}}RendererInitHook.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem],name:"initHook",priority:-10};const _Application=class Pu{constructor(...R){this.stage=new Container,R[0]!==void 0&&deprecation(v8_0_0,"Application constructor options are deprecated, please use Application.init() instead.")}async init(R){R={...R},this.stage||(this.stage=new Container),this.renderer=await autoDetectRenderer(R),Pu._plugins.forEach(O=>{O.init.call(this,R)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return deprecation(v8_0_0,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(R=!1,O=!1){const I=Pu._plugins.slice(0);I.reverse(),I.forEach(F=>{F.destroy.call(this)}),this.stage.destroy(O),this.stage=null,this.renderer.destroy(R),this.renderer=null}};_Application._plugins=[];let Application=_Application;extensions.handleByList(ExtensionType.Application,Application._plugins);extensions.add(ApplicationInitHook);class LRU{constructor(R=0,O=0,I=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=R,this.resetTtl=I,this.size=0,this.ttl=O}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(R){if(this.has(R)){const O=this.items[R];delete this.items[R],this.size--,O.prev!==null&&(O.prev.next=O.next),O.next!==null&&(O.next.prev=O.prev),this.first===O&&(this.first=O.next),this.last===O&&(this.last=O.prev)}return this}entries(R=this.keys()){return R.map(O=>[O,this.get(O)])}evict(R=!1){if(R||this.size>0){const O=this.first;delete this.items[O.key],--this.size===0?(this.first=null,this.last=null):(this.first=O.next,this.first.prev=null)}return this}expiresAt(R){let O;return this.has(R)&&(O=this.items[R].expiry),O}get(R){const O=this.items[R];if(O!==void 0){if(this.ttl>0&&O.expiry<=Date.now()){this.delete(R);return}return this.moveToEnd(O),O.value}}has(R){return R in this.items}moveToEnd(R){this.last!==R&&(R.prev!==null&&(R.prev.next=R.next),R.next!==null&&(R.next.prev=R.prev),this.first===R&&(this.first=R.next),R.prev=this.last,R.next=null,this.last!==null&&(this.last.next=R),this.last=R,this.first===null&&(this.first=R))}keys(){const R=[];let O=this.first;for(;O!==null;)R.push(O.key),O=O.next;return R}setWithEvicted(R,O,I=this.resetTtl){let F=null;if(this.has(R))this.set(R,O,!0,I);else{this.max>0&&this.size===this.max&&(F={...this.first},this.evict(!0));let z=this.items[R]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:R,prev:this.last,next:null,value:O};++this.size===1?this.first=z:this.last.next=z,this.last=z}return F}set(R,O,I=!1,F=this.resetTtl){let z=this.items[R];return I||z!==void 0?(z.value=O,I===!1&&F&&(z.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.moveToEnd(z)):(this.max>0&&this.size===this.max&&this.evict(!0),z=this.items[R]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:R,prev:this.last,next:null,value:O},++this.size===1?this.first=z:this.last.next=z,this.last=z),this}values(R=this.keys()){return R.map(O=>this.get(O))}}function lru(_=1e3,R=0,O=!1){if(isNaN(_)||_<0)throw new TypeError("Invalid max value");if(isNaN(R)||R<0)throw new TypeError("Invalid ttl value");if(typeof O!="boolean")throw new TypeError("Invalid resetTtl value");return new LRU(_,R,O)}const genericFontFamilies=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function fontStringFromTextStyle(_){const R=typeof _.fontSize=="number"?`${_.fontSize}px`:_.fontSize;let O=_.fontFamily;Array.isArray(_.fontFamily)||(O=_.fontFamily.split(","));for(let I=O.length-1;I>=0;I--){let F=O[I].trim();!/([\"\'])[^\'\"]+\1/.test(F)&&!genericFontFamilies.includes(F)&&(F=`"${F}"`),O[I]=F}return`${_.fontStyle} ${_.fontVariant} ${_.fontWeight} ${R} ${O.join(",")}`}const contextSettings={willReadFrequently:!0},_CanvasTextMetrics=class Dt{static get experimentalLetterSpacingSupported(){let R=Dt._experimentalLetterSpacingSupported;if(R===void 0){const O=DOMAdapter.get().getCanvasRenderingContext2D().prototype;R=Dt._experimentalLetterSpacingSupported="letterSpacing"in O||"textLetterSpacing"in O}return R}constructor(R,O,I,F,z,L,U,q,G){this.text=R,this.style=O,this.width=I,this.height=F,this.lines=z,this.lineWidths=L,this.lineHeight=U,this.maxLineWidth=q,this.fontProperties=G}static measureText(R=" ",O,I=Dt._canvas,F=O.wordWrap){const z=`${R}-${O.styleKey}-wordWrap-${F}`;if(Dt._measurementCache.has(z))return Dt._measurementCache.get(z);const L=fontStringFromTextStyle(O),U=Dt.measureFont(L);U.fontSize===0&&(U.fontSize=O.fontSize,U.ascent=O.fontSize);const q=Dt.__context;q.font=L;const V=(F?Dt._wordWrap(R,O,I):R).split(/(?:\r\n|\r|\n)/),Z=new Array(V.length);let Y=0;for(let oe=0;oe<V.length;oe++){const le=Dt._measureText(V[oe],O.letterSpacing,q);Z[oe]=le,Y=Math.max(Y,le)}const W=O._stroke?.width||0;let ee=Y+W;O.dropShadow&&(ee+=O.dropShadow.distance);const ne=O.lineHeight||U.fontSize;let ie=Math.max(ne,U.fontSize+W)+(V.length-1)*(ne+O.leading);O.dropShadow&&(ie+=O.dropShadow.distance);const se=new Dt(R,O,ee,ie,V,Z,ne+O.leading,Y,U);return Dt._measurementCache.set(z,se),se}static _measureText(R,O,I){let F=!1;Dt.experimentalLetterSpacingSupported&&(Dt.experimentalLetterSpacing?(I.letterSpacing=`${O}px`,I.textLetterSpacing=`${O}px`,F=!0):(I.letterSpacing="0px",I.textLetterSpacing="0px"));const z=I.measureText(R);let L=z.width;const U=-z.actualBoundingBoxLeft;let G=z.actualBoundingBoxRight-U;if(L>0)if(F)L-=O,G-=O;else{const V=(Dt.graphemeSegmenter(R).length-1)*O;L+=V,G+=V}return Math.max(L,G)}static _wordWrap(R,O,I=Dt._canvas){const F=I.getContext("2d",contextSettings);let z=0,L="",U="";const q=Object.create(null),{letterSpacing:G,whiteSpace:V}=O,Z=Dt._collapseSpaces(V),Y=Dt._collapseNewlines(V);let W=!Z;const ee=O.wordWrapWidth+G,ne=Dt._tokenize(R);for(let ie=0;ie<ne.length;ie++){let se=ne[ie];if(Dt._isNewline(se)){if(!Y){U+=Dt._addLine(L),W=!Z,L="",z=0;continue}se=" "}if(Z){const le=Dt.isBreakingSpace(se),ue=Dt.isBreakingSpace(L[L.length-1]);if(le&&ue)continue}const oe=Dt._getFromCache(se,G,q,F);if(oe>ee)if(L!==""&&(U+=Dt._addLine(L),L="",z=0),Dt.canBreakWords(se,O.breakWords)){const le=Dt.wordWrapSplit(se);for(let ue=0;ue<le.length;ue++){let ce=le[ue],fe=ce,me=1;for(;le[ue+me];){const pe=le[ue+me];if(!Dt.canBreakChars(fe,pe,se,ue,O.breakWords))ce+=pe;else break;fe=pe,me++}ue+=me-1;const he=Dt._getFromCache(ce,G,q,F);he+z>ee&&(U+=Dt._addLine(L),W=!1,L="",z=0),L+=ce,z+=he}}else{L.length>0&&(U+=Dt._addLine(L),L="",z=0);const le=ie===ne.length-1;U+=Dt._addLine(se,!le),W=!1,L="",z=0}else oe+z>ee&&(W=!1,U+=Dt._addLine(L),L="",z=0),(L.length>0||!Dt.isBreakingSpace(se)||W)&&(L+=se,z+=oe)}return U+=Dt._addLine(L,!1),U}static _addLine(R,O=!0){return R=Dt._trimRight(R),R=O?`${R}
`:R,R}static _getFromCache(R,O,I,F){let z=I[R];return typeof z!="number"&&(z=Dt._measureText(R,O,F)+O,I[R]=z),z}static _collapseSpaces(R){return R==="normal"||R==="pre-line"}static _collapseNewlines(R){return R==="normal"}static _trimRight(R){if(typeof R!="string")return"";for(let O=R.length-1;O>=0;O--){const I=R[O];if(!Dt.isBreakingSpace(I))break;R=R.slice(0,-1)}return R}static _isNewline(R){return typeof R!="string"?!1:Dt._newlines.includes(R.charCodeAt(0))}static isBreakingSpace(R,O){return typeof R!="string"?!1:Dt._breakingSpaces.includes(R.charCodeAt(0))}static _tokenize(R){const O=[];let I="";if(typeof R!="string")return O;for(let F=0;F<R.length;F++){const z=R[F],L=R[F+1];if(Dt.isBreakingSpace(z,L)||Dt._isNewline(z)){I!==""&&(O.push(I),I=""),z==="\r"&&L===`
`?(O.push(`\r
`),F++):O.push(z);continue}I+=z}return I!==""&&O.push(I),O}static canBreakWords(R,O){return O}static canBreakChars(R,O,I,F,z){return!0}static wordWrapSplit(R){return Dt.graphemeSegmenter(R)}static measureFont(R){if(Dt._fonts[R])return Dt._fonts[R];const O=Dt._context;O.font=R;const I=O.measureText(Dt.METRICS_STRING+Dt.BASELINE_SYMBOL),F={ascent:I.actualBoundingBoxAscent,descent:I.actualBoundingBoxDescent,fontSize:I.actualBoundingBoxAscent+I.actualBoundingBoxDescent};return Dt._fonts[R]=F,F}static clearMetrics(R=""){R?delete Dt._fonts[R]:Dt._fonts={}}static get _canvas(){if(!Dt.__canvas){let R;try{const O=new OffscreenCanvas(0,0);if(O.getContext("2d",contextSettings)?.measureText)return Dt.__canvas=O,O;R=DOMAdapter.get().createCanvas()}catch{R=DOMAdapter.get().createCanvas()}R.width=R.height=10,Dt.__canvas=R}return Dt.__canvas}static get _context(){return Dt.__context||(Dt.__context=Dt._canvas.getContext("2d",contextSettings)),Dt.__context}};_CanvasTextMetrics.METRICS_STRING="|q";_CanvasTextMetrics.BASELINE_SYMBOL="M";_CanvasTextMetrics.BASELINE_MULTIPLIER=1.4;_CanvasTextMetrics.HEIGHT_MULTIPLIER=2;_CanvasTextMetrics.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const _=new Intl.Segmenter;return R=>{const O=_.segment(R),I=[];let F=0;for(const z of O)I[F++]=z.segment;return I}}return _=>[..._]})();_CanvasTextMetrics.experimentalLetterSpacing=!1;_CanvasTextMetrics._fonts={};_CanvasTextMetrics._newlines=[10,13];_CanvasTextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];_CanvasTextMetrics._measurementCache=lru(1e3);let CanvasTextMetrics=_CanvasTextMetrics;const emptyColorStops=[{offset:0,color:"white"},{offset:1,color:"black"}],_FillGradient=class Iu{constructor(...R){this.uid=uid("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let O=ensureGradientOptions(R);O={...O.type==="radial"?Iu.defaultRadialOptions:Iu.defaultLinearOptions,...definedProps(O)},this._textureSize=O.textureSize,this._wrapMode=O.wrapMode,O.type==="radial"?(this.center=O.center,this.outerCenter=O.outerCenter??this.center,this.innerRadius=O.innerRadius,this.outerRadius=O.outerRadius,this.scale=O.scale,this.rotation=O.rotation):(this.start=O.start,this.end=O.end),this.textureSpace=O.textureSpace,this.type=O.type,O.colorStops.forEach(F=>{this.addColorStop(F.offset,F.color)})}addColorStop(R,O){return this.colorStops.push({offset:R,color:Color$1.shared.setValue(O).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:R,y:O}=this.start,{x:I,y:F}=this.end,z=I-R,L=F-O;const U=z<0||L<0;if(this._wrapMode==="clamp-to-edge"){if(z<0){const ie=R;R=I,I=ie,z*=-1}if(L<0){const ie=O;O=F,F=ie,L*=-1}}const q=this.colorStops.length?this.colorStops:emptyColorStops,G=this._textureSize,{canvas:V,context:Z}=getCanvas(G,1),Y=U?Z.createLinearGradient(this._textureSize,0,0,0):Z.createLinearGradient(0,0,this._textureSize,0);addColorStops(Y,q),Z.fillStyle=Y,Z.fillRect(0,0,G,1),this.texture=new Texture({source:new ImageSource({resource:V,addressMode:this._wrapMode})});const W=Math.sqrt(z*z+L*L),ee=Math.atan2(L,z),ne=new Matrix;ne.scale(W/G,1),ne.rotate(ee),ne.translate(R,O),this.textureSpace==="local"&&ne.scale(G,G),this.transform=ne}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const R=this.colorStops.length?this.colorStops:emptyColorStops,O=this._textureSize,{canvas:I,context:F}=getCanvas(O,O),{x:z,y:L}=this.center,{x:U,y:q}=this.outerCenter,G=this.innerRadius,V=this.outerRadius,Z=U-V,Y=q-V,W=O/(V*2),ee=(z-Z)*W,ne=(L-Y)*W,ie=F.createRadialGradient(ee,ne,G*W,(U-Z)*W,(q-Y)*W,V*W);addColorStops(ie,R),F.fillStyle=R[R.length-1].color,F.fillRect(0,0,O,O),F.fillStyle=ie,F.translate(ee,ne),F.rotate(this.rotation),F.scale(1,this.scale),F.translate(-ee,-ne),F.fillRect(0,0,O,O),this.texture=new Texture({source:new ImageSource({resource:I,addressMode:this._wrapMode})});const se=new Matrix;se.scale(1/W,1/W),se.translate(Z,Y),this.textureSpace==="local"&&se.scale(O,O),this.transform=se}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};_FillGradient.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};_FillGradient.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let FillGradient=_FillGradient;function addColorStops(_,R){for(let O=0;O<R.length;O++){const I=R[O];_.addColorStop(I.offset,I.color)}}function getCanvas(_,R){const O=DOMAdapter.get().createCanvas(_,R),I=O.getContext("2d");return{canvas:O,context:I}}function ensureGradientOptions(_){let R=_[0]??{};return(typeof R=="number"||_[1])&&(deprecation("8.5.2","use options object instead"),R={type:"linear",start:{x:_[0],y:_[1]},end:{x:_[2],y:_[3]},textureSpace:_[4],textureSize:_[5]??FillGradient.defaultLinearOptions.textureSize}),R}const repetitionMap={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class FillPattern{constructor(R,O){this.uid=uid("fillPattern"),this._tick=0,this.transform=new Matrix,this.texture=R,this.transform.scale(1/R.frame.width,1/R.frame.height),O&&(R.source.style.addressModeU=repetitionMap[O].addressModeU,R.source.style.addressModeV=repetitionMap[O].addressModeV)}setTransform(R){const O=this.texture;this.transform.copyFrom(R),this.transform.invert(),this.transform.scale(1/O.frame.width,1/O.frame.height),this._tick++}get texture(){return this._texture}set texture(R){this._texture!==R&&(this._texture=R,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var parseSvgPath,hasRequiredParseSvgPath;function requireParseSvgPath(){if(hasRequiredParseSvgPath)return parseSvgPath;hasRequiredParseSvgPath=1,parseSvgPath=O;var _={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},R=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function O(z){var L=[];return z.replace(R,function(U,q,G){var V=q.toLowerCase();for(G=F(G),V=="m"&&G.length>2&&(L.push([q].concat(G.splice(0,2))),V="l",q=q=="m"?"l":"L");;){if(G.length==_[V])return G.unshift(q),L.push(G);if(G.length<_[V])throw new Error("malformed path data");L.push([q].concat(G.splice(0,_[V])))}}),L}var I=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function F(z){var L=z.match(I);return L?L.map(Number):[]}return parseSvgPath}var parseSvgPathExports=requireParseSvgPath();const parse$1=getDefaultExportFromCjs(parseSvgPathExports);function parseSVGPath(_,R){const O=parse$1(_),I=[];let F=null,z=0,L=0;for(let U=0;U<O.length;U++){const q=O[U],G=q[0],V=q;switch(G){case"M":z=V[1],L=V[2],R.moveTo(z,L);break;case"m":z+=V[1],L+=V[2],R.moveTo(z,L);break;case"H":z=V[1],R.lineTo(z,L);break;case"h":z+=V[1],R.lineTo(z,L);break;case"V":L=V[1],R.lineTo(z,L);break;case"v":L+=V[1],R.lineTo(z,L);break;case"L":z=V[1],L=V[2],R.lineTo(z,L);break;case"l":z+=V[1],L+=V[2],R.lineTo(z,L);break;case"C":z=V[5],L=V[6],R.bezierCurveTo(V[1],V[2],V[3],V[4],z,L);break;case"c":R.bezierCurveTo(z+V[1],L+V[2],z+V[3],L+V[4],z+V[5],L+V[6]),z+=V[5],L+=V[6];break;case"S":z=V[3],L=V[4],R.bezierCurveToShort(V[1],V[2],z,L);break;case"s":R.bezierCurveToShort(z+V[1],L+V[2],z+V[3],L+V[4]),z+=V[3],L+=V[4];break;case"Q":z=V[3],L=V[4],R.quadraticCurveTo(V[1],V[2],z,L);break;case"q":R.quadraticCurveTo(z+V[1],L+V[2],z+V[3],L+V[4]),z+=V[3],L+=V[4];break;case"T":z=V[1],L=V[2],R.quadraticCurveToShort(z,L);break;case"t":z+=V[1],L+=V[2],R.quadraticCurveToShort(z,L);break;case"A":z=V[6],L=V[7],R.arcToSvg(V[1],V[2],V[3],V[4],V[5],z,L);break;case"a":z+=V[6],L+=V[7],R.arcToSvg(V[1],V[2],V[3],V[4],V[5],z,L);break;case"Z":case"z":R.closePath(),I.length>0&&(F=I.pop(),F?(z=F.startX,L=F.startY):(z=0,L=0)),F=null;break;default:warn$1(`Unknown SVG path command: ${G}`)}G!=="Z"&&G!=="z"&&F===null&&(F={startX:z,startY:L},I.push(F))}return R}class Circle{constructor(R=0,O=0,I=0){this.type="circle",this.x=R,this.y=O,this.radius=I}clone(){return new Circle(this.x,this.y,this.radius)}contains(R,O){if(this.radius<=0)return!1;const I=this.radius*this.radius;let F=this.x-R,z=this.y-O;return F*=F,z*=z,F+z<=I}strokeContains(R,O,I,F=.5){if(this.radius===0)return!1;const z=this.x-R,L=this.y-O,U=this.radius,q=(1-F)*I,G=Math.sqrt(z*z+L*L);return G<=U+q&&G>U-(I-q)}getBounds(R){return R||(R=new Rectangle),R.x=this.x-this.radius,R.y=this.y-this.radius,R.width=this.radius*2,R.height=this.radius*2,R}copyFrom(R){return this.x=R.x,this.y=R.y,this.radius=R.radius,this}copyTo(R){return R.copyFrom(this),R}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Ellipse{constructor(R=0,O=0,I=0,F=0){this.type="ellipse",this.x=R,this.y=O,this.halfWidth=I,this.halfHeight=F}clone(){return new Ellipse(this.x,this.y,this.halfWidth,this.halfHeight)}contains(R,O){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let I=(R-this.x)/this.halfWidth,F=(O-this.y)/this.halfHeight;return I*=I,F*=F,I+F<=1}strokeContains(R,O,I,F=.5){const{halfWidth:z,halfHeight:L}=this;if(z<=0||L<=0)return!1;const U=I*(1-F),q=I-U,G=z-q,V=L-q,Z=z+U,Y=L+U,W=R-this.x,ee=O-this.y,ne=W*W/(G*G)+ee*ee/(V*V),ie=W*W/(Z*Z)+ee*ee/(Y*Y);return ne>1&&ie<=1}getBounds(R){return R||(R=new Rectangle),R.x=this.x-this.halfWidth,R.y=this.y-this.halfHeight,R.width=this.halfWidth*2,R.height=this.halfHeight*2,R}copyFrom(R){return this.x=R.x,this.y=R.y,this.halfWidth=R.halfWidth,this.halfHeight=R.halfHeight,this}copyTo(R){return R.copyFrom(this),R}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function squaredDistanceToLineSegment(_,R,O,I,F,z){const L=_-O,U=R-I,q=F-O,G=z-I,V=L*q+U*G,Z=q*q+G*G;let Y=-1;Z!==0&&(Y=V/Z);let W,ee;Y<0?(W=O,ee=I):Y>1?(W=F,ee=z):(W=O+Y*q,ee=I+Y*G);const ne=_-W,ie=R-ee;return ne*ne+ie*ie}let tempRect$3,tempRect2;class Polygon{constructor(...R){this.type="polygon";let O=Array.isArray(R[0])?R[0]:R;if(typeof O[0]!="number"){const I=[];for(let F=0,z=O.length;F<z;F++)I.push(O[F].x,O[F].y);O=I}this.points=O,this.closePath=!0}isClockwise(){let R=0;const O=this.points,I=O.length;for(let F=0;F<I;F+=2){const z=O[F],L=O[F+1],U=O[(F+2)%I],q=O[(F+3)%I];R+=(U-z)*(q+L)}return R<0}containsPolygon(R){const O=this.getBounds(tempRect$3),I=R.getBounds(tempRect2);if(!O.containsRect(I))return!1;const F=R.points;for(let z=0;z<F.length;z+=2){const L=F[z],U=F[z+1];if(!this.contains(L,U))return!1}return!0}clone(){const R=this.points.slice(),O=new Polygon(R);return O.closePath=this.closePath,O}contains(R,O){let I=!1;const F=this.points.length/2;for(let z=0,L=F-1;z<F;L=z++){const U=this.points[z*2],q=this.points[z*2+1],G=this.points[L*2],V=this.points[L*2+1];q>O!=V>O&&R<(G-U)*((O-q)/(V-q))+U&&(I=!I)}return I}strokeContains(R,O,I,F=.5){const z=I*I,L=z*(1-F),U=z-L,{points:q}=this,G=q.length-(this.closePath?0:2);for(let V=0;V<G;V+=2){const Z=q[V],Y=q[V+1],W=q[(V+2)%q.length],ee=q[(V+3)%q.length],ne=squaredDistanceToLineSegment(R,O,Z,Y,W,ee),ie=Math.sign((W-Z)*(O-Y)-(ee-Y)*(R-Z));if(ne<=(ie<0?U:L))return!0}return!1}getBounds(R){R||(R=new Rectangle);const O=this.points;let I=1/0,F=-1/0,z=1/0,L=-1/0;for(let U=0,q=O.length;U<q;U+=2){const G=O[U],V=O[U+1];I=G<I?G:I,F=G>F?G:F,z=V<z?V:z,L=V>L?V:L}return R.x=I,R.width=F-I,R.y=z,R.height=L-z,R}copyFrom(R){return this.points=R.points.slice(),this.closePath=R.closePath,this}copyTo(R){return R.copyFrom(this),R}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((R,O)=>`${R}, ${O}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return deprecation("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return deprecation("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const isCornerWithinStroke=(_,R,O,I,F,z,L)=>{const U=_-O,q=R-I,G=Math.sqrt(U*U+q*q);return G>=F-z&&G<=F+L};class RoundedRectangle{constructor(R=0,O=0,I=0,F=0,z=20){this.type="roundedRectangle",this.x=R,this.y=O,this.width=I,this.height=F,this.radius=z}getBounds(R){return R||(R=new Rectangle),R.x=this.x,R.y=this.y,R.width=this.width,R.height=this.height,R}clone(){return new RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)}copyFrom(R){return this.x=R.x,this.y=R.y,this.width=R.width,this.height=R.height,this}copyTo(R){return R.copyFrom(this),R}contains(R,O){if(this.width<=0||this.height<=0)return!1;if(R>=this.x&&R<=this.x+this.width&&O>=this.y&&O<=this.y+this.height){const I=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(O>=this.y+I&&O<=this.y+this.height-I||R>=this.x+I&&R<=this.x+this.width-I)return!0;let F=R-(this.x+I),z=O-(this.y+I);const L=I*I;if(F*F+z*z<=L||(F=R-(this.x+this.width-I),F*F+z*z<=L)||(z=O-(this.y+this.height-I),F*F+z*z<=L)||(F=R-(this.x+I),F*F+z*z<=L))return!0}return!1}strokeContains(R,O,I,F=.5){const{x:z,y:L,width:U,height:q,radius:G}=this,V=I*(1-F),Z=I-V,Y=z+G,W=L+G,ee=U-G*2,ne=q-G*2,ie=z+U,se=L+q;return(R>=z-V&&R<=z+Z||R>=ie-Z&&R<=ie+V)&&O>=W&&O<=W+ne||(O>=L-V&&O<=L+Z||O>=se-Z&&O<=se+V)&&R>=Y&&R<=Y+ee?!0:R<Y&&O<W&&isCornerWithinStroke(R,O,Y,W,G,Z,V)||R>ie-G&&O<W&&isCornerWithinStroke(R,O,ie-G,W,G,Z,V)||R>ie-G&&O>se-G&&isCornerWithinStroke(R,O,ie-G,se-G,G,Z,V)||R<Y&&O>se-G&&isCornerWithinStroke(R,O,Y,se-G,G,Z,V)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const cachedGroups={};function getTextureBatchBindGroup(_,R,O){let I=2166136261;for(let F=0;F<R;F++)I^=_[F].uid,I=Math.imul(I,16777619),I>>>=0;return cachedGroups[I]||generateTextureBatchBindGroup(_,R,I,O)}function generateTextureBatchBindGroup(_,R,O,I){const F={};let z=0;for(let U=0;U<I;U++){const q=U<R?_[U]:Texture.EMPTY.source;F[z++]=q.source,F[z++]=q.style}const L=new BindGroup(F);return cachedGroups[O]=L,L}class ViewableBuffer{constructor(R){typeof R=="number"?this.rawBinaryData=new ArrayBuffer(R):R instanceof Uint8Array?this.rawBinaryData=R.buffer:this.rawBinaryData=R,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(R){return this[`${R}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(R){switch(R){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${R} isn't a valid view type`)}}}function fastCopy(_,R){const O=_.byteLength/8|0,I=new Float64Array(_,0,O);new Float64Array(R,0,O).set(I);const z=_.byteLength-O*8;if(z>0){const L=new Uint8Array(_,O*8,z);new Uint8Array(R,O*8,z).set(L)}}const BLEND_TO_NPM={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var STENCIL_MODES=(_=>(_[_.DISABLED=0]="DISABLED",_[_.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",_[_.MASK_ACTIVE=2]="MASK_ACTIVE",_[_.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",_[_.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",_[_.NONE=5]="NONE",_))(STENCIL_MODES||{});function getAdjustedBlendModeBlend(_,R){return R.alphaMode==="no-premultiply-alpha"&&BLEND_TO_NPM[_]||_}const fragTemplate=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function generateIfTestSrc(_){let R="";for(let O=0;O<_;++O)O>0&&(R+=`
else `),O<_-1&&(R+=`if(test == ${O}.0){}`);return R}function checkMaxIfStatementsInShader(_,R){if(_===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const O=R.createShader(R.FRAGMENT_SHADER);try{for(;;){const I=fragTemplate.replace(/%forloop%/gi,generateIfTestSrc(_));if(R.shaderSource(O,I),R.compileShader(O),!R.getShaderParameter(O,R.COMPILE_STATUS))_=_/2|0;else break}}finally{R.deleteShader(O)}return _}let maxTexturesPerBatchCache=null;function getMaxTexturesPerBatch(){if(maxTexturesPerBatchCache)return maxTexturesPerBatchCache;const _=getTestContext();return maxTexturesPerBatchCache=_.getParameter(_.MAX_TEXTURE_IMAGE_UNITS),maxTexturesPerBatchCache=checkMaxIfStatementsInShader(maxTexturesPerBatchCache,_),_.getExtension("WEBGL_lose_context")?.loseContext(),maxTexturesPerBatchCache}class BatchTextureArray{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let R=0;R<this.count;R++){const O=this.textures[R];this.textures[R]=null,this.ids[O.uid]=null}this.count=0}}class Batch{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new BatchTextureArray,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const batchPool=[];let batchPoolIndex=0;GlobalResourceRegistry.register({clear:()=>{if(batchPool.length>0)for(const _ of batchPool)_&&_.destroy();batchPool.length=0,batchPoolIndex=0}});function getBatchFromPool(){return batchPoolIndex>0?batchPool[--batchPoolIndex]:new Batch}function returnBatchToPool(_){batchPool[batchPoolIndex++]=_}let BATCH_TICK=0;const _Batcher=class Bh{constructor(R){this.uid=uid("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],R={...Bh.defaultOptions,...R},R.maxTextures||(deprecation("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),R.maxTextures=getMaxTexturesPerBatch());const{maxTextures:O,attributesInitialSize:I,indicesInitialSize:F}=R;this.attributeBuffer=new ViewableBuffer(I*4),this.indexBuffer=new Uint16Array(F),this.maxTextures=O}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let R=0;R<this.batchIndex;R++)returnBatchToPool(this.batches[R]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(R){this._elements[this.elementSize++]=R,R._indexStart=this.indexSize,R._attributeStart=this.attributeSize,R._batcher=this,this.indexSize+=R.indexSize,this.attributeSize+=R.attributeSize*this.vertexSize}checkAndUpdateTexture(R,O){const I=R._batch.textures.ids[O._source.uid];return!I&&I!==0?!1:(R._textureId=I,R.texture=O,!0)}updateElement(R){this.dirty=!0;const O=this.attributeBuffer;R.packAsQuad?this.packQuadAttributes(R,O.float32View,O.uint32View,R._attributeStart,R._textureId):this.packAttributes(R,O.float32View,O.uint32View,R._attributeStart,R._textureId)}break(R){const O=this._elements;if(!O[this.elementStart])return;let I=getBatchFromPool(),F=I.textures;F.clear();const z=O[this.elementStart];let L=getAdjustedBlendModeBlend(z.blendMode,z.texture._source),U=z.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const q=this.attributeBuffer.float32View,G=this.attributeBuffer.uint32View,V=this.indexBuffer;let Z=this._batchIndexSize,Y=this._batchIndexStart,W="startBatch";const ee=this.maxTextures;for(let ne=this.elementStart;ne<this.elementSize;++ne){const ie=O[ne];O[ne]=null;const oe=ie.texture._source,le=getAdjustedBlendModeBlend(ie.blendMode,oe),ue=L!==le||U!==ie.topology;if(oe._batchTick===BATCH_TICK&&!ue){ie._textureId=oe._textureBindLocation,Z+=ie.indexSize,ie.packAsQuad?(this.packQuadAttributes(ie,q,G,ie._attributeStart,ie._textureId),this.packQuadIndex(V,ie._indexStart,ie._attributeStart/this.vertexSize)):(this.packAttributes(ie,q,G,ie._attributeStart,ie._textureId),this.packIndex(ie,V,ie._indexStart,ie._attributeStart/this.vertexSize)),ie._batch=I;continue}oe._batchTick=BATCH_TICK,(F.count>=ee||ue)&&(this._finishBatch(I,Y,Z-Y,F,L,U,R,W),W="renderBatch",Y=Z,L=le,U=ie.topology,I=getBatchFromPool(),F=I.textures,F.clear(),++BATCH_TICK),ie._textureId=oe._textureBindLocation=F.count,F.ids[oe.uid]=F.count,F.textures[F.count++]=oe,ie._batch=I,Z+=ie.indexSize,ie.packAsQuad?(this.packQuadAttributes(ie,q,G,ie._attributeStart,ie._textureId),this.packQuadIndex(V,ie._indexStart,ie._attributeStart/this.vertexSize)):(this.packAttributes(ie,q,G,ie._attributeStart,ie._textureId),this.packIndex(ie,V,ie._indexStart,ie._attributeStart/this.vertexSize))}F.count>0&&(this._finishBatch(I,Y,Z-Y,F,L,U,R,W),Y=Z,++BATCH_TICK),this.elementStart=this.elementSize,this._batchIndexStart=Y,this._batchIndexSize=Z}_finishBatch(R,O,I,F,z,L,U,q){R.gpuBindGroup=null,R.bindGroup=null,R.action=q,R.batcher=this,R.textures=F,R.blendMode=z,R.topology=L,R.start=O,R.size=I,++BATCH_TICK,this.batches[this.batchIndex++]=R,U.add(R)}finish(R){this.break(R)}ensureAttributeBuffer(R){R*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(R*4)}ensureIndexBuffer(R){R<=this.indexBuffer.length||this._resizeIndexBuffer(R)}_resizeAttributeBuffer(R){const O=Math.max(R,this.attributeBuffer.size*2),I=new ViewableBuffer(O);fastCopy(this.attributeBuffer.rawBinaryData,I.rawBinaryData),this.attributeBuffer=I}_resizeIndexBuffer(R){const O=this.indexBuffer;let I=Math.max(R,O.length*1.5);I+=I%2;const F=I>65535?new Uint32Array(I):new Uint16Array(I);if(F.BYTES_PER_ELEMENT!==O.BYTES_PER_ELEMENT)for(let z=0;z<O.length;z++)F[z]=O[z];else fastCopy(O.buffer,F.buffer);this.indexBuffer=F}packQuadIndex(R,O,I){R[O]=I+0,R[O+1]=I+1,R[O+2]=I+2,R[O+3]=I+0,R[O+4]=I+2,R[O+5]=I+3}packIndex(R,O,I,F){const z=R.indices,L=R.indexSize,U=R.indexOffset,q=R.attributeOffset;for(let G=0;G<L;G++)O[I++]=F+z[G+U]-q}destroy(R={}){if(this.batches!==null){for(let O=0;O<this.batches.length;O++)returnBatchToPool(this.batches[O]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,R.shader&&(this.shader?.destroy(),this.shader=null);for(let O=0;O<this._elements.length;O++)this._elements[O]&&(this._elements[O]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};_Batcher.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Batcher=_Batcher;var BufferUsage=(_=>(_[_.MAP_READ=1]="MAP_READ",_[_.MAP_WRITE=2]="MAP_WRITE",_[_.COPY_SRC=4]="COPY_SRC",_[_.COPY_DST=8]="COPY_DST",_[_.INDEX=16]="INDEX",_[_.VERTEX=32]="VERTEX",_[_.UNIFORM=64]="UNIFORM",_[_.STORAGE=128]="STORAGE",_[_.INDIRECT=256]="INDIRECT",_[_.QUERY_RESOLVE=512]="QUERY_RESOLVE",_[_.STATIC=1024]="STATIC",_))(BufferUsage||{});let Buffer$1=class extends EventEmitter{constructor(R){let{data:O,size:I}=R;const{usage:F,label:z,shrinkToFit:L}=R;super(),this.uid=uid("buffer"),this._resourceType="buffer",this._resourceId=uid("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,O instanceof Array&&(O=new Float32Array(O)),this._data=O,I??(I=O?.byteLength);const U=!!O;this.descriptor={size:I,usage:F,mappedAtCreation:U,label:z},this.shrinkToFit=L??!0}get data(){return this._data}set data(R){this.setDataWithSize(R,R.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&BufferUsage.STATIC)}set static(R){R?this.descriptor.usage|=BufferUsage.STATIC:this.descriptor.usage&=~BufferUsage.STATIC}setDataWithSize(R,O,I){if(this._updateID++,this._updateSize=O*R.BYTES_PER_ELEMENT,this._data===R){I&&this.emit("update",this);return}const F=this._data;if(this._data=R,this._dataInt32=null,!F||F.length!==R.length){!this.shrinkToFit&&F&&R.byteLength<F.byteLength?I&&this.emit("update",this):(this.descriptor.size=R.byteLength,this._resourceId=uid("resource"),this.emit("change",this));return}I&&this.emit("update",this)}update(R){this._updateSize=R??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}};function ensureIsBuffer(_,R){if(!(_ instanceof Buffer$1)){let O=R?BufferUsage.INDEX:BufferUsage.VERTEX;_ instanceof Array&&(R?(_=new Uint32Array(_),O=BufferUsage.INDEX|BufferUsage.COPY_DST):(_=new Float32Array(_),O=BufferUsage.VERTEX|BufferUsage.COPY_DST)),_=new Buffer$1({data:_,label:R?"index-mesh-buffer":"vertex-mesh-buffer",usage:O})}return _}function getGeometryBounds(_,R,O){const I=_.getAttribute(R);if(!I)return O.minX=0,O.minY=0,O.maxX=0,O.maxY=0,O;const F=I.buffer.data;let z=1/0,L=1/0,U=-1/0,q=-1/0;const G=F.BYTES_PER_ELEMENT,V=(I.offset||0)/G,Z=(I.stride||8)/G;for(let Y=V;Y<F.length;Y+=Z){const W=F[Y],ee=F[Y+1];W>U&&(U=W),ee>q&&(q=ee),W<z&&(z=W),ee<L&&(L=ee)}return O.minX=z,O.minY=L,O.maxX=U,O.maxY=q,O}function ensureIsAttribute(_){return(_ instanceof Buffer$1||Array.isArray(_)||_.BYTES_PER_ELEMENT)&&(_={buffer:_}),_.buffer=ensureIsBuffer(_.buffer,!1),_}class Geometry extends EventEmitter{constructor(R={}){super(),this.uid=uid("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Bounds,this._boundsDirty=!0;const{attributes:O,indexBuffer:I,topology:F}=R;if(this.buffers=[],this.attributes={},O)for(const z in O)this.addAttribute(z,O[z]);this.instanceCount=R.instanceCount??1,I&&this.addIndex(I),this.topology=F||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(R){return this.attributes[R]}getIndex(){return this.indexBuffer}getBuffer(R){return this.getAttribute(R).buffer}getSize(){for(const R in this.attributes){const O=this.attributes[R];return O.buffer.data.length/(O.stride/4||O.size)}return 0}addAttribute(R,O){const I=ensureIsAttribute(O);this.buffers.indexOf(I.buffer)===-1&&(this.buffers.push(I.buffer),I.buffer.on("update",this.onBufferUpdate,this),I.buffer.on("change",this.onBufferUpdate,this)),this.attributes[R]=I}addIndex(R){this.indexBuffer=ensureIsBuffer(R,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,getGeometryBounds(this,"aPosition",this._bounds)):this._bounds}destroy(R=!1){this.emit("destroy",this),this.removeAllListeners(),R&&this.buffers.forEach(O=>O.destroy()),this.indexBuffer?.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const placeHolderBufferData=new Float32Array(1),placeHolderIndexData=new Uint32Array(1);class BatchGeometry extends Geometry{constructor(){const O=new Buffer$1({data:placeHolderBufferData,label:"attribute-batch-buffer",usage:BufferUsage.VERTEX|BufferUsage.COPY_DST,shrinkToFit:!1}),I=new Buffer$1({data:placeHolderIndexData,label:"index-batch-buffer",usage:BufferUsage.INDEX|BufferUsage.COPY_DST,shrinkToFit:!1}),F=24;super({attributes:{aPosition:{buffer:O,format:"float32x2",stride:F,offset:0},aUV:{buffer:O,format:"float32x2",stride:F,offset:8},aColor:{buffer:O,format:"unorm8x4",stride:F,offset:16},aTextureIdAndRound:{buffer:O,format:"uint16x2",stride:F,offset:20}},indexBuffer:I})}}function addBits(_,R,O){if(_)for(const I in _){const F=I.toLocaleLowerCase(),z=R[F];if(z){let L=_[I];I==="header"&&(L=L.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),O&&z.push(`//----${O}----//`),z.push(L)}else warn$1(`${I} placement hook does not exist in shader`)}}const findHooksRx=/\{\{(.*?)\}\}/g;function compileHooks(_){const R={};return(_.match(findHooksRx)?.map(I=>I.replace(/[{()}]/g,""))??[]).forEach(I=>{R[I]=[]}),R}function extractInputs(_,R){let O;const I=/@in\s+([^;]+);/g;for(;(O=I.exec(_))!==null;)R.push(O[1])}function compileInputs(_,R,O=!1){const I=[];extractInputs(R,I),_.forEach(U=>{U.header&&extractInputs(U.header,I)});const F=I;O&&F.sort();const z=F.map((U,q)=>`       @location(${q}) ${U},`).join(`
`);let L=R.replace(/@in\s+[^;]+;\s*/g,"");return L=L.replace("{{in}}",`
${z}
`),L}function extractOutputs(_,R){let O;const I=/@out\s+([^;]+);/g;for(;(O=I.exec(_))!==null;)R.push(O[1])}function extractVariableName(_){const O=/\b(\w+)\s*:/g.exec(_);return O?O[1]:""}function stripVariable(_){const R=/@.*?\s+/g;return _.replace(R,"")}function compileOutputs(_,R){const O=[];extractOutputs(R,O),_.forEach(q=>{q.header&&extractOutputs(q.header,O)});let I=0;const F=O.sort().map(q=>q.indexOf("builtin")>-1?q:`@location(${I++}) ${q}`).join(`,
`),z=O.sort().map(q=>`       var ${stripVariable(q)};`).join(`
`),L=`return VSOutput(
            ${O.sort().map(q=>` ${extractVariableName(q)}`).join(`,
`)});`;let U=R.replace(/@out\s+[^;]+;\s*/g,"");return U=U.replace("{{struct}}",`
${F}
`),U=U.replace("{{start}}",`
${z}
`),U=U.replace("{{return}}",`
${L}
`),U}function injectBits(_,R){let O=_;for(const I in R){const F=R[I];F.join(`
`).length?O=O.replace(`{{${I}}}`,`//-----${I} START-----//
${F.join(`
`)}
//----${I} FINISH----//`):O=O.replace(`{{${I}}}`,"")}return O}const cacheMap=Object.create(null),bitCacheMap=new Map;let CACHE_UID=0;function compileHighShader({template:_,bits:R}){const O=generateCacheId(_,R);if(cacheMap[O])return cacheMap[O];const{vertex:I,fragment:F}=compileInputsAndOutputs(_,R);return cacheMap[O]=compileBits(I,F,R),cacheMap[O]}function compileHighShaderGl({template:_,bits:R}){const O=generateCacheId(_,R);return cacheMap[O]||(cacheMap[O]=compileBits(_.vertex,_.fragment,R)),cacheMap[O]}function compileInputsAndOutputs(_,R){const O=R.map(L=>L.vertex).filter(L=>!!L),I=R.map(L=>L.fragment).filter(L=>!!L);let F=compileInputs(O,_.vertex,!0);F=compileOutputs(O,F);const z=compileInputs(I,_.fragment,!0);return{vertex:F,fragment:z}}function generateCacheId(_,R){return R.map(O=>(bitCacheMap.has(O)||bitCacheMap.set(O,CACHE_UID++),bitCacheMap.get(O))).sort((O,I)=>O-I).join("-")+_.vertex+_.fragment}function compileBits(_,R,O){const I=compileHooks(_),F=compileHooks(R);return O.forEach(z=>{addBits(z.vertex,I,z.name),addBits(z.fragment,F,z.name)}),{vertex:injectBits(_,I),fragment:injectBits(R,F)}}const vertexGPUTemplate=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,fragmentGPUTemplate=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,vertexGlTemplate=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,fragmentGlTemplate=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,globalUniformsBit={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},globalUniformsBitGl={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function compileHighShaderGpuProgram({bits:_,name:R}){const O=compileHighShader({template:{fragment:fragmentGPUTemplate,vertex:vertexGPUTemplate},bits:[globalUniformsBit,..._]});return GpuProgram.from({name:R,vertex:{source:O.vertex,entryPoint:"main"},fragment:{source:O.fragment,entryPoint:"main"}})}function compileHighShaderGlProgram({bits:_,name:R}){return new GlProgram({name:R,...compileHighShaderGl({template:{vertex:vertexGlTemplate,fragment:fragmentGlTemplate},bits:[globalUniformsBitGl,..._]})})}const colorBit={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},colorBitGl={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},textureBatchBitGpuCache={};function generateBindingSrc(_){const R=[];if(_===1)R.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),R.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let O=0;for(let I=0;I<_;I++)R.push(`@group(1) @binding(${O++}) var textureSource${I+1}: texture_2d<f32>;`),R.push(`@group(1) @binding(${O++}) var textureSampler${I+1}: sampler;`)}return R.join(`
`)}function generateSampleSrc(_){const R=[];if(_===1)R.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{R.push("switch vTextureId {");for(let O=0;O<_;O++)O===_-1?R.push("  default:{"):R.push(`  case ${O}:{`),R.push(`      outColor = textureSampleGrad(textureSource${O+1}, textureSampler${O+1}, vUV, uvDx, uvDy);`),R.push("      break;}");R.push("}")}return R.join(`
`)}function generateTextureBatchBit(_){return textureBatchBitGpuCache[_]||(textureBatchBitGpuCache[_]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${generateBindingSrc(_)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${generateSampleSrc(_)}
            `}}),textureBatchBitGpuCache[_]}const textureBatchBitGlCache={};function generateSampleGlSrc(_){const R=[];for(let O=0;O<_;O++)O>0&&R.push("else"),O<_-1&&R.push(`if(vTextureId < ${O}.5)`),R.push("{"),R.push(`	outColor = texture(uTextures[${O}], vUV);`),R.push("}");return R.join(`
`)}function generateTextureBatchBitGl(_){return textureBatchBitGlCache[_]||(textureBatchBitGlCache[_]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${_}];

            `,main:`

                ${generateSampleGlSrc(_)}
            `}}),textureBatchBitGlCache[_]}const roundPixelsBit={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},roundPixelsBitGl={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},batchSamplersUniformGroupHash={};function getBatchSamplersUniformGroup(_){let R=batchSamplersUniformGroupHash[_];if(R)return R;const O=new Int32Array(_);for(let I=0;I<_;I++)O[I]=I;return R=batchSamplersUniformGroupHash[_]=new UniformGroup({uTextures:{value:O,type:"i32",size:_}},{isStatic:!0}),R}class DefaultShader extends Shader{constructor(R){const O=compileHighShaderGlProgram({name:"batch",bits:[colorBitGl,generateTextureBatchBitGl(R),roundPixelsBitGl]}),I=compileHighShaderGpuProgram({name:"batch",bits:[colorBit,generateTextureBatchBit(R),roundPixelsBit]});super({glProgram:O,gpuProgram:I,resources:{batchSamplers:getBatchSamplersUniformGroup(R)}}),this.maxTextures=R}}let defaultShader=null;const _DefaultBatcher=class Fh extends Batcher{constructor(R){super(R),this.geometry=new BatchGeometry,this.name=Fh.extension.name,this.vertexSize=6,defaultShader??(defaultShader=new DefaultShader(R.maxTextures)),this.shader=defaultShader}packAttributes(R,O,I,F,z){const L=z<<16|R.roundPixels&65535,U=R.transform,q=U.a,G=U.b,V=U.c,Z=U.d,Y=U.tx,W=U.ty,{positions:ee,uvs:ne}=R,ie=R.color,se=R.attributeOffset,oe=se+R.attributeSize;for(let le=se;le<oe;le++){const ue=le*2,ce=ee[ue],fe=ee[ue+1];O[F++]=q*ce+V*fe+Y,O[F++]=Z*fe+G*ce+W,O[F++]=ne[ue],O[F++]=ne[ue+1],I[F++]=ie,I[F++]=L}}packQuadAttributes(R,O,I,F,z){const L=R.texture,U=R.transform,q=U.a,G=U.b,V=U.c,Z=U.d,Y=U.tx,W=U.ty,ee=R.bounds,ne=ee.maxX,ie=ee.minX,se=ee.maxY,oe=ee.minY,le=L.uvs,ue=R.color,ce=z<<16|R.roundPixels&65535;O[F+0]=q*ie+V*oe+Y,O[F+1]=Z*oe+G*ie+W,O[F+2]=le.x0,O[F+3]=le.y0,I[F+4]=ue,I[F+5]=ce,O[F+6]=q*ne+V*oe+Y,O[F+7]=Z*oe+G*ne+W,O[F+8]=le.x1,O[F+9]=le.y1,I[F+10]=ue,I[F+11]=ce,O[F+12]=q*ne+V*se+Y,O[F+13]=Z*se+G*ne+W,O[F+14]=le.x2,O[F+15]=le.y2,I[F+16]=ue,I[F+17]=ce,O[F+18]=q*ie+V*se+Y,O[F+19]=Z*se+G*ie+W,O[F+20]=le.x3,O[F+21]=le.y3,I[F+22]=ue,I[F+23]=ce}_updateMaxTextures(R){this.shader.maxTextures!==R&&(defaultShader=new DefaultShader(R),this.shader=defaultShader)}destroy(){this.shader=null,super.destroy()}};_DefaultBatcher.extension={type:[ExtensionType.Batcher],name:"default"};let DefaultBatcher=_DefaultBatcher;function buildUvs(_,R,O,I,F,z,L,U=null){let q=0;O*=R,F*=z;const G=U.a,V=U.b,Z=U.c,Y=U.d,W=U.tx,ee=U.ty;for(;q<L;){const ne=_[O],ie=_[O+1];I[F]=G*ne+Z*ie+W,I[F+1]=V*ne+Y*ie+ee,F+=z,O+=R,q++}}function buildSimpleUvs(_,R,O,I){let F=0;for(R*=O;F<I;)_[R]=0,_[R+1]=0,R+=O,F++}function transformVertices(_,R,O,I,F){const z=R.a,L=R.b,U=R.c,q=R.d,G=R.tx,V=R.ty;O||(O=0),I||(I=2),F||(F=_.length/I-O);let Z=O*I;for(let Y=0;Y<F;Y++){const W=_[Z],ee=_[Z+1];_[Z]=z*W+U*ee+G,_[Z+1]=L*W+q*ee+V,Z+=I}}const identityMatrix=new Matrix;class BatchableGraphics{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const R=this.baseColor,O=R>>16|R&65280|(R&255)<<16,I=this.renderable;return I?multiplyHexColors(O,I.groupColor)+(this.alpha*I.groupAlpha*255<<24):O+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||identityMatrix}copyTo(R){R.indexOffset=this.indexOffset,R.indexSize=this.indexSize,R.attributeOffset=this.attributeOffset,R.attributeSize=this.attributeSize,R.baseColor=this.baseColor,R.alpha=this.alpha,R.texture=this.texture,R.geometryData=this.geometryData,R.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const buildCircle={extension:{type:ExtensionType.ShapeBuilder,name:"circle"},build(_,R){let O,I,F,z,L,U;if(_.type==="circle"){const ue=_;if(L=U=ue.radius,L<=0)return!1;O=ue.x,I=ue.y,F=z=0}else if(_.type==="ellipse"){const ue=_;if(L=ue.halfWidth,U=ue.halfHeight,L<=0||U<=0)return!1;O=ue.x,I=ue.y,F=z=0}else{const ue=_,ce=ue.width/2,fe=ue.height/2;O=ue.x+ce,I=ue.y+fe,L=U=Math.max(0,Math.min(ue.radius,Math.min(ce,fe))),F=ce-L,z=fe-U}if(F<0||z<0)return!1;const q=Math.ceil(2.3*Math.sqrt(L+U)),G=q*8+(F?4:0)+(z?4:0);if(G===0)return!1;if(q===0)return R[0]=R[6]=O+F,R[1]=R[3]=I+z,R[2]=R[4]=O-F,R[5]=R[7]=I-z,!0;let V=0,Z=q*4+(F?2:0)+2,Y=Z,W=G,ee=F+L,ne=z,ie=O+ee,se=O-ee,oe=I+ne;if(R[V++]=ie,R[V++]=oe,R[--Z]=oe,R[--Z]=se,z){const ue=I-ne;R[Y++]=se,R[Y++]=ue,R[--W]=ue,R[--W]=ie}for(let ue=1;ue<q;ue++){const ce=Math.PI/2*(ue/q),fe=F+Math.cos(ce)*L,me=z+Math.sin(ce)*U,he=O+fe,pe=O-fe,ge=I+me,_e=I-me;R[V++]=he,R[V++]=ge,R[--Z]=ge,R[--Z]=pe,R[Y++]=pe,R[Y++]=_e,R[--W]=_e,R[--W]=he}ee=F,ne=z+U,ie=O+ee,se=O-ee,oe=I+ne;const le=I-ne;return R[V++]=ie,R[V++]=oe,R[--W]=le,R[--W]=ie,F&&(R[V++]=se,R[V++]=oe,R[--W]=le,R[--W]=se),!0},triangulate(_,R,O,I,F,z){if(_.length===0)return;let L=0,U=0;for(let V=0;V<_.length;V+=2)L+=_[V],U+=_[V+1];L/=_.length/2,U/=_.length/2;let q=I;R[q*O]=L,R[q*O+1]=U;const G=q++;for(let V=0;V<_.length;V+=2)R[q*O]=_[V],R[q*O+1]=_[V+1],V>0&&(F[z++]=q,F[z++]=G,F[z++]=q-1),q++;F[z++]=G+1,F[z++]=G,F[z++]=q-1}},buildEllipse={...buildCircle,extension:{...buildCircle.extension,name:"ellipse"}},buildRoundedRectangle={...buildCircle,extension:{...buildCircle.extension,name:"roundedRectangle"}},closePointEps=1e-4,curveEps=1e-4;function getOrientationOfPoints(_){const R=_.length;if(R<6)return 1;let O=0;for(let I=0,F=_[R-2],z=_[R-1];I<R;I+=2){const L=_[I],U=_[I+1];O+=(L-F)*(U+z),F=L,z=U}return O<0?-1:1}function square(_,R,O,I,F,z,L,U){const q=_-O*F,G=R-I*F,V=_+O*z,Z=R+I*z;let Y,W;L?(Y=I,W=-O):(Y=-I,W=O);const ee=q+Y,ne=G+W,ie=V+Y,se=Z+W;return U.push(ee,ne),U.push(ie,se),2}function round(_,R,O,I,F,z,L,U){const q=O-_,G=I-R;let V=Math.atan2(q,G),Z=Math.atan2(F-_,z-R);U&&V<Z?V+=Math.PI*2:!U&&V>Z&&(Z+=Math.PI*2);let Y=V;const W=Z-V,ee=Math.abs(W),ne=Math.sqrt(q*q+G*G),ie=(15*ee*Math.sqrt(ne)/Math.PI>>0)+1,se=W/ie;if(Y+=se,U){L.push(_,R),L.push(O,I);for(let oe=1,le=Y;oe<ie;oe++,le+=se)L.push(_,R),L.push(_+Math.sin(le)*ne,R+Math.cos(le)*ne);L.push(_,R),L.push(F,z)}else{L.push(O,I),L.push(_,R);for(let oe=1,le=Y;oe<ie;oe++,le+=se)L.push(_+Math.sin(le)*ne,R+Math.cos(le)*ne),L.push(_,R);L.push(F,z),L.push(_,R)}return ie*2}function buildLine(_,R,O,I,F,z){const L=closePointEps;if(_.length===0)return;const U=R;let q=U.alignment;if(R.alignment!==.5){let Ne=getOrientationOfPoints(_);q=(q-.5)*Ne+.5}const G=new Point(_[0],_[1]),V=new Point(_[_.length-2],_[_.length-1]),Z=I,Y=Math.abs(G.x-V.x)<L&&Math.abs(G.y-V.y)<L;if(Z){_=_.slice(),Y&&(_.pop(),_.pop(),V.set(_[_.length-2],_[_.length-1]));const Ne=(G.x+V.x)*.5,Me=(V.y+G.y)*.5;_.unshift(Ne,Me),_.push(Ne,Me)}const W=F,ee=_.length/2;let ne=_.length;const ie=W.length/2,se=U.width/2,oe=se*se,le=U.miterLimit*U.miterLimit;let ue=_[0],ce=_[1],fe=_[2],me=_[3],he=0,pe=0,ge=-(ce-me),_e=ue-fe,ye=0,we=0,ve=Math.sqrt(ge*ge+_e*_e);ge/=ve,_e/=ve,ge*=se,_e*=se;const $e=q,be=(1-$e)*2,Ce=$e*2;Z||(U.cap==="round"?ne+=round(ue-ge*(be-Ce)*.5,ce-_e*(be-Ce)*.5,ue-ge*be,ce-_e*be,ue+ge*Ce,ce+_e*Ce,W,!0)+2:U.cap==="square"&&(ne+=square(ue,ce,ge,_e,be,Ce,!0,W))),W.push(ue-ge*be,ce-_e*be),W.push(ue+ge*Ce,ce+_e*Ce);for(let Ne=1;Ne<ee-1;++Ne){ue=_[(Ne-1)*2],ce=_[(Ne-1)*2+1],fe=_[Ne*2],me=_[Ne*2+1],he=_[(Ne+1)*2],pe=_[(Ne+1)*2+1],ge=-(ce-me),_e=ue-fe,ve=Math.sqrt(ge*ge+_e*_e),ge/=ve,_e/=ve,ge*=se,_e*=se,ye=-(me-pe),we=fe-he,ve=Math.sqrt(ye*ye+we*we),ye/=ve,we/=ve,ye*=se,we*=se;const Me=fe-ue,Te=ce-me,Re=fe-he,Se=pe-me,ze=Me*Re+Te*Se,Pe=Te*Re-Se*Me,Qe=Pe<0;if(Math.abs(Pe)<.001*Math.abs(ze)){W.push(fe-ge*be,me-_e*be),W.push(fe+ge*Ce,me+_e*Ce),ze>=0&&(U.join==="round"?ne+=round(fe,me,fe-ge*be,me-_e*be,fe-ye*be,me-we*be,W,!1)+4:ne+=2,W.push(fe-ye*Ce,me-we*Ce),W.push(fe+ye*be,me+we*be));continue}const Ze=(-ge+ue)*(-_e+me)-(-ge+fe)*(-_e+ce),Le=(-ye+he)*(-we+me)-(-ye+fe)*(-we+pe),ke=(Me*Le-Re*Ze)/Pe,Ge=(Se*Ze-Te*Le)/Pe,Ke=(ke-fe)*(ke-fe)+(Ge-me)*(Ge-me),He=fe+(ke-fe)*be,st=me+(Ge-me)*be,Ae=fe-(ke-fe)*Ce,tt=me-(Ge-me)*Ce,rt=Math.min(Me*Me+Te*Te,Re*Re+Se*Se),We=Qe?be:Ce,qe=rt+We*We*oe;Ke<=qe?U.join==="bevel"||Ke/oe>le?(Qe?(W.push(He,st),W.push(fe+ge*Ce,me+_e*Ce),W.push(He,st),W.push(fe+ye*Ce,me+we*Ce)):(W.push(fe-ge*be,me-_e*be),W.push(Ae,tt),W.push(fe-ye*be,me-we*be),W.push(Ae,tt)),ne+=2):U.join==="round"?Qe?(W.push(He,st),W.push(fe+ge*Ce,me+_e*Ce),ne+=round(fe,me,fe+ge*Ce,me+_e*Ce,fe+ye*Ce,me+we*Ce,W,!0)+4,W.push(He,st),W.push(fe+ye*Ce,me+we*Ce)):(W.push(fe-ge*be,me-_e*be),W.push(Ae,tt),ne+=round(fe,me,fe-ge*be,me-_e*be,fe-ye*be,me-we*be,W,!1)+4,W.push(fe-ye*be,me-we*be),W.push(Ae,tt)):(W.push(He,st),W.push(Ae,tt)):(W.push(fe-ge*be,me-_e*be),W.push(fe+ge*Ce,me+_e*Ce),U.join==="round"?Qe?ne+=round(fe,me,fe+ge*Ce,me+_e*Ce,fe+ye*Ce,me+we*Ce,W,!0)+2:ne+=round(fe,me,fe-ge*be,me-_e*be,fe-ye*be,me-we*be,W,!1)+2:U.join==="miter"&&Ke/oe<=le&&(Qe?(W.push(Ae,tt),W.push(Ae,tt)):(W.push(He,st),W.push(He,st)),ne+=2),W.push(fe-ye*be,me-we*be),W.push(fe+ye*Ce,me+we*Ce),ne+=2)}ue=_[(ee-2)*2],ce=_[(ee-2)*2+1],fe=_[(ee-1)*2],me=_[(ee-1)*2+1],ge=-(ce-me),_e=ue-fe,ve=Math.sqrt(ge*ge+_e*_e),ge/=ve,_e/=ve,ge*=se,_e*=se,W.push(fe-ge*be,me-_e*be),W.push(fe+ge*Ce,me+_e*Ce),Z||(U.cap==="round"?ne+=round(fe-ge*(be-Ce)*.5,me-_e*(be-Ce)*.5,fe-ge*be,me-_e*be,fe+ge*Ce,me+_e*Ce,W,!1)+2:U.cap==="square"&&(ne+=square(fe,me,ge,_e,be,Ce,!1,W)));const De=curveEps*curveEps;for(let Ne=ie;Ne<ne+ie-2;++Ne)ue=W[Ne*2],ce=W[Ne*2+1],fe=W[(Ne+1)*2],me=W[(Ne+1)*2+1],he=W[(Ne+2)*2],pe=W[(Ne+2)*2+1],!(Math.abs(ue*(me-pe)+fe*(pe-ce)+he*(ce-me))<De)&&z.push(Ne,Ne+1,Ne+2)}function buildPixelLine(_,R,O,I){const F=closePointEps;if(_.length===0)return;const z=_[0],L=_[1],U=_[_.length-2],q=_[_.length-1],G=R||Math.abs(z-U)<F&&Math.abs(L-q)<F,V=O,Z=_.length/2,Y=V.length/2;for(let W=0;W<Z;W++)V.push(_[W*2]),V.push(_[W*2+1]);for(let W=0;W<Z-1;W++)I.push(Y+W,Y+W+1);G&&I.push(Y+Z-1,Y)}function triangulateWithHoles(_,R,O,I,F,z,L){const U=earcut(_,R,2);if(!U)return;for(let G=0;G<U.length;G+=3)z[L++]=U[G]+F,z[L++]=U[G+1]+F,z[L++]=U[G+2]+F;let q=F*I;for(let G=0;G<_.length;G+=2)O[q]=_[G],O[q+1]=_[G+1],q+=I}const emptyArray=[],buildPolygon={extension:{type:ExtensionType.ShapeBuilder,name:"polygon"},build(_,R){for(let O=0;O<_.points.length;O++)R[O]=_.points[O];return!0},triangulate(_,R,O,I,F,z){triangulateWithHoles(_,emptyArray,R,O,I,F,z)}},buildRectangle={extension:{type:ExtensionType.ShapeBuilder,name:"rectangle"},build(_,R){const O=_,I=O.x,F=O.y,z=O.width,L=O.height;return z>0&&L>0?(R[0]=I,R[1]=F,R[2]=I+z,R[3]=F,R[4]=I+z,R[5]=F+L,R[6]=I,R[7]=F+L,!0):!1},triangulate(_,R,O,I,F,z){let L=0;I*=O,R[I+L]=_[0],R[I+L+1]=_[1],L+=O,R[I+L]=_[2],R[I+L+1]=_[3],L+=O,R[I+L]=_[6],R[I+L+1]=_[7],L+=O,R[I+L]=_[4],R[I+L+1]=_[5],L+=O;const U=I/O;F[z++]=U,F[z++]=U+1,F[z++]=U+2,F[z++]=U+1,F[z++]=U+3,F[z++]=U+2}},buildTriangle={extension:{type:ExtensionType.ShapeBuilder,name:"triangle"},build(_,R){return R[0]=_.x,R[1]=_.y,R[2]=_.x2,R[3]=_.y2,R[4]=_.x3,R[5]=_.y3,!0},triangulate(_,R,O,I,F,z){let L=0;I*=O,R[I+L]=_[0],R[I+L+1]=_[1],L+=O,R[I+L]=_[2],R[I+L+1]=_[3],L+=O,R[I+L]=_[4],R[I+L+1]=_[5];const U=I/O;F[z++]=U,F[z++]=U+1,F[z++]=U+2}},tempTextureMatrix$1=new Matrix,tempRect$2=new Rectangle;function generateTextureMatrix(_,R,O,I){const F=R.matrix?_.copyFrom(R.matrix).invert():_.identity();if(R.textureSpace==="local"){const L=O.getBounds(tempRect$2);R.width&&L.pad(R.width);const{x:U,y:q}=L,G=1/L.width,V=1/L.height,Z=-U*G,Y=-q*V,W=F.a,ee=F.b,ne=F.c,ie=F.d;F.a*=G,F.b*=G,F.c*=V,F.d*=V,F.tx=Z*W+Y*ne+F.tx,F.ty=Z*ee+Y*ie+F.ty}else F.translate(R.texture.frame.x,R.texture.frame.y),F.scale(1/R.texture.source.width,1/R.texture.source.height);const z=R.texture.source.style;return!(R.fill instanceof FillGradient)&&z.addressMode==="clamp-to-edge"&&(z.addressMode="repeat",z.update()),I&&F.append(tempTextureMatrix$1.copyFrom(I).invert()),F}const shapeBuilders={};extensions.handleByMap(ExtensionType.ShapeBuilder,shapeBuilders);extensions.add(buildRectangle,buildPolygon,buildTriangle,buildCircle,buildEllipse,buildRoundedRectangle);const tempRect$1=new Rectangle,tempTextureMatrix=new Matrix;function buildContextBatches(_,R){const{geometryData:O,batches:I}=R;I.length=0,O.indices.length=0,O.vertices.length=0,O.uvs.length=0;for(let F=0;F<_.instructions.length;F++){const z=_.instructions[F];if(z.action==="texture")addTextureToGeometryData(z.data,I,O);else if(z.action==="fill"||z.action==="stroke"){const L=z.action==="stroke",U=z.data.path.shapePath,q=z.data.style,G=z.data.hole;L&&G&&addShapePathToGeometryData(G.shapePath,q,!0,I,O),G&&(U.shapePrimitives[U.shapePrimitives.length-1].holes=G.shapePath.shapePrimitives),addShapePathToGeometryData(U,q,L,I,O)}}}function addTextureToGeometryData(_,R,O){const I=[],F=shapeBuilders.rectangle,z=tempRect$1;z.x=_.dx,z.y=_.dy,z.width=_.dw,z.height=_.dh;const L=_.transform;if(!F.build(z,I))return;const{vertices:U,uvs:q,indices:G}=O,V=G.length,Z=U.length/2;L&&transformVertices(I,L),F.triangulate(I,U,2,Z,G,V);const Y=_.image,W=Y.uvs;q.push(W.x0,W.y0,W.x1,W.y1,W.x3,W.y3,W.x2,W.y2);const ee=BigPool.get(BatchableGraphics);ee.indexOffset=V,ee.indexSize=G.length-V,ee.attributeOffset=Z,ee.attributeSize=U.length/2-Z,ee.baseColor=_.style,ee.alpha=_.alpha,ee.texture=Y,ee.geometryData=O,R.push(ee)}function addShapePathToGeometryData(_,R,O,I,F){const{vertices:z,uvs:L,indices:U}=F;_.shapePrimitives.forEach(({shape:q,transform:G,holes:V})=>{const Z=[],Y=shapeBuilders[q.type];if(!Y.build(q,Z))return;const W=U.length,ee=z.length/2;let ne="triangle-list";if(G&&transformVertices(Z,G),O){const le=q.closePath??!0,ue=R;ue.pixelLine?(buildPixelLine(Z,le,z,U),ne="line-list"):buildLine(Z,ue,!1,le,z,U)}else if(V){const le=[],ue=Z.slice();getHoleArrays(V).forEach(fe=>{le.push(ue.length/2),ue.push(...fe)}),triangulateWithHoles(ue,le,z,2,ee,U,W)}else Y.triangulate(Z,z,2,ee,U,W);const ie=L.length/2,se=R.texture;if(se!==Texture.WHITE){const le=generateTextureMatrix(tempTextureMatrix,R,q,G);buildUvs(z,2,ee,L,ie,2,z.length/2-ee,le)}else buildSimpleUvs(L,ie,2,z.length/2-ee);const oe=BigPool.get(BatchableGraphics);oe.indexOffset=W,oe.indexSize=U.length-W,oe.attributeOffset=ee,oe.attributeSize=z.length/2-ee,oe.baseColor=R.color,oe.alpha=R.alpha,oe.texture=se,oe.geometryData=F,oe.topology=ne,I.push(oe)})}function getHoleArrays(_){const R=[];for(let O=0;O<_.length;O++){const I=_[O].shape,F=[];shapeBuilders[I.type].build(I,F)&&R.push(F)}return R}class GpuGraphicsContext{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class GraphicsContextRenderData{constructor(){this.instructions=new InstructionSet}init(R){const O=R.maxTextures;this.batcher?this.batcher._updateMaxTextures(O):this.batcher=new DefaultBatcher({maxTextures:O}),this.instructions.reset()}get geometry(){return deprecation(v8_3_4,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const _GraphicsContextSystem=class Bu{constructor(R){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=R,R.renderableGC.addManagedHash(this,"_gpuContextHash"),R.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(R){Bu.defaultOptions.bezierSmoothness=R?.bezierSmoothness??Bu.defaultOptions.bezierSmoothness}getContextRenderData(R){return this._graphicsDataContextHash[R.uid]||this._initContextRenderData(R)}updateGpuContext(R){let O=this._gpuContextHash[R.uid]||this._initContext(R);if(R.dirty){O?this._cleanGraphicsContextData(R):O=this._initContext(R),buildContextBatches(R,O);const I=R.batchMode;R.customShader||I==="no-batch"?O.isBatchable=!1:I==="auto"?O.isBatchable=O.geometryData.vertices.length<400:O.isBatchable=!0,R.dirty=!1}return O}getGpuContext(R){return this._gpuContextHash[R.uid]||this._initContext(R)}_initContextRenderData(R){const O=BigPool.get(GraphicsContextRenderData,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:I,geometryData:F}=this._gpuContextHash[R.uid],z=F.vertices.length,L=F.indices.length;for(let V=0;V<I.length;V++)I[V].applyTransform=!1;const U=O.batcher;U.ensureAttributeBuffer(z),U.ensureIndexBuffer(L),U.begin();for(let V=0;V<I.length;V++){const Z=I[V];U.add(Z)}U.finish(O.instructions);const q=U.geometry;q.indexBuffer.setDataWithSize(U.indexBuffer,U.indexSize,!0),q.buffers[0].setDataWithSize(U.attributeBuffer.float32View,U.attributeSize,!0);const G=U.batches;for(let V=0;V<G.length;V++){const Z=G[V];Z.bindGroup=getTextureBatchBindGroup(Z.textures.textures,Z.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[R.uid]=O,O}_initContext(R){const O=new GpuGraphicsContext;return O.context=R,this._gpuContextHash[R.uid]=O,R.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[R.uid]}onGraphicsContextDestroy(R){this._cleanGraphicsContextData(R),R.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[R.uid]=null}_cleanGraphicsContextData(R){const O=this._gpuContextHash[R.uid];O.isBatchable||this._graphicsDataContextHash[R.uid]&&(BigPool.return(this.getContextRenderData(R)),this._graphicsDataContextHash[R.uid]=null),O.batches&&O.batches.forEach(I=>{BigPool.return(I)})}destroy(){for(const R in this._gpuContextHash)this._gpuContextHash[R]&&this.onGraphicsContextDestroy(this._gpuContextHash[R].context);this._gpuContextHash={},this._graphicsDataContextHash={},this._renderer=null}};_GraphicsContextSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem,ExtensionType.CanvasSystem],name:"graphicsContext"};_GraphicsContextSystem.defaultOptions={bezierSmoothness:.5};let GraphicsContextSystem=_GraphicsContextSystem;const RECURSION_LIMIT$1=8,FLT_EPSILON$1=11920929e-14,PATH_DISTANCE_EPSILON$1=1;function buildAdaptiveBezier(_,R,O,I,F,z,L,U,q,G){const Z=Math.min(.99,Math.max(0,G??GraphicsContextSystem.defaultOptions.bezierSmoothness));let Y=(PATH_DISTANCE_EPSILON$1-Z)/1;return Y*=Y,begin$1(R,O,I,F,z,L,U,q,_,Y),_}function begin$1(_,R,O,I,F,z,L,U,q,G){recursive$1(_,R,O,I,F,z,L,U,q,G,0),q.push(L,U)}function recursive$1(_,R,O,I,F,z,L,U,q,G,V){if(V>RECURSION_LIMIT$1)return;const Z=(_+O)/2,Y=(R+I)/2,W=(O+F)/2,ee=(I+z)/2,ne=(F+L)/2,ie=(z+U)/2,se=(Z+W)/2,oe=(Y+ee)/2,le=(W+ne)/2,ue=(ee+ie)/2,ce=(se+le)/2,fe=(oe+ue)/2;if(V>0){let me=L-_,he=U-R;const pe=Math.abs((O-L)*he-(I-U)*me),ge=Math.abs((F-L)*he-(z-U)*me);if(pe>FLT_EPSILON$1&&ge>FLT_EPSILON$1){if((pe+ge)*(pe+ge)<=G*(me*me+he*he)){q.push(ce,fe);return}}else if(pe>FLT_EPSILON$1){if(pe*pe<=G*(me*me+he*he)){q.push(ce,fe);return}}else if(ge>FLT_EPSILON$1){if(ge*ge<=G*(me*me+he*he)){q.push(ce,fe);return}}else if(me=ce-(_+L)/2,he=fe-(R+U)/2,me*me+he*he<=G){q.push(ce,fe);return}}recursive$1(_,R,Z,Y,se,oe,ce,fe,q,G,V+1),recursive$1(ce,fe,le,ue,ne,ie,L,U,q,G,V+1)}const RECURSION_LIMIT=8,FLT_EPSILON=11920929e-14,PATH_DISTANCE_EPSILON=1;function buildAdaptiveQuadratic(_,R,O,I,F,z,L,U){const G=Math.min(.99,Math.max(0,U??GraphicsContextSystem.defaultOptions.bezierSmoothness));let V=(PATH_DISTANCE_EPSILON-G)/1;return V*=V,begin(R,O,I,F,z,L,_,V),_}function begin(_,R,O,I,F,z,L,U){recursive(L,_,R,O,I,F,z,U,0),L.push(F,z)}function recursive(_,R,O,I,F,z,L,U,q){if(q>RECURSION_LIMIT)return;const G=(R+I)/2,V=(O+F)/2,Z=(I+z)/2,Y=(F+L)/2,W=(G+Z)/2,ee=(V+Y)/2;let ne=z-R,ie=L-O;const se=Math.abs((I-z)*ie-(F-L)*ne);if(se>FLT_EPSILON){if(se*se<=U*(ne*ne+ie*ie)){_.push(W,ee);return}}else if(ne=W-(R+z)/2,ie=ee-(O+L)/2,ne*ne+ie*ie<=U){_.push(W,ee);return}recursive(_,R,O,G,V,W,ee,U,q+1),recursive(_,W,ee,Z,Y,z,L,U,q+1)}function buildArc(_,R,O,I,F,z,L,U){let q=Math.abs(F-z);(!L&&F>z||L&&z>F)&&(q=2*Math.PI-q),U||(U=Math.max(6,Math.floor(6*Math.pow(I,1/3)*(q/Math.PI)))),U=Math.max(U,3);let G=q/U,V=F;G*=L?-1:1;for(let Z=0;Z<U+1;Z++){const Y=Math.cos(V),W=Math.sin(V),ee=R+Y*I,ne=O+W*I;_.push(ee,ne),V+=G}}function buildArcTo(_,R,O,I,F,z){const L=_[_.length-2],q=_[_.length-1]-O,G=L-R,V=F-O,Z=I-R,Y=Math.abs(q*Z-G*V);if(Y<1e-8||z===0){(_[_.length-2]!==R||_[_.length-1]!==O)&&_.push(R,O);return}const W=q*q+G*G,ee=V*V+Z*Z,ne=q*V+G*Z,ie=z*Math.sqrt(W)/Y,se=z*Math.sqrt(ee)/Y,oe=ie*ne/W,le=se*ne/ee,ue=ie*Z+se*G,ce=ie*V+se*q,fe=G*(se+oe),me=q*(se+oe),he=Z*(ie+le),pe=V*(ie+le),ge=Math.atan2(me-ce,fe-ue),_e=Math.atan2(pe-ce,he-ue);buildArc(_,ue+R,ce+O,z,ge,_e,G*V>Z*q)}const TAU=Math.PI*2,out={centerX:0,centerY:0,ang1:0,ang2:0},mapToEllipse=({x:_,y:R},O,I,F,z,L,U,q)=>{_*=O,R*=I;const G=F*_-z*R,V=z*_+F*R;return q.x=G+L,q.y=V+U,q};function approxUnitArc(_,R){const O=R===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(R/4),I=R===1.5707963267948966?.551915024494:O,F=Math.cos(_),z=Math.sin(_),L=Math.cos(_+R),U=Math.sin(_+R);return[{x:F-z*I,y:z+F*I},{x:L+U*I,y:U-L*I},{x:L,y:U}]}const vectorAngle=(_,R,O,I)=>{const F=_*I-R*O<0?-1:1;let z=_*O+R*I;return z>1&&(z=1),z<-1&&(z=-1),F*Math.acos(z)},getArcCenter=(_,R,O,I,F,z,L,U,q,G,V,Z,Y)=>{const W=Math.pow(F,2),ee=Math.pow(z,2),ne=Math.pow(V,2),ie=Math.pow(Z,2);let se=W*ee-W*ie-ee*ne;se<0&&(se=0),se/=W*ie+ee*ne,se=Math.sqrt(se)*(L===U?-1:1);const oe=se*F/z*Z,le=se*-z/F*V,ue=G*oe-q*le+(_+O)/2,ce=q*oe+G*le+(R+I)/2,fe=(V-oe)/F,me=(Z-le)/z,he=(-V-oe)/F,pe=(-Z-le)/z,ge=vectorAngle(1,0,fe,me);let _e=vectorAngle(fe,me,he,pe);U===0&&_e>0&&(_e-=TAU),U===1&&_e<0&&(_e+=TAU),Y.centerX=ue,Y.centerY=ce,Y.ang1=ge,Y.ang2=_e};function buildArcToSvg(_,R,O,I,F,z,L,U=0,q=0,G=0){if(z===0||L===0)return;const V=Math.sin(U*TAU/360),Z=Math.cos(U*TAU/360),Y=Z*(R-I)/2+V*(O-F)/2,W=-V*(R-I)/2+Z*(O-F)/2;if(Y===0&&W===0)return;z=Math.abs(z),L=Math.abs(L);const ee=Math.pow(Y,2)/Math.pow(z,2)+Math.pow(W,2)/Math.pow(L,2);ee>1&&(z*=Math.sqrt(ee),L*=Math.sqrt(ee)),getArcCenter(R,O,I,F,z,L,q,G,V,Z,Y,W,out);let{ang1:ne,ang2:ie}=out;const{centerX:se,centerY:oe}=out;let le=Math.abs(ie)/(TAU/4);Math.abs(1-le)<1e-7&&(le=1);const ue=Math.max(Math.ceil(le),1);ie/=ue;let ce=_[_.length-2],fe=_[_.length-1];const me={x:0,y:0};for(let he=0;he<ue;he++){const pe=approxUnitArc(ne,ie),{x:ge,y:_e}=mapToEllipse(pe[0],z,L,Z,V,se,oe,me),{x:ye,y:we}=mapToEllipse(pe[1],z,L,Z,V,se,oe,me),{x:ve,y:$e}=mapToEllipse(pe[2],z,L,Z,V,se,oe,me);buildAdaptiveBezier(_,ce,fe,ge,_e,ye,we,ve,$e),ce=ve,fe=$e,ne+=ie}}function roundedShapeArc(_,R,O){const I=(L,U)=>{const q=U.x-L.x,G=U.y-L.y,V=Math.sqrt(q*q+G*G),Z=q/V,Y=G/V;return{len:V,nx:Z,ny:Y}},F=(L,U)=>{L===0?_.moveTo(U.x,U.y):_.lineTo(U.x,U.y)};let z=R[R.length-1];for(let L=0;L<R.length;L++){const U=R[L%R.length],q=U.radius??O;if(q<=0){F(L,U),z=U;continue}const G=R[(L+1)%R.length],V=I(U,z),Z=I(U,G);if(V.len<1e-4||Z.len<1e-4){F(L,U),z=U;continue}let Y=Math.asin(V.nx*Z.ny-V.ny*Z.nx),W=1,ee=!1;V.nx*Z.nx-V.ny*-Z.ny<0?Y<0?Y=Math.PI+Y:(Y=Math.PI-Y,W=-1,ee=!0):Y>0&&(W=-1,ee=!0);const ne=Y/2;let ie,se=Math.abs(Math.cos(ne)*q/Math.sin(ne));se>Math.min(V.len/2,Z.len/2)?(se=Math.min(V.len/2,Z.len/2),ie=Math.abs(se*Math.sin(ne)/Math.cos(ne))):ie=q;const oe=U.x+Z.nx*se+-Z.ny*ie*W,le=U.y+Z.ny*se+Z.nx*ie*W,ue=Math.atan2(V.ny,V.nx)+Math.PI/2*W,ce=Math.atan2(Z.ny,Z.nx)-Math.PI/2*W;L===0&&_.moveTo(oe+Math.cos(ue)*ie,le+Math.sin(ue)*ie),_.arc(oe,le,ie,ue,ce,ee),z=U}}function roundedShapeQuadraticCurve(_,R,O,I){const F=(U,q)=>Math.sqrt((U.x-q.x)**2+(U.y-q.y)**2),z=(U,q,G)=>({x:U.x+(q.x-U.x)*G,y:U.y+(q.y-U.y)*G}),L=R.length;for(let U=0;U<L;U++){const q=R[(U+1)%L],G=q.radius??O;if(G<=0){U===0?_.moveTo(q.x,q.y):_.lineTo(q.x,q.y);continue}const V=R[U],Z=R[(U+2)%L],Y=F(V,q);let W;if(Y<1e-4)W=q;else{const ie=Math.min(Y/2,G);W=z(q,V,ie/Y)}const ee=F(Z,q);let ne;if(ee<1e-4)ne=q;else{const ie=Math.min(ee/2,G);ne=z(q,Z,ie/ee)}U===0?_.moveTo(W.x,W.y):_.lineTo(W.x,W.y),_.quadraticCurveTo(q.x,q.y,ne.x,ne.y,I)}}const tempRectangle=new Rectangle;class ShapePath{constructor(R){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Bounds,this._graphicsPath2D=R,this.signed=R.checkForHoles}moveTo(R,O){return this.startPoly(R,O),this}lineTo(R,O){this._ensurePoly();const I=this._currentPoly.points,F=I[I.length-2],z=I[I.length-1];return(F!==R||z!==O)&&I.push(R,O),this}arc(R,O,I,F,z,L){this._ensurePoly(!1);const U=this._currentPoly.points;return buildArc(U,R,O,I,F,z,L),this}arcTo(R,O,I,F,z){this._ensurePoly();const L=this._currentPoly.points;return buildArcTo(L,R,O,I,F,z),this}arcToSvg(R,O,I,F,z,L,U){const q=this._currentPoly.points;return buildArcToSvg(q,this._currentPoly.lastX,this._currentPoly.lastY,L,U,R,O,I,F,z),this}bezierCurveTo(R,O,I,F,z,L,U){this._ensurePoly();const q=this._currentPoly;return buildAdaptiveBezier(this._currentPoly.points,q.lastX,q.lastY,R,O,I,F,z,L,U),this}quadraticCurveTo(R,O,I,F,z){this._ensurePoly();const L=this._currentPoly;return buildAdaptiveQuadratic(this._currentPoly.points,L.lastX,L.lastY,R,O,I,F,z),this}closePath(){return this.endPoly(!0),this}addPath(R,O){this.endPoly(),O&&!O.isIdentity()&&(R=R.clone(!0),R.transform(O));const I=this.shapePrimitives,F=I.length;for(let z=0;z<R.instructions.length;z++){const L=R.instructions[z];this[L.action](...L.data)}if(R.checkForHoles&&I.length-F>1){let z=null;for(let L=F;L<I.length;L++){const U=I[L];if(U.shape.type==="polygon"){const q=U.shape,G=z?.shape;G&&G.containsPolygon(q)?(z.holes||(z.holes=[]),z.holes.push(U),I.copyWithin(L,L+1),I.length--,L--):z=U}}}return this}finish(R=!1){this.endPoly(R)}rect(R,O,I,F,z){return this.drawShape(new Rectangle(R,O,I,F),z),this}circle(R,O,I,F){return this.drawShape(new Circle(R,O,I),F),this}poly(R,O,I){const F=new Polygon(R);return F.closePath=O,this.drawShape(F,I),this}regularPoly(R,O,I,F,z=0,L){F=Math.max(F|0,3);const U=-1*Math.PI/2+z,q=Math.PI*2/F,G=[];for(let V=0;V<F;V++){const Z=U-V*q;G.push(R+I*Math.cos(Z),O+I*Math.sin(Z))}return this.poly(G,!0,L),this}roundPoly(R,O,I,F,z,L=0,U){if(F=Math.max(F|0,3),z<=0)return this.regularPoly(R,O,I,F,L);const q=I*Math.sin(Math.PI/F)-.001;z=Math.min(z,q);const G=-1*Math.PI/2+L,V=Math.PI*2/F,Z=(F-2)*Math.PI/F/2;for(let Y=0;Y<F;Y++){const W=Y*V+G,ee=R+I*Math.cos(W),ne=O+I*Math.sin(W),ie=W+Math.PI+Z,se=W-Math.PI-Z,oe=ee+z*Math.cos(ie),le=ne+z*Math.sin(ie),ue=ee+z*Math.cos(se),ce=ne+z*Math.sin(se);Y===0?this.moveTo(oe,le):this.lineTo(oe,le),this.quadraticCurveTo(ee,ne,ue,ce,U)}return this.closePath()}roundShape(R,O,I=!1,F){return R.length<3?this:(I?roundedShapeQuadraticCurve(this,R,O,F):roundedShapeArc(this,R,O),this.closePath())}filletRect(R,O,I,F,z){if(z===0)return this.rect(R,O,I,F);const L=Math.min(I,F)/2,U=Math.min(L,Math.max(-L,z)),q=R+I,G=O+F,V=U<0?-U:0,Z=Math.abs(U);return this.moveTo(R,O+Z).arcTo(R+V,O+V,R+Z,O,Z).lineTo(q-Z,O).arcTo(q-V,O+V,q,O+Z,Z).lineTo(q,G-Z).arcTo(q-V,G-V,R+I-Z,G,Z).lineTo(R+Z,G).arcTo(R+V,G-V,R,G-Z,Z).closePath()}chamferRect(R,O,I,F,z,L){if(z<=0)return this.rect(R,O,I,F);const U=Math.min(z,Math.min(I,F)/2),q=R+I,G=O+F,V=[R+U,O,q-U,O,q,O+U,q,G-U,q-U,G,R+U,G,R,G-U,R,O+U];for(let Z=V.length-1;Z>=2;Z-=2)V[Z]===V[Z-2]&&V[Z-1]===V[Z-3]&&V.splice(Z-1,2);return this.poly(V,!0,L)}ellipse(R,O,I,F,z){return this.drawShape(new Ellipse(R,O,I,F),z),this}roundRect(R,O,I,F,z,L){return this.drawShape(new RoundedRectangle(R,O,I,F,z),L),this}drawShape(R,O){return this.endPoly(),this.shapePrimitives.push({shape:R,transform:O}),this}startPoly(R,O){let I=this._currentPoly;return I&&this.endPoly(),I=new Polygon,I.points.push(R,O),this._currentPoly=I,this}endPoly(R=!1){const O=this._currentPoly;return O&&O.points.length>2&&(O.closePath=R,this.shapePrimitives.push({shape:O})),this._currentPoly=null,this}_ensurePoly(R=!0){if(!this._currentPoly&&(this._currentPoly=new Polygon,R)){const O=this.shapePrimitives[this.shapePrimitives.length-1];if(O){let I=O.shape.x,F=O.shape.y;if(O.transform&&!O.transform.isIdentity()){const z=O.transform,L=I;I=z.a*I+z.c*F+z.tx,F=z.b*L+z.d*F+z.ty}this._currentPoly.points.push(I,F)}else this._currentPoly.points.push(0,0)}}buildPath(){const R=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let O=0;O<R.instructions.length;O++){const I=R.instructions[O];this[I.action](...I.data)}this.finish()}get bounds(){const R=this._bounds;R.clear();const O=this.shapePrimitives;for(let I=0;I<O.length;I++){const F=O[I],z=F.shape.getBounds(tempRectangle);F.transform?R.addRect(z,F.transform):R.addRect(z)}return R}}class GraphicsPath{constructor(R,O=!1){this.instructions=[],this.uid=uid("graphicsPath"),this._dirty=!0,this.checkForHoles=O,typeof R=="string"?parseSVGPath(R,this):this.instructions=R?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new ShapePath(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(R,O){return R=R.clone(),this.instructions.push({action:"addPath",data:[R,O]}),this._dirty=!0,this}arc(...R){return this.instructions.push({action:"arc",data:R}),this._dirty=!0,this}arcTo(...R){return this.instructions.push({action:"arcTo",data:R}),this._dirty=!0,this}arcToSvg(...R){return this.instructions.push({action:"arcToSvg",data:R}),this._dirty=!0,this}bezierCurveTo(...R){return this.instructions.push({action:"bezierCurveTo",data:R}),this._dirty=!0,this}bezierCurveToShort(R,O,I,F,z){const L=this.instructions[this.instructions.length-1],U=this.getLastPoint(Point.shared);let q=0,G=0;if(!L||L.action!=="bezierCurveTo")q=U.x,G=U.y;else{q=L.data[2],G=L.data[3];const V=U.x,Z=U.y;q=V+(V-q),G=Z+(Z-G)}return this.instructions.push({action:"bezierCurveTo",data:[q,G,R,O,I,F,z]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...R){return this.instructions.push({action:"ellipse",data:R}),this._dirty=!0,this}lineTo(...R){return this.instructions.push({action:"lineTo",data:R}),this._dirty=!0,this}moveTo(...R){return this.instructions.push({action:"moveTo",data:R}),this}quadraticCurveTo(...R){return this.instructions.push({action:"quadraticCurveTo",data:R}),this._dirty=!0,this}quadraticCurveToShort(R,O,I){const F=this.instructions[this.instructions.length-1],z=this.getLastPoint(Point.shared);let L=0,U=0;if(!F||F.action!=="quadraticCurveTo")L=z.x,U=z.y;else{L=F.data[0],U=F.data[1];const q=z.x,G=z.y;L=q+(q-L),U=G+(G-U)}return this.instructions.push({action:"quadraticCurveTo",data:[L,U,R,O,I]}),this._dirty=!0,this}rect(R,O,I,F,z){return this.instructions.push({action:"rect",data:[R,O,I,F,z]}),this._dirty=!0,this}circle(R,O,I,F){return this.instructions.push({action:"circle",data:[R,O,I,F]}),this._dirty=!0,this}roundRect(...R){return this.instructions.push({action:"roundRect",data:R}),this._dirty=!0,this}poly(...R){return this.instructions.push({action:"poly",data:R}),this._dirty=!0,this}regularPoly(...R){return this.instructions.push({action:"regularPoly",data:R}),this._dirty=!0,this}roundPoly(...R){return this.instructions.push({action:"roundPoly",data:R}),this._dirty=!0,this}roundShape(...R){return this.instructions.push({action:"roundShape",data:R}),this._dirty=!0,this}filletRect(...R){return this.instructions.push({action:"filletRect",data:R}),this._dirty=!0,this}chamferRect(...R){return this.instructions.push({action:"chamferRect",data:R}),this._dirty=!0,this}star(R,O,I,F,z,L,U){z||(z=F/2);const q=-1*Math.PI/2+L,G=I*2,V=Math.PI*2/G,Z=[];for(let Y=0;Y<G;Y++){const W=Y%2?z:F,ee=Y*V+q;Z.push(R+W*Math.cos(ee),O+W*Math.sin(ee))}return this.poly(Z,!0,U),this}clone(R=!1){const O=new GraphicsPath;if(O.checkForHoles=this.checkForHoles,!R)O.instructions=this.instructions.slice();else for(let I=0;I<this.instructions.length;I++){const F=this.instructions[I];O.instructions.push({action:F.action,data:F.data.slice()})}return O}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(R){if(R.isIdentity())return this;const O=R.a,I=R.b,F=R.c,z=R.d,L=R.tx,U=R.ty;let q=0,G=0,V=0,Z=0,Y=0,W=0,ee=0,ne=0;for(let ie=0;ie<this.instructions.length;ie++){const se=this.instructions[ie],oe=se.data;switch(se.action){case"moveTo":case"lineTo":q=oe[0],G=oe[1],oe[0]=O*q+F*G+L,oe[1]=I*q+z*G+U;break;case"bezierCurveTo":V=oe[0],Z=oe[1],Y=oe[2],W=oe[3],q=oe[4],G=oe[5],oe[0]=O*V+F*Z+L,oe[1]=I*V+z*Z+U,oe[2]=O*Y+F*W+L,oe[3]=I*Y+z*W+U,oe[4]=O*q+F*G+L,oe[5]=I*q+z*G+U;break;case"quadraticCurveTo":V=oe[0],Z=oe[1],q=oe[2],G=oe[3],oe[0]=O*V+F*Z+L,oe[1]=I*V+z*Z+U,oe[2]=O*q+F*G+L,oe[3]=I*q+z*G+U;break;case"arcToSvg":q=oe[5],G=oe[6],ee=oe[0],ne=oe[1],oe[0]=O*ee+F*ne,oe[1]=I*ee+z*ne,oe[5]=O*q+F*G+L,oe[6]=I*q+z*G+U;break;case"circle":oe[4]=adjustTransform(oe[3],R);break;case"rect":oe[4]=adjustTransform(oe[4],R);break;case"ellipse":oe[8]=adjustTransform(oe[8],R);break;case"roundRect":oe[5]=adjustTransform(oe[5],R);break;case"addPath":oe[0].transform(R);break;case"poly":oe[2]=adjustTransform(oe[2],R);break;default:warn$1("unknown transform action",se.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(R){let O=this.instructions.length-1,I=this.instructions[O];if(!I)return R.x=0,R.y=0,R;for(;I.action==="closePath";){if(O--,O<0)return R.x=0,R.y=0,R;I=this.instructions[O]}switch(I.action){case"moveTo":case"lineTo":R.x=I.data[0],R.y=I.data[1];break;case"quadraticCurveTo":R.x=I.data[2],R.y=I.data[3];break;case"bezierCurveTo":R.x=I.data[4],R.y=I.data[5];break;case"arc":case"arcToSvg":R.x=I.data[5],R.y=I.data[6];break;case"addPath":I.data[0].getLastPoint(R);break}return R}}function adjustTransform(_,R){return _?_.prepend(R):R.clone()}function parseSVGFloatAttribute(_,R,O){const I=_.getAttribute(R);return I?Number(I):O}function parseSVGDefinitions(_,R){const O=_.querySelectorAll("defs");for(let I=0;I<O.length;I++){const F=O[I];for(let z=0;z<F.children.length;z++){const L=F.children[z];switch(L.nodeName.toLowerCase()){case"lineargradient":R.defs[L.id]=parseLinearGradient(L);break;case"radialgradient":R.defs[L.id]=parseRadialGradient();break}}}}function parseLinearGradient(_){const R=parseSVGFloatAttribute(_,"x1",0),O=parseSVGFloatAttribute(_,"y1",0),I=parseSVGFloatAttribute(_,"x2",1),F=parseSVGFloatAttribute(_,"y2",0),z=_.getAttribute("gradientUnits")||"objectBoundingBox",L=new FillGradient(R,O,I,F,z==="objectBoundingBox"?"local":"global");for(let U=0;U<_.children.length;U++){const q=_.children[U],G=parseSVGFloatAttribute(q,"offset",0),V=Color$1.shared.setValue(q.getAttribute("stop-color")).toNumber();L.addColorStop(G,V)}return L}function parseRadialGradient(_){return warn$1("[SVG Parser] Radial gradients are not yet supported"),new FillGradient(0,0,1,0)}function extractSvgUrlId(_){const R=_.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return R?R[1]:""}const styleAttributes={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function parseSVGStyle(_,R){const O=_.getAttribute("style"),I={},F={},z={strokeStyle:I,fillStyle:F,useFill:!1,useStroke:!1};for(const L in styleAttributes){const U=_.getAttribute(L);U&&parseAttribute(R,z,L,U.trim())}if(O){const L=O.split(";");for(let U=0;U<L.length;U++){const q=L[U].trim(),[G,V]=q.split(":");styleAttributes[G]&&parseAttribute(R,z,G,V.trim())}}return{strokeStyle:z.useStroke?I:null,fillStyle:z.useFill?F:null,useFill:z.useFill,useStroke:z.useStroke}}function parseAttribute(_,R,O,I){switch(O){case"stroke":if(I!=="none"){if(I.startsWith("url(")){const F=extractSvgUrlId(I);R.strokeStyle.fill=_.defs[F]}else R.strokeStyle.color=Color$1.shared.setValue(I).toNumber();R.useStroke=!0}break;case"stroke-width":R.strokeStyle.width=Number(I);break;case"fill":if(I!=="none"){if(I.startsWith("url(")){const F=extractSvgUrlId(I);R.fillStyle.fill=_.defs[F]}else R.fillStyle.color=Color$1.shared.setValue(I).toNumber();R.useFill=!0}break;case"fill-opacity":R.fillStyle.alpha=Number(I);break;case"stroke-opacity":R.strokeStyle.alpha=Number(I);break;case"opacity":R.fillStyle.alpha=Number(I),R.strokeStyle.alpha=Number(I);break}}function checkForNestedPattern(_){if(_.length<=2)return!0;const R=_.map(U=>U.area).sort((U,q)=>q-U),[O,I]=R,F=R[R.length-1],z=O/I,L=I/F;return!(z>3&&L<2)}function extractSubpaths(_){return _.split(/(?=[Mm])/).filter(I=>I.trim().length>0)}function calculatePathArea(_){const R=_.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!R||R.length<4)return 0;const O=R.map(Number),I=[],F=[];for(let V=0;V<O.length;V+=2)V+1<O.length&&(I.push(O[V]),F.push(O[V+1]));if(I.length===0||F.length===0)return 0;const z=Math.min(...I),L=Math.max(...I),U=Math.min(...F),q=Math.max(...F);return(L-z)*(q-U)}function appendSVGPath(_,R){const O=new GraphicsPath(_,!1);for(const I of O.instructions)R.instructions.push(I)}function SVGParser(_,R){if(typeof _=="string"){const L=document.createElement("div");L.innerHTML=_.trim(),_=L.querySelector("svg")}const O={context:R,defs:{},path:new GraphicsPath};parseSVGDefinitions(_,O);const I=_.children,{fillStyle:F,strokeStyle:z}=parseSVGStyle(_,O);for(let L=0;L<I.length;L++){const U=I[L];U.nodeName.toLowerCase()!=="defs"&&renderChildren(U,O,F,z)}return R}function renderChildren(_,R,O,I){const F=_.children,{fillStyle:z,strokeStyle:L}=parseSVGStyle(_,R);z&&O?O={...O,...z}:z&&(O=z),L&&I?I={...I,...L}:L&&(I=L);const U=!O&&!I;U&&(O={color:0});let q,G,V,Z,Y,W,ee,ne,ie,se,oe,le,ue,ce,fe,me,he;switch(_.nodeName.toLowerCase()){case"path":{ce=_.getAttribute("d");const pe=_.getAttribute("fill-rule"),ge=extractSubpaths(ce),_e=pe==="evenodd",ye=ge.length>1;if(_e&&ye){const ve=ge.map(be=>({path:be,area:calculatePathArea(be)}));if(ve.sort((be,Ce)=>Ce.area-be.area),ge.length>3||!checkForNestedPattern(ve))for(let be=0;be<ve.length;be++){const Ce=ve[be],De=be===0;R.context.beginPath();const Ne=new GraphicsPath(void 0,!0);appendSVGPath(Ce.path,Ne),R.context.path(Ne),De?(O&&R.context.fill(O),I&&R.context.stroke(I)):R.context.cut()}else for(let be=0;be<ve.length;be++){const Ce=ve[be],De=be%2===1;R.context.beginPath();const Ne=new GraphicsPath(void 0,!0);appendSVGPath(Ce.path,Ne),R.context.path(Ne),De?R.context.cut():(O&&R.context.fill(O),I&&R.context.stroke(I))}}else{const ve=pe?pe==="evenodd":!0;fe=new GraphicsPath(ce,ve),R.context.path(fe),O&&R.context.fill(O),I&&R.context.stroke(I)}break}case"circle":ee=parseSVGFloatAttribute(_,"cx",0),ne=parseSVGFloatAttribute(_,"cy",0),ie=parseSVGFloatAttribute(_,"r",0),R.context.ellipse(ee,ne,ie,ie),O&&R.context.fill(O),I&&R.context.stroke(I);break;case"rect":q=parseSVGFloatAttribute(_,"x",0),G=parseSVGFloatAttribute(_,"y",0),me=parseSVGFloatAttribute(_,"width",0),he=parseSVGFloatAttribute(_,"height",0),se=parseSVGFloatAttribute(_,"rx",0),oe=parseSVGFloatAttribute(_,"ry",0),se||oe?R.context.roundRect(q,G,me,he,se||oe):R.context.rect(q,G,me,he),O&&R.context.fill(O),I&&R.context.stroke(I);break;case"ellipse":ee=parseSVGFloatAttribute(_,"cx",0),ne=parseSVGFloatAttribute(_,"cy",0),se=parseSVGFloatAttribute(_,"rx",0),oe=parseSVGFloatAttribute(_,"ry",0),R.context.beginPath(),R.context.ellipse(ee,ne,se,oe),O&&R.context.fill(O),I&&R.context.stroke(I);break;case"line":V=parseSVGFloatAttribute(_,"x1",0),Z=parseSVGFloatAttribute(_,"y1",0),Y=parseSVGFloatAttribute(_,"x2",0),W=parseSVGFloatAttribute(_,"y2",0),R.context.beginPath(),R.context.moveTo(V,Z),R.context.lineTo(Y,W),I&&R.context.stroke(I);break;case"polygon":ue=_.getAttribute("points"),le=ue.match(/\d+/g).map(pe=>parseInt(pe,10)),R.context.poly(le,!0),O&&R.context.fill(O),I&&R.context.stroke(I);break;case"polyline":ue=_.getAttribute("points"),le=ue.match(/\d+/g).map(pe=>parseInt(pe,10)),R.context.poly(le,!1),I&&R.context.stroke(I);break;case"g":case"svg":break;default:{warn$1(`[SVG parser] <${_.nodeName}> elements unsupported`);break}}U&&(O=null);for(let pe=0;pe<F.length;pe++)renderChildren(F[pe],R,O,I)}function isColorLike(_){return Color$1.isColorLike(_)}function isFillPattern(_){return _ instanceof FillPattern}function isFillGradient(_){return _ instanceof FillGradient}function isTexture(_){return _ instanceof Texture}function handleColorLike(_,R,O){const I=Color$1.shared.setValue(R??0);return _.color=I.toNumber(),_.alpha=I.alpha===1?O.alpha:I.alpha,_.texture=Texture.WHITE,{...O,..._}}function handleTexture(_,R,O){return _.texture=R,{...O,..._}}function handleFillPattern(_,R,O){return _.fill=R,_.color=16777215,_.texture=R.texture,_.matrix=R.transform,{...O,..._}}function handleFillGradient(_,R,O){return R.buildGradient(),_.fill=R,_.color=16777215,_.texture=R.texture,_.matrix=R.transform,_.textureSpace=R.textureSpace,{...O,..._}}function handleFillObject(_,R){const O={...R,..._},I=Color$1.shared.setValue(O.color);return O.alpha*=I.alpha,O.color=I.toNumber(),O}function toFillStyle(_,R){if(_==null)return null;const O={},I=_;return isColorLike(_)?handleColorLike(O,_,R):isTexture(_)?handleTexture(O,_,R):isFillPattern(_)?handleFillPattern(O,_,R):isFillGradient(_)?handleFillGradient(O,_,R):I.fill&&isFillPattern(I.fill)?handleFillPattern(I,I.fill,R):I.fill&&isFillGradient(I.fill)?handleFillGradient(I,I.fill,R):handleFillObject(I,R)}function toStrokeStyle(_,R){const{width:O,alignment:I,miterLimit:F,cap:z,join:L,pixelLine:U,...q}=R,G=toFillStyle(_,q);return G?{width:O,alignment:I,miterLimit:F,cap:z,join:L,pixelLine:U,...G}:null}const tmpPoint=new Point,tempMatrix=new Matrix,_GraphicsContext=class on extends EventEmitter{constructor(){super(...arguments),this.uid=uid("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new GraphicsPath,this._transform=new Matrix,this._fillStyle={...on.defaultFillStyle},this._strokeStyle={...on.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Bounds,this._boundsDirty=!0}clone(){const R=new on;return R.batchMode=this.batchMode,R.instructions=this.instructions.slice(),R._activePath=this._activePath.clone(),R._transform=this._transform.clone(),R._fillStyle={...this._fillStyle},R._strokeStyle={...this._strokeStyle},R._stateStack=this._stateStack.slice(),R._bounds=this._bounds.clone(),R._boundsDirty=!0,R}get fillStyle(){return this._fillStyle}set fillStyle(R){this._fillStyle=toFillStyle(R,on.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(R){this._strokeStyle=toStrokeStyle(R,on.defaultStrokeStyle)}setFillStyle(R){return this._fillStyle=toFillStyle(R,on.defaultFillStyle),this}setStrokeStyle(R){return this._strokeStyle=toFillStyle(R,on.defaultStrokeStyle),this}texture(R,O,I,F,z,L){return this.instructions.push({action:"texture",data:{image:R,dx:I||0,dy:F||0,dw:z||R.frame.width,dh:L||R.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:O?Color$1.shared.setValue(O).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new GraphicsPath,this}fill(R,O){let I;const F=this.instructions[this.instructions.length-1];return this._tick===0&&F?.action==="stroke"?I=F.data.path:I=this._activePath.clone(),I?(R!=null&&(O!==void 0&&typeof R=="number"&&(deprecation(v8_0_0,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),R={color:R,alpha:O}),this._fillStyle=toFillStyle(R,on.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:I}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:R,y:O}=this._activePath.getLastPoint(Point.shared);this._activePath.clear(),this._activePath.moveTo(R,O)}stroke(R){let O;const I=this.instructions[this.instructions.length-1];return this._tick===0&&I?.action==="fill"?O=I.data.path:O=this._activePath.clone(),O?(R!=null&&(this._strokeStyle=toStrokeStyle(R,on.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:O}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let R=0;R<2;R++){const O=this.instructions[this.instructions.length-1-R],I=this._activePath.clone();if(O&&(O.action==="stroke"||O.action==="fill"))if(O.data.hole)O.data.hole.addPath(I);else{O.data.hole=I;break}}return this._initNextPathLocation(),this}arc(R,O,I,F,z,L){this._tick++;const U=this._transform;return this._activePath.arc(U.a*R+U.c*O+U.tx,U.b*R+U.d*O+U.ty,I,F,z,L),this}arcTo(R,O,I,F,z){this._tick++;const L=this._transform;return this._activePath.arcTo(L.a*R+L.c*O+L.tx,L.b*R+L.d*O+L.ty,L.a*I+L.c*F+L.tx,L.b*I+L.d*F+L.ty,z),this}arcToSvg(R,O,I,F,z,L,U){this._tick++;const q=this._transform;return this._activePath.arcToSvg(R,O,I,F,z,q.a*L+q.c*U+q.tx,q.b*L+q.d*U+q.ty),this}bezierCurveTo(R,O,I,F,z,L,U){this._tick++;const q=this._transform;return this._activePath.bezierCurveTo(q.a*R+q.c*O+q.tx,q.b*R+q.d*O+q.ty,q.a*I+q.c*F+q.tx,q.b*I+q.d*F+q.ty,q.a*z+q.c*L+q.tx,q.b*z+q.d*L+q.ty,U),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(R,O,I,F){return this._tick++,this._activePath.ellipse(R,O,I,F,this._transform.clone()),this}circle(R,O,I){return this._tick++,this._activePath.circle(R,O,I,this._transform.clone()),this}path(R){return this._tick++,this._activePath.addPath(R,this._transform.clone()),this}lineTo(R,O){this._tick++;const I=this._transform;return this._activePath.lineTo(I.a*R+I.c*O+I.tx,I.b*R+I.d*O+I.ty),this}moveTo(R,O){this._tick++;const I=this._transform,F=this._activePath.instructions,z=I.a*R+I.c*O+I.tx,L=I.b*R+I.d*O+I.ty;return F.length===1&&F[0].action==="moveTo"?(F[0].data[0]=z,F[0].data[1]=L,this):(this._activePath.moveTo(z,L),this)}quadraticCurveTo(R,O,I,F,z){this._tick++;const L=this._transform;return this._activePath.quadraticCurveTo(L.a*R+L.c*O+L.tx,L.b*R+L.d*O+L.ty,L.a*I+L.c*F+L.tx,L.b*I+L.d*F+L.ty,z),this}rect(R,O,I,F){return this._tick++,this._activePath.rect(R,O,I,F,this._transform.clone()),this}roundRect(R,O,I,F,z){return this._tick++,this._activePath.roundRect(R,O,I,F,z,this._transform.clone()),this}poly(R,O){return this._tick++,this._activePath.poly(R,O,this._transform.clone()),this}regularPoly(R,O,I,F,z=0,L){return this._tick++,this._activePath.regularPoly(R,O,I,F,z,L),this}roundPoly(R,O,I,F,z,L){return this._tick++,this._activePath.roundPoly(R,O,I,F,z,L),this}roundShape(R,O,I,F){return this._tick++,this._activePath.roundShape(R,O,I,F),this}filletRect(R,O,I,F,z){return this._tick++,this._activePath.filletRect(R,O,I,F,z),this}chamferRect(R,O,I,F,z,L){return this._tick++,this._activePath.chamferRect(R,O,I,F,z,L),this}star(R,O,I,F,z=0,L=0){return this._tick++,this._activePath.star(R,O,I,F,z,L,this._transform.clone()),this}svg(R){return this._tick++,SVGParser(R,this),this}restore(){const R=this._stateStack.pop();return R&&(this._transform=R.transform,this._fillStyle=R.fillStyle,this._strokeStyle=R.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(R){return this._transform.rotate(R),this}scale(R,O=R){return this._transform.scale(R,O),this}setTransform(R,O,I,F,z,L){return R instanceof Matrix?(this._transform.set(R.a,R.b,R.c,R.d,R.tx,R.ty),this):(this._transform.set(R,O,I,F,z,L),this)}transform(R,O,I,F,z,L){return R instanceof Matrix?(this._transform.append(R),this):(tempMatrix.set(R,O,I,F,z,L),this._transform.append(tempMatrix),this)}translate(R,O=R){return this._transform.translate(R,O),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const R=this._bounds;R.clear();for(let O=0;O<this.instructions.length;O++){const I=this.instructions[O],F=I.action;if(F==="fill"){const z=I.data;R.addBounds(z.path.bounds)}else if(F==="texture"){const z=I.data;R.addFrame(z.dx,z.dy,z.dx+z.dw,z.dy+z.dh,z.transform)}if(F==="stroke"){const z=I.data,L=z.style.alignment,U=z.style.width*(1-L),q=z.path.bounds;R.addFrame(q.minX-U,q.minY-U,q.maxX+U,q.maxY+U)}}return R}containsPoint(R){if(!this.bounds.containsPoint(R.x,R.y))return!1;const O=this.instructions;let I=!1;for(let F=0;F<O.length;F++){const z=O[F],L=z.data,U=L.path;if(!z.action||!U)continue;const q=L.style,G=U.shapePath.shapePrimitives;for(let V=0;V<G.length;V++){const Z=G[V].shape;if(!q||!Z)continue;const Y=G[V].transform,W=Y?Y.applyInverse(R,tmpPoint):R;if(z.action==="fill")I=Z.contains(W.x,W.y);else{const ne=q;I=Z.strokeContains(W.x,W.y,ne.width,ne.alignment)}const ee=L.hole;if(ee){const ne=ee.shapePath?.shapePrimitives;if(ne)for(let ie=0;ie<ne.length;ie++)ne[ie].shape.contains(W.x,W.y)&&(I=!1)}if(I)return!0}}return I}destroy(R=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof R=="boolean"?R:R?.texture){const I=typeof R=="boolean"?R:R?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(I)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(I))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};_GraphicsContext.defaultFillStyle={color:16777215,alpha:1,texture:Texture.WHITE,matrix:null,fill:null,textureSpace:"local"};_GraphicsContext.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Texture.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let GraphicsContext=_GraphicsContext;const _TextStyle=class ia extends EventEmitter{constructor(R={}){super(),this.uid=uid("textStyle"),this._tick=0,convertV7Tov8Style(R);const O={...ia.defaultTextStyle,...R};for(const I in O){const F=I;this[F]=O[I]}this.update(),this._tick=0}get align(){return this._align}set align(R){this._align!==R&&(this._align=R,this.update())}get breakWords(){return this._breakWords}set breakWords(R){this._breakWords!==R&&(this._breakWords=R,this.update())}get dropShadow(){return this._dropShadow}set dropShadow(R){this._dropShadow!==R&&(R!==null&&typeof R=="object"?this._dropShadow=this._createProxy({...ia.defaultDropShadow,...R}):this._dropShadow=R?this._createProxy({...ia.defaultDropShadow}):null,this.update())}get fontFamily(){return this._fontFamily}set fontFamily(R){this._fontFamily!==R&&(this._fontFamily=R,this.update())}get fontSize(){return this._fontSize}set fontSize(R){this._fontSize!==R&&(typeof R=="string"?this._fontSize=parseInt(R,10):this._fontSize=R,this.update())}get fontStyle(){return this._fontStyle}set fontStyle(R){this._fontStyle!==R&&(this._fontStyle=R.toLowerCase(),this.update())}get fontVariant(){return this._fontVariant}set fontVariant(R){this._fontVariant!==R&&(this._fontVariant=R,this.update())}get fontWeight(){return this._fontWeight}set fontWeight(R){this._fontWeight!==R&&(this._fontWeight=R,this.update())}get leading(){return this._leading}set leading(R){this._leading!==R&&(this._leading=R,this.update())}get letterSpacing(){return this._letterSpacing}set letterSpacing(R){this._letterSpacing!==R&&(this._letterSpacing=R,this.update())}get lineHeight(){return this._lineHeight}set lineHeight(R){this._lineHeight!==R&&(this._lineHeight=R,this.update())}get padding(){return this._padding}set padding(R){this._padding!==R&&(this._padding=R,this.update())}get filters(){return this._filters}set filters(R){this._filters!==R&&(this._filters=Object.freeze(R),this.update())}get trim(){return this._trim}set trim(R){this._trim!==R&&(this._trim=R,this.update())}get textBaseline(){return this._textBaseline}set textBaseline(R){this._textBaseline!==R&&(this._textBaseline=R,this.update())}get whiteSpace(){return this._whiteSpace}set whiteSpace(R){this._whiteSpace!==R&&(this._whiteSpace=R,this.update())}get wordWrap(){return this._wordWrap}set wordWrap(R){this._wordWrap!==R&&(this._wordWrap=R,this.update())}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(R){this._wordWrapWidth!==R&&(this._wordWrapWidth=R,this.update())}get fill(){return this._originalFill}set fill(R){R!==this._originalFill&&(this._originalFill=R,this._isFillStyle(R)&&(this._originalFill=this._createProxy({...GraphicsContext.defaultFillStyle,...R},()=>{this._fill=toFillStyle({...this._originalFill},GraphicsContext.defaultFillStyle)})),this._fill=toFillStyle(R===0?"black":R,GraphicsContext.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(R){R!==this._originalStroke&&(this._originalStroke=R,this._isFillStyle(R)&&(this._originalStroke=this._createProxy({...GraphicsContext.defaultStrokeStyle,...R},()=>{this._stroke=toStrokeStyle({...this._originalStroke},GraphicsContext.defaultStrokeStyle)})),this._stroke=toStrokeStyle(R,GraphicsContext.defaultStrokeStyle),this.update())}update(){this._tick++,this.emit("update",this)}reset(){const R=ia.defaultTextStyle;for(const O in R)this[O]=R[O]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new ia({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let R=0;if(this._filters)for(let O=0;O<this._filters.length;O++)R+=this._filters[O].padding;return Math.max(this._padding,R)}destroy(R=!1){if(this.removeAllListeners(),typeof R=="boolean"?R:R?.texture){const I=typeof R=="boolean"?R:R?.textureSource;this._fill?.texture&&this._fill.texture.destroy(I),this._originalFill?.texture&&this._originalFill.texture.destroy(I),this._stroke?.texture&&this._stroke.texture.destroy(I),this._originalStroke?.texture&&this._originalStroke.texture.destroy(I)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(R,O){return new Proxy(R,{set:(I,F,z)=>(I[F]===z||(I[F]=z,O?.(F,z),this.update()),!0)})}_isFillStyle(R){return(R??null)!==null&&!(Color$1.isColorLike(R)||R instanceof FillGradient||R instanceof FillPattern)}};_TextStyle.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};_TextStyle.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let TextStyle=_TextStyle;function convertV7Tov8Style(_){const R=_;if(typeof R.dropShadow=="boolean"&&R.dropShadow){const O=TextStyle.defaultDropShadow;_.dropShadow={alpha:R.dropShadowAlpha??O.alpha,angle:R.dropShadowAngle??O.angle,blur:R.dropShadowBlur??O.blur,color:R.dropShadowColor??O.color,distance:R.dropShadowDistance??O.distance}}if(R.strokeThickness!==void 0){deprecation(v8_0_0,"strokeThickness is now a part of stroke");const O=R.stroke;let I={};if(Color$1.isColorLike(O))I.color=O;else if(O instanceof FillGradient||O instanceof FillPattern)I.fill=O;else if(Object.hasOwnProperty.call(O,"color")||Object.hasOwnProperty.call(O,"fill"))I=O;else throw new Error("Invalid stroke value.");_.stroke={...I,width:R.strokeThickness}}if(Array.isArray(R.fillGradientStops)){if(deprecation(v8_0_0,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(R.fill)||R.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");R.fill.length!==R.fillGradientStops.length&&warn$1("The number of fill colors must match the number of fill gradient stops.");const O=new FillGradient({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),I=R.fillGradientStops.slice(),F=R.fill.map(z=>Color$1.shared.setValue(z).toNumber());I.forEach((z,L)=>{O.addColorStop(z,F[L])}),_.fill={fill:O}}}class CanvasPoolClass{constructor(R){this._canvasPool=Object.create(null),this.canvasOptions=R||{},this.enableFullScreen=!1}_createCanvasAndContext(R,O){const I=DOMAdapter.get().createCanvas();I.width=R,I.height=O;const F=I.getContext("2d");return{canvas:I,context:F}}getOptimalCanvasAndContext(R,O,I=1){R=Math.ceil(R*I-1e-6),O=Math.ceil(O*I-1e-6),R=nextPow2(R),O=nextPow2(O);const F=(R<<17)+(O<<1);this._canvasPool[F]||(this._canvasPool[F]=[]);let z=this._canvasPool[F].pop();return z||(z=this._createCanvasAndContext(R,O)),z}returnCanvasAndContext(R){const O=R.canvas,{width:I,height:F}=O,z=(I<<17)+(F<<1);R.context.resetTransform(),R.context.clearRect(0,0,I,F),this._canvasPool[z].push(R)}clear(){this._canvasPool={}}}const CanvasPool=new CanvasPoolClass;GlobalResourceRegistry.register(CanvasPool);const PRECISION=1e5;function getCanvasFillStyle(_,R,O,I=0){if(_.texture===Texture.WHITE&&!_.fill)return Color$1.shared.setValue(_.color).setAlpha(_.alpha??1).toHexa();if(_.fill){if(_.fill instanceof FillPattern){const F=_.fill,z=R.createPattern(F.texture.source.resource,"repeat"),L=F.transform.copyTo(Matrix.shared);return L.scale(F.texture.frame.width,F.texture.frame.height),z.setTransform(L),z}else if(_.fill instanceof FillGradient){const F=_.fill,z=F.type==="linear",L=F.textureSpace==="local";let U=1,q=1;L&&O&&(U=O.width+I,q=O.height+I);let G,V=!1;if(z){const{start:Z,end:Y}=F;G=R.createLinearGradient(Z.x*U,Z.y*q,Y.x*U,Y.y*q),V=Math.abs(Y.x-Z.x)<Math.abs((Y.y-Z.y)*.1)}else{const{center:Z,innerRadius:Y,outerCenter:W,outerRadius:ee}=F;G=R.createRadialGradient(Z.x*U,Z.y*q,Y*U,W.x*U,W.y*q,ee*U)}if(V&&L&&O){const Z=O.lineHeight/q;for(let Y=0;Y<O.lines.length;Y++){const W=(Y*O.lineHeight+I/2)/q;F.colorStops.forEach(ee=>{const ne=W+ee.offset*Z;G.addColorStop(Math.floor(ne*PRECISION)/PRECISION,Color$1.shared.setValue(ee.color).toHex())})}}else F.colorStops.forEach(Z=>{G.addColorStop(Z.offset,Color$1.shared.setValue(Z.color).toHex())});return G}}else{const F=R.createPattern(_.texture.source.resource,"repeat"),z=_.matrix.copyTo(Matrix.shared);return z.scale(_.texture.frame.width,_.texture.frame.height),F.setTransform(z),F}return warn$1("FillStyle not recognised",_),"red"}class Graphics extends ViewContainer{constructor(R){R instanceof GraphicsContext&&(R={context:R});const{context:O,roundPixels:I,...F}=R||{};super({label:"Graphics",...F}),this.renderPipeId="graphics",O?this._context=O:this._context=this._ownedContext=new GraphicsContext,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=I??!1}set context(R){R!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=R,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(R){return this._context.containsPoint(R)}destroy(R){this._ownedContext&&!R?this._ownedContext.destroy(R):(R===!0||R?.context===!0)&&this._context.destroy(R),this._ownedContext=null,this._context=null,super.destroy(R)}_callContextMethod(R,O){return this.context[R](...O),this}setFillStyle(...R){return this._callContextMethod("setFillStyle",R)}setStrokeStyle(...R){return this._callContextMethod("setStrokeStyle",R)}fill(...R){return this._callContextMethod("fill",R)}stroke(...R){return this._callContextMethod("stroke",R)}texture(...R){return this._callContextMethod("texture",R)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...R){return this._callContextMethod("arc",R)}arcTo(...R){return this._callContextMethod("arcTo",R)}arcToSvg(...R){return this._callContextMethod("arcToSvg",R)}bezierCurveTo(...R){return this._callContextMethod("bezierCurveTo",R)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...R){return this._callContextMethod("ellipse",R)}circle(...R){return this._callContextMethod("circle",R)}path(...R){return this._callContextMethod("path",R)}lineTo(...R){return this._callContextMethod("lineTo",R)}moveTo(...R){return this._callContextMethod("moveTo",R)}quadraticCurveTo(...R){return this._callContextMethod("quadraticCurveTo",R)}rect(...R){return this._callContextMethod("rect",R)}roundRect(...R){return this._callContextMethod("roundRect",R)}poly(...R){return this._callContextMethod("poly",R)}regularPoly(...R){return this._callContextMethod("regularPoly",R)}roundPoly(...R){return this._callContextMethod("roundPoly",R)}roundShape(...R){return this._callContextMethod("roundShape",R)}filletRect(...R){return this._callContextMethod("filletRect",R)}chamferRect(...R){return this._callContextMethod("chamferRect",R)}star(...R){return this._callContextMethod("star",R)}svg(...R){return this._callContextMethod("svg",R)}restore(...R){return this._callContextMethod("restore",R)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...R){return this._callContextMethod("rotate",R)}scaleTransform(...R){return this._callContextMethod("scale",R)}setTransform(...R){return this._callContextMethod("setTransform",R)}transform(...R){return this._callContextMethod("transform",R)}translateTransform(...R){return this._callContextMethod("translate",R)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(R){this._context.fillStyle=R}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(R){this._context.strokeStyle=R}clone(R=!1){return R?new Graphics(this._context.clone()):(this._ownedContext=null,new Graphics(this._context))}lineStyle(R,O,I){deprecation(v8_0_0,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const F={};return R&&(F.width=R),O&&(F.color=O),I&&(F.alpha=I),this.context.strokeStyle=F,this}beginFill(R,O){deprecation(v8_0_0,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const I={};return R!==void 0&&(I.color=R),O!==void 0&&(I.alpha=O),this.context.fillStyle=I,this}endFill(){deprecation(v8_0_0,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const R=this.context.strokeStyle;return(R.width!==GraphicsContext.defaultStrokeStyle.width||R.color!==GraphicsContext.defaultStrokeStyle.color||R.alpha!==GraphicsContext.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...R){return deprecation(v8_0_0,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",R)}drawEllipse(...R){return deprecation(v8_0_0,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",R)}drawPolygon(...R){return deprecation(v8_0_0,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",R)}drawRect(...R){return deprecation(v8_0_0,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",R)}drawRoundedRect(...R){return deprecation(v8_0_0,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",R)}drawStar(...R){return deprecation(v8_0_0,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",R)}}class AbstractText extends ViewContainer{constructor(R,O){const{text:I,resolution:F,style:z,anchor:L,width:U,height:q,roundPixels:G,...V}=R;super({...V}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=O,this.text=I??"",this.style=z,this.resolution=F??null,this.allowChildren=!1,this._anchor=new ObservablePoint({_onUpdate:()=>{this.onViewUpdate()}}),L&&(this.anchor=L),this.roundPixels=G??!1,U!==void 0&&(this.width=U),q!==void 0&&(this.height=q)}get anchor(){return this._anchor}set anchor(R){typeof R=="number"?this._anchor.set(R):this._anchor.copyFrom(R)}set text(R){R=R.toString(),this._text!==R&&(this._text=R,this.onViewUpdate())}get text(){return this._text}set resolution(R){this._autoResolution=R===null,this._resolution=R,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(R){R||(R={}),this._style?.off("update",this.onViewUpdate,this),R instanceof this._styleClass?this._style=R:this._style=new this._styleClass(R),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(R){this._setWidth(R,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(R){this._setHeight(R,this.bounds.height)}getSize(R){return R||(R={}),R.width=Math.abs(this.scale.x)*this.bounds.width,R.height=Math.abs(this.scale.y)*this.bounds.height,R}setSize(R,O){typeof R=="object"?(O=R.height??R.width,R=R.width):O??(O=R),R!==void 0&&this._setWidth(R,this.bounds.width),O!==void 0&&this._setHeight(O,this.bounds.height)}containsPoint(R){const O=this.bounds.width,I=this.bounds.height,F=-O*this.anchor.x;let z=0;return R.x>=F&&R.x<=F+O&&(z=-I*this.anchor.y,R.y>=z&&R.y<=z+I)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(R=!1){super.destroy(R),this.owner=null,this._bounds=null,this._anchor=null,(typeof R=="boolean"?R:R?.style)&&this._style.destroy(R),this._style=null,this._text=null}get styleKey(){return`${this._text}:${this._style.styleKey}:${this._resolution}`}}function ensureTextOptions(_,R){let O=_[0]??{};return(typeof O=="string"||_[1])&&(deprecation(v8_0_0,`use new ${R}({ text: "hi!", style }) instead`),O={text:O,style:_[1]}),O}let _internalCanvas=null,_internalContext=null;function ensureInternalCanvas(_,R){_internalCanvas||(_internalCanvas=DOMAdapter.get().createCanvas(256,128),_internalContext=_internalCanvas.getContext("2d",{willReadFrequently:!0}),_internalContext.globalCompositeOperation="copy",_internalContext.globalAlpha=1),(_internalCanvas.width<_||_internalCanvas.height<R)&&(_internalCanvas.width=nextPow2(_),_internalCanvas.height=nextPow2(R))}function checkRow(_,R,O){for(let I=0,F=4*O*R;I<R;++I,F+=4)if(_[F+3]!==0)return!1;return!0}function checkColumn(_,R,O,I,F){const z=4*R;for(let L=I,U=I*z+4*O;L<=F;++L,U+=z)if(_[U+3]!==0)return!1;return!0}function getCanvasBoundingBox(..._){let R=_[0];R.canvas||(R={canvas:_[0],resolution:_[1]});const{canvas:O}=R,I=Math.min(R.resolution??1,1),F=R.width??O.width,z=R.height??O.height;let L=R.output;if(ensureInternalCanvas(F,z),!_internalContext)throw new TypeError("Failed to get canvas 2D context");_internalContext.drawImage(O,0,0,F,z,0,0,F*I,z*I);const q=_internalContext.getImageData(0,0,F,z).data;let G=0,V=0,Z=F-1,Y=z-1;for(;V<z&&checkRow(q,F,V);)++V;if(V===z)return Rectangle.EMPTY;for(;checkRow(q,F,Y);)--Y;for(;checkColumn(q,F,G,V,Y);)++G;for(;checkColumn(q,F,Z,V,Y);)--Z;return++Z,++Y,_internalContext.globalCompositeOperation="source-over",_internalContext.strokeRect(G,V,Z-G,Y-V),_internalContext.globalCompositeOperation="copy",L??(L=new Rectangle),L.set(G/I,V/I,(Z-G)/I,(Y-V)/I),L}const tempRect=new Rectangle;class CanvasTextGeneratorClass{getCanvasAndContext(R){const{text:O,style:I,resolution:F=1}=R,z=I._getFinalPadding(),L=CanvasTextMetrics.measureText(O||" ",I),U=Math.ceil(Math.ceil(Math.max(1,L.width)+z*2)*F),q=Math.ceil(Math.ceil(Math.max(1,L.height)+z*2)*F),G=CanvasPool.getOptimalCanvasAndContext(U,q);this._renderTextToCanvas(O,I,z,F,G);const V=I.trim?getCanvasBoundingBox({canvas:G.canvas,width:U,height:q,resolution:1,output:tempRect}):tempRect.set(0,0,U,q);return{canvasAndContext:G,frame:V}}returnCanvasAndContext(R){CanvasPool.returnCanvasAndContext(R)}_renderTextToCanvas(R,O,I,F,z){const{canvas:L,context:U}=z,q=fontStringFromTextStyle(O),G=CanvasTextMetrics.measureText(R||" ",O),V=G.lines,Z=G.lineHeight,Y=G.lineWidths,W=G.maxLineWidth,ee=G.fontProperties,ne=L.height;if(U.resetTransform(),U.scale(F,F),U.textBaseline=O.textBaseline,O._stroke?.width){const le=O._stroke;U.lineWidth=le.width,U.miterLimit=le.miterLimit,U.lineJoin=le.join,U.lineCap=le.cap}U.font=q;let ie,se;const oe=O.dropShadow?2:1;for(let le=0;le<oe;++le){const ue=O.dropShadow&&le===0,ce=ue?Math.ceil(Math.max(1,ne)+I*2):0,fe=ce*F;if(ue){U.fillStyle="black",U.strokeStyle="black";const pe=O.dropShadow,ge=pe.color,_e=pe.alpha;U.shadowColor=Color$1.shared.setValue(ge).setAlpha(_e).toRgbaString();const ye=pe.blur*F,we=pe.distance*F;U.shadowBlur=ye,U.shadowOffsetX=Math.cos(pe.angle)*we,U.shadowOffsetY=Math.sin(pe.angle)*we+fe}else{if(U.fillStyle=O._fill?getCanvasFillStyle(O._fill,U,G,I*2):null,O._stroke?.width){const pe=O._stroke.width*.5+I*2;U.strokeStyle=getCanvasFillStyle(O._stroke,U,G,pe)}U.shadowColor="black"}let me=(Z-ee.fontSize)/2;Z-ee.fontSize<0&&(me=0);const he=O._stroke?.width??0;for(let pe=0;pe<V.length;pe++)ie=he/2,se=he/2+pe*Z+ee.ascent+me,O.align==="right"?ie+=W-Y[pe]:O.align==="center"&&(ie+=(W-Y[pe])/2),O._stroke?.width&&this._drawLetterSpacing(V[pe],O,z,ie+I,se+I-ce,!0),O._fill!==void 0&&this._drawLetterSpacing(V[pe],O,z,ie+I,se+I-ce)}}_drawLetterSpacing(R,O,I,F,z,L=!1){const{context:U}=I,q=O.letterSpacing;let G=!1;if(CanvasTextMetrics.experimentalLetterSpacingSupported&&(CanvasTextMetrics.experimentalLetterSpacing?(U.letterSpacing=`${q}px`,U.textLetterSpacing=`${q}px`,G=!0):(U.letterSpacing="0px",U.textLetterSpacing="0px")),q===0||G){L?U.strokeText(R,F,z):U.fillText(R,F,z);return}let V=F;const Z=CanvasTextMetrics.graphemeSegmenter(R);let Y=U.measureText(R).width,W=0;for(let ee=0;ee<Z.length;++ee){const ne=Z[ee];L?U.strokeText(ne,V,z):U.fillText(ne,V,z);let ie="";for(let se=ee+1;se<Z.length;++se)ie+=Z[se];W=U.measureText(ie).width,V+=Y-W+q,Y=W}}}const CanvasTextGenerator=new CanvasTextGeneratorClass;let Text$1=class extends AbstractText{constructor(...R){const O=ensureTextOptions(R,"Text");super(O,TextStyle),this.renderPipeId="text",O.textureStyle&&(this.textureStyle=O.textureStyle instanceof TextureStyle?O.textureStyle:new TextureStyle(O.textureStyle))}updateBounds(){const R=this._bounds,O=this._anchor;let I=0,F=0;if(this._style.trim){const{frame:z,canvasAndContext:L}=CanvasTextGenerator.getCanvasAndContext({text:this.text,style:this._style,resolution:1});CanvasTextGenerator.returnCanvasAndContext(L),I=z.width,F=z.height}else{const z=CanvasTextMetrics.measureText(this._text,this._style);I=z.width,F=z.height}R.minX=-O._x*I,R.maxX=R.minX+I,R.minY=-O._y*F,R.maxY=R.minY+F}};extensions.add(browserExt,webworkerExt);function getCurvatures(_,R){if(_?.geometry)return _.geometry;const O=computeEllipseFromPerimeter(R.general.perimeter,R.general.aspect_ratio);return{curvature_1:O.curvature_1,curvature_2:O.curvature_2}}const LIGHT_THEME$1={apicalPoint:9835540,basalPoint:0,apicalLink:6553600,basalLink:0,cytoskeleton:6566400,membrane:13421772},DARK_THEME$1={apicalPoint:16748431,basalPoint:16777215,apicalLink:16739179,basalLink:15658734,cytoskeleton:13935988,membrane:6710886};function rgbToHex(_,R,O){return _<<16|R<<8|O}function drawBasalCurve(_,R,O,I,F){if(R===0&&O===0){const z=I/2+5;_.moveTo(-z,0),_.lineTo(z,0),_.stroke({color:F.membrane,alpha:.5,width:.05})}else{const z=shapeCenter(R,O),L=R!==0?Math.abs(1/R):20,U=O!==0?Math.abs(1/O):20;_.ellipse(z.x,z.y,L,U),_.stroke({color:F.membrane,alpha:.5,width:.05})}}function drawCells$1(_,R,O,I){for(const F of R.cells){const L=(O.cell_types[F.typeIndex]??O.cell_types.control).color;_.circle(F.pos.x,F.pos.y,F.R_soft),_.fill({color:rgbToHex(L.r,L.g,L.b),alpha:.4}),_.circle(F.pos.x,F.pos.y,F.R_hard),_.fill({color:rgbToHex(L.r,L.g,L.b),alpha:1}),_.circle(F.A.x,F.A.y,.1),_.fill({color:I.apicalPoint,alpha:1}),_.circle(F.B.x,F.B.y,.1),_.fill({color:I.basalPoint,alpha:1}),_.moveTo(F.A.x,F.A.y),_.lineTo(F.pos.x,F.pos.y),_.lineTo(F.B.x,F.B.y),_.stroke({color:I.cytoskeleton,alpha:.5,width:.05})}}function drawApicalLinks(_,R,O){for(const I of R.ap_links){const F=R.cells[I.l],z=R.cells[I.r];F&&z&&(_.moveTo(F.A.x,F.A.y),_.lineTo(z.A.x,z.A.y))}_.stroke({color:O.apicalLink,alpha:1,width:.05})}function drawBasalLinks(_,R,O){for(const I of R.ba_links){const F=R.cells[I.l],z=R.cells[I.r];F&&z&&(_.moveTo(F.B.x,F.B.y),_.lineTo(z.B.x,z.B.y))}_.stroke({color:O.basalLink,alpha:1,width:.05})}function drawCellIds(_,R){const O=new TextStyle({fontFamily:"monospace",fontSize:10,fill:_.isDark?16777215:0,fontWeight:"bold"}),{width:I,height:F}=_.canvasSize,{x:z,y:L}=_.viewportCenter;for(const U of R.cells){const q=new Text$1({text:U.id.toString(),style:O});q.anchor.set(.5,.5);const G=I/2+(U.pos.x-z)*_.scale,V=F/2-(U.pos.y-L)*_.scale;q.position.set(G,V),_.uiContainer.addChild(q)}}const ehtRenderer={getBoundingBox(_,R){const{curvature_1:O,curvature_2:I}=getCurvatures(R,_),F=_.general.h_init,z=_.general.w_init,L=_.general.w_screen,U=_.general.h_screen;let q,G,V,Z;if(O===0&&I===0){const oe=z/2+2;q=-oe,G=oe,V=-2,Z=F+2}else{const oe=shapeCenter(O,I),le=O!==0?Math.abs(1/O):20,ue=I!==0?Math.abs(1/I):20;q=oe.x-le,G=oe.x+le;const ce=oe.y-ue,fe=oe.y+ue;V=Math.min(ce,0)-2,Z=Math.max(fe,F)+2}const Y=G-q,W=Z-V,ee=(q+G)/2,ne=(V+Z)/2,ie=Math.max(Y,L),se=Math.max(W,U);return{minX:ee-ie/2,maxX:ee+ie/2,minY:ne-se/2,maxY:ne+se/2}},render(_,R,O){const I=_.isDark?DARK_THEME$1:LIGHT_THEME$1,F=_.graphics.cells,z=_.graphics.links,{curvature_1:L,curvature_2:U}=getCurvatures(R,O);drawBasalCurve(z,L,U,O.general.w_init,I),drawBasalLinks(z,R,I),drawApicalLinks(z,R,I),drawCells$1(F,R,O,I),_.renderOptions?.showCellIds&&drawCellIds(_,R)},getBackgroundColor(_){return _?1120295:16777215}};function getNeighborIds(_,R,O){const I=[];for(const F of R)F.l===_?I.push(F.r):F.r===_&&I.push(F.l);return I.map(F=>O[F]?.id??F).join(";")}function getSnapshot(_){const R=[];for(let O=0;O<_.cells.length;O++){const I=_.cells[O];R.push({id:I.id,typeIndex:I.typeIndex,t:_.t,step_count:_.step_count,pos_x:I.pos.x,pos_y:I.pos.y,A_x:I.A.x,A_y:I.A.y,B_x:I.B.x,B_y:I.B.y,has_A:I.has_A,has_B:I.has_B,phase:I.phase,age:_.t-I.birth_time,is_running:I.is_running,running_mode:I.running_mode,has_inm:I.has_inm,eta_A:I.eta_A,eta_B:I.eta_B,R_soft:I.R_soft,R_hard:I.R_hard,apical_cytos_strain:I.apical_cytos_strain,basal_cytos_strain:I.basal_cytos_strain,time_A:I.time_A,time_B:I.time_B,time_S:I.time_S,time_P:I.time_P,time_AC:I.time_AC,apical_neighbors:getNeighborIds(O,_.ap_links,_.cells),basal_neighbors:getNeighborIds(O,_.ba_links,_.cells),curvature_1:_.geometry?.curvature_1??0,curvature_2:_.geometry?.curvature_2??0})}return R}function loadSnapshot(_,R){if(_.length===0)return{cells:[],ap_links:[],ba_links:[],t:0,step_count:0,basalGeometry:createBasalGeometry(0,0,360),rngSeed:String(R.general.random_seed)};const O=_[0],I=Number(O.t),F=Number(O.step_count),z=Number(O.curvature_1),L=Number(O.curvature_2),U={cells:[],ap_links:[],ba_links:[],t:I,step_count:F,geometry:{curvature_1:z,curvature_2:L},basalGeometry:createBasalGeometry(z,L,360),rngSeed:String(R.general.random_seed)},q=new Map;for(let G=0;G<_.length;G++){const V=_[G],Z=Number(V.id);q.set(Z,G);const Y={id:Z,typeIndex:String(V.typeIndex),pos:{x:Number(V.pos_x),y:Number(V.pos_y)},A:{x:Number(V.A_x),y:Number(V.A_y)},B:{x:Number(V.B_x),y:Number(V.B_y)},has_A:!!V.has_A,has_B:!!V.has_B,apical_cytos_strain:Number(V.apical_cytos_strain??0),basal_cytos_strain:Number(V.basal_cytos_strain??0),phase:Number(V.phase),birth_time:I-Number(V.age),division_time:0,is_running:!!V.is_running,running_mode:Number(V.running_mode),has_inm:!!V.has_inm,eta_A:Number(V.eta_A),eta_B:Number(V.eta_B),R_soft:Number(V.R_soft),R_hard:Number(V.R_hard),time_A:Number(V.time_A),time_B:Number(V.time_B),time_S:Number(V.time_S),time_P:Number(V.time_P),time_AC:Number(V.time_AC??1/0),stiffness_apical_apical:1,stiffness_straightness:Number(V.time_S)<I?1:100,stiffness_nuclei_apical:V.has_A?1:.1,stiffness_nuclei_basal:V.has_B?1:.1,k_apical_junction:0},W=R.cell_types[Y.typeIndex]||R.cell_types.control;Y.stiffness_apical_apical=W.stiffness_apical_apical,V.has_A?Y.stiffness_nuclei_apical=W.stiffness_nuclei_apical:Y.stiffness_nuclei_apical=W.stiffness_nuclei_apical*.1,V.has_B?Y.stiffness_nuclei_basal=W.stiffness_nuclei_basal:Y.stiffness_nuclei_basal=W.stiffness_nuclei_basal*.1,Y.time_S&&I>Y.time_S?Y.stiffness_straightness=1:Y.stiffness_straightness=W.stiffness_straightness,Y.k_apical_junction=W.k_apical_junction,Y.division_time=Y.birth_time+(W.lifespan_end+W.lifespan_start)/2,U.cells.push(Y)}for(let G=0;G<_.length;G++){const V=_[G],Z=G,Y=String(V.apical_neighbors||"").split(";").filter(ee=>ee!=="");for(const ee of Y){const ne=Number(ee),ie=q.get(ne);if(ie!==void 0&&ie>Z){const se=U.cells[Z],oe=U.cells[ie],le=Math.sqrt(Math.pow(se.A.x-oe.A.x,2)+Math.pow(se.A.y-oe.A.y,2));U.ap_links.push({l:Z,r:ie,rl:le})}}const W=String(V.basal_neighbors||"").split(";").filter(ee=>ee!=="");for(const ee of W){const ne=Number(ee),ie=q.get(ne);ie!==void 0&&ie>Z&&U.ba_links.push({l:Z,r:ie})}}return U}const defaultEHTRenderOptions={showCellIds:!1,showScaleBar:!0};function EHTRenderOptionsPanel({options:_,onChange:R}){const[O,I]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>I(!O),className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:["Render Options",O?jsxRuntimeExports.jsx(ChevronUp,{size:14}):jsxRuntimeExports.jsx(ChevronDown,{size:14})]}),O&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 pl-1",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx(Checkbox,{checked:_.showCellIds,onCheckedChange:F=>R({..._,showCellIds:!!F})}),"Show Cell IDs"]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx(Checkbox,{checked:_.showScaleBar,onCheckedChange:F=>R({..._,showScaleBar:!!F})}),"Show Scale Bar"]})]})]})}const EHTModel={id:"EHT",name:"Epithelial-to-Hematopoietic Transition",version:"1.2.0",description:"Simulates cell mechanics, division, and EMT events in curved epithelial tissue.",defaultParams:DEFAULT_EHT_PARAMS,validateParams(_){return ehtParamsSchema.parse(_)},init:(_,R)=>{const O=R??String(_.general.random_seed),I=new SeededRandom(O),F=createInitialEHTState(O);return initializeEHTSimulation(_,F,I),F},step:(_,R,O)=>{const I=new SeededRandom(`${_.rngSeed}_step_${_.step_count}`);return performTimestep(_,O,I),_},getSnapshot:_=>getSnapshot(_),loadSnapshot:(_,R)=>loadSnapshot(_,R),exportCellMetrics:(_,R)=>exportCellMetrics(_,R),computeStats:(_,R)=>computeEHTStatistics(_,R),statistics:generateEHTStatistics(DEFAULT_EHT_PARAMS),generateStatistics:_=>generateEHTStatistics(_),generateBatchParameters:_=>generateEHTBatchParameters(_),batchParameters:EHT_BATCH_PARAMETERS,renderer:ehtRenderer,ui:ehtUI,renderOptions:{defaultOptions:defaultEHTRenderOptions,RenderOptionsPanel:EHTRenderOptionsPanel}},boundaryTypeSchema=_enum(["periodic","box","none"]),toyGeneralSchema=object$1({N:number$7().int().positive(),soft_radius:number$7().positive(),repulsion_strength:number$7().nonnegative(),running_speed:number$7().nonnegative(),tumble_speed:number$7().nonnegative(),running_duration:number$7().positive(),tumbling_duration:number$7().positive(),tumbling_period:number$7().positive(),boundary_type:boundaryTypeSchema,domain_size:tuple([number$7().positive(),number$7().positive()]),t_end:number$7().positive(),dt:number$7().positive(),random_seed:number$7().int(),mu:number$7().positive(),n_substeps:number$7().int().positive(),N_max:number$7().int().positive(),w_screen:number$7().positive(),h_screen:number$7().positive()}),metadataSchema=object$1({model:literal("Toy"),version:string$4()}),toyParamsSchema=object$1({metadata:metadataSchema,general:toyGeneralSchema}),DEFAULT_TOY_GENERAL={N:20,soft_radius:5,repulsion_strength:10,running_speed:2,tumble_speed:.5,running_duration:5,tumbling_duration:2,tumbling_period:.5,boundary_type:"box",domain_size:[100,100],t_end:60,dt:.1,random_seed:42,mu:1,n_substeps:1,w_screen:100,h_screen:100},DEFAULT_TOY_PARAMS={metadata:{model:"Toy",version:"1.0.0"},general:DEFAULT_TOY_GENERAL};function mean$1(_){return _.length===0?0:_.reduce((R,O)=>R+O,0)/_.length}const TOY_STATISTICS=[{id:"n_cells",label:"Cell Count",description:"Total number of cells",compute:_=>_.cells.length},{id:"running_fraction",label:"Running Fraction",description:"Fraction of cells currently in running phase",compute:_=>_.cells.filter(R=>R.phase==="running").length/(_.cells.length||1)},{id:"avg_x",label:"Avg X Position",description:"Average X position of all cells",compute:_=>mean$1(_.cells.map(R=>R.position.x))},{id:"avg_y",label:"Avg Y Position",description:"Average Y position of all cells",compute:_=>mean$1(_.cells.map(R=>R.position.y))}];function generateToyStatistics(_){return TOY_STATISTICS}function computeToyStatistics(_,R){const O={};for(const I of TOY_STATISTICS)O[I.id]=I.compute(_);return O}const BOUNDARY_OPTIONS=[{value:"periodic",label:"Periodic"},{value:"box",label:"Box"},{value:"none",label:"None"}];function ToyParametersTab({params:_,onChange:R,disabled:O}){const I=(L,U)=>{const q=structuredClone(_);q.general[L]=U,R(q)},F=(L,U)=>{const q=structuredClone(_);q.general.domain_size[L]=U,R(q)},z=_.general;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Cell Population"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(IntegerInput,{label:"Number of Cells",value:z.N,onChange:L=>I("N",L),disabled:O,min:1}),jsxRuntimeExports.jsx(NumberInput$1,{label:"Soft Radius",value:z.soft_radius,onChange:L=>I("soft_radius",L),disabled:O,step:.5,min:0}),jsxRuntimeExports.jsx(NumberInput$1,{label:"Repulsion",value:z.repulsion_strength,onChange:L=>I("repulsion_strength",L),disabled:O,step:1,min:0})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Movement"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(NumberInput$1,{label:"Running Speed",value:z.running_speed,onChange:L=>I("running_speed",L),disabled:O,step:.1,min:0}),jsxRuntimeExports.jsx(NumberInput$1,{label:"Tumble Speed",value:z.tumble_speed,onChange:L=>I("tumble_speed",L),disabled:O,step:.1,min:0}),jsxRuntimeExports.jsx(NumberInput$1,{label:"Run Duration",value:z.running_duration,onChange:L=>I("running_duration",L),disabled:O,step:.5,min:0}),jsxRuntimeExports.jsx(NumberInput$1,{label:"Tumble Duration",value:z.tumbling_duration,onChange:L=>I("tumbling_duration",L),disabled:O,step:.5,min:0}),jsxRuntimeExports.jsx(NumberInput$1,{label:"Tumble Period",value:z.tumbling_period,onChange:L=>I("tumbling_period",L),disabled:O,step:.1,min:0})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Domain"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(ComboBox,{label:"Boundary Type",value:z.boundary_type,options:BOUNDARY_OPTIONS,onChange:L=>I("boundary_type",L),disabled:O}),jsxRuntimeExports.jsx(NumberInput$1,{label:"Domain Width",value:z.domain_size[0],onChange:L=>F(0,L),disabled:O,step:10,min:1}),jsxRuntimeExports.jsx(NumberInput$1,{label:"Domain Height",value:z.domain_size[1],onChange:L=>F(1,L),disabled:O,step:10,min:1})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Physics"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 pl-2",children:jsxRuntimeExports.jsx(NumberInput$1,{label:"Friction (mu)",value:z.mu,onChange:L=>I("mu",L),disabled:O,step:.1,min:0})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"General"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(NumberInput$1,{label:"End Time",value:z.t_end,onChange:L=>I("t_end",L),disabled:O,step:1,min:0}),jsxRuntimeExports.jsx(IntegerInput,{label:"Random Seed",value:z.random_seed,onChange:L=>I("random_seed",L),disabled:O})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Display"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(IntegerInput,{label:"Screen Width",value:z.w_screen,onChange:L=>I("w_screen",L),disabled:O,min:10}),jsxRuntimeExports.jsx(IntegerInput,{label:"Screen Height",value:z.h_screen,onChange:L=>I("h_screen",L),disabled:O,min:10})]})]})]})}function ToySimulationTab({params:_,onChange:R,disabled:O}){const I=(z,L)=>{const U=structuredClone(_);U.general[z]=L,R(U)},F=_.general;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Time Stepping"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(NumberInput$1,{label:"Time Step (dt)",value:F.dt,onChange:z=>I("dt",z),disabled:O,step:.01,min:.001}),jsxRuntimeExports.jsx(IntegerInput,{label:"Substeps",value:F.n_substeps,onChange:z=>I("n_substeps",z),disabled:O,min:1})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-muted/50 rounded-md text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1",children:"Notes:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-0.5",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"dt"}),": Time step for physics integration"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"n_substeps"}),": Number of physics steps per output step"]})]})]})]})}const toyUI={ParametersTab:ToyParametersTab,SimulationTab:ToySimulationTab},LIGHT_THEME={cellFill:4886745,cellStroke:2904706,polarityRunning:4766584,polarityTumbling:15567158,boundary:13421772},DARK_THEME={cellFill:6534125,cellStroke:9489908,polarityRunning:6869905,polarityTumbling:16503693,boundary:6710886};function drawBoundary(_,R,O){const{boundary_type:I,domain_size:F}=R.general,[z,L]=F;I!=="none"&&(_.rect(0,0,z,L),I==="periodic"?_.stroke({color:O.boundary,alpha:.5,width:.1}):_.stroke({color:O.boundary,alpha:.8,width:.15}))}function drawCells(_,R,O,I){const{soft_radius:F}=O.general;for(const z of R.cells){const U=z.phase==="running"?I.polarityRunning:I.polarityTumbling;_.circle(z.position.x,z.position.y,F),_.fill({color:I.cellFill,alpha:.6}),_.stroke({color:I.cellStroke,alpha:1,width:.05});const q=F*.8,G=z.position.x+z.polarity.x*q,V=z.position.y+z.polarity.y*q;_.moveTo(z.position.x,z.position.y),_.lineTo(G,V),_.stroke({color:U,alpha:1,width:.1});const Z=F*.3,Y=Math.atan2(z.polarity.y,z.polarity.x),W=Math.PI/6;_.moveTo(G,V),_.lineTo(G-Z*Math.cos(Y-W),V-Z*Math.sin(Y-W)),_.moveTo(G,V),_.lineTo(G-Z*Math.cos(Y+W),V-Z*Math.sin(Y+W)),_.stroke({color:U,alpha:1,width:.1})}}const toyRenderer={getBoundingBox(_,R){const[O,I]=_.general.domain_size,F=_.general.soft_radius*2;return{minX:-F,maxX:O+F,minY:-F,maxY:I+F}},render(_,R,O){const I=_.isDark?DARK_THEME:LIGHT_THEME,F=_.graphics.cells,z=_.graphics.links;drawBoundary(z,O,I),drawCells(F,R,O,I)},getBackgroundColor(_){return _?1120295:16777215}},ToyModel={id:"Toy",name:"Run & Tumble (Toy)",version:"1.0.0",description:"Simple run-and-tumble model for demonstration purposes.",defaultParams:DEFAULT_TOY_PARAMS,validateParams(_){return toyParamsSchema.parse(_)},init:(_,R)=>{const O=R??String(_.general.random_seed),I=new SeededRandom(O),{N:F,domain_size:z}=_.general,[L,U]=z,q=[];for(let G=0;G<F;G++){const V=I.random(L),Z=I.random(U),Y=I.random(2*Math.PI),W=I.random()>.5?"running":"tumbling";q.push({id:G,position:new Vector2(V,Z),prevPosition:new Vector2(V,Z),polarity:new Vector2(Math.cos(Y),Math.sin(Y)),phase:W,phaseTime:0,timeSinceLastTumble:0})}return{t:0,cells:q,step_count:0,rngSeed:O}},step:(_,R,O)=>{const I=new SeededRandom(`${_.rngSeed}_step_${_.step_count}`),{soft_radius:F,repulsion_strength:z,running_speed:L,tumble_speed:U,mu:q,boundary_type:G,domain_size:V,running_duration:Z,tumbling_duration:Y,tumbling_period:W}=O.general,[ee,ne]=V,ie=_.cells;for(const oe of ie)if(oe.phaseTime+=R,oe.phase==="running"){if(oe.phaseTime>=Z){oe.phase="tumbling",oe.phaseTime=0,oe.timeSinceLastTumble=0;const le=I.random(2*Math.PI);oe.polarity=new Vector2(Math.cos(le),Math.sin(le))}}else{if(oe.timeSinceLastTumble+=R,oe.timeSinceLastTumble>=W){const le=I.random(2*Math.PI);oe.polarity=new Vector2(Math.cos(le),Math.sin(le)),oe.timeSinceLastTumble=0}oe.phaseTime>=Y&&(oe.phase="running",oe.phaseTime=0)}const se=ie.map(()=>Vector2.zero());for(let oe=0;oe<ie.length;oe++)for(let le=oe+1;le<ie.length;le++){const ue=ie[oe],ce=ie[le],fe=ue.position.x-ce.position.x,me=ue.position.y-ce.position.y,he=fe*fe+me*me,pe=F;if(he<pe*pe&&he>0){const ge=Math.sqrt(he),_e=pe-ge,ye=z*_e*fe/ge,we=z*_e*me/ge,ve=new Vector2(ye,we);se[oe]=se[oe].add(ve),se[le]=se[le].sub(ve)}}for(let oe=0;oe<ie.length;oe++){const le=ie[oe],ue=le.phase==="running"?L:U,ce=le.polarity.mult(ue*q);se[oe]=se[oe].add(ce)}for(let oe=0;oe<ie.length;oe++){const le=ie[oe],ue=se[oe];le.prevPosition=le.position;const ce=ue.x*R/q,fe=ue.y*R/q;le.position=new Vector2(le.position.x+ce,le.position.y+fe),G==="periodic"?le.position=new Vector2((le.position.x%ee+ee)%ee,(le.position.y%ne+ne)%ne):G==="box"&&(le.position=new Vector2(Math.max(0,Math.min(ee,le.position.x)),Math.max(0,Math.min(ne,le.position.y))))}return _.t+=R,_.step_count+=1,_},getSnapshot:_=>_.cells.map(R=>({id:R.id,t:_.t,pos_x:R.position.x,pos_y:R.position.y,phase:R.phase,pol_x:R.polarity.x,pol_y:R.polarity.y})),loadSnapshot:(_,R)=>{if(_.length===0)return{t:0,cells:[],step_count:0,rngSeed:String(R.general.random_seed)};const O=Number(_[0].t),I=_.map(z=>({id:Number(z.id),position:new Vector2(Number(z.pos_x),Number(z.pos_y)),prevPosition:new Vector2(Number(z.pos_x),Number(z.pos_y)),polarity:new Vector2(Number(z.pol_x),Number(z.pol_y)),phase:z.phase,phaseTime:0,timeSinceLastTumble:0})),F=Math.round(O/R.general.dt);return{t:O,cells:I,step_count:F,rngSeed:String(R.general.random_seed)}},computeStats:(_,R)=>computeToyStatistics(_),statistics:TOY_STATISTICS,generateStatistics:_=>generateToyStatistics(),renderer:toyRenderer,ui:toyUI};console.log("[Models] Loading index");modelRegistry.register(EHTModel);modelRegistry.register(ToyModel);modelRegistry.setDefault(EHTModel.id);var PopStateEventType="popstate";function createHashHistory(_={}){function R(F,z){let{pathname:L="/",search:U="",hash:q=""}=parsePath(F.location.hash.substring(1));return!L.startsWith("/")&&!L.startsWith(".")&&(L="/"+L),createLocation("",{pathname:L,search:U,hash:q},z.state&&z.state.usr||null,z.state&&z.state.key||"default")}function O(F,z){let L=F.document.querySelector("base"),U="";if(L&&L.getAttribute("href")){let q=F.location.href,G=q.indexOf("#");U=G===-1?q:q.slice(0,G)}return U+"#"+(typeof z=="string"?z:createPath(z))}function I(F,z){warning(F.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(z)})`)}return getUrlBasedHistory(R,O,I,_)}function invariant(_,R){if(_===!1||_===null||typeof _>"u")throw new Error(R)}function warning(_,R){if(!_){typeof console<"u"&&console.warn(R);try{throw new Error(R)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(_,R){return{usr:_.state,key:_.key,idx:R}}function createLocation(_,R,O=null,I){return{pathname:typeof _=="string"?_:_.pathname,search:"",hash:"",...typeof R=="string"?parsePath(R):R,state:O,key:R&&R.key||I||createKey()}}function createPath({pathname:_="/",search:R="",hash:O=""}){return R&&R!=="?"&&(_+=R.charAt(0)==="?"?R:"?"+R),O&&O!=="#"&&(_+=O.charAt(0)==="#"?O:"#"+O),_}function parsePath(_){let R={};if(_){let O=_.indexOf("#");O>=0&&(R.hash=_.substring(O),_=_.substring(0,O));let I=_.indexOf("?");I>=0&&(R.search=_.substring(I),_=_.substring(0,I)),_&&(R.pathname=_)}return R}function getUrlBasedHistory(_,R,O,I={}){let{window:F=document.defaultView,v5Compat:z=!1}=I,L=F.history,U="POP",q=null,G=V();G==null&&(G=0,L.replaceState({...L.state,idx:G},""));function V(){return(L.state||{idx:null}).idx}function Z(){U="POP";let ie=V(),se=ie==null?null:ie-G;G=ie,q&&q({action:U,location:ne.location,delta:se})}function Y(ie,se){U="PUSH";let oe=createLocation(ne.location,ie,se);O&&O(oe,ie),G=V()+1;let le=getHistoryState(oe,G),ue=ne.createHref(oe);try{L.pushState(le,"",ue)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;F.location.assign(ue)}z&&q&&q({action:U,location:ne.location,delta:1})}function W(ie,se){U="REPLACE";let oe=createLocation(ne.location,ie,se);O&&O(oe,ie),G=V();let le=getHistoryState(oe,G),ue=ne.createHref(oe);L.replaceState(le,"",ue),z&&q&&q({action:U,location:ne.location,delta:0})}function ee(ie){return createBrowserURLImpl(ie)}let ne={get action(){return U},get location(){return _(F,L)},listen(ie){if(q)throw new Error("A history only accepts one active listener");return F.addEventListener(PopStateEventType,Z),q=ie,()=>{F.removeEventListener(PopStateEventType,Z),q=null}},createHref(ie){return R(F,ie)},createURL:ee,encodeLocation(ie){let se=ee(ie);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:Y,replace:W,go(ie){return L.go(ie)}};return ne}function createBrowserURLImpl(_,R=!1){let O="http://localhost";typeof window<"u"&&(O=window.location.origin!=="null"?window.location.origin:window.location.href),invariant(O,"No window.location.(origin|href) available to create URL");let I=typeof _=="string"?_:createPath(_);return I=I.replace(/ $/,"%20"),!R&&I.startsWith("//")&&(I=O+I),new URL(I,O)}function matchRoutes(_,R,O="/"){return matchRoutesImpl(_,R,O,!1)}function matchRoutesImpl(_,R,O,I){let F=typeof R=="string"?parsePath(R):R,z=stripBasename(F.pathname||"/",O);if(z==null)return null;let L=flattenRoutes(_);rankRouteBranches(L);let U=null;for(let q=0;U==null&&q<L.length;++q){let G=decodePath(z);U=matchRouteBranch(L[q],G,I)}return U}function flattenRoutes(_,R=[],O=[],I="",F=!1){let z=(L,U,q=F,G)=>{let V={relativePath:G===void 0?L.path||"":G,caseSensitive:L.caseSensitive===!0,childrenIndex:U,route:L};if(V.relativePath.startsWith("/")){if(!V.relativePath.startsWith(I)&&q)return;invariant(V.relativePath.startsWith(I),`Absolute route path "${V.relativePath}" nested under path "${I}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),V.relativePath=V.relativePath.slice(I.length)}let Z=joinPaths([I,V.relativePath]),Y=O.concat(V);L.children&&L.children.length>0&&(invariant(L.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${Z}".`),flattenRoutes(L.children,R,Y,Z,q)),!(L.path==null&&!L.index)&&R.push({path:Z,score:computeScore(Z,L.index),routesMeta:Y})};return _.forEach((L,U)=>{if(L.path===""||!L.path?.includes("?"))z(L,U);else for(let q of explodeOptionalSegments(L.path))z(L,U,!0,q)}),R}function explodeOptionalSegments(_){let R=_.split("/");if(R.length===0)return[];let[O,...I]=R,F=O.endsWith("?"),z=O.replace(/\?$/,"");if(I.length===0)return F?[z,""]:[z];let L=explodeOptionalSegments(I.join("/")),U=[];return U.push(...L.map(q=>q===""?z:[z,q].join("/"))),F&&U.push(...L),U.map(q=>_.startsWith("/")&&q===""?"/":q)}function rankRouteBranches(_){_.sort((R,O)=>R.score!==O.score?O.score-R.score:compareIndexes(R.routesMeta.map(I=>I.childrenIndex),O.routesMeta.map(I=>I.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_=>_==="*";function computeScore(_,R){let O=_.split("/"),I=O.length;return O.some(isSplat)&&(I+=splatPenalty),R&&(I+=indexRouteValue),O.filter(F=>!isSplat(F)).reduce((F,z)=>F+(paramRe.test(z)?dynamicSegmentValue:z===""?emptySegmentValue:staticSegmentValue),I)}function compareIndexes(_,R){return _.length===R.length&&_.slice(0,-1).every((I,F)=>I===R[F])?_[_.length-1]-R[R.length-1]:0}function matchRouteBranch(_,R,O=!1){let{routesMeta:I}=_,F={},z="/",L=[];for(let U=0;U<I.length;++U){let q=I[U],G=U===I.length-1,V=z==="/"?R:R.slice(z.length)||"/",Z=matchPath({path:q.relativePath,caseSensitive:q.caseSensitive,end:G},V),Y=q.route;if(!Z&&G&&O&&!I[I.length-1].route.index&&(Z=matchPath({path:q.relativePath,caseSensitive:q.caseSensitive,end:!1},V)),!Z)return null;Object.assign(F,Z.params),L.push({params:F,pathname:joinPaths([z,Z.pathname]),pathnameBase:normalizePathname(joinPaths([z,Z.pathnameBase])),route:Y}),Z.pathnameBase!=="/"&&(z=joinPaths([z,Z.pathnameBase]))}return L}function matchPath(_,R){typeof _=="string"&&(_={path:_,caseSensitive:!1,end:!0});let[O,I]=compilePath(_.path,_.caseSensitive,_.end),F=R.match(O);if(!F)return null;let z=F[0],L=z.replace(/(.)\/+$/,"$1"),U=F.slice(1);return{params:I.reduce((G,{paramName:V,isOptional:Z},Y)=>{if(V==="*"){let ee=U[Y]||"";L=z.slice(0,z.length-ee.length).replace(/(.)\/+$/,"$1")}const W=U[Y];return Z&&!W?G[V]=void 0:G[V]=(W||"").replace(/%2F/g,"/"),G},{}),pathname:z,pathnameBase:L,pattern:_}}function compilePath(_,R=!1,O=!0){warning(_==="*"||!_.endsWith("*")||_.endsWith("/*"),`Route path "${_}" will be treated as if it were "${_.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${_.replace(/\*$/,"/*")}".`);let I=[],F="^"+_.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(L,U,q)=>(I.push({paramName:U,isOptional:q!=null}),q?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return _.endsWith("*")?(I.push({paramName:"*"}),F+=_==="*"||_==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):O?F+="\\/*$":_!==""&&_!=="/"&&(F+="(?:(?=\\/|$))"),[new RegExp(F,R?void 0:"i"),I]}function decodePath(_){try{return _.split("/").map(R=>decodeURIComponent(R).replace(/\//g,"%2F")).join("/")}catch(R){return warning(!1,`The URL path "${_}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${R}).`),_}}function stripBasename(_,R){if(R==="/")return _;if(!_.toLowerCase().startsWith(R.toLowerCase()))return null;let O=R.endsWith("/")?R.length-1:R.length,I=_.charAt(O);return I&&I!=="/"?null:_.slice(O)||"/"}var ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=_=>ABSOLUTE_URL_REGEX.test(_);function resolvePath(_,R="/"){let{pathname:O,search:I="",hash:F=""}=typeof _=="string"?parsePath(_):_,z;if(O)if(isAbsoluteUrl(O))z=O;else{if(O.includes("//")){let L=O;O=O.replace(/\/\/+/g,"/"),warning(!1,`Pathnames cannot have embedded double slashes - normalizing ${L} -> ${O}`)}O.startsWith("/")?z=resolvePathname(O.substring(1),"/"):z=resolvePathname(O,R)}else z=R;return{pathname:z,search:normalizeSearch(I),hash:normalizeHash(F)}}function resolvePathname(_,R){let O=R.replace(/\/+$/,"").split("/");return _.split("/").forEach(F=>{F===".."?O.length>1&&O.pop():F!=="."&&O.push(F)}),O.length>1?O.join("/"):"/"}function getInvalidPathError(_,R,O,I){return`Cannot include a '${_}' character in a manually specified \`to.${R}\` field [${JSON.stringify(I)}].  Please separate it out to the \`to.${O}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(_){return _.filter((R,O)=>O===0||R.route.path&&R.route.path.length>0)}function getResolveToMatches(_){let R=getPathContributingMatches(_);return R.map((O,I)=>I===R.length-1?O.pathname:O.pathnameBase)}function resolveTo(_,R,O,I=!1){let F;typeof _=="string"?F=parsePath(_):(F={..._},invariant(!F.pathname||!F.pathname.includes("?"),getInvalidPathError("?","pathname","search",F)),invariant(!F.pathname||!F.pathname.includes("#"),getInvalidPathError("#","pathname","hash",F)),invariant(!F.search||!F.search.includes("#"),getInvalidPathError("#","search","hash",F)));let z=_===""||F.pathname==="",L=z?"/":F.pathname,U;if(L==null)U=O;else{let Z=R.length-1;if(!I&&L.startsWith("..")){let Y=L.split("/");for(;Y[0]==="..";)Y.shift(),Z-=1;F.pathname=Y.join("/")}U=Z>=0?R[Z]:"/"}let q=resolvePath(F,U),G=L&&L!=="/"&&L.endsWith("/"),V=(z||L===".")&&O.endsWith("/");return!q.pathname.endsWith("/")&&(G||V)&&(q.pathname+="/"),q}var joinPaths=_=>_.join("/").replace(/\/\/+/g,"/"),normalizePathname=_=>_.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_=>!_||_==="?"?"":_.startsWith("?")?_:"?"+_,normalizeHash=_=>!_||_==="#"?"":_.startsWith("#")?_:"#"+_,ErrorResponseImpl=class{constructor(_,R,O,I=!1){this.status=_,this.statusText=R||"",this.internal=I,O instanceof Error?(this.data=O.toString(),this.error=O):this.data=O}};function isRouteErrorResponse(_){return _!=null&&typeof _.status=="number"&&typeof _.statusText=="string"&&typeof _.internal=="boolean"&&"data"in _}function getRoutePattern(_){return _.map(R=>R.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function parseToInfo(_,R){let O=_;if(typeof O!="string"||!ABSOLUTE_URL_REGEX.test(O))return{absoluteURL:void 0,isExternal:!1,to:O};let I=O,F=!1;if(isBrowser)try{let z=new URL(window.location.href),L=O.startsWith("//")?new URL(z.protocol+O):new URL(O),U=stripBasename(L.pathname,R);L.origin===z.origin&&U!=null?O=U+L.search+L.hash:F=!0}catch{warning(!1,`<Link to="${O}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:I,isExternal:F,to:O}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var RSCRouterContext=reactExports.createContext(!1),ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";var ERROR_DIGEST_BASE="REACT_ROUTER_ERROR",ERROR_DIGEST_REDIRECT="REDIRECT",ERROR_DIGEST_ROUTE_ERROR_RESPONSE="ROUTE_ERROR_RESPONSE";function decodeRedirectErrorDigest(_){if(_.startsWith(`${ERROR_DIGEST_BASE}:${ERROR_DIGEST_REDIRECT}:{`))try{let R=JSON.parse(_.slice(28));if(typeof R=="object"&&R&&typeof R.status=="number"&&typeof R.statusText=="string"&&typeof R.location=="string"&&typeof R.reloadDocument=="boolean"&&typeof R.replace=="boolean")return R}catch{}}function decodeRouteErrorResponseDigest(_){if(_.startsWith(`${ERROR_DIGEST_BASE}:${ERROR_DIGEST_ROUTE_ERROR_RESPONSE}:{`))try{let R=JSON.parse(_.slice(40));if(typeof R=="object"&&R&&typeof R.status=="number"&&typeof R.statusText=="string")return new ErrorResponseImpl(R.status,R.statusText,R.data)}catch{}}function useHref(_,{relative:R}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:O,navigator:I}=reactExports.useContext(NavigationContext),{hash:F,pathname:z,search:L}=useResolvedPath(_,{relative:R}),U=z;return O!=="/"&&(U=z==="/"?O:joinPaths([O,z])),I.createHref({pathname:U,search:L,hash:F})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(_){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_)}function useNavigate(){let{isDataRoute:_}=reactExports.useContext(RouteContext);return _?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let _=reactExports.useContext(DataRouterContext),{basename:R,navigator:O}=reactExports.useContext(NavigationContext),{matches:I}=reactExports.useContext(RouteContext),{pathname:F}=useLocation(),z=JSON.stringify(getResolveToMatches(I)),L=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{L.current=!0}),reactExports.useCallback((q,G={})=>{if(warning(L.current,navigateEffectWarning),!L.current)return;if(typeof q=="number"){O.go(q);return}let V=resolveTo(q,JSON.parse(z),F,G.relative==="path");_==null&&R!=="/"&&(V.pathname=V.pathname==="/"?R:joinPaths([R,V.pathname])),(G.replace?O.replace:O.push)(V,G.state,G)},[R,O,z,F,_])}reactExports.createContext(null);function useResolvedPath(_,{relative:R}={}){let{matches:O}=reactExports.useContext(RouteContext),{pathname:I}=useLocation(),F=JSON.stringify(getResolveToMatches(O));return reactExports.useMemo(()=>resolveTo(_,JSON.parse(F),I,R==="path"),[_,F,I,R])}function useRoutes(_,R){return useRoutesImpl(_,R)}function useRoutesImpl(_,R,O,I,F){invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:z}=reactExports.useContext(NavigationContext),{matches:L}=reactExports.useContext(RouteContext),U=L[L.length-1],q=U?U.params:{},G=U?U.pathname:"/",V=U?U.pathnameBase:"/",Z=U&&U.route;{let oe=Z&&Z.path||"";warningOnce(G,!Z||oe.endsWith("*")||oe.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${G}" (under <Route path="${oe}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${oe}"> to <Route path="${oe==="/"?"*":`${oe}/*`}">.`)}let Y=useLocation(),W;if(R){let oe=typeof R=="string"?parsePath(R):R;invariant(V==="/"||oe.pathname?.startsWith(V),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${V}" but pathname "${oe.pathname}" was given in the \`location\` prop.`),W=oe}else W=Y;let ee=W.pathname||"/",ne=ee;if(V!=="/"){let oe=V.replace(/^\//,"").split("/");ne="/"+ee.replace(/^\//,"").split("/").slice(oe.length).join("/")}let ie=matchRoutes(_,{pathname:ne});warning(Z||ie!=null,`No routes matched location "${W.pathname}${W.search}${W.hash}" `),warning(ie==null||ie[ie.length-1].route.element!==void 0||ie[ie.length-1].route.Component!==void 0||ie[ie.length-1].route.lazy!==void 0,`Matched leaf route at location "${W.pathname}${W.search}${W.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let se=_renderMatches(ie&&ie.map(oe=>Object.assign({},oe,{params:Object.assign({},q,oe.params),pathname:joinPaths([V,z.encodeLocation?z.encodeLocation(oe.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:oe.pathname]),pathnameBase:oe.pathnameBase==="/"?V:joinPaths([V,z.encodeLocation?z.encodeLocation(oe.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:oe.pathnameBase])})),L,O,I,F);return R&&se?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...W},navigationType:"POP"}},se):se}function DefaultErrorComponent(){let _=useRouteError(),R=isRouteErrorResponse(_)?`${_.status} ${_.statusText}`:_ instanceof Error?_.message:JSON.stringify(_),O=_ instanceof Error?_.stack:null,I="rgba(200,200,200, 0.5)",F={padding:"0.5rem",backgroundColor:I},z={padding:"2px 4px",backgroundColor:I},L=null;return console.error("Error handled by React Router default ErrorBoundary:",_),L=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:z},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:z},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},R),O?reactExports.createElement("pre",{style:F},O):null,L)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(_){super(_),this.state={location:_.location,revalidation:_.revalidation,error:_.error}}static getDerivedStateFromError(_){return{error:_}}static getDerivedStateFromProps(_,R){return R.location!==_.location||R.revalidation!=="idle"&&_.revalidation==="idle"?{error:_.error,location:_.location,revalidation:_.revalidation}:{error:_.error!==void 0?_.error:R.error,location:R.location,revalidation:_.revalidation||R.revalidation}}componentDidCatch(_,R){this.props.onError?this.props.onError(_,R):console.error("React Router caught the following error during render",_)}render(){let _=this.state.error;if(this.context&&typeof _=="object"&&_&&"digest"in _&&typeof _.digest=="string"){const O=decodeRouteErrorResponseDigest(_.digest);O&&(_=O)}let R=_!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:_,children:this.props.component})):this.props.children;return this.context?reactExports.createElement(RSCErrorHandler,{error:_},R):R}};RenderErrorBoundary.contextType=RSCRouterContext;var errorRedirectHandledMap=new WeakMap;function RSCErrorHandler({children:_,error:R}){let{basename:O}=reactExports.useContext(NavigationContext);if(typeof R=="object"&&R&&"digest"in R&&typeof R.digest=="string"){let I=decodeRedirectErrorDigest(R.digest);if(I){let F=errorRedirectHandledMap.get(R);if(F)throw F;let z=parseToInfo(I.location,O);if(isBrowser&&!errorRedirectHandledMap.get(R))if(z.isExternal||I.reloadDocument)window.location.href=z.absoluteURL||z.to;else{const L=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(z.to,{replace:I.replace}));throw errorRedirectHandledMap.set(R,L),L}return reactExports.createElement("meta",{httpEquiv:"refresh",content:`0;url=${z.absoluteURL||z.to}`})}}return _}function RenderedRoute({routeContext:_,match:R,children:O}){let I=reactExports.useContext(DataRouterContext);return I&&I.static&&I.staticContext&&(R.route.errorElement||R.route.ErrorBoundary)&&(I.staticContext._deepestRenderedBoundaryId=R.route.id),reactExports.createElement(RouteContext.Provider,{value:_},O)}function _renderMatches(_,R=[],O=null,I=null,F=null){if(_==null){if(!O)return null;if(O.errors)_=O.matches;else if(R.length===0&&!O.initialized&&O.matches.length>0)_=O.matches;else return null}let z=_,L=O?.errors;if(L!=null){let V=z.findIndex(Z=>Z.route.id&&L?.[Z.route.id]!==void 0);invariant(V>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(L).join(",")}`),z=z.slice(0,Math.min(z.length,V+1))}let U=!1,q=-1;if(O)for(let V=0;V<z.length;V++){let Z=z[V];if((Z.route.HydrateFallback||Z.route.hydrateFallbackElement)&&(q=V),Z.route.id){let{loaderData:Y,errors:W}=O,ee=Z.route.loader&&!Y.hasOwnProperty(Z.route.id)&&(!W||W[Z.route.id]===void 0);if(Z.route.lazy||ee){U=!0,q>=0?z=z.slice(0,q+1):z=[z[0]];break}}}let G=O&&I?(V,Z)=>{I(V,{location:O.location,params:O.matches?.[0]?.params??{},unstable_pattern:getRoutePattern(O.matches),errorInfo:Z})}:void 0;return z.reduceRight((V,Z,Y)=>{let W,ee=!1,ne=null,ie=null;O&&(W=L&&Z.route.id?L[Z.route.id]:void 0,ne=Z.route.errorElement||defaultErrorElement,U&&(q<0&&Y===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),ee=!0,ie=null):q===Y&&(ee=!0,ie=Z.route.hydrateFallbackElement||null)));let se=R.concat(z.slice(0,Y+1)),oe=()=>{let le;return W?le=ne:ee?le=ie:Z.route.Component?le=reactExports.createElement(Z.route.Component,null):Z.route.element?le=Z.route.element:le=V,reactExports.createElement(RenderedRoute,{match:Z,routeContext:{outlet:V,matches:se,isDataRoute:O!=null},children:le})};return O&&(Z.route.ErrorBoundary||Z.route.errorElement||Y===0)?reactExports.createElement(RenderErrorBoundary,{location:O.location,revalidation:O.revalidation,component:ne,error:W,children:oe(),routeContext:{outlet:null,matches:se,isDataRoute:!0},onError:G}):oe()},null)}function getDataRouterConsoleError(_){return`${_} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(_){let R=reactExports.useContext(DataRouterContext);return invariant(R,getDataRouterConsoleError(_)),R}function useDataRouterState(_){let R=reactExports.useContext(DataRouterStateContext);return invariant(R,getDataRouterConsoleError(_)),R}function useRouteContext(_){let R=reactExports.useContext(RouteContext);return invariant(R,getDataRouterConsoleError(_)),R}function useCurrentRouteId(_){let R=useRouteContext(_),O=R.matches[R.matches.length-1];return invariant(O.route.id,`${_} can only be used on routes that contain a unique "id"`),O.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let _=reactExports.useContext(RouteErrorContext),R=useDataRouterState("useRouteError"),O=useCurrentRouteId("useRouteError");return _!==void 0?_:R.errors?.[O]}function useNavigateStable(){let{router:_}=useDataRouterContext("useNavigate"),R=useCurrentRouteId("useNavigate"),O=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{O.current=!0}),reactExports.useCallback(async(F,z={})=>{warning(O.current,navigateEffectWarning),O.current&&(typeof F=="number"?await _.navigate(F):await _.navigate(F,{fromRouteId:R,...z}))},[_,R])}var alreadyWarned={};function warningOnce(_,R,O){!R&&!alreadyWarned[_]&&(alreadyWarned[_]=!0,warning(!1,O))}reactExports.memo(DataRoutes);function DataRoutes({routes:_,future:R,state:O,onError:I}){return useRoutesImpl(_,void 0,O,I,R)}function Route(_){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:_="/",children:R=null,location:O,navigationType:I="POP",navigator:F,static:z=!1,unstable_useTransitions:L}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let U=_.replace(/^\/*/,"/"),q=reactExports.useMemo(()=>({basename:U,navigator:F,static:z,unstable_useTransitions:L,future:{}}),[U,F,z,L]);typeof O=="string"&&(O=parsePath(O));let{pathname:G="/",search:V="",hash:Z="",state:Y=null,key:W="default"}=O,ee=reactExports.useMemo(()=>{let ne=stripBasename(G,U);return ne==null?null:{location:{pathname:ne,search:V,hash:Z,state:Y,key:W},navigationType:I}},[U,G,V,Z,Y,W,I]);return warning(ee!=null,`<Router basename="${U}"> is not able to match the URL "${G}${V}${Z}" because it does not start with the basename, so the <Router> won't render anything.`),ee==null?null:reactExports.createElement(NavigationContext.Provider,{value:q},reactExports.createElement(LocationContext.Provider,{children:R,value:ee}))}function Routes({children:_,location:R}){return useRoutes(createRoutesFromChildren(_),R)}function createRoutesFromChildren(_,R=[]){let O=[];return reactExports.Children.forEach(_,(I,F)=>{if(!reactExports.isValidElement(I))return;let z=[...R,F];if(I.type===reactExports.Fragment){O.push.apply(O,createRoutesFromChildren(I.props.children,z));return}invariant(I.type===Route,`[${typeof I.type=="string"?I.type:I.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!I.props.index||!I.props.children,"An index route cannot have child routes.");let L={id:I.props.id||z.join("-"),caseSensitive:I.props.caseSensitive,element:I.props.element,Component:I.props.Component,index:I.props.index,path:I.props.path,middleware:I.props.middleware,loader:I.props.loader,action:I.props.action,hydrateFallbackElement:I.props.hydrateFallbackElement,HydrateFallback:I.props.HydrateFallback,errorElement:I.props.errorElement,ErrorBoundary:I.props.ErrorBoundary,hasErrorBoundary:I.props.hasErrorBoundary===!0||I.props.ErrorBoundary!=null||I.props.errorElement!=null,shouldRevalidate:I.props.shouldRevalidate,handle:I.props.handle,lazy:I.props.lazy};I.props.children&&(L.children=createRoutesFromChildren(I.props.children,z)),O.push(L)}),O}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(_){return typeof HTMLElement<"u"&&_ instanceof HTMLElement}function isButtonElement(_){return isHtmlElement(_)&&_.tagName.toLowerCase()==="button"}function isFormElement(_){return isHtmlElement(_)&&_.tagName.toLowerCase()==="form"}function isInputElement(_){return isHtmlElement(_)&&_.tagName.toLowerCase()==="input"}function isModifiedEvent(_){return!!(_.metaKey||_.altKey||_.ctrlKey||_.shiftKey)}function shouldProcessLinkClick(_,R){return _.button===0&&(!R||R==="_self")&&!isModifiedEvent(_)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(_){return _!=null&&!supportedFormEncTypes.has(_)?(warning(!1,`"${_}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):_}function getFormSubmissionInfo(_,R){let O,I,F,z,L;if(isFormElement(_)){let U=_.getAttribute("action");I=U?stripBasename(U,R):null,O=_.getAttribute("method")||defaultMethod,F=getFormEncType(_.getAttribute("enctype"))||defaultEncType,z=new FormData(_)}else if(isButtonElement(_)||isInputElement(_)&&(_.type==="submit"||_.type==="image")){let U=_.form;if(U==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let q=_.getAttribute("formaction")||U.getAttribute("action");if(I=q?stripBasename(q,R):null,O=_.getAttribute("formmethod")||U.getAttribute("method")||defaultMethod,F=getFormEncType(_.getAttribute("formenctype"))||getFormEncType(U.getAttribute("enctype"))||defaultEncType,z=new FormData(U,_),!isFormDataSubmitterSupported()){let{name:G,type:V,value:Z}=_;if(V==="image"){let Y=G?`${G}.`:"";z.append(`${Y}x`,"0"),z.append(`${Y}y`,"0")}else G&&z.append(G,Z)}}else{if(isHtmlElement(_))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');O=defaultMethod,I=null,F=defaultEncType,L=_}return z&&F==="text/plain"&&(L=z,z=void 0),{action:I,method:O.toLowerCase(),encType:F,formData:z,body:L}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(_,R){if(_===!1||_===null||typeof _>"u")throw new Error(R)}function singleFetchUrl(_,R,O,I){let F=typeof _=="string"?new URL(_,typeof window>"u"?"server://singlefetch/":window.location.origin):_;return O?F.pathname.endsWith("/")?F.pathname=`${F.pathname}_.${I}`:F.pathname=`${F.pathname}.${I}`:F.pathname==="/"?F.pathname=`_root.${I}`:R&&stripBasename(F.pathname,R)==="/"?F.pathname=`${R.replace(/\/$/,"")}/_root.${I}`:F.pathname=`${F.pathname.replace(/\/$/,"")}.${I}`,F}async function loadRouteModule(_,R){if(_.id in R)return R[_.id];try{let O=await import(_.module);return R[_.id]=O,O}catch(O){return console.error(`Error loading route module \`${_.module}\`, reloading page...`),console.error(O),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(_){return _==null?!1:_.href==null?_.rel==="preload"&&typeof _.imageSrcSet=="string"&&typeof _.imageSizes=="string":typeof _.rel=="string"&&typeof _.href=="string"}async function getKeyedPrefetchLinks(_,R,O){let I=await Promise.all(_.map(async F=>{let z=R.routes[F.route.id];if(z){let L=await loadRouteModule(z,O);return L.links?L.links():[]}return[]}));return dedupeLinkDescriptors(I.flat(1).filter(isHtmlLinkDescriptor).filter(F=>F.rel==="stylesheet"||F.rel==="preload").map(F=>F.rel==="stylesheet"?{...F,rel:"prefetch",as:"style"}:{...F,rel:"prefetch"}))}function getNewMatchesForLinks(_,R,O,I,F,z){let L=(q,G)=>O[G]?q.route.id!==O[G].route.id:!0,U=(q,G)=>O[G].pathname!==q.pathname||O[G].route.path?.endsWith("*")&&O[G].params["*"]!==q.params["*"];return z==="assets"?R.filter((q,G)=>L(q,G)||U(q,G)):z==="data"?R.filter((q,G)=>{let V=I.routes[q.route.id];if(!V||!V.hasLoader)return!1;if(L(q,G)||U(q,G))return!0;if(q.route.shouldRevalidate){let Z=q.route.shouldRevalidate({currentUrl:new URL(F.pathname+F.search+F.hash,window.origin),currentParams:O[0]?.params||{},nextUrl:new URL(_,window.origin),nextParams:q.params,defaultShouldRevalidate:!0});if(typeof Z=="boolean")return Z}return!0}):[]}function getModuleLinkHrefs(_,R,{includeHydrateFallback:O}={}){return dedupeHrefs(_.map(I=>{let F=R.routes[I.route.id];if(!F)return[];let z=[F.module];return F.clientActionModule&&(z=z.concat(F.clientActionModule)),F.clientLoaderModule&&(z=z.concat(F.clientLoaderModule)),O&&F.hydrateFallbackModule&&(z=z.concat(F.hydrateFallbackModule)),F.imports&&(z=z.concat(F.imports)),z}).flat(1))}function dedupeHrefs(_){return[...new Set(_)]}function sortKeys(_){let R={},O=Object.keys(_).sort();for(let I of O)R[I]=_[I];return R}function dedupeLinkDescriptors(_,R){let O=new Set;return new Set(R),_.reduce((I,F)=>{let z=JSON.stringify(sortKeys(F));return O.has(z)||(O.add(z),I.push({key:z,link:F})),I},[])}function useDataRouterContext2(){let _=reactExports.useContext(DataRouterContext);return invariant2(_,"You must render this element inside a <DataRouterContext.Provider> element"),_}function useDataRouterStateContext(){let _=reactExports.useContext(DataRouterStateContext);return invariant2(_,"You must render this element inside a <DataRouterStateContext.Provider> element"),_}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let _=reactExports.useContext(FrameworkContext);return invariant2(_,"You must render this element inside a <HydratedRouter> element"),_}function usePrefetchBehavior(_,R){let O=reactExports.useContext(FrameworkContext),[I,F]=reactExports.useState(!1),[z,L]=reactExports.useState(!1),{onFocus:U,onBlur:q,onMouseEnter:G,onMouseLeave:V,onTouchStart:Z}=R,Y=reactExports.useRef(null);reactExports.useEffect(()=>{if(_==="render"&&L(!0),_==="viewport"){let ne=se=>{se.forEach(oe=>{L(oe.isIntersecting)})},ie=new IntersectionObserver(ne,{threshold:.5});return Y.current&&ie.observe(Y.current),()=>{ie.disconnect()}}},[_]),reactExports.useEffect(()=>{if(I){let ne=setTimeout(()=>{L(!0)},100);return()=>{clearTimeout(ne)}}},[I]);let W=()=>{F(!0)},ee=()=>{F(!1),L(!1)};return O?_!=="intent"?[z,Y,{}]:[z,Y,{onFocus:composeEventHandlers(U,W),onBlur:composeEventHandlers(q,ee),onMouseEnter:composeEventHandlers(G,W),onMouseLeave:composeEventHandlers(V,ee),onTouchStart:composeEventHandlers(Z,W)}]:[!1,Y,{}]}function composeEventHandlers(_,R){return O=>{_&&_(O),O.defaultPrevented||R(O)}}function PrefetchPageLinks({page:_,...R}){let{router:O}=useDataRouterContext2(),I=reactExports.useMemo(()=>matchRoutes(O.routes,_,O.basename),[O.routes,_,O.basename]);return I?reactExports.createElement(PrefetchPageLinksImpl,{page:_,matches:I,...R}):null}function useKeyedPrefetchLinks(_){let{manifest:R,routeModules:O}=useFrameworkContext(),[I,F]=reactExports.useState([]);return reactExports.useEffect(()=>{let z=!1;return getKeyedPrefetchLinks(_,R,O).then(L=>{z||F(L)}),()=>{z=!0}},[_,R,O]),I}function PrefetchPageLinksImpl({page:_,matches:R,...O}){let I=useLocation(),{future:F,manifest:z,routeModules:L}=useFrameworkContext(),{basename:U}=useDataRouterContext2(),{loaderData:q,matches:G}=useDataRouterStateContext(),V=reactExports.useMemo(()=>getNewMatchesForLinks(_,R,G,z,I,"data"),[_,R,G,z,I]),Z=reactExports.useMemo(()=>getNewMatchesForLinks(_,R,G,z,I,"assets"),[_,R,G,z,I]),Y=reactExports.useMemo(()=>{if(_===I.pathname+I.search+I.hash)return[];let ne=new Set,ie=!1;if(R.forEach(oe=>{let le=z.routes[oe.route.id];!le||!le.hasLoader||(!V.some(ue=>ue.route.id===oe.route.id)&&oe.route.id in q&&L[oe.route.id]?.shouldRevalidate||le.hasClientLoader?ie=!0:ne.add(oe.route.id))}),ne.size===0)return[];let se=singleFetchUrl(_,U,F.unstable_trailingSlashAwareDataRequests,"data");return ie&&ne.size>0&&se.searchParams.set("_routes",R.filter(oe=>ne.has(oe.route.id)).map(oe=>oe.route.id).join(",")),[se.pathname+se.search]},[U,F.unstable_trailingSlashAwareDataRequests,q,I,z,V,R,_,L]),W=reactExports.useMemo(()=>getModuleLinkHrefs(Z,z),[Z,z]),ee=useKeyedPrefetchLinks(Z);return reactExports.createElement(reactExports.Fragment,null,Y.map(ne=>reactExports.createElement("link",{key:ne,rel:"prefetch",as:"fetch",href:ne,...O})),W.map(ne=>reactExports.createElement("link",{key:ne,rel:"modulepreload",href:ne,...O})),ee.map(({key:ne,link:ie})=>reactExports.createElement("link",{key:ne,nonce:O.nonce,...ie})))}function mergeRefs(..._){return R=>{_.forEach(O=>{typeof O=="function"?O(R):O!=null&&(O.current=R)})}}var isBrowser2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser2&&(window.__reactRouterVersion="7.12.0")}catch(_){}function HashRouter({basename:_,children:R,unstable_useTransitions:O,window:I}){let F=reactExports.useRef();F.current==null&&(F.current=createHashHistory({window:I,v5Compat:!0}));let z=F.current,[L,U]=reactExports.useState({action:z.action,location:z.location}),q=reactExports.useCallback(G=>{O===!1?U(G):reactExports.startTransition(()=>U(G))},[O]);return reactExports.useLayoutEffect(()=>z.listen(q),[z,q]),reactExports.createElement(Router,{basename:_,children:R,location:L.location,navigationType:L.action,navigator:z,unstable_useTransitions:O})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function _({onClick:R,discover:O="render",prefetch:I="none",relative:F,reloadDocument:z,replace:L,state:U,target:q,to:G,preventScrollReset:V,viewTransition:Z,unstable_defaultShouldRevalidate:Y,...W},ee){let{basename:ne,unstable_useTransitions:ie}=reactExports.useContext(NavigationContext),se=typeof G=="string"&&ABSOLUTE_URL_REGEX2.test(G),oe=parseToInfo(G,ne);G=oe.to;let le=useHref(G,{relative:F}),[ue,ce,fe]=usePrefetchBehavior(I,W),me=useLinkClickHandler(G,{replace:L,state:U,target:q,preventScrollReset:V,relative:F,viewTransition:Z,unstable_defaultShouldRevalidate:Y,unstable_useTransitions:ie});function he(ge){R&&R(ge),ge.defaultPrevented||me(ge)}let pe=reactExports.createElement("a",{...W,...fe,href:oe.absoluteURL||le,onClick:oe.isExternal||z?R:he,ref:mergeRefs(ee,ce),target:q,"data-discover":!se&&O==="render"?"true":void 0});return ue&&!se?reactExports.createElement(reactExports.Fragment,null,pe,reactExports.createElement(PrefetchPageLinks,{page:le})):pe});Link$1.displayName="Link";var NavLink=reactExports.forwardRef(function _({"aria-current":R="page",caseSensitive:O=!1,className:I="",end:F=!1,style:z,to:L,viewTransition:U,children:q,...G},V){let Z=useResolvedPath(L,{relative:G.relative}),Y=useLocation(),W=reactExports.useContext(DataRouterStateContext),{navigator:ee,basename:ne}=reactExports.useContext(NavigationContext),ie=W!=null&&useViewTransitionState(Z)&&U===!0,se=ee.encodeLocation?ee.encodeLocation(Z).pathname:Z.pathname,oe=Y.pathname,le=W&&W.navigation&&W.navigation.location?W.navigation.location.pathname:null;O||(oe=oe.toLowerCase(),le=le?le.toLowerCase():null,se=se.toLowerCase()),le&&ne&&(le=stripBasename(le,ne)||le);const ue=se!=="/"&&se.endsWith("/")?se.length-1:se.length;let ce=oe===se||!F&&oe.startsWith(se)&&oe.charAt(ue)==="/",fe=le!=null&&(le===se||!F&&le.startsWith(se)&&le.charAt(se.length)==="/"),me={isActive:ce,isPending:fe,isTransitioning:ie},he=ce?R:void 0,pe;typeof I=="function"?pe=I(me):pe=[I,ce?"active":null,fe?"pending":null,ie?"transitioning":null].filter(Boolean).join(" ");let ge=typeof z=="function"?z(me):z;return reactExports.createElement(Link$1,{...G,"aria-current":he,className:pe,ref:V,style:ge,to:L,viewTransition:U},typeof q=="function"?q(me):q)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:_="render",fetcherKey:R,navigate:O,reloadDocument:I,replace:F,state:z,method:L=defaultMethod,action:U,onSubmit:q,relative:G,preventScrollReset:V,viewTransition:Z,unstable_defaultShouldRevalidate:Y,...W},ee)=>{let{unstable_useTransitions:ne}=reactExports.useContext(NavigationContext),ie=useSubmit(),se=useFormAction(U,{relative:G}),oe=L.toLowerCase()==="get"?"get":"post",le=typeof U=="string"&&ABSOLUTE_URL_REGEX2.test(U),ue=ce=>{if(q&&q(ce),ce.defaultPrevented)return;ce.preventDefault();let fe=ce.nativeEvent.submitter,me=fe?.getAttribute("formmethod")||L,he=()=>ie(fe||ce.currentTarget,{fetcherKey:R,method:me,navigate:O,replace:F,state:z,relative:G,preventScrollReset:V,viewTransition:Z,unstable_defaultShouldRevalidate:Y});ne&&O!==!1?reactExports.startTransition(()=>he()):he()};return reactExports.createElement("form",{ref:ee,method:oe,action:se,onSubmit:I?q:ue,...W,"data-discover":!le&&_==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(_){return`${_} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(_){let R=reactExports.useContext(DataRouterContext);return invariant(R,getDataRouterConsoleError2(_)),R}function useLinkClickHandler(_,{target:R,replace:O,state:I,preventScrollReset:F,relative:z,viewTransition:L,unstable_defaultShouldRevalidate:U,unstable_useTransitions:q}={}){let G=useNavigate(),V=useLocation(),Z=useResolvedPath(_,{relative:z});return reactExports.useCallback(Y=>{if(shouldProcessLinkClick(Y,R)){Y.preventDefault();let W=O!==void 0?O:createPath(V)===createPath(Z),ee=()=>G(_,{replace:W,state:I,preventScrollReset:F,relative:z,viewTransition:L,unstable_defaultShouldRevalidate:U});q?reactExports.startTransition(()=>ee()):ee()}},[V,G,Z,O,I,R,_,F,z,L,U,q])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:_}=useDataRouterContext3("useSubmit"),{basename:R}=reactExports.useContext(NavigationContext),O=useRouteId(),I=_.fetch,F=_.navigate;return reactExports.useCallback(async(z,L={})=>{let{action:U,method:q,encType:G,formData:V,body:Z}=getFormSubmissionInfo(z,R);if(L.navigate===!1){let Y=L.fetcherKey||getUniqueFetcherId();await I(Y,O,L.action||U,{unstable_defaultShouldRevalidate:L.unstable_defaultShouldRevalidate,preventScrollReset:L.preventScrollReset,formData:V,body:Z,formMethod:L.method||q,formEncType:L.encType||G,flushSync:L.flushSync})}else await F(L.action||U,{unstable_defaultShouldRevalidate:L.unstable_defaultShouldRevalidate,preventScrollReset:L.preventScrollReset,formData:V,body:Z,formMethod:L.method||q,formEncType:L.encType||G,replace:L.replace,state:L.state,fromRouteId:O,flushSync:L.flushSync,viewTransition:L.viewTransition})},[I,F,R,O])}function useFormAction(_,{relative:R}={}){let{basename:O}=reactExports.useContext(NavigationContext),I=reactExports.useContext(RouteContext);invariant(I,"useFormAction must be used inside a RouteContext");let[F]=I.matches.slice(-1),z={...useResolvedPath(_||".",{relative:R})},L=useLocation();if(_==null){z.search=L.search;let U=new URLSearchParams(z.search),q=U.getAll("index");if(q.some(V=>V==="")){U.delete("index"),q.filter(Z=>Z).forEach(Z=>U.append("index",Z));let V=U.toString();z.search=V?`?${V}`:""}}return(!_||_===".")&&F.route.index&&(z.search=z.search?z.search.replace(/^\?/,"?index&"):"?index"),O!=="/"&&(z.pathname=z.pathname==="/"?O:joinPaths([O,z.pathname])),createPath(z)}function useViewTransitionState(_,{relative:R}={}){let O=reactExports.useContext(ViewTransitionContext);invariant(O!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:I}=useDataRouterContext3("useViewTransitionState"),F=useResolvedPath(_,{relative:R});if(!O.isTransitioning)return!1;let z=stripBasename(O.currentLocation.pathname,I)||O.currentLocation.pathname,L=stripBasename(O.nextLocation.pathname,I)||O.nextLocation.pathname;return matchPath(F.pathname,L)!=null||matchPath(F.pathname,z)!=null}const ModelContext=reactExports.createContext(void 0);function ModelProvider({children:_}){const R=modelRegistry.getModelNames(),O=modelRegistry.getDefault()||(R.length>0?modelRegistry.get(R[0]):void 0);if(!O)throw new Error("No models registered. Import @/models to register models.");const[I,F]=reactExports.useState(O),[z,L]=reactExports.useState(O.defaultParams),U=reactExports.useCallback(G=>{const V=modelRegistry.get(G);V?(F(V),L(V.defaultParams)):console.warn(`Model "${G}" not found in registry`)},[]),q=reactExports.useCallback(G=>{L(G)},[]);return jsxRuntimeExports.jsx(ModelContext.Provider,{value:{currentModel:I,currentParams:z,setModel:U,setParams:q,availableModels:R},children:_})}function useModel(){const _=reactExports.useContext(ModelContext);if(!_)throw new Error("useModel must be used within a ModelProvider");return _}function ModelSelector(){const{currentModel:_,setModel:R,availableModels:O}=useModel();return O.length<=1?null:jsxRuntimeExports.jsxs(Select,{value:_.id,onValueChange:R,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[180px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select model"})}),jsxRuntimeExports.jsx(SelectContent,{children:O.map(I=>{const F=modelRegistry.get(I),z=F?F.version:"",L=F?.name||I;return jsxRuntimeExports.jsxs(SelectItem,{value:I,children:[L," ",z&&`v${z}`]},I)})})]})}function Header({isDark:_,onToggleTheme:R}){return jsxRuntimeExports.jsx("header",{className:"border-b bg-card",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold",children:"Simulator"}),jsxRuntimeExports.jsx(ModelSelector,{}),jsxRuntimeExports.jsx(Link$1,{to:"/docs",className:"text-sm text-muted-foreground hover:text-foreground",children:"Documentation"})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:R,"aria-label":"Toggle theme",children:_?jsxRuntimeExports.jsx(Sun,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(Moon,{className:"h-5 w-5"})})]})})}const ThemeContext=reactExports.createContext(void 0);function ThemeProvider({children:_}){const[R,O]=reactExports.useState(()=>typeof window<"u"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1);reactExports.useEffect(()=>{document.documentElement.classList.toggle("dark",R)},[R]);const I=()=>O(F=>!F);return jsxRuntimeExports.jsx(ThemeContext.Provider,{value:{isDark:R,toggleTheme:I},children:_})}function useTheme(){const _=reactExports.useContext(ThemeContext);if(!_)throw new Error("useTheme must be used within a ThemeProvider");return _}const MessagesContext=reactExports.createContext(null);let messageIdCounter=0;function MessagesProvider({children:_}){const[R,O]=reactExports.useState([]),I=reactExports.useCallback((z,L="info")=>{const U={id:messageIdCounter++,type:L,text:z,timestamp:new Date};O(q=>[...q,U])},[]),F=reactExports.useCallback(()=>{O([])},[]);return jsxRuntimeExports.jsx(MessagesContext.Provider,{value:{messages:R,addMessage:I,clearMessages:F},children:_})}function AppLayoutInner({children:_}){const{isDark:R,toggleTheme:O}=useTheme();return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col bg-background text-foreground",children:[jsxRuntimeExports.jsx(Header,{isDark:R,onToggleTheme:O}),jsxRuntimeExports.jsx("main",{className:"flex-1 container mx-auto px-4 py-4",children:_})]})}function AppLayout({children:_}){return jsxRuntimeExports.jsx(ThemeProvider,{children:jsxRuntimeExports.jsx(AppLayoutInner,{children:_})})}class SimulationRenderer{app;mainContainer;cellsContainer;linksContainer;overlayContainer;uiContainer;isDark;renderOptions={};model=null;params=null;scale=1;centerX=0;centerY=0;constructor(R){this.isDark=R.isDark??!1,this.app=new Application,this.linksContainer=new Container,this.cellsContainer=new Container,this.overlayContainer=new Container,this.mainContainer=new Container,this.uiContainer=new Container,this.mainContainer.addChild(this.linksContainer),this.mainContainer.addChild(this.cellsContainer),this.mainContainer.addChild(this.overlayContainer)}async init(R){const O=this.model?.renderer.getBackgroundColor(this.isDark)??16777215;await this.app.init({canvas:R,width:R.width,height:R.height,backgroundColor:O,antialias:!0,resolution:typeof window<"u"&&window.devicePixelRatio||1,autoDensity:!0,preserveDrawingBuffer:!0}),this.app.stage.addChild(this.mainContainer),this.app.stage.addChild(this.uiContainer)}setModel(R){this.model=R;const O=R.renderer.getBackgroundColor(this.isDark);this.app.renderer&&(this.app.renderer.background.color=O)}setParams(R){this.params=R,this.updateViewport()}setDarkMode(R){if(this.isDark=R,this.model&&this.app.renderer){const O=this.model.renderer.getBackgroundColor(R);this.app.renderer.background.color=O}}setRenderOptions(R){this.renderOptions=R}resize(R,O){this.app.renderer&&(this.app.renderer.resize(R,O),this.updateViewport())}updateViewport(){if(!this.model||!this.params||!this.app.renderer)return;const R=this.app.renderer.width,O=this.app.renderer.height,I=this.model.renderer.getBoundingBox(this.params,void 0),F=.1,z=(I.maxX-I.minX)*(1+2*F),L=(I.maxY-I.minY)*(1+2*F);this.centerX=(I.minX+I.maxX)/2,this.centerY=(I.minY+I.maxY)/2;const U=R/z,q=O/L;this.scale=Math.min(U,q),this.mainContainer.scale.set(this.scale,-this.scale),this.mainContainer.position.set(R/2-this.centerX*this.scale,O/2+this.centerY*this.scale)}render(R){if(!this.model||!this.params)return;this.cellsContainer.removeChildren(),this.linksContainer.removeChildren(),this.overlayContainer.removeChildren(),this.uiContainer.removeChildren();const O=new Graphics,I=new Graphics,F=new Graphics;this.cellsContainer.addChild(O),this.linksContainer.addChild(I),this.overlayContainer.addChild(F);const z=this.app.renderer?.width??800,L=this.app.renderer?.height??600,U={graphics:{cells:O,links:I,overlay:F},uiContainer:this.uiContainer,isDark:this.isDark,scale:this.scale,viewportCenter:{x:this.centerX,y:this.centerY},canvasSize:{width:z,height:L},renderOptions:this.renderOptions};this.model.renderer.render(U,R,this.params),this.renderOptions.showScaleBar!==!1&&this.drawScaleBar()}drawScaleBar(){if(!this.app.renderer)return;const R=this.app.renderer.width,O=this.app.renderer.height,F=2*this.scale,z=20,L=R-z-F,U=O-z-10,q=this.isDark?11579600:6579300,G=this.isDark?11581695:5263520,V=new Graphics;V.moveTo(L,U),V.lineTo(L+F,U),V.stroke({color:q,alpha:1,width:2}),V.moveTo(L,U-5),V.lineTo(L,U+5),V.moveTo(L+F,U-5),V.lineTo(L+F,U+5),V.stroke({color:q,alpha:1,width:2}),this.uiContainer.addChild(V);const Z=new TextStyle({fontFamily:"monospace",fontSize:12,fill:G}),Y=new Text$1({text:"10 m",style:Z});Y.anchor.set(.5,0),Y.position.set(L+F/2,U+8),this.uiContainer.addChild(Y)}getApp(){return this.app}destroy(){this.app.destroy(!0)}}var __accessCheck$1=(_,R,O)=>{if(!R.has(_))throw TypeError("Cannot "+O)},__privateGet$1=(_,R,O)=>(__accessCheck$1(_,R,"read from private field"),O?O.call(_):R.get(_)),__privateAdd$1=(_,R,O)=>{if(R.has(_))throw TypeError("Cannot add the same private member more than once");R instanceof WeakSet?R.add(_):R.set(_,O)},__privateSet$1=(_,R,O,I)=>(__accessCheck$1(_,R,"write to private field"),R.set(_,O),O),__privateWrapper=(_,R,O,I)=>({set _(F){__privateSet$1(_,R,F)},get _(){return __privateGet$1(_,R,I)}}),__privateMethod$1=(_,R,O)=>(__accessCheck$1(_,R,"access private method"),O),bytes=new Uint8Array(8),view=new DataView(bytes.buffer),u8=_=>[(_%256+256)%256],u16=_=>(view.setUint16(0,_,!1),[bytes[0],bytes[1]]),i16=_=>(view.setInt16(0,_,!1),[bytes[0],bytes[1]]),u24=_=>(view.setUint32(0,_,!1),[bytes[1],bytes[2],bytes[3]]),u32=_=>(view.setUint32(0,_,!1),[bytes[0],bytes[1],bytes[2],bytes[3]]),i32=_=>(view.setInt32(0,_,!1),[bytes[0],bytes[1],bytes[2],bytes[3]]),u64=_=>(view.setUint32(0,Math.floor(_/2**32),!1),view.setUint32(4,_,!1),[bytes[0],bytes[1],bytes[2],bytes[3],bytes[4],bytes[5],bytes[6],bytes[7]]),fixed_8_8=_=>(view.setInt16(0,2**8*_,!1),[bytes[0],bytes[1]]),fixed_16_16=_=>(view.setInt32(0,2**16*_,!1),[bytes[0],bytes[1],bytes[2],bytes[3]]),fixed_2_30=_=>(view.setInt32(0,2**30*_,!1),[bytes[0],bytes[1],bytes[2],bytes[3]]),ascii=(_,R=!1)=>{let O=Array(_.length).fill(null).map((I,F)=>_.charCodeAt(F));return R&&O.push(0),O},last=_=>_&&_[_.length-1],lastPresentedSample=_=>{let R;for(let O of _)(!R||O.presentationTimestamp>R.presentationTimestamp)&&(R=O);return R},intoTimescale=(_,R,O=!0)=>{let I=_*R;return O?Math.round(I):I},rotationMatrix=_=>{let R=_*(Math.PI/180),O=Math.cos(R),I=Math.sin(R);return[O,I,0,-I,O,0,0,0,1]},IDENTITY_MATRIX=rotationMatrix(0),matrixToBytes=_=>[fixed_16_16(_[0]),fixed_16_16(_[1]),fixed_2_30(_[2]),fixed_16_16(_[3]),fixed_16_16(_[4]),fixed_2_30(_[5]),fixed_16_16(_[6]),fixed_16_16(_[7]),fixed_2_30(_[8])],deepClone=_=>!_||typeof _!="object"?_:Array.isArray(_)?_.map(deepClone):Object.fromEntries(Object.entries(_).map(([R,O])=>[R,deepClone(O)])),isU32=_=>_>=0&&_<2**32,box=(_,R,O)=>({type:_,contents:R&&new Uint8Array(R.flat(10)),children:O}),fullBox=(_,R,O,I,F)=>box(_,[u8(R),u24(O),I??[]],F),ftyp=_=>{let R=512;return _.fragmented?box("ftyp",[ascii("iso5"),u32(R),ascii("iso5"),ascii("iso6"),ascii("mp41")]):box("ftyp",[ascii("isom"),u32(R),ascii("isom"),_.holdsAvc?ascii("avc1"):[],ascii("mp41")])},mdat=_=>({type:"mdat",largeSize:_}),free=_=>({type:"free",size:_}),moov=(_,R,O=!1)=>box("moov",null,[mvhd(R,_),..._.map(I=>trak(I,R)),O?mvex(_):null]),mvhd=(_,R)=>{let O=intoTimescale(Math.max(0,...R.filter(L=>L.samples.length>0).map(L=>{const U=lastPresentedSample(L.samples);return U.presentationTimestamp+U.duration})),GLOBAL_TIMESCALE),I=Math.max(...R.map(L=>L.id))+1,F=!isU32(_)||!isU32(O),z=F?u64:u32;return fullBox("mvhd",+F,0,[z(_),z(_),u32(GLOBAL_TIMESCALE),z(O),fixed_16_16(1),fixed_8_8(1),Array(10).fill(0),matrixToBytes(IDENTITY_MATRIX),Array(24).fill(0),u32(I)])},trak=(_,R)=>box("trak",null,[tkhd(_,R),mdia(_,R)]),tkhd=(_,R)=>{let O=lastPresentedSample(_.samples),I=intoTimescale(O?O.presentationTimestamp+O.duration:0,GLOBAL_TIMESCALE),F=!isU32(R)||!isU32(I),z=F?u64:u32,L;return _.info.type==="video"?L=typeof _.info.rotation=="number"?rotationMatrix(_.info.rotation):_.info.rotation:L=IDENTITY_MATRIX,fullBox("tkhd",+F,3,[z(R),z(R),u32(_.id),u32(0),z(I),Array(8).fill(0),u16(0),u16(0),fixed_8_8(_.info.type==="audio"?1:0),u16(0),matrixToBytes(L),fixed_16_16(_.info.type==="video"?_.info.width:0),fixed_16_16(_.info.type==="video"?_.info.height:0)])},mdia=(_,R)=>box("mdia",null,[mdhd(_,R),hdlr(_.info.type==="video"?"vide":"soun"),minf(_)]),mdhd=(_,R)=>{let O=lastPresentedSample(_.samples),I=intoTimescale(O?O.presentationTimestamp+O.duration:0,_.timescale),F=!isU32(R)||!isU32(I),z=F?u64:u32;return fullBox("mdhd",+F,0,[z(R),z(R),u32(_.timescale),z(I),u16(21956),u16(0)])},hdlr=_=>fullBox("hdlr",0,0,[ascii("mhlr"),ascii(_),u32(0),u32(0),u32(0),ascii("mp4-muxer-hdlr",!0)]),minf=_=>box("minf",null,[_.info.type==="video"?vmhd():smhd(),dinf(),stbl(_)]),vmhd=()=>fullBox("vmhd",0,1,[u16(0),u16(0),u16(0),u16(0)]),smhd=()=>fullBox("smhd",0,0,[u16(0),u16(0)]),dinf=()=>box("dinf",null,[dref()]),dref=()=>fullBox("dref",0,0,[u32(1)],[url()]),url=()=>fullBox("url ",0,1),stbl=_=>{const R=_.compositionTimeOffsetTable.length>1||_.compositionTimeOffsetTable.some(O=>O.sampleCompositionTimeOffset!==0);return box("stbl",null,[stsd(_),stts(_),stss(_),stsc(_),stsz(_),stco(_),R?ctts(_):null])},stsd=_=>fullBox("stsd",0,0,[u32(1)],[_.info.type==="video"?videoSampleDescription(VIDEO_CODEC_TO_BOX_NAME[_.info.codec],_):soundSampleDescription(AUDIO_CODEC_TO_BOX_NAME[_.info.codec],_)]),videoSampleDescription=(_,R)=>box(_,[Array(6).fill(0),u16(1),u16(0),u16(0),Array(12).fill(0),u16(R.info.width),u16(R.info.height),u32(4718592),u32(4718592),u32(0),u16(1),Array(32).fill(0),u16(24),i16(65535)],[VIDEO_CODEC_TO_CONFIGURATION_BOX[R.info.codec](R),R.info.decoderConfig.colorSpace?colr(R):null]),COLOR_PRIMARIES_MAP={bt709:1,bt470bg:5,smpte170m:6},TRANSFER_CHARACTERISTICS_MAP={bt709:1,smpte170m:6,"iec61966-2-1":13},MATRIX_COEFFICIENTS_MAP={rgb:0,bt709:1,bt470bg:5,smpte170m:6},colr=_=>box("colr",[ascii("nclx"),u16(COLOR_PRIMARIES_MAP[_.info.decoderConfig.colorSpace.primaries]),u16(TRANSFER_CHARACTERISTICS_MAP[_.info.decoderConfig.colorSpace.transfer]),u16(MATRIX_COEFFICIENTS_MAP[_.info.decoderConfig.colorSpace.matrix]),u8((_.info.decoderConfig.colorSpace.fullRange?1:0)<<7)]),avcC=_=>_.info.decoderConfig&&box("avcC",[...new Uint8Array(_.info.decoderConfig.description)]),hvcC=_=>_.info.decoderConfig&&box("hvcC",[...new Uint8Array(_.info.decoderConfig.description)]),vpcC=_=>{if(!_.info.decoderConfig)return null;let R=_.info.decoderConfig;if(!R.colorSpace)throw new Error("'colorSpace' is required in the decoder config for VP9.");let O=R.codec.split("."),I=Number(O[1]),F=Number(O[2]),U=(Number(O[3])<<4)+(0<<1)+Number(R.colorSpace.fullRange);return fullBox("vpcC",1,0,[u8(I),u8(F),u8(U),u8(2),u8(2),u8(2),u16(0)])},av1C=()=>{let O=(1<<7)+1;return box("av1C",[O,0,0,0])},soundSampleDescription=(_,R)=>box(_,[Array(6).fill(0),u16(1),u16(0),u16(0),u32(0),u16(R.info.numberOfChannels),u16(16),u16(0),u16(0),fixed_16_16(R.info.sampleRate)],[AUDIO_CODEC_TO_CONFIGURATION_BOX[R.info.codec](R)]),esds=_=>{let R=new Uint8Array(_.info.decoderConfig.description);return fullBox("esds",0,0,[u32(58753152),u8(32+R.byteLength),u16(1),u8(0),u32(75530368),u8(18+R.byteLength),u8(64),u8(21),u24(0),u32(130071),u32(130071),u32(92307584),u8(R.byteLength),...R,u32(109084800),u8(1),u8(2)])},dOps=_=>{let R=3840,O=0;const I=_.info.decoderConfig?.description;if(I){if(I.byteLength<18)throw new TypeError("Invalid decoder description provided for Opus; must be at least 18 bytes long.");const F=ArrayBuffer.isView(I)?new DataView(I.buffer,I.byteOffset,I.byteLength):new DataView(I);R=F.getUint16(10,!0),O=F.getInt16(14,!0)}return box("dOps",[u8(0),u8(_.info.numberOfChannels),u16(R),u32(_.info.sampleRate),fixed_8_8(O),u8(0)])},stts=_=>fullBox("stts",0,0,[u32(_.timeToSampleTable.length),_.timeToSampleTable.map(R=>[u32(R.sampleCount),u32(R.sampleDelta)])]),stss=_=>{if(_.samples.every(O=>O.type==="key"))return null;let R=[..._.samples.entries()].filter(([,O])=>O.type==="key");return fullBox("stss",0,0,[u32(R.length),R.map(([O])=>u32(O+1))])},stsc=_=>fullBox("stsc",0,0,[u32(_.compactlyCodedChunkTable.length),_.compactlyCodedChunkTable.map(R=>[u32(R.firstChunk),u32(R.samplesPerChunk),u32(1)])]),stsz=_=>fullBox("stsz",0,0,[u32(0),u32(_.samples.length),_.samples.map(R=>u32(R.size))]),stco=_=>_.finalizedChunks.length>0&&last(_.finalizedChunks).offset>=2**32?fullBox("co64",0,0,[u32(_.finalizedChunks.length),_.finalizedChunks.map(R=>u64(R.offset))]):fullBox("stco",0,0,[u32(_.finalizedChunks.length),_.finalizedChunks.map(R=>u32(R.offset))]),ctts=_=>fullBox("ctts",0,0,[u32(_.compositionTimeOffsetTable.length),_.compositionTimeOffsetTable.map(R=>[u32(R.sampleCount),u32(R.sampleCompositionTimeOffset)])]),mvex=_=>box("mvex",null,_.map(trex)),trex=_=>fullBox("trex",0,0,[u32(_.id),u32(1),u32(0),u32(0),u32(0)]),moof=(_,R)=>box("moof",null,[mfhd(_),...R.map(traf)]),mfhd=_=>fullBox("mfhd",0,0,[u32(_)]),fragmentSampleFlags=_=>{let R=0,O=0,I=0,F=0,z=_.type==="delta";return O|=+z,z?R|=1:R|=2,R<<24|O<<16|I<<8|F},traf=_=>box("traf",null,[tfhd(_),tfdt(_),trun(_)]),tfhd=_=>{let R=0;R|=8,R|=16,R|=32,R|=131072;let O=_.currentChunk.samples[1]??_.currentChunk.samples[0],I={duration:O.timescaleUnitsToNextSample,size:O.size,flags:fragmentSampleFlags(O)};return fullBox("tfhd",0,R,[u32(_.id),u32(I.duration),u32(I.size),u32(I.flags)])},tfdt=_=>fullBox("tfdt",1,0,[u64(intoTimescale(_.currentChunk.startTimestamp,_.timescale))]),trun=_=>{let R=_.currentChunk.samples.map(ne=>ne.timescaleUnitsToNextSample),O=_.currentChunk.samples.map(ne=>ne.size),I=_.currentChunk.samples.map(fragmentSampleFlags),F=_.currentChunk.samples.map(ne=>intoTimescale(ne.presentationTimestamp-ne.decodeTimestamp,_.timescale)),z=new Set(R),L=new Set(O),U=new Set(I),q=new Set(F),G=U.size===2&&I[0]!==I[1],V=z.size>1,Z=L.size>1,Y=!G&&U.size>1,W=q.size>1||[...q].some(ne=>ne!==0),ee=0;return ee|=1,ee|=4*+G,ee|=256*+V,ee|=512*+Z,ee|=1024*+Y,ee|=2048*+W,fullBox("trun",1,ee,[u32(_.currentChunk.samples.length),u32(_.currentChunk.offset-_.currentChunk.moofOffset||0),G?u32(I[0]):[],_.currentChunk.samples.map((ne,ie)=>[V?u32(R[ie]):[],Z?u32(O[ie]):[],Y?u32(I[ie]):[],W?i32(F[ie]):[]])])},mfra=_=>box("mfra",null,[..._.map(tfra),mfro()]),tfra=(_,R)=>fullBox("tfra",1,0,[u32(_.id),u32(63),u32(_.finalizedChunks.length),_.finalizedChunks.map(I=>[u64(intoTimescale(I.startTimestamp,_.timescale)),u64(I.moofOffset),u32(R+1),u32(1),u32(1)])]),mfro=()=>fullBox("mfro",0,0,[u32(0)]),VIDEO_CODEC_TO_BOX_NAME={avc:"avc1",hevc:"hvc1",vp9:"vp09",av1:"av01"},VIDEO_CODEC_TO_CONFIGURATION_BOX={avc:avcC,hevc:hvcC,vp9:vpcC,av1:av1C},AUDIO_CODEC_TO_BOX_NAME={aac:"mp4a",opus:"Opus"},AUDIO_CODEC_TO_CONFIGURATION_BOX={aac:esds,opus:dOps},Target$1=class{},ArrayBufferTarget$1=class extends Target$1{constructor(){super(...arguments),this.buffer=null}},StreamTarget$1=class extends Target$1{constructor(R){if(super(),this.options=R,typeof R!="object")throw new TypeError("StreamTarget requires an options object to be passed to its constructor.");if(R.onData){if(typeof R.onData!="function")throw new TypeError("options.onData, when provided, must be a function.");if(R.onData.length<2)throw new TypeError("options.onData, when provided, must be a function that takes in at least two arguments (data and position). Ignoring the position argument, which specifies the byte offset at which the data is to be written, can lead to broken outputs.")}if(R.chunked!==void 0&&typeof R.chunked!="boolean")throw new TypeError("options.chunked, when provided, must be a boolean.");if(R.chunkSize!==void 0&&(!Number.isInteger(R.chunkSize)||R.chunkSize<1024))throw new TypeError("options.chunkSize, when provided, must be an integer and not smaller than 1024.")}},FileSystemWritableFileStreamTarget$1=class extends Target$1{constructor(R,O){if(super(),this.stream=R,this.options=O,!(R instanceof FileSystemWritableFileStream))throw new TypeError("FileSystemWritableFileStreamTarget requires a FileSystemWritableFileStream instance.");if(O!==void 0&&typeof O!="object")throw new TypeError("FileSystemWritableFileStreamTarget's options, when provided, must be an object.");if(O&&O.chunkSize!==void 0&&(!Number.isInteger(O.chunkSize)||O.chunkSize<=0))throw new TypeError("options.chunkSize, when provided, must be a positive integer")}},_helper$1,_helperView$1,Writer$1=class{constructor(){this.pos=0,__privateAdd$1(this,_helper$1,new Uint8Array(8)),__privateAdd$1(this,_helperView$1,new DataView(__privateGet$1(this,_helper$1).buffer)),this.offsets=new WeakMap}seek(R){this.pos=R}writeU32(R){__privateGet$1(this,_helperView$1).setUint32(0,R,!1),this.write(__privateGet$1(this,_helper$1).subarray(0,4))}writeU64(R){__privateGet$1(this,_helperView$1).setUint32(0,Math.floor(R/2**32),!1),__privateGet$1(this,_helperView$1).setUint32(4,R,!1),this.write(__privateGet$1(this,_helper$1).subarray(0,8))}writeAscii(R){for(let O=0;O<R.length;O++)__privateGet$1(this,_helperView$1).setUint8(O%8,R.charCodeAt(O)),O%8===7&&this.write(__privateGet$1(this,_helper$1));R.length%8!==0&&this.write(__privateGet$1(this,_helper$1).subarray(0,R.length%8))}writeBox(R){if(this.offsets.set(R,this.pos),R.contents&&!R.children)this.writeBoxHeader(R,R.size??R.contents.byteLength+8),this.write(R.contents);else{let O=this.pos;if(this.writeBoxHeader(R,0),R.contents&&this.write(R.contents),R.children)for(let z of R.children)z&&this.writeBox(z);let I=this.pos,F=R.size??I-O;this.seek(O),this.writeBoxHeader(R,F),this.seek(I)}}writeBoxHeader(R,O){this.writeU32(R.largeSize?1:O),this.writeAscii(R.type),R.largeSize&&this.writeU64(O)}measureBoxHeader(R){return 8+(R.largeSize?8:0)}patchBox(R){let O=this.pos;this.seek(this.offsets.get(R)),this.writeBox(R),this.seek(O)}measureBox(R){if(R.contents&&!R.children)return this.measureBoxHeader(R)+R.contents.byteLength;{let O=this.measureBoxHeader(R);if(R.contents&&(O+=R.contents.byteLength),R.children)for(let I of R.children)I&&(O+=this.measureBox(I));return O}}};_helper$1=new WeakMap;_helperView$1=new WeakMap;var _target$1,_buffer$1,_bytes$1,_maxPos,_ensureSize$1,ensureSize_fn$1,ArrayBufferTargetWriter$1=class extends Writer$1{constructor(R){super(),__privateAdd$1(this,_ensureSize$1),__privateAdd$1(this,_target$1,void 0),__privateAdd$1(this,_buffer$1,new ArrayBuffer(2**16)),__privateAdd$1(this,_bytes$1,new Uint8Array(__privateGet$1(this,_buffer$1))),__privateAdd$1(this,_maxPos,0),__privateSet$1(this,_target$1,R)}write(R){__privateMethod$1(this,_ensureSize$1,ensureSize_fn$1).call(this,this.pos+R.byteLength),__privateGet$1(this,_bytes$1).set(R,this.pos),this.pos+=R.byteLength,__privateSet$1(this,_maxPos,Math.max(__privateGet$1(this,_maxPos),this.pos))}finalize(){__privateMethod$1(this,_ensureSize$1,ensureSize_fn$1).call(this,this.pos),__privateGet$1(this,_target$1).buffer=__privateGet$1(this,_buffer$1).slice(0,Math.max(__privateGet$1(this,_maxPos),this.pos))}};_target$1=new WeakMap;_buffer$1=new WeakMap;_bytes$1=new WeakMap;_maxPos=new WeakMap;_ensureSize$1=new WeakSet;ensureSize_fn$1=function(_){let R=__privateGet$1(this,_buffer$1).byteLength;for(;R<_;)R*=2;if(R===__privateGet$1(this,_buffer$1).byteLength)return;let O=new ArrayBuffer(R),I=new Uint8Array(O);I.set(__privateGet$1(this,_bytes$1),0),__privateSet$1(this,_buffer$1,O),__privateSet$1(this,_bytes$1,I)};var DEFAULT_CHUNK_SIZE$1=2**24,MAX_CHUNKS_AT_ONCE$1=2,_target2,_sections$1,_chunked$1,_chunkSize$1,_chunks$1,_writeDataIntoChunks$1,writeDataIntoChunks_fn$1,_insertSectionIntoChunk$1,insertSectionIntoChunk_fn$1,_createChunk$1,createChunk_fn$1,_flushChunks$1,flushChunks_fn$1,StreamTargetWriter$1=class extends Writer$1{constructor(R){super(),__privateAdd$1(this,_writeDataIntoChunks$1),__privateAdd$1(this,_insertSectionIntoChunk$1),__privateAdd$1(this,_createChunk$1),__privateAdd$1(this,_flushChunks$1),__privateAdd$1(this,_target2,void 0),__privateAdd$1(this,_sections$1,[]),__privateAdd$1(this,_chunked$1,void 0),__privateAdd$1(this,_chunkSize$1,void 0),__privateAdd$1(this,_chunks$1,[]),__privateSet$1(this,_target2,R),__privateSet$1(this,_chunked$1,R.options?.chunked??!1),__privateSet$1(this,_chunkSize$1,R.options?.chunkSize??DEFAULT_CHUNK_SIZE$1)}write(R){__privateGet$1(this,_sections$1).push({data:R.slice(),start:this.pos}),this.pos+=R.byteLength}flush(){if(__privateGet$1(this,_sections$1).length===0)return;let R=[],O=[...__privateGet$1(this,_sections$1)].sort((I,F)=>I.start-F.start);R.push({start:O[0].start,size:O[0].data.byteLength});for(let I=1;I<O.length;I++){let F=R[R.length-1],z=O[I];z.start<=F.start+F.size?F.size=Math.max(F.size,z.start+z.data.byteLength-F.start):R.push({start:z.start,size:z.data.byteLength})}for(let I of R){I.data=new Uint8Array(I.size);for(let F of __privateGet$1(this,_sections$1))I.start<=F.start&&F.start<I.start+I.size&&I.data.set(F.data,F.start-I.start);__privateGet$1(this,_chunked$1)?(__privateMethod$1(this,_writeDataIntoChunks$1,writeDataIntoChunks_fn$1).call(this,I.data,I.start),__privateMethod$1(this,_flushChunks$1,flushChunks_fn$1).call(this)):__privateGet$1(this,_target2).options.onData?.(I.data,I.start)}__privateGet$1(this,_sections$1).length=0}finalize(){__privateGet$1(this,_chunked$1)&&__privateMethod$1(this,_flushChunks$1,flushChunks_fn$1).call(this,!0)}};_target2=new WeakMap;_sections$1=new WeakMap;_chunked$1=new WeakMap;_chunkSize$1=new WeakMap;_chunks$1=new WeakMap;_writeDataIntoChunks$1=new WeakSet;writeDataIntoChunks_fn$1=function(_,R){let O=__privateGet$1(this,_chunks$1).findIndex(U=>U.start<=R&&R<U.start+__privateGet$1(this,_chunkSize$1));O===-1&&(O=__privateMethod$1(this,_createChunk$1,createChunk_fn$1).call(this,R));let I=__privateGet$1(this,_chunks$1)[O],F=R-I.start,z=_.subarray(0,Math.min(__privateGet$1(this,_chunkSize$1)-F,_.byteLength));I.data.set(z,F);let L={start:F,end:F+z.byteLength};if(__privateMethod$1(this,_insertSectionIntoChunk$1,insertSectionIntoChunk_fn$1).call(this,I,L),I.written[0].start===0&&I.written[0].end===__privateGet$1(this,_chunkSize$1)&&(I.shouldFlush=!0),__privateGet$1(this,_chunks$1).length>MAX_CHUNKS_AT_ONCE$1){for(let U=0;U<__privateGet$1(this,_chunks$1).length-1;U++)__privateGet$1(this,_chunks$1)[U].shouldFlush=!0;__privateMethod$1(this,_flushChunks$1,flushChunks_fn$1).call(this)}z.byteLength<_.byteLength&&__privateMethod$1(this,_writeDataIntoChunks$1,writeDataIntoChunks_fn$1).call(this,_.subarray(z.byteLength),R+z.byteLength)};_insertSectionIntoChunk$1=new WeakSet;insertSectionIntoChunk_fn$1=function(_,R){let O=0,I=_.written.length-1,F=-1;for(;O<=I;){let z=Math.floor(O+(I-O+1)/2);_.written[z].start<=R.start?(O=z+1,F=z):I=z-1}for(_.written.splice(F+1,0,R),(F===-1||_.written[F].end<R.start)&&F++;F<_.written.length-1&&_.written[F].end>=_.written[F+1].start;)_.written[F].end=Math.max(_.written[F].end,_.written[F+1].end),_.written.splice(F+1,1)};_createChunk$1=new WeakSet;createChunk_fn$1=function(_){let O={start:Math.floor(_/__privateGet$1(this,_chunkSize$1))*__privateGet$1(this,_chunkSize$1),data:new Uint8Array(__privateGet$1(this,_chunkSize$1)),written:[],shouldFlush:!1};return __privateGet$1(this,_chunks$1).push(O),__privateGet$1(this,_chunks$1).sort((I,F)=>I.start-F.start),__privateGet$1(this,_chunks$1).indexOf(O)};_flushChunks$1=new WeakSet;flushChunks_fn$1=function(_=!1){for(let R=0;R<__privateGet$1(this,_chunks$1).length;R++){let O=__privateGet$1(this,_chunks$1)[R];if(!(!O.shouldFlush&&!_)){for(let I of O.written)__privateGet$1(this,_target2).options.onData?.(O.data.subarray(I.start,I.end),O.start+I.start);__privateGet$1(this,_chunks$1).splice(R--,1)}}};var FileSystemWritableFileStreamTargetWriter$1=class extends StreamTargetWriter$1{constructor(R){super(new StreamTarget$1({onData:(O,I)=>R.stream.write({type:"write",data:O,position:I}),chunked:!0,chunkSize:R.options?.chunkSize}))}},GLOBAL_TIMESCALE=1e3,SUPPORTED_VIDEO_CODECS=["avc","hevc","vp9","av1"],SUPPORTED_AUDIO_CODECS=["aac","opus"],TIMESTAMP_OFFSET=2082844800,FIRST_TIMESTAMP_BEHAVIORS$1=["strict","offset","cross-track-offset"],_options$1,_writer$1,_ftypSize,_mdat,_videoTrack,_audioTrack,_creationTime,_finalizedChunks,_nextFragmentNumber,_videoSampleQueue,_audioSampleQueue,_finalized$1,_validateOptions$1,validateOptions_fn$1,_writeHeader,writeHeader_fn,_computeMoovSizeUpperBound,computeMoovSizeUpperBound_fn,_prepareTracks,prepareTracks_fn,_generateMpeg4AudioSpecificConfig,generateMpeg4AudioSpecificConfig_fn,_createSampleForTrack,createSampleForTrack_fn,_addSampleToTrack,addSampleToTrack_fn,_validateTimestamp$1,validateTimestamp_fn$1,_finalizeCurrentChunk,finalizeCurrentChunk_fn,_finalizeFragment,finalizeFragment_fn,_maybeFlushStreamingTargetWriter$1,maybeFlushStreamingTargetWriter_fn$1,_ensureNotFinalized$1,ensureNotFinalized_fn$1,Muxer$1=class{constructor(R){if(__privateAdd$1(this,_validateOptions$1),__privateAdd$1(this,_writeHeader),__privateAdd$1(this,_computeMoovSizeUpperBound),__privateAdd$1(this,_prepareTracks),__privateAdd$1(this,_generateMpeg4AudioSpecificConfig),__privateAdd$1(this,_createSampleForTrack),__privateAdd$1(this,_addSampleToTrack),__privateAdd$1(this,_validateTimestamp$1),__privateAdd$1(this,_finalizeCurrentChunk),__privateAdd$1(this,_finalizeFragment),__privateAdd$1(this,_maybeFlushStreamingTargetWriter$1),__privateAdd$1(this,_ensureNotFinalized$1),__privateAdd$1(this,_options$1,void 0),__privateAdd$1(this,_writer$1,void 0),__privateAdd$1(this,_ftypSize,void 0),__privateAdd$1(this,_mdat,void 0),__privateAdd$1(this,_videoTrack,null),__privateAdd$1(this,_audioTrack,null),__privateAdd$1(this,_creationTime,Math.floor(Date.now()/1e3)+TIMESTAMP_OFFSET),__privateAdd$1(this,_finalizedChunks,[]),__privateAdd$1(this,_nextFragmentNumber,1),__privateAdd$1(this,_videoSampleQueue,[]),__privateAdd$1(this,_audioSampleQueue,[]),__privateAdd$1(this,_finalized$1,!1),__privateMethod$1(this,_validateOptions$1,validateOptions_fn$1).call(this,R),R.video=deepClone(R.video),R.audio=deepClone(R.audio),R.fastStart=deepClone(R.fastStart),this.target=R.target,__privateSet$1(this,_options$1,{firstTimestampBehavior:"strict",...R}),R.target instanceof ArrayBufferTarget$1)__privateSet$1(this,_writer$1,new ArrayBufferTargetWriter$1(R.target));else if(R.target instanceof StreamTarget$1)__privateSet$1(this,_writer$1,new StreamTargetWriter$1(R.target));else if(R.target instanceof FileSystemWritableFileStreamTarget$1)__privateSet$1(this,_writer$1,new FileSystemWritableFileStreamTargetWriter$1(R.target));else throw new Error(`Invalid target: ${R.target}`);__privateMethod$1(this,_prepareTracks,prepareTracks_fn).call(this),__privateMethod$1(this,_writeHeader,writeHeader_fn).call(this)}addVideoChunk(R,O,I,F){if(!(R instanceof EncodedVideoChunk))throw new TypeError("addVideoChunk's first argument (sample) must be of type EncodedVideoChunk.");if(O&&typeof O!="object")throw new TypeError("addVideoChunk's second argument (meta), when provided, must be an object.");if(I!==void 0&&(!Number.isFinite(I)||I<0))throw new TypeError("addVideoChunk's third argument (timestamp), when provided, must be a non-negative real number.");if(F!==void 0&&!Number.isFinite(F))throw new TypeError("addVideoChunk's fourth argument (compositionTimeOffset), when provided, must be a real number.");let z=new Uint8Array(R.byteLength);R.copyTo(z),this.addVideoChunkRaw(z,R.type,I??R.timestamp,R.duration,O,F)}addVideoChunkRaw(R,O,I,F,z,L){if(!(R instanceof Uint8Array))throw new TypeError("addVideoChunkRaw's first argument (data) must be an instance of Uint8Array.");if(O!=="key"&&O!=="delta")throw new TypeError("addVideoChunkRaw's second argument (type) must be either 'key' or 'delta'.");if(!Number.isFinite(I)||I<0)throw new TypeError("addVideoChunkRaw's third argument (timestamp) must be a non-negative real number.");if(!Number.isFinite(F)||F<0)throw new TypeError("addVideoChunkRaw's fourth argument (duration) must be a non-negative real number.");if(z&&typeof z!="object")throw new TypeError("addVideoChunkRaw's fifth argument (meta), when provided, must be an object.");if(L!==void 0&&!Number.isFinite(L))throw new TypeError("addVideoChunkRaw's sixth argument (compositionTimeOffset), when provided, must be a real number.");if(__privateMethod$1(this,_ensureNotFinalized$1,ensureNotFinalized_fn$1).call(this),!__privateGet$1(this,_options$1).video)throw new Error("No video track declared.");if(typeof __privateGet$1(this,_options$1).fastStart=="object"&&__privateGet$1(this,_videoTrack).samples.length===__privateGet$1(this,_options$1).fastStart.expectedVideoChunks)throw new Error(`Cannot add more video chunks than specified in 'fastStart' (${__privateGet$1(this,_options$1).fastStart.expectedVideoChunks}).`);let U=__privateMethod$1(this,_createSampleForTrack,createSampleForTrack_fn).call(this,__privateGet$1(this,_videoTrack),R,O,I,F,z,L);if(__privateGet$1(this,_options$1).fastStart==="fragmented"&&__privateGet$1(this,_audioTrack)){for(;__privateGet$1(this,_audioSampleQueue).length>0&&__privateGet$1(this,_audioSampleQueue)[0].decodeTimestamp<=U.decodeTimestamp;){let q=__privateGet$1(this,_audioSampleQueue).shift();__privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_audioTrack),q)}U.decodeTimestamp<=__privateGet$1(this,_audioTrack).lastDecodeTimestamp?__privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_videoTrack),U):__privateGet$1(this,_videoSampleQueue).push(U)}else __privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_videoTrack),U)}addAudioChunk(R,O,I){if(!(R instanceof EncodedAudioChunk))throw new TypeError("addAudioChunk's first argument (sample) must be of type EncodedAudioChunk.");if(O&&typeof O!="object")throw new TypeError("addAudioChunk's second argument (meta), when provided, must be an object.");if(I!==void 0&&(!Number.isFinite(I)||I<0))throw new TypeError("addAudioChunk's third argument (timestamp), when provided, must be a non-negative real number.");let F=new Uint8Array(R.byteLength);R.copyTo(F),this.addAudioChunkRaw(F,R.type,I??R.timestamp,R.duration,O)}addAudioChunkRaw(R,O,I,F,z){if(!(R instanceof Uint8Array))throw new TypeError("addAudioChunkRaw's first argument (data) must be an instance of Uint8Array.");if(O!=="key"&&O!=="delta")throw new TypeError("addAudioChunkRaw's second argument (type) must be either 'key' or 'delta'.");if(!Number.isFinite(I)||I<0)throw new TypeError("addAudioChunkRaw's third argument (timestamp) must be a non-negative real number.");if(!Number.isFinite(F)||F<0)throw new TypeError("addAudioChunkRaw's fourth argument (duration) must be a non-negative real number.");if(z&&typeof z!="object")throw new TypeError("addAudioChunkRaw's fifth argument (meta), when provided, must be an object.");if(__privateMethod$1(this,_ensureNotFinalized$1,ensureNotFinalized_fn$1).call(this),!__privateGet$1(this,_options$1).audio)throw new Error("No audio track declared.");if(typeof __privateGet$1(this,_options$1).fastStart=="object"&&__privateGet$1(this,_audioTrack).samples.length===__privateGet$1(this,_options$1).fastStart.expectedAudioChunks)throw new Error(`Cannot add more audio chunks than specified in 'fastStart' (${__privateGet$1(this,_options$1).fastStart.expectedAudioChunks}).`);let L=__privateMethod$1(this,_createSampleForTrack,createSampleForTrack_fn).call(this,__privateGet$1(this,_audioTrack),R,O,I,F,z);if(__privateGet$1(this,_options$1).fastStart==="fragmented"&&__privateGet$1(this,_videoTrack)){for(;__privateGet$1(this,_videoSampleQueue).length>0&&__privateGet$1(this,_videoSampleQueue)[0].decodeTimestamp<=L.decodeTimestamp;){let U=__privateGet$1(this,_videoSampleQueue).shift();__privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_videoTrack),U)}L.decodeTimestamp<=__privateGet$1(this,_videoTrack).lastDecodeTimestamp?__privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_audioTrack),L):__privateGet$1(this,_audioSampleQueue).push(L)}else __privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_audioTrack),L)}finalize(){if(__privateGet$1(this,_finalized$1))throw new Error("Cannot finalize a muxer more than once.");if(__privateGet$1(this,_options$1).fastStart==="fragmented"){for(let O of __privateGet$1(this,_videoSampleQueue))__privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_videoTrack),O);for(let O of __privateGet$1(this,_audioSampleQueue))__privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_audioTrack),O);__privateMethod$1(this,_finalizeFragment,finalizeFragment_fn).call(this,!1)}else __privateGet$1(this,_videoTrack)&&__privateMethod$1(this,_finalizeCurrentChunk,finalizeCurrentChunk_fn).call(this,__privateGet$1(this,_videoTrack)),__privateGet$1(this,_audioTrack)&&__privateMethod$1(this,_finalizeCurrentChunk,finalizeCurrentChunk_fn).call(this,__privateGet$1(this,_audioTrack));let R=[__privateGet$1(this,_videoTrack),__privateGet$1(this,_audioTrack)].filter(Boolean);if(__privateGet$1(this,_options$1).fastStart==="in-memory"){let O;for(let F=0;F<2;F++){let z=moov(R,__privateGet$1(this,_creationTime)),L=__privateGet$1(this,_writer$1).measureBox(z);O=__privateGet$1(this,_writer$1).measureBox(__privateGet$1(this,_mdat));let U=__privateGet$1(this,_writer$1).pos+L+O;for(let q of __privateGet$1(this,_finalizedChunks)){q.offset=U;for(let{data:G}of q.samples)U+=G.byteLength,O+=G.byteLength}if(U<2**32)break;O>=2**32&&(__privateGet$1(this,_mdat).largeSize=!0)}let I=moov(R,__privateGet$1(this,_creationTime));__privateGet$1(this,_writer$1).writeBox(I),__privateGet$1(this,_mdat).size=O,__privateGet$1(this,_writer$1).writeBox(__privateGet$1(this,_mdat));for(let F of __privateGet$1(this,_finalizedChunks))for(let z of F.samples)__privateGet$1(this,_writer$1).write(z.data),z.data=null}else if(__privateGet$1(this,_options$1).fastStart==="fragmented"){let O=__privateGet$1(this,_writer$1).pos,I=mfra(R);__privateGet$1(this,_writer$1).writeBox(I);let F=__privateGet$1(this,_writer$1).pos-O;__privateGet$1(this,_writer$1).seek(__privateGet$1(this,_writer$1).pos-4),__privateGet$1(this,_writer$1).writeU32(F)}else{let O=__privateGet$1(this,_writer$1).offsets.get(__privateGet$1(this,_mdat)),I=__privateGet$1(this,_writer$1).pos-O;__privateGet$1(this,_mdat).size=I,__privateGet$1(this,_mdat).largeSize=I>=2**32,__privateGet$1(this,_writer$1).patchBox(__privateGet$1(this,_mdat));let F=moov(R,__privateGet$1(this,_creationTime));if(typeof __privateGet$1(this,_options$1).fastStart=="object"){__privateGet$1(this,_writer$1).seek(__privateGet$1(this,_ftypSize)),__privateGet$1(this,_writer$1).writeBox(F);let z=O-__privateGet$1(this,_writer$1).pos;__privateGet$1(this,_writer$1).writeBox(free(z))}else __privateGet$1(this,_writer$1).writeBox(F)}__privateMethod$1(this,_maybeFlushStreamingTargetWriter$1,maybeFlushStreamingTargetWriter_fn$1).call(this),__privateGet$1(this,_writer$1).finalize(),__privateSet$1(this,_finalized$1,!0)}};_options$1=new WeakMap;_writer$1=new WeakMap;_ftypSize=new WeakMap;_mdat=new WeakMap;_videoTrack=new WeakMap;_audioTrack=new WeakMap;_creationTime=new WeakMap;_finalizedChunks=new WeakMap;_nextFragmentNumber=new WeakMap;_videoSampleQueue=new WeakMap;_audioSampleQueue=new WeakMap;_finalized$1=new WeakMap;_validateOptions$1=new WeakSet;validateOptions_fn$1=function(_){if(typeof _!="object")throw new TypeError("The muxer requires an options object to be passed to its constructor.");if(!(_.target instanceof Target$1))throw new TypeError("The target must be provided and an instance of Target.");if(_.video){if(!SUPPORTED_VIDEO_CODECS.includes(_.video.codec))throw new TypeError(`Unsupported video codec: ${_.video.codec}`);if(!Number.isInteger(_.video.width)||_.video.width<=0)throw new TypeError(`Invalid video width: ${_.video.width}. Must be a positive integer.`);if(!Number.isInteger(_.video.height)||_.video.height<=0)throw new TypeError(`Invalid video height: ${_.video.height}. Must be a positive integer.`);const R=_.video.rotation;if(typeof R=="number"&&![0,90,180,270].includes(R))throw new TypeError(`Invalid video rotation: ${R}. Has to be 0, 90, 180 or 270.`);if(Array.isArray(R)&&(R.length!==9||R.some(O=>typeof O!="number")))throw new TypeError(`Invalid video transformation matrix: ${R.join()}`);if(_.video.frameRate!==void 0&&(!Number.isInteger(_.video.frameRate)||_.video.frameRate<=0))throw new TypeError(`Invalid video frame rate: ${_.video.frameRate}. Must be a positive integer.`)}if(_.audio){if(!SUPPORTED_AUDIO_CODECS.includes(_.audio.codec))throw new TypeError(`Unsupported audio codec: ${_.audio.codec}`);if(!Number.isInteger(_.audio.numberOfChannels)||_.audio.numberOfChannels<=0)throw new TypeError(`Invalid number of audio channels: ${_.audio.numberOfChannels}. Must be a positive integer.`);if(!Number.isInteger(_.audio.sampleRate)||_.audio.sampleRate<=0)throw new TypeError(`Invalid audio sample rate: ${_.audio.sampleRate}. Must be a positive integer.`)}if(_.firstTimestampBehavior&&!FIRST_TIMESTAMP_BEHAVIORS$1.includes(_.firstTimestampBehavior))throw new TypeError(`Invalid first timestamp behavior: ${_.firstTimestampBehavior}`);if(typeof _.fastStart=="object"){if(_.video){if(_.fastStart.expectedVideoChunks===void 0)throw new TypeError("'fastStart' is an object but is missing property 'expectedVideoChunks'.");if(!Number.isInteger(_.fastStart.expectedVideoChunks)||_.fastStart.expectedVideoChunks<0)throw new TypeError("'expectedVideoChunks' must be a non-negative integer.")}if(_.audio){if(_.fastStart.expectedAudioChunks===void 0)throw new TypeError("'fastStart' is an object but is missing property 'expectedAudioChunks'.");if(!Number.isInteger(_.fastStart.expectedAudioChunks)||_.fastStart.expectedAudioChunks<0)throw new TypeError("'expectedAudioChunks' must be a non-negative integer.")}}else if(![!1,"in-memory","fragmented"].includes(_.fastStart))throw new TypeError("'fastStart' option must be false, 'in-memory', 'fragmented' or an object.");if(_.minFragmentDuration!==void 0&&(!Number.isFinite(_.minFragmentDuration)||_.minFragmentDuration<0))throw new TypeError("'minFragmentDuration' must be a non-negative number.")};_writeHeader=new WeakSet;writeHeader_fn=function(){if(__privateGet$1(this,_writer$1).writeBox(ftyp({holdsAvc:__privateGet$1(this,_options$1).video?.codec==="avc",fragmented:__privateGet$1(this,_options$1).fastStart==="fragmented"})),__privateSet$1(this,_ftypSize,__privateGet$1(this,_writer$1).pos),__privateGet$1(this,_options$1).fastStart==="in-memory")__privateSet$1(this,_mdat,mdat(!1));else if(__privateGet$1(this,_options$1).fastStart!=="fragmented"){if(typeof __privateGet$1(this,_options$1).fastStart=="object"){let _=__privateMethod$1(this,_computeMoovSizeUpperBound,computeMoovSizeUpperBound_fn).call(this);__privateGet$1(this,_writer$1).seek(__privateGet$1(this,_writer$1).pos+_)}__privateSet$1(this,_mdat,mdat(!0)),__privateGet$1(this,_writer$1).writeBox(__privateGet$1(this,_mdat))}__privateMethod$1(this,_maybeFlushStreamingTargetWriter$1,maybeFlushStreamingTargetWriter_fn$1).call(this)};_computeMoovSizeUpperBound=new WeakSet;computeMoovSizeUpperBound_fn=function(){if(typeof __privateGet$1(this,_options$1).fastStart!="object")return;let _=0,R=[__privateGet$1(this,_options$1).fastStart.expectedVideoChunks,__privateGet$1(this,_options$1).fastStart.expectedAudioChunks];for(let O of R)O&&(_+=8*Math.ceil(2/3*O),_+=4*O,_+=12*Math.ceil(2/3*O),_+=4*O,_+=8*O);return _+=4096,_};_prepareTracks=new WeakSet;prepareTracks_fn=function(){if(__privateGet$1(this,_options$1).video&&__privateSet$1(this,_videoTrack,{id:1,info:{type:"video",codec:__privateGet$1(this,_options$1).video.codec,width:__privateGet$1(this,_options$1).video.width,height:__privateGet$1(this,_options$1).video.height,rotation:__privateGet$1(this,_options$1).video.rotation??0,decoderConfig:null},timescale:__privateGet$1(this,_options$1).video.frameRate??57600,samples:[],finalizedChunks:[],currentChunk:null,firstDecodeTimestamp:void 0,lastDecodeTimestamp:-1,timeToSampleTable:[],compositionTimeOffsetTable:[],lastTimescaleUnits:null,lastSample:null,compactlyCodedChunkTable:[]}),__privateGet$1(this,_options$1).audio&&(__privateSet$1(this,_audioTrack,{id:__privateGet$1(this,_options$1).video?2:1,info:{type:"audio",codec:__privateGet$1(this,_options$1).audio.codec,numberOfChannels:__privateGet$1(this,_options$1).audio.numberOfChannels,sampleRate:__privateGet$1(this,_options$1).audio.sampleRate,decoderConfig:null},timescale:__privateGet$1(this,_options$1).audio.sampleRate,samples:[],finalizedChunks:[],currentChunk:null,firstDecodeTimestamp:void 0,lastDecodeTimestamp:-1,timeToSampleTable:[],compositionTimeOffsetTable:[],lastTimescaleUnits:null,lastSample:null,compactlyCodedChunkTable:[]}),__privateGet$1(this,_options$1).audio.codec==="aac")){let _=__privateMethod$1(this,_generateMpeg4AudioSpecificConfig,generateMpeg4AudioSpecificConfig_fn).call(this,2,__privateGet$1(this,_options$1).audio.sampleRate,__privateGet$1(this,_options$1).audio.numberOfChannels);__privateGet$1(this,_audioTrack).info.decoderConfig={codec:__privateGet$1(this,_options$1).audio.codec,description:_,numberOfChannels:__privateGet$1(this,_options$1).audio.numberOfChannels,sampleRate:__privateGet$1(this,_options$1).audio.sampleRate}}};_generateMpeg4AudioSpecificConfig=new WeakSet;generateMpeg4AudioSpecificConfig_fn=function(_,R,O){let F=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350].indexOf(R),z=O,L="";L+=_.toString(2).padStart(5,"0"),L+=F.toString(2).padStart(4,"0"),F===15&&(L+=R.toString(2).padStart(24,"0")),L+=z.toString(2).padStart(4,"0");let U=Math.ceil(L.length/8)*8;L=L.padEnd(U,"0");let q=new Uint8Array(L.length/8);for(let G=0;G<L.length;G+=8)q[G/8]=parseInt(L.slice(G,G+8),2);return q};_createSampleForTrack=new WeakSet;createSampleForTrack_fn=function(_,R,O,I,F,z,L){let U=I/1e6,q=(I-(L??0))/1e6,G=F/1e6,V=__privateMethod$1(this,_validateTimestamp$1,validateTimestamp_fn$1).call(this,U,q,_);return U=V.presentationTimestamp,q=V.decodeTimestamp,z?.decoderConfig&&(_.info.decoderConfig===null?_.info.decoderConfig=z.decoderConfig:Object.assign(_.info.decoderConfig,z.decoderConfig)),{presentationTimestamp:U,decodeTimestamp:q,duration:G,data:R,size:R.byteLength,type:O,timescaleUnitsToNextSample:intoTimescale(G,_.timescale)}};_addSampleToTrack=new WeakSet;addSampleToTrack_fn=function(_,R){__privateGet$1(this,_options$1).fastStart!=="fragmented"&&_.samples.push(R);const O=intoTimescale(R.presentationTimestamp-R.decodeTimestamp,_.timescale);if(_.lastTimescaleUnits!==null){let F=intoTimescale(R.decodeTimestamp,_.timescale,!1),z=Math.round(F-_.lastTimescaleUnits);if(_.lastTimescaleUnits+=z,_.lastSample.timescaleUnitsToNextSample=z,__privateGet$1(this,_options$1).fastStart!=="fragmented"){let L=last(_.timeToSampleTable);L.sampleCount===1?(L.sampleDelta=z,L.sampleCount++):L.sampleDelta===z?L.sampleCount++:(L.sampleCount--,_.timeToSampleTable.push({sampleCount:2,sampleDelta:z}));const U=last(_.compositionTimeOffsetTable);U.sampleCompositionTimeOffset===O?U.sampleCount++:_.compositionTimeOffsetTable.push({sampleCount:1,sampleCompositionTimeOffset:O})}}else _.lastTimescaleUnits=0,__privateGet$1(this,_options$1).fastStart!=="fragmented"&&(_.timeToSampleTable.push({sampleCount:1,sampleDelta:intoTimescale(R.duration,_.timescale)}),_.compositionTimeOffsetTable.push({sampleCount:1,sampleCompositionTimeOffset:O}));_.lastSample=R;let I=!1;if(!_.currentChunk)I=!0;else{let F=R.presentationTimestamp-_.currentChunk.startTimestamp;if(__privateGet$1(this,_options$1).fastStart==="fragmented"){let z=__privateGet$1(this,_videoTrack)??__privateGet$1(this,_audioTrack);const L=__privateGet$1(this,_options$1).minFragmentDuration??1;_===z&&R.type==="key"&&F>=L&&(I=!0,__privateMethod$1(this,_finalizeFragment,finalizeFragment_fn).call(this))}else I=F>=.5}I&&(_.currentChunk&&__privateMethod$1(this,_finalizeCurrentChunk,finalizeCurrentChunk_fn).call(this,_),_.currentChunk={startTimestamp:R.presentationTimestamp,samples:[]}),_.currentChunk.samples.push(R)};_validateTimestamp$1=new WeakSet;validateTimestamp_fn$1=function(_,R,O){const I=__privateGet$1(this,_options$1).firstTimestampBehavior==="strict",F=O.lastDecodeTimestamp===-1;if(I&&F&&R!==0)throw new Error(`The first chunk for your media track must have a timestamp of 0 (received DTS=${R}).Non-zero first timestamps are often caused by directly piping frames or audio data from a MediaStreamTrack into the encoder. Their timestamps are typically relative to the age of thedocument, which is probably what you want.

If you want to offset all timestamps of a track such that the first one is zero, set firstTimestampBehavior: 'offset' in the options.
`);if(__privateGet$1(this,_options$1).firstTimestampBehavior==="offset"||__privateGet$1(this,_options$1).firstTimestampBehavior==="cross-track-offset"){O.firstDecodeTimestamp===void 0&&(O.firstDecodeTimestamp=R);let L;__privateGet$1(this,_options$1).firstTimestampBehavior==="offset"?L=O.firstDecodeTimestamp:L=Math.min(__privateGet$1(this,_videoTrack)?.firstDecodeTimestamp??1/0,__privateGet$1(this,_audioTrack)?.firstDecodeTimestamp??1/0),R-=L,_-=L}if(R<O.lastDecodeTimestamp)throw new Error(`Timestamps must be monotonically increasing (DTS went from ${O.lastDecodeTimestamp*1e6} to ${R*1e6}).`);return O.lastDecodeTimestamp=R,{presentationTimestamp:_,decodeTimestamp:R}};_finalizeCurrentChunk=new WeakSet;finalizeCurrentChunk_fn=function(_){if(__privateGet$1(this,_options$1).fastStart==="fragmented")throw new Error("Can't finalize individual chunks if 'fastStart' is set to 'fragmented'.");if(_.currentChunk){if(_.finalizedChunks.push(_.currentChunk),__privateGet$1(this,_finalizedChunks).push(_.currentChunk),(_.compactlyCodedChunkTable.length===0||last(_.compactlyCodedChunkTable).samplesPerChunk!==_.currentChunk.samples.length)&&_.compactlyCodedChunkTable.push({firstChunk:_.finalizedChunks.length,samplesPerChunk:_.currentChunk.samples.length}),__privateGet$1(this,_options$1).fastStart==="in-memory"){_.currentChunk.offset=0;return}_.currentChunk.offset=__privateGet$1(this,_writer$1).pos;for(let R of _.currentChunk.samples)__privateGet$1(this,_writer$1).write(R.data),R.data=null;__privateMethod$1(this,_maybeFlushStreamingTargetWriter$1,maybeFlushStreamingTargetWriter_fn$1).call(this)}};_finalizeFragment=new WeakSet;finalizeFragment_fn=function(_=!0){if(__privateGet$1(this,_options$1).fastStart!=="fragmented")throw new Error("Can't finalize a fragment unless 'fastStart' is set to 'fragmented'.");let R=[__privateGet$1(this,_videoTrack),__privateGet$1(this,_audioTrack)].filter(U=>U&&U.currentChunk);if(R.length===0)return;let O=__privateWrapper(this,_nextFragmentNumber)._++;if(O===1){let U=moov(R,__privateGet$1(this,_creationTime),!0);__privateGet$1(this,_writer$1).writeBox(U)}let I=__privateGet$1(this,_writer$1).pos,F=moof(O,R);__privateGet$1(this,_writer$1).writeBox(F);{let U=mdat(!1),q=0;for(let V of R)for(let Z of V.currentChunk.samples)q+=Z.size;let G=__privateGet$1(this,_writer$1).measureBox(U)+q;G>=2**32&&(U.largeSize=!0,G=__privateGet$1(this,_writer$1).measureBox(U)+q),U.size=G,__privateGet$1(this,_writer$1).writeBox(U)}for(let U of R){U.currentChunk.offset=__privateGet$1(this,_writer$1).pos,U.currentChunk.moofOffset=I;for(let q of U.currentChunk.samples)__privateGet$1(this,_writer$1).write(q.data),q.data=null}let z=__privateGet$1(this,_writer$1).pos;__privateGet$1(this,_writer$1).seek(__privateGet$1(this,_writer$1).offsets.get(F));let L=moof(O,R);__privateGet$1(this,_writer$1).writeBox(L),__privateGet$1(this,_writer$1).seek(z);for(let U of R)U.finalizedChunks.push(U.currentChunk),__privateGet$1(this,_finalizedChunks).push(U.currentChunk),U.currentChunk=null;_&&__privateMethod$1(this,_maybeFlushStreamingTargetWriter$1,maybeFlushStreamingTargetWriter_fn$1).call(this)};_maybeFlushStreamingTargetWriter$1=new WeakSet;maybeFlushStreamingTargetWriter_fn$1=function(){__privateGet$1(this,_writer$1)instanceof StreamTargetWriter$1&&__privateGet$1(this,_writer$1).flush()};_ensureNotFinalized$1=new WeakSet;ensureNotFinalized_fn$1=function(){if(__privateGet$1(this,_finalized$1))throw new Error("Cannot add new video or audio chunks after the file has been finalized.")};var __accessCheck=(_,R,O)=>{if(!R.has(_))throw TypeError("Cannot "+O)},__privateGet=(_,R,O)=>(__accessCheck(_,R,"read from private field"),O?O.call(_):R.get(_)),__privateAdd=(_,R,O)=>{if(R.has(_))throw TypeError("Cannot add the same private member more than once");R instanceof WeakSet?R.add(_):R.set(_,O)},__privateSet=(_,R,O,I)=>(__accessCheck(_,R,"write to private field"),R.set(_,O),O),__privateMethod=(_,R,O)=>(__accessCheck(_,R,"access private method"),O),EBMLFloat32=class{constructor(_){this.value=_}},EBMLFloat64=class{constructor(_){this.value=_}},measureUnsignedInt=_=>_<256?1:_<65536?2:_<1<<24?3:_<2**32?4:_<2**40?5:6,measureEBMLVarInt=_=>{if(_<127)return 1;if(_<16383)return 2;if(_<(1<<21)-1)return 3;if(_<(1<<28)-1)return 4;if(_<2**35-1)return 5;if(_<2**42-1)return 6;throw new Error("EBML VINT size not supported "+_)},readBits=(_,R,O)=>{let I=0;for(let F=R;F<O;F++){let z=Math.floor(F/8),L=_[z],U=7-(F&7),q=(L&1<<U)>>U;I<<=1,I|=q}return I},writeBits=(_,R,O,I)=>{for(let F=R;F<O;F++){let z=Math.floor(F/8),L=_[z],U=7-(F&7);L&=~(1<<U),L|=(I&1<<O-F-1)>>O-F-1<<U,_[z]=L}},Target=class{},ArrayBufferTarget=class extends Target{constructor(){super(...arguments),this.buffer=null}},StreamTarget=class extends Target{constructor(_){if(super(),this.options=_,typeof _!="object")throw new TypeError("StreamTarget requires an options object to be passed to its constructor.");if(_.onData){if(typeof _.onData!="function")throw new TypeError("options.onData, when provided, must be a function.");if(_.onData.length<2)throw new TypeError("options.onData, when provided, must be a function that takes in at least two arguments (data and position). Ignoring the position argument, which specifies the byte offset at which the data is to be written, can lead to broken outputs.")}if(_.onHeader&&typeof _.onHeader!="function")throw new TypeError("options.onHeader, when provided, must be a function.");if(_.onCluster&&typeof _.onCluster!="function")throw new TypeError("options.onCluster, when provided, must be a function.");if(_.chunked!==void 0&&typeof _.chunked!="boolean")throw new TypeError("options.chunked, when provided, must be a boolean.");if(_.chunkSize!==void 0&&(!Number.isInteger(_.chunkSize)||_.chunkSize<1024))throw new TypeError("options.chunkSize, when provided, must be an integer and not smaller than 1024.")}},FileSystemWritableFileStreamTarget=class extends Target{constructor(_,R){if(super(),this.stream=_,this.options=R,!(_ instanceof FileSystemWritableFileStream))throw new TypeError("FileSystemWritableFileStreamTarget requires a FileSystemWritableFileStream instance.");if(R!==void 0&&typeof R!="object")throw new TypeError("FileSystemWritableFileStreamTarget's options, when provided, must be an object.");if(R&&R.chunkSize!==void 0&&(!Number.isInteger(R.chunkSize)||R.chunkSize<=0))throw new TypeError("options.chunkSize, when provided, must be a positive integer")}},_helper,_helperView,_writeByte,writeByte_fn,_writeFloat32,writeFloat32_fn,_writeFloat64,writeFloat64_fn,_writeUnsignedInt,writeUnsignedInt_fn,_writeString,writeString_fn,Writer=class{constructor(){__privateAdd(this,_writeByte),__privateAdd(this,_writeFloat32),__privateAdd(this,_writeFloat64),__privateAdd(this,_writeUnsignedInt),__privateAdd(this,_writeString),this.pos=0,__privateAdd(this,_helper,new Uint8Array(8)),__privateAdd(this,_helperView,new DataView(__privateGet(this,_helper).buffer)),this.offsets=new WeakMap,this.dataOffsets=new WeakMap}seek(_){this.pos=_}writeEBMLVarInt(_,R=measureEBMLVarInt(_)){let O=0;switch(R){case 1:__privateGet(this,_helperView).setUint8(O++,128|_);break;case 2:__privateGet(this,_helperView).setUint8(O++,64|_>>8),__privateGet(this,_helperView).setUint8(O++,_);break;case 3:__privateGet(this,_helperView).setUint8(O++,32|_>>16),__privateGet(this,_helperView).setUint8(O++,_>>8),__privateGet(this,_helperView).setUint8(O++,_);break;case 4:__privateGet(this,_helperView).setUint8(O++,16|_>>24),__privateGet(this,_helperView).setUint8(O++,_>>16),__privateGet(this,_helperView).setUint8(O++,_>>8),__privateGet(this,_helperView).setUint8(O++,_);break;case 5:__privateGet(this,_helperView).setUint8(O++,8|_/2**32&7),__privateGet(this,_helperView).setUint8(O++,_>>24),__privateGet(this,_helperView).setUint8(O++,_>>16),__privateGet(this,_helperView).setUint8(O++,_>>8),__privateGet(this,_helperView).setUint8(O++,_);break;case 6:__privateGet(this,_helperView).setUint8(O++,4|_/2**40&3),__privateGet(this,_helperView).setUint8(O++,_/2**32|0),__privateGet(this,_helperView).setUint8(O++,_>>24),__privateGet(this,_helperView).setUint8(O++,_>>16),__privateGet(this,_helperView).setUint8(O++,_>>8),__privateGet(this,_helperView).setUint8(O++,_);break;default:throw new Error("Bad EBML VINT size "+R)}this.write(__privateGet(this,_helper).subarray(0,O))}writeEBML(_){if(_!==null)if(_ instanceof Uint8Array)this.write(_);else if(Array.isArray(_))for(let R of _)this.writeEBML(R);else if(this.offsets.set(_,this.pos),__privateMethod(this,_writeUnsignedInt,writeUnsignedInt_fn).call(this,_.id),Array.isArray(_.data)){let R=this.pos,O=_.size===-1?1:_.size??4;_.size===-1?__privateMethod(this,_writeByte,writeByte_fn).call(this,255):this.seek(this.pos+O);let I=this.pos;if(this.dataOffsets.set(_,I),this.writeEBML(_.data),_.size!==-1){let F=this.pos-I,z=this.pos;this.seek(R),this.writeEBMLVarInt(F,O),this.seek(z)}}else if(typeof _.data=="number"){let R=_.size??measureUnsignedInt(_.data);this.writeEBMLVarInt(R),__privateMethod(this,_writeUnsignedInt,writeUnsignedInt_fn).call(this,_.data,R)}else typeof _.data=="string"?(this.writeEBMLVarInt(_.data.length),__privateMethod(this,_writeString,writeString_fn).call(this,_.data)):_.data instanceof Uint8Array?(this.writeEBMLVarInt(_.data.byteLength,_.size),this.write(_.data)):_.data instanceof EBMLFloat32?(this.writeEBMLVarInt(4),__privateMethod(this,_writeFloat32,writeFloat32_fn).call(this,_.data.value)):_.data instanceof EBMLFloat64&&(this.writeEBMLVarInt(8),__privateMethod(this,_writeFloat64,writeFloat64_fn).call(this,_.data.value))}};_helper=new WeakMap;_helperView=new WeakMap;_writeByte=new WeakSet;writeByte_fn=function(_){__privateGet(this,_helperView).setUint8(0,_),this.write(__privateGet(this,_helper).subarray(0,1))};_writeFloat32=new WeakSet;writeFloat32_fn=function(_){__privateGet(this,_helperView).setFloat32(0,_,!1),this.write(__privateGet(this,_helper).subarray(0,4))};_writeFloat64=new WeakSet;writeFloat64_fn=function(_){__privateGet(this,_helperView).setFloat64(0,_,!1),this.write(__privateGet(this,_helper))};_writeUnsignedInt=new WeakSet;writeUnsignedInt_fn=function(_,R=measureUnsignedInt(_)){let O=0;switch(R){case 6:__privateGet(this,_helperView).setUint8(O++,_/2**40|0);case 5:__privateGet(this,_helperView).setUint8(O++,_/2**32|0);case 4:__privateGet(this,_helperView).setUint8(O++,_>>24);case 3:__privateGet(this,_helperView).setUint8(O++,_>>16);case 2:__privateGet(this,_helperView).setUint8(O++,_>>8);case 1:__privateGet(this,_helperView).setUint8(O++,_);break;default:throw new Error("Bad UINT size "+R)}this.write(__privateGet(this,_helper).subarray(0,O))};_writeString=new WeakSet;writeString_fn=function(_){this.write(new Uint8Array(_.split("").map(R=>R.charCodeAt(0))))};var _target,_buffer,_bytes,_ensureSize,ensureSize_fn,ArrayBufferTargetWriter=class extends Writer{constructor(_){super(),__privateAdd(this,_ensureSize),__privateAdd(this,_target,void 0),__privateAdd(this,_buffer,new ArrayBuffer(2**16)),__privateAdd(this,_bytes,new Uint8Array(__privateGet(this,_buffer))),__privateSet(this,_target,_)}write(_){__privateMethod(this,_ensureSize,ensureSize_fn).call(this,this.pos+_.byteLength),__privateGet(this,_bytes).set(_,this.pos),this.pos+=_.byteLength}finalize(){__privateMethod(this,_ensureSize,ensureSize_fn).call(this,this.pos),__privateGet(this,_target).buffer=__privateGet(this,_buffer).slice(0,this.pos)}};_target=new WeakMap;_buffer=new WeakMap;_bytes=new WeakMap;_ensureSize=new WeakSet;ensureSize_fn=function(_){let R=__privateGet(this,_buffer).byteLength;for(;R<_;)R*=2;if(R===__privateGet(this,_buffer).byteLength)return;let O=new ArrayBuffer(R),I=new Uint8Array(O);I.set(__privateGet(this,_bytes),0),__privateSet(this,_buffer,O),__privateSet(this,_bytes,I)};var _trackingWrites,_trackedWrites,_trackedStart,_trackedEnd,BaseStreamTargetWriter=class extends Writer{constructor(_){super(),this.target=_,__privateAdd(this,_trackingWrites,!1),__privateAdd(this,_trackedWrites,void 0),__privateAdd(this,_trackedStart,void 0),__privateAdd(this,_trackedEnd,void 0)}write(_){if(!__privateGet(this,_trackingWrites))return;let R=this.pos;if(R<__privateGet(this,_trackedStart)){if(R+_.byteLength<=__privateGet(this,_trackedStart))return;_=_.subarray(__privateGet(this,_trackedStart)-R),R=0}let O=R+_.byteLength-__privateGet(this,_trackedStart),I=__privateGet(this,_trackedWrites).byteLength;for(;I<O;)I*=2;if(I!==__privateGet(this,_trackedWrites).byteLength){let F=new Uint8Array(I);F.set(__privateGet(this,_trackedWrites),0),__privateSet(this,_trackedWrites,F)}__privateGet(this,_trackedWrites).set(_,R-__privateGet(this,_trackedStart)),__privateSet(this,_trackedEnd,Math.max(__privateGet(this,_trackedEnd),R+_.byteLength))}startTrackingWrites(){__privateSet(this,_trackingWrites,!0),__privateSet(this,_trackedWrites,new Uint8Array(2**10)),__privateSet(this,_trackedStart,this.pos),__privateSet(this,_trackedEnd,this.pos)}getTrackedWrites(){if(!__privateGet(this,_trackingWrites))throw new Error("Can't get tracked writes since nothing was tracked.");let R={data:__privateGet(this,_trackedWrites).subarray(0,__privateGet(this,_trackedEnd)-__privateGet(this,_trackedStart)),start:__privateGet(this,_trackedStart),end:__privateGet(this,_trackedEnd)};return __privateSet(this,_trackedWrites,void 0),__privateSet(this,_trackingWrites,!1),R}};_trackingWrites=new WeakMap;_trackedWrites=new WeakMap;_trackedStart=new WeakMap;_trackedEnd=new WeakMap;var DEFAULT_CHUNK_SIZE=2**24,MAX_CHUNKS_AT_ONCE=2,_sections,_lastFlushEnd,_ensureMonotonicity,_chunked,_chunkSize,_chunks,_writeDataIntoChunks,writeDataIntoChunks_fn,_insertSectionIntoChunk,insertSectionIntoChunk_fn,_createChunk,createChunk_fn,_flushChunks,flushChunks_fn,StreamTargetWriter=class extends BaseStreamTargetWriter{constructor(_,R){super(_),__privateAdd(this,_writeDataIntoChunks),__privateAdd(this,_insertSectionIntoChunk),__privateAdd(this,_createChunk),__privateAdd(this,_flushChunks),__privateAdd(this,_sections,[]),__privateAdd(this,_lastFlushEnd,0),__privateAdd(this,_ensureMonotonicity,void 0),__privateAdd(this,_chunked,void 0),__privateAdd(this,_chunkSize,void 0),__privateAdd(this,_chunks,[]),__privateSet(this,_ensureMonotonicity,R),__privateSet(this,_chunked,_.options?.chunked??!1),__privateSet(this,_chunkSize,_.options?.chunkSize??DEFAULT_CHUNK_SIZE)}write(_){super.write(_),__privateGet(this,_sections).push({data:_.slice(),start:this.pos}),this.pos+=_.byteLength}flush(){if(__privateGet(this,_sections).length===0)return;let _=[],R=[...__privateGet(this,_sections)].sort((O,I)=>O.start-I.start);_.push({start:R[0].start,size:R[0].data.byteLength});for(let O=1;O<R.length;O++){let I=_[_.length-1],F=R[O];F.start<=I.start+I.size?I.size=Math.max(I.size,F.start+F.data.byteLength-I.start):_.push({start:F.start,size:F.data.byteLength})}for(let O of _){O.data=new Uint8Array(O.size);for(let I of __privateGet(this,_sections))O.start<=I.start&&I.start<O.start+O.size&&O.data.set(I.data,I.start-O.start);if(__privateGet(this,_chunked))__privateMethod(this,_writeDataIntoChunks,writeDataIntoChunks_fn).call(this,O.data,O.start),__privateMethod(this,_flushChunks,flushChunks_fn).call(this);else{if(__privateGet(this,_ensureMonotonicity)&&O.start<__privateGet(this,_lastFlushEnd))throw new Error("Internal error: Monotonicity violation.");this.target.options.onData?.(O.data,O.start),__privateSet(this,_lastFlushEnd,O.start+O.data.byteLength)}}__privateGet(this,_sections).length=0}finalize(){__privateGet(this,_chunked)&&__privateMethod(this,_flushChunks,flushChunks_fn).call(this,!0)}};_sections=new WeakMap;_lastFlushEnd=new WeakMap;_ensureMonotonicity=new WeakMap;_chunked=new WeakMap;_chunkSize=new WeakMap;_chunks=new WeakMap;_writeDataIntoChunks=new WeakSet;writeDataIntoChunks_fn=function(_,R){let O=__privateGet(this,_chunks).findIndex(U=>U.start<=R&&R<U.start+__privateGet(this,_chunkSize));O===-1&&(O=__privateMethod(this,_createChunk,createChunk_fn).call(this,R));let I=__privateGet(this,_chunks)[O],F=R-I.start,z=_.subarray(0,Math.min(__privateGet(this,_chunkSize)-F,_.byteLength));I.data.set(z,F);let L={start:F,end:F+z.byteLength};if(__privateMethod(this,_insertSectionIntoChunk,insertSectionIntoChunk_fn).call(this,I,L),I.written[0].start===0&&I.written[0].end===__privateGet(this,_chunkSize)&&(I.shouldFlush=!0),__privateGet(this,_chunks).length>MAX_CHUNKS_AT_ONCE){for(let U=0;U<__privateGet(this,_chunks).length-1;U++)__privateGet(this,_chunks)[U].shouldFlush=!0;__privateMethod(this,_flushChunks,flushChunks_fn).call(this)}z.byteLength<_.byteLength&&__privateMethod(this,_writeDataIntoChunks,writeDataIntoChunks_fn).call(this,_.subarray(z.byteLength),R+z.byteLength)};_insertSectionIntoChunk=new WeakSet;insertSectionIntoChunk_fn=function(_,R){let O=0,I=_.written.length-1,F=-1;for(;O<=I;){let z=Math.floor(O+(I-O+1)/2);_.written[z].start<=R.start?(O=z+1,F=z):I=z-1}for(_.written.splice(F+1,0,R),(F===-1||_.written[F].end<R.start)&&F++;F<_.written.length-1&&_.written[F].end>=_.written[F+1].start;)_.written[F].end=Math.max(_.written[F].end,_.written[F+1].end),_.written.splice(F+1,1)};_createChunk=new WeakSet;createChunk_fn=function(_){let O={start:Math.floor(_/__privateGet(this,_chunkSize))*__privateGet(this,_chunkSize),data:new Uint8Array(__privateGet(this,_chunkSize)),written:[],shouldFlush:!1};return __privateGet(this,_chunks).push(O),__privateGet(this,_chunks).sort((I,F)=>I.start-F.start),__privateGet(this,_chunks).indexOf(O)};_flushChunks=new WeakSet;flushChunks_fn=function(_=!1){for(let R=0;R<__privateGet(this,_chunks).length;R++){let O=__privateGet(this,_chunks)[R];if(!(!O.shouldFlush&&!_)){for(let I of O.written){if(__privateGet(this,_ensureMonotonicity)&&O.start+I.start<__privateGet(this,_lastFlushEnd))throw new Error("Internal error: Monotonicity violation.");this.target.options.onData?.(O.data.subarray(I.start,I.end),O.start+I.start),__privateSet(this,_lastFlushEnd,O.start+I.end)}__privateGet(this,_chunks).splice(R--,1)}}};var FileSystemWritableFileStreamTargetWriter=class extends StreamTargetWriter{constructor(_,R){super(new StreamTarget({onData:(O,I)=>_.stream.write({type:"write",data:O,position:I}),chunked:!0,chunkSize:_.options?.chunkSize}),R)}},VIDEO_TRACK_NUMBER=1,AUDIO_TRACK_NUMBER=2,SUBTITLE_TRACK_NUMBER=3,VIDEO_TRACK_TYPE=1,AUDIO_TRACK_TYPE=2,SUBTITLE_TRACK_TYPE=17,MAX_CHUNK_LENGTH_MS=2**15,CODEC_PRIVATE_MAX_SIZE=2**13,APP_NAME="https://github.com/Vanilagy/webm-muxer",SEGMENT_SIZE_BYTES=6,CLUSTER_SIZE_BYTES=5,FIRST_TIMESTAMP_BEHAVIORS=["strict","offset","permissive"],_options,_writer,_segment,_segmentInfo,_seekHead,_tracksElement,_segmentDuration,_colourElement,_videoCodecPrivate,_audioCodecPrivate,_subtitleCodecPrivate,_cues,_currentCluster,_currentClusterTimestamp,_duration,_videoChunkQueue,_audioChunkQueue,_subtitleChunkQueue,_firstVideoTimestamp,_firstAudioTimestamp,_lastVideoTimestamp,_lastAudioTimestamp,_lastSubtitleTimestamp,_colorSpace,_finalized,_validateOptions,validateOptions_fn,_createFileHeader,createFileHeader_fn,_writeEBMLHeader,writeEBMLHeader_fn,_createCodecPrivatePlaceholders,createCodecPrivatePlaceholders_fn,_createColourElement,createColourElement_fn,_createSeekHead,createSeekHead_fn,_createSegmentInfo,createSegmentInfo_fn,_createTracks,createTracks_fn,_createSegment,createSegment_fn,_createCues,createCues_fn,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn,_segmentDataOffset,segmentDataOffset_get,_writeVideoDecoderConfig,writeVideoDecoderConfig_fn,_fixVP9ColorSpace,fixVP9ColorSpace_fn,_writeSubtitleChunks,writeSubtitleChunks_fn,_createInternalChunk,createInternalChunk_fn,_validateTimestamp,validateTimestamp_fn,_writeBlock,writeBlock_fn,_createCodecPrivateElement,createCodecPrivateElement_fn,_writeCodecPrivate,writeCodecPrivate_fn,_createNewCluster,createNewCluster_fn,_finalizeCurrentCluster,finalizeCurrentCluster_fn,_ensureNotFinalized,ensureNotFinalized_fn,Muxer=class{constructor(_){__privateAdd(this,_validateOptions),__privateAdd(this,_createFileHeader),__privateAdd(this,_writeEBMLHeader),__privateAdd(this,_createCodecPrivatePlaceholders),__privateAdd(this,_createColourElement),__privateAdd(this,_createSeekHead),__privateAdd(this,_createSegmentInfo),__privateAdd(this,_createTracks),__privateAdd(this,_createSegment),__privateAdd(this,_createCues),__privateAdd(this,_maybeFlushStreamingTargetWriter),__privateAdd(this,_segmentDataOffset),__privateAdd(this,_writeVideoDecoderConfig),__privateAdd(this,_fixVP9ColorSpace),__privateAdd(this,_writeSubtitleChunks),__privateAdd(this,_createInternalChunk),__privateAdd(this,_validateTimestamp),__privateAdd(this,_writeBlock),__privateAdd(this,_createCodecPrivateElement),__privateAdd(this,_writeCodecPrivate),__privateAdd(this,_createNewCluster),__privateAdd(this,_finalizeCurrentCluster),__privateAdd(this,_ensureNotFinalized),__privateAdd(this,_options,void 0),__privateAdd(this,_writer,void 0),__privateAdd(this,_segment,void 0),__privateAdd(this,_segmentInfo,void 0),__privateAdd(this,_seekHead,void 0),__privateAdd(this,_tracksElement,void 0),__privateAdd(this,_segmentDuration,void 0),__privateAdd(this,_colourElement,void 0),__privateAdd(this,_videoCodecPrivate,void 0),__privateAdd(this,_audioCodecPrivate,void 0),__privateAdd(this,_subtitleCodecPrivate,void 0),__privateAdd(this,_cues,void 0),__privateAdd(this,_currentCluster,void 0),__privateAdd(this,_currentClusterTimestamp,void 0),__privateAdd(this,_duration,0),__privateAdd(this,_videoChunkQueue,[]),__privateAdd(this,_audioChunkQueue,[]),__privateAdd(this,_subtitleChunkQueue,[]),__privateAdd(this,_firstVideoTimestamp,void 0),__privateAdd(this,_firstAudioTimestamp,void 0),__privateAdd(this,_lastVideoTimestamp,-1),__privateAdd(this,_lastAudioTimestamp,-1),__privateAdd(this,_lastSubtitleTimestamp,-1),__privateAdd(this,_colorSpace,void 0),__privateAdd(this,_finalized,!1),__privateMethod(this,_validateOptions,validateOptions_fn).call(this,_),__privateSet(this,_options,{type:"webm",firstTimestampBehavior:"strict",..._}),this.target=_.target;let R=!!__privateGet(this,_options).streaming;if(_.target instanceof ArrayBufferTarget)__privateSet(this,_writer,new ArrayBufferTargetWriter(_.target));else if(_.target instanceof StreamTarget)__privateSet(this,_writer,new StreamTargetWriter(_.target,R));else if(_.target instanceof FileSystemWritableFileStreamTarget)__privateSet(this,_writer,new FileSystemWritableFileStreamTargetWriter(_.target,R));else throw new Error(`Invalid target: ${_.target}`);__privateMethod(this,_createFileHeader,createFileHeader_fn).call(this)}addVideoChunk(_,R,O){if(!(_ instanceof EncodedVideoChunk))throw new TypeError("addVideoChunk's first argument (chunk) must be of type EncodedVideoChunk.");if(R&&typeof R!="object")throw new TypeError("addVideoChunk's second argument (meta), when provided, must be an object.");if(O!==void 0&&(!Number.isFinite(O)||O<0))throw new TypeError("addVideoChunk's third argument (timestamp), when provided, must be a non-negative real number.");let I=new Uint8Array(_.byteLength);_.copyTo(I),this.addVideoChunkRaw(I,_.type,O??_.timestamp,R)}addVideoChunkRaw(_,R,O,I){if(!(_ instanceof Uint8Array))throw new TypeError("addVideoChunkRaw's first argument (data) must be an instance of Uint8Array.");if(R!=="key"&&R!=="delta")throw new TypeError("addVideoChunkRaw's second argument (type) must be either 'key' or 'delta'.");if(!Number.isFinite(O)||O<0)throw new TypeError("addVideoChunkRaw's third argument (timestamp) must be a non-negative real number.");if(I&&typeof I!="object")throw new TypeError("addVideoChunkRaw's fourth argument (meta), when provided, must be an object.");if(__privateMethod(this,_ensureNotFinalized,ensureNotFinalized_fn).call(this),!__privateGet(this,_options).video)throw new Error("No video track declared.");__privateGet(this,_firstVideoTimestamp)===void 0&&__privateSet(this,_firstVideoTimestamp,O),I&&__privateMethod(this,_writeVideoDecoderConfig,writeVideoDecoderConfig_fn).call(this,I);let F=__privateMethod(this,_createInternalChunk,createInternalChunk_fn).call(this,_,R,O,VIDEO_TRACK_NUMBER);for(__privateGet(this,_options).video.codec==="V_VP9"&&__privateMethod(this,_fixVP9ColorSpace,fixVP9ColorSpace_fn).call(this,F),__privateSet(this,_lastVideoTimestamp,F.timestamp);__privateGet(this,_audioChunkQueue).length>0&&__privateGet(this,_audioChunkQueue)[0].timestamp<=F.timestamp;){let z=__privateGet(this,_audioChunkQueue).shift();__privateMethod(this,_writeBlock,writeBlock_fn).call(this,z,!1)}!__privateGet(this,_options).audio||F.timestamp<=__privateGet(this,_lastAudioTimestamp)?__privateMethod(this,_writeBlock,writeBlock_fn).call(this,F,!0):__privateGet(this,_videoChunkQueue).push(F),__privateMethod(this,_writeSubtitleChunks,writeSubtitleChunks_fn).call(this),__privateMethod(this,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn).call(this)}addAudioChunk(_,R,O){if(!(_ instanceof EncodedAudioChunk))throw new TypeError("addAudioChunk's first argument (chunk) must be of type EncodedAudioChunk.");if(R&&typeof R!="object")throw new TypeError("addAudioChunk's second argument (meta), when provided, must be an object.");if(O!==void 0&&(!Number.isFinite(O)||O<0))throw new TypeError("addAudioChunk's third argument (timestamp), when provided, must be a non-negative real number.");let I=new Uint8Array(_.byteLength);_.copyTo(I),this.addAudioChunkRaw(I,_.type,O??_.timestamp,R)}addAudioChunkRaw(_,R,O,I){if(!(_ instanceof Uint8Array))throw new TypeError("addAudioChunkRaw's first argument (data) must be an instance of Uint8Array.");if(R!=="key"&&R!=="delta")throw new TypeError("addAudioChunkRaw's second argument (type) must be either 'key' or 'delta'.");if(!Number.isFinite(O)||O<0)throw new TypeError("addAudioChunkRaw's third argument (timestamp) must be a non-negative real number.");if(I&&typeof I!="object")throw new TypeError("addAudioChunkRaw's fourth argument (meta), when provided, must be an object.");if(__privateMethod(this,_ensureNotFinalized,ensureNotFinalized_fn).call(this),!__privateGet(this,_options).audio)throw new Error("No audio track declared.");__privateGet(this,_firstAudioTimestamp)===void 0&&__privateSet(this,_firstAudioTimestamp,O),I?.decoderConfig&&(__privateGet(this,_options).streaming?__privateSet(this,_audioCodecPrivate,__privateMethod(this,_createCodecPrivateElement,createCodecPrivateElement_fn).call(this,I.decoderConfig.description)):__privateMethod(this,_writeCodecPrivate,writeCodecPrivate_fn).call(this,__privateGet(this,_audioCodecPrivate),I.decoderConfig.description));let F=__privateMethod(this,_createInternalChunk,createInternalChunk_fn).call(this,_,R,O,AUDIO_TRACK_NUMBER);for(__privateSet(this,_lastAudioTimestamp,F.timestamp);__privateGet(this,_videoChunkQueue).length>0&&__privateGet(this,_videoChunkQueue)[0].timestamp<=F.timestamp;){let z=__privateGet(this,_videoChunkQueue).shift();__privateMethod(this,_writeBlock,writeBlock_fn).call(this,z,!0)}!__privateGet(this,_options).video||F.timestamp<=__privateGet(this,_lastVideoTimestamp)?__privateMethod(this,_writeBlock,writeBlock_fn).call(this,F,!__privateGet(this,_options).video):__privateGet(this,_audioChunkQueue).push(F),__privateMethod(this,_writeSubtitleChunks,writeSubtitleChunks_fn).call(this),__privateMethod(this,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn).call(this)}addSubtitleChunk(_,R,O){if(typeof _!="object"||!_)throw new TypeError("addSubtitleChunk's first argument (chunk) must be an object.");if(!(_.body instanceof Uint8Array))throw new TypeError("body must be an instance of Uint8Array.");if(!Number.isFinite(_.timestamp)||_.timestamp<0)throw new TypeError("timestamp must be a non-negative real number.");if(!Number.isFinite(_.duration)||_.duration<0)throw new TypeError("duration must be a non-negative real number.");if(_.additions&&!(_.additions instanceof Uint8Array))throw new TypeError("additions, when present, must be an instance of Uint8Array.");if(typeof R!="object")throw new TypeError("addSubtitleChunk's second argument (meta) must be an object.");if(__privateMethod(this,_ensureNotFinalized,ensureNotFinalized_fn).call(this),!__privateGet(this,_options).subtitles)throw new Error("No subtitle track declared.");R?.decoderConfig&&(__privateGet(this,_options).streaming?__privateSet(this,_subtitleCodecPrivate,__privateMethod(this,_createCodecPrivateElement,createCodecPrivateElement_fn).call(this,R.decoderConfig.description)):__privateMethod(this,_writeCodecPrivate,writeCodecPrivate_fn).call(this,__privateGet(this,_subtitleCodecPrivate),R.decoderConfig.description));let I=__privateMethod(this,_createInternalChunk,createInternalChunk_fn).call(this,_.body,"key",O??_.timestamp,SUBTITLE_TRACK_NUMBER,_.duration,_.additions);__privateSet(this,_lastSubtitleTimestamp,I.timestamp),__privateGet(this,_subtitleChunkQueue).push(I),__privateMethod(this,_writeSubtitleChunks,writeSubtitleChunks_fn).call(this),__privateMethod(this,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn).call(this)}finalize(){if(__privateGet(this,_finalized))throw new Error("Cannot finalize a muxer more than once.");for(;__privateGet(this,_videoChunkQueue).length>0;)__privateMethod(this,_writeBlock,writeBlock_fn).call(this,__privateGet(this,_videoChunkQueue).shift(),!0);for(;__privateGet(this,_audioChunkQueue).length>0;)__privateMethod(this,_writeBlock,writeBlock_fn).call(this,__privateGet(this,_audioChunkQueue).shift(),!0);for(;__privateGet(this,_subtitleChunkQueue).length>0&&__privateGet(this,_subtitleChunkQueue)[0].timestamp<=__privateGet(this,_duration);)__privateMethod(this,_writeBlock,writeBlock_fn).call(this,__privateGet(this,_subtitleChunkQueue).shift(),!1);if(__privateGet(this,_currentCluster)&&__privateMethod(this,_finalizeCurrentCluster,finalizeCurrentCluster_fn).call(this),__privateGet(this,_writer).writeEBML(__privateGet(this,_cues)),!__privateGet(this,_options).streaming){let _=__privateGet(this,_writer).pos,R=__privateGet(this,_writer).pos-__privateGet(this,_segmentDataOffset,segmentDataOffset_get);__privateGet(this,_writer).seek(__privateGet(this,_writer).offsets.get(__privateGet(this,_segment))+4),__privateGet(this,_writer).writeEBMLVarInt(R,SEGMENT_SIZE_BYTES),__privateGet(this,_segmentDuration).data=new EBMLFloat64(__privateGet(this,_duration)),__privateGet(this,_writer).seek(__privateGet(this,_writer).offsets.get(__privateGet(this,_segmentDuration))),__privateGet(this,_writer).writeEBML(__privateGet(this,_segmentDuration)),__privateGet(this,_seekHead).data[0].data[1].data=__privateGet(this,_writer).offsets.get(__privateGet(this,_cues))-__privateGet(this,_segmentDataOffset,segmentDataOffset_get),__privateGet(this,_seekHead).data[1].data[1].data=__privateGet(this,_writer).offsets.get(__privateGet(this,_segmentInfo))-__privateGet(this,_segmentDataOffset,segmentDataOffset_get),__privateGet(this,_seekHead).data[2].data[1].data=__privateGet(this,_writer).offsets.get(__privateGet(this,_tracksElement))-__privateGet(this,_segmentDataOffset,segmentDataOffset_get),__privateGet(this,_writer).seek(__privateGet(this,_writer).offsets.get(__privateGet(this,_seekHead))),__privateGet(this,_writer).writeEBML(__privateGet(this,_seekHead)),__privateGet(this,_writer).seek(_)}__privateMethod(this,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn).call(this),__privateGet(this,_writer).finalize(),__privateSet(this,_finalized,!0)}};_options=new WeakMap;_writer=new WeakMap;_segment=new WeakMap;_segmentInfo=new WeakMap;_seekHead=new WeakMap;_tracksElement=new WeakMap;_segmentDuration=new WeakMap;_colourElement=new WeakMap;_videoCodecPrivate=new WeakMap;_audioCodecPrivate=new WeakMap;_subtitleCodecPrivate=new WeakMap;_cues=new WeakMap;_currentCluster=new WeakMap;_currentClusterTimestamp=new WeakMap;_duration=new WeakMap;_videoChunkQueue=new WeakMap;_audioChunkQueue=new WeakMap;_subtitleChunkQueue=new WeakMap;_firstVideoTimestamp=new WeakMap;_firstAudioTimestamp=new WeakMap;_lastVideoTimestamp=new WeakMap;_lastAudioTimestamp=new WeakMap;_lastSubtitleTimestamp=new WeakMap;_colorSpace=new WeakMap;_finalized=new WeakMap;_validateOptions=new WeakSet;validateOptions_fn=function(_){if(typeof _!="object")throw new TypeError("The muxer requires an options object to be passed to its constructor.");if(!(_.target instanceof Target))throw new TypeError("The target must be provided and an instance of Target.");if(_.video){if(typeof _.video.codec!="string")throw new TypeError(`Invalid video codec: ${_.video.codec}. Must be a string.`);if(!Number.isInteger(_.video.width)||_.video.width<=0)throw new TypeError(`Invalid video width: ${_.video.width}. Must be a positive integer.`);if(!Number.isInteger(_.video.height)||_.video.height<=0)throw new TypeError(`Invalid video height: ${_.video.height}. Must be a positive integer.`);if(_.video.frameRate!==void 0&&(!Number.isFinite(_.video.frameRate)||_.video.frameRate<=0))throw new TypeError(`Invalid video frame rate: ${_.video.frameRate}. Must be a positive number.`);if(_.video.alpha!==void 0&&typeof _.video.alpha!="boolean")throw new TypeError(`Invalid video alpha: ${_.video.alpha}. Must be a boolean.`)}if(_.audio){if(typeof _.audio.codec!="string")throw new TypeError(`Invalid audio codec: ${_.audio.codec}. Must be a string.`);if(!Number.isInteger(_.audio.numberOfChannels)||_.audio.numberOfChannels<=0)throw new TypeError(`Invalid number of audio channels: ${_.audio.numberOfChannels}. Must be a positive integer.`);if(!Number.isInteger(_.audio.sampleRate)||_.audio.sampleRate<=0)throw new TypeError(`Invalid audio sample rate: ${_.audio.sampleRate}. Must be a positive integer.`);if(_.audio.bitDepth!==void 0&&(!Number.isInteger(_.audio.bitDepth)||_.audio.bitDepth<=0))throw new TypeError(`Invalid audio bit depth: ${_.audio.bitDepth}. Must be a positive integer.`)}if(_.subtitles&&typeof _.subtitles.codec!="string")throw new TypeError(`Invalid subtitles codec: ${_.subtitles.codec}. Must be a string.`);if(_.type!==void 0&&!["webm","matroska"].includes(_.type))throw new TypeError(`Invalid type: ${_.type}. Must be 'webm' or 'matroska'.`);if(_.firstTimestampBehavior&&!FIRST_TIMESTAMP_BEHAVIORS.includes(_.firstTimestampBehavior))throw new TypeError(`Invalid first timestamp behavior: ${_.firstTimestampBehavior}`);if(_.streaming!==void 0&&typeof _.streaming!="boolean")throw new TypeError(`Invalid streaming option: ${_.streaming}. Must be a boolean.`)};_createFileHeader=new WeakSet;createFileHeader_fn=function(){__privateGet(this,_writer)instanceof BaseStreamTargetWriter&&__privateGet(this,_writer).target.options.onHeader&&__privateGet(this,_writer).startTrackingWrites(),__privateMethod(this,_writeEBMLHeader,writeEBMLHeader_fn).call(this),__privateGet(this,_options).streaming||__privateMethod(this,_createSeekHead,createSeekHead_fn).call(this),__privateMethod(this,_createSegmentInfo,createSegmentInfo_fn).call(this),__privateMethod(this,_createCodecPrivatePlaceholders,createCodecPrivatePlaceholders_fn).call(this),__privateMethod(this,_createColourElement,createColourElement_fn).call(this),__privateGet(this,_options).streaming||(__privateMethod(this,_createTracks,createTracks_fn).call(this),__privateMethod(this,_createSegment,createSegment_fn).call(this)),__privateMethod(this,_createCues,createCues_fn).call(this),__privateMethod(this,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn).call(this)};_writeEBMLHeader=new WeakSet;writeEBMLHeader_fn=function(){let _={id:440786851,data:[{id:17030,data:1},{id:17143,data:1},{id:17138,data:4},{id:17139,data:8},{id:17026,data:__privateGet(this,_options).type??"webm"},{id:17031,data:2},{id:17029,data:2}]};__privateGet(this,_writer).writeEBML(_)};_createCodecPrivatePlaceholders=new WeakSet;createCodecPrivatePlaceholders_fn=function(){__privateSet(this,_videoCodecPrivate,{id:236,size:4,data:new Uint8Array(CODEC_PRIVATE_MAX_SIZE)}),__privateSet(this,_audioCodecPrivate,{id:236,size:4,data:new Uint8Array(CODEC_PRIVATE_MAX_SIZE)}),__privateSet(this,_subtitleCodecPrivate,{id:236,size:4,data:new Uint8Array(CODEC_PRIVATE_MAX_SIZE)})};_createColourElement=new WeakSet;createColourElement_fn=function(){__privateSet(this,_colourElement,{id:21936,data:[{id:21937,data:2},{id:21946,data:2},{id:21947,data:2},{id:21945,data:0}]})};_createSeekHead=new WeakSet;createSeekHead_fn=function(){const _=new Uint8Array([28,83,187,107]),R=new Uint8Array([21,73,169,102]),O=new Uint8Array([22,84,174,107]);__privateSet(this,_seekHead,{id:290298740,data:[{id:19899,data:[{id:21419,data:_},{id:21420,size:5,data:0}]},{id:19899,data:[{id:21419,data:R},{id:21420,size:5,data:0}]},{id:19899,data:[{id:21419,data:O},{id:21420,size:5,data:0}]}]})};_createSegmentInfo=new WeakSet;createSegmentInfo_fn=function(){let _={id:17545,data:new EBMLFloat64(0)};__privateSet(this,_segmentDuration,_);let R={id:357149030,data:[{id:2807729,data:1e6},{id:19840,data:APP_NAME},{id:22337,data:APP_NAME},__privateGet(this,_options).streaming?null:_]};__privateSet(this,_segmentInfo,R)};_createTracks=new WeakSet;createTracks_fn=function(){let _={id:374648427,data:[]};__privateSet(this,_tracksElement,_),__privateGet(this,_options).video&&_.data.push({id:174,data:[{id:215,data:VIDEO_TRACK_NUMBER},{id:29637,data:VIDEO_TRACK_NUMBER},{id:131,data:VIDEO_TRACK_TYPE},{id:134,data:__privateGet(this,_options).video.codec},__privateGet(this,_videoCodecPrivate),__privateGet(this,_options).video.frameRate?{id:2352003,data:1e9/__privateGet(this,_options).video.frameRate}:null,{id:224,data:[{id:176,data:__privateGet(this,_options).video.width},{id:186,data:__privateGet(this,_options).video.height},__privateGet(this,_options).video.alpha?{id:21440,data:1}:null,__privateGet(this,_colourElement)]}]}),__privateGet(this,_options).audio&&(__privateSet(this,_audioCodecPrivate,__privateGet(this,_options).streaming?__privateGet(this,_audioCodecPrivate)||null:{id:236,size:4,data:new Uint8Array(CODEC_PRIVATE_MAX_SIZE)}),_.data.push({id:174,data:[{id:215,data:AUDIO_TRACK_NUMBER},{id:29637,data:AUDIO_TRACK_NUMBER},{id:131,data:AUDIO_TRACK_TYPE},{id:134,data:__privateGet(this,_options).audio.codec},__privateGet(this,_audioCodecPrivate),{id:225,data:[{id:181,data:new EBMLFloat32(__privateGet(this,_options).audio.sampleRate)},{id:159,data:__privateGet(this,_options).audio.numberOfChannels},__privateGet(this,_options).audio.bitDepth?{id:25188,data:__privateGet(this,_options).audio.bitDepth}:null]}]})),__privateGet(this,_options).subtitles&&_.data.push({id:174,data:[{id:215,data:SUBTITLE_TRACK_NUMBER},{id:29637,data:SUBTITLE_TRACK_NUMBER},{id:131,data:SUBTITLE_TRACK_TYPE},{id:134,data:__privateGet(this,_options).subtitles.codec},__privateGet(this,_subtitleCodecPrivate)]})};_createSegment=new WeakSet;createSegment_fn=function(){let _={id:408125543,size:__privateGet(this,_options).streaming?-1:SEGMENT_SIZE_BYTES,data:[__privateGet(this,_options).streaming?null:__privateGet(this,_seekHead),__privateGet(this,_segmentInfo),__privateGet(this,_tracksElement)]};if(__privateSet(this,_segment,_),__privateGet(this,_writer).writeEBML(_),__privateGet(this,_writer)instanceof BaseStreamTargetWriter&&__privateGet(this,_writer).target.options.onHeader){let{data:R,start:O}=__privateGet(this,_writer).getTrackedWrites();__privateGet(this,_writer).target.options.onHeader(R,O)}};_createCues=new WeakSet;createCues_fn=function(){__privateSet(this,_cues,{id:475249515,data:[]})};_maybeFlushStreamingTargetWriter=new WeakSet;maybeFlushStreamingTargetWriter_fn=function(){__privateGet(this,_writer)instanceof StreamTargetWriter&&__privateGet(this,_writer).flush()};_segmentDataOffset=new WeakSet;segmentDataOffset_get=function(){return __privateGet(this,_writer).dataOffsets.get(__privateGet(this,_segment))};_writeVideoDecoderConfig=new WeakSet;writeVideoDecoderConfig_fn=function(_){if(_.decoderConfig){if(_.decoderConfig.colorSpace){let R=_.decoderConfig.colorSpace;if(__privateSet(this,_colorSpace,R),__privateGet(this,_colourElement).data=[{id:21937,data:{rgb:1,bt709:1,bt470bg:5,smpte170m:6}[R.matrix]},{id:21946,data:{bt709:1,smpte170m:6,"iec61966-2-1":13}[R.transfer]},{id:21947,data:{bt709:1,bt470bg:5,smpte170m:6}[R.primaries]},{id:21945,data:[1,2][Number(R.fullRange)]}],!__privateGet(this,_options).streaming){let O=__privateGet(this,_writer).pos;__privateGet(this,_writer).seek(__privateGet(this,_writer).offsets.get(__privateGet(this,_colourElement))),__privateGet(this,_writer).writeEBML(__privateGet(this,_colourElement)),__privateGet(this,_writer).seek(O)}}_.decoderConfig.description&&(__privateGet(this,_options).streaming?__privateSet(this,_videoCodecPrivate,__privateMethod(this,_createCodecPrivateElement,createCodecPrivateElement_fn).call(this,_.decoderConfig.description)):__privateMethod(this,_writeCodecPrivate,writeCodecPrivate_fn).call(this,__privateGet(this,_videoCodecPrivate),_.decoderConfig.description))}};_fixVP9ColorSpace=new WeakSet;fixVP9ColorSpace_fn=function(_){if(_.type!=="key"||!__privateGet(this,_colorSpace))return;let R=0;if(readBits(_.data,0,2)!==2)return;R+=2;let O=(readBits(_.data,R+1,R+2)<<1)+readBits(_.data,R+0,R+1);R+=2,O===3&&R++;let I=readBits(_.data,R+0,R+1);if(R++,I)return;let F=readBits(_.data,R+0,R+1);if(R++,F!==0)return;R+=2;let z=readBits(_.data,R+0,R+24);if(R+=24,z!==4817730)return;O>=2&&R++;let L={rgb:7,bt709:2,bt470bg:1,smpte170m:3}[__privateGet(this,_colorSpace).matrix];writeBits(_.data,R+0,R+3,L)};_writeSubtitleChunks=new WeakSet;writeSubtitleChunks_fn=function(){let _=Math.min(__privateGet(this,_options).video?__privateGet(this,_lastVideoTimestamp):1/0,__privateGet(this,_options).audio?__privateGet(this,_lastAudioTimestamp):1/0),R=__privateGet(this,_subtitleChunkQueue);for(;R.length>0&&R[0].timestamp<=_;)__privateMethod(this,_writeBlock,writeBlock_fn).call(this,R.shift(),!__privateGet(this,_options).video&&!__privateGet(this,_options).audio)};_createInternalChunk=new WeakSet;createInternalChunk_fn=function(_,R,O,I,F,z){let L=__privateMethod(this,_validateTimestamp,validateTimestamp_fn).call(this,O,I);return{data:_,additions:z,type:R,timestamp:L,duration:F,trackNumber:I}};_validateTimestamp=new WeakSet;validateTimestamp_fn=function(_,R){let O=R===VIDEO_TRACK_NUMBER?__privateGet(this,_lastVideoTimestamp):R===AUDIO_TRACK_NUMBER?__privateGet(this,_lastAudioTimestamp):__privateGet(this,_lastSubtitleTimestamp);if(R!==SUBTITLE_TRACK_NUMBER){let I=R===VIDEO_TRACK_NUMBER?__privateGet(this,_firstVideoTimestamp):__privateGet(this,_firstAudioTimestamp);if(__privateGet(this,_options).firstTimestampBehavior==="strict"&&O===-1&&_!==0)throw new Error(`The first chunk for your media track must have a timestamp of 0 (received ${_}). Non-zero first timestamps are often caused by directly piping frames or audio data from a MediaStreamTrack into the encoder. Their timestamps are typically relative to the age of the document, which is probably what you want.

If you want to offset all timestamps of a track such that the first one is zero, set firstTimestampBehavior: 'offset' in the options.
If you want to allow non-zero first timestamps, set firstTimestampBehavior: 'permissive'.
`);__privateGet(this,_options).firstTimestampBehavior==="offset"&&(_-=I)}if(_<O)throw new Error(`Timestamps must be monotonically increasing (went from ${O} to ${_}).`);if(_<0)throw new Error(`Timestamps must be non-negative (received ${_}).`);return _};_writeBlock=new WeakSet;writeBlock_fn=function(_,R){__privateGet(this,_options).streaming&&!__privateGet(this,_tracksElement)&&(__privateMethod(this,_createTracks,createTracks_fn).call(this),__privateMethod(this,_createSegment,createSegment_fn).call(this));let O=Math.floor(_.timestamp/1e3),I=O-__privateGet(this,_currentClusterTimestamp),F=R&&_.type==="key"&&I>=1e3,z=I>=MAX_CHUNK_LENGTH_MS;if((!__privateGet(this,_currentCluster)||F||z)&&(__privateMethod(this,_createNewCluster,createNewCluster_fn).call(this,O),I=0),I<0)return;let L=new Uint8Array(4),U=new DataView(L.buffer);if(U.setUint8(0,128|_.trackNumber),U.setInt16(1,I,!1),_.duration===void 0&&!_.additions){U.setUint8(3,+(_.type==="key")<<7);let q={id:163,data:[L,_.data]};__privateGet(this,_writer).writeEBML(q)}else{let q=Math.floor(_.duration/1e3),G={id:160,data:[{id:161,data:[L,_.data]},_.duration!==void 0?{id:155,data:q}:null,_.additions?{id:30113,data:_.additions}:null]};__privateGet(this,_writer).writeEBML(G)}__privateSet(this,_duration,Math.max(__privateGet(this,_duration),O))};_createCodecPrivateElement=new WeakSet;createCodecPrivateElement_fn=function(_){return{id:25506,size:4,data:new Uint8Array(_)}};_writeCodecPrivate=new WeakSet;writeCodecPrivate_fn=function(_,R){let O=__privateGet(this,_writer).pos;__privateGet(this,_writer).seek(__privateGet(this,_writer).offsets.get(_));let I=6+R.byteLength,F=CODEC_PRIVATE_MAX_SIZE-I;if(F<0){let z=R.byteLength+F;R instanceof ArrayBuffer?R=R.slice(0,z):R=R.buffer.slice(0,z),F=0}_=[__privateMethod(this,_createCodecPrivateElement,createCodecPrivateElement_fn).call(this,R),{id:236,size:4,data:new Uint8Array(F)}],__privateGet(this,_writer).writeEBML(_),__privateGet(this,_writer).seek(O)};_createNewCluster=new WeakSet;createNewCluster_fn=function(_){__privateGet(this,_currentCluster)&&__privateMethod(this,_finalizeCurrentCluster,finalizeCurrentCluster_fn).call(this),__privateGet(this,_writer)instanceof BaseStreamTargetWriter&&__privateGet(this,_writer).target.options.onCluster&&__privateGet(this,_writer).startTrackingWrites(),__privateSet(this,_currentCluster,{id:524531317,size:__privateGet(this,_options).streaming?-1:CLUSTER_SIZE_BYTES,data:[{id:231,data:_}]}),__privateGet(this,_writer).writeEBML(__privateGet(this,_currentCluster)),__privateSet(this,_currentClusterTimestamp,_);let R=__privateGet(this,_writer).offsets.get(__privateGet(this,_currentCluster))-__privateGet(this,_segmentDataOffset,segmentDataOffset_get);__privateGet(this,_cues).data.push({id:187,data:[{id:179,data:_},__privateGet(this,_options).video?{id:183,data:[{id:247,data:VIDEO_TRACK_NUMBER},{id:241,data:R}]}:null,__privateGet(this,_options).audio?{id:183,data:[{id:247,data:AUDIO_TRACK_NUMBER},{id:241,data:R}]}:null]})};_finalizeCurrentCluster=new WeakSet;finalizeCurrentCluster_fn=function(){if(!__privateGet(this,_options).streaming){let _=__privateGet(this,_writer).pos-__privateGet(this,_writer).dataOffsets.get(__privateGet(this,_currentCluster)),R=__privateGet(this,_writer).pos;__privateGet(this,_writer).seek(__privateGet(this,_writer).offsets.get(__privateGet(this,_currentCluster))+4),__privateGet(this,_writer).writeEBMLVarInt(_,CLUSTER_SIZE_BYTES),__privateGet(this,_writer).seek(R)}if(__privateGet(this,_writer)instanceof BaseStreamTargetWriter&&__privateGet(this,_writer).target.options.onCluster){let{data:_,start:R}=__privateGet(this,_writer).getTrackedWrites();__privateGet(this,_writer).target.options.onCluster(_,R,__privateGet(this,_currentClusterTimestamp))}};_ensureNotFinalized=new WeakSet;ensureNotFinalized_fn=function(){if(__privateGet(this,_finalized))throw new Error("Cannot add new video or audio chunks after the file has been finalized.")};new TextEncoder;class MP4VideoEncoder{encoder=null;muxer=null;options;frameCount=0;isFinished=!1;encodePromises=[];videoMetadata=null;constructor(R){this.options=R}async init(){if(this.encoder)throw new Error("Encoder already initialized");if(typeof VideoEncoder>"u")throw new Error("WebCodecs API is not available in this browser. Please use Chrome 94+, Safari 16.4+, or Edge 94+.");console.log("Browser:",navigator.userAgent),console.log("Testing video codec support..."),console.log("Resolution:",this.options.width,"x",this.options.height),console.log("Frame rate:",this.options.frameRate);try{new VideoEncoder({output:()=>{},error:()=>{}}).close(),console.log(" VideoEncoder can be created")}catch(L){throw console.error(" Cannot create VideoEncoder:",L),new Error(`Cannot create VideoEncoder: ${L}. WebCodecs API may be disabled or unavailable.`)}const R=this.options.bitrate||this.options.width*this.options.height*this.options.frameRate*.1,O=[{codec:"avc1.42001e",muxerCodec:"avc",name:"H.264 Baseline (Level 3.0)",hardwareAcceleration:"prefer-hardware"},{codec:"avc1.42001f",muxerCodec:"avc",name:"H.264 Baseline (Level 3.1)",hardwareAcceleration:"prefer-hardware"},{codec:"avc1.4d001f",muxerCodec:"avc",name:"H.264 Main (Level 3.1)",hardwareAcceleration:"prefer-hardware"},{codec:"avc1.640028",muxerCodec:"avc",name:"H.264 High (Level 4.0)",hardwareAcceleration:"prefer-hardware"},{codec:"avc1.42001e",muxerCodec:"avc",name:"H.264 Baseline (Software)",hardwareAcceleration:"prefer-software"},{codec:"vp09.00.10.08",muxerCodec:"vp9",name:"VP9 (not QuickTime compatible)",hardwareAcceleration:"prefer-hardware"},{codec:"vp8",muxerCodec:"vp8",name:"VP8 (not QuickTime compatible)",hardwareAcceleration:"prefer-hardware"}];let I=null,F=null,z="";for(const L of O){let U={codec:L.codec,width:this.options.width,height:this.options.height,bitrate:R,framerate:this.options.frameRate,hardwareAcceleration:L.hardwareAcceleration,latencyMode:"quality"};try{let q=await VideoEncoder.isConfigSupported(U);if(q.supported||(console.log(` ${L.name} (full config) not supported, trying minimal...`),U={codec:L.codec,width:this.options.width,height:this.options.height,bitrate:R,framerate:this.options.frameRate},q=await VideoEncoder.isConfigSupported(U)),q.supported){I=U,F=L.muxerCodec,z=L.name,console.log(` Using ${z} codec for video encoding`),console.log("  Config:",U);break}else console.log(` ${L.name} not supported (config: ${JSON.stringify(U)})`)}catch(q){console.log(` ${L.name} threw error:`,q)}}if(!I||!F){const L=O.map(U=>U.name).join(", ");throw new Error(`No supported video codec found. Tried: ${L}

Possible causes:
 Browser version too old (need Chrome 94+, Safari 16.4+, Edge 94+)
 Hardware encoding disabled in browser settings
 Running in an unsupported environment (iframe, extension, etc.)

Browser: ${navigator.userAgent}`)}F!=="avc"&&console.warn(`  Using ${z} - output may not be compatible with QuickTime or PowerPoint. H.264 encoding is unavailable on this system.`),this.muxer=new Muxer$1({target:new ArrayBufferTarget$1,video:{codec:F,width:this.options.width,height:this.options.height},fastStart:"in-memory",firstTimestampBehavior:"offset"}),this.encoder=new VideoEncoder({output:(L,U)=>{if(this.muxer){U?.decoderConfig&&!this.videoMetadata&&(this.videoMetadata=U,console.log("Captured video metadata:",U));const q=this.videoMetadata||U;if(L.duration===null||L.duration===void 0){const G=Math.round(1/this.options.frameRate*1e6);try{Object.defineProperty(L,"duration",{value:G,writable:!1,enumerable:!0,configurable:!0})}catch(V){console.warn("Could not set chunk duration, video timing may be incorrect:",V)}}try{this.muxer.addVideoChunk(L,q)}catch(G){throw console.error("Failed to add video chunk to muxer:",G),console.error("Chunk:",L),console.error("Metadata:",q),G}}},error:L=>{throw console.error("VideoEncoder error:",L),L}}),this.encoder.configure(I)}async addFrame(R,O){if(!this.encoder||!this.muxer)throw new Error("Encoder not initialized. Call init() first.");if(this.isFinished)throw new Error("Cannot add frames after finish() has been called");const I=new VideoFrame(R,{timestamp:O*1e3}),F=new Promise((z,L)=>{try{const U=this.frameCount%(this.options.frameRate*2)===0;this.encoder.encode(I,{keyFrame:U}),I.close(),z()}catch(U){I.close(),L(U)}});this.encodePromises.push(F),this.frameCount++,await F}async finish(){if(!this.encoder||!this.muxer)throw new Error("Encoder not initialized");if(this.isFinished)throw new Error("finish() has already been called");this.isFinished=!0,await Promise.all(this.encodePromises),await this.encoder.flush(),this.muxer.finalize();const O=this.muxer.target.buffer;return this.encoder.close(),this.encoder=null,this.muxer=null,this.videoMetadata=null,new Blob([O],{type:"video/mp4"})}getFrameCount(){return this.frameCount}}class WebMVideoEncoder{encoder=null;muxer=null;options;frameCount=0;isFinished=!1;encodePromises=[];constructor(R){this.options=R}async init(){if(this.encoder)throw new Error("Encoder already initialized");if(typeof VideoEncoder>"u")throw new Error("WebCodecs API is not available in this browser. Please use Chrome 94+, Safari 16.4+, or Edge 94+.");console.log("Initializing WebM encoder..."),console.log("Resolution:",this.options.width,"x",this.options.height),console.log("Frame rate:",this.options.frameRate);const R=this.options.bitrate||this.options.width*this.options.height*this.options.frameRate*.1,O=[{codec:"vp09.00.10.08",name:"VP9",hardwareAcceleration:"prefer-hardware"},{codec:"vp09.00.10.08",name:"VP9 (Software)",hardwareAcceleration:"prefer-software"},{codec:"vp8",name:"VP8",hardwareAcceleration:"prefer-hardware"}];let I=null,F="";for(const z of O){let L={codec:z.codec,width:this.options.width,height:this.options.height,bitrate:R,framerate:this.options.frameRate,hardwareAcceleration:z.hardwareAcceleration,latencyMode:"quality"};try{let U=await VideoEncoder.isConfigSupported(L);if(U.supported||(console.log(` ${z.name} (full config) not supported, trying minimal...`),L={codec:z.codec,width:this.options.width,height:this.options.height,bitrate:R,framerate:this.options.frameRate},U=await VideoEncoder.isConfigSupported(L)),U.supported){I=L,F=z.name,console.log(` Using ${F} codec for WebM encoding`),console.log("  Config:",L);break}else console.log(` ${z.name} not supported`)}catch(U){console.log(` ${z.name} threw error:`,U)}}if(!I){const z=O.map(L=>L.name).join(", ");throw new Error(`No supported WebM codec found. Tried: ${z}

Possible causes:
 Browser version too old (need Chrome 94+, Edge 94+)
 Hardware encoding disabled in browser settings

Browser: ${navigator.userAgent}`)}this.muxer=new Muxer({target:new ArrayBufferTarget,video:{codec:I.codec.startsWith("vp09")?"V_VP9":"V_VP8",width:this.options.width,height:this.options.height},firstTimestampBehavior:"offset"}),this.encoder=new VideoEncoder({output:(z,L)=>{if(this.muxer){if(z.duration===null||z.duration===void 0){const U=Math.round(1/this.options.frameRate*1e6);try{Object.defineProperty(z,"duration",{value:U,writable:!1,enumerable:!0,configurable:!0})}catch(q){console.warn("Could not set chunk duration, video timing may be incorrect:",q)}}try{this.muxer.addVideoChunk(z,L)}catch(U){throw console.error("Failed to add video chunk to WebM muxer:",U),U}}},error:z=>{throw console.error("VideoEncoder error:",z),z}}),this.encoder.configure(I)}async addFrame(R,O){if(!this.encoder||!this.muxer)throw new Error("Encoder not initialized. Call init() first.");if(this.isFinished)throw new Error("Cannot add frames after finish() has been called");const I=new VideoFrame(R,{timestamp:O*1e3}),F=new Promise((z,L)=>{try{const U=this.frameCount%(this.options.frameRate*2)===0;this.encoder.encode(I,{keyFrame:U}),I.close(),z()}catch(U){I.close(),L(U)}});this.encodePromises.push(F),this.frameCount++,await F}async finish(){if(!this.encoder||!this.muxer)throw new Error("Encoder not initialized");if(this.isFinished)throw new Error("finish() has already been called");this.isFinished=!0,await Promise.all(this.encodePromises),await this.encoder.flush(),this.muxer.finalize();const O=this.muxer.target.buffer;return this.encoder.close(),this.encoder=null,this.muxer=null,new Blob([O],{type:"video/webm"})}getFrameCount(){return this.frameCount}}class MP4AV1VideoEncoder{encoder=null;muxer=null;options;frameCount=0;isFinished=!1;encodePromises=[];videoMetadata=null;constructor(R){this.options=R}async init(){if(this.encoder)throw new Error("Encoder already initialized");if(typeof VideoEncoder>"u")throw new Error("WebCodecs API is not available in this browser. Please use Chrome 94+, Edge 94+.");console.log("Initializing MP4 AV1 encoder..."),console.log("Resolution:",this.options.width,"x",this.options.height),console.log("Frame rate:",this.options.frameRate);const R=this.options.bitrate||this.options.width*this.options.height*this.options.frameRate*.07,O=[{codec:"av01.0.04M.08",name:"AV1 Main Profile",hardwareAcceleration:"prefer-hardware"},{codec:"av01.0.04M.08",name:"AV1 (Software)",hardwareAcceleration:"prefer-software"},{codec:"av01.0.00M.08",name:"AV1 Main Profile (Level 2.0)",hardwareAcceleration:"prefer-hardware"}];let I=null,F="";for(const z of O){let L={codec:z.codec,width:this.options.width,height:this.options.height,bitrate:R,framerate:this.options.frameRate,hardwareAcceleration:z.hardwareAcceleration,latencyMode:"quality"};try{let U=await VideoEncoder.isConfigSupported(L);if(U.supported||(console.log(` ${z.name} (full config) not supported, trying minimal...`),L={codec:z.codec,width:this.options.width,height:this.options.height,bitrate:R,framerate:this.options.frameRate},U=await VideoEncoder.isConfigSupported(L)),U.supported){I=L,F=z.name,console.log(` Using ${F} codec for MP4 encoding`),console.log("  Config:",L);break}else console.log(` ${z.name} not supported`)}catch(U){console.log(` ${z.name} threw error:`,U)}}if(!I){const z=O.map(L=>L.name).join(", ");throw new Error(`No supported AV1 codec found. Tried: ${z}

Possible causes:
 Browser version too old (need Chrome 90+, Edge 90+)
 AV1 encoding not available on this system
 Hardware encoding disabled in browser settings

Try MP4 (H.264) format instead for maximum compatibility.

Browser: ${navigator.userAgent}`)}this.muxer=new Muxer$1({target:new ArrayBufferTarget$1,video:{codec:"av1",width:this.options.width,height:this.options.height},fastStart:"in-memory",firstTimestampBehavior:"offset"}),this.encoder=new VideoEncoder({output:(z,L)=>{if(this.muxer){L?.decoderConfig&&!this.videoMetadata&&(this.videoMetadata=L,console.log("Captured video metadata:",L));const U=this.videoMetadata||L;if(z.duration===null||z.duration===void 0){const q=Math.round(1/this.options.frameRate*1e6);try{Object.defineProperty(z,"duration",{value:q,writable:!1,enumerable:!0,configurable:!0})}catch(G){console.warn("Could not set chunk duration, video timing may be incorrect:",G)}}try{this.muxer.addVideoChunk(z,U)}catch(q){throw console.error("Failed to add video chunk to muxer:",q),q}}},error:z=>{throw console.error("VideoEncoder error:",z),z}}),this.encoder.configure(I)}async addFrame(R,O){if(!this.encoder||!this.muxer)throw new Error("Encoder not initialized. Call init() first.");if(this.isFinished)throw new Error("Cannot add frames after finish() has been called");const I=new VideoFrame(R,{timestamp:O*1e3}),F=new Promise((z,L)=>{try{const U=this.frameCount%(this.options.frameRate*2)===0;this.encoder.encode(I,{keyFrame:U}),I.close(),z()}catch(U){I.close(),L(U)}});this.encodePromises.push(F),this.frameCount++,await F}async finish(){if(!this.encoder||!this.muxer)throw new Error("Encoder not initialized");if(this.isFinished)throw new Error("finish() has already been called");this.isFinished=!0,await Promise.all(this.encodePromises),await this.encoder.flush(),this.muxer.finalize();const O=this.muxer.target.buffer;return this.encoder.close(),this.encoder=null,this.muxer=null,this.videoMetadata=null,new Blob([O],{type:"video/mp4"})}getFrameCount(){return this.frameCount}}function createVideoEncoder(_,R){switch(_){case"mp4":return new MP4VideoEncoder(R);case"mp4-av1":return new MP4AV1VideoEncoder(R);case"webm":return new WebMVideoEncoder(R);default:throw new Error(`Unsupported video format: ${_}`)}}async function isMP4Supported(){if(typeof VideoEncoder>"u")return!1;try{const _=["avc1.42001f","avc1.42001e"];for(const R of _){const O={codec:R,width:640,height:480,bitrate:1e6,framerate:30};if((await VideoEncoder.isConfigSupported(O)).supported)return!0}return!1}catch{return!1}}async function isMP4AV1Supported(){if(typeof VideoEncoder>"u")return!1;try{const _=["av01.0.04M.08","av01.0.00M.08"];for(const R of _){const O={codec:R,width:640,height:480,bitrate:1e6,framerate:30};if((await VideoEncoder.isConfigSupported(O)).supported)return!0}return!1}catch{return!1}}async function isWebMSupported(){if(typeof VideoEncoder>"u")return!1;try{const _=["vp09.00.10.08","vp8"];for(const R of _){const O={codec:R,width:640,height:480,bitrate:1e6,framerate:30};if((await VideoEncoder.isConfigSupported(O)).supported)return!0}return!1}catch{return!1}}const SimulationCanvas=reactExports.forwardRef(({state:_,params:R,minHeight:O=350,aspectRatio:I=1,className:F,style:z,renderOptions:L={}},U)=>{const q=reactExports.useRef(null),G=reactExports.useRef(null),V=reactExports.useRef(null),Z=reactExports.useRef(null),Y=reactExports.useRef("mp4"),W=reactExports.useRef(!1),[ee,ne]=reactExports.useState(!1),[ie,se]=reactExports.useState({width:800,height:O}),{isDark:oe}=useTheme(),{currentModel:le}=useModel();reactExports.useImperativeHandle(U,()=>({getScreenshot:()=>G.current?G.current.toDataURL("image/png"):null,startRecording:async ce=>{if(!G.current||Z.current)return;const fe=G.current;Y.current=ce,W.current=!1;const me=createVideoEncoder(ce,{width:fe.width,height:fe.height,frameRate:30});try{await me.init(),Z.current=me}catch(he){throw console.error("Failed to initialize video encoder:",he),he}},captureFrame:async ce=>{const fe=Z.current,me=G.current;if(!(!fe||!me))try{await fe.addFrame(me,ce)}catch(he){console.error("Failed to capture frame:",he)}},stopRecording:async()=>{const ce=Z.current;if(!ce)return null;const fe=Y.current;W.current=!0;try{const me=await ce.finish();return Z.current=null,W.current=!1,{blob:me,mimeType:fe==="mp4"?"video/mp4":"video/webm"}}catch(me){throw console.error("Failed to finalize video:",me),Z.current=null,W.current=!1,me}},isRecording:()=>Z.current!==null,isMP4Supported:async()=>await isMP4Supported(),isMP4AV1Supported:async()=>await isMP4AV1Supported(),isWebMSupported:async()=>await isWebMSupported()}),[]);const ue=reactExports.useCallback(()=>{if(q.current){const ce=q.current.getBoundingClientRect(),fe=Math.floor(ce.width),me=Math.floor(fe/I),he=Math.max(O,me);fe>0&&he>0&&se({width:fe,height:he})}},[O,I]);return reactExports.useEffect(()=>{const ce=q.current;if(!ce)return;ue();const fe=new ResizeObserver(()=>{ue()});return fe.observe(ce),window.addEventListener("resize",ue),()=>{fe.disconnect(),window.removeEventListener("resize",ue)}},[ue]),reactExports.useEffect(()=>{const ce=G.current;if(!ce)return;let fe=!0;return(async()=>{const he=new SimulationRenderer({width:ie.width,height:ie.height,isDark:oe});await he.init(ce),fe&&(V.current=he,he.setModel(le),he.setParams(R),ne(!0))})(),()=>{fe=!1,V.current&&(V.current.destroy(),V.current=null),ne(!1)}},[]),reactExports.useEffect(()=>{V.current&&ee&&(V.current.setParams(R),_&&V.current.render(_))},[R,ee,_]),reactExports.useEffect(()=>{V.current&&ee&&ie.width>0&&ie.height>0&&(V.current.resize(ie.width,ie.height),_&&V.current.render(_))},[ie.width,ie.height,ee,_]),reactExports.useEffect(()=>{if(V.current&&_&&ee&&(V.current.render(_),Z.current&&G.current&&!W.current)){const ce=_.t!==void 0?_.t*1e3:0;Z.current.addFrame(G.current,ce).catch(fe=>console.error("Failed to capture frame:",fe))}},[_,ee]),reactExports.useEffect(()=>{V.current&&ee&&(V.current.setDarkMode(oe),_&&V.current.render(_))},[oe,ee,_]),reactExports.useEffect(()=>{V.current&&ee&&(V.current.setModel(le),V.current.setParams(R),_&&V.current.render(_))},[le,ee,_,R]),reactExports.useEffect(()=>{V.current&&ee&&(V.current.setRenderOptions(L),_&&V.current.render(_))},[L,ee,_]),jsxRuntimeExports.jsx("div",{ref:q,className:F,style:{width:"100%",minHeight:`${O}px`,...z},children:jsxRuntimeExports.jsx("canvas",{ref:G,width:ie.width,height:ie.height,style:{display:"block",width:"100%",height:"100%"}})})});SimulationCanvas.displayName="SimulationCanvas";var PAGE_KEYS=["PageUp","PageDown"],ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},SLIDER_NAME="Slider",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(SLIDER_NAME),[createSliderContext]=createContextScope$1(SLIDER_NAME,[createCollectionScope$1]),[SliderProvider,useSliderContext]=createSliderContext(SLIDER_NAME),Slider$1=reactExports.forwardRef((_,R)=>{const{name:O,min:I=0,max:F=100,step:z=1,orientation:L="horizontal",disabled:U=!1,minStepsBetweenThumbs:q=0,defaultValue:G=[I],value:V,onValueChange:Z=()=>{},onValueCommit:Y=()=>{},inverted:W=!1,form:ee,...ne}=_,ie=reactExports.useRef(new Set),se=reactExports.useRef(0),le=L==="horizontal"?SliderHorizontal:SliderVertical,[ue=[],ce]=useControllableState({prop:V,defaultProp:G,onChange:_e=>{[...ie.current][se.current]?.focus(),Z(_e)}}),fe=reactExports.useRef(ue);function me(_e){const ye=getClosestValueIndex(ue,_e);ge(_e,ye)}function he(_e){ge(_e,se.current)}function pe(){const _e=fe.current[se.current];ue[se.current]!==_e&&Y(ue)}function ge(_e,ye,{commit:we}={commit:!1}){const ve=getDecimalCount(z),$e=roundValue(Math.round((_e-I)/z)*z+I,ve),be=clamp$1($e,[I,F]);ce((Ce=[])=>{const De=getNextSortedValues(Ce,be,ye);if(hasMinStepsBetweenValues(De,q*z)){se.current=De.indexOf(be);const Ne=String(De)!==String(Ce);return Ne&&we&&Y(De),Ne?De:Ce}else return Ce})}return jsxRuntimeExports.jsx(SliderProvider,{scope:_.__scopeSlider,name:O,disabled:U,min:I,max:F,valueIndexToChangeRef:se,thumbs:ie.current,values:ue,orientation:L,form:ee,children:jsxRuntimeExports.jsx(Collection$1.Provider,{scope:_.__scopeSlider,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:_.__scopeSlider,children:jsxRuntimeExports.jsx(le,{"aria-disabled":U,"data-disabled":U?"":void 0,...ne,ref:R,onPointerDown:composeEventHandlers$1(ne.onPointerDown,()=>{U||(fe.current=ue)}),min:I,max:F,inverted:W,onSlideStart:U?void 0:me,onSlideMove:U?void 0:he,onSlideEnd:U?void 0:pe,onHomeKeyDown:()=>!U&&ge(I,0,{commit:!0}),onEndKeyDown:()=>!U&&ge(F,ue.length-1,{commit:!0}),onStepKeyDown:({event:_e,direction:ye})=>{if(!U){const $e=PAGE_KEYS.includes(_e.key)||_e.shiftKey&&ARROW_KEYS.includes(_e.key)?10:1,be=se.current,Ce=ue[be],De=z*$e*ye;ge(Ce+De,be,{commit:!0})}}})})})})});Slider$1.displayName=SLIDER_NAME;var[SliderOrientationProvider,useSliderOrientationContext]=createSliderContext(SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SliderHorizontal=reactExports.forwardRef((_,R)=>{const{min:O,max:I,dir:F,inverted:z,onSlideStart:L,onSlideMove:U,onSlideEnd:q,onStepKeyDown:G,...V}=_,[Z,Y]=reactExports.useState(null),W=useComposedRefs(R,le=>Y(le)),ee=reactExports.useRef(void 0),ne=useDirection(F),ie=ne==="ltr",se=ie&&!z||!ie&&z;function oe(le){const ue=ee.current||Z.getBoundingClientRect(),ce=[0,ue.width],me=linearScale$1(ce,se?[O,I]:[I,O]);return ee.current=ue,me(le-ue.left)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:_.__scopeSlider,startEdge:se?"left":"right",endEdge:se?"right":"left",direction:se?1:-1,size:"width",children:jsxRuntimeExports.jsx(SliderImpl,{dir:ne,"data-orientation":"horizontal",...V,ref:W,style:{...V.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:le=>{const ue=oe(le.clientX);L?.(ue)},onSlideMove:le=>{const ue=oe(le.clientX);U?.(ue)},onSlideEnd:()=>{ee.current=void 0,q?.()},onStepKeyDown:le=>{const ce=BACK_KEYS[se?"from-left":"from-right"].includes(le.key);G?.({event:le,direction:ce?-1:1})}})})}),SliderVertical=reactExports.forwardRef((_,R)=>{const{min:O,max:I,inverted:F,onSlideStart:z,onSlideMove:L,onSlideEnd:U,onStepKeyDown:q,...G}=_,V=reactExports.useRef(null),Z=useComposedRefs(R,V),Y=reactExports.useRef(void 0),W=!F;function ee(ne){const ie=Y.current||V.current.getBoundingClientRect(),se=[0,ie.height],le=linearScale$1(se,W?[I,O]:[O,I]);return Y.current=ie,le(ne-ie.top)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:_.__scopeSlider,startEdge:W?"bottom":"top",endEdge:W?"top":"bottom",size:"height",direction:W?1:-1,children:jsxRuntimeExports.jsx(SliderImpl,{"data-orientation":"vertical",...G,ref:Z,style:{...G.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:ne=>{const ie=ee(ne.clientY);z?.(ie)},onSlideMove:ne=>{const ie=ee(ne.clientY);L?.(ie)},onSlideEnd:()=>{Y.current=void 0,U?.()},onStepKeyDown:ne=>{const se=BACK_KEYS[W?"from-bottom":"from-top"].includes(ne.key);q?.({event:ne,direction:se?-1:1})}})})}),SliderImpl=reactExports.forwardRef((_,R)=>{const{__scopeSlider:O,onSlideStart:I,onSlideMove:F,onSlideEnd:z,onHomeKeyDown:L,onEndKeyDown:U,onStepKeyDown:q,...G}=_,V=useSliderContext(SLIDER_NAME,O);return jsxRuntimeExports.jsx(Primitive$2.span,{...G,ref:R,onKeyDown:composeEventHandlers$1(_.onKeyDown,Z=>{Z.key==="Home"?(L(Z),Z.preventDefault()):Z.key==="End"?(U(Z),Z.preventDefault()):PAGE_KEYS.concat(ARROW_KEYS).includes(Z.key)&&(q(Z),Z.preventDefault())}),onPointerDown:composeEventHandlers$1(_.onPointerDown,Z=>{const Y=Z.target;Y.setPointerCapture(Z.pointerId),Z.preventDefault(),V.thumbs.has(Y)?Y.focus():I(Z)}),onPointerMove:composeEventHandlers$1(_.onPointerMove,Z=>{Z.target.hasPointerCapture(Z.pointerId)&&F(Z)}),onPointerUp:composeEventHandlers$1(_.onPointerUp,Z=>{const Y=Z.target;Y.hasPointerCapture(Z.pointerId)&&(Y.releasePointerCapture(Z.pointerId),z(Z))})})}),TRACK_NAME="SliderTrack",SliderTrack=reactExports.forwardRef((_,R)=>{const{__scopeSlider:O,...I}=_,F=useSliderContext(TRACK_NAME,O);return jsxRuntimeExports.jsx(Primitive$2.span,{"data-disabled":F.disabled?"":void 0,"data-orientation":F.orientation,...I,ref:R})});SliderTrack.displayName=TRACK_NAME;var RANGE_NAME="SliderRange",SliderRange=reactExports.forwardRef((_,R)=>{const{__scopeSlider:O,...I}=_,F=useSliderContext(RANGE_NAME,O),z=useSliderOrientationContext(RANGE_NAME,O),L=reactExports.useRef(null),U=useComposedRefs(R,L),q=F.values.length,G=F.values.map(Y=>convertValueToPercentage(Y,F.min,F.max)),V=q>1?Math.min(...G):0,Z=100-Math.max(...G);return jsxRuntimeExports.jsx(Primitive$2.span,{"data-orientation":F.orientation,"data-disabled":F.disabled?"":void 0,...I,ref:U,style:{..._.style,[z.startEdge]:V+"%",[z.endEdge]:Z+"%"}})});SliderRange.displayName=RANGE_NAME;var THUMB_NAME$1="SliderThumb",SliderThumb=reactExports.forwardRef((_,R)=>{const O=useCollection$1(_.__scopeSlider),[I,F]=reactExports.useState(null),z=useComposedRefs(R,U=>F(U)),L=reactExports.useMemo(()=>I?O().findIndex(U=>U.ref.current===I):-1,[O,I]);return jsxRuntimeExports.jsx(SliderThumbImpl,{..._,ref:z,index:L})}),SliderThumbImpl=reactExports.forwardRef((_,R)=>{const{__scopeSlider:O,index:I,name:F,...z}=_,L=useSliderContext(THUMB_NAME$1,O),U=useSliderOrientationContext(THUMB_NAME$1,O),[q,G]=reactExports.useState(null),V=useComposedRefs(R,oe=>G(oe)),Z=q?L.form||!!q.closest("form"):!0,Y=useSize(q),W=L.values[I],ee=W===void 0?0:convertValueToPercentage(W,L.min,L.max),ne=getLabel(I,L.values.length),ie=Y?.[U.size],se=ie?getThumbInBoundsOffset(ie,ee,U.direction):0;return reactExports.useEffect(()=>{if(q)return L.thumbs.add(q),()=>{L.thumbs.delete(q)}},[q,L.thumbs]),jsxRuntimeExports.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[U.startEdge]:`calc(${ee}% + ${se}px)`},children:[jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:_.__scopeSlider,children:jsxRuntimeExports.jsx(Primitive$2.span,{role:"slider","aria-label":_["aria-label"]||ne,"aria-valuemin":L.min,"aria-valuenow":W,"aria-valuemax":L.max,"aria-orientation":L.orientation,"data-orientation":L.orientation,"data-disabled":L.disabled?"":void 0,tabIndex:L.disabled?void 0:0,...z,ref:V,style:W===void 0?{display:"none"}:_.style,onFocus:composeEventHandlers$1(_.onFocus,()=>{L.valueIndexToChangeRef.current=I})})}),Z&&jsxRuntimeExports.jsx(SliderBubbleInput,{name:F??(L.name?L.name+(L.values.length>1?"[]":""):void 0),form:L.form,value:W},I)]})});SliderThumb.displayName=THUMB_NAME$1;var BUBBLE_INPUT_NAME="RadioBubbleInput",SliderBubbleInput=reactExports.forwardRef(({__scopeSlider:_,value:R,...O},I)=>{const F=reactExports.useRef(null),z=useComposedRefs(F,I),L=usePrevious(R);return reactExports.useEffect(()=>{const U=F.current;if(!U)return;const q=window.HTMLInputElement.prototype,V=Object.getOwnPropertyDescriptor(q,"value").set;if(L!==R&&V){const Z=new Event("input",{bubbles:!0});V.call(U,R),U.dispatchEvent(Z)}},[L,R]),jsxRuntimeExports.jsx(Primitive$2.input,{style:{display:"none"},...O,ref:z,defaultValue:R})});SliderBubbleInput.displayName=BUBBLE_INPUT_NAME;function getNextSortedValues(_=[],R,O){const I=[..._];return I[O]=R,I.sort((F,z)=>F-z)}function convertValueToPercentage(_,R,O){const z=100/(O-R)*(_-R);return clamp$1(z,[0,100])}function getLabel(_,R){return R>2?`Value ${_+1} of ${R}`:R===2?["Minimum","Maximum"][_]:void 0}function getClosestValueIndex(_,R){if(_.length===1)return 0;const O=_.map(F=>Math.abs(F-R)),I=Math.min(...O);return O.indexOf(I)}function getThumbInBoundsOffset(_,R,O){const I=_/2,z=linearScale$1([0,50],[0,I]);return(I-z(R)*O)*O}function getStepsBetweenValues(_){return _.slice(0,-1).map((R,O)=>_[O+1]-R)}function hasMinStepsBetweenValues(_,R){if(R>0){const O=getStepsBetweenValues(_);return Math.min(...O)>=R}return!0}function linearScale$1(_,R){return O=>{if(_[0]===_[1]||R[0]===R[1])return R[0];const I=(R[1]-R[0])/(_[1]-_[0]);return R[0]+I*(O-_[0])}}function getDecimalCount(_){return(String(_).split(".")[1]||"").length}function roundValue(_,R){const O=Math.pow(10,R);return Math.round(_*O)/O}var Root$4=Slider$1,Track=SliderTrack,Range=SliderRange,Thumb=SliderThumb;const Slider=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsxs(Root$4,{ref:O,className:cn("relative flex w-full touch-none select-none items-center",_),...R,children:[jsxRuntimeExports.jsx(Track,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:jsxRuntimeExports.jsx(Range,{className:"absolute h-full bg-primary"})}),jsxRuntimeExports.jsx(Thumb,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Slider.displayName=Root$4.displayName;function SimulationControls({isRunning:_,time:R,endTime:O,maxSimulatedTime:I,isCatchingUp:F,onStart:z,onPause:L,onReset:U,onStep:q,onSeek:G,paramChangeBehavior:V,onParamChangeBehaviorChange:Z,onSaveScreenshot:Y,onSaveMovie:W,onExportCSV:ee,isRecording:ne=!1,videoFormat:ie="mp4",onVideoFormatChange:se,renderOptionsPanel:oe}){const le=O>0?I/O*100:0,ue=ce=>{const fe=ce[0];G(fe)};return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center",children:jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:[R.toFixed(2),"h / ",O,"h"]})}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 h-2 bg-muted/50 rounded-full pointer-events-none",style:{width:`${le}%`}}),jsxRuntimeExports.jsx(Slider,{value:[R],min:0,max:O,step:O/1e3,onValueChange:ue,disabled:F,className:"cursor-pointer"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[_||F?jsxRuntimeExports.jsxs(Button,{onClick:L,variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Pause,{className:"h-4 w-4 mr-1"}),"Pause"]}):jsxRuntimeExports.jsxs(Button,{onClick:z,size:"sm",children:[F?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-1 animate-spin"}):jsxRuntimeExports.jsx(Play,{className:"h-4 w-4 mr-1"}),"Start"]}),jsxRuntimeExports.jsxs(Button,{onClick:q,disabled:_||F,variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(SkipForward,{className:"h-4 w-4 mr-1"}),"Step"]}),jsxRuntimeExports.jsxs(Button,{onClick:U,variant:"outline",size:"sm",disabled:F,children:[jsxRuntimeExports.jsx(RotateCcw,{className:"h-4 w-4 mr-1"}),"Reset"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"On param change:"}),jsxRuntimeExports.jsxs(Select,{value:V,onValueChange:ce=>Z(ce),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 w-28 text-xs",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"run",children:"Run"}),jsxRuntimeExports.jsx(SelectItem,{value:"init",children:"Init"}),jsxRuntimeExports.jsx(SelectItem,{value:"step",children:"One step"})]})]})]})]}),oe,jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-wrap items-center pt-1 border-t border-border/40",children:[Y&&jsxRuntimeExports.jsxs(Button,{onClick:Y,variant:"outline",size:"sm",className:"text-xs",children:[jsxRuntimeExports.jsx(Camera,{className:"h-3.5 w-3.5 mr-1"}),"Screenshot"]}),W&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{onClick:W,variant:ne?"destructive":"outline",size:"sm",className:"text-xs",children:[jsxRuntimeExports.jsx(Video,{className:"h-3.5 w-3.5 mr-1"}),ne?"Stop Recording":"Record"]}),se&&!ne&&jsxRuntimeExports.jsxs(Select,{value:ie,onValueChange:ce=>se(ce),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 w-36 text-xs",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"mp4",children:"MP4 (H.264)"}),jsxRuntimeExports.jsx(SelectItem,{value:"mp4-av1",children:"MP4 (AV1)"}),jsxRuntimeExports.jsx(SelectItem,{value:"webm",children:"WebM (VP9)"})]})]})]}),ee&&jsxRuntimeExports.jsxs(Button,{onClick:ee,variant:"outline",size:"sm",className:"text-xs",children:[jsxRuntimeExports.jsx(FileDown,{className:"h-3.5 w-3.5 mr-1"}),"Export CSV"]})]})]})}const Card=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx("div",{ref:O,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",_),...R}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx("div",{ref:O,className:cn("flex flex-col space-y-1.5 p-6",_),...R}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx("h3",{ref:O,className:cn("text-2xl font-semibold leading-none tracking-tight",_),...R}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx("p",{ref:O,className:cn("text-sm text-muted-foreground",_),...R}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx("div",{ref:O,className:cn("p-6 pt-0",_),...R}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx("div",{ref:O,className:cn("flex items-center p-6 pt-0",_),...R}));CardFooter.displayName="CardFooter";var NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$1=NODES$1.reduce((_,R)=>{const O=createSlot$5(`Primitive.${R}`),I=reactExports.forwardRef((F,z)=>{const{asChild:L,...U}=F,q=L?O:R;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(q,{...U,ref:z})});return I.displayName=`Primitive.${R}`,{..._,[R]:I}},{}),NAME$1="Separator",DEFAULT_ORIENTATION="horizontal",ORIENTATIONS=["horizontal","vertical"],Separator$1=reactExports.forwardRef((_,R)=>{const{decorative:O,orientation:I=DEFAULT_ORIENTATION,...F}=_,z=isValidOrientation(I)?I:DEFAULT_ORIENTATION,U=O?{role:"none"}:{"aria-orientation":z==="vertical"?z:void 0,role:"separator"};return jsxRuntimeExports.jsx(Primitive$1.div,{"data-orientation":z,...U,...F,ref:R})});Separator$1.displayName=NAME$1;function isValidOrientation(_){return ORIENTATIONS.includes(_)}var Root$3=Separator$1;const Separator=reactExports.forwardRef(({className:_,orientation:R="horizontal",decorative:O=!0,...I},F)=>jsxRuntimeExports.jsx(Root$3,{ref:F,decorative:O,orientation:R,className:cn("shrink-0 bg-border",R==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",_),...I}));Separator.displayName=Root$3.displayName;class SimulationEngine{model;state;params;snapshots=[];onSnapshot;snapshotInterval;constructor(R){this.model=R.model,this.params=R.params,this.onSnapshot=R.onSnapshot,this.snapshotInterval=R.snapshotInterval??1,this.init()}init(){this.state=this.model.init(this.params),this.snapshots=[],this.recordSnapshot()}step(){let R=1;const O=this.params;O.general&&typeof O.general.dt=="number"&&(R=O.general.dt),this.state=this.model.step(this.state,R,this.params);const I=this.state;(typeof I.step_count=="number"?I.step_count:this.snapshots.length)%this.snapshotInterval===0&&this.recordSnapshot()}isComplete(){const R=this.params,O=this.state;return R.general&&typeof R.general.t_end=="number"&&typeof O.t=="number"?O.t>=R.general.t_end:!1}getState(){return this.state}getParams(){return this.params}resetWithParams(R){this.params=R,this.init()}recordSnapshot(){const R=this.model.getSnapshot(this.state);this.snapshots.push(R),this.onSnapshot&&this.onSnapshot(R)}getStats(){return this.model.computeStats(this.state,this.params)}}function cloneState(_){return typeof _=="object"&&_!==null?structuredClone(_):_}function getStateTime(_){return _?.t??0}function useSimulation(_){const{model:R,params:O,autoInit:I=!0,paramChangeBehavior:F="init"}=_,[z,L]=reactExports.useState(O),[U,q]=reactExports.useState(null),[G,V]=reactExports.useState(!1),[Z,Y]=reactExports.useState(!1),[W,ee]=reactExports.useState(0),ne=reactExports.useRef(null),ie=reactExports.useRef(null),se=reactExports.useRef(!0),oe=reactExports.useRef([]),le=reactExports.useRef(null);reactExports.useEffect(()=>{if(ne.current=new SimulationEngine({model:R,params:O}),I){ne.current.init();const ye=ne.current.getState(),we=cloneState(ye);oe.current=[we],ee(0),q(we)}return()=>{ie.current&&cancelAnimationFrame(ie.current)}},[]),reactExports.useEffect(()=>{if(se.current){se.current=!1;return}L(O),V(!1),Y(!1),le.current=null,ne.current=new SimulationEngine({model:R,params:O});const ye=ne.current.getState(),we=cloneState(ye);if(oe.current=[we],ee(0),q(we),F==="step"){ne.current.step();const ve=cloneState(ne.current.getState());oe.current.push(ve),ee(1),q(ve)}else F==="run"&&V(!0)},[R,O,F]),reactExports.useEffect(()=>{if(!(G||Z)||!ne.current)return;let we=performance.now();const ve=40,$e=0,be=Ce=>{if(!ne.current)return;if(Ce-we>=(Z?$e:ve)){if(we=Ce,Z&&le.current!==null){const Me=oe.current;if((Me.length>0?getStateTime(Me[Me.length-1]):0)>=le.current||ne.current.isComplete()){const ze=le.current;let Pe=Me.length-1;for(let Qe=0;Qe<Me.length;Qe++)if(getStateTime(Me[Qe])>=ze){Pe=Qe;break}ee(Pe),q(Me[Pe]),Y(!1),le.current=null;return}ne.current.step();const Re=cloneState(ne.current.getState());oe.current.push(Re);const Se=oe.current.length-1;ee(Se),q(Re)}else if(G){const Me=oe.current,Te=W+1;if(Te<Me.length)ee(Te),q(Me[Te]);else if(ne.current.isComplete())V(!1);else{ne.current.step();const Re=cloneState(ne.current.getState());oe.current.push(Re),ee(oe.current.length-1),q(Re)}}}ie.current=requestAnimationFrame(be)};return ie.current=requestAnimationFrame(be),()=>{ie.current&&cancelAnimationFrame(ie.current)}},[G,Z,W]);const ue=reactExports.useCallback(()=>{Y(!1),le.current=null,V(!0)},[]),ce=reactExports.useCallback(()=>{V(!1),Y(!1),le.current=null},[]),fe=reactExports.useCallback(()=>{V(!1),Y(!1),le.current=null;const ye=oe.current;ye.length>0&&(ee(0),q(ye[0]))},[]),me=reactExports.useCallback(()=>{if(!ne.current)return;const ye=oe.current,we=W+1;if(we<ye.length)ee(we),q(ye[we]);else if(!ne.current.isComplete()){ne.current.step();const ve=cloneState(ne.current.getState());oe.current.push(ve),ee(oe.current.length-1),q(ve)}},[W]),he=reactExports.useCallback(ye=>{const we=oe.current;if(we.length===0)return;const $e=z?.general?.t_end??1/0;ye=Math.max(0,Math.min(ye,$e));const be=getStateTime(we[we.length-1]);if(ye<=be){let Ce=0,De=1/0;for(let Ne=0;Ne<we.length;Ne++){const Me=getStateTime(we[Ne]),Te=Math.abs(Me-ye);if(Te<De&&(De=Te,Ce=Ne),Me>ye)break}V(!1),Y(!1),le.current=null,ee(Ce),q(we[Ce])}else V(!1),le.current=ye,Y(!0)},[z]),pe=reactExports.useCallback(ye=>{if(V(!1),Y(!1),le.current=null,L(ye),ne.current){ne.current.resetWithParams(ye);const we=cloneState(ne.current.getState());oe.current=[we],ee(0),q(we)}},[]),ge=oe.current,_e=ge.length>0?getStateTime(ge[ge.length-1]):0;return{state:U,params:z,isRunning:G,isComplete:ne.current?.isComplete()??!1,time:U?.t??0,stepCount:U?.step_count??0,maxSimulatedTime:_e,isCatchingUp:Z,start:ue,pause:ce,reset:fe,step:me,seekTo:he,setParams:pe,engine:ne.current}}function formatValue(_){return _==null?"-":typeof _=="boolean"?_?"true":"false":typeof _=="number"?Number.isInteger(_)?_.toString():_.toFixed(3):String(_)}function FrameStatsPanel({snapshot:_}){const[R,O]=reactExports.useState(!1),[I,F]=reactExports.useState("id"),[z,L]=reactExports.useState("asc"),U=reactExports.useMemo(()=>_.length===0?[]:Object.keys(_[0]),[_]),q=reactExports.useMemo(()=>{if(_.length===0)return[];const Z=[..._];return Z.sort((Y,W)=>{const ee=Y[I],ne=W[I];let ie;return typeof ee=="number"&&typeof ne=="number"?ie=ee-ne:ie=String(ee??"").localeCompare(String(ne??"")),z==="asc"?ie:-ie}),Z},[_,I,z]),G=Z=>{I===Z?L(Y=>Y==="asc"?"desc":"asc"):(F(Z),L("asc"))},V=Z=>I!==Z?null:z==="asc"?jsxRuntimeExports.jsx(ChevronUp,{size:10}):jsxRuntimeExports.jsx(ChevronDown,{size:10});return _.length===0?null:jsxRuntimeExports.jsxs("div",{className:"border rounded-md bg-card",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>O(!R),className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium hover:bg-muted/50 transition-colors",children:[jsxRuntimeExports.jsx("span",{children:"Frame Data"}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs",children:[_.length," cells, ",U.length," columns"]}),R?jsxRuntimeExports.jsx(ChevronUp,{size:16}):jsxRuntimeExports.jsx(ChevronDown,{size:16})]})]}),R&&jsxRuntimeExports.jsx("div",{className:"border-t overflow-x-auto max-h-72",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-xs border-collapse",children:[jsxRuntimeExports.jsx("thead",{className:"bg-muted/30 sticky top-0 z-20",children:jsxRuntimeExports.jsx("tr",{children:U.map((Z,Y)=>jsxRuntimeExports.jsx("th",{className:`px-2 py-1.5 text-left font-medium text-muted-foreground whitespace-nowrap ${Y===0?"sticky left-0 z-30 bg-muted/80 border-r border-border/50":""}`,children:jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>G(Z),className:"flex items-center gap-1 hover:text-foreground transition-colors",children:[Z,jsxRuntimeExports.jsx(ArrowUpDown,{size:8,className:"opacity-50"}),V(Z)]})},Z))})}),jsxRuntimeExports.jsx("tbody",{children:q.map((Z,Y)=>jsxRuntimeExports.jsx("tr",{className:"border-t border-border/50 hover:bg-muted/20",children:U.map((W,ee)=>jsxRuntimeExports.jsx("td",{className:`px-2 py-1 font-mono whitespace-nowrap ${ee===0?"sticky left-0 z-10 bg-card border-r border-border/50":""}`,children:formatValue(Z[W])},W))},Y))})]})})]})}function detectBrowser(){const _=navigator.userAgent.toLowerCase();if(_.includes("firefox")){const R=_.match(/firefox\/(\d+)/);return{name:"firefox",version:R?parseInt(R[1],10):null,isFirefox:!0,isChrome:!1,isSafari:!1,isEdge:!1}}if(_.includes("edg/")||_.includes("edge/")){const R=_.match(/edg[e]?\/(\d+)/);return{name:"edge",version:R?parseInt(R[1],10):null,isFirefox:!1,isChrome:!1,isSafari:!1,isEdge:!0}}if(_.includes("chrome")&&!_.includes("edg")){const R=_.match(/chrome\/(\d+)/);return{name:"chrome",version:R?parseInt(R[1],10):null,isFirefox:!1,isChrome:!0,isSafari:!1,isEdge:!1}}if(_.includes("safari")&&!_.includes("chrome")){const R=_.match(/version\/(\d+)/);return{name:"safari",version:R?parseInt(R[1],10):null,isFirefox:!1,isChrome:!1,isSafari:!0,isEdge:!1}}return{name:"other",version:null,isFirefox:!1,isChrome:!1,isSafari:!1,isEdge:!1}}function getRecommendedVideoFormat(){const _=detectBrowser();return _.isFirefox?"webm":(_.isSafari,"mp4")}function getFormatRecommendationMessage(){const _=detectBrowser();return _.isFirefox?"Firefox users: We recommend WebM (VP9) format due to known H.264 encoding issues in Firefox. To convert to MP4 later, use: ffmpeg -i video.webm -c:v libx264 -crf 23 video.mp4":_.isSafari&&_.version&&_.version<16?"Your Safari version may not support video recording. Please update to Safari 16.4 or later.":null}function SingleSimulationTab(){const{currentModel:_}=useModel();return jsxRuntimeExports.jsx(SingleSimulationTabInner,{},_.name)}function SingleSimulationTabInner(){const[_,R]=reactExports.useState("run"),[O,I]=reactExports.useState(!1),[F,z]=reactExports.useState(()=>getRecommendedVideoFormat()),{currentModel:L,currentParams:U}=useModel(),q=reactExports.useRef(null),G=reactExports.useMemo(()=>getFormatRecommendationMessage(),[]),V=L.renderOptions,[Z,Y]=reactExports.useState(()=>V?.defaultOptions??{});reactExports.useEffect(()=>{Y(V?.defaultOptions??{})},[V]);const W=V?.RenderOptionsPanel,ee=W?jsxRuntimeExports.jsx(W,{options:Z,onChange:Y}):null,{state:ne,isRunning:ie,time:se,maxSimulatedTime:oe,isCatchingUp:le,start:ue,pause:ce,reset:fe,step:me,seekTo:he}=useSimulation({model:L,params:U,paramChangeBehavior:_}),pe=reactExports.useCallback(()=>{const we=q.current?.getScreenshot();if(we){const ve=document.createElement("a");ve.download=`simulation_${se.toFixed(2)}h.png`,ve.href=we,ve.click()}},[se]),ge=reactExports.useCallback(async()=>{if(O){I(!1);try{const we=await q.current?.stopRecording();if(we){const{blob:ve}=we,$e=F==="webm"?"webm":"mp4",be=document.createElement("a");be.download=`simulation_${se.toFixed(2)}h.${$e}`,be.href=URL.createObjectURL(ve),be.click(),URL.revokeObjectURL(be.href)}}catch(we){console.error("Failed to save movie:",we),alert("Failed to save movie. Check console for details.")}}else try{await q.current?.startRecording(F),I(!0)}catch(we){console.error("Failed to start recording:",we);const ve=navigator.userAgent.toLowerCase().includes("firefox");let $e="MP4 (H.264)",be="Chrome 94+, Safari 16.4+, Edge 94+";F==="mp4-av1"?($e="MP4 (AV1)",be="Chrome 90+, Edge 90+ (Safari not supported)"):F==="webm"&&($e="WebM (VP9)",be="Chrome 94+, Edge 94+ (Safari not supported)");let Ce=`Failed to start ${$e} recording. Your browser may not support this format.

Supported browsers: ${be}`;ve&&(F==="mp4"||F==="mp4-av1")&&(Ce+=`

 Firefox has known issues with H.264 and AV1 encoding.
`,Ce+=` Solution: Select "WebM (VP9)" format instead.
`,Ce+=`
 To convert WebM to MP4 later, use:
`,Ce+="ffmpeg -i video.webm -c:v libx264 -crf 23 video.mp4"),alert(Ce)}},[O,se,F]),_e=reactExports.useCallback(()=>{if(!ne)return;const we=L.getSnapshot(ne);if(we.length===0)return;const ve=Object.keys(we[0]),be=[ve.join("	"),...we.map(Ne=>ve.map(Me=>Ne[Me]??"").join("	"))].join(`
`),Ce=new Blob([be],{type:"text/tab-separated-values"}),De=document.createElement("a");De.download=`simulation_state_${se.toFixed(2)}h.tsv`,De.href=URL.createObjectURL(Ce),De.click(),URL.revokeObjectURL(De.href)},[ne,L,se]),ye=reactExports.useMemo(()=>{if(!ne)return[];const we=L.getSnapshot(ne);if(L.exportCellMetrics){const ve=L.exportCellMetrics(ne,U);return we.map(($e,be)=>{const Ce=ve[be];if(!Ce)return $e;const De=Object.keys(Ce).filter(ze=>ze!=="cell_id"),{id:Ne,typeIndex:Me,...Te}=$e,Re={};for(const ze of De)Re[ze]=Ce[ze];const Se=Ce.cell_type??Me;return{id:Ne,typeIndex:Se,...Re,...Te}})}return we},[ne,L,U]);return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Card,{className:"overflow-hidden",children:jsxRuntimeExports.jsx(SimulationCanvas,{ref:q,state:ne,params:U,minHeight:350,renderOptions:Z})}),G&&jsxRuntimeExports.jsxs("div",{className:"px-3 py-2 bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-md text-sm text-blue-800 dark:text-blue-200",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:" Tip:"})," ",G]}),jsxRuntimeExports.jsx(SimulationControls,{isRunning:ie,time:se,endTime:U.general.t_end,maxSimulatedTime:oe,isCatchingUp:le,onStart:ue,onPause:ce,onReset:fe,onStep:me,onSeek:he,paramChangeBehavior:_,onParamChangeBehaviorChange:R,onSaveScreenshot:pe,onSaveMovie:ge,onExportCSV:_e,isRecording:O,videoFormat:F,onVideoFormatChange:z,renderOptionsPanel:ee}),jsxRuntimeExports.jsx(FrameStatsPanel,{snapshot:ye})]})}function getNestedValue(_,R){const O=R.split(".");let I=_;for(const F of O){if(I==null||typeof I!="object")return;I=I[F]}return typeof I=="number"?I:void 0}function ParameterRangeList({ranges:_,onChange:R,baseParams:O,disabled:I}){const{currentModel:F}=useModel(),z=React.useMemo(()=>F.generateBatchParameters&&O?F.generateBatchParameters(O):F.batchParameters||[],[F,O]),L=new Set(_.map(Z=>Z.path)),U=z.filter(Z=>!L.has(Z.path)),q=Z=>{const Y=getNestedValue(O,Z)??0;R([..._,{path:Z,min:Y,max:Y,steps:3}])},G=Z=>{R(_.filter((Y,W)=>W!==Z))},V=(Z,Y,W)=>{const ee=[..._];Y==="path"?ee[Z]={...ee[Z],[Y]:W}:ee[Z]={...ee[Z],[Y]:Number(W)},R(ee)};return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Parameter Ranges"}),jsxRuntimeExports.jsxs(Select,{onValueChange:q,disabled:I||U.length===0,children:[jsxRuntimeExports.jsxs(SelectTrigger,{className:"w-[200px] h-8",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-1"}),jsxRuntimeExports.jsx(SelectValue,{placeholder:"Add parameter"})]}),jsxRuntimeExports.jsx(SelectContent,{children:U.map(Z=>jsxRuntimeExports.jsx(SelectItem,{value:Z.path,children:Z.label},Z.path))})]})]}),_.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground py-4 text-center",children:"No parameter ranges defined. Add parameters to sweep."}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:_.map((Z,Y)=>{const W=z.find(se=>se.path===Z.path),ee=getNestedValue(O,Z.path),ie=W?.isInteger??!1?1:.01;return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md bg-muted/50",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium flex-1 truncate",title:Z.path,children:W?.label??Z.path}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Base:"}),jsxRuntimeExports.jsx("span",{className:"w-16 h-7 text-xs flex items-center justify-center bg-muted rounded border text-muted-foreground",children:ee??""})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Min:"}),jsxRuntimeExports.jsx(Input,{type:"number",value:Z.min,onChange:se=>V(Y,"min",se.target.value),disabled:I,className:"w-16 h-7 text-xs",step:ie})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Max:"}),jsxRuntimeExports.jsx(Input,{type:"number",value:Z.max,onChange:se=>V(Y,"max",se.target.value),disabled:I,className:"w-16 h-7 text-xs",step:ie})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Steps:"}),jsxRuntimeExports.jsx(Input,{type:"number",value:Z.steps,onChange:se=>V(Y,"steps",se.target.value),disabled:I,className:"w-14 h-7 text-xs",min:1,step:1})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>G(Y),disabled:I,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]},Z.path)})})]})}function TimeSampleConfig({config:_,onChange:R,disabled:O}){const I=(z,L)=>{R({..._,[z]:parseFloat(L)||0})},F=Math.max(0,Math.floor((_.end-_.start)/_.step)+1);return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Time Samples"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"time-start",className:"text-xs text-muted-foreground",children:"Start (h)"}),jsxRuntimeExports.jsx(Input,{id:"time-start",type:"number",value:_.start,onChange:z=>I("start",z.target.value),disabled:O,className:"h-8",min:0,step:.01})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"time-end",className:"text-xs text-muted-foreground",children:"End (h)"}),jsxRuntimeExports.jsx(Input,{id:"time-end",type:"number",value:_.end,onChange:z=>I("end",z.target.value),disabled:O,className:"h-8",min:0,step:.01})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"time-step",className:"text-xs text-muted-foreground",children:"Step (h)"}),jsxRuntimeExports.jsx(Input,{id:"time-step",type:"number",value:_.step,onChange:z=>I("step",z.target.value),disabled:O,className:"h-8",min:.01,step:.01})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[F," time point",F!==1?"s":"",": ",_.start,"h",F>1&&`  ${_.end}h`]})]})}function useStateMachine(_,R){return reactExports.useReducer((O,I)=>R[O][I]??O,_)}var SCROLL_AREA_NAME="ScrollArea",[createScrollAreaContext]=createContextScope$1(SCROLL_AREA_NAME),[ScrollAreaProvider,useScrollAreaContext]=createScrollAreaContext(SCROLL_AREA_NAME),ScrollArea$1=reactExports.forwardRef((_,R)=>{const{__scopeScrollArea:O,type:I="hover",dir:F,scrollHideDelay:z=600,...L}=_,[U,q]=reactExports.useState(null),[G,V]=reactExports.useState(null),[Z,Y]=reactExports.useState(null),[W,ee]=reactExports.useState(null),[ne,ie]=reactExports.useState(null),[se,oe]=reactExports.useState(0),[le,ue]=reactExports.useState(0),[ce,fe]=reactExports.useState(!1),[me,he]=reactExports.useState(!1),pe=useComposedRefs(R,_e=>q(_e)),ge=useDirection(F);return jsxRuntimeExports.jsx(ScrollAreaProvider,{scope:O,type:I,dir:ge,scrollHideDelay:z,scrollArea:U,viewport:G,onViewportChange:V,content:Z,onContentChange:Y,scrollbarX:W,onScrollbarXChange:ee,scrollbarXEnabled:ce,onScrollbarXEnabledChange:fe,scrollbarY:ne,onScrollbarYChange:ie,scrollbarYEnabled:me,onScrollbarYEnabledChange:he,onCornerWidthChange:oe,onCornerHeightChange:ue,children:jsxRuntimeExports.jsx(Primitive$2.div,{dir:ge,...L,ref:pe,style:{position:"relative","--radix-scroll-area-corner-width":se+"px","--radix-scroll-area-corner-height":le+"px",..._.style}})})});ScrollArea$1.displayName=SCROLL_AREA_NAME;var VIEWPORT_NAME="ScrollAreaViewport",ScrollAreaViewport=reactExports.forwardRef((_,R)=>{const{__scopeScrollArea:O,children:I,nonce:F,...z}=_,L=useScrollAreaContext(VIEWPORT_NAME,O),U=reactExports.useRef(null),q=useComposedRefs(R,U,L.onViewportChange);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:F}),jsxRuntimeExports.jsx(Primitive$2.div,{"data-radix-scroll-area-viewport":"",...z,ref:q,style:{overflowX:L.scrollbarXEnabled?"scroll":"hidden",overflowY:L.scrollbarYEnabled?"scroll":"hidden",..._.style},children:jsxRuntimeExports.jsx("div",{ref:L.onContentChange,style:{minWidth:"100%",display:"table"},children:I})})]})});ScrollAreaViewport.displayName=VIEWPORT_NAME;var SCROLLBAR_NAME="ScrollAreaScrollbar",ScrollAreaScrollbar=reactExports.forwardRef((_,R)=>{const{forceMount:O,...I}=_,F=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),{onScrollbarXEnabledChange:z,onScrollbarYEnabledChange:L}=F,U=_.orientation==="horizontal";return reactExports.useEffect(()=>(U?z(!0):L(!0),()=>{U?z(!1):L(!1)}),[U,z,L]),F.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...I,ref:R,forceMount:O}):F.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...I,ref:R,forceMount:O}):F.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...I,ref:R,forceMount:O}):F.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...I,ref:R}):null});ScrollAreaScrollbar.displayName=SCROLLBAR_NAME;var ScrollAreaScrollbarHover=reactExports.forwardRef((_,R)=>{const{forceMount:O,...I}=_,F=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),[z,L]=reactExports.useState(!1);return reactExports.useEffect(()=>{const U=F.scrollArea;let q=0;if(U){const G=()=>{window.clearTimeout(q),L(!0)},V=()=>{q=window.setTimeout(()=>L(!1),F.scrollHideDelay)};return U.addEventListener("pointerenter",G),U.addEventListener("pointerleave",V),()=>{window.clearTimeout(q),U.removeEventListener("pointerenter",G),U.removeEventListener("pointerleave",V)}}},[F.scrollArea,F.scrollHideDelay]),jsxRuntimeExports.jsx(Presence,{present:O||z,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":z?"visible":"hidden",...I,ref:R})})}),ScrollAreaScrollbarScroll=reactExports.forwardRef((_,R)=>{const{forceMount:O,...I}=_,F=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),z=_.orientation==="horizontal",L=useDebounceCallback(()=>q("SCROLL_END"),100),[U,q]=useStateMachine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(U==="idle"){const G=window.setTimeout(()=>q("HIDE"),F.scrollHideDelay);return()=>window.clearTimeout(G)}},[U,F.scrollHideDelay,q]),reactExports.useEffect(()=>{const G=F.viewport,V=z?"scrollLeft":"scrollTop";if(G){let Z=G[V];const Y=()=>{const W=G[V];Z!==W&&(q("SCROLL"),L()),Z=W};return G.addEventListener("scroll",Y),()=>G.removeEventListener("scroll",Y)}},[F.viewport,z,q,L]),jsxRuntimeExports.jsx(Presence,{present:O||U!=="hidden",children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":U==="hidden"?"hidden":"visible",...I,ref:R,onPointerEnter:composeEventHandlers$1(_.onPointerEnter,()=>q("POINTER_ENTER")),onPointerLeave:composeEventHandlers$1(_.onPointerLeave,()=>q("POINTER_LEAVE"))})})}),ScrollAreaScrollbarAuto=reactExports.forwardRef((_,R)=>{const O=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),{forceMount:I,...F}=_,[z,L]=reactExports.useState(!1),U=_.orientation==="horizontal",q=useDebounceCallback(()=>{if(O.viewport){const G=O.viewport.offsetWidth<O.viewport.scrollWidth,V=O.viewport.offsetHeight<O.viewport.scrollHeight;L(U?G:V)}},10);return useResizeObserver(O.viewport,q),useResizeObserver(O.content,q),jsxRuntimeExports.jsx(Presence,{present:I||z,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":z?"visible":"hidden",...F,ref:R})})}),ScrollAreaScrollbarVisible=reactExports.forwardRef((_,R)=>{const{orientation:O="vertical",...I}=_,F=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),z=reactExports.useRef(null),L=reactExports.useRef(0),[U,q]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),G=getThumbRatio(U.viewport,U.content),V={...I,sizes:U,onSizesChange:q,hasThumb:G>0&&G<1,onThumbChange:Y=>z.current=Y,onThumbPointerUp:()=>L.current=0,onThumbPointerDown:Y=>L.current=Y};function Z(Y,W){return getScrollPositionFromPointer(Y,L.current,U,W)}return O==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...V,ref:R,onThumbPositionChange:()=>{if(F.viewport&&z.current){const Y=F.viewport.scrollLeft,W=getThumbOffsetFromScroll(Y,U,F.dir);z.current.style.transform=`translate3d(${W}px, 0, 0)`}},onWheelScroll:Y=>{F.viewport&&(F.viewport.scrollLeft=Y)},onDragScroll:Y=>{F.viewport&&(F.viewport.scrollLeft=Z(Y,F.dir))}}):O==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...V,ref:R,onThumbPositionChange:()=>{if(F.viewport&&z.current){const Y=F.viewport.scrollTop,W=getThumbOffsetFromScroll(Y,U);z.current.style.transform=`translate3d(0, ${W}px, 0)`}},onWheelScroll:Y=>{F.viewport&&(F.viewport.scrollTop=Y)},onDragScroll:Y=>{F.viewport&&(F.viewport.scrollTop=Z(Y))}}):null}),ScrollAreaScrollbarX=reactExports.forwardRef((_,R)=>{const{sizes:O,onSizesChange:I,...F}=_,z=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),[L,U]=reactExports.useState(),q=reactExports.useRef(null),G=useComposedRefs(R,q,z.onScrollbarXChange);return reactExports.useEffect(()=>{q.current&&U(getComputedStyle(q.current))},[q]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"horizontal",...F,ref:G,sizes:O,style:{bottom:0,left:z.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:z.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize(O)+"px",..._.style},onThumbPointerDown:V=>_.onThumbPointerDown(V.x),onDragScroll:V=>_.onDragScroll(V.x),onWheelScroll:(V,Z)=>{if(z.viewport){const Y=z.viewport.scrollLeft+V.deltaX;_.onWheelScroll(Y),isScrollingWithinScrollbarBounds(Y,Z)&&V.preventDefault()}},onResize:()=>{q.current&&z.viewport&&L&&I({content:z.viewport.scrollWidth,viewport:z.viewport.offsetWidth,scrollbar:{size:q.current.clientWidth,paddingStart:toInt(L.paddingLeft),paddingEnd:toInt(L.paddingRight)}})}})}),ScrollAreaScrollbarY=reactExports.forwardRef((_,R)=>{const{sizes:O,onSizesChange:I,...F}=_,z=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),[L,U]=reactExports.useState(),q=reactExports.useRef(null),G=useComposedRefs(R,q,z.onScrollbarYChange);return reactExports.useEffect(()=>{q.current&&U(getComputedStyle(q.current))},[q]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"vertical",...F,ref:G,sizes:O,style:{top:0,right:z.dir==="ltr"?0:void 0,left:z.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize(O)+"px",..._.style},onThumbPointerDown:V=>_.onThumbPointerDown(V.y),onDragScroll:V=>_.onDragScroll(V.y),onWheelScroll:(V,Z)=>{if(z.viewport){const Y=z.viewport.scrollTop+V.deltaY;_.onWheelScroll(Y),isScrollingWithinScrollbarBounds(Y,Z)&&V.preventDefault()}},onResize:()=>{q.current&&z.viewport&&L&&I({content:z.viewport.scrollHeight,viewport:z.viewport.offsetHeight,scrollbar:{size:q.current.clientHeight,paddingStart:toInt(L.paddingTop),paddingEnd:toInt(L.paddingBottom)}})}})}),[ScrollbarProvider,useScrollbarContext]=createScrollAreaContext(SCROLLBAR_NAME),ScrollAreaScrollbarImpl=reactExports.forwardRef((_,R)=>{const{__scopeScrollArea:O,sizes:I,hasThumb:F,onThumbChange:z,onThumbPointerUp:L,onThumbPointerDown:U,onThumbPositionChange:q,onDragScroll:G,onWheelScroll:V,onResize:Z,...Y}=_,W=useScrollAreaContext(SCROLLBAR_NAME,O),[ee,ne]=reactExports.useState(null),ie=useComposedRefs(R,pe=>ne(pe)),se=reactExports.useRef(null),oe=reactExports.useRef(""),le=W.viewport,ue=I.content-I.viewport,ce=useCallbackRef$1(V),fe=useCallbackRef$1(q),me=useDebounceCallback(Z,10);function he(pe){if(se.current){const ge=pe.clientX-se.current.left,_e=pe.clientY-se.current.top;G({x:ge,y:_e})}}return reactExports.useEffect(()=>{const pe=ge=>{const _e=ge.target;ee?.contains(_e)&&ce(ge,ue)};return document.addEventListener("wheel",pe,{passive:!1}),()=>document.removeEventListener("wheel",pe,{passive:!1})},[le,ee,ue,ce]),reactExports.useEffect(fe,[I,fe]),useResizeObserver(ee,me),useResizeObserver(W.content,me),jsxRuntimeExports.jsx(ScrollbarProvider,{scope:O,scrollbar:ee,hasThumb:F,onThumbChange:useCallbackRef$1(z),onThumbPointerUp:useCallbackRef$1(L),onThumbPositionChange:fe,onThumbPointerDown:useCallbackRef$1(U),children:jsxRuntimeExports.jsx(Primitive$2.div,{...Y,ref:ie,style:{position:"absolute",...Y.style},onPointerDown:composeEventHandlers$1(_.onPointerDown,pe=>{pe.button===0&&(pe.target.setPointerCapture(pe.pointerId),se.current=ee.getBoundingClientRect(),oe.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",W.viewport&&(W.viewport.style.scrollBehavior="auto"),he(pe))}),onPointerMove:composeEventHandlers$1(_.onPointerMove,he),onPointerUp:composeEventHandlers$1(_.onPointerUp,pe=>{const ge=pe.target;ge.hasPointerCapture(pe.pointerId)&&ge.releasePointerCapture(pe.pointerId),document.body.style.webkitUserSelect=oe.current,W.viewport&&(W.viewport.style.scrollBehavior=""),se.current=null})})})}),THUMB_NAME="ScrollAreaThumb",ScrollAreaThumb=reactExports.forwardRef((_,R)=>{const{forceMount:O,...I}=_,F=useScrollbarContext(THUMB_NAME,_.__scopeScrollArea);return jsxRuntimeExports.jsx(Presence,{present:O||F.hasThumb,children:jsxRuntimeExports.jsx(ScrollAreaThumbImpl,{ref:R,...I})})}),ScrollAreaThumbImpl=reactExports.forwardRef((_,R)=>{const{__scopeScrollArea:O,style:I,...F}=_,z=useScrollAreaContext(THUMB_NAME,O),L=useScrollbarContext(THUMB_NAME,O),{onThumbPositionChange:U}=L,q=useComposedRefs(R,Z=>L.onThumbChange(Z)),G=reactExports.useRef(void 0),V=useDebounceCallback(()=>{G.current&&(G.current(),G.current=void 0)},100);return reactExports.useEffect(()=>{const Z=z.viewport;if(Z){const Y=()=>{if(V(),!G.current){const W=addUnlinkedScrollListener(Z,U);G.current=W,U()}};return U(),Z.addEventListener("scroll",Y),()=>Z.removeEventListener("scroll",Y)}},[z.viewport,V,U]),jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":L.hasThumb?"visible":"hidden",...F,ref:q,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...I},onPointerDownCapture:composeEventHandlers$1(_.onPointerDownCapture,Z=>{const W=Z.target.getBoundingClientRect(),ee=Z.clientX-W.left,ne=Z.clientY-W.top;L.onThumbPointerDown({x:ee,y:ne})}),onPointerUp:composeEventHandlers$1(_.onPointerUp,L.onThumbPointerUp)})});ScrollAreaThumb.displayName=THUMB_NAME;var CORNER_NAME="ScrollAreaCorner",ScrollAreaCorner=reactExports.forwardRef((_,R)=>{const O=useScrollAreaContext(CORNER_NAME,_.__scopeScrollArea),I=!!(O.scrollbarX&&O.scrollbarY);return O.type!=="scroll"&&I?jsxRuntimeExports.jsx(ScrollAreaCornerImpl,{..._,ref:R}):null});ScrollAreaCorner.displayName=CORNER_NAME;var ScrollAreaCornerImpl=reactExports.forwardRef((_,R)=>{const{__scopeScrollArea:O,...I}=_,F=useScrollAreaContext(CORNER_NAME,O),[z,L]=reactExports.useState(0),[U,q]=reactExports.useState(0),G=!!(z&&U);return useResizeObserver(F.scrollbarX,()=>{const V=F.scrollbarX?.offsetHeight||0;F.onCornerHeightChange(V),q(V)}),useResizeObserver(F.scrollbarY,()=>{const V=F.scrollbarY?.offsetWidth||0;F.onCornerWidthChange(V),L(V)}),G?jsxRuntimeExports.jsx(Primitive$2.div,{...I,ref:R,style:{width:z,height:U,position:"absolute",right:F.dir==="ltr"?0:void 0,left:F.dir==="rtl"?0:void 0,bottom:0,..._.style}}):null});function toInt(_){return _?parseInt(_,10):0}function getThumbRatio(_,R){const O=_/R;return isNaN(O)?0:O}function getThumbSize(_){const R=getThumbRatio(_.viewport,_.content),O=_.scrollbar.paddingStart+_.scrollbar.paddingEnd,I=(_.scrollbar.size-O)*R;return Math.max(I,18)}function getScrollPositionFromPointer(_,R,O,I="ltr"){const F=getThumbSize(O),z=F/2,L=R||z,U=F-L,q=O.scrollbar.paddingStart+L,G=O.scrollbar.size-O.scrollbar.paddingEnd-U,V=O.content-O.viewport,Z=I==="ltr"?[0,V]:[V*-1,0];return linearScale([q,G],Z)(_)}function getThumbOffsetFromScroll(_,R,O="ltr"){const I=getThumbSize(R),F=R.scrollbar.paddingStart+R.scrollbar.paddingEnd,z=R.scrollbar.size-F,L=R.content-R.viewport,U=z-I,q=O==="ltr"?[0,L]:[L*-1,0],G=clamp$1(_,q);return linearScale([0,L],[0,U])(G)}function linearScale(_,R){return O=>{if(_[0]===_[1]||R[0]===R[1])return R[0];const I=(R[1]-R[0])/(_[1]-_[0]);return R[0]+I*(O-_[0])}}function isScrollingWithinScrollbarBounds(_,R){return _>0&&_<R}var addUnlinkedScrollListener=(_,R=()=>{})=>{let O={left:_.scrollLeft,top:_.scrollTop},I=0;return(function F(){const z={left:_.scrollLeft,top:_.scrollTop},L=O.left!==z.left,U=O.top!==z.top;(L||U)&&R(),O=z,I=window.requestAnimationFrame(F)})(),()=>window.cancelAnimationFrame(I)};function useDebounceCallback(_,R){const O=useCallbackRef$1(_),I=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(I.current),[]),reactExports.useCallback(()=>{window.clearTimeout(I.current),I.current=window.setTimeout(O,R)},[O,R])}function useResizeObserver(_,R){const O=useCallbackRef$1(R);useLayoutEffect2(()=>{let I=0;if(_){const F=new ResizeObserver(()=>{cancelAnimationFrame(I),I=window.requestAnimationFrame(O)});return F.observe(_),()=>{window.cancelAnimationFrame(I),F.unobserve(_)}}},[_,O])}var Root$2=ScrollArea$1,Viewport=ScrollAreaViewport,Corner=ScrollAreaCorner;const ScrollArea=reactExports.forwardRef(({className:_,children:R,...O},I)=>jsxRuntimeExports.jsxs(Root$2,{ref:I,className:cn("relative overflow-hidden",_),...O,children:[jsxRuntimeExports.jsx(Viewport,{className:"h-full w-full rounded-[inherit]",children:R}),jsxRuntimeExports.jsx(ScrollBar,{}),jsxRuntimeExports.jsx(Corner,{})]}));ScrollArea.displayName=Root$2.displayName;const ScrollBar=reactExports.forwardRef(({className:_,orientation:R="vertical",...O},I)=>jsxRuntimeExports.jsx(ScrollAreaScrollbar,{ref:I,orientation:R,className:cn("flex touch-none select-none transition-colors",R==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",R==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",_),...O,children:jsxRuntimeExports.jsx(ScrollAreaThumb,{className:"relative flex-1 rounded-full bg-border"})}));ScrollBar.displayName=ScrollAreaScrollbar.displayName;function ResultsTable({columns:_,rows:R,onRunRow:O}){if(_.length===0||R.length===0)return jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No results to display. Run batch or compute statistics."});const I=!!O;return jsxRuntimeExports.jsx(ScrollArea,{className:"h-[300px] border rounded-md",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"sticky top-0 bg-muted",children:jsxRuntimeExports.jsxs("tr",{children:[I&&jsxRuntimeExports.jsx("th",{className:"text-left px-2 py-2 font-medium border-b whitespace-nowrap w-12",children:"Run"}),_.map((F,z)=>jsxRuntimeExports.jsx("th",{className:"text-left px-3 py-2 font-medium border-b whitespace-nowrap",children:F},z))]})}),jsxRuntimeExports.jsx("tbody",{children:R.map((F,z)=>jsxRuntimeExports.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/50",children:[I&&jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>O(z),title:"Open simulation with these parameters",children:jsxRuntimeExports.jsx(Play,{className:"h-3 w-3"})})}),F.map((L,U)=>jsxRuntimeExports.jsx("td",{className:"px-3 py-1.5 whitespace-nowrap font-mono text-xs",children:typeof L=="number"?L.toFixed(4):L},U))]},z))})]})})}function createContextScope(_,R=[]){let O=[];function I(z,L){const U=reactExports.createContext(L);U.displayName=z+"Context";const q=O.length;O=[...O,L];const G=Z=>{const{scope:Y,children:W,...ee}=Z,ne=Y?.[_]?.[q]||U,ie=reactExports.useMemo(()=>ee,Object.values(ee));return jsxRuntimeExports.jsx(ne.Provider,{value:ie,children:W})};G.displayName=z+"Provider";function V(Z,Y){const W=Y?.[_]?.[q]||U,ee=reactExports.useContext(W);if(ee)return ee;if(L!==void 0)return L;throw new Error(`\`${Z}\` must be used within \`${z}\``)}return[G,V]}const F=()=>{const z=O.map(L=>reactExports.createContext(L));return function(U){const q=U?.[_]||z;return reactExports.useMemo(()=>({[`__scope${_}`]:{...U,[_]:q}}),[U,q])}};return F.scopeName=_,[I,composeContextScopes(F,...R)]}function composeContextScopes(..._){const R=_[0];if(_.length===1)return R;const O=()=>{const I=_.map(F=>({useScope:F(),scopeName:F.scopeName}));return function(z){const L=I.reduce((U,{useScope:q,scopeName:G})=>{const Z=q(z)[`__scope${G}`];return{...U,...Z}},{});return reactExports.useMemo(()=>({[`__scope${R.scopeName}`]:L}),[L])}};return O.scopeName=R.scopeName,O}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((_,R)=>{const O=createSlot$5(`Primitive.${R}`),I=reactExports.forwardRef((F,z)=>{const{asChild:L,...U}=F,q=L?O:R;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(q,{...U,ref:z})});return I.displayName=`Primitive.${R}`,{..._,[R]:I}},{}),PROGRESS_NAME="Progress",DEFAULT_MAX=100,[createProgressContext]=createContextScope(PROGRESS_NAME),[ProgressProvider,useProgressContext]=createProgressContext(PROGRESS_NAME),Progress$1=reactExports.forwardRef((_,R)=>{const{__scopeProgress:O,value:I=null,max:F,getValueLabel:z=defaultGetValueLabel,...L}=_;(F||F===0)&&!isValidMaxNumber(F)&&console.error(getInvalidMaxError(`${F}`,"Progress"));const U=isValidMaxNumber(F)?F:DEFAULT_MAX;I!==null&&!isValidValueNumber(I,U)&&console.error(getInvalidValueError(`${I}`,"Progress"));const q=isValidValueNumber(I,U)?I:null,G=isNumber(q)?z(q,U):void 0;return jsxRuntimeExports.jsx(ProgressProvider,{scope:O,value:q,max:U,children:jsxRuntimeExports.jsx(Primitive.div,{"aria-valuemax":U,"aria-valuemin":0,"aria-valuenow":isNumber(q)?q:void 0,"aria-valuetext":G,role:"progressbar","data-state":getProgressState(q,U),"data-value":q??void 0,"data-max":U,...L,ref:R})})});Progress$1.displayName=PROGRESS_NAME;var INDICATOR_NAME="ProgressIndicator",ProgressIndicator=reactExports.forwardRef((_,R)=>{const{__scopeProgress:O,...I}=_,F=useProgressContext(INDICATOR_NAME,O);return jsxRuntimeExports.jsx(Primitive.div,{"data-state":getProgressState(F.value,F.max),"data-value":F.value??void 0,"data-max":F.max,...I,ref:R})});ProgressIndicator.displayName=INDICATOR_NAME;function defaultGetValueLabel(_,R){return`${Math.round(_/R*100)}%`}function getProgressState(_,R){return _==null?"indeterminate":_===R?"complete":"loading"}function isNumber(_){return typeof _=="number"}function isValidMaxNumber(_){return isNumber(_)&&!isNaN(_)&&_>0}function isValidValueNumber(_,R){return isNumber(_)&&!isNaN(_)&&_<=R&&_>=0}function getInvalidMaxError(_,R){return`Invalid prop \`max\` of value \`${_}\` supplied to \`${R}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DEFAULT_MAX}\`.`}function getInvalidValueError(_,R){return`Invalid prop \`value\` of value \`${_}\` supplied to \`${R}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DEFAULT_MAX} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Root$1=Progress$1,Indicator=ProgressIndicator;const Progress=reactExports.forwardRef(({className:_,value:R,...O},I)=>jsxRuntimeExports.jsx(Root$1,{ref:I,className:cn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",_),...O,children:jsxRuntimeExports.jsx(Indicator,{className:"h-full w-full flex-1 bg-play transition-all",style:{transform:`translateX(-${100-(R||0)}%)`}})}));Progress.displayName=Root$1.displayName;function ascending$1(_,R){return _==null||R==null?NaN:_<R?-1:_>R?1:_>=R?0:NaN}function descending(_,R){return _==null||R==null?NaN:R<_?-1:R>_?1:R>=_?0:NaN}function bisector(_){let R,O,I;_.length!==2?(R=ascending$1,O=(U,q)=>ascending$1(_(U),q),I=(U,q)=>_(U)-q):(R=_===ascending$1||_===descending?_:zero$3,O=_,I=_);function F(U,q,G=0,V=U.length){if(G<V){if(R(q,q)!==0)return V;do{const Z=G+V>>>1;O(U[Z],q)<0?G=Z+1:V=Z}while(G<V)}return G}function z(U,q,G=0,V=U.length){if(G<V){if(R(q,q)!==0)return V;do{const Z=G+V>>>1;O(U[Z],q)<=0?G=Z+1:V=Z}while(G<V)}return G}function L(U,q,G=0,V=U.length){const Z=F(U,q,G,V-1);return Z>G&&I(U[Z-1],q)>-I(U[Z],q)?Z-1:Z}return{left:F,center:L,right:z}}function zero$3(){return 0}function number$4(_){return _===null?NaN:+_}function*numbers(_,R){if(R===void 0)for(let O of _)O!=null&&(O=+O)>=O&&(yield O);else{let O=-1;for(let I of _)(I=R(I,++O,_))!=null&&(I=+I)>=I&&(yield I)}}const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right;bisector(number$4).center;function count(_,R){let O=0;for(let I of _)I!=null&&(I=+I)>=I&&++O;return O}function length$1(_){return _.length|0}function empty$1(_){return!(_>0)}function arrayify$1(_){return typeof _!="object"||"length"in _?_:Array.from(_)}function reducer(_){return R=>_(...R)}function cross(..._){const R=typeof _[_.length-1]=="function"&&reducer(_.pop());_=_.map(arrayify$1);const O=_.map(length$1),I=_.length-1,F=new Array(I+1).fill(0),z=[];if(I<0||O.some(empty$1))return z;for(;;){z.push(F.map((U,q)=>_[q][U]));let L=I;for(;++F[L]===O[L];){if(L===0)return R?z.map(R):z;F[L--]=0}}}function cumsum(_,R){var O=0;return Float64Array.from(_,I=>O+=+I||0)}function variance(_,R){let O=0,I,F=0,z=0;if(R===void 0)for(let L of _)L!=null&&(L=+L)>=L&&(I=L-F,F+=I/++O,z+=I*(L-F));else{let L=-1;for(let U of _)(U=R(U,++L,_))!=null&&(U=+U)>=U&&(I=U-F,F+=I/++O,z+=I*(U-F))}if(O>1)return z/(O-1)}function deviation(_,R){const O=variance(_,R);return O&&Math.sqrt(O)}function extent$1(_,R){let O,I;if(R===void 0)for(const F of _)F!=null&&(O===void 0?F>=F&&(O=I=F):(O>F&&(O=F),I<F&&(I=F)));else{let F=-1;for(let z of _)(z=R(z,++F,_))!=null&&(O===void 0?z>=z&&(O=I=z):(O>z&&(O=z),I<z&&(I=z)))}return[O,I]}class Adder{constructor(){this._partials=new Float64Array(32),this._n=0}add(R){const O=this._partials;let I=0;for(let F=0;F<this._n&&F<32;F++){const z=O[F],L=R+z,U=Math.abs(R)<Math.abs(z)?R-(L-z):z-(L-R);U&&(O[I++]=U),R=L}return O[I]=R,this._n=I+1,this}valueOf(){const R=this._partials;let O=this._n,I,F,z,L=0;if(O>0){for(L=R[--O];O>0&&(I=L,F=R[--O],L=I+F,z=F-(L-I),!z););O>0&&(z<0&&R[O-1]<0||z>0&&R[O-1]>0)&&(F=z*2,I=L+F,F==I-L&&(L=I))}return L}}class InternMap extends Map{constructor(R,O=keyof$1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:O}}),R!=null)for(const[I,F]of R)this.set(I,F)}get(R){return super.get(intern_get(this,R))}has(R){return super.has(intern_get(this,R))}set(R,O){return super.set(intern_set(this,R),O)}delete(R){return super.delete(intern_delete(this,R))}}class InternSet extends Set{constructor(R,O=keyof$1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:O}}),R!=null)for(const I of R)this.add(I)}has(R){return super.has(intern_get(this,R))}add(R){return super.add(intern_set(this,R))}delete(R){return super.delete(intern_delete(this,R))}}function intern_get({_intern:_,_key:R},O){const I=R(O);return _.has(I)?_.get(I):O}function intern_set({_intern:_,_key:R},O){const I=R(O);return _.has(I)?_.get(I):(_.set(I,O),O)}function intern_delete({_intern:_,_key:R},O){const I=R(O);return _.has(I)&&(O=_.get(I),_.delete(I)),O}function keyof$1(_){return _!==null&&typeof _=="object"?_.valueOf():_}function identity$8(_){return _}function group(_,...R){return nest(_,identity$8,identity$8,R)}function rollup(_,R,...O){return nest(_,identity$8,R,O)}function rollups(_,R,...O){return nest(_,Array.from,R,O)}function nest(_,R,O,I){return(function F(z,L){if(L>=I.length)return O(z);const U=new InternMap,q=I[L++];let G=-1;for(const V of z){const Z=q(V,++G,z),Y=U.get(Z);Y?Y.push(V):U.set(Z,[V])}for(const[V,Z]of U)U.set(V,F(Z,L));return R(U)})(_,0)}function permute(_,R){return Array.from(R,O=>_[O])}function sort$1(_,...R){if(typeof _[Symbol.iterator]!="function")throw new TypeError("values is not iterable");_=Array.from(_);let[O]=R;if(O&&O.length!==2||R.length>1){const I=Uint32Array.from(_,(F,z)=>z);return R.length>1?(R=R.map(F=>_.map(F)),I.sort((F,z)=>{for(const L of R){const U=ascendingDefined$1(L[F],L[z]);if(U)return U}})):(O=_.map(O),I.sort((F,z)=>ascendingDefined$1(O[F],O[z]))),permute(_,I)}return _.sort(compareDefined(O))}function compareDefined(_=ascending$1){if(_===ascending$1)return ascendingDefined$1;if(typeof _!="function")throw new TypeError("compare is not a function");return(R,O)=>{const I=_(R,O);return I||I===0?I:(_(O,O)===0)-(_(R,R)===0)}}function ascendingDefined$1(_,R){return(_==null||!(_>=_))-(R==null||!(R>=R))||(_<R?-1:_>R?1:0)}function groupSort(_,R,O){return(R.length!==2?sort$1(rollup(_,R,O),(([I,F],[z,L])=>ascending$1(F,L)||ascending$1(I,z))):sort$1(group(_,O),(([I,F],[z,L])=>R(F,L)||ascending$1(I,z)))).map(([I])=>I)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(_,R,O){const I=(R-_)/Math.max(0,O),F=Math.floor(Math.log10(I)),z=I/Math.pow(10,F),L=z>=e10?10:z>=e5?5:z>=e2?2:1;let U,q,G;return F<0?(G=Math.pow(10,-F)/L,U=Math.round(_*G),q=Math.round(R*G),U/G<_&&++U,q/G>R&&--q,G=-G):(G=Math.pow(10,F)*L,U=Math.round(_/G),q=Math.round(R/G),U*G<_&&++U,q*G>R&&--q),q<U&&.5<=O&&O<2?tickSpec(_,R,O*2):[U,q,G]}function ticks(_,R,O){if(R=+R,_=+_,O=+O,!(O>0))return[];if(_===R)return[_];const I=R<_,[F,z,L]=I?tickSpec(R,_,O):tickSpec(_,R,O);if(!(z>=F))return[];const U=z-F+1,q=new Array(U);if(I)if(L<0)for(let G=0;G<U;++G)q[G]=(z-G)/-L;else for(let G=0;G<U;++G)q[G]=(z-G)*L;else if(L<0)for(let G=0;G<U;++G)q[G]=(F+G)/-L;else for(let G=0;G<U;++G)q[G]=(F+G)*L;return q}function tickIncrement(_,R,O){return R=+R,_=+_,O=+O,tickSpec(_,R,O)[2]}function tickStep(_,R,O){R=+R,_=+_,O=+O;const I=R<_,F=I?tickIncrement(R,_,O):tickIncrement(_,R,O);return(I?-1:1)*(F<0?1/-F:F)}function thresholdSturges(_){return Math.max(1,Math.ceil(Math.log(count(_))/Math.LN2)+1)}function max(_,R){let O;if(R===void 0)for(const I of _)I!=null&&(O<I||O===void 0&&I>=I)&&(O=I);else{let I=-1;for(let F of _)(F=R(F,++I,_))!=null&&(O<F||O===void 0&&F>=F)&&(O=F)}return O}function maxIndex(_,R){let O,I=-1,F=-1;if(R===void 0)for(const z of _)++F,z!=null&&(O<z||O===void 0&&z>=z)&&(O=z,I=F);else for(let z of _)(z=R(z,++F,_))!=null&&(O<z||O===void 0&&z>=z)&&(O=z,I=F);return I}function min$1(_,R){let O;if(R===void 0)for(const I of _)I!=null&&(O>I||O===void 0&&I>=I)&&(O=I);else{let I=-1;for(let F of _)(F=R(F,++I,_))!=null&&(O>F||O===void 0&&F>=F)&&(O=F)}return O}function minIndex(_,R){let O,I=-1,F=-1;if(R===void 0)for(const z of _)++F,z!=null&&(O>z||O===void 0&&z>=z)&&(O=z,I=F);else for(let z of _)(z=R(z,++F,_))!=null&&(O>z||O===void 0&&z>=z)&&(O=z,I=F);return I}function quickselect(_,R,O=0,I=1/0,F){if(R=Math.floor(R),O=Math.floor(Math.max(0,O)),I=Math.floor(Math.min(_.length-1,I)),!(O<=R&&R<=I))return _;for(F=F===void 0?ascendingDefined$1:compareDefined(F);I>O;){if(I-O>600){const q=I-O+1,G=R-O+1,V=Math.log(q),Z=.5*Math.exp(2*V/3),Y=.5*Math.sqrt(V*Z*(q-Z)/q)*(G-q/2<0?-1:1),W=Math.max(O,Math.floor(R-G*Z/q+Y)),ee=Math.min(I,Math.floor(R+(q-G)*Z/q+Y));quickselect(_,R,W,ee,F)}const z=_[R];let L=O,U=I;for(swap(_,O,R),F(_[I],z)>0&&swap(_,O,I);L<U;){for(swap(_,L,U),++L,--U;F(_[L],z)<0;)++L;for(;F(_[U],z)>0;)--U}F(_[O],z)===0?swap(_,O,U):(++U,swap(_,U,I)),U<=R&&(O=U+1),R<=U&&(I=U-1)}return _}function swap(_,R,O){const I=_[R];_[R]=_[O],_[O]=I}function greatest(_,R=ascending$1){let O,I=!1;if(R.length===1){let F;for(const z of _){const L=R(z);(I?ascending$1(L,F)>0:ascending$1(L,L)===0)&&(O=z,F=L,I=!0)}}else for(const F of _)(I?R(F,O)>0:R(F,F)===0)&&(O=F,I=!0);return O}function quantile$1(_,R,O){if(_=Float64Array.from(numbers(_,O)),!(!(I=_.length)||isNaN(R=+R))){if(R<=0||I<2)return min$1(_);if(R>=1)return max(_);var I,F=(I-1)*R,z=Math.floor(F),L=max(quickselect(_,z).subarray(0,z+1)),U=min$1(_.subarray(z+1));return L+(U-L)*(F-z)}}function quantileSorted(_,R,O=number$4){if(!(!(I=_.length)||isNaN(R=+R))){if(R<=0||I<2)return+O(_[0],0,_);if(R>=1)return+O(_[I-1],I-1,_);var I,F=(I-1)*R,z=Math.floor(F),L=+O(_[z],z,_),U=+O(_[z+1],z+1,_);return L+(U-L)*(F-z)}}function thresholdFreedmanDiaconis(_,R,O){const I=count(_),F=quantile$1(_,.75)-quantile$1(_,.25);return I&&F?Math.ceil((O-R)/(2*F*Math.pow(I,-1/3))):1}function thresholdScott(_,R,O){const I=count(_),F=deviation(_);return I&&F?Math.ceil((O-R)*Math.cbrt(I)/(3.49*F)):1}function mean(_,R){let O=0,I=0;if(R===void 0)for(let F of _)F!=null&&(F=+F)>=F&&(++O,I+=F);else{let F=-1;for(let z of _)(z=R(z,++F,_))!=null&&(z=+z)>=z&&(++O,I+=z)}if(O)return I/O}function median(_,R){return quantile$1(_,.5,R)}function*flatten(_){for(const R of _)yield*R}function merge(_){return Array.from(flatten(_))}function mode(_,R){const O=new InternMap;if(R===void 0)for(let z of _)z!=null&&z>=z&&O.set(z,(O.get(z)||0)+1);else{let z=-1;for(let L of _)(L=R(L,++z,_))!=null&&L>=L&&O.set(L,(O.get(L)||0)+1)}let I,F=0;for(const[z,L]of O)L>F&&(F=L,I=z);return I}function pairs(_,R=pair){const O=[];let I,F=!1;for(const z of _)F&&O.push(R(I,z)),I=z,F=!0;return O}function pair(_,R){return[_,R]}function range$1(_,R,O){_=+_,R=+R,O=(F=arguments.length)<2?(R=_,_=0,1):F<3?1:+O;for(var I=-1,F=Math.max(0,Math.ceil((R-_)/O))|0,z=new Array(F);++I<F;)z[I]=_+I*O;return z}function sum(_,R){let O=0;if(R===void 0)for(let I of _)(I=+I)&&(O+=I);else{let I=-1;for(let F of _)(F=+R(F,++I,_))&&(O+=F)}return O}function reverse(_){if(typeof _[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(_).reverse()}function identity$7(_){return _}var bottom=3,epsilon$3=1e-6;function translateX(_){return"translate("+_+",0)"}function number$3(_){return R=>+_(R)}function center(_,R){return R=Math.max(0,_.bandwidth()-R*2)/2,_.round()&&(R=Math.round(R)),O=>+_(O)+R}function entering(){return!this.__axis}function axis(_,R){var O=[],I=null,F=null,z=6,L=6,U=3,q=typeof window<"u"&&window.devicePixelRatio>1?0:.5,G=1,V="y",Z=translateX;function Y(W){var ee=I??(R.ticks?R.ticks.apply(R,O):R.domain()),ne=F??(R.tickFormat?R.tickFormat.apply(R,O):identity$7),ie=Math.max(z,0)+U,se=R.range(),oe=+se[0]+q,le=+se[se.length-1]+q,ue=(R.bandwidth?center:number$3)(R.copy(),q),ce=W.selection?W.selection():W,fe=ce.selectAll(".domain").data([null]),me=ce.selectAll(".tick").data(ee,R).order(),he=me.exit(),pe=me.enter().append("g").attr("class","tick"),ge=me.select("line"),_e=me.select("text");fe=fe.merge(fe.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),me=me.merge(pe),ge=ge.merge(pe.append("line").attr("stroke","currentColor").attr(V+"2",G*z)),_e=_e.merge(pe.append("text").attr("fill","currentColor").attr(V,G*ie).attr("dy","0.71em")),W!==ce&&(fe=fe.transition(W),me=me.transition(W),ge=ge.transition(W),_e=_e.transition(W),he=he.transition(W).attr("opacity",epsilon$3).attr("transform",function(ye){return isFinite(ye=ue(ye))?Z(ye+q):this.getAttribute("transform")}),pe.attr("opacity",epsilon$3).attr("transform",function(ye){var we=this.parentNode.__axis;return Z((we&&isFinite(we=we(ye))?we:ue(ye))+q)})),he.remove(),fe.attr("d",L?"M"+oe+","+G*L+"V"+q+"H"+le+"V"+G*L:"M"+oe+","+q+"H"+le),me.attr("opacity",1).attr("transform",function(ye){return Z(ue(ye)+q)}),ge.attr(V+"2",G*z),_e.attr(V,G*ie).text(ne),ce.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),ce.each(function(){this.__axis=ue})}return Y.scale=function(W){return arguments.length?(R=W,Y):R},Y.ticks=function(){return O=Array.from(arguments),Y},Y.tickArguments=function(W){return arguments.length?(O=W==null?[]:Array.from(W),Y):O.slice()},Y.tickValues=function(W){return arguments.length?(I=W==null?null:Array.from(W),Y):I&&I.slice()},Y.tickFormat=function(W){return arguments.length?(F=W,Y):F},Y.tickSize=function(W){return arguments.length?(z=L=+W,Y):z},Y.tickSizeInner=function(W){return arguments.length?(z=+W,Y):z},Y.tickSizeOuter=function(W){return arguments.length?(L=+W,Y):L},Y.tickPadding=function(W){return arguments.length?(U=+W,Y):U},Y.offset=function(W){return arguments.length?(q=+W,Y):q},Y}function axisBottom(_){return axis(bottom,_)}var noop$2={value:()=>{}};function dispatch(){for(var _=0,R=arguments.length,O={},I;_<R;++_){if(!(I=arguments[_]+"")||I in O||/[\s.]/.test(I))throw new Error("illegal type: "+I);O[I]=[]}return new Dispatch(O)}function Dispatch(_){this._=_}function parseTypenames$1(_,R){return _.trim().split(/^|\s+/).map(function(O){var I="",F=O.indexOf(".");if(F>=0&&(I=O.slice(F+1),O=O.slice(0,F)),O&&!R.hasOwnProperty(O))throw new Error("unknown type: "+O);return{type:O,name:I}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(_,R){var O=this._,I=parseTypenames$1(_+"",O),F,z=-1,L=I.length;if(arguments.length<2){for(;++z<L;)if((F=(_=I[z]).type)&&(F=get$1(O[F],_.name)))return F;return}if(R!=null&&typeof R!="function")throw new Error("invalid callback: "+R);for(;++z<L;)if(F=(_=I[z]).type)O[F]=set$1(O[F],_.name,R);else if(R==null)for(F in O)O[F]=set$1(O[F],_.name,null);return this},copy:function(){var _={},R=this._;for(var O in R)_[O]=R[O].slice();return new Dispatch(_)},call:function(_,R){if((F=arguments.length-2)>0)for(var O=new Array(F),I=0,F,z;I<F;++I)O[I]=arguments[I+2];if(!this._.hasOwnProperty(_))throw new Error("unknown type: "+_);for(z=this._[_],I=0,F=z.length;I<F;++I)z[I].value.apply(R,O)},apply:function(_,R,O){if(!this._.hasOwnProperty(_))throw new Error("unknown type: "+_);for(var I=this._[_],F=0,z=I.length;F<z;++F)I[F].value.apply(R,O)}};function get$1(_,R){for(var O=0,I=_.length,F;O<I;++O)if((F=_[O]).name===R)return F.value}function set$1(_,R,O){for(var I=0,F=_.length;I<F;++I)if(_[I].name===R){_[I]=noop$2,_=_.slice(0,I).concat(_.slice(I+1));break}return O!=null&&_.push({name:R,value:O}),_}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(_){var R=_+="",O=R.indexOf(":");return O>=0&&(R=_.slice(0,O))!=="xmlns"&&(_=_.slice(O+1)),namespaces.hasOwnProperty(R)?{space:namespaces[R],local:_}:_}function creatorInherit(_){return function(){var R=this.ownerDocument,O=this.namespaceURI;return O===xhtml&&R.documentElement.namespaceURI===xhtml?R.createElement(_):R.createElementNS(O,_)}}function creatorFixed(_){return function(){return this.ownerDocument.createElementNS(_.space,_.local)}}function creator(_){var R=namespace(_);return(R.local?creatorFixed:creatorInherit)(R)}function none(){}function selector(_){return _==null?none:function(){return this.querySelector(_)}}function selection_select(_){typeof _!="function"&&(_=selector(_));for(var R=this._groups,O=R.length,I=new Array(O),F=0;F<O;++F)for(var z=R[F],L=z.length,U=I[F]=new Array(L),q,G,V=0;V<L;++V)(q=z[V])&&(G=_.call(q,q.__data__,V,z))&&("__data__"in q&&(G.__data__=q.__data__),U[V]=G);return new Selection$1(I,this._parents)}function array$1(_){return _==null?[]:Array.isArray(_)?_:Array.from(_)}function empty(){return[]}function selectorAll(_){return _==null?empty:function(){return this.querySelectorAll(_)}}function arrayAll(_){return function(){return array$1(_.apply(this,arguments))}}function selection_selectAll(_){typeof _=="function"?_=arrayAll(_):_=selectorAll(_);for(var R=this._groups,O=R.length,I=[],F=[],z=0;z<O;++z)for(var L=R[z],U=L.length,q,G=0;G<U;++G)(q=L[G])&&(I.push(_.call(q,q.__data__,G,L)),F.push(q));return new Selection$1(I,F)}function matcher(_){return function(){return this.matches(_)}}function childMatcher(_){return function(R){return R.matches(_)}}var find=Array.prototype.find;function childFind(_){return function(){return find.call(this.children,_)}}function childFirst(){return this.firstElementChild}function selection_selectChild(_){return this.select(_==null?childFirst:childFind(typeof _=="function"?_:childMatcher(_)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(_){return function(){return filter.call(this.children,_)}}function selection_selectChildren(_){return this.selectAll(_==null?children:childrenFilter(typeof _=="function"?_:childMatcher(_)))}function selection_filter(_){typeof _!="function"&&(_=matcher(_));for(var R=this._groups,O=R.length,I=new Array(O),F=0;F<O;++F)for(var z=R[F],L=z.length,U=I[F]=[],q,G=0;G<L;++G)(q=z[G])&&_.call(q,q.__data__,G,z)&&U.push(q);return new Selection$1(I,this._parents)}function sparse(_){return new Array(_.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(_,R){this.ownerDocument=_.ownerDocument,this.namespaceURI=_.namespaceURI,this._next=null,this._parent=_,this.__data__=R}EnterNode.prototype={constructor:EnterNode,appendChild:function(_){return this._parent.insertBefore(_,this._next)},insertBefore:function(_,R){return this._parent.insertBefore(_,R)},querySelector:function(_){return this._parent.querySelector(_)},querySelectorAll:function(_){return this._parent.querySelectorAll(_)}};function constant$3(_){return function(){return _}}function bindIndex(_,R,O,I,F,z){for(var L=0,U,q=R.length,G=z.length;L<G;++L)(U=R[L])?(U.__data__=z[L],I[L]=U):O[L]=new EnterNode(_,z[L]);for(;L<q;++L)(U=R[L])&&(F[L]=U)}function bindKey(_,R,O,I,F,z,L){var U,q,G=new Map,V=R.length,Z=z.length,Y=new Array(V),W;for(U=0;U<V;++U)(q=R[U])&&(Y[U]=W=L.call(q,q.__data__,U,R)+"",G.has(W)?F[U]=q:G.set(W,q));for(U=0;U<Z;++U)W=L.call(_,z[U],U,z)+"",(q=G.get(W))?(I[U]=q,q.__data__=z[U],G.delete(W)):O[U]=new EnterNode(_,z[U]);for(U=0;U<V;++U)(q=R[U])&&G.get(Y[U])===q&&(F[U]=q)}function datum(_){return _.__data__}function selection_data(_,R){if(!arguments.length)return Array.from(this,datum);var O=R?bindKey:bindIndex,I=this._parents,F=this._groups;typeof _!="function"&&(_=constant$3(_));for(var z=F.length,L=new Array(z),U=new Array(z),q=new Array(z),G=0;G<z;++G){var V=I[G],Z=F[G],Y=Z.length,W=arraylike(_.call(V,V&&V.__data__,G,I)),ee=W.length,ne=U[G]=new Array(ee),ie=L[G]=new Array(ee),se=q[G]=new Array(Y);O(V,Z,ne,ie,se,W,R);for(var oe=0,le=0,ue,ce;oe<ee;++oe)if(ue=ne[oe]){for(oe>=le&&(le=oe+1);!(ce=ie[le])&&++le<ee;);ue._next=ce||null}}return L=new Selection$1(L,I),L._enter=U,L._exit=q,L}function arraylike(_){return typeof _=="object"&&"length"in _?_:Array.from(_)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(_,R,O){var I=this.enter(),F=this,z=this.exit();return typeof _=="function"?(I=_(I),I&&(I=I.selection())):I=I.append(_+""),R!=null&&(F=R(F),F&&(F=F.selection())),O==null?z.remove():O(z),I&&F?I.merge(F).order():F}function selection_merge(_){for(var R=_.selection?_.selection():_,O=this._groups,I=R._groups,F=O.length,z=I.length,L=Math.min(F,z),U=new Array(F),q=0;q<L;++q)for(var G=O[q],V=I[q],Z=G.length,Y=U[q]=new Array(Z),W,ee=0;ee<Z;++ee)(W=G[ee]||V[ee])&&(Y[ee]=W);for(;q<F;++q)U[q]=O[q];return new Selection$1(U,this._parents)}function selection_order(){for(var _=this._groups,R=-1,O=_.length;++R<O;)for(var I=_[R],F=I.length-1,z=I[F],L;--F>=0;)(L=I[F])&&(z&&L.compareDocumentPosition(z)^4&&z.parentNode.insertBefore(L,z),z=L);return this}function selection_sort(_){_||(_=ascending);function R(Z,Y){return Z&&Y?_(Z.__data__,Y.__data__):!Z-!Y}for(var O=this._groups,I=O.length,F=new Array(I),z=0;z<I;++z){for(var L=O[z],U=L.length,q=F[z]=new Array(U),G,V=0;V<U;++V)(G=L[V])&&(q[V]=G);q.sort(R)}return new Selection$1(F,this._parents).order()}function ascending(_,R){return _<R?-1:_>R?1:_>=R?0:NaN}function selection_call(){var _=arguments[0];return arguments[0]=this,_.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var _=this._groups,R=0,O=_.length;R<O;++R)for(var I=_[R],F=0,z=I.length;F<z;++F){var L=I[F];if(L)return L}return null}function selection_size(){let _=0;for(const R of this)++_;return _}function selection_empty(){return!this.node()}function selection_each(_){for(var R=this._groups,O=0,I=R.length;O<I;++O)for(var F=R[O],z=0,L=F.length,U;z<L;++z)(U=F[z])&&_.call(U,U.__data__,z,F);return this}function attrRemove$1(_){return function(){this.removeAttribute(_)}}function attrRemoveNS$1(_){return function(){this.removeAttributeNS(_.space,_.local)}}function attrConstant$1(_,R){return function(){this.setAttribute(_,R)}}function attrConstantNS$1(_,R){return function(){this.setAttributeNS(_.space,_.local,R)}}function attrFunction$1(_,R){return function(){var O=R.apply(this,arguments);O==null?this.removeAttribute(_):this.setAttribute(_,O)}}function attrFunctionNS$1(_,R){return function(){var O=R.apply(this,arguments);O==null?this.removeAttributeNS(_.space,_.local):this.setAttributeNS(_.space,_.local,O)}}function selection_attr(_,R){var O=namespace(_);if(arguments.length<2){var I=this.node();return O.local?I.getAttributeNS(O.space,O.local):I.getAttribute(O)}return this.each((R==null?O.local?attrRemoveNS$1:attrRemove$1:typeof R=="function"?O.local?attrFunctionNS$1:attrFunction$1:O.local?attrConstantNS$1:attrConstant$1)(O,R))}function defaultView(_){return _.ownerDocument&&_.ownerDocument.defaultView||_.document&&_||_.defaultView}function styleRemove$1(_){return function(){this.style.removeProperty(_)}}function styleConstant$1(_,R,O){return function(){this.style.setProperty(_,R,O)}}function styleFunction$1(_,R,O){return function(){var I=R.apply(this,arguments);I==null?this.style.removeProperty(_):this.style.setProperty(_,I,O)}}function selection_style(_,R,O){return arguments.length>1?this.each((R==null?styleRemove$1:typeof R=="function"?styleFunction$1:styleConstant$1)(_,R,O??"")):styleValue(this.node(),_)}function styleValue(_,R){return _.style.getPropertyValue(R)||defaultView(_).getComputedStyle(_,null).getPropertyValue(R)}function propertyRemove(_){return function(){delete this[_]}}function propertyConstant(_,R){return function(){this[_]=R}}function propertyFunction(_,R){return function(){var O=R.apply(this,arguments);O==null?delete this[_]:this[_]=O}}function selection_property(_,R){return arguments.length>1?this.each((R==null?propertyRemove:typeof R=="function"?propertyFunction:propertyConstant)(_,R)):this.node()[_]}function classArray(_){return _.trim().split(/^|\s+/)}function classList(_){return _.classList||new ClassList(_)}function ClassList(_){this._node=_,this._names=classArray(_.getAttribute("class")||"")}ClassList.prototype={add:function(_){var R=this._names.indexOf(_);R<0&&(this._names.push(_),this._node.setAttribute("class",this._names.join(" ")))},remove:function(_){var R=this._names.indexOf(_);R>=0&&(this._names.splice(R,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(_){return this._names.indexOf(_)>=0}};function classedAdd(_,R){for(var O=classList(_),I=-1,F=R.length;++I<F;)O.add(R[I])}function classedRemove(_,R){for(var O=classList(_),I=-1,F=R.length;++I<F;)O.remove(R[I])}function classedTrue(_){return function(){classedAdd(this,_)}}function classedFalse(_){return function(){classedRemove(this,_)}}function classedFunction(_,R){return function(){(R.apply(this,arguments)?classedAdd:classedRemove)(this,_)}}function selection_classed(_,R){var O=classArray(_+"");if(arguments.length<2){for(var I=classList(this.node()),F=-1,z=O.length;++F<z;)if(!I.contains(O[F]))return!1;return!0}return this.each((typeof R=="function"?classedFunction:R?classedTrue:classedFalse)(O,R))}function textRemove(){this.textContent=""}function textConstant$1(_){return function(){this.textContent=_}}function textFunction$1(_){return function(){var R=_.apply(this,arguments);this.textContent=R??""}}function selection_text(_){return arguments.length?this.each(_==null?textRemove:(typeof _=="function"?textFunction$1:textConstant$1)(_)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(_){return function(){this.innerHTML=_}}function htmlFunction(_){return function(){var R=_.apply(this,arguments);this.innerHTML=R??""}}function selection_html(_){return arguments.length?this.each(_==null?htmlRemove:(typeof _=="function"?htmlFunction:htmlConstant)(_)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(_){var R=typeof _=="function"?_:creator(_);return this.select(function(){return this.appendChild(R.apply(this,arguments))})}function constantNull(){return null}function selection_insert(_,R){var O=typeof _=="function"?_:creator(_),I=R==null?constantNull:typeof R=="function"?R:selector(R);return this.select(function(){return this.insertBefore(O.apply(this,arguments),I.apply(this,arguments)||null)})}function remove(){var _=this.parentNode;_&&_.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var _=this.cloneNode(!1),R=this.parentNode;return R?R.insertBefore(_,this.nextSibling):_}function selection_cloneDeep(){var _=this.cloneNode(!0),R=this.parentNode;return R?R.insertBefore(_,this.nextSibling):_}function selection_clone(_){return this.select(_?selection_cloneDeep:selection_cloneShallow)}function selection_datum(_){return arguments.length?this.property("__data__",_):this.node().__data__}function contextListener(_){return function(R){_.call(this,R,this.__data__)}}function parseTypenames(_){return _.trim().split(/^|\s+/).map(function(R){var O="",I=R.indexOf(".");return I>=0&&(O=R.slice(I+1),R=R.slice(0,I)),{type:R,name:O}})}function onRemove(_){return function(){var R=this.__on;if(R){for(var O=0,I=-1,F=R.length,z;O<F;++O)z=R[O],(!_.type||z.type===_.type)&&z.name===_.name?this.removeEventListener(z.type,z.listener,z.options):R[++I]=z;++I?R.length=I:delete this.__on}}}function onAdd(_,R,O){return function(){var I=this.__on,F,z=contextListener(R);if(I){for(var L=0,U=I.length;L<U;++L)if((F=I[L]).type===_.type&&F.name===_.name){this.removeEventListener(F.type,F.listener,F.options),this.addEventListener(F.type,F.listener=z,F.options=O),F.value=R;return}}this.addEventListener(_.type,z,O),F={type:_.type,name:_.name,value:R,listener:z,options:O},I?I.push(F):this.__on=[F]}}function selection_on(_,R,O){var I=parseTypenames(_+""),F,z=I.length,L;if(arguments.length<2){var U=this.node().__on;if(U){for(var q=0,G=U.length,V;q<G;++q)for(F=0,V=U[q];F<z;++F)if((L=I[F]).type===V.type&&L.name===V.name)return V.value}return}for(U=R?onAdd:onRemove,F=0;F<z;++F)this.each(U(I[F],R,O));return this}function dispatchEvent(_,R,O){var I=defaultView(_),F=I.CustomEvent;typeof F=="function"?F=new F(R,O):(F=I.document.createEvent("Event"),O?(F.initEvent(R,O.bubbles,O.cancelable),F.detail=O.detail):F.initEvent(R,!1,!1)),_.dispatchEvent(F)}function dispatchConstant(_,R){return function(){return dispatchEvent(this,_,R)}}function dispatchFunction(_,R){return function(){return dispatchEvent(this,_,R.apply(this,arguments))}}function selection_dispatch(_,R){return this.each((typeof R=="function"?dispatchFunction:dispatchConstant)(_,R))}function*selection_iterator(){for(var _=this._groups,R=0,O=_.length;R<O;++R)for(var I=_[R],F=0,z=I.length,L;F<z;++F)(L=I[F])&&(yield L)}var root=[null];function Selection$1(_,R){this._groups=_,this._parents=R}function selection(){return new Selection$1([[document.documentElement]],root)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(_){return typeof _=="string"?new Selection$1([[document.querySelector(_)]],[document.documentElement]):new Selection$1([[_]],root)}function sourceEvent(_){let R;for(;R=_.sourceEvent;)_=R;return _}function pointof(_,R){if(_=sourceEvent(_),R===void 0&&(R=_.currentTarget),R){var O=R.ownerSVGElement||R;if(O.createSVGPoint){var I=O.createSVGPoint();return I.x=_.clientX,I.y=_.clientY,I=I.matrixTransform(R.getScreenCTM().inverse()),[I.x,I.y]}if(R.getBoundingClientRect){var F=R.getBoundingClientRect();return[_.clientX-F.left-R.clientLeft,_.clientY-F.top-R.clientTop]}}return[_.pageX,_.pageY]}function define(_,R,O){_.prototype=R.prototype=O,O.constructor=_}function extend(_,R){var O=Object.create(_.prototype);for(var I in R)O[I]=R[I];return O}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named$1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color$1,{copy(_){return Object.assign(new this.constructor,this,_)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(_){var R,O;return _=(_+"").trim().toLowerCase(),(R=reHex.exec(_))?(O=R[1].length,R=parseInt(R[1],16),O===6?rgbn(R):O===3?new Rgb(R>>8&15|R>>4&240,R>>4&15|R&240,(R&15)<<4|R&15,1):O===8?rgba(R>>24&255,R>>16&255,R>>8&255,(R&255)/255):O===4?rgba(R>>12&15|R>>8&240,R>>8&15|R>>4&240,R>>4&15|R&240,((R&15)<<4|R&15)/255):null):(R=reRgbInteger.exec(_))?new Rgb(R[1],R[2],R[3],1):(R=reRgbPercent.exec(_))?new Rgb(R[1]*255/100,R[2]*255/100,R[3]*255/100,1):(R=reRgbaInteger.exec(_))?rgba(R[1],R[2],R[3],R[4]):(R=reRgbaPercent.exec(_))?rgba(R[1]*255/100,R[2]*255/100,R[3]*255/100,R[4]):(R=reHslPercent.exec(_))?hsla(R[1],R[2]/100,R[3]/100,1):(R=reHslaPercent.exec(_))?hsla(R[1],R[2]/100,R[3]/100,R[4]):named$1.hasOwnProperty(_)?rgbn(named$1[_]):_==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(_){return new Rgb(_>>16&255,_>>8&255,_&255,1)}function rgba(_,R,O,I){return I<=0&&(_=R=O=NaN),new Rgb(_,R,O,I)}function rgbConvert(_){return _ instanceof Color||(_=color$1(_)),_?(_=_.rgb(),new Rgb(_.r,_.g,_.b,_.opacity)):new Rgb}function rgb(_,R,O,I){return arguments.length===1?rgbConvert(_):new Rgb(_,R,O,I??1)}function Rgb(_,R,O,I){this.r=+_,this.g=+R,this.b=+O,this.opacity=+I}define(Rgb,rgb,extend(Color,{brighter(_){return _=_==null?brighter:Math.pow(brighter,_),new Rgb(this.r*_,this.g*_,this.b*_,this.opacity)},darker(_){return _=_==null?darker:Math.pow(darker,_),new Rgb(this.r*_,this.g*_,this.b*_,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const _=clampa(this.opacity);return`${_===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${_===1?")":`, ${_})`}`}function clampa(_){return isNaN(_)?1:Math.max(0,Math.min(1,_))}function clampi(_){return Math.max(0,Math.min(255,Math.round(_)||0))}function hex(_){return _=clampi(_),(_<16?"0":"")+_.toString(16)}function hsla(_,R,O,I){return I<=0?_=R=O=NaN:O<=0||O>=1?_=R=NaN:R<=0&&(_=NaN),new Hsl(_,R,O,I)}function hslConvert(_){if(_ instanceof Hsl)return new Hsl(_.h,_.s,_.l,_.opacity);if(_ instanceof Color||(_=color$1(_)),!_)return new Hsl;if(_ instanceof Hsl)return _;_=_.rgb();var R=_.r/255,O=_.g/255,I=_.b/255,F=Math.min(R,O,I),z=Math.max(R,O,I),L=NaN,U=z-F,q=(z+F)/2;return U?(R===z?L=(O-I)/U+(O<I)*6:O===z?L=(I-R)/U+2:L=(R-O)/U+4,U/=q<.5?z+F:2-z-F,L*=60):U=q>0&&q<1?0:L,new Hsl(L,U,q,_.opacity)}function hsl$1(_,R,O,I){return arguments.length===1?hslConvert(_):new Hsl(_,R,O,I??1)}function Hsl(_,R,O,I){this.h=+_,this.s=+R,this.l=+O,this.opacity=+I}define(Hsl,hsl$1,extend(Color,{brighter(_){return _=_==null?brighter:Math.pow(brighter,_),new Hsl(this.h,this.s,this.l*_,this.opacity)},darker(_){return _=_==null?darker:Math.pow(darker,_),new Hsl(this.h,this.s,this.l*_,this.opacity)},rgb(){var _=this.h%360+(this.h<0)*360,R=isNaN(_)||isNaN(this.s)?0:this.s,O=this.l,I=O+(O<.5?O:1-O)*R,F=2*O-I;return new Rgb(hsl2rgb(_>=240?_-240:_+120,F,I),hsl2rgb(_,F,I),hsl2rgb(_<120?_+240:_-120,F,I),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const _=clampa(this.opacity);return`${_===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${_===1?")":`, ${_})`}`}}));function clamph(_){return _=(_||0)%360,_<0?_+360:_}function clampt(_){return Math.max(0,Math.min(1,_||0))}function hsl2rgb(_,R,O){return(_<60?R+(O-R)*_/60:_<180?O:_<240?R+(O-R)*(240-_)/60:R)*255}const radians$2=Math.PI/180,degrees$2=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0$1=4/29,t1$1=6/29,t2=3*t1$1*t1$1,t3=t1$1*t1$1*t1$1;function labConvert(_){if(_ instanceof Lab)return new Lab(_.l,_.a,_.b,_.opacity);if(_ instanceof Hcl)return hcl2lab(_);_ instanceof Rgb||(_=rgbConvert(_));var R=rgb2lrgb(_.r),O=rgb2lrgb(_.g),I=rgb2lrgb(_.b),F=xyz2lab((.2225045*R+.7168786*O+.0606169*I)/Yn),z,L;return R===O&&O===I?z=L=F:(z=xyz2lab((.4360747*R+.3850649*O+.1430804*I)/Xn),L=xyz2lab((.0139322*R+.0971045*O+.7141733*I)/Zn)),new Lab(116*F-16,500*(z-F),200*(F-L),_.opacity)}function lab$1(_,R,O,I){return arguments.length===1?labConvert(_):new Lab(_,R,O,I??1)}function Lab(_,R,O,I){this.l=+_,this.a=+R,this.b=+O,this.opacity=+I}define(Lab,lab$1,extend(Color,{brighter(_){return new Lab(this.l+K*(_??1),this.a,this.b,this.opacity)},darker(_){return new Lab(this.l-K*(_??1),this.a,this.b,this.opacity)},rgb(){var _=(this.l+16)/116,R=isNaN(this.a)?_:_+this.a/500,O=isNaN(this.b)?_:_-this.b/200;return R=Xn*lab2xyz(R),_=Yn*lab2xyz(_),O=Zn*lab2xyz(O),new Rgb(lrgb2rgb(3.1338561*R-1.6168667*_-.4906146*O),lrgb2rgb(-.9787684*R+1.9161415*_+.033454*O),lrgb2rgb(.0719453*R-.2289914*_+1.4052427*O),this.opacity)}}));function xyz2lab(_){return _>t3?Math.pow(_,1/3):_/t2+t0$1}function lab2xyz(_){return _>t1$1?_*_*_:t2*(_-t0$1)}function lrgb2rgb(_){return 255*(_<=.0031308?12.92*_:1.055*Math.pow(_,1/2.4)-.055)}function rgb2lrgb(_){return(_/=255)<=.04045?_/12.92:Math.pow((_+.055)/1.055,2.4)}function hclConvert(_){if(_ instanceof Hcl)return new Hcl(_.h,_.c,_.l,_.opacity);if(_ instanceof Lab||(_=labConvert(_)),_.a===0&&_.b===0)return new Hcl(NaN,0<_.l&&_.l<100?0:NaN,_.l,_.opacity);var R=Math.atan2(_.b,_.a)*degrees$2;return new Hcl(R<0?R+360:R,Math.sqrt(_.a*_.a+_.b*_.b),_.l,_.opacity)}function hcl$1(_,R,O,I){return arguments.length===1?hclConvert(_):new Hcl(_,R,O,I??1)}function Hcl(_,R,O,I){this.h=+_,this.c=+R,this.l=+O,this.opacity=+I}function hcl2lab(_){if(isNaN(_.h))return new Lab(_.l,0,0,_.opacity);var R=_.h*radians$2;return new Lab(_.l,Math.cos(R)*_.c,Math.sin(R)*_.c,_.opacity)}define(Hcl,hcl$1,extend(Color,{brighter(_){return new Hcl(this.h,this.c,this.l+K*(_??1),this.opacity)},darker(_){return new Hcl(this.h,this.c,this.l-K*(_??1),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));var A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;function cubehelixConvert(_){if(_ instanceof Cubehelix)return new Cubehelix(_.h,_.s,_.l,_.opacity);_ instanceof Rgb||(_=rgbConvert(_));var R=_.r/255,O=_.g/255,I=_.b/255,F=(BC_DA*I+ED*R-EB*O)/(BC_DA+ED-EB),z=I-F,L=(E*(O-F)-C*z)/D,U=Math.sqrt(L*L+z*z)/(E*F*(1-F)),q=U?Math.atan2(L,z)*degrees$2-120:NaN;return new Cubehelix(q<0?q+360:q,U,F,_.opacity)}function cubehelix$1(_,R,O,I){return arguments.length===1?cubehelixConvert(_):new Cubehelix(_,R,O,I??1)}function Cubehelix(_,R,O,I){this.h=+_,this.s=+R,this.l=+O,this.opacity=+I}define(Cubehelix,cubehelix$1,extend(Color,{brighter(_){return _=_==null?brighter:Math.pow(brighter,_),new Cubehelix(this.h,this.s,this.l*_,this.opacity)},darker(_){return _=_==null?darker:Math.pow(darker,_),new Cubehelix(this.h,this.s,this.l*_,this.opacity)},rgb(){var _=isNaN(this.h)?0:(this.h+120)*radians$2,R=+this.l,O=isNaN(this.s)?0:this.s*R*(1-R),I=Math.cos(_),F=Math.sin(_);return new Rgb(255*(R+O*(A*I+B*F)),255*(R+O*(C*I+D*F)),255*(R+O*(E*I)),this.opacity)}}));function basis(_,R,O,I,F){var z=_*_,L=z*_;return((1-3*_+3*z-L)*R+(4-6*z+3*L)*O+(1+3*_+3*z-3*L)*I+L*F)/6}function basis$1(_){var R=_.length-1;return function(O){var I=O<=0?O=0:O>=1?(O=1,R-1):Math.floor(O*R),F=_[I],z=_[I+1],L=I>0?_[I-1]:2*F-z,U=I<R-1?_[I+2]:2*z-F;return basis((O-I/R)*R,L,F,z,U)}}const constant$2=_=>()=>_;function linear$1(_,R){return function(O){return _+O*R}}function exponential(_,R,O){return _=Math.pow(_,O),R=Math.pow(R,O)-_,O=1/O,function(I){return Math.pow(_+I*R,O)}}function hue(_,R){var O=R-_;return O?linear$1(_,O>180||O<-180?O-360*Math.round(O/360):O):constant$2(isNaN(_)?R:_)}function gamma(_){return(_=+_)==1?nogamma:function(R,O){return O-R?exponential(R,O,_):constant$2(isNaN(R)?O:R)}}function nogamma(_,R){var O=R-_;return O?linear$1(_,O):constant$2(isNaN(_)?R:_)}const interpolateRgb=(function _(R){var O=gamma(R);function I(F,z){var L=O((F=rgb(F)).r,(z=rgb(z)).r),U=O(F.g,z.g),q=O(F.b,z.b),G=nogamma(F.opacity,z.opacity);return function(V){return F.r=L(V),F.g=U(V),F.b=q(V),F.opacity=G(V),F+""}}return I.gamma=_,I})(1);function rgbSpline(_){return function(R){var O=R.length,I=new Array(O),F=new Array(O),z=new Array(O),L,U;for(L=0;L<O;++L)U=rgb(R[L]),I[L]=U.r||0,F[L]=U.g||0,z[L]=U.b||0;return I=_(I),F=_(F),z=_(z),U.opacity=1,function(q){return U.r=I(q),U.g=F(q),U.b=z(q),U+""}}}var rgbBasis=rgbSpline(basis$1);function numberArray(_,R){R||(R=[]);var O=_?Math.min(R.length,_.length):0,I=R.slice(),F;return function(z){for(F=0;F<O;++F)I[F]=_[F]*(1-z)+R[F]*z;return I}}function isNumberArray$1(_){return ArrayBuffer.isView(_)&&!(_ instanceof DataView)}function genericArray(_,R){var O=R?R.length:0,I=_?Math.min(O,_.length):0,F=new Array(I),z=new Array(O),L;for(L=0;L<I;++L)F[L]=interpolate$1(_[L],R[L]);for(;L<O;++L)z[L]=R[L];return function(U){for(L=0;L<I;++L)z[L]=F[L](U);return z}}function date$1(_,R){var O=new Date;return _=+_,R=+R,function(I){return O.setTime(_*(1-I)+R*I),O}}function interpolateNumber(_,R){return _=+_,R=+R,function(O){return _*(1-O)+R*O}}function object(_,R){var O={},I={},F;(_===null||typeof _!="object")&&(_={}),(R===null||typeof R!="object")&&(R={});for(F in R)F in _?O[F]=interpolate$1(_[F],R[F]):I[F]=R[F];return function(z){for(F in O)I[F]=O[F](z);return I}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero$2(_){return function(){return _}}function one$1(_){return function(R){return _(R)+""}}function interpolateString(_,R){var O=reA.lastIndex=reB.lastIndex=0,I,F,z,L=-1,U=[],q=[];for(_=_+"",R=R+"";(I=reA.exec(_))&&(F=reB.exec(R));)(z=F.index)>O&&(z=R.slice(O,z),U[L]?U[L]+=z:U[++L]=z),(I=I[0])===(F=F[0])?U[L]?U[L]+=F:U[++L]=F:(U[++L]=null,q.push({i:L,x:interpolateNumber(I,F)})),O=reB.lastIndex;return O<R.length&&(z=R.slice(O),U[L]?U[L]+=z:U[++L]=z),U.length<2?q[0]?one$1(q[0].x):zero$2(R):(R=q.length,function(G){for(var V=0,Z;V<R;++V)U[(Z=q[V]).i]=Z.x(G);return U.join("")})}function interpolate$1(_,R){var O=typeof R,I;return R==null||O==="boolean"?constant$2(R):(O==="number"?interpolateNumber:O==="string"?(I=color$1(R))?(R=I,interpolateRgb):interpolateString:R instanceof color$1?interpolateRgb:R instanceof Date?date$1:isNumberArray$1(R)?numberArray:Array.isArray(R)?genericArray:typeof R.valueOf!="function"&&typeof R.toString!="function"||isNaN(R)?object:interpolateNumber)(_,R)}function interpolateRound(_,R){return _=+_,R=+R,function(O){return Math.round(_*(1-O)+R*O)}}var degrees$1=180/Math.PI,identity$6={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(_,R,O,I,F,z){var L,U,q;return(L=Math.sqrt(_*_+R*R))&&(_/=L,R/=L),(q=_*O+R*I)&&(O-=_*q,I-=R*q),(U=Math.sqrt(O*O+I*I))&&(O/=U,I/=U,q/=U),_*I<R*O&&(_=-_,R=-R,q=-q,L=-L),{translateX:F,translateY:z,rotate:Math.atan2(R,_)*degrees$1,skewX:Math.atan(q)*degrees$1,scaleX:L,scaleY:U}}var svgNode;function parseCss(_){const R=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(_+"");return R.isIdentity?identity$6:decompose(R.a,R.b,R.c,R.d,R.e,R.f)}function parseSvg(_){return _==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",_),!(_=svgNode.transform.baseVal.consolidate()))?identity$6:(_=_.matrix,decompose(_.a,_.b,_.c,_.d,_.e,_.f))}function interpolateTransform(_,R,O,I){function F(G){return G.length?G.pop()+" ":""}function z(G,V,Z,Y,W,ee){if(G!==Z||V!==Y){var ne=W.push("translate(",null,R,null,O);ee.push({i:ne-4,x:interpolateNumber(G,Z)},{i:ne-2,x:interpolateNumber(V,Y)})}else(Z||Y)&&W.push("translate("+Z+R+Y+O)}function L(G,V,Z,Y){G!==V?(G-V>180?V+=360:V-G>180&&(G+=360),Y.push({i:Z.push(F(Z)+"rotate(",null,I)-2,x:interpolateNumber(G,V)})):V&&Z.push(F(Z)+"rotate("+V+I)}function U(G,V,Z,Y){G!==V?Y.push({i:Z.push(F(Z)+"skewX(",null,I)-2,x:interpolateNumber(G,V)}):V&&Z.push(F(Z)+"skewX("+V+I)}function q(G,V,Z,Y,W,ee){if(G!==Z||V!==Y){var ne=W.push(F(W)+"scale(",null,",",null,")");ee.push({i:ne-4,x:interpolateNumber(G,Z)},{i:ne-2,x:interpolateNumber(V,Y)})}else(Z!==1||Y!==1)&&W.push(F(W)+"scale("+Z+","+Y+")")}return function(G,V){var Z=[],Y=[];return G=_(G),V=_(V),z(G.translateX,G.translateY,V.translateX,V.translateY,Z,Y),L(G.rotate,V.rotate,Z,Y),U(G.skewX,V.skewX,Z,Y),q(G.scaleX,G.scaleY,V.scaleX,V.scaleY,Z,Y),G=V=null,function(W){for(var ee=-1,ne=Y.length,ie;++ee<ne;)Z[(ie=Y[ee]).i]=ie.x(W);return Z.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")");function hsl(_){return function(R,O){var I=_((R=hsl$1(R)).h,(O=hsl$1(O)).h),F=nogamma(R.s,O.s),z=nogamma(R.l,O.l),L=nogamma(R.opacity,O.opacity);return function(U){return R.h=I(U),R.s=F(U),R.l=z(U),R.opacity=L(U),R+""}}}const interpolateHsl=hsl(hue);function lab(_,R){var O=nogamma((_=lab$1(_)).l,(R=lab$1(R)).l),I=nogamma(_.a,R.a),F=nogamma(_.b,R.b),z=nogamma(_.opacity,R.opacity);return function(L){return _.l=O(L),_.a=I(L),_.b=F(L),_.opacity=z(L),_+""}}function hcl(_){return function(R,O){var I=_((R=hcl$1(R)).h,(O=hcl$1(O)).h),F=nogamma(R.c,O.c),z=nogamma(R.l,O.l),L=nogamma(R.opacity,O.opacity);return function(U){return R.h=I(U),R.c=F(U),R.l=z(U),R.opacity=L(U),R+""}}}const interpolateHcl=hcl(hue);function cubehelix(_){return(function R(O){O=+O;function I(F,z){var L=_((F=cubehelix$1(F)).h,(z=cubehelix$1(z)).h),U=nogamma(F.s,z.s),q=nogamma(F.l,z.l),G=nogamma(F.opacity,z.opacity);return function(V){return F.h=L(V),F.s=U(V),F.l=q(Math.pow(V,O)),F.opacity=G(V),F+""}}return I.gamma=R,I})(1)}cubehelix(hue);var cubehelixLong=cubehelix(nogamma);function piecewise(_,R){R===void 0&&(R=_,_=interpolate$1);for(var O=0,I=R.length-1,F=R[0],z=new Array(I<0?0:I);O<I;)z[O]=_(F,F=R[++O]);return function(L){var U=Math.max(0,Math.min(I-1,Math.floor(L*=I)));return z[U](L-U)}}function quantize(_,R){for(var O=new Array(R),I=0;I<R;++I)O[I]=_(I/(R-1));return O}var frame$1=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(_){setTimeout(_,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(_,R,O){if(typeof _!="function")throw new TypeError("callback is not a function");O=(O==null?now():+O)+(R==null?0:+R),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=_,this._time=O,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(_,R,O){var I=new Timer;return I.restart(_,R,O),I}function timerFlush(){now(),++frame$1;for(var _=taskHead,R;_;)(R=clockNow-_._time)>=0&&_._call.call(void 0,R),_=_._next;--frame$1}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame$1=timeout$1=0;try{timerFlush()}finally{frame$1=0,nap(),clockNow=0}}function poke(){var _=clock.now(),R=_-clockLast;R>pokeDelay&&(clockSkew-=R,clockLast=_)}function nap(){for(var _,R=taskHead,O,I=1/0;R;)R._call?(I>R._time&&(I=R._time),_=R,R=R._next):(O=R._next,R._next=null,R=_?_._next=O:taskHead=O);taskTail=_,sleep(I)}function sleep(_){if(!frame$1){timeout$1&&(timeout$1=clearTimeout(timeout$1));var R=_-clockNow;R>24?(_<1/0&&(timeout$1=setTimeout(wake,_-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame$1=1,setFrame(wake))}}function timeout(_,R,O){var I=new Timer;return R=R==null?0:+R,I.restart(F=>{I.stop(),_(F+R)},R,O),I}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(_,R,O,I,F,z){var L=_.__transition;if(!L)_.__transition={};else if(O in L)return;create$1(_,O,{name:R,index:I,group:F,on:emptyOn,tween:emptyTween,time:z.time,delay:z.delay,duration:z.duration,ease:z.ease,timer:null,state:CREATED})}function init(_,R){var O=get(_,R);if(O.state>CREATED)throw new Error("too late; already scheduled");return O}function set(_,R){var O=get(_,R);if(O.state>STARTED)throw new Error("too late; already running");return O}function get(_,R){var O=_.__transition;if(!O||!(O=O[R]))throw new Error("transition not found");return O}function create$1(_,R,O){var I=_.__transition,F;I[R]=O,O.timer=timer(z,0,O.time);function z(G){O.state=SCHEDULED,O.timer.restart(L,O.delay,O.time),O.delay<=G&&L(G-O.delay)}function L(G){var V,Z,Y,W;if(O.state!==SCHEDULED)return q();for(V in I)if(W=I[V],W.name===O.name){if(W.state===STARTED)return timeout(L);W.state===RUNNING?(W.state=ENDED,W.timer.stop(),W.on.call("interrupt",_,_.__data__,W.index,W.group),delete I[V]):+V<R&&(W.state=ENDED,W.timer.stop(),W.on.call("cancel",_,_.__data__,W.index,W.group),delete I[V])}if(timeout(function(){O.state===STARTED&&(O.state=RUNNING,O.timer.restart(U,O.delay,O.time),U(G))}),O.state=STARTING,O.on.call("start",_,_.__data__,O.index,O.group),O.state===STARTING){for(O.state=STARTED,F=new Array(Y=O.tween.length),V=0,Z=-1;V<Y;++V)(W=O.tween[V].value.call(_,_.__data__,O.index,O.group))&&(F[++Z]=W);F.length=Z+1}}function U(G){for(var V=G<O.duration?O.ease.call(null,G/O.duration):(O.timer.restart(q),O.state=ENDING,1),Z=-1,Y=F.length;++Z<Y;)F[Z].call(_,V);O.state===ENDING&&(O.on.call("end",_,_.__data__,O.index,O.group),q())}function q(){O.state=ENDED,O.timer.stop(),delete I[R];for(var G in I)return;delete _.__transition}}function interrupt(_,R){var O=_.__transition,I,F,z=!0,L;if(O){R=R==null?null:R+"";for(L in O){if((I=O[L]).name!==R){z=!1;continue}F=I.state>STARTING&&I.state<ENDING,I.state=ENDED,I.timer.stop(),I.on.call(F?"interrupt":"cancel",_,_.__data__,I.index,I.group),delete O[L]}z&&delete _.__transition}}function selection_interrupt(_){return this.each(function(){interrupt(this,_)})}function tweenRemove(_,R){var O,I;return function(){var F=set(this,_),z=F.tween;if(z!==O){I=O=z;for(var L=0,U=I.length;L<U;++L)if(I[L].name===R){I=I.slice(),I.splice(L,1);break}}F.tween=I}}function tweenFunction(_,R,O){var I,F;if(typeof O!="function")throw new Error;return function(){var z=set(this,_),L=z.tween;if(L!==I){F=(I=L).slice();for(var U={name:R,value:O},q=0,G=F.length;q<G;++q)if(F[q].name===R){F[q]=U;break}q===G&&F.push(U)}z.tween=F}}function transition_tween(_,R){var O=this._id;if(_+="",arguments.length<2){for(var I=get(this.node(),O).tween,F=0,z=I.length,L;F<z;++F)if((L=I[F]).name===_)return L.value;return null}return this.each((R==null?tweenRemove:tweenFunction)(O,_,R))}function tweenValue(_,R,O){var I=_._id;return _.each(function(){var F=set(this,I);(F.value||(F.value={}))[R]=O.apply(this,arguments)}),function(F){return get(F,I).value[R]}}function interpolate(_,R){var O;return(typeof R=="number"?interpolateNumber:R instanceof color$1?interpolateRgb:(O=color$1(R))?(R=O,interpolateRgb):interpolateString)(_,R)}function attrRemove(_){return function(){this.removeAttribute(_)}}function attrRemoveNS(_){return function(){this.removeAttributeNS(_.space,_.local)}}function attrConstant(_,R,O){var I,F=O+"",z;return function(){var L=this.getAttribute(_);return L===F?null:L===I?z:z=R(I=L,O)}}function attrConstantNS(_,R,O){var I,F=O+"",z;return function(){var L=this.getAttributeNS(_.space,_.local);return L===F?null:L===I?z:z=R(I=L,O)}}function attrFunction(_,R,O){var I,F,z;return function(){var L,U=O(this),q;return U==null?void this.removeAttribute(_):(L=this.getAttribute(_),q=U+"",L===q?null:L===I&&q===F?z:(F=q,z=R(I=L,U)))}}function attrFunctionNS(_,R,O){var I,F,z;return function(){var L,U=O(this),q;return U==null?void this.removeAttributeNS(_.space,_.local):(L=this.getAttributeNS(_.space,_.local),q=U+"",L===q?null:L===I&&q===F?z:(F=q,z=R(I=L,U)))}}function transition_attr(_,R){var O=namespace(_),I=O==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(_,typeof R=="function"?(O.local?attrFunctionNS:attrFunction)(O,I,tweenValue(this,"attr."+_,R)):R==null?(O.local?attrRemoveNS:attrRemove)(O):(O.local?attrConstantNS:attrConstant)(O,I,R))}function attrInterpolate(_,R){return function(O){this.setAttribute(_,R.call(this,O))}}function attrInterpolateNS(_,R){return function(O){this.setAttributeNS(_.space,_.local,R.call(this,O))}}function attrTweenNS(_,R){var O,I;function F(){var z=R.apply(this,arguments);return z!==I&&(O=(I=z)&&attrInterpolateNS(_,z)),O}return F._value=R,F}function attrTween(_,R){var O,I;function F(){var z=R.apply(this,arguments);return z!==I&&(O=(I=z)&&attrInterpolate(_,z)),O}return F._value=R,F}function transition_attrTween(_,R){var O="attr."+_;if(arguments.length<2)return(O=this.tween(O))&&O._value;if(R==null)return this.tween(O,null);if(typeof R!="function")throw new Error;var I=namespace(_);return this.tween(O,(I.local?attrTweenNS:attrTween)(I,R))}function delayFunction(_,R){return function(){init(this,_).delay=+R.apply(this,arguments)}}function delayConstant(_,R){return R=+R,function(){init(this,_).delay=R}}function transition_delay(_){var R=this._id;return arguments.length?this.each((typeof _=="function"?delayFunction:delayConstant)(R,_)):get(this.node(),R).delay}function durationFunction(_,R){return function(){set(this,_).duration=+R.apply(this,arguments)}}function durationConstant(_,R){return R=+R,function(){set(this,_).duration=R}}function transition_duration(_){var R=this._id;return arguments.length?this.each((typeof _=="function"?durationFunction:durationConstant)(R,_)):get(this.node(),R).duration}function easeConstant(_,R){if(typeof R!="function")throw new Error;return function(){set(this,_).ease=R}}function transition_ease(_){var R=this._id;return arguments.length?this.each(easeConstant(R,_)):get(this.node(),R).ease}function easeVarying(_,R){return function(){var O=R.apply(this,arguments);if(typeof O!="function")throw new Error;set(this,_).ease=O}}function transition_easeVarying(_){if(typeof _!="function")throw new Error;return this.each(easeVarying(this._id,_))}function transition_filter(_){typeof _!="function"&&(_=matcher(_));for(var R=this._groups,O=R.length,I=new Array(O),F=0;F<O;++F)for(var z=R[F],L=z.length,U=I[F]=[],q,G=0;G<L;++G)(q=z[G])&&_.call(q,q.__data__,G,z)&&U.push(q);return new Transition(I,this._parents,this._name,this._id)}function transition_merge(_){if(_._id!==this._id)throw new Error;for(var R=this._groups,O=_._groups,I=R.length,F=O.length,z=Math.min(I,F),L=new Array(I),U=0;U<z;++U)for(var q=R[U],G=O[U],V=q.length,Z=L[U]=new Array(V),Y,W=0;W<V;++W)(Y=q[W]||G[W])&&(Z[W]=Y);for(;U<I;++U)L[U]=R[U];return new Transition(L,this._parents,this._name,this._id)}function start(_){return(_+"").trim().split(/^|\s+/).every(function(R){var O=R.indexOf(".");return O>=0&&(R=R.slice(0,O)),!R||R==="start"})}function onFunction(_,R,O){var I,F,z=start(R)?init:set;return function(){var L=z(this,_),U=L.on;U!==I&&(F=(I=U).copy()).on(R,O),L.on=F}}function transition_on(_,R){var O=this._id;return arguments.length<2?get(this.node(),O).on.on(_):this.each(onFunction(O,_,R))}function removeFunction(_){return function(){var R=this.parentNode;for(var O in this.__transition)if(+O!==_)return;R&&R.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(_){var R=this._name,O=this._id;typeof _!="function"&&(_=selector(_));for(var I=this._groups,F=I.length,z=new Array(F),L=0;L<F;++L)for(var U=I[L],q=U.length,G=z[L]=new Array(q),V,Z,Y=0;Y<q;++Y)(V=U[Y])&&(Z=_.call(V,V.__data__,Y,U))&&("__data__"in V&&(Z.__data__=V.__data__),G[Y]=Z,schedule(G[Y],R,O,Y,G,get(V,O)));return new Transition(z,this._parents,R,O)}function transition_selectAll(_){var R=this._name,O=this._id;typeof _!="function"&&(_=selectorAll(_));for(var I=this._groups,F=I.length,z=[],L=[],U=0;U<F;++U)for(var q=I[U],G=q.length,V,Z=0;Z<G;++Z)if(V=q[Z]){for(var Y=_.call(V,V.__data__,Z,q),W,ee=get(V,O),ne=0,ie=Y.length;ne<ie;++ne)(W=Y[ne])&&schedule(W,R,O,ne,Y,ee);z.push(Y),L.push(V)}return new Transition(z,L,R,O)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(_,R){var O,I,F;return function(){var z=styleValue(this,_),L=(this.style.removeProperty(_),styleValue(this,_));return z===L?null:z===O&&L===I?F:F=R(O=z,I=L)}}function styleRemove(_){return function(){this.style.removeProperty(_)}}function styleConstant(_,R,O){var I,F=O+"",z;return function(){var L=styleValue(this,_);return L===F?null:L===I?z:z=R(I=L,O)}}function styleFunction(_,R,O){var I,F,z;return function(){var L=styleValue(this,_),U=O(this),q=U+"";return U==null&&(q=U=(this.style.removeProperty(_),styleValue(this,_))),L===q?null:L===I&&q===F?z:(F=q,z=R(I=L,U))}}function styleMaybeRemove(_,R){var O,I,F,z="style."+R,L="end."+z,U;return function(){var q=set(this,_),G=q.on,V=q.value[z]==null?U||(U=styleRemove(R)):void 0;(G!==O||F!==V)&&(I=(O=G).copy()).on(L,F=V),q.on=I}}function transition_style(_,R,O){var I=(_+="")=="transform"?interpolateTransformCss:interpolate;return R==null?this.styleTween(_,styleNull(_,I)).on("end.style."+_,styleRemove(_)):typeof R=="function"?this.styleTween(_,styleFunction(_,I,tweenValue(this,"style."+_,R))).each(styleMaybeRemove(this._id,_)):this.styleTween(_,styleConstant(_,I,R),O).on("end.style."+_,null)}function styleInterpolate(_,R,O){return function(I){this.style.setProperty(_,R.call(this,I),O)}}function styleTween(_,R,O){var I,F;function z(){var L=R.apply(this,arguments);return L!==F&&(I=(F=L)&&styleInterpolate(_,L,O)),I}return z._value=R,z}function transition_styleTween(_,R,O){var I="style."+(_+="");if(arguments.length<2)return(I=this.tween(I))&&I._value;if(R==null)return this.tween(I,null);if(typeof R!="function")throw new Error;return this.tween(I,styleTween(_,R,O??""))}function textConstant(_){return function(){this.textContent=_}}function textFunction(_){return function(){var R=_(this);this.textContent=R??""}}function transition_text(_){return this.tween("text",typeof _=="function"?textFunction(tweenValue(this,"text",_)):textConstant(_==null?"":_+""))}function textInterpolate(_){return function(R){this.textContent=_.call(this,R)}}function textTween(_){var R,O;function I(){var F=_.apply(this,arguments);return F!==O&&(R=(O=F)&&textInterpolate(F)),R}return I._value=_,I}function transition_textTween(_){var R="text";if(arguments.length<1)return(R=this.tween(R))&&R._value;if(_==null)return this.tween(R,null);if(typeof _!="function")throw new Error;return this.tween(R,textTween(_))}function transition_transition(){for(var _=this._name,R=this._id,O=newId(),I=this._groups,F=I.length,z=0;z<F;++z)for(var L=I[z],U=L.length,q,G=0;G<U;++G)if(q=L[G]){var V=get(q,R);schedule(q,_,O,G,L,{time:V.time+V.delay+V.duration,delay:0,duration:V.duration,ease:V.ease})}return new Transition(I,this._parents,_,O)}function transition_end(){var _,R,O=this,I=O._id,F=O.size();return new Promise(function(z,L){var U={value:L},q={value:function(){--F===0&&z()}};O.each(function(){var G=set(this,I),V=G.on;V!==_&&(R=(_=V).copy(),R._.cancel.push(U),R._.interrupt.push(U),R._.end.push(q)),G.on=R}),F===0&&z()})}var id=0;function Transition(_,R,O,I){this._groups=_,this._parents=R,this._name=O,this._id=I}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(_){return((_*=2)<=1?_*_*_:(_-=2)*_*_+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit$1(_,R){for(var O;!(O=_.__transition)||!(O=O[R]);)if(!(_=_.parentNode))throw new Error(`transition ${R} not found`);return O}function selection_transition(_){var R,O;_ instanceof Transition?(R=_._id,_=_._name):(R=newId(),(O=defaultTiming).time=now(),_=_==null?null:_+"");for(var I=this._groups,F=I.length,z=0;z<F;++z)for(var L=I[z],U=L.length,q,G=0;G<U;++G)(q=L[G])&&schedule(q,_,R,G,L,O||inherit$1(q,R));return new Transition(I,this._parents,_,R)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const pi$3=Math.PI,tau$3=2*pi$3,epsilon$2=1e-6,tauEpsilon=tau$3-epsilon$2;function append$1(_){this._+=_[0];for(let R=1,O=_.length;R<O;++R)this._+=arguments[R]+_[R]}function appendRound$1(_){let R=Math.floor(_);if(!(R>=0))throw new Error(`invalid digits: ${_}`);if(R>15)return append$1;const O=10**R;return function(I){this._+=I[0];for(let F=1,z=I.length;F<z;++F)this._+=Math.round(arguments[F]*O)/O+I[F]}}class Path{constructor(R){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=R==null?append$1:appendRound$1(R)}moveTo(R,O){this._append`M${this._x0=this._x1=+R},${this._y0=this._y1=+O}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(R,O){this._append`L${this._x1=+R},${this._y1=+O}`}quadraticCurveTo(R,O,I,F){this._append`Q${+R},${+O},${this._x1=+I},${this._y1=+F}`}bezierCurveTo(R,O,I,F,z,L){this._append`C${+R},${+O},${+I},${+F},${this._x1=+z},${this._y1=+L}`}arcTo(R,O,I,F,z){if(R=+R,O=+O,I=+I,F=+F,z=+z,z<0)throw new Error(`negative radius: ${z}`);let L=this._x1,U=this._y1,q=I-R,G=F-O,V=L-R,Z=U-O,Y=V*V+Z*Z;if(this._x1===null)this._append`M${this._x1=R},${this._y1=O}`;else if(Y>epsilon$2)if(!(Math.abs(Z*q-G*V)>epsilon$2)||!z)this._append`L${this._x1=R},${this._y1=O}`;else{let W=I-L,ee=F-U,ne=q*q+G*G,ie=W*W+ee*ee,se=Math.sqrt(ne),oe=Math.sqrt(Y),le=z*Math.tan((pi$3-Math.acos((ne+Y-ie)/(2*se*oe)))/2),ue=le/oe,ce=le/se;Math.abs(ue-1)>epsilon$2&&this._append`L${R+ue*V},${O+ue*Z}`,this._append`A${z},${z},0,0,${+(Z*W>V*ee)},${this._x1=R+ce*q},${this._y1=O+ce*G}`}}arc(R,O,I,F,z,L){if(R=+R,O=+O,I=+I,L=!!L,I<0)throw new Error(`negative radius: ${I}`);let U=I*Math.cos(F),q=I*Math.sin(F),G=R+U,V=O+q,Z=1^L,Y=L?F-z:z-F;this._x1===null?this._append`M${G},${V}`:(Math.abs(this._x1-G)>epsilon$2||Math.abs(this._y1-V)>epsilon$2)&&this._append`L${G},${V}`,I&&(Y<0&&(Y=Y%tau$3+tau$3),Y>tauEpsilon?this._append`A${I},${I},0,1,${Z},${R-U},${O-q}A${I},${I},0,1,${Z},${this._x1=G},${this._y1=V}`:Y>epsilon$2&&this._append`A${I},${I},0,${+(Y>=pi$3)},${Z},${this._x1=R+I*Math.cos(z)},${this._y1=O+I*Math.sin(z)}`)}rect(R,O,I,F){this._append`M${this._x0=this._x1=+R},${this._y0=this._y1=+O}h${I=+I}v${+F}h${-I}Z`}toString(){return this._}}function pathRound(_=3){return new Path(+_)}function formatDecimal(_){return Math.abs(_=Math.round(_))>=1e21?_.toLocaleString("en").replace(/,/g,""):_.toString(10)}function formatDecimalParts(_,R){if((O=(_=R?_.toExponential(R-1):_.toExponential()).indexOf("e"))<0)return null;var O,I=_.slice(0,O);return[I.length>1?I[0]+I.slice(2):I,+_.slice(O+1)]}function exponent(_){return _=formatDecimalParts(Math.abs(_)),_?_[1]:NaN}function formatGroup(_,R){return function(O,I){for(var F=O.length,z=[],L=0,U=_[0],q=0;F>0&&U>0&&(q+U+1>I&&(U=Math.max(1,I-q)),z.push(O.substring(F-=U,F+U)),!((q+=U+1)>I));)U=_[L=(L+1)%_.length];return z.reverse().join(R)}}function formatNumerals(_){return function(R){return R.replace(/[0-9]/g,function(O){return _[+O]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(_){if(!(R=re$1.exec(_)))throw new Error("invalid format: "+_);var R;return new FormatSpecifier({fill:R[1],align:R[2],sign:R[3],symbol:R[4],zero:R[5],width:R[6],comma:R[7],precision:R[8]&&R[8].slice(1),trim:R[9],type:R[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(_){this.fill=_.fill===void 0?" ":_.fill+"",this.align=_.align===void 0?">":_.align+"",this.sign=_.sign===void 0?"-":_.sign+"",this.symbol=_.symbol===void 0?"":_.symbol+"",this.zero=!!_.zero,this.width=_.width===void 0?void 0:+_.width,this.comma=!!_.comma,this.precision=_.precision===void 0?void 0:+_.precision,this.trim=!!_.trim,this.type=_.type===void 0?"":_.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(_){e:for(var R=_.length,O=1,I=-1,F;O<R;++O)switch(_[O]){case".":I=F=O;break;case"0":I===0&&(I=O),F=O;break;default:if(!+_[O])break e;I>0&&(I=0);break}return I>0?_.slice(0,I)+_.slice(F+1):_}var prefixExponent;function formatPrefixAuto(_,R){var O=formatDecimalParts(_,R);if(!O)return _+"";var I=O[0],F=O[1],z=F-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(F/3)))*3)+1,L=I.length;return z===L?I:z>L?I+new Array(z-L+1).join("0"):z>0?I.slice(0,z)+"."+I.slice(z):"0."+new Array(1-z).join("0")+formatDecimalParts(_,Math.max(0,R+z-1))[0]}function formatRounded(_,R){var O=formatDecimalParts(_,R);if(!O)return _+"";var I=O[0],F=O[1];return F<0?"0."+new Array(-F).join("0")+I:I.length>F+1?I.slice(0,F+1)+"."+I.slice(F+1):I+new Array(F-I.length+2).join("0")}const formatTypes={"%":(_,R)=>(_*100).toFixed(R),b:_=>Math.round(_).toString(2),c:_=>_+"",d:formatDecimal,e:(_,R)=>_.toExponential(R),f:(_,R)=>_.toFixed(R),g:(_,R)=>_.toPrecision(R),o:_=>Math.round(_).toString(8),p:(_,R)=>formatRounded(_*100,R),r:formatRounded,s:formatPrefixAuto,X:_=>Math.round(_).toString(16).toUpperCase(),x:_=>Math.round(_).toString(16)};function identity$5(_){return _}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(_){var R=_.grouping===void 0||_.thousands===void 0?identity$5:formatGroup(map$1.call(_.grouping,Number),_.thousands+""),O=_.currency===void 0?"":_.currency[0]+"",I=_.currency===void 0?"":_.currency[1]+"",F=_.decimal===void 0?".":_.decimal+"",z=_.numerals===void 0?identity$5:formatNumerals(map$1.call(_.numerals,String)),L=_.percent===void 0?"%":_.percent+"",U=_.minus===void 0?"":_.minus+"",q=_.nan===void 0?"NaN":_.nan+"";function G(Z){Z=formatSpecifier(Z);var Y=Z.fill,W=Z.align,ee=Z.sign,ne=Z.symbol,ie=Z.zero,se=Z.width,oe=Z.comma,le=Z.precision,ue=Z.trim,ce=Z.type;ce==="n"?(oe=!0,ce="g"):formatTypes[ce]||(le===void 0&&(le=12),ue=!0,ce="g"),(ie||Y==="0"&&W==="=")&&(ie=!0,Y="0",W="=");var fe=ne==="$"?O:ne==="#"&&/[boxX]/.test(ce)?"0"+ce.toLowerCase():"",me=ne==="$"?I:/[%p]/.test(ce)?L:"",he=formatTypes[ce],pe=/[defgprs%]/.test(ce);le=le===void 0?6:/[gprs]/.test(ce)?Math.max(1,Math.min(21,le)):Math.max(0,Math.min(20,le));function ge(_e){var ye=fe,we=me,ve,$e,be;if(ce==="c")we=he(_e)+we,_e="";else{_e=+_e;var Ce=_e<0||1/_e<0;if(_e=isNaN(_e)?q:he(Math.abs(_e),le),ue&&(_e=formatTrim(_e)),Ce&&+_e==0&&ee!=="+"&&(Ce=!1),ye=(Ce?ee==="("?ee:U:ee==="-"||ee==="("?"":ee)+ye,we=(ce==="s"?prefixes[8+prefixExponent/3]:"")+we+(Ce&&ee==="("?")":""),pe){for(ve=-1,$e=_e.length;++ve<$e;)if(be=_e.charCodeAt(ve),48>be||be>57){we=(be===46?F+_e.slice(ve+1):_e.slice(ve))+we,_e=_e.slice(0,ve);break}}}oe&&!ie&&(_e=R(_e,1/0));var De=ye.length+_e.length+we.length,Ne=De<se?new Array(se-De+1).join(Y):"";switch(oe&&ie&&(_e=R(Ne+_e,Ne.length?se-we.length:1/0),Ne=""),W){case"<":_e=ye+_e+we+Ne;break;case"=":_e=ye+Ne+_e+we;break;case"^":_e=Ne.slice(0,De=Ne.length>>1)+ye+_e+we+Ne.slice(De);break;default:_e=Ne+ye+_e+we;break}return z(_e)}return ge.toString=function(){return Z+""},ge}function V(Z,Y){var W=G((Z=formatSpecifier(Z),Z.type="f",Z)),ee=Math.max(-8,Math.min(8,Math.floor(exponent(Y)/3)))*3,ne=Math.pow(10,-ee),ie=prefixes[8+ee/3];return function(se){return W(ne*se)+ie}}return{format:G,formatPrefix:V}}var locale$1,format$1,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(_){return locale$1=formatLocale$1(_),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(_){return Math.max(0,-exponent(Math.abs(_)))}function precisionPrefix(_,R){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(R)/3)))*3-exponent(Math.abs(_)))}function precisionRound(_,R){return _=Math.abs(_),R=Math.abs(R)-_,Math.max(0,exponent(R)-exponent(_))+1}var epsilon$1=1e-6,epsilon2=1e-12,pi$2=Math.PI,halfPi=pi$2/2,quarterPi=pi$2/4,tau$2=pi$2*2,degrees=180/pi$2,radians$1=pi$2/180,abs=Math.abs,atan=Math.atan,atan2=Math.atan2,cos$1=Math.cos,exp=Math.exp,log$1=Math.log,pow$1=Math.pow,sin$1=Math.sin,sign$1=Math.sign||function(_){return _>0?1:_<0?-1:0},sqrt$1=Math.sqrt,tan=Math.tan;function acos(_){return _>1?0:_<-1?pi$2:Math.acos(_)}function asin(_){return _>1?halfPi:_<-1?-halfPi:Math.asin(_)}function noop$1(){}function streamGeometry(_,R){_&&streamGeometryType.hasOwnProperty(_.type)&&streamGeometryType[_.type](_,R)}var streamObjectType={Feature:function(_,R){streamGeometry(_.geometry,R)},FeatureCollection:function(_,R){for(var O=_.features,I=-1,F=O.length;++I<F;)streamGeometry(O[I].geometry,R)}},streamGeometryType={Sphere:function(_,R){R.sphere()},Point:function(_,R){_=_.coordinates,R.point(_[0],_[1],_[2])},MultiPoint:function(_,R){for(var O=_.coordinates,I=-1,F=O.length;++I<F;)_=O[I],R.point(_[0],_[1],_[2])},LineString:function(_,R){streamLine(_.coordinates,R,0)},MultiLineString:function(_,R){for(var O=_.coordinates,I=-1,F=O.length;++I<F;)streamLine(O[I],R,0)},Polygon:function(_,R){streamPolygon(_.coordinates,R)},MultiPolygon:function(_,R){for(var O=_.coordinates,I=-1,F=O.length;++I<F;)streamPolygon(O[I],R)},GeometryCollection:function(_,R){for(var O=_.geometries,I=-1,F=O.length;++I<F;)streamGeometry(O[I],R)}};function streamLine(_,R,O){var I=-1,F=_.length-O,z;for(R.lineStart();++I<F;)z=_[I],R.point(z[0],z[1],z[2]);R.lineEnd()}function streamPolygon(_,R){var O=-1,I=_.length;for(R.polygonStart();++O<I;)streamLine(_[O],R,1);R.polygonEnd()}function geoStream(_,R){_&&streamObjectType.hasOwnProperty(_.type)?streamObjectType[_.type](_,R):streamGeometry(_,R)}function spherical(_){return[atan2(_[1],_[0]),asin(_[2])]}function cartesian(_){var R=_[0],O=_[1],I=cos$1(O);return[I*cos$1(R),I*sin$1(R),sin$1(O)]}function cartesianDot(_,R){return _[0]*R[0]+_[1]*R[1]+_[2]*R[2]}function cartesianCross(_,R){return[_[1]*R[2]-_[2]*R[1],_[2]*R[0]-_[0]*R[2],_[0]*R[1]-_[1]*R[0]]}function cartesianAddInPlace(_,R){_[0]+=R[0],_[1]+=R[1],_[2]+=R[2]}function cartesianScale(_,R){return[_[0]*R,_[1]*R,_[2]*R]}function cartesianNormalizeInPlace(_){var R=sqrt$1(_[0]*_[0]+_[1]*_[1]+_[2]*_[2]);_[0]/=R,_[1]/=R,_[2]/=R}function compose(_,R){function O(I,F){return I=_(I,F),R(I[0],I[1])}return _.invert&&R.invert&&(O.invert=function(I,F){return I=R.invert(I,F),I&&_.invert(I[0],I[1])}),O}function rotationIdentity(_,R){return abs(_)>pi$2&&(_-=Math.round(_/tau$2)*tau$2),[_,R]}rotationIdentity.invert=rotationIdentity;function rotateRadians(_,R,O){return(_%=tau$2)?R||O?compose(rotationLambda(_),rotationPhiGamma(R,O)):rotationLambda(_):R||O?rotationPhiGamma(R,O):rotationIdentity}function forwardRotationLambda(_){return function(R,O){return R+=_,abs(R)>pi$2&&(R-=Math.round(R/tau$2)*tau$2),[R,O]}}function rotationLambda(_){var R=forwardRotationLambda(_);return R.invert=forwardRotationLambda(-_),R}function rotationPhiGamma(_,R){var O=cos$1(_),I=sin$1(_),F=cos$1(R),z=sin$1(R);function L(U,q){var G=cos$1(q),V=cos$1(U)*G,Z=sin$1(U)*G,Y=sin$1(q),W=Y*O+V*I;return[atan2(Z*F-W*z,V*O-Y*I),asin(W*F+Z*z)]}return L.invert=function(U,q){var G=cos$1(q),V=cos$1(U)*G,Z=sin$1(U)*G,Y=sin$1(q),W=Y*F-Z*z;return[atan2(Z*F+Y*z,V*O+W*I),asin(W*O-V*I)]},L}function rotation(_){_=rotateRadians(_[0]*radians$1,_[1]*radians$1,_.length>2?_[2]*radians$1:0);function R(O){return O=_(O[0]*radians$1,O[1]*radians$1),O[0]*=degrees,O[1]*=degrees,O}return R.invert=function(O){return O=_.invert(O[0]*radians$1,O[1]*radians$1),O[0]*=degrees,O[1]*=degrees,O},R}function circleStream(_,R,O,I,F,z){if(O){var L=cos$1(R),U=sin$1(R),q=I*O;F==null?(F=R+I*tau$2,z=R-q/2):(F=circleRadius(L,F),z=circleRadius(L,z),(I>0?F<z:F>z)&&(F+=I*tau$2));for(var G,V=F;I>0?V>z:V<z;V-=q)G=spherical([L,-U*cos$1(V),-U*sin$1(V)]),_.point(G[0],G[1])}}function circleRadius(_,R){R=cartesian(R),R[0]-=_,cartesianNormalizeInPlace(R);var O=acos(-R[1]);return((-R[2]<0?-O:O)+tau$2-epsilon$1)%tau$2}function clipBuffer(){var _=[],R;return{point:function(O,I,F){R.push([O,I,F])},lineStart:function(){_.push(R=[])},lineEnd:noop$1,rejoin:function(){_.length>1&&_.push(_.pop().concat(_.shift()))},result:function(){var O=_;return _=[],R=null,O}}}function pointEqual(_,R){return abs(_[0]-R[0])<epsilon$1&&abs(_[1]-R[1])<epsilon$1}function Intersection(_,R,O,I){this.x=_,this.z=R,this.o=O,this.e=I,this.v=!1,this.n=this.p=null}function clipRejoin(_,R,O,I,F){var z=[],L=[],U,q;if(_.forEach(function(ee){if(!((ne=ee.length-1)<=0)){var ne,ie=ee[0],se=ee[ne],oe;if(pointEqual(ie,se)){if(!ie[2]&&!se[2]){for(F.lineStart(),U=0;U<ne;++U)F.point((ie=ee[U])[0],ie[1]);F.lineEnd();return}se[0]+=2*epsilon$1}z.push(oe=new Intersection(ie,ee,null,!0)),L.push(oe.o=new Intersection(ie,null,oe,!1)),z.push(oe=new Intersection(se,ee,null,!1)),L.push(oe.o=new Intersection(se,null,oe,!0))}}),!!z.length){for(L.sort(R),link$1(z),link$1(L),U=0,q=L.length;U<q;++U)L[U].e=O=!O;for(var G=z[0],V,Z;;){for(var Y=G,W=!0;Y.v;)if((Y=Y.n)===G)return;V=Y.z,F.lineStart();do{if(Y.v=Y.o.v=!0,Y.e){if(W)for(U=0,q=V.length;U<q;++U)F.point((Z=V[U])[0],Z[1]);else I(Y.x,Y.n.x,1,F);Y=Y.n}else{if(W)for(V=Y.p.z,U=V.length-1;U>=0;--U)F.point((Z=V[U])[0],Z[1]);else I(Y.x,Y.p.x,-1,F);Y=Y.p}Y=Y.o,V=Y.z,W=!W}while(!Y.v);F.lineEnd()}}}function link$1(_){if(R=_.length){for(var R,O=0,I=_[0],F;++O<R;)I.n=F=_[O],F.p=I,I=F;I.n=F=_[0],F.p=I}}function longitude(_){return abs(_[0])<=pi$2?_[0]:sign$1(_[0])*((abs(_[0])+pi$2)%tau$2-pi$2)}function polygonContains(_,R){var O=longitude(R),I=R[1],F=sin$1(I),z=[sin$1(O),-cos$1(O),0],L=0,U=0,q=new Adder;F===1?I=halfPi+epsilon$1:F===-1&&(I=-halfPi-epsilon$1);for(var G=0,V=_.length;G<V;++G)if(Y=(Z=_[G]).length)for(var Z,Y,W=Z[Y-1],ee=longitude(W),ne=W[1]/2+quarterPi,ie=sin$1(ne),se=cos$1(ne),oe=0;oe<Y;++oe,ee=ue,ie=fe,se=me,W=le){var le=Z[oe],ue=longitude(le),ce=le[1]/2+quarterPi,fe=sin$1(ce),me=cos$1(ce),he=ue-ee,pe=he>=0?1:-1,ge=pe*he,_e=ge>pi$2,ye=ie*fe;if(q.add(atan2(ye*pe*sin$1(ge),se*me+ye*cos$1(ge))),L+=_e?he+pe*tau$2:he,_e^ee>=O^ue>=O){var we=cartesianCross(cartesian(W),cartesian(le));cartesianNormalizeInPlace(we);var ve=cartesianCross(z,we);cartesianNormalizeInPlace(ve);var $e=(_e^he>=0?-1:1)*asin(ve[2]);(I>$e||I===$e&&(we[0]||we[1]))&&(U+=_e^he>=0?1:-1)}}return(L<-epsilon$1||L<epsilon$1&&q<-epsilon2)^U&1}function clip(_,R,O,I){return function(F){var z=R(F),L=clipBuffer(),U=R(L),q=!1,G,V,Z,Y={point:W,lineStart:ne,lineEnd:ie,polygonStart:function(){Y.point=se,Y.lineStart=oe,Y.lineEnd=le,V=[],G=[]},polygonEnd:function(){Y.point=W,Y.lineStart=ne,Y.lineEnd=ie,V=merge(V);var ue=polygonContains(G,I);V.length?(q||(F.polygonStart(),q=!0),clipRejoin(V,compareIntersection,ue,O,F)):ue&&(q||(F.polygonStart(),q=!0),F.lineStart(),O(null,null,1,F),F.lineEnd()),q&&(F.polygonEnd(),q=!1),V=G=null},sphere:function(){F.polygonStart(),F.lineStart(),O(null,null,1,F),F.lineEnd(),F.polygonEnd()}};function W(ue,ce){_(ue,ce)&&F.point(ue,ce)}function ee(ue,ce){z.point(ue,ce)}function ne(){Y.point=ee,z.lineStart()}function ie(){Y.point=W,z.lineEnd()}function se(ue,ce){Z.push([ue,ce]),U.point(ue,ce)}function oe(){U.lineStart(),Z=[]}function le(){se(Z[0][0],Z[0][1]),U.lineEnd();var ue=U.clean(),ce=L.result(),fe,me=ce.length,he,pe,ge;if(Z.pop(),G.push(Z),Z=null,!!me){if(ue&1){if(pe=ce[0],(he=pe.length-1)>0){for(q||(F.polygonStart(),q=!0),F.lineStart(),fe=0;fe<he;++fe)F.point((ge=pe[fe])[0],ge[1]);F.lineEnd()}return}me>1&&ue&2&&ce.push(ce.pop().concat(ce.shift())),V.push(ce.filter(validSegment))}}return Y}}function validSegment(_){return _.length>1}function compareIntersection(_,R){return((_=_.x)[0]<0?_[1]-halfPi-epsilon$1:halfPi-_[1])-((R=R.x)[0]<0?R[1]-halfPi-epsilon$1:halfPi-R[1])}const clipAntimeridian=clip(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-pi$2,-halfPi]);function clipAntimeridianLine(_){var R=NaN,O=NaN,I=NaN,F;return{lineStart:function(){_.lineStart(),F=1},point:function(z,L){var U=z>0?pi$2:-pi$2,q=abs(z-R);abs(q-pi$2)<epsilon$1?(_.point(R,O=(O+L)/2>0?halfPi:-halfPi),_.point(I,O),_.lineEnd(),_.lineStart(),_.point(U,O),_.point(z,O),F=0):I!==U&&q>=pi$2&&(abs(R-I)<epsilon$1&&(R-=I*epsilon$1),abs(z-U)<epsilon$1&&(z-=U*epsilon$1),O=clipAntimeridianIntersect(R,O,z,L),_.point(I,O),_.lineEnd(),_.lineStart(),_.point(U,O),F=0),_.point(R=z,O=L),I=U},lineEnd:function(){_.lineEnd(),R=O=NaN},clean:function(){return 2-F}}}function clipAntimeridianIntersect(_,R,O,I){var F,z,L=sin$1(_-O);return abs(L)>epsilon$1?atan((sin$1(R)*(z=cos$1(I))*sin$1(O)-sin$1(I)*(F=cos$1(R))*sin$1(_))/(F*z*L)):(R+I)/2}function clipAntimeridianInterpolate(_,R,O,I){var F;if(_==null)F=O*halfPi,I.point(-pi$2,F),I.point(0,F),I.point(pi$2,F),I.point(pi$2,0),I.point(pi$2,-F),I.point(0,-F),I.point(-pi$2,-F),I.point(-pi$2,0),I.point(-pi$2,F);else if(abs(_[0]-R[0])>epsilon$1){var z=_[0]<R[0]?pi$2:-pi$2;F=O*z/2,I.point(-z,F),I.point(0,F),I.point(z,F)}else I.point(R[0],R[1])}function clipCircle(_){var R=cos$1(_),O=2*radians$1,I=R>0,F=abs(R)>epsilon$1;function z(V,Z,Y,W){circleStream(W,_,O,Y,V,Z)}function L(V,Z){return cos$1(V)*cos$1(Z)>R}function U(V){var Z,Y,W,ee,ne;return{lineStart:function(){ee=W=!1,ne=1},point:function(ie,se){var oe=[ie,se],le,ue=L(ie,se),ce=I?ue?0:G(ie,se):ue?G(ie+(ie<0?pi$2:-pi$2),se):0;if(!Z&&(ee=W=ue)&&V.lineStart(),ue!==W&&(le=q(Z,oe),(!le||pointEqual(Z,le)||pointEqual(oe,le))&&(oe[2]=1)),ue!==W)ne=0,ue?(V.lineStart(),le=q(oe,Z),V.point(le[0],le[1])):(le=q(Z,oe),V.point(le[0],le[1],2),V.lineEnd()),Z=le;else if(F&&Z&&I^ue){var fe;!(ce&Y)&&(fe=q(oe,Z,!0))&&(ne=0,I?(V.lineStart(),V.point(fe[0][0],fe[0][1]),V.point(fe[1][0],fe[1][1]),V.lineEnd()):(V.point(fe[1][0],fe[1][1]),V.lineEnd(),V.lineStart(),V.point(fe[0][0],fe[0][1],3)))}ue&&(!Z||!pointEqual(Z,oe))&&V.point(oe[0],oe[1]),Z=oe,W=ue,Y=ce},lineEnd:function(){W&&V.lineEnd(),Z=null},clean:function(){return ne|(ee&&W)<<1}}}function q(V,Z,Y){var W=cartesian(V),ee=cartesian(Z),ne=[1,0,0],ie=cartesianCross(W,ee),se=cartesianDot(ie,ie),oe=ie[0],le=se-oe*oe;if(!le)return!Y&&V;var ue=R*se/le,ce=-R*oe/le,fe=cartesianCross(ne,ie),me=cartesianScale(ne,ue),he=cartesianScale(ie,ce);cartesianAddInPlace(me,he);var pe=fe,ge=cartesianDot(me,pe),_e=cartesianDot(pe,pe),ye=ge*ge-_e*(cartesianDot(me,me)-1);if(!(ye<0)){var we=sqrt$1(ye),ve=cartesianScale(pe,(-ge-we)/_e);if(cartesianAddInPlace(ve,me),ve=spherical(ve),!Y)return ve;var $e=V[0],be=Z[0],Ce=V[1],De=Z[1],Ne;be<$e&&(Ne=$e,$e=be,be=Ne);var Me=be-$e,Te=abs(Me-pi$2)<epsilon$1,Re=Te||Me<epsilon$1;if(!Te&&De<Ce&&(Ne=Ce,Ce=De,De=Ne),Re?Te?Ce+De>0^ve[1]<(abs(ve[0]-$e)<epsilon$1?Ce:De):Ce<=ve[1]&&ve[1]<=De:Me>pi$2^($e<=ve[0]&&ve[0]<=be)){var Se=cartesianScale(pe,(-ge+we)/_e);return cartesianAddInPlace(Se,me),[ve,spherical(Se)]}}}function G(V,Z){var Y=I?_:pi$2-_,W=0;return V<-Y?W|=1:V>Y&&(W|=2),Z<-Y?W|=4:Z>Y&&(W|=8),W}return clip(L,U,z,I?[0,-_]:[-pi$2,_-pi$2])}function clipLine(_,R,O,I,F,z){var L=_[0],U=_[1],q=R[0],G=R[1],V=0,Z=1,Y=q-L,W=G-U,ee;if(ee=O-L,!(!Y&&ee>0)){if(ee/=Y,Y<0){if(ee<V)return;ee<Z&&(Z=ee)}else if(Y>0){if(ee>Z)return;ee>V&&(V=ee)}if(ee=F-L,!(!Y&&ee<0)){if(ee/=Y,Y<0){if(ee>Z)return;ee>V&&(V=ee)}else if(Y>0){if(ee<V)return;ee<Z&&(Z=ee)}if(ee=I-U,!(!W&&ee>0)){if(ee/=W,W<0){if(ee<V)return;ee<Z&&(Z=ee)}else if(W>0){if(ee>Z)return;ee>V&&(V=ee)}if(ee=z-U,!(!W&&ee<0)){if(ee/=W,W<0){if(ee>Z)return;ee>V&&(V=ee)}else if(W>0){if(ee<V)return;ee<Z&&(Z=ee)}return V>0&&(_[0]=L+V*Y,_[1]=U+V*W),Z<1&&(R[0]=L+Z*Y,R[1]=U+Z*W),!0}}}}}var clipMax=1e9,clipMin=-clipMax;function clipRectangle(_,R,O,I){function F(G,V){return _<=G&&G<=O&&R<=V&&V<=I}function z(G,V,Z,Y){var W=0,ee=0;if(G==null||(W=L(G,Z))!==(ee=L(V,Z))||q(G,V)<0^Z>0)do Y.point(W===0||W===3?_:O,W>1?I:R);while((W=(W+Z+4)%4)!==ee);else Y.point(V[0],V[1])}function L(G,V){return abs(G[0]-_)<epsilon$1?V>0?0:3:abs(G[0]-O)<epsilon$1?V>0?2:1:abs(G[1]-R)<epsilon$1?V>0?1:0:V>0?3:2}function U(G,V){return q(G.x,V.x)}function q(G,V){var Z=L(G,1),Y=L(V,1);return Z!==Y?Z-Y:Z===0?V[1]-G[1]:Z===1?G[0]-V[0]:Z===2?G[1]-V[1]:V[0]-G[0]}return function(G){var V=G,Z=clipBuffer(),Y,W,ee,ne,ie,se,oe,le,ue,ce,fe,me={point:he,lineStart:ye,lineEnd:we,polygonStart:ge,polygonEnd:_e};function he($e,be){F($e,be)&&V.point($e,be)}function pe(){for(var $e=0,be=0,Ce=W.length;be<Ce;++be)for(var De=W[be],Ne=1,Me=De.length,Te=De[0],Re,Se,ze=Te[0],Pe=Te[1];Ne<Me;++Ne)Re=ze,Se=Pe,Te=De[Ne],ze=Te[0],Pe=Te[1],Se<=I?Pe>I&&(ze-Re)*(I-Se)>(Pe-Se)*(_-Re)&&++$e:Pe<=I&&(ze-Re)*(I-Se)<(Pe-Se)*(_-Re)&&--$e;return $e}function ge(){V=Z,Y=[],W=[],fe=!0}function _e(){var $e=pe(),be=fe&&$e,Ce=(Y=merge(Y)).length;(be||Ce)&&(G.polygonStart(),be&&(G.lineStart(),z(null,null,1,G),G.lineEnd()),Ce&&clipRejoin(Y,U,$e,z,G),G.polygonEnd()),V=G,Y=W=ee=null}function ye(){me.point=ve,W&&W.push(ee=[]),ce=!0,ue=!1,oe=le=NaN}function we(){Y&&(ve(ne,ie),se&&ue&&Z.rejoin(),Y.push(Z.result())),me.point=he,ue&&V.lineEnd()}function ve($e,be){var Ce=F($e,be);if(W&&ee.push([$e,be]),ce)ne=$e,ie=be,se=Ce,ce=!1,Ce&&(V.lineStart(),V.point($e,be));else if(Ce&&ue)V.point($e,be);else{var De=[oe=Math.max(clipMin,Math.min(clipMax,oe)),le=Math.max(clipMin,Math.min(clipMax,le))],Ne=[$e=Math.max(clipMin,Math.min(clipMax,$e)),be=Math.max(clipMin,Math.min(clipMax,be))];clipLine(De,Ne,_,R,O,I)?(ue||(V.lineStart(),V.point(De[0],De[1])),V.point(Ne[0],Ne[1]),Ce||V.lineEnd(),fe=!1):Ce&&(V.lineStart(),V.point($e,be),fe=!1)}oe=$e,le=be,ue=Ce}return me}}const identity$4=_=>_;var areaSum=new Adder,areaRingSum=new Adder,x00$2,y00$2,x0$3,y0$3,areaStream={point:noop$1,lineStart:noop$1,lineEnd:noop$1,polygonStart:function(){areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){areaStream.lineStart=areaStream.lineEnd=areaStream.point=noop$1,areaSum.add(abs(areaRingSum)),areaRingSum=new Adder},result:function(){var _=areaSum/2;return areaSum=new Adder,_}};function areaRingStart(){areaStream.point=areaPointFirst}function areaPointFirst(_,R){areaStream.point=areaPoint,x00$2=x0$3=_,y00$2=y0$3=R}function areaPoint(_,R){areaRingSum.add(y0$3*_-x0$3*R),x0$3=_,y0$3=R}function areaRingEnd(){areaPoint(x00$2,y00$2)}var x0$2=1/0,y0$2=x0$2,x1=-x0$2,y1=x1,boundsStream={point:boundsPoint,lineStart:noop$1,lineEnd:noop$1,polygonStart:noop$1,polygonEnd:noop$1,result:function(){var _=[[x0$2,y0$2],[x1,y1]];return x1=y1=-(y0$2=x0$2=1/0),_}};function boundsPoint(_,R){_<x0$2&&(x0$2=_),_>x1&&(x1=_),R<y0$2&&(y0$2=R),R>y1&&(y1=R)}var X0=0,Y0=0,Z0=0,X1=0,Y1=0,Z1=0,X2=0,Y2=0,Z2=0,x00$1,y00$1,x0$1,y0$1,centroidStream={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.point=centroidPoint,centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd},result:function(){var _=Z2?[X2/Z2,Y2/Z2]:Z1?[X1/Z1,Y1/Z1]:Z0?[X0/Z0,Y0/Z0]:[NaN,NaN];return X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,_}};function centroidPoint(_,R){X0+=_,Y0+=R,++Z0}function centroidLineStart(){centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(_,R){centroidStream.point=centroidPointLine,centroidPoint(x0$1=_,y0$1=R)}function centroidPointLine(_,R){var O=_-x0$1,I=R-y0$1,F=sqrt$1(O*O+I*I);X1+=F*(x0$1+_)/2,Y1+=F*(y0$1+R)/2,Z1+=F,centroidPoint(x0$1=_,y0$1=R)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(_,R){centroidStream.point=centroidPointRing,centroidPoint(x00$1=x0$1=_,y00$1=y0$1=R)}function centroidPointRing(_,R){var O=_-x0$1,I=R-y0$1,F=sqrt$1(O*O+I*I);X1+=F*(x0$1+_)/2,Y1+=F*(y0$1+R)/2,Z1+=F,F=y0$1*_-x0$1*R,X2+=F*(x0$1+_),Y2+=F*(y0$1+R),Z2+=F*3,centroidPoint(x0$1=_,y0$1=R)}function PathContext(_){this._context=_}PathContext.prototype={_radius:4.5,pointRadius:function(_){return this._radius=_,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(_,R){switch(this._point){case 0:{this._context.moveTo(_,R),this._point=1;break}case 1:{this._context.lineTo(_,R);break}default:{this._context.moveTo(_+this._radius,R),this._context.arc(_,R,this._radius,0,tau$2);break}}},result:noop$1};var lengthSum=new Adder,lengthRing,x00,y00,x0,y0,lengthStream={point:noop$1,lineStart:function(){lengthStream.point=lengthPointFirst},lineEnd:function(){lengthRing&&lengthPoint(x00,y00),lengthStream.point=noop$1},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var _=+lengthSum;return lengthSum=new Adder,_}};function lengthPointFirst(_,R){lengthStream.point=lengthPoint,x00=x0=_,y00=y0=R}function lengthPoint(_,R){x0-=_,y0-=R,lengthSum.add(sqrt$1(x0*x0+y0*y0)),x0=_,y0=R}let cacheDigits,cacheAppend,cacheRadius,cacheCircle;class PathString{constructor(R){this._append=R==null?append:appendRound(R),this._radius=4.5,this._=""}pointRadius(R){return this._radius=+R,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(R,O){switch(this._point){case 0:{this._append`M${R},${O}`,this._point=1;break}case 1:{this._append`L${R},${O}`;break}default:{if(this._append`M${R},${O}`,this._radius!==cacheRadius||this._append!==cacheAppend){const I=this._radius,F=this._;this._="",this._append`m0,${I}a${I},${I} 0 1,1 0,${-2*I}a${I},${I} 0 1,1 0,${2*I}z`,cacheRadius=I,cacheAppend=this._append,cacheCircle=this._,this._=F}this._+=cacheCircle;break}}}result(){const R=this._;return this._="",R.length?R:null}}function append(_){let R=1;this._+=_[0];for(const O=_.length;R<O;++R)this._+=arguments[R]+_[R]}function appendRound(_){const R=Math.floor(_);if(!(R>=0))throw new RangeError(`invalid digits: ${_}`);if(R>15)return append;if(R!==cacheDigits){const O=10**R;cacheDigits=R,cacheAppend=function(F){let z=1;this._+=F[0];for(const L=F.length;z<L;++z)this._+=Math.round(arguments[z]*O)/O+F[z]}}return cacheAppend}function geoPath(_,R){let O=3,I=4.5,F,z;function L(U){return U&&(typeof I=="function"&&z.pointRadius(+I.apply(this,arguments)),geoStream(U,F(z))),z.result()}return L.area=function(U){return geoStream(U,F(areaStream)),areaStream.result()},L.measure=function(U){return geoStream(U,F(lengthStream)),lengthStream.result()},L.bounds=function(U){return geoStream(U,F(boundsStream)),boundsStream.result()},L.centroid=function(U){return geoStream(U,F(centroidStream)),centroidStream.result()},L.projection=function(U){return arguments.length?(F=U==null?(_=null,identity$4):(_=U).stream,L):_},L.context=function(U){return arguments.length?(z=U==null?(R=null,new PathString(O)):new PathContext(R=U),typeof I!="function"&&z.pointRadius(I),L):R},L.pointRadius=function(U){return arguments.length?(I=typeof U=="function"?U:(z.pointRadius(+U),+U),L):I},L.digits=function(U){if(!arguments.length)return O;if(U==null)O=null;else{const q=Math.floor(U);if(!(q>=0))throw new RangeError(`invalid digits: ${U}`);O=q}return R===null&&(z=new PathString(O)),L},L.projection(_).digits(O).context(R)}function geoTransform(_){return{stream:transformer$2(_)}}function transformer$2(_){return function(R){var O=new TransformStream;for(var I in _)O[I]=_[I];return O.stream=R,O}}function TransformStream(){}TransformStream.prototype={constructor:TransformStream,point:function(_,R){this.stream.point(_,R)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function fit(_,R,O){var I=_.clipExtent&&_.clipExtent();return _.scale(150).translate([0,0]),I!=null&&_.clipExtent(null),geoStream(O,_.stream(boundsStream)),R(boundsStream.result()),I!=null&&_.clipExtent(I),_}function fitExtent(_,R,O){return fit(_,function(I){var F=R[1][0]-R[0][0],z=R[1][1]-R[0][1],L=Math.min(F/(I[1][0]-I[0][0]),z/(I[1][1]-I[0][1])),U=+R[0][0]+(F-L*(I[1][0]+I[0][0]))/2,q=+R[0][1]+(z-L*(I[1][1]+I[0][1]))/2;_.scale(150*L).translate([U,q])},O)}function fitSize(_,R,O){return fitExtent(_,[[0,0],R],O)}function fitWidth(_,R,O){return fit(_,function(I){var F=+R,z=F/(I[1][0]-I[0][0]),L=(F-z*(I[1][0]+I[0][0]))/2,U=-z*I[0][1];_.scale(150*z).translate([L,U])},O)}function fitHeight(_,R,O){return fit(_,function(I){var F=+R,z=F/(I[1][1]-I[0][1]),L=-z*I[0][0],U=(F-z*(I[1][1]+I[0][1]))/2;_.scale(150*z).translate([L,U])},O)}var maxDepth=16,cosMinDistance=cos$1(30*radians$1);function resample(_,R){return+R?resample$1(_,R):resampleNone(_)}function resampleNone(_){return transformer$2({point:function(R,O){R=_(R,O),this.stream.point(R[0],R[1])}})}function resample$1(_,R){function O(I,F,z,L,U,q,G,V,Z,Y,W,ee,ne,ie){var se=G-I,oe=V-F,le=se*se+oe*oe;if(le>4*R&&ne--){var ue=L+Y,ce=U+W,fe=q+ee,me=sqrt$1(ue*ue+ce*ce+fe*fe),he=asin(fe/=me),pe=abs(abs(fe)-1)<epsilon$1||abs(z-Z)<epsilon$1?(z+Z)/2:atan2(ce,ue),ge=_(pe,he),_e=ge[0],ye=ge[1],we=_e-I,ve=ye-F,$e=oe*we-se*ve;($e*$e/le>R||abs((se*we+oe*ve)/le-.5)>.3||L*Y+U*W+q*ee<cosMinDistance)&&(O(I,F,z,L,U,q,_e,ye,pe,ue/=me,ce/=me,fe,ne,ie),ie.point(_e,ye),O(_e,ye,pe,ue,ce,fe,G,V,Z,Y,W,ee,ne,ie))}}return function(I){var F,z,L,U,q,G,V,Z,Y,W,ee,ne,ie={point:se,lineStart:oe,lineEnd:ue,polygonStart:function(){I.polygonStart(),ie.lineStart=ce},polygonEnd:function(){I.polygonEnd(),ie.lineStart=oe}};function se(he,pe){he=_(he,pe),I.point(he[0],he[1])}function oe(){Z=NaN,ie.point=le,I.lineStart()}function le(he,pe){var ge=cartesian([he,pe]),_e=_(he,pe);O(Z,Y,V,W,ee,ne,Z=_e[0],Y=_e[1],V=he,W=ge[0],ee=ge[1],ne=ge[2],maxDepth,I),I.point(Z,Y)}function ue(){ie.point=se,I.lineEnd()}function ce(){oe(),ie.point=fe,ie.lineEnd=me}function fe(he,pe){le(F=he,pe),z=Z,L=Y,U=W,q=ee,G=ne,ie.point=le}function me(){O(Z,Y,V,W,ee,ne,z,L,F,U,q,G,maxDepth,I),ie.lineEnd=ue,ue()}return ie}}var transformRadians=transformer$2({point:function(_,R){this.stream.point(_*radians$1,R*radians$1)}});function transformRotate(_){return transformer$2({point:function(R,O){var I=_(R,O);return this.stream.point(I[0],I[1])}})}function scaleTranslate(_,R,O,I,F){function z(L,U){return L*=I,U*=F,[R+_*L,O-_*U]}return z.invert=function(L,U){return[(L-R)/_*I,(O-U)/_*F]},z}function scaleTranslateRotate(_,R,O,I,F,z){if(!z)return scaleTranslate(_,R,O,I,F);var L=cos$1(z),U=sin$1(z),q=L*_,G=U*_,V=L/_,Z=U/_,Y=(U*O-L*R)/_,W=(U*R+L*O)/_;function ee(ne,ie){return ne*=I,ie*=F,[q*ne-G*ie+R,O-G*ne-q*ie]}return ee.invert=function(ne,ie){return[I*(V*ne-Z*ie+Y),F*(W-Z*ne-V*ie)]},ee}function projection$1(_){return projectionMutator(function(){return _})()}function projectionMutator(_){var R,O=150,I=480,F=250,z=0,L=0,U=0,q=0,G=0,V,Z=0,Y=1,W=1,ee=null,ne=clipAntimeridian,ie=null,se,oe,le,ue=identity$4,ce=.5,fe,me,he,pe,ge;function _e($e){return he($e[0]*radians$1,$e[1]*radians$1)}function ye($e){return $e=he.invert($e[0],$e[1]),$e&&[$e[0]*degrees,$e[1]*degrees]}_e.stream=function($e){return pe&&ge===$e?pe:pe=transformRadians(transformRotate(V)(ne(fe(ue(ge=$e)))))},_e.preclip=function($e){return arguments.length?(ne=$e,ee=void 0,ve()):ne},_e.postclip=function($e){return arguments.length?(ue=$e,ie=se=oe=le=null,ve()):ue},_e.clipAngle=function($e){return arguments.length?(ne=+$e?clipCircle(ee=$e*radians$1):(ee=null,clipAntimeridian),ve()):ee*degrees},_e.clipExtent=function($e){return arguments.length?(ue=$e==null?(ie=se=oe=le=null,identity$4):clipRectangle(ie=+$e[0][0],se=+$e[0][1],oe=+$e[1][0],le=+$e[1][1]),ve()):ie==null?null:[[ie,se],[oe,le]]},_e.scale=function($e){return arguments.length?(O=+$e,we()):O},_e.translate=function($e){return arguments.length?(I=+$e[0],F=+$e[1],we()):[I,F]},_e.center=function($e){return arguments.length?(z=$e[0]%360*radians$1,L=$e[1]%360*radians$1,we()):[z*degrees,L*degrees]},_e.rotate=function($e){return arguments.length?(U=$e[0]%360*radians$1,q=$e[1]%360*radians$1,G=$e.length>2?$e[2]%360*radians$1:0,we()):[U*degrees,q*degrees,G*degrees]},_e.angle=function($e){return arguments.length?(Z=$e%360*radians$1,we()):Z*degrees},_e.reflectX=function($e){return arguments.length?(Y=$e?-1:1,we()):Y<0},_e.reflectY=function($e){return arguments.length?(W=$e?-1:1,we()):W<0},_e.precision=function($e){return arguments.length?(fe=resample(me,ce=$e*$e),ve()):sqrt$1(ce)},_e.fitExtent=function($e,be){return fitExtent(_e,$e,be)},_e.fitSize=function($e,be){return fitSize(_e,$e,be)},_e.fitWidth=function($e,be){return fitWidth(_e,$e,be)},_e.fitHeight=function($e,be){return fitHeight(_e,$e,be)};function we(){var $e=scaleTranslateRotate(O,0,0,Y,W,Z).apply(null,R(z,L)),be=scaleTranslateRotate(O,I-$e[0],F-$e[1],Y,W,Z);return V=rotateRadians(U,q,G),me=compose(R,be),he=compose(V,me),fe=resample(me,ce),ve()}function ve(){return pe=ge=null,_e}return function(){return R=_.apply(this,arguments),_e.invert=R.invert&&ye,we()}}function conicProjection$1(_){var R=0,O=pi$2/3,I=projectionMutator(_),F=I(R,O);return F.parallels=function(z){return arguments.length?I(R=z[0]*radians$1,O=z[1]*radians$1):[R*degrees,O*degrees]},F}function cylindricalEqualAreaRaw(_){var R=cos$1(_);function O(I,F){return[I*R,sin$1(F)/R]}return O.invert=function(I,F){return[I/R,asin(F*R)]},O}function conicEqualAreaRaw(_,R){var O=sin$1(_),I=(O+sin$1(R))/2;if(abs(I)<epsilon$1)return cylindricalEqualAreaRaw(_);var F=1+O*(2*I-O),z=sqrt$1(F)/I;function L(U,q){var G=sqrt$1(F-2*I*sin$1(q))/I;return[G*sin$1(U*=I),z-G*cos$1(U)]}return L.invert=function(U,q){var G=z-q,V=atan2(U,abs(G))*sign$1(G);return G*I<0&&(V-=pi$2*sign$1(U)*sign$1(G)),[V/I,asin((F-(U*U+G*G)*I*I)/(2*I))]},L}function geoConicEqualArea(){return conicProjection$1(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function geoAlbers(){return geoConicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function multiplex(_){var R=_.length;return{point:function(O,I){for(var F=-1;++F<R;)_[F].point(O,I)},sphere:function(){for(var O=-1;++O<R;)_[O].sphere()},lineStart:function(){for(var O=-1;++O<R;)_[O].lineStart()},lineEnd:function(){for(var O=-1;++O<R;)_[O].lineEnd()},polygonStart:function(){for(var O=-1;++O<R;)_[O].polygonStart()},polygonEnd:function(){for(var O=-1;++O<R;)_[O].polygonEnd()}}}function geoAlbersUsa(){var _,R,O=geoAlbers(),I,F=geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),z,L=geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),U,q,G={point:function(Y,W){q=[Y,W]}};function V(Y){var W=Y[0],ee=Y[1];return q=null,I.point(W,ee),q||(z.point(W,ee),q)||(U.point(W,ee),q)}V.invert=function(Y){var W=O.scale(),ee=O.translate(),ne=(Y[0]-ee[0])/W,ie=(Y[1]-ee[1])/W;return(ie>=.12&&ie<.234&&ne>=-.425&&ne<-.214?F:ie>=.166&&ie<.234&&ne>=-.214&&ne<-.115?L:O).invert(Y)},V.stream=function(Y){return _&&R===Y?_:_=multiplex([O.stream(R=Y),F.stream(Y),L.stream(Y)])},V.precision=function(Y){return arguments.length?(O.precision(Y),F.precision(Y),L.precision(Y),Z()):O.precision()},V.scale=function(Y){return arguments.length?(O.scale(Y),F.scale(Y*.35),L.scale(Y),V.translate(O.translate())):O.scale()},V.translate=function(Y){if(!arguments.length)return O.translate();var W=O.scale(),ee=+Y[0],ne=+Y[1];return I=O.translate(Y).clipExtent([[ee-.455*W,ne-.238*W],[ee+.455*W,ne+.238*W]]).stream(G),z=F.translate([ee-.307*W,ne+.201*W]).clipExtent([[ee-.425*W+epsilon$1,ne+.12*W+epsilon$1],[ee-.214*W-epsilon$1,ne+.234*W-epsilon$1]]).stream(G),U=L.translate([ee-.205*W,ne+.212*W]).clipExtent([[ee-.214*W+epsilon$1,ne+.166*W+epsilon$1],[ee-.115*W-epsilon$1,ne+.234*W-epsilon$1]]).stream(G),Z()},V.fitExtent=function(Y,W){return fitExtent(V,Y,W)},V.fitSize=function(Y,W){return fitSize(V,Y,W)},V.fitWidth=function(Y,W){return fitWidth(V,Y,W)},V.fitHeight=function(Y,W){return fitHeight(V,Y,W)};function Z(){return _=R=null,V}return V.scale(1070)}function azimuthalRaw(_){return function(R,O){var I=cos$1(R),F=cos$1(O),z=_(I*F);return z===1/0?[2,0]:[z*F*sin$1(R),z*sin$1(O)]}}function azimuthalInvert(_){return function(R,O){var I=sqrt$1(R*R+O*O),F=_(I),z=sin$1(F),L=cos$1(F);return[atan2(R*z,I*L),asin(I&&O*z/I)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(_){return sqrt$1(2/(1+_))});azimuthalEqualAreaRaw.invert=azimuthalInvert(function(_){return 2*asin(_/2)});function geoAzimuthalEqualArea(){return projection$1(azimuthalEqualAreaRaw).scale(124.75).clipAngle(180-.001)}var azimuthalEquidistantRaw=azimuthalRaw(function(_){return(_=acos(_))&&_/sin$1(_)});azimuthalEquidistantRaw.invert=azimuthalInvert(function(_){return _});function geoAzimuthalEquidistant(){return projection$1(azimuthalEquidistantRaw).scale(79.4188).clipAngle(180-.001)}function mercatorRaw(_,R){return[_,log$1(tan((halfPi+R)/2))]}mercatorRaw.invert=function(_,R){return[_,2*atan(exp(R))-halfPi]};function geoMercator(){return mercatorProjection(mercatorRaw).scale(961/tau$2)}function mercatorProjection(_){var R=projection$1(_),O=R.center,I=R.scale,F=R.translate,z=R.clipExtent,L=null,U,q,G;R.scale=function(Z){return arguments.length?(I(Z),V()):I()},R.translate=function(Z){return arguments.length?(F(Z),V()):F()},R.center=function(Z){return arguments.length?(O(Z),V()):O()},R.clipExtent=function(Z){return arguments.length?(Z==null?L=U=q=G=null:(L=+Z[0][0],U=+Z[0][1],q=+Z[1][0],G=+Z[1][1]),V()):L==null?null:[[L,U],[q,G]]};function V(){var Z=pi$2*I(),Y=R(rotation(R.rotate()).invert([0,0]));return z(L==null?[[Y[0]-Z,Y[1]-Z],[Y[0]+Z,Y[1]+Z]]:_===mercatorRaw?[[Math.max(Y[0]-Z,L),U],[Math.min(Y[0]+Z,q),G]]:[[L,Math.max(Y[1]-Z,U)],[q,Math.min(Y[1]+Z,G)]])}return V()}function tany(_){return tan((halfPi+_)/2)}function conicConformalRaw(_,R){var O=cos$1(_),I=_===R?sin$1(_):log$1(O/cos$1(R))/log$1(tany(R)/tany(_)),F=O*pow$1(tany(_),I)/I;if(!I)return mercatorRaw;function z(L,U){F>0?U<-halfPi+epsilon$1&&(U=-halfPi+epsilon$1):U>halfPi-epsilon$1&&(U=halfPi-epsilon$1);var q=F/pow$1(tany(U),I);return[q*sin$1(I*L),F-q*cos$1(I*L)]}return z.invert=function(L,U){var q=F-U,G=sign$1(I)*sqrt$1(L*L+q*q),V=atan2(L,abs(q))*sign$1(q);return q*I<0&&(V-=pi$2*sign$1(L)*sign$1(q)),[V/I,2*atan(pow$1(F/G,1/I))-halfPi]},z}function geoConicConformal(){return conicProjection$1(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(_,R){return[_,R]}equirectangularRaw.invert=equirectangularRaw;function geoEquirectangular(){return projection$1(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(_,R){var O=cos$1(_),I=_===R?sin$1(_):(O-cos$1(R))/(R-_),F=O/I+_;if(abs(I)<epsilon$1)return equirectangularRaw;function z(L,U){var q=F-U,G=I*L;return[q*sin$1(G),F-q*cos$1(G)]}return z.invert=function(L,U){var q=F-U,G=atan2(L,abs(q))*sign$1(q);return q*I<0&&(G-=pi$2*sign$1(L)*sign$1(q)),[G/I,F-sign$1(I)*sqrt$1(L*L+q*q)]},z}function geoConicEquidistant(){return conicProjection$1(conicEquidistantRaw).scale(131.154).center([0,13.9389])}var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=sqrt$1(3)/2,iterations=12;function equalEarthRaw(_,R){var O=asin(M*sin$1(R)),I=O*O,F=I*I*I;return[_*cos$1(O)/(M*(A1+3*A2*I+F*(7*A3+9*A4*I))),O*(A1+A2*I+F*(A3+A4*I))]}equalEarthRaw.invert=function(_,R){for(var O=R,I=O*O,F=I*I*I,z=0,L,U,q;z<iterations&&(U=O*(A1+A2*I+F*(A3+A4*I))-R,q=A1+3*A2*I+F*(7*A3+9*A4*I),O-=L=U/q,I=O*O,F=I*I*I,!(abs(L)<epsilon2));++z);return[M*_*(A1+3*A2*I+F*(7*A3+9*A4*I))/cos$1(O),asin(sin$1(O)/M)]};function geoEqualEarth(){return projection$1(equalEarthRaw).scale(177.158)}function gnomonicRaw(_,R){var O=cos$1(R),I=cos$1(_)*O;return[O*sin$1(_)/I,sin$1(R)/I]}gnomonicRaw.invert=azimuthalInvert(atan);function geoGnomonic(){return projection$1(gnomonicRaw).scale(144.049).clipAngle(60)}function orthographicRaw(_,R){return[cos$1(R)*sin$1(_),sin$1(R)]}orthographicRaw.invert=azimuthalInvert(asin);function geoOrthographic(){return projection$1(orthographicRaw).scale(249.5).clipAngle(90+epsilon$1)}function stereographicRaw(_,R){var O=cos$1(R),I=1+cos$1(_)*O;return[O*sin$1(_)/I,sin$1(R)/I]}stereographicRaw.invert=azimuthalInvert(function(_){return 2*atan(_)});function geoStereographic(){return projection$1(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(_,R){return[log$1(tan((halfPi+R)/2)),-_]}transverseMercatorRaw.invert=function(_,R){return[-R,2*atan(exp(_))-halfPi]};function geoTransverseMercator(){var _=mercatorProjection(transverseMercatorRaw),R=_.center,O=_.rotate;return _.center=function(I){return arguments.length?R([-I[1],I[0]]):(I=R(),[I[1],-I[0]])},_.rotate=function(I){return arguments.length?O([I[0],I[1],I.length>2?I[2]+90:90]):(I=O(),[I[0],I[1],I[2]-90])},O([0,0,90]).scale(159.155)}function initRange(_,R){switch(arguments.length){case 0:break;case 1:this.range(_);break;default:this.range(R).domain(_);break}return this}function initInterpolator(_,R){switch(arguments.length){case 0:break;case 1:{typeof _=="function"?this.interpolator(_):this.range(_);break}default:{this.domain(_),typeof R=="function"?this.interpolator(R):this.range(R);break}}return this}const implicit=Symbol("implicit");function ordinal(){var _=new InternMap,R=[],O=[],I=implicit;function F(z){let L=_.get(z);if(L===void 0){if(I!==implicit)return I;_.set(z,L=R.push(z)-1)}return O[L%O.length]}return F.domain=function(z){if(!arguments.length)return R.slice();R=[],_=new InternMap;for(const L of z)_.has(L)||_.set(L,R.push(L)-1);return F},F.range=function(z){return arguments.length?(O=Array.from(z),F):O.slice()},F.unknown=function(z){return arguments.length?(I=z,F):I},F.copy=function(){return ordinal(R,O).unknown(I)},initRange.apply(F,arguments),F}function band(){var _=ordinal().unknown(void 0),R=_.domain,O=_.range,I=0,F=1,z,L,U=!1,q=0,G=0,V=.5;delete _.unknown;function Z(){var Y=R().length,W=F<I,ee=W?F:I,ne=W?I:F;z=(ne-ee)/Math.max(1,Y-q+G*2),U&&(z=Math.floor(z)),ee+=(ne-ee-z*(Y-q))*V,L=z*(1-q),U&&(ee=Math.round(ee),L=Math.round(L));var ie=range$1(Y).map(function(se){return ee+z*se});return O(W?ie.reverse():ie)}return _.domain=function(Y){return arguments.length?(R(Y),Z()):R()},_.range=function(Y){return arguments.length?([I,F]=Y,I=+I,F=+F,Z()):[I,F]},_.rangeRound=function(Y){return[I,F]=Y,I=+I,F=+F,U=!0,Z()},_.bandwidth=function(){return L},_.step=function(){return z},_.round=function(Y){return arguments.length?(U=!!Y,Z()):U},_.padding=function(Y){return arguments.length?(q=Math.min(1,G=+Y),Z()):q},_.paddingInner=function(Y){return arguments.length?(q=Math.min(1,Y),Z()):q},_.paddingOuter=function(Y){return arguments.length?(G=+Y,Z()):G},_.align=function(Y){return arguments.length?(V=Math.max(0,Math.min(1,Y)),Z()):V},_.copy=function(){return band(R(),[I,F]).round(U).paddingInner(q).paddingOuter(G).align(V)},initRange.apply(Z(),arguments)}function pointish(_){var R=_.copy;return _.padding=_.paddingOuter,delete _.paddingInner,delete _.paddingOuter,_.copy=function(){return pointish(R())},_}function point$4(){return pointish(band.apply(null,arguments).paddingInner(1))}function constants(_){return function(){return _}}function number$2(_){return+_}var unit$1=[0,1];function identity$3(_){return _}function normalize(_,R){return(R-=_=+_)?function(O){return(O-_)/R}:constants(isNaN(R)?NaN:.5)}function clamper(_,R){var O;return _>R&&(O=_,_=R,R=O),function(I){return Math.max(_,Math.min(R,I))}}function bimap(_,R,O){var I=_[0],F=_[1],z=R[0],L=R[1];return F<I?(I=normalize(F,I),z=O(L,z)):(I=normalize(I,F),z=O(z,L)),function(U){return z(I(U))}}function polymap(_,R,O){var I=Math.min(_.length,R.length)-1,F=new Array(I),z=new Array(I),L=-1;for(_[I]<_[0]&&(_=_.slice().reverse(),R=R.slice().reverse());++L<I;)F[L]=normalize(_[L],_[L+1]),z[L]=O(R[L],R[L+1]);return function(U){var q=bisectRight(_,U,1,I)-1;return z[q](F[q](U))}}function copy$1(_,R){return R.domain(_.domain()).range(_.range()).interpolate(_.interpolate()).clamp(_.clamp()).unknown(_.unknown())}function transformer$1(){var _=unit$1,R=unit$1,O=interpolate$1,I,F,z,L=identity$3,U,q,G;function V(){var Y=Math.min(_.length,R.length);return L!==identity$3&&(L=clamper(_[0],_[Y-1])),U=Y>2?polymap:bimap,q=G=null,Z}function Z(Y){return Y==null||isNaN(Y=+Y)?z:(q||(q=U(_.map(I),R,O)))(I(L(Y)))}return Z.invert=function(Y){return L(F((G||(G=U(R,_.map(I),interpolateNumber)))(Y)))},Z.domain=function(Y){return arguments.length?(_=Array.from(Y,number$2),V()):_.slice()},Z.range=function(Y){return arguments.length?(R=Array.from(Y),V()):R.slice()},Z.rangeRound=function(Y){return R=Array.from(Y),O=interpolateRound,V()},Z.clamp=function(Y){return arguments.length?(L=Y?!0:identity$3,V()):L!==identity$3},Z.interpolate=function(Y){return arguments.length?(O=Y,V()):O},Z.unknown=function(Y){return arguments.length?(z=Y,Z):z},function(Y,W){return I=Y,F=W,V()}}function continuous(){return transformer$1()(identity$3,identity$3)}function tickFormat(_,R,O,I){var F=tickStep(_,R,O),z;switch(I=formatSpecifier(I??",f"),I.type){case"s":{var L=Math.max(Math.abs(_),Math.abs(R));return I.precision==null&&!isNaN(z=precisionPrefix(F,L))&&(I.precision=z),formatPrefix(I,L)}case"":case"e":case"g":case"p":case"r":{I.precision==null&&!isNaN(z=precisionRound(F,Math.max(Math.abs(_),Math.abs(R))))&&(I.precision=z-(I.type==="e"));break}case"f":case"%":{I.precision==null&&!isNaN(z=precisionFixed(F))&&(I.precision=z-(I.type==="%")*2);break}}return format$1(I)}function linearish(_){var R=_.domain;return _.ticks=function(O){var I=R();return ticks(I[0],I[I.length-1],O??10)},_.tickFormat=function(O,I){var F=R();return tickFormat(F[0],F[F.length-1],O??10,I)},_.nice=function(O){O==null&&(O=10);var I=R(),F=0,z=I.length-1,L=I[F],U=I[z],q,G,V=10;for(U<L&&(G=L,L=U,U=G,G=F,F=z,z=G);V-- >0;){if(G=tickIncrement(L,U,O),G===q)return I[F]=L,I[z]=U,R(I);if(G>0)L=Math.floor(L/G)*G,U=Math.ceil(U/G)*G;else if(G<0)L=Math.ceil(L*G)/G,U=Math.floor(U*G)/G;else break;q=G}return _},_}function linear(){var _=continuous();return _.copy=function(){return copy$1(_,linear())},initRange.apply(_,arguments),linearish(_)}function identity$2(_){var R;function O(I){return I==null||isNaN(I=+I)?R:I}return O.invert=O,O.domain=O.range=function(I){return arguments.length?(_=Array.from(I,number$2),O):_.slice()},O.unknown=function(I){return arguments.length?(R=I,O):R},O.copy=function(){return identity$2(_).unknown(R)},_=arguments.length?Array.from(_,number$2):[0,1],linearish(O)}function nice(_,R){_=_.slice();var O=0,I=_.length-1,F=_[O],z=_[I],L;return z<F&&(L=O,O=I,I=L,L=F,F=z,z=L),_[O]=R.floor(F),_[I]=R.ceil(z),_}function transformLog$1(_){return Math.log(_)}function transformExp(_){return Math.exp(_)}function transformLogn(_){return-Math.log(-_)}function transformExpn(_){return-Math.exp(-_)}function pow10(_){return isFinite(_)?+("1e"+_):_<0?0:_}function powp(_){return _===10?pow10:_===Math.E?Math.exp:R=>Math.pow(_,R)}function logp(_){return _===Math.E?Math.log:_===10&&Math.log10||_===2&&Math.log2||(_=Math.log(_),R=>Math.log(R)/_)}function reflect(_){return(R,O)=>-_(-R,O)}function loggish(_){const R=_(transformLog$1,transformExp),O=R.domain;let I=10,F,z;function L(){return F=logp(I),z=powp(I),O()[0]<0?(F=reflect(F),z=reflect(z),_(transformLogn,transformExpn)):_(transformLog$1,transformExp),R}return R.base=function(U){return arguments.length?(I=+U,L()):I},R.domain=function(U){return arguments.length?(O(U),L()):O()},R.ticks=U=>{const q=O();let G=q[0],V=q[q.length-1];const Z=V<G;Z&&([G,V]=[V,G]);let Y=F(G),W=F(V),ee,ne;const ie=U==null?10:+U;let se=[];if(!(I%1)&&W-Y<ie){if(Y=Math.floor(Y),W=Math.ceil(W),G>0){for(;Y<=W;++Y)for(ee=1;ee<I;++ee)if(ne=Y<0?ee/z(-Y):ee*z(Y),!(ne<G)){if(ne>V)break;se.push(ne)}}else for(;Y<=W;++Y)for(ee=I-1;ee>=1;--ee)if(ne=Y>0?ee/z(-Y):ee*z(Y),!(ne<G)){if(ne>V)break;se.push(ne)}se.length*2<ie&&(se=ticks(G,V,ie))}else se=ticks(Y,W,Math.min(W-Y,ie)).map(z);return Z?se.reverse():se},R.tickFormat=(U,q)=>{if(U==null&&(U=10),q==null&&(q=I===10?"s":","),typeof q!="function"&&(!(I%1)&&(q=formatSpecifier(q)).precision==null&&(q.trim=!0),q=format$1(q)),U===1/0)return q;const G=Math.max(1,I*U/R.ticks().length);return V=>{let Z=V/z(Math.round(F(V)));return Z*I<I-.5&&(Z*=I),Z<=G?q(V):""}},R.nice=()=>O(nice(O(),{floor:U=>z(Math.floor(F(U))),ceil:U=>z(Math.ceil(F(U)))})),R}function log(){const _=loggish(transformer$1()).domain([1,10]);return _.copy=()=>copy$1(_,log()).base(_.base()),initRange.apply(_,arguments),_}function transformSymlog$1(_){return function(R){return Math.sign(R)*Math.log1p(Math.abs(R/_))}}function transformSymexp(_){return function(R){return Math.sign(R)*Math.expm1(Math.abs(R))*_}}function symlogish(_){var R=1,O=_(transformSymlog$1(R),transformSymexp(R));return O.constant=function(I){return arguments.length?_(transformSymlog$1(R=+I),transformSymexp(R)):R},linearish(O)}function symlog(){var _=symlogish(transformer$1());return _.copy=function(){return copy$1(_,symlog()).constant(_.constant())},initRange.apply(_,arguments)}function transformPow$1(_){return function(R){return R<0?-Math.pow(-R,_):Math.pow(R,_)}}function transformSqrt$1(_){return _<0?-Math.sqrt(-_):Math.sqrt(_)}function transformSquare(_){return _<0?-_*_:_*_}function powish(_){var R=_(identity$3,identity$3),O=1;function I(){return O===1?_(identity$3,identity$3):O===.5?_(transformSqrt$1,transformSquare):_(transformPow$1(O),transformPow$1(1/O))}return R.exponent=function(F){return arguments.length?(O=+F,I()):O},linearish(R)}function pow(){var _=powish(transformer$1());return _.copy=function(){return copy$1(_,pow()).exponent(_.exponent())},initRange.apply(_,arguments),_}function quantile(){var _=[],R=[],O=[],I;function F(){var L=0,U=Math.max(1,R.length);for(O=new Array(U-1);++L<U;)O[L-1]=quantileSorted(_,L/U);return z}function z(L){return L==null||isNaN(L=+L)?I:R[bisectRight(O,L)]}return z.invertExtent=function(L){var U=R.indexOf(L);return U<0?[NaN,NaN]:[U>0?O[U-1]:_[0],U<O.length?O[U]:_[_.length-1]]},z.domain=function(L){if(!arguments.length)return _.slice();_=[];for(let U of L)U!=null&&!isNaN(U=+U)&&_.push(U);return _.sort(ascending$1),F()},z.range=function(L){return arguments.length?(R=Array.from(L),F()):R.slice()},z.unknown=function(L){return arguments.length?(I=L,z):I},z.quantiles=function(){return O.slice()},z.copy=function(){return quantile().domain(_).range(R).unknown(I)},initRange.apply(z,arguments)}function threshold(){var _=[.5],R=[0,1],O,I=1;function F(z){return z!=null&&z<=z?R[bisectRight(_,z,0,I)]:O}return F.domain=function(z){return arguments.length?(_=Array.from(z),I=Math.min(_.length,R.length-1),F):_.slice()},F.range=function(z){return arguments.length?(R=Array.from(z),I=Math.min(_.length,R.length-1),F):R.slice()},F.invertExtent=function(z){var L=R.indexOf(z);return[_[L-1],_[L]]},F.unknown=function(z){return arguments.length?(O=z,F):O},F.copy=function(){return threshold().domain(_).range(R).unknown(O)},initRange.apply(F,arguments)}const t0=new Date,t1=new Date;function timeInterval$1(_,R,O,I){function F(z){return _(z=arguments.length===0?new Date:new Date(+z)),z}return F.floor=z=>(_(z=new Date(+z)),z),F.ceil=z=>(_(z=new Date(z-1)),R(z,1),_(z),z),F.round=z=>{const L=F(z),U=F.ceil(z);return z-L<U-z?L:U},F.offset=(z,L)=>(R(z=new Date(+z),L==null?1:Math.floor(L)),z),F.range=(z,L,U)=>{const q=[];if(z=F.ceil(z),U=U==null?1:Math.floor(U),!(z<L)||!(U>0))return q;let G;do q.push(G=new Date(+z)),R(z,U),_(z);while(G<z&&z<L);return q},F.filter=z=>timeInterval$1(L=>{if(L>=L)for(;_(L),!z(L);)L.setTime(L-1)},(L,U)=>{if(L>=L)if(U<0)for(;++U<=0;)for(;R(L,-1),!z(L););else for(;--U>=0;)for(;R(L,1),!z(L););}),O&&(F.count=(z,L)=>(t0.setTime(+z),t1.setTime(+L),_(t0),_(t1),Math.floor(O(t0,t1))),F.every=z=>(z=Math.floor(z),!isFinite(z)||!(z>0)?null:z>1?F.filter(I?L=>I(L)%z===0:L=>F.count(0,L)%z===0):F)),F}const millisecond=timeInterval$1(()=>{},(_,R)=>{_.setTime(+_+R)},(_,R)=>R-_);millisecond.every=_=>(_=Math.floor(_),!isFinite(_)||!(_>0)?null:_>1?timeInterval$1(R=>{R.setTime(Math.floor(R/_)*_)},(R,O)=>{R.setTime(+R+O*_)},(R,O)=>(O-R)/_):millisecond);millisecond.range;const durationSecond$1=1e3,durationMinute$1=durationSecond$1*60,durationHour$1=durationMinute$1*60,durationDay$1=durationHour$1*24,durationWeek$1=durationDay$1*7,durationMonth$1=durationDay$1*30,durationYear$1=durationDay$1*365,second$1=timeInterval$1(_=>{_.setTime(_-_.getMilliseconds())},(_,R)=>{_.setTime(+_+R*durationSecond$1)},(_,R)=>(R-_)/durationSecond$1,_=>_.getUTCSeconds());second$1.range;const timeMinute=timeInterval$1(_=>{_.setTime(_-_.getMilliseconds()-_.getSeconds()*durationSecond$1)},(_,R)=>{_.setTime(+_+R*durationMinute$1)},(_,R)=>(R-_)/durationMinute$1,_=>_.getMinutes());timeMinute.range;const utcMinute=timeInterval$1(_=>{_.setUTCSeconds(0,0)},(_,R)=>{_.setTime(+_+R*durationMinute$1)},(_,R)=>(R-_)/durationMinute$1,_=>_.getUTCMinutes());utcMinute.range;const timeHour=timeInterval$1(_=>{_.setTime(_-_.getMilliseconds()-_.getSeconds()*durationSecond$1-_.getMinutes()*durationMinute$1)},(_,R)=>{_.setTime(+_+R*durationHour$1)},(_,R)=>(R-_)/durationHour$1,_=>_.getHours());timeHour.range;const utcHour=timeInterval$1(_=>{_.setUTCMinutes(0,0,0)},(_,R)=>{_.setTime(+_+R*durationHour$1)},(_,R)=>(R-_)/durationHour$1,_=>_.getUTCHours());utcHour.range;const timeDay=timeInterval$1(_=>_.setHours(0,0,0,0),(_,R)=>_.setDate(_.getDate()+R),(_,R)=>(R-_-(R.getTimezoneOffset()-_.getTimezoneOffset())*durationMinute$1)/durationDay$1,_=>_.getDate()-1);timeDay.range;const utcDay=timeInterval$1(_=>{_.setUTCHours(0,0,0,0)},(_,R)=>{_.setUTCDate(_.getUTCDate()+R)},(_,R)=>(R-_)/durationDay$1,_=>_.getUTCDate()-1);utcDay.range;const unixDay=timeInterval$1(_=>{_.setUTCHours(0,0,0,0)},(_,R)=>{_.setUTCDate(_.getUTCDate()+R)},(_,R)=>(R-_)/durationDay$1,_=>Math.floor(_/durationDay$1));unixDay.range;function timeWeekday(_){return timeInterval$1(R=>{R.setDate(R.getDate()-(R.getDay()+7-_)%7),R.setHours(0,0,0,0)},(R,O)=>{R.setDate(R.getDate()+O*7)},(R,O)=>(O-R-(O.getTimezoneOffset()-R.getTimezoneOffset())*durationMinute$1)/durationWeek$1)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(_){return timeInterval$1(R=>{R.setUTCDate(R.getUTCDate()-(R.getUTCDay()+7-_)%7),R.setUTCHours(0,0,0,0)},(R,O)=>{R.setUTCDate(R.getUTCDate()+O*7)},(R,O)=>(O-R)/durationWeek$1)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval$1(_=>{_.setDate(1),_.setHours(0,0,0,0)},(_,R)=>{_.setMonth(_.getMonth()+R)},(_,R)=>R.getMonth()-_.getMonth()+(R.getFullYear()-_.getFullYear())*12,_=>_.getMonth());timeMonth.range;const utcMonth=timeInterval$1(_=>{_.setUTCDate(1),_.setUTCHours(0,0,0,0)},(_,R)=>{_.setUTCMonth(_.getUTCMonth()+R)},(_,R)=>R.getUTCMonth()-_.getUTCMonth()+(R.getUTCFullYear()-_.getUTCFullYear())*12,_=>_.getUTCMonth());utcMonth.range;const timeYear=timeInterval$1(_=>{_.setMonth(0,1),_.setHours(0,0,0,0)},(_,R)=>{_.setFullYear(_.getFullYear()+R)},(_,R)=>R.getFullYear()-_.getFullYear(),_=>_.getFullYear());timeYear.every=_=>!isFinite(_=Math.floor(_))||!(_>0)?null:timeInterval$1(R=>{R.setFullYear(Math.floor(R.getFullYear()/_)*_),R.setMonth(0,1),R.setHours(0,0,0,0)},(R,O)=>{R.setFullYear(R.getFullYear()+O*_)});timeYear.range;const utcYear=timeInterval$1(_=>{_.setUTCMonth(0,1),_.setUTCHours(0,0,0,0)},(_,R)=>{_.setUTCFullYear(_.getUTCFullYear()+R)},(_,R)=>R.getUTCFullYear()-_.getUTCFullYear(),_=>_.getUTCFullYear());utcYear.every=_=>!isFinite(_=Math.floor(_))||!(_>0)?null:timeInterval$1(R=>{R.setUTCFullYear(Math.floor(R.getUTCFullYear()/_)*_),R.setUTCMonth(0,1),R.setUTCHours(0,0,0,0)},(R,O)=>{R.setUTCFullYear(R.getUTCFullYear()+O*_)});utcYear.range;function ticker(_,R,O,I,F,z){const L=[[second$1,1,durationSecond$1],[second$1,5,5*durationSecond$1],[second$1,15,15*durationSecond$1],[second$1,30,30*durationSecond$1],[z,1,durationMinute$1],[z,5,5*durationMinute$1],[z,15,15*durationMinute$1],[z,30,30*durationMinute$1],[F,1,durationHour$1],[F,3,3*durationHour$1],[F,6,6*durationHour$1],[F,12,12*durationHour$1],[I,1,durationDay$1],[I,2,2*durationDay$1],[O,1,durationWeek$1],[R,1,durationMonth$1],[R,3,3*durationMonth$1],[_,1,durationYear$1]];function U(G,V,Z){const Y=V<G;Y&&([G,V]=[V,G]);const W=Z&&typeof Z.range=="function"?Z:q(G,V,Z),ee=W?W.range(G,+V+1):[];return Y?ee.reverse():ee}function q(G,V,Z){const Y=Math.abs(V-G)/Z,W=bisector(([,,ie])=>ie).right(L,Y);if(W===L.length)return _.every(tickStep(G/durationYear$1,V/durationYear$1,Z));if(W===0)return millisecond.every(Math.max(tickStep(G,V,Z),1));const[ee,ne]=L[Y/L[W-1][2]<L[W][2]/Y?W-1:W];return ee.every(ne)}return[U,q]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(_){if(0<=_.y&&_.y<100){var R=new Date(-1,_.m,_.d,_.H,_.M,_.S,_.L);return R.setFullYear(_.y),R}return new Date(_.y,_.m,_.d,_.H,_.M,_.S,_.L)}function utcDate(_){if(0<=_.y&&_.y<100){var R=new Date(Date.UTC(-1,_.m,_.d,_.H,_.M,_.S,_.L));return R.setUTCFullYear(_.y),R}return new Date(Date.UTC(_.y,_.m,_.d,_.H,_.M,_.S,_.L))}function newDate(_,R,O){return{y:_,m:R,d:O,H:0,M:0,S:0,L:0}}function formatLocale(_){var R=_.dateTime,O=_.date,I=_.time,F=_.periods,z=_.days,L=_.shortDays,U=_.months,q=_.shortMonths,G=formatRe(F),V=formatLookup(F),Z=formatRe(z),Y=formatLookup(z),W=formatRe(L),ee=formatLookup(L),ne=formatRe(U),ie=formatLookup(U),se=formatRe(q),oe=formatLookup(q),le={a:Ce,A:De,b:Ne,B:Me,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Te,q:Re,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},ue={a:Se,A:ze,b:Pe,B:Qe,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Ze,q:Le,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},ce={a:ge,A:_e,b:ye,B:we,c:ve,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:pe,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:$e,X:be,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};le.x=fe(O,le),le.X=fe(I,le),le.c=fe(R,le),ue.x=fe(O,ue),ue.X=fe(I,ue),ue.c=fe(R,ue);function fe(ke,Ge){return function(Ke){var He=[],st=-1,Ae=0,tt=ke.length,rt,We,qe;for(Ke instanceof Date||(Ke=new Date(+Ke));++st<tt;)ke.charCodeAt(st)===37&&(He.push(ke.slice(Ae,st)),(We=pads[rt=ke.charAt(++st)])!=null?rt=ke.charAt(++st):We=rt==="e"?" ":"0",(qe=Ge[rt])&&(rt=qe(Ke,We)),He.push(rt),Ae=st+1);return He.push(ke.slice(Ae,st)),He.join("")}}function me(ke,Ge){return function(Ke){var He=newDate(1900,void 0,1),st=he(He,ke,Ke+="",0),Ae,tt;if(st!=Ke.length)return null;if("Q"in He)return new Date(He.Q);if("s"in He)return new Date(He.s*1e3+("L"in He?He.L:0));if(Ge&&!("Z"in He)&&(He.Z=0),"p"in He&&(He.H=He.H%12+He.p*12),He.m===void 0&&(He.m="q"in He?He.q:0),"V"in He){if(He.V<1||He.V>53)return null;"w"in He||(He.w=1),"Z"in He?(Ae=utcDate(newDate(He.y,0,1)),tt=Ae.getUTCDay(),Ae=tt>4||tt===0?utcMonday.ceil(Ae):utcMonday(Ae),Ae=utcDay.offset(Ae,(He.V-1)*7),He.y=Ae.getUTCFullYear(),He.m=Ae.getUTCMonth(),He.d=Ae.getUTCDate()+(He.w+6)%7):(Ae=localDate(newDate(He.y,0,1)),tt=Ae.getDay(),Ae=tt>4||tt===0?timeMonday.ceil(Ae):timeMonday(Ae),Ae=timeDay.offset(Ae,(He.V-1)*7),He.y=Ae.getFullYear(),He.m=Ae.getMonth(),He.d=Ae.getDate()+(He.w+6)%7)}else("W"in He||"U"in He)&&("w"in He||(He.w="u"in He?He.u%7:"W"in He?1:0),tt="Z"in He?utcDate(newDate(He.y,0,1)).getUTCDay():localDate(newDate(He.y,0,1)).getDay(),He.m=0,He.d="W"in He?(He.w+6)%7+He.W*7-(tt+5)%7:He.w+He.U*7-(tt+6)%7);return"Z"in He?(He.H+=He.Z/100|0,He.M+=He.Z%100,utcDate(He)):localDate(He)}}function he(ke,Ge,Ke,He){for(var st=0,Ae=Ge.length,tt=Ke.length,rt,We;st<Ae;){if(He>=tt)return-1;if(rt=Ge.charCodeAt(st++),rt===37){if(rt=Ge.charAt(st++),We=ce[rt in pads?Ge.charAt(st++):rt],!We||(He=We(ke,Ke,He))<0)return-1}else if(rt!=Ke.charCodeAt(He++))return-1}return He}function pe(ke,Ge,Ke){var He=G.exec(Ge.slice(Ke));return He?(ke.p=V.get(He[0].toLowerCase()),Ke+He[0].length):-1}function ge(ke,Ge,Ke){var He=W.exec(Ge.slice(Ke));return He?(ke.w=ee.get(He[0].toLowerCase()),Ke+He[0].length):-1}function _e(ke,Ge,Ke){var He=Z.exec(Ge.slice(Ke));return He?(ke.w=Y.get(He[0].toLowerCase()),Ke+He[0].length):-1}function ye(ke,Ge,Ke){var He=se.exec(Ge.slice(Ke));return He?(ke.m=oe.get(He[0].toLowerCase()),Ke+He[0].length):-1}function we(ke,Ge,Ke){var He=ne.exec(Ge.slice(Ke));return He?(ke.m=ie.get(He[0].toLowerCase()),Ke+He[0].length):-1}function ve(ke,Ge,Ke){return he(ke,R,Ge,Ke)}function $e(ke,Ge,Ke){return he(ke,O,Ge,Ke)}function be(ke,Ge,Ke){return he(ke,I,Ge,Ke)}function Ce(ke){return L[ke.getDay()]}function De(ke){return z[ke.getDay()]}function Ne(ke){return q[ke.getMonth()]}function Me(ke){return U[ke.getMonth()]}function Te(ke){return F[+(ke.getHours()>=12)]}function Re(ke){return 1+~~(ke.getMonth()/3)}function Se(ke){return L[ke.getUTCDay()]}function ze(ke){return z[ke.getUTCDay()]}function Pe(ke){return q[ke.getUTCMonth()]}function Qe(ke){return U[ke.getUTCMonth()]}function Ze(ke){return F[+(ke.getUTCHours()>=12)]}function Le(ke){return 1+~~(ke.getUTCMonth()/3)}return{format:function(ke){var Ge=fe(ke+="",le);return Ge.toString=function(){return ke},Ge},parse:function(ke){var Ge=me(ke+="",!1);return Ge.toString=function(){return ke},Ge},utcFormat:function(ke){var Ge=fe(ke+="",ue);return Ge.toString=function(){return ke},Ge},utcParse:function(ke){var Ge=me(ke+="",!0);return Ge.toString=function(){return ke},Ge}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$1(_,R,O){var I=_<0?"-":"",F=(I?-_:_)+"",z=F.length;return I+(z<O?new Array(O-z+1).join(R)+F:F)}function requote(_){return _.replace(requoteRe,"\\$&")}function formatRe(_){return new RegExp("^(?:"+_.map(requote).join("|")+")","i")}function formatLookup(_){return new Map(_.map((R,O)=>[R.toLowerCase(),O]))}function parseWeekdayNumberSunday(_,R,O){var I=numberRe.exec(R.slice(O,O+1));return I?(_.w=+I[0],O+I[0].length):-1}function parseWeekdayNumberMonday(_,R,O){var I=numberRe.exec(R.slice(O,O+1));return I?(_.u=+I[0],O+I[0].length):-1}function parseWeekNumberSunday(_,R,O){var I=numberRe.exec(R.slice(O,O+2));return I?(_.U=+I[0],O+I[0].length):-1}function parseWeekNumberISO(_,R,O){var I=numberRe.exec(R.slice(O,O+2));return I?(_.V=+I[0],O+I[0].length):-1}function parseWeekNumberMonday(_,R,O){var I=numberRe.exec(R.slice(O,O+2));return I?(_.W=+I[0],O+I[0].length):-1}function parseFullYear(_,R,O){var I=numberRe.exec(R.slice(O,O+4));return I?(_.y=+I[0],O+I[0].length):-1}function parseYear(_,R,O){var I=numberRe.exec(R.slice(O,O+2));return I?(_.y=+I[0]+(+I[0]>68?1900:2e3),O+I[0].length):-1}function parseZone(_,R,O){var I=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(R.slice(O,O+6));return I?(_.Z=I[1]?0:-(I[2]+(I[3]||"00")),O+I[0].length):-1}function parseQuarter(_,R,O){var I=numberRe.exec(R.slice(O,O+1));return I?(_.q=I[0]*3-3,O+I[0].length):-1}function parseMonthNumber(_,R,O){var I=numberRe.exec(R.slice(O,O+2));return I?(_.m=I[0]-1,O+I[0].length):-1}function parseDayOfMonth(_,R,O){var I=numberRe.exec(R.slice(O,O+2));return I?(_.d=+I[0],O+I[0].length):-1}function parseDayOfYear(_,R,O){var I=numberRe.exec(R.slice(O,O+3));return I?(_.m=0,_.d=+I[0],O+I[0].length):-1}function parseHour24(_,R,O){var I=numberRe.exec(R.slice(O,O+2));return I?(_.H=+I[0],O+I[0].length):-1}function parseMinutes(_,R,O){var I=numberRe.exec(R.slice(O,O+2));return I?(_.M=+I[0],O+I[0].length):-1}function parseSeconds(_,R,O){var I=numberRe.exec(R.slice(O,O+2));return I?(_.S=+I[0],O+I[0].length):-1}function parseMilliseconds(_,R,O){var I=numberRe.exec(R.slice(O,O+3));return I?(_.L=+I[0],O+I[0].length):-1}function parseMicroseconds(_,R,O){var I=numberRe.exec(R.slice(O,O+6));return I?(_.L=Math.floor(I[0]/1e3),O+I[0].length):-1}function parseLiteralPercent(_,R,O){var I=percentRe.exec(R.slice(O,O+1));return I?O+I[0].length:-1}function parseUnixTimestamp(_,R,O){var I=numberRe.exec(R.slice(O));return I?(_.Q=+I[0],O+I[0].length):-1}function parseUnixTimestampSeconds(_,R,O){var I=numberRe.exec(R.slice(O));return I?(_.s=+I[0],O+I[0].length):-1}function formatDayOfMonth(_,R){return pad$1(_.getDate(),R,2)}function formatHour24(_,R){return pad$1(_.getHours(),R,2)}function formatHour12(_,R){return pad$1(_.getHours()%12||12,R,2)}function formatDayOfYear(_,R){return pad$1(1+timeDay.count(timeYear(_),_),R,3)}function formatMilliseconds(_,R){return pad$1(_.getMilliseconds(),R,3)}function formatMicroseconds(_,R){return formatMilliseconds(_,R)+"000"}function formatMonthNumber(_,R){return pad$1(_.getMonth()+1,R,2)}function formatMinutes(_,R){return pad$1(_.getMinutes(),R,2)}function formatSeconds(_,R){return pad$1(_.getSeconds(),R,2)}function formatWeekdayNumberMonday(_){var R=_.getDay();return R===0?7:R}function formatWeekNumberSunday(_,R){return pad$1(timeSunday.count(timeYear(_)-1,_),R,2)}function dISO(_){var R=_.getDay();return R>=4||R===0?timeThursday(_):timeThursday.ceil(_)}function formatWeekNumberISO(_,R){return _=dISO(_),pad$1(timeThursday.count(timeYear(_),_)+(timeYear(_).getDay()===4),R,2)}function formatWeekdayNumberSunday(_){return _.getDay()}function formatWeekNumberMonday(_,R){return pad$1(timeMonday.count(timeYear(_)-1,_),R,2)}function formatYear$1(_,R){return pad$1(_.getFullYear()%100,R,2)}function formatYearISO(_,R){return _=dISO(_),pad$1(_.getFullYear()%100,R,2)}function formatFullYear(_,R){return pad$1(_.getFullYear()%1e4,R,4)}function formatFullYearISO(_,R){var O=_.getDay();return _=O>=4||O===0?timeThursday(_):timeThursday.ceil(_),pad$1(_.getFullYear()%1e4,R,4)}function formatZone(_){var R=_.getTimezoneOffset();return(R>0?"-":(R*=-1,"+"))+pad$1(R/60|0,"0",2)+pad$1(R%60,"0",2)}function formatUTCDayOfMonth(_,R){return pad$1(_.getUTCDate(),R,2)}function formatUTCHour24(_,R){return pad$1(_.getUTCHours(),R,2)}function formatUTCHour12(_,R){return pad$1(_.getUTCHours()%12||12,R,2)}function formatUTCDayOfYear(_,R){return pad$1(1+utcDay.count(utcYear(_),_),R,3)}function formatUTCMilliseconds(_,R){return pad$1(_.getUTCMilliseconds(),R,3)}function formatUTCMicroseconds(_,R){return formatUTCMilliseconds(_,R)+"000"}function formatUTCMonthNumber(_,R){return pad$1(_.getUTCMonth()+1,R,2)}function formatUTCMinutes(_,R){return pad$1(_.getUTCMinutes(),R,2)}function formatUTCSeconds(_,R){return pad$1(_.getUTCSeconds(),R,2)}function formatUTCWeekdayNumberMonday(_){var R=_.getUTCDay();return R===0?7:R}function formatUTCWeekNumberSunday(_,R){return pad$1(utcSunday.count(utcYear(_)-1,_),R,2)}function UTCdISO(_){var R=_.getUTCDay();return R>=4||R===0?utcThursday(_):utcThursday.ceil(_)}function formatUTCWeekNumberISO(_,R){return _=UTCdISO(_),pad$1(utcThursday.count(utcYear(_),_)+(utcYear(_).getUTCDay()===4),R,2)}function formatUTCWeekdayNumberSunday(_){return _.getUTCDay()}function formatUTCWeekNumberMonday(_,R){return pad$1(utcMonday.count(utcYear(_)-1,_),R,2)}function formatUTCYear(_,R){return pad$1(_.getUTCFullYear()%100,R,2)}function formatUTCYearISO(_,R){return _=UTCdISO(_),pad$1(_.getUTCFullYear()%100,R,2)}function formatUTCFullYear(_,R){return pad$1(_.getUTCFullYear()%1e4,R,4)}function formatUTCFullYearISO(_,R){var O=_.getUTCDay();return _=O>=4||O===0?utcThursday(_):utcThursday.ceil(_),pad$1(_.getUTCFullYear()%1e4,R,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(_){return+_}function formatUnixTimestampSeconds(_){return Math.floor(+_/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(_){return locale=formatLocale(_),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(_){return new Date(_)}function number$1(_){return _ instanceof Date?+_:+new Date(+_)}function calendar(_,R,O,I,F,z,L,U,q,G){var V=continuous(),Z=V.invert,Y=V.domain,W=G(".%L"),ee=G(":%S"),ne=G("%I:%M"),ie=G("%I %p"),se=G("%a %d"),oe=G("%b %d"),le=G("%B"),ue=G("%Y");function ce(fe){return(q(fe)<fe?W:U(fe)<fe?ee:L(fe)<fe?ne:z(fe)<fe?ie:I(fe)<fe?F(fe)<fe?se:oe:O(fe)<fe?le:ue)(fe)}return V.invert=function(fe){return new Date(Z(fe))},V.domain=function(fe){return arguments.length?Y(Array.from(fe,number$1)):Y().map(date)},V.ticks=function(fe){var me=Y();return _(me[0],me[me.length-1],fe??10)},V.tickFormat=function(fe,me){return me==null?ce:G(me)},V.nice=function(fe){var me=Y();return(!fe||typeof fe.range!="function")&&(fe=R(me[0],me[me.length-1],fe??10)),fe?Y(nice(me,fe)):V},V.copy=function(){return copy$1(V,calendar(_,R,O,I,F,z,L,U,q,G))},V}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second$1,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second$1,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function copy(_,R){return R.domain(_.domain()).interpolator(_.interpolator()).clamp(_.clamp()).unknown(_.unknown())}function transformer(){var _=0,R=.5,O=1,I=1,F,z,L,U,q,G=identity$3,V,Z=!1,Y;function W(ne){return isNaN(ne=+ne)?Y:(ne=.5+((ne=+V(ne))-z)*(I*ne<I*z?U:q),G(Z?Math.max(0,Math.min(1,ne)):ne))}W.domain=function(ne){return arguments.length?([_,R,O]=ne,F=V(_=+_),z=V(R=+R),L=V(O=+O),U=F===z?0:.5/(z-F),q=z===L?0:.5/(L-z),I=z<F?-1:1,W):[_,R,O]},W.clamp=function(ne){return arguments.length?(Z=!!ne,W):Z},W.interpolator=function(ne){return arguments.length?(G=ne,W):G};function ee(ne){return function(ie){var se,oe,le;return arguments.length?([se,oe,le]=ie,G=piecewise(ne,[se,oe,le]),W):[G(0),G(.5),G(1)]}}return W.range=ee(interpolate$1),W.rangeRound=ee(interpolateRound),W.unknown=function(ne){return arguments.length?(Y=ne,W):Y},function(ne){return V=ne,F=ne(_),z=ne(R),L=ne(O),U=F===z?0:.5/(z-F),q=z===L?0:.5/(L-z),I=z<F?-1:1,W}}function diverging(){var _=linearish(transformer()(identity$3));return _.copy=function(){return copy(_,diverging())},initInterpolator.apply(_,arguments)}function divergingLog(){var _=loggish(transformer()).domain([.1,1,10]);return _.copy=function(){return copy(_,divergingLog()).base(_.base())},initInterpolator.apply(_,arguments)}function divergingSymlog(){var _=symlogish(transformer());return _.copy=function(){return copy(_,divergingSymlog()).constant(_.constant())},initInterpolator.apply(_,arguments)}function divergingPow(){var _=powish(transformer());return _.copy=function(){return copy(_,divergingPow()).exponent(_.exponent())},initInterpolator.apply(_,arguments)}function colors(_){for(var R=_.length/6|0,O=new Array(R),I=0;I<R;)O[I]="#"+_.slice(I*6,++I*6);return O}const schemeCategory10=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),schemeAccent=colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),schemeDark2=colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),schemeObservable10=colors("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),schemePaired=colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),schemePastel1=colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),schemePastel2=colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),schemeSet1=colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),schemeSet2=colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),schemeSet3=colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),schemeTableau10=colors("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ramp$1=_=>rgbBasis(_[_.length-1]);var scheme$q=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors);const interpolateBrBG=ramp$1(scheme$q);var scheme$p=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors);const interpolatePRGn=ramp$1(scheme$p);var scheme$o=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors);const interpolatePiYG=ramp$1(scheme$o);var scheme$n=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors);const interpolatePuOr=ramp$1(scheme$n);var scheme$m=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors);const interpolateRdBu=ramp$1(scheme$m);var scheme$l=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors);const interpolateRdGy=ramp$1(scheme$l);var scheme$k=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors);const interpolateRdYlBu=ramp$1(scheme$k);var scheme$j=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors);const interpolateRdYlGn=ramp$1(scheme$j);var scheme$i=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors);const interpolateSpectral=ramp$1(scheme$i);var scheme$h=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors);const interpolateBuGn=ramp$1(scheme$h);var scheme$g=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors);const interpolateBuPu=ramp$1(scheme$g);var scheme$f=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors);const interpolateGnBu=ramp$1(scheme$f);var scheme$e=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors);const interpolateOrRd=ramp$1(scheme$e);var scheme$d=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors);const interpolatePuBuGn=ramp$1(scheme$d);var scheme$c=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors);const interpolatePuBu=ramp$1(scheme$c);var scheme$b=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors);const interpolatePuRd=ramp$1(scheme$b);var scheme$a=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors);const interpolateRdPu=ramp$1(scheme$a);var scheme$9=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors);const interpolateYlGnBu=ramp$1(scheme$9);var scheme$8=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors);const interpolateYlGn=ramp$1(scheme$8);var scheme$7=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors);const interpolateYlOrBr=ramp$1(scheme$7);var scheme$6=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors);const interpolateYlOrRd=ramp$1(scheme$6);var scheme$5=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors);const interpolateBlues=ramp$1(scheme$5);var scheme$4=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors);const interpolateGreens=ramp$1(scheme$4);var scheme$3=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors);const interpolateGreys=ramp$1(scheme$3);var scheme$2=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors);const interpolatePurples=ramp$1(scheme$2);var scheme$1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors);const interpolateReds=ramp$1(scheme$1);var scheme=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors);const interpolateOranges=ramp$1(scheme);function interpolateCividis(_){return _=Math.max(0,Math.min(1,_)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-_*(35.34-_*(2381.73-_*(6402.7-_*(7024.72-_*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+_*(170.73+_*(52.82-_*(131.46-_*(176.58-_*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+_*(442.36-_*(2482.43-_*(6167.24-_*(6614.94-_*2475.67)))))))+")"}const interpolateCubehelixDefault=cubehelixLong(cubehelix$1(300,.5,0),cubehelix$1(-240,.5,1));var warm=cubehelixLong(cubehelix$1(-100,.75,.35),cubehelix$1(80,1.5,.8)),cool=cubehelixLong(cubehelix$1(260,.75,.35),cubehelix$1(80,1.5,.8)),c$2=cubehelix$1();function interpolateRainbow(_){(_<0||_>1)&&(_-=Math.floor(_));var R=Math.abs(_-.5);return c$2.h=360*_-100,c$2.s=1.5-1.5*R,c$2.l=.8-.9*R,c$2+""}var c$1=rgb(),pi_1_3=Math.PI/3,pi_2_3=Math.PI*2/3;function interpolateSinebow(_){var R;return _=(.5-_)*Math.PI,c$1.r=255*(R=Math.sin(_))*R,c$1.g=255*(R=Math.sin(_+pi_1_3))*R,c$1.b=255*(R=Math.sin(_+pi_2_3))*R,c$1+""}function interpolateTurbo(_){return _=Math.max(0,Math.min(1,_)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+_*(1172.33-_*(10793.56-_*(33300.12-_*(38394.49-_*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+_*(557.33+_*(1225.33-_*(3574.96-_*(1073.77+_*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+_*(3211.1-_*(15327.97-_*(27814-_*(22569.18-_*6838.66)))))))+")"}function ramp(_){var R=_.length;return function(O){return _[Math.max(0,Math.min(R-1,Math.floor(O*R)))]}}const interpolateViridis=ramp(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var magma=ramp(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function constant$1(_){return function(){return _}}const cos=Math.cos,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi$1=Math.PI,tau$1=2*pi$1;function withPath(_){let R=3;return _.digits=function(O){if(!arguments.length)return R;if(O==null)R=null;else{const I=Math.floor(O);if(!(I>=0))throw new RangeError(`invalid digits: ${O}`);R=I}return _},()=>new Path(R)}function array(_){return typeof _=="object"&&"length"in _?_:Array.from(_)}function Linear(_){this._context=_}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2;default:this._context.lineTo(_,R);break}}};function curveLinear(_){return new Linear(_)}function x(_){return _[0]}function y(_){return _[1]}function shapeLine(_,R){var O=constant$1(!0),I=null,F=curveLinear,z=null,L=withPath(U);_=typeof _=="function"?_:_===void 0?x:constant$1(_),R=typeof R=="function"?R:R===void 0?y:constant$1(R);function U(q){var G,V=(q=array(q)).length,Z,Y=!1,W;for(I==null&&(z=F(W=L())),G=0;G<=V;++G)!(G<V&&O(Z=q[G],G,q))===Y&&((Y=!Y)?z.lineStart():z.lineEnd()),Y&&z.point(+_(Z,G,q),+R(Z,G,q));if(W)return z=null,W+""||null}return U.x=function(q){return arguments.length?(_=typeof q=="function"?q:constant$1(+q),U):_},U.y=function(q){return arguments.length?(R=typeof q=="function"?q:constant$1(+q),U):R},U.defined=function(q){return arguments.length?(O=typeof q=="function"?q:constant$1(!!q),U):O},U.curve=function(q){return arguments.length?(F=q,I!=null&&(z=F(I)),U):F},U.context=function(q){return arguments.length?(q==null?I=z=null:z=F(I=q),U):I},U}function shapeArea(_,R,O){var I=null,F=constant$1(!0),z=null,L=curveLinear,U=null,q=withPath(G);_=typeof _=="function"?_:_===void 0?x:constant$1(+_),R=typeof R=="function"?R:constant$1(R===void 0?0:+R),O=typeof O=="function"?O:O===void 0?y:constant$1(+O);function G(Z){var Y,W,ee,ne=(Z=array(Z)).length,ie,se=!1,oe,le=new Array(ne),ue=new Array(ne);for(z==null&&(U=L(oe=q())),Y=0;Y<=ne;++Y){if(!(Y<ne&&F(ie=Z[Y],Y,Z))===se)if(se=!se)W=Y,U.areaStart(),U.lineStart();else{for(U.lineEnd(),U.lineStart(),ee=Y-1;ee>=W;--ee)U.point(le[ee],ue[ee]);U.lineEnd(),U.areaEnd()}se&&(le[Y]=+_(ie,Y,Z),ue[Y]=+R(ie,Y,Z),U.point(I?+I(ie,Y,Z):le[Y],O?+O(ie,Y,Z):ue[Y]))}if(oe)return U=null,oe+""||null}function V(){return shapeLine().defined(F).curve(L).context(z)}return G.x=function(Z){return arguments.length?(_=typeof Z=="function"?Z:constant$1(+Z),I=null,G):_},G.x0=function(Z){return arguments.length?(_=typeof Z=="function"?Z:constant$1(+Z),G):_},G.x1=function(Z){return arguments.length?(I=Z==null?null:typeof Z=="function"?Z:constant$1(+Z),G):I},G.y=function(Z){return arguments.length?(R=typeof Z=="function"?Z:constant$1(+Z),O=null,G):R},G.y0=function(Z){return arguments.length?(R=typeof Z=="function"?Z:constant$1(+Z),G):R},G.y1=function(Z){return arguments.length?(O=Z==null?null:typeof Z=="function"?Z:constant$1(+Z),G):O},G.lineX0=G.lineY0=function(){return V().x(_).y(R)},G.lineY1=function(){return V().x(_).y(O)},G.lineX1=function(){return V().x(I).y(R)},G.defined=function(Z){return arguments.length?(F=typeof Z=="function"?Z:constant$1(!!Z),G):F},G.curve=function(Z){return arguments.length?(L=Z,z!=null&&(U=L(z)),G):L},G.context=function(Z){return arguments.length?(Z==null?z=U=null:U=L(z=Z),G):z},G}class Bump{constructor(R,O){this._context=R,this._x=O}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(R,O){switch(R=+R,O=+O,this._point){case 0:{this._point=1,this._line?this._context.lineTo(R,O):this._context.moveTo(R,O);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+R)/2,this._y0,this._x0,O,R,O):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+O)/2,R,this._y0,R,O);break}}this._x0=R,this._y0=O}}function bumpX(_){return new Bump(_,!0)}function bumpY(_){return new Bump(_,!1)}const sqrt3$3=sqrt(3),symbolAsterisk={draw(_,R){const O=sqrt(R+min(R/28,.75))*.59436,I=O/2,F=I*sqrt3$3;_.moveTo(0,O),_.lineTo(0,-O),_.moveTo(-F,-I),_.lineTo(F,I),_.moveTo(-F,I),_.lineTo(F,-I)}},symbolCircle={draw(_,R){const O=sqrt(R/pi$1);_.moveTo(O,0),_.arc(0,0,O,0,tau$1)}},symbolCross={draw(_,R){const O=sqrt(R/5)/2;_.moveTo(-3*O,-O),_.lineTo(-O,-O),_.lineTo(-O,-3*O),_.lineTo(O,-3*O),_.lineTo(O,-O),_.lineTo(3*O,-O),_.lineTo(3*O,O),_.lineTo(O,O),_.lineTo(O,3*O),_.lineTo(-O,3*O),_.lineTo(-O,O),_.lineTo(-3*O,O),_.closePath()}},tan30=sqrt(1/3),tan30_2=tan30*2,symbolDiamond={draw(_,R){const O=sqrt(R/tan30_2),I=O*tan30;_.moveTo(0,-O),_.lineTo(I,0),_.lineTo(0,O),_.lineTo(-I,0),_.closePath()}},symbolDiamond2={draw(_,R){const O=sqrt(R)*.62625;_.moveTo(0,-O),_.lineTo(O,0),_.lineTo(0,O),_.lineTo(-O,0),_.closePath()}},symbolPlus={draw(_,R){const O=sqrt(R-min(R/7,2))*.87559;_.moveTo(-O,0),_.lineTo(O,0),_.moveTo(0,O),_.lineTo(0,-O)}},symbolSquare={draw(_,R){const O=sqrt(R),I=-O/2;_.rect(I,I,O,O)}},symbolSquare2={draw(_,R){const O=sqrt(R)*.4431;_.moveTo(O,O),_.lineTo(O,-O),_.lineTo(-O,-O),_.lineTo(-O,O),_.closePath()}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(_,R){const O=sqrt(R*ka),I=kx*O,F=ky*O;_.moveTo(0,-O),_.lineTo(I,F);for(let z=1;z<5;++z){const L=tau$1*z/5,U=cos(L),q=sin(L);_.lineTo(q*O,-U*O),_.lineTo(U*I-q*F,q*I+U*F)}_.closePath()}},sqrt3$2=sqrt(3),symbolTriangle={draw(_,R){const O=-sqrt(R/(sqrt3$2*3));_.moveTo(0,O*2),_.lineTo(-sqrt3$2*O,-O),_.lineTo(sqrt3$2*O,-O),_.closePath()}},sqrt3$1=sqrt(3),symbolTriangle2={draw(_,R){const O=sqrt(R)*.6824,I=O/2,F=O*sqrt3$1/2;_.moveTo(0,-O),_.lineTo(F,I),_.lineTo(-F,I),_.closePath()}},c=-.5,s=sqrt(3)/2,k=1/sqrt(12),a=(k/2+1)*3,symbolWye={draw(_,R){const O=sqrt(R/a),I=O/2,F=O*k,z=I,L=O*k+O,U=-z,q=L;_.moveTo(I,F),_.lineTo(z,L),_.lineTo(U,q),_.lineTo(c*I-s*F,s*I+c*F),_.lineTo(c*z-s*L,s*z+c*L),_.lineTo(c*U-s*q,s*U+c*q),_.lineTo(c*I+s*F,c*F-s*I),_.lineTo(c*z+s*L,c*L-s*z),_.lineTo(c*U+s*q,c*q-s*U),_.closePath()}},symbolTimes={draw(_,R){const O=sqrt(R-min(R/6,1.7))*.6189;_.moveTo(-O,-O),_.lineTo(O,O),_.moveTo(-O,O),_.lineTo(O,-O)}},symbolsFill=[symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye],symbolsStroke=[symbolCircle,symbolPlus,symbolTimes,symbolTriangle2,symbolAsterisk,symbolSquare2,symbolDiamond2];function noop(){}function point$3(_,R,O){_._context.bezierCurveTo((2*_._x0+_._x1)/3,(2*_._y0+_._y1)/3,(_._x0+2*_._x1)/3,(_._y0+2*_._y1)/3,(_._x0+4*_._x1+R)/6,(_._y0+4*_._y1+O)/6)}function Basis(_){this._context=_}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$3(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$3(this,_,R);break}this._x0=this._x1,this._x1=_,this._y0=this._y1,this._y1=R}};function curveBasis(_){return new Basis(_)}function BasisClosed(_){this._context=_}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._x2=_,this._y2=R;break;case 1:this._point=2,this._x3=_,this._y3=R;break;case 2:this._point=3,this._x4=_,this._y4=R,this._context.moveTo((this._x0+4*this._x1+_)/6,(this._y0+4*this._y1+R)/6);break;default:point$3(this,_,R);break}this._x0=this._x1,this._x1=_,this._y0=this._y1,this._y1=R}};function curveBasisClosed(_){return new BasisClosed(_)}function BasisOpen(_){this._context=_}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var O=(this._x0+4*this._x1+_)/6,I=(this._y0+4*this._y1+R)/6;this._line?this._context.lineTo(O,I):this._context.moveTo(O,I);break;case 3:this._point=4;default:point$3(this,_,R);break}this._x0=this._x1,this._x1=_,this._y0=this._y1,this._y1=R}};function curveBasisOpen(_){return new BasisOpen(_)}function Bundle(_,R){this._basis=new Basis(_),this._beta=R}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var _=this._x,R=this._y,O=_.length-1;if(O>0)for(var I=_[0],F=R[0],z=_[O]-I,L=R[O]-F,U=-1,q;++U<=O;)q=U/O,this._basis.point(this._beta*_[U]+(1-this._beta)*(I+q*z),this._beta*R[U]+(1-this._beta)*(F+q*L));this._x=this._y=null,this._basis.lineEnd()},point:function(_,R){this._x.push(+_),this._y.push(+R)}};const curveBundle=(function _(R){function O(I){return R===1?new Basis(I):new Bundle(I,R)}return O.beta=function(I){return _(+I)},O})(.85);function point$2(_,R,O){_._context.bezierCurveTo(_._x1+_._k*(_._x2-_._x0),_._y1+_._k*(_._y2-_._y0),_._x2+_._k*(_._x1-R),_._y2+_._k*(_._y1-O),_._x2,_._y2)}function Cardinal(_,R){this._context=_,this._k=(1-R)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$2(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2,this._x1=_,this._y1=R;break;case 2:this._point=3;default:point$2(this,_,R);break}this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCardinal=(function _(R){function O(I){return new Cardinal(I,R)}return O.tension=function(I){return _(+I)},O})(0);function CardinalClosed(_,R){this._context=_,this._k=(1-R)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._x3=_,this._y3=R;break;case 1:this._point=2,this._context.moveTo(this._x4=_,this._y4=R);break;case 2:this._point=3,this._x5=_,this._y5=R;break;default:point$2(this,_,R);break}this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCardinalClosed=(function _(R){function O(I){return new CardinalClosed(I,R)}return O.tension=function(I){return _(+I)},O})(0);function CardinalOpen(_,R){this._context=_,this._k=(1-R)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,_,R);break}this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCardinalOpen=(function _(R){function O(I){return new CardinalOpen(I,R)}return O.tension=function(I){return _(+I)},O})(0);function point$1(_,R,O){var I=_._x1,F=_._y1,z=_._x2,L=_._y2;if(_._l01_a>epsilon){var U=2*_._l01_2a+3*_._l01_a*_._l12_a+_._l12_2a,q=3*_._l01_a*(_._l01_a+_._l12_a);I=(I*U-_._x0*_._l12_2a+_._x2*_._l01_2a)/q,F=(F*U-_._y0*_._l12_2a+_._y2*_._l01_2a)/q}if(_._l23_a>epsilon){var G=2*_._l23_2a+3*_._l23_a*_._l12_a+_._l12_2a,V=3*_._l23_a*(_._l23_a+_._l12_a);z=(z*G+_._x1*_._l23_2a-R*_._l12_2a)/V,L=(L*G+_._y1*_._l23_2a-O*_._l12_2a)/V}_._context.bezierCurveTo(I,F,z,L,_._x2,_._y2)}function CatmullRom(_,R){this._context=_,this._alpha=R}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){if(_=+_,R=+R,this._point){var O=this._x2-_,I=this._y2-R;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(O*O+I*I,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2;break;case 2:this._point=3;default:point$1(this,_,R);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCatmullRom=(function _(R){function O(I){return R?new CatmullRom(I,R):new Cardinal(I,0)}return O.alpha=function(I){return _(+I)},O})(.5);function CatmullRomClosed(_,R){this._context=_,this._alpha=R}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(_,R){if(_=+_,R=+R,this._point){var O=this._x2-_,I=this._y2-R;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(O*O+I*I,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=_,this._y3=R;break;case 1:this._point=2,this._context.moveTo(this._x4=_,this._y4=R);break;case 2:this._point=3,this._x5=_,this._y5=R;break;default:point$1(this,_,R);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCatmullRomClosed=(function _(R){function O(I){return R?new CatmullRomClosed(I,R):new CardinalClosed(I,0)}return O.alpha=function(I){return _(+I)},O})(.5);function CatmullRomOpen(_,R){this._context=_,this._alpha=R}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){if(_=+_,R=+R,this._point){var O=this._x2-_,I=this._y2-R;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(O*O+I*I,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$1(this,_,R);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCatmullRomOpen=(function _(R){function O(I){return R?new CatmullRomOpen(I,R):new CardinalOpen(I,0)}return O.alpha=function(I){return _(+I)},O})(.5);function LinearClosed(_){this._context=_}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(_,R){_=+_,R=+R,this._point?this._context.lineTo(_,R):(this._point=1,this._context.moveTo(_,R))}};function curveLinearClosed(_){return new LinearClosed(_)}function sign(_){return _<0?-1:1}function slope3(_,R,O){var I=_._x1-_._x0,F=R-_._x1,z=(_._y1-_._y0)/(I||F<0&&-0),L=(O-_._y1)/(F||I<0&&-0),U=(z*F+L*I)/(I+F);return(sign(z)+sign(L))*Math.min(Math.abs(z),Math.abs(L),.5*Math.abs(U))||0}function slope2(_,R){var O=_._x1-_._x0;return O?(3*(_._y1-_._y0)/O-R)/2:R}function point(_,R,O){var I=_._x0,F=_._y0,z=_._x1,L=_._y1,U=(z-I)/3;_._context.bezierCurveTo(I+U,F+U*R,z-U,L-U*O,z,L)}function MonotoneX(_){this._context=_}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){var O=NaN;if(_=+_,R=+R,!(_===this._x1&&R===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2;break;case 2:this._point=3,point(this,slope2(this,O=slope3(this,_,R)),O);break;default:point(this,this._t0,O=slope3(this,_,R));break}this._x0=this._x1,this._x1=_,this._y0=this._y1,this._y1=R,this._t0=O}}};function MonotoneY(_){this._context=new ReflectContext(_)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(_,R){MonotoneX.prototype.point.call(this,R,_)};function ReflectContext(_){this._context=_}ReflectContext.prototype={moveTo:function(_,R){this._context.moveTo(R,_)},closePath:function(){this._context.closePath()},lineTo:function(_,R){this._context.lineTo(R,_)},bezierCurveTo:function(_,R,O,I,F,z){this._context.bezierCurveTo(R,_,I,O,z,F)}};function monotoneX(_){return new MonotoneX(_)}function monotoneY(_){return new MonotoneY(_)}function Natural(_){this._context=_}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var _=this._x,R=this._y,O=_.length;if(O)if(this._line?this._context.lineTo(_[0],R[0]):this._context.moveTo(_[0],R[0]),O===2)this._context.lineTo(_[1],R[1]);else for(var I=controlPoints(_),F=controlPoints(R),z=0,L=1;L<O;++z,++L)this._context.bezierCurveTo(I[0][z],F[0][z],I[1][z],F[1][z],_[L],R[L]);(this._line||this._line!==0&&O===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(_,R){this._x.push(+_),this._y.push(+R)}};function controlPoints(_){var R,O=_.length-1,I,F=new Array(O),z=new Array(O),L=new Array(O);for(F[0]=0,z[0]=2,L[0]=_[0]+2*_[1],R=1;R<O-1;++R)F[R]=1,z[R]=4,L[R]=4*_[R]+2*_[R+1];for(F[O-1]=2,z[O-1]=7,L[O-1]=8*_[O-1]+_[O],R=1;R<O;++R)I=F[R]/z[R-1],z[R]-=I,L[R]-=I*L[R-1];for(F[O-1]=L[O-1]/z[O-1],R=O-2;R>=0;--R)F[R]=(L[R]-F[R+1])/z[R];for(z[O-1]=(_[O]+F[O-1])/2,R=0;R<O-1;++R)z[R]=2*_[R+1]-F[R+1];return[F,z]}function curveNatural(_){return new Natural(_)}function Step(_,R){this._context=_,this._t=R}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,R),this._context.lineTo(_,R);else{var O=this._x*(1-this._t)+_*this._t;this._context.lineTo(O,this._y),this._context.lineTo(O,R)}break}}this._x=_,this._y=R}};function curveStep(_){return new Step(_,.5)}function stepBefore(_){return new Step(_,0)}function stepAfter(_){return new Step(_,1)}function Transform(_,R,O){this.k=_,this.x=R,this.y=O}Transform.prototype={constructor:Transform,scale:function(_){return _===1?this:new Transform(this.k*_,this.x,this.y)},translate:function(_,R){return _===0&R===0?this:new Transform(this.k,this.x+this.k*_,this.y+this.k*R)},apply:function(_){return[_[0]*this.k+this.x,_[1]*this.k+this.y]},applyX:function(_){return _*this.k+this.x},applyY:function(_){return _*this.k+this.y},invert:function(_){return[(_[0]-this.x)/this.k,(_[1]-this.y)/this.k]},invertX:function(_){return(_-this.x)/this.k},invertY:function(_){return(_-this.y)/this.k},rescaleX:function(_){return _.copy().domain(_.range().map(this.invertX,this).map(_.invert,_))},rescaleY:function(_){return _.copy().domain(_.range().map(this.invertY,this).map(_.invert,_))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;function defined(_){return _!=null&&!Number.isNaN(_)}function ascendingDefined(_,R){return+defined(R)-+defined(_)||ascending$1(_,R)}function descendingDefined(_,R){return+defined(R)-+defined(_)||descending(_,R)}function nonempty(_){return _!=null&&`${_}`!=""}function finite(_){return isFinite(_)?_:NaN}function positive(_){return _>0&&isFinite(_)?_:NaN}function negative(_){return _<0&&isFinite(_)?_:NaN}function format(_,R){if(_ instanceof Date||(_=new Date(+_)),isNaN(_))return typeof R=="function"?R(_):R;const O=_.getUTCHours(),I=_.getUTCMinutes(),F=_.getUTCSeconds(),z=_.getUTCMilliseconds();return`${formatYear(_.getUTCFullYear())}-${pad(_.getUTCMonth()+1,2)}-${pad(_.getUTCDate(),2)}${O||I||F||z?`T${pad(O,2)}:${pad(I,2)}${F||z?`:${pad(F,2)}${z?`.${pad(z,3)}`:""}`:""}Z`:""}`}function formatYear(_){return _<0?`-${pad(-_,6)}`:_>9999?`+${pad(_,6)}`:pad(_,4)}function pad(_,R){return`${_}`.padStart(R,"0")}const re=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function parse(_,R){return re.test(_+="")?new Date(_):typeof R=="function"?R(_):R}function orderof(_){if(_==null)return;const R=_[0],O=_[_.length-1];return descending(R,O)}const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,tickIntervals=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",durationSecond],["5 seconds",5*durationSecond],["15 seconds",15*durationSecond],["30 seconds",30*durationSecond],["minute",durationMinute],["5 minutes",5*durationMinute],["15 minutes",15*durationMinute],["30 minutes",30*durationMinute],["hour",durationHour],["3 hours",3*durationHour],["6 hours",6*durationHour],["12 hours",12*durationHour],["day",durationDay],["2 days",2*durationDay],["week",durationWeek],["2 weeks",2*durationWeek],["month",durationMonth],["3 months",3*durationMonth],["6 months",6*durationMonth],["year",durationYear],["2 years",2*durationYear],["5 years",5*durationYear],["10 years",10*durationYear],["20 years",20*durationYear],["50 years",50*durationYear],["100 years",100*durationYear]],durations=new Map([["second",durationSecond],["minute",durationMinute],["hour",durationHour],["day",durationDay],["monday",durationWeek],["tuesday",durationWeek],["wednesday",durationWeek],["thursday",durationWeek],["friday",durationWeek],["saturday",durationWeek],["sunday",durationWeek],["week",durationWeek],["month",durationMonth],["year",durationYear]]),timeIntervals=new Map([["second",second$1],["minute",timeMinute],["hour",timeHour],["day",timeDay],["monday",timeMonday],["tuesday",timeTuesday],["wednesday",timeWednesday],["thursday",timeThursday],["friday",timeFriday],["saturday",timeSaturday],["sunday",timeSunday],["week",timeSunday],["month",timeMonth],["year",timeYear]]),utcIntervals=new Map([["second",second$1],["minute",utcMinute],["hour",utcHour],["day",unixDay],["monday",utcMonday],["tuesday",utcTuesday],["wednesday",utcWednesday],["thursday",utcThursday],["friday",utcFriday],["saturday",utcSaturday],["sunday",utcSunday],["week",utcSunday],["month",utcMonth],["year",utcYear]]),intervalDuration=Symbol("intervalDuration"),intervalType=Symbol("intervalType");for(const[_,R]of timeIntervals)R[intervalDuration]=durations.get(_),R[intervalType]="time";for(const[_,R]of utcIntervals)R[intervalDuration]=durations.get(_),R[intervalType]="utc";const utcFormatIntervals=[["year",utcYear,"utc"],["month",utcMonth,"utc"],["day",unixDay,"utc",6*durationMonth],["hour",utcHour,"utc",3*durationDay],["minute",utcMinute,"utc",6*durationHour],["second",second$1,"utc",30*durationMinute]],timeFormatIntervals=[["year",timeYear,"time"],["month",timeMonth,"time"],["day",timeDay,"time",6*durationMonth],["hour",timeHour,"time",3*durationDay],["minute",timeMinute,"time",6*durationHour],["second",second$1,"time",30*durationMinute]],formatIntervals=[utcFormatIntervals[0],timeFormatIntervals[0],utcFormatIntervals[1],timeFormatIntervals[1],utcFormatIntervals[2],timeFormatIntervals[2],...utcFormatIntervals.slice(3)];function parseTimeInterval(_){let R=`${_}`.toLowerCase();R.endsWith("s")&&(R=R.slice(0,-1));let O=1;const I=/^(?:(\d+)\s+)/.exec(R);switch(I&&(R=R.slice(I[0].length),O=+I[1]),R){case"quarter":R="month",O*=3;break;case"half":R="month",O*=6;break}let F=utcIntervals.get(R);if(!F)throw new Error(`unknown interval: ${_}`);if(O>1&&!F.every)throw new Error(`non-periodic interval: ${R}`);return[R,O]}function timeInterval(_){return asInterval(parseTimeInterval(_),"time")}function utcInterval(_){return asInterval(parseTimeInterval(_),"utc")}function asInterval([_,R],O){let I=(O==="time"?timeIntervals:utcIntervals).get(_);return R>1&&(I=I.every(R),I[intervalDuration]=durations.get(_)*R,I[intervalType]=O),I}function generalizeTimeInterval(_,R){if(!(R>1))return;const O=_[intervalDuration];if(!tickIntervals.some(([,F])=>F===O)||O%durationDay===0&&durationDay<O&&O<durationMonth)return;const[I]=tickIntervals[bisector(([,F])=>Math.log(F)).center(tickIntervals,Math.log(O*R))];return(_[intervalType]==="time"?timeInterval:utcInterval)(I)}function formatTimeInterval(_,R,O){const I=R==="time"?timeFormat:utcFormat;if(O==null)return I(_==="year"?"%Y":_==="month"?"%Y-%m":_==="day"?"%Y-%m-%d":_==="hour"||_==="minute"?"%Y-%m-%dT%H:%M":_==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const F=getTimeTemplate(O);switch(_){case"millisecond":return formatConditional(I(".%L"),I(":%M:%S"),F);case"second":return formatConditional(I(":%S"),I("%-I:%M"),F);case"minute":return formatConditional(I("%-I:%M"),I("%p"),F);case"hour":return formatConditional(I("%-I %p"),I("%b %-d"),F);case"day":return formatConditional(I("%-d"),I("%b"),F);case"month":return formatConditional(I("%b"),I("%Y"),F);case"year":return I("%Y")}throw new Error("unable to format time ticks")}function getTimeTemplate(_){return _==="left"||_==="right"?(R,O)=>`
${R}
${O}`:_==="top"?(R,O)=>`${O}
${R}`:(R,O)=>`${R}
${O}`}function getFormatIntervals(_){return _==="time"?timeFormatIntervals:_==="utc"?utcFormatIntervals:formatIntervals}function inferTimeFormat(_,R,O){const I=max(pairs(R,(F,z)=>Math.abs(z-F)));if(I<1e3)return formatTimeInterval("millisecond","utc",O);for(const[F,z,L,U]of getFormatIntervals(_)){if(I>U||F==="hour"&&!I)break;if(R.every(q=>z.floor(q)>=q))return formatTimeInterval(F,L,O)}}function formatConditional(_,R,O){return(I,F,z)=>{const L=_(I,F),U=R(I,F),q=F-orderof(z);return F!==q&&z[q]!==void 0&&U===R(z[q],q)?L:O(L,U)}}const TypedArray=Object.getPrototypeOf(Uint8Array),objectToString=Object.prototype.toString;function isArray(_){return _ instanceof Array||_ instanceof TypedArray}function isNumberArray(_){return _ instanceof TypedArray&&!isBigIntArray(_)}function isNumberType(_){return _?.prototype instanceof TypedArray&&!isBigIntType(_)}function isBigIntArray(_){return _ instanceof BigInt64Array||_ instanceof BigUint64Array}function isBigIntType(_){return _===BigInt64Array||_===BigUint64Array}const reindex=Symbol("reindex");function valueof(_,R,O){const I=typeof R;return I==="string"?isArrowTable(_)?maybeTypedArrowify(_.getChild(R),O):maybeTypedMap(_,field(R),O):I==="function"?maybeTypedMap(_,R,O):I==="number"||R instanceof Date||I==="boolean"?map(_,constant(R),O):typeof R?.transform=="function"?maybeTypedArrayify(R.transform(_),O):maybeTake(maybeTypedArrayify(R,O),_?.[reindex])}function maybeTake(_,R){return _!=null&&R?take(_,R):_}function maybeTypedMap(_,R,O){return map(_,isNumberType(O)?(I,F)=>coerceNumber(R(I,F)):R,O)}function maybeTypedArrayify(_,R){return R===void 0?arrayify(_):isArrowVector(_)?maybeTypedArrowify(_,R):_ instanceof R?_:R.from(_,isNumberType(R)&&!isNumberArray(_)?coerceNumber:void 0)}function maybeTypedArrowify(_,R){return _==null?_:(R===void 0||R===Array)&&isArrowDateType(_.type)?coerceDates(vectorToArray(_)):maybeTypedArrayify(vectorToArray(_),R)}function vectorToArray(_){return _.nullCount?_.toJSON():_.toArray()}const singleton=[null],field=_=>R=>{const O=R[_];return O===void 0&&R.type==="Feature"?R.properties?.[_]:O},indexOf={transform:range},identity$1={transform:_=>_},one=()=>1,yes=()=>!0,string=_=>_==null?_:`${_}`,number=_=>_==null?_:+_,first=_=>_?_[0]:void 0,second=_=>_?_[1]:void 0,constant=_=>()=>_;function percentile(_){const R=+`${_}`.slice(1)/100;return(O,I)=>quantile$1(O,R,I)}function coerceNumbers(_){return isNumberArray(_)?_:map(_,coerceNumber,Float64Array)}function coerceNumber(_){return _==null?NaN:Number(_)}function coerceDates(_){return map(_,coerceDate)}function coerceDate(_){return _ instanceof Date&&!isNaN(_)?_:typeof _=="string"?parse(_):_==null||isNaN(_=Number(_))?void 0:new Date(_)}function maybeColorChannel(_,R){return _===void 0&&(_=R),_===null?[void 0,"none"]:isColor(_)?[void 0,_]:[_,void 0]}function maybeNumberChannel(_,R){return _===void 0&&(_=R),_===null||typeof _=="number"?[void 0,_]:[_,void 0]}function maybeKeyword(_,R,O){if(_!=null)return keyword(_,R,O)}function keyword(_,R,O){const I=`${_}`.toLowerCase();if(!O.includes(I))throw new Error(`invalid ${R}: ${_}`);return I}function dataify(_){return isArrowTable(_)?_:arrayify(_)}function arrayify(_){if(_==null||isArray(_))return _;if(isArrowVector(_))return maybeTypedArrowify(_);if(isGeoJSON(_))switch(_.type){case"FeatureCollection":return _.features;case"GeometryCollection":return _.geometries;default:return[_]}return Array.from(_)}function isGeoJSON(_){switch(_?.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function map(_,R,O=Array){return _==null?_:_ instanceof O?_.map(R):O.from(_,R)}function slice(_,R=Array){return _ instanceof R?_.slice():R.from(_)}function hasX({x:_,x1:R,x2:O}){return _!==void 0||R!==void 0||O!==void 0}function hasY({y:_,y1:R,y2:O}){return _!==void 0||R!==void 0||O!==void 0}function hasXY(_){return hasX(_)||hasY(_)||_.interval!==void 0}function isObject(_){return _?.toString===objectToString}function isScaleOptions(_){return isObject(_)&&(_.type!==void 0||_.domain!==void 0)}function isOptions(_){return isObject(_)&&typeof _.transform!="function"}function isDomainSort(_){return isOptions(_)&&_.value===void 0&&_.channel===void 0}function maybeZero(_,R,O,I=identity$1){return R===void 0&&O===void 0?(R=0,O=_===void 0?I:_):R===void 0?R=_===void 0?0:_:O===void 0&&(O=_===void 0?0:_),[R,O]}function maybeTuple(_,R){return _===void 0&&R===void 0?[first,second]:[_,R]}function maybeZ({z:_,fill:R,stroke:O}={}){return _===void 0&&([_]=maybeColorChannel(R)),_===void 0&&([_]=maybeColorChannel(O)),_}function lengthof(_){return isArray(_)?_.length:_?.numRows}function range(_){const R=lengthof(_),O=new Uint32Array(R);for(let I=0;I<R;++I)O[I]=I;return O}function take(_,R){return isArray(_)?map(R,O=>_[O],_.constructor):map(R,O=>_.at(O))}function subarray(_,R,O){return _.subarray?_.subarray(R,O):_.slice(R,O)}function keyof(_){return _!==null&&typeof _=="object"?_.valueOf():_}function maybeInput(_,R){if(R[_]!==void 0)return R[_];switch(_){case"x1":case"x2":_="x";break;case"y1":case"y2":_="y";break}return R[_]}function column(_){let R;return[{transform:()=>R,label:labelof(_)},O=>R=O]}function maybeColumn(_){return _==null?[_]:column(_)}function labelof(_,R){return typeof _=="string"?_:_&&_.label!==void 0?_.label:R}function mid(_,R){return{transform(O){const I=_.transform(O),F=R.transform(O);return isTemporal(I)||isTemporal(F)?map(I,(z,L)=>new Date((+I[L]+ +F[L])/2)):map(I,(z,L)=>(+I[L]+ +F[L])/2,Float64Array)},label:_.label}}function maybeApplyInterval(_,R){const O=maybeIntervalTransform(R?.interval,R?.type);return O?map(_,O):_}function maybeIntervalTransform(_,R){const O=maybeInterval(_,R);return O&&(I=>defined(I)?O.floor(I):I)}function maybeInterval(_,R){if(_!=null){if(typeof _=="number")return numberInterval(_);if(typeof _=="string")return(R==="time"?timeInterval:utcInterval)(_);if(typeof _.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof _.offset!="function")throw new Error("invalid interval; missing offset method");return _}}function numberInterval(_){_=+_,0<_&&_<1&&Number.isInteger(1/_)&&(_=-1/_);const R=Math.abs(_);return _<0?{floor:O=>Math.floor(O*R)/R,offset:(O,I=1)=>(O*R+Math.floor(I))/R,range:(O,I)=>range$1(Math.ceil(O*R),I*R).map(F=>F/R)}:{floor:O=>Math.floor(O/R)*R,offset:(O,I=1)=>O+R*Math.floor(I),range:(O,I)=>range$1(Math.ceil(O/R),I/R).map(F=>F*R)}}function maybeRangeInterval(_,R){if(_=maybeInterval(_,R),_&&typeof _.range!="function")throw new Error("invalid interval: missing range method");return _}function maybeNiceInterval(_,R){if(_=maybeRangeInterval(_,R),_&&typeof _.ceil!="function")throw new Error("invalid interval: missing ceil method");return _}function isTimeInterval(_){return isInterval(_)&&typeof _?.floor=="function"&&_.floor()instanceof Date}function isInterval(_){return typeof _?.range=="function"}function maybeValue(_){return _===void 0||isOptions(_)?_:{value:_}}function numberChannel(_){return _==null?null:{transform:R=>valueof(R,_,Float64Array),label:labelof(_)}}function isIterable(_){return _&&typeof _[Symbol.iterator]=="function"}function isTextual(_){for(const R of _)if(R!=null)return typeof R!="object"||R instanceof Date}function isOrdinal(_){for(const R of _){if(R==null)continue;const O=typeof R;return O==="string"||O==="boolean"}}function isTemporal(_){for(const R of _)if(R!=null)return R instanceof Date}function isTemporalString(_){for(const R of _)if(R!=null)return typeof R=="string"&&isNaN(R)&&parse(R)}function isNumericString(_){for(const R of _)if(R!=null){if(typeof R!="string")return!1;if(R.trim())return!isNaN(R)}}function isNumeric(_){for(const R of _)if(R!=null)return typeof R=="number"}function isEvery(_,R){let O;for(const I of _)if(I!=null){if(!R(I))return!1;O=!0}return O}const namedColors=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function isColor(_){return typeof _!="string"?!1:(_=_.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(_)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(_)||namedColors.has(_))}function isOpacity(_){return typeof _=="number"&&(0<=_&&_<=1||isNaN(_))}function isNoneish(_){return _==null||isNone(_)}function isNone(_){return/^\s*none\s*$/i.test(_)}function isRound(_){return/^\s*round\s*$/i.test(_)}function maybeAnchor$1(_,R){return maybeKeyword(_,R,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function maybeFrameAnchor(_="middle"){return maybeAnchor$1(_,"frameAnchor")}function inherit(_={},...R){let O=_;for(const I of R)for(const F in I)if(O[F]===void 0){const z=I[F];O===_?O={...O,[F]:z}:O[F]=z}return O}function named(_){console.warn("named iterables are deprecated; please use an object instead");const R=new Set;return Object.fromEntries(Array.from(_,O=>{const{name:I}=O;if(I==null)throw new Error("missing name");const F=`${I}`;if(F==="__proto__")throw new Error(`illegal name: ${F}`);if(R.has(F))throw new Error(`duplicate name: ${F}`);return R.add(F),[I,O]}))}function maybeNamed(_){return isIterable(_)?named(_):_}function maybeClip(_){return _===!0?_="frame":_===!1?_=null:!isGeoJSON(_)&&_!=null&&(_=keyword(_,"clip",["frame","sphere"]),_==="sphere"&&(_={type:"Sphere"})),_}function isArrowTable(_){return _&&typeof _.getChild=="function"&&typeof _.toArray=="function"&&_.schema&&Array.isArray(_.schema.fields)}function isArrowVector(_){return _&&typeof _.toArray=="function"&&_.type}function isArrowDateType(_){return _&&(_.typeId===8||_.typeId===10)&&_.unit===1}const position=Symbol("position"),color=Symbol("color"),radius=Symbol("radius"),length=Symbol("length"),opacity=Symbol("opacity"),symbol=Symbol("symbol"),projection=Symbol("projection"),registry=new Map([["x",position],["y",position],["fx",position],["fy",position],["r",radius],["color",color],["opacity",opacity],["symbol",symbol],["length",length],["projection",projection]]);function isPosition(_){return _===position||_===projection}function hasNumericRange(_){return _===position||_===radius||_===length||_===opacity}const sqrt3=Math.sqrt(3),sqrt4_3=2/sqrt3,symbolHexagon={draw(_,R){const O=Math.sqrt(R/Math.PI),I=O*sqrt4_3,F=I/2;_.moveTo(0,I),_.lineTo(O,F),_.lineTo(O,-F),_.lineTo(0,-I),_.lineTo(-O,-F),_.lineTo(-O,F),_.closePath()}},symbols=new Map([["asterisk",symbolAsterisk],["circle",symbolCircle],["cross",symbolCross],["diamond",symbolDiamond],["diamond2",symbolDiamond2],["hexagon",symbolHexagon],["plus",symbolPlus],["square",symbolSquare],["square2",symbolSquare2],["star",symbolStar],["times",symbolTimes],["triangle",symbolTriangle],["triangle2",symbolTriangle2],["wye",symbolWye]]);function isSymbolObject(_){return _&&typeof _.draw=="function"}function isSymbol(_){return isSymbolObject(_)?!0:typeof _!="string"?!1:symbols.has(_.toLowerCase())}function maybeSymbol(_){if(_==null||isSymbolObject(_))return _;const R=symbols.get(`${_}`.toLowerCase());if(R)return R;throw new Error(`invalid symbol: ${_}`)}function maybeSymbolChannel(_){if(_==null||isSymbolObject(_))return[void 0,_];if(typeof _=="string"){const R=symbols.get(`${_}`.toLowerCase());if(R)return[void 0,R]}return[_,void 0]}function basic({filter:_,sort:R,reverse:O,transform:I,initializer:F,...z}={},L){if(I===void 0&&(_!=null&&(I=filterTransform(_)),R!=null&&!isDomainSort(R)&&(I=composeTransform(I,sortTransform(R))),O&&(I=composeTransform(I,reverseTransform))),L!=null&&F!=null)throw new Error("transforms cannot be applied after initializers");return{...z,...(R===null||isDomainSort(R))&&{sort:R},transform:composeTransform(I,L)}}function initializer({filter:_,sort:R,reverse:O,initializer:I,...F}={},z){return I===void 0&&(_!=null&&(I=filterTransform(_)),R!=null&&!isDomainSort(R)&&(I=composeInitializer(I,sortTransform(R))),O&&(I=composeInitializer(I,reverseTransform))),{...F,...(R===null||isDomainSort(R))&&{sort:R},initializer:composeInitializer(I,z)}}function composeTransform(_,R){return _==null?R===null?void 0:R:R==null?_===null?void 0:_:function(O,I,F){return{data:O,facets:I}=_.call(this,O,I,F),R.call(this,dataify(O),I,F)}}function composeInitializer(_,R){return _==null?R===null?void 0:R:R==null?_===null?void 0:_:function(O,I,F,...z){let L,U,q,G,V,Z;return{data:U=O,facets:q=I,channels:L}=_.call(this,O,I,F,...z),{data:V=U,facets:Z=q,channels:G}=R.call(this,U,q,{...F,...L},...z),{data:V,facets:Z,channels:{...L,...G}}}}function apply(_,R){return(_.initializer!=null?initializer:basic)(_,R)}function filterTransform(_){return(R,O)=>{const I=valueof(R,_);return{data:R,facets:O.map(F=>F.filter(z=>I[z]))}}}function reverseTransform(_,R){return{data:_,facets:R.map(O=>O.slice().reverse())}}function sort(_,{sort:R,...O}={}){return{...(isOptions(_)&&_.channel!==void 0?initializer:apply)(O,sortTransform(_)),sort:isDomainSort(R)?R:null}}function sortTransform(_){return(typeof _=="function"&&_.length!==1?sortData:sortValue)(_)}function sortData(_){return(R,O)=>{const I=isArray(R)?(F,z)=>_(R[F],R[z]):(F,z)=>_(R.get(F),R.get(z));return{data:R,facets:O.map(F=>F.slice().sort(I))}}}function sortValue(_){let R,O;({channel:R,value:_,order:O}={...maybeValue(_)});const I=R?.startsWith("-");if(I&&(R=R.slice(1)),O===void 0&&(O=I?descendingDefined:ascendingDefined),typeof O!="function")switch(`${O}`.toLowerCase()){case"ascending":O=ascendingDefined;break;case"descending":O=descendingDefined;break;default:throw new Error(`invalid order: ${O}`)}return(F,z,L)=>{let U;if(R===void 0)U=valueof(F,_);else{if(L===void 0)throw new Error("channel sort requires an initializer");if(U=L[R],!U)return{};U=U.value}const q=(G,V)=>O(U[G],U[V]);return{data:F,facets:z.map(G=>G.slice().sort(q))}}}function hasOutput(_,...R){for(const{name:O}of _)if(R.includes(O))return!0;return!1}function maybeOutputs(_,R,O=maybeOutput){const I=Object.entries(_);return R.title!=null&&_.title===void 0&&I.push(["title",reduceTitle]),R.href!=null&&_.href===void 0&&I.push(["href",reduceFirst]),I.filter(([,F])=>F!==void 0).map(([F,z])=>z===null?nullOutput(F):O(F,z,R))}function maybeOutput(_,R,O,I=maybeEvaluator){let F;isObject(R)&&"reduce"in R&&(F=R.scale,R=R.reduce);const z=I(_,R,O),[L,U]=column(z.label);let q;return{name:_,output:F===void 0?L:{value:L,scale:F},initialize(G){z.initialize(G),q=U([])},scope(G,V){z.scope(G,V)},reduce(G,V){q.push(z.reduce(G,V))}}}function nullOutput(_){return{name:_,initialize(){},scope(){},reduce(){}}}function maybeEvaluator(_,R,O,I=maybeReduce){const F=maybeInput(_,O),z=I(R,F);let L,U;return{label:labelof(z===reduceCount?null:F,z.label),initialize(q){L=F===void 0?q:valueof(q,F),z.scope==="data"&&(U=z.reduceIndex(range(q),L))},scope(q,G){z.scope===q&&(U=z.reduceIndex(G,L))},reduce(q,G){return z.scope==null?z.reduceIndex(q,L,G):z.reduceIndex(q,L,U,G)}}}function maybeGroup(_,R){return R?group(_,O=>R[O]):[[,_]]}function maybeReduce(_,R,O=invalidReduce){if(_==null)return O(_);if(typeof _.reduceIndex=="function")return _;if(typeof _.reduce=="function"&&isObject(_))return reduceReduce(_);if(typeof _=="function")return reduceFunction(_);if(/^p\d{2}$/i.test(_))return reduceAccessor(percentile(_));switch(`${_}`.toLowerCase()){case"first":return reduceFirst;case"last":return reduceLast;case"identity":return reduceIdentity;case"count":return reduceCount;case"distinct":return reduceDistinct;case"sum":return R==null?reduceCount:reduceSum;case"proportion":return reduceProportion(R,"data");case"proportion-facet":return reduceProportion(R,"facet");case"deviation":return reduceAccessor(deviation);case"min":return reduceAccessor(min$1);case"min-index":return reduceAccessor(minIndex);case"max":return reduceAccessor(max);case"max-index":return reduceAccessor(maxIndex);case"mean":return reduceMaybeTemporalAccessor(mean);case"median":return reduceMaybeTemporalAccessor(median);case"variance":return reduceAccessor(variance);case"mode":return reduceAccessor(mode)}return O(_)}function invalidReduce(_){throw new Error(`invalid reduce: ${_}`)}function maybeSubgroup(_,R){for(const O in R){const I=R[O];if(I!==void 0&&!_.some(F=>F.name===O))return I}}function maybeSort(_,R,O){if(R){const I=R.output.transform(),F=(z,L)=>ascendingDefined(I[z],I[L]);_.forEach(z=>z.sort(F))}O&&_.forEach(I=>I.reverse())}function reduceReduce(_){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{..._,reduceIndex:_.reduce.bind(_)}}function reduceFunction(_){return{reduceIndex(R,O,I){return _(take(O,R),I)}}}function reduceAccessor(_){return{reduceIndex(R,O){return _(R,I=>O[I])}}}function reduceMaybeTemporalAccessor(_){return{reduceIndex(R,O){const I=_(R,F=>O[F]);return isTemporal(O)?new Date(I):I}}}const reduceIdentity={reduceIndex(_,R){return take(R,_)}},reduceFirst={reduceIndex(_,R){return R[_[0]]}},reduceTitle={reduceIndex(_,R){const I=sort$1(rollup(_,z=>z.length,z=>R[z]),second),F=I.slice(-5).reverse();if(F.length<I.length){const z=I.slice(0,-4);F[4]=[` ${z.length.toLocaleString("en-US")} more`,sum(z,second)]}return F.map(([z,L])=>`${z} (${L.toLocaleString("en-US")})`).join(`
`)}},reduceLast={reduceIndex(_,R){return R[_[_.length-1]]}},reduceCount={label:"Frequency",reduceIndex(_){return _.length}},reduceDistinct={label:"Distinct",reduceIndex(_,R){const O=new InternSet;for(const I of _)O.add(R[I]);return O.size}},reduceSum=reduceAccessor(sum);function reduceProportion(_,R){return _==null?{scope:R,label:"Frequency",reduceIndex:(O,I,F=1)=>O.length/F}:{scope:R,reduceIndex:(O,I,F=1)=>sum(O,z=>I[z])/F}}const reduceZ={reduceIndex(_,R,{z:O}){return O}};function createChannel(_,{scale:R,type:O,value:I,filter:F,hint:z,label:L=labelof(I)},U){return z===void 0&&typeof I?.transform=="function"&&(z=I.hint),inferChannelScale(U,{scale:R,type:O,value:valueof(_,I),label:L,filter:F,hint:z})}function createChannels(_,R){return Object.fromEntries(Object.entries(_).map(([O,I])=>[O,createChannel(R,I,O)]))}function valueObject(_,R){const O=Object.fromEntries(Object.entries(_).map(([I,{scale:F,value:z}])=>{const L=F==null?null:R[F];return[I,L==null?z:map(z,L)]}));return O.channels=_,O}function inferChannelScale(_,R){const{scale:O,value:I}=R;if(O===!0||O==="auto")switch(_){case"fill":case"stroke":case"color":R.scale=O!==!0&&isEvery(I,isColor)?null:"color",R.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":R.scale=O!==!0&&isEvery(I,isOpacity)?null:"opacity",R.defaultScale="opacity";break;case"symbol":O!==!0&&isEvery(I,isSymbol)?(R.scale=null,R.value=map(I,maybeSymbol)):R.scale="symbol",R.defaultScale="symbol";break;default:R.scale=registry.has(_)?_:null;break}else if(O===!1)R.scale=null;else if(O!=null&&!registry.has(O))throw new Error(`unknown scale: ${O}`);return R}function channelDomain(_,R,O,I,F){const{order:z,reverse:L,reduce:U=!0,limit:q}=F;for(const G in F){if(!registry.has(G))continue;let{value:V,order:Z=z,reverse:Y=L,reduce:W=U,limit:ee=q}=maybeValue(F[G]);const ne=V?.startsWith("-");if(ne&&(V=V.slice(1)),Z=Z===void 0?ne!==(V==="width"||V==="height")?descendingGroup:ascendingGroup:maybeOrder$1(Z),W==null||W===!1)continue;const ie=G==="fx"||G==="fy"?reindexFacetChannel(R,I[G]):findScaleChannel(O,G);if(!ie)throw new Error(`missing channel for scale: ${G}`);const se=ie.value,[oe=0,le=1/0]=isIterable(ee)?ee:ee<0?[ee]:[0,ee];if(V==null)ie.domain=()=>{let ue=Array.from(new InternSet(se));return Y&&(ue=ue.reverse()),(oe!==0||le!==1/0)&&(ue=ue.slice(oe,le)),ue};else{const ue=V==="data"?_:V==="height"?difference(O,"y1","y2"):V==="width"?difference(O,"x1","x2"):values(O,V,V==="y"?"y2":V==="x"?"x2":void 0),ce=maybeReduce(W===!0?"max":W,ue);ie.domain=()=>{let fe=rollups(range(se),me=>ce.reduceIndex(me,ue),me=>se[me]);return Z&&fe.sort(Z),Y&&fe.reverse(),(oe!==0||le!==1/0)&&(fe=fe.slice(oe,le)),fe.map(first)}}}}function findScaleChannel(_,R){for(const O in _){const I=_[O];if(I.scale===R)return I}}function reindexFacetChannel(_,R){const O=_.original;if(O===_)return R;const I=R.value,F=R.value=[];for(let z=0;z<O.length;++z){const L=I[O[z][0]];for(const U of _[z])F[U]=L}return R}function difference(_,R,O){const I=values(_,R),F=values(_,O);return map(F,(z,L)=>Math.abs(z-I[L]),Float64Array)}function values(_,R,O){let I=_[R];if(!I&&O!==void 0&&(I=_[O]),I)return I.value;throw new Error(`missing channel: ${R}`)}function maybeOrder$1(_){if(_==null||typeof _=="function")return _;switch(`${_}`.toLowerCase()){case"ascending":return ascendingGroup;case"descending":return descendingGroup}throw new Error(`invalid order: ${_}`)}function ascendingGroup([_,R],[O,I]){return ascendingDefined(R,I)||ascendingDefined(_,O)}function descendingGroup([_,R],[O,I]){return descendingDefined(R,I)||ascendingDefined(_,O)}function getSource(_,R){let O=_[R];if(O){for(;O.source;)O=O.source;return O.source===null?null:O}}const categoricalSchemes=new Map([["accent",schemeAccent],["category10",schemeCategory10],["dark2",schemeDark2],["observable10",schemeObservable10],["paired",schemePaired],["pastel1",schemePastel1],["pastel2",schemePastel2],["set1",schemeSet1],["set2",schemeSet2],["set3",schemeSet3],["tableau10",schemeTableau10]]);function isCategoricalScheme(_){return _!=null&&categoricalSchemes.has(`${_}`.toLowerCase())}const ordinalSchemes=new Map([...categoricalSchemes,["brbg",scheme11(scheme$q,interpolateBrBG)],["prgn",scheme11(scheme$p,interpolatePRGn)],["piyg",scheme11(scheme$o,interpolatePiYG)],["puor",scheme11(scheme$n,interpolatePuOr)],["rdbu",scheme11(scheme$m,interpolateRdBu)],["rdgy",scheme11(scheme$l,interpolateRdGy)],["rdylbu",scheme11(scheme$k,interpolateRdYlBu)],["rdylgn",scheme11(scheme$j,interpolateRdYlGn)],["spectral",scheme11(scheme$i,interpolateSpectral)],["burd",scheme11r(scheme$m,interpolateRdBu)],["buylrd",scheme11r(scheme$k,interpolateRdYlBu)],["blues",scheme9(scheme$5,interpolateBlues)],["greens",scheme9(scheme$4,interpolateGreens)],["greys",scheme9(scheme$3,interpolateGreys)],["oranges",scheme9(scheme,interpolateOranges)],["purples",scheme9(scheme$2,interpolatePurples)],["reds",scheme9(scheme$1,interpolateReds)],["turbo",schemei(interpolateTurbo)],["viridis",schemei(interpolateViridis)],["magma",schemei(magma)],["inferno",schemei(inferno)],["plasma",schemei(plasma)],["cividis",schemei(interpolateCividis)],["cubehelix",schemei(interpolateCubehelixDefault)],["warm",schemei(warm)],["cool",schemei(cool)],["bugn",scheme9(scheme$h,interpolateBuGn)],["bupu",scheme9(scheme$g,interpolateBuPu)],["gnbu",scheme9(scheme$f,interpolateGnBu)],["orrd",scheme9(scheme$e,interpolateOrRd)],["pubu",scheme9(scheme$c,interpolatePuBu)],["pubugn",scheme9(scheme$d,interpolatePuBuGn)],["purd",scheme9(scheme$b,interpolatePuRd)],["rdpu",scheme9(scheme$a,interpolateRdPu)],["ylgn",scheme9(scheme$8,interpolateYlGn)],["ylgnbu",scheme9(scheme$9,interpolateYlGnBu)],["ylorbr",scheme9(scheme$7,interpolateYlOrBr)],["ylorrd",scheme9(scheme$6,interpolateYlOrRd)],["rainbow",schemeicyclical(interpolateRainbow)],["sinebow",schemeicyclical(interpolateSinebow)]]);function scheme9(_,R){return({length:O})=>O===1?[_[3][1]]:O===2?[_[3][1],_[3][2]]:(O=Math.max(3,Math.floor(O)),O>9?quantize(R,O):_[O])}function scheme11(_,R){return({length:O})=>O===2?[_[3][0],_[3][2]]:(O=Math.max(3,Math.floor(O)),O>11?quantize(R,O):_[O])}function scheme11r(_,R){return({length:O})=>O===2?[_[3][2],_[3][0]]:(O=Math.max(3,Math.floor(O)),O>11?quantize(I=>R(1-I),O):_[O].slice().reverse())}function schemei(_){return({length:R})=>quantize(_,Math.max(2,Math.floor(R)))}function schemeicyclical(_){return({length:R})=>quantize(_,Math.floor(R)+1).slice(0,-1)}function ordinalScheme(_){const R=`${_}`.toLowerCase();if(!ordinalSchemes.has(R))throw new Error(`unknown ordinal scheme: ${R}`);return ordinalSchemes.get(R)}function ordinalRange(_,R){const O=ordinalScheme(_),I=typeof O=="function"?O({length:R}):O;return I.length!==R?I.slice(0,R):I}function maybeBooleanRange(_,R="greys"){const O=new Set,[I,F]=ordinalRange(R,2);for(const z of _)if(z!=null)if(z===!0)O.add(F);else if(z===!1)O.add(I);else return;return[...O]}const quantitativeSchemes=new Map([["brbg",interpolateBrBG],["prgn",interpolatePRGn],["piyg",interpolatePiYG],["puor",interpolatePuOr],["rdbu",interpolateRdBu],["rdgy",interpolateRdGy],["rdylbu",interpolateRdYlBu],["rdylgn",interpolateRdYlGn],["spectral",interpolateSpectral],["burd",_=>interpolateRdBu(1-_)],["buylrd",_=>interpolateRdYlBu(1-_)],["blues",interpolateBlues],["greens",interpolateGreens],["greys",interpolateGreys],["purples",interpolatePurples],["reds",interpolateReds],["oranges",interpolateOranges],["turbo",interpolateTurbo],["viridis",interpolateViridis],["magma",magma],["inferno",inferno],["plasma",plasma],["cividis",interpolateCividis],["cubehelix",interpolateCubehelixDefault],["warm",warm],["cool",cool],["bugn",interpolateBuGn],["bupu",interpolateBuPu],["gnbu",interpolateGnBu],["orrd",interpolateOrRd],["pubugn",interpolatePuBuGn],["pubu",interpolatePuBu],["purd",interpolatePuRd],["rdpu",interpolateRdPu],["ylgnbu",interpolateYlGnBu],["ylgn",interpolateYlGn],["ylorbr",interpolateYlOrBr],["ylorrd",interpolateYlOrRd],["rainbow",interpolateRainbow],["sinebow",interpolateSinebow]]);function quantitativeScheme(_){const R=`${_}`.toLowerCase();if(!quantitativeSchemes.has(R))throw new Error(`unknown quantitative scheme: ${R}`);return quantitativeSchemes.get(R)}const divergingSchemes=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function isDivergingScheme(_){return _!=null&&divergingSchemes.has(`${_}`.toLowerCase())}const flip=_=>R=>_(1-R),unit=[0,1],interpolators=new Map([["number",interpolateNumber],["rgb",interpolateRgb],["hsl",interpolateHsl],["hcl",interpolateHcl],["lab",lab]]);function maybeInterpolator(_){const R=`${_}`.toLowerCase();if(!interpolators.has(R))throw new Error(`unknown interpolator: ${R}`);return interpolators.get(R)}function createScaleQ(_,R,O,{type:I,nice:F,clamp:z,zero:L,domain:U=inferAutoDomain(_,O),unknown:q,round:G,scheme:V,interval:Z,range:Y=registry.get(_)===radius?inferRadialRange(O,U):registry.get(_)===length?inferLengthRange(O,U):registry.get(_)===opacity?unit:void 0,interpolate:W=registry.get(_)===color?V==null&&Y!==void 0?interpolateRgb:quantitativeScheme(V!==void 0?V:I==="cyclical"?"rainbow":"turbo"):G?interpolateRound:interpolateNumber,reverse:ee}){if(U=maybeRepeat(U),Z=maybeRangeInterval(Z,I),(I==="cyclical"||I==="sequential")&&(I="linear"),typeof W!="function"&&(W=maybeInterpolator(W)),ee=!!ee,Y!==void 0){const ne=U.length,ie=(Y=maybeRepeat(Y)).length;if(ne!==ie){if(W.length===1)throw new Error("invalid piecewise interpolator");W=piecewise(W,Y),Y=void 0}}if(W.length===1?(ee&&(W=flip(W),ee=!1),Y===void 0&&(Y=Float64Array.from(U,(ne,ie)=>ie/(U.length-1)),Y.length===2&&(Y=unit)),R.interpolate((Y===unit?constant:interpolatePiecewise)(W))):R.interpolate(W),L){const[ne,ie]=extent$1(U);(ne>0||ie<0)&&(U=slice(U),(orderof(U)||1)===Math.sign(ne)?U[0]=0:U[U.length-1]=0)}return ee&&(U=reverse(U)),R.domain(U).unknown(q),F&&(R.nice(maybeNice(F,I)),U=R.domain()),Y!==void 0&&R.range(Y),z&&R.clamp(z),{type:I,domain:U,range:Y,scale:R,interpolate:W,interval:Z}}function maybeRepeat(_){return _=arrayify(_),_.length>=2?_:[_[0],_[0]]}function maybeNice(_,R){return _===!0?void 0:typeof _=="number"?_:maybeNiceInterval(_,R)}function createScaleLinear(_,R,O){return createScaleQ(_,linear(),R,O)}function createScaleSqrt(_,R,O){return createScalePow(_,R,{...O,exponent:.5})}function createScalePow(_,R,{exponent:O=1,...I}){return createScaleQ(_,pow().exponent(O),R,{...I,type:"pow"})}function createScaleLog(_,R,{base:O=10,domain:I=inferLogDomain(R),...F}){return createScaleQ(_,log().base(O),R,{...F,domain:I})}function createScaleSymlog(_,R,{constant:O=1,...I}){return createScaleQ(_,symlog().constant(O),R,I)}function createScaleQuantile(_,R,{range:O,quantiles:I=O===void 0?5:(O=[...O]).length,n:F=I,scheme:z="rdylbu",domain:L=inferQuantileDomain(R),unknown:U,interpolate:q,reverse:G}){return O===void 0&&(O=q!==void 0?quantize(q,F):registry.get(_)===color?ordinalRange(z,F):void 0),L.length>0&&(L=quantile(L,O===void 0?{length:F}:O).quantiles()),createScaleThreshold(_,R,{domain:L,range:O,reverse:G,unknown:U})}function createScaleQuantize(_,R,{range:O,n:I=O===void 0?5:(O=[...O]).length,scheme:F="rdylbu",domain:z=inferAutoDomain(_,R),unknown:L,interpolate:U,reverse:q}){const[G,V]=extent$1(z);let Z;return O===void 0?(Z=ticks(G,V,I),Z[0]<=G&&Z.splice(0,1),Z[Z.length-1]>=V&&Z.pop(),I=Z.length+1,O=U!==void 0?quantize(U,I):registry.get(_)===color?ordinalRange(F,I):void 0):(Z=quantize(interpolateNumber(G,V),I+1).slice(1,-1),G instanceof Date&&(Z=Z.map(Y=>new Date(Y)))),orderof(arrayify(z))<0&&Z.reverse(),createScaleThreshold(_,R,{domain:Z,range:O,reverse:q,unknown:L})}function createScaleThreshold(_,R,{domain:O=[0],unknown:I,scheme:F="rdylbu",interpolate:z,range:L=z!==void 0?quantize(z,O.length+1):registry.get(_)===color?ordinalRange(F,O.length+1):void 0,reverse:U}){O=arrayify(O);const q=orderof(O);if(!isNaN(q)&&!isOrdered(O,q))throw new Error(`the ${_} scale has a non-monotonic domain`);return U&&(L=reverse(L)),{type:"threshold",scale:threshold(q<0?reverse(O):O,L===void 0?[]:L).unknown(I),domain:O,range:L}}function isOrdered(_,R){for(let O=1,I=_.length,F=_[0];O<I;++O){const z=descending(F,F=_[O]);if(z!==0&&z!==R)return!1}return!0}function createScaleIdentity(_){return{type:"identity",scale:hasNumericRange(registry.get(_))?identity$2():R=>R}}function inferDomain$1(_,R=finite){return _.length?[min$1(_,({value:O})=>O===void 0?O:min$1(O,R)),max(_,({value:O})=>O===void 0?O:max(O,R))]:[0,1]}function inferAutoDomain(_,R){const O=registry.get(_);return(O===radius||O===opacity||O===length?inferZeroDomain:inferDomain$1)(R)}function inferZeroDomain(_){return[0,_.length?max(_,({value:R})=>R===void 0?R:max(R,finite)):1]}function inferRadialRange(_,R){const O=_.find(({radius:L})=>L!==void 0);if(O!==void 0)return[0,O.radius];const I=quantile$1(_,.5,({value:L})=>L===void 0?NaN:quantile$1(L,.25,positive)),F=R.map(L=>3*Math.sqrt(L/I)),z=30/max(F);return z<1?F.map(L=>L*z):F}function inferLengthRange(_,R){const O=median(_,({value:z})=>z===void 0?NaN:median(z,Math.abs)),I=R.map(z=>12*z/O),F=60/max(I);return F<1?I.map(z=>z*F):I}function inferLogDomain(_){for(const{value:R}of _)if(R!==void 0)for(let O of R){if(O>0)return inferDomain$1(_,positive);if(O<0)return inferDomain$1(_,negative)}return[1,10]}function inferQuantileDomain(_){const R=[];for(const{value:O}of _)if(O!==void 0)for(const I of O)R.push(I);return R}function interpolatePiecewise(_){return(R,O)=>I=>_(R+I*(O-R))}let warnings=0,lastMessage;function consumeWarnings(){const _=warnings;return warnings=0,lastMessage=void 0,_}function warn(_){_!==lastMessage&&(lastMessage=_,console.warn(_),++warnings)}function createScaleD(_,R,O,I,{type:F,nice:z,clamp:L,domain:U=inferDomain$1(I),unknown:q,pivot:G=0,scheme:V,range:Z,symmetric:Y=!0,interpolate:W=registry.get(_)===color?V==null&&Z!==void 0?interpolateRgb:quantitativeScheme(V!==void 0?V:"rdbu"):interpolateNumber,reverse:ee}){G=+G,U=arrayify(U);let[ne,ie]=U;if(U.length>2&&warn(`Warning: the diverging ${_} scale domain contains extra elements.`),descending(ne,ie)<0&&([ne,ie]=[ie,ne],ee=!ee),ne=Math.min(ne,G),ie=Math.max(ie,G),typeof W!="function"&&(W=maybeInterpolator(W)),Z!==void 0&&(W=W.length===1?interpolatePiecewise(W)(...Z):piecewise(W,Z)),ee&&(W=flip(W)),Y){const se=O.apply(G),oe=se-O.apply(ne),le=O.apply(ie)-se;oe<le?ne=O.invert(se-le):oe>le&&(ie=O.invert(se+oe))}return R.domain([ne,G,ie]).unknown(q).interpolator(W),L&&R.clamp(L),z&&R.nice(z),{type:F,domain:[ne,ie],pivot:G,interpolate:W,scale:R}}function createScaleDiverging(_,R,O){return createScaleD(_,diverging(),transformIdentity,R,O)}function createScaleDivergingSqrt(_,R,O){return createScaleDivergingPow(_,R,{...O,exponent:.5})}function createScaleDivergingPow(_,R,{exponent:O=1,...I}){return createScaleD(_,divergingPow().exponent(O=+O),transformPow(O),R,{...I,type:"diverging-pow"})}function createScaleDivergingLog(_,R,{base:O=10,pivot:I=1,domain:F=inferDomain$1(R,I<0?negative:positive),...z}){return createScaleD(_,divergingLog().base(O=+O),transformLog,R,{domain:F,pivot:I,...z})}function createScaleDivergingSymlog(_,R,{constant:O=1,...I}){return createScaleD(_,divergingSymlog().constant(O=+O),transformSymlog(O),R,I)}const transformIdentity={apply(_){return _},invert(_){return _}},transformLog={apply:Math.log,invert:Math.exp},transformSqrt={apply(_){return Math.sign(_)*Math.sqrt(Math.abs(_))},invert(_){return Math.sign(_)*(_*_)}};function transformPow(_){return _===.5?transformSqrt:{apply(R){return Math.sign(R)*Math.pow(Math.abs(R),_)},invert(R){return Math.sign(R)*Math.pow(Math.abs(R),1/_)}}}function transformSymlog(_){return{apply(R){return Math.sign(R)*Math.log1p(Math.abs(R/_))},invert(R){return Math.sign(R)*Math.expm1(Math.abs(R))*_}}}function createScaleT(_,R,O,I){return createScaleQ(_,R,O,I)}function createScaleTime(_,R,O){return createScaleT(_,time(),R,O)}function createScaleUtc(_,R,O){return createScaleT(_,utcTime(),R,O)}const ordinalImplicit=Symbol("ordinal");function createScaleO(_,R,O,{type:I,interval:F,domain:z,range:L,reverse:U,hint:q}){return F=maybeRangeInterval(F,I),z===void 0&&(z=inferDomain(O,F,_)),(I==="categorical"||I===ordinalImplicit)&&(I="ordinal"),U&&(z=reverse(z)),z=R.domain(z).domain(),L!==void 0&&(typeof L=="function"&&(L=L(z)),R.range(L)),{type:I,domain:z,range:L,scale:R,hint:q,interval:F}}function createScaleOrdinal(_,R,{type:O,interval:I,domain:F,range:z,scheme:L,unknown:U,...q}){I=maybeRangeInterval(I,O),F===void 0&&(F=inferDomain(R,I,_));let G;if(registry.get(_)===symbol)G=inferSymbolHint(R),z=z===void 0?inferSymbolRange(G):map(z,maybeSymbol);else if(registry.get(_)===color&&(z===void 0&&(O==="ordinal"||O===ordinalImplicit)&&(z=maybeBooleanRange(F,L),z!==void 0&&(L=void 0)),L===void 0&&z===void 0&&(L=O==="ordinal"?"turbo":"observable10"),L!==void 0))if(z!==void 0){const V=quantitativeScheme(L),Z=z[0],Y=z[1]-z[0];z=({length:W})=>quantize(ee=>V(Z+Y*ee),W)}else z=ordinalScheme(L);if(U===implicit)throw new Error(`implicit unknown on ${_} scale is not supported`);return createScaleO(_,ordinal().unknown(U),R,{...q,type:O,domain:F,range:z,hint:G})}function createScalePoint(_,R,{align:O=.5,padding:I=.5,...F}){return maybeRound(point$4().align(O).padding(I),R,F,_)}function createScaleBand(_,R,{align:O=.5,padding:I=.1,paddingInner:F=I,paddingOuter:z=_==="fx"||_==="fy"?0:I,...L}){return maybeRound(band().align(O).paddingInner(F).paddingOuter(z),R,L,_)}function maybeRound(_,R,O,I){let{round:F}=O;return F!==void 0&&_.round(F=!!F),_=createScaleO(I,_,R,O),_.round=F,_}function inferDomain(_,R,O){const I=new InternSet;for(const{value:F,domain:z}of _){if(z!==void 0)return z();if(F!==void 0)for(const L of F)I.add(L)}if(R!==void 0){const[F,z]=extent$1(I).map(R.floor,R);return R.range(F,R.offset(z))}if(I.size>1e4&&registry.get(O)===position)throw new Error(`implicit ordinal domain of ${O} scale has more than 10,000 values`);return sort$1(I,ascendingDefined)}function inferHint(_,R){let O;for(const{hint:I}of _){const F=I?.[R];if(F!==void 0){if(O===void 0)O=F;else if(O!==F)return}}return O}function inferSymbolHint(_){return{fill:inferHint(_,"fill"),stroke:inferHint(_,"stroke")}}function inferSymbolRange(_){return isNoneish(_.fill)?symbolsStroke:symbolsFill}function createScales(_,{label:R,inset:O=0,insetTop:I=O,insetRight:F=O,insetBottom:z=O,insetLeft:L=O,round:U,nice:q,clamp:G,zero:V,align:Z,padding:Y,projection:W,facet:{label:ee=R}={},...ne}={}){const ie={};for(const[se,oe]of _){const le=ne[se],ue=createScale(se,oe,{round:registry.get(se)===position?U:void 0,nice:q,clamp:G,zero:V,align:Z,padding:Y,projection:W,...le});if(ue){let{label:ce=se==="fx"||se==="fy"?ee:R,percent:fe,transform:me,inset:he,insetTop:pe=he!==void 0?he:se==="y"?I:0,insetRight:ge=he!==void 0?he:se==="x"?F:0,insetBottom:_e=he!==void 0?he:se==="y"?z:0,insetLeft:ye=he!==void 0?he:se==="x"?L:0}=le||{};if(me==null)me=void 0;else if(typeof me!="function")throw new Error("invalid scale transform; not a function");ue.percent=!!fe,ue.label=ce===void 0?inferScaleLabel(oe,ue):ce,ue.transform=me,se==="x"||se==="fx"?(ue.insetLeft=+ye,ue.insetRight=+ge):(se==="y"||se==="fy")&&(ue.insetTop=+pe,ue.insetBottom=+_e),ie[se]=ue}}return ie}function createScaleFunctions(_){const R={},O={scales:R};for(const[I,F]of Object.entries(_)){const{scale:z,type:L,interval:U,label:q}=F;R[I]=exposeScale(F),O[I]=z,z.type=L,U!=null&&(z.interval=U),q!=null&&(z.label=q)}return O}function autoScaleRange(_,R){const{x:O,y:I,fx:F,fy:z}=_,L=F||z?outerDimensions(R):R;F&&autoScaleRangeX(F,L),z&&autoScaleRangeY(z,L);const U=F||z?innerDimensions(_,R):R;O&&autoScaleRangeX(O,U),I&&autoScaleRangeY(I,U)}function inferScaleLabel(_=[],R){let O;for(const{label:I}of _)if(I!==void 0){if(O===void 0)O=I;else if(O!==I)return}if(O!==void 0)return!isOrdinalScale(R)&&R.percent&&(O=`${O} (%)`),{inferred:!0,toString:()=>O}}function inferScaleOrder(_){return Math.sign(orderof(_.domain()))*Math.sign(orderof(_.range()))}function outerDimensions(_){const{marginTop:R,marginRight:O,marginBottom:I,marginLeft:F,width:z,height:L,facet:{marginTop:U,marginRight:q,marginBottom:G,marginLeft:V}}=_;return{marginTop:Math.max(R,U),marginRight:Math.max(O,q),marginBottom:Math.max(I,G),marginLeft:Math.max(F,V),width:z,height:L}}function innerDimensions({fx:_,fy:R},O){const{marginTop:I,marginRight:F,marginBottom:z,marginLeft:L,width:U,height:q}=outerDimensions(O);return{marginTop:I,marginRight:F,marginBottom:z,marginLeft:L,width:_?_.scale.bandwidth()+L+F:U,height:R?R.scale.bandwidth()+I+z:q,facet:{width:U,height:q}}}function autoScaleRangeX(_,R){if(_.range===void 0){const{insetLeft:O,insetRight:I}=_,{width:F,marginLeft:z=0,marginRight:L=0}=R,U=z+O,q=F-L-I;_.range=[U,Math.max(U,q)],isOrdinalScale(_)||(_.range=piecewiseRange(_)),_.scale.range(_.range)}autoScaleRound(_)}function autoScaleRangeY(_,R){if(_.range===void 0){const{insetTop:O,insetBottom:I}=_,{height:F,marginTop:z=0,marginBottom:L=0}=R,U=z+O,q=F-L-I;_.range=[Math.max(U,q),U],isOrdinalScale(_)?_.range.reverse():_.range=piecewiseRange(_),_.scale.range(_.range)}autoScaleRound(_)}function autoScaleRound(_){_.round===void 0&&isBandScale(_)&&roundError(_)<=30&&_.scale.round(!0)}function roundError({scale:_}){const R=_.domain().length,[O,I]=_.range(),F=_.paddingInner?_.paddingInner():1,z=_.paddingOuter?_.paddingOuter():_.padding(),L=R-F,U=Math.abs(I-O)/Math.max(1,L+z*2);return(U-Math.floor(U))*L}function piecewiseRange(_){const R=_.scale.domain().length+isThresholdScale(_);if(!(R>2))return _.range;const[O,I]=_.range;return Array.from({length:R},(F,z)=>O+z/(R-1)*(I-O))}function createScale(_,R=[],O={}){const I=inferScaleType(_,R,O);if(O.type===void 0&&O.domain===void 0&&O.range===void 0&&O.interval==null&&_!=="fx"&&_!=="fy"&&isOrdinalScale({type:I})){const F=R.map(({value:z})=>z).filter(z=>z!==void 0);F.some(isTemporal)?warn(`Warning: some data associated with the ${_} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${formatScaleType(I)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${_} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${_} scale to "${formatScaleType(I)}".`):F.some(isTemporalString)?warn(`Warning: some data associated with the ${_} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${formatScaleType(I)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${_} scale to "${formatScaleType(I)}".`):F.some(isNumericString)&&warn(`Warning: some data associated with the ${_} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${formatScaleType(I)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${_} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${_} scale to "${formatScaleType(I)}".`)}switch(O.type=I,I){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":O=coerceType(R,O,coerceNumbers);break;case"identity":switch(registry.get(_)){case position:O=coerceType(R,O,coerceNumbers);break;case symbol:O=coerceType(R,O,coerceSymbols);break}break;case"utc":case"time":O=coerceType(R,O,coerceDates);break}switch(I){case"diverging":return createScaleDiverging(_,R,O);case"diverging-sqrt":return createScaleDivergingSqrt(_,R,O);case"diverging-pow":return createScaleDivergingPow(_,R,O);case"diverging-log":return createScaleDivergingLog(_,R,O);case"diverging-symlog":return createScaleDivergingSymlog(_,R,O);case"categorical":case"ordinal":case ordinalImplicit:return createScaleOrdinal(_,R,O);case"cyclical":case"sequential":case"linear":return createScaleLinear(_,R,O);case"sqrt":return createScaleSqrt(_,R,O);case"threshold":return createScaleThreshold(_,R,O);case"quantile":return createScaleQuantile(_,R,O);case"quantize":return createScaleQuantize(_,R,O);case"pow":return createScalePow(_,R,O);case"log":return createScaleLog(_,R,O);case"symlog":return createScaleSymlog(_,R,O);case"utc":return createScaleUtc(_,R,O);case"time":return createScaleTime(_,R,O);case"point":return createScalePoint(_,R,O);case"band":return createScaleBand(_,R,O);case"identity":return createScaleIdentity(_);case void 0:return;default:throw new Error(`unknown scale type: ${I}`)}}function formatScaleType(_){return typeof _=="symbol"?_.description:_}function maybeScaleType(_){return typeof _=="string"?`${_}`.toLowerCase():_}const typeProjection={toString:()=>"projection"};function inferScaleType(_,R,{type:O,domain:I,range:F,scheme:z,pivot:L,projection:U}){if(O=maybeScaleType(O),_==="fx"||_==="fy")return"band";(_==="x"||_==="y")&&U!=null&&(O=typeProjection);for(const V of R){const Z=maybeScaleType(V.type);if(Z!==void 0){if(O===void 0)O=Z;else if(O!==Z)throw new Error(`scale incompatible with channel: ${O} !== ${Z}`)}}if(O===typeProjection)return;if(O!==void 0)return O;if(I===void 0&&!R.some(({value:V})=>V!==void 0))return;const q=registry.get(_);if(q===radius)return"sqrt";if(q===opacity||q===length)return"linear";if(q===symbol)return"ordinal";const G=(I??F)?.length;if(G<2||G>2)return asOrdinalType(q);if(I!==void 0){if(isOrdinal(I))return asOrdinalType(q);if(isTemporal(I))return"utc"}else{const V=R.map(({value:Z})=>Z).filter(Z=>Z!==void 0);if(V.some(isOrdinal))return asOrdinalType(q);if(V.some(isTemporal))return"utc"}if(q===color){if(L!=null||isDivergingScheme(z))return"diverging";if(isCategoricalScheme(z))return"categorical"}return"linear"}function asOrdinalType(_){switch(_){case position:return"point";case color:return ordinalImplicit;default:return"ordinal"}}function isOrdinalScale({type:_}){return _==="ordinal"||_==="point"||_==="band"||_===ordinalImplicit}function isThresholdScale({type:_}){return _==="threshold"}function isBandScale({type:_}){return _==="point"||_==="band"}function isCollapsed(_){if(_===void 0)return!0;const R=_.domain(),O=_(R[0]);for(let I=1,F=R.length;I<F;++I)if(_(R[I])-O)return!1;return!0}function coerceType(_,{domain:R,...O},I){for(const F of _)F.value!==void 0&&(R===void 0&&(R=F.value?.domain),F.value=I(F.value));return{domain:R===void 0?R:I(R),...O}}function coerceSymbols(_){return map(_,maybeSymbol)}function exposeScales(_){return R=>{if(!registry.has(R=`${R}`))throw new Error(`unknown scale: ${R}`);return _[R]}}function exposeScale({scale:_,type:R,domain:O,range:I,interpolate:F,interval:z,transform:L,percent:U,pivot:q}){if(R==="identity")return{type:"identity",apply:V=>V,invert:V=>V};const G=_.unknown?_.unknown():void 0;return{type:R,domain:slice(O),...I!==void 0&&{range:slice(I)},...L!==void 0&&{transform:L},...U&&{percent:U},...G!==void 0&&{unknown:G},...z!==void 0&&{interval:z},...F!==void 0&&{interpolate:F},..._.clamp&&{clamp:_.clamp()},...q!==void 0&&{pivot:q,symmetric:!1},..._.base&&{base:_.base()},..._.exponent&&{exponent:_.exponent()},..._.constant&&{constant:_.constant()},..._.align&&{align:_.align(),round:_.round()},..._.padding&&(_.paddingInner?{paddingInner:_.paddingInner(),paddingOuter:_.paddingOuter()}:{padding:_.padding()}),..._.bandwidth&&{bandwidth:_.bandwidth(),step:_.step()},apply:V=>_(V),..._.invert&&{invert:V=>_.invert(V)}}}function createFacets(_,R){const{fx:O,fy:I}=createScales(_,R),F=O?.scale.domain(),z=I?.scale.domain();return F&&z?cross(F,z).map(([L,U],q)=>({x:L,y:U,i:q})):F?F.map((L,U)=>({x:L,i:U})):z?z.map((L,U)=>({y:L,i:U})):void 0}function recreateFacets(_,{x:R,y:O}){return R&&=facetIndex(R),O&&=facetIndex(O),_.filter(R&&O?I=>R.has(I.x)&&O.has(I.y):R?I=>R.has(I.x):I=>O.has(I.y)).sort(R&&O?(I,F)=>R.get(I.x)-R.get(F.x)||O.get(I.y)-O.get(F.y):R?(I,F)=>R.get(I.x)-R.get(F.x):(I,F)=>O.get(I.y)-O.get(F.y))}function facetGroups(_,{fx:R,fy:O}){const I=range(_),F=R?.value,z=O?.value;return R&&O?rollup(I,L=>(L.fx=F[L[0]],L.fy=z[L[0]],L),L=>F[L],L=>z[L]):R?rollup(I,L=>(L.fx=F[L[0]],L),L=>F[L]):rollup(I,L=>(L.fy=z[L[0]],L),L=>z[L])}function facetTranslator(_,R,{marginTop:O,marginLeft:I}){const F=_?({x:L})=>_(L)-I:()=>0,z=R?({y:L})=>R(L)-O:()=>0;return function(L){this.tagName==="svg"?(this.setAttribute("x",F(L)),this.setAttribute("y",z(L))):this.setAttribute("transform",`translate(${F(L)},${z(L)})`)}}function facetExclude(_){const R=[],O=new Uint32Array(sum(_,I=>I.length));for(const I of _){let F=0;for(const z of _)I!==z&&(O.set(z,F),F+=z.length);R.push(O.slice(0,F))}return R}const facetAnchors=new Map([["top",facetAnchorTop],["right",facetAnchorRight],["bottom",facetAnchorBottom],["left",facetAnchorLeft],["top-left",and(facetAnchorTop,facetAnchorLeft)],["top-right",and(facetAnchorTop,facetAnchorRight)],["bottom-left",and(facetAnchorBottom,facetAnchorLeft)],["bottom-right",and(facetAnchorBottom,facetAnchorRight)],["top-empty",facetAnchorTopEmpty],["right-empty",facetAnchorRightEmpty],["bottom-empty",facetAnchorBottomEmpty],["left-empty",facetAnchorLeftEmpty],["empty",facetAnchorEmpty]]);function maybeFacetAnchor(_){if(_==null)return null;const R=facetAnchors.get(`${_}`.toLowerCase());if(R)return R;throw new Error(`invalid facet anchor: ${_}`)}const indexCache=new WeakMap;function facetIndex(_){let R=indexCache.get(_);return R||indexCache.set(_,R=new InternMap(map(_,(O,I)=>[O,I]))),R}function facetIndexOf(_,R){return facetIndex(_).get(R)}function facetFind(_,R,O){return R=keyof(R),O=keyof(O),_.find(I=>Object.is(keyof(I.x),R)&&Object.is(keyof(I.y),O))}function facetEmpty(_,R,O){return facetFind(_,R,O)?.empty}function facetAnchorTop(_,{y:R},{y:O}){return R?facetIndexOf(R,O)===0:!0}function facetAnchorBottom(_,{y:R},{y:O}){return R?facetIndexOf(R,O)===R.length-1:!0}function facetAnchorLeft(_,{x:R},{x:O}){return R?facetIndexOf(R,O)===0:!0}function facetAnchorRight(_,{x:R},{x:O}){return R?facetIndexOf(R,O)===R.length-1:!0}function facetAnchorTopEmpty(_,{y:R},{x:O,y:I,empty:F}){if(F)return!1;if(!R)return;const z=facetIndexOf(R,I);if(z>0)return facetEmpty(_,O,R[z-1])}function facetAnchorBottomEmpty(_,{y:R},{x:O,y:I,empty:F}){if(F)return!1;if(!R)return;const z=facetIndexOf(R,I);if(z<R.length-1)return facetEmpty(_,O,R[z+1])}function facetAnchorLeftEmpty(_,{x:R},{x:O,y:I,empty:F}){if(F)return!1;if(!R)return;const z=facetIndexOf(R,O);if(z>0)return facetEmpty(_,R[z-1],I)}function facetAnchorRightEmpty(_,{x:R},{x:O,y:I,empty:F}){if(F)return!1;if(!R)return;const z=facetIndexOf(R,O);if(z<R.length-1)return facetEmpty(_,R[z+1],I)}function facetAnchorEmpty(_,R,{empty:O}){return O}function and(_,R){return function(){return _.apply(null,arguments)&&R.apply(null,arguments)}}function facetFilter(_,{channels:{fx:R,fy:O},groups:I}){return R&&O?_.map(({x:F,y:z})=>I.get(F)?.get(z)??[]):R?_.map(({x:F})=>I.get(F)??[]):_.map(({y:F})=>I.get(F)??[])}const pi=Math.PI,tau=2*pi,defaultAspectRatio=.618;function createProjection({projection:_,inset:R=0,insetTop:O=R,insetRight:I=R,insetBottom:F=R,insetLeft:z=R}={},L){if(_==null)return;if(typeof _.stream=="function")return _;let U,q,G="frame";if(isObject(_)){let ce;if({type:_,domain:q,inset:ce,insetTop:O=ce!==void 0?ce:O,insetRight:I=ce!==void 0?ce:I,insetBottom:F=ce!==void 0?ce:F,insetLeft:z=ce!==void 0?ce:z,clip:G=G,...U}=_,_==null)return}typeof _!="function"&&({type:_}=namedProjection(_));const{width:V,height:Z,marginLeft:Y,marginRight:W,marginTop:ee,marginBottom:ne}=L,ie=V-Y-W-z-I,se=Z-ee-ne-O-F;if(_=_?.({width:ie,height:se,clip:G,...U}),_==null)return;G=maybePostClip(G,Y,ee,V-W,Z-ne);let oe=Y+z,le=ee+O,ue;if(q!=null){const[[ce,fe],[me,he]]=geoPath(_).bounds(q),pe=Math.min(ie/(me-ce),se/(he-fe));pe>0?(oe-=(pe*(ce+me)-ie)/2,le-=(pe*(fe+he)-se)/2,ue=geoTransform({point(ge,_e){this.stream.point(ge*pe+oe,_e*pe+le)}})):warn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return ue??=oe===0&&le===0?identity():geoTransform({point(ce,fe){this.stream.point(ce+oe,fe+le)}}),{stream:ce=>_.stream(ue.stream(G(ce)))}}function namedProjection(_){switch(`${_}`.toLowerCase()){case"albers-usa":return scaleProjection(geoAlbersUsa,.7463,.4673);case"albers":return conicProjection(geoAlbers,.7463,.4673);case"azimuthal-equal-area":return scaleProjection(geoAzimuthalEqualArea,4,4);case"azimuthal-equidistant":return scaleProjection(geoAzimuthalEquidistant,tau,tau);case"conic-conformal":return conicProjection(geoConicConformal,tau,tau);case"conic-equal-area":return conicProjection(geoConicEqualArea,6.1702,2.9781);case"conic-equidistant":return conicProjection(geoConicEquidistant,7.312,3.6282);case"equal-earth":return scaleProjection(geoEqualEarth,5.4133,2.6347);case"equirectangular":return scaleProjection(geoEquirectangular,tau,pi);case"gnomonic":return scaleProjection(geoGnomonic,3.4641,3.4641);case"identity":return{type:identity};case"reflect-y":return{type:reflectY};case"mercator":return scaleProjection(geoMercator,tau,tau);case"orthographic":return scaleProjection(geoOrthographic,2,2);case"stereographic":return scaleProjection(geoStereographic,2,2);case"transverse-mercator":return scaleProjection(geoTransverseMercator,tau,tau);default:throw new Error(`unknown projection type: ${_}`)}}function maybePostClip(_,R,O,I,F){if(_===!1||_==null||typeof _=="number")return z=>z;if(_===!0&&(_="frame"),`${_}`.toLowerCase()==="frame")return clipRectangle(R,O,I,F);throw new Error(`unknown projection clip type: ${_}`)}function scaleProjection(_,R,O){return{type:({width:I,height:F,rotate:z,precision:L=.15,clip:U})=>{const q=_();return L!=null&&q.precision?.(L),z!=null&&q.rotate?.(z),typeof U=="number"&&q.clipAngle?.(U),I!=null&&(q.scale(Math.min(I/R,F/O)),q.translate([I/2,F/2])),q},aspectRatio:O/R}}function conicProjection(_,R,O){const{type:I,aspectRatio:F}=scaleProjection(_,R,O);return{type:z=>{const{parallels:L,domain:U,width:q,height:G}=z,V=I(z);return L!=null&&(V.parallels(L),U===void 0&&q!=null&&V.fitSize([q,G],{type:"Sphere"})),V},aspectRatio:F}}const identity=constant({stream:_=>_}),reflectY=constant(geoTransform({point(_,R){this.stream.point(_,-R)}}));function project(_,R,O,I){const F=O[_],z=O[R],L=F.length,U=O[_]=new Float64Array(L).fill(NaN),q=O[R]=new Float64Array(L).fill(NaN);let G;const V=I.stream({point(Z,Y){U[G]=Z,q[G]=Y}});for(G=0;G<L;++G)V.point(F[G],z[G])}function hasProjection({projection:_}={}){return _==null?!1:typeof _.stream=="function"?!0:(isObject(_)&&(_=_.type),_!=null)}function projectionAspectRatio(_){if(typeof _?.stream=="function")return defaultAspectRatio;if(isObject(_)){let R,O;if({domain:R,type:_,...O}=_,R!=null&&_!=null){const I=typeof _=="string"?namedProjection(_).type:_,[[F,z],[L,U]]=geoPath(I({...O,width:100,height:100})).bounds(R),q=(U-z)/(L-F);return q&&isFinite(q)?q<.2?.2:q>5?5:q:defaultAspectRatio}}if(_!=null){if(typeof _!="function"){const{aspectRatio:R}=namedProjection(_);if(R)return R}return defaultAspectRatio}}function getGeometryChannels(_){const R=[],O=[],I={scale:"x",value:R},F={scale:"y",value:O},z={point(L,U){R.push(L),O.push(U)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const L of _.value)geoStream(L,z);return[I,F]}function xyProjection({x:_,y:R}){if(_||R)return _??=O=>O,R??=O=>O,geoTransform({point(O,I){this.stream.point(_(O),R(I))}})}function createContext(_={}){const{document:R=typeof window<"u"?window.document:void 0,clip:O}=_;return{document:R,clip:maybeClip(O)}}function create(_,{document:R}){return select(creator(_).call(R.documentElement))}const unset=Symbol("unset");function memoize1(_){return(_.length===1?memoize1Arg:memoize1Args)(_)}function memoize1Arg(_){let R,O=unset;return I=>(Object.is(O,I)||(O=I,R=_(I)),R)}function memoize1Args(_){let R,O;return(...I)=>((O?.length!==I.length||O.some((F,z)=>!Object.is(F,I[z])))&&(O=I,R=_(...I)),R)}const numberFormat=memoize1(_=>new Intl.NumberFormat(_));memoize1((_,R)=>new Intl.DateTimeFormat(_,{timeZone:"UTC",...R&&{month:R}}));memoize1((_,R)=>new Intl.DateTimeFormat(_,{timeZone:"UTC",...R&&{weekday:R}}));function formatNumber(_="en-US"){const R=numberFormat(_);return O=>O!=null&&!isNaN(O)?R.format(O):void 0}function formatIsoDate(_){return format(_,"Invalid Date")}function formatAuto(_="en-US"){const R=formatNumber(_);return O=>(O instanceof Date?formatIsoDate:typeof O=="number"?R:string)(O)}const formatDefault=formatAuto(),offset=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let nextClipId=0;function getClipId(){return`plot-clip-${++nextClipId}`}function styles(_,{title:R,href:O,ariaLabel:I,ariaDescription:F,ariaHidden:z,target:L,fill:U,fillOpacity:q,stroke:G,strokeWidth:V,strokeOpacity:Z,strokeLinejoin:Y,strokeLinecap:W,strokeMiterlimit:ee,strokeDasharray:ne,strokeDashoffset:ie,opacity:se,mixBlendMode:oe,imageFilter:le,paintOrder:ue,pointerEvents:ce,shapeRendering:fe,channels:me},{ariaLabel:he,fill:pe="currentColor",fillOpacity:ge,stroke:_e="none",strokeOpacity:ye,strokeWidth:we,strokeLinecap:ve,strokeLinejoin:$e,strokeMiterlimit:be,paintOrder:Ce}){pe===null&&(U=null,q=null),_e===null&&(G=null,Z=null),isNoneish(pe)?!isNoneish(_e)&&(!isNoneish(U)||me?.fill)&&(_e="none"):isNoneish(_e)&&(!isNoneish(G)||me?.stroke)&&(pe="none");const[De,Ne]=maybeColorChannel(U,pe),[Me,Te]=maybeNumberChannel(q,ge),[Re,Se]=maybeColorChannel(G,_e),[ze,Pe]=maybeNumberChannel(Z,ye),[Qe,Ze]=maybeNumberChannel(se);isNone(Se)||(V===void 0&&(V=we),W===void 0&&(W=ve),Y===void 0&&(Y=$e),ee===void 0&&!isRound(Y)&&(ee=be),!isNone(Ne)&&ue===void 0&&(ue=Ce));const[Le,ke]=maybeNumberChannel(V);return pe!==null&&(_.fill=impliedString(Ne,"currentColor"),_.fillOpacity=impliedNumber(Te,1)),_e!==null&&(_.stroke=impliedString(Se,"none"),_.strokeWidth=impliedNumber(ke,1),_.strokeOpacity=impliedNumber(Pe,1),_.strokeLinejoin=impliedString(Y,"miter"),_.strokeLinecap=impliedString(W,"butt"),_.strokeMiterlimit=impliedNumber(ee,4),_.strokeDasharray=impliedString(ne,"none"),_.strokeDashoffset=impliedString(ie,"0")),_.target=string(L),_.ariaLabel=string(he),_.ariaDescription=string(F),_.ariaHidden=string(z),_.opacity=impliedNumber(Ze,1),_.mixBlendMode=impliedString(oe,"normal"),_.imageFilter=impliedString(le,"none"),_.paintOrder=impliedString(ue,"normal"),_.pointerEvents=impliedString(ce,"auto"),_.shapeRendering=impliedString(fe,"auto"),{title:{value:R,optional:!0,filter:null},href:{value:O,optional:!0,filter:null},ariaLabel:{value:I,optional:!0,filter:null},fill:{value:De,scale:"auto",optional:!0},fillOpacity:{value:Me,scale:"auto",optional:!0},stroke:{value:Re,scale:"auto",optional:!0},strokeOpacity:{value:ze,scale:"auto",optional:!0},strokeWidth:{value:Le,optional:!0},opacity:{value:Qe,scale:"auto",optional:!0}}}function applyTitle(_,R){R&&_.filter(O=>nonempty(R[O])).append("title").call(applyText,R)}function applyTitleGroup(_,R){R&&_.filter(([O])=>nonempty(R[O])).append("title").call(applyTextGroup,R)}function applyText(_,R){R&&_.text(O=>formatDefault(R[O]))}function applyTextGroup(_,R){R&&_.text(([O])=>formatDefault(R[O]))}function applyChannelStyles(_,{target:R,tip:O},{ariaLabel:I,title:F,fill:z,fillOpacity:L,stroke:U,strokeOpacity:q,strokeWidth:G,opacity:V,href:Z}){I&&applyAttr(_,"aria-label",Y=>I[Y]),z&&applyAttr(_,"fill",Y=>z[Y]),L&&applyAttr(_,"fill-opacity",Y=>L[Y]),U&&applyAttr(_,"stroke",Y=>U[Y]),q&&applyAttr(_,"stroke-opacity",Y=>q[Y]),G&&applyAttr(_,"stroke-width",Y=>G[Y]),V&&applyAttr(_,"opacity",Y=>V[Y]),Z&&applyHref(_,Y=>Z[Y],R),O||applyTitle(_,F)}function applyGroupedChannelStyles(_,{target:R,tip:O},{ariaLabel:I,title:F,fill:z,fillOpacity:L,stroke:U,strokeOpacity:q,strokeWidth:G,opacity:V,href:Z}){I&&applyAttr(_,"aria-label",([Y])=>I[Y]),z&&applyAttr(_,"fill",([Y])=>z[Y]),L&&applyAttr(_,"fill-opacity",([Y])=>L[Y]),U&&applyAttr(_,"stroke",([Y])=>U[Y]),q&&applyAttr(_,"stroke-opacity",([Y])=>q[Y]),G&&applyAttr(_,"stroke-width",([Y])=>G[Y]),V&&applyAttr(_,"opacity",([Y])=>V[Y]),Z&&applyHref(_,([Y])=>Z[Y],R),O||applyTitleGroup(_,F)}function groupAesthetics({ariaLabel:_,title:R,fill:O,fillOpacity:I,stroke:F,strokeOpacity:z,strokeWidth:L,opacity:U,href:q},{tip:G}){return[_,G?void 0:R,O,I,F,z,L,U,q].filter(V=>V!==void 0)}function groupZ(_,R,O){const I=group(_,F=>R[F]);return O===void 0&&I.size>1+_.length>>1&&warn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),I.values()}function*groupIndex(_,R,O,I){const{z:F}=O,{z}=I,L=groupAesthetics(I,O),U=[...R,...L];for(const q of z?groupZ(_,z,F):[_]){let G,V;e:for(const Z of q){for(const Y of U)if(!defined(Y[Z])){V&&V.push(-1);continue e}if(G===void 0){V&&(yield V),G=L.map(Y=>keyof(Y[Z])),V=[Z];continue}V.push(Z);for(let Y=0;Y<L.length;++Y)if(keyof(L[Y][Z])!==G[Y]){yield V,G=L.map(ee=>keyof(ee[Z])),V=[Z];continue e}}V&&(yield V)}}function applyClip(_,R,O,I){let F;const{clip:z=I.clip}=R;z==="frame"?(_=create("svg:g",I).each(function(){this.appendChild(_.node()),_.node=()=>this}),F=getFrameClip(I,O)):z&&(F=getGeoClip(z,I)),applyAttr(_,"aria-label",R.ariaLabel),applyAttr(_,"aria-description",R.ariaDescription),applyAttr(_,"aria-hidden",R.ariaHidden),applyAttr(_,"clip-path",F)}function memoizeClip(_){const R=new WeakMap;return(O,I)=>{let F=R.get(O);if(!F){const z=getClipId();select(O.ownerSVGElement).append("clipPath").attr("id",z).call(_,O,I),R.set(O,F=`url(#${z})`)}return F}}const getFrameClip=memoizeClip((_,R,O)=>{const{width:I,height:F,marginLeft:z,marginRight:L,marginTop:U,marginBottom:q}=O;_.append("rect").attr("x",z).attr("y",U).attr("width",I-L-z).attr("height",F-U-q)}),geoClipCache=new WeakMap,sphere={type:"Sphere"};function getGeoClip(_,R){let O,I;if((O=geoClipCache.get(R))||geoClipCache.set(R,O=new WeakMap),_.type==="Sphere"&&(_=sphere),!(I=O.get(_))){const F=getClipId();select(R.ownerSVGElement).append("clipPath").attr("id",F).append("path").attr("d",R.path()(_)),O.set(_,I=`url(#${F})`)}return I}function applyIndirectStyles(_,R,O,I){applyClip(_,R,O,I),applyAttr(_,"class",R.className),applyAttr(_,"fill",R.fill),applyAttr(_,"fill-opacity",R.fillOpacity),applyAttr(_,"stroke",R.stroke),applyAttr(_,"stroke-width",R.strokeWidth),applyAttr(_,"stroke-opacity",R.strokeOpacity),applyAttr(_,"stroke-linejoin",R.strokeLinejoin),applyAttr(_,"stroke-linecap",R.strokeLinecap),applyAttr(_,"stroke-miterlimit",R.strokeMiterlimit),applyAttr(_,"stroke-dasharray",R.strokeDasharray),applyAttr(_,"stroke-dashoffset",R.strokeDashoffset),applyAttr(_,"shape-rendering",R.shapeRendering),applyAttr(_,"filter",R.imageFilter),applyAttr(_,"paint-order",R.paintOrder);const{pointerEvents:F=I.pointerSticky===!1?"none":void 0}=R;applyAttr(_,"pointer-events",F)}function applyDirectStyles(_,R){applyStyle(_,"mix-blend-mode",R.mixBlendMode),applyAttr(_,"opacity",R.opacity)}function applyHref(_,R,O){_.each(function(I){const F=R(I);if(F!=null){const z=this.ownerDocument.createElementNS(namespaces.svg,"a");z.setAttribute("fill","inherit"),z.setAttributeNS(namespaces.xlink,"href",F),O!=null&&z.setAttribute("target",O),this.parentNode.insertBefore(z,this).appendChild(this)}})}function applyAttr(_,R,O){O!=null&&_.attr(R,O)}function applyStyle(_,R,O){O!=null&&_.style(R,O)}function applyTransform(_,R,{x:O,y:I},F=offset,z=offset){F+=R.dx,z+=R.dy,O?.bandwidth&&(F+=O.bandwidth()/2),I?.bandwidth&&(z+=I.bandwidth()/2),(F||z)&&_.attr("transform",`translate(${F},${z})`)}function impliedString(_,R){if((_=string(_))!==R)return _}function impliedNumber(_,R){if((_=number(_))!==R)return _}const validClassName=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function maybeClassName(_){if(_===void 0)return"plot-d6a7b5";if(_=`${_}`,!validClassName.test(_))throw new Error(`invalid class name: ${_}`);return _}function applyInlineStyles(_,R){if(typeof R=="string")_.property("style",R);else if(R!=null)for(const O of _)Object.assign(O.style,R)}function applyFrameAnchor({frameAnchor:_},{width:R,height:O,marginTop:I,marginRight:F,marginBottom:z,marginLeft:L}){return[/left$/.test(_)?L:/right$/.test(_)?R-F:(L+R-F)/2,/^top/.test(_)?I:/^bottom/.test(_)?O-z:(I+O-z)/2]}class Mark{constructor(R,O={},I={},F){const{facet:z="auto",facetAnchor:L,fx:U,fy:q,sort:G,dx:V=0,dy:Z=0,margin:Y=0,marginTop:W=Y,marginRight:ee=Y,marginBottom:ne=Y,marginLeft:ie=Y,className:se,clip:oe=F?.clip,channels:le,tip:ue,render:ce}=I;if(this.data=R,this.sort=isDomainSort(G)?G:null,this.initializer=initializer(I).initializer,this.transform=this.initializer?I.transform:basic(I).transform,z===null||z===!1?this.facet=null:(this.facet=keyword(z===!0?"include":z,"facet",["auto","include","exclude","super"]),this.fx=R===singleton&&typeof U=="string"?[U]:U,this.fy=R===singleton&&typeof q=="string"?[q]:q),this.facetAnchor=maybeFacetAnchor(L),O=maybeNamed(O),le!==void 0&&(O={...maybeChannels(le),...O}),F!==void 0&&(O={...styles(this,I,F),...O}),this.channels=Object.fromEntries(Object.entries(O).map(([fe,me])=>{if(isOptions(me.value)){const{value:he,label:pe=me.label,scale:ge=me.scale}=me.value;me={...me,label:pe,scale:ge,value:he}}if(R===singleton&&typeof me.value=="string"){const{value:he}=me;me={...me,value:[he]}}return[fe,me]}).filter(([fe,{value:me,optional:he}])=>{if(me!=null)return!0;if(he)return!1;throw new Error(`missing channel value: ${fe}`)})),this.dx=+V,this.dy=+Z,this.marginTop=+W,this.marginRight=+ee,this.marginBottom=+ne,this.marginLeft=+ie,this.clip=maybeClip(oe),this.tip=maybeTip(ue),this.className=string(se),this.facet==="super"){if(U||q)throw new Error("super-faceting cannot use fx or fy");for(const fe in this.channels){const{scale:me}=O[fe];if(!(me!=="x"&&me!=="y"))throw new Error("super-faceting cannot use x or y")}}ce!=null&&(this.render=composeRender(ce,this.render))}initialize(R,O,I){let F=dataify(this.data);R===void 0&&F!=null&&(R=[range(F)]);const z=R;this.transform!=null&&({facets:R,data:F}=this.transform(F,R,I),F=dataify(F)),R!==void 0&&(R.original=z);const L=createChannels(this.channels,F);return this.sort!=null&&channelDomain(F,R,L,O,this.sort),{data:F,facets:R,channels:L}}filter(R,O,I){for(const F in O){const{filter:z=defined}=O[F];if(z!==null){const L=I[F];R=R.filter(U=>z(L[U]))}}return R}project(R,O,I){for(const F in R)if(R[F].scale==="x"&&/^x|x$/.test(F)){const z=F.replace(/^x|x$/,"y");z in R&&R[z].scale==="y"&&project(F,z,O,I.projection)}}scale(R,O,I){const F=valueObject(R,O);return I.projection&&this.project(R,F,I),F}}function marks(..._){return _.plot=Mark.prototype.plot,_}function composeRender(_,R){if(_==null)return R===null?void 0:R;if(R==null)return _===null?void 0:_;if(typeof _!="function")throw new TypeError(`invalid render transform: ${_}`);if(typeof R!="function")throw new TypeError(`invalid render transform: ${R}`);return function(O,I,F,z,L,U){return _.call(this,O,I,F,z,L,(q,G,V,Z,Y)=>R.call(this,q,G,V,Z,Y,U))}}function maybeChannels(_){return Object.fromEntries(Object.entries(maybeNamed(_)).map(([R,O])=>(O=typeof O=="string"?{value:O,label:R}:maybeValue(O),O.filter===void 0&&O.scale==null&&(O={...O,filter:null}),[R,O])))}function maybeTip(_){return _===!0?"xy":_===!1||_==null?null:typeof _=="string"?keyword(_,"tip",["x","y","xy"]):_}function withTip(_,R){return _?.tip===!0?{..._,tip:R}:isObject(_?.tip)&&_.tip.pointer===void 0?{..._,tip:{..._.tip,pointer:R}}:_}function createDimensions(_,R,O={}){let I=.5-offset,F=.5+offset,z=.5+offset,L=.5-offset;for(const{marginTop:ne,marginRight:ie,marginBottom:se,marginLeft:oe}of R)ne>I&&(I=ne),ie>F&&(F=ie),se>z&&(z=se),oe>L&&(L=oe);let{margin:U,marginTop:q=U!==void 0?U:I,marginRight:G=U!==void 0?U:F,marginBottom:V=U!==void 0?U:z,marginLeft:Z=U!==void 0?U:L}=O;q=+q,G=+G,V=+V,Z=+Z;let{width:Y=640,height:W=autoHeight(_,O,{width:Y,marginTopDefault:I,marginRightDefault:F,marginBottomDefault:z,marginLeftDefault:L})+Math.max(0,q-I+V-z)}=O;Y=+Y,W=+W;const ee={width:Y,height:W,marginTop:q,marginRight:G,marginBottom:V,marginLeft:Z};if(_.fx||_.fy){let{margin:ne,marginTop:ie=ne!==void 0?ne:q,marginRight:se=ne!==void 0?ne:G,marginBottom:oe=ne!==void 0?ne:V,marginLeft:le=ne!==void 0?ne:Z}=O.facet??{};ie=+ie,se=+se,oe=+oe,le=+le,ee.facet={marginTop:ie,marginRight:se,marginBottom:oe,marginLeft:le}}return ee}function autoHeight({x:_,y:R,fy:O,fx:I},{projection:F,aspectRatio:z},{width:L,marginTopDefault:U,marginRightDefault:q,marginBottomDefault:G,marginLeftDefault:V}){const Z=O&&O.scale.domain().length||1,Y=projectionAspectRatio(F);if(Y){const ee=I?I.scale.domain().length:1,ne=(1.1*Z-.1)/(1.1*ee-.1)*Y,ie=Math.max(.1,Math.min(10,ne));return Math.round((L-V-q)*ie+U+G)}const W=R?isOrdinalScale(R)?R.scale.domain().length||1:Math.max(7,17/Z):1;if(z!=null){if(z=+z,!(isFinite(z)&&z>0))throw new Error(`invalid aspectRatio: ${z}`);const ee=aspectRatioLength("y",R)/(aspectRatioLength("x",_)*z),ne=I?I.scale.bandwidth():1,ie=O?O.scale.bandwidth():1,se=ne*(L-V-q)-_.insetLeft-_.insetRight;return(ee*se+R.insetTop+R.insetBottom)/ie+U+G}return!!(R||O)*Math.max(1,Math.min(60,W*Z))*20+!!I*30+60}function aspectRatioLength(_,R){if(!R)throw new Error(`aspectRatio requires ${_} scale`);const{type:O,domain:I}=R;let F;switch(O){case"linear":case"utc":case"time":F=Number;break;case"pow":{const U=R.scale.exponent();F=q=>Math.pow(q,U);break}case"log":F=Math.log;break;case"point":case"band":return I.length;default:throw new Error(`unsupported ${_} scale for aspectRatio: ${O}`)}const[z,L]=extent$1(I);return Math.abs(F(L)-F(z))}const states=new WeakMap;function pointerK(_,R,{x:O,y:I,px:F,py:z,maxRadius:L=40,channels:U,render:q,...G}={}){return L=+L,F!=null&&(O??=null,U={...U,px:{value:F,scale:"x"}}),z!=null&&(I??=null,U={...U,py:{value:z,scale:"y"}}),{x:O,y:I,channels:U,...G,render:composeRender(function(V,Z,Y,W,ee,ne){ee={...ee,pointerSticky:!1};const ie=ee.ownerSVGElement,{data:se}=ee.getMarkState(this);let oe=states.get(ie);oe||states.set(ie,oe={sticky:!1,roots:[],renders:[]});let le=oe.renders.push(Se)-1;const{x:ue,y:ce,fx:fe,fy:me}=Z;let he=fe?fe(V.fx)-W.marginLeft:0,pe=me?me(V.fy)-W.marginTop:0;ue?.bandwidth&&(he+=ue.bandwidth()/2),ce?.bandwidth&&(pe+=ce.bandwidth()/2);const ge=V.fi!=null;let _e;if(ge){let Ze=oe.facetStates;Ze||(oe.facetStates=Ze=new Map),_e=Ze.get(this),_e||Ze.set(this,_e=new Map)}const[ye,we]=applyFrameAnchor(this,W),{px:ve,py:$e}=Y,be=ve?Ze=>ve[Ze]:anchorX$1(Y,ye),Ce=$e?Ze=>$e[Ze]:anchorY$1(Y,we);let De,Ne,Me,Te;function Re(Ze,Le){if(ge)if(Te&&(Te=cancelAnimationFrame(Te)),Ze==null)_e.delete(V.fi);else{_e.set(V.fi,Le),Te=requestAnimationFrame(()=>{Te=null;for(const[ke,Ge]of _e)if(Ge<Le||Ge===Le&&ke<V.fi){Ze=null;break}Se(Ze)});return}Se(Ze)}function Se(Ze){if(De===Ze&&Me===oe.sticky)return;De=Ze,Me=ee.pointerSticky=oe.sticky;const Le=De==null?[]:[De];ge&&(Le.fx=V.fx,Le.fy=V.fy,Le.fi=V.fi);const ke=ne(Le,Z,Y,W,ee);if(Ne){if(ge){const Ge=Ne.parentNode,Ke=Ne.getAttribute("transform"),He=ke.getAttribute("transform");Ke?ke.setAttribute("transform",Ke):ke.removeAttribute("transform"),He?Ge.setAttribute("transform",He):Ge.removeAttribute("transform"),ke.removeAttribute("aria-label"),ke.removeAttribute("aria-description"),ke.removeAttribute("aria-hidden")}Ne.replaceWith(ke)}if(oe.roots[le]=Ne=ke,!(De==null&&_e?.size>1)){const Ge=De==null?null:isArray(se)?se[De]:se.get(De);ee.dispatchValue(Ge)}return ke}function ze(Ze){if(oe.sticky||Ze.pointerType==="mouse"&&Ze.buttons===1)return;let[Le,ke]=pointof(Ze);Le-=he,ke-=pe;const Ge=Le<W.marginLeft||Le>W.width-W.marginRight?1:_,Ke=ke<W.marginTop||ke>W.height-W.marginBottom?1:R;let He=null,st=L*L;for(const Ae of V){const tt=Ge*(be(Ae)-Le),rt=Ke*(Ce(Ae)-ke),We=tt*tt+rt*rt;We<=st&&(He=Ae,st=We)}if(He!=null&&(_!==1||R!==1)){const Ae=be(He)-Le,tt=Ce(He)-ke;st=Ae*Ae+tt*tt}Re(He,st)}function Pe(Ze){Ze.pointerType==="mouse"&&De!=null&&(oe.sticky&&oe.roots.some(Le=>Le?.contains(Ze.target))||(oe.sticky?(oe.sticky=!1,oe.renders.forEach(Le=>Le(null))):(oe.sticky=!0,Se(De)),Ze.stopImmediatePropagation()))}function Qe(Ze){Ze.pointerType==="mouse"&&(oe.sticky||Re(null))}return ie.addEventListener("pointerenter",ze),ie.addEventListener("pointermove",ze),ie.addEventListener("pointerdown",Pe),ie.addEventListener("pointerleave",Qe),Se(null)},q)}}function pointer(_){return pointerK(1,1,_)}function pointerX(_){return pointerK(1,.01,_)}function pointerY(_){return pointerK(.01,1,_)}function anchorX$1({x1:_,x2:R,x:O=_},I){return _&&R?F=>(_[F]+R[F])/2:O?F=>O[F]:()=>I}function anchorY$1({y1:_,y2:R,y:O=_},I){return _&&R?F=>(_[F]+R[F])/2:O?F=>O[F]:()=>I}function inferFontVariant$2(_){return isOrdinalScale(_)&&_.interval===void 0?void 0:"tabular-nums"}function legendRamp(_,R){let{label:O=_.label,tickSize:I=6,width:F=240,height:z=44+I,marginTop:L=18,marginRight:U=0,marginBottom:q=16+I,marginLeft:G=0,style:V,ticks:Z=(F-G-U)/64,tickFormat:Y,fontVariant:W=inferFontVariant$2(_),round:ee=!0,opacity:ne,className:ie}=R;const se=createContext(R);ie=maybeClassName(ie),ne=maybeNumberChannel(ne)[1],Y===null&&(Y=()=>null);const oe=create("svg",se).attr("class",`${ie}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",F).attr("height",z).attr("viewBox",`0 0 ${F} ${z}`).call(ye=>ye.append("style").text(`:where(.${ie}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${ie}-ramp text) {
  white-space: pre;
}`)).call(applyInlineStyles,V);let le=ye=>ye.selectAll(".tick line").attr("y1",L+q-z),ue;const ce=ee?(ye,we)=>ye.rangeRound(we):(ye,we)=>ye.range(we),{type:fe,domain:me,range:he,interpolate:pe,scale:ge,pivot:_e}=_;if(pe){const ye=he===void 0?pe:piecewise(pe.length===1?interpolatePiecewise(pe):pe,he);ue=ce(ge.copy(),quantize(interpolateNumber(G,F-U),Math.min(me.length+(_e!==void 0),he===void 0?1/0:he.length)));const we=256,ve=se.document.createElement("canvas");ve.width=we,ve.height=1;const $e=ve.getContext("2d");for(let be=0,Ce=we-1;be<we;++be)$e.fillStyle=ye(be/Ce),$e.fillRect(be,0,1,1);oe.append("image").attr("opacity",ne).attr("x",G).attr("y",L).attr("width",F-G-U).attr("height",z-L-q).attr("preserveAspectRatio","none").attr("xlink:href",ve.toDataURL())}else if(fe==="threshold"){const ye=me,we=Y===void 0?ve=>ve:typeof Y=="string"?format$1(Y):Y;ue=ce(linear().domain([-1,he.length-1]),[G,F-U]),oe.append("g").attr("fill-opacity",ne).selectAll().data(he).enter().append("rect").attr("x",(ve,$e)=>ue($e-1)).attr("y",L).attr("width",(ve,$e)=>ue($e)-ue($e-1)).attr("height",z-L-q).attr("fill",ve=>ve),Z=map(ye,(ve,$e)=>$e),Y=ve=>we(ye[ve],ve)}else ue=ce(band().domain(me),[G,F-U]),oe.append("g").attr("fill-opacity",ne).selectAll().data(me).enter().append("rect").attr("x",ue).attr("y",L).attr("width",Math.max(0,ue.bandwidth()-1)).attr("height",z-L-q).attr("fill",ge),le=()=>{};return oe.append("g").attr("transform",`translate(0,${z-q})`).call(axisBottom(ue).ticks(Array.isArray(Z)?null:Z,typeof Y=="string"?Y:void 0).tickFormat(typeof Y=="function"?Y:void 0).tickSize(I).tickValues(Array.isArray(Z)?Z:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",impliedString(W,"normal")).call(le).call(ye=>ye.select(".domain").remove()),O!==void 0&&oe.append("text").attr("x",G).attr("y",L-6).attr("fill","currentColor").attr("font-weight","bold").text(O),oe.node()}const radians=Math.PI/180;function markers(_,{marker:R,markerStart:O=R,markerMid:I=R,markerEnd:F=R}={}){_.markerStart=maybeMarker(O),_.markerMid=maybeMarker(I),_.markerEnd=maybeMarker(F)}function maybeMarker(_){if(_==null||_===!1)return null;if(_===!0)return markerCircleFill;if(typeof _=="function")return _;switch(`${_}`.toLowerCase()){case"none":return null;case"arrow":return markerArrow("auto");case"arrow-reverse":return markerArrow("auto-start-reverse");case"dot":return markerDot;case"circle":case"circle-fill":return markerCircleFill;case"circle-stroke":return markerCircleStroke;case"tick":return markerTick("auto");case"tick-x":return markerTick(90);case"tick-y":return markerTick(0)}throw new Error(`invalid marker: ${_}`)}function markerArrow(_){return(R,O)=>create("svg:marker",O).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",_).attr("fill","none").attr("stroke",R).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(I=>I.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function markerDot(_,R){return create("svg:marker",R).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",_).attr("stroke","none").call(O=>O.append("circle").attr("r",2.5)).node()}function markerCircleFill(_,R){return create("svg:marker",R).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",_).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(O=>O.append("circle").attr("r",3)).node()}function markerCircleStroke(_,R){return create("svg:marker",R).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",_).attr("stroke-width",1.5).call(O=>O.append("circle").attr("r",3)).node()}function markerTick(_){return(R,O)=>create("svg:marker",O).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",_).attr("stroke",R).call(I=>I.append("path").attr("d","M0,-3v6")).node()}let nextMarkerId=0;function applyMarkers(_,R,{stroke:O},I){return applyMarkersColor(_,R,O&&(F=>O[F]),null,I)}function applyGroupedMarkers(_,R,{stroke:O,z:I},F){return applyMarkersColor(_,R,O&&(([z])=>O[z]),I,F)}const START=1,END=2;function getGroupedOrientation(_,R){const O=new Uint8Array(R.length),I=_.data().filter(z=>z.length>1),F=I.length;for(let z=0,L=unset;z<F;++z){const U=I[z];if(U.length>1){const q=U[0];L!==(L=keyof(R[q]))&&(O[q]|=START)}}for(let z=F-1,L=unset;z>=0;--z){const U=I[z];if(U.length>1){const q=U[0];L!==(L=keyof(R[q]))&&(O[q]|=END)}}return([z])=>O[z]}function applyMarkersColor(_,{markerStart:R,markerMid:O,markerEnd:I,stroke:F},z=()=>F,L,U){if(!R&&!O&&!I)return;const q=new Map,G=L&&getGroupedOrientation(_,L);function V(Z,Y,W){return function(ee){if(W&&!W(ee))return;const ne=z(ee);let ie=q.get(Y);ie||q.set(Y,ie=new Map);let se=ie.get(ne);if(!se){const oe=this.parentNode.insertBefore(Y(ne,U),this),le=`plot-marker-${++nextMarkerId}`;oe.setAttribute("id",le),ie.set(ne,se=`url(#${le})`)}this.setAttribute(Z,se)}}R&&_.each(V("marker-start",R,G&&(Z=>G(Z)&START))),O&&G&&_.each(V("marker-start",O,Z=>!(G(Z)&START))),O&&_.each(V("marker-mid",O)),I&&_.each(V("marker-end",I,G&&(Z=>G(Z)&END)))}function maybeInsetX({inset:_,insetLeft:R,insetRight:O,...I}={}){return[R,O]=maybeInset(_,R,O),{inset:_,insetLeft:R,insetRight:O,...I}}function maybeInsetY({inset:_,insetTop:R,insetBottom:O,...I}={}){return[R,O]=maybeInset(_,R,O),{inset:_,insetTop:R,insetBottom:O,...I}}function maybeInset(_,R,O){return _===void 0&&R===void 0&&O===void 0?offset?[1,0]:[.5,.5]:[R,O]}function maybeIntervalValue(_,{interval:R}){return _={...maybeValue(_)},_.interval=maybeInterval(_.interval===void 0?R:_.interval),_}function maybeIntervalK(_,R,O,I){const{[_]:F,[`${_}1`]:z,[`${_}2`]:L}=O,{value:U,interval:q}=maybeIntervalValue(F,O);if(U==null||q==null&&!I)return O;const G=labelof(F);if(q==null){let W;const ee={transform:ne=>W||(W=valueof(ne,U)),label:G};return{...O,[_]:void 0,[`${_}1`]:z===void 0?ee:z,[`${_}2`]:L===void 0&&!(z===L&&I)?ee:L}}let V,Z;function Y(W){return Z!==void 0&&W===V?Z:Z=map(valueof(V=W,U),ee=>q.floor(ee))}return R({...O,[_]:void 0,[`${_}1`]:z===void 0?{transform:Y,label:G}:z,[`${_}2`]:L===void 0?{transform:W=>Y(W).map(ee=>q.offset(ee)),label:G}:L})}function maybeIntervalMidK(_,R,O){const{[_]:I}=O,{value:F,interval:z}=maybeIntervalValue(I,O);return F==null||z==null?O:R({...O,[_]:{label:labelof(I),transform:L=>{const U=map(valueof(L,F),G=>z.floor(G)),q=U.map(G=>z.offset(G));return U.map(isTemporal(U)?(G,V)=>G==null||isNaN(G=+G)||(V=q[V],V==null)||isNaN(V=+V)?void 0:new Date((G+V)/2):(G,V)=>G==null||(V=q[V],V==null)?NaN:(+G+ +V)/2)}}})}function maybeIntervalX(_={}){return maybeIntervalK("x",maybeInsetX,_)}function maybeIntervalY(_={}){return maybeIntervalK("y",maybeInsetY,_)}function maybeIntervalMidX(_={}){return maybeIntervalMidK("x",maybeInsetX,_)}function maybeIntervalMidY(_={}){return maybeIntervalMidK("y",maybeInsetY,_)}const defaults$9={ariaLabel:"rule",fill:null,stroke:"currentColor"};class RuleX extends Mark{constructor(R,O={}){const{x:I,y1:F,y2:z,inset:L=0,insetTop:U=L,insetBottom:q=L}=O;super(R,{x:{value:I,scale:"x",optional:!0},y1:{value:F,scale:"y",optional:!0},y2:{value:z,scale:"y",optional:!0}},withTip(O,"x"),defaults$9),this.insetTop=number(U),this.insetBottom=number(q),markers(this,O)}render(R,O,I,F,z){const{x:L,y:U}=O,{x:q,y1:G,y2:V}=I,{width:Z,height:Y,marginTop:W,marginRight:ee,marginLeft:ne,marginBottom:ie}=F,{insetTop:se,insetBottom:oe}=this;return create("svg:g",z).call(applyIndirectStyles,this,F,z).call(applyTransform,this,{x:q&&L},offset,0).call(le=>le.selectAll().data(R).enter().append("line").call(applyDirectStyles,this).attr("x1",q?ue=>q[ue]:(ne+Z-ee)/2).attr("x2",q?ue=>q[ue]:(ne+Z-ee)/2).attr("y1",G&&!isCollapsed(U)?ue=>G[ue]+se:W+se).attr("y2",V&&!isCollapsed(U)?U.bandwidth?ue=>V[ue]+U.bandwidth()-oe:ue=>V[ue]-oe:Y-ie-oe).call(applyChannelStyles,this,I).call(applyMarkers,this,I,z)).node()}}class RuleY extends Mark{constructor(R,O={}){const{x1:I,x2:F,y:z,inset:L=0,insetRight:U=L,insetLeft:q=L}=O;super(R,{y:{value:z,scale:"y",optional:!0},x1:{value:I,scale:"x",optional:!0},x2:{value:F,scale:"x",optional:!0}},withTip(O,"y"),defaults$9),this.insetRight=number(U),this.insetLeft=number(q),markers(this,O)}render(R,O,I,F,z){const{x:L,y:U}=O,{y:q,x1:G,x2:V}=I,{width:Z,height:Y,marginTop:W,marginRight:ee,marginLeft:ne,marginBottom:ie}=F,{insetLeft:se,insetRight:oe}=this;return create("svg:g",z).call(applyIndirectStyles,this,F,z).call(applyTransform,this,{y:q&&U},0,offset).call(le=>le.selectAll().data(R).enter().append("line").call(applyDirectStyles,this).attr("x1",G&&!isCollapsed(L)?ue=>G[ue]+se:ne+se).attr("x2",V&&!isCollapsed(L)?L.bandwidth?ue=>V[ue]+L.bandwidth()-oe:ue=>V[ue]-oe:Z-ee-oe).attr("y1",q?ue=>q[ue]:(W+Y-ie)/2).attr("y2",q?ue=>q[ue]:(W+Y-ie)/2).call(applyChannelStyles,this,I).call(applyMarkers,this,I,z)).node()}}function ruleX(_,R){let{x:O=identity$1,y:I,y1:F,y2:z,...L}=maybeIntervalY(R);return[F,z]=maybeOptionalZero(I,F,z),new RuleX(_,{...L,x:O,y1:F,y2:z})}function ruleY(_,R){let{y:O=identity$1,x:I,x1:F,x2:z,...L}=maybeIntervalX(R);return[F,z]=maybeOptionalZero(I,F,z),new RuleY(_,{...L,y:O,x1:F,x2:z})}function maybeOptionalZero(_,R,O){if(_==null){if(R===void 0){if(O!==void 0)return[0,O]}else if(O===void 0)return[0,R]}else{if(R===void 0)return O===void 0?[0,_]:[_,O];if(O===void 0)return[_,R]}return[R,O]}function template(_,...R){let O=R.length;for(let I=0,F=!0;I<O;++I)typeof R[I]!="function"&&(F&&(_=_.slice(),F=!1),_.splice(I,2,_[I]+R[I]+_[I+1]),R.splice(I,1),--I,--O);return I=>{let F=_[0];for(let z=0;z<O;++z)F+=R[z](I)+_[z+1];return F}}const defaults$8={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},softHyphen="";class Text extends Mark{constructor(R,O={}){const{x:I,y:F,text:z=isIterable(R)&&isTextual(R)?identity$1:indexOf,frameAnchor:L,textAnchor:U=/right$/i.test(L)?"end":/left$/i.test(L)?"start":"middle",lineAnchor:q=/^top/i.test(L)?"top":/^bottom/i.test(L)?"bottom":"middle",lineHeight:G=1,lineWidth:V=1/0,textOverflow:Z,monospace:Y,fontFamily:W=Y?"ui-monospace, monospace":void 0,fontSize:ee,fontStyle:ne,fontVariant:ie,fontWeight:se,rotate:oe}=O,[le,ue]=maybeNumberChannel(oe,0),[ce,fe]=maybeFontSizeChannel(ee);if(super(R,{x:{value:I,scale:"x",optional:!0},y:{value:F,scale:"y",optional:!0},fontSize:{value:ce,optional:!0},rotate:{value:numberChannel(le),optional:!0},text:{value:z,filter:nonempty,optional:!0}},O,defaults$8),this.rotate=ue,this.textAnchor=impliedString(U,"middle"),this.lineAnchor=keyword(q,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+G,this.lineWidth=+V,this.textOverflow=maybeTextOverflow(Z),this.monospace=!!Y,this.fontFamily=string(W),this.fontSize=fe,this.fontStyle=string(ne),this.fontVariant=string(ie),this.fontWeight=string(se),this.frameAnchor=maybeFrameAnchor(L),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${V}`);this.splitLines=splitter(this),this.clipLine=clipper(this)}render(R,O,I,F,z){const{x:L,y:U}=O,{x:q,y:G,rotate:V,text:Z,title:Y,fontSize:W}=I,{rotate:ee}=this,[ne,ie]=applyFrameAnchor(this,F);return create("svg:g",z).call(applyIndirectStyles,this,F,z).call(applyIndirectTextStyles,this,Z,F).call(applyTransform,this,{x:q&&L,y:G&&U}).call(se=>se.selectAll().data(R).enter().append("text").call(applyDirectStyles,this).call(applyMultilineText,this,Z,Y).attr("transform",template`translate(${q?oe=>q[oe]:ne},${G?oe=>G[oe]:ie})${V?oe=>` rotate(${V[oe]})`:ee?` rotate(${ee})`:""}`).call(applyAttr,"font-size",W&&(oe=>W[oe])).call(applyChannelStyles,this,I)).node()}}function maybeTextOverflow(_){return _==null?null:keyword(_,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function applyMultilineText(_,R,O,I){if(!O)return;const{lineAnchor:F,lineHeight:z,textOverflow:L,splitLines:U,clipLine:q}=R;_.each(function(G){const V=U(formatDefault(O[G])??"").map(q),Z=V.length,Y=F==="top"?.71:F==="bottom"?1-Z:(164-Z*100)/200;if(Z>1){let W=0;for(let ee=0;ee<Z;++ee){if(++W,!V[ee])continue;const ne=this.ownerDocument.createElementNS(namespaces.svg,"tspan");ne.setAttribute("x",0),ee===W-1?ne.setAttribute("y",`${(Y+ee)*z}em`):ne.setAttribute("dy",`${W*z}em`),ne.textContent=V[ee],this.appendChild(ne),W=0}}else Y&&this.setAttribute("y",`${Y*z}em`),this.textContent=V[0];if(L&&!I&&V[0]!==O[G]){const W=this.ownerDocument.createElementNS(namespaces.svg,"title");W.textContent=O[G],this.appendChild(W)}})}function text(_,{x:R,y:O,...I}={}){return I.frameAnchor===void 0&&([R,O]=maybeTuple(R,O)),new Text(_,{...I,x:R,y:O})}function textX(_,{x:R=identity$1,...O}={}){return new Text(_,maybeIntervalMidY({...O,x:R}))}function textY(_,{y:R=identity$1,...O}={}){return new Text(_,maybeIntervalMidX({...O,y:R}))}function applyIndirectTextStyles(_,R,O){applyAttr(_,"text-anchor",R.textAnchor),applyAttr(_,"font-family",R.fontFamily),applyAttr(_,"font-size",R.fontSize),applyAttr(_,"font-style",R.fontStyle),applyAttr(_,"font-variant",R.fontVariant===void 0?inferFontVariant$1(O):R.fontVariant),applyAttr(_,"font-weight",R.fontWeight)}function inferFontVariant$1(_){return _&&(isNumeric(_)||isTemporal(_))?"tabular-nums":void 0}const fontSizes=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function maybeFontSizeChannel(_){return _==null||typeof _=="number"?[void 0,_]:typeof _!="string"?[_,void 0]:(_=_.trim().toLowerCase(),fontSizes.has(_)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(_)?[void 0,_]:[_,void 0])}function lineWrap(_,R,O){const I=[];let F,z=0;for(const[L,U,q]of lineBreaks(_)){if(F===void 0&&(F=L),z>F&&O(_,F,U)>R&&(I.push(_.slice(F,z)+(_[z-1]===softHyphen?"-":"")),F=L),q){I.push(_.slice(F,U)),F=void 0;continue}z=U}return I}function*lineBreaks(_){let R=0,O=0;const I=_.length;for(;O<I;){let F=1;switch(_[O]){case softHyphen:case"-":++O,yield[R,O,!1],R=O;break;case" ":for(yield[R,O,!1];_[++O]===" ";);R=O;break;case"\r":_[O+1]===`
`&&++F;case`
`:yield[R,O,!0],O+=F,R=O;break;default:++O;break}}yield[R,O,!0]}const defaultWidthMap={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function defaultWidth(_,R=0,O=_.length){let I=0;for(let F=R;F<O;F=readCharacter(_,F))I+=defaultWidthMap[_[F]]??(isPictographic(_,F)?120:defaultWidthMap.e);return I}function monospaceWidth(_,R=0,O=_.length){let I=0;for(let F=R;F<O;F=readCharacter(_,F))I+=isPictographic(_,F)?126:63;return I}function splitter({monospace:_,lineWidth:R,textOverflow:O}){if(O!=null||R==1/0)return z=>z.split(/\r\n?|\n/g);const I=_?monospaceWidth:defaultWidth,F=R*100;return z=>lineWrap(z,F,I)}function clipper({monospace:_,lineWidth:R,textOverflow:O}){if(O==null||R==1/0)return z=>z;const I=_?monospaceWidth:defaultWidth,F=R*100;switch(O){case"clip-start":return z=>clipStart(z,F,I,"");case"clip-end":return z=>clipEnd(z,F,I,"");case"ellipsis-start":return z=>clipStart(z,F,I,ellipsis);case"ellipsis-middle":return z=>clipMiddle(z,F,I,ellipsis);case"ellipsis-end":return z=>clipEnd(z,F,I,ellipsis)}}const ellipsis="";function cut(_,R,O,I){const F=[];let z=0;for(let L=0,U=0,q=_.length;L<q;L=U){U=readCharacter(_,L);const G=O(_,L,U);if(z+G>R){for(z+=I;z>R&&L>0;)U=L,L=F.pop(),z-=O(_,L,U);return[L,R-z]}z+=G,F.push(L)}return[-1,0]}function clipEnd(_,R,O,I){_=_.trim();const F=O(I),[z]=cut(_,R,O,F);return z<0?_:_.slice(0,z).trimEnd()+I}function clipMiddle(_,R,O,I){_=_.trim();const F=O(_);if(F<=R)return _;const z=O(I)/2,[L,U]=cut(_,R/2,O,z),[q]=cut(_,F-R/2-U+z,O,-z);return q<0?I:_.slice(0,L).trimEnd()+I+_.slice(readCharacter(_,q)).trimStart()}function clipStart(_,R,O,I){_=_.trim();const F=O(_);if(F<=R)return _;const z=O(I),[L]=cut(_,F-R+z,O,-z);return L<0?I:I+_.slice(readCharacter(_,L)).trimStart()}const reCombiner=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,rePictographic=new RegExp("\\p{Extended_Pictographic}","uy");function readCharacter(_,R){return R+=isSurrogatePair(_,R)?2:1,isCombiner(_,R)&&(R=reCombiner.lastIndex),isZeroWidthJoiner(_,R)?readCharacter(_,R+1):R}function isAscii(_,R){return _.charCodeAt(R)<128}function isSurrogatePair(_,R){const O=_.charCodeAt(R);if(O>=55296&&O<56320){const I=_.charCodeAt(R+1);return I>=56320&&I<57344}return!1}function isZeroWidthJoiner(_,R){return _.charCodeAt(R)===8205}function isCombiner(_,R){return isAscii(_,R)?!1:(reCombiner.lastIndex=R,reCombiner.test(_))}function isPictographic(_,R){return isAscii(_,R)?!1:(rePictographic.lastIndex=R,rePictographic.test(_))}const defaults$7={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},defaultRadius=3.5,wingRatio=defaultRadius*5,shapeArrow={draw(_,R,O){const I=R*O/wingRatio;_.moveTo(0,0),_.lineTo(0,-R),_.moveTo(-I,I-R),_.lineTo(0,-R),_.lineTo(I,I-R)}},shapeSpike={draw(_,R,O){_.moveTo(-O,0),_.lineTo(0,-R),_.lineTo(O,0)}},shapes=new Map([["arrow",shapeArrow],["spike",shapeSpike]]);function isShapeObject(_){return _&&typeof _.draw=="function"}function maybeShape(_){if(isShapeObject(_))return _;const R=shapes.get(`${_}`.toLowerCase());if(R)return R;throw new Error(`invalid shape: ${_}`)}class Vector extends Mark{constructor(R,O={}){const{x:I,y:F,r:z=defaultRadius,length:L,rotate:U,shape:q=shapeArrow,anchor:G="middle",frameAnchor:V}=O,[Z,Y]=maybeNumberChannel(L,12),[W,ee]=maybeNumberChannel(U,0);super(R,{x:{value:I,scale:"x",optional:!0},y:{value:F,scale:"y",optional:!0},length:{value:Z,scale:"length",optional:!0},rotate:{value:W,optional:!0}},O,defaults$7),this.r=+z,this.length=Y,this.rotate=ee,this.shape=maybeShape(q),this.anchor=keyword(G,"anchor",["start","middle","end"]),this.frameAnchor=maybeFrameAnchor(V)}render(R,O,I,F,z){const{x:L,y:U}=O,{x:q,y:G,length:V,rotate:Z}=I,{length:Y,rotate:W,anchor:ee,shape:ne,r:ie}=this,[se,oe]=applyFrameAnchor(this,F);return create("svg:g",z).call(applyIndirectStyles,this,F,z).call(applyTransform,this,{x:q&&L,y:G&&U}).call(le=>le.selectAll().data(R).enter().append("path").call(applyDirectStyles,this).attr("transform",template`translate(${q?ue=>q[ue]:se},${G?ue=>G[ue]:oe})${Z?ue=>` rotate(${Z[ue]})`:W?` rotate(${W})`:""}${ee==="start"?"":ee==="end"?V?ue=>` translate(0,${V[ue]})`:` translate(0,${Y})`:V?ue=>` translate(0,${V[ue]/2})`:` translate(0,${Y/2})`}`).attr("d",V?ue=>{const ce=pathRound();return ne.draw(ce,V[ue],ie),ce}:(()=>{const ue=pathRound();return ne.draw(ue,Y,ie),ue})()).call(applyChannelStyles,this,I)).node()}}function vectorX(_,R={}){const{x:O=identity$1,...I}=R;return new Vector(_,{...I,x:O})}function vectorY(_,R={}){const{y:O=identity$1,...I}=R;return new Vector(_,{...I,y:O})}function maybeData(_,R){return arguments.length<2&&!isIterable(_)&&(R=_,_=null),R===void 0&&(R={}),[_,R]}function maybeAnchor({anchor:_}={},R){return _===void 0?R[0]:keyword(_,"anchor",R)}function anchorY(_){return maybeAnchor(_,["left","right"])}function anchorFy(_){return maybeAnchor(_,["right","left"])}function anchorX(_){return maybeAnchor(_,["bottom","top"])}function anchorFx(_){return maybeAnchor(_,["top","bottom"])}function axisY(){const[_,R]=maybeData(...arguments);return axisKy("y",anchorY(R),_,R)}function axisFy(){const[_,R]=maybeData(...arguments);return axisKy("fy",anchorFy(R),_,R)}function axisX(){const[_,R]=maybeData(...arguments);return axisKx("x",anchorX(R),_,R)}function axisFx(){const[_,R]=maybeData(...arguments);return axisKx("fx",anchorFx(R),_,R)}function axisKy(_,R,O,{color:I="currentColor",opacity:F=1,stroke:z=I,strokeOpacity:L=F,strokeWidth:U=1,fill:q=I,fillOpacity:G=F,textAnchor:V,textStroke:Z,textStrokeOpacity:Y,textStrokeWidth:W,tickSize:ee=_==="y"?6:0,tickPadding:ne,tickRotate:ie,x:se,margin:oe,marginTop:le=oe===void 0?20:oe,marginRight:ue=oe===void 0?R==="right"?40:0:oe,marginBottom:ce=oe===void 0?20:oe,marginLeft:fe=oe===void 0?R==="left"?40:0:oe,label:me,labelAnchor:he,labelArrow:pe,labelOffset:ge,ariaLabel:_e=`${_}-axis`,...ye}){return ee=number(ee),ne=number(ne),ie=number(ie),he!==void 0&&(he=keyword(he,"labelAnchor",["center","top","bottom"])),pe=maybeLabelArrow(pe),marks(ee&&!isNoneish(z)?axisTickKy(_,R,O,{stroke:z,strokeOpacity:L,strokeWidth:U,tickSize:ee,tickPadding:ne,tickRotate:ie,x:se,ariaLabel:_e,...ye}):null,isNoneish(q)?null:axisTextKy(_,R,O,{fill:q,fillOpacity:G,stroke:Z,strokeOpacity:Y,strokeWidth:W,textAnchor:V,tickSize:ee,tickPadding:ne,tickRotate:ie,x:se,marginTop:le,marginRight:ue,marginBottom:ce,marginLeft:fe,ariaLabel:_e,...ye}),!isNoneish(q)&&me!==null?text([],labelOptions({fill:q,fillOpacity:G,...ye},function(we,ve,$e,be,Ce){const De=be[_],{marginTop:Ne,marginRight:Me,marginBottom:Te,marginLeft:Re}=_==="y"&&Ce.inset||Ce,Se=he??(De.bandwidth?"center":"top"),ze=ge??(R==="right"?Me:Re)-3;return Se==="center"?(this.textAnchor=void 0,this.lineAnchor=R==="right"?"bottom":"top",this.frameAnchor=R,this.rotate=-90):(this.textAnchor=R==="right"?"end":"start",this.lineAnchor=Se,this.frameAnchor=`${Se}-${R}`,this.rotate=0),this.dy=Se==="top"?3-Ne:Se==="bottom"?Te-3:0,this.dx=R==="right"?ze:-ze,this.ariaLabel=`${_e} label`,{facets:[[0]],channels:{text:{value:[formatAxisLabel(_,De,{anchor:R,label:me,labelAnchor:Se,labelArrow:pe})]}}}})):null)}function axisKx(_,R,O,{color:I="currentColor",opacity:F=1,stroke:z=I,strokeOpacity:L=F,strokeWidth:U=1,fill:q=I,fillOpacity:G=F,textAnchor:V,textStroke:Z,textStrokeOpacity:Y,textStrokeWidth:W,tickSize:ee=_==="x"?6:0,tickPadding:ne,tickRotate:ie,y:se,margin:oe,marginTop:le=oe===void 0?R==="top"?30:0:oe,marginRight:ue=oe===void 0?20:oe,marginBottom:ce=oe===void 0?R==="bottom"?30:0:oe,marginLeft:fe=oe===void 0?20:oe,label:me,labelAnchor:he,labelArrow:pe,labelOffset:ge,ariaLabel:_e=`${_}-axis`,...ye}){return ee=number(ee),ne=number(ne),ie=number(ie),he!==void 0&&(he=keyword(he,"labelAnchor",["center","left","right"])),pe=maybeLabelArrow(pe),marks(ee&&!isNoneish(z)?axisTickKx(_,R,O,{stroke:z,strokeOpacity:L,strokeWidth:U,tickSize:ee,tickPadding:ne,tickRotate:ie,y:se,ariaLabel:_e,...ye}):null,isNoneish(q)?null:axisTextKx(_,R,O,{fill:q,fillOpacity:G,stroke:Z,strokeOpacity:Y,strokeWidth:W,textAnchor:V,tickSize:ee,tickPadding:ne,tickRotate:ie,y:se,marginTop:le,marginRight:ue,marginBottom:ce,marginLeft:fe,ariaLabel:_e,...ye}),!isNoneish(q)&&me!==null?text([],labelOptions({fill:q,fillOpacity:G,...ye},function(we,ve,$e,be,Ce){const De=be[_],{marginTop:Ne,marginRight:Me,marginBottom:Te,marginLeft:Re}=_==="x"&&Ce.inset||Ce,Se=he??(De.bandwidth?"center":"right"),ze=ge??(R==="top"?Ne:Te)-3;return Se==="center"?(this.frameAnchor=R,this.textAnchor=void 0):(this.frameAnchor=`${R}-${Se}`,this.textAnchor=Se==="right"?"end":"start"),this.lineAnchor=R,this.dy=R==="top"?-ze:ze,this.dx=Se==="right"?Me-3:Se==="left"?3-Re:0,this.ariaLabel=`${_e} label`,{facets:[[0]],channels:{text:{value:[formatAxisLabel(_,De,{anchor:R,label:me,labelAnchor:Se,labelArrow:pe})]}}}})):null)}function axisTickKy(_,R,O,{strokeWidth:I=1,strokeLinecap:F=null,strokeLinejoin:z=null,facetAnchor:L=R+(_==="y"?"-empty":""),frameAnchor:U=R,tickSize:q,inset:G=0,insetLeft:V=G,insetRight:Z=G,dx:Y=0,y:W=_==="y"?void 0:null,ariaLabel:ee,...ne}){return axisMark(vectorY,_,O,{ariaLabel:`${ee} tick`,ariaHidden:!0},{strokeWidth:I,strokeLinecap:F,strokeLinejoin:z,facetAnchor:L,frameAnchor:U,y:W,...ne,dx:R==="left"?+Y-offset+ +V:+Y+offset-Z,anchor:"start",length:q,shape:R==="left"?shapeTickLeft:shapeTickRight})}function axisTickKx(_,R,O,{strokeWidth:I=1,strokeLinecap:F=null,strokeLinejoin:z=null,facetAnchor:L=R+(_==="x"?"-empty":""),frameAnchor:U=R,tickSize:q,inset:G=0,insetTop:V=G,insetBottom:Z=G,dy:Y=0,x:W=_==="x"?void 0:null,ariaLabel:ee,...ne}){return axisMark(vectorX,_,O,{ariaLabel:`${ee} tick`,ariaHidden:!0},{strokeWidth:I,strokeLinejoin:z,strokeLinecap:F,facetAnchor:L,frameAnchor:U,x:W,...ne,dy:R==="bottom"?+Y-offset-Z:+Y+offset+ +V,anchor:"start",length:q,shape:R==="bottom"?shapeTickBottom:shapeTickTop})}function axisTextKy(_,R,O,{facetAnchor:I=R+(_==="y"?"-empty":""),frameAnchor:F=R,tickSize:z,tickRotate:L=0,tickPadding:U=Math.max(3,9-z)+(Math.abs(L)>60?4*Math.cos(L*radians):0),text:q,textAnchor:G=Math.abs(L)>60?"middle":R==="left"?"end":"start",lineAnchor:V=L>60?"top":L<-60?"bottom":"middle",fontVariant:Z,inset:Y=0,insetLeft:W=Y,insetRight:ee=Y,dx:ne=0,ariaLabel:ie,y:se=_==="y"?void 0:null,...oe}){return axisMark(textY,_,O,{ariaLabel:`${ie} tick label`},{facetAnchor:I,frameAnchor:F,text:q,textAnchor:G,lineAnchor:V,fontVariant:Z,rotate:L,y:se,...oe,dx:R==="left"?+ne-z-U+ +W:+ne+ +z+ +U-ee},function(le,ue,ce,fe,me){Z===void 0&&(this.fontVariant=inferFontVariant(le)),q===void 0&&(me.text=inferTextChannel(le,ue,ce,fe,R))})}function axisTextKx(_,R,O,{facetAnchor:I=R+(_==="x"?"-empty":""),frameAnchor:F=R,tickSize:z,tickRotate:L=0,tickPadding:U=Math.max(3,9-z)+(Math.abs(L)>=10?4*Math.cos(L*radians):0),text:q,textAnchor:G=Math.abs(L)>=10?L<0^R==="bottom"?"start":"end":"middle",lineAnchor:V=Math.abs(L)>=10?"middle":R==="bottom"?"top":"bottom",fontVariant:Z,inset:Y=0,insetTop:W=Y,insetBottom:ee=Y,dy:ne=0,x:ie=_==="x"?void 0:null,ariaLabel:se,...oe}){return axisMark(textX,_,O,{ariaLabel:`${se} tick label`},{facetAnchor:I,frameAnchor:F,text:q===void 0?null:q,textAnchor:G,lineAnchor:V,fontVariant:Z,rotate:L,x:ie,...oe,dy:R==="bottom"?+ne+ +z+ +U-ee:+ne-z-U+ +W},function(le,ue,ce,fe,me){Z===void 0&&(this.fontVariant=inferFontVariant(le)),q===void 0&&(me.text=inferTextChannel(le,ue,ce,fe,R))})}function gridY(){const[_,R]=maybeData(...arguments);return gridKy("y",anchorY(R),_,R)}function gridFy(){const[_,R]=maybeData(...arguments);return gridKy("fy",anchorFy(R),_,R)}function gridX(){const[_,R]=maybeData(...arguments);return gridKx("x",anchorX(R),_,R)}function gridFx(){const[_,R]=maybeData(...arguments);return gridKx("fx",anchorFx(R),_,R)}function gridKy(_,R,O,{y:I=_==="y"?void 0:null,x:F=null,x1:z=R==="left"?F:null,x2:L=R==="right"?F:null,ariaLabel:U=`${_}-grid`,ariaHidden:q=!0,...G}){return axisMark(ruleY,_,O,{ariaLabel:U,ariaHidden:q},{y:I,x1:z,x2:L,...gridDefaults(G)})}function gridKx(_,R,O,{x:I=_==="x"?void 0:null,y:F=null,y1:z=R==="top"?F:null,y2:L=R==="bottom"?F:null,ariaLabel:U=`${_}-grid`,ariaHidden:q=!0,...G}){return axisMark(ruleX,_,O,{ariaLabel:U,ariaHidden:q},{x:I,y1:z,y2:L,...gridDefaults(G)})}function gridDefaults({color:_="currentColor",opacity:R=.1,stroke:O=_,strokeOpacity:I=R,strokeWidth:F=1,...z}){return{stroke:O,strokeOpacity:I,strokeWidth:F,...z}}function labelOptions({fill:_,fillOpacity:R,fontFamily:O,fontSize:I,fontStyle:F,fontVariant:z,fontWeight:L,monospace:U,pointerEvents:q,shapeRendering:G,clip:V=!1},Z){return[,_]=maybeColorChannel(_),[,R]=maybeNumberChannel(R),{facet:"super",x:null,y:null,fill:_,fillOpacity:R,fontFamily:O,fontSize:I,fontStyle:F,fontVariant:z,fontWeight:L,monospace:U,pointerEvents:q,shapeRendering:G,clip:V,initializer:Z}}function axisMark(_,R,O,I,F,z){let L;function U(V,Z,Y,W,ee,ne){const ie=V==null&&(R==="fx"||R==="fy"),{[R]:se}=W;if(!se)throw new Error(`missing scale: ${R}`);const oe=se.domain();let{interval:le,ticks:ue,tickFormat:ce,tickSpacing:fe=R==="x"?80:35}=F;if(typeof ue=="string"&&hasTemporalDomain(se)&&(le=ue,ue=void 0),ue===void 0&&(ue=maybeRangeInterval(le,se.type)??inferTickCount(se,fe)),V==null){if(isIterable(ue))V=arrayify(ue);else if(isInterval(ue))V=inclusiveRange(ue,...extent$1(oe));else if(se.interval){let he=se.interval;if(se.ticks){const[pe,ge]=extent$1(oe),_e=(ge-pe)/he[intervalDuration];he=generalizeTimeInterval(he,_e/ue)??he,V=inclusiveRange(he,pe,ge)}else{V=oe;const pe=V.length;he=generalizeTimeInterval(he,pe/ue)??he,he!==se.interval&&(V=inclusiveRange(he,...extent$1(V)))}if(he===se.interval){const pe=Math.round(V.length/ue);pe>1&&(V=V.filter((ge,_e)=>_e%pe===0))}}else se.ticks?V=se.ticks(ue):V=oe;if(!se.ticks&&V.length&&V!==oe){const he=new InternSet(oe);V=V.filter(pe=>he.has(pe)),V.length||warn(`Warning: the ${R}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}R==="y"||R==="x"?Z=[range(V)]:L[R]={scale:R,value:identity$1}}z?.call(this,se,V,ue,ce,L);const me=Object.fromEntries(Object.entries(L).map(([he,pe])=>[he,{...pe,value:valueof(V,pe.value)}]));return ie&&(Z=ne.filterFacets(V,me)),{data:V,facets:Z,channels:me}}const q=initializer(F).initializer,G=_(O,initializer({...F,initializer:U},q));return O==null?(L=G.channels,G.channels={}):L={},I!==void 0&&Object.assign(G,I),G.clip===void 0&&(G.clip=!1),G}function inferTickCount(_,R){const[O,I]=extent$1(_.range());return(I-O)/R}function inferTextChannel(_,R,O,I,F){return{value:inferTickFormat(_,R,O,I,F)}}function inferTickFormat(_,R,O,I,F){return typeof I=="function"&&!(_.type==="log"&&_.tickFormat)?I:I===void 0&&R&&isTemporal(R)?inferTimeFormat(_.type,R,F)??formatDefault:_.tickFormat?_.tickFormat(typeof O=="number"?O:null,I):typeof I=="string"&&_.domain().length>0?(isTemporal(_.domain())?utcFormat:format$1)(I):I===void 0?formatDefault:constant(I)}function inclusiveRange(_,R,O){return _.range(R,_.offset(_.floor(O)))}const shapeTickBottom={draw(_,R){_.moveTo(0,0),_.lineTo(0,R)}},shapeTickTop={draw(_,R){_.moveTo(0,0),_.lineTo(0,-R)}},shapeTickLeft={draw(_,R){_.moveTo(0,0),_.lineTo(-R,0)}},shapeTickRight={draw(_,R){_.moveTo(0,0),_.lineTo(R,0)}};function inferFontVariant(_){return _.bandwidth&&!_.interval?void 0:"tabular-nums"}function formatAxisLabel(_,R,{anchor:O,label:I=R.label,labelAnchor:F,labelArrow:z}={}){if(!(I==null||I.inferred&&hasTemporalDomain(R)&&/^(date|time|year)$/i.test(I))){if(I=String(I),z==="auto"&&(z=(!R.bandwidth||R.interval)&&!/[]/.test(I)),!z)return I;if(z===!0){const L=inferScaleOrder(R);L&&(z=/x$/.test(_)||F==="center"?/x$/.test(_)===L<0?"left":"right":L<0?"up":"down")}switch(z){case"left":return` ${I}`;case"right":return`${I} `;case"up":return O==="right"?`${I} `:` ${I}`;case"down":return O==="right"?`${I} `:` ${I}`}return I}}function maybeLabelArrow(_="auto"){return isNoneish(_)?!1:typeof _=="boolean"?_:keyword(_,"labelArrow",["auto","up","right","down","left"])}function hasTemporalDomain(_){return isTemporal(_.domain())}function maybeScale(_,R){if(R==null)return R;const O=_(R);if(!O)throw new Error(`scale not found: ${R}`);return O}function legendSwatches(_,{opacity:R,...O}={}){if(!isOrdinalScale(_)&&!isThresholdScale(_))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${_.type})`);return legendItems(_,O,(I,F,z,L)=>I.append("svg").attr("width",z).attr("height",L).attr("fill",F.scale).attr("fill-opacity",maybeNumberChannel(R)[1]).append("rect").attr("width","100%").attr("height","100%"))}function legendSymbols(_,{fill:R=_.hint?.fill!==void 0?_.hint.fill:"none",fillOpacity:O=1,stroke:I=_.hint?.stroke!==void 0?_.hint.stroke:isNoneish(R)?"currentColor":"none",strokeOpacity:F=1,strokeWidth:z=1.5,r:L=4.5,...U}={},q){const[G,V]=maybeColorChannel(R),[Z,Y]=maybeColorChannel(I),W=maybeScale(q,G),ee=maybeScale(q,Z),ne=L*L*Math.PI;return O=maybeNumberChannel(O)[1],F=maybeNumberChannel(F)[1],z=maybeNumberChannel(z)[1],legendItems(_,U,(ie,se,oe,le)=>ie.append("svg").attr("viewBox","-8 -8 16 16").attr("width",oe).attr("height",le).attr("fill",G==="color"?ue=>W.scale(ue):V).attr("fill-opacity",O).attr("stroke",Z==="color"?ue=>ee.scale(ue):Y).attr("stroke-opacity",F).attr("stroke-width",z).append("path").attr("d",ue=>{const ce=pathRound();return _.scale(ue).draw(ce,ne),ce}))}function legendItems(_,R={},O){let{columns:I,tickFormat:F,fontVariant:z=inferFontVariant$2(_),swatchSize:L=15,swatchWidth:U=L,swatchHeight:q=L,marginLeft:G=0,className:V,style:Z,width:Y}=R;const W=createContext(R);V=maybeClassName(V),F=inferTickFormat(_.scale,_.domain,void 0,F);const ee=create("div",W).attr("class",`${V}-swatches ${V}-swatches-${I!=null?"columns":"wrap"}`);let ne;return I!=null?(ne=`:where(.${V}-swatches-columns .${V}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${V}-swatches-columns .${V}-swatch::before) {
  flex-shrink: 0;
}
:where(.${V}-swatches-columns .${V}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,ee.style("columns",I).selectAll().data(_.domain).enter().append("div").attr("class",`${V}-swatch`).call(O,_,U,q).call(ie=>ie.append("div").attr("class",`${V}-swatch-label`).attr("title",F).text(F))):(ne=`:where(.${V}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${V}-swatches-wrap .${V}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,ee.selectAll().data(_.domain).enter().append("span").attr("class",`${V}-swatch`).call(O,_,U,q).append(function(){return this.ownerDocument.createTextNode(F.apply(this,arguments))})),ee.call(ie=>ie.insert("style","*").text(`:where(.${V}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${V}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${ne}`)).style("margin-left",G?`${+G}px`:null).style("width",Y===void 0?null:`${+Y}px`).style("font-variant",impliedString(z,"normal")).call(applyInlineStyles,Z).node()}const legendRegistry=new Map([["symbol",legendSymbols],["color",legendColor],["opacity",legendOpacity]]);function exposeLegends(_,R,O={}){return(I,F)=>{if(!legendRegistry.has(I))throw new Error(`unknown legend type: ${I}`);if(I in _)return legendRegistry.get(I)(_[I],legendOptions(R,O[I],F),z=>_[z])}}function legendOptions({className:_,...R},{label:O,ticks:I,tickFormat:F}={},z){return inherit(z,{className:_,...R},{label:O,ticks:I,tickFormat:F})}function legendColor(_,{legend:R=!0,...O}){if(R===!0&&(R=_.type==="ordinal"?"swatches":"ramp"),_.domain!==void 0)switch(`${R}`.toLowerCase()){case"swatches":return legendSwatches(_,O);case"ramp":return legendRamp(_,O);default:throw new Error(`unknown legend type: ${R}`)}}function legendOpacity({type:_,interpolate:R,...O},{legend:I=!0,color:F=rgb(0,0,0),...z}){if(!R)throw new Error(`${_} opacity scales are not supported`);if(I===!0&&(I="ramp"),`${I}`.toLowerCase()!=="ramp")throw new Error(`${I} opacity legends are not supported`);return legendColor({type:_,...O,interpolate:interpolateOpacity(F)},{legend:I,...z})}function interpolateOpacity(_){const{r:R,g:O,b:I}=rgb(_)||rgb(0,0,0);return F=>`rgba(${R},${O},${I},${F})`}function createLegends(_,R,O){const I=[];for(const[F,z]of legendRegistry){const L=O[F];if(L?.legend&&F in _){const U=z(_[F],legendOptions(R,_[F],L),q=>_[q]);U!=null&&I.push(U)}}return I}function maybeIdentityY(_={},R="y"){return hasY(_)?_:{..._,[R]:identity$1}}function exclusiveFacets(_,R){if(R.length===1)return{data:_,facets:R};const O=lengthof(_),I=new Uint8Array(O);let F=0;for(const U of R)for(const q of U)I[q]&&++F,I[q]=1;if(F===0)return{data:_,facets:R};_=slice(_);const z=_[reindex]=new Uint32Array(O+F);R=R.map(U=>slice(U,Uint32Array));let L=O;I.fill(0);for(const U of R)for(let q=0,G=U.length;q<G;++q){const V=U[q];I[V]?(U[q]=L,_[L]=_[V],z[L]=V,++L):z[V]=V,I[V]=1}return{data:_,facets:R}}function stackY(_={},R={}){arguments.length===1&&([_,R]=mergeOptions$1(_));const{x1:O,x:I=O,y:F,...z}=R,[L,U,q,G]=stack(I,F,"x","y",_,z);return{...L,x1:O,x:U,y1:q,y2:G,y:mid(q,G)}}function maybeStackY({y:_,y1:R,y2:O,...I}={}){return I=withTip(I,"x"),R===void 0&&O===void 0?stackY({y:_,...I}):([R,O]=maybeZero(_,R,O),{...I,y1:R,y2:O})}function mergeOptions$1(_){const{offset:R,order:O,reverse:I,...F}=_;return[{offset:R,order:O,reverse:I},F]}const lengthy={length:!0};function stack(_,R=one,O,I,{offset:F,order:z,reverse:L},U){if(R===null)throw new Error(`stack requires ${I}`);const q=maybeZ(U),[G,V]=maybeColumn(_),[Z,Y]=column(R),[W,ee]=column(R);return Z.hint=W.hint=lengthy,F=maybeOffset(F),z=maybeOrder(z,F,I),[basic(U,(ne,ie,se)=>{({data:ne,facets:ie}=exclusiveFacets(ne,ie));const oe=_==null?void 0:V(maybeApplyInterval(valueof(ne,_),se?.[O])),le=valueof(ne,R,Float64Array),ue=valueof(ne,q),ce=z&&z(ne,oe,le,ue),fe=lengthof(ne),me=Y(new Float64Array(fe)),he=ee(new Float64Array(fe)),pe=[];for(const ge of ie){const _e=oe?Array.from(group(ge,ye=>oe[ye]).values()):[ge];if(ce)for(const ye of _e)ye.sort(ce);for(const ye of _e){let we=0,ve=0;L&&ye.reverse();for(const $e of ye){const be=le[$e];be<0?we=he[$e]=(me[$e]=we)+be:be>0?ve=he[$e]=(me[$e]=ve)+be:he[$e]=me[$e]=ve}}pe.push(_e)}return F&&F(pe,me,he,ue),{data:ne,facets:ie}}),G,Z,W]}function maybeOffset(_){if(_!=null){if(typeof _=="function")return _;switch(`${_}`.toLowerCase()){case"expand":case"normalize":return offsetExpand;case"center":case"silhouette":return offsetCenter;case"wiggle":return offsetWiggle}throw new Error(`unknown offset: ${_}`)}}function extent(_,R){let O=0,I=0;for(const F of _){const z=R[F];z<O&&(O=z),z>I&&(I=z)}return[O,I]}function offsetExpand(_,R,O){for(const I of _)for(const F of I){const[z,L]=extent(F,O);for(const U of F){const q=1/(L-z||1);R[U]=q*(R[U]-z),O[U]=q*(O[U]-z)}}}function offsetCenter(_,R,O){for(const I of _){for(const F of I){const[z,L]=extent(F,O);for(const U of F){const q=(L+z)/2;R[U]-=q,O[U]-=q}}offsetZero(I,R,O)}offsetCenterFacets(_,R,O)}function offsetWiggle(_,R,O,I){for(const F of _){const z=new InternMap;let L=0;for(const U of F){let q=-1;const G=U.map(W=>Math.abs(O[W]-R[W])),V=U.map(W=>{q=I?I[W]:++q;const ee=O[W]-R[W],ne=z.has(q)?ee-z.get(q):0;return z.set(q,ee),ne}),Z=[0,...cumsum(V)];for(const W of U)R[W]+=L,O[W]+=L;const Y=sum(G);Y&&(L-=sum(G,(W,ee)=>(V[ee]/2+Z[ee])*W)/Y)}offsetZero(F,R,O)}offsetCenterFacets(_,R,O)}function offsetZero(_,R,O){const I=min$1(_,F=>min$1(F,z=>R[z]));for(const F of _)for(const z of F)R[z]-=I,O[z]-=I}function offsetCenterFacets(_,R,O){const I=_.length;if(I===1)return;const F=_.map(U=>U.flat()),z=F.map(U=>(min$1(U,q=>R[q])+max(U,q=>O[q]))/2),L=min$1(z);for(let U=0;U<I;U++){const q=L-z[U];for(const G of F[U])R[G]+=q,O[G]+=q}}function maybeOrder(_,R,O){if(_===void 0&&R===offsetWiggle)return orderInsideOut(ascendingDefined);if(_!=null){if(typeof _=="string"){const I=_.startsWith("-"),F=I?descendingDefined:ascendingDefined;switch((I?_.slice(1):_).toLowerCase()){case"value":case O:return orderY(F);case"z":return orderZ(F);case"sum":return orderSum(F);case"appearance":return orderAppearance(F);case"inside-out":return orderInsideOut(F)}return orderAccessor(field(_))}if(typeof _=="function")return(_.length===1?orderAccessor:orderComparator)(_);if(isArray(_))return orderGiven(_);throw new Error(`invalid order: ${_}`)}}function orderY(_){return(R,O,I)=>(F,z)=>_(I[F],I[z])}function orderZ(_){return(R,O,I,F)=>(z,L)=>_(F[z],F[L])}function orderSum(_){return orderZDomain(_,(R,O,I,F)=>groupSort(range(R),z=>sum(z,L=>I[L]),z=>F[z]))}function orderAppearance(_){return orderZDomain(_,(R,O,I,F)=>groupSort(range(R),z=>O[greatest(z,L=>I[L])],z=>F[z]))}function orderInsideOut(_){return orderZDomain(_,(R,O,I,F)=>{const z=range(R),L=groupSort(z,Z=>O[greatest(Z,Y=>I[Y])],Z=>F[Z]),U=rollup(z,Z=>sum(Z,Y=>I[Y]),Z=>F[Z]),q=[],G=[];let V=0;for(const Z of L)V<0?(V+=U.get(Z),q.push(Z)):(V-=U.get(Z),G.push(Z));return G.reverse().concat(q)})}function orderAccessor(_){return R=>{const O=valueof(R,_);return(I,F)=>ascendingDefined(O[I],O[F])}}function orderComparator(_){return R=>isArray(R)?(O,I)=>_(R[O],R[I]):(O,I)=>_(R.get(O),R.get(I))}function orderGiven(_){return orderZDomain(ascendingDefined,()=>_)}function orderZDomain(_,R){return(O,I,F,z)=>{if(!z)throw new Error("missing channel: z");const L=new InternMap(R(O,I,F,z).map((U,q)=>[U,q]));return(U,q)=>_(L.get(z[U]),L.get(z[q]))}}function rectInsets(_,{inset:R=0,insetTop:O=R,insetRight:I=R,insetBottom:F=R,insetLeft:z=R}={}){_.insetTop=number(O),_.insetRight=number(I),_.insetBottom=number(F),_.insetLeft=number(z)}function rectRadii(_,{r:R,rx:O,ry:I,rx1:F=R,ry1:z=R,rx2:L=R,ry2:U=R,rx1y1:q=F!==void 0?+F:z!==void 0?+z:0,rx1y2:G=F!==void 0?+F:U!==void 0?+U:0,rx2y1:V=L!==void 0?+L:z!==void 0?+z:0,rx2y2:Z=L!==void 0?+L:U!==void 0?+U:0}={}){q||G||V||Z?(_.rx1y1=q,_.rx1y2=G,_.rx2y1=V,_.rx2y2=Z):(_.rx=impliedString(O,"auto"),_.ry=impliedString(I,"auto"))}function applyRoundedRect(_,R,O,I,F,z){const{rx1y1:L,rx1y2:U,rx2y1:q,rx2y2:G}=z;typeof R!="function"&&(R=constant(R)),typeof O!="function"&&(O=constant(O)),typeof I!="function"&&(I=constant(I)),typeof F!="function"&&(F=constant(F));const V=Math.max(Math.abs(L+q),Math.abs(U+G)),Z=Math.max(Math.abs(L+U),Math.abs(q+G));_.attr("d",Y=>{const W=R(Y),ee=O(Y),ne=I(Y),ie=F(Y),se=W>ne,oe=ee>ie,le=se?ne:W,ue=se?W:ne,ce=oe?ie:ee,fe=oe?ee:ie,me=Math.min(1,(ue-le)/V,(fe-ce)/Z),he=me*(se?oe?G:q:oe?U:L),pe=me*(se?oe?U:L:oe?G:q),ge=me*(se?oe?L:U:oe?q:G),_e=me*(se?oe?q:G:oe?L:U);return`M${le},${ce+biasY(he,_e)}A${he},${he} 0 0 ${he<0?0:1} ${le+biasX(he,_e)},${ce}H${ue-biasX(pe,ge)}A${pe},${pe} 0 0 ${pe<0?0:1} ${ue},${ce+biasY(pe,ge)}V${fe-biasY(ge,pe)}A${ge},${ge} 0 0 ${ge<0?0:1} ${ue-biasX(ge,pe)},${fe}H${le+biasX(_e,he)}A${_e},${_e} 0 0 ${_e<0?0:1} ${le},${fe-biasY(_e,he)}Z`})}function biasX(_,R){return R<0?_:Math.abs(_)}function biasY(_,R){return R<0?Math.abs(_):_}const defaults$6={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},lineDefaults={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Frame extends Mark{constructor(R={}){const{anchor:O=null}=R;super(singleton,void 0,R,O==null?defaults$6:lineDefaults),this.anchor=maybeKeyword(O,"anchor",["top","right","bottom","left"]),rectInsets(this,R),O||rectRadii(this,R)}render(R,O,I,F,z){const{marginTop:L,marginRight:U,marginBottom:q,marginLeft:G,width:V,height:Z}=F,{anchor:Y,insetTop:W,insetRight:ee,insetBottom:ne,insetLeft:ie}=this,{rx:se,ry:oe,rx1y1:le,rx1y2:ue,rx2y1:ce,rx2y2:fe}=this,me=G+ie,he=V-U-ee,pe=L+W,ge=Z-q-ne;return create(Y?"svg:line":le||ue||ce||fe?"svg:path":"svg:rect",z).datum(0).call(applyIndirectStyles,this,F,z).call(applyDirectStyles,this).call(applyChannelStyles,this,I).call(applyTransform,this,{}).call(Y==="left"?_e=>_e.attr("x1",me).attr("x2",me).attr("y1",pe).attr("y2",ge):Y==="right"?_e=>_e.attr("x1",he).attr("x2",he).attr("y1",pe).attr("y2",ge):Y==="top"?_e=>_e.attr("x1",me).attr("x2",he).attr("y1",pe).attr("y2",pe):Y==="bottom"?_e=>_e.attr("x1",me).attr("x2",he).attr("y1",ge).attr("y2",ge):le||ue||ce||fe?_e=>_e.call(applyRoundedRect,me,pe,he,ge,this):_e=>_e.attr("x",me).attr("y",pe).attr("width",he-me).attr("height",ge-pe).attr("rx",se).attr("ry",oe)).node()}}function frame(_){return new Frame(_)}const defaults$5={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},ignoreChannels=new Set(["geometry","href","src","ariaLabel","scales"]);class Tip extends Mark{constructor(R,O={}){O.tip&&(O={...O,tip:!1}),O.title===void 0&&isIterable(R)&&isTextual(R)&&(O={...O,title:identity$1});const{x:I,y:F,x1:z,x2:L,y1:U,y2:q,anchor:G,preferredAnchor:V="bottom",monospace:Z,fontFamily:Y=Z?"ui-monospace, monospace":void 0,fontSize:W,fontStyle:ee,fontVariant:ne,fontWeight:ie,lineHeight:se=1,lineWidth:oe=20,frameAnchor:le,format:ue,textAnchor:ce="start",textOverflow:fe,textPadding:me=8,title:he,pointerSize:pe=12,pathFilter:ge="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=O;super(R,{x:{value:z!=null&&L!=null?null:I,scale:"x",optional:!0},y:{value:U!=null&&q!=null?null:F,scale:"y",optional:!0},x1:{value:z,scale:"x",optional:L==null},y1:{value:U,scale:"y",optional:q==null},x2:{value:L,scale:"x",optional:z==null},y2:{value:q,scale:"y",optional:U==null},title:{value:he,optional:!0}},O,defaults$5),this.anchor=maybeAnchor$1(G,"anchor"),this.preferredAnchor=maybeAnchor$1(V,"preferredAnchor"),this.frameAnchor=maybeFrameAnchor(le),this.textAnchor=impliedString(ce,"middle"),this.textPadding=+me,this.pointerSize=+pe,this.pathFilter=string(ge),this.lineHeight=+se,this.lineWidth=+oe,this.textOverflow=maybeTextOverflow(fe),this.monospace=!!Z,this.fontFamily=string(Y),this.fontSize=number(W),this.fontStyle=string(ee),this.fontVariant=string(ne),this.fontWeight=string(ie);for(const _e in defaults$5)_e in this.channels&&(this[_e]=defaults$5[_e]);this.splitLines=splitter(this),this.clipLine=clipper(this),this.format=typeof ue=="string"||typeof ue=="function"?{title:ue}:{...ue}}render(R,O,I,F,z){const L=this,{x:U,y:q,fx:G,fy:V}=O,{ownerSVGElement:Z,document:Y}=z,{anchor:W,monospace:ee,lineHeight:ne,lineWidth:ie}=this,{textPadding:se,pointerSize:oe,pathFilter:le}=this,{marginTop:ue,marginLeft:ce}=F,{x1:fe,y1:me,x2:he,y2:pe,x:ge=fe??he,y:_e=me??pe}=I,ye=G?G(R.fx)-ce:0,we=V?V(R.fy)-ue:0,[ve,$e]=applyFrameAnchor(this,F),be=anchorX$1(I,ve),Ce=anchorY$1(I,$e),De=ee?monospaceWidth:defaultWidth,Ne=De(ellipsis);let Me,Te;"title"in I?(Me=getSourceChannels.call(this,{title:I.channels.title},O),Te=formatTitle):(Me=getSourceChannels.call(this,I.channels,O),Te=formatChannels);const Re=create("svg:g",z).call(applyIndirectStyles,this,F,z).call(applyIndirectTextStyles,this).call(applyTransform,this,{x:ge&&U,y:_e&&q}).call(Pe=>Pe.selectAll().data(R).enter().append("g").attr("transform",Qe=>`translate(${Math.round(be(Qe))},${Math.round(Ce(Qe))})`).call(applyDirectStyles,this).call(Qe=>Qe.append("path").attr("filter",le)).call(Qe=>Qe.append("text").each(function(Ze){const Le=select(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const ke=Te.call(L,Ze,R,Me,O,I);if(typeof ke=="string")for(const Ge of L.splitLines(ke))Se(Le,{value:L.clipLine(Ge)});else{const Ge=new Set;for(const Ke of ke){const{label:He=""}=Ke;He&&Ge.has(He)||(Ge.add(He),Se(Le,Ke))}}})));function Se(Pe,{label:Qe,value:Ze,color:Le,opacity:ke}){Qe??="",Ze??="";const Ge=Le!=null||ke!=null;let Ke,He=ie*100;const[st]=cut(Qe,He,De,Ne);if(st>=0)Qe=Qe.slice(0,st).trimEnd()+ellipsis,Ke=Ze.trim(),Ze="";else{(Qe||!Ze&&!Ge)&&(Ze=" "+Ze);const[tt]=cut(Ze,He-De(Qe),De,Ne);tt>=0&&(Ke=Ze.trim(),Ze=Ze.slice(0,tt).trimEnd()+ellipsis)}const Ae=Pe.append("tspan").attr("x",0).attr("dy",`${ne}em`).text("");Qe&&Ae.append("tspan").attr("font-weight","bold").text(Qe),Ze&&Ae.append(()=>Y.createTextNode(Ze)),Ge&&Ae.append("tspan").text(" ").attr("fill",Le).attr("fill-opacity",ke).style("user-select","none"),Ke&&Ae.append("title").text(Ke)}function ze(){const{width:Pe,height:Qe}=F.facet??F;Re.selectChildren().each(function(Ze){let{x:Le,width:ke,height:Ge}=this.getBBox();ke=Math.round(ke),Ge=Math.round(Ge);let Ke=W;if(Ke===void 0){const Ae=be(Ze)+ye,tt=Ce(Ze)+we,rt=Ae+ke+oe+se*2<Pe,We=Ae-ke-oe-se*2>0,qe=tt+Ge+oe+se*2<Qe,nt=tt-Ge-oe-se*2>0;Ke=rt&&We?qe&&nt?L.preferredAnchor:nt?"bottom":"top":qe&&nt?rt?"left":"right":(rt||We)&&(qe||nt)?`${nt?"bottom":"top"}-${rt?"left":"right"}`:L.preferredAnchor}const He=this.firstChild,st=this.lastChild;if(He.setAttribute("d",getPath(Ke,oe,se,ke,Ge)),Le)for(const Ae of st.childNodes)Ae.setAttribute("x",-Le);st.setAttribute("y",`${+getLineOffset(Ke,st.childNodes.length,ne).toFixed(6)}em`),st.setAttribute("transform",`translate(${getTextTranslate(Ke,oe,se,ke,Ge)})`)}),Re.attr("visibility",null)}return R.length&&(Re.attr("visibility","hidden"),Z.isConnected?Promise.resolve().then(ze):typeof requestAnimationFrame<"u"&&requestAnimationFrame(ze)),Re.node()}}function tip(_,{x:R,y:O,...I}={}){return I.frameAnchor===void 0&&([R,O]=maybeTuple(R,O)),new Tip(_,{...I,x:R,y:O})}function getLineOffset(_,R,O){return/^top(?:-|$)/.test(_)?.94-O:-.29-R*O}function getTextTranslate(_,R,O,I,F){switch(_){case"middle":return[-I/2,F/2];case"top-left":return[O,R+O];case"top":return[-I/2,R/2+O];case"top-right":return[-I-O,R+O];case"right":return[-R/2-I-O,F/2];case"bottom-left":return[O,-R-O];case"bottom":return[-I/2,-R/2-O];case"bottom-right":return[-I-O,-R-O];case"left":return[O+R/2,F/2]}}function getPath(_,R,O,I,F){const z=I+O*2,L=F+O*2;switch(_){case"middle":return`M${-z/2},${-L/2}h${z}v${L}h${-z}z`;case"top-left":return`M0,0l${R},${R}h${z-R}v${L}h${-z}z`;case"top":return`M0,0l${R/2},${R/2}h${(z-R)/2}v${L}h${-z}v${-L}h${(z-R)/2}z`;case"top-right":return`M0,0l${-R},${R}h${R-z}v${L}h${z}z`;case"right":return`M0,0l${-R/2},${-R/2}v${R/2-L/2}h${-z}v${L}h${z}v${R/2-L/2}z`;case"bottom-left":return`M0,0l${R},${-R}h${z-R}v${-L}h${-z}z`;case"bottom":return`M0,0l${R/2},${-R/2}h${(z-R)/2}v${-L}h${-z}v${L}h${(z-R)/2}z`;case"bottom-right":return`M0,0l${-R},${-R}h${R-z}v${-L}h${z}z`;case"left":return`M0,0l${R/2},${-R/2}v${R/2-L/2}h${z}v${L}h${-z}v${R/2-L/2}z`}}function getSourceChannels(_,R){const O={};let I=this.format;I=maybeExpandPairedFormat(I,_,"x"),I=maybeExpandPairedFormat(I,_,"y"),this.format=I;for(const F in I){const z=I[F];if(!(z===null||z===!1))if(F==="fx"||F==="fy")O[F]=!0;else{const L=getSource(_,F);L&&(O[F]=L)}}for(const F in _){if(F in O||F in I||ignoreChannels.has(F)||(F==="x"||F==="y")&&_.geometry)continue;const z=getSource(_,F);if(z){if(z.scale==null&&z.defaultScale==="color")continue;O[F]=z}}this.facet&&(R.fx&&!("fx"in I)&&(O.fx=!0),R.fy&&!("fy"in I)&&(O.fy=!0));for(const F in O){const z=this.format[F];if(typeof z=="string"){const L=O[F]?.value??R[F]?.domain()??[];this.format[F]=(isTemporal(L)?utcFormat:format$1)(z)}else if(z===void 0||z===!0){const L=R[F];this.format[F]=L?.bandwidth?inferTickFormat(L,L.domain()):formatDefault}}return O}function maybeExpandPairedFormat(_,R,O){if(!(O in _))return _;const I=`${O}1`,F=`${O}2`;if((I in _||!(I in R))&&(F in _||!(F in R)))return _;const z=Object.entries(_),L=_[O];return z.splice(z.findIndex(([U])=>U===O)+1,0,[I,L],[F,L]),Object.fromEntries(z)}function formatTitle(_,R,{title:O}){return this.format.title(O.value[_],_)}function*formatChannels(_,R,O,I,F){for(const z in O){if(z==="fx"||z==="fy"){yield{label:formatLabel(I,O,z),value:this.format[z](R[z],_)};continue}if(z==="x1"&&"x2"in O||z==="y1"&&"y2"in O)continue;const L=O[z];if(z==="x2"&&"x1"in O)yield{label:formatPairLabel(I,O,"x"),value:formatPair(this.format.x2,O.x1,L,_)};else if(z==="y2"&&"y1"in O)yield{label:formatPairLabel(I,O,"y"),value:formatPair(this.format.y2,O.y1,L,_)};else{const U=L.value[_],q=L.scale;if(!defined(U)&&q==null)continue;yield{label:formatLabel(I,O,z),value:this.format[z](U,_),color:q==="color"?F[z][_]:null,opacity:q==="opacity"?F[z][_]:null}}}}function formatPair(_,R,O,I){return O.hint?.length?`${_(O.value[I]-R.value[I],I)}`:`${_(R.value[I],I)}${_(O.value[I],I)}`}function formatPairLabel(_,R,O){const I=formatLabel(_,R,`${O}1`,O),F=formatLabel(_,R,`${O}2`,O);return I===F?I:`${I}${F}`}function formatLabel(_,R,O,I=O){const F=R[O],z=_[F?.scale??O];return String(z?.label??F?.label??I)}function plot(_={}){const{facet:R,style:O,title:I,subtitle:F,caption:z,ariaLabel:L,ariaDescription:U}=_,q=maybeClassName(_.className),G=_.marks===void 0?[]:flatMarks(_.marks);G.push(...inferTips(G));const V=maybeTopFacet(R,_),Z=new Map;for(const Ne of G){const Me=maybeMarkFacet(Ne,V,_);Me&&Z.set(Ne,Me)}const Y=new Map;V&&addScaleChannels(Y,[V],_),addScaleChannels(Y,Z,_);const W=flatMarks(inferAxes(G,Y,_));for(const Ne of W){const Me=maybeMarkFacet(Ne,V,_);Me&&Z.set(Ne,Me)}G.unshift(...W);let ee=createFacets(Y,_);if(ee!==void 0){const Ne=V?facetFilter(ee,V):void 0;for(const Te of G){if(Te.facet===null||Te.facet==="super")continue;const Re=Z.get(Te);Re!==void 0&&(Re.facetsIndex=Te.fx!=null||Te.fy!=null?facetFilter(ee,Re):Ne)}const Me=new Set;for(const{facetsIndex:Te}of Z.values())Te?.forEach((Re,Se)=>{Re?.length>0&&Me.add(Se)});ee.forEach(0<Me.size&&Me.size<ee.length?(Te,Re)=>Te.empty=!Me.has(Re):Te=>Te.empty=!1);for(const Te of G)if(Te.facet==="exclude"){const Re=Z.get(Te);Re!==void 0&&(Re.facetsIndex=facetExclude(Re.facetsIndex))}}for(const Ne of registry.keys())isScaleOptions(_[Ne])&&Ne!=="fx"&&Ne!=="fy"&&Y.set(Ne,[]);const ne=new Map;for(const Ne of G){if(ne.has(Ne))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:Me,channels:Te}=Z.get(Ne)??{},{data:Re,facets:Se,channels:ze}=Ne.initialize(Me,Te,_);applyScaleTransforms(ze,_),ne.set(Ne,{data:Re,facets:Se,channels:ze})}const ie=createScales(addScaleChannels(Y,ne,_),_),se=createDimensions(ie,G,_);autoScaleRange(ie,se);const oe=createScaleFunctions(ie),{fx:le,fy:ue}=oe,ce=le||ue?innerDimensions(ie,se):se,fe=le||ue?actualDimensions(oe,se):se,me=createContext(_),he=me.document,pe=creator("svg").call(he.documentElement);let ge=pe;me.ownerSVGElement=pe,me.className=q,me.projection=createProjection(_,ce),me.path=function(){return geoPath(this.projection??xyProjection(oe))},me.filterFacets=(Ne,Me)=>facetFilter(ee,{channels:Me,groups:facetGroups(Ne,Me)}),me.getMarkState=Ne=>{const Me=ne.get(Ne),Te=Z.get(Ne);return{...Me,channels:{...Me.channels,...Te?.channels}}},me.dispatchValue=Ne=>{ge.value!==Ne&&(ge.value=Ne,ge.dispatchEvent(new me.document.defaultView.Event("input",{bubbles:!0})))};const _e=new Set;for(const[Ne,Me]of ne)if(Ne.initializer!=null){const Te=Ne.facet==="super"?fe:ce,Re=Ne.initializer(Me.data,Me.facets,Me.channels,oe,Te,me);if(Re.data!==void 0&&(Me.data=Re.data),Re.facets!==void 0&&(Me.facets=Re.facets),Re.channels!==void 0){const{fx:Se,fy:ze,...Pe}=Re.channels;inferChannelScales(Pe),Object.assign(Me.channels,Pe);for(const Qe of Object.values(Pe)){const{scale:Ze}=Qe;Ze!=null&&!isPosition(registry.get(Ze))&&(applyScaleTransform(Qe,_),_e.add(Ze))}(Se!=null||ze!=null)&&Z.set(Ne,!0)}}if(_e.size){const Ne=new Map;addScaleChannels(Ne,ne,_,Se=>_e.has(Se)),addScaleChannels(Y,ne,_,Se=>_e.has(Se));const Me=inheritScaleLabels(createScales(Ne,_),ie),{scales:Te,...Re}=createScaleFunctions(Me);Object.assign(ie,Me),Object.assign(oe,Re),Object.assign(oe.scales,Te)}let ye,we;ee!==void 0&&(ye={x:le?.domain(),y:ue?.domain()},ee=recreateFacets(ee,ye),we=facetTranslator(le,ue,se));for(const[Ne,Me]of ne)Me.values=Ne.scale(Me.channels,oe,me);const{width:ve,height:$e}=se;select(pe).attr("class",q).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",ve).attr("height",$e).attr("viewBox",`0 0 ${ve} ${$e}`).attr("aria-label",L).attr("aria-description",U).call(Ne=>Ne.append("style").text(`:where(.${q}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${q} text),
:where(.${q} tspan) {
  white-space: pre;
}`)).call(applyInlineStyles,O);for(const Ne of G){const{channels:Me,values:Te,facets:Re}=ne.get(Ne);if(ee===void 0||Ne.facet==="super"){let Se=null;if(Re&&(Se=Re[0],Se=Ne.filter(Se,Me,Te),Se.length===0))continue;const ze=Ne.render(Se,oe,Te,fe,me);if(ze==null)continue;pe.appendChild(ze)}else{let Se;for(const ze of ee){if(!(Ne.facetAnchor?.(ee,ye,ze)??!ze.empty))continue;let Pe=null;if(Re){const Ze=Z.has(Ne);if(Pe=Re[Ze?ze.i:0],Pe=Ne.filter(Pe,Me,Te),Pe.length===0)continue;!Ze&&Pe===Re[0]&&(Pe=subarray(Pe)),Pe.fx=ze.x,Pe.fy=ze.y,Pe.fi=ze.i}const Qe=Ne.render(Pe,oe,Te,ce,me);if(Qe!=null){(Se??=select(pe).append("g")).append(()=>Qe).datum(ze);for(const Ze of["aria-label","aria-description","aria-hidden","transform"])Qe.hasAttribute(Ze)&&(Se.attr(Ze,Qe.getAttribute(Ze)),Qe.removeAttribute(Ze))}}Se?.selectChildren().each(we)}}const be=createLegends(ie,me,_),{figure:Ce=I!=null||F!=null||z!=null||be.length>0}=_;Ce&&(ge=he.createElement("figure"),ge.className=`${q}-figure`,ge.style.maxWidth="initial",I!=null&&ge.append(createTitleElement(he,I,"h2")),F!=null&&ge.append(createTitleElement(he,F,"h3")),ge.append(...be,pe),z!=null&&ge.append(createFigcaption(he,z)),"value"in pe&&(ge.value=pe.value,delete pe.value)),ge.scale=exposeScales(oe.scales),ge.legend=exposeLegends(ie,me,_);const De=consumeWarnings();return De>0&&select(pe).append("text").attr("x",ve).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${De.toLocaleString("en-US")} warning${De===1?"":"s"}. Please check the console.`),ge}function createTitleElement(_,R,O){if(R.ownerDocument)return R;const I=_.createElement(O);return I.append(R),I}function createFigcaption(_,R){const O=_.createElement("figcaption");return O.append(R),O}function flatMarks(_){return _.flat(1/0).filter(R=>R!=null).map(markify)}function markify(_){return typeof _.render=="function"?_:new Render(_)}class Render extends Mark{constructor(R){if(typeof R!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=R}render(){}}function applyScaleTransforms(_,R){for(const O in _)applyScaleTransform(_[O],R);return _}function applyScaleTransform(_,R){const{scale:O,transform:I=!0}=_;if(O==null||!I)return;const{type:F,percent:z,interval:L,transform:U=z?q=>q==null?NaN:q*100:maybeIntervalTransform(L,F)}=R[O]??{};U!=null&&(_.value=map(_.value,U),_.transform=!1)}function inferChannelScales(_){for(const R in _)inferChannelScale(R,_[R])}function addScaleChannels(_,R,O,I=yes){for(const{channels:F}of R.values())for(const z in F){const L=F[z],{scale:U}=L;if(U!=null&&I(U))if(U==="projection"){if(!hasProjection(O)){const q=O.x?.domain===void 0,G=O.y?.domain===void 0;if(q||G){const[V,Z]=getGeometryChannels(L);q&&addScaleChannel(_,"x",V),G&&addScaleChannel(_,"y",Z)}}}else addScaleChannel(_,U,L)}return _}function addScaleChannel(_,R,O){const I=_.get(R);I!==void 0?I.push(O):_.set(R,[O])}function maybeTopFacet(_,R){if(_==null)return;const{x:O,y:I}=_;if(O==null&&I==null)return;const F=dataify(_.data);if(F==null)throw new Error("missing facet data");const z={};O!=null&&(z.fx=createChannel(F,{value:O,scale:"fx"})),I!=null&&(z.fy=createChannel(F,{value:I,scale:"fy"})),applyScaleTransforms(z,R);const L=facetGroups(F,z);return{channels:z,groups:L,data:_.data}}function maybeMarkFacet(_,R,O){if(_.facet===null||_.facet==="super")return;const{fx:I,fy:F}=_;if(I!=null||F!=null){const q=dataify(_.data??I??F);if(q===void 0)throw new Error(`missing facet data in ${_.ariaLabel}`);if(q===null)return;const G={};return I!=null&&(G.fx=createChannel(q,{value:I,scale:"fx"})),F!=null&&(G.fy=createChannel(q,{value:F,scale:"fy"})),applyScaleTransforms(G,O),{channels:G,groups:facetGroups(q,G)}}if(R===void 0)return;const{channels:z,groups:L,data:U}=R;if(_.facet!=="auto"||_.data===U)return{channels:z,groups:L};U.length>0&&(L.size>1||L.size===1&&z.fx&&z.fy&&[...L][0][1].size>1)&&lengthof(dataify(_.data))===lengthof(U)&&warn(`Warning: the ${_.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function derive(_,R={}){return initializer({...R,x:null,y:null},(O,I,F,z,L,U)=>U.getMarkState(_))}function inferTips(_){const R=[];for(const O of _){let I=O.tip;if(I){I===!0?I={}:typeof I=="string"&&(I={pointer:I});let{pointer:F,preferredAnchor:z}=I;F=/^x$/i.test(F)?pointerX:/^y$/i.test(F)?pointerY:pointer,I=F(derive(O,I)),I.title=null,z===void 0&&(I.preferredAnchor=F===pointerY?"left":"bottom");const L=tip(O.data,I);L.facet=O.facet,L.facetAnchor=O.facetAnchor,R.push(L)}}return R}function inferAxes(_,R,O){let{projection:I,x:F={},y:z={},fx:L={},fy:U={},axis:q,grid:G,facet:V={},facet:{axis:Z=q,grid:Y}=V,x:{axis:W=q,grid:ee=W===null?null:G}=F,y:{axis:ne=q,grid:ie=ne===null?null:G}=z,fx:{axis:se=Z,grid:oe=se===null?null:Y}=L,fy:{axis:le=Z,grid:ue=le===null?null:Y}=U}=O;(I||!isScaleOptions(F)&&!hasPositionChannel("x",_))&&(W=ee=null),(I||!isScaleOptions(z)&&!hasPositionChannel("y",_))&&(ne=ie=null),R.has("fx")||(se=oe=null),R.has("fy")||(le=ue=null),W===void 0&&(W=!hasAxis(_,"x")),ne===void 0&&(ne=!hasAxis(_,"y")),se===void 0&&(se=!hasAxis(_,"fx")),le===void 0&&(le=!hasAxis(_,"fy")),W===!0&&(W="bottom"),ne===!0&&(ne="left"),se===!0&&(se=W==="top"||W===null?"bottom":"top"),le===!0&&(le=ne==="right"||ne===null?"left":"right");const ce=[];return maybeGrid(ce,ue,gridFy,U),maybeAxis(ce,le,axisFy,"right","left",V,U),maybeGrid(ce,oe,gridFx,L),maybeAxis(ce,se,axisFx,"top","bottom",V,L),maybeGrid(ce,ie,gridY,z),maybeAxis(ce,ne,axisY,"left","right",O,z),maybeGrid(ce,ee,gridX,F),maybeAxis(ce,W,axisX,"bottom","top",O,F),ce}function maybeAxis(_,R,O,I,F,z,L){if(!R)return;const U=isBoth(R);L=axisOptions(U?I:R,z,L);const{line:q}=L;(O===axisY||O===axisX)&&q&&!isNone(q)&&_.push(frame(lineOptions(L))),_.push(O(L)),U&&_.push(O({...L,anchor:F,label:null}))}function maybeGrid(_,R,O,I){!R||isNone(R)||_.push(O(gridOptions(R,I)))}function isBoth(_){return/^\s*both\s*$/i.test(_)}function axisOptions(_,R,{line:O=R.line,ticks:I,tickSize:F,tickSpacing:z,tickPadding:L,tickFormat:U,tickRotate:q,fontVariant:G,ariaLabel:V,ariaDescription:Z,label:Y=R.label,labelAnchor:W,labelArrow:ee=R.labelArrow,labelOffset:ne}){return{anchor:_,line:O,ticks:I,tickSize:F,tickSpacing:z,tickPadding:L,tickFormat:U,tickRotate:q,fontVariant:G,ariaLabel:V,ariaDescription:Z,label:Y,labelAnchor:W,labelArrow:ee,labelOffset:ne}}function lineOptions(_){const{anchor:R,line:O}=_;return{anchor:R,facetAnchor:R+"-empty",stroke:O===!0?void 0:O}}function gridOptions(_,{stroke:R=isColor(_)?_:void 0,ticks:O=isGridTicks(_)?_:void 0,tickSpacing:I,ariaLabel:F,ariaDescription:z}){return{stroke:R,ticks:O,tickSpacing:I,ariaLabel:F,ariaDescription:z}}function isGridTicks(_){switch(typeof _){case"number":return!0;case"string":return!isColor(_)}return isIterable(_)||typeof _?.range=="function"}function hasAxis(_,R){const O=`${R}-axis `;return _.some(I=>I.ariaLabel?.startsWith(O))}function hasPositionChannel(_,R){for(const O of R)for(const I in O.channels){const{scale:F}=O.channels[I];if(F===_||F==="projection")return!0}return!1}function inheritScaleLabels(_,R){for(const O in _){const I=_[O],F=R[O];I.label===void 0&&F&&(I.label=F.label)}return _}function actualDimensions({fx:_,fy:R},O){const{marginTop:I,marginRight:F,marginBottom:z,marginLeft:L,width:U,height:q}=outerDimensions(O),G=_&&outerRange(_),V=R&&outerRange(R);return{marginTop:R?V[0]:I,marginRight:_?U-G[1]:F,marginBottom:R?q-V[1]:z,marginLeft:_?G[0]:L,inset:{marginTop:O.marginTop,marginRight:O.marginRight,marginBottom:O.marginBottom,marginLeft:O.marginLeft},width:U,height:q}}function outerRange(_){const R=_.domain();if(R.length===0)return[0,_.bandwidth()];let O=_(R[0]),I=_(R[R.length-1]);return I<O&&([O,I]=[I,O]),[O,I+_.bandwidth()]}const curves=new Map([["basis",curveBasis],["basis-closed",curveBasisClosed],["basis-open",curveBasisOpen],["bundle",curveBundle],["bump-x",bumpX],["bump-y",bumpY],["cardinal",curveCardinal],["cardinal-closed",curveCardinalClosed],["cardinal-open",curveCardinalOpen],["catmull-rom",curveCatmullRom],["catmull-rom-closed",curveCatmullRomClosed],["catmull-rom-open",curveCatmullRomOpen],["linear",curveLinear],["linear-closed",curveLinearClosed],["monotone-x",monotoneX],["monotone-y",monotoneY],["natural",curveNatural],["step",curveStep],["step-after",stepAfter],["step-before",stepBefore]]);function maybeCurve(_=curveLinear,R){if(typeof _=="function")return _;const O=curves.get(`${_}`.toLowerCase());if(!O)throw new Error(`unknown curve: ${_}`);if(R!==void 0){if("beta"in O)return O.beta(R);if("tension"in O)return O.tension(R);if("alpha"in O)return O.alpha(R)}return O}function maybeCurveAuto(_=curveAuto,R){return typeof _!="function"&&`${_}`.toLowerCase()==="auto"?curveAuto:maybeCurve(_,R)}function curveAuto(_){return curveLinear(_)}function binX(_={y:"count"},R={}){[_,R]=mergeOptions(_,R);const{x:O,y:I}=R;return binn(maybeBinValue(O,R,identity$1),null,null,I,_,maybeInsetX(R))}function maybeDenseInterval(_,R,O={}){if(O?.interval==null)return O;const{reduce:I=reduceFirst}=O,F={filter:null};return O[R]!=null&&(F[R]=I),O[`${R}1`]!=null&&(F[`${R}1`]=I),O[`${R}2`]!=null&&(F[`${R}2`]=I),_(F,O)}function maybeDenseIntervalX(_={}){return maybeDenseInterval(binX,"y",withTip(_,"x"))}function binn(_,R,O,I,{data:F=reduceIdentity,filter:z=reduceCount,sort:L,reverse:U,...q}={},G={}){_=maybeBin(_),R=maybeBin(R),q=maybeBinOutputs(q,G),F=maybeBinReduce(F,identity$1),L=L==null?void 0:maybeBinOutput("sort",L,G),z=z==null?void 0:maybeBinEvaluator("filter",z,G),I!=null&&hasOutput(q,"y","y1","y2")&&(I=null);const[V,Z]=maybeColumn(_),[Y,W]=maybeColumn(_),[ee,ne]=maybeColumn(R),[ie,se]=maybeColumn(R),[oe,le]=I!=null?[I,"y"]:[],[ue,ce]=maybeColumn(oe),{x:fe,y:me,z:he,fill:pe,stroke:ge,x1:_e,x2:ye,y1:we,y2:ve,domain:$e,cumulative:be,thresholds:Ce,interval:De,...Ne}=G,[Me,Te]=maybeColumn(he),[Re]=maybeColorChannel(pe),[Se]=maybeColorChannel(ge),[ze,Pe]=maybeColumn(Re),[Qe,Ze]=maybeColumn(Se);return{..."z"in G&&{z:Me||he},..."fill"in G&&{fill:ze||pe},..."stroke"in G&&{stroke:Qe||ge},...basic(Ne,(Le,ke,Ge)=>{const Ke=maybeApplyInterval(valueof(Le,oe),Ge?.[le]),He=valueof(Le,he),st=valueof(Le,Re),Ae=valueof(Le,Se),tt=maybeSubgroup(q,{z:He,fill:st,stroke:Ae}),rt=[],We=[],qe=Ke&&ce([]),nt=He&&Te([]),ft=st&&Pe([]),je=Ae&&Ze([]),Ve=_&&Z([]),Ie=_&&W([]),Ue=R&&ne([]),Xe=R&&se([]),Fe=bing(_,R,Le);let Je=0;for(const et of q)et.initialize(Le);L&&L.initialize(Le),z&&z.initialize(Le);for(const et of ke){const ut=[];for(const ct of q)ct.scope("facet",et);L&&L.scope("facet",et),z&&z.scope("facet",et);for(const[ct,bt]of maybeGroup(et,tt))for(const[ht,xt]of maybeGroup(bt,Ke))for(const[$t,At]of Fe(xt))if(tt&&(At.z=ct),!(z&&!z.reduce($t,At))){ut.push(Je++),We.push(F.reduceIndex($t,Le,At)),Ke&&qe.push(ht),He&&nt.push(tt===He?ct:He[($t.length>0?$t:xt)[0]]),st&&ft.push(tt===st?ct:st[($t.length>0?$t:xt)[0]]),Ae&&je.push(tt===Ae?ct:Ae[($t.length>0?$t:xt)[0]]),Ve&&(Ve.push(At.x1),Ie.push(At.x2)),Ue&&(Ue.push(At.y1),Xe.push(At.y2));for(const Ct of q)Ct.reduce($t,At);L&&L.reduce($t,At)}rt.push(ut)}return maybeSort(rt,L,U),{data:We,facets:rt}}),...!hasOutput(q,"x")&&(V?{x1:V,x2:Y,x:mid(V,Y)}:{x:fe,x1:_e,x2:ye}),...!hasOutput(q,"y")&&(ee?{y1:ee,y2:ie,y:mid(ee,ie)}:{y:me,y1:we,y2:ve}),...ue&&{[le]:ue},...Object.fromEntries(q.map(({name:Le,output:ke})=>[Le,ke]))}}function mergeOptions({cumulative:_,domain:R,thresholds:O,interval:I,...F},z){return[F,{cumulative:_,domain:R,thresholds:O,interval:I,...z}]}function maybeBinValue(_,{cumulative:R,domain:O,thresholds:I,interval:F},z){return _={...maybeValue(_)},_.domain===void 0&&(_.domain=O),_.cumulative===void 0&&(_.cumulative=R),_.thresholds===void 0&&(_.thresholds=I),_.interval===void 0&&(_.interval=F),_.value===void 0&&(_.value=z),_.thresholds=maybeThresholds(_.thresholds,_.interval),_}function maybeBin(_){if(_==null)return;const{value:R,cumulative:O,domain:I=extent$1,thresholds:F}=_,z=L=>{let U=valueof(L,R),q;if(isTemporal(U)||isTimeThresholds(F)){U=map(U,coerceDate,Float64Array);let[V,Z]=typeof I=="function"?I(U):I,Y=typeof F=="function"&&!isInterval(F)?F(U,V,Z):F;typeof Y=="number"&&(Y=utcTickInterval(V,Z,Y)),isInterval(Y)&&(I===extent$1&&(V=Y.floor(V),Z=Y.offset(Y.floor(Z))),Y=Y.range(V,Y.offset(Z))),q=Y}else{U=coerceNumbers(U);let[V,Z]=typeof I=="function"?I(U):I,Y=typeof F=="function"&&!isInterval(F)?F(U,V,Z):F;if(typeof Y=="number")if(I===extent$1){let W=tickIncrement(V,Z,Y);if(isFinite(W))if(W>0){let ee=Math.round(V/W),ne=Math.round(Z/W);ee*W<=V||--ee,ne*W>Z||++ne;let ie=ne-ee+1;Y=new Float64Array(ie);for(let se=0;se<ie;++se)Y[se]=(ee+se)*W}else if(W<0){W=-W;let ee=Math.round(V*W),ne=Math.round(Z*W);ee/W<=V||--ee,ne/W>Z||++ne;let ie=ne-ee+1;Y=new Float64Array(ie);for(let se=0;se<ie;++se)Y[se]=(ee+se)/W}else Y=[V];else Y=[V]}else Y=ticks(V,Z,Y);else isInterval(Y)&&(I===extent$1&&(V=Y.floor(V),Z=Y.offset(Y.floor(Z))),Y=Y.range(V,Y.offset(Z)));q=Y}const G=[];if(q.length===1)G.push([q[0],q[0]]);else for(let V=1;V<q.length;++V)G.push([q[V-1],q[V]]);return G.bin=(O<0?bin1cn:O>0?bin1cp:bin1)(G,q,U),G};return z.label=labelof(R),z}function maybeThresholds(_,R,O=thresholdAuto){if(_===void 0)return R===void 0?O:maybeRangeInterval(R);if(typeof _=="string"){switch(_.toLowerCase()){case"freedman-diaconis":return thresholdFreedmanDiaconis;case"scott":return thresholdScott;case"sturges":return thresholdSturges;case"auto":return thresholdAuto}return utcInterval(_)}return _}function maybeBinOutputs(_,R){return maybeOutputs(_,R,maybeBinOutput)}function maybeBinOutput(_,R,O){return maybeOutput(_,R,O,maybeBinEvaluator)}function maybeBinEvaluator(_,R,O){return maybeEvaluator(_,R,O,maybeBinReduce)}function maybeBinReduce(_,R){return maybeReduce(_,R,maybeBinReduceFallback)}function maybeBinReduceFallback(_){switch(`${_}`.toLowerCase()){case"x":return reduceX;case"x1":return reduceX1;case"x2":return reduceX2;case"y":return reduceY;case"y1":return reduceY1;case"y2":return reduceY2;case"z":return reduceZ}throw new Error(`invalid bin reduce: ${_}`)}function thresholdAuto(_,R,O){return Math.min(200,thresholdScott(_,R,O))}function isTimeThresholds(_){return isTimeInterval(_)||isIterable(_)&&isTemporal(_)}function bing(_,R,O){const I=_?.(O),F=R?.(O);return I&&F?function*(z){const L=I.bin(z);for(const[U,[q,G]]of I.entries()){const V=F.bin(L[U]);for(const[Z,[Y,W]]of F.entries())yield[V[Z],{data:O,x1:q,y1:Y,x2:G,y2:W}]}}:I?function*(z){const L=I.bin(z);for(const[U,[q,G]]of I.entries())yield[L[U],{data:O,x1:q,x2:G}]}:function*(z){const L=F.bin(z);for(const[U,[q,G]]of F.entries())yield[L[U],{data:O,y1:q,y2:G}]}}function bin1(_,R,O){return R=coerceNumbers(R),I=>{const F=_.map(()=>[]);for(const z of I)F[bisectRight(R,O[z])-1]?.push(z);return F}}function bin1cp(_,R,O){const I=bin1(_,R,O);return F=>{const z=I(F);for(let L=1,U=z.length;L<U;++L){const q=z[L-1],G=z[L];for(const V of q)G.push(V)}return z}}function bin1cn(_,R,O){const I=bin1(_,R,O);return F=>{const z=I(F);for(let L=z.length-2;L>=0;--L){const U=z[L+1],q=z[L];for(const G of U)q.push(G)}return z}}function mid1(_,R){const O=(+_+ +R)/2;return _ instanceof Date?new Date(O):O}const reduceX={reduceIndex(_,R,{x1:O,x2:I}){return mid1(O,I)}},reduceY={reduceIndex(_,R,{y1:O,y2:I}){return mid1(O,I)}},reduceX1={reduceIndex(_,R,{x1:O}){return O}},reduceX2={reduceIndex(_,R,{x2:O}){return O}},reduceY1={reduceIndex(_,R,{y1:O}){return O}},reduceY2={reduceIndex(_,R,{y2:O}){return O}},defaults$4={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Area extends Mark{constructor(R,O={}){const{x1:I,y1:F,x2:z,y2:L,z:U,curve:q,tension:G}=O;super(R,{x1:{value:I,scale:"x"},y1:{value:F,scale:"y"},x2:{value:z,scale:"x",optional:!0},y2:{value:L,scale:"y",optional:!0},z:{value:maybeZ(O),optional:!0}},O,defaults$4),this.z=U,this.curve=maybeCurve(q,G)}filter(R){return R}render(R,O,I,F,z){const{x1:L,y1:U,x2:q=L,y2:G=U}=I;return create("svg:g",z).call(applyIndirectStyles,this,F,z).call(applyTransform,this,O,0,0).call(V=>V.selectAll().data(groupIndex(R,[L,U,q,G],this,I)).enter().append("path").call(applyDirectStyles,this).call(applyGroupedChannelStyles,this,I).attr("d",shapeArea().curve(this.curve).defined(Z=>Z>=0).x0(Z=>L[Z]).y0(Z=>U[Z]).x1(Z=>q[Z]).y1(Z=>G[Z]))).node()}}function areaY(_,R){const{x:O=indexOf,...I}=maybeDenseIntervalX(R);return new Area(_,maybeStackY(maybeIdentityY({...I,x1:O,x2:void 0},O===indexOf?"y2":"y")))}const defaults$3={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Link extends Mark{constructor(R,O={}){const{x1:I,y1:F,x2:z,y2:L,curve:U,tension:q}=O;super(R,{x1:{value:I,scale:"x"},y1:{value:F,scale:"y"},x2:{value:z,scale:"x",optional:!0},y2:{value:L,scale:"y",optional:!0}},O,defaults$3),this.curve=maybeCurveAuto(U,q),markers(this,O)}project(R,O,I){this.curve!==curveAuto&&super.project(R,O,I)}render(R,O,I,F,z){const{x1:L,y1:U,x2:q=L,y2:G=U}=I,{curve:V}=this;return create("svg:g",z).call(applyIndirectStyles,this,F,z).call(applyTransform,this,O).call(Z=>Z.selectAll().data(R).enter().append("path").call(applyDirectStyles,this).attr("d",V===curveAuto&&z.projection?sphereLink(z.path(),L,U,q,G):Y=>{const W=pathRound(),ee=V(W);return ee.lineStart(),ee.point(L[Y],U[Y]),ee.point(q[Y],G[Y]),ee.lineEnd(),W}).call(applyChannelStyles,this,I).call(applyMarkers,this,I,z)).node()}}function sphereLink(_,R,O,I,F){return R=coerceNumbers(R),O=coerceNumbers(O),I=coerceNumbers(I),F=coerceNumbers(F),z=>_({type:"LineString",coordinates:[[R[z],O[z]],[I[z],F[z]]]})}function link(_,{x:R,x1:O,x2:I,y:F,y1:z,y2:L,...U}={}){return[O,I]=maybeSameValue(R,O,I),[z,L]=maybeSameValue(F,z,L),new Link(_,{...U,x1:O,x2:I,y1:z,y2:L})}function maybeSameValue(_,R,O){if(_===void 0){if(R===void 0){if(O!==void 0)return[O]}else if(O===void 0)return[R]}else{if(R===void 0)return O===void 0?[_]:[_,O];if(O===void 0)return[_,R]}return[R,O]}const barDefaults={ariaLabel:"bar"};class AbstractBar extends Mark{constructor(R,O,I={},F=barDefaults){super(R,O,I,F),rectInsets(this,I),rectRadii(this,I)}render(R,O,I,F,z){const{rx:L,ry:U,rx1y1:q,rx1y2:G,rx2y1:V,rx2y2:Z}=this,Y=this._x(O,I,F),W=this._y(O,I,F),ee=this._width(O,I,F),ne=this._height(O,I,F);return create("svg:g",z).call(applyIndirectStyles,this,F,z).call(this._transform,this,O).call(ie=>ie.selectAll().data(R).enter().call(q||G||V||Z?se=>se.append("path").call(applyDirectStyles,this).call(applyRoundedRect,Y,W,add(Y,ee),add(W,ne),this).call(applyChannelStyles,this,I):se=>se.append("rect").call(applyDirectStyles,this).attr("x",Y).attr("width",ee).attr("y",W).attr("height",ne).call(applyAttr,"rx",L).call(applyAttr,"ry",U).call(applyChannelStyles,this,I))).node()}_x(R,{x:O},{marginLeft:I}){const{insetLeft:F}=this;return O?z=>O[z]+F:I+F}_y(R,{y:O},{marginTop:I}){const{insetTop:F}=this;return O?z=>O[z]+F:I+F}_width({x:R},{x:O},{marginRight:I,marginLeft:F,width:z}){const{insetLeft:L,insetRight:U}=this,q=O&&R?R.bandwidth():z-I-F;return Math.max(0,q-L-U)}_height({y:R},{y:O},{marginTop:I,marginBottom:F,height:z}){const{insetTop:L,insetBottom:U}=this,q=O&&R?R.bandwidth():z-I-F;return Math.max(0,q-L-U)}}function add(_,R){return typeof _=="function"&&typeof R=="function"?O=>_(O)+R(O):typeof _=="function"?O=>_(O)+R:typeof R=="function"?O=>_+R(O):_+R}class BarY extends AbstractBar{constructor(R,O={},I){const{x:F,y1:z,y2:L}=O;super(R,{y1:{value:z,scale:"y"},y2:{value:L,scale:"y"},x:{value:F,scale:"x",type:"band",optional:!0}},O,I)}_transform(R,O,{y:I}){R.call(applyTransform,O,{y:I},0,0)}_y({y:R},{y1:O,y2:I},{marginTop:F}){const{insetTop:z}=this;return isCollapsed(R)?F+z:L=>Math.min(O[L],I[L])+z}_height({y:R},{y1:O,y2:I},{marginTop:F,marginBottom:z,height:L}){const{insetTop:U,insetBottom:q}=this;return isCollapsed(R)?L-F-z-U-q:G=>Math.max(0,Math.abs(I[G]-O[G])-U-q)}}function barY(_,R={}){return hasXY(R)||(R={...R,x:indexOf,y2:identity$1}),new BarY(_,maybeStackY(maybeIntervalY(maybeIdentityY(R))))}const defaults$2={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function withDefaultSort(_){return _.sort===void 0&&_.reverse===void 0?sort({channel:"-r"},_):_}class Dot extends Mark{constructor(R,O={}){const{x:I,y:F,r:z,rotate:L,symbol:U=symbolCircle,frameAnchor:q}=O,[G,V]=maybeNumberChannel(L,0),[Z,Y]=maybeSymbolChannel(U),[W,ee]=maybeNumberChannel(z,Z==null?3:4.5);super(R,{x:{value:I,scale:"x",optional:!0},y:{value:F,scale:"y",optional:!0},r:{value:W,scale:"r",filter:positive,optional:!0},rotate:{value:G,optional:!0},symbol:{value:Z,scale:"auto",optional:!0}},withDefaultSort(O),defaults$2),this.r=ee,this.rotate=V,this.symbol=Y,this.frameAnchor=maybeFrameAnchor(q);const{channels:ne}=this,{symbol:ie}=ne;if(ie){const{fill:se,stroke:oe}=ne;ie.hint={fill:se?se.value===ie.value?"color":"currentColor":this.fill??"currentColor",stroke:oe?oe.value===ie.value?"color":"currentColor":this.stroke??"none"}}}render(R,O,I,F,z){const{x:L,y:U}=O,{x:q,y:G,r:V,rotate:Z,symbol:Y}=I,{r:W,rotate:ee,symbol:ne}=this,[ie,se]=applyFrameAnchor(this,F),oe=ne===symbolCircle,le=V?void 0:W*W*Math.PI;return negative(W)&&(R=[]),create("svg:g",z).call(applyIndirectStyles,this,F,z).call(applyTransform,this,{x:q&&L,y:G&&U}).call(ue=>ue.selectAll().data(R).enter().append(oe?"circle":"path").call(applyDirectStyles,this).call(oe?ce=>{ce.attr("cx",q?fe=>q[fe]:ie).attr("cy",G?fe=>G[fe]:se).attr("r",V?fe=>V[fe]:W)}:ce=>{ce.attr("transform",template`translate(${q?fe=>q[fe]:ie},${G?fe=>G[fe]:se})${Z?fe=>` rotate(${Z[fe]})`:ee?` rotate(${ee})`:""}`).attr("d",V&&Y?fe=>{const me=pathRound();return Y[fe].draw(me,V[fe]*V[fe]*Math.PI),me}:V?fe=>{const me=pathRound();return ne.draw(me,V[fe]*V[fe]*Math.PI),me}:Y?fe=>{const me=pathRound();return Y[fe].draw(me,le),me}:(()=>{const fe=pathRound();return ne.draw(fe,le),fe})())}).call(applyChannelStyles,this,I)).node()}}function dot(_,{x:R,y:O,...I}={}){return I.frameAnchor===void 0&&([R,O]=maybeTuple(R,O)),new Dot(_,{...I,x:R,y:O})}const defaults$1={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Line extends Mark{constructor(R,O={}){const{x:I,y:F,z,curve:L,tension:U}=O;super(R,{x:{value:I,scale:"x"},y:{value:F,scale:"y"},z:{value:maybeZ(O),optional:!0}},O,defaults$1),this.z=z,this.curve=maybeCurveAuto(L,U),markers(this,O)}filter(R){return R}project(R,O,I){this.curve!==curveAuto&&super.project(R,O,I)}render(R,O,I,F,z){const{x:L,y:U}=I,{curve:q}=this;return create("svg:g",z).call(applyIndirectStyles,this,F,z).call(applyTransform,this,O).call(G=>G.selectAll().data(groupIndex(R,[L,U],this,I)).enter().append("path").call(applyDirectStyles,this).call(applyGroupedChannelStyles,this,I).call(applyGroupedMarkers,this,I,z).attr("d",q===curveAuto&&z.projection?sphereLine(z.path(),L,U):shapeLine().curve(q).defined(V=>V>=0).x(V=>L[V]).y(V=>U[V]))).node()}}function sphereLine(_,R,O){return R=coerceNumbers(R),O=coerceNumbers(O),I=>{let F=[];const z=[F];for(const L of I)L===-1?(F=[],z.push(F)):F.push([R[L],O[L]]);return _({type:"MultiLineString",coordinates:z})}}function line(_,{x:R,y:O,...I}={}){return[R,O]=maybeTuple(R,O),new Line(_,{...I,x:R,y:O})}const defaults={ariaLabel:"tick",fill:null,stroke:"currentColor"};class AbstractTick extends Mark{constructor(R,O,I){super(R,O,I,defaults),markers(this,I)}render(R,O,I,F,z){return create("svg:g",z).call(applyIndirectStyles,this,F,z).call(this._transform,this,O).call(L=>L.selectAll().data(R).enter().append("line").call(applyDirectStyles,this).attr("x1",this._x1(O,I,F)).attr("x2",this._x2(O,I,F)).attr("y1",this._y1(O,I,F)).attr("y2",this._y2(O,I,F)).call(applyChannelStyles,this,I).call(applyMarkers,this,I,z)).node()}}class TickX extends AbstractTick{constructor(R,O={}){const{x:I,y:F,inset:z=0,insetTop:L=z,insetBottom:U=z}=O;super(R,{x:{value:I,scale:"x"},y:{value:F,scale:"y",type:"band",optional:!0}},O),this.insetTop=number(L),this.insetBottom=number(U)}_transform(R,O,{x:I}){R.call(applyTransform,O,{x:I},offset,0)}_x1(R,{x:O}){return I=>O[I]}_x2(R,{x:O}){return I=>O[I]}_y1({y:R},{y:O},{marginTop:I}){const{insetTop:F}=this;return O&&R?z=>O[z]+F:I+F}_y2({y:R},{y:O},{height:I,marginBottom:F}){const{insetBottom:z}=this;return O&&R?L=>O[L]+R.bandwidth()-z:I-F-z}}function tickX(_,{x:R=identity$1,...O}={}){return new TickX(_,{...O,x:R})}Mark.prototype.plot=function({marks:_=[],...R}={}){return plot({...R,marks:[..._,this]})};function BatchPlot({data:_,dataWithCI:R,histogramData:O,xAxisLabel:I="Time (h)",yAxisLabel:F,plotType:z,width:L=640,height:U=400,yMin:q,yMax:G}){const V=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!V.current||z==="line"&&_.length===0||z==="line_ci"&&(!R||R.length===0)||z==="histogram"&&(!O||O.length===0))return;let Z,Y={legend:!0},W={label:I},ee={label:F,domain:q!==void 0||G!==void 0?[q??0,G??void 0]:void 0};z==="histogram"&&O?(Z=[barY(O,{x:"group",y:"mean",fill:"group"}),link(O.flatMap(ie=>[{group:ie.group,y:ie.lower,y2:ie.upper}]),pointer({x:"group",y1:"y",y2:"y2",stroke:"#666",strokeWidth:2})),...O.flatMap(ie=>[tickX([ie],{x:"group",y:ie.lower,stroke:"#666"}),tickX([ie],{x:"group",y:ie.upper,stroke:"#666"})])],W={label:"Cell Group"},ee={label:F,grid:!0,domain:q!==void 0||G!==void 0?[q??0,G??void 0]:[0,void 0]},Y={color:{legend:!0,label:"Cell Group",type:"ordinal"}}):z==="line_ci"&&R?(Z=[areaY(R,{x:"time",y1:"lower",y2:"upper",fill:"cell_group",fillOpacity:.2}),line(R,{x:"time",y:"mean",stroke:"cell_group",strokeWidth:2}),dot(R,{x:"time",y:"mean",fill:"cell_group",r:3})],Y={color:{legend:!0,label:"Cell Group",type:"ordinal"}}):_.some(se=>se.cell_group!==void 0)?(Z=[line(_,{x:"time",y:"value",stroke:"cell_group",strokeWidth:2}),dot(_,{x:"time",y:"value",fill:"cell_group",r:3})],Y={color:{legend:!0,label:"Cell Group",type:"ordinal"}}):Z=[line(_,{x:"time",y:"value",stroke:"steelblue",strokeWidth:2}),dot(_,{x:"time",y:"value",fill:"steelblue",r:3})];const ne=plot({width:L,height:U,marginLeft:60,marginBottom:40,marginRight:120,grid:!0,x:W,y:ee,...Y,marks:Z});return V.current.appendChild(ne),()=>{ne.remove()}},[_,R,O,I,F,z,L,U,q,G]),jsxRuntimeExports.jsx("div",{ref:V})}function ExtendedExportPanel({config:_,onChange:R,onExport:O,disabled:I=!1}){return jsxRuntimeExports.jsxs(Card,{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Extended Export"}),jsxRuntimeExports.jsxs(Button,{onClick:O,disabled:I,className:"gap-2",children:[jsxRuntimeExports.jsx(Film,{className:"w-4 h-4"}),"Export as ZIP"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-sm",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Export batch runs with screenshots at time samples, movies, and parameter files packaged as a ZIP archive."}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:"export-movie",checked:_.exportMovie,onCheckedChange:F=>R({..._,exportMovie:F===!0}),disabled:I}),jsxRuntimeExports.jsx(Label$1,{htmlFor:"export-movie",className:"cursor-pointer",children:"Export movies (MP4)"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx(Label$1,{children:"Resolution"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",value:_.resolution.width,onChange:F=>R({..._,resolution:{..._.resolution,width:parseInt(F.target.value)||800}}),disabled:I,className:"w-20 px-2 py-1 border rounded text-sm",min:"400",max:"3840",step:"100"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:""}),jsxRuntimeExports.jsx("input",{type:"number",value:_.resolution.height,onChange:F=>R({..._,resolution:{..._.resolution,height:parseInt(F.target.value)||800}}),disabled:I,className:"w-20 px-2 py-1 border rounded text-sm",min:"400",max:"3840",step:"100"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground text-xs",children:"px"})]})]}),_.exportMovie&&jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx(Label$1,{children:"Frame Rate"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("select",{value:_.frameRate,onChange:F=>R({..._,frameRate:parseInt(F.target.value)}),disabled:I,className:"px-2 py-1 border rounded text-sm",children:[jsxRuntimeExports.jsx("option",{value:"24",children:"24 FPS"}),jsxRuntimeExports.jsx("option",{value:"30",children:"30 FPS"}),jsxRuntimeExports.jsx("option",{value:"60",children:"60 FPS"})]})})]})]})]})}function ExportProgressModal({progress:_,onCancel:R}){const O={initializing:"Initializing...",simulating:"Running simulations...",encoding:"Encoding video...",packaging:"Packaging ZIP..."};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Exporting Batch Data"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:R,className:"h-8 w-8 p-0",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:O[_.phase]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Run ",_.currentRun," of ",_.totalRuns]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Progress,{value:_.overallPercent,className:"h-2"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[_.overallPercent.toFixed(1),"%"]})]}),_.currentConfig&&Object.keys(_.currentConfig).length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Current parameters:"}),jsxRuntimeExports.jsx("div",{className:"text-xs font-mono bg-muted p-2 rounded space-y-0.5",children:Object.entries(_.currentConfig).map(([I,F])=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[I,":"]})," ",jsxRuntimeExports.jsx("span",{children:typeof F=="number"?F.toFixed(3):F})]},I))})]}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:R,className:"w-full",children:"Cancel Export"})})]})})}function aggregateByTime(_,R,O){const I=_.indexOf("time_h"),F=_.indexOf(O);if(I===-1||F===-1)return[];const z=new Map;for(const U of R){const q=Number(U[I]),G=Number(U[F]);!isNaN(q)&&!isNaN(G)&&(z.has(q)||z.set(q,[]),z.get(q).push(G))}const L=[];for(const[U,q]of z.entries()){const G=q.reduce((V,Z)=>V+Z,0)/q.length;L.push({time:U,value:G})}return L.sort((U,q)=>U.time-q.time),L}function aggregateByXAxisWithCI(_,R,O,I){const F=_.indexOf(O),z=_.indexOf(I),L=_.indexOf("cell_group");if(F===-1||z===-1)return[];const U=new Map;for(const G of R){const V=Number(G[F]),Z=Number(G[z]),Y=L!==-1?String(G[L]):"all";if(!isNaN(V)&&!isNaN(Z)){const W=`${V}_${Y}`;U.has(W)||U.set(W,{time:V,cell_group:Y,values:[]}),U.get(W).values.push(Z)}}const q=[];for(const{time:G,cell_group:V,values:Z}of U.values()){const Y=Z.length,W=Z.reduce((ee,ne)=>ee+ne,0)/Y;if(Y>1){const ee=Z.reduce((oe,le)=>oe+Math.pow(le-W,2),0)/(Y-1),se=1.96*(Math.sqrt(ee)/Math.sqrt(Y));q.push({time:G,mean:W,lower:W-se,upper:W+se,n:Y,cell_group:V})}else q.push({time:G,mean:W,lower:W,upper:W,n:Y,cell_group:V})}return q.sort((G,V)=>G.time!==V.time?G.time-V.time:G.cell_group.localeCompare(V.cell_group)),q}function aggregateForHistogram(_,R,O){const I=_.indexOf(O),F=_.indexOf("cell_group");if(I===-1)return[];const z=new Map;for(const U of R){const q=Number(U[I]),G=F!==-1?String(U[F]):"all";isNaN(q)||(z.has(G)||z.set(G,[]),z.get(G).push(q))}const L=[];for(const[U,q]of z.entries()){const G=q.length,V=q.reduce((Z,Y)=>Z+Y,0)/G;if(G>1){const Z=q.reduce((ne,ie)=>ne+Math.pow(ie-V,2),0)/(G-1),ee=1.96*(Math.sqrt(Z)/Math.sqrt(G));L.push({group:U,mean:V,lower:V-ee,upper:V+ee,n:G})}else L.push({group:U,mean:V,lower:V,upper:V,n:G})}return L.sort((U,q)=>U.group.localeCompare(q.group)),L}function getTimeSamples(_){const R=[];for(let O=_.start;O<=_.end;O+=_.step)R.push(O);return R}function generateParameterConfigs(_,R,O){return _.length===0?[{}]:R==="grid"?generateGridConfigs(_):generateRandomConfigs(_,O??10)}function generateGridConfigs(_){const R=_.map(F=>{const z=[],L=F.steps>1?(F.max-F.min)/(F.steps-1):0;for(let U=0;U<F.steps;U++)z.push(F.min+U*L);return{path:F.path,values:z}}),O=[];function I(F,z){if(F===R.length){O.push({...z});return}const{path:L,values:U}=R[F];for(const q of U)z[L]=q,I(F+1,z)}return I(0,{}),O}function generateRandomConfigs(_,R){const O=[];for(let I=0;I<R;I++){const F={};for(const z of _)F[z.path]=z.min+Math.random()*(z.max-z.min);O.push(F)}return O}const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(_){let R=_.length;for(;--R>=0;)_[R]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(_,R,O,I,F){this.static_tree=_,this.extra_bits=R,this.extra_base=O,this.elems=I,this.max_length=F,this.has_stree=_&&_.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(_,R){this.dyn_tree=_,this.max_code=0,this.stat_desc=R}const d_code=_=>_<256?_dist_code[_]:_dist_code[256+(_>>>7)],put_short=(_,R)=>{_.pending_buf[_.pending++]=R&255,_.pending_buf[_.pending++]=R>>>8&255},send_bits=(_,R,O)=>{_.bi_valid>Buf_size-O?(_.bi_buf|=R<<_.bi_valid&65535,put_short(_,_.bi_buf),_.bi_buf=R>>Buf_size-_.bi_valid,_.bi_valid+=O-Buf_size):(_.bi_buf|=R<<_.bi_valid&65535,_.bi_valid+=O)},send_code=(_,R,O)=>{send_bits(_,O[R*2],O[R*2+1])},bi_reverse=(_,R)=>{let O=0;do O|=_&1,_>>>=1,O<<=1;while(--R>0);return O>>>1},bi_flush=_=>{_.bi_valid===16?(put_short(_,_.bi_buf),_.bi_buf=0,_.bi_valid=0):_.bi_valid>=8&&(_.pending_buf[_.pending++]=_.bi_buf&255,_.bi_buf>>=8,_.bi_valid-=8)},gen_bitlen=(_,R)=>{const O=R.dyn_tree,I=R.max_code,F=R.stat_desc.static_tree,z=R.stat_desc.has_stree,L=R.stat_desc.extra_bits,U=R.stat_desc.extra_base,q=R.stat_desc.max_length;let G,V,Z,Y,W,ee,ne=0;for(Y=0;Y<=MAX_BITS$1;Y++)_.bl_count[Y]=0;for(O[_.heap[_.heap_max]*2+1]=0,G=_.heap_max+1;G<HEAP_SIZE$1;G++)V=_.heap[G],Y=O[O[V*2+1]*2+1]+1,Y>q&&(Y=q,ne++),O[V*2+1]=Y,!(V>I)&&(_.bl_count[Y]++,W=0,V>=U&&(W=L[V-U]),ee=O[V*2],_.opt_len+=ee*(Y+W),z&&(_.static_len+=ee*(F[V*2+1]+W)));if(ne!==0){do{for(Y=q-1;_.bl_count[Y]===0;)Y--;_.bl_count[Y]--,_.bl_count[Y+1]+=2,_.bl_count[q]--,ne-=2}while(ne>0);for(Y=q;Y!==0;Y--)for(V=_.bl_count[Y];V!==0;)Z=_.heap[--G],!(Z>I)&&(O[Z*2+1]!==Y&&(_.opt_len+=(Y-O[Z*2+1])*O[Z*2],O[Z*2+1]=Y),V--)}},gen_codes=(_,R,O)=>{const I=new Array(MAX_BITS$1+1);let F=0,z,L;for(z=1;z<=MAX_BITS$1;z++)F=F+O[z-1]<<1,I[z]=F;for(L=0;L<=R;L++){let U=_[L*2+1];U!==0&&(_[L*2]=bi_reverse(I[U]++,U))}},tr_static_init=()=>{let _,R,O,I,F;const z=new Array(MAX_BITS$1+1);for(O=0,I=0;I<LENGTH_CODES$1-1;I++)for(base_length[I]=O,_=0;_<1<<extra_lbits[I];_++)_length_code[O++]=I;for(_length_code[O-1]=I,F=0,I=0;I<16;I++)for(base_dist[I]=F,_=0;_<1<<extra_dbits[I];_++)_dist_code[F++]=I;for(F>>=7;I<D_CODES$1;I++)for(base_dist[I]=F<<7,_=0;_<1<<extra_dbits[I]-7;_++)_dist_code[256+F++]=I;for(R=0;R<=MAX_BITS$1;R++)z[R]=0;for(_=0;_<=143;)static_ltree[_*2+1]=8,_++,z[8]++;for(;_<=255;)static_ltree[_*2+1]=9,_++,z[9]++;for(;_<=279;)static_ltree[_*2+1]=7,_++,z[7]++;for(;_<=287;)static_ltree[_*2+1]=8,_++,z[8]++;for(gen_codes(static_ltree,L_CODES$1+1,z),_=0;_<D_CODES$1;_++)static_dtree[_*2+1]=5,static_dtree[_*2]=bi_reverse(_,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=_=>{let R;for(R=0;R<L_CODES$1;R++)_.dyn_ltree[R*2]=0;for(R=0;R<D_CODES$1;R++)_.dyn_dtree[R*2]=0;for(R=0;R<BL_CODES$1;R++)_.bl_tree[R*2]=0;_.dyn_ltree[END_BLOCK*2]=1,_.opt_len=_.static_len=0,_.sym_next=_.matches=0},bi_windup=_=>{_.bi_valid>8?put_short(_,_.bi_buf):_.bi_valid>0&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0},smaller=(_,R,O,I)=>{const F=R*2,z=O*2;return _[F]<_[z]||_[F]===_[z]&&I[R]<=I[O]},pqdownheap=(_,R,O)=>{const I=_.heap[O];let F=O<<1;for(;F<=_.heap_len&&(F<_.heap_len&&smaller(R,_.heap[F+1],_.heap[F],_.depth)&&F++,!smaller(R,I,_.heap[F],_.depth));)_.heap[O]=_.heap[F],O=F,F<<=1;_.heap[O]=I},compress_block=(_,R,O)=>{let I,F,z=0,L,U;if(_.sym_next!==0)do I=_.pending_buf[_.sym_buf+z++]&255,I+=(_.pending_buf[_.sym_buf+z++]&255)<<8,F=_.pending_buf[_.sym_buf+z++],I===0?send_code(_,F,R):(L=_length_code[F],send_code(_,L+LITERALS$1+1,R),U=extra_lbits[L],U!==0&&(F-=base_length[L],send_bits(_,F,U)),I--,L=d_code(I),send_code(_,L,O),U=extra_dbits[L],U!==0&&(I-=base_dist[L],send_bits(_,I,U)));while(z<_.sym_next);send_code(_,END_BLOCK,R)},build_tree=(_,R)=>{const O=R.dyn_tree,I=R.stat_desc.static_tree,F=R.stat_desc.has_stree,z=R.stat_desc.elems;let L,U,q=-1,G;for(_.heap_len=0,_.heap_max=HEAP_SIZE$1,L=0;L<z;L++)O[L*2]!==0?(_.heap[++_.heap_len]=q=L,_.depth[L]=0):O[L*2+1]=0;for(;_.heap_len<2;)G=_.heap[++_.heap_len]=q<2?++q:0,O[G*2]=1,_.depth[G]=0,_.opt_len--,F&&(_.static_len-=I[G*2+1]);for(R.max_code=q,L=_.heap_len>>1;L>=1;L--)pqdownheap(_,O,L);G=z;do L=_.heap[1],_.heap[1]=_.heap[_.heap_len--],pqdownheap(_,O,1),U=_.heap[1],_.heap[--_.heap_max]=L,_.heap[--_.heap_max]=U,O[G*2]=O[L*2]+O[U*2],_.depth[G]=(_.depth[L]>=_.depth[U]?_.depth[L]:_.depth[U])+1,O[L*2+1]=O[U*2+1]=G,_.heap[1]=G++,pqdownheap(_,O,1);while(_.heap_len>=2);_.heap[--_.heap_max]=_.heap[1],gen_bitlen(_,R),gen_codes(O,q,_.bl_count)},scan_tree=(_,R,O)=>{let I,F=-1,z,L=R[1],U=0,q=7,G=4;for(L===0&&(q=138,G=3),R[(O+1)*2+1]=65535,I=0;I<=O;I++)z=L,L=R[(I+1)*2+1],!(++U<q&&z===L)&&(U<G?_.bl_tree[z*2]+=U:z!==0?(z!==F&&_.bl_tree[z*2]++,_.bl_tree[REP_3_6*2]++):U<=10?_.bl_tree[REPZ_3_10*2]++:_.bl_tree[REPZ_11_138*2]++,U=0,F=z,L===0?(q=138,G=3):z===L?(q=6,G=3):(q=7,G=4))},send_tree=(_,R,O)=>{let I,F=-1,z,L=R[1],U=0,q=7,G=4;for(L===0&&(q=138,G=3),I=0;I<=O;I++)if(z=L,L=R[(I+1)*2+1],!(++U<q&&z===L)){if(U<G)do send_code(_,z,_.bl_tree);while(--U!==0);else z!==0?(z!==F&&(send_code(_,z,_.bl_tree),U--),send_code(_,REP_3_6,_.bl_tree),send_bits(_,U-3,2)):U<=10?(send_code(_,REPZ_3_10,_.bl_tree),send_bits(_,U-3,3)):(send_code(_,REPZ_11_138,_.bl_tree),send_bits(_,U-11,7));U=0,F=z,L===0?(q=138,G=3):z===L?(q=6,G=3):(q=7,G=4)}},build_bl_tree=_=>{let R;for(scan_tree(_,_.dyn_ltree,_.l_desc.max_code),scan_tree(_,_.dyn_dtree,_.d_desc.max_code),build_tree(_,_.bl_desc),R=BL_CODES$1-1;R>=3&&_.bl_tree[bl_order[R]*2+1]===0;R--);return _.opt_len+=3*(R+1)+5+5+4,R},send_all_trees=(_,R,O,I)=>{let F;for(send_bits(_,R-257,5),send_bits(_,O-1,5),send_bits(_,I-4,4),F=0;F<I;F++)send_bits(_,_.bl_tree[bl_order[F]*2+1],3);send_tree(_,_.dyn_ltree,R-1),send_tree(_,_.dyn_dtree,O-1)},detect_data_type=_=>{let R=4093624447,O;for(O=0;O<=31;O++,R>>>=1)if(R&1&&_.dyn_ltree[O*2]!==0)return Z_BINARY;if(_.dyn_ltree[18]!==0||_.dyn_ltree[20]!==0||_.dyn_ltree[26]!==0)return Z_TEXT;for(O=32;O<LITERALS$1;O++)if(_.dyn_ltree[O*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=_=>{static_init_done||(tr_static_init(),static_init_done=!0),_.l_desc=new TreeDesc(_.dyn_ltree,static_l_desc),_.d_desc=new TreeDesc(_.dyn_dtree,static_d_desc),_.bl_desc=new TreeDesc(_.bl_tree,static_bl_desc),_.bi_buf=0,_.bi_valid=0,init_block(_)},_tr_stored_block$1=(_,R,O,I)=>{send_bits(_,(STORED_BLOCK<<1)+(I?1:0),3),bi_windup(_),put_short(_,O),put_short(_,~O),O&&_.pending_buf.set(_.window.subarray(R,R+O),_.pending),_.pending+=O},_tr_align$1=_=>{send_bits(_,STATIC_TREES<<1,3),send_code(_,END_BLOCK,static_ltree),bi_flush(_)},_tr_flush_block$1=(_,R,O,I)=>{let F,z,L=0;_.level>0?(_.strm.data_type===Z_UNKNOWN$1&&(_.strm.data_type=detect_data_type(_)),build_tree(_,_.l_desc),build_tree(_,_.d_desc),L=build_bl_tree(_),F=_.opt_len+3+7>>>3,z=_.static_len+3+7>>>3,z<=F&&(F=z)):F=z=O+5,O+4<=F&&R!==-1?_tr_stored_block$1(_,R,O,I):_.strategy===Z_FIXED$1||z===F?(send_bits(_,(STATIC_TREES<<1)+(I?1:0),3),compress_block(_,static_ltree,static_dtree)):(send_bits(_,(DYN_TREES<<1)+(I?1:0),3),send_all_trees(_,_.l_desc.max_code+1,_.d_desc.max_code+1,L+1),compress_block(_,_.dyn_ltree,_.dyn_dtree)),init_block(_),I&&bi_windup(_)},_tr_tally$1=(_,R,O)=>(_.pending_buf[_.sym_buf+_.sym_next++]=R,_.pending_buf[_.sym_buf+_.sym_next++]=R>>8,_.pending_buf[_.sym_buf+_.sym_next++]=O,R===0?_.dyn_ltree[O*2]++:(_.matches++,R--,_.dyn_ltree[(_length_code[O]+LITERALS$1+1)*2]++,_.dyn_dtree[d_code(R)*2]++),_.sym_next===_.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(_,R,O,I)=>{let F=_&65535|0,z=_>>>16&65535|0,L=0;for(;O!==0;){L=O>2e3?2e3:O,O-=L;do F=F+R[I++]|0,z=z+F|0;while(--L);F%=65521,z%=65521}return F|z<<16|0};var adler32_1=adler32;const makeTable=()=>{let _,R=[];for(var O=0;O<256;O++){_=O;for(var I=0;I<8;I++)_=_&1?3988292384^_>>>1:_>>>1;R[O]=_}return R},crcTable=new Uint32Array(makeTable()),crc32=(_,R,O,I)=>{const F=crcTable,z=I+O;_^=-1;for(let L=I;L<z;L++)_=_>>>8^F[(_^R[L])&255];return _^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(_,R)=>(_.msg=messages[R],R),rank=_=>_*2-(_>4?9:0),zero=_=>{let R=_.length;for(;--R>=0;)_[R]=0},slide_hash=_=>{let R,O,I,F=_.w_size;R=_.hash_size,I=R;do O=_.head[--I],_.head[I]=O>=F?O-F:0;while(--R);R=F,I=R;do O=_.prev[--I],_.prev[I]=O>=F?O-F:0;while(--R)};let HASH_ZLIB=(_,R,O)=>(R<<_.hash_shift^O)&_.hash_mask,HASH=HASH_ZLIB;const flush_pending=_=>{const R=_.state;let O=R.pending;O>_.avail_out&&(O=_.avail_out),O!==0&&(_.output.set(R.pending_buf.subarray(R.pending_out,R.pending_out+O),_.next_out),_.next_out+=O,R.pending_out+=O,_.total_out+=O,_.avail_out-=O,R.pending-=O,R.pending===0&&(R.pending_out=0))},flush_block_only=(_,R)=>{_tr_flush_block(_,_.block_start>=0?_.block_start:-1,_.strstart-_.block_start,R),_.block_start=_.strstart,flush_pending(_.strm)},put_byte=(_,R)=>{_.pending_buf[_.pending++]=R},putShortMSB=(_,R)=>{_.pending_buf[_.pending++]=R>>>8&255,_.pending_buf[_.pending++]=R&255},read_buf=(_,R,O,I)=>{let F=_.avail_in;return F>I&&(F=I),F===0?0:(_.avail_in-=F,R.set(_.input.subarray(_.next_in,_.next_in+F),O),_.state.wrap===1?_.adler=adler32_1(_.adler,R,F,O):_.state.wrap===2&&(_.adler=crc32_1(_.adler,R,F,O)),_.next_in+=F,_.total_in+=F,F)},longest_match=(_,R)=>{let O=_.max_chain_length,I=_.strstart,F,z,L=_.prev_length,U=_.nice_match;const q=_.strstart>_.w_size-MIN_LOOKAHEAD?_.strstart-(_.w_size-MIN_LOOKAHEAD):0,G=_.window,V=_.w_mask,Z=_.prev,Y=_.strstart+MAX_MATCH;let W=G[I+L-1],ee=G[I+L];_.prev_length>=_.good_match&&(O>>=2),U>_.lookahead&&(U=_.lookahead);do if(F=R,!(G[F+L]!==ee||G[F+L-1]!==W||G[F]!==G[I]||G[++F]!==G[I+1])){I+=2,F++;do;while(G[++I]===G[++F]&&G[++I]===G[++F]&&G[++I]===G[++F]&&G[++I]===G[++F]&&G[++I]===G[++F]&&G[++I]===G[++F]&&G[++I]===G[++F]&&G[++I]===G[++F]&&I<Y);if(z=MAX_MATCH-(Y-I),I=Y-MAX_MATCH,z>L){if(_.match_start=R,L=z,z>=U)break;W=G[I+L-1],ee=G[I+L]}}while((R=Z[R&V])>q&&--O!==0);return L<=_.lookahead?L:_.lookahead},fill_window=_=>{const R=_.w_size;let O,I,F;do{if(I=_.window_size-_.lookahead-_.strstart,_.strstart>=R+(R-MIN_LOOKAHEAD)&&(_.window.set(_.window.subarray(R,R+R-I),0),_.match_start-=R,_.strstart-=R,_.block_start-=R,_.insert>_.strstart&&(_.insert=_.strstart),slide_hash(_),I+=R),_.strm.avail_in===0)break;if(O=read_buf(_.strm,_.window,_.strstart+_.lookahead,I),_.lookahead+=O,_.lookahead+_.insert>=MIN_MATCH)for(F=_.strstart-_.insert,_.ins_h=_.window[F],_.ins_h=HASH(_,_.ins_h,_.window[F+1]);_.insert&&(_.ins_h=HASH(_,_.ins_h,_.window[F+MIN_MATCH-1]),_.prev[F&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=F,F++,_.insert--,!(_.lookahead+_.insert<MIN_MATCH)););}while(_.lookahead<MIN_LOOKAHEAD&&_.strm.avail_in!==0)},deflate_stored=(_,R)=>{let O=_.pending_buf_size-5>_.w_size?_.w_size:_.pending_buf_size-5,I,F,z,L=0,U=_.strm.avail_in;do{if(I=65535,z=_.bi_valid+42>>3,_.strm.avail_out<z||(z=_.strm.avail_out-z,F=_.strstart-_.block_start,I>F+_.strm.avail_in&&(I=F+_.strm.avail_in),I>z&&(I=z),I<O&&(I===0&&R!==Z_FINISH$3||R===Z_NO_FLUSH$2||I!==F+_.strm.avail_in)))break;L=R===Z_FINISH$3&&I===F+_.strm.avail_in?1:0,_tr_stored_block(_,0,0,L),_.pending_buf[_.pending-4]=I,_.pending_buf[_.pending-3]=I>>8,_.pending_buf[_.pending-2]=~I,_.pending_buf[_.pending-1]=~I>>8,flush_pending(_.strm),F&&(F>I&&(F=I),_.strm.output.set(_.window.subarray(_.block_start,_.block_start+F),_.strm.next_out),_.strm.next_out+=F,_.strm.avail_out-=F,_.strm.total_out+=F,_.block_start+=F,I-=F),I&&(read_buf(_.strm,_.strm.output,_.strm.next_out,I),_.strm.next_out+=I,_.strm.avail_out-=I,_.strm.total_out+=I)}while(L===0);return U-=_.strm.avail_in,U&&(U>=_.w_size?(_.matches=2,_.window.set(_.strm.input.subarray(_.strm.next_in-_.w_size,_.strm.next_in),0),_.strstart=_.w_size,_.insert=_.strstart):(_.window_size-_.strstart<=U&&(_.strstart-=_.w_size,_.window.set(_.window.subarray(_.w_size,_.w_size+_.strstart),0),_.matches<2&&_.matches++,_.insert>_.strstart&&(_.insert=_.strstart)),_.window.set(_.strm.input.subarray(_.strm.next_in-U,_.strm.next_in),_.strstart),_.strstart+=U,_.insert+=U>_.w_size-_.insert?_.w_size-_.insert:U),_.block_start=_.strstart),_.high_water<_.strstart&&(_.high_water=_.strstart),L?BS_FINISH_DONE:R!==Z_NO_FLUSH$2&&R!==Z_FINISH$3&&_.strm.avail_in===0&&_.strstart===_.block_start?BS_BLOCK_DONE:(z=_.window_size-_.strstart,_.strm.avail_in>z&&_.block_start>=_.w_size&&(_.block_start-=_.w_size,_.strstart-=_.w_size,_.window.set(_.window.subarray(_.w_size,_.w_size+_.strstart),0),_.matches<2&&_.matches++,z+=_.w_size,_.insert>_.strstart&&(_.insert=_.strstart)),z>_.strm.avail_in&&(z=_.strm.avail_in),z&&(read_buf(_.strm,_.window,_.strstart,z),_.strstart+=z,_.insert+=z>_.w_size-_.insert?_.w_size-_.insert:z),_.high_water<_.strstart&&(_.high_water=_.strstart),z=_.bi_valid+42>>3,z=_.pending_buf_size-z>65535?65535:_.pending_buf_size-z,O=z>_.w_size?_.w_size:z,F=_.strstart-_.block_start,(F>=O||(F||R===Z_FINISH$3)&&R!==Z_NO_FLUSH$2&&_.strm.avail_in===0&&F<=z)&&(I=F>z?z:F,L=R===Z_FINISH$3&&_.strm.avail_in===0&&I===F?1:0,_tr_stored_block(_,_.block_start,I,L),_.block_start+=I,flush_pending(_.strm)),L?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(_,R)=>{let O,I;for(;;){if(_.lookahead<MIN_LOOKAHEAD){if(fill_window(_),_.lookahead<MIN_LOOKAHEAD&&R===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_.lookahead===0)break}if(O=0,_.lookahead>=MIN_MATCH&&(_.ins_h=HASH(_,_.ins_h,_.window[_.strstart+MIN_MATCH-1]),O=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),O!==0&&_.strstart-O<=_.w_size-MIN_LOOKAHEAD&&(_.match_length=longest_match(_,O)),_.match_length>=MIN_MATCH)if(I=_tr_tally(_,_.strstart-_.match_start,_.match_length-MIN_MATCH),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=MIN_MATCH){_.match_length--;do _.strstart++,_.ins_h=HASH(_,_.ins_h,_.window[_.strstart+MIN_MATCH-1]),O=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart;while(--_.match_length!==0);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=HASH(_,_.ins_h,_.window[_.strstart+1]);else I=_tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(I&&(flush_block_only(_,!1),_.strm.avail_out===0))return BS_NEED_MORE}return _.insert=_.strstart<MIN_MATCH-1?_.strstart:MIN_MATCH-1,R===Z_FINISH$3?(flush_block_only(_,!0),_.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_.sym_next&&(flush_block_only(_,!1),_.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(_,R)=>{let O,I,F;for(;;){if(_.lookahead<MIN_LOOKAHEAD){if(fill_window(_),_.lookahead<MIN_LOOKAHEAD&&R===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_.lookahead===0)break}if(O=0,_.lookahead>=MIN_MATCH&&(_.ins_h=HASH(_,_.ins_h,_.window[_.strstart+MIN_MATCH-1]),O=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=MIN_MATCH-1,O!==0&&_.prev_length<_.max_lazy_match&&_.strstart-O<=_.w_size-MIN_LOOKAHEAD&&(_.match_length=longest_match(_,O),_.match_length<=5&&(_.strategy===Z_FILTERED||_.match_length===MIN_MATCH&&_.strstart-_.match_start>4096)&&(_.match_length=MIN_MATCH-1)),_.prev_length>=MIN_MATCH&&_.match_length<=_.prev_length){F=_.strstart+_.lookahead-MIN_MATCH,I=_tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-MIN_MATCH),_.lookahead-=_.prev_length-1,_.prev_length-=2;do++_.strstart<=F&&(_.ins_h=HASH(_,_.ins_h,_.window[_.strstart+MIN_MATCH-1]),O=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart);while(--_.prev_length!==0);if(_.match_available=0,_.match_length=MIN_MATCH-1,_.strstart++,I&&(flush_block_only(_,!1),_.strm.avail_out===0))return BS_NEED_MORE}else if(_.match_available){if(I=_tr_tally(_,0,_.window[_.strstart-1]),I&&flush_block_only(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return BS_NEED_MORE}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(I=_tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<MIN_MATCH-1?_.strstart:MIN_MATCH-1,R===Z_FINISH$3?(flush_block_only(_,!0),_.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_.sym_next&&(flush_block_only(_,!1),_.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(_,R)=>{let O,I,F,z;const L=_.window;for(;;){if(_.lookahead<=MAX_MATCH){if(fill_window(_),_.lookahead<=MAX_MATCH&&R===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_.lookahead===0)break}if(_.match_length=0,_.lookahead>=MIN_MATCH&&_.strstart>0&&(F=_.strstart-1,I=L[F],I===L[++F]&&I===L[++F]&&I===L[++F])){z=_.strstart+MAX_MATCH;do;while(I===L[++F]&&I===L[++F]&&I===L[++F]&&I===L[++F]&&I===L[++F]&&I===L[++F]&&I===L[++F]&&I===L[++F]&&F<z);_.match_length=MAX_MATCH-(z-F),_.match_length>_.lookahead&&(_.match_length=_.lookahead)}if(_.match_length>=MIN_MATCH?(O=_tr_tally(_,1,_.match_length-MIN_MATCH),_.lookahead-=_.match_length,_.strstart+=_.match_length,_.match_length=0):(O=_tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++),O&&(flush_block_only(_,!1),_.strm.avail_out===0))return BS_NEED_MORE}return _.insert=0,R===Z_FINISH$3?(flush_block_only(_,!0),_.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_.sym_next&&(flush_block_only(_,!1),_.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(_,R)=>{let O;for(;;){if(_.lookahead===0&&(fill_window(_),_.lookahead===0)){if(R===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(_.match_length=0,O=_tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++,O&&(flush_block_only(_,!1),_.strm.avail_out===0))return BS_NEED_MORE}return _.insert=0,R===Z_FINISH$3?(flush_block_only(_,!0),_.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_.sym_next&&(flush_block_only(_,!1),_.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(_,R,O,I,F){this.good_length=_,this.max_lazy=R,this.nice_length=O,this.max_chain=I,this.func=F}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=_=>{_.window_size=2*_.w_size,zero(_.head),_.max_lazy_match=configuration_table[_.level].max_lazy,_.good_match=configuration_table[_.level].good_length,_.nice_match=configuration_table[_.level].nice_length,_.max_chain_length=configuration_table[_.level].max_chain,_.strstart=0,_.block_start=0,_.lookahead=0,_.insert=0,_.match_length=_.prev_length=MIN_MATCH-1,_.match_available=0,_.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=_=>{if(!_)return 1;const R=_.state;return!R||R.strm!==_||R.status!==INIT_STATE&&R.status!==GZIP_STATE&&R.status!==EXTRA_STATE&&R.status!==NAME_STATE&&R.status!==COMMENT_STATE&&R.status!==HCRC_STATE&&R.status!==BUSY_STATE&&R.status!==FINISH_STATE?1:0},deflateResetKeep=_=>{if(deflateStateCheck(_))return err(_,Z_STREAM_ERROR$2);_.total_in=_.total_out=0,_.data_type=Z_UNKNOWN;const R=_.state;return R.pending=0,R.pending_out=0,R.wrap<0&&(R.wrap=-R.wrap),R.status=R.wrap===2?GZIP_STATE:R.wrap?INIT_STATE:BUSY_STATE,_.adler=R.wrap===2?0:1,R.last_flush=-2,_tr_init(R),Z_OK$3},deflateReset=_=>{const R=deflateResetKeep(_);return R===Z_OK$3&&lm_init(_.state),R},deflateSetHeader=(_,R)=>deflateStateCheck(_)||_.state.wrap!==2?Z_STREAM_ERROR$2:(_.state.gzhead=R,Z_OK$3),deflateInit2=(_,R,O,I,F,z)=>{if(!_)return Z_STREAM_ERROR$2;let L=1;if(R===Z_DEFAULT_COMPRESSION$1&&(R=6),I<0?(L=0,I=-I):I>15&&(L=2,I-=16),F<1||F>MAX_MEM_LEVEL||O!==Z_DEFLATED$2||I<8||I>15||R<0||R>9||z<0||z>Z_FIXED||I===8&&L!==1)return err(_,Z_STREAM_ERROR$2);I===8&&(I=9);const U=new DeflateState;return _.state=U,U.strm=_,U.status=INIT_STATE,U.wrap=L,U.gzhead=null,U.w_bits=I,U.w_size=1<<U.w_bits,U.w_mask=U.w_size-1,U.hash_bits=F+7,U.hash_size=1<<U.hash_bits,U.hash_mask=U.hash_size-1,U.hash_shift=~~((U.hash_bits+MIN_MATCH-1)/MIN_MATCH),U.window=new Uint8Array(U.w_size*2),U.head=new Uint16Array(U.hash_size),U.prev=new Uint16Array(U.w_size),U.lit_bufsize=1<<F+6,U.pending_buf_size=U.lit_bufsize*4,U.pending_buf=new Uint8Array(U.pending_buf_size),U.sym_buf=U.lit_bufsize,U.sym_end=(U.lit_bufsize-1)*3,U.level=R,U.strategy=z,U.method=O,deflateReset(_)},deflateInit=(_,R)=>deflateInit2(_,R,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(_,R)=>{if(deflateStateCheck(_)||R>Z_BLOCK$1||R<0)return _?err(_,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const O=_.state;if(!_.output||_.avail_in!==0&&!_.input||O.status===FINISH_STATE&&R!==Z_FINISH$3)return err(_,_.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const I=O.last_flush;if(O.last_flush=R,O.pending!==0){if(flush_pending(_),_.avail_out===0)return O.last_flush=-1,Z_OK$3}else if(_.avail_in===0&&rank(R)<=rank(I)&&R!==Z_FINISH$3)return err(_,Z_BUF_ERROR$1);if(O.status===FINISH_STATE&&_.avail_in!==0)return err(_,Z_BUF_ERROR$1);if(O.status===INIT_STATE&&O.wrap===0&&(O.status=BUSY_STATE),O.status===INIT_STATE){let F=Z_DEFLATED$2+(O.w_bits-8<<4)<<8,z=-1;if(O.strategy>=Z_HUFFMAN_ONLY||O.level<2?z=0:O.level<6?z=1:O.level===6?z=2:z=3,F|=z<<6,O.strstart!==0&&(F|=PRESET_DICT),F+=31-F%31,putShortMSB(O,F),O.strstart!==0&&(putShortMSB(O,_.adler>>>16),putShortMSB(O,_.adler&65535)),_.adler=1,O.status=BUSY_STATE,flush_pending(_),O.pending!==0)return O.last_flush=-1,Z_OK$3}if(O.status===GZIP_STATE){if(_.adler=0,put_byte(O,31),put_byte(O,139),put_byte(O,8),O.gzhead)put_byte(O,(O.gzhead.text?1:0)+(O.gzhead.hcrc?2:0)+(O.gzhead.extra?4:0)+(O.gzhead.name?8:0)+(O.gzhead.comment?16:0)),put_byte(O,O.gzhead.time&255),put_byte(O,O.gzhead.time>>8&255),put_byte(O,O.gzhead.time>>16&255),put_byte(O,O.gzhead.time>>24&255),put_byte(O,O.level===9?2:O.strategy>=Z_HUFFMAN_ONLY||O.level<2?4:0),put_byte(O,O.gzhead.os&255),O.gzhead.extra&&O.gzhead.extra.length&&(put_byte(O,O.gzhead.extra.length&255),put_byte(O,O.gzhead.extra.length>>8&255)),O.gzhead.hcrc&&(_.adler=crc32_1(_.adler,O.pending_buf,O.pending,0)),O.gzindex=0,O.status=EXTRA_STATE;else if(put_byte(O,0),put_byte(O,0),put_byte(O,0),put_byte(O,0),put_byte(O,0),put_byte(O,O.level===9?2:O.strategy>=Z_HUFFMAN_ONLY||O.level<2?4:0),put_byte(O,OS_CODE),O.status=BUSY_STATE,flush_pending(_),O.pending!==0)return O.last_flush=-1,Z_OK$3}if(O.status===EXTRA_STATE){if(O.gzhead.extra){let F=O.pending,z=(O.gzhead.extra.length&65535)-O.gzindex;for(;O.pending+z>O.pending_buf_size;){let U=O.pending_buf_size-O.pending;if(O.pending_buf.set(O.gzhead.extra.subarray(O.gzindex,O.gzindex+U),O.pending),O.pending=O.pending_buf_size,O.gzhead.hcrc&&O.pending>F&&(_.adler=crc32_1(_.adler,O.pending_buf,O.pending-F,F)),O.gzindex+=U,flush_pending(_),O.pending!==0)return O.last_flush=-1,Z_OK$3;F=0,z-=U}let L=new Uint8Array(O.gzhead.extra);O.pending_buf.set(L.subarray(O.gzindex,O.gzindex+z),O.pending),O.pending+=z,O.gzhead.hcrc&&O.pending>F&&(_.adler=crc32_1(_.adler,O.pending_buf,O.pending-F,F)),O.gzindex=0}O.status=NAME_STATE}if(O.status===NAME_STATE){if(O.gzhead.name){let F=O.pending,z;do{if(O.pending===O.pending_buf_size){if(O.gzhead.hcrc&&O.pending>F&&(_.adler=crc32_1(_.adler,O.pending_buf,O.pending-F,F)),flush_pending(_),O.pending!==0)return O.last_flush=-1,Z_OK$3;F=0}O.gzindex<O.gzhead.name.length?z=O.gzhead.name.charCodeAt(O.gzindex++)&255:z=0,put_byte(O,z)}while(z!==0);O.gzhead.hcrc&&O.pending>F&&(_.adler=crc32_1(_.adler,O.pending_buf,O.pending-F,F)),O.gzindex=0}O.status=COMMENT_STATE}if(O.status===COMMENT_STATE){if(O.gzhead.comment){let F=O.pending,z;do{if(O.pending===O.pending_buf_size){if(O.gzhead.hcrc&&O.pending>F&&(_.adler=crc32_1(_.adler,O.pending_buf,O.pending-F,F)),flush_pending(_),O.pending!==0)return O.last_flush=-1,Z_OK$3;F=0}O.gzindex<O.gzhead.comment.length?z=O.gzhead.comment.charCodeAt(O.gzindex++)&255:z=0,put_byte(O,z)}while(z!==0);O.gzhead.hcrc&&O.pending>F&&(_.adler=crc32_1(_.adler,O.pending_buf,O.pending-F,F))}O.status=HCRC_STATE}if(O.status===HCRC_STATE){if(O.gzhead.hcrc){if(O.pending+2>O.pending_buf_size&&(flush_pending(_),O.pending!==0))return O.last_flush=-1,Z_OK$3;put_byte(O,_.adler&255),put_byte(O,_.adler>>8&255),_.adler=0}if(O.status=BUSY_STATE,flush_pending(_),O.pending!==0)return O.last_flush=-1,Z_OK$3}if(_.avail_in!==0||O.lookahead!==0||R!==Z_NO_FLUSH$2&&O.status!==FINISH_STATE){let F=O.level===0?deflate_stored(O,R):O.strategy===Z_HUFFMAN_ONLY?deflate_huff(O,R):O.strategy===Z_RLE?deflate_rle(O,R):configuration_table[O.level].func(O,R);if((F===BS_FINISH_STARTED||F===BS_FINISH_DONE)&&(O.status=FINISH_STATE),F===BS_NEED_MORE||F===BS_FINISH_STARTED)return _.avail_out===0&&(O.last_flush=-1),Z_OK$3;if(F===BS_BLOCK_DONE&&(R===Z_PARTIAL_FLUSH?_tr_align(O):R!==Z_BLOCK$1&&(_tr_stored_block(O,0,0,!1),R===Z_FULL_FLUSH$1&&(zero(O.head),O.lookahead===0&&(O.strstart=0,O.block_start=0,O.insert=0))),flush_pending(_),_.avail_out===0))return O.last_flush=-1,Z_OK$3}return R!==Z_FINISH$3?Z_OK$3:O.wrap<=0?Z_STREAM_END$3:(O.wrap===2?(put_byte(O,_.adler&255),put_byte(O,_.adler>>8&255),put_byte(O,_.adler>>16&255),put_byte(O,_.adler>>24&255),put_byte(O,_.total_in&255),put_byte(O,_.total_in>>8&255),put_byte(O,_.total_in>>16&255),put_byte(O,_.total_in>>24&255)):(putShortMSB(O,_.adler>>>16),putShortMSB(O,_.adler&65535)),flush_pending(_),O.wrap>0&&(O.wrap=-O.wrap),O.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=_=>{if(deflateStateCheck(_))return Z_STREAM_ERROR$2;const R=_.state.status;return _.state=null,R===BUSY_STATE?err(_,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(_,R)=>{let O=R.length;if(deflateStateCheck(_))return Z_STREAM_ERROR$2;const I=_.state,F=I.wrap;if(F===2||F===1&&I.status!==INIT_STATE||I.lookahead)return Z_STREAM_ERROR$2;if(F===1&&(_.adler=adler32_1(_.adler,R,O,0)),I.wrap=0,O>=I.w_size){F===0&&(zero(I.head),I.strstart=0,I.block_start=0,I.insert=0);let q=new Uint8Array(I.w_size);q.set(R.subarray(O-I.w_size,O),0),R=q,O=I.w_size}const z=_.avail_in,L=_.next_in,U=_.input;for(_.avail_in=O,_.next_in=0,_.input=R,fill_window(I);I.lookahead>=MIN_MATCH;){let q=I.strstart,G=I.lookahead-(MIN_MATCH-1);do I.ins_h=HASH(I,I.ins_h,I.window[q+MIN_MATCH-1]),I.prev[q&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=q,q++;while(--G);I.strstart=q,I.lookahead=MIN_MATCH-1,fill_window(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=MIN_MATCH-1,I.match_available=0,_.next_in=L,_.input=U,_.avail_in=z,I.wrap=F,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(_,R)=>Object.prototype.hasOwnProperty.call(_,R);var assign=function(_){const R=Array.prototype.slice.call(arguments,1);for(;R.length;){const O=R.shift();if(O){if(typeof O!="object")throw new TypeError(O+"must be non-object");for(const I in O)_has(O,I)&&(_[I]=O[I])}}return _},flattenChunks=_=>{let R=0;for(let I=0,F=_.length;I<F;I++)R+=_[I].length;const O=new Uint8Array(R);for(let I=0,F=0,z=_.length;I<z;I++){let L=_[I];O.set(L,F),F+=L.length}return O},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(_){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let _=0;_<256;_++)_utf8len[_]=_>=252?6:_>=248?5:_>=240?4:_>=224?3:_>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=_=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(_);let R,O,I,F,z,L=_.length,U=0;for(F=0;F<L;F++)O=_.charCodeAt(F),(O&64512)===55296&&F+1<L&&(I=_.charCodeAt(F+1),(I&64512)===56320&&(O=65536+(O-55296<<10)+(I-56320),F++)),U+=O<128?1:O<2048?2:O<65536?3:4;for(R=new Uint8Array(U),z=0,F=0;z<U;F++)O=_.charCodeAt(F),(O&64512)===55296&&F+1<L&&(I=_.charCodeAt(F+1),(I&64512)===56320&&(O=65536+(O-55296<<10)+(I-56320),F++)),O<128?R[z++]=O:O<2048?(R[z++]=192|O>>>6,R[z++]=128|O&63):O<65536?(R[z++]=224|O>>>12,R[z++]=128|O>>>6&63,R[z++]=128|O&63):(R[z++]=240|O>>>18,R[z++]=128|O>>>12&63,R[z++]=128|O>>>6&63,R[z++]=128|O&63);return R};const buf2binstring=(_,R)=>{if(R<65534&&_.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,_.length===R?_:_.subarray(0,R));let O="";for(let I=0;I<R;I++)O+=String.fromCharCode(_[I]);return O};var buf2string=(_,R)=>{const O=R||_.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(_.subarray(0,R));let I,F;const z=new Array(O*2);for(F=0,I=0;I<O;){let L=_[I++];if(L<128){z[F++]=L;continue}let U=_utf8len[L];if(U>4){z[F++]=65533,I+=U-1;continue}for(L&=U===2?31:U===3?15:7;U>1&&I<O;)L=L<<6|_[I++]&63,U--;if(U>1){z[F++]=65533;continue}L<65536?z[F++]=L:(L-=65536,z[F++]=55296|L>>10&1023,z[F++]=56320|L&1023)}return buf2binstring(z,F)},utf8border=(_,R)=>{R=R||_.length,R>_.length&&(R=_.length);let O=R-1;for(;O>=0&&(_[O]&192)===128;)O--;return O<0||O===0?R:O+_utf8len[_[O]]>R?O:R},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(_){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},_||{});let R=this.options;R.raw&&R.windowBits>0?R.windowBits=-R.windowBits:R.gzip&&R.windowBits>0&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let O=deflate_1$2.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(O!==Z_OK$2)throw new Error(messages[O]);if(R.header&&deflate_1$2.deflateSetHeader(this.strm,R.header),R.dictionary){let I;if(typeof R.dictionary=="string"?I=strings.string2buf(R.dictionary):toString$1.call(R.dictionary)==="[object ArrayBuffer]"?I=new Uint8Array(R.dictionary):I=R.dictionary,O=deflate_1$2.deflateSetDictionary(this.strm,I),O!==Z_OK$2)throw new Error(messages[O]);this._dict_set=!0}}Deflate$1.prototype.push=function(_,R){const O=this.strm,I=this.options.chunkSize;let F,z;if(this.ended)return!1;for(R===~~R?z=R:z=R===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof _=="string"?O.input=strings.string2buf(_):toString$1.call(_)==="[object ArrayBuffer]"?O.input=new Uint8Array(_):O.input=_,O.next_in=0,O.avail_in=O.input.length;;){if(O.avail_out===0&&(O.output=new Uint8Array(I),O.next_out=0,O.avail_out=I),(z===Z_SYNC_FLUSH||z===Z_FULL_FLUSH)&&O.avail_out<=6){this.onData(O.output.subarray(0,O.next_out)),O.avail_out=0;continue}if(F=deflate_1$2.deflate(O,z),F===Z_STREAM_END$2)return O.next_out>0&&this.onData(O.output.subarray(0,O.next_out)),F=deflate_1$2.deflateEnd(this.strm),this.onEnd(F),this.ended=!0,F===Z_OK$2;if(O.avail_out===0){this.onData(O.output);continue}if(z>0&&O.next_out>0){this.onData(O.output.subarray(0,O.next_out)),O.avail_out=0;continue}if(O.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(_){this.chunks.push(_)};Deflate$1.prototype.onEnd=function(_){_===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function deflate$1(_,R){const O=new Deflate$1(R);if(O.push(_,!0),O.err)throw O.msg||messages[O.err];return O.result}function deflateRaw$1(_,R){return R=R||{},R.raw=!0,deflate$1(_,R)}function gzip$1(_,R){return R=R||{},R.gzip=!0,deflate$1(_,R)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1};const BAD$1=16209,TYPE$1=16191;var inffast=function _(R,O){let I,F,z,L,U,q,G,V,Z,Y,W,ee,ne,ie,se,oe,le,ue,ce,fe,me,he,pe,ge;const _e=R.state;I=R.next_in,pe=R.input,F=I+(R.avail_in-5),z=R.next_out,ge=R.output,L=z-(O-R.avail_out),U=z+(R.avail_out-257),q=_e.dmax,G=_e.wsize,V=_e.whave,Z=_e.wnext,Y=_e.window,W=_e.hold,ee=_e.bits,ne=_e.lencode,ie=_e.distcode,se=(1<<_e.lenbits)-1,oe=(1<<_e.distbits)-1;e:do{ee<15&&(W+=pe[I++]<<ee,ee+=8,W+=pe[I++]<<ee,ee+=8),le=ne[W&se];t:for(;;){if(ue=le>>>24,W>>>=ue,ee-=ue,ue=le>>>16&255,ue===0)ge[z++]=le&65535;else if(ue&16){ce=le&65535,ue&=15,ue&&(ee<ue&&(W+=pe[I++]<<ee,ee+=8),ce+=W&(1<<ue)-1,W>>>=ue,ee-=ue),ee<15&&(W+=pe[I++]<<ee,ee+=8,W+=pe[I++]<<ee,ee+=8),le=ie[W&oe];r:for(;;){if(ue=le>>>24,W>>>=ue,ee-=ue,ue=le>>>16&255,ue&16){if(fe=le&65535,ue&=15,ee<ue&&(W+=pe[I++]<<ee,ee+=8,ee<ue&&(W+=pe[I++]<<ee,ee+=8)),fe+=W&(1<<ue)-1,fe>q){R.msg="invalid distance too far back",_e.mode=BAD$1;break e}if(W>>>=ue,ee-=ue,ue=z-L,fe>ue){if(ue=fe-ue,ue>V&&_e.sane){R.msg="invalid distance too far back",_e.mode=BAD$1;break e}if(me=0,he=Y,Z===0){if(me+=G-ue,ue<ce){ce-=ue;do ge[z++]=Y[me++];while(--ue);me=z-fe,he=ge}}else if(Z<ue){if(me+=G+Z-ue,ue-=Z,ue<ce){ce-=ue;do ge[z++]=Y[me++];while(--ue);if(me=0,Z<ce){ue=Z,ce-=ue;do ge[z++]=Y[me++];while(--ue);me=z-fe,he=ge}}}else if(me+=Z-ue,ue<ce){ce-=ue;do ge[z++]=Y[me++];while(--ue);me=z-fe,he=ge}for(;ce>2;)ge[z++]=he[me++],ge[z++]=he[me++],ge[z++]=he[me++],ce-=3;ce&&(ge[z++]=he[me++],ce>1&&(ge[z++]=he[me++]))}else{me=z-fe;do ge[z++]=ge[me++],ge[z++]=ge[me++],ge[z++]=ge[me++],ce-=3;while(ce>2);ce&&(ge[z++]=ge[me++],ce>1&&(ge[z++]=ge[me++]))}}else if((ue&64)===0){le=ie[(le&65535)+(W&(1<<ue)-1)];continue r}else{R.msg="invalid distance code",_e.mode=BAD$1;break e}break}}else if((ue&64)===0){le=ne[(le&65535)+(W&(1<<ue)-1)];continue t}else if(ue&32){_e.mode=TYPE$1;break e}else{R.msg="invalid literal/length code",_e.mode=BAD$1;break e}break}}while(I<F&&z<U);ce=ee>>3,I-=ce,ee-=ce<<3,W&=(1<<ee)-1,R.next_in=I,R.next_out=z,R.avail_in=I<F?5+(F-I):5-(I-F),R.avail_out=z<U?257+(U-z):257-(z-U),_e.hold=W,_e.bits=ee};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(_,R,O,I,F,z,L,U)=>{const q=U.bits;let G=0,V=0,Z=0,Y=0,W=0,ee=0,ne=0,ie=0,se=0,oe=0,le,ue,ce,fe,me,he=null,pe;const ge=new Uint16Array(MAXBITS+1),_e=new Uint16Array(MAXBITS+1);let ye=null,we,ve,$e;for(G=0;G<=MAXBITS;G++)ge[G]=0;for(V=0;V<I;V++)ge[R[O+V]]++;for(W=q,Y=MAXBITS;Y>=1&&ge[Y]===0;Y--);if(W>Y&&(W=Y),Y===0)return F[z++]=1<<24|64<<16|0,F[z++]=1<<24|64<<16|0,U.bits=1,0;for(Z=1;Z<Y&&ge[Z]===0;Z++);for(W<Z&&(W=Z),ie=1,G=1;G<=MAXBITS;G++)if(ie<<=1,ie-=ge[G],ie<0)return-1;if(ie>0&&(_===CODES$1||Y!==1))return-1;for(_e[1]=0,G=1;G<MAXBITS;G++)_e[G+1]=_e[G]+ge[G];for(V=0;V<I;V++)R[O+V]!==0&&(L[_e[R[O+V]]++]=V);if(_===CODES$1?(he=ye=L,pe=20):_===LENS$1?(he=lbase,ye=lext,pe=257):(he=dbase,ye=dext,pe=0),oe=0,V=0,G=Z,me=z,ee=W,ne=0,ce=-1,se=1<<W,fe=se-1,_===LENS$1&&se>ENOUGH_LENS$1||_===DISTS$1&&se>ENOUGH_DISTS$1)return 1;for(;;){we=G-ne,L[V]+1<pe?(ve=0,$e=L[V]):L[V]>=pe?(ve=ye[L[V]-pe],$e=he[L[V]-pe]):(ve=96,$e=0),le=1<<G-ne,ue=1<<ee,Z=ue;do ue-=le,F[me+(oe>>ne)+ue]=we<<24|ve<<16|$e|0;while(ue!==0);for(le=1<<G-1;oe&le;)le>>=1;if(le!==0?(oe&=le-1,oe+=le):oe=0,V++,--ge[G]===0){if(G===Y)break;G=R[O+L[V]]}if(G>W&&(oe&fe)!==ce){for(ne===0&&(ne=W),me+=Z,ee=G-ne,ie=1<<ee;ee+ne<Y&&(ie-=ge[ee+ne],!(ie<=0));)ee++,ie<<=1;if(se+=1<<ee,_===LENS$1&&se>ENOUGH_LENS$1||_===DISTS$1&&se>ENOUGH_DISTS$1)return 1;ce=oe&fe,F[ce]=W<<24|ee<<16|me-z|0}}return oe!==0&&(F[me+oe]=G-ne<<24|64<<16|0),U.bits=W,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=_=>(_>>>24&255)+(_>>>8&65280)+((_&65280)<<8)+((_&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=_=>{if(!_)return 1;const R=_.state;return!R||R.strm!==_||R.mode<HEAD||R.mode>SYNC?1:0},inflateResetKeep=_=>{if(inflateStateCheck(_))return Z_STREAM_ERROR$1;const R=_.state;return _.total_in=_.total_out=R.total=0,_.msg="",R.wrap&&(_.adler=R.wrap&1),R.mode=HEAD,R.last=0,R.havedict=0,R.flags=-1,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new Int32Array(ENOUGH_LENS),R.distcode=R.distdyn=new Int32Array(ENOUGH_DISTS),R.sane=1,R.back=-1,Z_OK$1},inflateReset=_=>{if(inflateStateCheck(_))return Z_STREAM_ERROR$1;const R=_.state;return R.wsize=0,R.whave=0,R.wnext=0,inflateResetKeep(_)},inflateReset2=(_,R)=>{let O;if(inflateStateCheck(_))return Z_STREAM_ERROR$1;const I=_.state;return R<0?(O=0,R=-R):(O=(R>>4)+5,R<48&&(R&=15)),R&&(R<8||R>15)?Z_STREAM_ERROR$1:(I.window!==null&&I.wbits!==R&&(I.window=null),I.wrap=O,I.wbits=R,inflateReset(_))},inflateInit2=(_,R)=>{if(!_)return Z_STREAM_ERROR$1;const O=new InflateState;_.state=O,O.strm=_,O.window=null,O.mode=HEAD;const I=inflateReset2(_,R);return I!==Z_OK$1&&(_.state=null),I},inflateInit=_=>inflateInit2(_,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=_=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let R=0;for(;R<144;)_.lens[R++]=8;for(;R<256;)_.lens[R++]=9;for(;R<280;)_.lens[R++]=7;for(;R<288;)_.lens[R++]=8;for(inftrees(LENS,_.lens,0,288,lenfix,0,_.work,{bits:9}),R=0;R<32;)_.lens[R++]=5;inftrees(DISTS,_.lens,0,32,distfix,0,_.work,{bits:5}),virgin=!1}_.lencode=lenfix,_.lenbits=9,_.distcode=distfix,_.distbits=5},updatewindow=(_,R,O,I)=>{let F;const z=_.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new Uint8Array(z.wsize)),I>=z.wsize?(z.window.set(R.subarray(O-z.wsize,O),0),z.wnext=0,z.whave=z.wsize):(F=z.wsize-z.wnext,F>I&&(F=I),z.window.set(R.subarray(O-I,O-I+F),z.wnext),I-=F,I?(z.window.set(R.subarray(O-I,O),0),z.wnext=I,z.whave=z.wsize):(z.wnext+=F,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=F))),0},inflate$2=(_,R)=>{let O,I,F,z,L,U,q,G,V,Z,Y,W,ee,ne,ie=0,se,oe,le,ue,ce,fe,me,he;const pe=new Uint8Array(4);let ge,_e;const ye=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(_)||!_.output||!_.input&&_.avail_in!==0)return Z_STREAM_ERROR$1;O=_.state,O.mode===TYPE&&(O.mode=TYPEDO),L=_.next_out,F=_.output,q=_.avail_out,z=_.next_in,I=_.input,U=_.avail_in,G=O.hold,V=O.bits,Z=U,Y=q,he=Z_OK$1;e:for(;;)switch(O.mode){case HEAD:if(O.wrap===0){O.mode=TYPEDO;break}for(;V<16;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}if(O.wrap&2&&G===35615){O.wbits===0&&(O.wbits=15),O.check=0,pe[0]=G&255,pe[1]=G>>>8&255,O.check=crc32_1(O.check,pe,2,0),G=0,V=0,O.mode=FLAGS;break}if(O.head&&(O.head.done=!1),!(O.wrap&1)||(((G&255)<<8)+(G>>8))%31){_.msg="incorrect header check",O.mode=BAD;break}if((G&15)!==Z_DEFLATED){_.msg="unknown compression method",O.mode=BAD;break}if(G>>>=4,V-=4,me=(G&15)+8,O.wbits===0&&(O.wbits=me),me>15||me>O.wbits){_.msg="invalid window size",O.mode=BAD;break}O.dmax=1<<O.wbits,O.flags=0,_.adler=O.check=1,O.mode=G&512?DICTID:TYPE,G=0,V=0;break;case FLAGS:for(;V<16;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}if(O.flags=G,(O.flags&255)!==Z_DEFLATED){_.msg="unknown compression method",O.mode=BAD;break}if(O.flags&57344){_.msg="unknown header flags set",O.mode=BAD;break}O.head&&(O.head.text=G>>8&1),O.flags&512&&O.wrap&4&&(pe[0]=G&255,pe[1]=G>>>8&255,O.check=crc32_1(O.check,pe,2,0)),G=0,V=0,O.mode=TIME;case TIME:for(;V<32;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}O.head&&(O.head.time=G),O.flags&512&&O.wrap&4&&(pe[0]=G&255,pe[1]=G>>>8&255,pe[2]=G>>>16&255,pe[3]=G>>>24&255,O.check=crc32_1(O.check,pe,4,0)),G=0,V=0,O.mode=OS;case OS:for(;V<16;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}O.head&&(O.head.xflags=G&255,O.head.os=G>>8),O.flags&512&&O.wrap&4&&(pe[0]=G&255,pe[1]=G>>>8&255,O.check=crc32_1(O.check,pe,2,0)),G=0,V=0,O.mode=EXLEN;case EXLEN:if(O.flags&1024){for(;V<16;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}O.length=G,O.head&&(O.head.extra_len=G),O.flags&512&&O.wrap&4&&(pe[0]=G&255,pe[1]=G>>>8&255,O.check=crc32_1(O.check,pe,2,0)),G=0,V=0}else O.head&&(O.head.extra=null);O.mode=EXTRA;case EXTRA:if(O.flags&1024&&(W=O.length,W>U&&(W=U),W&&(O.head&&(me=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Uint8Array(O.head.extra_len)),O.head.extra.set(I.subarray(z,z+W),me)),O.flags&512&&O.wrap&4&&(O.check=crc32_1(O.check,I,W,z)),U-=W,z+=W,O.length-=W),O.length))break e;O.length=0,O.mode=NAME;case NAME:if(O.flags&2048){if(U===0)break e;W=0;do me=I[z+W++],O.head&&me&&O.length<65536&&(O.head.name+=String.fromCharCode(me));while(me&&W<U);if(O.flags&512&&O.wrap&4&&(O.check=crc32_1(O.check,I,W,z)),U-=W,z+=W,me)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=COMMENT;case COMMENT:if(O.flags&4096){if(U===0)break e;W=0;do me=I[z+W++],O.head&&me&&O.length<65536&&(O.head.comment+=String.fromCharCode(me));while(me&&W<U);if(O.flags&512&&O.wrap&4&&(O.check=crc32_1(O.check,I,W,z)),U-=W,z+=W,me)break e}else O.head&&(O.head.comment=null);O.mode=HCRC;case HCRC:if(O.flags&512){for(;V<16;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}if(O.wrap&4&&G!==(O.check&65535)){_.msg="header crc mismatch",O.mode=BAD;break}G=0,V=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),_.adler=O.check=0,O.mode=TYPE;break;case DICTID:for(;V<32;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}_.adler=O.check=zswap32(G),G=0,V=0,O.mode=DICT;case DICT:if(O.havedict===0)return _.next_out=L,_.avail_out=q,_.next_in=z,_.avail_in=U,O.hold=G,O.bits=V,Z_NEED_DICT$1;_.adler=O.check=1,O.mode=TYPE;case TYPE:if(R===Z_BLOCK||R===Z_TREES)break e;case TYPEDO:if(O.last){G>>>=V&7,V-=V&7,O.mode=CHECK;break}for(;V<3;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}switch(O.last=G&1,G>>>=1,V-=1,G&3){case 0:O.mode=STORED;break;case 1:if(fixedtables(O),O.mode=LEN_,R===Z_TREES){G>>>=2,V-=2;break e}break;case 2:O.mode=TABLE;break;case 3:_.msg="invalid block type",O.mode=BAD}G>>>=2,V-=2;break;case STORED:for(G>>>=V&7,V-=V&7;V<32;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}if((G&65535)!==(G>>>16^65535)){_.msg="invalid stored block lengths",O.mode=BAD;break}if(O.length=G&65535,G=0,V=0,O.mode=COPY_,R===Z_TREES)break e;case COPY_:O.mode=COPY;case COPY:if(W=O.length,W){if(W>U&&(W=U),W>q&&(W=q),W===0)break e;F.set(I.subarray(z,z+W),L),U-=W,z+=W,q-=W,L+=W,O.length-=W;break}O.mode=TYPE;break;case TABLE:for(;V<14;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}if(O.nlen=(G&31)+257,G>>>=5,V-=5,O.ndist=(G&31)+1,G>>>=5,V-=5,O.ncode=(G&15)+4,G>>>=4,V-=4,O.nlen>286||O.ndist>30){_.msg="too many length or distance symbols",O.mode=BAD;break}O.have=0,O.mode=LENLENS;case LENLENS:for(;O.have<O.ncode;){for(;V<3;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}O.lens[ye[O.have++]]=G&7,G>>>=3,V-=3}for(;O.have<19;)O.lens[ye[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,ge={bits:O.lenbits},he=inftrees(CODES,O.lens,0,19,O.lencode,0,O.work,ge),O.lenbits=ge.bits,he){_.msg="invalid code lengths set",O.mode=BAD;break}O.have=0,O.mode=CODELENS;case CODELENS:for(;O.have<O.nlen+O.ndist;){for(;ie=O.lencode[G&(1<<O.lenbits)-1],se=ie>>>24,oe=ie>>>16&255,le=ie&65535,!(se<=V);){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}if(le<16)G>>>=se,V-=se,O.lens[O.have++]=le;else{if(le===16){for(_e=se+2;V<_e;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}if(G>>>=se,V-=se,O.have===0){_.msg="invalid bit length repeat",O.mode=BAD;break}me=O.lens[O.have-1],W=3+(G&3),G>>>=2,V-=2}else if(le===17){for(_e=se+3;V<_e;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}G>>>=se,V-=se,me=0,W=3+(G&7),G>>>=3,V-=3}else{for(_e=se+7;V<_e;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}G>>>=se,V-=se,me=0,W=11+(G&127),G>>>=7,V-=7}if(O.have+W>O.nlen+O.ndist){_.msg="invalid bit length repeat",O.mode=BAD;break}for(;W--;)O.lens[O.have++]=me}}if(O.mode===BAD)break;if(O.lens[256]===0){_.msg="invalid code -- missing end-of-block",O.mode=BAD;break}if(O.lenbits=9,ge={bits:O.lenbits},he=inftrees(LENS,O.lens,0,O.nlen,O.lencode,0,O.work,ge),O.lenbits=ge.bits,he){_.msg="invalid literal/lengths set",O.mode=BAD;break}if(O.distbits=6,O.distcode=O.distdyn,ge={bits:O.distbits},he=inftrees(DISTS,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,ge),O.distbits=ge.bits,he){_.msg="invalid distances set",O.mode=BAD;break}if(O.mode=LEN_,R===Z_TREES)break e;case LEN_:O.mode=LEN;case LEN:if(U>=6&&q>=258){_.next_out=L,_.avail_out=q,_.next_in=z,_.avail_in=U,O.hold=G,O.bits=V,inffast(_,Y),L=_.next_out,F=_.output,q=_.avail_out,z=_.next_in,I=_.input,U=_.avail_in,G=O.hold,V=O.bits,O.mode===TYPE&&(O.back=-1);break}for(O.back=0;ie=O.lencode[G&(1<<O.lenbits)-1],se=ie>>>24,oe=ie>>>16&255,le=ie&65535,!(se<=V);){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}if(oe&&(oe&240)===0){for(ue=se,ce=oe,fe=le;ie=O.lencode[fe+((G&(1<<ue+ce)-1)>>ue)],se=ie>>>24,oe=ie>>>16&255,le=ie&65535,!(ue+se<=V);){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}G>>>=ue,V-=ue,O.back+=ue}if(G>>>=se,V-=se,O.back+=se,O.length=le,oe===0){O.mode=LIT;break}if(oe&32){O.back=-1,O.mode=TYPE;break}if(oe&64){_.msg="invalid literal/length code",O.mode=BAD;break}O.extra=oe&15,O.mode=LENEXT;case LENEXT:if(O.extra){for(_e=O.extra;V<_e;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}O.length+=G&(1<<O.extra)-1,G>>>=O.extra,V-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=DIST;case DIST:for(;ie=O.distcode[G&(1<<O.distbits)-1],se=ie>>>24,oe=ie>>>16&255,le=ie&65535,!(se<=V);){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}if((oe&240)===0){for(ue=se,ce=oe,fe=le;ie=O.distcode[fe+((G&(1<<ue+ce)-1)>>ue)],se=ie>>>24,oe=ie>>>16&255,le=ie&65535,!(ue+se<=V);){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}G>>>=ue,V-=ue,O.back+=ue}if(G>>>=se,V-=se,O.back+=se,oe&64){_.msg="invalid distance code",O.mode=BAD;break}O.offset=le,O.extra=oe&15,O.mode=DISTEXT;case DISTEXT:if(O.extra){for(_e=O.extra;V<_e;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}O.offset+=G&(1<<O.extra)-1,G>>>=O.extra,V-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){_.msg="invalid distance too far back",O.mode=BAD;break}O.mode=MATCH;case MATCH:if(q===0)break e;if(W=Y-q,O.offset>W){if(W=O.offset-W,W>O.whave&&O.sane){_.msg="invalid distance too far back",O.mode=BAD;break}W>O.wnext?(W-=O.wnext,ee=O.wsize-W):ee=O.wnext-W,W>O.length&&(W=O.length),ne=O.window}else ne=F,ee=L-O.offset,W=O.length;W>q&&(W=q),q-=W,O.length-=W;do F[L++]=ne[ee++];while(--W);O.length===0&&(O.mode=LEN);break;case LIT:if(q===0)break e;F[L++]=O.length,q--,O.mode=LEN;break;case CHECK:if(O.wrap){for(;V<32;){if(U===0)break e;U--,G|=I[z++]<<V,V+=8}if(Y-=q,_.total_out+=Y,O.total+=Y,O.wrap&4&&Y&&(_.adler=O.check=O.flags?crc32_1(O.check,F,Y,L-Y):adler32_1(O.check,F,Y,L-Y)),Y=q,O.wrap&4&&(O.flags?G:zswap32(G))!==O.check){_.msg="incorrect data check",O.mode=BAD;break}G=0,V=0}O.mode=LENGTH;case LENGTH:if(O.wrap&&O.flags){for(;V<32;){if(U===0)break e;U--,G+=I[z++]<<V,V+=8}if(O.wrap&4&&G!==(O.total&4294967295)){_.msg="incorrect length check",O.mode=BAD;break}G=0,V=0}O.mode=DONE;case DONE:he=Z_STREAM_END$1;break e;case BAD:he=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return _.next_out=L,_.avail_out=q,_.next_in=z,_.avail_in=U,O.hold=G,O.bits=V,(O.wsize||Y!==_.avail_out&&O.mode<BAD&&(O.mode<CHECK||R!==Z_FINISH$1))&&updatewindow(_,_.output,_.next_out,Y-_.avail_out),Z-=_.avail_in,Y-=_.avail_out,_.total_in+=Z,_.total_out+=Y,O.total+=Y,O.wrap&4&&Y&&(_.adler=O.check=O.flags?crc32_1(O.check,F,Y,_.next_out-Y):adler32_1(O.check,F,Y,_.next_out-Y)),_.data_type=O.bits+(O.last?64:0)+(O.mode===TYPE?128:0)+(O.mode===LEN_||O.mode===COPY_?256:0),(Z===0&&Y===0||R===Z_FINISH$1)&&he===Z_OK$1&&(he=Z_BUF_ERROR),he},inflateEnd=_=>{if(inflateStateCheck(_))return Z_STREAM_ERROR$1;let R=_.state;return R.window&&(R.window=null),_.state=null,Z_OK$1},inflateGetHeader=(_,R)=>{if(inflateStateCheck(_))return Z_STREAM_ERROR$1;const O=_.state;return(O.wrap&2)===0?Z_STREAM_ERROR$1:(O.head=R,R.done=!1,Z_OK$1)},inflateSetDictionary=(_,R)=>{const O=R.length;let I,F,z;return inflateStateCheck(_)||(I=_.state,I.wrap!==0&&I.mode!==DICT)?Z_STREAM_ERROR$1:I.mode===DICT&&(F=1,F=adler32_1(F,R,O,0),F!==I.check)?Z_DATA_ERROR$1:(z=updatewindow(_,R,O,O),z?(I.mode=MEM,Z_MEM_ERROR$1):(I.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(_){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},_||{});const R=this.options;R.raw&&R.windowBits>=0&&R.windowBits<16&&(R.windowBits=-R.windowBits,R.windowBits===0&&(R.windowBits=-15)),R.windowBits>=0&&R.windowBits<16&&!(_&&_.windowBits)&&(R.windowBits+=32),R.windowBits>15&&R.windowBits<48&&(R.windowBits&15)===0&&(R.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let O=inflate_1$2.inflateInit2(this.strm,R.windowBits);if(O!==Z_OK)throw new Error(messages[O]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),R.dictionary&&(typeof R.dictionary=="string"?R.dictionary=strings.string2buf(R.dictionary):toString.call(R.dictionary)==="[object ArrayBuffer]"&&(R.dictionary=new Uint8Array(R.dictionary)),R.raw&&(O=inflate_1$2.inflateSetDictionary(this.strm,R.dictionary),O!==Z_OK)))throw new Error(messages[O])}Inflate$1.prototype.push=function(_,R){const O=this.strm,I=this.options.chunkSize,F=this.options.dictionary;let z,L,U;if(this.ended)return!1;for(R===~~R?L=R:L=R===!0?Z_FINISH:Z_NO_FLUSH,toString.call(_)==="[object ArrayBuffer]"?O.input=new Uint8Array(_):O.input=_,O.next_in=0,O.avail_in=O.input.length;;){for(O.avail_out===0&&(O.output=new Uint8Array(I),O.next_out=0,O.avail_out=I),z=inflate_1$2.inflate(O,L),z===Z_NEED_DICT&&F&&(z=inflate_1$2.inflateSetDictionary(O,F),z===Z_OK?z=inflate_1$2.inflate(O,L):z===Z_DATA_ERROR&&(z=Z_NEED_DICT));O.avail_in>0&&z===Z_STREAM_END&&O.state.wrap>0&&_[O.next_in]!==0;)inflate_1$2.inflateReset(O),z=inflate_1$2.inflate(O,L);switch(z){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(z),this.ended=!0,!1}if(U=O.avail_out,O.next_out&&(O.avail_out===0||z===Z_STREAM_END))if(this.options.to==="string"){let q=strings.utf8border(O.output,O.next_out),G=O.next_out-q,V=strings.buf2string(O.output,q);O.next_out=G,O.avail_out=I-G,G&&O.output.set(O.output.subarray(q,q+G),0),this.onData(V)}else this.onData(O.output.length===O.next_out?O.output:O.output.subarray(0,O.next_out));if(!(z===Z_OK&&U===0)){if(z===Z_STREAM_END)return z=inflate_1$2.inflateEnd(this.strm),this.onEnd(z),this.ended=!0,!0;if(O.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(_){this.chunks.push(_)};Inflate$1.prototype.onEnd=function(_){_===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function inflate$1(_,R){const O=new Inflate$1(R);if(O.push(_),O.err)throw O.msg||messages[O.err];return O.result}function inflateRaw$1(_,R){return R=R||{},R.raw=!0,inflate$1(_,R)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var Deflate_1=Deflate,deflate_1=deflate,deflateRaw_1=deflateRaw,gzip_1=gzip,Inflate_1=Inflate,inflate_1=inflate,inflateRaw_1=inflateRaw,ungzip_1=ungzip,constants_1=constants$2,pako={Deflate:Deflate_1,deflate:deflate_1,deflateRaw:deflateRaw_1,gzip:gzip_1,Inflate:Inflate_1,inflate:inflate_1,inflateRaw:inflateRaw_1,ungzip:ungzip_1,constants:constants_1};function encodeParamsToUrl(_,R){const O=toToml(R),I=pako.deflate(O),z=btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),L=new URL(window.location.origin+window.location.pathname);return L.searchParams.set("model",_),L.searchParams.set("config",z),L.toString()}function decodeParamsFromUrl(){const _=new URL(window.location.href),R=_.searchParams.get("model"),O=_.searchParams.get("config");if(!R||!O)return null;try{let I=O.replace(/-/g,"+").replace(/_/g,"/");for(;I.length%4;)I+="=";const F=atob(I),z=new Uint8Array(F.length);for(let q=0;q<F.length;q++)z[q]=F.charCodeAt(q);const L=pako.inflate(z,{to:"string"}),U=parseTomlWithDefaults(L);return{modelName:R,params:U}}catch(I){return console.error("Failed to decode URL params:",I),null}}function clearUrlParams(){const _=new URL(window.location.origin+window.location.pathname);window.history.replaceState({},"",_.toString())}function WorkerWrapper(_){return new Worker("/internal/eht/beta/assets/simulation.worker-CqxrWxSp.js",{name:_?.name})}class WorkerPool{constructor(R=navigator.hardwareConcurrency||4){this.poolSize=R}workers=[];busyWorkers=new Set;taskQueue=[];pendingTasks=new Map;init(){for(let R=0;R<this.poolSize;R++){const O=new WorkerWrapper;O.onmessage=I=>{this.handleWorkerMessage(O,I.data)},O.onerror=I=>{console.error("Worker error:",I),this.handleWorkerError(O,I)},this.workers.push(O)}}getPoolSize(){return this.poolSize}submit(R,O,I,F,z,L){return new Promise((U,q)=>{const V={request:{type:"run",modelName:R,baseParams:O,overrides:I,seed:F,timeSamples:z,runIndex:L},resolve:U,reject:q},Z=this.workers.find(Y=>!this.busyWorkers.has(Y));Z?this.executeTask(Z,V):this.taskQueue.push(V)})}executeTask(R,O){this.busyWorkers.add(R),this.pendingTasks.set(O.request.runIndex,O),R.postMessage(O.request)}handleWorkerMessage(R,O){const I=this.pendingTasks.get(O.runIndex);if(this.pendingTasks.delete(O.runIndex),this.busyWorkers.delete(R),I&&(O.type==="complete"&&O.snapshots?I.resolve(O.snapshots):O.type==="error"&&I.reject(new Error(O.error||"Unknown worker error"))),this.taskQueue.length>0){const F=this.taskQueue.shift();this.executeTask(R,F)}}handleWorkerError(R,O){if(this.busyWorkers.delete(R),console.error("Worker error:",O.message),this.taskQueue.length>0){const I=this.taskQueue.shift();this.executeTask(R,I)}}terminate(){for(const R of this.workers)R.terminate();this.workers=[],this.busyWorkers.clear(),this.taskQueue=[],this.pendingTasks.clear()}static isSupported(){return typeof Worker<"u"}}function runSingleSimulation(_,R,O,I,F,z,L){const U=structuredClone(R);for(const[Z,Y]of Object.entries(O))setNestedValue(U,Z,Y);U.general.random_seed=I;const q=new SimulationEngine({model:_,params:U});q.init();const G=[];let V=0;if(F.length>0&&F[0]<=0){const Z=_.getSnapshot(q.getState()),Y={run_index:z,seed:I,time_h:0,sampled_params:O,data:Z};G.push(Y),L?.onSnapshot?.(Y),V=1}for(;!q.isComplete()&&V<F.length;){q.step();const Z=q.getState(),Y=Z.t??0;for(;V<F.length&&Y>=F[V];){const W=_.getSnapshot(Z),ee={run_index:z,seed:I,time_h:F[V],sampled_params:O,data:W};G.push(ee),L?.onSnapshot?.(ee),V++}}return G}function yieldToUI(){return new Promise(_=>setTimeout(_,0))}async function runBatchSequential(_,R,O,I){const F=generateParameterConfigs(O.parameter_ranges,O.sampling_mode,O.random_sample_count),z=getTimeSamples(O.time_samples),L=F.length*O.seeds_per_config,U=[];let q=0;for(const V of F)for(let Z=0;Z<O.seeds_per_config;Z++){const Y=R.general.random_seed+q;I?.onProgress?.({current_run:q,total_runs:L,current_config:V,is_running:!0,is_complete:!1}),await yieldToUI();const W=runSingleSimulation(_,R,V,Y,z,q,I);U.push(...W),q++}const G={config:O,snapshots:U,completed_runs:L,total_runs:L};return I?.onProgress?.({current_run:L,total_runs:L,current_config:{},is_running:!1,is_complete:!0}),I?.onComplete?.(G),G}async function runBatchParallel(_,R,O,I,F){const z=generateParameterConfigs(O.parameter_ranges,O.sampling_mode,O.random_sample_count),L=getTimeSamples(O.time_samples),U=z.length*O.seeds_per_config,q=[];let G=0;const V=new WorkerPool(F);V.init();try{const Y=[];let W=0;for(const ie of z)for(let se=0;se<O.seeds_per_config;se++){const oe=R.general.random_seed+W;Y.push({paramConfig:ie,seed:oe,runIndex:W}),W++}I?.onProgress?.({current_run:0,total_runs:U,current_config:{},is_running:!0,is_complete:!1});const ee=Y.map(async ie=>{const se=await V.submit(_.id,R,ie.paramConfig,ie.seed,L,ie.runIndex);G++,I?.onProgress?.({current_run:G,total_runs:U,current_config:ie.paramConfig,is_running:!0,is_complete:!1});for(const oe of se)I?.onSnapshot?.(oe);return se}),ne=await Promise.all(ee);for(const ie of ne)q.push(...ie);q.sort((ie,se)=>ie.run_index!==se.run_index?ie.run_index-se.run_index:ie.time_h-se.time_h)}finally{V.terminate()}const Z={config:O,snapshots:q,completed_runs:U,total_runs:U};return I?.onProgress?.({current_run:U,total_runs:U,current_config:{},is_running:!1,is_complete:!0}),I?.onComplete?.(Z),Z}async function runBatch(_,R,O,I){const F=I?.modelName??_.metadata?.model;if(!F)throw new Error("Model name not specified. Provide options.modelName or ensure params.metadata.model is set.");const z=modelRegistry.get(F);if(!z)throw new Error(`Model "${F}" not found in registry.`);return(I?.parallel??WorkerPool.isSupported())&&WorkerPool.isSupported()?runBatchParallel(z,_,R,O,I?.workerCount):runBatchSequential(z,_,R,O)}function computeTotalRuns(_,R){return generateParameterConfigs(_,"grid").length*R}var papaparse_min$1={exports:{}};var papaparse_min=papaparse_min$1.exports,hasRequiredPapaparse_min;function requirePapaparse_min(){return hasRequiredPapaparse_min||(hasRequiredPapaparse_min=1,(function(_,R){((O,I)=>{_.exports=I()})(papaparse_min,function O(){var I=typeof self<"u"?self:typeof window<"u"?window:I!==void 0?I:{},F,z=!I.document&&!!I.postMessage,L=I.IS_PAPA_WORKER||!1,U={},q=0,G={};function V(he){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(pe){var ge=ce(pe);ge.chunkSize=parseInt(ge.chunkSize),pe.step||pe.chunk||(ge.chunkSize=null),this._handle=new ne(ge),(this._handle.streamer=this)._config=ge}).call(this,he),this.parseChunk=function(pe,ge){var _e=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<_e){let we=this._config.newline;we||(ye=this._config.quoteChar||'"',we=this._handle.guessLineEndings(pe,ye)),pe=[...pe.split(we).slice(_e)].join(we)}this.isFirstChunk&&me(this._config.beforeFirstChunk)&&(ye=this._config.beforeFirstChunk(pe))!==void 0&&(pe=ye),this.isFirstChunk=!1,this._halted=!1;var _e=this._partialLine+pe,ye=(this._partialLine="",this._handle.parse(_e,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(pe=ye.meta.cursor,_e=(this._finished||(this._partialLine=_e.substring(pe-this._baseIndex),this._baseIndex=pe),ye&&ye.data&&(this._rowCount+=ye.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),L)I.postMessage({results:ye,workerId:G.WORKER_ID,finished:_e});else if(me(this._config.chunk)&&!ge){if(this._config.chunk(ye,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=ye=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ye.data),this._completeResults.errors=this._completeResults.errors.concat(ye.errors),this._completeResults.meta=ye.meta),this._completed||!_e||!me(this._config.complete)||ye&&ye.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),_e||ye&&ye.meta.paused||this._nextChunk(),ye}this._halted=!0},this._sendError=function(pe){me(this._config.error)?this._config.error(pe):L&&this._config.error&&I.postMessage({workerId:G.WORKER_ID,error:pe,finished:!1})}}function Z(he){var pe;(he=he||{}).chunkSize||(he.chunkSize=G.RemoteChunkSize),V.call(this,he),this._nextChunk=z?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(ge){this._input=ge,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(pe=new XMLHttpRequest,this._config.withCredentials&&(pe.withCredentials=this._config.withCredentials),z||(pe.onload=fe(this._chunkLoaded,this),pe.onerror=fe(this._chunkError,this)),pe.open(this._config.downloadRequestBody?"POST":"GET",this._input,!z),this._config.downloadRequestHeaders){var ge,_e=this._config.downloadRequestHeaders;for(ge in _e)pe.setRequestHeader(ge,_e[ge])}var ye;this._config.chunkSize&&(ye=this._start+this._config.chunkSize-1,pe.setRequestHeader("Range","bytes="+this._start+"-"+ye));try{pe.send(this._config.downloadRequestBody)}catch(we){this._chunkError(we.message)}z&&pe.status===0&&this._chunkError()}},this._chunkLoaded=function(){pe.readyState===4&&(pe.status<200||400<=pe.status?this._chunkError():(this._start+=this._config.chunkSize||pe.responseText.length,this._finished=!this._config.chunkSize||this._start>=(ge=>(ge=ge.getResponseHeader("Content-Range"))!==null?parseInt(ge.substring(ge.lastIndexOf("/")+1)):-1)(pe),this.parseChunk(pe.responseText)))},this._chunkError=function(ge){ge=pe.statusText||ge,this._sendError(new Error(ge))}}function Y(he){(he=he||{}).chunkSize||(he.chunkSize=G.LocalChunkSize),V.call(this,he);var pe,ge,_e=typeof FileReader<"u";this.stream=function(ye){this._input=ye,ge=ye.slice||ye.webkitSlice||ye.mozSlice,_e?((pe=new FileReader).onload=fe(this._chunkLoaded,this),pe.onerror=fe(this._chunkError,this)):pe=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var ye=this._input,we=(this._config.chunkSize&&(we=Math.min(this._start+this._config.chunkSize,this._input.size),ye=ge.call(ye,this._start,we)),pe.readAsText(ye,this._config.encoding));_e||this._chunkLoaded({target:{result:we}})},this._chunkLoaded=function(ye){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(ye.target.result)},this._chunkError=function(){this._sendError(pe.error)}}function W(he){var pe;V.call(this,he=he||{}),this.stream=function(ge){return pe=ge,this._nextChunk()},this._nextChunk=function(){var ge,_e;if(!this._finished)return ge=this._config.chunkSize,pe=ge?(_e=pe.substring(0,ge),pe.substring(ge)):(_e=pe,""),this._finished=!pe,this.parseChunk(_e)}}function ee(he){V.call(this,he=he||{});var pe=[],ge=!0,_e=!1;this.pause=function(){V.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){V.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(ye){this._input=ye,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){_e&&pe.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),pe.length?this.parseChunk(pe.shift()):ge=!0},this._streamData=fe(function(ye){try{pe.push(typeof ye=="string"?ye:ye.toString(this._config.encoding)),ge&&(ge=!1,this._checkIsFinished(),this.parseChunk(pe.shift()))}catch(we){this._streamError(we)}},this),this._streamError=fe(function(ye){this._streamCleanUp(),this._sendError(ye)},this),this._streamEnd=fe(function(){this._streamCleanUp(),_e=!0,this._streamData("")},this),this._streamCleanUp=fe(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ne(he){var pe,ge,_e,ye,we=Math.pow(2,53),ve=-we,$e=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,be=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Ce=this,De=0,Ne=0,Me=!1,Te=!1,Re=[],Se={data:[],errors:[],meta:{}};function ze(Le){return he.skipEmptyLines==="greedy"?Le.join("").trim()==="":Le.length===1&&Le[0].length===0}function Pe(){if(Se&&_e&&(Ze("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+G.DefaultDelimiter+"'"),_e=!1),he.skipEmptyLines&&(Se.data=Se.data.filter(function(Ke){return!ze(Ke)})),Qe()){let Ke=function(He,st){me(he.transformHeader)&&(He=he.transformHeader(He,st)),Re.push(He)};if(Se)if(Array.isArray(Se.data[0])){for(var Le=0;Qe()&&Le<Se.data.length;Le++)Se.data[Le].forEach(Ke);Se.data.splice(0,1)}else Se.data.forEach(Ke)}function ke(Ke,He){for(var st=he.header?{}:[],Ae=0;Ae<Ke.length;Ae++){var tt=Ae,rt=Ke[Ae],rt=((We,qe)=>(nt=>(he.dynamicTypingFunction&&he.dynamicTyping[nt]===void 0&&(he.dynamicTyping[nt]=he.dynamicTypingFunction(nt)),(he.dynamicTyping[nt]||he.dynamicTyping)===!0))(We)?qe==="true"||qe==="TRUE"||qe!=="false"&&qe!=="FALSE"&&((nt=>{if($e.test(nt)&&(nt=parseFloat(nt),ve<nt&&nt<we))return 1})(qe)?parseFloat(qe):be.test(qe)?new Date(qe):qe===""?null:qe):qe)(tt=he.header?Ae>=Re.length?"__parsed_extra":Re[Ae]:tt,rt=he.transform?he.transform(rt,tt):rt);tt==="__parsed_extra"?(st[tt]=st[tt]||[],st[tt].push(rt)):st[tt]=rt}return he.header&&(Ae>Re.length?Ze("FieldMismatch","TooManyFields","Too many fields: expected "+Re.length+" fields but parsed "+Ae,Ne+He):Ae<Re.length&&Ze("FieldMismatch","TooFewFields","Too few fields: expected "+Re.length+" fields but parsed "+Ae,Ne+He)),st}var Ge;Se&&(he.header||he.dynamicTyping||he.transform)&&(Ge=1,!Se.data.length||Array.isArray(Se.data[0])?(Se.data=Se.data.map(ke),Ge=Se.data.length):Se.data=ke(Se.data,0),he.header&&Se.meta&&(Se.meta.fields=Re),Ne+=Ge)}function Qe(){return he.header&&Re.length===0}function Ze(Le,ke,Ge,Ke){Le={type:Le,code:ke,message:Ge},Ke!==void 0&&(Le.row=Ke),Se.errors.push(Le)}me(he.step)&&(ye=he.step,he.step=function(Le){Se=Le,Qe()?Pe():(Pe(),Se.data.length!==0&&(De+=Le.data.length,he.preview&&De>he.preview?ge.abort():(Se.data=Se.data[0],ye(Se,Ce))))}),this.parse=function(Le,ke,Ge){var Ke=he.quoteChar||'"',Ke=(he.newline||(he.newline=this.guessLineEndings(Le,Ke)),_e=!1,he.delimiter?me(he.delimiter)&&(he.delimiter=he.delimiter(Le),Se.meta.delimiter=he.delimiter):((Ke=((He,st,Ae,tt,rt)=>{var We,qe,nt,ft;rt=rt||[",","	","|",";",G.RECORD_SEP,G.UNIT_SEP];for(var je=0;je<rt.length;je++){for(var Ve,Ie=rt[je],Ue=0,Xe=0,Fe=0,Je=(nt=void 0,new se({comments:tt,delimiter:Ie,newline:st,preview:10}).parse(He)),et=0;et<Je.data.length;et++)Ae&&ze(Je.data[et])?Fe++:(Ve=Je.data[et].length,Xe+=Ve,nt===void 0?nt=Ve:0<Ve&&(Ue+=Math.abs(Ve-nt),nt=Ve));0<Je.data.length&&(Xe/=Je.data.length-Fe),(qe===void 0||Ue<=qe)&&(ft===void 0||ft<Xe)&&1.99<Xe&&(qe=Ue,We=Ie,ft=Xe)}return{successful:!!(he.delimiter=We),bestDelimiter:We}})(Le,he.newline,he.skipEmptyLines,he.comments,he.delimitersToGuess)).successful?he.delimiter=Ke.bestDelimiter:(_e=!0,he.delimiter=G.DefaultDelimiter),Se.meta.delimiter=he.delimiter),ce(he));return he.preview&&he.header&&Ke.preview++,pe=Le,ge=new se(Ke),Se=ge.parse(pe,ke,Ge),Pe(),Me?{meta:{paused:!0}}:Se||{meta:{paused:!1}}},this.paused=function(){return Me},this.pause=function(){Me=!0,ge.abort(),pe=me(he.chunk)?"":pe.substring(ge.getCharIndex())},this.resume=function(){Ce.streamer._halted?(Me=!1,Ce.streamer.parseChunk(pe,!0)):setTimeout(Ce.resume,3)},this.aborted=function(){return Te},this.abort=function(){Te=!0,ge.abort(),Se.meta.aborted=!0,me(he.complete)&&he.complete(Se),pe=""},this.guessLineEndings=function(He,Ke){He=He.substring(0,1048576);var Ke=new RegExp(ie(Ke)+"([^]*?)"+ie(Ke),"gm"),Ge=(He=He.replace(Ke,"")).split("\r"),Ke=He.split(`
`),He=1<Ke.length&&Ke[0].length<Ge[0].length;if(Ge.length===1||He)return`
`;for(var st=0,Ae=0;Ae<Ge.length;Ae++)Ge[Ae][0]===`
`&&st++;return st>=Ge.length/2?`\r
`:"\r"}}function ie(he){return he.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function se(he){var pe=(he=he||{}).delimiter,ge=he.newline,_e=he.comments,ye=he.step,we=he.preview,ve=he.fastMode,$e=null,be=!1,Ce=he.quoteChar==null?'"':he.quoteChar,De=Ce;if(he.escapeChar!==void 0&&(De=he.escapeChar),(typeof pe!="string"||-1<G.BAD_DELIMITERS.indexOf(pe))&&(pe=","),_e===pe)throw new Error("Comment character same as delimiter");_e===!0?_e="#":(typeof _e!="string"||-1<G.BAD_DELIMITERS.indexOf(_e))&&(_e=!1),ge!==`
`&&ge!=="\r"&&ge!==`\r
`&&(ge=`
`);var Ne=0,Me=!1;this.parse=function(Te,Re,Se){if(typeof Te!="string")throw new Error("Input must be a string");var ze=Te.length,Pe=pe.length,Qe=ge.length,Ze=_e.length,Le=me(ye),ke=[],Ge=[],Ke=[],He=Ne=0;if(!Te)return Ue();if(ve||ve!==!1&&Te.indexOf(Ce)===-1){for(var st=Te.split(ge),Ae=0;Ae<st.length;Ae++){if(Ke=st[Ae],Ne+=Ke.length,Ae!==st.length-1)Ne+=ge.length;else if(Se)return Ue();if(!_e||Ke.substring(0,Ze)!==_e){if(Le){if(ke=[],ft(Ke.split(pe)),Xe(),Me)return Ue()}else ft(Ke.split(pe));if(we&&we<=Ae)return ke=ke.slice(0,we),Ue(!0)}}return Ue()}for(var tt=Te.indexOf(pe,Ne),rt=Te.indexOf(ge,Ne),We=new RegExp(ie(De)+ie(Ce),"g"),qe=Te.indexOf(Ce,Ne);;)if(Te[Ne]===Ce)for(qe=Ne,Ne++;;){if((qe=Te.indexOf(Ce,qe+1))===-1)return Se||Ge.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ke.length,index:Ne}),Ve();if(qe===ze-1)return Ve(Te.substring(Ne,qe).replace(We,Ce));if(Ce===De&&Te[qe+1]===De)qe++;else if(Ce===De||qe===0||Te[qe-1]!==De){tt!==-1&&tt<qe+1&&(tt=Te.indexOf(pe,qe+1));var nt=je((rt=rt!==-1&&rt<qe+1?Te.indexOf(ge,qe+1):rt)===-1?tt:Math.min(tt,rt));if(Te.substr(qe+1+nt,Pe)===pe){Ke.push(Te.substring(Ne,qe).replace(We,Ce)),Te[Ne=qe+1+nt+Pe]!==Ce&&(qe=Te.indexOf(Ce,Ne)),tt=Te.indexOf(pe,Ne),rt=Te.indexOf(ge,Ne);break}if(nt=je(rt),Te.substring(qe+1+nt,qe+1+nt+Qe)===ge){if(Ke.push(Te.substring(Ne,qe).replace(We,Ce)),Ie(qe+1+nt+Qe),tt=Te.indexOf(pe,Ne),qe=Te.indexOf(Ce,Ne),Le&&(Xe(),Me))return Ue();if(we&&ke.length>=we)return Ue(!0);break}Ge.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ke.length,index:Ne}),qe++}}else if(_e&&Ke.length===0&&Te.substring(Ne,Ne+Ze)===_e){if(rt===-1)return Ue();Ne=rt+Qe,rt=Te.indexOf(ge,Ne),tt=Te.indexOf(pe,Ne)}else if(tt!==-1&&(tt<rt||rt===-1))Ke.push(Te.substring(Ne,tt)),Ne=tt+Pe,tt=Te.indexOf(pe,Ne);else{if(rt===-1)break;if(Ke.push(Te.substring(Ne,rt)),Ie(rt+Qe),Le&&(Xe(),Me))return Ue();if(we&&ke.length>=we)return Ue(!0)}return Ve();function ft(Fe){ke.push(Fe),He=Ne}function je(Fe){var Je=0;return Je=Fe!==-1&&(Fe=Te.substring(qe+1,Fe))&&Fe.trim()===""?Fe.length:Je}function Ve(Fe){return Se||(Fe===void 0&&(Fe=Te.substring(Ne)),Ke.push(Fe),Ne=ze,ft(Ke),Le&&Xe()),Ue()}function Ie(Fe){Ne=Fe,ft(Ke),Ke=[],rt=Te.indexOf(ge,Ne)}function Ue(Fe){if(he.header&&!Re&&ke.length&&!be){var Je=ke[0],et=Object.create(null),ut=new Set(Je);let ct=!1;for(let bt=0;bt<Je.length;bt++){let ht=Je[bt];if(et[ht=me(he.transformHeader)?he.transformHeader(ht,bt):ht]){let xt,$t=et[ht];for(;xt=ht+"_"+$t,$t++,ut.has(xt););ut.add(xt),Je[bt]=xt,et[ht]++,ct=!0,($e=$e===null?{}:$e)[xt]=ht}else et[ht]=1,Je[bt]=ht;ut.add(ht)}ct&&console.warn("Duplicate headers found and renamed."),be=!0}return{data:ke,errors:Ge,meta:{delimiter:pe,linebreak:ge,aborted:Me,truncated:!!Fe,cursor:He+(Re||0),renamedHeaders:$e}}}function Xe(){ye(Ue()),ke=[],Ge=[]}},this.abort=function(){Me=!0},this.getCharIndex=function(){return Ne}}function oe(he){var pe=he.data,ge=U[pe.workerId],_e=!1;if(pe.error)ge.userError(pe.error,pe.file);else if(pe.results&&pe.results.data){var ye={abort:function(){_e=!0,le(pe.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ue,resume:ue};if(me(ge.userStep)){for(var we=0;we<pe.results.data.length&&(ge.userStep({data:pe.results.data[we],errors:pe.results.errors,meta:pe.results.meta},ye),!_e);we++);delete pe.results}else me(ge.userChunk)&&(ge.userChunk(pe.results,ye,pe.file),delete pe.results)}pe.finished&&!_e&&le(pe.workerId,pe.results)}function le(he,pe){var ge=U[he];me(ge.userComplete)&&ge.userComplete(pe),ge.terminate(),delete U[he]}function ue(){throw new Error("Not implemented.")}function ce(he){if(typeof he!="object"||he===null)return he;var pe,ge=Array.isArray(he)?[]:{};for(pe in he)ge[pe]=ce(he[pe]);return ge}function fe(he,pe){return function(){he.apply(pe,arguments)}}function me(he){return typeof he=="function"}return G.parse=function(he,pe){var ge=(pe=pe||{}).dynamicTyping||!1;if(me(ge)&&(pe.dynamicTypingFunction=ge,ge={}),pe.dynamicTyping=ge,pe.transform=!!me(pe.transform)&&pe.transform,!pe.worker||!G.WORKERS_SUPPORTED)return ge=null,G.NODE_STREAM_INPUT,typeof he=="string"?(he=(_e=>_e.charCodeAt(0)!==65279?_e:_e.slice(1))(he),ge=new(pe.download?Z:W)(pe)):he.readable===!0&&me(he.read)&&me(he.on)?ge=new ee(pe):(I.File&&he instanceof File||he instanceof Object)&&(ge=new Y(pe)),ge.stream(he);(ge=(()=>{var _e;return!!G.WORKERS_SUPPORTED&&(_e=(()=>{var ye=I.URL||I.webkitURL||null,we=O.toString();return G.BLOB_URL||(G.BLOB_URL=ye.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",we,")();"],{type:"text/javascript"})))})(),(_e=new I.Worker(_e)).onmessage=oe,_e.id=q++,U[_e.id]=_e)})()).userStep=pe.step,ge.userChunk=pe.chunk,ge.userComplete=pe.complete,ge.userError=pe.error,pe.step=me(pe.step),pe.chunk=me(pe.chunk),pe.complete=me(pe.complete),pe.error=me(pe.error),delete pe.worker,ge.postMessage({input:he,config:pe,workerId:ge.id})},G.unparse=function(he,pe){var ge=!1,_e=!0,ye=",",we=`\r
`,ve='"',$e=ve+ve,be=!1,Ce=null,De=!1,Ne=((()=>{if(typeof pe=="object"){if(typeof pe.delimiter!="string"||G.BAD_DELIMITERS.filter(function(Re){return pe.delimiter.indexOf(Re)!==-1}).length||(ye=pe.delimiter),typeof pe.quotes!="boolean"&&typeof pe.quotes!="function"&&!Array.isArray(pe.quotes)||(ge=pe.quotes),typeof pe.skipEmptyLines!="boolean"&&typeof pe.skipEmptyLines!="string"||(be=pe.skipEmptyLines),typeof pe.newline=="string"&&(we=pe.newline),typeof pe.quoteChar=="string"&&(ve=pe.quoteChar),typeof pe.header=="boolean"&&(_e=pe.header),Array.isArray(pe.columns)){if(pe.columns.length===0)throw new Error("Option columns is empty");Ce=pe.columns}pe.escapeChar!==void 0&&($e=pe.escapeChar+ve),pe.escapeFormulae instanceof RegExp?De=pe.escapeFormulae:typeof pe.escapeFormulae=="boolean"&&pe.escapeFormulae&&(De=/^[=+\-@\t\r].*$/)}})(),new RegExp(ie(ve),"g"));if(typeof he=="string"&&(he=JSON.parse(he)),Array.isArray(he)){if(!he.length||Array.isArray(he[0]))return Me(null,he,be);if(typeof he[0]=="object")return Me(Ce||Object.keys(he[0]),he,be)}else if(typeof he=="object")return typeof he.data=="string"&&(he.data=JSON.parse(he.data)),Array.isArray(he.data)&&(he.fields||(he.fields=he.meta&&he.meta.fields||Ce),he.fields||(he.fields=Array.isArray(he.data[0])?he.fields:typeof he.data[0]=="object"?Object.keys(he.data[0]):[]),Array.isArray(he.data[0])||typeof he.data[0]=="object"||(he.data=[he.data])),Me(he.fields||[],he.data||[],be);throw new Error("Unable to serialize unrecognized input");function Me(Re,Se,ze){var Pe="",Qe=(typeof Re=="string"&&(Re=JSON.parse(Re)),typeof Se=="string"&&(Se=JSON.parse(Se)),Array.isArray(Re)&&0<Re.length),Ze=!Array.isArray(Se[0]);if(Qe&&_e){for(var Le=0;Le<Re.length;Le++)0<Le&&(Pe+=ye),Pe+=Te(Re[Le],Le);0<Se.length&&(Pe+=we)}for(var ke=0;ke<Se.length;ke++){var Ge=(Qe?Re:Se[ke]).length,Ke=!1,He=Qe?Object.keys(Se[ke]).length===0:Se[ke].length===0;if(ze&&!Qe&&(Ke=ze==="greedy"?Se[ke].join("").trim()==="":Se[ke].length===1&&Se[ke][0].length===0),ze==="greedy"&&Qe){for(var st=[],Ae=0;Ae<Ge;Ae++){var tt=Ze?Re[Ae]:Ae;st.push(Se[ke][tt])}Ke=st.join("").trim()===""}if(!Ke){for(var rt=0;rt<Ge;rt++){0<rt&&!He&&(Pe+=ye);var We=Qe&&Ze?Re[rt]:rt;Pe+=Te(Se[ke][We],rt)}ke<Se.length-1&&(!ze||0<Ge&&!He)&&(Pe+=we)}}return Pe}function Te(Re,Se){var ze,Pe;return Re==null?"":Re.constructor===Date?JSON.stringify(Re).slice(1,25):(Pe=!1,De&&typeof Re=="string"&&De.test(Re)&&(Re="'"+Re,Pe=!0),ze=Re.toString().replace(Ne,$e),(Pe=Pe||ge===!0||typeof ge=="function"&&ge(Re,Se)||Array.isArray(ge)&&ge[Se]||((Qe,Ze)=>{for(var Le=0;Le<Ze.length;Le++)if(-1<Qe.indexOf(Ze[Le]))return!0;return!1})(ze,G.BAD_DELIMITERS)||-1<ze.indexOf(ye)||ze.charAt(0)===" "||ze.charAt(ze.length-1)===" ")?ve+ze+ve:ze)}},G.RECORD_SEP="",G.UNIT_SEP="",G.BYTE_ORDER_MARK="\uFEFF",G.BAD_DELIMITERS=["\r",`
`,'"',G.BYTE_ORDER_MARK],G.WORKERS_SUPPORTED=!z&&!!I.Worker,G.NODE_STREAM_INPUT=1,G.LocalChunkSize=10485760,G.RemoteChunkSize=5242880,G.DefaultDelimiter=",",G.Parser=se,G.ParserHandle=ne,G.NetworkStreamer=Z,G.FileStreamer=Y,G.StringStreamer=W,G.ReadableStreamStreamer=ee,I.jQuery&&((F=I.jQuery).fn.parse=function(he){var pe=he.config||{},ge=[];return this.each(function(we){if(!(F(this).prop("tagName").toUpperCase()==="INPUT"&&F(this).attr("type").toLowerCase()==="file"&&I.FileReader)||!this.files||this.files.length===0)return!0;for(var ve=0;ve<this.files.length;ve++)ge.push({file:this.files[ve],inputElem:this,instanceConfig:F.extend({},pe)})}),_e(),this;function _e(){if(ge.length===0)me(he.complete)&&he.complete();else{var we,ve,$e,be,Ce=ge[0];if(me(he.before)){var De=he.before(Ce.file,Ce.inputElem);if(typeof De=="object"){if(De.action==="abort")return we="AbortError",ve=Ce.file,$e=Ce.inputElem,be=De.reason,void(me(he.error)&&he.error({name:we},ve,$e,be));if(De.action==="skip")return void ye();typeof De.config=="object"&&(Ce.instanceConfig=F.extend(Ce.instanceConfig,De.config))}else if(De==="skip")return void ye()}var Ne=Ce.instanceConfig.complete;Ce.instanceConfig.complete=function(Me){me(Ne)&&Ne(Me,Ce.file,Ce.inputElem),ye()},G.parse(Ce.file,Ce.instanceConfig)}}function ye(){ge.splice(0,1),_e()}}),L&&(I.onmessage=function(he){he=he.data,G.WORKER_ID===void 0&&he&&(G.WORKER_ID=he.workerId),typeof he.input=="string"?I.postMessage({workerId:G.WORKER_ID,results:G.parse(he.input,he.config),finished:!0}):(I.File&&he.input instanceof File||he.input instanceof Object)&&(he=G.parse(he.input,he.config))&&I.postMessage({workerId:G.WORKER_ID,results:he,finished:!0})}),(Z.prototype=Object.create(V.prototype)).constructor=Z,(Y.prototype=Object.create(V.prototype)).constructor=Y,(W.prototype=Object.create(W.prototype)).constructor=W,(ee.prototype=Object.create(V.prototype)).constructor=ee,G})})(papaparse_min$1)),papaparse_min$1.exports}var papaparse_minExports=requirePapaparse_min();const Papa=getDefaultExportFromCjs(papaparse_minExports),PATH_SEPARATOR="__";function pathToColumn(_){return"param"+PATH_SEPARATOR+_.replace(/\./g,PATH_SEPARATOR)}function columnToPath(_){return _.startsWith("param"+PATH_SEPARATOR)?_.slice(("param"+PATH_SEPARATOR).length).replace(new RegExp(PATH_SEPARATOR,"g"),"."):_}function batchSnapshotsToCSV(_){if(_.length===0)return"";const R=new Set;for(const U of _)for(const q of Object.keys(U.sampled_params))R.add(q);const O=Array.from(R).sort(),I=new Set;for(const U of _)U.data.length>0&&Object.keys(U.data[0]).forEach(q=>I.add(q));const F=Array.from(I).sort((U,q)=>U==="id"?-1:q==="id"?1:U.localeCompare(q)),z=[];for(const U of _)for(const q of U.data){const G={run_index:U.run_index,seed:U.seed,time_h:U.time_h,...q};for(const V of O)G[pathToColumn(V)]=U.sampled_params[V]??"";z.push(G)}const L=["run_index","seed","time_h",...O.map(pathToColumn),...F];return Papa.unparse(z,{columns:L,delimiter:"	"})}function csvToBatchSnapshots(_){const R=Papa.parse(_,{header:!0,dynamicTyping:!1,skipEmptyLines:!0,delimiter:"	"});R.errors.length>0&&console.warn("CSV parse warnings:",R.errors);const O=new Map,I=R.meta.fields?.filter(U=>U.startsWith("param"+PATH_SEPARATOR))??[],F=new Set(["run_index","seed","time_h"]),z=R.meta.fields?.filter(U=>!F.has(U)&&!U.startsWith("param"+PATH_SEPARATOR))??[];for(const U of R.data){const q=parseInt(U.run_index,10),G=parseInt(U.seed,10),V=parseFloat(U.time_h),Z=`${q}-${G}-${V}`;if(!O.has(Z)){const ee={};for(const ne of I){const ie=U[ne];ie!==""&&ie!==void 0&&(ee[columnToPath(ne)]=parseFloat(ie))}O.set(Z,{run_index:q,seed:G,time_h:V,sampled_params:ee,data:[]})}const Y=O.get(Z),W={};for(const ee of z){const ne=U[ee],ie=Number(ne);!isNaN(ie)&&ne.trim()!==""?W[ee]=ie:ne==="true"?W[ee]=!0:ne==="false"?W[ee]=!1:W[ee]=ne}Y.data.push(W)}const L=Array.from(O.values());return L.sort((U,q)=>U.run_index!==q.run_index?U.run_index-q.run_index:U.time_h-q.time_h),L}function createBatchDataFromSnapshots(_){const R=new Set;for(const L of _)for(const U of Object.keys(L.sampled_params))R.add(U);const O=new Set;for(const L of _)O.add(L.time_h);const I=Array.from(O).sort((L,U)=>L-U),F=new Set;for(const L of _)F.add(`${L.run_index}-${L.seed}`);return{config:{parameter_ranges:Array.from(R).map(L=>({path:L,min:0,max:0,steps:0})),time_samples:{start:I[0]??0,end:I[I.length-1]??48,step:I.length>1?I[1]-I[0]:12},seeds_per_config:1,sampling_mode:"grid"},snapshots:_,completed_runs:F.size,total_runs:F.size}}function statisticsToCSV(_,R){const O=R.map(I=>{const F={};return _.forEach((z,L)=>{F[z]=I[L]}),F});return Papa.unparse(O,{columns:_,delimiter:"	"})}function downloadCSV(_,R){const O=new Blob([_],{type:"text/csv;charset=utf-8;"}),I=URL.createObjectURL(O),F=document.createElement("a");F.href=I,F.download=R,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(I)}function readFileAsText(_){return new Promise((R,O)=>{const I=new FileReader;I.onload=()=>R(I.result),I.onerror=()=>O(I.error),I.readAsText(_)})}class OffscreenRenderer{renderer=null;canvas=null;config;isOffscreen=!1;constructor(R){this.config=R}async init(R,O){if(this.renderer)throw new Error("Renderer already initialized");typeof OffscreenCanvas<"u"?(this.canvas=new OffscreenCanvas(this.config.width,this.config.height),this.isOffscreen=!0):(this.canvas=document.createElement("canvas"),this.canvas.width=this.config.width,this.canvas.height=this.config.height,this.canvas.style.display="none",document.body.appendChild(this.canvas),this.isOffscreen=!1),this.renderer=new SimulationRenderer({width:this.config.width,height:this.config.height,isDark:this.config.isDark}),await this.renderer.init(this.canvas),this.renderer.setModel(R),this.renderer.setParams(O)}render(R){if(!this.renderer)throw new Error("Renderer not initialized. Call init() first.");this.renderer.render(R)}setRenderOptions(R){if(!this.renderer)throw new Error("Renderer not initialized. Call init() first.");this.renderer.setRenderOptions(R)}async getScreenshot(){if(!this.canvas)throw new Error("Canvas not initialized");return this.isOffscreen?this.canvas.convertToBlob({type:"image/png"}):new Promise((R,O)=>{this.canvas.toBlob(F=>{F?R(F):O(new Error("Failed to create blob from canvas"))},"image/png")})}getCanvas(){if(!this.canvas)throw new Error("Canvas not initialized");return this.canvas}destroy(){if(this.renderer&&(this.renderer.destroy(),this.renderer=null),this.canvas&&!this.isOffscreen){const R=this.canvas;R.parentNode&&R.parentNode.removeChild(R)}this.canvas=null}}function commonjsRequire(_){throw new Error('Could not dynamically require "'+_+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}};var hasRequiredJszip_min;function requireJszip_min(){return hasRequiredJszip_min||(hasRequiredJszip_min=1,(function(_,R){(function(O){_.exports=O()})(function(){return(function O(I,F,z){function L(G,V){if(!F[G]){if(!I[G]){var Z=typeof commonjsRequire=="function"&&commonjsRequire;if(!V&&Z)return Z(G,!0);if(U)return U(G,!0);var Y=new Error("Cannot find module '"+G+"'");throw Y.code="MODULE_NOT_FOUND",Y}var W=F[G]={exports:{}};I[G][0].call(W.exports,function(ee){var ne=I[G][1][ee];return L(ne||ee)},W,W.exports,O,I,F,z)}return F[G].exports}for(var U=typeof commonjsRequire=="function"&&commonjsRequire,q=0;q<z.length;q++)L(z[q]);return L})({1:[function(O,I,F){var z=O("./utils"),L=O("./support"),U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";F.encode=function(q){for(var G,V,Z,Y,W,ee,ne,ie=[],se=0,oe=q.length,le=oe,ue=z.getTypeOf(q)!=="string";se<q.length;)le=oe-se,Z=ue?(G=q[se++],V=se<oe?q[se++]:0,se<oe?q[se++]:0):(G=q.charCodeAt(se++),V=se<oe?q.charCodeAt(se++):0,se<oe?q.charCodeAt(se++):0),Y=G>>2,W=(3&G)<<4|V>>4,ee=1<le?(15&V)<<2|Z>>6:64,ne=2<le?63&Z:64,ie.push(U.charAt(Y)+U.charAt(W)+U.charAt(ee)+U.charAt(ne));return ie.join("")},F.decode=function(q){var G,V,Z,Y,W,ee,ne=0,ie=0,se="data:";if(q.substr(0,se.length)===se)throw new Error("Invalid base64 input, it looks like a data url.");var oe,le=3*(q=q.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(q.charAt(q.length-1)===U.charAt(64)&&le--,q.charAt(q.length-2)===U.charAt(64)&&le--,le%1!=0)throw new Error("Invalid base64 input, bad content length.");for(oe=L.uint8array?new Uint8Array(0|le):new Array(0|le);ne<q.length;)G=U.indexOf(q.charAt(ne++))<<2|(Y=U.indexOf(q.charAt(ne++)))>>4,V=(15&Y)<<4|(W=U.indexOf(q.charAt(ne++)))>>2,Z=(3&W)<<6|(ee=U.indexOf(q.charAt(ne++))),oe[ie++]=G,W!==64&&(oe[ie++]=V),ee!==64&&(oe[ie++]=Z);return oe}},{"./support":30,"./utils":32}],2:[function(O,I,F){var z=O("./external"),L=O("./stream/DataWorker"),U=O("./stream/Crc32Probe"),q=O("./stream/DataLengthProbe");function G(V,Z,Y,W,ee){this.compressedSize=V,this.uncompressedSize=Z,this.crc32=Y,this.compression=W,this.compressedContent=ee}G.prototype={getContentWorker:function(){var V=new L(z.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new q("data_length")),Z=this;return V.on("end",function(){if(this.streamInfo.data_length!==Z.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),V},getCompressedWorker:function(){return new L(z.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},G.createWorkerFrom=function(V,Z,Y){return V.pipe(new U).pipe(new q("uncompressedSize")).pipe(Z.compressWorker(Y)).pipe(new q("compressedSize")).withStreamInfo("compression",Z)},I.exports=G},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(O,I,F){var z=O("./stream/GenericWorker");F.STORE={magic:"\0\0",compressWorker:function(){return new z("STORE compression")},uncompressWorker:function(){return new z("STORE decompression")}},F.DEFLATE=O("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(O,I,F){var z=O("./utils"),L=(function(){for(var U,q=[],G=0;G<256;G++){U=G;for(var V=0;V<8;V++)U=1&U?3988292384^U>>>1:U>>>1;q[G]=U}return q})();I.exports=function(U,q){return U!==void 0&&U.length?z.getTypeOf(U)!=="string"?(function(G,V,Z,Y){var W=L,ee=Y+Z;G^=-1;for(var ne=Y;ne<ee;ne++)G=G>>>8^W[255&(G^V[ne])];return-1^G})(0|q,U,U.length,0):(function(G,V,Z,Y){var W=L,ee=Y+Z;G^=-1;for(var ne=Y;ne<ee;ne++)G=G>>>8^W[255&(G^V.charCodeAt(ne))];return-1^G})(0|q,U,U.length,0):0}},{"./utils":32}],5:[function(O,I,F){F.base64=!1,F.binary=!1,F.dir=!1,F.createFolders=!0,F.date=null,F.compression=null,F.compressionOptions=null,F.comment=null,F.unixPermissions=null,F.dosPermissions=null},{}],6:[function(O,I,F){var z=null;z=typeof Promise<"u"?Promise:O("lie"),I.exports={Promise:z}},{lie:37}],7:[function(O,I,F){var z=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",L=O("pako"),U=O("./utils"),q=O("./stream/GenericWorker"),G=z?"uint8array":"array";function V(Z,Y){q.call(this,"FlateWorker/"+Z),this._pako=null,this._pakoAction=Z,this._pakoOptions=Y,this.meta={}}F.magic="\b\0",U.inherits(V,q),V.prototype.processChunk=function(Z){this.meta=Z.meta,this._pako===null&&this._createPako(),this._pako.push(U.transformTo(G,Z.data),!1)},V.prototype.flush=function(){q.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},V.prototype.cleanUp=function(){q.prototype.cleanUp.call(this),this._pako=null},V.prototype._createPako=function(){this._pako=new L[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var Z=this;this._pako.onData=function(Y){Z.push({data:Y,meta:Z.meta})}},F.compressWorker=function(Z){return new V("Deflate",Z)},F.uncompressWorker=function(){return new V("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(O,I,F){function z(W,ee){var ne,ie="";for(ne=0;ne<ee;ne++)ie+=String.fromCharCode(255&W),W>>>=8;return ie}function L(W,ee,ne,ie,se,oe){var le,ue,ce=W.file,fe=W.compression,me=oe!==G.utf8encode,he=U.transformTo("string",oe(ce.name)),pe=U.transformTo("string",G.utf8encode(ce.name)),ge=ce.comment,_e=U.transformTo("string",oe(ge)),ye=U.transformTo("string",G.utf8encode(ge)),we=pe.length!==ce.name.length,ve=ye.length!==ge.length,$e="",be="",Ce="",De=ce.dir,Ne=ce.date,Me={crc32:0,compressedSize:0,uncompressedSize:0};ee&&!ne||(Me.crc32=W.crc32,Me.compressedSize=W.compressedSize,Me.uncompressedSize=W.uncompressedSize);var Te=0;ee&&(Te|=8),me||!we&&!ve||(Te|=2048);var Re=0,Se=0;De&&(Re|=16),se==="UNIX"?(Se=798,Re|=(function(Pe,Qe){var Ze=Pe;return Pe||(Ze=Qe?16893:33204),(65535&Ze)<<16})(ce.unixPermissions,De)):(Se=20,Re|=(function(Pe){return 63&(Pe||0)})(ce.dosPermissions)),le=Ne.getUTCHours(),le<<=6,le|=Ne.getUTCMinutes(),le<<=5,le|=Ne.getUTCSeconds()/2,ue=Ne.getUTCFullYear()-1980,ue<<=4,ue|=Ne.getUTCMonth()+1,ue<<=5,ue|=Ne.getUTCDate(),we&&(be=z(1,1)+z(V(he),4)+pe,$e+="up"+z(be.length,2)+be),ve&&(Ce=z(1,1)+z(V(_e),4)+ye,$e+="uc"+z(Ce.length,2)+Ce);var ze="";return ze+=`
\0`,ze+=z(Te,2),ze+=fe.magic,ze+=z(le,2),ze+=z(ue,2),ze+=z(Me.crc32,4),ze+=z(Me.compressedSize,4),ze+=z(Me.uncompressedSize,4),ze+=z(he.length,2),ze+=z($e.length,2),{fileRecord:Z.LOCAL_FILE_HEADER+ze+he+$e,dirRecord:Z.CENTRAL_FILE_HEADER+z(Se,2)+ze+z(_e.length,2)+"\0\0\0\0"+z(Re,4)+z(ie,4)+he+$e+_e}}var U=O("../utils"),q=O("../stream/GenericWorker"),G=O("../utf8"),V=O("../crc32"),Z=O("../signature");function Y(W,ee,ne,ie){q.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=ee,this.zipPlatform=ne,this.encodeFileName=ie,this.streamFiles=W,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}U.inherits(Y,q),Y.prototype.push=function(W){var ee=W.meta.percent||0,ne=this.entriesCount,ie=this._sources.length;this.accumulate?this.contentBuffer.push(W):(this.bytesWritten+=W.data.length,q.prototype.push.call(this,{data:W.data,meta:{currentFile:this.currentFile,percent:ne?(ee+100*(ne-ie-1))/ne:100}}))},Y.prototype.openedSource=function(W){this.currentSourceOffset=this.bytesWritten,this.currentFile=W.file.name;var ee=this.streamFiles&&!W.file.dir;if(ee){var ne=L(W,ee,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:ne.fileRecord,meta:{percent:0}})}else this.accumulate=!0},Y.prototype.closedSource=function(W){this.accumulate=!1;var ee=this.streamFiles&&!W.file.dir,ne=L(W,ee,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(ne.dirRecord),ee)this.push({data:(function(ie){return Z.DATA_DESCRIPTOR+z(ie.crc32,4)+z(ie.compressedSize,4)+z(ie.uncompressedSize,4)})(W),meta:{percent:100}});else for(this.push({data:ne.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},Y.prototype.flush=function(){for(var W=this.bytesWritten,ee=0;ee<this.dirRecords.length;ee++)this.push({data:this.dirRecords[ee],meta:{percent:100}});var ne=this.bytesWritten-W,ie=(function(se,oe,le,ue,ce){var fe=U.transformTo("string",ce(ue));return Z.CENTRAL_DIRECTORY_END+"\0\0\0\0"+z(se,2)+z(se,2)+z(oe,4)+z(le,4)+z(fe.length,2)+fe})(this.dirRecords.length,ne,W,this.zipComment,this.encodeFileName);this.push({data:ie,meta:{percent:100}})},Y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},Y.prototype.registerPrevious=function(W){this._sources.push(W);var ee=this;return W.on("data",function(ne){ee.processChunk(ne)}),W.on("end",function(){ee.closedSource(ee.previous.streamInfo),ee._sources.length?ee.prepareNextSource():ee.end()}),W.on("error",function(ne){ee.error(ne)}),this},Y.prototype.resume=function(){return!!q.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},Y.prototype.error=function(W){var ee=this._sources;if(!q.prototype.error.call(this,W))return!1;for(var ne=0;ne<ee.length;ne++)try{ee[ne].error(W)}catch{}return!0},Y.prototype.lock=function(){q.prototype.lock.call(this);for(var W=this._sources,ee=0;ee<W.length;ee++)W[ee].lock()},I.exports=Y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(O,I,F){var z=O("../compressions"),L=O("./ZipFileWorker");F.generateWorker=function(U,q,G){var V=new L(q.streamFiles,G,q.platform,q.encodeFileName),Z=0;try{U.forEach(function(Y,W){Z++;var ee=(function(oe,le){var ue=oe||le,ce=z[ue];if(!ce)throw new Error(ue+" is not a valid compression method !");return ce})(W.options.compression,q.compression),ne=W.options.compressionOptions||q.compressionOptions||{},ie=W.dir,se=W.date;W._compressWorker(ee,ne).withStreamInfo("file",{name:Y,dir:ie,date:se,comment:W.comment||"",unixPermissions:W.unixPermissions,dosPermissions:W.dosPermissions}).pipe(V)}),V.entriesCount=Z}catch(Y){V.error(Y)}return V}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(O,I,F){function z(){if(!(this instanceof z))return new z;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var L=new z;for(var U in this)typeof this[U]!="function"&&(L[U]=this[U]);return L}}(z.prototype=O("./object")).loadAsync=O("./load"),z.support=O("./support"),z.defaults=O("./defaults"),z.version="3.10.1",z.loadAsync=function(L,U){return new z().loadAsync(L,U)},z.external=O("./external"),I.exports=z},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(O,I,F){var z=O("./utils"),L=O("./external"),U=O("./utf8"),q=O("./zipEntries"),G=O("./stream/Crc32Probe"),V=O("./nodejsUtils");function Z(Y){return new L.Promise(function(W,ee){var ne=Y.decompressed.getContentWorker().pipe(new G);ne.on("error",function(ie){ee(ie)}).on("end",function(){ne.streamInfo.crc32!==Y.decompressed.crc32?ee(new Error("Corrupted zip : CRC32 mismatch")):W()}).resume()})}I.exports=function(Y,W){var ee=this;return W=z.extend(W||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:U.utf8decode}),V.isNode&&V.isStream(Y)?L.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):z.prepareContent("the loaded zip file",Y,!0,W.optimizedBinaryString,W.base64).then(function(ne){var ie=new q(W);return ie.load(ne),ie}).then(function(ne){var ie=[L.Promise.resolve(ne)],se=ne.files;if(W.checkCRC32)for(var oe=0;oe<se.length;oe++)ie.push(Z(se[oe]));return L.Promise.all(ie)}).then(function(ne){for(var ie=ne.shift(),se=ie.files,oe=0;oe<se.length;oe++){var le=se[oe],ue=le.fileNameStr,ce=z.resolve(le.fileNameStr);ee.file(ce,le.decompressed,{binary:!0,optimizedBinaryString:!0,date:le.date,dir:le.dir,comment:le.fileCommentStr.length?le.fileCommentStr:null,unixPermissions:le.unixPermissions,dosPermissions:le.dosPermissions,createFolders:W.createFolders}),le.dir||(ee.file(ce).unsafeOriginalName=ue)}return ie.zipComment.length&&(ee.comment=ie.zipComment),ee})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(O,I,F){var z=O("../utils"),L=O("../stream/GenericWorker");function U(q,G){L.call(this,"Nodejs stream input adapter for "+q),this._upstreamEnded=!1,this._bindStream(G)}z.inherits(U,L),U.prototype._bindStream=function(q){var G=this;(this._stream=q).pause(),q.on("data",function(V){G.push({data:V,meta:{percent:0}})}).on("error",function(V){G.isPaused?this.generatedError=V:G.error(V)}).on("end",function(){G.isPaused?G._upstreamEnded=!0:G.end()})},U.prototype.pause=function(){return!!L.prototype.pause.call(this)&&(this._stream.pause(),!0)},U.prototype.resume=function(){return!!L.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},I.exports=U},{"../stream/GenericWorker":28,"../utils":32}],13:[function(O,I,F){var z=O("readable-stream").Readable;function L(U,q,G){z.call(this,q),this._helper=U;var V=this;U.on("data",function(Z,Y){V.push(Z)||V._helper.pause(),G&&G(Y)}).on("error",function(Z){V.emit("error",Z)}).on("end",function(){V.push(null)})}O("../utils").inherits(L,z),L.prototype._read=function(){this._helper.resume()},I.exports=L},{"../utils":32,"readable-stream":16}],14:[function(O,I,F){I.exports={isNode:typeof Buffer<"u",newBufferFrom:function(z,L){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(z,L);if(typeof z=="number")throw new Error('The "data" argument must not be a number');return new Buffer(z,L)},allocBuffer:function(z){if(Buffer.alloc)return Buffer.alloc(z);var L=new Buffer(z);return L.fill(0),L},isBuffer:function(z){return Buffer.isBuffer(z)},isStream:function(z){return z&&typeof z.on=="function"&&typeof z.pause=="function"&&typeof z.resume=="function"}}},{}],15:[function(O,I,F){function z(ce,fe,me){var he,pe=U.getTypeOf(fe),ge=U.extend(me||{},V);ge.date=ge.date||new Date,ge.compression!==null&&(ge.compression=ge.compression.toUpperCase()),typeof ge.unixPermissions=="string"&&(ge.unixPermissions=parseInt(ge.unixPermissions,8)),ge.unixPermissions&&16384&ge.unixPermissions&&(ge.dir=!0),ge.dosPermissions&&16&ge.dosPermissions&&(ge.dir=!0),ge.dir&&(ce=se(ce)),ge.createFolders&&(he=ie(ce))&&oe.call(this,he,!0);var _e=pe==="string"&&ge.binary===!1&&ge.base64===!1;me&&me.binary!==void 0||(ge.binary=!_e),(fe instanceof Z&&fe.uncompressedSize===0||ge.dir||!fe||fe.length===0)&&(ge.base64=!1,ge.binary=!0,fe="",ge.compression="STORE",pe="string");var ye=null;ye=fe instanceof Z||fe instanceof q?fe:ee.isNode&&ee.isStream(fe)?new ne(ce,fe):U.prepareContent(ce,fe,ge.binary,ge.optimizedBinaryString,ge.base64);var we=new Y(ce,ye,ge);this.files[ce]=we}var L=O("./utf8"),U=O("./utils"),q=O("./stream/GenericWorker"),G=O("./stream/StreamHelper"),V=O("./defaults"),Z=O("./compressedObject"),Y=O("./zipObject"),W=O("./generate"),ee=O("./nodejsUtils"),ne=O("./nodejs/NodejsStreamInputAdapter"),ie=function(ce){ce.slice(-1)==="/"&&(ce=ce.substring(0,ce.length-1));var fe=ce.lastIndexOf("/");return 0<fe?ce.substring(0,fe):""},se=function(ce){return ce.slice(-1)!=="/"&&(ce+="/"),ce},oe=function(ce,fe){return fe=fe!==void 0?fe:V.createFolders,ce=se(ce),this.files[ce]||z.call(this,ce,null,{dir:!0,createFolders:fe}),this.files[ce]};function le(ce){return Object.prototype.toString.call(ce)==="[object RegExp]"}var ue={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(ce){var fe,me,he;for(fe in this.files)he=this.files[fe],(me=fe.slice(this.root.length,fe.length))&&fe.slice(0,this.root.length)===this.root&&ce(me,he)},filter:function(ce){var fe=[];return this.forEach(function(me,he){ce(me,he)&&fe.push(he)}),fe},file:function(ce,fe,me){if(arguments.length!==1)return ce=this.root+ce,z.call(this,ce,fe,me),this;if(le(ce)){var he=ce;return this.filter(function(ge,_e){return!_e.dir&&he.test(ge)})}var pe=this.files[this.root+ce];return pe&&!pe.dir?pe:null},folder:function(ce){if(!ce)return this;if(le(ce))return this.filter(function(pe,ge){return ge.dir&&ce.test(pe)});var fe=this.root+ce,me=oe.call(this,fe),he=this.clone();return he.root=me.name,he},remove:function(ce){ce=this.root+ce;var fe=this.files[ce];if(fe||(ce.slice(-1)!=="/"&&(ce+="/"),fe=this.files[ce]),fe&&!fe.dir)delete this.files[ce];else for(var me=this.filter(function(pe,ge){return ge.name.slice(0,ce.length)===ce}),he=0;he<me.length;he++)delete this.files[me[he].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(ce){var fe,me={};try{if((me=U.extend(ce||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:L.utf8encode})).type=me.type.toLowerCase(),me.compression=me.compression.toUpperCase(),me.type==="binarystring"&&(me.type="string"),!me.type)throw new Error("No output type specified.");U.checkSupport(me.type),me.platform!=="darwin"&&me.platform!=="freebsd"&&me.platform!=="linux"&&me.platform!=="sunos"||(me.platform="UNIX"),me.platform==="win32"&&(me.platform="DOS");var he=me.comment||this.comment||"";fe=W.generateWorker(this,me,he)}catch(pe){(fe=new q("error")).error(pe)}return new G(fe,me.type||"string",me.mimeType)},generateAsync:function(ce,fe){return this.generateInternalStream(ce).accumulate(fe)},generateNodeStream:function(ce,fe){return(ce=ce||{}).type||(ce.type="nodebuffer"),this.generateInternalStream(ce).toNodejsStream(fe)}};I.exports=ue},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(O,I,F){I.exports=O("stream")},{stream:void 0}],17:[function(O,I,F){var z=O("./DataReader");function L(U){z.call(this,U);for(var q=0;q<this.data.length;q++)U[q]=255&U[q]}O("../utils").inherits(L,z),L.prototype.byteAt=function(U){return this.data[this.zero+U]},L.prototype.lastIndexOfSignature=function(U){for(var q=U.charCodeAt(0),G=U.charCodeAt(1),V=U.charCodeAt(2),Z=U.charCodeAt(3),Y=this.length-4;0<=Y;--Y)if(this.data[Y]===q&&this.data[Y+1]===G&&this.data[Y+2]===V&&this.data[Y+3]===Z)return Y-this.zero;return-1},L.prototype.readAndCheckSignature=function(U){var q=U.charCodeAt(0),G=U.charCodeAt(1),V=U.charCodeAt(2),Z=U.charCodeAt(3),Y=this.readData(4);return q===Y[0]&&G===Y[1]&&V===Y[2]&&Z===Y[3]},L.prototype.readData=function(U){if(this.checkOffset(U),U===0)return[];var q=this.data.slice(this.zero+this.index,this.zero+this.index+U);return this.index+=U,q},I.exports=L},{"../utils":32,"./DataReader":18}],18:[function(O,I,F){var z=O("../utils");function L(U){this.data=U,this.length=U.length,this.index=0,this.zero=0}L.prototype={checkOffset:function(U){this.checkIndex(this.index+U)},checkIndex:function(U){if(this.length<this.zero+U||U<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+U+"). Corrupted zip ?")},setIndex:function(U){this.checkIndex(U),this.index=U},skip:function(U){this.setIndex(this.index+U)},byteAt:function(){},readInt:function(U){var q,G=0;for(this.checkOffset(U),q=this.index+U-1;q>=this.index;q--)G=(G<<8)+this.byteAt(q);return this.index+=U,G},readString:function(U){return z.transformTo("string",this.readData(U))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var U=this.readInt(4);return new Date(Date.UTC(1980+(U>>25&127),(U>>21&15)-1,U>>16&31,U>>11&31,U>>5&63,(31&U)<<1))}},I.exports=L},{"../utils":32}],19:[function(O,I,F){var z=O("./Uint8ArrayReader");function L(U){z.call(this,U)}O("../utils").inherits(L,z),L.prototype.readData=function(U){this.checkOffset(U);var q=this.data.slice(this.zero+this.index,this.zero+this.index+U);return this.index+=U,q},I.exports=L},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(O,I,F){var z=O("./DataReader");function L(U){z.call(this,U)}O("../utils").inherits(L,z),L.prototype.byteAt=function(U){return this.data.charCodeAt(this.zero+U)},L.prototype.lastIndexOfSignature=function(U){return this.data.lastIndexOf(U)-this.zero},L.prototype.readAndCheckSignature=function(U){return U===this.readData(4)},L.prototype.readData=function(U){this.checkOffset(U);var q=this.data.slice(this.zero+this.index,this.zero+this.index+U);return this.index+=U,q},I.exports=L},{"../utils":32,"./DataReader":18}],21:[function(O,I,F){var z=O("./ArrayReader");function L(U){z.call(this,U)}O("../utils").inherits(L,z),L.prototype.readData=function(U){if(this.checkOffset(U),U===0)return new Uint8Array(0);var q=this.data.subarray(this.zero+this.index,this.zero+this.index+U);return this.index+=U,q},I.exports=L},{"../utils":32,"./ArrayReader":17}],22:[function(O,I,F){var z=O("../utils"),L=O("../support"),U=O("./ArrayReader"),q=O("./StringReader"),G=O("./NodeBufferReader"),V=O("./Uint8ArrayReader");I.exports=function(Z){var Y=z.getTypeOf(Z);return z.checkSupport(Y),Y!=="string"||L.uint8array?Y==="nodebuffer"?new G(Z):L.uint8array?new V(z.transformTo("uint8array",Z)):new U(z.transformTo("array",Z)):new q(Z)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(O,I,F){F.LOCAL_FILE_HEADER="PK",F.CENTRAL_FILE_HEADER="PK",F.CENTRAL_DIRECTORY_END="PK",F.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",F.ZIP64_CENTRAL_DIRECTORY_END="PK",F.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(O,I,F){var z=O("./GenericWorker"),L=O("../utils");function U(q){z.call(this,"ConvertWorker to "+q),this.destType=q}L.inherits(U,z),U.prototype.processChunk=function(q){this.push({data:L.transformTo(this.destType,q.data),meta:q.meta})},I.exports=U},{"../utils":32,"./GenericWorker":28}],25:[function(O,I,F){var z=O("./GenericWorker"),L=O("../crc32");function U(){z.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}O("../utils").inherits(U,z),U.prototype.processChunk=function(q){this.streamInfo.crc32=L(q.data,this.streamInfo.crc32||0),this.push(q)},I.exports=U},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(O,I,F){var z=O("../utils"),L=O("./GenericWorker");function U(q){L.call(this,"DataLengthProbe for "+q),this.propName=q,this.withStreamInfo(q,0)}z.inherits(U,L),U.prototype.processChunk=function(q){if(q){var G=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=G+q.data.length}L.prototype.processChunk.call(this,q)},I.exports=U},{"../utils":32,"./GenericWorker":28}],27:[function(O,I,F){var z=O("../utils"),L=O("./GenericWorker");function U(q){L.call(this,"DataWorker");var G=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,q.then(function(V){G.dataIsReady=!0,G.data=V,G.max=V&&V.length||0,G.type=z.getTypeOf(V),G.isPaused||G._tickAndRepeat()},function(V){G.error(V)})}z.inherits(U,L),U.prototype.cleanUp=function(){L.prototype.cleanUp.call(this),this.data=null},U.prototype.resume=function(){return!!L.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,z.delay(this._tickAndRepeat,[],this)),!0)},U.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(z.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},U.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var q=null,G=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":q=this.data.substring(this.index,G);break;case"uint8array":q=this.data.subarray(this.index,G);break;case"array":case"nodebuffer":q=this.data.slice(this.index,G)}return this.index=G,this.push({data:q,meta:{percent:this.max?this.index/this.max*100:0}})},I.exports=U},{"../utils":32,"./GenericWorker":28}],28:[function(O,I,F){function z(L){this.name=L||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}z.prototype={push:function(L){this.emit("data",L)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(L){this.emit("error",L)}return!0},error:function(L){return!this.isFinished&&(this.isPaused?this.generatedError=L:(this.isFinished=!0,this.emit("error",L),this.previous&&this.previous.error(L),this.cleanUp()),!0)},on:function(L,U){return this._listeners[L].push(U),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(L,U){if(this._listeners[L])for(var q=0;q<this._listeners[L].length;q++)this._listeners[L][q].call(this,U)},pipe:function(L){return L.registerPrevious(this)},registerPrevious:function(L){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=L.streamInfo,this.mergeStreamInfo(),this.previous=L;var U=this;return L.on("data",function(q){U.processChunk(q)}),L.on("end",function(){U.end()}),L.on("error",function(q){U.error(q)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var L=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),L=!0),this.previous&&this.previous.resume(),!L},flush:function(){},processChunk:function(L){this.push(L)},withStreamInfo:function(L,U){return this.extraStreamInfo[L]=U,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var L in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,L)&&(this.streamInfo[L]=this.extraStreamInfo[L])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var L="Worker "+this.name;return this.previous?this.previous+" -> "+L:L}},I.exports=z},{}],29:[function(O,I,F){var z=O("../utils"),L=O("./ConvertWorker"),U=O("./GenericWorker"),q=O("../base64"),G=O("../support"),V=O("../external"),Z=null;if(G.nodestream)try{Z=O("../nodejs/NodejsStreamOutputAdapter")}catch{}function Y(ee,ne){return new V.Promise(function(ie,se){var oe=[],le=ee._internalType,ue=ee._outputType,ce=ee._mimeType;ee.on("data",function(fe,me){oe.push(fe),ne&&ne(me)}).on("error",function(fe){oe=[],se(fe)}).on("end",function(){try{var fe=(function(me,he,pe){switch(me){case"blob":return z.newBlob(z.transformTo("arraybuffer",he),pe);case"base64":return q.encode(he);default:return z.transformTo(me,he)}})(ue,(function(me,he){var pe,ge=0,_e=null,ye=0;for(pe=0;pe<he.length;pe++)ye+=he[pe].length;switch(me){case"string":return he.join("");case"array":return Array.prototype.concat.apply([],he);case"uint8array":for(_e=new Uint8Array(ye),pe=0;pe<he.length;pe++)_e.set(he[pe],ge),ge+=he[pe].length;return _e;case"nodebuffer":return Buffer.concat(he);default:throw new Error("concat : unsupported type '"+me+"'")}})(le,oe),ce);ie(fe)}catch(me){se(me)}oe=[]}).resume()})}function W(ee,ne,ie){var se=ne;switch(ne){case"blob":case"arraybuffer":se="uint8array";break;case"base64":se="string"}try{this._internalType=se,this._outputType=ne,this._mimeType=ie,z.checkSupport(se),this._worker=ee.pipe(new L(se)),ee.lock()}catch(oe){this._worker=new U("error"),this._worker.error(oe)}}W.prototype={accumulate:function(ee){return Y(this,ee)},on:function(ee,ne){var ie=this;return ee==="data"?this._worker.on(ee,function(se){ne.call(ie,se.data,se.meta)}):this._worker.on(ee,function(){z.delay(ne,arguments,ie)}),this},resume:function(){return z.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(ee){if(z.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new Z(this,{objectMode:this._outputType!=="nodebuffer"},ee)}},I.exports=W},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(O,I,F){if(F.base64=!0,F.array=!0,F.string=!0,F.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",F.nodebuffer=typeof Buffer<"u",F.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")F.blob=!1;else{var z=new ArrayBuffer(0);try{F.blob=new Blob([z],{type:"application/zip"}).size===0}catch{try{var L=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);L.append(z),F.blob=L.getBlob("application/zip").size===0}catch{F.blob=!1}}}try{F.nodestream=!!O("readable-stream").Readable}catch{F.nodestream=!1}},{"readable-stream":16}],31:[function(O,I,F){for(var z=O("./utils"),L=O("./support"),U=O("./nodejsUtils"),q=O("./stream/GenericWorker"),G=new Array(256),V=0;V<256;V++)G[V]=252<=V?6:248<=V?5:240<=V?4:224<=V?3:192<=V?2:1;G[254]=G[254]=1;function Z(){q.call(this,"utf-8 decode"),this.leftOver=null}function Y(){q.call(this,"utf-8 encode")}F.utf8encode=function(W){return L.nodebuffer?U.newBufferFrom(W,"utf-8"):(function(ee){var ne,ie,se,oe,le,ue=ee.length,ce=0;for(oe=0;oe<ue;oe++)(64512&(ie=ee.charCodeAt(oe)))==55296&&oe+1<ue&&(64512&(se=ee.charCodeAt(oe+1)))==56320&&(ie=65536+(ie-55296<<10)+(se-56320),oe++),ce+=ie<128?1:ie<2048?2:ie<65536?3:4;for(ne=L.uint8array?new Uint8Array(ce):new Array(ce),oe=le=0;le<ce;oe++)(64512&(ie=ee.charCodeAt(oe)))==55296&&oe+1<ue&&(64512&(se=ee.charCodeAt(oe+1)))==56320&&(ie=65536+(ie-55296<<10)+(se-56320),oe++),ie<128?ne[le++]=ie:(ie<2048?ne[le++]=192|ie>>>6:(ie<65536?ne[le++]=224|ie>>>12:(ne[le++]=240|ie>>>18,ne[le++]=128|ie>>>12&63),ne[le++]=128|ie>>>6&63),ne[le++]=128|63&ie);return ne})(W)},F.utf8decode=function(W){return L.nodebuffer?z.transformTo("nodebuffer",W).toString("utf-8"):(function(ee){var ne,ie,se,oe,le=ee.length,ue=new Array(2*le);for(ne=ie=0;ne<le;)if((se=ee[ne++])<128)ue[ie++]=se;else if(4<(oe=G[se]))ue[ie++]=65533,ne+=oe-1;else{for(se&=oe===2?31:oe===3?15:7;1<oe&&ne<le;)se=se<<6|63&ee[ne++],oe--;1<oe?ue[ie++]=65533:se<65536?ue[ie++]=se:(se-=65536,ue[ie++]=55296|se>>10&1023,ue[ie++]=56320|1023&se)}return ue.length!==ie&&(ue.subarray?ue=ue.subarray(0,ie):ue.length=ie),z.applyFromCharCode(ue)})(W=z.transformTo(L.uint8array?"uint8array":"array",W))},z.inherits(Z,q),Z.prototype.processChunk=function(W){var ee=z.transformTo(L.uint8array?"uint8array":"array",W.data);if(this.leftOver&&this.leftOver.length){if(L.uint8array){var ne=ee;(ee=new Uint8Array(ne.length+this.leftOver.length)).set(this.leftOver,0),ee.set(ne,this.leftOver.length)}else ee=this.leftOver.concat(ee);this.leftOver=null}var ie=(function(oe,le){var ue;for((le=le||oe.length)>oe.length&&(le=oe.length),ue=le-1;0<=ue&&(192&oe[ue])==128;)ue--;return ue<0||ue===0?le:ue+G[oe[ue]]>le?ue:le})(ee),se=ee;ie!==ee.length&&(L.uint8array?(se=ee.subarray(0,ie),this.leftOver=ee.subarray(ie,ee.length)):(se=ee.slice(0,ie),this.leftOver=ee.slice(ie,ee.length))),this.push({data:F.utf8decode(se),meta:W.meta})},Z.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:F.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},F.Utf8DecodeWorker=Z,z.inherits(Y,q),Y.prototype.processChunk=function(W){this.push({data:F.utf8encode(W.data),meta:W.meta})},F.Utf8EncodeWorker=Y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(O,I,F){var z=O("./support"),L=O("./base64"),U=O("./nodejsUtils"),q=O("./external");function G(ne){return ne}function V(ne,ie){for(var se=0;se<ne.length;++se)ie[se]=255&ne.charCodeAt(se);return ie}O("setimmediate"),F.newBlob=function(ne,ie){F.checkSupport("blob");try{return new Blob([ne],{type:ie})}catch{try{var se=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return se.append(ne),se.getBlob(ie)}catch{throw new Error("Bug : can't construct the Blob.")}}};var Z={stringifyByChunk:function(ne,ie,se){var oe=[],le=0,ue=ne.length;if(ue<=se)return String.fromCharCode.apply(null,ne);for(;le<ue;)ie==="array"||ie==="nodebuffer"?oe.push(String.fromCharCode.apply(null,ne.slice(le,Math.min(le+se,ue)))):oe.push(String.fromCharCode.apply(null,ne.subarray(le,Math.min(le+se,ue)))),le+=se;return oe.join("")},stringifyByChar:function(ne){for(var ie="",se=0;se<ne.length;se++)ie+=String.fromCharCode(ne[se]);return ie},applyCanBeUsed:{uint8array:(function(){try{return z.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return z.nodebuffer&&String.fromCharCode.apply(null,U.allocBuffer(1)).length===1}catch{return!1}})()}};function Y(ne){var ie=65536,se=F.getTypeOf(ne),oe=!0;if(se==="uint8array"?oe=Z.applyCanBeUsed.uint8array:se==="nodebuffer"&&(oe=Z.applyCanBeUsed.nodebuffer),oe)for(;1<ie;)try{return Z.stringifyByChunk(ne,se,ie)}catch{ie=Math.floor(ie/2)}return Z.stringifyByChar(ne)}function W(ne,ie){for(var se=0;se<ne.length;se++)ie[se]=ne[se];return ie}F.applyFromCharCode=Y;var ee={};ee.string={string:G,array:function(ne){return V(ne,new Array(ne.length))},arraybuffer:function(ne){return ee.string.uint8array(ne).buffer},uint8array:function(ne){return V(ne,new Uint8Array(ne.length))},nodebuffer:function(ne){return V(ne,U.allocBuffer(ne.length))}},ee.array={string:Y,array:G,arraybuffer:function(ne){return new Uint8Array(ne).buffer},uint8array:function(ne){return new Uint8Array(ne)},nodebuffer:function(ne){return U.newBufferFrom(ne)}},ee.arraybuffer={string:function(ne){return Y(new Uint8Array(ne))},array:function(ne){return W(new Uint8Array(ne),new Array(ne.byteLength))},arraybuffer:G,uint8array:function(ne){return new Uint8Array(ne)},nodebuffer:function(ne){return U.newBufferFrom(new Uint8Array(ne))}},ee.uint8array={string:Y,array:function(ne){return W(ne,new Array(ne.length))},arraybuffer:function(ne){return ne.buffer},uint8array:G,nodebuffer:function(ne){return U.newBufferFrom(ne)}},ee.nodebuffer={string:Y,array:function(ne){return W(ne,new Array(ne.length))},arraybuffer:function(ne){return ee.nodebuffer.uint8array(ne).buffer},uint8array:function(ne){return W(ne,new Uint8Array(ne.length))},nodebuffer:G},F.transformTo=function(ne,ie){if(ie=ie||"",!ne)return ie;F.checkSupport(ne);var se=F.getTypeOf(ie);return ee[se][ne](ie)},F.resolve=function(ne){for(var ie=ne.split("/"),se=[],oe=0;oe<ie.length;oe++){var le=ie[oe];le==="."||le===""&&oe!==0&&oe!==ie.length-1||(le===".."?se.pop():se.push(le))}return se.join("/")},F.getTypeOf=function(ne){return typeof ne=="string"?"string":Object.prototype.toString.call(ne)==="[object Array]"?"array":z.nodebuffer&&U.isBuffer(ne)?"nodebuffer":z.uint8array&&ne instanceof Uint8Array?"uint8array":z.arraybuffer&&ne instanceof ArrayBuffer?"arraybuffer":void 0},F.checkSupport=function(ne){if(!z[ne.toLowerCase()])throw new Error(ne+" is not supported by this platform")},F.MAX_VALUE_16BITS=65535,F.MAX_VALUE_32BITS=-1,F.pretty=function(ne){var ie,se,oe="";for(se=0;se<(ne||"").length;se++)oe+="\\x"+((ie=ne.charCodeAt(se))<16?"0":"")+ie.toString(16).toUpperCase();return oe},F.delay=function(ne,ie,se){setImmediate(function(){ne.apply(se||null,ie||[])})},F.inherits=function(ne,ie){function se(){}se.prototype=ie.prototype,ne.prototype=new se},F.extend=function(){var ne,ie,se={};for(ne=0;ne<arguments.length;ne++)for(ie in arguments[ne])Object.prototype.hasOwnProperty.call(arguments[ne],ie)&&se[ie]===void 0&&(se[ie]=arguments[ne][ie]);return se},F.prepareContent=function(ne,ie,se,oe,le){return q.Promise.resolve(ie).then(function(ue){return z.blob&&(ue instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(ue))!==-1)&&typeof FileReader<"u"?new q.Promise(function(ce,fe){var me=new FileReader;me.onload=function(he){ce(he.target.result)},me.onerror=function(he){fe(he.target.error)},me.readAsArrayBuffer(ue)}):ue}).then(function(ue){var ce=F.getTypeOf(ue);return ce?(ce==="arraybuffer"?ue=F.transformTo("uint8array",ue):ce==="string"&&(le?ue=L.decode(ue):se&&oe!==!0&&(ue=(function(fe){return V(fe,z.uint8array?new Uint8Array(fe.length):new Array(fe.length))})(ue))),ue):q.Promise.reject(new Error("Can't read the data of '"+ne+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(O,I,F){var z=O("./reader/readerFor"),L=O("./utils"),U=O("./signature"),q=O("./zipEntry"),G=O("./support");function V(Z){this.files=[],this.loadOptions=Z}V.prototype={checkSignature:function(Z){if(!this.reader.readAndCheckSignature(Z)){this.reader.index-=4;var Y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+L.pretty(Y)+", expected "+L.pretty(Z)+")")}},isSignature:function(Z,Y){var W=this.reader.index;this.reader.setIndex(Z);var ee=this.reader.readString(4)===Y;return this.reader.setIndex(W),ee},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var Z=this.reader.readData(this.zipCommentLength),Y=G.uint8array?"uint8array":"array",W=L.transformTo(Y,Z);this.zipComment=this.loadOptions.decodeFileName(W)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var Z,Y,W,ee=this.zip64EndOfCentralSize-44;0<ee;)Z=this.reader.readInt(2),Y=this.reader.readInt(4),W=this.reader.readData(Y),this.zip64ExtensibleData[Z]={id:Z,length:Y,value:W}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var Z,Y;for(Z=0;Z<this.files.length;Z++)Y=this.files[Z],this.reader.setIndex(Y.localHeaderOffset),this.checkSignature(U.LOCAL_FILE_HEADER),Y.readLocalPart(this.reader),Y.handleUTF8(),Y.processAttributes()},readCentralDir:function(){var Z;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(U.CENTRAL_FILE_HEADER);)(Z=new q({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(Z);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var Z=this.reader.lastIndexOfSignature(U.CENTRAL_DIRECTORY_END);if(Z<0)throw this.isSignature(0,U.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(Z);var Y=Z;if(this.checkSignature(U.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===L.MAX_VALUE_16BITS||this.diskWithCentralDirStart===L.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===L.MAX_VALUE_16BITS||this.centralDirRecords===L.MAX_VALUE_16BITS||this.centralDirSize===L.MAX_VALUE_32BITS||this.centralDirOffset===L.MAX_VALUE_32BITS){if(this.zip64=!0,(Z=this.reader.lastIndexOfSignature(U.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(Z),this.checkSignature(U.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,U.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(U.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(U.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var W=this.centralDirOffset+this.centralDirSize;this.zip64&&(W+=20,W+=12+this.zip64EndOfCentralSize);var ee=Y-W;if(0<ee)this.isSignature(Y,U.CENTRAL_FILE_HEADER)||(this.reader.zero=ee);else if(ee<0)throw new Error("Corrupted zip: missing "+Math.abs(ee)+" bytes.")},prepareReader:function(Z){this.reader=z(Z)},load:function(Z){this.prepareReader(Z),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},I.exports=V},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(O,I,F){var z=O("./reader/readerFor"),L=O("./utils"),U=O("./compressedObject"),q=O("./crc32"),G=O("./utf8"),V=O("./compressions"),Z=O("./support");function Y(W,ee){this.options=W,this.loadOptions=ee}Y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(W){var ee,ne;if(W.skip(22),this.fileNameLength=W.readInt(2),ne=W.readInt(2),this.fileName=W.readData(this.fileNameLength),W.skip(ne),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((ee=(function(ie){for(var se in V)if(Object.prototype.hasOwnProperty.call(V,se)&&V[se].magic===ie)return V[se];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+L.pretty(this.compressionMethod)+" unknown (inner file : "+L.transformTo("string",this.fileName)+")");this.decompressed=new U(this.compressedSize,this.uncompressedSize,this.crc32,ee,W.readData(this.compressedSize))},readCentralPart:function(W){this.versionMadeBy=W.readInt(2),W.skip(2),this.bitFlag=W.readInt(2),this.compressionMethod=W.readString(2),this.date=W.readDate(),this.crc32=W.readInt(4),this.compressedSize=W.readInt(4),this.uncompressedSize=W.readInt(4);var ee=W.readInt(2);if(this.extraFieldsLength=W.readInt(2),this.fileCommentLength=W.readInt(2),this.diskNumberStart=W.readInt(2),this.internalFileAttributes=W.readInt(2),this.externalFileAttributes=W.readInt(4),this.localHeaderOffset=W.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");W.skip(ee),this.readExtraFields(W),this.parseZIP64ExtraField(W),this.fileComment=W.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var W=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),W==0&&(this.dosPermissions=63&this.externalFileAttributes),W==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var W=z(this.extraFields[1].value);this.uncompressedSize===L.MAX_VALUE_32BITS&&(this.uncompressedSize=W.readInt(8)),this.compressedSize===L.MAX_VALUE_32BITS&&(this.compressedSize=W.readInt(8)),this.localHeaderOffset===L.MAX_VALUE_32BITS&&(this.localHeaderOffset=W.readInt(8)),this.diskNumberStart===L.MAX_VALUE_32BITS&&(this.diskNumberStart=W.readInt(4))}},readExtraFields:function(W){var ee,ne,ie,se=W.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});W.index+4<se;)ee=W.readInt(2),ne=W.readInt(2),ie=W.readData(ne),this.extraFields[ee]={id:ee,length:ne,value:ie};W.setIndex(se)},handleUTF8:function(){var W=Z.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=G.utf8decode(this.fileName),this.fileCommentStr=G.utf8decode(this.fileComment);else{var ee=this.findExtraFieldUnicodePath();if(ee!==null)this.fileNameStr=ee;else{var ne=L.transformTo(W,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(ne)}var ie=this.findExtraFieldUnicodeComment();if(ie!==null)this.fileCommentStr=ie;else{var se=L.transformTo(W,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(se)}}},findExtraFieldUnicodePath:function(){var W=this.extraFields[28789];if(W){var ee=z(W.value);return ee.readInt(1)!==1||q(this.fileName)!==ee.readInt(4)?null:G.utf8decode(ee.readData(W.length-5))}return null},findExtraFieldUnicodeComment:function(){var W=this.extraFields[25461];if(W){var ee=z(W.value);return ee.readInt(1)!==1||q(this.fileComment)!==ee.readInt(4)?null:G.utf8decode(ee.readData(W.length-5))}return null}},I.exports=Y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(O,I,F){function z(ee,ne,ie){this.name=ee,this.dir=ie.dir,this.date=ie.date,this.comment=ie.comment,this.unixPermissions=ie.unixPermissions,this.dosPermissions=ie.dosPermissions,this._data=ne,this._dataBinary=ie.binary,this.options={compression:ie.compression,compressionOptions:ie.compressionOptions}}var L=O("./stream/StreamHelper"),U=O("./stream/DataWorker"),q=O("./utf8"),G=O("./compressedObject"),V=O("./stream/GenericWorker");z.prototype={internalStream:function(ee){var ne=null,ie="string";try{if(!ee)throw new Error("No output type specified.");var se=(ie=ee.toLowerCase())==="string"||ie==="text";ie!=="binarystring"&&ie!=="text"||(ie="string"),ne=this._decompressWorker();var oe=!this._dataBinary;oe&&!se&&(ne=ne.pipe(new q.Utf8EncodeWorker)),!oe&&se&&(ne=ne.pipe(new q.Utf8DecodeWorker))}catch(le){(ne=new V("error")).error(le)}return new L(ne,ie,"")},async:function(ee,ne){return this.internalStream(ee).accumulate(ne)},nodeStream:function(ee,ne){return this.internalStream(ee||"nodebuffer").toNodejsStream(ne)},_compressWorker:function(ee,ne){if(this._data instanceof G&&this._data.compression.magic===ee.magic)return this._data.getCompressedWorker();var ie=this._decompressWorker();return this._dataBinary||(ie=ie.pipe(new q.Utf8EncodeWorker)),G.createWorkerFrom(ie,ee,ne)},_decompressWorker:function(){return this._data instanceof G?this._data.getContentWorker():this._data instanceof V?this._data:new U(this._data)}};for(var Z=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},W=0;W<Z.length;W++)z.prototype[Z[W]]=Y;I.exports=z},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(O,I,F){(function(z){var L,U,q=z.MutationObserver||z.WebKitMutationObserver;if(q){var G=0,V=new q(ee),Z=z.document.createTextNode("");V.observe(Z,{characterData:!0}),L=function(){Z.data=G=++G%2}}else if(z.setImmediate||z.MessageChannel===void 0)L="document"in z&&"onreadystatechange"in z.document.createElement("script")?function(){var ne=z.document.createElement("script");ne.onreadystatechange=function(){ee(),ne.onreadystatechange=null,ne.parentNode.removeChild(ne),ne=null},z.document.documentElement.appendChild(ne)}:function(){setTimeout(ee,0)};else{var Y=new z.MessageChannel;Y.port1.onmessage=ee,L=function(){Y.port2.postMessage(0)}}var W=[];function ee(){var ne,ie;U=!0;for(var se=W.length;se;){for(ie=W,W=[],ne=-1;++ne<se;)ie[ne]();se=W.length}U=!1}I.exports=function(ne){W.push(ne)!==1||U||L()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(O,I,F){var z=O("immediate");function L(){}var U={},q=["REJECTED"],G=["FULFILLED"],V=["PENDING"];function Z(se){if(typeof se!="function")throw new TypeError("resolver must be a function");this.state=V,this.queue=[],this.outcome=void 0,se!==L&&ne(this,se)}function Y(se,oe,le){this.promise=se,typeof oe=="function"&&(this.onFulfilled=oe,this.callFulfilled=this.otherCallFulfilled),typeof le=="function"&&(this.onRejected=le,this.callRejected=this.otherCallRejected)}function W(se,oe,le){z(function(){var ue;try{ue=oe(le)}catch(ce){return U.reject(se,ce)}ue===se?U.reject(se,new TypeError("Cannot resolve promise with itself")):U.resolve(se,ue)})}function ee(se){var oe=se&&se.then;if(se&&(typeof se=="object"||typeof se=="function")&&typeof oe=="function")return function(){oe.apply(se,arguments)}}function ne(se,oe){var le=!1;function ue(me){le||(le=!0,U.reject(se,me))}function ce(me){le||(le=!0,U.resolve(se,me))}var fe=ie(function(){oe(ce,ue)});fe.status==="error"&&ue(fe.value)}function ie(se,oe){var le={};try{le.value=se(oe),le.status="success"}catch(ue){le.status="error",le.value=ue}return le}(I.exports=Z).prototype.finally=function(se){if(typeof se!="function")return this;var oe=this.constructor;return this.then(function(le){return oe.resolve(se()).then(function(){return le})},function(le){return oe.resolve(se()).then(function(){throw le})})},Z.prototype.catch=function(se){return this.then(null,se)},Z.prototype.then=function(se,oe){if(typeof se!="function"&&this.state===G||typeof oe!="function"&&this.state===q)return this;var le=new this.constructor(L);return this.state!==V?W(le,this.state===G?se:oe,this.outcome):this.queue.push(new Y(le,se,oe)),le},Y.prototype.callFulfilled=function(se){U.resolve(this.promise,se)},Y.prototype.otherCallFulfilled=function(se){W(this.promise,this.onFulfilled,se)},Y.prototype.callRejected=function(se){U.reject(this.promise,se)},Y.prototype.otherCallRejected=function(se){W(this.promise,this.onRejected,se)},U.resolve=function(se,oe){var le=ie(ee,oe);if(le.status==="error")return U.reject(se,le.value);var ue=le.value;if(ue)ne(se,ue);else{se.state=G,se.outcome=oe;for(var ce=-1,fe=se.queue.length;++ce<fe;)se.queue[ce].callFulfilled(oe)}return se},U.reject=function(se,oe){se.state=q,se.outcome=oe;for(var le=-1,ue=se.queue.length;++le<ue;)se.queue[le].callRejected(oe);return se},Z.resolve=function(se){return se instanceof this?se:U.resolve(new this(L),se)},Z.reject=function(se){var oe=new this(L);return U.reject(oe,se)},Z.all=function(se){var oe=this;if(Object.prototype.toString.call(se)!=="[object Array]")return this.reject(new TypeError("must be an array"));var le=se.length,ue=!1;if(!le)return this.resolve([]);for(var ce=new Array(le),fe=0,me=-1,he=new this(L);++me<le;)pe(se[me],me);return he;function pe(ge,_e){oe.resolve(ge).then(function(ye){ce[_e]=ye,++fe!==le||ue||(ue=!0,U.resolve(he,ce))},function(ye){ue||(ue=!0,U.reject(he,ye))})}},Z.race=function(se){var oe=this;if(Object.prototype.toString.call(se)!=="[object Array]")return this.reject(new TypeError("must be an array"));var le=se.length,ue=!1;if(!le)return this.resolve([]);for(var ce=-1,fe=new this(L);++ce<le;)me=se[ce],oe.resolve(me).then(function(he){ue||(ue=!0,U.resolve(fe,he))},function(he){ue||(ue=!0,U.reject(fe,he))});var me;return fe}},{immediate:36}],38:[function(O,I,F){var z={};(0,O("./lib/utils/common").assign)(z,O("./lib/deflate"),O("./lib/inflate"),O("./lib/zlib/constants")),I.exports=z},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(O,I,F){var z=O("./zlib/deflate"),L=O("./utils/common"),U=O("./utils/strings"),q=O("./zlib/messages"),G=O("./zlib/zstream"),V=Object.prototype.toString,Z=0,Y=-1,W=0,ee=8;function ne(se){if(!(this instanceof ne))return new ne(se);this.options=L.assign({level:Y,method:ee,chunkSize:16384,windowBits:15,memLevel:8,strategy:W,to:""},se||{});var oe=this.options;oe.raw&&0<oe.windowBits?oe.windowBits=-oe.windowBits:oe.gzip&&0<oe.windowBits&&oe.windowBits<16&&(oe.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new G,this.strm.avail_out=0;var le=z.deflateInit2(this.strm,oe.level,oe.method,oe.windowBits,oe.memLevel,oe.strategy);if(le!==Z)throw new Error(q[le]);if(oe.header&&z.deflateSetHeader(this.strm,oe.header),oe.dictionary){var ue;if(ue=typeof oe.dictionary=="string"?U.string2buf(oe.dictionary):V.call(oe.dictionary)==="[object ArrayBuffer]"?new Uint8Array(oe.dictionary):oe.dictionary,(le=z.deflateSetDictionary(this.strm,ue))!==Z)throw new Error(q[le]);this._dict_set=!0}}function ie(se,oe){var le=new ne(oe);if(le.push(se,!0),le.err)throw le.msg||q[le.err];return le.result}ne.prototype.push=function(se,oe){var le,ue,ce=this.strm,fe=this.options.chunkSize;if(this.ended)return!1;ue=oe===~~oe?oe:oe===!0?4:0,typeof se=="string"?ce.input=U.string2buf(se):V.call(se)==="[object ArrayBuffer]"?ce.input=new Uint8Array(se):ce.input=se,ce.next_in=0,ce.avail_in=ce.input.length;do{if(ce.avail_out===0&&(ce.output=new L.Buf8(fe),ce.next_out=0,ce.avail_out=fe),(le=z.deflate(ce,ue))!==1&&le!==Z)return this.onEnd(le),!(this.ended=!0);ce.avail_out!==0&&(ce.avail_in!==0||ue!==4&&ue!==2)||(this.options.to==="string"?this.onData(U.buf2binstring(L.shrinkBuf(ce.output,ce.next_out))):this.onData(L.shrinkBuf(ce.output,ce.next_out)))}while((0<ce.avail_in||ce.avail_out===0)&&le!==1);return ue===4?(le=z.deflateEnd(this.strm),this.onEnd(le),this.ended=!0,le===Z):ue!==2||(this.onEnd(Z),!(ce.avail_out=0))},ne.prototype.onData=function(se){this.chunks.push(se)},ne.prototype.onEnd=function(se){se===Z&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=L.flattenChunks(this.chunks)),this.chunks=[],this.err=se,this.msg=this.strm.msg},F.Deflate=ne,F.deflate=ie,F.deflateRaw=function(se,oe){return(oe=oe||{}).raw=!0,ie(se,oe)},F.gzip=function(se,oe){return(oe=oe||{}).gzip=!0,ie(se,oe)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(O,I,F){var z=O("./zlib/inflate"),L=O("./utils/common"),U=O("./utils/strings"),q=O("./zlib/constants"),G=O("./zlib/messages"),V=O("./zlib/zstream"),Z=O("./zlib/gzheader"),Y=Object.prototype.toString;function W(ne){if(!(this instanceof W))return new W(ne);this.options=L.assign({chunkSize:16384,windowBits:0,to:""},ne||{});var ie=this.options;ie.raw&&0<=ie.windowBits&&ie.windowBits<16&&(ie.windowBits=-ie.windowBits,ie.windowBits===0&&(ie.windowBits=-15)),!(0<=ie.windowBits&&ie.windowBits<16)||ne&&ne.windowBits||(ie.windowBits+=32),15<ie.windowBits&&ie.windowBits<48&&(15&ie.windowBits)==0&&(ie.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new V,this.strm.avail_out=0;var se=z.inflateInit2(this.strm,ie.windowBits);if(se!==q.Z_OK)throw new Error(G[se]);this.header=new Z,z.inflateGetHeader(this.strm,this.header)}function ee(ne,ie){var se=new W(ie);if(se.push(ne,!0),se.err)throw se.msg||G[se.err];return se.result}W.prototype.push=function(ne,ie){var se,oe,le,ue,ce,fe,me=this.strm,he=this.options.chunkSize,pe=this.options.dictionary,ge=!1;if(this.ended)return!1;oe=ie===~~ie?ie:ie===!0?q.Z_FINISH:q.Z_NO_FLUSH,typeof ne=="string"?me.input=U.binstring2buf(ne):Y.call(ne)==="[object ArrayBuffer]"?me.input=new Uint8Array(ne):me.input=ne,me.next_in=0,me.avail_in=me.input.length;do{if(me.avail_out===0&&(me.output=new L.Buf8(he),me.next_out=0,me.avail_out=he),(se=z.inflate(me,q.Z_NO_FLUSH))===q.Z_NEED_DICT&&pe&&(fe=typeof pe=="string"?U.string2buf(pe):Y.call(pe)==="[object ArrayBuffer]"?new Uint8Array(pe):pe,se=z.inflateSetDictionary(this.strm,fe)),se===q.Z_BUF_ERROR&&ge===!0&&(se=q.Z_OK,ge=!1),se!==q.Z_STREAM_END&&se!==q.Z_OK)return this.onEnd(se),!(this.ended=!0);me.next_out&&(me.avail_out!==0&&se!==q.Z_STREAM_END&&(me.avail_in!==0||oe!==q.Z_FINISH&&oe!==q.Z_SYNC_FLUSH)||(this.options.to==="string"?(le=U.utf8border(me.output,me.next_out),ue=me.next_out-le,ce=U.buf2string(me.output,le),me.next_out=ue,me.avail_out=he-ue,ue&&L.arraySet(me.output,me.output,le,ue,0),this.onData(ce)):this.onData(L.shrinkBuf(me.output,me.next_out)))),me.avail_in===0&&me.avail_out===0&&(ge=!0)}while((0<me.avail_in||me.avail_out===0)&&se!==q.Z_STREAM_END);return se===q.Z_STREAM_END&&(oe=q.Z_FINISH),oe===q.Z_FINISH?(se=z.inflateEnd(this.strm),this.onEnd(se),this.ended=!0,se===q.Z_OK):oe!==q.Z_SYNC_FLUSH||(this.onEnd(q.Z_OK),!(me.avail_out=0))},W.prototype.onData=function(ne){this.chunks.push(ne)},W.prototype.onEnd=function(ne){ne===q.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=L.flattenChunks(this.chunks)),this.chunks=[],this.err=ne,this.msg=this.strm.msg},F.Inflate=W,F.inflate=ee,F.inflateRaw=function(ne,ie){return(ie=ie||{}).raw=!0,ee(ne,ie)},F.ungzip=ee},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(O,I,F){var z=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";F.assign=function(q){for(var G=Array.prototype.slice.call(arguments,1);G.length;){var V=G.shift();if(V){if(typeof V!="object")throw new TypeError(V+"must be non-object");for(var Z in V)V.hasOwnProperty(Z)&&(q[Z]=V[Z])}}return q},F.shrinkBuf=function(q,G){return q.length===G?q:q.subarray?q.subarray(0,G):(q.length=G,q)};var L={arraySet:function(q,G,V,Z,Y){if(G.subarray&&q.subarray)q.set(G.subarray(V,V+Z),Y);else for(var W=0;W<Z;W++)q[Y+W]=G[V+W]},flattenChunks:function(q){var G,V,Z,Y,W,ee;for(G=Z=0,V=q.length;G<V;G++)Z+=q[G].length;for(ee=new Uint8Array(Z),G=Y=0,V=q.length;G<V;G++)W=q[G],ee.set(W,Y),Y+=W.length;return ee}},U={arraySet:function(q,G,V,Z,Y){for(var W=0;W<Z;W++)q[Y+W]=G[V+W]},flattenChunks:function(q){return[].concat.apply([],q)}};F.setTyped=function(q){q?(F.Buf8=Uint8Array,F.Buf16=Uint16Array,F.Buf32=Int32Array,F.assign(F,L)):(F.Buf8=Array,F.Buf16=Array,F.Buf32=Array,F.assign(F,U))},F.setTyped(z)},{}],42:[function(O,I,F){var z=O("./common"),L=!0,U=!0;try{String.fromCharCode.apply(null,[0])}catch{L=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{U=!1}for(var q=new z.Buf8(256),G=0;G<256;G++)q[G]=252<=G?6:248<=G?5:240<=G?4:224<=G?3:192<=G?2:1;function V(Z,Y){if(Y<65537&&(Z.subarray&&U||!Z.subarray&&L))return String.fromCharCode.apply(null,z.shrinkBuf(Z,Y));for(var W="",ee=0;ee<Y;ee++)W+=String.fromCharCode(Z[ee]);return W}q[254]=q[254]=1,F.string2buf=function(Z){var Y,W,ee,ne,ie,se=Z.length,oe=0;for(ne=0;ne<se;ne++)(64512&(W=Z.charCodeAt(ne)))==55296&&ne+1<se&&(64512&(ee=Z.charCodeAt(ne+1)))==56320&&(W=65536+(W-55296<<10)+(ee-56320),ne++),oe+=W<128?1:W<2048?2:W<65536?3:4;for(Y=new z.Buf8(oe),ne=ie=0;ie<oe;ne++)(64512&(W=Z.charCodeAt(ne)))==55296&&ne+1<se&&(64512&(ee=Z.charCodeAt(ne+1)))==56320&&(W=65536+(W-55296<<10)+(ee-56320),ne++),W<128?Y[ie++]=W:(W<2048?Y[ie++]=192|W>>>6:(W<65536?Y[ie++]=224|W>>>12:(Y[ie++]=240|W>>>18,Y[ie++]=128|W>>>12&63),Y[ie++]=128|W>>>6&63),Y[ie++]=128|63&W);return Y},F.buf2binstring=function(Z){return V(Z,Z.length)},F.binstring2buf=function(Z){for(var Y=new z.Buf8(Z.length),W=0,ee=Y.length;W<ee;W++)Y[W]=Z.charCodeAt(W);return Y},F.buf2string=function(Z,Y){var W,ee,ne,ie,se=Y||Z.length,oe=new Array(2*se);for(W=ee=0;W<se;)if((ne=Z[W++])<128)oe[ee++]=ne;else if(4<(ie=q[ne]))oe[ee++]=65533,W+=ie-1;else{for(ne&=ie===2?31:ie===3?15:7;1<ie&&W<se;)ne=ne<<6|63&Z[W++],ie--;1<ie?oe[ee++]=65533:ne<65536?oe[ee++]=ne:(ne-=65536,oe[ee++]=55296|ne>>10&1023,oe[ee++]=56320|1023&ne)}return V(oe,ee)},F.utf8border=function(Z,Y){var W;for((Y=Y||Z.length)>Z.length&&(Y=Z.length),W=Y-1;0<=W&&(192&Z[W])==128;)W--;return W<0||W===0?Y:W+q[Z[W]]>Y?W:Y}},{"./common":41}],43:[function(O,I,F){I.exports=function(z,L,U,q){for(var G=65535&z|0,V=z>>>16&65535|0,Z=0;U!==0;){for(U-=Z=2e3<U?2e3:U;V=V+(G=G+L[q++]|0)|0,--Z;);G%=65521,V%=65521}return G|V<<16|0}},{}],44:[function(O,I,F){I.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(O,I,F){var z=(function(){for(var L,U=[],q=0;q<256;q++){L=q;for(var G=0;G<8;G++)L=1&L?3988292384^L>>>1:L>>>1;U[q]=L}return U})();I.exports=function(L,U,q,G){var V=z,Z=G+q;L^=-1;for(var Y=G;Y<Z;Y++)L=L>>>8^V[255&(L^U[Y])];return-1^L}},{}],46:[function(O,I,F){var z,L=O("../utils/common"),U=O("./trees"),q=O("./adler32"),G=O("./crc32"),V=O("./messages"),Z=0,Y=4,W=0,ee=-2,ne=-1,ie=4,se=2,oe=8,le=9,ue=286,ce=30,fe=19,me=2*ue+1,he=15,pe=3,ge=258,_e=ge+pe+1,ye=42,we=113,ve=1,$e=2,be=3,Ce=4;function De(Ae,tt){return Ae.msg=V[tt],tt}function Ne(Ae){return(Ae<<1)-(4<Ae?9:0)}function Me(Ae){for(var tt=Ae.length;0<=--tt;)Ae[tt]=0}function Te(Ae){var tt=Ae.state,rt=tt.pending;rt>Ae.avail_out&&(rt=Ae.avail_out),rt!==0&&(L.arraySet(Ae.output,tt.pending_buf,tt.pending_out,rt,Ae.next_out),Ae.next_out+=rt,tt.pending_out+=rt,Ae.total_out+=rt,Ae.avail_out-=rt,tt.pending-=rt,tt.pending===0&&(tt.pending_out=0))}function Re(Ae,tt){U._tr_flush_block(Ae,0<=Ae.block_start?Ae.block_start:-1,Ae.strstart-Ae.block_start,tt),Ae.block_start=Ae.strstart,Te(Ae.strm)}function Se(Ae,tt){Ae.pending_buf[Ae.pending++]=tt}function ze(Ae,tt){Ae.pending_buf[Ae.pending++]=tt>>>8&255,Ae.pending_buf[Ae.pending++]=255&tt}function Pe(Ae,tt){var rt,We,qe=Ae.max_chain_length,nt=Ae.strstart,ft=Ae.prev_length,je=Ae.nice_match,Ve=Ae.strstart>Ae.w_size-_e?Ae.strstart-(Ae.w_size-_e):0,Ie=Ae.window,Ue=Ae.w_mask,Xe=Ae.prev,Fe=Ae.strstart+ge,Je=Ie[nt+ft-1],et=Ie[nt+ft];Ae.prev_length>=Ae.good_match&&(qe>>=2),je>Ae.lookahead&&(je=Ae.lookahead);do if(Ie[(rt=tt)+ft]===et&&Ie[rt+ft-1]===Je&&Ie[rt]===Ie[nt]&&Ie[++rt]===Ie[nt+1]){nt+=2,rt++;do;while(Ie[++nt]===Ie[++rt]&&Ie[++nt]===Ie[++rt]&&Ie[++nt]===Ie[++rt]&&Ie[++nt]===Ie[++rt]&&Ie[++nt]===Ie[++rt]&&Ie[++nt]===Ie[++rt]&&Ie[++nt]===Ie[++rt]&&Ie[++nt]===Ie[++rt]&&nt<Fe);if(We=ge-(Fe-nt),nt=Fe-ge,ft<We){if(Ae.match_start=tt,je<=(ft=We))break;Je=Ie[nt+ft-1],et=Ie[nt+ft]}}while((tt=Xe[tt&Ue])>Ve&&--qe!=0);return ft<=Ae.lookahead?ft:Ae.lookahead}function Qe(Ae){var tt,rt,We,qe,nt,ft,je,Ve,Ie,Ue,Xe=Ae.w_size;do{if(qe=Ae.window_size-Ae.lookahead-Ae.strstart,Ae.strstart>=Xe+(Xe-_e)){for(L.arraySet(Ae.window,Ae.window,Xe,Xe,0),Ae.match_start-=Xe,Ae.strstart-=Xe,Ae.block_start-=Xe,tt=rt=Ae.hash_size;We=Ae.head[--tt],Ae.head[tt]=Xe<=We?We-Xe:0,--rt;);for(tt=rt=Xe;We=Ae.prev[--tt],Ae.prev[tt]=Xe<=We?We-Xe:0,--rt;);qe+=Xe}if(Ae.strm.avail_in===0)break;if(ft=Ae.strm,je=Ae.window,Ve=Ae.strstart+Ae.lookahead,Ie=qe,Ue=void 0,Ue=ft.avail_in,Ie<Ue&&(Ue=Ie),rt=Ue===0?0:(ft.avail_in-=Ue,L.arraySet(je,ft.input,ft.next_in,Ue,Ve),ft.state.wrap===1?ft.adler=q(ft.adler,je,Ue,Ve):ft.state.wrap===2&&(ft.adler=G(ft.adler,je,Ue,Ve)),ft.next_in+=Ue,ft.total_in+=Ue,Ue),Ae.lookahead+=rt,Ae.lookahead+Ae.insert>=pe)for(nt=Ae.strstart-Ae.insert,Ae.ins_h=Ae.window[nt],Ae.ins_h=(Ae.ins_h<<Ae.hash_shift^Ae.window[nt+1])&Ae.hash_mask;Ae.insert&&(Ae.ins_h=(Ae.ins_h<<Ae.hash_shift^Ae.window[nt+pe-1])&Ae.hash_mask,Ae.prev[nt&Ae.w_mask]=Ae.head[Ae.ins_h],Ae.head[Ae.ins_h]=nt,nt++,Ae.insert--,!(Ae.lookahead+Ae.insert<pe)););}while(Ae.lookahead<_e&&Ae.strm.avail_in!==0)}function Ze(Ae,tt){for(var rt,We;;){if(Ae.lookahead<_e){if(Qe(Ae),Ae.lookahead<_e&&tt===Z)return ve;if(Ae.lookahead===0)break}if(rt=0,Ae.lookahead>=pe&&(Ae.ins_h=(Ae.ins_h<<Ae.hash_shift^Ae.window[Ae.strstart+pe-1])&Ae.hash_mask,rt=Ae.prev[Ae.strstart&Ae.w_mask]=Ae.head[Ae.ins_h],Ae.head[Ae.ins_h]=Ae.strstart),rt!==0&&Ae.strstart-rt<=Ae.w_size-_e&&(Ae.match_length=Pe(Ae,rt)),Ae.match_length>=pe)if(We=U._tr_tally(Ae,Ae.strstart-Ae.match_start,Ae.match_length-pe),Ae.lookahead-=Ae.match_length,Ae.match_length<=Ae.max_lazy_match&&Ae.lookahead>=pe){for(Ae.match_length--;Ae.strstart++,Ae.ins_h=(Ae.ins_h<<Ae.hash_shift^Ae.window[Ae.strstart+pe-1])&Ae.hash_mask,rt=Ae.prev[Ae.strstart&Ae.w_mask]=Ae.head[Ae.ins_h],Ae.head[Ae.ins_h]=Ae.strstart,--Ae.match_length!=0;);Ae.strstart++}else Ae.strstart+=Ae.match_length,Ae.match_length=0,Ae.ins_h=Ae.window[Ae.strstart],Ae.ins_h=(Ae.ins_h<<Ae.hash_shift^Ae.window[Ae.strstart+1])&Ae.hash_mask;else We=U._tr_tally(Ae,0,Ae.window[Ae.strstart]),Ae.lookahead--,Ae.strstart++;if(We&&(Re(Ae,!1),Ae.strm.avail_out===0))return ve}return Ae.insert=Ae.strstart<pe-1?Ae.strstart:pe-1,tt===Y?(Re(Ae,!0),Ae.strm.avail_out===0?be:Ce):Ae.last_lit&&(Re(Ae,!1),Ae.strm.avail_out===0)?ve:$e}function Le(Ae,tt){for(var rt,We,qe;;){if(Ae.lookahead<_e){if(Qe(Ae),Ae.lookahead<_e&&tt===Z)return ve;if(Ae.lookahead===0)break}if(rt=0,Ae.lookahead>=pe&&(Ae.ins_h=(Ae.ins_h<<Ae.hash_shift^Ae.window[Ae.strstart+pe-1])&Ae.hash_mask,rt=Ae.prev[Ae.strstart&Ae.w_mask]=Ae.head[Ae.ins_h],Ae.head[Ae.ins_h]=Ae.strstart),Ae.prev_length=Ae.match_length,Ae.prev_match=Ae.match_start,Ae.match_length=pe-1,rt!==0&&Ae.prev_length<Ae.max_lazy_match&&Ae.strstart-rt<=Ae.w_size-_e&&(Ae.match_length=Pe(Ae,rt),Ae.match_length<=5&&(Ae.strategy===1||Ae.match_length===pe&&4096<Ae.strstart-Ae.match_start)&&(Ae.match_length=pe-1)),Ae.prev_length>=pe&&Ae.match_length<=Ae.prev_length){for(qe=Ae.strstart+Ae.lookahead-pe,We=U._tr_tally(Ae,Ae.strstart-1-Ae.prev_match,Ae.prev_length-pe),Ae.lookahead-=Ae.prev_length-1,Ae.prev_length-=2;++Ae.strstart<=qe&&(Ae.ins_h=(Ae.ins_h<<Ae.hash_shift^Ae.window[Ae.strstart+pe-1])&Ae.hash_mask,rt=Ae.prev[Ae.strstart&Ae.w_mask]=Ae.head[Ae.ins_h],Ae.head[Ae.ins_h]=Ae.strstart),--Ae.prev_length!=0;);if(Ae.match_available=0,Ae.match_length=pe-1,Ae.strstart++,We&&(Re(Ae,!1),Ae.strm.avail_out===0))return ve}else if(Ae.match_available){if((We=U._tr_tally(Ae,0,Ae.window[Ae.strstart-1]))&&Re(Ae,!1),Ae.strstart++,Ae.lookahead--,Ae.strm.avail_out===0)return ve}else Ae.match_available=1,Ae.strstart++,Ae.lookahead--}return Ae.match_available&&(We=U._tr_tally(Ae,0,Ae.window[Ae.strstart-1]),Ae.match_available=0),Ae.insert=Ae.strstart<pe-1?Ae.strstart:pe-1,tt===Y?(Re(Ae,!0),Ae.strm.avail_out===0?be:Ce):Ae.last_lit&&(Re(Ae,!1),Ae.strm.avail_out===0)?ve:$e}function ke(Ae,tt,rt,We,qe){this.good_length=Ae,this.max_lazy=tt,this.nice_length=rt,this.max_chain=We,this.func=qe}function Ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=oe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new L.Buf16(2*me),this.dyn_dtree=new L.Buf16(2*(2*ce+1)),this.bl_tree=new L.Buf16(2*(2*fe+1)),Me(this.dyn_ltree),Me(this.dyn_dtree),Me(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new L.Buf16(he+1),this.heap=new L.Buf16(2*ue+1),Me(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new L.Buf16(2*ue+1),Me(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ke(Ae){var tt;return Ae&&Ae.state?(Ae.total_in=Ae.total_out=0,Ae.data_type=se,(tt=Ae.state).pending=0,tt.pending_out=0,tt.wrap<0&&(tt.wrap=-tt.wrap),tt.status=tt.wrap?ye:we,Ae.adler=tt.wrap===2?0:1,tt.last_flush=Z,U._tr_init(tt),W):De(Ae,ee)}function He(Ae){var tt=Ke(Ae);return tt===W&&(function(rt){rt.window_size=2*rt.w_size,Me(rt.head),rt.max_lazy_match=z[rt.level].max_lazy,rt.good_match=z[rt.level].good_length,rt.nice_match=z[rt.level].nice_length,rt.max_chain_length=z[rt.level].max_chain,rt.strstart=0,rt.block_start=0,rt.lookahead=0,rt.insert=0,rt.match_length=rt.prev_length=pe-1,rt.match_available=0,rt.ins_h=0})(Ae.state),tt}function st(Ae,tt,rt,We,qe,nt){if(!Ae)return ee;var ft=1;if(tt===ne&&(tt=6),We<0?(ft=0,We=-We):15<We&&(ft=2,We-=16),qe<1||le<qe||rt!==oe||We<8||15<We||tt<0||9<tt||nt<0||ie<nt)return De(Ae,ee);We===8&&(We=9);var je=new Ge;return(Ae.state=je).strm=Ae,je.wrap=ft,je.gzhead=null,je.w_bits=We,je.w_size=1<<je.w_bits,je.w_mask=je.w_size-1,je.hash_bits=qe+7,je.hash_size=1<<je.hash_bits,je.hash_mask=je.hash_size-1,je.hash_shift=~~((je.hash_bits+pe-1)/pe),je.window=new L.Buf8(2*je.w_size),je.head=new L.Buf16(je.hash_size),je.prev=new L.Buf16(je.w_size),je.lit_bufsize=1<<qe+6,je.pending_buf_size=4*je.lit_bufsize,je.pending_buf=new L.Buf8(je.pending_buf_size),je.d_buf=1*je.lit_bufsize,je.l_buf=3*je.lit_bufsize,je.level=tt,je.strategy=nt,je.method=rt,He(Ae)}z=[new ke(0,0,0,0,function(Ae,tt){var rt=65535;for(rt>Ae.pending_buf_size-5&&(rt=Ae.pending_buf_size-5);;){if(Ae.lookahead<=1){if(Qe(Ae),Ae.lookahead===0&&tt===Z)return ve;if(Ae.lookahead===0)break}Ae.strstart+=Ae.lookahead,Ae.lookahead=0;var We=Ae.block_start+rt;if((Ae.strstart===0||Ae.strstart>=We)&&(Ae.lookahead=Ae.strstart-We,Ae.strstart=We,Re(Ae,!1),Ae.strm.avail_out===0)||Ae.strstart-Ae.block_start>=Ae.w_size-_e&&(Re(Ae,!1),Ae.strm.avail_out===0))return ve}return Ae.insert=0,tt===Y?(Re(Ae,!0),Ae.strm.avail_out===0?be:Ce):(Ae.strstart>Ae.block_start&&(Re(Ae,!1),Ae.strm.avail_out),ve)}),new ke(4,4,8,4,Ze),new ke(4,5,16,8,Ze),new ke(4,6,32,32,Ze),new ke(4,4,16,16,Le),new ke(8,16,32,32,Le),new ke(8,16,128,128,Le),new ke(8,32,128,256,Le),new ke(32,128,258,1024,Le),new ke(32,258,258,4096,Le)],F.deflateInit=function(Ae,tt){return st(Ae,tt,oe,15,8,0)},F.deflateInit2=st,F.deflateReset=He,F.deflateResetKeep=Ke,F.deflateSetHeader=function(Ae,tt){return Ae&&Ae.state?Ae.state.wrap!==2?ee:(Ae.state.gzhead=tt,W):ee},F.deflate=function(Ae,tt){var rt,We,qe,nt;if(!Ae||!Ae.state||5<tt||tt<0)return Ae?De(Ae,ee):ee;if(We=Ae.state,!Ae.output||!Ae.input&&Ae.avail_in!==0||We.status===666&&tt!==Y)return De(Ae,Ae.avail_out===0?-5:ee);if(We.strm=Ae,rt=We.last_flush,We.last_flush=tt,We.status===ye)if(We.wrap===2)Ae.adler=0,Se(We,31),Se(We,139),Se(We,8),We.gzhead?(Se(We,(We.gzhead.text?1:0)+(We.gzhead.hcrc?2:0)+(We.gzhead.extra?4:0)+(We.gzhead.name?8:0)+(We.gzhead.comment?16:0)),Se(We,255&We.gzhead.time),Se(We,We.gzhead.time>>8&255),Se(We,We.gzhead.time>>16&255),Se(We,We.gzhead.time>>24&255),Se(We,We.level===9?2:2<=We.strategy||We.level<2?4:0),Se(We,255&We.gzhead.os),We.gzhead.extra&&We.gzhead.extra.length&&(Se(We,255&We.gzhead.extra.length),Se(We,We.gzhead.extra.length>>8&255)),We.gzhead.hcrc&&(Ae.adler=G(Ae.adler,We.pending_buf,We.pending,0)),We.gzindex=0,We.status=69):(Se(We,0),Se(We,0),Se(We,0),Se(We,0),Se(We,0),Se(We,We.level===9?2:2<=We.strategy||We.level<2?4:0),Se(We,3),We.status=we);else{var ft=oe+(We.w_bits-8<<4)<<8;ft|=(2<=We.strategy||We.level<2?0:We.level<6?1:We.level===6?2:3)<<6,We.strstart!==0&&(ft|=32),ft+=31-ft%31,We.status=we,ze(We,ft),We.strstart!==0&&(ze(We,Ae.adler>>>16),ze(We,65535&Ae.adler)),Ae.adler=1}if(We.status===69)if(We.gzhead.extra){for(qe=We.pending;We.gzindex<(65535&We.gzhead.extra.length)&&(We.pending!==We.pending_buf_size||(We.gzhead.hcrc&&We.pending>qe&&(Ae.adler=G(Ae.adler,We.pending_buf,We.pending-qe,qe)),Te(Ae),qe=We.pending,We.pending!==We.pending_buf_size));)Se(We,255&We.gzhead.extra[We.gzindex]),We.gzindex++;We.gzhead.hcrc&&We.pending>qe&&(Ae.adler=G(Ae.adler,We.pending_buf,We.pending-qe,qe)),We.gzindex===We.gzhead.extra.length&&(We.gzindex=0,We.status=73)}else We.status=73;if(We.status===73)if(We.gzhead.name){qe=We.pending;do{if(We.pending===We.pending_buf_size&&(We.gzhead.hcrc&&We.pending>qe&&(Ae.adler=G(Ae.adler,We.pending_buf,We.pending-qe,qe)),Te(Ae),qe=We.pending,We.pending===We.pending_buf_size)){nt=1;break}nt=We.gzindex<We.gzhead.name.length?255&We.gzhead.name.charCodeAt(We.gzindex++):0,Se(We,nt)}while(nt!==0);We.gzhead.hcrc&&We.pending>qe&&(Ae.adler=G(Ae.adler,We.pending_buf,We.pending-qe,qe)),nt===0&&(We.gzindex=0,We.status=91)}else We.status=91;if(We.status===91)if(We.gzhead.comment){qe=We.pending;do{if(We.pending===We.pending_buf_size&&(We.gzhead.hcrc&&We.pending>qe&&(Ae.adler=G(Ae.adler,We.pending_buf,We.pending-qe,qe)),Te(Ae),qe=We.pending,We.pending===We.pending_buf_size)){nt=1;break}nt=We.gzindex<We.gzhead.comment.length?255&We.gzhead.comment.charCodeAt(We.gzindex++):0,Se(We,nt)}while(nt!==0);We.gzhead.hcrc&&We.pending>qe&&(Ae.adler=G(Ae.adler,We.pending_buf,We.pending-qe,qe)),nt===0&&(We.status=103)}else We.status=103;if(We.status===103&&(We.gzhead.hcrc?(We.pending+2>We.pending_buf_size&&Te(Ae),We.pending+2<=We.pending_buf_size&&(Se(We,255&Ae.adler),Se(We,Ae.adler>>8&255),Ae.adler=0,We.status=we)):We.status=we),We.pending!==0){if(Te(Ae),Ae.avail_out===0)return We.last_flush=-1,W}else if(Ae.avail_in===0&&Ne(tt)<=Ne(rt)&&tt!==Y)return De(Ae,-5);if(We.status===666&&Ae.avail_in!==0)return De(Ae,-5);if(Ae.avail_in!==0||We.lookahead!==0||tt!==Z&&We.status!==666){var je=We.strategy===2?(function(Ve,Ie){for(var Ue;;){if(Ve.lookahead===0&&(Qe(Ve),Ve.lookahead===0)){if(Ie===Z)return ve;break}if(Ve.match_length=0,Ue=U._tr_tally(Ve,0,Ve.window[Ve.strstart]),Ve.lookahead--,Ve.strstart++,Ue&&(Re(Ve,!1),Ve.strm.avail_out===0))return ve}return Ve.insert=0,Ie===Y?(Re(Ve,!0),Ve.strm.avail_out===0?be:Ce):Ve.last_lit&&(Re(Ve,!1),Ve.strm.avail_out===0)?ve:$e})(We,tt):We.strategy===3?(function(Ve,Ie){for(var Ue,Xe,Fe,Je,et=Ve.window;;){if(Ve.lookahead<=ge){if(Qe(Ve),Ve.lookahead<=ge&&Ie===Z)return ve;if(Ve.lookahead===0)break}if(Ve.match_length=0,Ve.lookahead>=pe&&0<Ve.strstart&&(Xe=et[Fe=Ve.strstart-1])===et[++Fe]&&Xe===et[++Fe]&&Xe===et[++Fe]){Je=Ve.strstart+ge;do;while(Xe===et[++Fe]&&Xe===et[++Fe]&&Xe===et[++Fe]&&Xe===et[++Fe]&&Xe===et[++Fe]&&Xe===et[++Fe]&&Xe===et[++Fe]&&Xe===et[++Fe]&&Fe<Je);Ve.match_length=ge-(Je-Fe),Ve.match_length>Ve.lookahead&&(Ve.match_length=Ve.lookahead)}if(Ve.match_length>=pe?(Ue=U._tr_tally(Ve,1,Ve.match_length-pe),Ve.lookahead-=Ve.match_length,Ve.strstart+=Ve.match_length,Ve.match_length=0):(Ue=U._tr_tally(Ve,0,Ve.window[Ve.strstart]),Ve.lookahead--,Ve.strstart++),Ue&&(Re(Ve,!1),Ve.strm.avail_out===0))return ve}return Ve.insert=0,Ie===Y?(Re(Ve,!0),Ve.strm.avail_out===0?be:Ce):Ve.last_lit&&(Re(Ve,!1),Ve.strm.avail_out===0)?ve:$e})(We,tt):z[We.level].func(We,tt);if(je!==be&&je!==Ce||(We.status=666),je===ve||je===be)return Ae.avail_out===0&&(We.last_flush=-1),W;if(je===$e&&(tt===1?U._tr_align(We):tt!==5&&(U._tr_stored_block(We,0,0,!1),tt===3&&(Me(We.head),We.lookahead===0&&(We.strstart=0,We.block_start=0,We.insert=0))),Te(Ae),Ae.avail_out===0))return We.last_flush=-1,W}return tt!==Y?W:We.wrap<=0?1:(We.wrap===2?(Se(We,255&Ae.adler),Se(We,Ae.adler>>8&255),Se(We,Ae.adler>>16&255),Se(We,Ae.adler>>24&255),Se(We,255&Ae.total_in),Se(We,Ae.total_in>>8&255),Se(We,Ae.total_in>>16&255),Se(We,Ae.total_in>>24&255)):(ze(We,Ae.adler>>>16),ze(We,65535&Ae.adler)),Te(Ae),0<We.wrap&&(We.wrap=-We.wrap),We.pending!==0?W:1)},F.deflateEnd=function(Ae){var tt;return Ae&&Ae.state?(tt=Ae.state.status)!==ye&&tt!==69&&tt!==73&&tt!==91&&tt!==103&&tt!==we&&tt!==666?De(Ae,ee):(Ae.state=null,tt===we?De(Ae,-3):W):ee},F.deflateSetDictionary=function(Ae,tt){var rt,We,qe,nt,ft,je,Ve,Ie,Ue=tt.length;if(!Ae||!Ae.state||(nt=(rt=Ae.state).wrap)===2||nt===1&&rt.status!==ye||rt.lookahead)return ee;for(nt===1&&(Ae.adler=q(Ae.adler,tt,Ue,0)),rt.wrap=0,Ue>=rt.w_size&&(nt===0&&(Me(rt.head),rt.strstart=0,rt.block_start=0,rt.insert=0),Ie=new L.Buf8(rt.w_size),L.arraySet(Ie,tt,Ue-rt.w_size,rt.w_size,0),tt=Ie,Ue=rt.w_size),ft=Ae.avail_in,je=Ae.next_in,Ve=Ae.input,Ae.avail_in=Ue,Ae.next_in=0,Ae.input=tt,Qe(rt);rt.lookahead>=pe;){for(We=rt.strstart,qe=rt.lookahead-(pe-1);rt.ins_h=(rt.ins_h<<rt.hash_shift^rt.window[We+pe-1])&rt.hash_mask,rt.prev[We&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=We,We++,--qe;);rt.strstart=We,rt.lookahead=pe-1,Qe(rt)}return rt.strstart+=rt.lookahead,rt.block_start=rt.strstart,rt.insert=rt.lookahead,rt.lookahead=0,rt.match_length=rt.prev_length=pe-1,rt.match_available=0,Ae.next_in=je,Ae.input=Ve,Ae.avail_in=ft,rt.wrap=nt,W},F.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(O,I,F){I.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(O,I,F){I.exports=function(z,L){var U,q,G,V,Z,Y,W,ee,ne,ie,se,oe,le,ue,ce,fe,me,he,pe,ge,_e,ye,we,ve,$e;U=z.state,q=z.next_in,ve=z.input,G=q+(z.avail_in-5),V=z.next_out,$e=z.output,Z=V-(L-z.avail_out),Y=V+(z.avail_out-257),W=U.dmax,ee=U.wsize,ne=U.whave,ie=U.wnext,se=U.window,oe=U.hold,le=U.bits,ue=U.lencode,ce=U.distcode,fe=(1<<U.lenbits)-1,me=(1<<U.distbits)-1;e:do{le<15&&(oe+=ve[q++]<<le,le+=8,oe+=ve[q++]<<le,le+=8),he=ue[oe&fe];t:for(;;){if(oe>>>=pe=he>>>24,le-=pe,(pe=he>>>16&255)===0)$e[V++]=65535&he;else{if(!(16&pe)){if((64&pe)==0){he=ue[(65535&he)+(oe&(1<<pe)-1)];continue t}if(32&pe){U.mode=12;break e}z.msg="invalid literal/length code",U.mode=30;break e}ge=65535&he,(pe&=15)&&(le<pe&&(oe+=ve[q++]<<le,le+=8),ge+=oe&(1<<pe)-1,oe>>>=pe,le-=pe),le<15&&(oe+=ve[q++]<<le,le+=8,oe+=ve[q++]<<le,le+=8),he=ce[oe&me];r:for(;;){if(oe>>>=pe=he>>>24,le-=pe,!(16&(pe=he>>>16&255))){if((64&pe)==0){he=ce[(65535&he)+(oe&(1<<pe)-1)];continue r}z.msg="invalid distance code",U.mode=30;break e}if(_e=65535&he,le<(pe&=15)&&(oe+=ve[q++]<<le,(le+=8)<pe&&(oe+=ve[q++]<<le,le+=8)),W<(_e+=oe&(1<<pe)-1)){z.msg="invalid distance too far back",U.mode=30;break e}if(oe>>>=pe,le-=pe,(pe=V-Z)<_e){if(ne<(pe=_e-pe)&&U.sane){z.msg="invalid distance too far back",U.mode=30;break e}if(we=se,(ye=0)===ie){if(ye+=ee-pe,pe<ge){for(ge-=pe;$e[V++]=se[ye++],--pe;);ye=V-_e,we=$e}}else if(ie<pe){if(ye+=ee+ie-pe,(pe-=ie)<ge){for(ge-=pe;$e[V++]=se[ye++],--pe;);if(ye=0,ie<ge){for(ge-=pe=ie;$e[V++]=se[ye++],--pe;);ye=V-_e,we=$e}}}else if(ye+=ie-pe,pe<ge){for(ge-=pe;$e[V++]=se[ye++],--pe;);ye=V-_e,we=$e}for(;2<ge;)$e[V++]=we[ye++],$e[V++]=we[ye++],$e[V++]=we[ye++],ge-=3;ge&&($e[V++]=we[ye++],1<ge&&($e[V++]=we[ye++]))}else{for(ye=V-_e;$e[V++]=$e[ye++],$e[V++]=$e[ye++],$e[V++]=$e[ye++],2<(ge-=3););ge&&($e[V++]=$e[ye++],1<ge&&($e[V++]=$e[ye++]))}break}}break}}while(q<G&&V<Y);q-=ge=le>>3,oe&=(1<<(le-=ge<<3))-1,z.next_in=q,z.next_out=V,z.avail_in=q<G?G-q+5:5-(q-G),z.avail_out=V<Y?Y-V+257:257-(V-Y),U.hold=oe,U.bits=le}},{}],49:[function(O,I,F){var z=O("../utils/common"),L=O("./adler32"),U=O("./crc32"),q=O("./inffast"),G=O("./inftrees"),V=1,Z=2,Y=0,W=-2,ee=1,ne=852,ie=592;function se(ye){return(ye>>>24&255)+(ye>>>8&65280)+((65280&ye)<<8)+((255&ye)<<24)}function oe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new z.Buf16(320),this.work=new z.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function le(ye){var we;return ye&&ye.state?(we=ye.state,ye.total_in=ye.total_out=we.total=0,ye.msg="",we.wrap&&(ye.adler=1&we.wrap),we.mode=ee,we.last=0,we.havedict=0,we.dmax=32768,we.head=null,we.hold=0,we.bits=0,we.lencode=we.lendyn=new z.Buf32(ne),we.distcode=we.distdyn=new z.Buf32(ie),we.sane=1,we.back=-1,Y):W}function ue(ye){var we;return ye&&ye.state?((we=ye.state).wsize=0,we.whave=0,we.wnext=0,le(ye)):W}function ce(ye,we){var ve,$e;return ye&&ye.state?($e=ye.state,we<0?(ve=0,we=-we):(ve=1+(we>>4),we<48&&(we&=15)),we&&(we<8||15<we)?W:($e.window!==null&&$e.wbits!==we&&($e.window=null),$e.wrap=ve,$e.wbits=we,ue(ye))):W}function fe(ye,we){var ve,$e;return ye?($e=new oe,(ye.state=$e).window=null,(ve=ce(ye,we))!==Y&&(ye.state=null),ve):W}var me,he,pe=!0;function ge(ye){if(pe){var we;for(me=new z.Buf32(512),he=new z.Buf32(32),we=0;we<144;)ye.lens[we++]=8;for(;we<256;)ye.lens[we++]=9;for(;we<280;)ye.lens[we++]=7;for(;we<288;)ye.lens[we++]=8;for(G(V,ye.lens,0,288,me,0,ye.work,{bits:9}),we=0;we<32;)ye.lens[we++]=5;G(Z,ye.lens,0,32,he,0,ye.work,{bits:5}),pe=!1}ye.lencode=me,ye.lenbits=9,ye.distcode=he,ye.distbits=5}function _e(ye,we,ve,$e){var be,Ce=ye.state;return Ce.window===null&&(Ce.wsize=1<<Ce.wbits,Ce.wnext=0,Ce.whave=0,Ce.window=new z.Buf8(Ce.wsize)),$e>=Ce.wsize?(z.arraySet(Ce.window,we,ve-Ce.wsize,Ce.wsize,0),Ce.wnext=0,Ce.whave=Ce.wsize):($e<(be=Ce.wsize-Ce.wnext)&&(be=$e),z.arraySet(Ce.window,we,ve-$e,be,Ce.wnext),($e-=be)?(z.arraySet(Ce.window,we,ve-$e,$e,0),Ce.wnext=$e,Ce.whave=Ce.wsize):(Ce.wnext+=be,Ce.wnext===Ce.wsize&&(Ce.wnext=0),Ce.whave<Ce.wsize&&(Ce.whave+=be))),0}F.inflateReset=ue,F.inflateReset2=ce,F.inflateResetKeep=le,F.inflateInit=function(ye){return fe(ye,15)},F.inflateInit2=fe,F.inflate=function(ye,we){var ve,$e,be,Ce,De,Ne,Me,Te,Re,Se,ze,Pe,Qe,Ze,Le,ke,Ge,Ke,He,st,Ae,tt,rt,We,qe=0,nt=new z.Buf8(4),ft=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ye||!ye.state||!ye.output||!ye.input&&ye.avail_in!==0)return W;(ve=ye.state).mode===12&&(ve.mode=13),De=ye.next_out,be=ye.output,Me=ye.avail_out,Ce=ye.next_in,$e=ye.input,Ne=ye.avail_in,Te=ve.hold,Re=ve.bits,Se=Ne,ze=Me,tt=Y;e:for(;;)switch(ve.mode){case ee:if(ve.wrap===0){ve.mode=13;break}for(;Re<16;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}if(2&ve.wrap&&Te===35615){nt[ve.check=0]=255&Te,nt[1]=Te>>>8&255,ve.check=U(ve.check,nt,2,0),Re=Te=0,ve.mode=2;break}if(ve.flags=0,ve.head&&(ve.head.done=!1),!(1&ve.wrap)||(((255&Te)<<8)+(Te>>8))%31){ye.msg="incorrect header check",ve.mode=30;break}if((15&Te)!=8){ye.msg="unknown compression method",ve.mode=30;break}if(Re-=4,Ae=8+(15&(Te>>>=4)),ve.wbits===0)ve.wbits=Ae;else if(Ae>ve.wbits){ye.msg="invalid window size",ve.mode=30;break}ve.dmax=1<<Ae,ye.adler=ve.check=1,ve.mode=512&Te?10:12,Re=Te=0;break;case 2:for(;Re<16;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}if(ve.flags=Te,(255&ve.flags)!=8){ye.msg="unknown compression method",ve.mode=30;break}if(57344&ve.flags){ye.msg="unknown header flags set",ve.mode=30;break}ve.head&&(ve.head.text=Te>>8&1),512&ve.flags&&(nt[0]=255&Te,nt[1]=Te>>>8&255,ve.check=U(ve.check,nt,2,0)),Re=Te=0,ve.mode=3;case 3:for(;Re<32;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}ve.head&&(ve.head.time=Te),512&ve.flags&&(nt[0]=255&Te,nt[1]=Te>>>8&255,nt[2]=Te>>>16&255,nt[3]=Te>>>24&255,ve.check=U(ve.check,nt,4,0)),Re=Te=0,ve.mode=4;case 4:for(;Re<16;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}ve.head&&(ve.head.xflags=255&Te,ve.head.os=Te>>8),512&ve.flags&&(nt[0]=255&Te,nt[1]=Te>>>8&255,ve.check=U(ve.check,nt,2,0)),Re=Te=0,ve.mode=5;case 5:if(1024&ve.flags){for(;Re<16;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}ve.length=Te,ve.head&&(ve.head.extra_len=Te),512&ve.flags&&(nt[0]=255&Te,nt[1]=Te>>>8&255,ve.check=U(ve.check,nt,2,0)),Re=Te=0}else ve.head&&(ve.head.extra=null);ve.mode=6;case 6:if(1024&ve.flags&&(Ne<(Pe=ve.length)&&(Pe=Ne),Pe&&(ve.head&&(Ae=ve.head.extra_len-ve.length,ve.head.extra||(ve.head.extra=new Array(ve.head.extra_len)),z.arraySet(ve.head.extra,$e,Ce,Pe,Ae)),512&ve.flags&&(ve.check=U(ve.check,$e,Pe,Ce)),Ne-=Pe,Ce+=Pe,ve.length-=Pe),ve.length))break e;ve.length=0,ve.mode=7;case 7:if(2048&ve.flags){if(Ne===0)break e;for(Pe=0;Ae=$e[Ce+Pe++],ve.head&&Ae&&ve.length<65536&&(ve.head.name+=String.fromCharCode(Ae)),Ae&&Pe<Ne;);if(512&ve.flags&&(ve.check=U(ve.check,$e,Pe,Ce)),Ne-=Pe,Ce+=Pe,Ae)break e}else ve.head&&(ve.head.name=null);ve.length=0,ve.mode=8;case 8:if(4096&ve.flags){if(Ne===0)break e;for(Pe=0;Ae=$e[Ce+Pe++],ve.head&&Ae&&ve.length<65536&&(ve.head.comment+=String.fromCharCode(Ae)),Ae&&Pe<Ne;);if(512&ve.flags&&(ve.check=U(ve.check,$e,Pe,Ce)),Ne-=Pe,Ce+=Pe,Ae)break e}else ve.head&&(ve.head.comment=null);ve.mode=9;case 9:if(512&ve.flags){for(;Re<16;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}if(Te!==(65535&ve.check)){ye.msg="header crc mismatch",ve.mode=30;break}Re=Te=0}ve.head&&(ve.head.hcrc=ve.flags>>9&1,ve.head.done=!0),ye.adler=ve.check=0,ve.mode=12;break;case 10:for(;Re<32;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}ye.adler=ve.check=se(Te),Re=Te=0,ve.mode=11;case 11:if(ve.havedict===0)return ye.next_out=De,ye.avail_out=Me,ye.next_in=Ce,ye.avail_in=Ne,ve.hold=Te,ve.bits=Re,2;ye.adler=ve.check=1,ve.mode=12;case 12:if(we===5||we===6)break e;case 13:if(ve.last){Te>>>=7&Re,Re-=7&Re,ve.mode=27;break}for(;Re<3;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}switch(ve.last=1&Te,Re-=1,3&(Te>>>=1)){case 0:ve.mode=14;break;case 1:if(ge(ve),ve.mode=20,we!==6)break;Te>>>=2,Re-=2;break e;case 2:ve.mode=17;break;case 3:ye.msg="invalid block type",ve.mode=30}Te>>>=2,Re-=2;break;case 14:for(Te>>>=7&Re,Re-=7&Re;Re<32;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}if((65535&Te)!=(Te>>>16^65535)){ye.msg="invalid stored block lengths",ve.mode=30;break}if(ve.length=65535&Te,Re=Te=0,ve.mode=15,we===6)break e;case 15:ve.mode=16;case 16:if(Pe=ve.length){if(Ne<Pe&&(Pe=Ne),Me<Pe&&(Pe=Me),Pe===0)break e;z.arraySet(be,$e,Ce,Pe,De),Ne-=Pe,Ce+=Pe,Me-=Pe,De+=Pe,ve.length-=Pe;break}ve.mode=12;break;case 17:for(;Re<14;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}if(ve.nlen=257+(31&Te),Te>>>=5,Re-=5,ve.ndist=1+(31&Te),Te>>>=5,Re-=5,ve.ncode=4+(15&Te),Te>>>=4,Re-=4,286<ve.nlen||30<ve.ndist){ye.msg="too many length or distance symbols",ve.mode=30;break}ve.have=0,ve.mode=18;case 18:for(;ve.have<ve.ncode;){for(;Re<3;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}ve.lens[ft[ve.have++]]=7&Te,Te>>>=3,Re-=3}for(;ve.have<19;)ve.lens[ft[ve.have++]]=0;if(ve.lencode=ve.lendyn,ve.lenbits=7,rt={bits:ve.lenbits},tt=G(0,ve.lens,0,19,ve.lencode,0,ve.work,rt),ve.lenbits=rt.bits,tt){ye.msg="invalid code lengths set",ve.mode=30;break}ve.have=0,ve.mode=19;case 19:for(;ve.have<ve.nlen+ve.ndist;){for(;ke=(qe=ve.lencode[Te&(1<<ve.lenbits)-1])>>>16&255,Ge=65535&qe,!((Le=qe>>>24)<=Re);){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}if(Ge<16)Te>>>=Le,Re-=Le,ve.lens[ve.have++]=Ge;else{if(Ge===16){for(We=Le+2;Re<We;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}if(Te>>>=Le,Re-=Le,ve.have===0){ye.msg="invalid bit length repeat",ve.mode=30;break}Ae=ve.lens[ve.have-1],Pe=3+(3&Te),Te>>>=2,Re-=2}else if(Ge===17){for(We=Le+3;Re<We;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}Re-=Le,Ae=0,Pe=3+(7&(Te>>>=Le)),Te>>>=3,Re-=3}else{for(We=Le+7;Re<We;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}Re-=Le,Ae=0,Pe=11+(127&(Te>>>=Le)),Te>>>=7,Re-=7}if(ve.have+Pe>ve.nlen+ve.ndist){ye.msg="invalid bit length repeat",ve.mode=30;break}for(;Pe--;)ve.lens[ve.have++]=Ae}}if(ve.mode===30)break;if(ve.lens[256]===0){ye.msg="invalid code -- missing end-of-block",ve.mode=30;break}if(ve.lenbits=9,rt={bits:ve.lenbits},tt=G(V,ve.lens,0,ve.nlen,ve.lencode,0,ve.work,rt),ve.lenbits=rt.bits,tt){ye.msg="invalid literal/lengths set",ve.mode=30;break}if(ve.distbits=6,ve.distcode=ve.distdyn,rt={bits:ve.distbits},tt=G(Z,ve.lens,ve.nlen,ve.ndist,ve.distcode,0,ve.work,rt),ve.distbits=rt.bits,tt){ye.msg="invalid distances set",ve.mode=30;break}if(ve.mode=20,we===6)break e;case 20:ve.mode=21;case 21:if(6<=Ne&&258<=Me){ye.next_out=De,ye.avail_out=Me,ye.next_in=Ce,ye.avail_in=Ne,ve.hold=Te,ve.bits=Re,q(ye,ze),De=ye.next_out,be=ye.output,Me=ye.avail_out,Ce=ye.next_in,$e=ye.input,Ne=ye.avail_in,Te=ve.hold,Re=ve.bits,ve.mode===12&&(ve.back=-1);break}for(ve.back=0;ke=(qe=ve.lencode[Te&(1<<ve.lenbits)-1])>>>16&255,Ge=65535&qe,!((Le=qe>>>24)<=Re);){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}if(ke&&(240&ke)==0){for(Ke=Le,He=ke,st=Ge;ke=(qe=ve.lencode[st+((Te&(1<<Ke+He)-1)>>Ke)])>>>16&255,Ge=65535&qe,!(Ke+(Le=qe>>>24)<=Re);){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}Te>>>=Ke,Re-=Ke,ve.back+=Ke}if(Te>>>=Le,Re-=Le,ve.back+=Le,ve.length=Ge,ke===0){ve.mode=26;break}if(32&ke){ve.back=-1,ve.mode=12;break}if(64&ke){ye.msg="invalid literal/length code",ve.mode=30;break}ve.extra=15&ke,ve.mode=22;case 22:if(ve.extra){for(We=ve.extra;Re<We;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}ve.length+=Te&(1<<ve.extra)-1,Te>>>=ve.extra,Re-=ve.extra,ve.back+=ve.extra}ve.was=ve.length,ve.mode=23;case 23:for(;ke=(qe=ve.distcode[Te&(1<<ve.distbits)-1])>>>16&255,Ge=65535&qe,!((Le=qe>>>24)<=Re);){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}if((240&ke)==0){for(Ke=Le,He=ke,st=Ge;ke=(qe=ve.distcode[st+((Te&(1<<Ke+He)-1)>>Ke)])>>>16&255,Ge=65535&qe,!(Ke+(Le=qe>>>24)<=Re);){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}Te>>>=Ke,Re-=Ke,ve.back+=Ke}if(Te>>>=Le,Re-=Le,ve.back+=Le,64&ke){ye.msg="invalid distance code",ve.mode=30;break}ve.offset=Ge,ve.extra=15&ke,ve.mode=24;case 24:if(ve.extra){for(We=ve.extra;Re<We;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}ve.offset+=Te&(1<<ve.extra)-1,Te>>>=ve.extra,Re-=ve.extra,ve.back+=ve.extra}if(ve.offset>ve.dmax){ye.msg="invalid distance too far back",ve.mode=30;break}ve.mode=25;case 25:if(Me===0)break e;if(Pe=ze-Me,ve.offset>Pe){if((Pe=ve.offset-Pe)>ve.whave&&ve.sane){ye.msg="invalid distance too far back",ve.mode=30;break}Qe=Pe>ve.wnext?(Pe-=ve.wnext,ve.wsize-Pe):ve.wnext-Pe,Pe>ve.length&&(Pe=ve.length),Ze=ve.window}else Ze=be,Qe=De-ve.offset,Pe=ve.length;for(Me<Pe&&(Pe=Me),Me-=Pe,ve.length-=Pe;be[De++]=Ze[Qe++],--Pe;);ve.length===0&&(ve.mode=21);break;case 26:if(Me===0)break e;be[De++]=ve.length,Me--,ve.mode=21;break;case 27:if(ve.wrap){for(;Re<32;){if(Ne===0)break e;Ne--,Te|=$e[Ce++]<<Re,Re+=8}if(ze-=Me,ye.total_out+=ze,ve.total+=ze,ze&&(ye.adler=ve.check=ve.flags?U(ve.check,be,ze,De-ze):L(ve.check,be,ze,De-ze)),ze=Me,(ve.flags?Te:se(Te))!==ve.check){ye.msg="incorrect data check",ve.mode=30;break}Re=Te=0}ve.mode=28;case 28:if(ve.wrap&&ve.flags){for(;Re<32;){if(Ne===0)break e;Ne--,Te+=$e[Ce++]<<Re,Re+=8}if(Te!==(4294967295&ve.total)){ye.msg="incorrect length check",ve.mode=30;break}Re=Te=0}ve.mode=29;case 29:tt=1;break e;case 30:tt=-3;break e;case 31:return-4;default:return W}return ye.next_out=De,ye.avail_out=Me,ye.next_in=Ce,ye.avail_in=Ne,ve.hold=Te,ve.bits=Re,(ve.wsize||ze!==ye.avail_out&&ve.mode<30&&(ve.mode<27||we!==4))&&_e(ye,ye.output,ye.next_out,ze-ye.avail_out)?(ve.mode=31,-4):(Se-=ye.avail_in,ze-=ye.avail_out,ye.total_in+=Se,ye.total_out+=ze,ve.total+=ze,ve.wrap&&ze&&(ye.adler=ve.check=ve.flags?U(ve.check,be,ze,ye.next_out-ze):L(ve.check,be,ze,ye.next_out-ze)),ye.data_type=ve.bits+(ve.last?64:0)+(ve.mode===12?128:0)+(ve.mode===20||ve.mode===15?256:0),(Se==0&&ze===0||we===4)&&tt===Y&&(tt=-5),tt)},F.inflateEnd=function(ye){if(!ye||!ye.state)return W;var we=ye.state;return we.window&&(we.window=null),ye.state=null,Y},F.inflateGetHeader=function(ye,we){var ve;return ye&&ye.state?(2&(ve=ye.state).wrap)==0?W:((ve.head=we).done=!1,Y):W},F.inflateSetDictionary=function(ye,we){var ve,$e=we.length;return ye&&ye.state?(ve=ye.state).wrap!==0&&ve.mode!==11?W:ve.mode===11&&L(1,we,$e,0)!==ve.check?-3:_e(ye,we,$e,$e)?(ve.mode=31,-4):(ve.havedict=1,Y):W},F.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(O,I,F){var z=O("../utils/common"),L=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],U=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],G=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];I.exports=function(V,Z,Y,W,ee,ne,ie,se){var oe,le,ue,ce,fe,me,he,pe,ge,_e=se.bits,ye=0,we=0,ve=0,$e=0,be=0,Ce=0,De=0,Ne=0,Me=0,Te=0,Re=null,Se=0,ze=new z.Buf16(16),Pe=new z.Buf16(16),Qe=null,Ze=0;for(ye=0;ye<=15;ye++)ze[ye]=0;for(we=0;we<W;we++)ze[Z[Y+we]]++;for(be=_e,$e=15;1<=$e&&ze[$e]===0;$e--);if($e<be&&(be=$e),$e===0)return ee[ne++]=20971520,ee[ne++]=20971520,se.bits=1,0;for(ve=1;ve<$e&&ze[ve]===0;ve++);for(be<ve&&(be=ve),ye=Ne=1;ye<=15;ye++)if(Ne<<=1,(Ne-=ze[ye])<0)return-1;if(0<Ne&&(V===0||$e!==1))return-1;for(Pe[1]=0,ye=1;ye<15;ye++)Pe[ye+1]=Pe[ye]+ze[ye];for(we=0;we<W;we++)Z[Y+we]!==0&&(ie[Pe[Z[Y+we]]++]=we);if(me=V===0?(Re=Qe=ie,19):V===1?(Re=L,Se-=257,Qe=U,Ze-=257,256):(Re=q,Qe=G,-1),ye=ve,fe=ne,De=we=Te=0,ue=-1,ce=(Me=1<<(Ce=be))-1,V===1&&852<Me||V===2&&592<Me)return 1;for(;;){for(he=ye-De,ge=ie[we]<me?(pe=0,ie[we]):ie[we]>me?(pe=Qe[Ze+ie[we]],Re[Se+ie[we]]):(pe=96,0),oe=1<<ye-De,ve=le=1<<Ce;ee[fe+(Te>>De)+(le-=oe)]=he<<24|pe<<16|ge|0,le!==0;);for(oe=1<<ye-1;Te&oe;)oe>>=1;if(oe!==0?(Te&=oe-1,Te+=oe):Te=0,we++,--ze[ye]==0){if(ye===$e)break;ye=Z[Y+ie[we]]}if(be<ye&&(Te&ce)!==ue){for(De===0&&(De=be),fe+=ve,Ne=1<<(Ce=ye-De);Ce+De<$e&&!((Ne-=ze[Ce+De])<=0);)Ce++,Ne<<=1;if(Me+=1<<Ce,V===1&&852<Me||V===2&&592<Me)return 1;ee[ue=Te&ce]=be<<24|Ce<<16|fe-ne|0}}return Te!==0&&(ee[fe+Te]=ye-De<<24|64<<16|0),se.bits=be,0}},{"../utils/common":41}],51:[function(O,I,F){I.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(O,I,F){var z=O("../utils/common"),L=0,U=1;function q(qe){for(var nt=qe.length;0<=--nt;)qe[nt]=0}var G=0,V=29,Z=256,Y=Z+1+V,W=30,ee=19,ne=2*Y+1,ie=15,se=16,oe=7,le=256,ue=16,ce=17,fe=18,me=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],he=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_e=new Array(2*(Y+2));q(_e);var ye=new Array(2*W);q(ye);var we=new Array(512);q(we);var ve=new Array(256);q(ve);var $e=new Array(V);q($e);var be,Ce,De,Ne=new Array(W);function Me(qe,nt,ft,je,Ve){this.static_tree=qe,this.extra_bits=nt,this.extra_base=ft,this.elems=je,this.max_length=Ve,this.has_stree=qe&&qe.length}function Te(qe,nt){this.dyn_tree=qe,this.max_code=0,this.stat_desc=nt}function Re(qe){return qe<256?we[qe]:we[256+(qe>>>7)]}function Se(qe,nt){qe.pending_buf[qe.pending++]=255&nt,qe.pending_buf[qe.pending++]=nt>>>8&255}function ze(qe,nt,ft){qe.bi_valid>se-ft?(qe.bi_buf|=nt<<qe.bi_valid&65535,Se(qe,qe.bi_buf),qe.bi_buf=nt>>se-qe.bi_valid,qe.bi_valid+=ft-se):(qe.bi_buf|=nt<<qe.bi_valid&65535,qe.bi_valid+=ft)}function Pe(qe,nt,ft){ze(qe,ft[2*nt],ft[2*nt+1])}function Qe(qe,nt){for(var ft=0;ft|=1&qe,qe>>>=1,ft<<=1,0<--nt;);return ft>>>1}function Ze(qe,nt,ft){var je,Ve,Ie=new Array(ie+1),Ue=0;for(je=1;je<=ie;je++)Ie[je]=Ue=Ue+ft[je-1]<<1;for(Ve=0;Ve<=nt;Ve++){var Xe=qe[2*Ve+1];Xe!==0&&(qe[2*Ve]=Qe(Ie[Xe]++,Xe))}}function Le(qe){var nt;for(nt=0;nt<Y;nt++)qe.dyn_ltree[2*nt]=0;for(nt=0;nt<W;nt++)qe.dyn_dtree[2*nt]=0;for(nt=0;nt<ee;nt++)qe.bl_tree[2*nt]=0;qe.dyn_ltree[2*le]=1,qe.opt_len=qe.static_len=0,qe.last_lit=qe.matches=0}function ke(qe){8<qe.bi_valid?Se(qe,qe.bi_buf):0<qe.bi_valid&&(qe.pending_buf[qe.pending++]=qe.bi_buf),qe.bi_buf=0,qe.bi_valid=0}function Ge(qe,nt,ft,je){var Ve=2*nt,Ie=2*ft;return qe[Ve]<qe[Ie]||qe[Ve]===qe[Ie]&&je[nt]<=je[ft]}function Ke(qe,nt,ft){for(var je=qe.heap[ft],Ve=ft<<1;Ve<=qe.heap_len&&(Ve<qe.heap_len&&Ge(nt,qe.heap[Ve+1],qe.heap[Ve],qe.depth)&&Ve++,!Ge(nt,je,qe.heap[Ve],qe.depth));)qe.heap[ft]=qe.heap[Ve],ft=Ve,Ve<<=1;qe.heap[ft]=je}function He(qe,nt,ft){var je,Ve,Ie,Ue,Xe=0;if(qe.last_lit!==0)for(;je=qe.pending_buf[qe.d_buf+2*Xe]<<8|qe.pending_buf[qe.d_buf+2*Xe+1],Ve=qe.pending_buf[qe.l_buf+Xe],Xe++,je===0?Pe(qe,Ve,nt):(Pe(qe,(Ie=ve[Ve])+Z+1,nt),(Ue=me[Ie])!==0&&ze(qe,Ve-=$e[Ie],Ue),Pe(qe,Ie=Re(--je),ft),(Ue=he[Ie])!==0&&ze(qe,je-=Ne[Ie],Ue)),Xe<qe.last_lit;);Pe(qe,le,nt)}function st(qe,nt){var ft,je,Ve,Ie=nt.dyn_tree,Ue=nt.stat_desc.static_tree,Xe=nt.stat_desc.has_stree,Fe=nt.stat_desc.elems,Je=-1;for(qe.heap_len=0,qe.heap_max=ne,ft=0;ft<Fe;ft++)Ie[2*ft]!==0?(qe.heap[++qe.heap_len]=Je=ft,qe.depth[ft]=0):Ie[2*ft+1]=0;for(;qe.heap_len<2;)Ie[2*(Ve=qe.heap[++qe.heap_len]=Je<2?++Je:0)]=1,qe.depth[Ve]=0,qe.opt_len--,Xe&&(qe.static_len-=Ue[2*Ve+1]);for(nt.max_code=Je,ft=qe.heap_len>>1;1<=ft;ft--)Ke(qe,Ie,ft);for(Ve=Fe;ft=qe.heap[1],qe.heap[1]=qe.heap[qe.heap_len--],Ke(qe,Ie,1),je=qe.heap[1],qe.heap[--qe.heap_max]=ft,qe.heap[--qe.heap_max]=je,Ie[2*Ve]=Ie[2*ft]+Ie[2*je],qe.depth[Ve]=(qe.depth[ft]>=qe.depth[je]?qe.depth[ft]:qe.depth[je])+1,Ie[2*ft+1]=Ie[2*je+1]=Ve,qe.heap[1]=Ve++,Ke(qe,Ie,1),2<=qe.heap_len;);qe.heap[--qe.heap_max]=qe.heap[1],(function(et,ut){var ct,bt,ht,xt,$t,At,Ct=ut.dyn_tree,Pt=ut.max_code,Oe=ut.stat_desc.static_tree,at=ut.stat_desc.has_stree,mt=ut.stat_desc.extra_bits,Et=ut.stat_desc.extra_base,Tt=ut.stat_desc.max_length,Mt=0;for(xt=0;xt<=ie;xt++)et.bl_count[xt]=0;for(Ct[2*et.heap[et.heap_max]+1]=0,ct=et.heap_max+1;ct<ne;ct++)Tt<(xt=Ct[2*Ct[2*(bt=et.heap[ct])+1]+1]+1)&&(xt=Tt,Mt++),Ct[2*bt+1]=xt,Pt<bt||(et.bl_count[xt]++,$t=0,Et<=bt&&($t=mt[bt-Et]),At=Ct[2*bt],et.opt_len+=At*(xt+$t),at&&(et.static_len+=At*(Oe[2*bt+1]+$t)));if(Mt!==0){do{for(xt=Tt-1;et.bl_count[xt]===0;)xt--;et.bl_count[xt]--,et.bl_count[xt+1]+=2,et.bl_count[Tt]--,Mt-=2}while(0<Mt);for(xt=Tt;xt!==0;xt--)for(bt=et.bl_count[xt];bt!==0;)Pt<(ht=et.heap[--ct])||(Ct[2*ht+1]!==xt&&(et.opt_len+=(xt-Ct[2*ht+1])*Ct[2*ht],Ct[2*ht+1]=xt),bt--)}})(qe,nt),Ze(Ie,Je,qe.bl_count)}function Ae(qe,nt,ft){var je,Ve,Ie=-1,Ue=nt[1],Xe=0,Fe=7,Je=4;for(Ue===0&&(Fe=138,Je=3),nt[2*(ft+1)+1]=65535,je=0;je<=ft;je++)Ve=Ue,Ue=nt[2*(je+1)+1],++Xe<Fe&&Ve===Ue||(Xe<Je?qe.bl_tree[2*Ve]+=Xe:Ve!==0?(Ve!==Ie&&qe.bl_tree[2*Ve]++,qe.bl_tree[2*ue]++):Xe<=10?qe.bl_tree[2*ce]++:qe.bl_tree[2*fe]++,Ie=Ve,Je=(Xe=0)===Ue?(Fe=138,3):Ve===Ue?(Fe=6,3):(Fe=7,4))}function tt(qe,nt,ft){var je,Ve,Ie=-1,Ue=nt[1],Xe=0,Fe=7,Je=4;for(Ue===0&&(Fe=138,Je=3),je=0;je<=ft;je++)if(Ve=Ue,Ue=nt[2*(je+1)+1],!(++Xe<Fe&&Ve===Ue)){if(Xe<Je)for(;Pe(qe,Ve,qe.bl_tree),--Xe!=0;);else Ve!==0?(Ve!==Ie&&(Pe(qe,Ve,qe.bl_tree),Xe--),Pe(qe,ue,qe.bl_tree),ze(qe,Xe-3,2)):Xe<=10?(Pe(qe,ce,qe.bl_tree),ze(qe,Xe-3,3)):(Pe(qe,fe,qe.bl_tree),ze(qe,Xe-11,7));Ie=Ve,Je=(Xe=0)===Ue?(Fe=138,3):Ve===Ue?(Fe=6,3):(Fe=7,4)}}q(Ne);var rt=!1;function We(qe,nt,ft,je){ze(qe,(G<<1)+(je?1:0),3),(function(Ve,Ie,Ue,Xe){ke(Ve),Se(Ve,Ue),Se(Ve,~Ue),z.arraySet(Ve.pending_buf,Ve.window,Ie,Ue,Ve.pending),Ve.pending+=Ue})(qe,nt,ft)}F._tr_init=function(qe){rt||((function(){var nt,ft,je,Ve,Ie,Ue=new Array(ie+1);for(Ve=je=0;Ve<V-1;Ve++)for($e[Ve]=je,nt=0;nt<1<<me[Ve];nt++)ve[je++]=Ve;for(ve[je-1]=Ve,Ve=Ie=0;Ve<16;Ve++)for(Ne[Ve]=Ie,nt=0;nt<1<<he[Ve];nt++)we[Ie++]=Ve;for(Ie>>=7;Ve<W;Ve++)for(Ne[Ve]=Ie<<7,nt=0;nt<1<<he[Ve]-7;nt++)we[256+Ie++]=Ve;for(ft=0;ft<=ie;ft++)Ue[ft]=0;for(nt=0;nt<=143;)_e[2*nt+1]=8,nt++,Ue[8]++;for(;nt<=255;)_e[2*nt+1]=9,nt++,Ue[9]++;for(;nt<=279;)_e[2*nt+1]=7,nt++,Ue[7]++;for(;nt<=287;)_e[2*nt+1]=8,nt++,Ue[8]++;for(Ze(_e,Y+1,Ue),nt=0;nt<W;nt++)ye[2*nt+1]=5,ye[2*nt]=Qe(nt,5);be=new Me(_e,me,Z+1,Y,ie),Ce=new Me(ye,he,0,W,ie),De=new Me(new Array(0),pe,0,ee,oe)})(),rt=!0),qe.l_desc=new Te(qe.dyn_ltree,be),qe.d_desc=new Te(qe.dyn_dtree,Ce),qe.bl_desc=new Te(qe.bl_tree,De),qe.bi_buf=0,qe.bi_valid=0,Le(qe)},F._tr_stored_block=We,F._tr_flush_block=function(qe,nt,ft,je){var Ve,Ie,Ue=0;0<qe.level?(qe.strm.data_type===2&&(qe.strm.data_type=(function(Xe){var Fe,Je=4093624447;for(Fe=0;Fe<=31;Fe++,Je>>>=1)if(1&Je&&Xe.dyn_ltree[2*Fe]!==0)return L;if(Xe.dyn_ltree[18]!==0||Xe.dyn_ltree[20]!==0||Xe.dyn_ltree[26]!==0)return U;for(Fe=32;Fe<Z;Fe++)if(Xe.dyn_ltree[2*Fe]!==0)return U;return L})(qe)),st(qe,qe.l_desc),st(qe,qe.d_desc),Ue=(function(Xe){var Fe;for(Ae(Xe,Xe.dyn_ltree,Xe.l_desc.max_code),Ae(Xe,Xe.dyn_dtree,Xe.d_desc.max_code),st(Xe,Xe.bl_desc),Fe=ee-1;3<=Fe&&Xe.bl_tree[2*ge[Fe]+1]===0;Fe--);return Xe.opt_len+=3*(Fe+1)+5+5+4,Fe})(qe),Ve=qe.opt_len+3+7>>>3,(Ie=qe.static_len+3+7>>>3)<=Ve&&(Ve=Ie)):Ve=Ie=ft+5,ft+4<=Ve&&nt!==-1?We(qe,nt,ft,je):qe.strategy===4||Ie===Ve?(ze(qe,2+(je?1:0),3),He(qe,_e,ye)):(ze(qe,4+(je?1:0),3),(function(Xe,Fe,Je,et){var ut;for(ze(Xe,Fe-257,5),ze(Xe,Je-1,5),ze(Xe,et-4,4),ut=0;ut<et;ut++)ze(Xe,Xe.bl_tree[2*ge[ut]+1],3);tt(Xe,Xe.dyn_ltree,Fe-1),tt(Xe,Xe.dyn_dtree,Je-1)})(qe,qe.l_desc.max_code+1,qe.d_desc.max_code+1,Ue+1),He(qe,qe.dyn_ltree,qe.dyn_dtree)),Le(qe),je&&ke(qe)},F._tr_tally=function(qe,nt,ft){return qe.pending_buf[qe.d_buf+2*qe.last_lit]=nt>>>8&255,qe.pending_buf[qe.d_buf+2*qe.last_lit+1]=255&nt,qe.pending_buf[qe.l_buf+qe.last_lit]=255&ft,qe.last_lit++,nt===0?qe.dyn_ltree[2*ft]++:(qe.matches++,nt--,qe.dyn_ltree[2*(ve[ft]+Z+1)]++,qe.dyn_dtree[2*Re(nt)]++),qe.last_lit===qe.lit_bufsize-1},F._tr_align=function(qe){ze(qe,2,3),Pe(qe,le,_e),(function(nt){nt.bi_valid===16?(Se(nt,nt.bi_buf),nt.bi_buf=0,nt.bi_valid=0):8<=nt.bi_valid&&(nt.pending_buf[nt.pending++]=255&nt.bi_buf,nt.bi_buf>>=8,nt.bi_valid-=8)})(qe)}},{"../utils/common":41}],53:[function(O,I,F){I.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(O,I,F){(function(z){(function(L,U){if(!L.setImmediate){var q,G,V,Z,Y=1,W={},ee=!1,ne=L.document,ie=Object.getPrototypeOf&&Object.getPrototypeOf(L);ie=ie&&ie.setTimeout?ie:L,q={}.toString.call(L.process)==="[object process]"?function(ue){process.nextTick(function(){oe(ue)})}:(function(){if(L.postMessage&&!L.importScripts){var ue=!0,ce=L.onmessage;return L.onmessage=function(){ue=!1},L.postMessage("","*"),L.onmessage=ce,ue}})()?(Z="setImmediate$"+Math.random()+"$",L.addEventListener?L.addEventListener("message",le,!1):L.attachEvent("onmessage",le),function(ue){L.postMessage(Z+ue,"*")}):L.MessageChannel?((V=new MessageChannel).port1.onmessage=function(ue){oe(ue.data)},function(ue){V.port2.postMessage(ue)}):ne&&"onreadystatechange"in ne.createElement("script")?(G=ne.documentElement,function(ue){var ce=ne.createElement("script");ce.onreadystatechange=function(){oe(ue),ce.onreadystatechange=null,G.removeChild(ce),ce=null},G.appendChild(ce)}):function(ue){setTimeout(oe,0,ue)},ie.setImmediate=function(ue){typeof ue!="function"&&(ue=new Function(""+ue));for(var ce=new Array(arguments.length-1),fe=0;fe<ce.length;fe++)ce[fe]=arguments[fe+1];var me={callback:ue,args:ce};return W[Y]=me,q(Y),Y++},ie.clearImmediate=se}function se(ue){delete W[ue]}function oe(ue){if(ee)setTimeout(oe,0,ue);else{var ce=W[ue];if(ce){ee=!0;try{(function(fe){var me=fe.callback,he=fe.args;switch(he.length){case 0:me();break;case 1:me(he[0]);break;case 2:me(he[0],he[1]);break;case 3:me(he[0],he[1],he[2]);break;default:me.apply(U,he)}})(ce)}finally{se(ue),ee=!1}}}}function le(ue){ue.source===L&&typeof ue.data=="string"&&ue.data.indexOf(Z)===0&&oe(+ue.data.slice(Z.length))}})(typeof self>"u"?z===void 0?this:z:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min)),jszip_min.exports}var jszip_minExports=requireJszip_min();const JSZip=getDefaultExportFromCjs(jszip_minExports);class ZipBuilder{zip;constructor(){this.zip=new JSZip}addFile(R,O){this.zip.file(R,O)}async generate(){return await this.zip.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}})}getFileCount(){let R=0;return this.zip.forEach(()=>{R++}),R}}async function runBatchExport(_,R,O){const I=_.modelName??_.baseParams.metadata.model,F=modelRegistry.get(I);if(!F)throw new Error(`Model "${I}" not found in registry`);const z=generateParameterConfigs(_.batchConfig.parameter_ranges,_.batchConfig.sampling_mode,_.batchConfig.random_sample_count),L=z.length*_.batchConfig.seeds_per_config,U=new ZipBuilder,q=tomlExports.stringify(_.batchConfig);U.addFile("config.toml",q),R.onProgress?.({phase:"initializing",currentRun:0,totalRuns:L,runProgress:0,overallPercent:0});let G=0;for(let Z=0;Z<z.length;Z++){const Y=z[Z];for(let W=0;W<_.batchConfig.seeds_per_config;W++){if(O?.aborted)throw new Error("Export cancelled by user");G++;const ee=W+1;R.onProgress?.({phase:"simulating",currentRun:G,totalRuns:L,runProgress:0,overallPercent:(G-1)/L*100,currentConfig:Y}),await runSingleExport(F,_.baseParams,Y,ee,G,_,U,R,O)}}return R.onProgress?.({phase:"packaging",currentRun:L,totalRuns:L,runProgress:100,overallPercent:100}),await U.generate()}async function runSingleExport(_,R,O,I,F,z,L,U,q){const G=structuredClone(R);for(const[ue,ce]of Object.entries(O))setNestedValue(G,ue,ce);G.general.random_seed=I;const V=`run_${F.toString().padStart(3,"0")}`,Z=tomlExports.stringify(G);L.addFile(`${V}/params.toml`,Z);const Y=new OffscreenRenderer({width:z.resolution.width,height:z.resolution.height,isDark:z.isDark??!1});await Y.init(_,G),z.renderOptions&&Y.setRenderOptions(z.renderOptions);const W=new SimulationEngine({model:_,params:G});W.init();const ee=getTimeSamples(z.batchConfig.time_samples),ne=G.general.t_end;let ie=null;z.exportMovie&&(ie=new MP4VideoEncoder({width:z.resolution.width,height:z.resolution.height,frameRate:z.frameRate}),await ie.init());let se=0;if(ee.length>0&&ee[0]<=0){const ue=W.getState();Y.render(ue);const ce=await Y.getScreenshot();if(L.addFile(`${V}/screenshots/t_${ee[0].toFixed(2)}h.png`,ce),ie){const fe=Y.getCanvas();fe instanceof HTMLCanvasElement&&await ie.addFrame(fe,0)}se=1}let oe=0;const le=1e3/z.frameRate;for(;!W.isComplete();){if(q?.aborted)throw Y.destroy(),new Error("Export cancelled by user");W.step();const ue=W.getState(),ce=ue.t??0;if(Y.render(ue),ie&&ce*1e3>=oe*le){const he=Y.getCanvas();he instanceof HTMLCanvasElement&&await ie.addFrame(he,ce*1e3),oe++}for(;se<ee.length&&ce>=ee[se];){const he=await Y.getScreenshot();L.addFile(`${V}/screenshots/t_${ee[se].toFixed(2)}h.png`,he),se++}const fe=Math.min(ce/ne*100,100),me=(U.onProgress,1);U.onProgress?.({phase:"simulating",currentRun:F,totalRuns:me,runProgress:fe,overallPercent:(F-1+fe/100)/me*100,currentConfig:O})}if(ie){U.onProgress?.({phase:"encoding",currentRun:F,totalRuns:1,runProgress:100,overallPercent:(F-.5)/1*100});const ue=await ie.finish();L.addFile(`${V}/movie.mp4`,ue)}Y.destroy()}function BatchTab({config:_,onConfigChange:R}){const{currentModel:O}=useModel(),[I,F]=reactExports.useState(null),[z,L]=reactExports.useState(null),[U,q]=reactExports.useState(!1),[G,V]=reactExports.useState(null),Z=reactExports.useRef(!1),W=(O?.generateStatistics?O.generateStatistics(_.params):O?.statistics||[]).map(Fe=>Fe.id),[ee,ne]=reactExports.useState("time_series"),[ie,se]=reactExports.useState([]),[oe,le]=reactExports.useState([]),[ue,ce]=reactExports.useState([]),[fe,me]=reactExports.useState("time_h"),[he,pe]=reactExports.useState(""),[ge,_e]=reactExports.useState("line_ci"),[ye,we]=reactExports.useState(""),[ve,$e]=reactExports.useState(""),[be,Ce]=reactExports.useState(WorkerPool.isSupported()),De=typeof navigator<"u"&&navigator.hardwareConcurrency||4,Ne=reactExports.useRef(null),[Me,Te]=reactExports.useState({exportMovie:!0,resolution:{width:1920,height:1920},frameRate:30}),[Re,Se]=reactExports.useState(null),ze=reactExports.useRef(null),Pe=computeTotalRuns(_.parameterRanges,_.seedsPerConfig),Qe=getTimeSamples(_.timeSamples),Ze=Pe*Qe.length,Le=reactExports.useCallback(async()=>{q(!0),V(Date.now()),Z.current=!1;try{const Fe=await runBatch(_.params,{parameter_ranges:_.parameterRanges,time_samples:_.timeSamples,seeds_per_config:_.seedsPerConfig,sampling_mode:"grid"},{onProgress:Je=>{Z.current||L(Je)}},{parallel:be,workerCount:De});Z.current||(F(Fe),se([]),le([]))}catch(Fe){console.error("Batch run failed:",Fe),alert("Batch run failed. Check console for details.")}finally{q(!1),L(null),V(null)}},[_,be,De]),ke=reactExports.useCallback(()=>{Z.current=!0},[]),Ge=async Fe=>{const Je=Fe.target.files?.[0];if(Je){try{const et=await readFileAsText(Je),ut=csvToBatchSnapshots(et),ct=createBatchDataFromSnapshots(ut);F(ct),se([]),le([])}catch(et){console.error("Failed to load batch CSV:",et),alert("Failed to load batch CSV. Check console for details.")}Ne.current&&(Ne.current.value="")}},Ke=()=>{if(!I)return;const Fe=batchSnapshotsToCSV(I.snapshots);downloadCSV(Fe,"batch_snapshots.csv")},He=reactExports.useCallback(async()=>{if(!_.params)return;const Fe=new AbortController;ze.current=Fe;try{const Je=await runBatchExport({batchConfig:{parameter_ranges:_.parameterRanges,time_samples:_.timeSamples,seeds_per_config:_.seedsPerConfig,sampling_mode:"grid"},baseParams:_.params,exportMovie:Me.exportMovie,resolution:Me.resolution,frameRate:Me.frameRate,isDark:!1,renderOptions:{}},{onProgress:bt=>{Se(bt)}},Fe.signal),ut=`batch_export_${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.zip`,ct=document.createElement("a");ct.href=URL.createObjectURL(Je),ct.download=ut,ct.click(),URL.revokeObjectURL(ct.href),Se(null)}catch(Je){Je.message.includes("cancelled")?console.log("Export cancelled"):(console.error("Export failed:",Je),alert("Export failed. Check console for details.")),Se(null)}finally{ze.current=null}},[_,Me]),st=reactExports.useCallback(()=>{ze.current&&(ze.current.abort(),ze.current=null),Se(null)},[]),Ae=()=>{if(!I||W.length===0||!O)return;const Fe=new Set;for(const At of I.snapshots)for(const Ct of Object.keys(At.sampled_params))Fe.add(Ct);const Je=Array.from(Fe).sort();let et;if(ee==="terminal"){const At=new Map;for(const Ct of I.snapshots){const Pt=`${Ct.run_index}-${Ct.seed}`,Oe=At.get(Pt);(!Oe||Ct.time_h>Oe.time_h)&&At.set(Pt,Ct)}et=Array.from(At.values())}else et=I.snapshots;const ut=new Set,ct=new Set;for(const At of W){const Ct=At.lastIndexOf("_");if(Ct>0){const Pt=At.substring(0,Ct),Oe=At.substring(Ct+1);ct.add(Pt),ut.add(Oe)}}const bt=Array.from(ut).sort(),ht=Array.from(ct).sort(),xt=[...Je,"run_index","seed","time_h","cell_group",...ht],$t=[];for(const At of et){const Ct=structuredClone(_.params);for(const[at,mt]of Object.entries(At.sampled_params))setNestedValue(Ct,at,mt);const Pt=O.loadSnapshot(At.data,Ct),Oe=O.computeStats(Pt,Ct);for(const at of bt){const mt=[...Je.map(Et=>At.sampled_params[Et]??""),At.run_index,At.seed,At.time_h,at,...ht.map(Et=>{const Tt=`${Et}_${at}`;return Oe[Tt]??0})];$t.push(mt)}}se(xt),le($t),ce(Je),!he&&ht.length>0&&pe(ht[0])},tt=Fe=>{const Je=oe[Fe];if(!Je)return;const et=structuredClone(_.params);ue.forEach((ht,xt)=>{const $t=Je[xt];$t!==""&&$t!==void 0&&setNestedValue(et,ht,$t)});const ut=ue.length+1,ct=Je[ut];typeof ct=="number"&&(et.general.random_seed=ct);const bt=encodeParamsToUrl(O.name,et);window.open(bt,"_blank")},rt=()=>{if(ie.length===0||oe.length===0)return;const Fe=statisticsToCSV(ie,oe);downloadCSV(Fe,"batch_statistics.csv")},We=()=>{if(!I||!O)return;const Fe=new Set;for(const ht of I.snapshots)for(const xt of Object.keys(ht.sampled_params))Fe.add(xt);const Je=Array.from(Fe).sort();let et;if(ee==="terminal"){const ht=new Map;for(const xt of I.snapshots){const $t=`${xt.run_index}-${xt.seed}`,At=ht.get($t);(!At||xt.time_h>At.time_h)&&ht.set($t,xt)}et=Array.from(ht.values())}else et=I.snapshots;const ut=[...Je,"run_index","seed","time_h","cell_id","cell_type","X_x","X_y","A_x","A_y","B_x","B_y","a_x","a_y","b_x","b_y","ab_distance","AX","BX","ax","bx","x","below_basal","above_apical","below_neighbours"],ct=[];for(const ht of et){const xt=structuredClone(_.params);for(const[$t,At]of Object.entries(ht.sampled_params))setNestedValue(xt,$t,At);for(let $t=0;$t<ht.data.length;$t++){const At=ht.data[$t],Ct=[...Je.map(Pt=>ht.sampled_params[Pt]??""),ht.run_index,ht.seed,ht.time_h,$t,At.typeIndex||"",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];ct.push(Ct)}}const bt=statisticsToCSV(ut,ct);downloadCSV(bt,"batch_full_cell_data.csv")},qe=z?z.current_run/z.total_runs*100:0,ft=(()=>{if(!z||!G||z.current_run===0)return null;const Je=(Date.now()-G)/z.current_run,et=z.total_runs-z.current_run,ut=Je*et;if(ut<1e3)return"< 1s";if(ut<6e4)return`${Math.ceil(ut/1e3)}s`;if(ut<36e5){const ht=Math.floor(ut/6e4),xt=Math.ceil(ut%6e4/1e3);return`${ht}m ${xt}s`}const ct=Math.floor(ut/36e5),bt=Math.ceil(ut%36e5/6e4);return`${ct}h ${bt}m`})(),je=ie.filter(Fe=>!["run_index","seed","time_h","cell_group"].includes(Fe)&&!Fe.includes(".")),Ve=ie.filter(Fe=>Fe==="time_h"||Fe.includes(".")&&!["run_index","seed","cell_group"].includes(Fe));let Ie=[],Ue=[],Xe=[];return ge==="histogram"&&he?Xe=aggregateForHistogram(ie,oe,he):ge==="line_ci"&&fe&&he?Ue=aggregateByXAxisWithCI(ie,oe,fe,he):fe&&he&&(Ie=aggregateByTime(ie,oe,he)),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Run New Batch"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Uses the shared parameters, ranges, seeds, and time samples configured in the Parameters panel."}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Parameter ranges"}),_.parameterRanges.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"No ranges defined."}):jsxRuntimeExports.jsx("ul",{className:"space-y-1 text-sm",children:_.parameterRanges.map(Fe=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-xs",children:Fe.path}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[Fe.min,"  ",Fe.max," (",Fe.steps," steps)"]})]},Fe.path))})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:["Time samples: ",_.timeSamples.start,"h  ",_.timeSamples.end,"h (step ",_.timeSamples.step,"h)"]}),jsxRuntimeExports.jsxs("p",{children:["Seeds per configuration: ",_.seedsPerConfig]}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground",children:["Total: ",Pe," run",Pe!==1?"s":"","  ",Qe.length," time point",Qe.length!==1?"s":""," = ",Ze," snapshot",Ze!==1?"s":""]})]}),WorkerPool.isSupported()&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:be,onChange:Fe=>Ce(Fe.target.checked),disabled:U,className:"rounded"}),"Parallel execution"]}),be&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",De," workers)"]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:U?jsxRuntimeExports.jsxs(Button,{onClick:ke,variant:"destructive",size:"sm",children:[jsxRuntimeExports.jsx(Square,{className:"h-4 w-4 mr-1"}),"Stop"]}):jsxRuntimeExports.jsxs(Button,{onClick:Le,size:"sm",disabled:_.parameterRanges.length===0&&_.seedsPerConfig<=1,children:[jsxRuntimeExports.jsx(Play,{className:"h-4 w-4 mr-1"}),"Run Batch"]})}),U&&z&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Progress,{value:qe,className:"h-2"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[z.current_run," / ",z.total_runs," runs",ft&&`  ~${ft} remaining`]})]})]})]}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"pt-4 space-y-3",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx("input",{ref:Ne,type:"file",accept:".csv",onChange:Ge,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Ne.current?.click(),disabled:U,children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-1"}),"Load Batch CSV"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Ke,disabled:!I||U,children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-1"}),"Save Batch CSV"]}),I&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:[I.snapshots.length," snapshots loaded"]})]})})}),jsxRuntimeExports.jsx(ExtendedExportPanel,{config:Me,onChange:Te,onExport:He,disabled:U||!!Re||_.parameterRanges.length===0}),I&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Compute Statistics"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"All available statistics will be computed for all cell groups."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm",children:"Output:"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"outputMode",checked:ee==="time_series",onChange:()=>ne("time_series"),disabled:U}),"Time Series"]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"outputMode",checked:ee==="terminal",onChange:()=>ne("terminal"),disabled:U}),"Terminal Only"]})]}),jsxRuntimeExports.jsx(Button,{onClick:Ae,size:"sm",disabled:!O||U,children:"Compute"})]})]}),oe.length>0&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"pb-3 flex-row items-center justify-between",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Results"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:rt,children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"h-4 w-4 mr-1"}),"Export CSV"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:We,children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"h-4 w-4 mr-1"}),"Export Full CSV"]})]})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(ResultsTable,{columns:ie,rows:oe,onRunRow:tt}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[oe.length," row",oe.length!==1?"s":""]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium",children:"Visualization"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plot-type",className:"text-sm",children:"Plot Type"}),jsxRuntimeExports.jsxs("select",{id:"plot-type",value:ge,onChange:Fe=>_e(Fe.target.value),className:"w-full h-9 px-3 rounded-md border border-input bg-background text-sm",children:[jsxRuntimeExports.jsx("option",{value:"line_ci",children:"Line + CI"}),jsxRuntimeExports.jsx("option",{value:"histogram",children:"Histogram"})]})]}),ge!=="histogram"&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plot-x-axis",className:"text-sm",children:"X-Axis"}),jsxRuntimeExports.jsxs("select",{id:"plot-x-axis",value:fe,onChange:Fe=>me(Fe.target.value),className:"w-full h-9 px-3 rounded-md border border-input bg-background text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select x-axis..."}),Ve.map(Fe=>jsxRuntimeExports.jsx("option",{value:Fe,children:Fe},Fe))]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plot-y-axis",className:"text-sm",children:"Y-Axis (Statistic)"}),jsxRuntimeExports.jsxs("select",{id:"plot-y-axis",value:he,onChange:Fe=>pe(Fe.target.value),className:"w-full h-9 px-3 rounded-md border border-input bg-background text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select statistic..."}),je.map(Fe=>jsxRuntimeExports.jsx("option",{value:Fe,children:Fe},Fe))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-xs",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plot-y-min",className:"text-sm",children:"Y Min"}),jsxRuntimeExports.jsx("input",{id:"plot-y-min",type:"number",value:ye,onChange:Fe=>we(Fe.target.value),placeholder:"Auto",className:"w-full h-9 px-3 rounded-md border border-input bg-background text-sm"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plot-y-max",className:"text-sm",children:"Y Max"}),jsxRuntimeExports.jsx("input",{id:"plot-y-max",type:"number",value:ve,onChange:Fe=>$e(Fe.target.value),placeholder:"Auto",className:"w-full h-9 px-3 rounded-md border border-input bg-background text-sm"})]})]}),ge==="histogram"&&he&&Xe.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-4 border rounded-md p-4 bg-muted/30",children:jsxRuntimeExports.jsx(BatchPlot,{data:Ie,dataWithCI:Ue,histogramData:Xe,xAxisLabel:"Cell Group",yAxisLabel:he,plotType:ge,width:640,height:400,yMin:ye!==""?parseFloat(ye):void 0,yMax:ve!==""?parseFloat(ve):void 0})}),ge==="line_ci"&&fe&&he&&Ue.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-4 border rounded-md p-4 bg-muted/30",children:jsxRuntimeExports.jsx(BatchPlot,{data:Ie,dataWithCI:Ue,histogramData:Xe,xAxisLabel:fe==="time_h"?"Time (h)":fe,yAxisLabel:he,plotType:ge,width:640,height:400,yMin:ye!==""?parseFloat(ye):void 0,yMax:ve!==""?parseFloat(ve):void 0})})]})]})]}),Re&&jsxRuntimeExports.jsx(ExportProgressModal,{progress:Re,onCancel:st})]})}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME="RovingFocusGroup",[Collection,useCollection,createCollectionScope]=createCollection(GROUP_NAME),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope$1(GROUP_NAME,[createCollectionScope]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME),RovingFocusGroup=reactExports.forwardRef((_,R)=>jsxRuntimeExports.jsx(Collection.Provider,{scope:_.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:_.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{..._,ref:R})})}));RovingFocusGroup.displayName=GROUP_NAME;var RovingFocusGroupImpl=reactExports.forwardRef((_,R)=>{const{__scopeRovingFocusGroup:O,orientation:I,loop:F=!1,dir:z,currentTabStopId:L,defaultCurrentTabStopId:U,onCurrentTabStopIdChange:q,onEntryFocus:G,preventScrollOnEntryFocus:V=!1,...Z}=_,Y=reactExports.useRef(null),W=useComposedRefs(R,Y),ee=useDirection(z),[ne,ie]=useControllableState({prop:L,defaultProp:U??null,onChange:q,caller:GROUP_NAME}),[se,oe]=reactExports.useState(!1),le=useCallbackRef$1(G),ue=useCollection(O),ce=reactExports.useRef(!1),[fe,me]=reactExports.useState(0);return reactExports.useEffect(()=>{const he=Y.current;if(he)return he.addEventListener(ENTRY_FOCUS,le),()=>he.removeEventListener(ENTRY_FOCUS,le)},[le]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:O,orientation:I,dir:ee,loop:F,currentTabStopId:ne,onItemFocus:reactExports.useCallback(he=>ie(he),[ie]),onItemShiftTab:reactExports.useCallback(()=>oe(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>me(he=>he+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>me(he=>he-1),[]),children:jsxRuntimeExports.jsx(Primitive$2.div,{tabIndex:se||fe===0?-1:0,"data-orientation":I,...Z,ref:W,style:{outline:"none",..._.style},onMouseDown:composeEventHandlers$1(_.onMouseDown,()=>{ce.current=!0}),onFocus:composeEventHandlers$1(_.onFocus,he=>{const pe=!ce.current;if(he.target===he.currentTarget&&pe&&!se){const ge=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(he.currentTarget.dispatchEvent(ge),!ge.defaultPrevented){const _e=ue().filter(be=>be.focusable),ye=_e.find(be=>be.active),we=_e.find(be=>be.id===ne),$e=[ye,we,..._e].filter(Boolean).map(be=>be.ref.current);focusFirst($e,V)}}ce.current=!1}),onBlur:composeEventHandlers$1(_.onBlur,()=>oe(!1))})})}),ITEM_NAME="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((_,R)=>{const{__scopeRovingFocusGroup:O,focusable:I=!0,active:F=!1,tabStopId:z,children:L,...U}=_,q=useId(),G=z||q,V=useRovingFocusContext(ITEM_NAME,O),Z=V.currentTabStopId===G,Y=useCollection(O),{onFocusableItemAdd:W,onFocusableItemRemove:ee,currentTabStopId:ne}=V;return reactExports.useEffect(()=>{if(I)return W(),()=>ee()},[I,W,ee]),jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:O,id:G,focusable:I,active:F,children:jsxRuntimeExports.jsx(Primitive$2.span,{tabIndex:Z?0:-1,"data-orientation":V.orientation,...U,ref:R,onMouseDown:composeEventHandlers$1(_.onMouseDown,ie=>{I?V.onItemFocus(G):ie.preventDefault()}),onFocus:composeEventHandlers$1(_.onFocus,()=>V.onItemFocus(G)),onKeyDown:composeEventHandlers$1(_.onKeyDown,ie=>{if(ie.key==="Tab"&&ie.shiftKey){V.onItemShiftTab();return}if(ie.target!==ie.currentTarget)return;const se=getFocusIntent(ie,V.orientation,V.dir);if(se!==void 0){if(ie.metaKey||ie.ctrlKey||ie.altKey||ie.shiftKey)return;ie.preventDefault();let le=Y().filter(ue=>ue.focusable).map(ue=>ue.ref.current);if(se==="last")le.reverse();else if(se==="prev"||se==="next"){se==="prev"&&le.reverse();const ue=le.indexOf(ie.currentTarget);le=V.loop?wrapArray(le,ue+1):le.slice(ue+1)}setTimeout(()=>focusFirst(le))}}),children:typeof L=="function"?L({isCurrentTabStop:Z,hasTabStop:ne!=null}):L})})});RovingFocusGroupItem.displayName=ITEM_NAME;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(_,R){return R!=="rtl"?_:_==="ArrowLeft"?"ArrowRight":_==="ArrowRight"?"ArrowLeft":_}function getFocusIntent(_,R,O){const I=getDirectionAwareKey(_.key,O);if(!(R==="vertical"&&["ArrowLeft","ArrowRight"].includes(I))&&!(R==="horizontal"&&["ArrowUp","ArrowDown"].includes(I)))return MAP_KEY_TO_FOCUS_INTENT[I]}function focusFirst(_,R=!1){const O=document.activeElement;for(const I of _)if(I===O||(I.focus({preventScroll:R}),document.activeElement!==O))return}function wrapArray(_,R){return _.map((O,I)=>_[(R+I)%_.length])}var Root=RovingFocusGroup,Item=RovingFocusGroupItem,TABS_NAME="Tabs",[createTabsContext]=createContextScope$1(TABS_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext(TABS_NAME),Tabs$1=reactExports.forwardRef((_,R)=>{const{__scopeTabs:O,value:I,onValueChange:F,defaultValue:z,orientation:L="horizontal",dir:U,activationMode:q="automatic",...G}=_,V=useDirection(U),[Z,Y]=useControllableState({prop:I,onChange:F,defaultProp:z??"",caller:TABS_NAME});return jsxRuntimeExports.jsx(TabsProvider,{scope:O,baseId:useId(),value:Z,onValueChange:Y,orientation:L,dir:V,activationMode:q,children:jsxRuntimeExports.jsx(Primitive$2.div,{dir:V,"data-orientation":L,...G,ref:R})})});Tabs$1.displayName=TABS_NAME;var TAB_LIST_NAME="TabsList",TabsList$1=reactExports.forwardRef((_,R)=>{const{__scopeTabs:O,loop:I=!0,...F}=_,z=useTabsContext(TAB_LIST_NAME,O),L=useRovingFocusGroupScope(O);return jsxRuntimeExports.jsx(Root,{asChild:!0,...L,orientation:z.orientation,dir:z.dir,loop:I,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"tablist","aria-orientation":z.orientation,...F,ref:R})})});TabsList$1.displayName=TAB_LIST_NAME;var TRIGGER_NAME="TabsTrigger",TabsTrigger$1=reactExports.forwardRef((_,R)=>{const{__scopeTabs:O,value:I,disabled:F=!1,...z}=_,L=useTabsContext(TRIGGER_NAME,O),U=useRovingFocusGroupScope(O),q=makeTriggerId(L.baseId,I),G=makeContentId(L.baseId,I),V=I===L.value;return jsxRuntimeExports.jsx(Item,{asChild:!0,...U,focusable:!F,active:V,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"tab","aria-selected":V,"aria-controls":G,"data-state":V?"active":"inactive","data-disabled":F?"":void 0,disabled:F,id:q,...z,ref:R,onMouseDown:composeEventHandlers$1(_.onMouseDown,Z=>{!F&&Z.button===0&&Z.ctrlKey===!1?L.onValueChange(I):Z.preventDefault()}),onKeyDown:composeEventHandlers$1(_.onKeyDown,Z=>{[" ","Enter"].includes(Z.key)&&L.onValueChange(I)}),onFocus:composeEventHandlers$1(_.onFocus,()=>{const Z=L.activationMode!=="manual";!V&&!F&&Z&&L.onValueChange(I)})})})});TabsTrigger$1.displayName=TRIGGER_NAME;var CONTENT_NAME="TabsContent",TabsContent$1=reactExports.forwardRef((_,R)=>{const{__scopeTabs:O,value:I,forceMount:F,children:z,...L}=_,U=useTabsContext(CONTENT_NAME,O),q=makeTriggerId(U.baseId,I),G=makeContentId(U.baseId,I),V=I===U.value,Z=reactExports.useRef(V);return reactExports.useEffect(()=>{const Y=requestAnimationFrame(()=>Z.current=!1);return()=>cancelAnimationFrame(Y)},[]),jsxRuntimeExports.jsx(Presence,{present:F||V,children:({present:Y})=>jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":V?"active":"inactive","data-orientation":U.orientation,role:"tabpanel","aria-labelledby":q,hidden:!Y,id:G,tabIndex:0,...L,ref:R,style:{..._.style,animationDuration:Z.current?"0s":void 0},children:Y&&z})})});TabsContent$1.displayName=CONTENT_NAME;function makeTriggerId(_,R){return`${_}-trigger-${R}`}function makeContentId(_,R){return`${_}-content-${R}`}var Root2=Tabs$1,List=TabsList$1,Trigger=TabsTrigger$1,Content=TabsContent$1;const Tabs=Root2,TabsList=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx(List,{ref:O,className:cn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",_),...R}));TabsList.displayName=List.displayName;const TabsTrigger=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx(Trigger,{ref:O,className:cn("m-1 inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all hover:bg-blue-500 hover:text-white disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-green-500 data-[state=active]:text-white data-[state=active]:shadow-sm",_),...R}));TabsTrigger.displayName=Trigger.displayName;const TabsContent=reactExports.forwardRef(({className:_,...R},O)=>jsxRuntimeExports.jsx(Content,{ref:O,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",_),...R}));TabsContent.displayName=Content.displayName;function ModelParameterPanel({params:_,onChange:R,disabled:O}){const{currentModel:I}=useModel(),F=I.ui?.WarningBanner,z=I.ui?.ParametersTab,L=I.ui?.CellTypesTab,U=I.ui?.CellEventsTab,q=I.ui?.SimulationTab,G=!!L,V=!!U,Z=!!q;return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col",children:[F&&jsxRuntimeExports.jsx("div",{className:"shrink-0 p-2",children:jsxRuntimeExports.jsx(F,{params:_,onChange:R,disabled:O})}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"parameters",className:"flex-1 flex flex-col min-h-0",children:[jsxRuntimeExports.jsxs(TabsList,{className:"w-full justify-start shrink-0",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"parameters",children:"Parameters"}),G&&jsxRuntimeExports.jsx(TabsTrigger,{value:"celltypes",children:"Cell Types"}),V&&jsxRuntimeExports.jsx(TabsTrigger,{value:"cellevents",children:"Cell Events"}),Z&&jsxRuntimeExports.jsx(TabsTrigger,{value:"simulation",children:"Simulation"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"parameters",className:"flex-1 overflow-hidden mt-0",children:jsxRuntimeExports.jsx(ScrollArea,{className:"h-full",children:jsxRuntimeExports.jsx("div",{className:"p-4 space-y-3",children:z?jsxRuntimeExports.jsx(z,{params:_,onChange:R,disabled:O}):jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"No parameter UI defined for this model."})})})}),G&&jsxRuntimeExports.jsx(TabsContent,{value:"celltypes",className:"flex-1 mt-0 overflow-auto",children:jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsx(L,{params:_,onChange:R,disabled:O})})}),V&&jsxRuntimeExports.jsx(TabsContent,{value:"cellevents",className:"flex-1 mt-0 overflow-auto",children:jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsx(U,{params:_,onChange:R,disabled:O})})}),Z&&jsxRuntimeExports.jsx(TabsContent,{value:"simulation",className:"flex-1 overflow-hidden mt-0",children:jsxRuntimeExports.jsx(ScrollArea,{className:"h-full",children:jsxRuntimeExports.jsx("div",{className:"p-4 space-y-3",children:jsxRuntimeExports.jsx(q,{params:_,onChange:R,disabled:O})})})})]})]})}function parseNumber(_,R=0){if(_==null||_==="")return R;if(typeof _=="number")return _;const O=String(_).trim().toLowerCase();if(O==="inf"||O==="infinity")return 1/0;if(O==="-inf"||O==="-infinity")return-1/0;const I=parseFloat(O);return isNaN(I)?R:I}function parseInitDistr(_){const R={};if(!_)return R;const O=_.split(",");for(const I of O){const[F,z]=I.split(":").map(L=>L.trim());if(F&&z){const L=parseInt(z,10);isNaN(L)||(R[F]=(R[F]||0)+L)}}return R}function parseINMFromEventStart(_){if(typeof _=="number")return isFinite(_)?1:0;const R=String(_).trim();if(R.toLowerCase()==="inf"||R.toLowerCase()==="infinity")return 0;if(R==="0")return 1;if(R.startsWith("(")&&R.endsWith(")")){const I=R.slice(1,-1).split(",").map(F=>F.trim());for(const F of I){const z=F.match(/^([\d.]+)%\s*Inf$/i);if(z){const L=parseFloat(z[1]);if(!isNaN(L))return 1-L/100}}}return 1}function importLegacyXLSX(_){const R=structuredClone(DEFAULT_EHT_PARAMS),O=_.parameters;O["sim.t_end"]!==void 0&&(R.general.t_end=parseNumber(O["sim.t_end"],48)),O["sim.dt"]!==void 0&&(R.general.dt=parseNumber(O["sim.dt"],.1)),O["stat.random_seed"]!==void 0&&(R.general.random_seed=Math.floor(parseNumber(O["stat.random_seed"],0))),O["epi.prob_out_div"]!==void 0&&(R.general.p_div_out=parseNumber(O["epi.prob_out_div"],1)),O["epi.mu"]!==void 0&&(R.general.mu=parseNumber(O["epi.mu"],.2)),O["alg.n_substeps"]!==void 0&&(R.general.n_substeps=Math.floor(parseNumber(O["alg.n_substeps"],30))),O["alg.dt"]!==void 0&&(R.general.alg_dt=parseNumber(O["alg.dt"],.01)),O["epi.init_zone.size.x"]!==void 0&&(R.general.w_init=parseNumber(O["epi.init_zone.size.x"],80)),O["epi.init_zone.size.y"]!==void 0&&(R.general.h_init=parseNumber(O["epi.init_zone.size.y"],5)),parseNumber(O["epi.basal_curvature"],0)===0?(R.general.perimeter=R.general.w_init*2,R.general.aspect_ratio=0,R.general.full_circle=!1):(R.general.perimeter=R.general.w_init*2,R.general.aspect_ratio=1,R.general.full_circle=!0),R.general.w_screen=R.general.w_init*1.5,R.general.h_screen=0;const F=O["epi.init_apical_junction_dist"]!==void 0?parseNumber(O["epi.init_apical_junction_dist"],0):void 0,z=O["epi.init_basal_junction_dist"]!==void 0?parseNumber(O["epi.init_basal_junction_dist"],4):void 0,L=parseInitDistr(String(O["epi.init_distr"]||"")),U=parseNumber(O["epi.N_init"],0),q=Object.values(L).reduce((Y,W)=>Y+W,0),G=U>0&&q>0?U/q:1;R.cell_types={};const V=_.cell_type,Z=Object.keys(V.types);for(const Y of Z){const W=V.types[Y],ee=Y==="exp"?"emt":Y,ne=ee==="control"?{r:0,g:128,b:0}:{r:255,g:0,b:255},ie=ee==="emt"?"bottom":"",se=Math.round((L[Y]||0)*G),oe={...structuredClone(DEFAULT_CONTROL_CELL),N_init:se,location:ie,R_hard:parseNumber(W.R_hard,.3),R_hard_div:parseNumber(W.R_hard,.3)*.7/.3,R_soft:parseNumber(W.R_soft,1.2),color:ne,dur_G2:parseNumber(W.duration_G2,.5),dur_mitosis:parseNumber(W.duration_mitosis,.5),k_apical_junction:Math.abs(parseNumber(W.k_apical_junction,5)),k_cytos:parseNumber(W.k_cytoskeleton,5),max_cytoskeleton_length:parseNumber(W.max_cytoskeleton_length,0),run:0,running_speed:parseNumber(W.running_speed,1),running_mode:Math.floor(parseNumber(W.running_mode,0)),stiffness_apical_apical:parseNumber(W.stiffness_apical_apical,2),stiffness_apical_apical_div:parseNumber(W.stiffness_apical_apical,2)*2,stiffness_nuclei_apical:parseNumber(W.stiffness_nuclei_apical,3),stiffness_nuclei_basal:parseNumber(W.stiffness_nuclei_basal,2),stiffness_repulsion:parseNumber(W.stiffness_repulsion,2),stiffness_straightness:parseNumber(W.stiffness_straightness,5),lifespan_start:parseNumber(W["life_span.min"],5.5),lifespan_end:parseNumber(W["life_span.max"],6.5),INM:1,hetero:!1,events:{time_A_start:1/0,time_A_end:1/0,time_B_start:1/0,time_B_end:1/0,time_S_start:1/0,time_S_end:1/0,time_P_start:1/0,time_P_end:1/0,time_AC_start:1/0,time_AC_end:1/0},diffusion:parseNumber(W.diffusion,0)||DEFAULT_CONTROL_CELL.diffusion,basal_damping_ratio:parseNumber(W.basal_damping_ratio,0)||DEFAULT_CONTROL_CELL.basal_damping_ratio,max_basal_junction_dist:2*parseNumber(W.max_basal_junction_dist,.5)||(z?2*z:DEFAULT_CONTROL_CELL.max_basal_junction_dist),cytos_init:parseNumber(W.cytoskeleton_init,DEFAULT_CONTROL_CELL.cytos_init),basal_membrane_repulsion:parseNumber(W.basal_repulsion,DEFAULT_CONTROL_CELL.basal_membrane_repulsion),apical_junction_init:parseNumber(W.apical_junction_init,0)||F||DEFAULT_CONTROL_CELL.apical_junction_init};R.cell_types[ee]=oe}if(_.special_cell_events)for(const Y of _.special_cell_events){const W=Y.cell_type==="exp"?"emt":Y.cell_type,ee=R.cell_types[W];if(!ee)continue;const ne=parseNumber(Y.sim_time_start,1/0),ie=parseNumber(Y.sim_time_end,1/0);switch(Y.name){case"loss_apical_adhesion":case"local_loss_apical_adhesion":ee.events.time_A_start=ne,ee.events.time_A_end=ie;break;case"loss_basal_adhesion":ee.events.time_B_start=ne,ee.events.time_B_end=ie;break}}if(_.cell_events)for(const Y of _.cell_events){const W=Y.cell_type==="exp"?"emt":Y.cell_type,ee=R.cell_types[W];ee&&(Y.name==="loss_polarity"&&Y.symbol==="stiffness_straightness"&&(ee.events.time_S_start=parseNumber(Y.sim_time_start,1/0),ee.events.time_S_end=parseNumber(Y.sim_time_end,1/0)),Y.name==="INM"&&(ee.INM=parseINMFromEventStart(Y.sim_time_start)))}for(const Y of Object.values(R.cell_types))(isFinite(Y.events.time_A_start)||isFinite(Y.events.time_B_start)||isFinite(Y.events.time_S_start))&&(Y.hetero=!0);return R}async function parseXLSXFile(_){const R=await __vitePreload(()=>import("./xlsx-CebWqg3Z.js"),[]),O=await _.arrayBuffer(),I=R.read(O,{type:"array"}),F={parameters:{},cell_type:{parameters:[],types:{}}},z=I.Sheets.parameters;if(z){const G=R.utils.sheet_to_json(z);for(const V of G)V.key&&(F.parameters[V.key]=V.value)}const L=I.Sheets.cell_type;if(L){const G=R.utils.sheet_to_json(L);if(G.length>0){const V=G[0],Z=Object.keys(V).filter(Y=>Y!=="parameter");for(const Y of Z)F.cell_type.types[Y]={};for(const Y of G){const W=String(Y.parameter||"");if(W){F.cell_type.parameters.push(W);for(const ee of Z)F.cell_type.types[ee][W]=Y[ee]}}}}const U=I.Sheets.cell_events;U&&(F.cell_events=R.utils.sheet_to_json(U));const q=I.Sheets.special_cell_events;return q&&(F.special_cell_events=R.utils.sheet_to_json(q)),F}async function importXLSXToParams(_){const R=await parseXLSXFile(_);return importLegacyXLSX(R)}function ParameterConfigView({config:_,onConfigChange:R,disabled:O}){const{currentModel:I}=useModel(),F=reactExports.useRef(null),z=reactExports.useRef(null),[L,U]=reactExports.useState(!1),[q,G]=reactExports.useState(!1),V=EHT_PRESETS,Z=ue=>{const ce=V.find(me=>me.key===ue);if(!ce)return;const fe=ce.create();R({..._,params:fe})},Y=ue=>{R({..._,params:ue})},W=ue=>{R({..._,parameterRanges:ue})},ee=ue=>{R({..._,timeSamples:ue})},ne=ue=>{const ce=Math.max(1,parseInt(ue,10)||1);R({..._,seedsPerConfig:ce})},ie=async ue=>{const ce=ue.target.files?.[0];if(ce){try{const fe=await ce.text(),me=parseSimulationConfigToml(fe);R(me)}catch(fe){console.error("Failed to parse TOML:",fe),alert("Failed to parse TOML file. Check console for details.")}F.current&&(F.current.value="")}},se=()=>{const ue=toSimulationConfigToml(_),ce=new Blob([ue],{type:"text/plain"}),fe=URL.createObjectURL(ce),me=document.createElement("a");me.href=fe,me.download="simulation_config.toml",document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(fe)},oe=async ue=>{const ce=ue.target.files?.[0];if(ce){U(!0);try{const fe=await importXLSXToParams(ce);R({..._,params:fe})}catch(fe){console.error("Failed to import XLSX:",fe),alert("Failed to import legacy XLSX file. Check console for details.")}finally{U(!1)}z.current&&(z.current.value="")}},le=async()=>{const ue=encodeParamsToUrl(I.name,_.params);try{await navigator.clipboard.writeText(ue),G(!0),setTimeout(()=>G(!1),2e3)}catch(ce){console.error("Failed to copy link:",ce),prompt("Copy this link:",ue)}};return jsxRuntimeExports.jsxs(Card,{className:"h-full",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Parameters & Ranges"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx("input",{ref:F,type:"file",accept:".toml",onChange:ie,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>F.current?.click(),disabled:O,className:"flex-1",children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-2"}),"Load TOML"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:se,disabled:O,className:"flex-1",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Save TOML"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx("input",{ref:z,type:"file",accept:".xlsx,.xls",onChange:oe,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>z.current?.click(),disabled:O||L,className:"flex-1",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"h-4 w-4 mr-2"}),L?"Importing...":"Import Legacy XLSX"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:le,disabled:O,className:"flex-1",children:[jsxRuntimeExports.jsx(Link2,{className:"h-4 w-4 mr-2"}),q?"Copied!":"Share Link"]})]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Select preset"}),jsxRuntimeExports.jsxs(Select,{onValueChange:Z,disabled:O,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Choose a preset"})}),jsxRuntimeExports.jsx(SelectContent,{children:(()=>{const ue=new Map;for(const fe of V){const me=fe.group??"";ue.has(me)||ue.set(me,[]),ue.get(me).push(fe)}const ce=[];for(const[fe,me]of ue)if(fe==="")for(const he of me)ce.push(jsxRuntimeExports.jsx(SelectItem,{value:he.key,children:he.label},he.key));else ce.push(jsxRuntimeExports.jsxs(SelectGroup,{children:[jsxRuntimeExports.jsx(SelectLabel,{className:"text-xs text-muted-foreground",children:fe}),me.map(he=>jsxRuntimeExports.jsx(SelectItem,{value:he.key,children:he.label},he.key))]},fe));return ce})()})]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsx("div",{className:"h-[500px] border rounded-md overflow-hidden relative",children:jsxRuntimeExports.jsx(ModelParameterPanel,{params:_.params,onChange:Y,disabled:O})}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsx(ParameterRangeList,{ranges:_.parameterRanges,onChange:W,baseParams:_.params,disabled:O}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Batch Sampling"}),jsxRuntimeExports.jsx(TimeSampleConfig,{config:_.timeSamples,onChange:ee,disabled:O}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"seeds",className:"text-xs text-muted-foreground",children:"Seeds per configuration"}),jsxRuntimeExports.jsx(Input,{id:"seeds",type:"number",min:1,step:1,value:_.seedsPerConfig,onChange:ue=>ne(ue.target.value),disabled:O,className:"h-8 w-32"})]})]})]})]})}function MarkdownPage({content:_}){return jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto p-8 prose-container",children:[jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkMath],rehypePlugins:[rehypeKatex],children:_}),jsxRuntimeExports.jsx("style",{children:`
        .prose-container { line-height: 1.6; }
        .prose-container h1 { font-size: 2rem; font-weight: 700; margin: 0 0 1.5rem; border-bottom: 2px solid hsl(var(--border)); padding-bottom: 0.5rem; }
        .prose-container h2 { font-size: 1.5rem; font-weight: 600; margin: 2rem 0 1rem; border-bottom: 1px solid hsl(var(--border)); padding-bottom: 0.25rem; }
        .prose-container h3 { font-size: 1.25rem; font-weight: 600; margin: 1.5rem 0 0.75rem; }
        .prose-container h4 { font-size: 1.1rem; font-weight: 600; margin: 1.25rem 0 0.5rem; color: hsl(var(--muted-foreground)); }
        .prose-container p { margin: 0.75rem 0; }
        .prose-container ul, .prose-container ol { margin: 0.5rem 0; padding-left: 1.5rem; }
        .prose-container li { margin: 0.25rem 0; }
        .prose-container a { color: hsl(var(--primary)); text-decoration: underline; text-underline-offset: 2px; }
        .prose-container a:hover { color: hsl(var(--primary) / 0.8); }
        .prose-container code { background: hsl(var(--muted)); padding: 0.125rem 0.25rem; border-radius: 0.25rem; font-size: 0.875em; }
        .prose-container pre { background: hsl(var(--muted)); padding: 0.75rem; border-radius: 0.375rem; overflow-x: auto; margin: 0.75rem 0; }
        .prose-container pre code { background: none; padding: 0; }
        .prose-container .katex-display { text-align: center; margin: 1rem 0; }
      `})]})}const docsIndex=`# EHT Simulator Documentation

## EHT Model

- [Model Description](#/docs/eht/model) - Cell representation, forces, geometry, and cell cycle
- [Statistics](#/docs/eht/statistics) - Computed metrics and their definitions
`,ehtModel=`# EHT Model Description

The **Epithelial-to-Hematopoietic Transition (EHT)** model simulates cell dynamics in epithelial tissue, particularly focusing on cells undergoing transition processes like EMT (Epithelial-to-Mesenchymal Transition).

## Cell Representation

Each cell consists of three points:

- **X** = (x, y): Nucleus position
- **A** = (A_x, A_y): Apical point (top attachment)
- **B** = (B_x, B_y): Basal point (bottom attachment)

## Forces

The model uses an overdamped dynamics system where forces drive cell motion. The total force on each cell component determines its velocity.

### 1. Cell-Cell Repulsion

Soft repulsion between overlapping cell nuclei:

$$F_{rep} = -k_{rep} \\frac{R_{ij} - d}{d \\cdot R_{ij}^2} \\cdot \\hat{r}_{ij}$$

where:
- $d$ = distance between nuclei
- $R_{ij} = R_i^{soft} + R_j^{soft}$ (sum of soft radii)
- $k_{rep}$ = repulsion stiffness
- Active when $d < R_{ij}$

### 2. Apical-Nucleus Spring

Connects nucleus X to apical point A:

$$F_{AX} = 2 k_{AX} \\frac{|AX| - \\ell_{AX}}{|AX| \\cdot \\ell_{AX}^2} \\cdot \\widehat{AX}$$

where:
- $\\ell_{AX} = \\eta_A + R$ (rest length = cytoskeleton length + cell radius)
- $k_{AX}$ = apical-nucleus stiffness

### 3. Basal-Nucleus Spring

Connects nucleus X to basal point B:

$$F_{BX} = 2 k_{BX} \\frac{|BX| - \\ell_{BX}}{|BX| \\cdot \\ell_{BX}^2} \\cdot \\widehat{BX}$$

where:
- $\\ell_{BX} = \\eta_B + R$ (rest length)
- $k_{BX}$ = basal-nucleus stiffness

### 4. Straightness Constraint

Penalizes deviation from straight A-X-B alignment:

$$E_{straight} = k_S \\frac{(X-A) \\cdot (X-B)}{|X-A| \\cdot |X-B|}$$

This energy term encourages the cell to maintain a straight configuration.

### 5. Apical Junction Springs

Connects apical points of neighboring cells:

$$F_{AA} = \\frac{k_{AA}}{4} \\frac{d - \\ell_0}{d} \\cdot \\hat{r}_{ij}$$

where:
- $d$ = distance between apical points
- $\\ell_0$ = rest length (stored per link)

## Geometry

The basal membrane can be:
- **Straight line**: When perimeter = 0
- **Elliptical curve**: Defined by perimeter and aspect ratio

Cells attach their basal points (B) to this curve and apical points (A) form a connected strip via apical links.

## Cell Cycle

Cells progress through phases:
1. **G1**: Normal growth
2. **G2**: Pre-mitosis (moving toward apical surface)
3. **Mitosis**: Division in progress
4. **Division**: Ready to divide (triggers division logic)

## EMT Events

Cells undergoing EMT lose properties over time:
- **time_A**: Lose apical adhesion
- **time_B**: Lose basal adhesion
- **time_S**: Lose straightness constraint
- **time_P**: Start polarized running behavior
`,ehtStatistics=`# EHT Statistics

Statistics are computed per cell and then aggregated (mean or fraction) over cell groups. Groups include individual cell types (e.g., \`control\`, \`emt\`) and \`all\`. **Note:** Pair combinations (e.g., \`control+emt\`) are not computed.

## Cell Groups

Statistics are computed for the following groups:

- **\`all\`**: All cells, excluding boundary control cells (see Boundary Cell Handling below)
- **Individual cell types**: One group per cell type defined in parameters (e.g., \`control\`, \`emt\`, \`counter_control\`)

## Boundary Cell Handling

When \`full_circle = false\`:
- The leftmost and rightmost 10% of control cells (based on arc length along the basal curve) are identified as **boundary cells**
- These cells are reclassified as \`control_boundary\` for statistics purposes
- \`control_boundary\` cells are:
  - Excluded from the \`all\` group
  - Excluded from the \`control\` group
  - Not included as a separate statistics group (no plots generated)
- This exclusion helps remove edge effects from statistical analysis

When \`full_circle = true\`:
- No boundary detection is performed
- All control cells remain in the \`control\` group

## Geometric Quantities

For each cell with nucleus **X**, apical point **A**, and basal point **B**:

- **a**: Projection of X onto the apical line strip (formed by connected apical points)
- **b**: Projection of X onto the basal curve

## Statistics Definitions

### ab_distance

**Apical-Basal Distance**

$$\\text{ab\\_distance} = |A - B|$$

The Euclidean distance between the apical and basal points. Measures the cell's vertical extent.

### AX

**Apical-Nucleus Distance**

$$AX = |A - X|$$

Distance from the apical point to the nucleus.

### BX

**Basal-Nucleus Distance**

$$BX = |B - X|$$

Distance from the basal point to the nucleus.

### ax

**Nucleus to Apical Strip Distance**

$$ax = |X - a|$$

Distance from the nucleus to its projection onto the apical line strip. Measures how far the nucleus is from the apical surface.

### bx

**Nucleus to Basal Curve Distance**

$$bx = |X - b|$$

Distance from the nucleus to its projection onto the basal curve. Measures how far the nucleus is from the basal membrane.

### x

**Position on Basal-Apical Scale**

$$x = \\frac{(X - b) \\cdot (a - b)}{|a - b|^2}$$

Normalized position of the nucleus between basal (x=0) and apical (x=1) projections:
- x = 0: Nucleus at basal level
- x = 1: Nucleus at apical level
- x < 0: Below basal
- x > 1: Above apical

### below_basal

**Fraction Below Basal Layer**

$$\\text{below\\_basal} = \\begin{cases} 1 & \\text{if } x < 0 \\\\ 0 & \\text{otherwise} \\end{cases}$$

Binary indicator (0 or 1) for whether the cell's nucleus is below the basal layer. Aggregated as fraction over cell group.

### above_apical

**Fraction Above Apical Layer**

$$\\text{above\\_apical} = \\begin{cases} 1 & \\text{if } x > 1 \\\\ 0 & \\text{otherwise} \\end{cases}$$

Binary indicator for whether the cell's nucleus is above the apical layer. Aggregated as fraction over cell group.

### below_control_cells

**Fraction Below Lowest Control Cell**

$$\\text{below\\_control\\_cells} = \\begin{cases} 1 & \\text{if } bx < \\min_{c \\in \\text{control (non-boundary)}} bx_c \\\\ 0 & \\text{otherwise} \\end{cases}$$

Binary indicator for whether the cell's basal distance (bx) is less than the minimum bx among all non-boundary control cells. This identifies cells that have migrated below the control cell population. **Note:** Boundary control cells are excluded when computing the minimum control cell bx.

## Output Format

Statistics are exported with the naming convention \`{statistic}_{group}\`.

**Examples with 2 cell types (control, emt):**
- \`ab_distance_all\`: Mean AB distance across all non-boundary cells
- \`x_control\`: Mean x position for control cells (excluding boundary)
- \`below_basal_emt\`: Fraction of emt cells below basal layer
- \`below_control_cells_emt\`: Fraction of emt cells below the lowest control cell

**Total statistics count:**
- For N cell types: \`9 metrics  (N + 1) groups\`
- Example: 2 cell types  27 statistics (9  3 groups: all, control, emt)
- Example: 3 cell types  36 statistics (9  4 groups: all, control, emt, counter_control)
`;function AppContent(){const{currentParams:_,setParams:R,setModel:O}=useModel();reactExports.useEffect(()=>{const U=decodeParamsFromUrl();U&&(O(U.modelName),R(U.params),clearUrlParams())},[O,R]);const[I,F]=reactExports.useState({parameterRanges:[],timeSamples:{...DEFAULT_TIME_SAMPLES},seedsPerConfig:1}),z=reactExports.useMemo(()=>({params:_,...I}),[_,I]),L=reactExports.useCallback(U=>{R(U.params),F({parameterRanges:U.parameterRanges,timeSamples:U.timeSamples,seedsPerConfig:U.seedsPerConfig})},[R]);return jsxRuntimeExports.jsx(AppLayout,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("section",{children:jsxRuntimeExports.jsx(SingleSimulationTab,{})}),jsxRuntimeExports.jsx("section",{children:jsxRuntimeExports.jsx(ParameterConfigView,{config:z,onConfigChange:L})}),jsxRuntimeExports.jsx("section",{className:"lg:col-span-2",children:jsxRuntimeExports.jsx(BatchTab,{config:z,onConfigChange:L})})]})})}function App(){return jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsx(ModelProvider,{children:jsxRuntimeExports.jsx(MessagesProvider,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(AppContent,{})}),jsxRuntimeExports.jsx(Route,{path:"/docs",element:jsxRuntimeExports.jsx(MarkdownPage,{content:docsIndex})}),jsxRuntimeExports.jsx(Route,{path:"/docs/eht/model",element:jsxRuntimeExports.jsx(MarkdownPage,{content:ehtModel})}),jsxRuntimeExports.jsx(Route,{path:"/docs/eht/statistics",element:jsxRuntimeExports.jsx(MarkdownPage,{content:ehtStatistics})})]})})})})}console.log("[Main] Registering global for debug");window.EHT_REGISTRY=modelRegistry;clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{RenderGroup as $,AbstractRenderer as A,BufferUsage as B,Container as C,DOMAdapter as D,ExtensionType as E,TexturePool as F,GpuProgram as G,FilterEffect as H,Sprite as I,getAttributeInfoFromFormat as J,unsafeEvalSupported as K,GlobalResourceRegistry as L,Matrix as M,uid as N,Rectangle as O,Point as P,SystemRunner as Q,RendererType as R,Shader as S,Ticker as T,UPDATE_PRIORITY as U,multiplyColors as V,UPDATE_VISIBLE as W,UPDATE_COLOR as X,UPDATE_BLEND as Y,TextureStyle as Z,Color$1 as _,GlProgram as a,getLocalBounds as a0,VERSION as a1,deprecation as a2,v8_0_0 as a3,RendererInitHook as a4,Geometry as a5,checkMaxIfStatementsInShader as a6,compileHighShaderGlProgram as a7,colorBitGl as a8,generateTextureBatchBitGl as a9,roundPixelsBitGl as aa,getBatchSamplersUniformGroup as ab,fontStringFromTextStyle as ac,CanvasTextMetrics as ad,ImageSource as ae,getCanvasFillStyle as af,TextStyle as ag,lru as ah,Cache as ai,BatchableGraphics as aj,getAdjustedBlendModeBlend as ak,ViewableBuffer as al,Graphics as am,updateQuadBounds as an,CanvasTextGenerator as ao,GraphicsContextSystem as ap,EventEmitter as b,STENCIL_MODES as c,Buffer$1 as d,extensions as e,fastCopy as f,getTextureBatchBindGroup as g,BindGroup as h,createIdFromString as i,CLEAR as j,CanvasSource as k,TextureSource as l,UniformGroup as m,CanvasPool as n,compileHighShaderGpuProgram as o,colorBit as p,generateTextureBatchBit as q,removeItems as r,roundPixelsBit as s,Texture as t,TextureMatrix as u,DefaultBatcher as v,warn$1 as w,BigPool as x,getGlobalBounds as y,Bounds as z};
//# sourceMappingURL=index-DTXMlWHh.js.map
