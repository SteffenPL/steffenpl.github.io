const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-Mz1BEkUt.js","assets/webworkerAll-D4ezs0rY.js","assets/colorToUniform-DzDuj8ZN.js","assets/WebGPURenderer-BdlZdDqn.js","assets/SharedSystems-Dq7f56de.js","assets/WebGLRenderer-CxDngc0C.js"])))=>i.map(i=>d[i]);
function _mergeNamespaces(_,R){for(var P=0;P<R.length;P++){const I=R[P];if(typeof I!="string"&&!Array.isArray(I)){for(const O in I)if(O!=="default"&&!(O in _)){const z=Object.getOwnPropertyDescriptor(I,O);z&&Object.defineProperty(_,O,z.get?z:{enumerable:!0,get:()=>I[O]})}}}return Object.freeze(Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}))}(function(){const R=document.createElement("link").relList;if(R&&R.supports&&R.supports("modulepreload"))return;for(const O of document.querySelectorAll('link[rel="modulepreload"]'))I(O);new MutationObserver(O=>{for(const z of O)if(z.type==="childList")for(const L of z.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&I(L)}).observe(document,{childList:!0,subtree:!0});function P(O){const z={};return O.integrity&&(z.integrity=O.integrity),O.referrerPolicy&&(z.referrerPolicy=O.referrerPolicy),O.crossOrigin==="use-credentials"?z.credentials="include":O.crossOrigin==="anonymous"?z.credentials="omit":z.credentials="same-origin",z}function I(O){if(O.ep)return;O.ep=!0;const z=P(O);fetch(O.href,z)}})();function getDefaultExportFromCjs(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}function getAugmentedNamespace(_){if(Object.prototype.hasOwnProperty.call(_,"__esModule"))return _;var R=_.default;if(typeof R=="function"){var P=function I(){var O=!1;try{O=this instanceof I}catch{}return O?Reflect.construct(R,arguments,this.constructor):R.apply(this,arguments)};P.prototype=R.prototype}else P={};return Object.defineProperty(P,"__esModule",{value:!0}),Object.keys(_).forEach(function(I){var O=Object.getOwnPropertyDescriptor(_,I);Object.defineProperty(P,I,O.get?O:{enumerable:!0,get:function(){return _[I]}})}),P}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var _=Symbol.for("react.transitional.element"),R=Symbol.for("react.fragment");function P(I,O,z){var L=null;if(z!==void 0&&(L=""+z),O.key!==void 0&&(L=""+O.key),"key"in O){z={};for(var F in O)F!=="key"&&(z[F]=O[F])}else z=O;return O=z.ref,{$$typeof:_,type:I,key:L,ref:O!==void 0?O:null,props:z}}return reactJsxRuntime_production.Fragment=R,reactJsxRuntime_production.jsx=P,reactJsxRuntime_production.jsxs=P,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var _=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),V=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),Y=Symbol.iterator;function Q(we){return we===null||typeof we!="object"?null:(we=Y&&we[Y]||we["@@iterator"],typeof we=="function"?we:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,ie={};function ae(we,ke,Ee){this.props=we,this.context=ke,this.refs=ie,this.updater=Ee||ee}ae.prototype.isReactComponent={},ae.prototype.setState=function(we,ke){if(typeof we!="object"&&typeof we!="function"&&we!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,we,ke,"setState")},ae.prototype.forceUpdate=function(we){this.updater.enqueueForceUpdate(this,we,"forceUpdate")};function se(){}se.prototype=ae.prototype;function le(we,ke,Ee){this.props=we,this.context=ke,this.refs=ie,this.updater=Ee||ee}var ce=le.prototype=new se;ce.constructor=le,te(ce,ae.prototype),ce.isPureReactComponent=!0;var fe=Array.isArray;function de(){}var he={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function ge(we,ke,Ee){var ze=Ee.ref;return{$$typeof:_,type:we,key:ke,ref:ze!==void 0?ze:null,props:Ee}}function be(we,ke){return ge(we.type,ke,we.props)}function xe(we){return typeof we=="object"&&we!==null&&we.$$typeof===_}function _e(we){var ke={"=":"=0",":":"=2"};return"$"+we.replace(/[=:]/g,function(Ee){return ke[Ee]})}var Se=/\/+/g;function me(we,ke){return typeof we=="object"&&we!==null&&we.key!=null?_e(""+we.key):ke.toString(36)}function Ce(we){switch(we.status){case"fulfilled":return we.value;case"rejected":throw we.reason;default:switch(typeof we.status=="string"?we.then(de,de):(we.status="pending",we.then(function(ke){we.status==="pending"&&(we.status="fulfilled",we.value=ke)},function(ke){we.status==="pending"&&(we.status="rejected",we.reason=ke)})),we.status){case"fulfilled":return we.value;case"rejected":throw we.reason}}throw we}function Te(we,ke,Ee,ze,je){var Ke=typeof we;(Ke==="undefined"||Ke==="boolean")&&(we=null);var He=!1;if(we===null)He=!0;else switch(Ke){case"bigint":case"string":case"number":He=!0;break;case"object":switch(we.$$typeof){case _:case R:He=!0;break;case q:return He=we._init,Te(He(we._payload),ke,Ee,ze,je)}}if(He)return je=je(we),He=ze===""?"."+me(we,0):ze,fe(je)?(Ee="",He!=null&&(Ee=He.replace(Se,"$&/")+"/"),Te(je,ke,Ee,"",function(Xe){return Xe})):je!=null&&(xe(je)&&(je=be(je,Ee+(je.key==null||we&&we.key===je.key?"":(""+je.key).replace(Se,"$&/")+"/")+He)),ke.push(je)),1;He=0;var Ze=ze===""?".":ze+":";if(fe(we))for(var Le=0;Le<we.length;Le++)ze=we[Le],Ke=Ze+me(ze,Le),He+=Te(ze,ke,Ee,Ke,je);else if(Le=Q(we),typeof Le=="function")for(we=Le.call(we),Le=0;!(ze=we.next()).done;)ze=ze.value,Ke=Ze+me(ze,Le++),He+=Te(ze,ke,Ee,Ke,je);else if(Ke==="object"){if(typeof we.then=="function")return Te(Ce(we),ke,Ee,ze,je);throw ke=String(we),Error("Objects are not valid as a React child (found: "+(ke==="[object Object]"?"object with keys {"+Object.keys(we).join(", ")+"}":ke)+"). If you meant to render a collection of children, use an array instead.")}return He}function Re(we,ke,Ee){if(we==null)return we;var ze=[],je=0;return Te(we,ze,"","",function(Ke){return ke.call(Ee,Ke,je++)}),ze}function Pe(we){if(we._status===-1){var ke=we._result;ke=ke(),ke.then(function(Ee){(we._status===0||we._status===-1)&&(we._status=1,we._result=Ee)},function(Ee){(we._status===0||we._status===-1)&&(we._status=2,we._result=Ee)}),we._status===-1&&(we._status=0,we._result=ke)}if(we._status===1)return we._result.default;throw we._result}var Me=typeof reportError=="function"?reportError:function(we){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ke=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof we=="object"&&we!==null&&typeof we.message=="string"?String(we.message):String(we),error:we});if(!window.dispatchEvent(ke))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",we);return}console.error(we)},Ae={map:Re,forEach:function(we,ke,Ee){Re(we,function(){ke.apply(this,arguments)},Ee)},count:function(we){var ke=0;return Re(we,function(){ke++}),ke},toArray:function(we){return Re(we,function(ke){return ke})||[]},only:function(we){if(!xe(we))throw Error("React.Children.only expected to receive a single React element child.");return we}};return react_production.Activity=W,react_production.Children=Ae,react_production.Component=ae,react_production.Fragment=P,react_production.Profiler=O,react_production.PureComponent=le,react_production.StrictMode=I,react_production.Suspense=U,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(we){return he.H.useMemoCache(we)}},react_production.cache=function(we){return function(){return we.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(we,ke,Ee){if(we==null)throw Error("The argument must be a React element, but you passed "+we+".");var ze=te({},we.props),je=we.key;if(ke!=null)for(Ke in ke.key!==void 0&&(je=""+ke.key),ke)!pe.call(ke,Ke)||Ke==="key"||Ke==="__self"||Ke==="__source"||Ke==="ref"&&ke.ref===void 0||(ze[Ke]=ke[Ke]);var Ke=arguments.length-2;if(Ke===1)ze.children=Ee;else if(1<Ke){for(var He=Array(Ke),Ze=0;Ze<Ke;Ze++)He[Ze]=arguments[Ze+2];ze.children=He}return ge(we.type,je,ze)},react_production.createContext=function(we){return we={$$typeof:L,_currentValue:we,_currentValue2:we,_threadCount:0,Provider:null,Consumer:null},we.Provider=we,we.Consumer={$$typeof:z,_context:we},we},react_production.createElement=function(we,ke,Ee){var ze,je={},Ke=null;if(ke!=null)for(ze in ke.key!==void 0&&(Ke=""+ke.key),ke)pe.call(ke,ze)&&ze!=="key"&&ze!=="__self"&&ze!=="__source"&&(je[ze]=ke[ze]);var He=arguments.length-2;if(He===1)je.children=Ee;else if(1<He){for(var Ze=Array(He),Le=0;Le<He;Le++)Ze[Le]=arguments[Le+2];je.children=Ze}if(we&&we.defaultProps)for(ze in He=we.defaultProps,He)je[ze]===void 0&&(je[ze]=He[ze]);return ge(we,Ke,je)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(we){return{$$typeof:F,render:we}},react_production.isValidElement=xe,react_production.lazy=function(we){return{$$typeof:q,_payload:{_status:-1,_result:we},_init:Pe}},react_production.memo=function(we,ke){return{$$typeof:V,type:we,compare:ke===void 0?null:ke}},react_production.startTransition=function(we){var ke=he.T,Ee={};he.T=Ee;try{var ze=we(),je=he.S;je!==null&&je(Ee,ze),typeof ze=="object"&&ze!==null&&typeof ze.then=="function"&&ze.then(de,Me)}catch(Ke){Me(Ke)}finally{ke!==null&&Ee.types!==null&&(ke.types=Ee.types),he.T=ke}},react_production.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},react_production.use=function(we){return he.H.use(we)},react_production.useActionState=function(we,ke,Ee){return he.H.useActionState(we,ke,Ee)},react_production.useCallback=function(we,ke){return he.H.useCallback(we,ke)},react_production.useContext=function(we){return he.H.useContext(we)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(we,ke){return he.H.useDeferredValue(we,ke)},react_production.useEffect=function(we,ke){return he.H.useEffect(we,ke)},react_production.useEffectEvent=function(we){return he.H.useEffectEvent(we)},react_production.useId=function(){return he.H.useId()},react_production.useImperativeHandle=function(we,ke,Ee){return he.H.useImperativeHandle(we,ke,Ee)},react_production.useInsertionEffect=function(we,ke){return he.H.useInsertionEffect(we,ke)},react_production.useLayoutEffect=function(we,ke){return he.H.useLayoutEffect(we,ke)},react_production.useMemo=function(we,ke){return he.H.useMemo(we,ke)},react_production.useOptimistic=function(we,ke){return he.H.useOptimistic(we,ke)},react_production.useReducer=function(we,ke,Ee){return he.H.useReducer(we,ke,Ee)},react_production.useRef=function(we){return he.H.useRef(we)},react_production.useState=function(we){return he.H.useState(we)},react_production.useSyncExternalStore=function(we,ke,Ee){return he.H.useSyncExternalStore(we,ke,Ee)},react_production.useTransition=function(){return he.H.useTransition()},react_production.version="19.2.3",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React4=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(_){function R(Te,Re){var Pe=Te.length;Te.push(Re);e:for(;0<Pe;){var Me=Pe-1>>>1,Ae=Te[Me];if(0<O(Ae,Re))Te[Me]=Re,Te[Pe]=Ae,Pe=Me;else break e}}function P(Te){return Te.length===0?null:Te[0]}function I(Te){if(Te.length===0)return null;var Re=Te[0],Pe=Te.pop();if(Pe!==Re){Te[0]=Pe;e:for(var Me=0,Ae=Te.length,we=Ae>>>1;Me<we;){var ke=2*(Me+1)-1,Ee=Te[ke],ze=ke+1,je=Te[ze];if(0>O(Ee,Pe))ze<Ae&&0>O(je,Ee)?(Te[Me]=je,Te[ze]=Pe,Me=ze):(Te[Me]=Ee,Te[ke]=Pe,Me=ke);else if(ze<Ae&&0>O(je,Pe))Te[Me]=je,Te[ze]=Pe,Me=ze;else break e}}return Re}function O(Te,Re){var Pe=Te.sortIndex-Re.sortIndex;return Pe!==0?Pe:Te.id-Re.id}if(_.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var z=performance;_.unstable_now=function(){return z.now()}}else{var L=Date,F=L.now();_.unstable_now=function(){return L.now()-F}}var U=[],V=[],q=1,W=null,Y=3,Q=!1,ee=!1,te=!1,ie=!1,ae=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function ce(Te){for(var Re=P(V);Re!==null;){if(Re.callback===null)I(V);else if(Re.startTime<=Te)I(V),Re.sortIndex=Re.expirationTime,R(U,Re);else break;Re=P(V)}}function fe(Te){if(te=!1,ce(Te),!ee)if(P(U)!==null)ee=!0,de||(de=!0,_e());else{var Re=P(V);Re!==null&&Ce(fe,Re.startTime-Te)}}var de=!1,he=-1,pe=5,ge=-1;function be(){return ie?!0:!(_.unstable_now()-ge<pe)}function xe(){if(ie=!1,de){var Te=_.unstable_now();ge=Te;var Re=!0;try{e:{ee=!1,te&&(te=!1,se(he),he=-1),Q=!0;var Pe=Y;try{t:{for(ce(Te),W=P(U);W!==null&&!(W.expirationTime>Te&&be());){var Me=W.callback;if(typeof Me=="function"){W.callback=null,Y=W.priorityLevel;var Ae=Me(W.expirationTime<=Te);if(Te=_.unstable_now(),typeof Ae=="function"){W.callback=Ae,ce(Te),Re=!0;break t}W===P(U)&&I(U),ce(Te)}else I(U);W=P(U)}if(W!==null)Re=!0;else{var we=P(V);we!==null&&Ce(fe,we.startTime-Te),Re=!1}}break e}finally{W=null,Y=Pe,Q=!1}Re=void 0}}finally{Re?_e():de=!1}}}var _e;if(typeof le=="function")_e=function(){le(xe)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,me=Se.port2;Se.port1.onmessage=xe,_e=function(){me.postMessage(null)}}else _e=function(){ae(xe,0)};function Ce(Te,Re){he=ae(function(){Te(_.unstable_now())},Re)}_.unstable_IdlePriority=5,_.unstable_ImmediatePriority=1,_.unstable_LowPriority=4,_.unstable_NormalPriority=3,_.unstable_Profiling=null,_.unstable_UserBlockingPriority=2,_.unstable_cancelCallback=function(Te){Te.callback=null},_.unstable_forceFrameRate=function(Te){0>Te||125<Te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<Te?Math.floor(1e3/Te):5},_.unstable_getCurrentPriorityLevel=function(){return Y},_.unstable_next=function(Te){switch(Y){case 1:case 2:case 3:var Re=3;break;default:Re=Y}var Pe=Y;Y=Re;try{return Te()}finally{Y=Pe}},_.unstable_requestPaint=function(){ie=!0},_.unstable_runWithPriority=function(Te,Re){switch(Te){case 1:case 2:case 3:case 4:case 5:break;default:Te=3}var Pe=Y;Y=Te;try{return Re()}finally{Y=Pe}},_.unstable_scheduleCallback=function(Te,Re,Pe){var Me=_.unstable_now();switch(typeof Pe=="object"&&Pe!==null?(Pe=Pe.delay,Pe=typeof Pe=="number"&&0<Pe?Me+Pe:Me):Pe=Me,Te){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=Pe+Ae,Te={id:q++,callback:Re,priorityLevel:Te,startTime:Pe,expirationTime:Ae,sortIndex:-1},Pe>Me?(Te.sortIndex=Pe,R(V,Te),P(U)===null&&Te===P(V)&&(te?(se(he),he=-1):te=!0,Ce(fe,Pe-Me))):(Te.sortIndex=Ae,R(U,Te),ee||Q||(ee=!0,de||(de=!0,_e()))),Te},_.unstable_shouldYield=be,_.unstable_wrapCallback=function(Te){var Re=Y;return function(){var Pe=Y;Y=Re;try{return Te.apply(this,arguments)}finally{Y=Pe}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var _=requireReact();function R(U){var V="https://react.dev/errors/"+U;if(1<arguments.length){V+="?args[]="+encodeURIComponent(arguments[1]);for(var q=2;q<arguments.length;q++)V+="&args[]="+encodeURIComponent(arguments[q])}return"Minified React error #"+U+"; visit "+V+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function P(){}var I={d:{f:P,r:function(){throw Error(R(522))},D:P,C:P,L:P,m:P,X:P,S:P,M:P},p:0,findDOMNode:null},O=Symbol.for("react.portal");function z(U,V,q){var W=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:W==null?null:""+W,children:U,containerInfo:V,implementation:q}}var L=_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function F(U,V){if(U==="font")return"";if(typeof V=="string")return V==="use-credentials"?V:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,reactDom_production.createPortal=function(U,V){var q=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V||V.nodeType!==1&&V.nodeType!==9&&V.nodeType!==11)throw Error(R(299));return z(U,V,null,q)},reactDom_production.flushSync=function(U){var V=L.T,q=I.p;try{if(L.T=null,I.p=2,U)return U()}finally{L.T=V,I.p=q,I.d.f()}},reactDom_production.preconnect=function(U,V){typeof U=="string"&&(V?(V=V.crossOrigin,V=typeof V=="string"?V==="use-credentials"?V:"":void 0):V=null,I.d.C(U,V))},reactDom_production.prefetchDNS=function(U){typeof U=="string"&&I.d.D(U)},reactDom_production.preinit=function(U,V){if(typeof U=="string"&&V&&typeof V.as=="string"){var q=V.as,W=F(q,V.crossOrigin),Y=typeof V.integrity=="string"?V.integrity:void 0,Q=typeof V.fetchPriority=="string"?V.fetchPriority:void 0;q==="style"?I.d.S(U,typeof V.precedence=="string"?V.precedence:void 0,{crossOrigin:W,integrity:Y,fetchPriority:Q}):q==="script"&&I.d.X(U,{crossOrigin:W,integrity:Y,fetchPriority:Q,nonce:typeof V.nonce=="string"?V.nonce:void 0})}},reactDom_production.preinitModule=function(U,V){if(typeof U=="string")if(typeof V=="object"&&V!==null){if(V.as==null||V.as==="script"){var q=F(V.as,V.crossOrigin);I.d.M(U,{crossOrigin:q,integrity:typeof V.integrity=="string"?V.integrity:void 0,nonce:typeof V.nonce=="string"?V.nonce:void 0})}}else V==null&&I.d.M(U)},reactDom_production.preload=function(U,V){if(typeof U=="string"&&typeof V=="object"&&V!==null&&typeof V.as=="string"){var q=V.as,W=F(q,V.crossOrigin);I.d.L(U,q,{crossOrigin:W,integrity:typeof V.integrity=="string"?V.integrity:void 0,nonce:typeof V.nonce=="string"?V.nonce:void 0,type:typeof V.type=="string"?V.type:void 0,fetchPriority:typeof V.fetchPriority=="string"?V.fetchPriority:void 0,referrerPolicy:typeof V.referrerPolicy=="string"?V.referrerPolicy:void 0,imageSrcSet:typeof V.imageSrcSet=="string"?V.imageSrcSet:void 0,imageSizes:typeof V.imageSizes=="string"?V.imageSizes:void 0,media:typeof V.media=="string"?V.media:void 0})}},reactDom_production.preloadModule=function(U,V){if(typeof U=="string")if(V){var q=F(V.as,V.crossOrigin);I.d.m(U,{as:typeof V.as=="string"&&V.as!=="script"?V.as:void 0,crossOrigin:q,integrity:typeof V.integrity=="string"?V.integrity:void 0})}else I.d.m(U)},reactDom_production.requestFormReset=function(U){I.d.r(U)},reactDom_production.unstable_batchedUpdates=function(U,V){return U(V)},reactDom_production.useFormState=function(U,V,q){return L.H.useFormState(U,V,q)},reactDom_production.useFormStatus=function(){return L.H.useHostTransitionStatus()},reactDom_production.version="19.2.3",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function _(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(R){console.error(R)}}return _(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var _=requireScheduler(),R=requireReact(),P=requireReactDom();function I(G){var Z="https://react.dev/errors/"+G;if(1<arguments.length){Z+="?args[]="+encodeURIComponent(arguments[1]);for(var J=2;J<arguments.length;J++)Z+="&args[]="+encodeURIComponent(arguments[J])}return"Minified React error #"+G+"; visit "+Z+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function O(G){return!(!G||G.nodeType!==1&&G.nodeType!==9&&G.nodeType!==11)}function z(G){var Z=G,J=G;if(G.alternate)for(;Z.return;)Z=Z.return;else{G=Z;do Z=G,(Z.flags&4098)!==0&&(J=Z.return),G=Z.return;while(G)}return Z.tag===3?J:null}function L(G){if(G.tag===13){var Z=G.memoizedState;if(Z===null&&(G=G.alternate,G!==null&&(Z=G.memoizedState)),Z!==null)return Z.dehydrated}return null}function F(G){if(G.tag===31){var Z=G.memoizedState;if(Z===null&&(G=G.alternate,G!==null&&(Z=G.memoizedState)),Z!==null)return Z.dehydrated}return null}function U(G){if(z(G)!==G)throw Error(I(188))}function V(G){var Z=G.alternate;if(!Z){if(Z=z(G),Z===null)throw Error(I(188));return Z!==G?null:G}for(var J=G,ne=Z;;){var oe=J.return;if(oe===null)break;var ue=oe.alternate;if(ue===null){if(ne=oe.return,ne!==null){J=ne;continue}break}if(oe.child===ue.child){for(ue=oe.child;ue;){if(ue===J)return U(oe),G;if(ue===ne)return U(oe),Z;ue=ue.sibling}throw Error(I(188))}if(J.return!==ne.return)J=oe,ne=ue;else{for(var ve=!1,$e=oe.child;$e;){if($e===J){ve=!0,J=oe,ne=ue;break}if($e===ne){ve=!0,ne=oe,J=ue;break}$e=$e.sibling}if(!ve){for($e=ue.child;$e;){if($e===J){ve=!0,J=ue,ne=oe;break}if($e===ne){ve=!0,ne=ue,J=oe;break}$e=$e.sibling}if(!ve)throw Error(I(189))}}if(J.alternate!==ne)throw Error(I(190))}if(J.tag!==3)throw Error(I(188));return J.stateNode.current===J?G:Z}function q(G){var Z=G.tag;if(Z===5||Z===26||Z===27||Z===6)return G;for(G=G.child;G!==null;){if(Z=q(G),Z!==null)return Z;G=G.sibling}return null}var W=Object.assign,Y=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),le=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function _e(G){return G===null||typeof G!="object"?null:(G=xe&&G[xe]||G["@@iterator"],typeof G=="function"?G:null)}var Se=Symbol.for("react.client.reference");function me(G){if(G==null)return null;if(typeof G=="function")return G.$$typeof===Se?null:G.displayName||G.name||null;if(typeof G=="string")return G;switch(G){case te:return"Fragment";case ae:return"Profiler";case ie:return"StrictMode";case fe:return"Suspense";case de:return"SuspenseList";case ge:return"Activity"}if(typeof G=="object")switch(G.$$typeof){case ee:return"Portal";case le:return G.displayName||"Context";case se:return(G._context.displayName||"Context")+".Consumer";case ce:var Z=G.render;return G=G.displayName,G||(G=Z.displayName||Z.name||"",G=G!==""?"ForwardRef("+G+")":"ForwardRef"),G;case he:return Z=G.displayName||null,Z!==null?Z:me(G.type)||"Memo";case pe:Z=G._payload,G=G._init;try{return me(G(Z))}catch{}}return null}var Ce=Array.isArray,Te=R.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re=P.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pe={pending:!1,data:null,method:null,action:null},Me=[],Ae=-1;function we(G){return{current:G}}function ke(G){0>Ae||(G.current=Me[Ae],Me[Ae]=null,Ae--)}function Ee(G,Z){Ae++,Me[Ae]=G.current,G.current=Z}var ze=we(null),je=we(null),Ke=we(null),He=we(null);function Ze(G,Z){switch(Ee(Ke,Z),Ee(je,G),Ee(ze,null),Z.nodeType){case 9:case 11:G=(G=Z.documentElement)&&(G=G.namespaceURI)?Uh(G):0;break;default:if(G=Z.tagName,Z=Z.namespaceURI)Z=Uh(Z),G=Gh(Z,G);else switch(G){case"svg":G=1;break;case"math":G=2;break;default:G=0}}ke(ze),Ee(ze,G)}function Le(){ke(ze),ke(je),ke(Ke)}function Xe(G){G.memoizedState!==null&&Ee(He,G);var Z=ze.current,J=Gh(Z,G.type);Z!==J&&(Ee(je,G),Ee(ze,J))}function Ye(G){je.current===G&&(ke(ze),ke(je)),He.current===G&&(ke(He),Da._currentValue=Pe)}var Ve,dt;function ye(G){if(Ve===void 0)try{throw Error()}catch(J){var Z=J.stack.trim().match(/\n( *(at )?)/);Ve=Z&&Z[1]||"",dt=-1<J.stack.indexOf(`
    at`)?" (<anonymous>)":-1<J.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+G+dt}var Ge=!1;function Fe(G,Z){if(!G||Ge)return"";Ge=!0;var J=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var ne={DetermineComponentFrameRoot:function(){try{if(Z){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(nt){var et=nt}Reflect.construct(G,[],ct)}else{try{ct.call()}catch(nt){et=nt}G.call(ct.prototype)}}else{try{throw Error()}catch(nt){et=nt}(ct=G())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(nt){if(nt&&et&&typeof nt.stack=="string")return[nt.stack,et.stack]}return[null,null]}};ne.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var oe=Object.getOwnPropertyDescriptor(ne.DetermineComponentFrameRoot,"name");oe&&oe.configurable&&Object.defineProperty(ne.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ue=ne.DetermineComponentFrameRoot(),ve=ue[0],$e=ue[1];if(ve&&$e){var De=ve.split(`
`),Je=$e.split(`
`);for(oe=ne=0;ne<De.length&&!De[ne].includes("DetermineComponentFrameRoot");)ne++;for(;oe<Je.length&&!Je[oe].includes("DetermineComponentFrameRoot");)oe++;if(ne===De.length||oe===Je.length)for(ne=De.length-1,oe=Je.length-1;1<=ne&&0<=oe&&De[ne]!==Je[oe];)oe--;for(;1<=ne&&0<=oe;ne--,oe--)if(De[ne]!==Je[oe]){if(ne!==1||oe!==1)do if(ne--,oe--,0>oe||De[ne]!==Je[oe]){var rt=`
`+De[ne].replace(" at new "," at ");return G.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",G.displayName)),rt}while(1<=ne&&0<=oe);break}}}finally{Ge=!1,Error.prepareStackTrace=J}return(J=G?G.displayName||G.name:"")?ye(J):""}function Ie(G,Z){switch(G.tag){case 26:case 27:case 5:return ye(G.type);case 16:return ye("Lazy");case 13:return G.child!==Z&&Z!==null?ye("Suspense Fallback"):ye("Suspense");case 19:return ye("SuspenseList");case 0:case 15:return Fe(G.type,!1);case 11:return Fe(G.type.render,!1);case 1:return Fe(G.type,!0);case 31:return ye("Activity");default:return""}}function Ne(G){try{var Z="",J=null;do Z+=Ie(G,J),J=G,G=G.return;while(G);return Z}catch(ne){return`
Error generating stack: `+ne.message+`
`+ne.stack}}var Be=Object.prototype.hasOwnProperty,at=_.unstable_scheduleCallback,lt=_.unstable_cancelCallback,We=_.unstable_shouldYield,ht=_.unstable_requestPaint,ut=_.unstable_now,ft=_.unstable_getCurrentPriorityLevel,Oe=_.unstable_ImmediatePriority,tt=_.unstable_UserBlockingPriority,st=_.unstable_NormalPriority,mt=_.unstable_LowPriority,gt=_.unstable_IdlePriority,Tt=_.log,Et=_.unstable_setDisableYieldValue,_t=null,vt=null;function wt(G){if(typeof Tt=="function"&&Et(G),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(_t,G)}catch{}}var xt=Math.clz32?Math.clz32:_r,Xt=Math.log,Kt=Math.LN2;function _r(G){return G>>>=0,G===0?32:31-(Xt(G)/Kt|0)|0}var Gn=256,jn=262144,Rn=4194304;function kn(G){var Z=G&42;if(Z!==0)return Z;switch(G&-G){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return G&261888;case 262144:case 524288:case 1048576:case 2097152:return G&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return G&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return G}}function Ua(G,Z,J){var ne=G.pendingLanes;if(ne===0)return 0;var oe=0,ue=G.suspendedLanes,ve=G.pingedLanes;G=G.warmLanes;var $e=ne&134217727;return $e!==0?(ne=$e&~ue,ne!==0?oe=kn(ne):(ve&=$e,ve!==0?oe=kn(ve):J||(J=$e&~G,J!==0&&(oe=kn(J))))):($e=ne&~ue,$e!==0?oe=kn($e):ve!==0?oe=kn(ve):J||(J=ne&~G,J!==0&&(oe=kn(J)))),oe===0?0:Z!==0&&Z!==oe&&(Z&ue)===0&&(ue=oe&-oe,J=Z&-Z,ue>=J||ue===32&&(J&4194048)!==0)?Z:oe}function Wi(G,Z){return(G.pendingLanes&~(G.suspendedLanes&~G.pingedLanes)&Z)===0}function Rd(G,Z){switch(G){case 1:case 2:case 4:case 8:case 64:return Z+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Z+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bc(){var G=Rn;return Rn<<=1,(Rn&62914560)===0&&(Rn=4194304),G}function no(G){for(var Z=[],J=0;31>J;J++)Z.push(G);return Z}function Yi(G,Z){G.pendingLanes|=Z,Z!==268435456&&(G.suspendedLanes=0,G.pingedLanes=0,G.warmLanes=0)}function kd(G,Z,J,ne,oe,ue){var ve=G.pendingLanes;G.pendingLanes=J,G.suspendedLanes=0,G.pingedLanes=0,G.warmLanes=0,G.expiredLanes&=J,G.entangledLanes&=J,G.errorRecoveryDisabledLanes&=J,G.shellSuspendCounter=0;var $e=G.entanglements,De=G.expirationTimes,Je=G.hiddenUpdates;for(J=ve&~J;0<J;){var rt=31-xt(J),ct=1<<rt;$e[rt]=0,De[rt]=-1;var et=Je[rt];if(et!==null)for(Je[rt]=null,rt=0;rt<et.length;rt++){var nt=et[rt];nt!==null&&(nt.lane&=-536870913)}J&=~ct}ne!==0&&xc(G,ne,0),ue!==0&&oe===0&&G.tag!==0&&(G.suspendedLanes|=ue&~(ve&~Z))}function xc(G,Z,J){G.pendingLanes|=Z,G.suspendedLanes&=~Z;var ne=31-xt(Z);G.entangledLanes|=Z,G.entanglements[ne]=G.entanglements[ne]|1073741824|J&261930}function vc(G,Z){var J=G.entangledLanes|=Z;for(G=G.entanglements;J;){var ne=31-xt(J),oe=1<<ne;oe&Z|G[ne]&Z&&(G[ne]|=Z),J&=~oe}}function wc(G,Z){var J=Z&-Z;return J=(J&42)!==0?1:ro(J),(J&(G.suspendedLanes|Z))!==0?0:J}function ro(G){switch(G){case 2:G=1;break;case 8:G=4;break;case 32:G=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:G=128;break;case 268435456:G=134217728;break;default:G=0}return G}function io(G){return G&=-G,2<G?8<G?(G&134217727)!==0?32:268435456:8:2}function Ec(){var G=Re.p;return G!==0?G:(G=window.event,G===void 0?32:md(G.type))}function Cc(G,Z){var J=Re.p;try{return Re.p=G,Z()}finally{Re.p=J}}var yr=Math.random().toString(36).slice(2),sn="__reactFiber$"+yr,dn="__reactProps$"+yr,oi="__reactContainer$"+yr,ao="__reactEvents$"+yr,Md="__reactListeners$"+yr,$d="__reactHandles$"+yr,Ac="__reactResources$"+yr,Xi="__reactMarker$"+yr;function so(G){delete G[sn],delete G[dn],delete G[ao],delete G[Md],delete G[$d]}function li(G){var Z=G[sn];if(Z)return Z;for(var J=G.parentNode;J;){if(Z=J[oi]||J[sn]){if(J=Z.alternate,Z.child!==null||J!==null&&J.child!==null)for(G=Kh(G);G!==null;){if(J=G[sn])return J;G=Kh(G)}return Z}G=J,J=G.parentNode}return null}function ci(G){if(G=G[sn]||G[oi]){var Z=G.tag;if(Z===5||Z===6||Z===13||Z===31||Z===26||Z===27||Z===3)return G}return null}function Ki(G){var Z=G.tag;if(Z===5||Z===26||Z===27||Z===6)return G.stateNode;throw Error(I(33))}function ui(G){var Z=G[Ac];return Z||(Z=G[Ac]={hoistableStyles:new Map,hoistableScripts:new Map}),Z}function rn(G){G[Xi]=!0}var Rc=new Set,kc={};function Gr(G,Z){fi(G,Z),fi(G+"Capture",Z)}function fi(G,Z){for(kc[G]=Z,G=0;G<Z.length;G++)Rc.add(Z[G])}var Nd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mc={},$c={};function Pd(G){return Be.call($c,G)?!0:Be.call(Mc,G)?!1:Nd.test(G)?$c[G]=!0:(Mc[G]=!0,!1)}function Ga(G,Z,J){if(Pd(Z))if(J===null)G.removeAttribute(Z);else{switch(typeof J){case"undefined":case"function":case"symbol":G.removeAttribute(Z);return;case"boolean":var ne=Z.toLowerCase().slice(0,5);if(ne!=="data-"&&ne!=="aria-"){G.removeAttribute(Z);return}}G.setAttribute(Z,""+J)}}function Va(G,Z,J){if(J===null)G.removeAttribute(Z);else{switch(typeof J){case"undefined":case"function":case"symbol":case"boolean":G.removeAttribute(Z);return}G.setAttribute(Z,""+J)}}function Jn(G,Z,J,ne){if(ne===null)G.removeAttribute(J);else{switch(typeof ne){case"undefined":case"function":case"symbol":case"boolean":G.removeAttribute(J);return}G.setAttributeNS(Z,J,""+ne)}}function Mn(G){switch(typeof G){case"bigint":case"boolean":case"number":case"string":case"undefined":return G;case"object":return G;default:return""}}function Nc(G){var Z=G.type;return(G=G.nodeName)&&G.toLowerCase()==="input"&&(Z==="checkbox"||Z==="radio")}function Id(G,Z,J){var ne=Object.getOwnPropertyDescriptor(G.constructor.prototype,Z);if(!G.hasOwnProperty(Z)&&typeof ne<"u"&&typeof ne.get=="function"&&typeof ne.set=="function"){var oe=ne.get,ue=ne.set;return Object.defineProperty(G,Z,{configurable:!0,get:function(){return oe.call(this)},set:function(ve){J=""+ve,ue.call(this,ve)}}),Object.defineProperty(G,Z,{enumerable:ne.enumerable}),{getValue:function(){return J},setValue:function(ve){J=""+ve},stopTracking:function(){G._valueTracker=null,delete G[Z]}}}}function oo(G){if(!G._valueTracker){var Z=Nc(G)?"checked":"value";G._valueTracker=Id(G,Z,""+G[Z])}}function Pc(G){if(!G)return!1;var Z=G._valueTracker;if(!Z)return!0;var J=Z.getValue(),ne="";return G&&(ne=Nc(G)?G.checked?"true":"false":G.value),G=ne,G!==J?(Z.setValue(G),!0):!1}function qa(G){if(G=G||(typeof document<"u"?document:void 0),typeof G>"u")return null;try{return G.activeElement||G.body}catch{return G.body}}var Od=/[\n"\\]/g;function $n(G){return G.replace(Od,function(Z){return"\\"+Z.charCodeAt(0).toString(16)+" "})}function lo(G,Z,J,ne,oe,ue,ve,$e){G.name="",ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"?G.type=ve:G.removeAttribute("type"),Z!=null?ve==="number"?(Z===0&&G.value===""||G.value!=Z)&&(G.value=""+Mn(Z)):G.value!==""+Mn(Z)&&(G.value=""+Mn(Z)):ve!=="submit"&&ve!=="reset"||G.removeAttribute("value"),Z!=null?co(G,ve,Mn(Z)):J!=null?co(G,ve,Mn(J)):ne!=null&&G.removeAttribute("value"),oe==null&&ue!=null&&(G.defaultChecked=!!ue),oe!=null&&(G.checked=oe&&typeof oe!="function"&&typeof oe!="symbol"),$e!=null&&typeof $e!="function"&&typeof $e!="symbol"&&typeof $e!="boolean"?G.name=""+Mn($e):G.removeAttribute("name")}function Ic(G,Z,J,ne,oe,ue,ve,$e){if(ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"&&(G.type=ue),Z!=null||J!=null){if(!(ue!=="submit"&&ue!=="reset"||Z!=null)){oo(G);return}J=J!=null?""+Mn(J):"",Z=Z!=null?""+Mn(Z):J,$e||Z===G.value||(G.value=Z),G.defaultValue=Z}ne=ne??oe,ne=typeof ne!="function"&&typeof ne!="symbol"&&!!ne,G.checked=$e?G.checked:!!ne,G.defaultChecked=!!ne,ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"&&(G.name=ve),oo(G)}function co(G,Z,J){Z==="number"&&qa(G.ownerDocument)===G||G.defaultValue===""+J||(G.defaultValue=""+J)}function hi(G,Z,J,ne){if(G=G.options,Z){Z={};for(var oe=0;oe<J.length;oe++)Z["$"+J[oe]]=!0;for(J=0;J<G.length;J++)oe=Z.hasOwnProperty("$"+G[J].value),G[J].selected!==oe&&(G[J].selected=oe),oe&&ne&&(G[J].defaultSelected=!0)}else{for(J=""+Mn(J),Z=null,oe=0;oe<G.length;oe++){if(G[oe].value===J){G[oe].selected=!0,ne&&(G[oe].defaultSelected=!0);return}Z!==null||G[oe].disabled||(Z=G[oe])}Z!==null&&(Z.selected=!0)}}function Oc(G,Z,J){if(Z!=null&&(Z=""+Mn(Z),Z!==G.value&&(G.value=Z),J==null)){G.defaultValue!==Z&&(G.defaultValue=Z);return}G.defaultValue=J!=null?""+Mn(J):""}function zc(G,Z,J,ne){if(Z==null){if(ne!=null){if(J!=null)throw Error(I(92));if(Ce(ne)){if(1<ne.length)throw Error(I(93));ne=ne[0]}J=ne}J==null&&(J=""),Z=J}J=Mn(Z),G.defaultValue=J,ne=G.textContent,ne===J&&ne!==""&&ne!==null&&(G.value=ne),oo(G)}function di(G,Z){if(Z){var J=G.firstChild;if(J&&J===G.lastChild&&J.nodeType===3){J.nodeValue=Z;return}}G.textContent=Z}var zd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lc(G,Z,J){var ne=Z.indexOf("--")===0;J==null||typeof J=="boolean"||J===""?ne?G.setProperty(Z,""):Z==="float"?G.cssFloat="":G[Z]="":ne?G.setProperty(Z,J):typeof J!="number"||J===0||zd.has(Z)?Z==="float"?G.cssFloat=J:G[Z]=(""+J).trim():G[Z]=J+"px"}function Bc(G,Z,J){if(Z!=null&&typeof Z!="object")throw Error(I(62));if(G=G.style,J!=null){for(var ne in J)!J.hasOwnProperty(ne)||Z!=null&&Z.hasOwnProperty(ne)||(ne.indexOf("--")===0?G.setProperty(ne,""):ne==="float"?G.cssFloat="":G[ne]="");for(var oe in Z)ne=Z[oe],Z.hasOwnProperty(oe)&&J[oe]!==ne&&Lc(G,oe,ne)}else for(var ue in Z)Z.hasOwnProperty(ue)&&Lc(G,ue,Z[ue])}function uo(G){if(G.indexOf("-")===-1)return!1;switch(G){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ld=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(G){return Ld.test(""+G)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":G}function er(){}var fo=null;function ho(G){return G=G.target||G.srcElement||window,G.correspondingUseElement&&(G=G.correspondingUseElement),G.nodeType===3?G.parentNode:G}var mi=null,gi=null;function jc(G){var Z=ci(G);if(Z&&(G=Z.stateNode)){var J=G[dn]||null;e:switch(G=Z.stateNode,Z.type){case"input":if(lo(G,J.value,J.defaultValue,J.defaultValue,J.checked,J.defaultChecked,J.type,J.name),Z=J.name,J.type==="radio"&&Z!=null){for(J=G;J.parentNode;)J=J.parentNode;for(J=J.querySelectorAll('input[name="'+$n(""+Z)+'"][type="radio"]'),Z=0;Z<J.length;Z++){var ne=J[Z];if(ne!==G&&ne.form===G.form){var oe=ne[dn]||null;if(!oe)throw Error(I(90));lo(ne,oe.value,oe.defaultValue,oe.defaultValue,oe.checked,oe.defaultChecked,oe.type,oe.name)}}for(Z=0;Z<J.length;Z++)ne=J[Z],ne.form===G.form&&Pc(ne)}break e;case"textarea":Oc(G,J.value,J.defaultValue);break e;case"select":Z=J.value,Z!=null&&hi(G,!!J.multiple,Z,!1)}}}var mo=!1;function Fc(G,Z,J){if(mo)return G(Z,J);mo=!0;try{var ne=G(Z);return ne}finally{if(mo=!1,(mi!==null||gi!==null)&&(Is(),mi&&(Z=mi,G=gi,gi=mi=null,jc(Z),G)))for(Z=0;Z<G.length;Z++)jc(G[Z])}}function Qi(G,Z){var J=G.stateNode;if(J===null)return null;var ne=J[dn]||null;if(ne===null)return null;J=ne[Z];e:switch(Z){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ne=!ne.disabled)||(G=G.type,ne=!(G==="button"||G==="input"||G==="select"||G==="textarea")),G=!ne;break e;default:G=!1}if(G)return null;if(J&&typeof J!="function")throw Error(I(231,Z,typeof J));return J}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=!1;if(tr)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){po=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{po=!1}var xr=null,go=null,Wa=null;function Hc(){if(Wa)return Wa;var G,Z=go,J=Z.length,ne,oe="value"in xr?xr.value:xr.textContent,ue=oe.length;for(G=0;G<J&&Z[G]===oe[G];G++);var ve=J-G;for(ne=1;ne<=ve&&Z[J-ne]===oe[ue-ne];ne++);return Wa=oe.slice(G,1<ne?1-ne:void 0)}function Ya(G){var Z=G.keyCode;return"charCode"in G?(G=G.charCode,G===0&&Z===13&&(G=13)):G=Z,G===10&&(G=13),32<=G||G===13?G:0}function Xa(){return!0}function Uc(){return!1}function mn(G){function Z(J,ne,oe,ue,ve){this._reactName=J,this._targetInst=oe,this.type=ne,this.nativeEvent=ue,this.target=ve,this.currentTarget=null;for(var $e in G)G.hasOwnProperty($e)&&(J=G[$e],this[$e]=J?J(ue):ue[$e]);return this.isDefaultPrevented=(ue.defaultPrevented!=null?ue.defaultPrevented:ue.returnValue===!1)?Xa:Uc,this.isPropagationStopped=Uc,this}return W(Z.prototype,{preventDefault:function(){this.defaultPrevented=!0;var J=this.nativeEvent;J&&(J.preventDefault?J.preventDefault():typeof J.returnValue!="unknown"&&(J.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var J=this.nativeEvent;J&&(J.stopPropagation?J.stopPropagation():typeof J.cancelBubble!="unknown"&&(J.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),Z}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(G){return G.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=mn(Vr),ea=W({},Vr,{view:0,detail:0}),Bd=mn(ea),_o,yo,ta,Qa=W({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xo,button:0,buttons:0,relatedTarget:function(G){return G.relatedTarget===void 0?G.fromElement===G.srcElement?G.toElement:G.fromElement:G.relatedTarget},movementX:function(G){return"movementX"in G?G.movementX:(G!==ta&&(ta&&G.type==="mousemove"?(_o=G.screenX-ta.screenX,yo=G.screenY-ta.screenY):yo=_o=0,ta=G),_o)},movementY:function(G){return"movementY"in G?G.movementY:yo}}),Gc=mn(Qa),jd=W({},Qa,{dataTransfer:0}),Fd=mn(jd),Hd=W({},ea,{relatedTarget:0}),bo=mn(Hd),Ud=W({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gd=mn(Ud),Vd=W({},Vr,{clipboardData:function(G){return"clipboardData"in G?G.clipboardData:window.clipboardData}}),qd=mn(Vd),Zd=W({},Vr,{data:0}),Vc=mn(Zd),Wd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kd(G){var Z=this.nativeEvent;return Z.getModifierState?Z.getModifierState(G):(G=Xd[G])?!!Z[G]:!1}function xo(){return Kd}var Qd=W({},ea,{key:function(G){if(G.key){var Z=Wd[G.key]||G.key;if(Z!=="Unidentified")return Z}return G.type==="keypress"?(G=Ya(G),G===13?"Enter":String.fromCharCode(G)):G.type==="keydown"||G.type==="keyup"?Yd[G.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xo,charCode:function(G){return G.type==="keypress"?Ya(G):0},keyCode:function(G){return G.type==="keydown"||G.type==="keyup"?G.keyCode:0},which:function(G){return G.type==="keypress"?Ya(G):G.type==="keydown"||G.type==="keyup"?G.keyCode:0}}),Jd=mn(Qd),em=W({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=mn(em),tm=W({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xo}),nm=mn(tm),rm=W({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),im=mn(rm),am=W({},Qa,{deltaX:function(G){return"deltaX"in G?G.deltaX:"wheelDeltaX"in G?-G.wheelDeltaX:0},deltaY:function(G){return"deltaY"in G?G.deltaY:"wheelDeltaY"in G?-G.wheelDeltaY:"wheelDelta"in G?-G.wheelDelta:0},deltaZ:0,deltaMode:0}),sm=mn(am),om=W({},Vr,{newState:0,oldState:0}),lm=mn(om),cm=[9,13,27,32],vo=tr&&"CompositionEvent"in window,na=null;tr&&"documentMode"in document&&(na=document.documentMode);var um=tr&&"TextEvent"in window&&!na,Zc=tr&&(!vo||na&&8<na&&11>=na),Wc=" ",Yc=!1;function Xc(G,Z){switch(G){case"keyup":return cm.indexOf(Z.keyCode)!==-1;case"keydown":return Z.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kc(G){return G=G.detail,typeof G=="object"&&"data"in G?G.data:null}var yi=!1;function fm(G,Z){switch(G){case"compositionend":return Kc(Z);case"keypress":return Z.which!==32?null:(Yc=!0,Wc);case"textInput":return G=Z.data,G===Wc&&Yc?null:G;default:return null}}function hm(G,Z){if(yi)return G==="compositionend"||!vo&&Xc(G,Z)?(G=Hc(),Wa=go=xr=null,yi=!1,G):null;switch(G){case"paste":return null;case"keypress":if(!(Z.ctrlKey||Z.altKey||Z.metaKey)||Z.ctrlKey&&Z.altKey){if(Z.char&&1<Z.char.length)return Z.char;if(Z.which)return String.fromCharCode(Z.which)}return null;case"compositionend":return Zc&&Z.locale!=="ko"?null:Z.data;default:return null}}var dm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qc(G){var Z=G&&G.nodeName&&G.nodeName.toLowerCase();return Z==="input"?!!dm[G.type]:Z==="textarea"}function Jc(G,Z,J,ne){mi?gi?gi.push(ne):gi=[ne]:mi=ne,Z=Fs(Z,"onChange"),0<Z.length&&(J=new Ka("onChange","change",null,J,ne),G.push({event:J,listeners:Z}))}var ra=null,ia=null;function mm(G){Dh(G,0)}function Ja(G){var Z=Ki(G);if(Pc(Z))return G}function eu(G,Z){if(G==="change")return Z}var tu=!1;if(tr){var So;if(tr){var wo="oninput"in document;if(!wo){var nu=document.createElement("div");nu.setAttribute("oninput","return;"),wo=typeof nu.oninput=="function"}So=wo}else So=!1;tu=So&&(!document.documentMode||9<document.documentMode)}function ru(){ra&&(ra.detachEvent("onpropertychange",iu),ia=ra=null)}function iu(G){if(G.propertyName==="value"&&Ja(ia)){var Z=[];Jc(Z,ia,G,ho(G)),Fc(mm,Z)}}function pm(G,Z,J){G==="focusin"?(ru(),ra=Z,ia=J,ra.attachEvent("onpropertychange",iu)):G==="focusout"&&ru()}function gm(G){if(G==="selectionchange"||G==="keyup"||G==="keydown")return Ja(ia)}function _m(G,Z){if(G==="click")return Ja(Z)}function ym(G,Z){if(G==="input"||G==="change")return Ja(Z)}function bm(G,Z){return G===Z&&(G!==0||1/G===1/Z)||G!==G&&Z!==Z}var xn=typeof Object.is=="function"?Object.is:bm;function aa(G,Z){if(xn(G,Z))return!0;if(typeof G!="object"||G===null||typeof Z!="object"||Z===null)return!1;var J=Object.keys(G),ne=Object.keys(Z);if(J.length!==ne.length)return!1;for(ne=0;ne<J.length;ne++){var oe=J[ne];if(!Be.call(Z,oe)||!xn(G[oe],Z[oe]))return!1}return!0}function au(G){for(;G&&G.firstChild;)G=G.firstChild;return G}function su(G,Z){var J=au(G);G=0;for(var ne;J;){if(J.nodeType===3){if(ne=G+J.textContent.length,G<=Z&&ne>=Z)return{node:J,offset:Z-G};G=ne}e:{for(;J;){if(J.nextSibling){J=J.nextSibling;break e}J=J.parentNode}J=void 0}J=au(J)}}function ou(G,Z){return G&&Z?G===Z?!0:G&&G.nodeType===3?!1:Z&&Z.nodeType===3?ou(G,Z.parentNode):"contains"in G?G.contains(Z):G.compareDocumentPosition?!!(G.compareDocumentPosition(Z)&16):!1:!1}function lu(G){G=G!=null&&G.ownerDocument!=null&&G.ownerDocument.defaultView!=null?G.ownerDocument.defaultView:window;for(var Z=qa(G.document);Z instanceof G.HTMLIFrameElement;){try{var J=typeof Z.contentWindow.location.href=="string"}catch{J=!1}if(J)G=Z.contentWindow;else break;Z=qa(G.document)}return Z}function Eo(G){var Z=G&&G.nodeName&&G.nodeName.toLowerCase();return Z&&(Z==="input"&&(G.type==="text"||G.type==="search"||G.type==="tel"||G.type==="url"||G.type==="password")||Z==="textarea"||G.contentEditable==="true")}var xm=tr&&"documentMode"in document&&11>=document.documentMode,bi=null,Co=null,sa=null,To=!1;function cu(G,Z,J){var ne=J.window===J?J.document:J.nodeType===9?J:J.ownerDocument;To||bi==null||bi!==qa(ne)||(ne=bi,"selectionStart"in ne&&Eo(ne)?ne={start:ne.selectionStart,end:ne.selectionEnd}:(ne=(ne.ownerDocument&&ne.ownerDocument.defaultView||window).getSelection(),ne={anchorNode:ne.anchorNode,anchorOffset:ne.anchorOffset,focusNode:ne.focusNode,focusOffset:ne.focusOffset}),sa&&aa(sa,ne)||(sa=ne,ne=Fs(Co,"onSelect"),0<ne.length&&(Z=new Ka("onSelect","select",null,Z,J),G.push({event:Z,listeners:ne}),Z.target=bi)))}function qr(G,Z){var J={};return J[G.toLowerCase()]=Z.toLowerCase(),J["Webkit"+G]="webkit"+Z,J["Moz"+G]="moz"+Z,J}var xi={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},Ao={},uu={};tr&&(uu=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function Zr(G){if(Ao[G])return Ao[G];if(!xi[G])return G;var Z=xi[G],J;for(J in Z)if(Z.hasOwnProperty(J)&&J in uu)return Ao[G]=Z[J];return G}var fu=Zr("animationend"),hu=Zr("animationiteration"),du=Zr("animationstart"),vm=Zr("transitionrun"),Sm=Zr("transitionstart"),wm=Zr("transitioncancel"),mu=Zr("transitionend"),pu=new Map,Ro="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ro.push("scrollEnd");function Fn(G,Z){pu.set(G,Z),Gr(Z,[G])}var es=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Nn=[],vi=0,ko=0;function ts(){for(var G=vi,Z=ko=vi=0;Z<G;){var J=Nn[Z];Nn[Z++]=null;var ne=Nn[Z];Nn[Z++]=null;var oe=Nn[Z];Nn[Z++]=null;var ue=Nn[Z];if(Nn[Z++]=null,ne!==null&&oe!==null){var ve=ne.pending;ve===null?oe.next=oe:(oe.next=ve.next,ve.next=oe),ne.pending=oe}ue!==0&&gu(J,oe,ue)}}function ns(G,Z,J,ne){Nn[vi++]=G,Nn[vi++]=Z,Nn[vi++]=J,Nn[vi++]=ne,ko|=ne,G.lanes|=ne,G=G.alternate,G!==null&&(G.lanes|=ne)}function Mo(G,Z,J,ne){return ns(G,Z,J,ne),rs(G)}function Wr(G,Z){return ns(G,null,null,Z),rs(G)}function gu(G,Z,J){G.lanes|=J;var ne=G.alternate;ne!==null&&(ne.lanes|=J);for(var oe=!1,ue=G.return;ue!==null;)ue.childLanes|=J,ne=ue.alternate,ne!==null&&(ne.childLanes|=J),ue.tag===22&&(G=ue.stateNode,G===null||G._visibility&1||(oe=!0)),G=ue,ue=ue.return;return G.tag===3?(ue=G.stateNode,oe&&Z!==null&&(oe=31-xt(J),G=ue.hiddenUpdates,ne=G[oe],ne===null?G[oe]=[Z]:ne.push(Z),Z.lane=J|536870912),ue):null}function rs(G){if(50<Ma)throw Ma=0,Bl=null,Error(I(185));for(var Z=G.return;Z!==null;)G=Z,Z=G.return;return G.tag===3?G.stateNode:null}var Si={};function Em(G,Z,J,ne){this.tag=G,this.key=J,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=Z,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ne,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(G,Z,J,ne){return new Em(G,Z,J,ne)}function $o(G){return G=G.prototype,!(!G||!G.isReactComponent)}function nr(G,Z){var J=G.alternate;return J===null?(J=vn(G.tag,Z,G.key,G.mode),J.elementType=G.elementType,J.type=G.type,J.stateNode=G.stateNode,J.alternate=G,G.alternate=J):(J.pendingProps=Z,J.type=G.type,J.flags=0,J.subtreeFlags=0,J.deletions=null),J.flags=G.flags&65011712,J.childLanes=G.childLanes,J.lanes=G.lanes,J.child=G.child,J.memoizedProps=G.memoizedProps,J.memoizedState=G.memoizedState,J.updateQueue=G.updateQueue,Z=G.dependencies,J.dependencies=Z===null?null:{lanes:Z.lanes,firstContext:Z.firstContext},J.sibling=G.sibling,J.index=G.index,J.ref=G.ref,J.refCleanup=G.refCleanup,J}function _u(G,Z){G.flags&=65011714;var J=G.alternate;return J===null?(G.childLanes=0,G.lanes=Z,G.child=null,G.subtreeFlags=0,G.memoizedProps=null,G.memoizedState=null,G.updateQueue=null,G.dependencies=null,G.stateNode=null):(G.childLanes=J.childLanes,G.lanes=J.lanes,G.child=J.child,G.subtreeFlags=0,G.deletions=null,G.memoizedProps=J.memoizedProps,G.memoizedState=J.memoizedState,G.updateQueue=J.updateQueue,G.type=J.type,Z=J.dependencies,G.dependencies=Z===null?null:{lanes:Z.lanes,firstContext:Z.firstContext}),G}function is(G,Z,J,ne,oe,ue){var ve=0;if(ne=G,typeof G=="function")$o(G)&&(ve=1);else if(typeof G=="string")ve=Mp(G,J,ze.current)?26:G==="html"||G==="head"||G==="body"?27:5;else e:switch(G){case ge:return G=vn(31,J,Z,oe),G.elementType=ge,G.lanes=ue,G;case te:return Yr(J.children,oe,ue,Z);case ie:ve=8,oe|=24;break;case ae:return G=vn(12,J,Z,oe|2),G.elementType=ae,G.lanes=ue,G;case fe:return G=vn(13,J,Z,oe),G.elementType=fe,G.lanes=ue,G;case de:return G=vn(19,J,Z,oe),G.elementType=de,G.lanes=ue,G;default:if(typeof G=="object"&&G!==null)switch(G.$$typeof){case le:ve=10;break e;case se:ve=9;break e;case ce:ve=11;break e;case he:ve=14;break e;case pe:ve=16,ne=null;break e}ve=29,J=Error(I(130,G===null?"null":typeof G,"")),ne=null}return Z=vn(ve,J,Z,oe),Z.elementType=G,Z.type=ne,Z.lanes=ue,Z}function Yr(G,Z,J,ne){return G=vn(7,G,ne,Z),G.lanes=J,G}function No(G,Z,J){return G=vn(6,G,null,Z),G.lanes=J,G}function yu(G){var Z=vn(18,null,null,0);return Z.stateNode=G,Z}function Po(G,Z,J){return Z=vn(4,G.children!==null?G.children:[],G.key,Z),Z.lanes=J,Z.stateNode={containerInfo:G.containerInfo,pendingChildren:null,implementation:G.implementation},Z}var bu=new WeakMap;function Pn(G,Z){if(typeof G=="object"&&G!==null){var J=bu.get(G);return J!==void 0?J:(Z={value:G,source:Z,stack:Ne(Z)},bu.set(G,Z),Z)}return{value:G,source:Z,stack:Ne(Z)}}var wi=[],Ei=0,as=null,oa=0,In=[],On=0,vr=null,Vn=1,qn="";function rr(G,Z){wi[Ei++]=oa,wi[Ei++]=as,as=G,oa=Z}function xu(G,Z,J){In[On++]=Vn,In[On++]=qn,In[On++]=vr,vr=G;var ne=Vn;G=qn;var oe=32-xt(ne)-1;ne&=~(1<<oe),J+=1;var ue=32-xt(Z)+oe;if(30<ue){var ve=oe-oe%5;ue=(ne&(1<<ve)-1).toString(32),ne>>=ve,oe-=ve,Vn=1<<32-xt(Z)+oe|J<<oe|ne,qn=ue+G}else Vn=1<<ue|J<<oe|ne,qn=G}function Io(G){G.return!==null&&(rr(G,1),xu(G,1,0))}function Oo(G){for(;G===as;)as=wi[--Ei],wi[Ei]=null,oa=wi[--Ei],wi[Ei]=null;for(;G===vr;)vr=In[--On],In[On]=null,qn=In[--On],In[On]=null,Vn=In[--On],In[On]=null}function vu(G,Z){In[On++]=Vn,In[On++]=qn,In[On++]=vr,Vn=Z.id,qn=Z.overflow,vr=G}var on=null,Ut=null,Pt=!1,Sr=null,zn=!1,zo=Error(I(519));function wr(G){var Z=Error(I(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw la(Pn(Z,G)),zo}function Su(G){var Z=G.stateNode,J=G.type,ne=G.memoizedProps;switch(Z[sn]=G,Z[dn]=ne,J){case"dialog":Mt("cancel",Z),Mt("close",Z);break;case"iframe":case"object":case"embed":Mt("load",Z);break;case"video":case"audio":for(J=0;J<Na.length;J++)Mt(Na[J],Z);break;case"source":Mt("error",Z);break;case"img":case"image":case"link":Mt("error",Z),Mt("load",Z);break;case"details":Mt("toggle",Z);break;case"input":Mt("invalid",Z),Ic(Z,ne.value,ne.defaultValue,ne.checked,ne.defaultChecked,ne.type,ne.name,!0);break;case"select":Mt("invalid",Z);break;case"textarea":Mt("invalid",Z),zc(Z,ne.value,ne.defaultValue,ne.children)}J=ne.children,typeof J!="string"&&typeof J!="number"&&typeof J!="bigint"||Z.textContent===""+J||ne.suppressHydrationWarning===!0||Fh(Z.textContent,J)?(ne.popover!=null&&(Mt("beforetoggle",Z),Mt("toggle",Z)),ne.onScroll!=null&&Mt("scroll",Z),ne.onScrollEnd!=null&&Mt("scrollend",Z),ne.onClick!=null&&(Z.onclick=er),Z=!0):Z=!1,Z||wr(G,!0)}function wu(G){for(on=G.return;on;)switch(on.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:on=on.return}}function Ci(G){if(G!==on)return!1;if(!Pt)return wu(G),Pt=!0,!1;var Z=G.tag,J;if((J=Z!==3&&Z!==27)&&((J=Z===5)&&(J=G.type,J=!(J!=="form"&&J!=="button")||ec(G.type,G.memoizedProps)),J=!J),J&&Ut&&wr(G),wu(G),Z===13){if(G=G.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(I(317));Ut=Xh(G)}else if(Z===31){if(G=G.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(I(317));Ut=Xh(G)}else Z===27?(Z=Ut,Lr(G.type)?(G=ac,ac=null,Ut=G):Ut=Z):Ut=on?Ln(G.stateNode.nextSibling):null;return!0}function Xr(){Ut=on=null,Pt=!1}function Do(){var G=Sr;return G!==null&&(yn===null?yn=G:yn.push.apply(yn,G),Sr=null),G}function la(G){Sr===null?Sr=[G]:Sr.push(G)}var Lo=we(null),Kr=null,ir=null;function Er(G,Z,J){Ee(Lo,Z._currentValue),Z._currentValue=J}function ar(G){G._currentValue=Lo.current,ke(Lo)}function Bo(G,Z,J){for(;G!==null;){var ne=G.alternate;if((G.childLanes&Z)!==Z?(G.childLanes|=Z,ne!==null&&(ne.childLanes|=Z)):ne!==null&&(ne.childLanes&Z)!==Z&&(ne.childLanes|=Z),G===J)break;G=G.return}}function jo(G,Z,J,ne){var oe=G.child;for(oe!==null&&(oe.return=G);oe!==null;){var ue=oe.dependencies;if(ue!==null){var ve=oe.child;ue=ue.firstContext;e:for(;ue!==null;){var $e=ue;ue=oe;for(var De=0;De<Z.length;De++)if($e.context===Z[De]){ue.lanes|=J,$e=ue.alternate,$e!==null&&($e.lanes|=J),Bo(ue.return,J,G),ne||(ve=null);break e}ue=$e.next}}else if(oe.tag===18){if(ve=oe.return,ve===null)throw Error(I(341));ve.lanes|=J,ue=ve.alternate,ue!==null&&(ue.lanes|=J),Bo(ve,J,G),ve=null}else ve=oe.child;if(ve!==null)ve.return=oe;else for(ve=oe;ve!==null;){if(ve===G){ve=null;break}if(oe=ve.sibling,oe!==null){oe.return=ve.return,ve=oe;break}ve=ve.return}oe=ve}}function Ti(G,Z,J,ne){G=null;for(var oe=Z,ue=!1;oe!==null;){if(!ue){if((oe.flags&524288)!==0)ue=!0;else if((oe.flags&262144)!==0)break}if(oe.tag===10){var ve=oe.alternate;if(ve===null)throw Error(I(387));if(ve=ve.memoizedProps,ve!==null){var $e=oe.type;xn(oe.pendingProps.value,ve.value)||(G!==null?G.push($e):G=[$e])}}else if(oe===He.current){if(ve=oe.alternate,ve===null)throw Error(I(387));ve.memoizedState.memoizedState!==oe.memoizedState.memoizedState&&(G!==null?G.push(Da):G=[Da])}oe=oe.return}G!==null&&jo(Z,G,J,ne),Z.flags|=262144}function ss(G){for(G=G.firstContext;G!==null;){if(!xn(G.context._currentValue,G.memoizedValue))return!0;G=G.next}return!1}function Qr(G){Kr=G,ir=null,G=G.dependencies,G!==null&&(G.firstContext=null)}function ln(G){return Eu(Kr,G)}function os(G,Z){return Kr===null&&Qr(G),Eu(G,Z)}function Eu(G,Z){var J=Z._currentValue;if(Z={context:Z,memoizedValue:J,next:null},ir===null){if(G===null)throw Error(I(308));ir=Z,G.dependencies={lanes:0,firstContext:Z},G.flags|=524288}else ir=ir.next=Z;return J}var Cm=typeof AbortController<"u"?AbortController:function(){var G=[],Z=this.signal={aborted:!1,addEventListener:function(J,ne){G.push(ne)}};this.abort=function(){Z.aborted=!0,G.forEach(function(J){return J()})}},Tm=_.unstable_scheduleCallback,Am=_.unstable_NormalPriority,Qt={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fo(){return{controller:new Cm,data:new Map,refCount:0}}function ca(G){G.refCount--,G.refCount===0&&Tm(Am,function(){G.controller.abort()})}var ua=null,Ho=0,Ai=0,Ri=null;function Rm(G,Z){if(ua===null){var J=ua=[];Ho=0,Ai=Vl(),Ri={status:"pending",value:void 0,then:function(ne){J.push(ne)}}}return Ho++,Z.then(Cu,Cu),Z}function Cu(){if(--Ho===0&&ua!==null){Ri!==null&&(Ri.status="fulfilled");var G=ua;ua=null,Ai=0,Ri=null;for(var Z=0;Z<G.length;Z++)(0,G[Z])()}}function km(G,Z){var J=[],ne={status:"pending",value:null,reason:null,then:function(oe){J.push(oe)}};return G.then(function(){ne.status="fulfilled",ne.value=Z;for(var oe=0;oe<J.length;oe++)(0,J[oe])(Z)},function(oe){for(ne.status="rejected",ne.reason=oe,oe=0;oe<J.length;oe++)(0,J[oe])(void 0)}),ne}var Tu=Te.S;Te.S=function(G,Z){fh=ut(),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Rm(G,Z),Tu!==null&&Tu(G,Z)};var Jr=we(null);function Uo(){var G=Jr.current;return G!==null?G:Ht.pooledCache}function ls(G,Z){Z===null?Ee(Jr,Jr.current):Ee(Jr,Z.pool)}function Au(){var G=Uo();return G===null?null:{parent:Qt._currentValue,pool:G}}var ki=Error(I(460)),Go=Error(I(474)),cs=Error(I(542)),us={then:function(){}};function Ru(G){return G=G.status,G==="fulfilled"||G==="rejected"}function ku(G,Z,J){switch(J=G[J],J===void 0?G.push(Z):J!==Z&&(Z.then(er,er),Z=J),Z.status){case"fulfilled":return Z.value;case"rejected":throw G=Z.reason,$u(G),G;default:if(typeof Z.status=="string")Z.then(er,er);else{if(G=Ht,G!==null&&100<G.shellSuspendCounter)throw Error(I(482));G=Z,G.status="pending",G.then(function(ne){if(Z.status==="pending"){var oe=Z;oe.status="fulfilled",oe.value=ne}},function(ne){if(Z.status==="pending"){var oe=Z;oe.status="rejected",oe.reason=ne}})}switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw G=Z.reason,$u(G),G}throw ti=Z,ki}}function ei(G){try{var Z=G._init;return Z(G._payload)}catch(J){throw J!==null&&typeof J=="object"&&typeof J.then=="function"?(ti=J,ki):J}}var ti=null;function Mu(){if(ti===null)throw Error(I(459));var G=ti;return ti=null,G}function $u(G){if(G===ki||G===cs)throw Error(I(483))}var Mi=null,fa=0;function fs(G){var Z=fa;return fa+=1,Mi===null&&(Mi=[]),ku(Mi,G,Z)}function ha(G,Z){Z=Z.props.ref,G.ref=Z!==void 0?Z:null}function hs(G,Z){throw Z.$$typeof===Y?Error(I(525)):(G=Object.prototype.toString.call(Z),Error(I(31,G==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":G)))}function Nu(G){function Z(qe,Ue){if(G){var Qe=qe.deletions;Qe===null?(qe.deletions=[Ue],qe.flags|=16):Qe.push(Ue)}}function J(qe,Ue){if(!G)return null;for(;Ue!==null;)Z(qe,Ue),Ue=Ue.sibling;return null}function ne(qe){for(var Ue=new Map;qe!==null;)qe.key!==null?Ue.set(qe.key,qe):Ue.set(qe.index,qe),qe=qe.sibling;return Ue}function oe(qe,Ue){return qe=nr(qe,Ue),qe.index=0,qe.sibling=null,qe}function ue(qe,Ue,Qe){return qe.index=Qe,G?(Qe=qe.alternate,Qe!==null?(Qe=Qe.index,Qe<Ue?(qe.flags|=67108866,Ue):Qe):(qe.flags|=67108866,Ue)):(qe.flags|=1048576,Ue)}function ve(qe){return G&&qe.alternate===null&&(qe.flags|=67108866),qe}function $e(qe,Ue,Qe,ot){return Ue===null||Ue.tag!==6?(Ue=No(Qe,qe.mode,ot),Ue.return=qe,Ue):(Ue=oe(Ue,Qe),Ue.return=qe,Ue)}function De(qe,Ue,Qe,ot){var St=Qe.type;return St===te?rt(qe,Ue,Qe.props.children,ot,Qe.key):Ue!==null&&(Ue.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===pe&&ei(St)===Ue.type)?(Ue=oe(Ue,Qe.props),ha(Ue,Qe),Ue.return=qe,Ue):(Ue=is(Qe.type,Qe.key,Qe.props,null,qe.mode,ot),ha(Ue,Qe),Ue.return=qe,Ue)}function Je(qe,Ue,Qe,ot){return Ue===null||Ue.tag!==4||Ue.stateNode.containerInfo!==Qe.containerInfo||Ue.stateNode.implementation!==Qe.implementation?(Ue=Po(Qe,qe.mode,ot),Ue.return=qe,Ue):(Ue=oe(Ue,Qe.children||[]),Ue.return=qe,Ue)}function rt(qe,Ue,Qe,ot,St){return Ue===null||Ue.tag!==7?(Ue=Yr(Qe,qe.mode,ot,St),Ue.return=qe,Ue):(Ue=oe(Ue,Qe),Ue.return=qe,Ue)}function ct(qe,Ue,Qe){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Ue=No(""+Ue,qe.mode,Qe),Ue.return=qe,Ue;if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case Q:return Qe=is(Ue.type,Ue.key,Ue.props,null,qe.mode,Qe),ha(Qe,Ue),Qe.return=qe,Qe;case ee:return Ue=Po(Ue,qe.mode,Qe),Ue.return=qe,Ue;case pe:return Ue=ei(Ue),ct(qe,Ue,Qe)}if(Ce(Ue)||_e(Ue))return Ue=Yr(Ue,qe.mode,Qe,null),Ue.return=qe,Ue;if(typeof Ue.then=="function")return ct(qe,fs(Ue),Qe);if(Ue.$$typeof===le)return ct(qe,os(qe,Ue),Qe);hs(qe,Ue)}return null}function et(qe,Ue,Qe,ot){var St=Ue!==null?Ue.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return St!==null?null:$e(qe,Ue,""+Qe,ot);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case Q:return Qe.key===St?De(qe,Ue,Qe,ot):null;case ee:return Qe.key===St?Je(qe,Ue,Qe,ot):null;case pe:return Qe=ei(Qe),et(qe,Ue,Qe,ot)}if(Ce(Qe)||_e(Qe))return St!==null?null:rt(qe,Ue,Qe,ot,null);if(typeof Qe.then=="function")return et(qe,Ue,fs(Qe),ot);if(Qe.$$typeof===le)return et(qe,Ue,os(qe,Qe),ot);hs(qe,Qe)}return null}function nt(qe,Ue,Qe,ot,St){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return qe=qe.get(Qe)||null,$e(Ue,qe,""+ot,St);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case Q:return qe=qe.get(ot.key===null?Qe:ot.key)||null,De(Ue,qe,ot,St);case ee:return qe=qe.get(ot.key===null?Qe:ot.key)||null,Je(Ue,qe,ot,St);case pe:return ot=ei(ot),nt(qe,Ue,Qe,ot,St)}if(Ce(ot)||_e(ot))return qe=qe.get(Qe)||null,rt(Ue,qe,ot,St,null);if(typeof ot.then=="function")return nt(qe,Ue,Qe,fs(ot),St);if(ot.$$typeof===le)return nt(qe,Ue,Qe,os(Ue,ot),St);hs(Ue,ot)}return null}function pt(qe,Ue,Qe,ot){for(var St=null,It=null,yt=Ue,Rt=Ue=0,Nt=null;yt!==null&&Rt<Qe.length;Rt++){yt.index>Rt?(Nt=yt,yt=null):Nt=yt.sibling;var Ot=et(qe,yt,Qe[Rt],ot);if(Ot===null){yt===null&&(yt=Nt);break}G&&yt&&Ot.alternate===null&&Z(qe,yt),Ue=ue(Ot,Ue,Rt),It===null?St=Ot:It.sibling=Ot,It=Ot,yt=Nt}if(Rt===Qe.length)return J(qe,yt),Pt&&rr(qe,Rt),St;if(yt===null){for(;Rt<Qe.length;Rt++)yt=ct(qe,Qe[Rt],ot),yt!==null&&(Ue=ue(yt,Ue,Rt),It===null?St=yt:It.sibling=yt,It=yt);return Pt&&rr(qe,Rt),St}for(yt=ne(yt);Rt<Qe.length;Rt++)Nt=nt(yt,qe,Rt,Qe[Rt],ot),Nt!==null&&(G&&Nt.alternate!==null&&yt.delete(Nt.key===null?Rt:Nt.key),Ue=ue(Nt,Ue,Rt),It===null?St=Nt:It.sibling=Nt,It=Nt);return G&&yt.forEach(function(Ur){return Z(qe,Ur)}),Pt&&rr(qe,Rt),St}function Ct(qe,Ue,Qe,ot){if(Qe==null)throw Error(I(151));for(var St=null,It=null,yt=Ue,Rt=Ue=0,Nt=null,Ot=Qe.next();yt!==null&&!Ot.done;Rt++,Ot=Qe.next()){yt.index>Rt?(Nt=yt,yt=null):Nt=yt.sibling;var Ur=et(qe,yt,Ot.value,ot);if(Ur===null){yt===null&&(yt=Nt);break}G&&yt&&Ur.alternate===null&&Z(qe,yt),Ue=ue(Ur,Ue,Rt),It===null?St=Ur:It.sibling=Ur,It=Ur,yt=Nt}if(Ot.done)return J(qe,yt),Pt&&rr(qe,Rt),St;if(yt===null){for(;!Ot.done;Rt++,Ot=Qe.next())Ot=ct(qe,Ot.value,ot),Ot!==null&&(Ue=ue(Ot,Ue,Rt),It===null?St=Ot:It.sibling=Ot,It=Ot);return Pt&&rr(qe,Rt),St}for(yt=ne(yt);!Ot.done;Rt++,Ot=Qe.next())Ot=nt(yt,qe,Rt,Ot.value,ot),Ot!==null&&(G&&Ot.alternate!==null&&yt.delete(Ot.key===null?Rt:Ot.key),Ue=ue(Ot,Ue,Rt),It===null?St=Ot:It.sibling=Ot,It=Ot);return G&&yt.forEach(function(Fp){return Z(qe,Fp)}),Pt&&rr(qe,Rt),St}function Ft(qe,Ue,Qe,ot){if(typeof Qe=="object"&&Qe!==null&&Qe.type===te&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case Q:e:{for(var St=Qe.key;Ue!==null;){if(Ue.key===St){if(St=Qe.type,St===te){if(Ue.tag===7){J(qe,Ue.sibling),ot=oe(Ue,Qe.props.children),ot.return=qe,qe=ot;break e}}else if(Ue.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===pe&&ei(St)===Ue.type){J(qe,Ue.sibling),ot=oe(Ue,Qe.props),ha(ot,Qe),ot.return=qe,qe=ot;break e}J(qe,Ue);break}else Z(qe,Ue);Ue=Ue.sibling}Qe.type===te?(ot=Yr(Qe.props.children,qe.mode,ot,Qe.key),ot.return=qe,qe=ot):(ot=is(Qe.type,Qe.key,Qe.props,null,qe.mode,ot),ha(ot,Qe),ot.return=qe,qe=ot)}return ve(qe);case ee:e:{for(St=Qe.key;Ue!==null;){if(Ue.key===St)if(Ue.tag===4&&Ue.stateNode.containerInfo===Qe.containerInfo&&Ue.stateNode.implementation===Qe.implementation){J(qe,Ue.sibling),ot=oe(Ue,Qe.children||[]),ot.return=qe,qe=ot;break e}else{J(qe,Ue);break}else Z(qe,Ue);Ue=Ue.sibling}ot=Po(Qe,qe.mode,ot),ot.return=qe,qe=ot}return ve(qe);case pe:return Qe=ei(Qe),Ft(qe,Ue,Qe,ot)}if(Ce(Qe))return pt(qe,Ue,Qe,ot);if(_e(Qe)){if(St=_e(Qe),typeof St!="function")throw Error(I(150));return Qe=St.call(Qe),Ct(qe,Ue,Qe,ot)}if(typeof Qe.then=="function")return Ft(qe,Ue,fs(Qe),ot);if(Qe.$$typeof===le)return Ft(qe,Ue,os(qe,Qe),ot);hs(qe,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint"?(Qe=""+Qe,Ue!==null&&Ue.tag===6?(J(qe,Ue.sibling),ot=oe(Ue,Qe),ot.return=qe,qe=ot):(J(qe,Ue),ot=No(Qe,qe.mode,ot),ot.return=qe,qe=ot),ve(qe)):J(qe,Ue)}return function(qe,Ue,Qe,ot){try{fa=0;var St=Ft(qe,Ue,Qe,ot);return Mi=null,St}catch(yt){if(yt===ki||yt===cs)throw yt;var It=vn(29,yt,null,qe.mode);return It.lanes=ot,It.return=qe,It}}}var ni=Nu(!0),Pu=Nu(!1),Cr=!1;function Vo(G){G.updateQueue={baseState:G.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qo(G,Z){G=G.updateQueue,Z.updateQueue===G&&(Z.updateQueue={baseState:G.baseState,firstBaseUpdate:G.firstBaseUpdate,lastBaseUpdate:G.lastBaseUpdate,shared:G.shared,callbacks:null})}function Tr(G){return{lane:G,tag:0,payload:null,callback:null,next:null}}function Ar(G,Z,J){var ne=G.updateQueue;if(ne===null)return null;if(ne=ne.shared,(zt&2)!==0){var oe=ne.pending;return oe===null?Z.next=Z:(Z.next=oe.next,oe.next=Z),ne.pending=Z,Z=rs(G),gu(G,null,J),Z}return ns(G,ne,Z,J),rs(G)}function da(G,Z,J){if(Z=Z.updateQueue,Z!==null&&(Z=Z.shared,(J&4194048)!==0)){var ne=Z.lanes;ne&=G.pendingLanes,J|=ne,Z.lanes=J,vc(G,J)}}function Zo(G,Z){var J=G.updateQueue,ne=G.alternate;if(ne!==null&&(ne=ne.updateQueue,J===ne)){var oe=null,ue=null;if(J=J.firstBaseUpdate,J!==null){do{var ve={lane:J.lane,tag:J.tag,payload:J.payload,callback:null,next:null};ue===null?oe=ue=ve:ue=ue.next=ve,J=J.next}while(J!==null);ue===null?oe=ue=Z:ue=ue.next=Z}else oe=ue=Z;J={baseState:ne.baseState,firstBaseUpdate:oe,lastBaseUpdate:ue,shared:ne.shared,callbacks:ne.callbacks},G.updateQueue=J;return}G=J.lastBaseUpdate,G===null?J.firstBaseUpdate=Z:G.next=Z,J.lastBaseUpdate=Z}var Wo=!1;function ma(){if(Wo){var G=Ri;if(G!==null)throw G}}function pa(G,Z,J,ne){Wo=!1;var oe=G.updateQueue;Cr=!1;var ue=oe.firstBaseUpdate,ve=oe.lastBaseUpdate,$e=oe.shared.pending;if($e!==null){oe.shared.pending=null;var De=$e,Je=De.next;De.next=null,ve===null?ue=Je:ve.next=Je,ve=De;var rt=G.alternate;rt!==null&&(rt=rt.updateQueue,$e=rt.lastBaseUpdate,$e!==ve&&($e===null?rt.firstBaseUpdate=Je:$e.next=Je,rt.lastBaseUpdate=De))}if(ue!==null){var ct=oe.baseState;ve=0,rt=Je=De=null,$e=ue;do{var et=$e.lane&-536870913,nt=et!==$e.lane;if(nt?($t&et)===et:(ne&et)===et){et!==0&&et===Ai&&(Wo=!0),rt!==null&&(rt=rt.next={lane:0,tag:$e.tag,payload:$e.payload,callback:null,next:null});e:{var pt=G,Ct=$e;et=Z;var Ft=J;switch(Ct.tag){case 1:if(pt=Ct.payload,typeof pt=="function"){ct=pt.call(Ft,ct,et);break e}ct=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Ct.payload,et=typeof pt=="function"?pt.call(Ft,ct,et):pt,et==null)break e;ct=W({},ct,et);break e;case 2:Cr=!0}}et=$e.callback,et!==null&&(G.flags|=64,nt&&(G.flags|=8192),nt=oe.callbacks,nt===null?oe.callbacks=[et]:nt.push(et))}else nt={lane:et,tag:$e.tag,payload:$e.payload,callback:$e.callback,next:null},rt===null?(Je=rt=nt,De=ct):rt=rt.next=nt,ve|=et;if($e=$e.next,$e===null){if($e=oe.shared.pending,$e===null)break;nt=$e,$e=nt.next,nt.next=null,oe.lastBaseUpdate=nt,oe.shared.pending=null}}while(!0);rt===null&&(De=ct),oe.baseState=De,oe.firstBaseUpdate=Je,oe.lastBaseUpdate=rt,ue===null&&(oe.shared.lanes=0),Pr|=ve,G.lanes=ve,G.memoizedState=ct}}function Iu(G,Z){if(typeof G!="function")throw Error(I(191,G));G.call(Z)}function Ou(G,Z){var J=G.callbacks;if(J!==null)for(G.callbacks=null,G=0;G<J.length;G++)Iu(J[G],Z)}var $i=we(null),ds=we(0);function zu(G,Z){G=mr,Ee(ds,G),Ee($i,Z),mr=G|Z.baseLanes}function Yo(){Ee(ds,mr),Ee($i,$i.current)}function Xo(){mr=ds.current,ke($i),ke(ds)}var Sn=we(null),Dn=null;function Rr(G){var Z=G.alternate;Ee(Wt,Wt.current&1),Ee(Sn,G),Dn===null&&(Z===null||$i.current!==null||Z.memoizedState!==null)&&(Dn=G)}function Ko(G){Ee(Wt,Wt.current),Ee(Sn,G),Dn===null&&(Dn=G)}function Du(G){G.tag===22?(Ee(Wt,Wt.current),Ee(Sn,G),Dn===null&&(Dn=G)):Mr()}function Mr(){Ee(Wt,Wt.current),Ee(Sn,Sn.current)}function wn(G){ke(Sn),Dn===G&&(Dn=null),ke(Wt)}var Wt=we(0);function ms(G){for(var Z=G;Z!==null;){if(Z.tag===13){var J=Z.memoizedState;if(J!==null&&(J=J.dehydrated,J===null||rc(J)||ic(J)))return Z}else if(Z.tag===19&&(Z.memoizedProps.revealOrder==="forwards"||Z.memoizedProps.revealOrder==="backwards"||Z.memoizedProps.revealOrder==="unstable_legacy-backwards"||Z.memoizedProps.revealOrder==="together")){if((Z.flags&128)!==0)return Z}else if(Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===G)break;for(;Z.sibling===null;){if(Z.return===null||Z.return===G)return null;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}return null}var sr=0,At=null,Bt=null,Jt=null,ps=!1,Ni=!1,ri=!1,gs=0,ga=0,Pi=null,Mm=0;function qt(){throw Error(I(321))}function Qo(G,Z){if(Z===null)return!1;for(var J=0;J<Z.length&&J<G.length;J++)if(!xn(G[J],Z[J]))return!1;return!0}function Jo(G,Z,J,ne,oe,ue){return sr=ue,At=Z,Z.memoizedState=null,Z.updateQueue=null,Z.lanes=0,Te.H=G===null||G.memoizedState===null?vf:ml,ri=!1,ue=J(ne,oe),ri=!1,Ni&&(ue=Bu(Z,J,ne,oe)),Lu(G),ue}function Lu(G){Te.H=xa;var Z=Bt!==null&&Bt.next!==null;if(sr=0,Jt=Bt=At=null,ps=!1,ga=0,Pi=null,Z)throw Error(I(300));G===null||en||(G=G.dependencies,G!==null&&ss(G)&&(en=!0))}function Bu(G,Z,J,ne){At=G;var oe=0;do{if(Ni&&(Pi=null),ga=0,Ni=!1,25<=oe)throw Error(I(301));if(oe+=1,Jt=Bt=null,G.updateQueue!=null){var ue=G.updateQueue;ue.lastEffect=null,ue.events=null,ue.stores=null,ue.memoCache!=null&&(ue.memoCache.index=0)}Te.H=Sf,ue=Z(J,ne)}while(Ni);return ue}function $m(){var G=Te.H,Z=G.useState()[0];return Z=typeof Z.then=="function"?ya(Z):Z,G=G.useState()[0],(Bt!==null?Bt.memoizedState:null)!==G&&(At.flags|=1024),Z}function el(){var G=gs!==0;return gs=0,G}function tl(G,Z,J){Z.updateQueue=G.updateQueue,Z.flags&=-2053,G.lanes&=~J}function nl(G){if(ps){for(G=G.memoizedState;G!==null;){var Z=G.queue;Z!==null&&(Z.pending=null),G=G.next}ps=!1}sr=0,Jt=Bt=At=null,Ni=!1,ga=gs=0,Pi=null}function hn(){var G={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?At.memoizedState=Jt=G:Jt=Jt.next=G,Jt}function Yt(){if(Bt===null){var G=At.alternate;G=G!==null?G.memoizedState:null}else G=Bt.next;var Z=Jt===null?At.memoizedState:Jt.next;if(Z!==null)Jt=Z,Bt=G;else{if(G===null)throw At.alternate===null?Error(I(467)):Error(I(310));Bt=G,G={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Jt===null?At.memoizedState=Jt=G:Jt=Jt.next=G}return Jt}function _s(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ya(G){var Z=ga;return ga+=1,Pi===null&&(Pi=[]),G=ku(Pi,G,Z),Z=At,(Jt===null?Z.memoizedState:Jt.next)===null&&(Z=Z.alternate,Te.H=Z===null||Z.memoizedState===null?vf:ml),G}function ys(G){if(G!==null&&typeof G=="object"){if(typeof G.then=="function")return ya(G);if(G.$$typeof===le)return ln(G)}throw Error(I(438,String(G)))}function rl(G){var Z=null,J=At.updateQueue;if(J!==null&&(Z=J.memoCache),Z==null){var ne=At.alternate;ne!==null&&(ne=ne.updateQueue,ne!==null&&(ne=ne.memoCache,ne!=null&&(Z={data:ne.data.map(function(oe){return oe.slice()}),index:0})))}if(Z==null&&(Z={data:[],index:0}),J===null&&(J=_s(),At.updateQueue=J),J.memoCache=Z,J=Z.data[Z.index],J===void 0)for(J=Z.data[Z.index]=Array(G),ne=0;ne<G;ne++)J[ne]=be;return Z.index++,J}function or(G,Z){return typeof Z=="function"?Z(G):Z}function bs(G){var Z=Yt();return il(Z,Bt,G)}function il(G,Z,J){var ne=G.queue;if(ne===null)throw Error(I(311));ne.lastRenderedReducer=J;var oe=G.baseQueue,ue=ne.pending;if(ue!==null){if(oe!==null){var ve=oe.next;oe.next=ue.next,ue.next=ve}Z.baseQueue=oe=ue,ne.pending=null}if(ue=G.baseState,oe===null)G.memoizedState=ue;else{Z=oe.next;var $e=ve=null,De=null,Je=Z,rt=!1;do{var ct=Je.lane&-536870913;if(ct!==Je.lane?($t&ct)===ct:(sr&ct)===ct){var et=Je.revertLane;if(et===0)De!==null&&(De=De.next={lane:0,revertLane:0,gesture:null,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),ct===Ai&&(rt=!0);else if((sr&et)===et){Je=Je.next,et===Ai&&(rt=!0);continue}else ct={lane:0,revertLane:Je.revertLane,gesture:null,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},De===null?($e=De=ct,ve=ue):De=De.next=ct,At.lanes|=et,Pr|=et;ct=Je.action,ri&&J(ue,ct),ue=Je.hasEagerState?Je.eagerState:J(ue,ct)}else et={lane:ct,revertLane:Je.revertLane,gesture:Je.gesture,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},De===null?($e=De=et,ve=ue):De=De.next=et,At.lanes|=ct,Pr|=ct;Je=Je.next}while(Je!==null&&Je!==Z);if(De===null?ve=ue:De.next=$e,!xn(ue,G.memoizedState)&&(en=!0,rt&&(J=Ri,J!==null)))throw J;G.memoizedState=ue,G.baseState=ve,G.baseQueue=De,ne.lastRenderedState=ue}return oe===null&&(ne.lanes=0),[G.memoizedState,ne.dispatch]}function al(G){var Z=Yt(),J=Z.queue;if(J===null)throw Error(I(311));J.lastRenderedReducer=G;var ne=J.dispatch,oe=J.pending,ue=Z.memoizedState;if(oe!==null){J.pending=null;var ve=oe=oe.next;do ue=G(ue,ve.action),ve=ve.next;while(ve!==oe);xn(ue,Z.memoizedState)||(en=!0),Z.memoizedState=ue,Z.baseQueue===null&&(Z.baseState=ue),J.lastRenderedState=ue}return[ue,ne]}function ju(G,Z,J){var ne=At,oe=Yt(),ue=Pt;if(ue){if(J===void 0)throw Error(I(407));J=J()}else J=Z();var ve=!xn((Bt||oe).memoizedState,J);if(ve&&(oe.memoizedState=J,en=!0),oe=oe.queue,ll(Uu.bind(null,ne,oe,G),[G]),oe.getSnapshot!==Z||ve||Jt!==null&&Jt.memoizedState.tag&1){if(ne.flags|=2048,Ii(9,{destroy:void 0},Hu.bind(null,ne,oe,J,Z),null),Ht===null)throw Error(I(349));ue||(sr&127)!==0||Fu(ne,Z,J)}return J}function Fu(G,Z,J){G.flags|=16384,G={getSnapshot:Z,value:J},Z=At.updateQueue,Z===null?(Z=_s(),At.updateQueue=Z,Z.stores=[G]):(J=Z.stores,J===null?Z.stores=[G]:J.push(G))}function Hu(G,Z,J,ne){Z.value=J,Z.getSnapshot=ne,Gu(Z)&&Vu(G)}function Uu(G,Z,J){return J(function(){Gu(Z)&&Vu(G)})}function Gu(G){var Z=G.getSnapshot;G=G.value;try{var J=Z();return!xn(G,J)}catch{return!0}}function Vu(G){var Z=Wr(G,2);Z!==null&&bn(Z,G,2)}function sl(G){var Z=hn();if(typeof G=="function"){var J=G;if(G=J(),ri){wt(!0);try{J()}finally{wt(!1)}}}return Z.memoizedState=Z.baseState=G,Z.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:G},Z}function qu(G,Z,J,ne){return G.baseState=J,il(G,Bt,typeof ne=="function"?ne:or)}function Nm(G,Z,J,ne,oe){if(Ss(G))throw Error(I(485));if(G=Z.action,G!==null){var ue={payload:oe,action:G,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ve){ue.listeners.push(ve)}};Te.T!==null?J(!0):ue.isTransition=!1,ne(ue),J=Z.pending,J===null?(ue.next=Z.pending=ue,Zu(Z,ue)):(ue.next=J.next,Z.pending=J.next=ue)}}function Zu(G,Z){var J=Z.action,ne=Z.payload,oe=G.state;if(Z.isTransition){var ue=Te.T,ve={};Te.T=ve;try{var $e=J(oe,ne),De=Te.S;De!==null&&De(ve,$e),Wu(G,Z,$e)}catch(Je){ol(G,Z,Je)}finally{ue!==null&&ve.types!==null&&(ue.types=ve.types),Te.T=ue}}else try{ue=J(oe,ne),Wu(G,Z,ue)}catch(Je){ol(G,Z,Je)}}function Wu(G,Z,J){J!==null&&typeof J=="object"&&typeof J.then=="function"?J.then(function(ne){Yu(G,Z,ne)},function(ne){return ol(G,Z,ne)}):Yu(G,Z,J)}function Yu(G,Z,J){Z.status="fulfilled",Z.value=J,Xu(Z),G.state=J,Z=G.pending,Z!==null&&(J=Z.next,J===Z?G.pending=null:(J=J.next,Z.next=J,Zu(G,J)))}function ol(G,Z,J){var ne=G.pending;if(G.pending=null,ne!==null){ne=ne.next;do Z.status="rejected",Z.reason=J,Xu(Z),Z=Z.next;while(Z!==ne)}G.action=null}function Xu(G){G=G.listeners;for(var Z=0;Z<G.length;Z++)(0,G[Z])()}function Ku(G,Z){return Z}function Qu(G,Z){if(Pt){var J=Ht.formState;if(J!==null){e:{var ne=At;if(Pt){if(Ut){t:{for(var oe=Ut,ue=zn;oe.nodeType!==8;){if(!ue){oe=null;break t}if(oe=Ln(oe.nextSibling),oe===null){oe=null;break t}}ue=oe.data,oe=ue==="F!"||ue==="F"?oe:null}if(oe){Ut=Ln(oe.nextSibling),ne=oe.data==="F!";break e}}wr(ne)}ne=!1}ne&&(Z=J[0])}}return J=hn(),J.memoizedState=J.baseState=Z,ne={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:Z},J.queue=ne,J=yf.bind(null,At,ne),ne.dispatch=J,ne=sl(!1),ue=dl.bind(null,At,!1,ne.queue),ne=hn(),oe={state:Z,dispatch:null,action:G,pending:null},ne.queue=oe,J=Nm.bind(null,At,oe,ue,J),oe.dispatch=J,ne.memoizedState=G,[Z,J,!1]}function Ju(G){var Z=Yt();return ef(Z,Bt,G)}function ef(G,Z,J){if(Z=il(G,Z,Ku)[0],G=bs(or)[0],typeof Z=="object"&&Z!==null&&typeof Z.then=="function")try{var ne=ya(Z)}catch(ve){throw ve===ki?cs:ve}else ne=Z;Z=Yt();var oe=Z.queue,ue=oe.dispatch;return J!==Z.memoizedState&&(At.flags|=2048,Ii(9,{destroy:void 0},Pm.bind(null,oe,J),null)),[ne,ue,G]}function Pm(G,Z){G.action=Z}function tf(G){var Z=Yt(),J=Bt;if(J!==null)return ef(Z,J,G);Yt(),Z=Z.memoizedState,J=Yt();var ne=J.queue.dispatch;return J.memoizedState=G,[Z,ne,!1]}function Ii(G,Z,J,ne){return G={tag:G,create:J,deps:ne,inst:Z,next:null},Z=At.updateQueue,Z===null&&(Z=_s(),At.updateQueue=Z),J=Z.lastEffect,J===null?Z.lastEffect=G.next=G:(ne=J.next,J.next=G,G.next=ne,Z.lastEffect=G),G}function nf(){return Yt().memoizedState}function xs(G,Z,J,ne){var oe=hn();At.flags|=G,oe.memoizedState=Ii(1|Z,{destroy:void 0},J,ne===void 0?null:ne)}function vs(G,Z,J,ne){var oe=Yt();ne=ne===void 0?null:ne;var ue=oe.memoizedState.inst;Bt!==null&&ne!==null&&Qo(ne,Bt.memoizedState.deps)?oe.memoizedState=Ii(Z,ue,J,ne):(At.flags|=G,oe.memoizedState=Ii(1|Z,ue,J,ne))}function rf(G,Z){xs(8390656,8,G,Z)}function ll(G,Z){vs(2048,8,G,Z)}function Im(G){At.flags|=4;var Z=At.updateQueue;if(Z===null)Z=_s(),At.updateQueue=Z,Z.events=[G];else{var J=Z.events;J===null?Z.events=[G]:J.push(G)}}function af(G){var Z=Yt().memoizedState;return Im({ref:Z,nextImpl:G}),function(){if((zt&2)!==0)throw Error(I(440));return Z.impl.apply(void 0,arguments)}}function sf(G,Z){return vs(4,2,G,Z)}function of(G,Z){return vs(4,4,G,Z)}function lf(G,Z){if(typeof Z=="function"){G=G();var J=Z(G);return function(){typeof J=="function"?J():Z(null)}}if(Z!=null)return G=G(),Z.current=G,function(){Z.current=null}}function cf(G,Z,J){J=J!=null?J.concat([G]):null,vs(4,4,lf.bind(null,Z,G),J)}function cl(){}function uf(G,Z){var J=Yt();Z=Z===void 0?null:Z;var ne=J.memoizedState;return Z!==null&&Qo(Z,ne[1])?ne[0]:(J.memoizedState=[G,Z],G)}function ff(G,Z){var J=Yt();Z=Z===void 0?null:Z;var ne=J.memoizedState;if(Z!==null&&Qo(Z,ne[1]))return ne[0];if(ne=G(),ri){wt(!0);try{G()}finally{wt(!1)}}return J.memoizedState=[ne,Z],ne}function ul(G,Z,J){return J===void 0||(sr&1073741824)!==0&&($t&261930)===0?G.memoizedState=Z:(G.memoizedState=J,G=dh(),At.lanes|=G,Pr|=G,J)}function hf(G,Z,J,ne){return xn(J,Z)?J:$i.current!==null?(G=ul(G,J,ne),xn(G,Z)||(en=!0),G):(sr&42)===0||(sr&1073741824)!==0&&($t&261930)===0?(en=!0,G.memoizedState=J):(G=dh(),At.lanes|=G,Pr|=G,Z)}function df(G,Z,J,ne,oe){var ue=Re.p;Re.p=ue!==0&&8>ue?ue:8;var ve=Te.T,$e={};Te.T=$e,dl(G,!1,Z,J);try{var De=oe(),Je=Te.S;if(Je!==null&&Je($e,De),De!==null&&typeof De=="object"&&typeof De.then=="function"){var rt=km(De,ne);ba(G,Z,rt,Tn(G))}else ba(G,Z,ne,Tn(G))}catch(ct){ba(G,Z,{then:function(){},status:"rejected",reason:ct},Tn())}finally{Re.p=ue,ve!==null&&$e.types!==null&&(ve.types=$e.types),Te.T=ve}}function Om(){}function fl(G,Z,J,ne){if(G.tag!==5)throw Error(I(476));var oe=mf(G).queue;df(G,oe,Z,Pe,J===null?Om:function(){return pf(G),J(ne)})}function mf(G){var Z=G.memoizedState;if(Z!==null)return Z;Z={memoizedState:Pe,baseState:Pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:Pe},next:null};var J={};return Z.next={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:J},next:null},G.memoizedState=Z,G=G.alternate,G!==null&&(G.memoizedState=Z),Z}function pf(G){var Z=mf(G);Z.next===null&&(Z=G.alternate.memoizedState),ba(G,Z.next.queue,{},Tn())}function hl(){return ln(Da)}function gf(){return Yt().memoizedState}function _f(){return Yt().memoizedState}function zm(G){for(var Z=G.return;Z!==null;){switch(Z.tag){case 24:case 3:var J=Tn();G=Tr(J);var ne=Ar(Z,G,J);ne!==null&&(bn(ne,Z,J),da(ne,Z,J)),Z={cache:Fo()},G.payload=Z;return}Z=Z.return}}function Dm(G,Z,J){var ne=Tn();J={lane:ne,revertLane:0,gesture:null,action:J,hasEagerState:!1,eagerState:null,next:null},Ss(G)?bf(Z,J):(J=Mo(G,Z,J,ne),J!==null&&(bn(J,G,ne),xf(J,Z,ne)))}function yf(G,Z,J){var ne=Tn();ba(G,Z,J,ne)}function ba(G,Z,J,ne){var oe={lane:ne,revertLane:0,gesture:null,action:J,hasEagerState:!1,eagerState:null,next:null};if(Ss(G))bf(Z,oe);else{var ue=G.alternate;if(G.lanes===0&&(ue===null||ue.lanes===0)&&(ue=Z.lastRenderedReducer,ue!==null))try{var ve=Z.lastRenderedState,$e=ue(ve,J);if(oe.hasEagerState=!0,oe.eagerState=$e,xn($e,ve))return ns(G,Z,oe,0),Ht===null&&ts(),!1}catch{}if(J=Mo(G,Z,oe,ne),J!==null)return bn(J,G,ne),xf(J,Z,ne),!0}return!1}function dl(G,Z,J,ne){if(ne={lane:2,revertLane:Vl(),gesture:null,action:ne,hasEagerState:!1,eagerState:null,next:null},Ss(G)){if(Z)throw Error(I(479))}else Z=Mo(G,J,ne,2),Z!==null&&bn(Z,G,2)}function Ss(G){var Z=G.alternate;return G===At||Z!==null&&Z===At}function bf(G,Z){Ni=ps=!0;var J=G.pending;J===null?Z.next=Z:(Z.next=J.next,J.next=Z),G.pending=Z}function xf(G,Z,J){if((J&4194048)!==0){var ne=Z.lanes;ne&=G.pendingLanes,J|=ne,Z.lanes=J,vc(G,J)}}var xa={readContext:ln,use:ys,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt};xa.useEffectEvent=qt;var vf={readContext:ln,use:ys,useCallback:function(G,Z){return hn().memoizedState=[G,Z===void 0?null:Z],G},useContext:ln,useEffect:rf,useImperativeHandle:function(G,Z,J){J=J!=null?J.concat([G]):null,xs(4194308,4,lf.bind(null,Z,G),J)},useLayoutEffect:function(G,Z){return xs(4194308,4,G,Z)},useInsertionEffect:function(G,Z){xs(4,2,G,Z)},useMemo:function(G,Z){var J=hn();Z=Z===void 0?null:Z;var ne=G();if(ri){wt(!0);try{G()}finally{wt(!1)}}return J.memoizedState=[ne,Z],ne},useReducer:function(G,Z,J){var ne=hn();if(J!==void 0){var oe=J(Z);if(ri){wt(!0);try{J(Z)}finally{wt(!1)}}}else oe=Z;return ne.memoizedState=ne.baseState=oe,G={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G,lastRenderedState:oe},ne.queue=G,G=G.dispatch=Dm.bind(null,At,G),[ne.memoizedState,G]},useRef:function(G){var Z=hn();return G={current:G},Z.memoizedState=G},useState:function(G){G=sl(G);var Z=G.queue,J=yf.bind(null,At,Z);return Z.dispatch=J,[G.memoizedState,J]},useDebugValue:cl,useDeferredValue:function(G,Z){var J=hn();return ul(J,G,Z)},useTransition:function(){var G=sl(!1);return G=df.bind(null,At,G.queue,!0,!1),hn().memoizedState=G,[!1,G]},useSyncExternalStore:function(G,Z,J){var ne=At,oe=hn();if(Pt){if(J===void 0)throw Error(I(407));J=J()}else{if(J=Z(),Ht===null)throw Error(I(349));($t&127)!==0||Fu(ne,Z,J)}oe.memoizedState=J;var ue={value:J,getSnapshot:Z};return oe.queue=ue,rf(Uu.bind(null,ne,ue,G),[G]),ne.flags|=2048,Ii(9,{destroy:void 0},Hu.bind(null,ne,ue,J,Z),null),J},useId:function(){var G=hn(),Z=Ht.identifierPrefix;if(Pt){var J=qn,ne=Vn;J=(ne&~(1<<32-xt(ne)-1)).toString(32)+J,Z="_"+Z+"R_"+J,J=gs++,0<J&&(Z+="H"+J.toString(32)),Z+="_"}else J=Mm++,Z="_"+Z+"r_"+J.toString(32)+"_";return G.memoizedState=Z},useHostTransitionStatus:hl,useFormState:Qu,useActionState:Qu,useOptimistic:function(G){var Z=hn();Z.memoizedState=Z.baseState=G;var J={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return Z.queue=J,Z=dl.bind(null,At,!0,J),J.dispatch=Z,[G,Z]},useMemoCache:rl,useCacheRefresh:function(){return hn().memoizedState=zm.bind(null,At)},useEffectEvent:function(G){var Z=hn(),J={impl:G};return Z.memoizedState=J,function(){if((zt&2)!==0)throw Error(I(440));return J.impl.apply(void 0,arguments)}}},ml={readContext:ln,use:ys,useCallback:uf,useContext:ln,useEffect:ll,useImperativeHandle:cf,useInsertionEffect:sf,useLayoutEffect:of,useMemo:ff,useReducer:bs,useRef:nf,useState:function(){return bs(or)},useDebugValue:cl,useDeferredValue:function(G,Z){var J=Yt();return hf(J,Bt.memoizedState,G,Z)},useTransition:function(){var G=bs(or)[0],Z=Yt().memoizedState;return[typeof G=="boolean"?G:ya(G),Z]},useSyncExternalStore:ju,useId:gf,useHostTransitionStatus:hl,useFormState:Ju,useActionState:Ju,useOptimistic:function(G,Z){var J=Yt();return qu(J,Bt,G,Z)},useMemoCache:rl,useCacheRefresh:_f};ml.useEffectEvent=af;var Sf={readContext:ln,use:ys,useCallback:uf,useContext:ln,useEffect:ll,useImperativeHandle:cf,useInsertionEffect:sf,useLayoutEffect:of,useMemo:ff,useReducer:al,useRef:nf,useState:function(){return al(or)},useDebugValue:cl,useDeferredValue:function(G,Z){var J=Yt();return Bt===null?ul(J,G,Z):hf(J,Bt.memoizedState,G,Z)},useTransition:function(){var G=al(or)[0],Z=Yt().memoizedState;return[typeof G=="boolean"?G:ya(G),Z]},useSyncExternalStore:ju,useId:gf,useHostTransitionStatus:hl,useFormState:tf,useActionState:tf,useOptimistic:function(G,Z){var J=Yt();return Bt!==null?qu(J,Bt,G,Z):(J.baseState=G,[G,J.queue.dispatch])},useMemoCache:rl,useCacheRefresh:_f};Sf.useEffectEvent=af;function pl(G,Z,J,ne){Z=G.memoizedState,J=J(ne,Z),J=J==null?Z:W({},Z,J),G.memoizedState=J,G.lanes===0&&(G.updateQueue.baseState=J)}var gl={enqueueSetState:function(G,Z,J){G=G._reactInternals;var ne=Tn(),oe=Tr(ne);oe.payload=Z,J!=null&&(oe.callback=J),Z=Ar(G,oe,ne),Z!==null&&(bn(Z,G,ne),da(Z,G,ne))},enqueueReplaceState:function(G,Z,J){G=G._reactInternals;var ne=Tn(),oe=Tr(ne);oe.tag=1,oe.payload=Z,J!=null&&(oe.callback=J),Z=Ar(G,oe,ne),Z!==null&&(bn(Z,G,ne),da(Z,G,ne))},enqueueForceUpdate:function(G,Z){G=G._reactInternals;var J=Tn(),ne=Tr(J);ne.tag=2,Z!=null&&(ne.callback=Z),Z=Ar(G,ne,J),Z!==null&&(bn(Z,G,J),da(Z,G,J))}};function wf(G,Z,J,ne,oe,ue,ve){return G=G.stateNode,typeof G.shouldComponentUpdate=="function"?G.shouldComponentUpdate(ne,ue,ve):Z.prototype&&Z.prototype.isPureReactComponent?!aa(J,ne)||!aa(oe,ue):!0}function Ef(G,Z,J,ne){G=Z.state,typeof Z.componentWillReceiveProps=="function"&&Z.componentWillReceiveProps(J,ne),typeof Z.UNSAFE_componentWillReceiveProps=="function"&&Z.UNSAFE_componentWillReceiveProps(J,ne),Z.state!==G&&gl.enqueueReplaceState(Z,Z.state,null)}function ii(G,Z){var J=Z;if("ref"in Z){J={};for(var ne in Z)ne!=="ref"&&(J[ne]=Z[ne])}if(G=G.defaultProps){J===Z&&(J=W({},J));for(var oe in G)J[oe]===void 0&&(J[oe]=G[oe])}return J}function Cf(G){es(G)}function Tf(G){console.error(G)}function Af(G){es(G)}function ws(G,Z){try{var J=G.onUncaughtError;J(Z.value,{componentStack:Z.stack})}catch(ne){setTimeout(function(){throw ne})}}function Rf(G,Z,J){try{var ne=G.onCaughtError;ne(J.value,{componentStack:J.stack,errorBoundary:Z.tag===1?Z.stateNode:null})}catch(oe){setTimeout(function(){throw oe})}}function _l(G,Z,J){return J=Tr(J),J.tag=3,J.payload={element:null},J.callback=function(){ws(G,Z)},J}function kf(G){return G=Tr(G),G.tag=3,G}function Mf(G,Z,J,ne){var oe=J.type.getDerivedStateFromError;if(typeof oe=="function"){var ue=ne.value;G.payload=function(){return oe(ue)},G.callback=function(){Rf(Z,J,ne)}}var ve=J.stateNode;ve!==null&&typeof ve.componentDidCatch=="function"&&(G.callback=function(){Rf(Z,J,ne),typeof oe!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var $e=ne.stack;this.componentDidCatch(ne.value,{componentStack:$e!==null?$e:""})})}function Lm(G,Z,J,ne,oe){if(J.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){if(Z=J.alternate,Z!==null&&Ti(Z,J,oe,!0),J=Sn.current,J!==null){switch(J.tag){case 31:case 13:return Dn===null?Os():J.alternate===null&&Zt===0&&(Zt=3),J.flags&=-257,J.flags|=65536,J.lanes=oe,ne===us?J.flags|=16384:(Z=J.updateQueue,Z===null?J.updateQueue=new Set([ne]):Z.add(ne),Hl(G,ne,oe)),!1;case 22:return J.flags|=65536,ne===us?J.flags|=16384:(Z=J.updateQueue,Z===null?(Z={transitions:null,markerInstances:null,retryQueue:new Set([ne])},J.updateQueue=Z):(J=Z.retryQueue,J===null?Z.retryQueue=new Set([ne]):J.add(ne)),Hl(G,ne,oe)),!1}throw Error(I(435,J.tag))}return Hl(G,ne,oe),Os(),!1}if(Pt)return Z=Sn.current,Z!==null?((Z.flags&65536)===0&&(Z.flags|=256),Z.flags|=65536,Z.lanes=oe,ne!==zo&&(G=Error(I(422),{cause:ne}),la(Pn(G,J)))):(ne!==zo&&(Z=Error(I(423),{cause:ne}),la(Pn(Z,J))),G=G.current.alternate,G.flags|=65536,oe&=-oe,G.lanes|=oe,ne=Pn(ne,J),oe=_l(G.stateNode,ne,oe),Zo(G,oe),Zt!==4&&(Zt=2)),!1;var ue=Error(I(520),{cause:ne});if(ue=Pn(ue,J),Ra===null?Ra=[ue]:Ra.push(ue),Zt!==4&&(Zt=2),Z===null)return!0;ne=Pn(ne,J),J=Z;do{switch(J.tag){case 3:return J.flags|=65536,G=oe&-oe,J.lanes|=G,G=_l(J.stateNode,ne,G),Zo(J,G),!1;case 1:if(Z=J.type,ue=J.stateNode,(J.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Ir===null||!Ir.has(ue))))return J.flags|=65536,oe&=-oe,J.lanes|=oe,oe=kf(oe),Mf(oe,G,J,ne),Zo(J,oe),!1}J=J.return}while(J!==null);return!1}var yl=Error(I(461)),en=!1;function un(G,Z,J,ne){Z.child=G===null?Pu(Z,null,J,ne):ni(Z,G.child,J,ne)}function $f(G,Z,J,ne,oe){J=J.render;var ue=Z.ref;if("ref"in ne){var ve={};for(var $e in ne)$e!=="ref"&&(ve[$e]=ne[$e])}else ve=ne;return Qr(Z),ne=Jo(G,Z,J,ve,ue,oe),$e=el(),G!==null&&!en?(tl(G,Z,oe),lr(G,Z,oe)):(Pt&&$e&&Io(Z),Z.flags|=1,un(G,Z,ne,oe),Z.child)}function Nf(G,Z,J,ne,oe){if(G===null){var ue=J.type;return typeof ue=="function"&&!$o(ue)&&ue.defaultProps===void 0&&J.compare===null?(Z.tag=15,Z.type=ue,Pf(G,Z,ue,ne,oe)):(G=is(J.type,null,ne,Z,Z.mode,oe),G.ref=Z.ref,G.return=Z,Z.child=G)}if(ue=G.child,!Tl(G,oe)){var ve=ue.memoizedProps;if(J=J.compare,J=J!==null?J:aa,J(ve,ne)&&G.ref===Z.ref)return lr(G,Z,oe)}return Z.flags|=1,G=nr(ue,ne),G.ref=Z.ref,G.return=Z,Z.child=G}function Pf(G,Z,J,ne,oe){if(G!==null){var ue=G.memoizedProps;if(aa(ue,ne)&&G.ref===Z.ref)if(en=!1,Z.pendingProps=ne=ue,Tl(G,oe))(G.flags&131072)!==0&&(en=!0);else return Z.lanes=G.lanes,lr(G,Z,oe)}return bl(G,Z,J,ne,oe)}function If(G,Z,J,ne){var oe=ne.children,ue=G!==null?G.memoizedState:null;if(G===null&&Z.stateNode===null&&(Z.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),ne.mode==="hidden"){if((Z.flags&128)!==0){if(ue=ue!==null?ue.baseLanes|J:J,G!==null){for(ne=Z.child=G.child,oe=0;ne!==null;)oe=oe|ne.lanes|ne.childLanes,ne=ne.sibling;ne=oe&~ue}else ne=0,Z.child=null;return Of(G,Z,ue,J,ne)}if((J&536870912)!==0)Z.memoizedState={baseLanes:0,cachePool:null},G!==null&&ls(Z,ue!==null?ue.cachePool:null),ue!==null?zu(Z,ue):Yo(),Du(Z);else return ne=Z.lanes=536870912,Of(G,Z,ue!==null?ue.baseLanes|J:J,J,ne)}else ue!==null?(ls(Z,ue.cachePool),zu(Z,ue),Mr(),Z.memoizedState=null):(G!==null&&ls(Z,null),Yo(),Mr());return un(G,Z,oe,J),Z.child}function va(G,Z){return G!==null&&G.tag===22||Z.stateNode!==null||(Z.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),Z.sibling}function Of(G,Z,J,ne,oe){var ue=Uo();return ue=ue===null?null:{parent:Qt._currentValue,pool:ue},Z.memoizedState={baseLanes:J,cachePool:ue},G!==null&&ls(Z,null),Yo(),Du(Z),G!==null&&Ti(G,Z,ne,!0),Z.childLanes=oe,null}function Es(G,Z){return Z=Ts({mode:Z.mode,children:Z.children},G.mode),Z.ref=G.ref,G.child=Z,Z.return=G,Z}function zf(G,Z,J){return ni(Z,G.child,null,J),G=Es(Z,Z.pendingProps),G.flags|=2,wn(Z),Z.memoizedState=null,G}function Bm(G,Z,J){var ne=Z.pendingProps,oe=(Z.flags&128)!==0;if(Z.flags&=-129,G===null){if(Pt){if(ne.mode==="hidden")return G=Es(Z,ne),Z.lanes=536870912,va(null,G);if(Ko(Z),(G=Ut)?(G=Yh(G,zn),G=G!==null&&G.data==="&"?G:null,G!==null&&(Z.memoizedState={dehydrated:G,treeContext:vr!==null?{id:Vn,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},J=yu(G),J.return=Z,Z.child=J,on=Z,Ut=null)):G=null,G===null)throw wr(Z);return Z.lanes=536870912,null}return Es(Z,ne)}var ue=G.memoizedState;if(ue!==null){var ve=ue.dehydrated;if(Ko(Z),oe)if(Z.flags&256)Z.flags&=-257,Z=zf(G,Z,J);else if(Z.memoizedState!==null)Z.child=G.child,Z.flags|=128,Z=null;else throw Error(I(558));else if(en||Ti(G,Z,J,!1),oe=(J&G.childLanes)!==0,en||oe){if(ne=Ht,ne!==null&&(ve=wc(ne,J),ve!==0&&ve!==ue.retryLane))throw ue.retryLane=ve,Wr(G,ve),bn(ne,G,ve),yl;Os(),Z=zf(G,Z,J)}else G=ue.treeContext,Ut=Ln(ve.nextSibling),on=Z,Pt=!0,Sr=null,zn=!1,G!==null&&vu(Z,G),Z=Es(Z,ne),Z.flags|=4096;return Z}return G=nr(G.child,{mode:ne.mode,children:ne.children}),G.ref=Z.ref,Z.child=G,G.return=Z,G}function Cs(G,Z){var J=Z.ref;if(J===null)G!==null&&G.ref!==null&&(Z.flags|=4194816);else{if(typeof J!="function"&&typeof J!="object")throw Error(I(284));(G===null||G.ref!==J)&&(Z.flags|=4194816)}}function bl(G,Z,J,ne,oe){return Qr(Z),J=Jo(G,Z,J,ne,void 0,oe),ne=el(),G!==null&&!en?(tl(G,Z,oe),lr(G,Z,oe)):(Pt&&ne&&Io(Z),Z.flags|=1,un(G,Z,J,oe),Z.child)}function Df(G,Z,J,ne,oe,ue){return Qr(Z),Z.updateQueue=null,J=Bu(Z,ne,J,oe),Lu(G),ne=el(),G!==null&&!en?(tl(G,Z,ue),lr(G,Z,ue)):(Pt&&ne&&Io(Z),Z.flags|=1,un(G,Z,J,ue),Z.child)}function Lf(G,Z,J,ne,oe){if(Qr(Z),Z.stateNode===null){var ue=Si,ve=J.contextType;typeof ve=="object"&&ve!==null&&(ue=ln(ve)),ue=new J(ne,ue),Z.memoizedState=ue.state!==null&&ue.state!==void 0?ue.state:null,ue.updater=gl,Z.stateNode=ue,ue._reactInternals=Z,ue=Z.stateNode,ue.props=ne,ue.state=Z.memoizedState,ue.refs={},Vo(Z),ve=J.contextType,ue.context=typeof ve=="object"&&ve!==null?ln(ve):Si,ue.state=Z.memoizedState,ve=J.getDerivedStateFromProps,typeof ve=="function"&&(pl(Z,J,ve,ne),ue.state=Z.memoizedState),typeof J.getDerivedStateFromProps=="function"||typeof ue.getSnapshotBeforeUpdate=="function"||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(ve=ue.state,typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount(),ve!==ue.state&&gl.enqueueReplaceState(ue,ue.state,null),pa(Z,ne,ue,oe),ma(),ue.state=Z.memoizedState),typeof ue.componentDidMount=="function"&&(Z.flags|=4194308),ne=!0}else if(G===null){ue=Z.stateNode;var $e=Z.memoizedProps,De=ii(J,$e);ue.props=De;var Je=ue.context,rt=J.contextType;ve=Si,typeof rt=="object"&&rt!==null&&(ve=ln(rt));var ct=J.getDerivedStateFromProps;rt=typeof ct=="function"||typeof ue.getSnapshotBeforeUpdate=="function",$e=Z.pendingProps!==$e,rt||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||($e||Je!==ve)&&Ef(Z,ue,ne,ve),Cr=!1;var et=Z.memoizedState;ue.state=et,pa(Z,ne,ue,oe),ma(),Je=Z.memoizedState,$e||et!==Je||Cr?(typeof ct=="function"&&(pl(Z,J,ct,ne),Je=Z.memoizedState),(De=Cr||wf(Z,J,De,ne,et,Je,ve))?(rt||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(Z.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(Z.flags|=4194308),Z.memoizedProps=ne,Z.memoizedState=Je),ue.props=ne,ue.state=Je,ue.context=ve,ne=De):(typeof ue.componentDidMount=="function"&&(Z.flags|=4194308),ne=!1)}else{ue=Z.stateNode,qo(G,Z),ve=Z.memoizedProps,rt=ii(J,ve),ue.props=rt,ct=Z.pendingProps,et=ue.context,Je=J.contextType,De=Si,typeof Je=="object"&&Je!==null&&(De=ln(Je)),$e=J.getDerivedStateFromProps,(Je=typeof $e=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(ve!==ct||et!==De)&&Ef(Z,ue,ne,De),Cr=!1,et=Z.memoizedState,ue.state=et,pa(Z,ne,ue,oe),ma();var nt=Z.memoizedState;ve!==ct||et!==nt||Cr||G!==null&&G.dependencies!==null&&ss(G.dependencies)?(typeof $e=="function"&&(pl(Z,J,$e,ne),nt=Z.memoizedState),(rt=Cr||wf(Z,J,rt,ne,et,nt,De)||G!==null&&G.dependencies!==null&&ss(G.dependencies))?(Je||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(ne,nt,De),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(ne,nt,De)),typeof ue.componentDidUpdate=="function"&&(Z.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(Z.flags|=1024)):(typeof ue.componentDidUpdate!="function"||ve===G.memoizedProps&&et===G.memoizedState||(Z.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||ve===G.memoizedProps&&et===G.memoizedState||(Z.flags|=1024),Z.memoizedProps=ne,Z.memoizedState=nt),ue.props=ne,ue.state=nt,ue.context=De,ne=rt):(typeof ue.componentDidUpdate!="function"||ve===G.memoizedProps&&et===G.memoizedState||(Z.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||ve===G.memoizedProps&&et===G.memoizedState||(Z.flags|=1024),ne=!1)}return ue=ne,Cs(G,Z),ne=(Z.flags&128)!==0,ue||ne?(ue=Z.stateNode,J=ne&&typeof J.getDerivedStateFromError!="function"?null:ue.render(),Z.flags|=1,G!==null&&ne?(Z.child=ni(Z,G.child,null,oe),Z.child=ni(Z,null,J,oe)):un(G,Z,J,oe),Z.memoizedState=ue.state,G=Z.child):G=lr(G,Z,oe),G}function Bf(G,Z,J,ne){return Xr(),Z.flags|=256,un(G,Z,J,ne),Z.child}var xl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vl(G){return{baseLanes:G,cachePool:Au()}}function Sl(G,Z,J){return G=G!==null?G.childLanes&~J:0,Z&&(G|=Cn),G}function jf(G,Z,J){var ne=Z.pendingProps,oe=!1,ue=(Z.flags&128)!==0,ve;if((ve=ue)||(ve=G!==null&&G.memoizedState===null?!1:(Wt.current&2)!==0),ve&&(oe=!0,Z.flags&=-129),ve=(Z.flags&32)!==0,Z.flags&=-33,G===null){if(Pt){if(oe?Rr(Z):Mr(),(G=Ut)?(G=Yh(G,zn),G=G!==null&&G.data!=="&"?G:null,G!==null&&(Z.memoizedState={dehydrated:G,treeContext:vr!==null?{id:Vn,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},J=yu(G),J.return=Z,Z.child=J,on=Z,Ut=null)):G=null,G===null)throw wr(Z);return ic(G)?Z.lanes=32:Z.lanes=536870912,null}var $e=ne.children;return ne=ne.fallback,oe?(Mr(),oe=Z.mode,$e=Ts({mode:"hidden",children:$e},oe),ne=Yr(ne,oe,J,null),$e.return=Z,ne.return=Z,$e.sibling=ne,Z.child=$e,ne=Z.child,ne.memoizedState=vl(J),ne.childLanes=Sl(G,ve,J),Z.memoizedState=xl,va(null,ne)):(Rr(Z),wl(Z,$e))}var De=G.memoizedState;if(De!==null&&($e=De.dehydrated,$e!==null)){if(ue)Z.flags&256?(Rr(Z),Z.flags&=-257,Z=El(G,Z,J)):Z.memoizedState!==null?(Mr(),Z.child=G.child,Z.flags|=128,Z=null):(Mr(),$e=ne.fallback,oe=Z.mode,ne=Ts({mode:"visible",children:ne.children},oe),$e=Yr($e,oe,J,null),$e.flags|=2,ne.return=Z,$e.return=Z,ne.sibling=$e,Z.child=ne,ni(Z,G.child,null,J),ne=Z.child,ne.memoizedState=vl(J),ne.childLanes=Sl(G,ve,J),Z.memoizedState=xl,Z=va(null,ne));else if(Rr(Z),ic($e)){if(ve=$e.nextSibling&&$e.nextSibling.dataset,ve)var Je=ve.dgst;ve=Je,ne=Error(I(419)),ne.stack="",ne.digest=ve,la({value:ne,source:null,stack:null}),Z=El(G,Z,J)}else if(en||Ti(G,Z,J,!1),ve=(J&G.childLanes)!==0,en||ve){if(ve=Ht,ve!==null&&(ne=wc(ve,J),ne!==0&&ne!==De.retryLane))throw De.retryLane=ne,Wr(G,ne),bn(ve,G,ne),yl;rc($e)||Os(),Z=El(G,Z,J)}else rc($e)?(Z.flags|=192,Z.child=G.child,Z=null):(G=De.treeContext,Ut=Ln($e.nextSibling),on=Z,Pt=!0,Sr=null,zn=!1,G!==null&&vu(Z,G),Z=wl(Z,ne.children),Z.flags|=4096);return Z}return oe?(Mr(),$e=ne.fallback,oe=Z.mode,De=G.child,Je=De.sibling,ne=nr(De,{mode:"hidden",children:ne.children}),ne.subtreeFlags=De.subtreeFlags&65011712,Je!==null?$e=nr(Je,$e):($e=Yr($e,oe,J,null),$e.flags|=2),$e.return=Z,ne.return=Z,ne.sibling=$e,Z.child=ne,va(null,ne),ne=Z.child,$e=G.child.memoizedState,$e===null?$e=vl(J):(oe=$e.cachePool,oe!==null?(De=Qt._currentValue,oe=oe.parent!==De?{parent:De,pool:De}:oe):oe=Au(),$e={baseLanes:$e.baseLanes|J,cachePool:oe}),ne.memoizedState=$e,ne.childLanes=Sl(G,ve,J),Z.memoizedState=xl,va(G.child,ne)):(Rr(Z),J=G.child,G=J.sibling,J=nr(J,{mode:"visible",children:ne.children}),J.return=Z,J.sibling=null,G!==null&&(ve=Z.deletions,ve===null?(Z.deletions=[G],Z.flags|=16):ve.push(G)),Z.child=J,Z.memoizedState=null,J)}function wl(G,Z){return Z=Ts({mode:"visible",children:Z},G.mode),Z.return=G,G.child=Z}function Ts(G,Z){return G=vn(22,G,null,Z),G.lanes=0,G}function El(G,Z,J){return ni(Z,G.child,null,J),G=wl(Z,Z.pendingProps.children),G.flags|=2,Z.memoizedState=null,G}function Ff(G,Z,J){G.lanes|=Z;var ne=G.alternate;ne!==null&&(ne.lanes|=Z),Bo(G.return,Z,J)}function Cl(G,Z,J,ne,oe,ue){var ve=G.memoizedState;ve===null?G.memoizedState={isBackwards:Z,rendering:null,renderingStartTime:0,last:ne,tail:J,tailMode:oe,treeForkCount:ue}:(ve.isBackwards=Z,ve.rendering=null,ve.renderingStartTime=0,ve.last=ne,ve.tail=J,ve.tailMode=oe,ve.treeForkCount=ue)}function Hf(G,Z,J){var ne=Z.pendingProps,oe=ne.revealOrder,ue=ne.tail;ne=ne.children;var ve=Wt.current,$e=(ve&2)!==0;if($e?(ve=ve&1|2,Z.flags|=128):ve&=1,Ee(Wt,ve),un(G,Z,ne,J),ne=Pt?oa:0,!$e&&G!==null&&(G.flags&128)!==0)e:for(G=Z.child;G!==null;){if(G.tag===13)G.memoizedState!==null&&Ff(G,J,Z);else if(G.tag===19)Ff(G,J,Z);else if(G.child!==null){G.child.return=G,G=G.child;continue}if(G===Z)break e;for(;G.sibling===null;){if(G.return===null||G.return===Z)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}switch(oe){case"forwards":for(J=Z.child,oe=null;J!==null;)G=J.alternate,G!==null&&ms(G)===null&&(oe=J),J=J.sibling;J=oe,J===null?(oe=Z.child,Z.child=null):(oe=J.sibling,J.sibling=null),Cl(Z,!1,oe,J,ue,ne);break;case"backwards":case"unstable_legacy-backwards":for(J=null,oe=Z.child,Z.child=null;oe!==null;){if(G=oe.alternate,G!==null&&ms(G)===null){Z.child=oe;break}G=oe.sibling,oe.sibling=J,J=oe,oe=G}Cl(Z,!0,J,null,ue,ne);break;case"together":Cl(Z,!1,null,null,void 0,ne);break;default:Z.memoizedState=null}return Z.child}function lr(G,Z,J){if(G!==null&&(Z.dependencies=G.dependencies),Pr|=Z.lanes,(J&Z.childLanes)===0)if(G!==null){if(Ti(G,Z,J,!1),(J&Z.childLanes)===0)return null}else return null;if(G!==null&&Z.child!==G.child)throw Error(I(153));if(Z.child!==null){for(G=Z.child,J=nr(G,G.pendingProps),Z.child=J,J.return=Z;G.sibling!==null;)G=G.sibling,J=J.sibling=nr(G,G.pendingProps),J.return=Z;J.sibling=null}return Z.child}function Tl(G,Z){return(G.lanes&Z)!==0?!0:(G=G.dependencies,!!(G!==null&&ss(G)))}function jm(G,Z,J){switch(Z.tag){case 3:Ze(Z,Z.stateNode.containerInfo),Er(Z,Qt,G.memoizedState.cache),Xr();break;case 27:case 5:Xe(Z);break;case 4:Ze(Z,Z.stateNode.containerInfo);break;case 10:Er(Z,Z.type,Z.memoizedProps.value);break;case 31:if(Z.memoizedState!==null)return Z.flags|=128,Ko(Z),null;break;case 13:var ne=Z.memoizedState;if(ne!==null)return ne.dehydrated!==null?(Rr(Z),Z.flags|=128,null):(J&Z.child.childLanes)!==0?jf(G,Z,J):(Rr(Z),G=lr(G,Z,J),G!==null?G.sibling:null);Rr(Z);break;case 19:var oe=(G.flags&128)!==0;if(ne=(J&Z.childLanes)!==0,ne||(Ti(G,Z,J,!1),ne=(J&Z.childLanes)!==0),oe){if(ne)return Hf(G,Z,J);Z.flags|=128}if(oe=Z.memoizedState,oe!==null&&(oe.rendering=null,oe.tail=null,oe.lastEffect=null),Ee(Wt,Wt.current),ne)break;return null;case 22:return Z.lanes=0,If(G,Z,J,Z.pendingProps);case 24:Er(Z,Qt,G.memoizedState.cache)}return lr(G,Z,J)}function Uf(G,Z,J){if(G!==null)if(G.memoizedProps!==Z.pendingProps)en=!0;else{if(!Tl(G,J)&&(Z.flags&128)===0)return en=!1,jm(G,Z,J);en=(G.flags&131072)!==0}else en=!1,Pt&&(Z.flags&1048576)!==0&&xu(Z,oa,Z.index);switch(Z.lanes=0,Z.tag){case 16:e:{var ne=Z.pendingProps;if(G=ei(Z.elementType),Z.type=G,typeof G=="function")$o(G)?(ne=ii(G,ne),Z.tag=1,Z=Lf(null,Z,G,ne,J)):(Z.tag=0,Z=bl(null,Z,G,ne,J));else{if(G!=null){var oe=G.$$typeof;if(oe===ce){Z.tag=11,Z=$f(null,Z,G,ne,J);break e}else if(oe===he){Z.tag=14,Z=Nf(null,Z,G,ne,J);break e}}throw Z=me(G)||G,Error(I(306,Z,""))}}return Z;case 0:return bl(G,Z,Z.type,Z.pendingProps,J);case 1:return ne=Z.type,oe=ii(ne,Z.pendingProps),Lf(G,Z,ne,oe,J);case 3:e:{if(Ze(Z,Z.stateNode.containerInfo),G===null)throw Error(I(387));ne=Z.pendingProps;var ue=Z.memoizedState;oe=ue.element,qo(G,Z),pa(Z,ne,null,J);var ve=Z.memoizedState;if(ne=ve.cache,Er(Z,Qt,ne),ne!==ue.cache&&jo(Z,[Qt],J,!0),ma(),ne=ve.element,ue.isDehydrated)if(ue={element:ne,isDehydrated:!1,cache:ve.cache},Z.updateQueue.baseState=ue,Z.memoizedState=ue,Z.flags&256){Z=Bf(G,Z,ne,J);break e}else if(ne!==oe){oe=Pn(Error(I(424)),Z),la(oe),Z=Bf(G,Z,ne,J);break e}else for(G=Z.stateNode.containerInfo,G.nodeType===9?G=G.body:G=G.nodeName==="HTML"?G.ownerDocument.body:G,Ut=Ln(G.firstChild),on=Z,Pt=!0,Sr=null,zn=!0,J=Pu(Z,null,ne,J),Z.child=J;J;)J.flags=J.flags&-3|4096,J=J.sibling;else{if(Xr(),ne===oe){Z=lr(G,Z,J);break e}un(G,Z,ne,J)}Z=Z.child}return Z;case 26:return Cs(G,Z),G===null?(J=td(Z.type,null,Z.pendingProps,null))?Z.memoizedState=J:Pt||(J=Z.type,G=Z.pendingProps,ne=Hs(Ke.current).createElement(J),ne[sn]=Z,ne[dn]=G,fn(ne,J,G),rn(ne),Z.stateNode=ne):Z.memoizedState=td(Z.type,G.memoizedProps,Z.pendingProps,G.memoizedState),null;case 27:return Xe(Z),G===null&&Pt&&(ne=Z.stateNode=Qh(Z.type,Z.pendingProps,Ke.current),on=Z,zn=!0,oe=Ut,Lr(Z.type)?(ac=oe,Ut=Ln(ne.firstChild)):Ut=oe),un(G,Z,Z.pendingProps.children,J),Cs(G,Z),G===null&&(Z.flags|=4194304),Z.child;case 5:return G===null&&Pt&&((oe=ne=Ut)&&(ne=_p(ne,Z.type,Z.pendingProps,zn),ne!==null?(Z.stateNode=ne,on=Z,Ut=Ln(ne.firstChild),zn=!1,oe=!0):oe=!1),oe||wr(Z)),Xe(Z),oe=Z.type,ue=Z.pendingProps,ve=G!==null?G.memoizedProps:null,ne=ue.children,ec(oe,ue)?ne=null:ve!==null&&ec(oe,ve)&&(Z.flags|=32),Z.memoizedState!==null&&(oe=Jo(G,Z,$m,null,null,J),Da._currentValue=oe),Cs(G,Z),un(G,Z,ne,J),Z.child;case 6:return G===null&&Pt&&((G=J=Ut)&&(J=yp(J,Z.pendingProps,zn),J!==null?(Z.stateNode=J,on=Z,Ut=null,G=!0):G=!1),G||wr(Z)),null;case 13:return jf(G,Z,J);case 4:return Ze(Z,Z.stateNode.containerInfo),ne=Z.pendingProps,G===null?Z.child=ni(Z,null,ne,J):un(G,Z,ne,J),Z.child;case 11:return $f(G,Z,Z.type,Z.pendingProps,J);case 7:return un(G,Z,Z.pendingProps,J),Z.child;case 8:return un(G,Z,Z.pendingProps.children,J),Z.child;case 12:return un(G,Z,Z.pendingProps.children,J),Z.child;case 10:return ne=Z.pendingProps,Er(Z,Z.type,ne.value),un(G,Z,ne.children,J),Z.child;case 9:return oe=Z.type._context,ne=Z.pendingProps.children,Qr(Z),oe=ln(oe),ne=ne(oe),Z.flags|=1,un(G,Z,ne,J),Z.child;case 14:return Nf(G,Z,Z.type,Z.pendingProps,J);case 15:return Pf(G,Z,Z.type,Z.pendingProps,J);case 19:return Hf(G,Z,J);case 31:return Bm(G,Z,J);case 22:return If(G,Z,J,Z.pendingProps);case 24:return Qr(Z),ne=ln(Qt),G===null?(oe=Uo(),oe===null&&(oe=Ht,ue=Fo(),oe.pooledCache=ue,ue.refCount++,ue!==null&&(oe.pooledCacheLanes|=J),oe=ue),Z.memoizedState={parent:ne,cache:oe},Vo(Z),Er(Z,Qt,oe)):((G.lanes&J)!==0&&(qo(G,Z),pa(Z,null,null,J),ma()),oe=G.memoizedState,ue=Z.memoizedState,oe.parent!==ne?(oe={parent:ne,cache:ne},Z.memoizedState=oe,Z.lanes===0&&(Z.memoizedState=Z.updateQueue.baseState=oe),Er(Z,Qt,ne)):(ne=ue.cache,Er(Z,Qt,ne),ne!==oe.cache&&jo(Z,[Qt],J,!0))),un(G,Z,Z.pendingProps.children,J),Z.child;case 29:throw Z.pendingProps}throw Error(I(156,Z.tag))}function cr(G){G.flags|=4}function Al(G,Z,J,ne,oe){if((Z=(G.mode&32)!==0)&&(Z=!1),Z){if(G.flags|=16777216,(oe&335544128)===oe)if(G.stateNode.complete)G.flags|=8192;else if(_h())G.flags|=8192;else throw ti=us,Go}else G.flags&=-16777217}function Gf(G,Z){if(Z.type!=="stylesheet"||(Z.state.loading&4)!==0)G.flags&=-16777217;else if(G.flags|=16777216,!od(Z))if(_h())G.flags|=8192;else throw ti=us,Go}function As(G,Z){Z!==null&&(G.flags|=4),G.flags&16384&&(Z=G.tag!==22?bc():536870912,G.lanes|=Z,Li|=Z)}function Sa(G,Z){if(!Pt)switch(G.tailMode){case"hidden":Z=G.tail;for(var J=null;Z!==null;)Z.alternate!==null&&(J=Z),Z=Z.sibling;J===null?G.tail=null:J.sibling=null;break;case"collapsed":J=G.tail;for(var ne=null;J!==null;)J.alternate!==null&&(ne=J),J=J.sibling;ne===null?Z||G.tail===null?G.tail=null:G.tail.sibling=null:ne.sibling=null}}function Gt(G){var Z=G.alternate!==null&&G.alternate.child===G.child,J=0,ne=0;if(Z)for(var oe=G.child;oe!==null;)J|=oe.lanes|oe.childLanes,ne|=oe.subtreeFlags&65011712,ne|=oe.flags&65011712,oe.return=G,oe=oe.sibling;else for(oe=G.child;oe!==null;)J|=oe.lanes|oe.childLanes,ne|=oe.subtreeFlags,ne|=oe.flags,oe.return=G,oe=oe.sibling;return G.subtreeFlags|=ne,G.childLanes=J,Z}function Fm(G,Z,J){var ne=Z.pendingProps;switch(Oo(Z),Z.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(Z),null;case 1:return Gt(Z),null;case 3:return J=Z.stateNode,ne=null,G!==null&&(ne=G.memoizedState.cache),Z.memoizedState.cache!==ne&&(Z.flags|=2048),ar(Qt),Le(),J.pendingContext&&(J.context=J.pendingContext,J.pendingContext=null),(G===null||G.child===null)&&(Ci(Z)?cr(Z):G===null||G.memoizedState.isDehydrated&&(Z.flags&256)===0||(Z.flags|=1024,Do())),Gt(Z),null;case 26:var oe=Z.type,ue=Z.memoizedState;return G===null?(cr(Z),ue!==null?(Gt(Z),Gf(Z,ue)):(Gt(Z),Al(Z,oe,null,ne,J))):ue?ue!==G.memoizedState?(cr(Z),Gt(Z),Gf(Z,ue)):(Gt(Z),Z.flags&=-16777217):(G=G.memoizedProps,G!==ne&&cr(Z),Gt(Z),Al(Z,oe,G,ne,J)),null;case 27:if(Ye(Z),J=Ke.current,oe=Z.type,G!==null&&Z.stateNode!=null)G.memoizedProps!==ne&&cr(Z);else{if(!ne){if(Z.stateNode===null)throw Error(I(166));return Gt(Z),null}G=ze.current,Ci(Z)?Su(Z):(G=Qh(oe,ne,J),Z.stateNode=G,cr(Z))}return Gt(Z),null;case 5:if(Ye(Z),oe=Z.type,G!==null&&Z.stateNode!=null)G.memoizedProps!==ne&&cr(Z);else{if(!ne){if(Z.stateNode===null)throw Error(I(166));return Gt(Z),null}if(ue=ze.current,Ci(Z))Su(Z);else{var ve=Hs(Ke.current);switch(ue){case 1:ue=ve.createElementNS("http://www.w3.org/2000/svg",oe);break;case 2:ue=ve.createElementNS("http://www.w3.org/1998/Math/MathML",oe);break;default:switch(oe){case"svg":ue=ve.createElementNS("http://www.w3.org/2000/svg",oe);break;case"math":ue=ve.createElementNS("http://www.w3.org/1998/Math/MathML",oe);break;case"script":ue=ve.createElement("div"),ue.innerHTML="<script><\/script>",ue=ue.removeChild(ue.firstChild);break;case"select":ue=typeof ne.is=="string"?ve.createElement("select",{is:ne.is}):ve.createElement("select"),ne.multiple?ue.multiple=!0:ne.size&&(ue.size=ne.size);break;default:ue=typeof ne.is=="string"?ve.createElement(oe,{is:ne.is}):ve.createElement(oe)}}ue[sn]=Z,ue[dn]=ne;e:for(ve=Z.child;ve!==null;){if(ve.tag===5||ve.tag===6)ue.appendChild(ve.stateNode);else if(ve.tag!==4&&ve.tag!==27&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===Z)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===Z)break e;ve=ve.return}ve.sibling.return=ve.return,ve=ve.sibling}Z.stateNode=ue;e:switch(fn(ue,oe,ne),oe){case"button":case"input":case"select":case"textarea":ne=!!ne.autoFocus;break e;case"img":ne=!0;break e;default:ne=!1}ne&&cr(Z)}}return Gt(Z),Al(Z,Z.type,G===null?null:G.memoizedProps,Z.pendingProps,J),null;case 6:if(G&&Z.stateNode!=null)G.memoizedProps!==ne&&cr(Z);else{if(typeof ne!="string"&&Z.stateNode===null)throw Error(I(166));if(G=Ke.current,Ci(Z)){if(G=Z.stateNode,J=Z.memoizedProps,ne=null,oe=on,oe!==null)switch(oe.tag){case 27:case 5:ne=oe.memoizedProps}G[sn]=Z,G=!!(G.nodeValue===J||ne!==null&&ne.suppressHydrationWarning===!0||Fh(G.nodeValue,J)),G||wr(Z,!0)}else G=Hs(G).createTextNode(ne),G[sn]=Z,Z.stateNode=G}return Gt(Z),null;case 31:if(J=Z.memoizedState,G===null||G.memoizedState!==null){if(ne=Ci(Z),J!==null){if(G===null){if(!ne)throw Error(I(318));if(G=Z.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(I(557));G[sn]=Z}else Xr(),(Z.flags&128)===0&&(Z.memoizedState=null),Z.flags|=4;Gt(Z),G=!1}else J=Do(),G!==null&&G.memoizedState!==null&&(G.memoizedState.hydrationErrors=J),G=!0;if(!G)return Z.flags&256?(wn(Z),Z):(wn(Z),null);if((Z.flags&128)!==0)throw Error(I(558))}return Gt(Z),null;case 13:if(ne=Z.memoizedState,G===null||G.memoizedState!==null&&G.memoizedState.dehydrated!==null){if(oe=Ci(Z),ne!==null&&ne.dehydrated!==null){if(G===null){if(!oe)throw Error(I(318));if(oe=Z.memoizedState,oe=oe!==null?oe.dehydrated:null,!oe)throw Error(I(317));oe[sn]=Z}else Xr(),(Z.flags&128)===0&&(Z.memoizedState=null),Z.flags|=4;Gt(Z),oe=!1}else oe=Do(),G!==null&&G.memoizedState!==null&&(G.memoizedState.hydrationErrors=oe),oe=!0;if(!oe)return Z.flags&256?(wn(Z),Z):(wn(Z),null)}return wn(Z),(Z.flags&128)!==0?(Z.lanes=J,Z):(J=ne!==null,G=G!==null&&G.memoizedState!==null,J&&(ne=Z.child,oe=null,ne.alternate!==null&&ne.alternate.memoizedState!==null&&ne.alternate.memoizedState.cachePool!==null&&(oe=ne.alternate.memoizedState.cachePool.pool),ue=null,ne.memoizedState!==null&&ne.memoizedState.cachePool!==null&&(ue=ne.memoizedState.cachePool.pool),ue!==oe&&(ne.flags|=2048)),J!==G&&J&&(Z.child.flags|=8192),As(Z,Z.updateQueue),Gt(Z),null);case 4:return Le(),G===null&&Yl(Z.stateNode.containerInfo),Gt(Z),null;case 10:return ar(Z.type),Gt(Z),null;case 19:if(ke(Wt),ne=Z.memoizedState,ne===null)return Gt(Z),null;if(oe=(Z.flags&128)!==0,ue=ne.rendering,ue===null)if(oe)Sa(ne,!1);else{if(Zt!==0||G!==null&&(G.flags&128)!==0)for(G=Z.child;G!==null;){if(ue=ms(G),ue!==null){for(Z.flags|=128,Sa(ne,!1),G=ue.updateQueue,Z.updateQueue=G,As(Z,G),Z.subtreeFlags=0,G=J,J=Z.child;J!==null;)_u(J,G),J=J.sibling;return Ee(Wt,Wt.current&1|2),Pt&&rr(Z,ne.treeForkCount),Z.child}G=G.sibling}ne.tail!==null&&ut()>Ns&&(Z.flags|=128,oe=!0,Sa(ne,!1),Z.lanes=4194304)}else{if(!oe)if(G=ms(ue),G!==null){if(Z.flags|=128,oe=!0,G=G.updateQueue,Z.updateQueue=G,As(Z,G),Sa(ne,!0),ne.tail===null&&ne.tailMode==="hidden"&&!ue.alternate&&!Pt)return Gt(Z),null}else 2*ut()-ne.renderingStartTime>Ns&&J!==536870912&&(Z.flags|=128,oe=!0,Sa(ne,!1),Z.lanes=4194304);ne.isBackwards?(ue.sibling=Z.child,Z.child=ue):(G=ne.last,G!==null?G.sibling=ue:Z.child=ue,ne.last=ue)}return ne.tail!==null?(G=ne.tail,ne.rendering=G,ne.tail=G.sibling,ne.renderingStartTime=ut(),G.sibling=null,J=Wt.current,Ee(Wt,oe?J&1|2:J&1),Pt&&rr(Z,ne.treeForkCount),G):(Gt(Z),null);case 22:case 23:return wn(Z),Xo(),ne=Z.memoizedState!==null,G!==null?G.memoizedState!==null!==ne&&(Z.flags|=8192):ne&&(Z.flags|=8192),ne?(J&536870912)!==0&&(Z.flags&128)===0&&(Gt(Z),Z.subtreeFlags&6&&(Z.flags|=8192)):Gt(Z),J=Z.updateQueue,J!==null&&As(Z,J.retryQueue),J=null,G!==null&&G.memoizedState!==null&&G.memoizedState.cachePool!==null&&(J=G.memoizedState.cachePool.pool),ne=null,Z.memoizedState!==null&&Z.memoizedState.cachePool!==null&&(ne=Z.memoizedState.cachePool.pool),ne!==J&&(Z.flags|=2048),G!==null&&ke(Jr),null;case 24:return J=null,G!==null&&(J=G.memoizedState.cache),Z.memoizedState.cache!==J&&(Z.flags|=2048),ar(Qt),Gt(Z),null;case 25:return null;case 30:return null}throw Error(I(156,Z.tag))}function Hm(G,Z){switch(Oo(Z),Z.tag){case 1:return G=Z.flags,G&65536?(Z.flags=G&-65537|128,Z):null;case 3:return ar(Qt),Le(),G=Z.flags,(G&65536)!==0&&(G&128)===0?(Z.flags=G&-65537|128,Z):null;case 26:case 27:case 5:return Ye(Z),null;case 31:if(Z.memoizedState!==null){if(wn(Z),Z.alternate===null)throw Error(I(340));Xr()}return G=Z.flags,G&65536?(Z.flags=G&-65537|128,Z):null;case 13:if(wn(Z),G=Z.memoizedState,G!==null&&G.dehydrated!==null){if(Z.alternate===null)throw Error(I(340));Xr()}return G=Z.flags,G&65536?(Z.flags=G&-65537|128,Z):null;case 19:return ke(Wt),null;case 4:return Le(),null;case 10:return ar(Z.type),null;case 22:case 23:return wn(Z),Xo(),G!==null&&ke(Jr),G=Z.flags,G&65536?(Z.flags=G&-65537|128,Z):null;case 24:return ar(Qt),null;case 25:return null;default:return null}}function Vf(G,Z){switch(Oo(Z),Z.tag){case 3:ar(Qt),Le();break;case 26:case 27:case 5:Ye(Z);break;case 4:Le();break;case 31:Z.memoizedState!==null&&wn(Z);break;case 13:wn(Z);break;case 19:ke(Wt);break;case 10:ar(Z.type);break;case 22:case 23:wn(Z),Xo(),G!==null&&ke(Jr);break;case 24:ar(Qt)}}function wa(G,Z){try{var J=Z.updateQueue,ne=J!==null?J.lastEffect:null;if(ne!==null){var oe=ne.next;J=oe;do{if((J.tag&G)===G){ne=void 0;var ue=J.create,ve=J.inst;ne=ue(),ve.destroy=ne}J=J.next}while(J!==oe)}}catch($e){Lt(Z,Z.return,$e)}}function $r(G,Z,J){try{var ne=Z.updateQueue,oe=ne!==null?ne.lastEffect:null;if(oe!==null){var ue=oe.next;ne=ue;do{if((ne.tag&G)===G){var ve=ne.inst,$e=ve.destroy;if($e!==void 0){ve.destroy=void 0,oe=Z;var De=J,Je=$e;try{Je()}catch(rt){Lt(oe,De,rt)}}}ne=ne.next}while(ne!==ue)}}catch(rt){Lt(Z,Z.return,rt)}}function qf(G){var Z=G.updateQueue;if(Z!==null){var J=G.stateNode;try{Ou(Z,J)}catch(ne){Lt(G,G.return,ne)}}}function Zf(G,Z,J){J.props=ii(G.type,G.memoizedProps),J.state=G.memoizedState;try{J.componentWillUnmount()}catch(ne){Lt(G,Z,ne)}}function Ea(G,Z){try{var J=G.ref;if(J!==null){switch(G.tag){case 26:case 27:case 5:var ne=G.stateNode;break;case 30:ne=G.stateNode;break;default:ne=G.stateNode}typeof J=="function"?G.refCleanup=J(ne):J.current=ne}}catch(oe){Lt(G,Z,oe)}}function Wn(G,Z){var J=G.ref,ne=G.refCleanup;if(J!==null)if(typeof ne=="function")try{ne()}catch(oe){Lt(G,Z,oe)}finally{G.refCleanup=null,G=G.alternate,G!=null&&(G.refCleanup=null)}else if(typeof J=="function")try{J(null)}catch(oe){Lt(G,Z,oe)}else J.current=null}function Wf(G){var Z=G.type,J=G.memoizedProps,ne=G.stateNode;try{e:switch(Z){case"button":case"input":case"select":case"textarea":J.autoFocus&&ne.focus();break e;case"img":J.src?ne.src=J.src:J.srcSet&&(ne.srcset=J.srcSet)}}catch(oe){Lt(G,G.return,oe)}}function Rl(G,Z,J){try{var ne=G.stateNode;fp(ne,G.type,J,Z),ne[dn]=Z}catch(oe){Lt(G,G.return,oe)}}function Yf(G){return G.tag===5||G.tag===3||G.tag===26||G.tag===27&&Lr(G.type)||G.tag===4}function kl(G){e:for(;;){for(;G.sibling===null;){if(G.return===null||Yf(G.return))return null;G=G.return}for(G.sibling.return=G.return,G=G.sibling;G.tag!==5&&G.tag!==6&&G.tag!==18;){if(G.tag===27&&Lr(G.type)||G.flags&2||G.child===null||G.tag===4)continue e;G.child.return=G,G=G.child}if(!(G.flags&2))return G.stateNode}}function Ml(G,Z,J){var ne=G.tag;if(ne===5||ne===6)G=G.stateNode,Z?(J.nodeType===9?J.body:J.nodeName==="HTML"?J.ownerDocument.body:J).insertBefore(G,Z):(Z=J.nodeType===9?J.body:J.nodeName==="HTML"?J.ownerDocument.body:J,Z.appendChild(G),J=J._reactRootContainer,J!=null||Z.onclick!==null||(Z.onclick=er));else if(ne!==4&&(ne===27&&Lr(G.type)&&(J=G.stateNode,Z=null),G=G.child,G!==null))for(Ml(G,Z,J),G=G.sibling;G!==null;)Ml(G,Z,J),G=G.sibling}function Rs(G,Z,J){var ne=G.tag;if(ne===5||ne===6)G=G.stateNode,Z?J.insertBefore(G,Z):J.appendChild(G);else if(ne!==4&&(ne===27&&Lr(G.type)&&(J=G.stateNode),G=G.child,G!==null))for(Rs(G,Z,J),G=G.sibling;G!==null;)Rs(G,Z,J),G=G.sibling}function Xf(G){var Z=G.stateNode,J=G.memoizedProps;try{for(var ne=G.type,oe=Z.attributes;oe.length;)Z.removeAttributeNode(oe[0]);fn(Z,ne,J),Z[sn]=G,Z[dn]=J}catch(ue){Lt(G,G.return,ue)}}var ur=!1,tn=!1,$l=!1,Kf=typeof WeakSet=="function"?WeakSet:Set,an=null;function Um(G,Z){if(G=G.containerInfo,Ql=Ys,G=lu(G),Eo(G)){if("selectionStart"in G)var J={start:G.selectionStart,end:G.selectionEnd};else e:{J=(J=G.ownerDocument)&&J.defaultView||window;var ne=J.getSelection&&J.getSelection();if(ne&&ne.rangeCount!==0){J=ne.anchorNode;var oe=ne.anchorOffset,ue=ne.focusNode;ne=ne.focusOffset;try{J.nodeType,ue.nodeType}catch{J=null;break e}var ve=0,$e=-1,De=-1,Je=0,rt=0,ct=G,et=null;t:for(;;){for(var nt;ct!==J||oe!==0&&ct.nodeType!==3||($e=ve+oe),ct!==ue||ne!==0&&ct.nodeType!==3||(De=ve+ne),ct.nodeType===3&&(ve+=ct.nodeValue.length),(nt=ct.firstChild)!==null;)et=ct,ct=nt;for(;;){if(ct===G)break t;if(et===J&&++Je===oe&&($e=ve),et===ue&&++rt===ne&&(De=ve),(nt=ct.nextSibling)!==null)break;ct=et,et=ct.parentNode}ct=nt}J=$e===-1||De===-1?null:{start:$e,end:De}}else J=null}J=J||{start:0,end:0}}else J=null;for(Jl={focusedElem:G,selectionRange:J},Ys=!1,an=Z;an!==null;)if(Z=an,G=Z.child,(Z.subtreeFlags&1028)!==0&&G!==null)G.return=Z,an=G;else for(;an!==null;){switch(Z=an,ue=Z.alternate,G=Z.flags,Z.tag){case 0:if((G&4)!==0&&(G=Z.updateQueue,G=G!==null?G.events:null,G!==null))for(J=0;J<G.length;J++)oe=G[J],oe.ref.impl=oe.nextImpl;break;case 11:case 15:break;case 1:if((G&1024)!==0&&ue!==null){G=void 0,J=Z,oe=ue.memoizedProps,ue=ue.memoizedState,ne=J.stateNode;try{var pt=ii(J.type,oe);G=ne.getSnapshotBeforeUpdate(pt,ue),ne.__reactInternalSnapshotBeforeUpdate=G}catch(Ct){Lt(J,J.return,Ct)}}break;case 3:if((G&1024)!==0){if(G=Z.stateNode.containerInfo,J=G.nodeType,J===9)nc(G);else if(J===1)switch(G.nodeName){case"HEAD":case"HTML":case"BODY":nc(G);break;default:G.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((G&1024)!==0)throw Error(I(163))}if(G=Z.sibling,G!==null){G.return=Z.return,an=G;break}an=Z.return}}function Qf(G,Z,J){var ne=J.flags;switch(J.tag){case 0:case 11:case 15:hr(G,J),ne&4&&wa(5,J);break;case 1:if(hr(G,J),ne&4)if(G=J.stateNode,Z===null)try{G.componentDidMount()}catch(ve){Lt(J,J.return,ve)}else{var oe=ii(J.type,Z.memoizedProps);Z=Z.memoizedState;try{G.componentDidUpdate(oe,Z,G.__reactInternalSnapshotBeforeUpdate)}catch(ve){Lt(J,J.return,ve)}}ne&64&&qf(J),ne&512&&Ea(J,J.return);break;case 3:if(hr(G,J),ne&64&&(G=J.updateQueue,G!==null)){if(Z=null,J.child!==null)switch(J.child.tag){case 27:case 5:Z=J.child.stateNode;break;case 1:Z=J.child.stateNode}try{Ou(G,Z)}catch(ve){Lt(J,J.return,ve)}}break;case 27:Z===null&&ne&4&&Xf(J);case 26:case 5:hr(G,J),Z===null&&ne&4&&Wf(J),ne&512&&Ea(J,J.return);break;case 12:hr(G,J);break;case 31:hr(G,J),ne&4&&th(G,J);break;case 13:hr(G,J),ne&4&&nh(G,J),ne&64&&(G=J.memoizedState,G!==null&&(G=G.dehydrated,G!==null&&(J=Qm.bind(null,J),bp(G,J))));break;case 22:if(ne=J.memoizedState!==null||ur,!ne){Z=Z!==null&&Z.memoizedState!==null||tn,oe=ur;var ue=tn;ur=ne,(tn=Z)&&!ue?dr(G,J,(J.subtreeFlags&8772)!==0):hr(G,J),ur=oe,tn=ue}break;case 30:break;default:hr(G,J)}}function Jf(G){var Z=G.alternate;Z!==null&&(G.alternate=null,Jf(Z)),G.child=null,G.deletions=null,G.sibling=null,G.tag===5&&(Z=G.stateNode,Z!==null&&so(Z)),G.stateNode=null,G.return=null,G.dependencies=null,G.memoizedProps=null,G.memoizedState=null,G.pendingProps=null,G.stateNode=null,G.updateQueue=null}var Vt=null,pn=!1;function fr(G,Z,J){for(J=J.child;J!==null;)eh(G,Z,J),J=J.sibling}function eh(G,Z,J){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(_t,J)}catch{}switch(J.tag){case 26:tn||Wn(J,Z),fr(G,Z,J),J.memoizedState?J.memoizedState.count--:J.stateNode&&(J=J.stateNode,J.parentNode.removeChild(J));break;case 27:tn||Wn(J,Z);var ne=Vt,oe=pn;Lr(J.type)&&(Vt=J.stateNode,pn=!1),fr(G,Z,J),Ia(J.stateNode),Vt=ne,pn=oe;break;case 5:tn||Wn(J,Z);case 6:if(ne=Vt,oe=pn,Vt=null,fr(G,Z,J),Vt=ne,pn=oe,Vt!==null)if(pn)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(J.stateNode)}catch(ue){Lt(J,Z,ue)}else try{Vt.removeChild(J.stateNode)}catch(ue){Lt(J,Z,ue)}break;case 18:Vt!==null&&(pn?(G=Vt,Zh(G.nodeType===9?G.body:G.nodeName==="HTML"?G.ownerDocument.body:G,J.stateNode),qi(G)):Zh(Vt,J.stateNode));break;case 4:ne=Vt,oe=pn,Vt=J.stateNode.containerInfo,pn=!0,fr(G,Z,J),Vt=ne,pn=oe;break;case 0:case 11:case 14:case 15:$r(2,J,Z),tn||$r(4,J,Z),fr(G,Z,J);break;case 1:tn||(Wn(J,Z),ne=J.stateNode,typeof ne.componentWillUnmount=="function"&&Zf(J,Z,ne)),fr(G,Z,J);break;case 21:fr(G,Z,J);break;case 22:tn=(ne=tn)||J.memoizedState!==null,fr(G,Z,J),tn=ne;break;default:fr(G,Z,J)}}function th(G,Z){if(Z.memoizedState===null&&(G=Z.alternate,G!==null&&(G=G.memoizedState,G!==null))){G=G.dehydrated;try{qi(G)}catch(J){Lt(Z,Z.return,J)}}}function nh(G,Z){if(Z.memoizedState===null&&(G=Z.alternate,G!==null&&(G=G.memoizedState,G!==null&&(G=G.dehydrated,G!==null))))try{qi(G)}catch(J){Lt(Z,Z.return,J)}}function Gm(G){switch(G.tag){case 31:case 13:case 19:var Z=G.stateNode;return Z===null&&(Z=G.stateNode=new Kf),Z;case 22:return G=G.stateNode,Z=G._retryCache,Z===null&&(Z=G._retryCache=new Kf),Z;default:throw Error(I(435,G.tag))}}function ks(G,Z){var J=Gm(G);Z.forEach(function(ne){if(!J.has(ne)){J.add(ne);var oe=Jm.bind(null,G,ne);ne.then(oe,oe)}})}function gn(G,Z){var J=Z.deletions;if(J!==null)for(var ne=0;ne<J.length;ne++){var oe=J[ne],ue=G,ve=Z,$e=ve;e:for(;$e!==null;){switch($e.tag){case 27:if(Lr($e.type)){Vt=$e.stateNode,pn=!1;break e}break;case 5:Vt=$e.stateNode,pn=!1;break e;case 3:case 4:Vt=$e.stateNode.containerInfo,pn=!0;break e}$e=$e.return}if(Vt===null)throw Error(I(160));eh(ue,ve,oe),Vt=null,pn=!1,ue=oe.alternate,ue!==null&&(ue.return=null),oe.return=null}if(Z.subtreeFlags&13886)for(Z=Z.child;Z!==null;)rh(Z,G),Z=Z.sibling}var Hn=null;function rh(G,Z){var J=G.alternate,ne=G.flags;switch(G.tag){case 0:case 11:case 14:case 15:gn(Z,G),_n(G),ne&4&&($r(3,G,G.return),wa(3,G),$r(5,G,G.return));break;case 1:gn(Z,G),_n(G),ne&512&&(tn||J===null||Wn(J,J.return)),ne&64&&ur&&(G=G.updateQueue,G!==null&&(ne=G.callbacks,ne!==null&&(J=G.shared.hiddenCallbacks,G.shared.hiddenCallbacks=J===null?ne:J.concat(ne))));break;case 26:var oe=Hn;if(gn(Z,G),_n(G),ne&512&&(tn||J===null||Wn(J,J.return)),ne&4){var ue=J!==null?J.memoizedState:null;if(ne=G.memoizedState,J===null)if(ne===null)if(G.stateNode===null){e:{ne=G.type,J=G.memoizedProps,oe=oe.ownerDocument||oe;t:switch(ne){case"title":ue=oe.getElementsByTagName("title")[0],(!ue||ue[Xi]||ue[sn]||ue.namespaceURI==="http://www.w3.org/2000/svg"||ue.hasAttribute("itemprop"))&&(ue=oe.createElement(ne),oe.head.insertBefore(ue,oe.querySelector("head > title"))),fn(ue,ne,J),ue[sn]=G,rn(ue),ne=ue;break e;case"link":var ve=ad("link","href",oe).get(ne+(J.href||""));if(ve){for(var $e=0;$e<ve.length;$e++)if(ue=ve[$e],ue.getAttribute("href")===(J.href==null||J.href===""?null:J.href)&&ue.getAttribute("rel")===(J.rel==null?null:J.rel)&&ue.getAttribute("title")===(J.title==null?null:J.title)&&ue.getAttribute("crossorigin")===(J.crossOrigin==null?null:J.crossOrigin)){ve.splice($e,1);break t}}ue=oe.createElement(ne),fn(ue,ne,J),oe.head.appendChild(ue);break;case"meta":if(ve=ad("meta","content",oe).get(ne+(J.content||""))){for($e=0;$e<ve.length;$e++)if(ue=ve[$e],ue.getAttribute("content")===(J.content==null?null:""+J.content)&&ue.getAttribute("name")===(J.name==null?null:J.name)&&ue.getAttribute("property")===(J.property==null?null:J.property)&&ue.getAttribute("http-equiv")===(J.httpEquiv==null?null:J.httpEquiv)&&ue.getAttribute("charset")===(J.charSet==null?null:J.charSet)){ve.splice($e,1);break t}}ue=oe.createElement(ne),fn(ue,ne,J),oe.head.appendChild(ue);break;default:throw Error(I(468,ne))}ue[sn]=G,rn(ue),ne=ue}G.stateNode=ne}else sd(oe,G.type,G.stateNode);else G.stateNode=rd(oe,ne,G.memoizedProps);else ue!==ne?(ue===null?J.stateNode!==null&&(J=J.stateNode,J.parentNode.removeChild(J)):ue.count--,ne===null?sd(oe,G.type,G.stateNode):rd(oe,ne,G.memoizedProps)):ne===null&&G.stateNode!==null&&Rl(G,G.memoizedProps,J.memoizedProps)}break;case 27:gn(Z,G),_n(G),ne&512&&(tn||J===null||Wn(J,J.return)),J!==null&&ne&4&&Rl(G,G.memoizedProps,J.memoizedProps);break;case 5:if(gn(Z,G),_n(G),ne&512&&(tn||J===null||Wn(J,J.return)),G.flags&32){oe=G.stateNode;try{di(oe,"")}catch(pt){Lt(G,G.return,pt)}}ne&4&&G.stateNode!=null&&(oe=G.memoizedProps,Rl(G,oe,J!==null?J.memoizedProps:oe)),ne&1024&&($l=!0);break;case 6:if(gn(Z,G),_n(G),ne&4){if(G.stateNode===null)throw Error(I(162));ne=G.memoizedProps,J=G.stateNode;try{J.nodeValue=ne}catch(pt){Lt(G,G.return,pt)}}break;case 3:if(Vs=null,oe=Hn,Hn=Us(Z.containerInfo),gn(Z,G),Hn=oe,_n(G),ne&4&&J!==null&&J.memoizedState.isDehydrated)try{qi(Z.containerInfo)}catch(pt){Lt(G,G.return,pt)}$l&&($l=!1,ih(G));break;case 4:ne=Hn,Hn=Us(G.stateNode.containerInfo),gn(Z,G),_n(G),Hn=ne;break;case 12:gn(Z,G),_n(G);break;case 31:gn(Z,G),_n(G),ne&4&&(ne=G.updateQueue,ne!==null&&(G.updateQueue=null,ks(G,ne)));break;case 13:gn(Z,G),_n(G),G.child.flags&8192&&G.memoizedState!==null!=(J!==null&&J.memoizedState!==null)&&($s=ut()),ne&4&&(ne=G.updateQueue,ne!==null&&(G.updateQueue=null,ks(G,ne)));break;case 22:oe=G.memoizedState!==null;var De=J!==null&&J.memoizedState!==null,Je=ur,rt=tn;if(ur=Je||oe,tn=rt||De,gn(Z,G),tn=rt,ur=Je,_n(G),ne&8192)e:for(Z=G.stateNode,Z._visibility=oe?Z._visibility&-2:Z._visibility|1,oe&&(J===null||De||ur||tn||ai(G)),J=null,Z=G;;){if(Z.tag===5||Z.tag===26){if(J===null){De=J=Z;try{if(ue=De.stateNode,oe)ve=ue.style,typeof ve.setProperty=="function"?ve.setProperty("display","none","important"):ve.display="none";else{$e=De.stateNode;var ct=De.memoizedProps.style,et=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;$e.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(pt){Lt(De,De.return,pt)}}}else if(Z.tag===6){if(J===null){De=Z;try{De.stateNode.nodeValue=oe?"":De.memoizedProps}catch(pt){Lt(De,De.return,pt)}}}else if(Z.tag===18){if(J===null){De=Z;try{var nt=De.stateNode;oe?Wh(nt,!0):Wh(De.stateNode,!1)}catch(pt){Lt(De,De.return,pt)}}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===G)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===G)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===G)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}ne&4&&(ne=G.updateQueue,ne!==null&&(J=ne.retryQueue,J!==null&&(ne.retryQueue=null,ks(G,J))));break;case 19:gn(Z,G),_n(G),ne&4&&(ne=G.updateQueue,ne!==null&&(G.updateQueue=null,ks(G,ne)));break;case 30:break;case 21:break;default:gn(Z,G),_n(G)}}function _n(G){var Z=G.flags;if(Z&2){try{for(var J,ne=G.return;ne!==null;){if(Yf(ne)){J=ne;break}ne=ne.return}if(J==null)throw Error(I(160));switch(J.tag){case 27:var oe=J.stateNode,ue=kl(G);Rs(G,ue,oe);break;case 5:var ve=J.stateNode;J.flags&32&&(di(ve,""),J.flags&=-33);var $e=kl(G);Rs(G,$e,ve);break;case 3:case 4:var De=J.stateNode.containerInfo,Je=kl(G);Ml(G,Je,De);break;default:throw Error(I(161))}}catch(rt){Lt(G,G.return,rt)}G.flags&=-3}Z&4096&&(G.flags&=-4097)}function ih(G){if(G.subtreeFlags&1024)for(G=G.child;G!==null;){var Z=G;ih(Z),Z.tag===5&&Z.flags&1024&&Z.stateNode.reset(),G=G.sibling}}function hr(G,Z){if(Z.subtreeFlags&8772)for(Z=Z.child;Z!==null;)Qf(G,Z.alternate,Z),Z=Z.sibling}function ai(G){for(G=G.child;G!==null;){var Z=G;switch(Z.tag){case 0:case 11:case 14:case 15:$r(4,Z,Z.return),ai(Z);break;case 1:Wn(Z,Z.return);var J=Z.stateNode;typeof J.componentWillUnmount=="function"&&Zf(Z,Z.return,J),ai(Z);break;case 27:Ia(Z.stateNode);case 26:case 5:Wn(Z,Z.return),ai(Z);break;case 22:Z.memoizedState===null&&ai(Z);break;case 30:ai(Z);break;default:ai(Z)}G=G.sibling}}function dr(G,Z,J){for(J=J&&(Z.subtreeFlags&8772)!==0,Z=Z.child;Z!==null;){var ne=Z.alternate,oe=G,ue=Z,ve=ue.flags;switch(ue.tag){case 0:case 11:case 15:dr(oe,ue,J),wa(4,ue);break;case 1:if(dr(oe,ue,J),ne=ue,oe=ne.stateNode,typeof oe.componentDidMount=="function")try{oe.componentDidMount()}catch(Je){Lt(ne,ne.return,Je)}if(ne=ue,oe=ne.updateQueue,oe!==null){var $e=ne.stateNode;try{var De=oe.shared.hiddenCallbacks;if(De!==null)for(oe.shared.hiddenCallbacks=null,oe=0;oe<De.length;oe++)Iu(De[oe],$e)}catch(Je){Lt(ne,ne.return,Je)}}J&&ve&64&&qf(ue),Ea(ue,ue.return);break;case 27:Xf(ue);case 26:case 5:dr(oe,ue,J),J&&ne===null&&ve&4&&Wf(ue),Ea(ue,ue.return);break;case 12:dr(oe,ue,J);break;case 31:dr(oe,ue,J),J&&ve&4&&th(oe,ue);break;case 13:dr(oe,ue,J),J&&ve&4&&nh(oe,ue);break;case 22:ue.memoizedState===null&&dr(oe,ue,J),Ea(ue,ue.return);break;case 30:break;default:dr(oe,ue,J)}Z=Z.sibling}}function Nl(G,Z){var J=null;G!==null&&G.memoizedState!==null&&G.memoizedState.cachePool!==null&&(J=G.memoizedState.cachePool.pool),G=null,Z.memoizedState!==null&&Z.memoizedState.cachePool!==null&&(G=Z.memoizedState.cachePool.pool),G!==J&&(G!=null&&G.refCount++,J!=null&&ca(J))}function Pl(G,Z){G=null,Z.alternate!==null&&(G=Z.alternate.memoizedState.cache),Z=Z.memoizedState.cache,Z!==G&&(Z.refCount++,G!=null&&ca(G))}function Un(G,Z,J,ne){if(Z.subtreeFlags&10256)for(Z=Z.child;Z!==null;)ah(G,Z,J,ne),Z=Z.sibling}function ah(G,Z,J,ne){var oe=Z.flags;switch(Z.tag){case 0:case 11:case 15:Un(G,Z,J,ne),oe&2048&&wa(9,Z);break;case 1:Un(G,Z,J,ne);break;case 3:Un(G,Z,J,ne),oe&2048&&(G=null,Z.alternate!==null&&(G=Z.alternate.memoizedState.cache),Z=Z.memoizedState.cache,Z!==G&&(Z.refCount++,G!=null&&ca(G)));break;case 12:if(oe&2048){Un(G,Z,J,ne),G=Z.stateNode;try{var ue=Z.memoizedProps,ve=ue.id,$e=ue.onPostCommit;typeof $e=="function"&&$e(ve,Z.alternate===null?"mount":"update",G.passiveEffectDuration,-0)}catch(De){Lt(Z,Z.return,De)}}else Un(G,Z,J,ne);break;case 31:Un(G,Z,J,ne);break;case 13:Un(G,Z,J,ne);break;case 23:break;case 22:ue=Z.stateNode,ve=Z.alternate,Z.memoizedState!==null?ue._visibility&2?Un(G,Z,J,ne):Ca(G,Z):ue._visibility&2?Un(G,Z,J,ne):(ue._visibility|=2,Oi(G,Z,J,ne,(Z.subtreeFlags&10256)!==0||!1)),oe&2048&&Nl(ve,Z);break;case 24:Un(G,Z,J,ne),oe&2048&&Pl(Z.alternate,Z);break;default:Un(G,Z,J,ne)}}function Oi(G,Z,J,ne,oe){for(oe=oe&&((Z.subtreeFlags&10256)!==0||!1),Z=Z.child;Z!==null;){var ue=G,ve=Z,$e=J,De=ne,Je=ve.flags;switch(ve.tag){case 0:case 11:case 15:Oi(ue,ve,$e,De,oe),wa(8,ve);break;case 23:break;case 22:var rt=ve.stateNode;ve.memoizedState!==null?rt._visibility&2?Oi(ue,ve,$e,De,oe):Ca(ue,ve):(rt._visibility|=2,Oi(ue,ve,$e,De,oe)),oe&&Je&2048&&Nl(ve.alternate,ve);break;case 24:Oi(ue,ve,$e,De,oe),oe&&Je&2048&&Pl(ve.alternate,ve);break;default:Oi(ue,ve,$e,De,oe)}Z=Z.sibling}}function Ca(G,Z){if(Z.subtreeFlags&10256)for(Z=Z.child;Z!==null;){var J=G,ne=Z,oe=ne.flags;switch(ne.tag){case 22:Ca(J,ne),oe&2048&&Nl(ne.alternate,ne);break;case 24:Ca(J,ne),oe&2048&&Pl(ne.alternate,ne);break;default:Ca(J,ne)}Z=Z.sibling}}var Ta=8192;function zi(G,Z,J){if(G.subtreeFlags&Ta)for(G=G.child;G!==null;)sh(G,Z,J),G=G.sibling}function sh(G,Z,J){switch(G.tag){case 26:zi(G,Z,J),G.flags&Ta&&G.memoizedState!==null&&$p(J,Hn,G.memoizedState,G.memoizedProps);break;case 5:zi(G,Z,J);break;case 3:case 4:var ne=Hn;Hn=Us(G.stateNode.containerInfo),zi(G,Z,J),Hn=ne;break;case 22:G.memoizedState===null&&(ne=G.alternate,ne!==null&&ne.memoizedState!==null?(ne=Ta,Ta=16777216,zi(G,Z,J),Ta=ne):zi(G,Z,J));break;default:zi(G,Z,J)}}function oh(G){var Z=G.alternate;if(Z!==null&&(G=Z.child,G!==null)){Z.child=null;do Z=G.sibling,G.sibling=null,G=Z;while(G!==null)}}function Aa(G){var Z=G.deletions;if((G.flags&16)!==0){if(Z!==null)for(var J=0;J<Z.length;J++){var ne=Z[J];an=ne,uh(ne,G)}oh(G)}if(G.subtreeFlags&10256)for(G=G.child;G!==null;)lh(G),G=G.sibling}function lh(G){switch(G.tag){case 0:case 11:case 15:Aa(G),G.flags&2048&&$r(9,G,G.return);break;case 3:Aa(G);break;case 12:Aa(G);break;case 22:var Z=G.stateNode;G.memoizedState!==null&&Z._visibility&2&&(G.return===null||G.return.tag!==13)?(Z._visibility&=-3,Ms(G)):Aa(G);break;default:Aa(G)}}function Ms(G){var Z=G.deletions;if((G.flags&16)!==0){if(Z!==null)for(var J=0;J<Z.length;J++){var ne=Z[J];an=ne,uh(ne,G)}oh(G)}for(G=G.child;G!==null;){switch(Z=G,Z.tag){case 0:case 11:case 15:$r(8,Z,Z.return),Ms(Z);break;case 22:J=Z.stateNode,J._visibility&2&&(J._visibility&=-3,Ms(Z));break;default:Ms(Z)}G=G.sibling}}function uh(G,Z){for(;an!==null;){var J=an;switch(J.tag){case 0:case 11:case 15:$r(8,J,Z);break;case 23:case 22:if(J.memoizedState!==null&&J.memoizedState.cachePool!==null){var ne=J.memoizedState.cachePool.pool;ne!=null&&ne.refCount++}break;case 24:ca(J.memoizedState.cache)}if(ne=J.child,ne!==null)ne.return=J,an=ne;else e:for(J=G;an!==null;){ne=an;var oe=ne.sibling,ue=ne.return;if(Jf(ne),ne===J){an=null;break e}if(oe!==null){oe.return=ue,an=oe;break e}an=ue}}}var Vm={getCacheForType:function(G){var Z=ln(Qt),J=Z.data.get(G);return J===void 0&&(J=G(),Z.data.set(G,J)),J},cacheSignal:function(){return ln(Qt).controller.signal}},qm=typeof WeakMap=="function"?WeakMap:Map,zt=0,Ht=null,kt=null,$t=0,Dt=0,En=null,Nr=!1,Di=!1,Il=!1,mr=0,Zt=0,Pr=0,si=0,Ol=0,Cn=0,Li=0,Ra=null,yn=null,zl=!1,$s=0,fh=0,Ns=1/0,Ps=null,Ir=null,nn=0,Or=null,Bi=null,pr=0,Dl=0,Ll=null,hh=null,Ma=0,Bl=null;function Tn(){return(zt&2)!==0&&$t!==0?$t&-$t:Te.T!==null?Vl():Ec()}function dh(){if(Cn===0)if(($t&536870912)===0||Pt){var G=jn;jn<<=1,(jn&3932160)===0&&(jn=262144),Cn=G}else Cn=536870912;return G=Sn.current,G!==null&&(G.flags|=32),Cn}function bn(G,Z,J){(G===Ht&&(Dt===2||Dt===9)||G.cancelPendingCommit!==null)&&(ji(G,0),zr(G,$t,Cn,!1)),Yi(G,J),((zt&2)===0||G!==Ht)&&(G===Ht&&((zt&2)===0&&(si|=J),Zt===4&&zr(G,$t,Cn,!1)),Kn(G))}function mh(G,Z,J){if((zt&6)!==0)throw Error(I(327));var ne=!J&&(Z&127)===0&&(Z&G.expiredLanes)===0||Wi(G,Z),oe=ne?Ym(G,Z):Fl(G,Z,!0),ue=ne;do{if(oe===0){Di&&!ne&&zr(G,Z,0,!1);break}else{if(J=G.current.alternate,ue&&!Zm(J)){oe=Fl(G,Z,!1),ue=!1;continue}if(oe===2){if(ue=Z,G.errorRecoveryDisabledLanes&ue)var ve=0;else ve=G.pendingLanes&-536870913,ve=ve!==0?ve:ve&536870912?536870912:0;if(ve!==0){Z=ve;e:{var $e=G;oe=Ra;var De=$e.current.memoizedState.isDehydrated;if(De&&(ji($e,ve).flags|=256),ve=Fl($e,ve,!1),ve!==2){if(Il&&!De){$e.errorRecoveryDisabledLanes|=ue,si|=ue,oe=4;break e}ue=yn,yn=oe,ue!==null&&(yn===null?yn=ue:yn.push.apply(yn,ue))}oe=ve}if(ue=!1,oe!==2)continue}}if(oe===1){ji(G,0),zr(G,Z,0,!0);break}e:{switch(ne=G,ue=oe,ue){case 0:case 1:throw Error(I(345));case 4:if((Z&4194048)!==Z)break;case 6:zr(ne,Z,Cn,!Nr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(I(329))}if((Z&62914560)===Z&&(oe=$s+300-ut(),10<oe)){if(zr(ne,Z,Cn,!Nr),Ua(ne,0,!0)!==0)break e;pr=Z,ne.timeoutHandle=Vh(ph.bind(null,ne,J,yn,Ps,zl,Z,Cn,si,Li,Nr,ue,"Throttled",-0,0),oe);break e}ph(ne,J,yn,Ps,zl,Z,Cn,si,Li,Nr,ue,null,-0,0)}}break}while(!0);Kn(G)}function ph(G,Z,J,ne,oe,ue,ve,$e,De,Je,rt,ct,et,nt){if(G.timeoutHandle=-1,ct=Z.subtreeFlags,ct&8192||(ct&16785408)===16785408){ct={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:er},sh(Z,ue,ct);var pt=(ue&62914560)===ue?$s-ut():(ue&4194048)===ue?fh-ut():0;if(pt=Np(ct,pt),pt!==null){pr=ue,G.cancelPendingCommit=pt(wh.bind(null,G,Z,ue,J,ne,oe,ve,$e,De,rt,ct,null,et,nt)),zr(G,ue,ve,!Je);return}}wh(G,Z,ue,J,ne,oe,ve,$e,De)}function Zm(G){for(var Z=G;;){var J=Z.tag;if((J===0||J===11||J===15)&&Z.flags&16384&&(J=Z.updateQueue,J!==null&&(J=J.stores,J!==null)))for(var ne=0;ne<J.length;ne++){var oe=J[ne],ue=oe.getSnapshot;oe=oe.value;try{if(!xn(ue(),oe))return!1}catch{return!1}}if(J=Z.child,Z.subtreeFlags&16384&&J!==null)J.return=Z,Z=J;else{if(Z===G)break;for(;Z.sibling===null;){if(Z.return===null||Z.return===G)return!0;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}}return!0}function zr(G,Z,J,ne){Z&=~Ol,Z&=~si,G.suspendedLanes|=Z,G.pingedLanes&=~Z,ne&&(G.warmLanes|=Z),ne=G.expirationTimes;for(var oe=Z;0<oe;){var ue=31-xt(oe),ve=1<<ue;ne[ue]=-1,oe&=~ve}J!==0&&xc(G,J,Z)}function Is(){return(zt&6)===0?($a(0),!1):!0}function jl(){if(kt!==null){if(Dt===0)var G=kt.return;else G=kt,ir=Kr=null,nl(G),Mi=null,fa=0,G=kt;for(;G!==null;)Vf(G.alternate,G),G=G.return;kt=null}}function ji(G,Z){var J=G.timeoutHandle;J!==-1&&(G.timeoutHandle=-1,mp(J)),J=G.cancelPendingCommit,J!==null&&(G.cancelPendingCommit=null,J()),pr=0,jl(),Ht=G,kt=J=nr(G.current,null),$t=Z,Dt=0,En=null,Nr=!1,Di=Wi(G,Z),Il=!1,Li=Cn=Ol=si=Pr=Zt=0,yn=Ra=null,zl=!1,(Z&8)!==0&&(Z|=Z&32);var ne=G.entangledLanes;if(ne!==0)for(G=G.entanglements,ne&=Z;0<ne;){var oe=31-xt(ne),ue=1<<oe;Z|=G[oe],ne&=~ue}return mr=Z,ts(),J}function gh(G,Z){At=null,Te.H=xa,Z===ki||Z===cs?(Z=Mu(),Dt=3):Z===Go?(Z=Mu(),Dt=4):Dt=Z===yl?8:Z!==null&&typeof Z=="object"&&typeof Z.then=="function"?6:1,En=Z,kt===null&&(Zt=1,ws(G,Pn(Z,G.current)))}function _h(){var G=Sn.current;return G===null?!0:($t&4194048)===$t?Dn===null:($t&62914560)===$t||($t&536870912)!==0?G===Dn:!1}function yh(){var G=Te.H;return Te.H=xa,G===null?xa:G}function bh(){var G=Te.A;return Te.A=Vm,G}function Os(){Zt=4,Nr||($t&4194048)!==$t&&Sn.current!==null||(Di=!0),(Pr&134217727)===0&&(si&134217727)===0||Ht===null||zr(Ht,$t,Cn,!1)}function Fl(G,Z,J){var ne=zt;zt|=2;var oe=yh(),ue=bh();(Ht!==G||$t!==Z)&&(Ps=null,ji(G,Z)),Z=!1;var ve=Zt;e:do try{if(Dt!==0&&kt!==null){var $e=kt,De=En;switch(Dt){case 8:jl(),ve=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(Z=!0);var Je=Dt;if(Dt=0,En=null,Fi(G,$e,De,Je),J&&Di){ve=0;break e}break;default:Je=Dt,Dt=0,En=null,Fi(G,$e,De,Je)}}Wm(),ve=Zt;break}catch(rt){gh(G,rt)}while(!0);return Z&&G.shellSuspendCounter++,ir=Kr=null,zt=ne,Te.H=oe,Te.A=ue,kt===null&&(Ht=null,$t=0,ts()),ve}function Wm(){for(;kt!==null;)xh(kt)}function Ym(G,Z){var J=zt;zt|=2;var ne=yh(),oe=bh();Ht!==G||$t!==Z?(Ps=null,Ns=ut()+500,ji(G,Z)):Di=Wi(G,Z);e:do try{if(Dt!==0&&kt!==null){Z=kt;var ue=En;t:switch(Dt){case 1:Dt=0,En=null,Fi(G,Z,ue,1);break;case 2:case 9:if(Ru(ue)){Dt=0,En=null,vh(Z);break}Z=function(){Dt!==2&&Dt!==9||Ht!==G||(Dt=7),Kn(G)},ue.then(Z,Z);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:Ru(ue)?(Dt=0,En=null,vh(Z)):(Dt=0,En=null,Fi(G,Z,ue,7));break;case 5:var ve=null;switch(kt.tag){case 26:ve=kt.memoizedState;case 5:case 27:var $e=kt;if(ve?od(ve):$e.stateNode.complete){Dt=0,En=null;var De=$e.sibling;if(De!==null)kt=De;else{var Je=$e.return;Je!==null?(kt=Je,zs(Je)):kt=null}break t}}Dt=0,En=null,Fi(G,Z,ue,5);break;case 6:Dt=0,En=null,Fi(G,Z,ue,6);break;case 8:jl(),Zt=6;break e;default:throw Error(I(462))}}Xm();break}catch(rt){gh(G,rt)}while(!0);return ir=Kr=null,Te.H=ne,Te.A=oe,zt=J,kt!==null?0:(Ht=null,$t=0,ts(),Zt)}function Xm(){for(;kt!==null&&!We();)xh(kt)}function xh(G){var Z=Uf(G.alternate,G,mr);G.memoizedProps=G.pendingProps,Z===null?zs(G):kt=Z}function vh(G){var Z=G,J=Z.alternate;switch(Z.tag){case 15:case 0:Z=Df(J,Z,Z.pendingProps,Z.type,void 0,$t);break;case 11:Z=Df(J,Z,Z.pendingProps,Z.type.render,Z.ref,$t);break;case 5:nl(Z);default:Vf(J,Z),Z=kt=_u(Z,mr),Z=Uf(J,Z,mr)}G.memoizedProps=G.pendingProps,Z===null?zs(G):kt=Z}function Fi(G,Z,J,ne){ir=Kr=null,nl(Z),Mi=null,fa=0;var oe=Z.return;try{if(Lm(G,oe,Z,J,$t)){Zt=1,ws(G,Pn(J,G.current)),kt=null;return}}catch(ue){if(oe!==null)throw kt=oe,ue;Zt=1,ws(G,Pn(J,G.current)),kt=null;return}Z.flags&32768?(Pt||ne===1?G=!0:Di||($t&536870912)!==0?G=!1:(Nr=G=!0,(ne===2||ne===9||ne===3||ne===6)&&(ne=Sn.current,ne!==null&&ne.tag===13&&(ne.flags|=16384))),Sh(Z,G)):zs(Z)}function zs(G){var Z=G;do{if((Z.flags&32768)!==0){Sh(Z,Nr);return}G=Z.return;var J=Fm(Z.alternate,Z,mr);if(J!==null){kt=J;return}if(Z=Z.sibling,Z!==null){kt=Z;return}kt=Z=G}while(Z!==null);Zt===0&&(Zt=5)}function Sh(G,Z){do{var J=Hm(G.alternate,G);if(J!==null){J.flags&=32767,kt=J;return}if(J=G.return,J!==null&&(J.flags|=32768,J.subtreeFlags=0,J.deletions=null),!Z&&(G=G.sibling,G!==null)){kt=G;return}kt=G=J}while(G!==null);Zt=6,kt=null}function wh(G,Z,J,ne,oe,ue,ve,$e,De){G.cancelPendingCommit=null;do Ds();while(nn!==0);if((zt&6)!==0)throw Error(I(327));if(Z!==null){if(Z===G.current)throw Error(I(177));if(ue=Z.lanes|Z.childLanes,ue|=ko,kd(G,J,ue,ve,$e,De),G===Ht&&(kt=Ht=null,$t=0),Bi=Z,Or=G,pr=J,Dl=ue,Ll=oe,hh=ne,(Z.subtreeFlags&10256)!==0||(Z.flags&10256)!==0?(G.callbackNode=null,G.callbackPriority=0,ep(st,function(){return Rh(),null})):(G.callbackNode=null,G.callbackPriority=0),ne=(Z.flags&13878)!==0,(Z.subtreeFlags&13878)!==0||ne){ne=Te.T,Te.T=null,oe=Re.p,Re.p=2,ve=zt,zt|=4;try{Um(G,Z,J)}finally{zt=ve,Re.p=oe,Te.T=ne}}nn=1,Eh(),Ch(),Th()}}function Eh(){if(nn===1){nn=0;var G=Or,Z=Bi,J=(Z.flags&13878)!==0;if((Z.subtreeFlags&13878)!==0||J){J=Te.T,Te.T=null;var ne=Re.p;Re.p=2;var oe=zt;zt|=4;try{rh(Z,G);var ue=Jl,ve=lu(G.containerInfo),$e=ue.focusedElem,De=ue.selectionRange;if(ve!==$e&&$e&&$e.ownerDocument&&ou($e.ownerDocument.documentElement,$e)){if(De!==null&&Eo($e)){var Je=De.start,rt=De.end;if(rt===void 0&&(rt=Je),"selectionStart"in $e)$e.selectionStart=Je,$e.selectionEnd=Math.min(rt,$e.value.length);else{var ct=$e.ownerDocument||document,et=ct&&ct.defaultView||window;if(et.getSelection){var nt=et.getSelection(),pt=$e.textContent.length,Ct=Math.min(De.start,pt),Ft=De.end===void 0?Ct:Math.min(De.end,pt);!nt.extend&&Ct>Ft&&(ve=Ft,Ft=Ct,Ct=ve);var qe=su($e,Ct),Ue=su($e,Ft);if(qe&&Ue&&(nt.rangeCount!==1||nt.anchorNode!==qe.node||nt.anchorOffset!==qe.offset||nt.focusNode!==Ue.node||nt.focusOffset!==Ue.offset)){var Qe=ct.createRange();Qe.setStart(qe.node,qe.offset),nt.removeAllRanges(),Ct>Ft?(nt.addRange(Qe),nt.extend(Ue.node,Ue.offset)):(Qe.setEnd(Ue.node,Ue.offset),nt.addRange(Qe))}}}}for(ct=[],nt=$e;nt=nt.parentNode;)nt.nodeType===1&&ct.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof $e.focus=="function"&&$e.focus(),$e=0;$e<ct.length;$e++){var ot=ct[$e];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}Ys=!!Ql,Jl=Ql=null}finally{zt=oe,Re.p=ne,Te.T=J}}G.current=Z,nn=2}}function Ch(){if(nn===2){nn=0;var G=Or,Z=Bi,J=(Z.flags&8772)!==0;if((Z.subtreeFlags&8772)!==0||J){J=Te.T,Te.T=null;var ne=Re.p;Re.p=2;var oe=zt;zt|=4;try{Qf(G,Z.alternate,Z)}finally{zt=oe,Re.p=ne,Te.T=J}}nn=3}}function Th(){if(nn===4||nn===3){nn=0,ht();var G=Or,Z=Bi,J=pr,ne=hh;(Z.subtreeFlags&10256)!==0||(Z.flags&10256)!==0?nn=5:(nn=0,Bi=Or=null,Ah(G,G.pendingLanes));var oe=G.pendingLanes;if(oe===0&&(Ir=null),io(J),Z=Z.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(_t,Z,void 0,(Z.current.flags&128)===128)}catch{}if(ne!==null){Z=Te.T,oe=Re.p,Re.p=2,Te.T=null;try{for(var ue=G.onRecoverableError,ve=0;ve<ne.length;ve++){var $e=ne[ve];ue($e.value,{componentStack:$e.stack})}}finally{Te.T=Z,Re.p=oe}}(pr&3)!==0&&Ds(),Kn(G),oe=G.pendingLanes,(J&261930)!==0&&(oe&42)!==0?G===Bl?Ma++:(Ma=0,Bl=G):Ma=0,$a(0)}}function Ah(G,Z){(G.pooledCacheLanes&=Z)===0&&(Z=G.pooledCache,Z!=null&&(G.pooledCache=null,ca(Z)))}function Ds(){return Eh(),Ch(),Th(),Rh()}function Rh(){if(nn!==5)return!1;var G=Or,Z=Dl;Dl=0;var J=io(pr),ne=Te.T,oe=Re.p;try{Re.p=32>J?32:J,Te.T=null,J=Ll,Ll=null;var ue=Or,ve=pr;if(nn=0,Bi=Or=null,pr=0,(zt&6)!==0)throw Error(I(331));var $e=zt;if(zt|=4,lh(ue.current),ah(ue,ue.current,ve,J),zt=$e,$a(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(_t,ue)}catch{}return!0}finally{Re.p=oe,Te.T=ne,Ah(G,Z)}}function kh(G,Z,J){Z=Pn(J,Z),Z=_l(G.stateNode,Z,2),G=Ar(G,Z,2),G!==null&&(Yi(G,2),Kn(G))}function Lt(G,Z,J){if(G.tag===3)kh(G,G,J);else for(;Z!==null;){if(Z.tag===3){kh(Z,G,J);break}else if(Z.tag===1){var ne=Z.stateNode;if(typeof Z.type.getDerivedStateFromError=="function"||typeof ne.componentDidCatch=="function"&&(Ir===null||!Ir.has(ne))){G=Pn(J,G),J=kf(2),ne=Ar(Z,J,2),ne!==null&&(Mf(J,ne,Z,G),Yi(ne,2),Kn(ne));break}}Z=Z.return}}function Hl(G,Z,J){var ne=G.pingCache;if(ne===null){ne=G.pingCache=new qm;var oe=new Set;ne.set(Z,oe)}else oe=ne.get(Z),oe===void 0&&(oe=new Set,ne.set(Z,oe));oe.has(J)||(Il=!0,oe.add(J),G=Km.bind(null,G,Z,J),Z.then(G,G))}function Km(G,Z,J){var ne=G.pingCache;ne!==null&&ne.delete(Z),G.pingedLanes|=G.suspendedLanes&J,G.warmLanes&=~J,Ht===G&&($t&J)===J&&(Zt===4||Zt===3&&($t&62914560)===$t&&300>ut()-$s?(zt&2)===0&&ji(G,0):Ol|=J,Li===$t&&(Li=0)),Kn(G)}function Mh(G,Z){Z===0&&(Z=bc()),G=Wr(G,Z),G!==null&&(Yi(G,Z),Kn(G))}function Qm(G){var Z=G.memoizedState,J=0;Z!==null&&(J=Z.retryLane),Mh(G,J)}function Jm(G,Z){var J=0;switch(G.tag){case 31:case 13:var ne=G.stateNode,oe=G.memoizedState;oe!==null&&(J=oe.retryLane);break;case 19:ne=G.stateNode;break;case 22:ne=G.stateNode._retryCache;break;default:throw Error(I(314))}ne!==null&&ne.delete(Z),Mh(G,J)}function ep(G,Z){return at(G,Z)}var Ls=null,Hi=null,Ul=!1,Bs=!1,Gl=!1,Dr=0;function Kn(G){G!==Hi&&G.next===null&&(Hi===null?Ls=Hi=G:Hi=Hi.next=G),Bs=!0,Ul||(Ul=!0,np())}function $a(G,Z){if(!Gl&&Bs){Gl=!0;do for(var J=!1,ne=Ls;ne!==null;){if(G!==0){var oe=ne.pendingLanes;if(oe===0)var ue=0;else{var ve=ne.suspendedLanes,$e=ne.pingedLanes;ue=(1<<31-xt(42|G)+1)-1,ue&=oe&~(ve&~$e),ue=ue&201326741?ue&201326741|1:ue?ue|2:0}ue!==0&&(J=!0,Ih(ne,ue))}else ue=$t,ue=Ua(ne,ne===Ht?ue:0,ne.cancelPendingCommit!==null||ne.timeoutHandle!==-1),(ue&3)===0||Wi(ne,ue)||(J=!0,Ih(ne,ue));ne=ne.next}while(J);Gl=!1}}function tp(){$h()}function $h(){Bs=Ul=!1;var G=0;Dr!==0&&dp()&&(G=Dr);for(var Z=ut(),J=null,ne=Ls;ne!==null;){var oe=ne.next,ue=Nh(ne,Z);ue===0?(ne.next=null,J===null?Ls=oe:J.next=oe,oe===null&&(Hi=J)):(J=ne,(G!==0||(ue&3)!==0)&&(Bs=!0)),ne=oe}nn!==0&&nn!==5||$a(G),Dr!==0&&(Dr=0)}function Nh(G,Z){for(var J=G.suspendedLanes,ne=G.pingedLanes,oe=G.expirationTimes,ue=G.pendingLanes&-62914561;0<ue;){var ve=31-xt(ue),$e=1<<ve,De=oe[ve];De===-1?(($e&J)===0||($e&ne)!==0)&&(oe[ve]=Rd($e,Z)):De<=Z&&(G.expiredLanes|=$e),ue&=~$e}if(Z=Ht,J=$t,J=Ua(G,G===Z?J:0,G.cancelPendingCommit!==null||G.timeoutHandle!==-1),ne=G.callbackNode,J===0||G===Z&&(Dt===2||Dt===9)||G.cancelPendingCommit!==null)return ne!==null&&ne!==null&&lt(ne),G.callbackNode=null,G.callbackPriority=0;if((J&3)===0||Wi(G,J)){if(Z=J&-J,Z===G.callbackPriority)return Z;switch(ne!==null&&lt(ne),io(J)){case 2:case 8:J=tt;break;case 32:J=st;break;case 268435456:J=gt;break;default:J=st}return ne=Ph.bind(null,G),J=at(J,ne),G.callbackPriority=Z,G.callbackNode=J,Z}return ne!==null&&ne!==null&&lt(ne),G.callbackPriority=2,G.callbackNode=null,2}function Ph(G,Z){if(nn!==0&&nn!==5)return G.callbackNode=null,G.callbackPriority=0,null;var J=G.callbackNode;if(Ds()&&G.callbackNode!==J)return null;var ne=$t;return ne=Ua(G,G===Ht?ne:0,G.cancelPendingCommit!==null||G.timeoutHandle!==-1),ne===0?null:(mh(G,ne,Z),Nh(G,ut()),G.callbackNode!=null&&G.callbackNode===J?Ph.bind(null,G):null)}function Ih(G,Z){if(Ds())return null;mh(G,Z,!0)}function np(){pp(function(){(zt&6)!==0?at(Oe,tp):$h()})}function Vl(){if(Dr===0){var G=Ai;G===0&&(G=Gn,Gn<<=1,(Gn&261888)===0&&(Gn=256)),Dr=G}return Dr}function Oh(G){return G==null||typeof G=="symbol"||typeof G=="boolean"?null:typeof G=="function"?G:Za(""+G)}function zh(G,Z){var J=Z.ownerDocument.createElement("input");return J.name=Z.name,J.value=Z.value,G.id&&J.setAttribute("form",G.id),Z.parentNode.insertBefore(J,Z),G=new FormData(G),J.parentNode.removeChild(J),G}function rp(G,Z,J,ne,oe){if(Z==="submit"&&J&&J.stateNode===oe){var ue=Oh((oe[dn]||null).action),ve=ne.submitter;ve&&(Z=(Z=ve[dn]||null)?Oh(Z.formAction):ve.getAttribute("formAction"),Z!==null&&(ue=Z,ve=null));var $e=new Ka("action","action",null,ne,oe);G.push({event:$e,listeners:[{instance:null,listener:function(){if(ne.defaultPrevented){if(Dr!==0){var De=ve?zh(oe,ve):new FormData(oe);fl(J,{pending:!0,data:De,method:oe.method,action:ue},null,De)}}else typeof ue=="function"&&($e.preventDefault(),De=ve?zh(oe,ve):new FormData(oe),fl(J,{pending:!0,data:De,method:oe.method,action:ue},ue,De))},currentTarget:oe}]})}}for(var ql=0;ql<Ro.length;ql++){var Zl=Ro[ql],ip=Zl.toLowerCase(),ap=Zl[0].toUpperCase()+Zl.slice(1);Fn(ip,"on"+ap)}Fn(fu,"onAnimationEnd"),Fn(hu,"onAnimationIteration"),Fn(du,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(vm,"onTransitionRun"),Fn(Sm,"onTransitionStart"),Fn(wm,"onTransitionCancel"),Fn(mu,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),Gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Na));function Dh(G,Z){Z=(Z&4)!==0;for(var J=0;J<G.length;J++){var ne=G[J],oe=ne.event;ne=ne.listeners;e:{var ue=void 0;if(Z)for(var ve=ne.length-1;0<=ve;ve--){var $e=ne[ve],De=$e.instance,Je=$e.currentTarget;if($e=$e.listener,De!==ue&&oe.isPropagationStopped())break e;ue=$e,oe.currentTarget=Je;try{ue(oe)}catch(rt){es(rt)}oe.currentTarget=null,ue=De}else for(ve=0;ve<ne.length;ve++){if($e=ne[ve],De=$e.instance,Je=$e.currentTarget,$e=$e.listener,De!==ue&&oe.isPropagationStopped())break e;ue=$e,oe.currentTarget=Je;try{ue(oe)}catch(rt){es(rt)}oe.currentTarget=null,ue=De}}}}function Mt(G,Z){var J=Z[ao];J===void 0&&(J=Z[ao]=new Set);var ne=G+"__bubble";J.has(ne)||(Lh(Z,G,2,!1),J.add(ne))}function Wl(G,Z,J){var ne=0;Z&&(ne|=4),Lh(J,G,ne,Z)}var js="_reactListening"+Math.random().toString(36).slice(2);function Yl(G){if(!G[js]){G[js]=!0,Rc.forEach(function(J){J!=="selectionchange"&&(sp.has(J)||Wl(J,!1,G),Wl(J,!0,G))});var Z=G.nodeType===9?G:G.ownerDocument;Z===null||Z[js]||(Z[js]=!0,Wl("selectionchange",!1,Z))}}function Lh(G,Z,J,ne){switch(md(Z)){case 2:var oe=Op;break;case 8:oe=zp;break;default:oe=uc}J=oe.bind(null,Z,J,G),oe=void 0,!po||Z!=="touchstart"&&Z!=="touchmove"&&Z!=="wheel"||(oe=!0),ne?oe!==void 0?G.addEventListener(Z,J,{capture:!0,passive:oe}):G.addEventListener(Z,J,!0):oe!==void 0?G.addEventListener(Z,J,{passive:oe}):G.addEventListener(Z,J,!1)}function Xl(G,Z,J,ne,oe){var ue=ne;if((Z&1)===0&&(Z&2)===0&&ne!==null)e:for(;;){if(ne===null)return;var ve=ne.tag;if(ve===3||ve===4){var $e=ne.stateNode.containerInfo;if($e===oe)break;if(ve===4)for(ve=ne.return;ve!==null;){var De=ve.tag;if((De===3||De===4)&&ve.stateNode.containerInfo===oe)return;ve=ve.return}for(;$e!==null;){if(ve=li($e),ve===null)return;if(De=ve.tag,De===5||De===6||De===26||De===27){ne=ue=ve;continue e}$e=$e.parentNode}}ne=ne.return}Fc(function(){var Je=ue,rt=ho(J),ct=[];e:{var et=pu.get(G);if(et!==void 0){var nt=Ka,pt=G;switch(G){case"keypress":if(Ya(J)===0)break e;case"keydown":case"keyup":nt=Jd;break;case"focusin":pt="focus",nt=bo;break;case"focusout":pt="blur",nt=bo;break;case"beforeblur":case"afterblur":nt=bo;break;case"click":if(J.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=nm;break;case fu:case hu:case du:nt=Gd;break;case mu:nt=im;break;case"scroll":case"scrollend":nt=Bd;break;case"wheel":nt=sm;break;case"copy":case"cut":case"paste":nt=qd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=qc;break;case"toggle":case"beforetoggle":nt=lm}var Ct=(Z&4)!==0,Ft=!Ct&&(G==="scroll"||G==="scrollend"),qe=Ct?et!==null?et+"Capture":null:et;Ct=[];for(var Ue=Je,Qe;Ue!==null;){var ot=Ue;if(Qe=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||Qe===null||qe===null||(ot=Qi(Ue,qe),ot!=null&&Ct.push(Pa(Ue,ot,Qe))),Ft)break;Ue=Ue.return}0<Ct.length&&(et=new nt(et,pt,null,J,rt),ct.push({event:et,listeners:Ct}))}}if((Z&7)===0){e:{if(et=G==="mouseover"||G==="pointerover",nt=G==="mouseout"||G==="pointerout",et&&J!==fo&&(pt=J.relatedTarget||J.fromElement)&&(li(pt)||pt[oi]))break e;if((nt||et)&&(et=rt.window===rt?rt:(et=rt.ownerDocument)?et.defaultView||et.parentWindow:window,nt?(pt=J.relatedTarget||J.toElement,nt=Je,pt=pt?li(pt):null,pt!==null&&(Ft=z(pt),Ct=pt.tag,pt!==Ft||Ct!==5&&Ct!==27&&Ct!==6)&&(pt=null)):(nt=null,pt=Je),nt!==pt)){if(Ct=Gc,ot="onMouseLeave",qe="onMouseEnter",Ue="mouse",(G==="pointerout"||G==="pointerover")&&(Ct=qc,ot="onPointerLeave",qe="onPointerEnter",Ue="pointer"),Ft=nt==null?et:Ki(nt),Qe=pt==null?et:Ki(pt),et=new Ct(ot,Ue+"leave",nt,J,rt),et.target=Ft,et.relatedTarget=Qe,ot=null,li(rt)===Je&&(Ct=new Ct(qe,Ue+"enter",pt,J,rt),Ct.target=Qe,Ct.relatedTarget=Ft,ot=Ct),Ft=ot,nt&&pt)t:{for(Ct=lp,qe=nt,Ue=pt,Qe=0,ot=qe;ot;ot=Ct(ot))Qe++;ot=0;for(var St=Ue;St;St=Ct(St))ot++;for(;0<Qe-ot;)qe=Ct(qe),Qe--;for(;0<ot-Qe;)Ue=Ct(Ue),ot--;for(;Qe--;){if(qe===Ue||Ue!==null&&qe===Ue.alternate){Ct=qe;break t}qe=Ct(qe),Ue=Ct(Ue)}Ct=null}else Ct=null;nt!==null&&Bh(ct,et,nt,Ct,!1),pt!==null&&Ft!==null&&Bh(ct,Ft,pt,Ct,!0)}}e:{if(et=Je?Ki(Je):window,nt=et.nodeName&&et.nodeName.toLowerCase(),nt==="select"||nt==="input"&&et.type==="file")var It=eu;else if(Qc(et))if(tu)It=ym;else{It=gm;var yt=pm}else nt=et.nodeName,!nt||nt.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?Je&&uo(Je.elementType)&&(It=eu):It=_m;if(It&&(It=It(G,Je))){Jc(ct,It,J,rt);break e}yt&&yt(G,et,Je),G==="focusout"&&Je&&et.type==="number"&&Je.memoizedProps.value!=null&&co(et,"number",et.value)}switch(yt=Je?Ki(Je):window,G){case"focusin":(Qc(yt)||yt.contentEditable==="true")&&(bi=yt,Co=Je,sa=null);break;case"focusout":sa=Co=bi=null;break;case"mousedown":To=!0;break;case"contextmenu":case"mouseup":case"dragend":To=!1,cu(ct,J,rt);break;case"selectionchange":if(xm)break;case"keydown":case"keyup":cu(ct,J,rt)}var Rt;if(vo)e:{switch(G){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else yi?Xc(G,J)&&(Nt="onCompositionEnd"):G==="keydown"&&J.keyCode===229&&(Nt="onCompositionStart");Nt&&(Zc&&J.locale!=="ko"&&(yi||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&yi&&(Rt=Hc()):(xr=rt,go="value"in xr?xr.value:xr.textContent,yi=!0)),yt=Fs(Je,Nt),0<yt.length&&(Nt=new Vc(Nt,G,null,J,rt),ct.push({event:Nt,listeners:yt}),Rt?Nt.data=Rt:(Rt=Kc(J),Rt!==null&&(Nt.data=Rt)))),(Rt=um?fm(G,J):hm(G,J))&&(Nt=Fs(Je,"onBeforeInput"),0<Nt.length&&(yt=new Vc("onBeforeInput","beforeinput",null,J,rt),ct.push({event:yt,listeners:Nt}),yt.data=Rt)),rp(ct,G,Je,J,rt)}Dh(ct,Z)})}function Pa(G,Z,J){return{instance:G,listener:Z,currentTarget:J}}function Fs(G,Z){for(var J=Z+"Capture",ne=[];G!==null;){var oe=G,ue=oe.stateNode;if(oe=oe.tag,oe!==5&&oe!==26&&oe!==27||ue===null||(oe=Qi(G,J),oe!=null&&ne.unshift(Pa(G,oe,ue)),oe=Qi(G,Z),oe!=null&&ne.push(Pa(G,oe,ue))),G.tag===3)return ne;G=G.return}return[]}function lp(G){if(G===null)return null;do G=G.return;while(G&&G.tag!==5&&G.tag!==27);return G||null}function Bh(G,Z,J,ne,oe){for(var ue=Z._reactName,ve=[];J!==null&&J!==ne;){var $e=J,De=$e.alternate,Je=$e.stateNode;if($e=$e.tag,De!==null&&De===ne)break;$e!==5&&$e!==26&&$e!==27||Je===null||(De=Je,oe?(Je=Qi(J,ue),Je!=null&&ve.unshift(Pa(J,Je,De))):oe||(Je=Qi(J,ue),Je!=null&&ve.push(Pa(J,Je,De)))),J=J.return}ve.length!==0&&G.push({event:Z,listeners:ve})}var cp=/\r\n?/g,up=/\u0000|\uFFFD/g;function jh(G){return(typeof G=="string"?G:""+G).replace(cp,`
`).replace(up,"")}function Fh(G,Z){return Z=jh(Z),jh(G)===Z}function jt(G,Z,J,ne,oe,ue){switch(J){case"children":typeof ne=="string"?Z==="body"||Z==="textarea"&&ne===""||di(G,ne):(typeof ne=="number"||typeof ne=="bigint")&&Z!=="body"&&di(G,""+ne);break;case"className":Va(G,"class",ne);break;case"tabIndex":Va(G,"tabindex",ne);break;case"dir":case"role":case"viewBox":case"width":case"height":Va(G,J,ne);break;case"style":Bc(G,ne,ue);break;case"data":if(Z!=="object"){Va(G,"data",ne);break}case"src":case"href":if(ne===""&&(Z!=="a"||J!=="href")){G.removeAttribute(J);break}if(ne==null||typeof ne=="function"||typeof ne=="symbol"||typeof ne=="boolean"){G.removeAttribute(J);break}ne=Za(""+ne),G.setAttribute(J,ne);break;case"action":case"formAction":if(typeof ne=="function"){G.setAttribute(J,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof ue=="function"&&(J==="formAction"?(Z!=="input"&&jt(G,Z,"name",oe.name,oe,null),jt(G,Z,"formEncType",oe.formEncType,oe,null),jt(G,Z,"formMethod",oe.formMethod,oe,null),jt(G,Z,"formTarget",oe.formTarget,oe,null)):(jt(G,Z,"encType",oe.encType,oe,null),jt(G,Z,"method",oe.method,oe,null),jt(G,Z,"target",oe.target,oe,null)));if(ne==null||typeof ne=="symbol"||typeof ne=="boolean"){G.removeAttribute(J);break}ne=Za(""+ne),G.setAttribute(J,ne);break;case"onClick":ne!=null&&(G.onclick=er);break;case"onScroll":ne!=null&&Mt("scroll",G);break;case"onScrollEnd":ne!=null&&Mt("scrollend",G);break;case"dangerouslySetInnerHTML":if(ne!=null){if(typeof ne!="object"||!("__html"in ne))throw Error(I(61));if(J=ne.__html,J!=null){if(oe.children!=null)throw Error(I(60));G.innerHTML=J}}break;case"multiple":G.multiple=ne&&typeof ne!="function"&&typeof ne!="symbol";break;case"muted":G.muted=ne&&typeof ne!="function"&&typeof ne!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(ne==null||typeof ne=="function"||typeof ne=="boolean"||typeof ne=="symbol"){G.removeAttribute("xlink:href");break}J=Za(""+ne),G.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",J);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":ne!=null&&typeof ne!="function"&&typeof ne!="symbol"?G.setAttribute(J,""+ne):G.removeAttribute(J);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":ne&&typeof ne!="function"&&typeof ne!="symbol"?G.setAttribute(J,""):G.removeAttribute(J);break;case"capture":case"download":ne===!0?G.setAttribute(J,""):ne!==!1&&ne!=null&&typeof ne!="function"&&typeof ne!="symbol"?G.setAttribute(J,ne):G.removeAttribute(J);break;case"cols":case"rows":case"size":case"span":ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&!isNaN(ne)&&1<=ne?G.setAttribute(J,ne):G.removeAttribute(J);break;case"rowSpan":case"start":ne==null||typeof ne=="function"||typeof ne=="symbol"||isNaN(ne)?G.removeAttribute(J):G.setAttribute(J,ne);break;case"popover":Mt("beforetoggle",G),Mt("toggle",G),Ga(G,"popover",ne);break;case"xlinkActuate":Jn(G,"http://www.w3.org/1999/xlink","xlink:actuate",ne);break;case"xlinkArcrole":Jn(G,"http://www.w3.org/1999/xlink","xlink:arcrole",ne);break;case"xlinkRole":Jn(G,"http://www.w3.org/1999/xlink","xlink:role",ne);break;case"xlinkShow":Jn(G,"http://www.w3.org/1999/xlink","xlink:show",ne);break;case"xlinkTitle":Jn(G,"http://www.w3.org/1999/xlink","xlink:title",ne);break;case"xlinkType":Jn(G,"http://www.w3.org/1999/xlink","xlink:type",ne);break;case"xmlBase":Jn(G,"http://www.w3.org/XML/1998/namespace","xml:base",ne);break;case"xmlLang":Jn(G,"http://www.w3.org/XML/1998/namespace","xml:lang",ne);break;case"xmlSpace":Jn(G,"http://www.w3.org/XML/1998/namespace","xml:space",ne);break;case"is":Ga(G,"is",ne);break;case"innerText":case"textContent":break;default:(!(2<J.length)||J[0]!=="o"&&J[0]!=="O"||J[1]!=="n"&&J[1]!=="N")&&(J=Dd.get(J)||J,Ga(G,J,ne))}}function Kl(G,Z,J,ne,oe,ue){switch(J){case"style":Bc(G,ne,ue);break;case"dangerouslySetInnerHTML":if(ne!=null){if(typeof ne!="object"||!("__html"in ne))throw Error(I(61));if(J=ne.__html,J!=null){if(oe.children!=null)throw Error(I(60));G.innerHTML=J}}break;case"children":typeof ne=="string"?di(G,ne):(typeof ne=="number"||typeof ne=="bigint")&&di(G,""+ne);break;case"onScroll":ne!=null&&Mt("scroll",G);break;case"onScrollEnd":ne!=null&&Mt("scrollend",G);break;case"onClick":ne!=null&&(G.onclick=er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kc.hasOwnProperty(J))e:{if(J[0]==="o"&&J[1]==="n"&&(oe=J.endsWith("Capture"),Z=J.slice(2,oe?J.length-7:void 0),ue=G[dn]||null,ue=ue!=null?ue[J]:null,typeof ue=="function"&&G.removeEventListener(Z,ue,oe),typeof ne=="function")){typeof ue!="function"&&ue!==null&&(J in G?G[J]=null:G.hasAttribute(J)&&G.removeAttribute(J)),G.addEventListener(Z,ne,oe);break e}J in G?G[J]=ne:ne===!0?G.setAttribute(J,""):Ga(G,J,ne)}}}function fn(G,Z,J){switch(Z){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",G),Mt("load",G);var ne=!1,oe=!1,ue;for(ue in J)if(J.hasOwnProperty(ue)){var ve=J[ue];if(ve!=null)switch(ue){case"src":ne=!0;break;case"srcSet":oe=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(I(137,Z));default:jt(G,Z,ue,ve,J,null)}}oe&&jt(G,Z,"srcSet",J.srcSet,J,null),ne&&jt(G,Z,"src",J.src,J,null);return;case"input":Mt("invalid",G);var $e=ue=ve=oe=null,De=null,Je=null;for(ne in J)if(J.hasOwnProperty(ne)){var rt=J[ne];if(rt!=null)switch(ne){case"name":oe=rt;break;case"type":ve=rt;break;case"checked":De=rt;break;case"defaultChecked":Je=rt;break;case"value":ue=rt;break;case"defaultValue":$e=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(I(137,Z));break;default:jt(G,Z,ne,rt,J,null)}}Ic(G,ue,$e,De,Je,ve,oe,!1);return;case"select":Mt("invalid",G),ne=ve=ue=null;for(oe in J)if(J.hasOwnProperty(oe)&&($e=J[oe],$e!=null))switch(oe){case"value":ue=$e;break;case"defaultValue":ve=$e;break;case"multiple":ne=$e;default:jt(G,Z,oe,$e,J,null)}Z=ue,J=ve,G.multiple=!!ne,Z!=null?hi(G,!!ne,Z,!1):J!=null&&hi(G,!!ne,J,!0);return;case"textarea":Mt("invalid",G),ue=oe=ne=null;for(ve in J)if(J.hasOwnProperty(ve)&&($e=J[ve],$e!=null))switch(ve){case"value":ne=$e;break;case"defaultValue":oe=$e;break;case"children":ue=$e;break;case"dangerouslySetInnerHTML":if($e!=null)throw Error(I(91));break;default:jt(G,Z,ve,$e,J,null)}zc(G,ne,oe,ue);return;case"option":for(De in J)J.hasOwnProperty(De)&&(ne=J[De],ne!=null)&&(De==="selected"?G.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":jt(G,Z,De,ne,J,null));return;case"dialog":Mt("beforetoggle",G),Mt("toggle",G),Mt("cancel",G),Mt("close",G);break;case"iframe":case"object":Mt("load",G);break;case"video":case"audio":for(ne=0;ne<Na.length;ne++)Mt(Na[ne],G);break;case"image":Mt("error",G),Mt("load",G);break;case"details":Mt("toggle",G);break;case"embed":case"source":case"link":Mt("error",G),Mt("load",G);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Je in J)if(J.hasOwnProperty(Je)&&(ne=J[Je],ne!=null))switch(Je){case"children":case"dangerouslySetInnerHTML":throw Error(I(137,Z));default:jt(G,Z,Je,ne,J,null)}return;default:if(uo(Z)){for(rt in J)J.hasOwnProperty(rt)&&(ne=J[rt],ne!==void 0&&Kl(G,Z,rt,ne,J,void 0));return}}for($e in J)J.hasOwnProperty($e)&&(ne=J[$e],ne!=null&&jt(G,Z,$e,ne,J,null))}function fp(G,Z,J,ne){switch(Z){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var oe=null,ue=null,ve=null,$e=null,De=null,Je=null,rt=null;for(nt in J){var ct=J[nt];if(J.hasOwnProperty(nt)&&ct!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":De=ct;default:ne.hasOwnProperty(nt)||jt(G,Z,nt,null,ne,ct)}}for(var et in ne){var nt=ne[et];if(ct=J[et],ne.hasOwnProperty(et)&&(nt!=null||ct!=null))switch(et){case"type":ue=nt;break;case"name":oe=nt;break;case"checked":Je=nt;break;case"defaultChecked":rt=nt;break;case"value":ve=nt;break;case"defaultValue":$e=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(I(137,Z));break;default:nt!==ct&&jt(G,Z,et,nt,ne,ct)}}lo(G,ve,$e,De,Je,rt,ue,oe);return;case"select":nt=ve=$e=et=null;for(ue in J)if(De=J[ue],J.hasOwnProperty(ue)&&De!=null)switch(ue){case"value":break;case"multiple":nt=De;default:ne.hasOwnProperty(ue)||jt(G,Z,ue,null,ne,De)}for(oe in ne)if(ue=ne[oe],De=J[oe],ne.hasOwnProperty(oe)&&(ue!=null||De!=null))switch(oe){case"value":et=ue;break;case"defaultValue":$e=ue;break;case"multiple":ve=ue;default:ue!==De&&jt(G,Z,oe,ue,ne,De)}Z=$e,J=ve,ne=nt,et!=null?hi(G,!!J,et,!1):!!ne!=!!J&&(Z!=null?hi(G,!!J,Z,!0):hi(G,!!J,J?[]:"",!1));return;case"textarea":nt=et=null;for($e in J)if(oe=J[$e],J.hasOwnProperty($e)&&oe!=null&&!ne.hasOwnProperty($e))switch($e){case"value":break;case"children":break;default:jt(G,Z,$e,null,ne,oe)}for(ve in ne)if(oe=ne[ve],ue=J[ve],ne.hasOwnProperty(ve)&&(oe!=null||ue!=null))switch(ve){case"value":et=oe;break;case"defaultValue":nt=oe;break;case"children":break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(I(91));break;default:oe!==ue&&jt(G,Z,ve,oe,ne,ue)}Oc(G,et,nt);return;case"option":for(var pt in J)et=J[pt],J.hasOwnProperty(pt)&&et!=null&&!ne.hasOwnProperty(pt)&&(pt==="selected"?G.selected=!1:jt(G,Z,pt,null,ne,et));for(De in ne)et=ne[De],nt=J[De],ne.hasOwnProperty(De)&&et!==nt&&(et!=null||nt!=null)&&(De==="selected"?G.selected=et&&typeof et!="function"&&typeof et!="symbol":jt(G,Z,De,et,ne,nt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in J)et=J[Ct],J.hasOwnProperty(Ct)&&et!=null&&!ne.hasOwnProperty(Ct)&&jt(G,Z,Ct,null,ne,et);for(Je in ne)if(et=ne[Je],nt=J[Je],ne.hasOwnProperty(Je)&&et!==nt&&(et!=null||nt!=null))switch(Je){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(I(137,Z));break;default:jt(G,Z,Je,et,ne,nt)}return;default:if(uo(Z)){for(var Ft in J)et=J[Ft],J.hasOwnProperty(Ft)&&et!==void 0&&!ne.hasOwnProperty(Ft)&&Kl(G,Z,Ft,void 0,ne,et);for(rt in ne)et=ne[rt],nt=J[rt],!ne.hasOwnProperty(rt)||et===nt||et===void 0&&nt===void 0||Kl(G,Z,rt,et,ne,nt);return}}for(var qe in J)et=J[qe],J.hasOwnProperty(qe)&&et!=null&&!ne.hasOwnProperty(qe)&&jt(G,Z,qe,null,ne,et);for(ct in ne)et=ne[ct],nt=J[ct],!ne.hasOwnProperty(ct)||et===nt||et==null&&nt==null||jt(G,Z,ct,et,ne,nt)}function Hh(G){switch(G){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hp(){if(typeof performance.getEntriesByType=="function"){for(var G=0,Z=0,J=performance.getEntriesByType("resource"),ne=0;ne<J.length;ne++){var oe=J[ne],ue=oe.transferSize,ve=oe.initiatorType,$e=oe.duration;if(ue&&$e&&Hh(ve)){for(ve=0,$e=oe.responseEnd,ne+=1;ne<J.length;ne++){var De=J[ne],Je=De.startTime;if(Je>$e)break;var rt=De.transferSize,ct=De.initiatorType;rt&&Hh(ct)&&(De=De.responseEnd,ve+=rt*(De<$e?1:($e-Je)/(De-Je)))}if(--ne,Z+=8*(ue+ve)/(oe.duration/1e3),G++,10<G)break}}if(0<G)return Z/G/1e6}return navigator.connection&&(G=navigator.connection.downlink,typeof G=="number")?G:5}var Ql=null,Jl=null;function Hs(G){return G.nodeType===9?G:G.ownerDocument}function Uh(G){switch(G){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gh(G,Z){if(G===0)switch(Z){case"svg":return 1;case"math":return 2;default:return 0}return G===1&&Z==="foreignObject"?0:G}function ec(G,Z){return G==="textarea"||G==="noscript"||typeof Z.children=="string"||typeof Z.children=="number"||typeof Z.children=="bigint"||typeof Z.dangerouslySetInnerHTML=="object"&&Z.dangerouslySetInnerHTML!==null&&Z.dangerouslySetInnerHTML.__html!=null}var tc=null;function dp(){var G=window.event;return G&&G.type==="popstate"?G===tc?!1:(tc=G,!0):(tc=null,!1)}var Vh=typeof setTimeout=="function"?setTimeout:void 0,mp=typeof clearTimeout=="function"?clearTimeout:void 0,qh=typeof Promise=="function"?Promise:void 0,pp=typeof queueMicrotask=="function"?queueMicrotask:typeof qh<"u"?function(G){return qh.resolve(null).then(G).catch(gp)}:Vh;function gp(G){setTimeout(function(){throw G})}function Lr(G){return G==="head"}function Zh(G,Z){var J=Z,ne=0;do{var oe=J.nextSibling;if(G.removeChild(J),oe&&oe.nodeType===8)if(J=oe.data,J==="/$"||J==="/&"){if(ne===0){G.removeChild(oe),qi(Z);return}ne--}else if(J==="$"||J==="$?"||J==="$~"||J==="$!"||J==="&")ne++;else if(J==="html")Ia(G.ownerDocument.documentElement);else if(J==="head"){J=G.ownerDocument.head,Ia(J);for(var ue=J.firstChild;ue;){var ve=ue.nextSibling,$e=ue.nodeName;ue[Xi]||$e==="SCRIPT"||$e==="STYLE"||$e==="LINK"&&ue.rel.toLowerCase()==="stylesheet"||J.removeChild(ue),ue=ve}}else J==="body"&&Ia(G.ownerDocument.body);J=oe}while(J);qi(Z)}function Wh(G,Z){var J=G;G=0;do{var ne=J.nextSibling;if(J.nodeType===1?Z?(J._stashedDisplay=J.style.display,J.style.display="none"):(J.style.display=J._stashedDisplay||"",J.getAttribute("style")===""&&J.removeAttribute("style")):J.nodeType===3&&(Z?(J._stashedText=J.nodeValue,J.nodeValue=""):J.nodeValue=J._stashedText||""),ne&&ne.nodeType===8)if(J=ne.data,J==="/$"){if(G===0)break;G--}else J!=="$"&&J!=="$?"&&J!=="$~"&&J!=="$!"||G++;J=ne}while(J)}function nc(G){var Z=G.firstChild;for(Z&&Z.nodeType===10&&(Z=Z.nextSibling);Z;){var J=Z;switch(Z=Z.nextSibling,J.nodeName){case"HTML":case"HEAD":case"BODY":nc(J),so(J);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(J.rel.toLowerCase()==="stylesheet")continue}G.removeChild(J)}}function _p(G,Z,J,ne){for(;G.nodeType===1;){var oe=J;if(G.nodeName.toLowerCase()!==Z.toLowerCase()){if(!ne&&(G.nodeName!=="INPUT"||G.type!=="hidden"))break}else if(ne){if(!G[Xi])switch(Z){case"meta":if(!G.hasAttribute("itemprop"))break;return G;case"link":if(ue=G.getAttribute("rel"),ue==="stylesheet"&&G.hasAttribute("data-precedence"))break;if(ue!==oe.rel||G.getAttribute("href")!==(oe.href==null||oe.href===""?null:oe.href)||G.getAttribute("crossorigin")!==(oe.crossOrigin==null?null:oe.crossOrigin)||G.getAttribute("title")!==(oe.title==null?null:oe.title))break;return G;case"style":if(G.hasAttribute("data-precedence"))break;return G;case"script":if(ue=G.getAttribute("src"),(ue!==(oe.src==null?null:oe.src)||G.getAttribute("type")!==(oe.type==null?null:oe.type)||G.getAttribute("crossorigin")!==(oe.crossOrigin==null?null:oe.crossOrigin))&&ue&&G.hasAttribute("async")&&!G.hasAttribute("itemprop"))break;return G;default:return G}}else if(Z==="input"&&G.type==="hidden"){var ue=oe.name==null?null:""+oe.name;if(oe.type==="hidden"&&G.getAttribute("name")===ue)return G}else return G;if(G=Ln(G.nextSibling),G===null)break}return null}function yp(G,Z,J){if(Z==="")return null;for(;G.nodeType!==3;)if((G.nodeType!==1||G.nodeName!=="INPUT"||G.type!=="hidden")&&!J||(G=Ln(G.nextSibling),G===null))return null;return G}function Yh(G,Z){for(;G.nodeType!==8;)if((G.nodeType!==1||G.nodeName!=="INPUT"||G.type!=="hidden")&&!Z||(G=Ln(G.nextSibling),G===null))return null;return G}function rc(G){return G.data==="$?"||G.data==="$~"}function ic(G){return G.data==="$!"||G.data==="$?"&&G.ownerDocument.readyState!=="loading"}function bp(G,Z){var J=G.ownerDocument;if(G.data==="$~")G._reactRetry=Z;else if(G.data!=="$?"||J.readyState!=="loading")Z();else{var ne=function(){Z(),J.removeEventListener("DOMContentLoaded",ne)};J.addEventListener("DOMContentLoaded",ne),G._reactRetry=ne}}function Ln(G){for(;G!=null;G=G.nextSibling){var Z=G.nodeType;if(Z===1||Z===3)break;if(Z===8){if(Z=G.data,Z==="$"||Z==="$!"||Z==="$?"||Z==="$~"||Z==="&"||Z==="F!"||Z==="F")break;if(Z==="/$"||Z==="/&")return null}}return G}var ac=null;function Xh(G){G=G.nextSibling;for(var Z=0;G;){if(G.nodeType===8){var J=G.data;if(J==="/$"||J==="/&"){if(Z===0)return Ln(G.nextSibling);Z--}else J!=="$"&&J!=="$!"&&J!=="$?"&&J!=="$~"&&J!=="&"||Z++}G=G.nextSibling}return null}function Kh(G){G=G.previousSibling;for(var Z=0;G;){if(G.nodeType===8){var J=G.data;if(J==="$"||J==="$!"||J==="$?"||J==="$~"||J==="&"){if(Z===0)return G;Z--}else J!=="/$"&&J!=="/&"||Z++}G=G.previousSibling}return null}function Qh(G,Z,J){switch(Z=Hs(J),G){case"html":if(G=Z.documentElement,!G)throw Error(I(452));return G;case"head":if(G=Z.head,!G)throw Error(I(453));return G;case"body":if(G=Z.body,!G)throw Error(I(454));return G;default:throw Error(I(451))}}function Ia(G){for(var Z=G.attributes;Z.length;)G.removeAttributeNode(Z[0]);so(G)}var Bn=new Map,Jh=new Set;function Us(G){return typeof G.getRootNode=="function"?G.getRootNode():G.nodeType===9?G:G.ownerDocument}var gr=Re.d;Re.d={f:xp,r:vp,D:Sp,C:wp,L:Ep,m:Cp,X:Ap,S:Tp,M:Rp};function xp(){var G=gr.f(),Z=Is();return G||Z}function vp(G){var Z=ci(G);Z!==null&&Z.tag===5&&Z.type==="form"?pf(Z):gr.r(G)}var Ui=typeof document>"u"?null:document;function ed(G,Z,J){var ne=Ui;if(ne&&typeof Z=="string"&&Z){var oe=$n(Z);oe='link[rel="'+G+'"][href="'+oe+'"]',typeof J=="string"&&(oe+='[crossorigin="'+J+'"]'),Jh.has(oe)||(Jh.add(oe),G={rel:G,crossOrigin:J,href:Z},ne.querySelector(oe)===null&&(Z=ne.createElement("link"),fn(Z,"link",G),rn(Z),ne.head.appendChild(Z)))}}function Sp(G){gr.D(G),ed("dns-prefetch",G,null)}function wp(G,Z){gr.C(G,Z),ed("preconnect",G,Z)}function Ep(G,Z,J){gr.L(G,Z,J);var ne=Ui;if(ne&&G&&Z){var oe='link[rel="preload"][as="'+$n(Z)+'"]';Z==="image"&&J&&J.imageSrcSet?(oe+='[imagesrcset="'+$n(J.imageSrcSet)+'"]',typeof J.imageSizes=="string"&&(oe+='[imagesizes="'+$n(J.imageSizes)+'"]')):oe+='[href="'+$n(G)+'"]';var ue=oe;switch(Z){case"style":ue=Gi(G);break;case"script":ue=Vi(G)}Bn.has(ue)||(G=W({rel:"preload",href:Z==="image"&&J&&J.imageSrcSet?void 0:G,as:Z},J),Bn.set(ue,G),ne.querySelector(oe)!==null||Z==="style"&&ne.querySelector(Oa(ue))||Z==="script"&&ne.querySelector(za(ue))||(Z=ne.createElement("link"),fn(Z,"link",G),rn(Z),ne.head.appendChild(Z)))}}function Cp(G,Z){gr.m(G,Z);var J=Ui;if(J&&G){var ne=Z&&typeof Z.as=="string"?Z.as:"script",oe='link[rel="modulepreload"][as="'+$n(ne)+'"][href="'+$n(G)+'"]',ue=oe;switch(ne){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":ue=Vi(G)}if(!Bn.has(ue)&&(G=W({rel:"modulepreload",href:G},Z),Bn.set(ue,G),J.querySelector(oe)===null)){switch(ne){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(J.querySelector(za(ue)))return}ne=J.createElement("link"),fn(ne,"link",G),rn(ne),J.head.appendChild(ne)}}}function Tp(G,Z,J){gr.S(G,Z,J);var ne=Ui;if(ne&&G){var oe=ui(ne).hoistableStyles,ue=Gi(G);Z=Z||"default";var ve=oe.get(ue);if(!ve){var $e={loading:0,preload:null};if(ve=ne.querySelector(Oa(ue)))$e.loading=5;else{G=W({rel:"stylesheet",href:G,"data-precedence":Z},J),(J=Bn.get(ue))&&sc(G,J);var De=ve=ne.createElement("link");rn(De),fn(De,"link",G),De._p=new Promise(function(Je,rt){De.onload=Je,De.onerror=rt}),De.addEventListener("load",function(){$e.loading|=1}),De.addEventListener("error",function(){$e.loading|=2}),$e.loading|=4,Gs(ve,Z,ne)}ve={type:"stylesheet",instance:ve,count:1,state:$e},oe.set(ue,ve)}}}function Ap(G,Z){gr.X(G,Z);var J=Ui;if(J&&G){var ne=ui(J).hoistableScripts,oe=Vi(G),ue=ne.get(oe);ue||(ue=J.querySelector(za(oe)),ue||(G=W({src:G,async:!0},Z),(Z=Bn.get(oe))&&oc(G,Z),ue=J.createElement("script"),rn(ue),fn(ue,"link",G),J.head.appendChild(ue)),ue={type:"script",instance:ue,count:1,state:null},ne.set(oe,ue))}}function Rp(G,Z){gr.M(G,Z);var J=Ui;if(J&&G){var ne=ui(J).hoistableScripts,oe=Vi(G),ue=ne.get(oe);ue||(ue=J.querySelector(za(oe)),ue||(G=W({src:G,async:!0,type:"module"},Z),(Z=Bn.get(oe))&&oc(G,Z),ue=J.createElement("script"),rn(ue),fn(ue,"link",G),J.head.appendChild(ue)),ue={type:"script",instance:ue,count:1,state:null},ne.set(oe,ue))}}function td(G,Z,J,ne){var oe=(oe=Ke.current)?Us(oe):null;if(!oe)throw Error(I(446));switch(G){case"meta":case"title":return null;case"style":return typeof J.precedence=="string"&&typeof J.href=="string"?(Z=Gi(J.href),J=ui(oe).hoistableStyles,ne=J.get(Z),ne||(ne={type:"style",instance:null,count:0,state:null},J.set(Z,ne)),ne):{type:"void",instance:null,count:0,state:null};case"link":if(J.rel==="stylesheet"&&typeof J.href=="string"&&typeof J.precedence=="string"){G=Gi(J.href);var ue=ui(oe).hoistableStyles,ve=ue.get(G);if(ve||(oe=oe.ownerDocument||oe,ve={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},ue.set(G,ve),(ue=oe.querySelector(Oa(G)))&&!ue._p&&(ve.instance=ue,ve.state.loading=5),Bn.has(G)||(J={rel:"preload",as:"style",href:J.href,crossOrigin:J.crossOrigin,integrity:J.integrity,media:J.media,hrefLang:J.hrefLang,referrerPolicy:J.referrerPolicy},Bn.set(G,J),ue||kp(oe,G,J,ve.state))),Z&&ne===null)throw Error(I(528,""));return ve}if(Z&&ne!==null)throw Error(I(529,""));return null;case"script":return Z=J.async,J=J.src,typeof J=="string"&&Z&&typeof Z!="function"&&typeof Z!="symbol"?(Z=Vi(J),J=ui(oe).hoistableScripts,ne=J.get(Z),ne||(ne={type:"script",instance:null,count:0,state:null},J.set(Z,ne)),ne):{type:"void",instance:null,count:0,state:null};default:throw Error(I(444,G))}}function Gi(G){return'href="'+$n(G)+'"'}function Oa(G){return'link[rel="stylesheet"]['+G+"]"}function nd(G){return W({},G,{"data-precedence":G.precedence,precedence:null})}function kp(G,Z,J,ne){G.querySelector('link[rel="preload"][as="style"]['+Z+"]")?ne.loading=1:(Z=G.createElement("link"),ne.preload=Z,Z.addEventListener("load",function(){return ne.loading|=1}),Z.addEventListener("error",function(){return ne.loading|=2}),fn(Z,"link",J),rn(Z),G.head.appendChild(Z))}function Vi(G){return'[src="'+$n(G)+'"]'}function za(G){return"script[async]"+G}function rd(G,Z,J){if(Z.count++,Z.instance===null)switch(Z.type){case"style":var ne=G.querySelector('style[data-href~="'+$n(J.href)+'"]');if(ne)return Z.instance=ne,rn(ne),ne;var oe=W({},J,{"data-href":J.href,"data-precedence":J.precedence,href:null,precedence:null});return ne=(G.ownerDocument||G).createElement("style"),rn(ne),fn(ne,"style",oe),Gs(ne,J.precedence,G),Z.instance=ne;case"stylesheet":oe=Gi(J.href);var ue=G.querySelector(Oa(oe));if(ue)return Z.state.loading|=4,Z.instance=ue,rn(ue),ue;ne=nd(J),(oe=Bn.get(oe))&&sc(ne,oe),ue=(G.ownerDocument||G).createElement("link"),rn(ue);var ve=ue;return ve._p=new Promise(function($e,De){ve.onload=$e,ve.onerror=De}),fn(ue,"link",ne),Z.state.loading|=4,Gs(ue,J.precedence,G),Z.instance=ue;case"script":return ue=Vi(J.src),(oe=G.querySelector(za(ue)))?(Z.instance=oe,rn(oe),oe):(ne=J,(oe=Bn.get(ue))&&(ne=W({},J),oc(ne,oe)),G=G.ownerDocument||G,oe=G.createElement("script"),rn(oe),fn(oe,"link",ne),G.head.appendChild(oe),Z.instance=oe);case"void":return null;default:throw Error(I(443,Z.type))}else Z.type==="stylesheet"&&(Z.state.loading&4)===0&&(ne=Z.instance,Z.state.loading|=4,Gs(ne,J.precedence,G));return Z.instance}function Gs(G,Z,J){for(var ne=J.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),oe=ne.length?ne[ne.length-1]:null,ue=oe,ve=0;ve<ne.length;ve++){var $e=ne[ve];if($e.dataset.precedence===Z)ue=$e;else if(ue!==oe)break}ue?ue.parentNode.insertBefore(G,ue.nextSibling):(Z=J.nodeType===9?J.head:J,Z.insertBefore(G,Z.firstChild))}function sc(G,Z){G.crossOrigin==null&&(G.crossOrigin=Z.crossOrigin),G.referrerPolicy==null&&(G.referrerPolicy=Z.referrerPolicy),G.title==null&&(G.title=Z.title)}function oc(G,Z){G.crossOrigin==null&&(G.crossOrigin=Z.crossOrigin),G.referrerPolicy==null&&(G.referrerPolicy=Z.referrerPolicy),G.integrity==null&&(G.integrity=Z.integrity)}var Vs=null;function ad(G,Z,J){if(Vs===null){var ne=new Map,oe=Vs=new Map;oe.set(J,ne)}else oe=Vs,ne=oe.get(J),ne||(ne=new Map,oe.set(J,ne));if(ne.has(G))return ne;for(ne.set(G,null),J=J.getElementsByTagName(G),oe=0;oe<J.length;oe++){var ue=J[oe];if(!(ue[Xi]||ue[sn]||G==="link"&&ue.getAttribute("rel")==="stylesheet")&&ue.namespaceURI!=="http://www.w3.org/2000/svg"){var ve=ue.getAttribute(Z)||"";ve=G+ve;var $e=ne.get(ve);$e?$e.push(ue):ne.set(ve,[ue])}}return ne}function sd(G,Z,J){G=G.ownerDocument||G,G.head.insertBefore(J,Z==="title"?G.querySelector("head > title"):null)}function Mp(G,Z,J){if(J===1||Z.itemProp!=null)return!1;switch(G){case"meta":case"title":return!0;case"style":if(typeof Z.precedence!="string"||typeof Z.href!="string"||Z.href==="")break;return!0;case"link":if(typeof Z.rel!="string"||typeof Z.href!="string"||Z.href===""||Z.onLoad||Z.onError)break;return Z.rel==="stylesheet"?(G=Z.disabled,typeof Z.precedence=="string"&&G==null):!0;case"script":if(Z.async&&typeof Z.async!="function"&&typeof Z.async!="symbol"&&!Z.onLoad&&!Z.onError&&Z.src&&typeof Z.src=="string")return!0}return!1}function od(G){return!(G.type==="stylesheet"&&(G.state.loading&3)===0)}function $p(G,Z,J,ne){if(J.type==="stylesheet"&&(typeof ne.media!="string"||matchMedia(ne.media).matches!==!1)&&(J.state.loading&4)===0){if(J.instance===null){var oe=Gi(ne.href),ue=Z.querySelector(Oa(oe));if(ue){Z=ue._p,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"&&(G.count++,G=qs.bind(G),Z.then(G,G)),J.state.loading|=4,J.instance=ue,rn(ue);return}ue=Z.ownerDocument||Z,ne=nd(ne),(oe=Bn.get(oe))&&sc(ne,oe),ue=ue.createElement("link"),rn(ue);var ve=ue;ve._p=new Promise(function($e,De){ve.onload=$e,ve.onerror=De}),fn(ue,"link",ne),J.instance=ue}G.stylesheets===null&&(G.stylesheets=new Map),G.stylesheets.set(J,Z),(Z=J.state.preload)&&(J.state.loading&3)===0&&(G.count++,J=qs.bind(G),Z.addEventListener("load",J),Z.addEventListener("error",J))}}var lc=0;function Np(G,Z){return G.stylesheets&&G.count===0&&Ws(G,G.stylesheets),0<G.count||0<G.imgCount?function(J){var ne=setTimeout(function(){if(G.stylesheets&&Ws(G,G.stylesheets),G.unsuspend){var ue=G.unsuspend;G.unsuspend=null,ue()}},6e4+Z);0<G.imgBytes&&lc===0&&(lc=62500*hp());var oe=setTimeout(function(){if(G.waitingForImages=!1,G.count===0&&(G.stylesheets&&Ws(G,G.stylesheets),G.unsuspend)){var ue=G.unsuspend;G.unsuspend=null,ue()}},(G.imgBytes>lc?50:800)+Z);return G.unsuspend=J,function(){G.unsuspend=null,clearTimeout(ne),clearTimeout(oe)}}:null}function qs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ws(this,this.stylesheets);else if(this.unsuspend){var G=this.unsuspend;this.unsuspend=null,G()}}}var Zs=null;function Ws(G,Z){G.stylesheets=null,G.unsuspend!==null&&(G.count++,Zs=new Map,Z.forEach(Pp,G),Zs=null,qs.call(G))}function Pp(G,Z){if(!(Z.state.loading&4)){var J=Zs.get(G);if(J)var ne=J.get(null);else{J=new Map,Zs.set(G,J);for(var oe=G.querySelectorAll("link[data-precedence],style[data-precedence]"),ue=0;ue<oe.length;ue++){var ve=oe[ue];(ve.nodeName==="LINK"||ve.getAttribute("media")!=="not all")&&(J.set(ve.dataset.precedence,ve),ne=ve)}ne&&J.set(null,ne)}oe=Z.instance,ve=oe.getAttribute("data-precedence"),ue=J.get(ve)||ne,ue===ne&&J.set(null,oe),J.set(ve,oe),this.count++,ne=qs.bind(this),oe.addEventListener("load",ne),oe.addEventListener("error",ne),ue?ue.parentNode.insertBefore(oe,ue.nextSibling):(G=G.nodeType===9?G.head:G,G.insertBefore(oe,G.firstChild)),Z.state.loading|=4}}var Da={$$typeof:le,Provider:null,Consumer:null,_currentValue:Pe,_currentValue2:Pe,_threadCount:0};function Ip(G,Z,J,ne,oe,ue,ve,$e,De){this.tag=1,this.containerInfo=G,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=no(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.hiddenUpdates=no(null),this.identifierPrefix=ne,this.onUncaughtError=oe,this.onCaughtError=ue,this.onRecoverableError=ve,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=De,this.incompleteTransitions=new Map}function ld(G,Z,J,ne,oe,ue,ve,$e,De,Je,rt,ct){return G=new Ip(G,Z,J,ve,De,Je,rt,ct,$e),Z=1,ue===!0&&(Z|=24),ue=vn(3,null,null,Z),G.current=ue,ue.stateNode=G,Z=Fo(),Z.refCount++,G.pooledCache=Z,Z.refCount++,ue.memoizedState={element:ne,isDehydrated:J,cache:Z},Vo(ue),G}function cd(G){return G?(G=Si,G):Si}function ud(G,Z,J,ne,oe,ue){oe=cd(oe),ne.context===null?ne.context=oe:ne.pendingContext=oe,ne=Tr(Z),ne.payload={element:J},ue=ue===void 0?null:ue,ue!==null&&(ne.callback=ue),J=Ar(G,ne,Z),J!==null&&(bn(J,G,Z),da(J,G,Z))}function fd(G,Z){if(G=G.memoizedState,G!==null&&G.dehydrated!==null){var J=G.retryLane;G.retryLane=J!==0&&J<Z?J:Z}}function cc(G,Z){fd(G,Z),(G=G.alternate)&&fd(G,Z)}function hd(G){if(G.tag===13||G.tag===31){var Z=Wr(G,67108864);Z!==null&&bn(Z,G,67108864),cc(G,67108864)}}function dd(G){if(G.tag===13||G.tag===31){var Z=Tn();Z=ro(Z);var J=Wr(G,Z);J!==null&&bn(J,G,Z),cc(G,Z)}}var Ys=!0;function Op(G,Z,J,ne){var oe=Te.T;Te.T=null;var ue=Re.p;try{Re.p=2,uc(G,Z,J,ne)}finally{Re.p=ue,Te.T=oe}}function zp(G,Z,J,ne){var oe=Te.T;Te.T=null;var ue=Re.p;try{Re.p=8,uc(G,Z,J,ne)}finally{Re.p=ue,Te.T=oe}}function uc(G,Z,J,ne){if(Ys){var oe=fc(ne);if(oe===null)Xl(G,Z,ne,Xs,J),pd(G,ne);else if(Lp(oe,G,Z,J,ne))ne.stopPropagation();else if(pd(G,ne),Z&4&&-1<Dp.indexOf(G)){for(;oe!==null;){var ue=ci(oe);if(ue!==null)switch(ue.tag){case 3:if(ue=ue.stateNode,ue.current.memoizedState.isDehydrated){var ve=kn(ue.pendingLanes);if(ve!==0){var $e=ue;for($e.pendingLanes|=2,$e.entangledLanes|=2;ve;){var De=1<<31-xt(ve);$e.entanglements[1]|=De,ve&=~De}Kn(ue),(zt&6)===0&&(Ns=ut()+500,$a(0))}}break;case 31:case 13:$e=Wr(ue,2),$e!==null&&bn($e,ue,2),Is(),cc(ue,2)}if(ue=fc(ne),ue===null&&Xl(G,Z,ne,Xs,J),ue===oe)break;oe=ue}oe!==null&&ne.stopPropagation()}else Xl(G,Z,ne,null,J)}}function fc(G){return G=ho(G),hc(G)}var Xs=null;function hc(G){if(Xs=null,G=li(G),G!==null){var Z=z(G);if(Z===null)G=null;else{var J=Z.tag;if(J===13){if(G=L(Z),G!==null)return G;G=null}else if(J===31){if(G=F(Z),G!==null)return G;G=null}else if(J===3){if(Z.stateNode.current.memoizedState.isDehydrated)return Z.tag===3?Z.stateNode.containerInfo:null;G=null}else Z!==G&&(G=null)}}return Xs=G,null}function md(G){switch(G){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ft()){case Oe:return 2;case tt:return 8;case st:case mt:return 32;case gt:return 268435456;default:return 32}default:return 32}}var dc=!1,Br=null,jr=null,Fr=null,La=new Map,Ba=new Map,Hr=[],Dp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pd(G,Z){switch(G){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":La.delete(Z.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(Z.pointerId)}}function ja(G,Z,J,ne,oe,ue){return G===null||G.nativeEvent!==ue?(G={blockedOn:Z,domEventName:J,eventSystemFlags:ne,nativeEvent:ue,targetContainers:[oe]},Z!==null&&(Z=ci(Z),Z!==null&&hd(Z)),G):(G.eventSystemFlags|=ne,Z=G.targetContainers,oe!==null&&Z.indexOf(oe)===-1&&Z.push(oe),G)}function Lp(G,Z,J,ne,oe){switch(Z){case"focusin":return Br=ja(Br,G,Z,J,ne,oe),!0;case"dragenter":return jr=ja(jr,G,Z,J,ne,oe),!0;case"mouseover":return Fr=ja(Fr,G,Z,J,ne,oe),!0;case"pointerover":var ue=oe.pointerId;return La.set(ue,ja(La.get(ue)||null,G,Z,J,ne,oe)),!0;case"gotpointercapture":return ue=oe.pointerId,Ba.set(ue,ja(Ba.get(ue)||null,G,Z,J,ne,oe)),!0}return!1}function gd(G){var Z=li(G.target);if(Z!==null){var J=z(Z);if(J!==null){if(Z=J.tag,Z===13){if(Z=L(J),Z!==null){G.blockedOn=Z,Cc(G.priority,function(){dd(J)});return}}else if(Z===31){if(Z=F(J),Z!==null){G.blockedOn=Z,Cc(G.priority,function(){dd(J)});return}}else if(Z===3&&J.stateNode.current.memoizedState.isDehydrated){G.blockedOn=J.tag===3?J.stateNode.containerInfo:null;return}}}G.blockedOn=null}function Ks(G){if(G.blockedOn!==null)return!1;for(var Z=G.targetContainers;0<Z.length;){var J=fc(G.nativeEvent);if(J===null){J=G.nativeEvent;var ne=new J.constructor(J.type,J);fo=ne,J.target.dispatchEvent(ne),fo=null}else return Z=ci(J),Z!==null&&hd(Z),G.blockedOn=J,!1;Z.shift()}return!0}function _d(G,Z,J){Ks(G)&&J.delete(Z)}function Bp(){dc=!1,Br!==null&&Ks(Br)&&(Br=null),jr!==null&&Ks(jr)&&(jr=null),Fr!==null&&Ks(Fr)&&(Fr=null),La.forEach(_d),Ba.forEach(_d)}function Qs(G,Z){G.blockedOn===Z&&(G.blockedOn=null,dc||(dc=!0,_.unstable_scheduleCallback(_.unstable_NormalPriority,Bp)))}var Js=null;function yd(G){Js!==G&&(Js=G,_.unstable_scheduleCallback(_.unstable_NormalPriority,function(){Js===G&&(Js=null);for(var Z=0;Z<G.length;Z+=3){var J=G[Z],ne=G[Z+1],oe=G[Z+2];if(typeof ne!="function"){if(hc(ne||J)===null)continue;break}var ue=ci(J);ue!==null&&(G.splice(Z,3),Z-=3,fl(ue,{pending:!0,data:oe,method:J.method,action:ne},ne,oe))}}))}function qi(G){function Z(De){return Qs(De,G)}Br!==null&&Qs(Br,G),jr!==null&&Qs(jr,G),Fr!==null&&Qs(Fr,G),La.forEach(Z),Ba.forEach(Z);for(var J=0;J<Hr.length;J++){var ne=Hr[J];ne.blockedOn===G&&(ne.blockedOn=null)}for(;0<Hr.length&&(J=Hr[0],J.blockedOn===null);)gd(J),J.blockedOn===null&&Hr.shift();if(J=(G.ownerDocument||G).$$reactFormReplay,J!=null)for(ne=0;ne<J.length;ne+=3){var oe=J[ne],ue=J[ne+1],ve=oe[dn]||null;if(typeof ue=="function")ve||yd(J);else if(ve){var $e=null;if(ue&&ue.hasAttribute("formAction")){if(oe=ue,ve=ue[dn]||null)$e=ve.formAction;else if(hc(oe)!==null)continue}else $e=ve.action;typeof $e=="function"?J[ne+1]=$e:(J.splice(ne,3),ne-=3),yd(J)}}}function bd(){function G(ue){ue.canIntercept&&ue.info==="react-transition"&&ue.intercept({handler:function(){return new Promise(function(ve){return oe=ve})},focusReset:"manual",scroll:"manual"})}function Z(){oe!==null&&(oe(),oe=null),ne||setTimeout(J,20)}function J(){if(!ne&&!navigation.transition){var ue=navigation.currentEntry;ue&&ue.url!=null&&navigation.navigate(ue.url,{state:ue.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var ne=!1,oe=null;return navigation.addEventListener("navigate",G),navigation.addEventListener("navigatesuccess",Z),navigation.addEventListener("navigateerror",Z),setTimeout(J,100),function(){ne=!0,navigation.removeEventListener("navigate",G),navigation.removeEventListener("navigatesuccess",Z),navigation.removeEventListener("navigateerror",Z),oe!==null&&(oe(),oe=null)}}}function mc(G){this._internalRoot=G}eo.prototype.render=mc.prototype.render=function(G){var Z=this._internalRoot;if(Z===null)throw Error(I(409));var J=Z.current,ne=Tn();ud(J,ne,G,Z,null,null)},eo.prototype.unmount=mc.prototype.unmount=function(){var G=this._internalRoot;if(G!==null){this._internalRoot=null;var Z=G.containerInfo;ud(G.current,2,null,G,null,null),Is(),Z[oi]=null}};function eo(G){this._internalRoot=G}eo.prototype.unstable_scheduleHydration=function(G){if(G){var Z=Ec();G={blockedOn:null,target:G,priority:Z};for(var J=0;J<Hr.length&&Z!==0&&Z<Hr[J].priority;J++);Hr.splice(J,0,G),J===0&&gd(G)}};var xd=R.version;if(xd!=="19.2.3")throw Error(I(527,xd,"19.2.3"));Re.findDOMNode=function(G){var Z=G._reactInternals;if(Z===void 0)throw typeof G.render=="function"?Error(I(188)):(G=Object.keys(G).join(","),Error(I(268,G)));return G=V(Z),G=G!==null?q(G):null,G=G===null?null:G.stateNode,G};var jp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{_t=to.inject(jp),vt=to}catch{}}return reactDomClient_production.createRoot=function(G,Z){if(!O(G))throw Error(I(299));var J=!1,ne="",oe=Cf,ue=Tf,ve=Af;return Z!=null&&(Z.unstable_strictMode===!0&&(J=!0),Z.identifierPrefix!==void 0&&(ne=Z.identifierPrefix),Z.onUncaughtError!==void 0&&(oe=Z.onUncaughtError),Z.onCaughtError!==void 0&&(ue=Z.onCaughtError),Z.onRecoverableError!==void 0&&(ve=Z.onRecoverableError)),Z=ld(G,1,!1,null,null,J,ne,null,oe,ue,ve,bd),G[oi]=Z.current,Yl(G),new mc(Z)},reactDomClient_production.hydrateRoot=function(G,Z,J){if(!O(G))throw Error(I(299));var ne=!1,oe="",ue=Cf,ve=Tf,$e=Af,De=null;return J!=null&&(J.unstable_strictMode===!0&&(ne=!0),J.identifierPrefix!==void 0&&(oe=J.identifierPrefix),J.onUncaughtError!==void 0&&(ue=J.onUncaughtError),J.onCaughtError!==void 0&&(ve=J.onCaughtError),J.onRecoverableError!==void 0&&($e=J.onRecoverableError),J.formState!==void 0&&(De=J.formState)),Z=ld(G,1,!0,Z,J??null,ne,oe,De,ue,ve,$e,bd),Z.context=cd(null),J=Z.current,ne=Tn(),ne=ro(ne),oe=Tr(ne),oe.callback=null,Ar(J,oe,ne),J=ne,Z.current.lanes=J,Yi(Z,J),Kn(Z),G[oi]=Z.current,Yl(G),new eo(Z)},reactDomClient_production.version="19.2.3",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function _(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(R){console.error(R)}}return _(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();function parseVersion(_){const R=_.split(".").map(Number);return{major:R[0]||0,minor:R[1]||0,patch:R[2]||0}}function compareVersions(_,R){return _.major!==R.major?_.major-R.major:_.minor!==R.minor?_.minor-R.minor:_.patch-R.patch}function isCompatible(_,R){return _.major===R.major&&compareVersions(_,R)>=0}function formatVersion(_){return`${_.major}.${_.minor}.${_.patch}`}class ModelRegistry{models=new Map;defaultModelName=null;constructor(){console.log("[Registry] Initializing")}register(R){const P=parseVersion(R.version),I=formatVersion(P),O=R;if(!this.models.has(R.id))this.models.set(R.id,{latestModel:O,versions:new Map([[I,O]])}),console.log(`[Registry] Registered new model: ${R.id} (v${I})`);else{const z=this.models.get(R.id);z.versions.set(I,O);const L=parseVersion(z.latestModel.version);(P.major>L.major||P.major===L.major&&P.minor>L.minor||P.major===L.major&&P.minor===L.minor&&P.patch>L.patch)&&(z.latestModel=O,console.log(`[Registry] Updated model ${R.id} to version ${I}`))}}setDefault(R){if(!this.models.has(R))throw new Error(`Cannot set default: model "${R}" is not registered`);this.defaultModelName=R}get(R){return this.models.get(R)?.latestModel}getVersion(R,P){return this.models.get(R)?.versions.get(P)}getModelNames(){return Array.from(this.models.keys())}getVersions(R){const P=this.models.get(R);return P?Array.from(P.versions.keys()):[]}getDefault(){return this.defaultModelName?this.get(this.defaultModelName):void 0}getDefaultName(){return this.defaultModelName}findCompatibleModel(R){const P=this.models.get(R.model);if(!P)return;const I=parseVersion(R.version);let O,z;for(const[L,F]of P.versions){const U=parseVersion(L);isCompatible(U,I)&&(!z||U.minor>z.minor||U.minor===z.minor&&U.patch>z.patch)&&(O=F,z=U)}return O}has(R){return this.models.has(R)}getAll(){return Array.from(this.models.values()).map(R=>R.latestModel)}}const modelRegistry=new ModelRegistry;class Vector2{constructor(R=0,P=0){this.x=R,this.y=P}static from(R){return new Vector2(R.x,R.y)}static zero(){return new Vector2(0,0)}static fromAngle(R){return new Vector2(Math.cos(R),Math.sin(R))}add(R){return new Vector2(this.x+R.x,this.y+R.y)}sub(R){return new Vector2(this.x-R.x,this.y-R.y)}scale(R){return new Vector2(this.x*R,this.y*R)}mult(R){return this.scale(R)}div(R){return R===0?(console.warn("Vector2.div: division by zero"),this):new Vector2(this.x/R,this.y/R)}negate(){return new Vector2(-this.x,-this.y)}mag(){return Math.sqrt(this.x*this.x+this.y*this.y)}magSq(){return this.x*this.x+this.y*this.y}normalize(){const R=this.mag();return R===0?this:new Vector2(this.x/R,this.y/R)}setMag(R){return this.normalize().scale(R)}limit(R){return this.magSq()>R*R?this.normalize().scale(R):this}dot(R){return this.x*R.x+this.y*R.y}cross(R){return this.x*R.y-this.y*R.x}dist(R){const P=this.x-R.x,I=this.y-R.y;return Math.sqrt(P*P+I*I)}distSq(R){const P=this.x-R.x,I=this.y-R.y;return P*P+I*I}heading(){return Math.atan2(this.y,this.x)}rotate(R){const P=Math.cos(R),I=Math.sin(R);return new Vector2(this.x*P-this.y*I,this.x*I+this.y*P)}lerp(R,P){return new Vector2(this.x+(R.x-this.x)*P,this.y+(R.y-this.y)*P)}equals(R){return this.x===R.x&&this.y===R.y}approxEquals(R,P=1e-10){return Math.abs(this.x-R.x)<P&&Math.abs(this.y-R.y)<P}copy(){return new Vector2(this.x,this.y)}toObject(){return{x:this.x,y:this.y}}toString(){return`Vector2(${this.x}, ${this.y})`}toArray(){return[this.x,this.y]}}var alea$1={exports:{}},alea=alea$1.exports,hasRequiredAlea;function requireAlea(){return hasRequiredAlea||(hasRequiredAlea=1,(function(_){(function(R,P,I){function O(U){var V=this,q=F();V.next=function(){var W=2091639*V.s0+V.c*23283064365386963e-26;return V.s0=V.s1,V.s1=V.s2,V.s2=W-(V.c=W|0)},V.c=1,V.s0=q(" "),V.s1=q(" "),V.s2=q(" "),V.s0-=q(U),V.s0<0&&(V.s0+=1),V.s1-=q(U),V.s1<0&&(V.s1+=1),V.s2-=q(U),V.s2<0&&(V.s2+=1),q=null}function z(U,V){return V.c=U.c,V.s0=U.s0,V.s1=U.s1,V.s2=U.s2,V}function L(U,V){var q=new O(U),W=V&&V.state,Y=q.next;return Y.int32=function(){return q.next()*4294967296|0},Y.double=function(){return Y()+(Y()*2097152|0)*11102230246251565e-32},Y.quick=Y,W&&(typeof W=="object"&&z(W,q),Y.state=function(){return z(q,{})}),Y}function F(){var U=4022871197,V=function(q){q=String(q);for(var W=0;W<q.length;W++){U+=q.charCodeAt(W);var Y=.02519603282416938*U;U=Y>>>0,Y-=U,Y*=U,U=Y>>>0,Y-=U,U+=Y*4294967296}return(U>>>0)*23283064365386963e-26};return V}P&&P.exports?P.exports=L:this.alea=L})(alea,_)})(alea$1)),alea$1.exports}var xor128$1={exports:{}},xor128=xor128$1.exports,hasRequiredXor128;function requireXor128(){return hasRequiredXor128||(hasRequiredXor128=1,(function(_){(function(R,P,I){function O(F){var U=this,V="";U.x=0,U.y=0,U.z=0,U.w=0,U.next=function(){var W=U.x^U.x<<11;return U.x=U.y,U.y=U.z,U.z=U.w,U.w^=U.w>>>19^W^W>>>8},F===(F|0)?U.x=F:V+=F;for(var q=0;q<V.length+64;q++)U.x^=V.charCodeAt(q)|0,U.next()}function z(F,U){return U.x=F.x,U.y=F.y,U.z=F.z,U.w=F.w,U}function L(F,U){var V=new O(F),q=U&&U.state,W=function(){return(V.next()>>>0)/4294967296};return W.double=function(){do var Y=V.next()>>>11,Q=(V.next()>>>0)/4294967296,ee=(Y+Q)/(1<<21);while(ee===0);return ee},W.int32=V.next,W.quick=W,q&&(typeof q=="object"&&z(q,V),W.state=function(){return z(V,{})}),W}P&&P.exports?P.exports=L:this.xor128=L})(xor128,_)})(xor128$1)),xor128$1.exports}var xorwow$1={exports:{}},xorwow=xorwow$1.exports,hasRequiredXorwow;function requireXorwow(){return hasRequiredXorwow||(hasRequiredXorwow=1,(function(_){(function(R,P,I){function O(F){var U=this,V="";U.next=function(){var W=U.x^U.x>>>2;return U.x=U.y,U.y=U.z,U.z=U.w,U.w=U.v,(U.d=U.d+362437|0)+(U.v=U.v^U.v<<4^(W^W<<1))|0},U.x=0,U.y=0,U.z=0,U.w=0,U.v=0,F===(F|0)?U.x=F:V+=F;for(var q=0;q<V.length+64;q++)U.x^=V.charCodeAt(q)|0,q==V.length&&(U.d=U.x<<10^U.x>>>4),U.next()}function z(F,U){return U.x=F.x,U.y=F.y,U.z=F.z,U.w=F.w,U.v=F.v,U.d=F.d,U}function L(F,U){var V=new O(F),q=U&&U.state,W=function(){return(V.next()>>>0)/4294967296};return W.double=function(){do var Y=V.next()>>>11,Q=(V.next()>>>0)/4294967296,ee=(Y+Q)/(1<<21);while(ee===0);return ee},W.int32=V.next,W.quick=W,q&&(typeof q=="object"&&z(q,V),W.state=function(){return z(V,{})}),W}P&&P.exports?P.exports=L:this.xorwow=L})(xorwow,_)})(xorwow$1)),xorwow$1.exports}var xorshift7$1={exports:{}},xorshift7=xorshift7$1.exports,hasRequiredXorshift7;function requireXorshift7(){return hasRequiredXorshift7||(hasRequiredXorshift7=1,(function(_){(function(R,P,I){function O(F){var U=this;U.next=function(){var q=U.x,W=U.i,Y,Q;return Y=q[W],Y^=Y>>>7,Q=Y^Y<<24,Y=q[W+1&7],Q^=Y^Y>>>10,Y=q[W+3&7],Q^=Y^Y>>>3,Y=q[W+4&7],Q^=Y^Y<<7,Y=q[W+7&7],Y=Y^Y<<13,Q^=Y^Y<<9,q[W]=Q,U.i=W+1&7,Q};function V(q,W){var Y,Q=[];if(W===(W|0))Q[0]=W;else for(W=""+W,Y=0;Y<W.length;++Y)Q[Y&7]=Q[Y&7]<<15^W.charCodeAt(Y)+Q[Y+1&7]<<13;for(;Q.length<8;)Q.push(0);for(Y=0;Y<8&&Q[Y]===0;++Y);for(Y==8?Q[7]=-1:Q[Y],q.x=Q,q.i=0,Y=256;Y>0;--Y)q.next()}V(U,F)}function z(F,U){return U.x=F.x.slice(),U.i=F.i,U}function L(F,U){F==null&&(F=+new Date);var V=new O(F),q=U&&U.state,W=function(){return(V.next()>>>0)/4294967296};return W.double=function(){do var Y=V.next()>>>11,Q=(V.next()>>>0)/4294967296,ee=(Y+Q)/(1<<21);while(ee===0);return ee},W.int32=V.next,W.quick=W,q&&(q.x&&z(q,V),W.state=function(){return z(V,{})}),W}P&&P.exports?P.exports=L:this.xorshift7=L})(xorshift7,_)})(xorshift7$1)),xorshift7$1.exports}var xor4096$1={exports:{}},xor4096=xor4096$1.exports,hasRequiredXor4096;function requireXor4096(){return hasRequiredXor4096||(hasRequiredXor4096=1,(function(_){(function(R,P,I){function O(F){var U=this;U.next=function(){var q=U.w,W=U.X,Y=U.i,Q,ee;return U.w=q=q+1640531527|0,ee=W[Y+34&127],Q=W[Y=Y+1&127],ee^=ee<<13,Q^=Q<<17,ee^=ee>>>15,Q^=Q>>>12,ee=W[Y]=ee^Q,U.i=Y,ee+(q^q>>>16)|0};function V(q,W){var Y,Q,ee,te,ie,ae=[],se=128;for(W===(W|0)?(Q=W,W=null):(W=W+"\0",Q=0,se=Math.max(se,W.length)),ee=0,te=-32;te<se;++te)W&&(Q^=W.charCodeAt((te+32)%W.length)),te===0&&(ie=Q),Q^=Q<<10,Q^=Q>>>15,Q^=Q<<4,Q^=Q>>>13,te>=0&&(ie=ie+1640531527|0,Y=ae[te&127]^=Q+ie,ee=Y==0?ee+1:0);for(ee>=128&&(ae[(W&&W.length||0)&127]=-1),ee=127,te=512;te>0;--te)Q=ae[ee+34&127],Y=ae[ee=ee+1&127],Q^=Q<<13,Y^=Y<<17,Q^=Q>>>15,Y^=Y>>>12,ae[ee]=Q^Y;q.w=ie,q.X=ae,q.i=ee}V(U,F)}function z(F,U){return U.i=F.i,U.w=F.w,U.X=F.X.slice(),U}function L(F,U){F==null&&(F=+new Date);var V=new O(F),q=U&&U.state,W=function(){return(V.next()>>>0)/4294967296};return W.double=function(){do var Y=V.next()>>>11,Q=(V.next()>>>0)/4294967296,ee=(Y+Q)/(1<<21);while(ee===0);return ee},W.int32=V.next,W.quick=W,q&&(q.X&&z(q,V),W.state=function(){return z(V,{})}),W}P&&P.exports?P.exports=L:this.xor4096=L})(xor4096,_)})(xor4096$1)),xor4096$1.exports}var tychei$1={exports:{}},tychei=tychei$1.exports,hasRequiredTychei;function requireTychei(){return hasRequiredTychei||(hasRequiredTychei=1,(function(_){(function(R,P,I){function O(F){var U=this,V="";U.next=function(){var W=U.b,Y=U.c,Q=U.d,ee=U.a;return W=W<<25^W>>>7^Y,Y=Y-Q|0,Q=Q<<24^Q>>>8^ee,ee=ee-W|0,U.b=W=W<<20^W>>>12^Y,U.c=Y=Y-Q|0,U.d=Q<<16^Y>>>16^ee,U.a=ee-W|0},U.a=0,U.b=0,U.c=-1640531527,U.d=1367130551,F===Math.floor(F)?(U.a=F/4294967296|0,U.b=F|0):V+=F;for(var q=0;q<V.length+20;q++)U.b^=V.charCodeAt(q)|0,U.next()}function z(F,U){return U.a=F.a,U.b=F.b,U.c=F.c,U.d=F.d,U}function L(F,U){var V=new O(F),q=U&&U.state,W=function(){return(V.next()>>>0)/4294967296};return W.double=function(){do var Y=V.next()>>>11,Q=(V.next()>>>0)/4294967296,ee=(Y+Q)/(1<<21);while(ee===0);return ee},W.int32=V.next,W.quick=W,q&&(typeof q=="object"&&z(q,V),W.state=function(){return z(V,{})}),W}P&&P.exports?P.exports=L:this.tychei=L})(tychei,_)})(tychei$1)),tychei$1.exports}var seedrandom$3={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var seedrandom$2=seedrandom$3.exports,hasRequiredSeedrandom$1;function requireSeedrandom$1(){return hasRequiredSeedrandom$1||(hasRequiredSeedrandom$1=1,(function(_){(function(R,P,I){var O=256,z=6,L=52,F="random",U=I.pow(O,z),V=I.pow(2,L),q=V*2,W=O-1,Y;function Q(ce,fe,de){var he=[];fe=fe==!0?{entropy:!0}:fe||{};var pe=ae(ie(fe.entropy?[ce,le(P)]:ce??se(),3),he),ge=new ee(he),be=function(){for(var xe=ge.g(z),_e=U,Se=0;xe<V;)xe=(xe+Se)*O,_e*=O,Se=ge.g(1);for(;xe>=q;)xe/=2,_e/=2,Se>>>=1;return(xe+Se)/_e};return be.int32=function(){return ge.g(4)|0},be.quick=function(){return ge.g(4)/4294967296},be.double=be,ae(le(ge.S),P),(fe.pass||de||function(xe,_e,Se,me){return me&&(me.S&&te(me,ge),xe.state=function(){return te(ge,{})}),Se?(I[F]=xe,_e):xe})(be,pe,"global"in fe?fe.global:this==I,fe.state)}function ee(ce){var fe,de=ce.length,he=this,pe=0,ge=he.i=he.j=0,be=he.S=[];for(de||(ce=[de++]);pe<O;)be[pe]=pe++;for(pe=0;pe<O;pe++)be[pe]=be[ge=W&ge+ce[pe%de]+(fe=be[pe])],be[ge]=fe;(he.g=function(xe){for(var _e,Se=0,me=he.i,Ce=he.j,Te=he.S;xe--;)_e=Te[me=W&me+1],Se=Se*O+Te[W&(Te[me]=Te[Ce=W&Ce+_e])+(Te[Ce]=_e)];return he.i=me,he.j=Ce,Se})(O)}function te(ce,fe){return fe.i=ce.i,fe.j=ce.j,fe.S=ce.S.slice(),fe}function ie(ce,fe){var de=[],he=typeof ce,pe;if(fe&&he=="object")for(pe in ce)try{de.push(ie(ce[pe],fe-1))}catch{}return de.length?de:he=="string"?ce:ce+"\0"}function ae(ce,fe){for(var de=ce+"",he,pe=0;pe<de.length;)fe[W&pe]=W&(he^=fe[W&pe]*19)+de.charCodeAt(pe++);return le(fe)}function se(){try{var ce;return Y&&(ce=Y.randomBytes)?ce=ce(O):(ce=new Uint8Array(O),(R.crypto||R.msCrypto).getRandomValues(ce)),le(ce)}catch{var fe=R.navigator,de=fe&&fe.plugins;return[+new Date,R,de,R.screen,le(P)]}}function le(ce){return String.fromCharCode.apply(0,ce)}if(ae(I.random(),P),_.exports){_.exports=Q;try{Y=require$$0}catch{}}else I["seed"+F]=Q})(typeof self<"u"?self:seedrandom$2,[],Math)})(seedrandom$3)),seedrandom$3.exports}var seedrandom$1,hasRequiredSeedrandom;function requireSeedrandom(){if(hasRequiredSeedrandom)return seedrandom$1;hasRequiredSeedrandom=1;var _=requireAlea(),R=requireXor128(),P=requireXorwow(),I=requireXorshift7(),O=requireXor4096(),z=requireTychei(),L=requireSeedrandom$1();return L.alea=_,L.xor128=R,L.xorwow=P,L.xorshift7=I,L.xor4096=O,L.tychei=z,seedrandom$1=L,seedrandom$1}var seedrandomExports=requireSeedrandom();const seedrandom=getDefaultExportFromCjs(seedrandomExports);class SeededRandom{rng;constructor(R=0){this.rng=seedrandom(String(R))}reset(R){this.rng=seedrandom(String(R))}random(R,P){const I=this.rng();return R===void 0?I:P===void 0?I*R:R+I*(P-R)}randomInt(R,P){return Math.floor(P===void 0?this.random(R):this.random(R,P))}randomBool(R=.5){return this.rng()<R}gaussian(){let R,P;do R=this.rng(),P=this.rng();while(R===0);return Math.sqrt(-2*Math.log(R))*Math.cos(2*Math.PI*P)}randomGaussian(R=0,P=1){return R+P*this.gaussian()}choice(R){if(R.length===0)throw new Error("Cannot pick from empty array");return R[Math.floor(this.rng()*R.length)]}shuffle(R){for(let P=R.length-1;P>0;P--){const I=Math.floor(this.rng()*(P+1));[R[P],R[I]]=[R[I],R[P]]}return R}}function shapeCenter(_,R){return _===0&&R===0?new Vector2(0,0):R===0?new Vector2(0,0):new Vector2(0,1/R)}class BasalGeometry{curvedToCartesian(R,P){const I=this.getPointAtArcLength(R),O=this.getNormal(I);return I.add(O.scale(P))}}class StraightLineGeometry extends BasalGeometry{type="line";curvature_1=0;curvature_2=0;perimeter=1/0;projectPoint(R){return new Vector2(R.x,0)}getArcLength(R){return R.x}getPointAtArcLength(R){return new Vector2(R,0)}getNormal(R){return new Vector2(0,1)}}class CircularGeometry extends BasalGeometry{constructor(R,P){super(),this.curvature_1=R,this.curvature_2=P,this.radius=Math.abs(1/R),this.perimeter=2*Math.PI*this.radius,this.dir=-Math.sign(P),this.center=new Vector2(0,1/P)}type="circle";center;radius;perimeter;dir;projectPoint(R){const P=R.sub(this.center);return this.center.add(P.setMag(this.radius))}getArcLength(R){const P=R.sub(this.center);return Math.atan2(this.dir*P.x,this.dir*P.y)*this.radius}getPointAtArcLength(R){const P=R/this.radius;return new Vector2(this.center.x+this.dir*this.radius*Math.cos(P),this.center.y+this.dir*this.radius*Math.sin(P))}getNormal(R){return this.center.sub(R).setMag(Math.sign(this.curvature_2))}}class EllipticalGeometry extends BasalGeometry{constructor(R,P,I=360){super(),this.curvature_1=R,this.curvature_2=P,this.a=Math.abs(1/R),this.b=Math.abs(1/P),this.dir=-Math.sign(P),this.center=new Vector2(0,1/P),this.numPoints=I,this.points=this.discretizeCurve(),this.perimeter=this.points[this.points.length-1].arcLength}type="ellipse";center;a;b;dir;perimeter;points;numPoints;discretizeCurve(){const R=[];let P=0;for(let I=0;I<=this.numPoints;I++){const O=I/this.numPoints*2*Math.PI,z=this.center.x+this.dir*this.a*Math.cos(O),L=this.center.y+this.dir*this.b*Math.sin(O),F=new Vector2(z,L);if(I>0){const Y=R[I-1].position,Q=F.dist(Y);P+=Q}const U=F.sub(this.center).scale(this.dir),V=2*U.x/(this.a*this.a),q=2*U.y/(this.b*this.b),W=new Vector2(V,q).setMag(Math.sign(this.curvature_2));R.push({position:F,arcLength:P,theta:O,normal:W})}return R}findBracket(R,P){let I=0,O=this.points.length-1;for(;O-I>1;){const z=Math.floor((I+O)/2);P(this.points[z])<R?I=z:O=z}return[I,O]}interpolate(R,P,I,O){const z=O(R),L=O(P),F=(I-z)/(L-z);return{position:R.position.lerp(P.position,F),arcLength:R.arcLength+F*(P.arcLength-R.arcLength),theta:R.theta+F*(P.theta-R.theta),normal:R.normal.lerp(P.normal,F).normalize()}}projectPoint(R){let P=1/0,I=0;for(let Q=0;Q<this.points.length;Q++){const ee=R.distSq(this.points[Q].position);ee<P&&(P=ee,I=Q)}const O=I===0?this.points.length-1:I-1,z=I===this.points.length-1?0:I+1,L=this.points[I].position,F=this.points[O].position,U=this.points[z].position,V=this.projectOntoSegment(R,F,L),q=R.distSq(V),W=this.projectOntoSegment(R,L,U),Y=R.distSq(W);return q<Y?V:W}projectOntoSegment(R,P,I){const O=I.sub(P),z=R.sub(P),L=O.magSq();if(L<1e-10)return P;const F=Math.max(0,Math.min(1,z.dot(O)/L));return P.add(O.scale(F))}getArcLength(R){const P=this.projectPoint(R);let I=1/0,O=0;for(let z=0;z<this.points.length;z++){const L=P.distSq(this.points[z].position);L<I&&(I=L,O=z)}return this.points[O].arcLength}getPointAtArcLength(R){const P=(R%this.perimeter+this.perimeter)%this.perimeter,[I,O]=this.findBracket(P,L=>L.arcLength);return this.interpolate(this.points[I],this.points[O],P,L=>L.arcLength).position}getNormal(R){let P=1/0,I=0;for(let O=0;O<this.points.length;O++){const z=R.distSq(this.points[O].position);z<P&&(P=z,I=O)}return this.points[I].normal}}function createBasalGeometry(_,R,P=360){return _===0&&R===0?new StraightLineGeometry:Math.abs(_-R)<1e-10?new CircularGeometry(_,R):new EllipticalGeometry(_,R,P)}var CellPhase=(_=>(_[_.G1=0]="G1",_[_.G2=1]="G2",_[_.Mitosis=2]="Mitosis",_[_.Division=3]="Division",_))(CellPhase||{});function createInitialEHTState(_="default"){return{cells:[],ap_links:[],ba_links:[],t:0,step_count:0,basalGeometry:new StraightLineGeometry,rngSeed:_}}function $constructor(_,R,P){function I(F,U){if(F._zod||Object.defineProperty(F,"_zod",{value:{def:U,constr:L,traits:new Set},enumerable:!1}),F._zod.traits.has(_))return;F._zod.traits.add(_),R(F,U);const V=L.prototype,q=Object.keys(V);for(let W=0;W<q.length;W++){const Y=q[W];Y in F||(F[Y]=V[Y].bind(F))}}const O=P?.Parent??Object;class z extends O{}Object.defineProperty(z,"name",{value:_});function L(F){var U;const V=P?.Parent?new z:this;I(V,F),(U=V._zod).deferred??(U.deferred=[]);for(const q of V._zod.deferred)q();return V}return Object.defineProperty(L,"init",{value:I}),Object.defineProperty(L,Symbol.hasInstance,{value:F=>P?.Parent&&F instanceof P.Parent?!0:F?._zod?.traits?.has(_)}),Object.defineProperty(L,"name",{value:_}),L}class $ZodAsyncError extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class $ZodEncodeError extends Error{constructor(R){super(`Encountered unidirectional transform during encode: ${R}`),this.name="ZodEncodeError"}}const globalConfig={};function config(_){return globalConfig}function getEnumValues(_){const R=Object.values(_).filter(I=>typeof I=="number");return Object.entries(_).filter(([I,O])=>R.indexOf(+I)===-1).map(([I,O])=>O)}function jsonStringifyReplacer(_,R){return typeof R=="bigint"?R.toString():R}function cached(_){return{get value(){{const R=_();return Object.defineProperty(this,"value",{value:R}),R}}}}function nullish(_){return _==null}function cleanRegex(_){const R=_.startsWith("^")?1:0,P=_.endsWith("$")?_.length-1:_.length;return _.slice(R,P)}function floatSafeRemainder(_,R){const P=(_.toString().split(".")[1]||"").length,I=R.toString();let O=(I.split(".")[1]||"").length;if(O===0&&/\d?e-\d?/.test(I)){const U=I.match(/\d?e-(\d?)/);U?.[1]&&(O=Number.parseInt(U[1]))}const z=P>O?P:O,L=Number.parseInt(_.toFixed(z).replace(".","")),F=Number.parseInt(R.toFixed(z).replace(".",""));return L%F/10**z}const EVALUATING=Symbol("evaluating");function defineLazy(_,R,P){let I;Object.defineProperty(_,R,{get(){if(I!==EVALUATING)return I===void 0&&(I=EVALUATING,I=P()),I},set(O){Object.defineProperty(_,R,{value:O})},configurable:!0})}function assignProp(_,R,P){Object.defineProperty(_,R,{value:P,writable:!0,enumerable:!0,configurable:!0})}function mergeDefs(..._){const R={};for(const P of _){const I=Object.getOwnPropertyDescriptors(P);Object.assign(R,I)}return Object.defineProperties({},R)}function esc(_){return JSON.stringify(_)}function slugify(_){return _.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const captureStackTrace="captureStackTrace"in Error?Error.captureStackTrace:(..._)=>{};function isObject$2(_){return typeof _=="object"&&_!==null&&!Array.isArray(_)}const allowsEval=cached(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const _=Function;return new _(""),!0}catch{return!1}});function isPlainObject$2(_){if(isObject$2(_)===!1)return!1;const R=_.constructor;if(R===void 0||typeof R!="function")return!0;const P=R.prototype;return!(isObject$2(P)===!1||Object.prototype.hasOwnProperty.call(P,"isPrototypeOf")===!1)}function shallowClone(_){return isPlainObject$2(_)?{..._}:Array.isArray(_)?[..._]:_}const propertyKeyTypes=new Set(["string","number","symbol"]);function escapeRegex(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function clone(_,R,P){const I=new _._zod.constr(R??_._zod.def);return(!R||P?.parent)&&(I._zod.parent=_),I}function normalizeParams(_){const R=_;if(!R)return{};if(typeof R=="string")return{error:()=>R};if(R?.message!==void 0){if(R?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");R.error=R.message}return delete R.message,typeof R.error=="string"?{...R,error:()=>R.error}:R}function optionalKeys(_){return Object.keys(_).filter(R=>_[R]._zod.optin==="optional"&&_[R]._zod.optout==="optional")}const NUMBER_FORMAT_RANGES={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function pick(_,R){const P=_._zod.def,I=P.checks;if(I&&I.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const z=mergeDefs(_._zod.def,{get shape(){const L={};for(const F in R){if(!(F in P.shape))throw new Error(`Unrecognized key: "${F}"`);R[F]&&(L[F]=P.shape[F])}return assignProp(this,"shape",L),L},checks:[]});return clone(_,z)}function omit(_,R){const P=_._zod.def,I=P.checks;if(I&&I.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const z=mergeDefs(_._zod.def,{get shape(){const L={..._._zod.def.shape};for(const F in R){if(!(F in P.shape))throw new Error(`Unrecognized key: "${F}"`);R[F]&&delete L[F]}return assignProp(this,"shape",L),L},checks:[]});return clone(_,z)}function extend$3(_,R){if(!isPlainObject$2(R))throw new Error("Invalid input to extend: expected a plain object");const P=_._zod.def.checks;if(P&&P.length>0){const z=_._zod.def.shape;for(const L in R)if(Object.getOwnPropertyDescriptor(z,L)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const O=mergeDefs(_._zod.def,{get shape(){const z={..._._zod.def.shape,...R};return assignProp(this,"shape",z),z}});return clone(_,O)}function safeExtend(_,R){if(!isPlainObject$2(R))throw new Error("Invalid input to safeExtend: expected a plain object");const P=mergeDefs(_._zod.def,{get shape(){const I={..._._zod.def.shape,...R};return assignProp(this,"shape",I),I}});return clone(_,P)}function merge$3(_,R){const P=mergeDefs(_._zod.def,{get shape(){const I={..._._zod.def.shape,...R._zod.def.shape};return assignProp(this,"shape",I),I},get catchall(){return R._zod.def.catchall},checks:[]});return clone(_,P)}function partial(_,R,P){const O=R._zod.def.checks;if(O&&O.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const L=mergeDefs(R._zod.def,{get shape(){const F=R._zod.def.shape,U={...F};if(P)for(const V in P){if(!(V in F))throw new Error(`Unrecognized key: "${V}"`);P[V]&&(U[V]=_?new _({type:"optional",innerType:F[V]}):F[V])}else for(const V in F)U[V]=_?new _({type:"optional",innerType:F[V]}):F[V];return assignProp(this,"shape",U),U},checks:[]});return clone(R,L)}function required(_,R,P){const I=mergeDefs(R._zod.def,{get shape(){const O=R._zod.def.shape,z={...O};if(P)for(const L in P){if(!(L in z))throw new Error(`Unrecognized key: "${L}"`);P[L]&&(z[L]=new _({type:"nonoptional",innerType:O[L]}))}else for(const L in O)z[L]=new _({type:"nonoptional",innerType:O[L]});return assignProp(this,"shape",z),z}});return clone(R,I)}function aborted(_,R=0){if(_.aborted===!0)return!0;for(let P=R;P<_.issues.length;P++)if(_.issues[P]?.continue!==!0)return!0;return!1}function prefixIssues(_,R){return R.map(P=>{var I;return(I=P).path??(I.path=[]),P.path.unshift(_),P})}function unwrapMessage(_){return typeof _=="string"?_:_?.message}function finalizeIssue(_,R,P){const I={..._,path:_.path??[]};if(!_.message){const O=unwrapMessage(_.inst?._zod.def?.error?.(_))??unwrapMessage(R?.error?.(_))??unwrapMessage(P.customError?.(_))??unwrapMessage(P.localeError?.(_))??"Invalid input";I.message=O}return delete I.inst,delete I.continue,R?.reportInput||delete I.input,I}function getLengthableOrigin(_){return Array.isArray(_)?"array":typeof _=="string"?"string":"unknown"}function issue(..._){const[R,P,I]=_;return typeof R=="string"?{message:R,code:"custom",input:P,inst:I}:{...R}}const initializer$2=(_,R)=>{_.name="$ZodError",Object.defineProperty(_,"_zod",{value:_._zod,enumerable:!1}),Object.defineProperty(_,"issues",{value:R,enumerable:!1}),_.message=JSON.stringify(R,jsonStringifyReplacer,2),Object.defineProperty(_,"toString",{value:()=>_.message,enumerable:!1})},$ZodError=$constructor("$ZodError",initializer$2),$ZodRealError=$constructor("$ZodError",initializer$2,{Parent:Error});function flattenError(_,R=P=>P.message){const P={},I=[];for(const O of _.issues)O.path.length>0?(P[O.path[0]]=P[O.path[0]]||[],P[O.path[0]].push(R(O))):I.push(R(O));return{formErrors:I,fieldErrors:P}}function formatError(_,R=P=>P.message){const P={_errors:[]},I=O=>{for(const z of O.issues)if(z.code==="invalid_union"&&z.errors.length)z.errors.map(L=>I({issues:L}));else if(z.code==="invalid_key")I({issues:z.issues});else if(z.code==="invalid_element")I({issues:z.issues});else if(z.path.length===0)P._errors.push(R(z));else{let L=P,F=0;for(;F<z.path.length;){const U=z.path[F];F===z.path.length-1?(L[U]=L[U]||{_errors:[]},L[U]._errors.push(R(z))):L[U]=L[U]||{_errors:[]},L=L[U],F++}}};return I(_),P}const _parse=_=>(R,P,I,O)=>{const z=I?Object.assign(I,{async:!1}):{async:!1},L=R._zod.run({value:P,issues:[]},z);if(L instanceof Promise)throw new $ZodAsyncError;if(L.issues.length){const F=new(O?.Err??_)(L.issues.map(U=>finalizeIssue(U,z,config())));throw captureStackTrace(F,O?.callee),F}return L.value},_parseAsync=_=>async(R,P,I,O)=>{const z=I?Object.assign(I,{async:!0}):{async:!0};let L=R._zod.run({value:P,issues:[]},z);if(L instanceof Promise&&(L=await L),L.issues.length){const F=new(O?.Err??_)(L.issues.map(U=>finalizeIssue(U,z,config())));throw captureStackTrace(F,O?.callee),F}return L.value},_safeParse=_=>(R,P,I)=>{const O=I?{...I,async:!1}:{async:!1},z=R._zod.run({value:P,issues:[]},O);if(z instanceof Promise)throw new $ZodAsyncError;return z.issues.length?{success:!1,error:new(_??$ZodError)(z.issues.map(L=>finalizeIssue(L,O,config())))}:{success:!0,data:z.value}},safeParse$1=_safeParse($ZodRealError),_safeParseAsync=_=>async(R,P,I)=>{const O=I?Object.assign(I,{async:!0}):{async:!0};let z=R._zod.run({value:P,issues:[]},O);return z instanceof Promise&&(z=await z),z.issues.length?{success:!1,error:new _(z.issues.map(L=>finalizeIssue(L,O,config())))}:{success:!0,data:z.value}},safeParseAsync$1=_safeParseAsync($ZodRealError),_encode=_=>(R,P,I)=>{const O=I?Object.assign(I,{direction:"backward"}):{direction:"backward"};return _parse(_)(R,P,O)},_decode=_=>(R,P,I)=>_parse(_)(R,P,I),_encodeAsync=_=>async(R,P,I)=>{const O=I?Object.assign(I,{direction:"backward"}):{direction:"backward"};return _parseAsync(_)(R,P,O)},_decodeAsync=_=>async(R,P,I)=>_parseAsync(_)(R,P,I),_safeEncode=_=>(R,P,I)=>{const O=I?Object.assign(I,{direction:"backward"}):{direction:"backward"};return _safeParse(_)(R,P,O)},_safeDecode=_=>(R,P,I)=>_safeParse(_)(R,P,I),_safeEncodeAsync=_=>async(R,P,I)=>{const O=I?Object.assign(I,{direction:"backward"}):{direction:"backward"};return _safeParseAsync(_)(R,P,O)},_safeDecodeAsync=_=>async(R,P,I)=>_safeParseAsync(_)(R,P,I),cuid=/^[cC][^\s-]{8,}$/,cuid2=/^[0-9a-z]+$/,ulid=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,xid=/^[0-9a-vA-V]{20}$/,ksuid=/^[A-Za-z0-9]{27}$/,nanoid=/^[a-zA-Z0-9_-]{21}$/,duration$1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,guid=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,uuid=_=>_?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${_}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,email=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,_emoji$1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function emoji(){return new RegExp(_emoji$1,"u")}const ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,cidrv4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,cidrv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,base64url=/^[A-Za-z0-9_-]*$/,e164=/^\+[1-9]\d{6,14}$/,dateSource="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",date$3=new RegExp(`^${dateSource}$`);function timeSource(_){const R="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof _.precision=="number"?_.precision===-1?`${R}`:_.precision===0?`${R}:[0-5]\\d`:`${R}:[0-5]\\d\\.\\d{${_.precision}}`:`${R}(?::[0-5]\\d(?:\\.\\d+)?)?`}function time$2(_){return new RegExp(`^${timeSource(_)}$`)}function datetime$1(_){const R=timeSource({precision:_.precision}),P=["Z"];_.local&&P.push(""),_.offset&&P.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const I=`${R}(?:${P.join("|")})`;return new RegExp(`^${dateSource}T(?:${I})$`)}const string$4=_=>{const R=_?`[\\s\\S]{${_?.minimum??0},${_?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${R}$`)},integer=/^-?\d+$/,number$7=/^-?\d+(?:\.\d+)?$/,boolean$2=/^(?:true|false)$/i,lowercase=/^[^A-Z]*$/,uppercase$1=/^[^a-z]*$/,$ZodCheck=$constructor("$ZodCheck",(_,R)=>{var P;_._zod??(_._zod={}),_._zod.def=R,(P=_._zod).onattach??(P.onattach=[])}),numericOriginMap={number:"number",bigint:"bigint",object:"date"},$ZodCheckLessThan=$constructor("$ZodCheckLessThan",(_,R)=>{$ZodCheck.init(_,R);const P=numericOriginMap[typeof R.value];_._zod.onattach.push(I=>{const O=I._zod.bag,z=(R.inclusive?O.maximum:O.exclusiveMaximum)??Number.POSITIVE_INFINITY;R.value<z&&(R.inclusive?O.maximum=R.value:O.exclusiveMaximum=R.value)}),_._zod.check=I=>{(R.inclusive?I.value<=R.value:I.value<R.value)||I.issues.push({origin:P,code:"too_big",maximum:typeof R.value=="object"?R.value.getTime():R.value,input:I.value,inclusive:R.inclusive,inst:_,continue:!R.abort})}}),$ZodCheckGreaterThan=$constructor("$ZodCheckGreaterThan",(_,R)=>{$ZodCheck.init(_,R);const P=numericOriginMap[typeof R.value];_._zod.onattach.push(I=>{const O=I._zod.bag,z=(R.inclusive?O.minimum:O.exclusiveMinimum)??Number.NEGATIVE_INFINITY;R.value>z&&(R.inclusive?O.minimum=R.value:O.exclusiveMinimum=R.value)}),_._zod.check=I=>{(R.inclusive?I.value>=R.value:I.value>R.value)||I.issues.push({origin:P,code:"too_small",minimum:typeof R.value=="object"?R.value.getTime():R.value,input:I.value,inclusive:R.inclusive,inst:_,continue:!R.abort})}}),$ZodCheckMultipleOf=$constructor("$ZodCheckMultipleOf",(_,R)=>{$ZodCheck.init(_,R),_._zod.onattach.push(P=>{var I;(I=P._zod.bag).multipleOf??(I.multipleOf=R.value)}),_._zod.check=P=>{if(typeof P.value!=typeof R.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof P.value=="bigint"?P.value%R.value===BigInt(0):floatSafeRemainder(P.value,R.value)===0)||P.issues.push({origin:typeof P.value,code:"not_multiple_of",divisor:R.value,input:P.value,inst:_,continue:!R.abort})}}),$ZodCheckNumberFormat=$constructor("$ZodCheckNumberFormat",(_,R)=>{$ZodCheck.init(_,R),R.format=R.format||"float64";const P=R.format?.includes("int"),I=P?"int":"number",[O,z]=NUMBER_FORMAT_RANGES[R.format];_._zod.onattach.push(L=>{const F=L._zod.bag;F.format=R.format,F.minimum=O,F.maximum=z,P&&(F.pattern=integer)}),_._zod.check=L=>{const F=L.value;if(P){if(!Number.isInteger(F)){L.issues.push({expected:I,format:R.format,code:"invalid_type",continue:!1,input:F,inst:_});return}if(!Number.isSafeInteger(F)){F>0?L.issues.push({input:F,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:_,origin:I,inclusive:!0,continue:!R.abort}):L.issues.push({input:F,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:_,origin:I,inclusive:!0,continue:!R.abort});return}}F<O&&L.issues.push({origin:"number",input:F,code:"too_small",minimum:O,inclusive:!0,inst:_,continue:!R.abort}),F>z&&L.issues.push({origin:"number",input:F,code:"too_big",maximum:z,inclusive:!0,inst:_,continue:!R.abort})}}),$ZodCheckMaxLength=$constructor("$ZodCheckMaxLength",(_,R)=>{var P;$ZodCheck.init(_,R),(P=_._zod.def).when??(P.when=I=>{const O=I.value;return!nullish(O)&&O.length!==void 0}),_._zod.onattach.push(I=>{const O=I._zod.bag.maximum??Number.POSITIVE_INFINITY;R.maximum<O&&(I._zod.bag.maximum=R.maximum)}),_._zod.check=I=>{const O=I.value;if(O.length<=R.maximum)return;const L=getLengthableOrigin(O);I.issues.push({origin:L,code:"too_big",maximum:R.maximum,inclusive:!0,input:O,inst:_,continue:!R.abort})}}),$ZodCheckMinLength=$constructor("$ZodCheckMinLength",(_,R)=>{var P;$ZodCheck.init(_,R),(P=_._zod.def).when??(P.when=I=>{const O=I.value;return!nullish(O)&&O.length!==void 0}),_._zod.onattach.push(I=>{const O=I._zod.bag.minimum??Number.NEGATIVE_INFINITY;R.minimum>O&&(I._zod.bag.minimum=R.minimum)}),_._zod.check=I=>{const O=I.value;if(O.length>=R.minimum)return;const L=getLengthableOrigin(O);I.issues.push({origin:L,code:"too_small",minimum:R.minimum,inclusive:!0,input:O,inst:_,continue:!R.abort})}}),$ZodCheckLengthEquals=$constructor("$ZodCheckLengthEquals",(_,R)=>{var P;$ZodCheck.init(_,R),(P=_._zod.def).when??(P.when=I=>{const O=I.value;return!nullish(O)&&O.length!==void 0}),_._zod.onattach.push(I=>{const O=I._zod.bag;O.minimum=R.length,O.maximum=R.length,O.length=R.length}),_._zod.check=I=>{const O=I.value,z=O.length;if(z===R.length)return;const L=getLengthableOrigin(O),F=z>R.length;I.issues.push({origin:L,...F?{code:"too_big",maximum:R.length}:{code:"too_small",minimum:R.length},inclusive:!0,exact:!0,input:I.value,inst:_,continue:!R.abort})}}),$ZodCheckStringFormat=$constructor("$ZodCheckStringFormat",(_,R)=>{var P,I;$ZodCheck.init(_,R),_._zod.onattach.push(O=>{const z=O._zod.bag;z.format=R.format,R.pattern&&(z.patterns??(z.patterns=new Set),z.patterns.add(R.pattern))}),R.pattern?(P=_._zod).check??(P.check=O=>{R.pattern.lastIndex=0,!R.pattern.test(O.value)&&O.issues.push({origin:"string",code:"invalid_format",format:R.format,input:O.value,...R.pattern?{pattern:R.pattern.toString()}:{},inst:_,continue:!R.abort})}):(I=_._zod).check??(I.check=()=>{})}),$ZodCheckRegex=$constructor("$ZodCheckRegex",(_,R)=>{$ZodCheckStringFormat.init(_,R),_._zod.check=P=>{R.pattern.lastIndex=0,!R.pattern.test(P.value)&&P.issues.push({origin:"string",code:"invalid_format",format:"regex",input:P.value,pattern:R.pattern.toString(),inst:_,continue:!R.abort})}}),$ZodCheckLowerCase=$constructor("$ZodCheckLowerCase",(_,R)=>{R.pattern??(R.pattern=lowercase),$ZodCheckStringFormat.init(_,R)}),$ZodCheckUpperCase=$constructor("$ZodCheckUpperCase",(_,R)=>{R.pattern??(R.pattern=uppercase$1),$ZodCheckStringFormat.init(_,R)}),$ZodCheckIncludes=$constructor("$ZodCheckIncludes",(_,R)=>{$ZodCheck.init(_,R);const P=escapeRegex(R.includes),I=new RegExp(typeof R.position=="number"?`^.{${R.position}}${P}`:P);R.pattern=I,_._zod.onattach.push(O=>{const z=O._zod.bag;z.patterns??(z.patterns=new Set),z.patterns.add(I)}),_._zod.check=O=>{O.value.includes(R.includes,R.position)||O.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:R.includes,input:O.value,inst:_,continue:!R.abort})}}),$ZodCheckStartsWith=$constructor("$ZodCheckStartsWith",(_,R)=>{$ZodCheck.init(_,R);const P=new RegExp(`^${escapeRegex(R.prefix)}.*`);R.pattern??(R.pattern=P),_._zod.onattach.push(I=>{const O=I._zod.bag;O.patterns??(O.patterns=new Set),O.patterns.add(P)}),_._zod.check=I=>{I.value.startsWith(R.prefix)||I.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:R.prefix,input:I.value,inst:_,continue:!R.abort})}}),$ZodCheckEndsWith=$constructor("$ZodCheckEndsWith",(_,R)=>{$ZodCheck.init(_,R);const P=new RegExp(`.*${escapeRegex(R.suffix)}$`);R.pattern??(R.pattern=P),_._zod.onattach.push(I=>{const O=I._zod.bag;O.patterns??(O.patterns=new Set),O.patterns.add(P)}),_._zod.check=I=>{I.value.endsWith(R.suffix)||I.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:R.suffix,input:I.value,inst:_,continue:!R.abort})}}),$ZodCheckOverwrite=$constructor("$ZodCheckOverwrite",(_,R)=>{$ZodCheck.init(_,R),_._zod.check=P=>{P.value=R.tx(P.value)}});class Doc{constructor(R=[]){this.content=[],this.indent=0,this&&(this.args=R)}indented(R){this.indent+=1,R(this),this.indent-=1}write(R){if(typeof R=="function"){R(this,{execution:"sync"}),R(this,{execution:"async"});return}const I=R.split(`
`).filter(L=>L),O=Math.min(...I.map(L=>L.length-L.trimStart().length)),z=I.map(L=>L.slice(O)).map(L=>" ".repeat(this.indent*2)+L);for(const L of z)this.content.push(L)}compile(){const R=Function,P=this?.args,O=[...(this?.content??[""]).map(z=>`  ${z}`)];return new R(...P,O.join(`
`))}}const version$1={major:4,minor:3,patch:5},$ZodType=$constructor("$ZodType",(_,R)=>{var P;_??(_={}),_._zod.def=R,_._zod.bag=_._zod.bag||{},_._zod.version=version$1;const I=[..._._zod.def.checks??[]];_._zod.traits.has("$ZodCheck")&&I.unshift(_);for(const O of I)for(const z of O._zod.onattach)z(_);if(I.length===0)(P=_._zod).deferred??(P.deferred=[]),_._zod.deferred?.push(()=>{_._zod.run=_._zod.parse});else{const O=(L,F,U)=>{let V=aborted(L),q;for(const W of F){if(W._zod.def.when){if(!W._zod.def.when(L))continue}else if(V)continue;const Y=L.issues.length,Q=W._zod.check(L);if(Q instanceof Promise&&U?.async===!1)throw new $ZodAsyncError;if(q||Q instanceof Promise)q=(q??Promise.resolve()).then(async()=>{await Q,L.issues.length!==Y&&(V||(V=aborted(L,Y)))});else{if(L.issues.length===Y)continue;V||(V=aborted(L,Y))}}return q?q.then(()=>L):L},z=(L,F,U)=>{if(aborted(L))return L.aborted=!0,L;const V=O(F,I,U);if(V instanceof Promise){if(U.async===!1)throw new $ZodAsyncError;return V.then(q=>_._zod.parse(q,U))}return _._zod.parse(V,U)};_._zod.run=(L,F)=>{if(F.skipChecks)return _._zod.parse(L,F);if(F.direction==="backward"){const V=_._zod.parse({value:L.value,issues:[]},{...F,skipChecks:!0});return V instanceof Promise?V.then(q=>z(q,L,F)):z(V,L,F)}const U=_._zod.parse(L,F);if(U instanceof Promise){if(F.async===!1)throw new $ZodAsyncError;return U.then(V=>O(V,I,F))}return O(U,I,F)}}defineLazy(_,"~standard",()=>({validate:O=>{try{const z=safeParse$1(_,O);return z.success?{value:z.data}:{issues:z.error?.issues}}catch{return safeParseAsync$1(_,O).then(L=>L.success?{value:L.data}:{issues:L.error?.issues})}},vendor:"zod",version:1}))}),$ZodString=$constructor("$ZodString",(_,R)=>{$ZodType.init(_,R),_._zod.pattern=[..._?._zod.bag?.patterns??[]].pop()??string$4(_._zod.bag),_._zod.parse=(P,I)=>{if(R.coerce)try{P.value=String(P.value)}catch{}return typeof P.value=="string"||P.issues.push({expected:"string",code:"invalid_type",input:P.value,inst:_}),P}}),$ZodStringFormat=$constructor("$ZodStringFormat",(_,R)=>{$ZodCheckStringFormat.init(_,R),$ZodString.init(_,R)}),$ZodGUID=$constructor("$ZodGUID",(_,R)=>{R.pattern??(R.pattern=guid),$ZodStringFormat.init(_,R)}),$ZodUUID=$constructor("$ZodUUID",(_,R)=>{if(R.version){const I={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[R.version];if(I===void 0)throw new Error(`Invalid UUID version: "${R.version}"`);R.pattern??(R.pattern=uuid(I))}else R.pattern??(R.pattern=uuid());$ZodStringFormat.init(_,R)}),$ZodEmail=$constructor("$ZodEmail",(_,R)=>{R.pattern??(R.pattern=email),$ZodStringFormat.init(_,R)}),$ZodURL=$constructor("$ZodURL",(_,R)=>{$ZodStringFormat.init(_,R),_._zod.check=P=>{try{const I=P.value.trim(),O=new URL(I);R.hostname&&(R.hostname.lastIndex=0,R.hostname.test(O.hostname)||P.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:R.hostname.source,input:P.value,inst:_,continue:!R.abort})),R.protocol&&(R.protocol.lastIndex=0,R.protocol.test(O.protocol.endsWith(":")?O.protocol.slice(0,-1):O.protocol)||P.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:R.protocol.source,input:P.value,inst:_,continue:!R.abort})),R.normalize?P.value=O.href:P.value=I;return}catch{P.issues.push({code:"invalid_format",format:"url",input:P.value,inst:_,continue:!R.abort})}}}),$ZodEmoji=$constructor("$ZodEmoji",(_,R)=>{R.pattern??(R.pattern=emoji()),$ZodStringFormat.init(_,R)}),$ZodNanoID=$constructor("$ZodNanoID",(_,R)=>{R.pattern??(R.pattern=nanoid),$ZodStringFormat.init(_,R)}),$ZodCUID=$constructor("$ZodCUID",(_,R)=>{R.pattern??(R.pattern=cuid),$ZodStringFormat.init(_,R)}),$ZodCUID2=$constructor("$ZodCUID2",(_,R)=>{R.pattern??(R.pattern=cuid2),$ZodStringFormat.init(_,R)}),$ZodULID=$constructor("$ZodULID",(_,R)=>{R.pattern??(R.pattern=ulid),$ZodStringFormat.init(_,R)}),$ZodXID=$constructor("$ZodXID",(_,R)=>{R.pattern??(R.pattern=xid),$ZodStringFormat.init(_,R)}),$ZodKSUID=$constructor("$ZodKSUID",(_,R)=>{R.pattern??(R.pattern=ksuid),$ZodStringFormat.init(_,R)}),$ZodISODateTime=$constructor("$ZodISODateTime",(_,R)=>{R.pattern??(R.pattern=datetime$1(R)),$ZodStringFormat.init(_,R)}),$ZodISODate=$constructor("$ZodISODate",(_,R)=>{R.pattern??(R.pattern=date$3),$ZodStringFormat.init(_,R)}),$ZodISOTime=$constructor("$ZodISOTime",(_,R)=>{R.pattern??(R.pattern=time$2(R)),$ZodStringFormat.init(_,R)}),$ZodISODuration=$constructor("$ZodISODuration",(_,R)=>{R.pattern??(R.pattern=duration$1),$ZodStringFormat.init(_,R)}),$ZodIPv4=$constructor("$ZodIPv4",(_,R)=>{R.pattern??(R.pattern=ipv4),$ZodStringFormat.init(_,R),_._zod.bag.format="ipv4"}),$ZodIPv6=$constructor("$ZodIPv6",(_,R)=>{R.pattern??(R.pattern=ipv6),$ZodStringFormat.init(_,R),_._zod.bag.format="ipv6",_._zod.check=P=>{try{new URL(`http://[${P.value}]`)}catch{P.issues.push({code:"invalid_format",format:"ipv6",input:P.value,inst:_,continue:!R.abort})}}}),$ZodCIDRv4=$constructor("$ZodCIDRv4",(_,R)=>{R.pattern??(R.pattern=cidrv4),$ZodStringFormat.init(_,R)}),$ZodCIDRv6=$constructor("$ZodCIDRv6",(_,R)=>{R.pattern??(R.pattern=cidrv6),$ZodStringFormat.init(_,R),_._zod.check=P=>{const I=P.value.split("/");try{if(I.length!==2)throw new Error;const[O,z]=I;if(!z)throw new Error;const L=Number(z);if(`${L}`!==z)throw new Error;if(L<0||L>128)throw new Error;new URL(`http://[${O}]`)}catch{P.issues.push({code:"invalid_format",format:"cidrv6",input:P.value,inst:_,continue:!R.abort})}}});function isValidBase64(_){if(_==="")return!0;if(_.length%4!==0)return!1;try{return atob(_),!0}catch{return!1}}const $ZodBase64=$constructor("$ZodBase64",(_,R)=>{R.pattern??(R.pattern=base64),$ZodStringFormat.init(_,R),_._zod.bag.contentEncoding="base64",_._zod.check=P=>{isValidBase64(P.value)||P.issues.push({code:"invalid_format",format:"base64",input:P.value,inst:_,continue:!R.abort})}});function isValidBase64URL(_){if(!base64url.test(_))return!1;const R=_.replace(/[-_]/g,I=>I==="-"?"+":"/"),P=R.padEnd(Math.ceil(R.length/4)*4,"=");return isValidBase64(P)}const $ZodBase64URL=$constructor("$ZodBase64URL",(_,R)=>{R.pattern??(R.pattern=base64url),$ZodStringFormat.init(_,R),_._zod.bag.contentEncoding="base64url",_._zod.check=P=>{isValidBase64URL(P.value)||P.issues.push({code:"invalid_format",format:"base64url",input:P.value,inst:_,continue:!R.abort})}}),$ZodE164=$constructor("$ZodE164",(_,R)=>{R.pattern??(R.pattern=e164),$ZodStringFormat.init(_,R)});function isValidJWT(_,R=null){try{const P=_.split(".");if(P.length!==3)return!1;const[I]=P;if(!I)return!1;const O=JSON.parse(atob(I));return!("typ"in O&&O?.typ!=="JWT"||!O.alg||R&&(!("alg"in O)||O.alg!==R))}catch{return!1}}const $ZodJWT=$constructor("$ZodJWT",(_,R)=>{$ZodStringFormat.init(_,R),_._zod.check=P=>{isValidJWT(P.value,R.alg)||P.issues.push({code:"invalid_format",format:"jwt",input:P.value,inst:_,continue:!R.abort})}}),$ZodNumber=$constructor("$ZodNumber",(_,R)=>{$ZodType.init(_,R),_._zod.pattern=_._zod.bag.pattern??number$7,_._zod.parse=(P,I)=>{if(R.coerce)try{P.value=Number(P.value)}catch{}const O=P.value;if(typeof O=="number"&&!Number.isNaN(O)&&Number.isFinite(O))return P;const z=typeof O=="number"?Number.isNaN(O)?"NaN":Number.isFinite(O)?void 0:"Infinity":void 0;return P.issues.push({expected:"number",code:"invalid_type",input:O,inst:_,...z?{received:z}:{}}),P}}),$ZodNumberFormat=$constructor("$ZodNumberFormat",(_,R)=>{$ZodCheckNumberFormat.init(_,R),$ZodNumber.init(_,R)}),$ZodBoolean=$constructor("$ZodBoolean",(_,R)=>{$ZodType.init(_,R),_._zod.pattern=boolean$2,_._zod.parse=(P,I)=>{if(R.coerce)try{P.value=!!P.value}catch{}const O=P.value;return typeof O=="boolean"||P.issues.push({expected:"boolean",code:"invalid_type",input:O,inst:_}),P}}),$ZodUnknown=$constructor("$ZodUnknown",(_,R)=>{$ZodType.init(_,R),_._zod.parse=P=>P}),$ZodNever=$constructor("$ZodNever",(_,R)=>{$ZodType.init(_,R),_._zod.parse=(P,I)=>(P.issues.push({expected:"never",code:"invalid_type",input:P.value,inst:_}),P)});function handleArrayResult(_,R,P){_.issues.length&&R.issues.push(...prefixIssues(P,_.issues)),R.value[P]=_.value}const $ZodArray=$constructor("$ZodArray",(_,R)=>{$ZodType.init(_,R),_._zod.parse=(P,I)=>{const O=P.value;if(!Array.isArray(O))return P.issues.push({expected:"array",code:"invalid_type",input:O,inst:_}),P;P.value=Array(O.length);const z=[];for(let L=0;L<O.length;L++){const F=O[L],U=R.element._zod.run({value:F,issues:[]},I);U instanceof Promise?z.push(U.then(V=>handleArrayResult(V,P,L))):handleArrayResult(U,P,L)}return z.length?Promise.all(z).then(()=>P):P}});function handlePropertyResult(_,R,P,I,O){if(_.issues.length){if(O&&!(P in I))return;R.issues.push(...prefixIssues(P,_.issues))}_.value===void 0?P in I&&(R.value[P]=void 0):R.value[P]=_.value}function normalizeDef(_){const R=Object.keys(_.shape);for(const I of R)if(!_.shape?.[I]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${I}": expected a Zod schema`);const P=optionalKeys(_.shape);return{..._,keys:R,keySet:new Set(R),numKeys:R.length,optionalKeys:new Set(P)}}function handleCatchall(_,R,P,I,O,z){const L=[],F=O.keySet,U=O.catchall._zod,V=U.def.type,q=U.optout==="optional";for(const W in R){if(F.has(W))continue;if(V==="never"){L.push(W);continue}const Y=U.run({value:R[W],issues:[]},I);Y instanceof Promise?_.push(Y.then(Q=>handlePropertyResult(Q,P,W,R,q))):handlePropertyResult(Y,P,W,R,q)}return L.length&&P.issues.push({code:"unrecognized_keys",keys:L,input:R,inst:z}),_.length?Promise.all(_).then(()=>P):P}const $ZodObject=$constructor("$ZodObject",(_,R)=>{if($ZodType.init(_,R),!Object.getOwnPropertyDescriptor(R,"shape")?.get){const F=R.shape;Object.defineProperty(R,"shape",{get:()=>{const U={...F};return Object.defineProperty(R,"shape",{value:U}),U}})}const I=cached(()=>normalizeDef(R));defineLazy(_._zod,"propValues",()=>{const F=R.shape,U={};for(const V in F){const q=F[V]._zod;if(q.values){U[V]??(U[V]=new Set);for(const W of q.values)U[V].add(W)}}return U});const O=isObject$2,z=R.catchall;let L;_._zod.parse=(F,U)=>{L??(L=I.value);const V=F.value;if(!O(V))return F.issues.push({expected:"object",code:"invalid_type",input:V,inst:_}),F;F.value={};const q=[],W=L.shape;for(const Y of L.keys){const Q=W[Y],ee=Q._zod.optout==="optional",te=Q._zod.run({value:V[Y],issues:[]},U);te instanceof Promise?q.push(te.then(ie=>handlePropertyResult(ie,F,Y,V,ee))):handlePropertyResult(te,F,Y,V,ee)}return z?handleCatchall(q,V,F,U,I.value,_):q.length?Promise.all(q).then(()=>F):F}}),$ZodObjectJIT=$constructor("$ZodObjectJIT",(_,R)=>{$ZodObject.init(_,R);const P=_._zod.parse,I=cached(()=>normalizeDef(R)),O=Y=>{const Q=new Doc(["shape","payload","ctx"]),ee=I.value,te=le=>{const ce=esc(le);return`shape[${ce}]._zod.run({ value: input[${ce}], issues: [] }, ctx)`};Q.write("const input = payload.value;");const ie=Object.create(null);let ae=0;for(const le of ee.keys)ie[le]=`key_${ae++}`;Q.write("const newResult = {};");for(const le of ee.keys){const ce=ie[le],fe=esc(le),he=Y[le]?._zod?.optout==="optional";Q.write(`const ${ce} = ${te(le)};`),he?Q.write(`
        if (${ce}.issues.length) {
          if (${fe} in input) {
            payload.issues = payload.issues.concat(${ce}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${fe}, ...iss.path] : [${fe}]
            })));
          }
        }
        
        if (${ce}.value === undefined) {
          if (${fe} in input) {
            newResult[${fe}] = undefined;
          }
        } else {
          newResult[${fe}] = ${ce}.value;
        }
        
      `):Q.write(`
        if (${ce}.issues.length) {
          payload.issues = payload.issues.concat(${ce}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${fe}, ...iss.path] : [${fe}]
          })));
        }
        
        if (${ce}.value === undefined) {
          if (${fe} in input) {
            newResult[${fe}] = undefined;
          }
        } else {
          newResult[${fe}] = ${ce}.value;
        }
        
      `)}Q.write("payload.value = newResult;"),Q.write("return payload;");const se=Q.compile();return(le,ce)=>se(Y,le,ce)};let z;const L=isObject$2,F=!globalConfig.jitless,V=F&&allowsEval.value,q=R.catchall;let W;_._zod.parse=(Y,Q)=>{W??(W=I.value);const ee=Y.value;return L(ee)?F&&V&&Q?.async===!1&&Q.jitless!==!0?(z||(z=O(R.shape)),Y=z(Y,Q),q?handleCatchall([],ee,Y,Q,W,_):Y):P(Y,Q):(Y.issues.push({expected:"object",code:"invalid_type",input:ee,inst:_}),Y)}});function handleUnionResults(_,R,P,I){for(const z of _)if(z.issues.length===0)return R.value=z.value,R;const O=_.filter(z=>!aborted(z));return O.length===1?(R.value=O[0].value,O[0]):(R.issues.push({code:"invalid_union",input:R.value,inst:P,errors:_.map(z=>z.issues.map(L=>finalizeIssue(L,I,config())))}),R)}const $ZodUnion=$constructor("$ZodUnion",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"optin",()=>R.options.some(O=>O._zod.optin==="optional")?"optional":void 0),defineLazy(_._zod,"optout",()=>R.options.some(O=>O._zod.optout==="optional")?"optional":void 0),defineLazy(_._zod,"values",()=>{if(R.options.every(O=>O._zod.values))return new Set(R.options.flatMap(O=>Array.from(O._zod.values)))}),defineLazy(_._zod,"pattern",()=>{if(R.options.every(O=>O._zod.pattern)){const O=R.options.map(z=>z._zod.pattern);return new RegExp(`^(${O.map(z=>cleanRegex(z.source)).join("|")})$`)}});const P=R.options.length===1,I=R.options[0]._zod.run;_._zod.parse=(O,z)=>{if(P)return I(O,z);let L=!1;const F=[];for(const U of R.options){const V=U._zod.run({value:O.value,issues:[]},z);if(V instanceof Promise)F.push(V),L=!0;else{if(V.issues.length===0)return V;F.push(V)}}return L?Promise.all(F).then(U=>handleUnionResults(U,O,_,z)):handleUnionResults(F,O,_,z)}}),$ZodIntersection=$constructor("$ZodIntersection",(_,R)=>{$ZodType.init(_,R),_._zod.parse=(P,I)=>{const O=P.value,z=R.left._zod.run({value:O,issues:[]},I),L=R.right._zod.run({value:O,issues:[]},I);return z instanceof Promise||L instanceof Promise?Promise.all([z,L]).then(([U,V])=>handleIntersectionResults(P,U,V)):handleIntersectionResults(P,z,L)}});function mergeValues(_,R){if(_===R)return{valid:!0,data:_};if(_ instanceof Date&&R instanceof Date&&+_==+R)return{valid:!0,data:_};if(isPlainObject$2(_)&&isPlainObject$2(R)){const P=Object.keys(R),I=Object.keys(_).filter(z=>P.indexOf(z)!==-1),O={..._,...R};for(const z of I){const L=mergeValues(_[z],R[z]);if(!L.valid)return{valid:!1,mergeErrorPath:[z,...L.mergeErrorPath]};O[z]=L.data}return{valid:!0,data:O}}if(Array.isArray(_)&&Array.isArray(R)){if(_.length!==R.length)return{valid:!1,mergeErrorPath:[]};const P=[];for(let I=0;I<_.length;I++){const O=_[I],z=R[I],L=mergeValues(O,z);if(!L.valid)return{valid:!1,mergeErrorPath:[I,...L.mergeErrorPath]};P.push(L.data)}return{valid:!0,data:P}}return{valid:!1,mergeErrorPath:[]}}function handleIntersectionResults(_,R,P){const I=new Map;let O;for(const F of R.issues)if(F.code==="unrecognized_keys"){O??(O=F);for(const U of F.keys)I.has(U)||I.set(U,{}),I.get(U).l=!0}else _.issues.push(F);for(const F of P.issues)if(F.code==="unrecognized_keys")for(const U of F.keys)I.has(U)||I.set(U,{}),I.get(U).r=!0;else _.issues.push(F);const z=[...I].filter(([,F])=>F.l&&F.r).map(([F])=>F);if(z.length&&O&&_.issues.push({...O,keys:z}),aborted(_))return _;const L=mergeValues(R.value,P.value);if(!L.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(L.mergeErrorPath)}`);return _.value=L.data,_}const $ZodTuple=$constructor("$ZodTuple",(_,R)=>{$ZodType.init(_,R);const P=R.items;_._zod.parse=(I,O)=>{const z=I.value;if(!Array.isArray(z))return I.issues.push({input:z,inst:_,expected:"tuple",code:"invalid_type"}),I;I.value=[];const L=[],F=[...P].reverse().findIndex(q=>q._zod.optin!=="optional"),U=F===-1?0:P.length-F;if(!R.rest){const q=z.length>P.length,W=z.length<U-1;if(q||W)return I.issues.push({...q?{code:"too_big",maximum:P.length,inclusive:!0}:{code:"too_small",minimum:P.length},input:z,inst:_,origin:"array"}),I}let V=-1;for(const q of P){if(V++,V>=z.length&&V>=U)continue;const W=q._zod.run({value:z[V],issues:[]},O);W instanceof Promise?L.push(W.then(Y=>handleTupleResult(Y,I,V))):handleTupleResult(W,I,V)}if(R.rest){const q=z.slice(P.length);for(const W of q){V++;const Y=R.rest._zod.run({value:W,issues:[]},O);Y instanceof Promise?L.push(Y.then(Q=>handleTupleResult(Q,I,V))):handleTupleResult(Y,I,V)}}return L.length?Promise.all(L).then(()=>I):I}});function handleTupleResult(_,R,P){_.issues.length&&R.issues.push(...prefixIssues(P,_.issues)),R.value[P]=_.value}const $ZodRecord=$constructor("$ZodRecord",(_,R)=>{$ZodType.init(_,R),_._zod.parse=(P,I)=>{const O=P.value;if(!isPlainObject$2(O))return P.issues.push({expected:"record",code:"invalid_type",input:O,inst:_}),P;const z=[],L=R.keyType._zod.values;if(L){P.value={};const F=new Set;for(const V of L)if(typeof V=="string"||typeof V=="number"||typeof V=="symbol"){F.add(typeof V=="number"?V.toString():V);const q=R.valueType._zod.run({value:O[V],issues:[]},I);q instanceof Promise?z.push(q.then(W=>{W.issues.length&&P.issues.push(...prefixIssues(V,W.issues)),P.value[V]=W.value})):(q.issues.length&&P.issues.push(...prefixIssues(V,q.issues)),P.value[V]=q.value)}let U;for(const V in O)F.has(V)||(U=U??[],U.push(V));U&&U.length>0&&P.issues.push({code:"unrecognized_keys",input:O,inst:_,keys:U})}else{P.value={};for(const F of Reflect.ownKeys(O)){if(F==="__proto__")continue;let U=R.keyType._zod.run({value:F,issues:[]},I);if(U instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof F=="string"&&number$7.test(F)&&U.issues.length&&U.issues.some(W=>W.code==="invalid_type"&&W.expected==="number")){const W=R.keyType._zod.run({value:Number(F),issues:[]},I);if(W instanceof Promise)throw new Error("Async schemas not supported in object keys currently");W.issues.length===0&&(U=W)}if(U.issues.length){R.mode==="loose"?P.value[F]=O[F]:P.issues.push({code:"invalid_key",origin:"record",issues:U.issues.map(W=>finalizeIssue(W,I,config())),input:F,path:[F],inst:_});continue}const q=R.valueType._zod.run({value:O[F],issues:[]},I);q instanceof Promise?z.push(q.then(W=>{W.issues.length&&P.issues.push(...prefixIssues(F,W.issues)),P.value[U.value]=W.value})):(q.issues.length&&P.issues.push(...prefixIssues(F,q.issues)),P.value[U.value]=q.value)}}return z.length?Promise.all(z).then(()=>P):P}}),$ZodEnum=$constructor("$ZodEnum",(_,R)=>{$ZodType.init(_,R);const P=getEnumValues(R.entries),I=new Set(P);_._zod.values=I,_._zod.pattern=new RegExp(`^(${P.filter(O=>propertyKeyTypes.has(typeof O)).map(O=>typeof O=="string"?escapeRegex(O):O.toString()).join("|")})$`),_._zod.parse=(O,z)=>{const L=O.value;return I.has(L)||O.issues.push({code:"invalid_value",values:P,input:L,inst:_}),O}}),$ZodLiteral=$constructor("$ZodLiteral",(_,R)=>{if($ZodType.init(_,R),R.values.length===0)throw new Error("Cannot create literal schema with no valid values");const P=new Set(R.values);_._zod.values=P,_._zod.pattern=new RegExp(`^(${R.values.map(I=>typeof I=="string"?escapeRegex(I):I?escapeRegex(I.toString()):String(I)).join("|")})$`),_._zod.parse=(I,O)=>{const z=I.value;return P.has(z)||I.issues.push({code:"invalid_value",values:R.values,input:z,inst:_}),I}}),$ZodTransform=$constructor("$ZodTransform",(_,R)=>{$ZodType.init(_,R),_._zod.parse=(P,I)=>{if(I.direction==="backward")throw new $ZodEncodeError(_.constructor.name);const O=R.transform(P.value,P);if(I.async)return(O instanceof Promise?O:Promise.resolve(O)).then(L=>(P.value=L,P));if(O instanceof Promise)throw new $ZodAsyncError;return P.value=O,P}});function handleOptionalResult(_,R){return _.issues.length&&R===void 0?{issues:[],value:void 0}:_}const $ZodOptional=$constructor("$ZodOptional",(_,R)=>{$ZodType.init(_,R),_._zod.optin="optional",_._zod.optout="optional",defineLazy(_._zod,"values",()=>R.innerType._zod.values?new Set([...R.innerType._zod.values,void 0]):void 0),defineLazy(_._zod,"pattern",()=>{const P=R.innerType._zod.pattern;return P?new RegExp(`^(${cleanRegex(P.source)})?$`):void 0}),_._zod.parse=(P,I)=>{if(R.innerType._zod.optin==="optional"){const O=R.innerType._zod.run(P,I);return O instanceof Promise?O.then(z=>handleOptionalResult(z,P.value)):handleOptionalResult(O,P.value)}return P.value===void 0?P:R.innerType._zod.run(P,I)}}),$ZodExactOptional=$constructor("$ZodExactOptional",(_,R)=>{$ZodOptional.init(_,R),defineLazy(_._zod,"values",()=>R.innerType._zod.values),defineLazy(_._zod,"pattern",()=>R.innerType._zod.pattern),_._zod.parse=(P,I)=>R.innerType._zod.run(P,I)}),$ZodNullable=$constructor("$ZodNullable",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"optin",()=>R.innerType._zod.optin),defineLazy(_._zod,"optout",()=>R.innerType._zod.optout),defineLazy(_._zod,"pattern",()=>{const P=R.innerType._zod.pattern;return P?new RegExp(`^(${cleanRegex(P.source)}|null)$`):void 0}),defineLazy(_._zod,"values",()=>R.innerType._zod.values?new Set([...R.innerType._zod.values,null]):void 0),_._zod.parse=(P,I)=>P.value===null?P:R.innerType._zod.run(P,I)}),$ZodDefault=$constructor("$ZodDefault",(_,R)=>{$ZodType.init(_,R),_._zod.optin="optional",defineLazy(_._zod,"values",()=>R.innerType._zod.values),_._zod.parse=(P,I)=>{if(I.direction==="backward")return R.innerType._zod.run(P,I);if(P.value===void 0)return P.value=R.defaultValue,P;const O=R.innerType._zod.run(P,I);return O instanceof Promise?O.then(z=>handleDefaultResult(z,R)):handleDefaultResult(O,R)}});function handleDefaultResult(_,R){return _.value===void 0&&(_.value=R.defaultValue),_}const $ZodPrefault=$constructor("$ZodPrefault",(_,R)=>{$ZodType.init(_,R),_._zod.optin="optional",defineLazy(_._zod,"values",()=>R.innerType._zod.values),_._zod.parse=(P,I)=>(I.direction==="backward"||P.value===void 0&&(P.value=R.defaultValue),R.innerType._zod.run(P,I))}),$ZodNonOptional=$constructor("$ZodNonOptional",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"values",()=>{const P=R.innerType._zod.values;return P?new Set([...P].filter(I=>I!==void 0)):void 0}),_._zod.parse=(P,I)=>{const O=R.innerType._zod.run(P,I);return O instanceof Promise?O.then(z=>handleNonOptionalResult(z,_)):handleNonOptionalResult(O,_)}});function handleNonOptionalResult(_,R){return!_.issues.length&&_.value===void 0&&_.issues.push({code:"invalid_type",expected:"nonoptional",input:_.value,inst:R}),_}const $ZodCatch=$constructor("$ZodCatch",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"optin",()=>R.innerType._zod.optin),defineLazy(_._zod,"optout",()=>R.innerType._zod.optout),defineLazy(_._zod,"values",()=>R.innerType._zod.values),_._zod.parse=(P,I)=>{if(I.direction==="backward")return R.innerType._zod.run(P,I);const O=R.innerType._zod.run(P,I);return O instanceof Promise?O.then(z=>(P.value=z.value,z.issues.length&&(P.value=R.catchValue({...P,error:{issues:z.issues.map(L=>finalizeIssue(L,I,config()))},input:P.value}),P.issues=[]),P)):(P.value=O.value,O.issues.length&&(P.value=R.catchValue({...P,error:{issues:O.issues.map(z=>finalizeIssue(z,I,config()))},input:P.value}),P.issues=[]),P)}}),$ZodPipe=$constructor("$ZodPipe",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"values",()=>R.in._zod.values),defineLazy(_._zod,"optin",()=>R.in._zod.optin),defineLazy(_._zod,"optout",()=>R.out._zod.optout),defineLazy(_._zod,"propValues",()=>R.in._zod.propValues),_._zod.parse=(P,I)=>{if(I.direction==="backward"){const z=R.out._zod.run(P,I);return z instanceof Promise?z.then(L=>handlePipeResult(L,R.in,I)):handlePipeResult(z,R.in,I)}const O=R.in._zod.run(P,I);return O instanceof Promise?O.then(z=>handlePipeResult(z,R.out,I)):handlePipeResult(O,R.out,I)}});function handlePipeResult(_,R,P){return _.issues.length?(_.aborted=!0,_):R._zod.run({value:_.value,issues:_.issues},P)}const $ZodReadonly=$constructor("$ZodReadonly",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"propValues",()=>R.innerType._zod.propValues),defineLazy(_._zod,"values",()=>R.innerType._zod.values),defineLazy(_._zod,"optin",()=>R.innerType?._zod?.optin),defineLazy(_._zod,"optout",()=>R.innerType?._zod?.optout),_._zod.parse=(P,I)=>{if(I.direction==="backward")return R.innerType._zod.run(P,I);const O=R.innerType._zod.run(P,I);return O instanceof Promise?O.then(handleReadonlyResult):handleReadonlyResult(O)}});function handleReadonlyResult(_){return _.value=Object.freeze(_.value),_}const $ZodCustom=$constructor("$ZodCustom",(_,R)=>{$ZodCheck.init(_,R),$ZodType.init(_,R),_._zod.parse=(P,I)=>P,_._zod.check=P=>{const I=P.value,O=R.fn(I);if(O instanceof Promise)return O.then(z=>handleRefineResult(z,P,I,_));handleRefineResult(O,P,I,_)}});function handleRefineResult(_,R,P,I){if(!_){const O={code:"custom",input:P,inst:I,path:[...I._zod.def.path??[]],continue:!I._zod.def.abort};I._zod.def.params&&(O.params=I._zod.def.params),R.issues.push(issue(O))}}var _a;class $ZodRegistry{constructor(){this._map=new WeakMap,this._idmap=new Map}add(R,...P){const I=P[0];return this._map.set(R,I),I&&typeof I=="object"&&"id"in I&&this._idmap.set(I.id,R),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(R){const P=this._map.get(R);return P&&typeof P=="object"&&"id"in P&&this._idmap.delete(P.id),this._map.delete(R),this}get(R){const P=R._zod.parent;if(P){const I={...this.get(P)??{}};delete I.id;const O={...I,...this._map.get(R)};return Object.keys(O).length?O:void 0}return this._map.get(R)}has(R){return this._map.has(R)}}function registry$1(){return new $ZodRegistry}(_a=globalThis).__zod_globalRegistry??(_a.__zod_globalRegistry=registry$1());const globalRegistry=globalThis.__zod_globalRegistry;function _string(_,R){return new _({type:"string",...normalizeParams(R)})}function _email(_,R){return new _({type:"string",format:"email",check:"string_format",abort:!1,...normalizeParams(R)})}function _guid(_,R){return new _({type:"string",format:"guid",check:"string_format",abort:!1,...normalizeParams(R)})}function _uuid(_,R){return new _({type:"string",format:"uuid",check:"string_format",abort:!1,...normalizeParams(R)})}function _uuidv4(_,R){return new _({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...normalizeParams(R)})}function _uuidv6(_,R){return new _({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...normalizeParams(R)})}function _uuidv7(_,R){return new _({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...normalizeParams(R)})}function _url(_,R){return new _({type:"string",format:"url",check:"string_format",abort:!1,...normalizeParams(R)})}function _emoji(_,R){return new _({type:"string",format:"emoji",check:"string_format",abort:!1,...normalizeParams(R)})}function _nanoid(_,R){return new _({type:"string",format:"nanoid",check:"string_format",abort:!1,...normalizeParams(R)})}function _cuid(_,R){return new _({type:"string",format:"cuid",check:"string_format",abort:!1,...normalizeParams(R)})}function _cuid2(_,R){return new _({type:"string",format:"cuid2",check:"string_format",abort:!1,...normalizeParams(R)})}function _ulid(_,R){return new _({type:"string",format:"ulid",check:"string_format",abort:!1,...normalizeParams(R)})}function _xid(_,R){return new _({type:"string",format:"xid",check:"string_format",abort:!1,...normalizeParams(R)})}function _ksuid(_,R){return new _({type:"string",format:"ksuid",check:"string_format",abort:!1,...normalizeParams(R)})}function _ipv4(_,R){return new _({type:"string",format:"ipv4",check:"string_format",abort:!1,...normalizeParams(R)})}function _ipv6(_,R){return new _({type:"string",format:"ipv6",check:"string_format",abort:!1,...normalizeParams(R)})}function _cidrv4(_,R){return new _({type:"string",format:"cidrv4",check:"string_format",abort:!1,...normalizeParams(R)})}function _cidrv6(_,R){return new _({type:"string",format:"cidrv6",check:"string_format",abort:!1,...normalizeParams(R)})}function _base64(_,R){return new _({type:"string",format:"base64",check:"string_format",abort:!1,...normalizeParams(R)})}function _base64url(_,R){return new _({type:"string",format:"base64url",check:"string_format",abort:!1,...normalizeParams(R)})}function _e164(_,R){return new _({type:"string",format:"e164",check:"string_format",abort:!1,...normalizeParams(R)})}function _jwt(_,R){return new _({type:"string",format:"jwt",check:"string_format",abort:!1,...normalizeParams(R)})}function _isoDateTime(_,R){return new _({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...normalizeParams(R)})}function _isoDate(_,R){return new _({type:"string",format:"date",check:"string_format",...normalizeParams(R)})}function _isoTime(_,R){return new _({type:"string",format:"time",check:"string_format",precision:null,...normalizeParams(R)})}function _isoDuration(_,R){return new _({type:"string",format:"duration",check:"string_format",...normalizeParams(R)})}function _number(_,R){return new _({type:"number",checks:[],...normalizeParams(R)})}function _int(_,R){return new _({type:"number",check:"number_format",abort:!1,format:"safeint",...normalizeParams(R)})}function _boolean(_,R){return new _({type:"boolean",...normalizeParams(R)})}function _unknown(_){return new _({type:"unknown"})}function _never(_,R){return new _({type:"never",...normalizeParams(R)})}function _lt(_,R){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(R),value:_,inclusive:!1})}function _lte(_,R){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(R),value:_,inclusive:!0})}function _gt(_,R){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(R),value:_,inclusive:!1})}function _gte(_,R){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(R),value:_,inclusive:!0})}function _multipleOf(_,R){return new $ZodCheckMultipleOf({check:"multiple_of",...normalizeParams(R),value:_})}function _maxLength(_,R){return new $ZodCheckMaxLength({check:"max_length",...normalizeParams(R),maximum:_})}function _minLength(_,R){return new $ZodCheckMinLength({check:"min_length",...normalizeParams(R),minimum:_})}function _length(_,R){return new $ZodCheckLengthEquals({check:"length_equals",...normalizeParams(R),length:_})}function _regex(_,R){return new $ZodCheckRegex({check:"string_format",format:"regex",...normalizeParams(R),pattern:_})}function _lowercase(_){return new $ZodCheckLowerCase({check:"string_format",format:"lowercase",...normalizeParams(_)})}function _uppercase(_){return new $ZodCheckUpperCase({check:"string_format",format:"uppercase",...normalizeParams(_)})}function _includes(_,R){return new $ZodCheckIncludes({check:"string_format",format:"includes",...normalizeParams(R),includes:_})}function _startsWith(_,R){return new $ZodCheckStartsWith({check:"string_format",format:"starts_with",...normalizeParams(R),prefix:_})}function _endsWith(_,R){return new $ZodCheckEndsWith({check:"string_format",format:"ends_with",...normalizeParams(R),suffix:_})}function _overwrite(_){return new $ZodCheckOverwrite({check:"overwrite",tx:_})}function _normalize(_){return _overwrite(R=>R.normalize(_))}function _trim(){return _overwrite(_=>_.trim())}function _toLowerCase(){return _overwrite(_=>_.toLowerCase())}function _toUpperCase(){return _overwrite(_=>_.toUpperCase())}function _slugify(){return _overwrite(_=>slugify(_))}function _array(_,R,P){return new _({type:"array",element:R,...normalizeParams(P)})}function _refine(_,R,P){return new _({type:"custom",check:"custom",fn:R,...normalizeParams(P)})}function _superRefine(_){const R=_check(P=>(P.addIssue=I=>{if(typeof I=="string")P.issues.push(issue(I,P.value,R._zod.def));else{const O=I;O.fatal&&(O.continue=!1),O.code??(O.code="custom"),O.input??(O.input=P.value),O.inst??(O.inst=R),O.continue??(O.continue=!R._zod.def.abort),P.issues.push(issue(O))}},_(P.value,P)));return R}function _check(_,R){const P=new $ZodCheck({check:"custom",...normalizeParams(R)});return P._zod.check=_,P}function initializeContext(_){let R=_?.target??"draft-2020-12";return R==="draft-4"&&(R="draft-04"),R==="draft-7"&&(R="draft-07"),{processors:_.processors??{},metadataRegistry:_?.metadata??globalRegistry,target:R,unrepresentable:_?.unrepresentable??"throw",override:_?.override??(()=>{}),io:_?.io??"output",counter:0,seen:new Map,cycles:_?.cycles??"ref",reused:_?.reused??"inline",external:_?.external??void 0}}function process$1(_,R,P={path:[],schemaPath:[]}){var I;const O=_._zod.def,z=R.seen.get(_);if(z)return z.count++,P.schemaPath.includes(_)&&(z.cycle=P.path),z.schema;const L={schema:{},count:1,cycle:void 0,path:P.path};R.seen.set(_,L);const F=_._zod.toJSONSchema?.();if(F)L.schema=F;else{const q={...P,schemaPath:[...P.schemaPath,_],path:P.path};if(_._zod.processJSONSchema)_._zod.processJSONSchema(R,L.schema,q);else{const Y=L.schema,Q=R.processors[O.type];if(!Q)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${O.type}`);Q(_,R,Y,q)}const W=_._zod.parent;W&&(L.ref||(L.ref=W),process$1(W,R,q),R.seen.get(W).isParent=!0)}const U=R.metadataRegistry.get(_);return U&&Object.assign(L.schema,U),R.io==="input"&&isTransforming(_)&&(delete L.schema.examples,delete L.schema.default),R.io==="input"&&L.schema._prefault&&((I=L.schema).default??(I.default=L.schema._prefault)),delete L.schema._prefault,R.seen.get(_).schema}function extractDefs(_,R){const P=_.seen.get(R);if(!P)throw new Error("Unprocessed schema. This is a bug in Zod.");const I=new Map;for(const L of _.seen.entries()){const F=_.metadataRegistry.get(L[0])?.id;if(F){const U=I.get(F);if(U&&U!==L[0])throw new Error(`Duplicate schema id "${F}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);I.set(F,L[0])}}const O=L=>{const F=_.target==="draft-2020-12"?"$defs":"definitions";if(_.external){const W=_.external.registry.get(L[0])?.id,Y=_.external.uri??(ee=>ee);if(W)return{ref:Y(W)};const Q=L[1].defId??L[1].schema.id??`schema${_.counter++}`;return L[1].defId=Q,{defId:Q,ref:`${Y("__shared")}#/${F}/${Q}`}}if(L[1]===P)return{ref:"#"};const V=`#/${F}/`,q=L[1].schema.id??`__schema${_.counter++}`;return{defId:q,ref:V+q}},z=L=>{if(L[1].schema.$ref)return;const F=L[1],{ref:U,defId:V}=O(L);F.def={...F.schema},V&&(F.defId=V);const q=F.schema;for(const W in q)delete q[W];q.$ref=U};if(_.cycles==="throw")for(const L of _.seen.entries()){const F=L[1];if(F.cycle)throw new Error(`Cycle detected: #/${F.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const L of _.seen.entries()){const F=L[1];if(R===L[0]){z(L);continue}if(_.external){const V=_.external.registry.get(L[0])?.id;if(R!==L[0]&&V){z(L);continue}}if(_.metadataRegistry.get(L[0])?.id){z(L);continue}if(F.cycle){z(L);continue}if(F.count>1&&_.reused==="ref"){z(L);continue}}}function finalize(_,R){const P=_.seen.get(R);if(!P)throw new Error("Unprocessed schema. This is a bug in Zod.");const I=L=>{const F=_.seen.get(L);if(F.ref===null)return;const U=F.def??F.schema,V={...U},q=F.ref;if(F.ref=null,q){I(q);const Y=_.seen.get(q),Q=Y.schema;if(Q.$ref&&(_.target==="draft-07"||_.target==="draft-04"||_.target==="openapi-3.0")?(U.allOf=U.allOf??[],U.allOf.push(Q)):Object.assign(U,Q),Object.assign(U,V),L._zod.parent===q)for(const te in U)te==="$ref"||te==="allOf"||te in V||delete U[te];if(Q.$ref)for(const te in U)te==="$ref"||te==="allOf"||te in Y.def&&JSON.stringify(U[te])===JSON.stringify(Y.def[te])&&delete U[te]}const W=L._zod.parent;if(W&&W!==q){I(W);const Y=_.seen.get(W);if(Y?.schema.$ref&&(U.$ref=Y.schema.$ref,Y.def))for(const Q in U)Q==="$ref"||Q==="allOf"||Q in Y.def&&JSON.stringify(U[Q])===JSON.stringify(Y.def[Q])&&delete U[Q]}_.override({zodSchema:L,jsonSchema:U,path:F.path??[]})};for(const L of[..._.seen.entries()].reverse())I(L[0]);const O={};if(_.target==="draft-2020-12"?O.$schema="https://json-schema.org/draft/2020-12/schema":_.target==="draft-07"?O.$schema="http://json-schema.org/draft-07/schema#":_.target==="draft-04"?O.$schema="http://json-schema.org/draft-04/schema#":_.target,_.external?.uri){const L=_.external.registry.get(R)?.id;if(!L)throw new Error("Schema is missing an `id` property");O.$id=_.external.uri(L)}Object.assign(O,P.def??P.schema);const z=_.external?.defs??{};for(const L of _.seen.entries()){const F=L[1];F.def&&F.defId&&(z[F.defId]=F.def)}_.external||Object.keys(z).length>0&&(_.target==="draft-2020-12"?O.$defs=z:O.definitions=z);try{const L=JSON.parse(JSON.stringify(O));return Object.defineProperty(L,"~standard",{value:{...R["~standard"],jsonSchema:{input:createStandardJSONSchemaMethod(R,"input",_.processors),output:createStandardJSONSchemaMethod(R,"output",_.processors)}},enumerable:!1,writable:!1}),L}catch{throw new Error("Error converting schema to JSON.")}}function isTransforming(_,R){const P=R??{seen:new Set};if(P.seen.has(_))return!1;P.seen.add(_);const I=_._zod.def;if(I.type==="transform")return!0;if(I.type==="array")return isTransforming(I.element,P);if(I.type==="set")return isTransforming(I.valueType,P);if(I.type==="lazy")return isTransforming(I.getter(),P);if(I.type==="promise"||I.type==="optional"||I.type==="nonoptional"||I.type==="nullable"||I.type==="readonly"||I.type==="default"||I.type==="prefault")return isTransforming(I.innerType,P);if(I.type==="intersection")return isTransforming(I.left,P)||isTransforming(I.right,P);if(I.type==="record"||I.type==="map")return isTransforming(I.keyType,P)||isTransforming(I.valueType,P);if(I.type==="pipe")return isTransforming(I.in,P)||isTransforming(I.out,P);if(I.type==="object"){for(const O in I.shape)if(isTransforming(I.shape[O],P))return!0;return!1}if(I.type==="union"){for(const O of I.options)if(isTransforming(O,P))return!0;return!1}if(I.type==="tuple"){for(const O of I.items)if(isTransforming(O,P))return!0;return!!(I.rest&&isTransforming(I.rest,P))}return!1}const createToJSONSchemaMethod=(_,R={})=>P=>{const I=initializeContext({...P,processors:R});return process$1(_,I),extractDefs(I,_),finalize(I,_)},createStandardJSONSchemaMethod=(_,R,P={})=>I=>{const{libraryOptions:O,target:z}=I??{},L=initializeContext({...O??{},target:z,io:R,processors:P});return process$1(_,L),extractDefs(L,_),finalize(L,_)},formatMap={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},stringProcessor=(_,R,P,I)=>{const O=P;O.type="string";const{minimum:z,maximum:L,format:F,patterns:U,contentEncoding:V}=_._zod.bag;if(typeof z=="number"&&(O.minLength=z),typeof L=="number"&&(O.maxLength=L),F&&(O.format=formatMap[F]??F,O.format===""&&delete O.format,F==="time"&&delete O.format),V&&(O.contentEncoding=V),U&&U.size>0){const q=[...U];q.length===1?O.pattern=q[0].source:q.length>1&&(O.allOf=[...q.map(W=>({...R.target==="draft-07"||R.target==="draft-04"||R.target==="openapi-3.0"?{type:"string"}:{},pattern:W.source}))])}},numberProcessor=(_,R,P,I)=>{const O=P,{minimum:z,maximum:L,format:F,multipleOf:U,exclusiveMaximum:V,exclusiveMinimum:q}=_._zod.bag;typeof F=="string"&&F.includes("int")?O.type="integer":O.type="number",typeof q=="number"&&(R.target==="draft-04"||R.target==="openapi-3.0"?(O.minimum=q,O.exclusiveMinimum=!0):O.exclusiveMinimum=q),typeof z=="number"&&(O.minimum=z,typeof q=="number"&&R.target!=="draft-04"&&(q>=z?delete O.minimum:delete O.exclusiveMinimum)),typeof V=="number"&&(R.target==="draft-04"||R.target==="openapi-3.0"?(O.maximum=V,O.exclusiveMaximum=!0):O.exclusiveMaximum=V),typeof L=="number"&&(O.maximum=L,typeof V=="number"&&R.target!=="draft-04"&&(V<=L?delete O.maximum:delete O.exclusiveMaximum)),typeof U=="number"&&(O.multipleOf=U)},booleanProcessor=(_,R,P,I)=>{P.type="boolean"},neverProcessor=(_,R,P,I)=>{P.not={}},unknownProcessor=(_,R,P,I)=>{},enumProcessor=(_,R,P,I)=>{const O=_._zod.def,z=getEnumValues(O.entries);z.every(L=>typeof L=="number")&&(P.type="number"),z.every(L=>typeof L=="string")&&(P.type="string"),P.enum=z},literalProcessor=(_,R,P,I)=>{const O=_._zod.def,z=[];for(const L of O.values)if(L===void 0){if(R.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof L=="bigint"){if(R.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");z.push(Number(L))}else z.push(L);if(z.length!==0)if(z.length===1){const L=z[0];P.type=L===null?"null":typeof L,R.target==="draft-04"||R.target==="openapi-3.0"?P.enum=[L]:P.const=L}else z.every(L=>typeof L=="number")&&(P.type="number"),z.every(L=>typeof L=="string")&&(P.type="string"),z.every(L=>typeof L=="boolean")&&(P.type="boolean"),z.every(L=>L===null)&&(P.type="null"),P.enum=z},customProcessor=(_,R,P,I)=>{if(R.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},transformProcessor=(_,R,P,I)=>{if(R.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},arrayProcessor=(_,R,P,I)=>{const O=P,z=_._zod.def,{minimum:L,maximum:F}=_._zod.bag;typeof L=="number"&&(O.minItems=L),typeof F=="number"&&(O.maxItems=F),O.type="array",O.items=process$1(z.element,R,{...I,path:[...I.path,"items"]})},objectProcessor=(_,R,P,I)=>{const O=P,z=_._zod.def;O.type="object",O.properties={};const L=z.shape;for(const V in L)O.properties[V]=process$1(L[V],R,{...I,path:[...I.path,"properties",V]});const F=new Set(Object.keys(L)),U=new Set([...F].filter(V=>{const q=z.shape[V]._zod;return R.io==="input"?q.optin===void 0:q.optout===void 0}));U.size>0&&(O.required=Array.from(U)),z.catchall?._zod.def.type==="never"?O.additionalProperties=!1:z.catchall?z.catchall&&(O.additionalProperties=process$1(z.catchall,R,{...I,path:[...I.path,"additionalProperties"]})):R.io==="output"&&(O.additionalProperties=!1)},unionProcessor=(_,R,P,I)=>{const O=_._zod.def,z=O.inclusive===!1,L=O.options.map((F,U)=>process$1(F,R,{...I,path:[...I.path,z?"oneOf":"anyOf",U]}));z?P.oneOf=L:P.anyOf=L},intersectionProcessor=(_,R,P,I)=>{const O=_._zod.def,z=process$1(O.left,R,{...I,path:[...I.path,"allOf",0]}),L=process$1(O.right,R,{...I,path:[...I.path,"allOf",1]}),F=V=>"allOf"in V&&Object.keys(V).length===1,U=[...F(z)?z.allOf:[z],...F(L)?L.allOf:[L]];P.allOf=U},tupleProcessor=(_,R,P,I)=>{const O=P,z=_._zod.def;O.type="array";const L=R.target==="draft-2020-12"?"prefixItems":"items",F=R.target==="draft-2020-12"||R.target==="openapi-3.0"?"items":"additionalItems",U=z.items.map((Y,Q)=>process$1(Y,R,{...I,path:[...I.path,L,Q]})),V=z.rest?process$1(z.rest,R,{...I,path:[...I.path,F,...R.target==="openapi-3.0"?[z.items.length]:[]]}):null;R.target==="draft-2020-12"?(O.prefixItems=U,V&&(O.items=V)):R.target==="openapi-3.0"?(O.items={anyOf:U},V&&O.items.anyOf.push(V),O.minItems=U.length,V||(O.maxItems=U.length)):(O.items=U,V&&(O.additionalItems=V));const{minimum:q,maximum:W}=_._zod.bag;typeof q=="number"&&(O.minItems=q),typeof W=="number"&&(O.maxItems=W)},recordProcessor=(_,R,P,I)=>{const O=P,z=_._zod.def;O.type="object";const L=z.keyType,U=L._zod.bag?.patterns;if(z.mode==="loose"&&U&&U.size>0){const q=process$1(z.valueType,R,{...I,path:[...I.path,"patternProperties","*"]});O.patternProperties={};for(const W of U)O.patternProperties[W.source]=q}else(R.target==="draft-07"||R.target==="draft-2020-12")&&(O.propertyNames=process$1(z.keyType,R,{...I,path:[...I.path,"propertyNames"]})),O.additionalProperties=process$1(z.valueType,R,{...I,path:[...I.path,"additionalProperties"]});const V=L._zod.values;if(V){const q=[...V].filter(W=>typeof W=="string"||typeof W=="number");q.length>0&&(O.required=q)}},nullableProcessor=(_,R,P,I)=>{const O=_._zod.def,z=process$1(O.innerType,R,I),L=R.seen.get(_);R.target==="openapi-3.0"?(L.ref=O.innerType,P.nullable=!0):P.anyOf=[z,{type:"null"}]},nonoptionalProcessor=(_,R,P,I)=>{const O=_._zod.def;process$1(O.innerType,R,I);const z=R.seen.get(_);z.ref=O.innerType},defaultProcessor=(_,R,P,I)=>{const O=_._zod.def;process$1(O.innerType,R,I);const z=R.seen.get(_);z.ref=O.innerType,P.default=JSON.parse(JSON.stringify(O.defaultValue))},prefaultProcessor=(_,R,P,I)=>{const O=_._zod.def;process$1(O.innerType,R,I);const z=R.seen.get(_);z.ref=O.innerType,R.io==="input"&&(P._prefault=JSON.parse(JSON.stringify(O.defaultValue)))},catchProcessor=(_,R,P,I)=>{const O=_._zod.def;process$1(O.innerType,R,I);const z=R.seen.get(_);z.ref=O.innerType;let L;try{L=O.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}P.default=L},pipeProcessor=(_,R,P,I)=>{const O=_._zod.def,z=R.io==="input"?O.in._zod.def.type==="transform"?O.out:O.in:O.out;process$1(z,R,I);const L=R.seen.get(_);L.ref=z},readonlyProcessor=(_,R,P,I)=>{const O=_._zod.def;process$1(O.innerType,R,I);const z=R.seen.get(_);z.ref=O.innerType,P.readOnly=!0},optionalProcessor=(_,R,P,I)=>{const O=_._zod.def;process$1(O.innerType,R,I);const z=R.seen.get(_);z.ref=O.innerType},ZodISODateTime=$constructor("ZodISODateTime",(_,R)=>{$ZodISODateTime.init(_,R),ZodStringFormat.init(_,R)});function datetime(_){return _isoDateTime(ZodISODateTime,_)}const ZodISODate=$constructor("ZodISODate",(_,R)=>{$ZodISODate.init(_,R),ZodStringFormat.init(_,R)});function date$2(_){return _isoDate(ZodISODate,_)}const ZodISOTime=$constructor("ZodISOTime",(_,R)=>{$ZodISOTime.init(_,R),ZodStringFormat.init(_,R)});function time$1(_){return _isoTime(ZodISOTime,_)}const ZodISODuration=$constructor("ZodISODuration",(_,R)=>{$ZodISODuration.init(_,R),ZodStringFormat.init(_,R)});function duration(_){return _isoDuration(ZodISODuration,_)}const initializer$1=(_,R)=>{$ZodError.init(_,R),_.name="ZodError",Object.defineProperties(_,{format:{value:P=>formatError(_,P)},flatten:{value:P=>flattenError(_,P)},addIssue:{value:P=>{_.issues.push(P),_.message=JSON.stringify(_.issues,jsonStringifyReplacer,2)}},addIssues:{value:P=>{_.issues.push(...P),_.message=JSON.stringify(_.issues,jsonStringifyReplacer,2)}},isEmpty:{get(){return _.issues.length===0}}})},ZodRealError=$constructor("ZodError",initializer$1,{Parent:Error}),parse$7=_parse(ZodRealError),parseAsync=_parseAsync(ZodRealError),safeParse=_safeParse(ZodRealError),safeParseAsync=_safeParseAsync(ZodRealError),encode=_encode(ZodRealError),decode$1=_decode(ZodRealError),encodeAsync=_encodeAsync(ZodRealError),decodeAsync=_decodeAsync(ZodRealError),safeEncode=_safeEncode(ZodRealError),safeDecode=_safeDecode(ZodRealError),safeEncodeAsync=_safeEncodeAsync(ZodRealError),safeDecodeAsync=_safeDecodeAsync(ZodRealError),ZodType=$constructor("ZodType",(_,R)=>($ZodType.init(_,R),Object.assign(_["~standard"],{jsonSchema:{input:createStandardJSONSchemaMethod(_,"input"),output:createStandardJSONSchemaMethod(_,"output")}}),_.toJSONSchema=createToJSONSchemaMethod(_,{}),_.def=R,_.type=R.type,Object.defineProperty(_,"_def",{value:R}),_.check=(...P)=>_.clone(mergeDefs(R,{checks:[...R.checks??[],...P.map(I=>typeof I=="function"?{_zod:{check:I,def:{check:"custom"},onattach:[]}}:I)]}),{parent:!0}),_.with=_.check,_.clone=(P,I)=>clone(_,P,I),_.brand=()=>_,_.register=((P,I)=>(P.add(_,I),_)),_.parse=(P,I)=>parse$7(_,P,I,{callee:_.parse}),_.safeParse=(P,I)=>safeParse(_,P,I),_.parseAsync=async(P,I)=>parseAsync(_,P,I,{callee:_.parseAsync}),_.safeParseAsync=async(P,I)=>safeParseAsync(_,P,I),_.spa=_.safeParseAsync,_.encode=(P,I)=>encode(_,P,I),_.decode=(P,I)=>decode$1(_,P,I),_.encodeAsync=async(P,I)=>encodeAsync(_,P,I),_.decodeAsync=async(P,I)=>decodeAsync(_,P,I),_.safeEncode=(P,I)=>safeEncode(_,P,I),_.safeDecode=(P,I)=>safeDecode(_,P,I),_.safeEncodeAsync=async(P,I)=>safeEncodeAsync(_,P,I),_.safeDecodeAsync=async(P,I)=>safeDecodeAsync(_,P,I),_.refine=(P,I)=>_.check(refine(P,I)),_.superRefine=P=>_.check(superRefine(P)),_.overwrite=P=>_.check(_overwrite(P)),_.optional=()=>optional(_),_.exactOptional=()=>exactOptional(_),_.nullable=()=>nullable(_),_.nullish=()=>optional(nullable(_)),_.nonoptional=P=>nonoptional(_,P),_.array=()=>array$2(_),_.or=P=>union([_,P]),_.and=P=>intersection(_,P),_.transform=P=>pipe(_,transform$1(P)),_.default=P=>_default(_,P),_.prefault=P=>prefault(_,P),_.catch=P=>_catch(_,P),_.pipe=P=>pipe(_,P),_.readonly=()=>readonly(_),_.describe=P=>{const I=_.clone();return globalRegistry.add(I,{description:P}),I},Object.defineProperty(_,"description",{get(){return globalRegistry.get(_)?.description},configurable:!0}),_.meta=(...P)=>{if(P.length===0)return globalRegistry.get(_);const I=_.clone();return globalRegistry.add(I,P[0]),I},_.isOptional=()=>_.safeParse(void 0).success,_.isNullable=()=>_.safeParse(null).success,_.apply=P=>P(_),_)),_ZodString=$constructor("_ZodString",(_,R)=>{$ZodString.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(I,O,z)=>stringProcessor(_,I,O);const P=_._zod.bag;_.format=P.format??null,_.minLength=P.minimum??null,_.maxLength=P.maximum??null,_.regex=(...I)=>_.check(_regex(...I)),_.includes=(...I)=>_.check(_includes(...I)),_.startsWith=(...I)=>_.check(_startsWith(...I)),_.endsWith=(...I)=>_.check(_endsWith(...I)),_.min=(...I)=>_.check(_minLength(...I)),_.max=(...I)=>_.check(_maxLength(...I)),_.length=(...I)=>_.check(_length(...I)),_.nonempty=(...I)=>_.check(_minLength(1,...I)),_.lowercase=I=>_.check(_lowercase(I)),_.uppercase=I=>_.check(_uppercase(I)),_.trim=()=>_.check(_trim()),_.normalize=(...I)=>_.check(_normalize(...I)),_.toLowerCase=()=>_.check(_toLowerCase()),_.toUpperCase=()=>_.check(_toUpperCase()),_.slugify=()=>_.check(_slugify())}),ZodString=$constructor("ZodString",(_,R)=>{$ZodString.init(_,R),_ZodString.init(_,R),_.email=P=>_.check(_email(ZodEmail,P)),_.url=P=>_.check(_url(ZodURL,P)),_.jwt=P=>_.check(_jwt(ZodJWT,P)),_.emoji=P=>_.check(_emoji(ZodEmoji,P)),_.guid=P=>_.check(_guid(ZodGUID,P)),_.uuid=P=>_.check(_uuid(ZodUUID,P)),_.uuidv4=P=>_.check(_uuidv4(ZodUUID,P)),_.uuidv6=P=>_.check(_uuidv6(ZodUUID,P)),_.uuidv7=P=>_.check(_uuidv7(ZodUUID,P)),_.nanoid=P=>_.check(_nanoid(ZodNanoID,P)),_.guid=P=>_.check(_guid(ZodGUID,P)),_.cuid=P=>_.check(_cuid(ZodCUID,P)),_.cuid2=P=>_.check(_cuid2(ZodCUID2,P)),_.ulid=P=>_.check(_ulid(ZodULID,P)),_.base64=P=>_.check(_base64(ZodBase64,P)),_.base64url=P=>_.check(_base64url(ZodBase64URL,P)),_.xid=P=>_.check(_xid(ZodXID,P)),_.ksuid=P=>_.check(_ksuid(ZodKSUID,P)),_.ipv4=P=>_.check(_ipv4(ZodIPv4,P)),_.ipv6=P=>_.check(_ipv6(ZodIPv6,P)),_.cidrv4=P=>_.check(_cidrv4(ZodCIDRv4,P)),_.cidrv6=P=>_.check(_cidrv6(ZodCIDRv6,P)),_.e164=P=>_.check(_e164(ZodE164,P)),_.datetime=P=>_.check(datetime(P)),_.date=P=>_.check(date$2(P)),_.time=P=>_.check(time$1(P)),_.duration=P=>_.check(duration(P))});function string$3(_){return _string(ZodString,_)}const ZodStringFormat=$constructor("ZodStringFormat",(_,R)=>{$ZodStringFormat.init(_,R),_ZodString.init(_,R)}),ZodEmail=$constructor("ZodEmail",(_,R)=>{$ZodEmail.init(_,R),ZodStringFormat.init(_,R)}),ZodGUID=$constructor("ZodGUID",(_,R)=>{$ZodGUID.init(_,R),ZodStringFormat.init(_,R)}),ZodUUID=$constructor("ZodUUID",(_,R)=>{$ZodUUID.init(_,R),ZodStringFormat.init(_,R)}),ZodURL=$constructor("ZodURL",(_,R)=>{$ZodURL.init(_,R),ZodStringFormat.init(_,R)}),ZodEmoji=$constructor("ZodEmoji",(_,R)=>{$ZodEmoji.init(_,R),ZodStringFormat.init(_,R)}),ZodNanoID=$constructor("ZodNanoID",(_,R)=>{$ZodNanoID.init(_,R),ZodStringFormat.init(_,R)}),ZodCUID=$constructor("ZodCUID",(_,R)=>{$ZodCUID.init(_,R),ZodStringFormat.init(_,R)}),ZodCUID2=$constructor("ZodCUID2",(_,R)=>{$ZodCUID2.init(_,R),ZodStringFormat.init(_,R)}),ZodULID=$constructor("ZodULID",(_,R)=>{$ZodULID.init(_,R),ZodStringFormat.init(_,R)}),ZodXID=$constructor("ZodXID",(_,R)=>{$ZodXID.init(_,R),ZodStringFormat.init(_,R)}),ZodKSUID=$constructor("ZodKSUID",(_,R)=>{$ZodKSUID.init(_,R),ZodStringFormat.init(_,R)}),ZodIPv4=$constructor("ZodIPv4",(_,R)=>{$ZodIPv4.init(_,R),ZodStringFormat.init(_,R)}),ZodIPv6=$constructor("ZodIPv6",(_,R)=>{$ZodIPv6.init(_,R),ZodStringFormat.init(_,R)}),ZodCIDRv4=$constructor("ZodCIDRv4",(_,R)=>{$ZodCIDRv4.init(_,R),ZodStringFormat.init(_,R)}),ZodCIDRv6=$constructor("ZodCIDRv6",(_,R)=>{$ZodCIDRv6.init(_,R),ZodStringFormat.init(_,R)}),ZodBase64=$constructor("ZodBase64",(_,R)=>{$ZodBase64.init(_,R),ZodStringFormat.init(_,R)}),ZodBase64URL=$constructor("ZodBase64URL",(_,R)=>{$ZodBase64URL.init(_,R),ZodStringFormat.init(_,R)}),ZodE164=$constructor("ZodE164",(_,R)=>{$ZodE164.init(_,R),ZodStringFormat.init(_,R)}),ZodJWT=$constructor("ZodJWT",(_,R)=>{$ZodJWT.init(_,R),ZodStringFormat.init(_,R)}),ZodNumber=$constructor("ZodNumber",(_,R)=>{$ZodNumber.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(I,O,z)=>numberProcessor(_,I,O),_.gt=(I,O)=>_.check(_gt(I,O)),_.gte=(I,O)=>_.check(_gte(I,O)),_.min=(I,O)=>_.check(_gte(I,O)),_.lt=(I,O)=>_.check(_lt(I,O)),_.lte=(I,O)=>_.check(_lte(I,O)),_.max=(I,O)=>_.check(_lte(I,O)),_.int=I=>_.check(int(I)),_.safe=I=>_.check(int(I)),_.positive=I=>_.check(_gt(0,I)),_.nonnegative=I=>_.check(_gte(0,I)),_.negative=I=>_.check(_lt(0,I)),_.nonpositive=I=>_.check(_lte(0,I)),_.multipleOf=(I,O)=>_.check(_multipleOf(I,O)),_.step=(I,O)=>_.check(_multipleOf(I,O)),_.finite=()=>_;const P=_._zod.bag;_.minValue=Math.max(P.minimum??Number.NEGATIVE_INFINITY,P.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,_.maxValue=Math.min(P.maximum??Number.POSITIVE_INFINITY,P.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,_.isInt=(P.format??"").includes("int")||Number.isSafeInteger(P.multipleOf??.5),_.isFinite=!0,_.format=P.format??null});function number$6(_){return _number(ZodNumber,_)}const ZodNumberFormat=$constructor("ZodNumberFormat",(_,R)=>{$ZodNumberFormat.init(_,R),ZodNumber.init(_,R)});function int(_){return _int(ZodNumberFormat,_)}const ZodBoolean=$constructor("ZodBoolean",(_,R)=>{$ZodBoolean.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>booleanProcessor(_,P,I)});function boolean$1(_){return _boolean(ZodBoolean,_)}const ZodUnknown=$constructor("ZodUnknown",(_,R)=>{$ZodUnknown.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>unknownProcessor()});function unknown(){return _unknown(ZodUnknown)}const ZodNever=$constructor("ZodNever",(_,R)=>{$ZodNever.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>neverProcessor(_,P,I)});function never(_){return _never(ZodNever,_)}const ZodArray=$constructor("ZodArray",(_,R)=>{$ZodArray.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>arrayProcessor(_,P,I,O),_.element=R.element,_.min=(P,I)=>_.check(_minLength(P,I)),_.nonempty=P=>_.check(_minLength(1,P)),_.max=(P,I)=>_.check(_maxLength(P,I)),_.length=(P,I)=>_.check(_length(P,I)),_.unwrap=()=>_.element});function array$2(_,R){return _array(ZodArray,_,R)}const ZodObject=$constructor("ZodObject",(_,R)=>{$ZodObjectJIT.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>objectProcessor(_,P,I,O),defineLazy(_,"shape",()=>R.shape),_.keyof=()=>_enum(Object.keys(_._zod.def.shape)),_.catchall=P=>_.clone({..._._zod.def,catchall:P}),_.passthrough=()=>_.clone({..._._zod.def,catchall:unknown()}),_.loose=()=>_.clone({..._._zod.def,catchall:unknown()}),_.strict=()=>_.clone({..._._zod.def,catchall:never()}),_.strip=()=>_.clone({..._._zod.def,catchall:void 0}),_.extend=P=>extend$3(_,P),_.safeExtend=P=>safeExtend(_,P),_.merge=P=>merge$3(_,P),_.pick=P=>pick(_,P),_.omit=P=>omit(_,P),_.partial=(...P)=>partial(ZodOptional,_,P[0]),_.required=(...P)=>required(ZodNonOptional,_,P[0])});function object$1(_,R){const P={type:"object",shape:_??{},...normalizeParams(R)};return new ZodObject(P)}const ZodUnion=$constructor("ZodUnion",(_,R)=>{$ZodUnion.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>unionProcessor(_,P,I,O),_.options=R.options});function union(_,R){return new ZodUnion({type:"union",options:_,...normalizeParams(R)})}const ZodIntersection=$constructor("ZodIntersection",(_,R)=>{$ZodIntersection.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>intersectionProcessor(_,P,I,O)});function intersection(_,R){return new ZodIntersection({type:"intersection",left:_,right:R})}const ZodTuple=$constructor("ZodTuple",(_,R)=>{$ZodTuple.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>tupleProcessor(_,P,I,O),_.rest=P=>_.clone({..._._zod.def,rest:P})});function tuple(_,R,P){const I=R instanceof $ZodType,O=I?P:R,z=I?R:null;return new ZodTuple({type:"tuple",items:_,rest:z,...normalizeParams(O)})}const ZodRecord=$constructor("ZodRecord",(_,R)=>{$ZodRecord.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>recordProcessor(_,P,I,O),_.keyType=R.keyType,_.valueType=R.valueType});function record(_,R,P){return new ZodRecord({type:"record",keyType:_,valueType:R,...normalizeParams(P)})}const ZodEnum=$constructor("ZodEnum",(_,R)=>{$ZodEnum.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(I,O,z)=>enumProcessor(_,I,O),_.enum=R.entries,_.options=Object.values(R.entries);const P=new Set(Object.keys(R.entries));_.extract=(I,O)=>{const z={};for(const L of I)if(P.has(L))z[L]=R.entries[L];else throw new Error(`Key ${L} not found in enum`);return new ZodEnum({...R,checks:[],...normalizeParams(O),entries:z})},_.exclude=(I,O)=>{const z={...R.entries};for(const L of I)if(P.has(L))delete z[L];else throw new Error(`Key ${L} not found in enum`);return new ZodEnum({...R,checks:[],...normalizeParams(O),entries:z})}});function _enum(_,R){const P=Array.isArray(_)?Object.fromEntries(_.map(I=>[I,I])):_;return new ZodEnum({type:"enum",entries:P,...normalizeParams(R)})}const ZodLiteral=$constructor("ZodLiteral",(_,R)=>{$ZodLiteral.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>literalProcessor(_,P,I),_.values=new Set(R.values),Object.defineProperty(_,"value",{get(){if(R.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return R.values[0]}})});function literal(_,R){return new ZodLiteral({type:"literal",values:Array.isArray(_)?_:[_],...normalizeParams(R)})}const ZodTransform=$constructor("ZodTransform",(_,R)=>{$ZodTransform.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>transformProcessor(_,P),_._zod.parse=(P,I)=>{if(I.direction==="backward")throw new $ZodEncodeError(_.constructor.name);P.addIssue=z=>{if(typeof z=="string")P.issues.push(issue(z,P.value,R));else{const L=z;L.fatal&&(L.continue=!1),L.code??(L.code="custom"),L.input??(L.input=P.value),L.inst??(L.inst=_),P.issues.push(issue(L))}};const O=R.transform(P.value,P);return O instanceof Promise?O.then(z=>(P.value=z,P)):(P.value=O,P)}});function transform$1(_){return new ZodTransform({type:"transform",transform:_})}const ZodOptional=$constructor("ZodOptional",(_,R)=>{$ZodOptional.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>optionalProcessor(_,P,I,O),_.unwrap=()=>_._zod.def.innerType});function optional(_){return new ZodOptional({type:"optional",innerType:_})}const ZodExactOptional=$constructor("ZodExactOptional",(_,R)=>{$ZodExactOptional.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>optionalProcessor(_,P,I,O),_.unwrap=()=>_._zod.def.innerType});function exactOptional(_){return new ZodExactOptional({type:"optional",innerType:_})}const ZodNullable=$constructor("ZodNullable",(_,R)=>{$ZodNullable.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>nullableProcessor(_,P,I,O),_.unwrap=()=>_._zod.def.innerType});function nullable(_){return new ZodNullable({type:"nullable",innerType:_})}const ZodDefault=$constructor("ZodDefault",(_,R)=>{$ZodDefault.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>defaultProcessor(_,P,I,O),_.unwrap=()=>_._zod.def.innerType,_.removeDefault=_.unwrap});function _default(_,R){return new ZodDefault({type:"default",innerType:_,get defaultValue(){return typeof R=="function"?R():shallowClone(R)}})}const ZodPrefault=$constructor("ZodPrefault",(_,R)=>{$ZodPrefault.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>prefaultProcessor(_,P,I,O),_.unwrap=()=>_._zod.def.innerType});function prefault(_,R){return new ZodPrefault({type:"prefault",innerType:_,get defaultValue(){return typeof R=="function"?R():shallowClone(R)}})}const ZodNonOptional=$constructor("ZodNonOptional",(_,R)=>{$ZodNonOptional.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>nonoptionalProcessor(_,P,I,O),_.unwrap=()=>_._zod.def.innerType});function nonoptional(_,R){return new ZodNonOptional({type:"nonoptional",innerType:_,...normalizeParams(R)})}const ZodCatch=$constructor("ZodCatch",(_,R)=>{$ZodCatch.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>catchProcessor(_,P,I,O),_.unwrap=()=>_._zod.def.innerType,_.removeCatch=_.unwrap});function _catch(_,R){return new ZodCatch({type:"catch",innerType:_,catchValue:typeof R=="function"?R:()=>R})}const ZodPipe=$constructor("ZodPipe",(_,R)=>{$ZodPipe.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>pipeProcessor(_,P,I,O),_.in=R.in,_.out=R.out});function pipe(_,R){return new ZodPipe({type:"pipe",in:_,out:R})}const ZodReadonly=$constructor("ZodReadonly",(_,R)=>{$ZodReadonly.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>readonlyProcessor(_,P,I,O),_.unwrap=()=>_._zod.def.innerType});function readonly(_){return new ZodReadonly({type:"readonly",innerType:_})}const ZodCustom=$constructor("ZodCustom",(_,R)=>{$ZodCustom.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,I,O)=>customProcessor(_,P)});function refine(_,R={}){return _refine(ZodCustom,_,R)}function superRefine(_){return _superRefine(_)}const metadataSchema$1=object$1({model:string$3(),version:string$3()}),rgbColorSchema=object$1({r:number$6().min(0).max(255),g:number$6().min(0).max(255),b:number$6().min(0).max(255)});object$1({min:number$6(),max:number$6()});const emtEventTimesSchema=object$1({time_A_start:number$6(),time_A_end:number$6(),time_B_start:number$6(),time_B_end:number$6(),time_S_start:number$6(),time_S_end:number$6(),time_P_start:number$6(),time_P_end:number$6(),time_AC_start:number$6(),time_AC_end:number$6()}),ehtCellTypeSchema=object$1({N_init:number$6().int().nonnegative(),location:string$3(),R_hard:number$6().positive(),R_hard_div:number$6().positive(),R_soft:number$6().positive(),color:rgbColorSchema,dur_G2:number$6().nonnegative(),dur_mitosis:number$6().nonnegative(),k_apical_junction:number$6().nonnegative(),k_cytos:number$6().nonnegative(),max_cytoskeleton_length:number$6().nonnegative(),run:number$6().min(0).max(1),running_speed:number$6().nonnegative(),running_mode:number$6().int().min(0).max(3),stiffness_apical_apical:number$6().nonnegative(),stiffness_apical_apical_div:number$6().nonnegative(),stiffness_nuclei_apical:number$6().nonnegative(),stiffness_nuclei_basal:number$6().nonnegative(),stiffness_repulsion:number$6().nonnegative(),stiffness_straightness:number$6().nonnegative(),lifespan_start:number$6(),lifespan_end:number$6(),INM:number$6().min(0).max(1),hetero:boolean$1(),events:emtEventTimesSchema,diffusion:number$6().nonnegative(),basal_damping_ratio:number$6().nonnegative(),max_basal_junction_dist:number$6().positive(),cytos_init:number$6().nonnegative(),basal_membrane_repulsion:number$6().nonnegative(),apical_junction_init:number$6().nonnegative()}),ehtGeneralParamsSchema=object$1({t_end:number$6().positive(),dt:number$6().positive(),random_seed:number$6().int(),full_circle:boolean$1(),w_init:number$6().positive(),h_init:number$6().positive(),mu:number$6().positive(),n_substeps:number$6().int().positive(),alg_dt:number$6().positive(),w_screen:number$6().positive(),h_screen:number$6().positive(),p_div_out:number$6().min(0).max(1),perimeter:number$6().positive(),aspect_ratio:number$6(),hard_sphere_nuclei:boolean$1()}),ehtCellPropertyParamsSchema=object$1({}),ehtCellTypesMapSchema=record(string$3(),ehtCellTypeSchema),ehtParamsSchema=object$1({metadata:metadataSchema$1,general:ehtGeneralParamsSchema,cell_prop:ehtCellPropertyParamsSchema,cell_types:ehtCellTypesMapSchema}),partialMetadataSchema=metadataSchema$1.partial(),partialEhtGeneralParamsSchema=ehtGeneralParamsSchema.partial(),partialEhtCellPropertyParamsSchema=ehtCellPropertyParamsSchema.partial(),partialEhtCellTypeSchema=ehtCellTypeSchema.partial();object$1({metadata:partialMetadataSchema.optional(),general:partialEhtGeneralParamsSchema.optional(),cell_prop:partialEhtCellPropertyParamsSchema.optional(),cell_types:record(string$3(),partialEhtCellTypeSchema).optional()});const __vite_glob_0_0=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 54
dt = 0.1
random_seed = 0
full_circle = false
w_init = 10
h_init = 8
mu = 0.2
n_substeps = 40
alg_dt = 0.05
w_screen = 15
h_screen = 0
p_div_out = 0.8
perimeter = 20
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 45
location = ""
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.emt]
N_init = 0
location = "bottom"
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 0.5
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255

  [cell_types.emt.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_1=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 54
dt = 0.1
random_seed = 0
full_circle = false
w_init = 10
h_init = 8
mu = 0.2
n_substeps = 40
alg_dt = 0.05
w_screen = 15
h_screen = 0
p_div_out = 0.8
perimeter = 20
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 50
location = ""
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.emt]
N_init = 1
location = "bottom"
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255

  [cell_types.emt.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_2=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 80
dt = 0.05
random_seed = 0
full_circle = false
w_init = 20
h_init = 2
mu = 0.1
n_substeps = 40
alg_dt = 0.01
w_screen = 30
h_screen = 0
p_div_out = 0.9
perimeter = 40
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 29
location = ""
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 5
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 4
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.emt]
N_init = 1
location = "bottom"
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 5
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 4
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255

  [cell_types.emt.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_3=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 60
dt = 0.05
random_seed = 0
full_circle = false
w_init = 10
h_init = 5
mu = 0.2
n_substeps = 40
alg_dt = 0.01
w_screen = 15
h_screen = 0
p_div_out = 0.95
perimeter = 20
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 29
location = ""
R_hard = 0.4
R_hard_div = 0.9333333333333332
R_soft = 1.2
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 2
stiffness_apical_apical_div = 4
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 5.5
lifespan_end = 6.5
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 2
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.emt]
N_init = 1
location = "bottom"
R_hard = 0.4
R_hard_div = 0.9333333333333332
R_soft = 1.2
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 2
stiffness_apical_apical_div = 4
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 5.5
lifespan_end = 6.5
INM = 0
hetero = true
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 2
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255

  [cell_types.emt.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 6
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_4=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 80
dt = 0.05
random_seed = 0
full_circle = false
w_init = 20
h_init = 2
mu = 0.5
n_substeps = 40
alg_dt = 0.01
w_screen = 30
h_screen = 0
p_div_out = 0.9
perimeter = 40
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 29
location = ""
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 0.01
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 8
stiffness_apical_apical_div = 16
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 1.2
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[cell_types.emt]
N_init = 1
location = "bottom"
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 0.01
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 8
stiffness_apical_apical_div = 16
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 1.2
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255

  [cell_types.emt.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308
  time_AC_start = 1e+308
  time_AC_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`;var freeGlobal=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$4=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root$4.Symbol,objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty,nativeObjectToString$1=objectProto$d.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(_){var R=hasOwnProperty$b.call(_,symToStringTag$1),P=_[symToStringTag$1];try{_[symToStringTag$1]=void 0;var I=!0}catch{}var O=nativeObjectToString$1.call(_);return I&&(R?_[symToStringTag$1]=P:delete _[symToStringTag$1]),O}var objectProto$c=Object.prototype,nativeObjectToString=objectProto$c.toString;function objectToString$1(_){return nativeObjectToString.call(_)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(_){return _==null?_===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(_)?getRawTag(_):objectToString$1(_)}function isObjectLike(_){return _!=null&&typeof _=="object"}var isArray$1=Array.isArray;function isObject$1(_){var R=typeof _;return _!=null&&(R=="object"||R=="function")}function identity$9(_){return _}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(_){if(!isObject$1(_))return!1;var R=baseGetTag(_);return R==funcTag$2||R==genTag$1||R==asyncTag||R==proxyTag}var coreJsData=root$4["__core-js_shared__"],maskSrcKey=(function(){var _=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""})();function isMasked(_){return!!maskSrcKey&&maskSrcKey in _}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(_){if(_!=null){try{return funcToString$2.call(_)}catch{}try{return _+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$b=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$a=objectProto$b.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$a).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(_){if(!isObject$1(_)||isMasked(_))return!1;var R=isFunction$2(_)?reIsNative:reIsHostCtor;return R.test(toSource(_))}function getValue(_,R){return _?.[R]}function getNative(_,R){var P=getValue(_,R);return baseIsNative(P)?P:void 0}var WeakMap$1=getNative(root$4,"WeakMap"),objectCreate=Object.create,baseCreate=(function(){function _(){}return function(R){if(!isObject$1(R))return{};if(objectCreate)return objectCreate(R);_.prototype=R;var P=new _;return _.prototype=void 0,P}})();function apply$1(_,R,P){switch(P.length){case 0:return _.call(R);case 1:return _.call(R,P[0]);case 2:return _.call(R,P[0],P[1]);case 3:return _.call(R,P[0],P[1],P[2])}return _.apply(R,P)}function copyArray(_,R){var P=-1,I=_.length;for(R||(R=Array(I));++P<I;)R[P]=_[P];return R}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(_){var R=0,P=0;return function(){var I=nativeNow(),O=HOT_SPAN-(I-P);if(P=I,O>0){if(++R>=HOT_COUNT)return arguments[0]}else R=0;return _.apply(void 0,arguments)}}function constant$4(_){return function(){return _}}var defineProperty=(function(){try{var _=getNative(Object,"defineProperty");return _({},"",{}),_}catch{}})(),baseSetToString=defineProperty?function(_,R){return defineProperty(_,"toString",{configurable:!0,enumerable:!1,value:constant$4(R),writable:!0})}:identity$9,setToString=shortOut(baseSetToString);function arrayEach(_,R){for(var P=-1,I=_==null?0:_.length;++P<I&&R(_[P],P,_)!==!1;);return _}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(_,R){var P=typeof _;return R=R??MAX_SAFE_INTEGER$1,!!R&&(P=="number"||P!="symbol"&&reIsUint.test(_))&&_>-1&&_%1==0&&_<R}function baseAssignValue(_,R,P){R=="__proto__"&&defineProperty?defineProperty(_,R,{configurable:!0,enumerable:!0,value:P,writable:!0}):_[R]=P}function eq(_,R){return _===R||_!==_&&R!==R}var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty;function assignValue(_,R,P){var I=_[R];(!(hasOwnProperty$9.call(_,R)&&eq(I,P))||P===void 0&&!(R in _))&&baseAssignValue(_,R,P)}function copyObject(_,R,P,I){var O=!P;P||(P={});for(var z=-1,L=R.length;++z<L;){var F=R[z],U=void 0;U===void 0&&(U=_[F]),O?baseAssignValue(P,F,U):assignValue(P,F,U)}return P}var nativeMax=Math.max;function overRest(_,R,P){return R=nativeMax(R===void 0?_.length-1:R,0),function(){for(var I=arguments,O=-1,z=nativeMax(I.length-R,0),L=Array(z);++O<z;)L[O]=I[R+O];O=-1;for(var F=Array(R+1);++O<R;)F[O]=I[O];return F[R]=P(L),apply$1(_,this,F)}}function baseRest(_,R){return setToString(overRest(_,R,identity$9),_+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=MAX_SAFE_INTEGER}function isArrayLike(_){return _!=null&&isLength(_.length)&&!isFunction$2(_)}function isIterateeCall(_,R,P){if(!isObject$1(P))return!1;var I=typeof R;return(I=="number"?isArrayLike(P)&&isIndex(R,P.length):I=="string"&&R in P)?eq(P[R],_):!1}function createAssigner(_){return baseRest(function(R,P){var I=-1,O=P.length,z=O>1?P[O-1]:void 0,L=O>2?P[2]:void 0;for(z=_.length>3&&typeof z=="function"?(O--,z):void 0,L&&isIterateeCall(P[0],P[1],L)&&(z=O<3?void 0:z,O=1),R=Object(R);++I<O;){var F=P[I];F&&_(R,F,I,z)}return R})}var objectProto$9=Object.prototype;function isPrototype(_){var R=_&&_.constructor,P=typeof R=="function"&&R.prototype||objectProto$9;return _===P}function baseTimes(_,R){for(var P=-1,I=Array(_);++P<_;)I[P]=R(P);return I}var argsTag$2="[object Arguments]";function baseIsArguments(_){return isObjectLike(_)&&baseGetTag(_)==argsTag$2}var objectProto$8=Object.prototype,hasOwnProperty$8=objectProto$8.hasOwnProperty,propertyIsEnumerable$1=objectProto$8.propertyIsEnumerable,isArguments=baseIsArguments((function(){return arguments})())?baseIsArguments:function(_){return isObjectLike(_)&&hasOwnProperty$8.call(_,"callee")&&!propertyIsEnumerable$1.call(_,"callee")};function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$3=moduleExports$2?root$4.Buffer:void 0,nativeIsBuffer=Buffer$3?Buffer$3.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$3="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$4]=typedArrayTags[numberTag$2]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$4]=typedArrayTags[stringTag$2]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(_){return isObjectLike(_)&&isLength(_.length)&&!!typedArrayTags[baseGetTag(_)]}function baseUnary(_){return function(R){return _(R)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=(function(){try{var _=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return _||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}})(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty;function arrayLikeKeys(_,R){var P=isArray$1(_),I=!P&&isArguments(_),O=!P&&!I&&isBuffer(_),z=!P&&!I&&!O&&isTypedArray(_),L=P||I||O||z,F=L?baseTimes(_.length,String):[],U=F.length;for(var V in _)(R||hasOwnProperty$7.call(_,V))&&!(L&&(V=="length"||O&&(V=="offset"||V=="parent")||z&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||isIndex(V,U)))&&F.push(V);return F}function overArg(_,R){return function(P){return _(R(P))}}var nativeKeys=overArg(Object.keys,Object),objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function baseKeys(_){if(!isPrototype(_))return nativeKeys(_);var R=[];for(var P in Object(_))hasOwnProperty$6.call(_,P)&&P!="constructor"&&R.push(P);return R}function keys$1(_){return isArrayLike(_)?arrayLikeKeys(_):baseKeys(_)}function nativeKeysIn(_){var R=[];if(_!=null)for(var P in Object(_))R.push(P);return R}var objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseKeysIn(_){if(!isObject$1(_))return nativeKeysIn(_);var R=isPrototype(_),P=[];for(var I in _)I=="constructor"&&(R||!hasOwnProperty$5.call(_,I))||P.push(I);return P}function keysIn(_){return isArrayLike(_)?arrayLikeKeys(_,!0):baseKeysIn(_)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(_){var R=this.has(_)&&delete this.__data__[_];return this.size-=R?1:0,R}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function hashGet(_){var R=this.__data__;if(nativeCreate){var P=R[_];return P===HASH_UNDEFINED$1?void 0:P}return hasOwnProperty$4.call(R,_)?R[_]:void 0}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function hashHas(_){var R=this.__data__;return nativeCreate?R[_]!==void 0:hasOwnProperty$3.call(R,_)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(_,R){var P=this.__data__;return this.size+=this.has(_)?0:1,P[_]=nativeCreate&&R===void 0?HASH_UNDEFINED:R,this}function Hash(_){var R=-1,P=_==null?0:_.length;for(this.clear();++R<P;){var I=_[R];this.set(I[0],I[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(_,R){for(var P=_.length;P--;)if(eq(_[P][0],R))return P;return-1}var arrayProto=Array.prototype,splice$1=arrayProto.splice;function listCacheDelete(_){var R=this.__data__,P=assocIndexOf(R,_);if(P<0)return!1;var I=R.length-1;return P==I?R.pop():splice$1.call(R,P,1),--this.size,!0}function listCacheGet(_){var R=this.__data__,P=assocIndexOf(R,_);return P<0?void 0:R[P][1]}function listCacheHas(_){return assocIndexOf(this.__data__,_)>-1}function listCacheSet(_,R){var P=this.__data__,I=assocIndexOf(P,_);return I<0?(++this.size,P.push([_,R])):P[I][1]=R,this}function ListCache(_){var R=-1,P=_==null?0:_.length;for(this.clear();++R<P;){var I=_[R];this.set(I[0],I[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$4,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(_){var R=typeof _;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?_!=="__proto__":_===null}function getMapData(_,R){var P=_.__data__;return isKeyable(R)?P[typeof R=="string"?"string":"hash"]:P.map}function mapCacheDelete(_){var R=getMapData(this,_).delete(_);return this.size-=R?1:0,R}function mapCacheGet(_){return getMapData(this,_).get(_)}function mapCacheHas(_){return getMapData(this,_).has(_)}function mapCacheSet(_,R){var P=getMapData(this,_),I=P.size;return P.set(_,R),this.size+=P.size==I?0:1,this}function MapCache(_){var R=-1,P=_==null?0:_.length;for(this.clear();++R<P;){var I=_[R];this.set(I[0],I[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function arrayPush(_,R){for(var P=-1,I=R.length,O=_.length;++P<I;)_[O+P]=R[P];return _}var getPrototype=overArg(Object.getPrototypeOf,Object),objectTag$2="[object Object]",funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$2=objectProto$2.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$1(_){if(!isObjectLike(_)||baseGetTag(_)!=objectTag$2)return!1;var R=getPrototype(_);if(R===null)return!0;var P=hasOwnProperty$2.call(R,"constructor")&&R.constructor;return typeof P=="function"&&P instanceof P&&funcToString.call(P)==objectCtorString}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(_){var R=this.__data__,P=R.delete(_);return this.size=R.size,P}function stackGet(_){return this.__data__.get(_)}function stackHas(_){return this.__data__.has(_)}var LARGE_ARRAY_SIZE=200;function stackSet(_,R){var P=this.__data__;if(P instanceof ListCache){var I=P.__data__;if(!Map$1||I.length<LARGE_ARRAY_SIZE-1)return I.push([_,R]),this.size=++P.size,this;P=this.__data__=new MapCache(I)}return P.set(_,R),this.size=P.size,this}function Stack(_){var R=this.__data__=new ListCache(_);this.size=R.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$2=moduleExports?root$4.Buffer:void 0,allocUnsafe=Buffer$2?Buffer$2.allocUnsafe:void 0;function cloneBuffer(_,R){if(R)return _.slice();var P=_.length,I=allocUnsafe?allocUnsafe(P):new _.constructor(P);return _.copy(I),I}function arrayFilter(_,R){for(var P=-1,I=_==null?0:_.length,O=0,z=[];++P<I;){var L=_[P];R(L,P,_)&&(z[O++]=L)}return z}function stubArray(){return[]}var objectProto$1=Object.prototype,propertyIsEnumerable=objectProto$1.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(_){return _==null?[]:(_=Object(_),arrayFilter(nativeGetSymbols(_),function(R){return propertyIsEnumerable.call(_,R)}))}:stubArray;function baseGetAllKeys(_,R,P){var I=R(_);return isArray$1(_)?I:arrayPush(I,P(_))}function getAllKeys(_){return baseGetAllKeys(_,keys$1,getSymbols)}var DataView$1=getNative(root$4,"DataView"),Promise$1=getNative(root$4,"Promise"),Set$1=getNative(root$4,"Set"),mapTag$3="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$2||Map$1&&getTag(new Map$1)!=mapTag$3||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$3||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag$1)&&(getTag=function(_){var R=baseGetTag(_),P=R==objectTag$1?_.constructor:void 0,I=P?toSource(P):"";if(I)switch(I){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return R});var objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function initCloneArray(_){var R=_.length,P=new _.constructor(R);return R&&typeof _[0]=="string"&&hasOwnProperty$1.call(_,"index")&&(P.index=_.index,P.input=_.input),P}var Uint8Array$1=root$4.Uint8Array;function cloneArrayBuffer(_){var R=new _.constructor(_.byteLength);return new Uint8Array$1(R).set(new Uint8Array$1(_)),R}function cloneDataView(_,R){var P=cloneArrayBuffer(_.buffer);return new _.constructor(P,_.byteOffset,_.byteLength)}var reFlags=/\w*$/;function cloneRegExp(_){var R=new _.constructor(_.source,reFlags.exec(_));return R.lastIndex=_.lastIndex,R}var symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol(_){return symbolValueOf?Object(symbolValueOf.call(_)):{}}function cloneTypedArray(_,R){var P=R?cloneArrayBuffer(_.buffer):_.buffer;return new _.constructor(P,_.byteOffset,_.length)}var boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(_,R,P){var I=_.constructor;switch(R){case arrayBufferTag$1:return cloneArrayBuffer(_);case boolTag$1:case dateTag$1:return new I(+_);case dataViewTag$1:return cloneDataView(_);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(_,P);case mapTag$2:return new I;case numberTag$1:case stringTag$1:return new I(_);case regexpTag$1:return cloneRegExp(_);case setTag$2:return new I;case symbolTag$1:return cloneSymbol(_)}}function initCloneObject(_){return typeof _.constructor=="function"&&!isPrototype(_)?baseCreate(getPrototype(_)):{}}var mapTag$1="[object Map]";function baseIsMap(_){return isObjectLike(_)&&getTag(_)==mapTag$1}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$1="[object Set]";function baseIsSet(_){return isObjectLike(_)&&getTag(_)==setTag$1}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG$1=1,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(_,R,P,I,O,z){var L,F=R&CLONE_DEEP_FLAG$1;if(L!==void 0)return L;if(!isObject$1(_))return _;var U=isArray$1(_);if(U)L=initCloneArray(_);else{var V=getTag(_),q=V==funcTag||V==genTag;if(isBuffer(_))return cloneBuffer(_,F);if(V==objectTag||V==argsTag||q&&!O)L=q?{}:initCloneObject(_);else{if(!cloneableTags[V])return O?_:{};L=initCloneByTag(_,V,F)}}z||(z=new Stack);var W=z.get(_);if(W)return W;z.set(_,L),isSet(_)?_.forEach(function(ee){L.add(baseClone(ee,R,P,ee,_,z))}):isMap(_)&&_.forEach(function(ee,te){L.set(te,baseClone(ee,R,P,te,_,z))});var Y=getAllKeys,Q=U?void 0:Y(_);return arrayEach(Q||_,function(ee,te){Q&&(te=ee,ee=_[te]),assignValue(L,te,baseClone(ee,R,P,te,_,z))}),L}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(_){return baseClone(_,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function createBaseFor(_){return function(R,P,I){for(var O=-1,z=Object(R),L=I(R),F=L.length;F--;){var U=L[++O];if(P(z[U],U,z)===!1)break}return R}}var baseFor=createBaseFor();function assignMergeValue(_,R,P){(P!==void 0&&!eq(_[R],P)||P===void 0&&!(R in _))&&baseAssignValue(_,R,P)}function isArrayLikeObject(_){return isObjectLike(_)&&isArrayLike(_)}function safeGet(_,R){if(!(R==="constructor"&&typeof _[R]=="function")&&R!="__proto__")return _[R]}function toPlainObject(_){return copyObject(_,keysIn(_))}function baseMergeDeep(_,R,P,I,O,z,L){var F=safeGet(_,P),U=safeGet(R,P),V=L.get(U);if(V){assignMergeValue(_,P,V);return}var q=z?z(F,U,P+"",_,R,L):void 0,W=q===void 0;if(W){var Y=isArray$1(U),Q=!Y&&isBuffer(U),ee=!Y&&!Q&&isTypedArray(U);q=U,Y||Q||ee?isArray$1(F)?q=F:isArrayLikeObject(F)?q=copyArray(F):Q?(W=!1,q=cloneBuffer(U,!0)):ee?(W=!1,q=cloneTypedArray(U,!0)):q=[]:isPlainObject$1(U)||isArguments(U)?(q=F,isArguments(F)?q=toPlainObject(F):(!isObject$1(F)||isFunction$2(F))&&(q=initCloneObject(U))):W=!1}W&&(L.set(U,q),O(q,U,I,z,L),L.delete(U)),assignMergeValue(_,P,q)}function baseMerge(_,R,P,I,O){_!==R&&baseFor(R,function(z,L){if(O||(O=new Stack),isObject$1(z))baseMergeDeep(_,R,L,P,baseMerge,I,O);else{var F=I?I(safeGet(_,L),z,L+"",_,R,O):void 0;F===void 0&&(F=z),assignMergeValue(_,L,F)}},keysIn)}var mergeWith=createAssigner(function(_,R,P,I){baseMerge(_,R,P,I)}),merge$2=createAssigner(function(_,R,P){baseMerge(_,R,P)}),toml={},parse$6={exports:{}},tomlParser={exports:{}},parser,hasRequiredParser;function requireParser(){if(hasRequiredParser)return parser;hasRequiredParser=1;const _=1114112;class R extends Error{constructor(z,L,F){super("[ParserError] "+z,L,F),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,R)}}class P{constructor(z){this.parser=z,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}}class I{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new P(this.parseStart)}parse(z){if(z.length===0||z.length==null)return;this._buf=String(z),this.ii=-1,this.char=-1;let L;for(;L===!1||this.nextChar();)L=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=_;let z;do z=this.state.parser,this.runOne();while(this.state.parser!==z);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(z){if(typeof z!="function")throw new R("Tried to set state to non-existent state: "+JSON.stringify(z));this.state.parser=z}goto(z){return this.next(z),this.runOne()}call(z,L){L&&this.next(L),this.stack.push(this.state),this.state=new P(z)}callNow(z,L){return this.call(z,L),this.runOne()}return(z){if(this.stack.length===0)throw this.error(new R("Stack underflow"));z===void 0&&(z=this.state.buf),this.state=this.stack.pop(),this.state.returned=z}returnNow(z){return this.return(z),this.runOne()}consume(){if(this.char===_)throw this.error(new R("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(z){return z.line=this.line,z.col=this.col,z.pos=this.pos,z}parseStart(){throw new R("Must declare a parseStart method")}}return I.END=_,I.Error=R,parser=I,parser}var createDatetime,hasRequiredCreateDatetime;function requireCreateDatetime(){return hasRequiredCreateDatetime||(hasRequiredCreateDatetime=1,createDatetime=_=>{const R=new Date(_);if(isNaN(R))throw new TypeError("Invalid Datetime");return R}),createDatetime}var formatNum,hasRequiredFormatNum;function requireFormatNum(){return hasRequiredFormatNum||(hasRequiredFormatNum=1,formatNum=(_,R)=>{for(R=String(R);R.length<_;)R="0"+R;return R}),formatNum}var createDatetimeFloat,hasRequiredCreateDatetimeFloat;function requireCreateDatetimeFloat(){if(hasRequiredCreateDatetimeFloat)return createDatetimeFloat;hasRequiredCreateDatetimeFloat=1;const _=requireFormatNum();class R extends Date{constructor(I){super(I+"Z"),this.isFloating=!0}toISOString(){const I=`${this.getUTCFullYear()}-${_(2,this.getUTCMonth()+1)}-${_(2,this.getUTCDate())}`,O=`${_(2,this.getUTCHours())}:${_(2,this.getUTCMinutes())}:${_(2,this.getUTCSeconds())}.${_(3,this.getUTCMilliseconds())}`;return`${I}T${O}`}}return createDatetimeFloat=P=>{const I=new R(P);if(isNaN(I))throw new TypeError("Invalid Datetime");return I},createDatetimeFloat}var createDate,hasRequiredCreateDate;function requireCreateDate(){if(hasRequiredCreateDate)return createDate;hasRequiredCreateDate=1;const _=requireFormatNum(),R=globalThis.Date;class P extends R{constructor(O){super(O),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${_(2,this.getUTCMonth()+1)}-${_(2,this.getUTCDate())}`}}return createDate=I=>{const O=new P(I);if(isNaN(O))throw new TypeError("Invalid Datetime");return O},createDate}var createTime,hasRequiredCreateTime;function requireCreateTime(){if(hasRequiredCreateTime)return createTime;hasRequiredCreateTime=1;const _=requireFormatNum();class R extends Date{constructor(I){super(`0000-01-01T${I}Z`),this.isTime=!0}toISOString(){return`${_(2,this.getUTCHours())}:${_(2,this.getUTCMinutes())}:${_(2,this.getUTCSeconds())}.${_(3,this.getUTCMilliseconds())}`}}return createTime=P=>{const I=new R(P);if(isNaN(I))throw new TypeError("Invalid Datetime");return I},createTime}var hasRequiredTomlParser;function requireTomlParser(){if(hasRequiredTomlParser)return tomlParser.exports;hasRequiredTomlParser=1,tomlParser.exports=makeParserClass(requireParser()),tomlParser.exports.makeParserClass=makeParserClass;class TomlError extends Error{constructor(R){super(R),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=_=>{const R=new TomlError(_.message);return R.code=_.code,R.wrapped=_,R},tomlParser.exports.TomlError=TomlError;const createDateTime=requireCreateDatetime(),createDateTimeFloat=requireCreateDatetimeFloat(),createDate=requireCreateDate(),createTime=requireCreateTime(),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(_){return _>=CHAR_0&&_<=CHAR_9}function isHexit(_){return _>=CHAR_A&&_<=CHAR_F||_>=CHAR_a&&_<=CHAR_f||_>=CHAR_0&&_<=CHAR_9}function isBit(_){return _===CHAR_1||_===CHAR_0}function isOctit(_){return _>=CHAR_0&&_<=CHAR_7}function isAlphaNumQuoteHyphen(_){return _>=CHAR_A&&_<=CHAR_Z||_>=CHAR_a&&_<=CHAR_z||_>=CHAR_0&&_<=CHAR_9||_===CHAR_APOS||_===CHAR_QUOT||_===CHAR_LOWBAR||_===CHAR_HYPHEN}function isAlphaNumHyphen(_){return _>=CHAR_A&&_<=CHAR_Z||_>=CHAR_a&&_<=CHAR_z||_>=CHAR_0&&_<=CHAR_9||_===CHAR_LOWBAR||_===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(_,R){return hasOwnProperty.call(_,R)?!0:(R==="__proto__"&&defineProperty(_,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(_){return _===null||typeof _!="object"?!1:_[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(_){return _===null||typeof _!="object"?!1:_[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(_){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:_}})}function isInlineList(_){return _===null||typeof _!="object"?!1:_[_type]===INLINE_LIST}const LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(_){return _===null||typeof _!="object"?!1:_[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(_){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor(R){try{this.value=globalThis.BigInt.asIntN(64,R)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer(_){let R=Number(_);return Object.is(R,-0)&&(R=0),globalThis.BigInt&&!Number.isSafeInteger(R)?new BoxedBigInt(_):Object.defineProperties(new Number(R),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${_}]`}})}function isInteger(_){return _===null||typeof _!="object"?!1:_[_type]===INTEGER}const FLOAT=Symbol("float");function Float(_){return Object.defineProperties(new Number(_),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${_}]`}})}function isFloat(_){return _===null||typeof _!="object"?!1:_[_type]===FLOAT}function tomlType(_){const R=typeof _;if(R==="object"){if(_===null)return"null";if(_ instanceof Date)return"datetime";if(_type in _)switch(_[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return R}function makeParserClass(_){class R extends _{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===_.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===_.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===_.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(I){let O=this.ctx,z=I.key.pop();for(let L of I.key){if(hasKey(O,L)&&(!isTable(O[L])||O[L][_declared]))throw this.error(new TomlError("Can't redefine existing key"));O=O[L]=O[L]||Table()}if(hasKey(O,z))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(I.value)||isFloat(I.value)?O[z]=I.value.valueOf():O[z]=I.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(I){return this.state.resultTable?this.state.resultTable.push(I):this.state.resultTable=[I],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(I){return this.returnNow({key:this.state.resultTable,value:I})}parseComment(){do if(this.char===_.END||this.char===CTRL_J)return this.return();while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(I){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,I)&&(!isTable(this.ctx[I])||this.ctx[I][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[I]=this.ctx[I]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,I))this.ctx=this.ctx[I]=Table();else if(isTable(this.ctx[I]))this.ctx=this.ctx[I];else if(isList(this.ctx[I]))this.ctx=this.ctx[I][this.ctx[I].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(I){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,I)||(this.ctx[I]=List()),isInlineList(this.ctx[I]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[I])){const O=Table();this.ctx[I].push(O),this.ctx=O}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,I))this.ctx=this.ctx[I]=Table();else{if(isInlineList(this.ctx[I]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[I]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[I]))this.ctx=this.ctx[I][this.ctx[I].length-1];else if(isTable(this.ctx[I]))this.ctx=this.ctx[I];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(I){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===_.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(I){return this.returnNow(I)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===_.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===_.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(I){return this.state.buf+=I,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===_.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let I="\\u00";return this.char<16&&(I+="0"),I+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${I} instead`))}recordMultiEscapeReplacement(I){return this.state.buf+=I,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(I){try{const O=parseInt(I,16);if(O>=SURROGATE_FIRST&&O<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(O))}catch(O){throw this.error(TomlError.wrap(O))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const I=Integer(this.state.buf);if(I.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(I)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const I=Integer(this.state.buf);if(I.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(I)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const I=Integer(this.state.buf);if(I.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(I)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const I=Integer(this.state.buf);if(I.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(I)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===_.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(I){if(this.state.resultArr){const O=this.state.resultArr[_contentType],z=tomlType(I);if(O!==z)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${O} and ${z}`))}else this.state.resultArr=InlineList(tomlType(I));return isFloat(I)||isInteger(I)?this.state.resultArr.push(I.valueOf()):this.state.resultArr.push(I),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===_.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(I){let O=this.state.resultTable,z=I.key.pop();for(let L of I.key){if(hasKey(O,L)&&(!isTable(O[L])||O[L][_declared]))throw this.error(new TomlError("Can't redefine existing key"));O=O[L]=O[L]||Table()}if(hasKey(O,z))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(I.value)||isFloat(I.value)?O[z]=I.value.valueOf():O[z]=I.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===_.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}return R}return tomlParser.exports}var parsePrettyError,hasRequiredParsePrettyError;function requireParsePrettyError(){if(hasRequiredParsePrettyError)return parsePrettyError;hasRequiredParsePrettyError=1,parsePrettyError=_;function _(R,P){if(R.pos==null||R.line==null)return R;let I=R.message;if(I+=` at row ${R.line+1}, col ${R.col+1}, pos ${R.pos}:
`,P&&P.split){const O=P.split(/\n/),z=String(Math.min(O.length,R.line+3)).length;let L=" ";for(;L.length<z;)L+=" ";for(let F=Math.max(0,R.line-1);F<Math.min(O.length,R.line+2);++F){let U=String(F+1);if(U.length<z&&(U=" "+U),R.line===F){I+=U+"> "+O[F]+`
`,I+=L+"  ";for(let V=0;V<R.col;++V)I+=" ";I+=`^
`}else I+=U+": "+O[F]+`
`}}return R.message=I+`
`,R}return parsePrettyError}var parseString_1,hasRequiredParseString;function requireParseString(){if(hasRequiredParseString)return parseString_1;hasRequiredParseString=1,parseString_1=P;const _=requireTomlParser(),R=requireParsePrettyError();function P(I){globalThis.Buffer&&globalThis.Buffer.isBuffer(I)&&(I=I.toString("utf8"));const O=new _;try{return O.parse(I),O.finish()}catch(z){throw R(z,I)}}return parseString_1}var parseAsync_1,hasRequiredParseAsync;function requireParseAsync(){if(hasRequiredParseAsync)return parseAsync_1;hasRequiredParseAsync=1,parseAsync_1=P;const _=requireTomlParser(),R=requireParsePrettyError();function P(I,O){O||(O={});const z=0,L=O.blocksize||40960,F=new _;return new Promise((V,q)=>{setImmediate(U,z,L,V,q)});function U(V,q,W,Y){if(V>=I.length)try{return W(F.finish())}catch(Q){return Y(R(Q,I))}try{F.parse(I.slice(V,V+q)),setImmediate(U,V+q,q,W,Y)}catch(Q){Y(R(Q,I))}}}return parseAsync_1}var parseStream_1,hasRequiredParseStream;function requireParseStream(){if(hasRequiredParseStream)return parseStream_1;hasRequiredParseStream=1,parseStream_1=P;const _=require$$0,R=requireTomlParser();function P(z){return z?I(z):O()}function I(z){const L=new R;return z.setEncoding("utf8"),new Promise((F,U)=>{let V,q=!1,W=!1;function Y(){if(q=!0,!V)try{F(L.finish())}catch(te){U(te)}}function Q(te){W=!0,U(te)}z.once("end",Y),z.once("error",Q),ee();function ee(){V=!0;let te;for(;(te=z.read())!==null;)try{L.parse(te)}catch(ie){return Q(ie)}if(V=!1,q)return Y();W||z.once("readable",ee)}})}function O(){const z=new R;return new _.Transform({objectMode:!0,transform(L,F,U){try{z.parse(L.toString(F))}catch(V){this.emit("error",V)}U()},flush(L){try{this.push(z.finish())}catch(F){this.emit("error",F)}L()}})}return parseStream_1}var hasRequiredParse;function requireParse(){return hasRequiredParse||(hasRequiredParse=1,parse$6.exports=requireParseString(),parse$6.exports.async=requireParseAsync(),parse$6.exports.stream=requireParseStream(),parse$6.exports.prettyError=requireParsePrettyError()),parse$6.exports}var stringify$2={exports:{}},hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify$2.exports;hasRequiredStringify=1,stringify$2.exports=_,stringify$2.exports.value=ie;function _(Se){if(Se===null)throw R("null");if(Se===void 0)throw R("undefined");if(typeof Se!="object")throw R(typeof Se);if(typeof Se.toJSON=="function"&&(Se=Se.toJSON()),Se==null)return null;const me=U(Se);if(me!=="table")throw R(me);return L("","",Se)}function R(Se){return new Error("Can only stringify objects, not "+Se)}function P(){return new Error("Array values can't have mixed types")}function I(Se){return Object.keys(Se).filter(me=>F(Se[me]))}function O(Se){return Object.keys(Se).filter(me=>!F(Se[me]))}function z(Se){let me=Array.isArray(Se)?[]:Object.prototype.hasOwnProperty.call(Se,"__proto__")?{["__proto__"]:void 0}:{};for(let Ce of Object.keys(Se))Se[Ce]&&typeof Se[Ce].toJSON=="function"&&!("toISOString"in Se[Ce])?me[Ce]=Se[Ce].toJSON():me[Ce]=Se[Ce];return me}function L(Se,me,Ce){Ce=z(Ce);var Te,Re;Te=I(Ce),Re=O(Ce);var Pe=[],Me=me||"";Te.forEach(we=>{var ke=U(Ce[we]);ke!=="undefined"&&ke!=="null"&&Pe.push(Me+V(we)+" = "+te(Ce[we],!0))}),Pe.length>0&&Pe.push("");var Ae=Se&&Te.length>0?me+"  ":"";return Re.forEach(we=>{Pe.push(be(Se,Ae,we,Ce[we]))}),Pe.join(`
`)}function F(Se){switch(U(Se)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return Se.length===0||U(Se[0])!=="table";case"table":return Object.keys(Se).length===0;default:return!1}}function U(Se){return Se===void 0?"undefined":Se===null?"null":typeof Se=="bigint"||Number.isInteger(Se)&&!Object.is(Se,-0)?"integer":typeof Se=="number"?"float":typeof Se=="boolean"?"boolean":typeof Se=="string"?"string":"toISOString"in Se?isNaN(Se)?"undefined":"datetime":Array.isArray(Se)?"array":"table"}function V(Se){var me=String(Se);return/^[-A-Za-z0-9_]+$/.test(me)?me:q(me)}function q(Se){return'"'+Q(Se).replace(/"/g,'\\"')+'"'}function W(Se){return"'"+Se+"'"}function Y(Se,me){for(;me.length<Se;)me="0"+me;return me}function Q(Se){return Se.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,me=>"\\u"+Y(4,me.codePointAt(0).toString(16)))}function ee(Se){let me=Se.split(/\n/).map(Ce=>Q(Ce).replace(/"(?="")/g,'\\"')).join(`
`);return me.slice(-1)==='"'&&(me+=`\\
`),`"""
`+me+'"""'}function te(Se,me){let Ce=U(Se);return Ce==="string"&&(me&&/\n/.test(Se)?Ce="string-multiline":!/[\b\t\n\f\r']/.test(Se)&&/"/.test(Se)&&(Ce="string-literal")),ie(Se,Ce)}function ie(Se,me){switch(me||(me=U(Se)),me){case"string-multiline":return ee(Se);case"string":return q(Se);case"string-literal":return W(Se);case"integer":return ae(Se);case"float":return se(Se);case"boolean":return le(Se);case"datetime":return ce(Se);case"array":return pe(Se.filter(Ce=>U(Ce)!=="null"&&U(Ce)!=="undefined"&&U(Ce)!=="nan"));case"table":return ge(Se);default:throw R(me)}}function ae(Se){return String(Se).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function se(Se){if(Se===1/0)return"inf";if(Se===-1/0)return"-inf";if(Object.is(Se,NaN))return"nan";if(Object.is(Se,-0))return"-0.0";var me=String(Se).split("."),Ce=me[0],Te=me[1]||0;return ae(Ce)+"."+Te}function le(Se){return String(Se)}function ce(Se){return Se.toISOString()}function fe(Se){return Se==="float"||Se==="integer"}function de(Se){var me=U(Se[0]);return Se.every(Ce=>U(Ce)===me)?me:Se.every(Ce=>fe(U(Ce)))?"float":"mixed"}function he(Se){const me=de(Se);if(me==="mixed")throw P();return me}function pe(Se){Se=z(Se);const me=he(Se);var Ce="[",Te=Se.map(Re=>ie(Re,me));return Te.join(", ").length>60||/\n/.test(Te)?Ce+=`
  `+Te.join(`,
  `)+`
`:Ce+=" "+Te.join(", ")+(Te.length>0?" ":""),Ce+"]"}function ge(Se){Se=z(Se);var me=[];return Object.keys(Se).forEach(Ce=>{me.push(V(Ce)+" = "+te(Se[Ce],!1))}),"{ "+me.join(", ")+(me.length>0?" ":"")+"}"}function be(Se,me,Ce,Te){var Re=U(Te);if(Re==="array")return xe(Se,me,Ce,Te);if(Re==="table")return _e(Se,me,Ce,Te);throw R(Re)}function xe(Se,me,Ce,Te){Te=z(Te),he(Te);var Re=U(Te[0]);if(Re!=="table")throw R(Re);var Pe=Se+V(Ce),Me="";return Te.forEach(Ae=>{Me.length>0&&(Me+=`
`),Me+=me+"[["+Pe+`]]
`,Me+=L(Pe+".",me,Ae)}),Me}function _e(Se,me,Ce,Te){var Re=Se+V(Ce),Pe="";return I(Te).length>0&&(Pe+=me+"["+Re+`]
`),Pe+L(Re+".",me,Te)}return stringify$2.exports}var hasRequiredToml;function requireToml(){return hasRequiredToml||(hasRequiredToml=1,toml.parse=requireParse(),toml.stringify=requireStringify()),toml}var tomlExports=requireToml();const TOML=getDefaultExportFromCjs(tomlExports),DEFAULT_CONTROL_CELL={N_init:25,location:"",R_hard:.4,R_hard_div:.7,R_soft:1.2,color:{r:30,g:100,b:20},dur_G2:.5,dur_mitosis:.5,k_apical_junction:5,k_cytos:5,max_cytoskeleton_length:.5,run:0,running_speed:1,running_mode:0,stiffness_apical_apical:2,stiffness_apical_apical_div:4,stiffness_nuclei_apical:3,stiffness_nuclei_basal:2,stiffness_repulsion:2,stiffness_straightness:5,lifespan_start:5.5,lifespan_end:6.5,INM:0,hetero:!1,events:{time_A_start:1/0,time_A_end:1/0,time_B_start:1/0,time_B_end:1/0,time_S_start:1/0,time_S_end:1/0,time_P_start:1/0,time_P_end:1/0,time_AC_start:1/0,time_AC_end:1/0},diffusion:.2,basal_damping_ratio:1,max_basal_junction_dist:4,cytos_init:0,basal_membrane_repulsion:0,apical_junction_init:0},DEFAULT_EMT_CELL={N_init:5,location:"bottom",R_hard:.4,R_hard_div:.7,R_soft:1.2,color:{r:128,g:0,b:128},dur_G2:.5,dur_mitosis:.5,k_apical_junction:1,k_cytos:5,max_cytoskeleton_length:.5,run:0,running_speed:1,running_mode:0,stiffness_apical_apical:2,stiffness_apical_apical_div:4,stiffness_nuclei_apical:3,stiffness_nuclei_basal:2,stiffness_repulsion:4,stiffness_straightness:2,lifespan_start:5.5,lifespan_end:6.5,INM:0,hetero:!0,events:{time_A_start:3,time_A_end:12,time_B_start:3,time_B_end:12,time_S_start:1/0,time_S_end:1/0,time_P_start:1/0,time_P_end:1/0,time_AC_start:1/0,time_AC_end:1/0},diffusion:.2,basal_damping_ratio:1,max_basal_junction_dist:4,cytos_init:0,basal_membrane_repulsion:0,apical_junction_init:0},DEFAULT_EHT_PARAMS={metadata:{model:"EHT",version:"1.0.0"},general:{t_end:48,dt:.1,random_seed:0,full_circle:!0,w_init:80,h_init:5,mu:.2,n_substeps:30,alg_dt:.01,w_screen:50,h_screen:25,p_div_out:1,perimeter:105,aspect_ratio:1,hard_sphere_nuclei:!0},cell_prop:{},cell_types:{control:DEFAULT_CONTROL_CELL,emt:DEFAULT_EMT_CELL}};function mergePresetWithDefaults(_){const R=cloneDeep(DEFAULT_EHT_PARAMS);if(_.general&&(R.general={...R.general,..._.general}),_.metadata&&(R.metadata={...R.metadata,..._.metadata}),_.cell_types){for(const[P,I]of Object.entries(_.cell_types))if(I){const O=R.cell_types[P]??cloneDeep(DEFAULT_CONTROL_CELL);R.cell_types[P]=merge$2(O,I)}}return R}let presetModules={};try{presetModules=Object.assign({"./presets/chick-embryo-control.toml":__vite_glob_0_0,"./presets/chick-embryo-single-emt.toml":__vite_glob_0_1,"./presets/cuboidal.toml":__vite_glob_0_2,"./presets/gastrulation-control.toml":__vite_glob_0_3,"./presets/pseudo-stratified.toml":__vite_glob_0_4})}catch{presetModules={}}function parsePresets(){const _=[];for(const[R,P]of Object.entries(presetModules)){const I=R.split("/").pop()?.replace(".toml","")??"",O=I.replace(/-/g,"_");try{const z=TOML.parse(P),L=z.label??I;delete z.label,_.push({key:O,label:L,params:z})}catch(z){console.error(`Failed to parse preset ${R}:`,z)}}return _.sort((R,P)=>R.label.localeCompare(P.label))}const loadedPresets=parsePresets(),EHT_PRESETS=[{key:"default",label:"Default",create:()=>cloneDeep(DEFAULT_EHT_PARAMS)},...loadedPresets.map(_=>({key:_.key,label:_.label,create:()=>mergePresetWithDefaults(_.params)}))];function projectOntoSegment(_,R,P){const I=P.sub(R),O=_.sub(R),z=I.magSq();if(z<1e-10)return R;const L=Math.max(0,Math.min(1,O.dot(I)/z));return R.add(I.scale(L))}function getBasalGeometry$1(_){if(typeof _.basalGeometry?.projectPoint=="function")return _.basalGeometry;const R=_.geometry?.curvature_1??_.basalGeometry?.curvature_1??0,P=_.geometry?.curvature_2??_.basalGeometry?.curvature_2??0;return createBasalGeometry(R,P,360)}function projectOntoApicalStrip(_,R){const{cells:P,ap_links:I}=R;if(I.length===0)return _;const O=I[0],z=Vector2.from(P[O.l].A),L=Vector2.from(P[O.r].A);let F=projectOntoSegment(_,z,L),U=_.distSq(F);for(let V=1;V<I.length;V++){const q=I[V],W=Vector2.from(P[q.l].A),Y=Vector2.from(P[q.r].A),Q=projectOntoSegment(_,W,Y),ee=_.distSq(Q);ee<U&&(U=ee,F=Q)}return F}function projectOntoBasalCurve(_,R){return getBasalGeometry$1(R).projectPoint(_)}function getBasalGeometry(_){if(typeof _.basalGeometry?.getArcLength=="function")return _.basalGeometry;const R=_.geometry?.curvature_1??_.basalGeometry?.curvature_1??0,P=_.geometry?.curvature_2??_.basalGeometry?.curvature_2??0;return createBasalGeometry(R,P,360)}function identifyBoundaryCells(_,R){const P=new Set;if(R.general.full_circle)return P;const I=getBasalGeometry(_),O=[];for(let L=0;L<_.cells.length;L++){const F=_.cells[L];if(F.typeIndex==="control"){const U=Vector2.from(F.B),V=I.getArcLength(U);O.push({index:L,arcLength:V})}}if(O.length===0)return P;O.sort((L,F)=>L.arcLength-F.arcLength);const z=Math.ceil(O.length*.1);for(let L=0;L<z&&L<O.length;L++)P.add(O[L].index);for(let L=Math.max(0,O.length-z);L<O.length;L++)P.add(O[L].index);return P}function computeCellMetrics(_,R){const P=_.cells,I=[],O=identifyBoundaryCells(_,R);let z=1/0;for(let F=0;F<P.length;F++){const U=P[F],V=Vector2.from(U.pos),q=Vector2.from(U.A),W=Vector2.from(U.B),Y=projectOntoApicalStrip(V,_),Q=projectOntoBasalCurve(V,_),ee=q.dist(V),te=W.dist(V),ie=V.dist(Y),ae=V.dist(Q),se=O.has(F),le=U.typeIndex==="control"&&se?"control_boundary":U.typeIndex;U.typeIndex==="control"&&!se&&ae<z&&(z=ae);const ce=Y.sub(Q),fe=ce.magSq();let de=.5;fe>1e-10&&(de=V.sub(Q).dot(ce)/fe);const he=de<0,pe=de>1;I.push({cell:U,X:V,A:q,B:W,a:Y,b:Q,AX:ee,BX:te,ax:ie,bx:ae,x:de,below_basal:he,above_apical:pe,below_control_cells:!1,isBoundary:se,effectiveType:le})}const L=z<1/0;for(const F of I)F.below_control_cells=L&&F.bx<z;return I}function generateCellGroups(_){const R=Object.keys(_.cell_types),P=[];P.push("all");for(const I of R)P.push(I);return P}function filterByGroup(_,R){return R==="all"?_.filter(P=>P.effectiveType!=="control_boundary"):_.filter(P=>P.effectiveType===R)}function aggregateMetrics(_){if(_.length===0)return{ab_distance:0,AX:0,BX:0,ax:0,bx:0,x:0,below_basal:0,above_apical:0,below_control_cells:0};const R=I=>I.reduce((O,z)=>O+z,0)/I.length,P=I=>I.filter(O=>O).length/I.length;return{ab_distance:R(_.map(I=>I.A.dist(I.B))),AX:R(_.map(I=>I.AX)),BX:R(_.map(I=>I.BX)),ax:R(_.map(I=>I.ax)),bx:R(_.map(I=>I.bx)),x:R(_.map(I=>I.x)),below_basal:P(_.map(I=>I.below_basal)),above_apical:P(_.map(I=>I.above_apical)),below_control_cells:P(_.map(I=>I.below_control_cells))}}function computeEHTStatistics(_,R){const P={};if(!R){const I=_.cells.length>0?_.cells.reduce((O,z)=>O+Vector2.from(z.A).dist(Vector2.from(z.B)),0)/_.cells.length:0;return P.ab_distance_all=I,P}try{const I=computeCellMetrics(_,R),O=generateCellGroups(R);for(const z of O){const L=filterByGroup(I,z),F=aggregateMetrics(L);for(const[U,V]of Object.entries(F))P[`${U}_${z}`]=V}}catch(I){console.error("Failed to compute EHT statistics",I)}return P}function exportCellMetrics(_,R){return computeCellMetrics(_,R).map((I,O)=>({cell_id:O,cell_type:I.effectiveType,X_x:I.X.x,X_y:I.X.y,A_x:I.A.x,A_y:I.A.y,B_x:I.B.x,B_y:I.B.y,a_x:I.a.x,a_y:I.a.y,b_x:I.b.x,b_y:I.b.y,ab_distance:I.A.dist(I.B),AX:I.AX,BX:I.BX,ax:I.ax,bx:I.bx,x:I.x,below_basal:I.below_basal?1:0,above_apical:I.above_apical?1:0,below_control_cells:I.below_control_cells?1:0}))}function generateEHTStatistics(_){const R=[],P=generateCellGroups(_),I=[{id:"ab_distance",label:"AB Distance",description:"Apical-basal distance"},{id:"AX",label:"AX Distance",description:"Distance from A to X"},{id:"BX",label:"BX Distance",description:"Distance from B to X"},{id:"ax",label:"ax Distance",description:"Distance from X to apical projection"},{id:"bx",label:"bx Distance",description:"Distance from X to basal projection"},{id:"x",label:"x Position",description:"Position on basal-apical scale (0-1)"},{id:"below_basal",label:"Below Basal",description:"Fraction of cells below basal layer"},{id:"above_apical",label:"Above Apical",description:"Fraction of cells above apical layer"},{id:"below_control_cells",label:"Below Control Cells",description:"Fraction of cells below the lowest control cell"}];for(const O of P)for(const z of I)R.push({id:`${z.id}_${O}`,label:`${z.label} (${O})`,description:`${z.description} for ${O} cells`,compute:L=>computeEHTStatistics(L,_)[`${z.id}_${O}`]||0});return R}generateEHTStatistics({metadata:{},general:{},cell_prop:{},cell_types:{control:{}}});function generateEHTBatchParameters(_){const R=[];R.push({path:"general.t_end",label:"t_end (End time)"},{path:"general.dt",label:"dt (Time step)"},{path:"general.random_seed",label:"Random seed",isInteger:!0},{path:"general.w_init",label:"w_init (Initial width)"},{path:"general.h_init",label:"h_init (Initial height)"},{path:"general.mu",label:"mu (Friction)"},{path:"general.n_substeps",label:"n_substeps",isInteger:!0},{path:"general.alg_dt",label:"alg_dt (Algorithm dt)"},{path:"general.p_div_out",label:"p_div_out (Division probability)"},{path:"general.perimeter",label:"Perimeter"},{path:"general.aspect_ratio",label:"Aspect ratio"});for(const[P,I]of Object.entries(_.cell_types)){const O=`cell_types.${P}`,z=P;R.push({path:`${O}.N_init`,label:`${z}: N_init`,isInteger:!0},{path:`${O}.location`,label:`${z}: location`},{path:`${O}.R_hard`,label:`${z}: R_hard`},{path:`${O}.R_hard_div`,label:`${z}: R_hard_div`},{path:`${O}.R_soft`,label:`${z}: R_soft`},{path:`${O}.dur_G2`,label:`${z}: dur_G2`},{path:`${O}.dur_mitosis`,label:`${z}: dur_mitosis`},{path:`${O}.k_apical_junction`,label:`${z}: k_apical_junction`},{path:`${O}.k_cytos`,label:`${z}: k_cytos`},{path:`${O}.max_cytoskeleton_length`,label:`${z}: max_cytos_length`},{path:`${O}.run`,label:`${z}: run probability`},{path:`${O}.running_speed`,label:`${z}: running_speed`},{path:`${O}.running_mode`,label:`${z}: running_mode`,isInteger:!0},{path:`${O}.stiffness_apical_apical`,label:`${z}: stiff_apical_apical`},{path:`${O}.stiffness_apical_apical_div`,label:`${z}: stiff_apical_apical_div`},{path:`${O}.stiffness_nuclei_apical`,label:`${z}: stiff_nuclei_apical`},{path:`${O}.stiffness_nuclei_basal`,label:`${z}: stiff_nuclei_basal`},{path:`${O}.stiffness_repulsion`,label:`${z}: stiff_repulsion`},{path:`${O}.stiffness_straightness`,label:`${z}: stiff_straightness`},{path:`${O}.lifespan_start`,label:`${z}: lifespan start`},{path:`${O}.lifespan_end`,label:`${z}: lifespan end`},{path:`${O}.INM`,label:`${z}: INM probability`},{path:`${O}.diffusion`,label:`${z}: diffusion`},{path:`${O}.basal_damping_ratio`,label:`${z}: basal_damping_ratio`},{path:`${O}.max_basal_junction_dist`,label:`${z}: max_basal_junction_dist`},{path:`${O}.cytos_init`,label:`${z}: cytos_init`},{path:`${O}.basal_membrane_repulsion`,label:`${z}: basal_membrane_repulsion`},{path:`${O}.apical_junction_init`,label:`${z}: apical_junction_init`},{path:`${O}.events.time_A_start`,label:`${z}: time_A start`},{path:`${O}.events.time_A_end`,label:`${z}: time_A end`},{path:`${O}.events.time_B_start`,label:`${z}: time_B start`},{path:`${O}.events.time_B_end`,label:`${z}: time_B end`},{path:`${O}.events.time_S_start`,label:`${z}: time_S start`},{path:`${O}.events.time_S_end`,label:`${z}: time_S end`},{path:`${O}.events.time_P_start`,label:`${z}: time_P start`},{path:`${O}.events.time_P_end`,label:`${z}: time_P end`})}return R}const EHT_BATCH_PARAMETERS=[{path:"general.perimeter",label:"Perimeter"},{path:"general.aspect_ratio",label:"Aspect ratio"},{path:"general.random_seed",label:"Random seed",isInteger:!0},{path:"general.t_end",label:"t_end (End time)"},{path:"cell_types.control.diffusion",label:"control: diffusion"},{path:"cell_types.control.max_basal_junction_dist",label:"control: max_basal_junction_dist"},{path:"cell_types.control.apical_junction_init",label:"control: apical_junction_init"}];function r$1(_){var R,P,I="";if(typeof _=="string"||typeof _=="number")I+=_;else if(typeof _=="object")if(Array.isArray(_)){var O=_.length;for(R=0;R<O;R++)_[R]&&(P=r$1(_[R]))&&(I&&(I+=" "),I+=P)}else for(P in _)_[P]&&(I&&(I+=" "),I+=P);return I}function clsx(){for(var _,R,P=0,I="",O=arguments.length;P<O;P++)(_=arguments[P])&&(R=r$1(_))&&(I&&(I+=" "),I+=R);return I}const concatArrays=(_,R)=>{const P=new Array(_.length+R.length);for(let I=0;I<_.length;I++)P[I]=_[I];for(let I=0;I<R.length;I++)P[_.length+I]=R[I];return P},createClassValidatorObject=(_,R)=>({classGroupId:_,validator:R}),createClassPartObject=(_=new Map,R=null,P)=>({nextPart:_,validators:R,classGroupId:P}),CLASS_PART_SEPARATOR="-",EMPTY_CONFLICTS=[],ARBITRARY_PROPERTY_PREFIX="arbitrary..",createClassGroupUtils=_=>{const R=createClassMap(_),{conflictingClassGroups:P,conflictingClassGroupModifiers:I}=_;return{getClassGroupId:L=>{if(L.startsWith("[")&&L.endsWith("]"))return getGroupIdForArbitraryProperty(L);const F=L.split(CLASS_PART_SEPARATOR),U=F[0]===""&&F.length>1?1:0;return getGroupRecursive(F,U,R)},getConflictingClassGroupIds:(L,F)=>{if(F){const U=I[L],V=P[L];return U?V?concatArrays(V,U):U:V||EMPTY_CONFLICTS}return P[L]||EMPTY_CONFLICTS}}},getGroupRecursive=(_,R,P)=>{if(_.length-R===0)return P.classGroupId;const O=_[R],z=P.nextPart.get(O);if(z){const V=getGroupRecursive(_,R+1,z);if(V)return V}const L=P.validators;if(L===null)return;const F=R===0?_.join(CLASS_PART_SEPARATOR):_.slice(R).join(CLASS_PART_SEPARATOR),U=L.length;for(let V=0;V<U;V++){const q=L[V];if(q.validator(F))return q.classGroupId}},getGroupIdForArbitraryProperty=_=>_.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const R=_.slice(1,-1),P=R.indexOf(":"),I=R.slice(0,P);return I?ARBITRARY_PROPERTY_PREFIX+I:void 0})(),createClassMap=_=>{const{theme:R,classGroups:P}=_;return processClassGroups(P,R)},processClassGroups=(_,R)=>{const P=createClassPartObject();for(const I in _){const O=_[I];processClassesRecursively(O,P,I,R)}return P},processClassesRecursively=(_,R,P,I)=>{const O=_.length;for(let z=0;z<O;z++){const L=_[z];processClassDefinition(L,R,P,I)}},processClassDefinition=(_,R,P,I)=>{if(typeof _=="string"){processStringDefinition(_,R,P);return}if(typeof _=="function"){processFunctionDefinition(_,R,P,I);return}processObjectDefinition(_,R,P,I)},processStringDefinition=(_,R,P)=>{const I=_===""?R:getPart(R,_);I.classGroupId=P},processFunctionDefinition=(_,R,P,I)=>{if(isThemeGetter(_)){processClassesRecursively(_(I),R,P,I);return}R.validators===null&&(R.validators=[]),R.validators.push(createClassValidatorObject(P,_))},processObjectDefinition=(_,R,P,I)=>{const O=Object.entries(_),z=O.length;for(let L=0;L<z;L++){const[F,U]=O[L];processClassesRecursively(U,getPart(R,F),P,I)}},getPart=(_,R)=>{let P=_;const I=R.split(CLASS_PART_SEPARATOR),O=I.length;for(let z=0;z<O;z++){const L=I[z];let F=P.nextPart.get(L);F||(F=createClassPartObject(),P.nextPart.set(L,F)),P=F}return P},isThemeGetter=_=>"isThemeGetter"in _&&_.isThemeGetter===!0,createLruCache=_=>{if(_<1)return{get:()=>{},set:()=>{}};let R=0,P=Object.create(null),I=Object.create(null);const O=(z,L)=>{P[z]=L,R++,R>_&&(R=0,I=P,P=Object.create(null))};return{get(z){let L=P[z];if(L!==void 0)return L;if((L=I[z])!==void 0)return O(z,L),L},set(z,L){z in P?P[z]=L:O(z,L)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",EMPTY_MODIFIERS=[],createResultObject=(_,R,P,I,O)=>({modifiers:_,hasImportantModifier:R,baseClassName:P,maybePostfixModifierPosition:I,isExternal:O}),createParseClassName=_=>{const{prefix:R,experimentalParseClassName:P}=_;let I=O=>{const z=[];let L=0,F=0,U=0,V;const q=O.length;for(let te=0;te<q;te++){const ie=O[te];if(L===0&&F===0){if(ie===MODIFIER_SEPARATOR){z.push(O.slice(U,te)),U=te+1;continue}if(ie==="/"){V=te;continue}}ie==="["?L++:ie==="]"?L--:ie==="("?F++:ie===")"&&F--}const W=z.length===0?O:O.slice(U);let Y=W,Q=!1;W.endsWith(IMPORTANT_MODIFIER)?(Y=W.slice(0,-1),Q=!0):W.startsWith(IMPORTANT_MODIFIER)&&(Y=W.slice(1),Q=!0);const ee=V&&V>U?V-U:void 0;return createResultObject(z,Q,Y,ee)};if(R){const O=R+MODIFIER_SEPARATOR,z=I;I=L=>L.startsWith(O)?z(L.slice(O.length)):createResultObject(EMPTY_MODIFIERS,!1,L,void 0,!0)}if(P){const O=I;I=z=>P({className:z,parseClassName:O})}return I},createSortModifiers=_=>{const R=new Map;return _.orderSensitiveModifiers.forEach((P,I)=>{R.set(P,1e6+I)}),P=>{const I=[];let O=[];for(let z=0;z<P.length;z++){const L=P[z],F=L[0]==="[",U=R.has(L);F||U?(O.length>0&&(O.sort(),I.push(...O),O=[]),I.push(L)):O.push(L)}return O.length>0&&(O.sort(),I.push(...O)),I}},createConfigUtils=_=>({cache:createLruCache(_.cacheSize),parseClassName:createParseClassName(_),sortModifiers:createSortModifiers(_),...createClassGroupUtils(_)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(_,R)=>{const{parseClassName:P,getClassGroupId:I,getConflictingClassGroupIds:O,sortModifiers:z}=R,L=[],F=_.trim().split(SPLIT_CLASSES_REGEX);let U="";for(let V=F.length-1;V>=0;V-=1){const q=F[V],{isExternal:W,modifiers:Y,hasImportantModifier:Q,baseClassName:ee,maybePostfixModifierPosition:te}=P(q);if(W){U=q+(U.length>0?" "+U:U);continue}let ie=!!te,ae=I(ie?ee.substring(0,te):ee);if(!ae){if(!ie){U=q+(U.length>0?" "+U:U);continue}if(ae=I(ee),!ae){U=q+(U.length>0?" "+U:U);continue}ie=!1}const se=Y.length===0?"":Y.length===1?Y[0]:z(Y).join(":"),le=Q?se+IMPORTANT_MODIFIER:se,ce=le+ae;if(L.indexOf(ce)>-1)continue;L.push(ce);const fe=O(ae,ie);for(let de=0;de<fe.length;++de){const he=fe[de];L.push(le+he)}U=q+(U.length>0?" "+U:U)}return U},twJoin=(..._)=>{let R=0,P,I,O="";for(;R<_.length;)(P=_[R++])&&(I=toValue(P))&&(O&&(O+=" "),O+=I);return O},toValue=_=>{if(typeof _=="string")return _;let R,P="";for(let I=0;I<_.length;I++)_[I]&&(R=toValue(_[I]))&&(P&&(P+=" "),P+=R);return P},createTailwindMerge=(_,...R)=>{let P,I,O,z;const L=U=>{const V=R.reduce((q,W)=>W(q),_());return P=createConfigUtils(V),I=P.cache.get,O=P.cache.set,z=F,F(U)},F=U=>{const V=I(U);if(V)return V;const q=mergeClassList(U,P);return O(U,q),q};return z=L,(...U)=>z(twJoin(...U))},fallbackThemeArr=[],fromTheme=_=>{const R=P=>P[_]||fallbackThemeArr;return R.isThemeGetter=!0,R},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=_=>fractionRegex.test(_),isNumber$1=_=>!!_&&!Number.isNaN(Number(_)),isInteger=_=>!!_&&Number.isInteger(Number(_)),isPercent=_=>_.endsWith("%")&&isNumber$1(_.slice(0,-1)),isTshirtSize=_=>tshirtUnitRegex.test(_),isAny=()=>!0,isLengthOnly=_=>lengthUnitRegex.test(_)&&!colorFunctionRegex.test(_),isNever=()=>!1,isShadow=_=>shadowRegex.test(_),isImage=_=>imageRegex.test(_),isAnyNonArbitrary=_=>!isArbitraryValue(_)&&!isArbitraryVariable(_),isArbitrarySize=_=>getIsArbitraryValue(_,isLabelSize,isNever),isArbitraryValue=_=>arbitraryValueRegex.test(_),isArbitraryLength=_=>getIsArbitraryValue(_,isLabelLength,isLengthOnly),isArbitraryNumber=_=>getIsArbitraryValue(_,isLabelNumber,isNumber$1),isArbitraryPosition=_=>getIsArbitraryValue(_,isLabelPosition,isNever),isArbitraryImage=_=>getIsArbitraryValue(_,isLabelImage,isImage),isArbitraryShadow=_=>getIsArbitraryValue(_,isLabelShadow,isShadow),isArbitraryVariable=_=>arbitraryVariableRegex.test(_),isArbitraryVariableLength=_=>getIsArbitraryVariable(_,isLabelLength),isArbitraryVariableFamilyName=_=>getIsArbitraryVariable(_,isLabelFamilyName),isArbitraryVariablePosition=_=>getIsArbitraryVariable(_,isLabelPosition),isArbitraryVariableSize=_=>getIsArbitraryVariable(_,isLabelSize),isArbitraryVariableImage=_=>getIsArbitraryVariable(_,isLabelImage),isArbitraryVariableShadow=_=>getIsArbitraryVariable(_,isLabelShadow,!0),getIsArbitraryValue=(_,R,P)=>{const I=arbitraryValueRegex.exec(_);return I?I[1]?R(I[1]):P(I[2]):!1},getIsArbitraryVariable=(_,R,P=!1)=>{const I=arbitraryVariableRegex.exec(_);return I?I[1]?R(I[1]):P:!1},isLabelPosition=_=>_==="position"||_==="percentage",isLabelImage=_=>_==="image"||_==="url",isLabelSize=_=>_==="length"||_==="size"||_==="bg-size",isLabelLength=_=>_==="length",isLabelNumber=_=>_==="number",isLabelFamilyName=_=>_==="family-name",isLabelShadow=_=>_==="shadow",getDefaultConfig=()=>{const _=fromTheme("color"),R=fromTheme("font"),P=fromTheme("text"),I=fromTheme("font-weight"),O=fromTheme("tracking"),z=fromTheme("leading"),L=fromTheme("breakpoint"),F=fromTheme("container"),U=fromTheme("spacing"),V=fromTheme("radius"),q=fromTheme("shadow"),W=fromTheme("inset-shadow"),Y=fromTheme("text-shadow"),Q=fromTheme("drop-shadow"),ee=fromTheme("blur"),te=fromTheme("perspective"),ie=fromTheme("aspect"),ae=fromTheme("ease"),se=fromTheme("animate"),le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],fe=()=>[...ce(),isArbitraryVariable,isArbitraryValue],de=()=>["auto","hidden","clip","visible","scroll"],he=()=>["auto","contain","none"],pe=()=>[isArbitraryVariable,isArbitraryValue,U],ge=()=>[isFraction,"full","auto",...pe()],be=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],xe=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],_e=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],Se=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ce=()=>["start","end","center","stretch","center-safe","end-safe"],Te=()=>["auto",...pe()],Re=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...pe()],Pe=()=>[_,isArbitraryVariable,isArbitraryValue],Me=()=>[...ce(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],Ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],we=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],ke=()=>[isPercent,isArbitraryVariableLength,isArbitraryLength],Ee=()=>["","none","full",V,isArbitraryVariable,isArbitraryValue],ze=()=>["",isNumber$1,isArbitraryVariableLength,isArbitraryLength],je=()=>["solid","dashed","dotted","double"],Ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],He=()=>[isNumber$1,isPercent,isArbitraryVariablePosition,isArbitraryPosition],Ze=()=>["","none",ee,isArbitraryVariable,isArbitraryValue],Le=()=>["none",isNumber$1,isArbitraryVariable,isArbitraryValue],Xe=()=>["none",isNumber$1,isArbitraryVariable,isArbitraryValue],Ye=()=>[isNumber$1,isArbitraryVariable,isArbitraryValue],Ve=()=>[isFraction,"full",...pe()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber$1],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,ie]}],container:["container"],columns:[{columns:[isNumber$1,isArbitraryValue,isArbitraryVariable,F]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:fe()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:he()}],"overscroll-x":[{"overscroll-x":he()}],"overscroll-y":[{"overscroll-y":he()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ge()}],"inset-x":[{"inset-x":ge()}],"inset-y":[{"inset-y":ge()}],start:[{start:ge()}],end:[{end:ge()}],top:[{top:ge()}],right:[{right:ge()}],bottom:[{bottom:ge()}],left:[{left:ge()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",F,...pe()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber$1,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":be()}],"col-start-end":[{col:xe()}],"col-start":[{"col-start":_e()}],"col-end":[{"col-end":_e()}],"grid-rows":[{"grid-rows":be()}],"row-start-end":[{row:xe()}],"row-start":[{"row-start":_e()}],"row-end":[{"row-end":_e()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Se()}],"auto-rows":[{"auto-rows":Se()}],gap:[{gap:pe()}],"gap-x":[{"gap-x":pe()}],"gap-y":[{"gap-y":pe()}],"justify-content":[{justify:[...me(),"normal"]}],"justify-items":[{"justify-items":[...Ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ce()]}],"align-content":[{content:["normal",...me()]}],"align-items":[{items:[...Ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":me()}],"place-items":[{"place-items":[...Ce(),"baseline"]}],"place-self":[{"place-self":["auto",...Ce()]}],p:[{p:pe()}],px:[{px:pe()}],py:[{py:pe()}],ps:[{ps:pe()}],pe:[{pe:pe()}],pt:[{pt:pe()}],pr:[{pr:pe()}],pb:[{pb:pe()}],pl:[{pl:pe()}],m:[{m:Te()}],mx:[{mx:Te()}],my:[{my:Te()}],ms:[{ms:Te()}],me:[{me:Te()}],mt:[{mt:Te()}],mr:[{mr:Te()}],mb:[{mb:Te()}],ml:[{ml:Te()}],"space-x":[{"space-x":pe()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":pe()}],"space-y-reverse":["space-y-reverse"],size:[{size:Re()}],w:[{w:[F,"screen",...Re()]}],"min-w":[{"min-w":[F,"screen","none",...Re()]}],"max-w":[{"max-w":[F,"screen","none","prose",{screen:[L]},...Re()]}],h:[{h:["screen","lh",...Re()]}],"min-h":[{"min-h":["screen","lh","none",...Re()]}],"max-h":[{"max-h":["screen","lh",...Re()]}],"font-size":[{text:["base",P,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[I,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,R]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[O,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber$1,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[z,...pe()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Pe()}],"text-color":[{text:Pe()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...je(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber$1,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:Pe()}],"underline-offset":[{"underline-offset":[isNumber$1,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:pe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Me()}],"bg-repeat":[{bg:Ae()}],"bg-size":[{bg:we()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:Pe()}],"gradient-from-pos":[{from:ke()}],"gradient-via-pos":[{via:ke()}],"gradient-to-pos":[{to:ke()}],"gradient-from":[{from:Pe()}],"gradient-via":[{via:Pe()}],"gradient-to":[{to:Pe()}],rounded:[{rounded:Ee()}],"rounded-s":[{"rounded-s":Ee()}],"rounded-e":[{"rounded-e":Ee()}],"rounded-t":[{"rounded-t":Ee()}],"rounded-r":[{"rounded-r":Ee()}],"rounded-b":[{"rounded-b":Ee()}],"rounded-l":[{"rounded-l":Ee()}],"rounded-ss":[{"rounded-ss":Ee()}],"rounded-se":[{"rounded-se":Ee()}],"rounded-ee":[{"rounded-ee":Ee()}],"rounded-es":[{"rounded-es":Ee()}],"rounded-tl":[{"rounded-tl":Ee()}],"rounded-tr":[{"rounded-tr":Ee()}],"rounded-br":[{"rounded-br":Ee()}],"rounded-bl":[{"rounded-bl":Ee()}],"border-w":[{border:ze()}],"border-w-x":[{"border-x":ze()}],"border-w-y":[{"border-y":ze()}],"border-w-s":[{"border-s":ze()}],"border-w-e":[{"border-e":ze()}],"border-w-t":[{"border-t":ze()}],"border-w-r":[{"border-r":ze()}],"border-w-b":[{"border-b":ze()}],"border-w-l":[{"border-l":ze()}],"divide-x":[{"divide-x":ze()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ze()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...je(),"hidden","none"]}],"divide-style":[{divide:[...je(),"hidden","none"]}],"border-color":[{border:Pe()}],"border-color-x":[{"border-x":Pe()}],"border-color-y":[{"border-y":Pe()}],"border-color-s":[{"border-s":Pe()}],"border-color-e":[{"border-e":Pe()}],"border-color-t":[{"border-t":Pe()}],"border-color-r":[{"border-r":Pe()}],"border-color-b":[{"border-b":Pe()}],"border-color-l":[{"border-l":Pe()}],"divide-color":[{divide:Pe()}],"outline-style":[{outline:[...je(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber$1,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:Pe()}],shadow:[{shadow:["","none",q,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:Pe()}],"inset-shadow":[{"inset-shadow":["none",W,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":Pe()}],"ring-w":[{ring:ze()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Pe()}],"ring-offset-w":[{"ring-offset":[isNumber$1,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":Pe()}],"inset-ring-w":[{"inset-ring":ze()}],"inset-ring-color":[{"inset-ring":Pe()}],"text-shadow":[{"text-shadow":["none",Y,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":Pe()}],opacity:[{opacity:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...Ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber$1]}],"mask-image-linear-from-pos":[{"mask-linear-from":He()}],"mask-image-linear-to-pos":[{"mask-linear-to":He()}],"mask-image-linear-from-color":[{"mask-linear-from":Pe()}],"mask-image-linear-to-color":[{"mask-linear-to":Pe()}],"mask-image-t-from-pos":[{"mask-t-from":He()}],"mask-image-t-to-pos":[{"mask-t-to":He()}],"mask-image-t-from-color":[{"mask-t-from":Pe()}],"mask-image-t-to-color":[{"mask-t-to":Pe()}],"mask-image-r-from-pos":[{"mask-r-from":He()}],"mask-image-r-to-pos":[{"mask-r-to":He()}],"mask-image-r-from-color":[{"mask-r-from":Pe()}],"mask-image-r-to-color":[{"mask-r-to":Pe()}],"mask-image-b-from-pos":[{"mask-b-from":He()}],"mask-image-b-to-pos":[{"mask-b-to":He()}],"mask-image-b-from-color":[{"mask-b-from":Pe()}],"mask-image-b-to-color":[{"mask-b-to":Pe()}],"mask-image-l-from-pos":[{"mask-l-from":He()}],"mask-image-l-to-pos":[{"mask-l-to":He()}],"mask-image-l-from-color":[{"mask-l-from":Pe()}],"mask-image-l-to-color":[{"mask-l-to":Pe()}],"mask-image-x-from-pos":[{"mask-x-from":He()}],"mask-image-x-to-pos":[{"mask-x-to":He()}],"mask-image-x-from-color":[{"mask-x-from":Pe()}],"mask-image-x-to-color":[{"mask-x-to":Pe()}],"mask-image-y-from-pos":[{"mask-y-from":He()}],"mask-image-y-to-pos":[{"mask-y-to":He()}],"mask-image-y-from-color":[{"mask-y-from":Pe()}],"mask-image-y-to-color":[{"mask-y-to":Pe()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":He()}],"mask-image-radial-to-pos":[{"mask-radial-to":He()}],"mask-image-radial-from-color":[{"mask-radial-from":Pe()}],"mask-image-radial-to-color":[{"mask-radial-to":Pe()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ce()}],"mask-image-conic-pos":[{"mask-conic":[isNumber$1]}],"mask-image-conic-from-pos":[{"mask-conic-from":He()}],"mask-image-conic-to-pos":[{"mask-conic-to":He()}],"mask-image-conic-from-color":[{"mask-conic-from":Pe()}],"mask-image-conic-to-color":[{"mask-conic-to":Pe()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Me()}],"mask-repeat":[{mask:Ae()}],"mask-size":[{mask:we()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:Ze()}],brightness:[{brightness:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",Q,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":Pe()}],grayscale:[{grayscale:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":Ze()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":pe()}],"border-spacing-x":[{"border-spacing-x":pe()}],"border-spacing-y":[{"border-spacing-y":pe()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber$1,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",ae,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",se,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[te,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":fe()}],rotate:[{rotate:Le()}],"rotate-x":[{"rotate-x":Le()}],"rotate-y":[{"rotate-y":Le()}],"rotate-z":[{"rotate-z":Le()}],scale:[{scale:Xe()}],"scale-x":[{"scale-x":Xe()}],"scale-y":[{"scale-y":Xe()}],"scale-z":[{"scale-z":Xe()}],"scale-3d":["scale-3d"],skew:[{skew:Ye()}],"skew-x":[{"skew-x":Ye()}],"skew-y":[{"skew-y":Ye()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:fe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:Pe()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Pe()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":pe()}],"scroll-mx":[{"scroll-mx":pe()}],"scroll-my":[{"scroll-my":pe()}],"scroll-ms":[{"scroll-ms":pe()}],"scroll-me":[{"scroll-me":pe()}],"scroll-mt":[{"scroll-mt":pe()}],"scroll-mr":[{"scroll-mr":pe()}],"scroll-mb":[{"scroll-mb":pe()}],"scroll-ml":[{"scroll-ml":pe()}],"scroll-p":[{"scroll-p":pe()}],"scroll-px":[{"scroll-px":pe()}],"scroll-py":[{"scroll-py":pe()}],"scroll-ps":[{"scroll-ps":pe()}],"scroll-pe":[{"scroll-pe":pe()}],"scroll-pt":[{"scroll-pt":pe()}],"scroll-pr":[{"scroll-pr":pe()}],"scroll-pb":[{"scroll-pb":pe()}],"scroll-pl":[{"scroll-pl":pe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...Pe()]}],"stroke-w":[{stroke:[isNumber$1,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...Pe()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(..._){return twMerge(clsx(_))}const Input=reactExports.forwardRef(({className:_,type:R,...P},I)=>jsxRuntimeExports.jsx("input",{type:R,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",_),ref:I,...P}));Input.displayName="Input";var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);function setRef(_,R){if(typeof _=="function")return _(R);_!=null&&(_.current=R)}function composeRefs(..._){return R=>{let P=!1;const I=_.map(O=>{const z=setRef(O,R);return!P&&typeof z=="function"&&(P=!0),z});if(P)return()=>{for(let O=0;O<I.length;O++){const z=I[O];typeof z=="function"?z():setRef(_[O],null)}}}}function useComposedRefs(..._){return reactExports.useCallback(composeRefs(..._),_)}var REACT_LAZY_TYPE=Symbol.for("react.lazy"),use=React4[" use ".trim().toString()];function isPromiseLike(_){return typeof _=="object"&&_!==null&&"then"in _}function isLazyComponent(_){return _!=null&&typeof _=="object"&&"$$typeof"in _&&_.$$typeof===REACT_LAZY_TYPE&&"_payload"in _&&isPromiseLike(_._payload)}function createSlot$3(_){const R=createSlotClone$3(_),P=reactExports.forwardRef((I,O)=>{let{children:z,...L}=I;isLazyComponent(z)&&typeof use=="function"&&(z=use(z._payload));const F=reactExports.Children.toArray(z),U=F.find(isSlottable$3);if(U){const V=U.props.children,q=F.map(W=>W===U?reactExports.Children.count(V)>1?reactExports.Children.only(null):reactExports.isValidElement(V)?V.props.children:null:W);return jsxRuntimeExports.jsx(R,{...L,ref:O,children:reactExports.isValidElement(V)?reactExports.cloneElement(V,void 0,q):null})}return jsxRuntimeExports.jsx(R,{...L,ref:O,children:z})});return P.displayName=`${_}.Slot`,P}var Slot$1=createSlot$3("Slot");function createSlotClone$3(_){const R=reactExports.forwardRef((P,I)=>{let{children:O,...z}=P;if(isLazyComponent(O)&&typeof use=="function"&&(O=use(O._payload)),reactExports.isValidElement(O)){const L=getElementRef$4(O),F=mergeProps$3(z,O.props);return O.type!==reactExports.Fragment&&(F.ref=I?composeRefs(I,L):L),reactExports.cloneElement(O,F)}return reactExports.Children.count(O)>1?reactExports.Children.only(null):null});return R.displayName=`${_}.SlotClone`,R}var SLOTTABLE_IDENTIFIER$3=Symbol("radix.slottable");function isSlottable$3(_){return reactExports.isValidElement(_)&&typeof _.type=="function"&&"__radixId"in _.type&&_.type.__radixId===SLOTTABLE_IDENTIFIER$3}function mergeProps$3(_,R){const P={...R};for(const I in R){const O=_[I],z=R[I];/^on[A-Z]/.test(I)?O&&z?P[I]=(...F)=>{const U=z(...F);return O(...F),U}:O&&(P[I]=O):I==="style"?P[I]={...O,...z}:I==="className"&&(P[I]=[O,z].filter(Boolean).join(" "))}return{..._,...P}}function getElementRef$4(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning;return P?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning,P?_.props.ref:_.props.ref||_.ref)}var NODES$3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$3=NODES$3.reduce((_,R)=>{const P=createSlot$3(`Primitive.${R}`),I=reactExports.forwardRef((O,z)=>{const{asChild:L,...F}=O,U=L?P:R;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(U,{...F,ref:z})});return I.displayName=`Primitive.${R}`,{..._,[R]:I}},{}),NAME$4="Label",Label$2=reactExports.forwardRef((_,R)=>jsxRuntimeExports.jsx(Primitive$3.label,{..._,ref:R,onMouseDown:P=>{P.target.closest("button, input, select, textarea")||(_.onMouseDown?.(P),!P.defaultPrevented&&P.detail>1&&P.preventDefault())}}));Label$2.displayName=NAME$4;var Root$7=Label$2;const falsyToString=_=>typeof _=="boolean"?`${_}`:_===0?"0":_,cx=clsx,cva=(_,R)=>P=>{var I;if(R?.variants==null)return cx(_,P?.class,P?.className);const{variants:O,defaultVariants:z}=R,L=Object.keys(O).map(V=>{const q=P?.[V],W=z?.[V];if(q===null)return null;const Y=falsyToString(q)||falsyToString(W);return O[V][Y]}),F=P&&Object.entries(P).reduce((V,q)=>{let[W,Y]=q;return Y===void 0||(V[W]=Y),V},{}),U=R==null||(I=R.compoundVariants)===null||I===void 0?void 0:I.reduce((V,q)=>{let{class:W,className:Y,...Q}=q;return Object.entries(Q).every(ee=>{let[te,ie]=ee;return Array.isArray(ie)?ie.includes({...z,...F}[te]):{...z,...F}[te]===ie})?[...V,W,Y]:V},[]);return cx(_,L,U,P?.class,P?.className)},labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label$1=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(Root$7,{ref:P,className:cn(labelVariants(),_),...R}));Label$1.displayName=Root$7.displayName;function NumberInput({label:_,value:R,onChange:P,disabled:I,min:O,max:z,step:L=.1}){const F=U=>{const V=parseFloat(U.target.value);if(!isNaN(V)){let q=V;O!==void 0&&(q=Math.max(O,q)),z!==void 0&&(q=Math.min(z,q)),P(q)}};return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs w-32 shrink-0",children:_}),jsxRuntimeExports.jsx(Input,{type:"number",value:R,onChange:F,disabled:I,min:O,max:z,step:L,className:"h-7 text-xs w-24"})]})}function IntegerInput({label:_,value:R,onChange:P,disabled:I,min:O,max:z}){const L=F=>{const U=parseInt(F.target.value,10);if(!isNaN(U)){let V=U;O!==void 0&&(V=Math.max(O,V)),z!==void 0&&(V=Math.min(z,V)),P(V)}};return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs w-32 shrink-0",children:_}),jsxRuntimeExports.jsx(Input,{type:"number",value:R,onChange:L,disabled:I,min:O,max:z,step:1,className:"h-7 text-xs w-24"})]})}function createContextScope$1(_,R=[]){let P=[];function I(z,L){const F=reactExports.createContext(L),U=P.length;P=[...P,L];const V=W=>{const{scope:Y,children:Q,...ee}=W,te=Y?.[_]?.[U]||F,ie=reactExports.useMemo(()=>ee,Object.values(ee));return jsxRuntimeExports.jsx(te.Provider,{value:ie,children:Q})};V.displayName=z+"Provider";function q(W,Y){const Q=Y?.[_]?.[U]||F,ee=reactExports.useContext(Q);if(ee)return ee;if(L!==void 0)return L;throw new Error(`\`${W}\` must be used within \`${z}\``)}return[V,q]}const O=()=>{const z=P.map(L=>reactExports.createContext(L));return function(F){const U=F?.[_]||z;return reactExports.useMemo(()=>({[`__scope${_}`]:{...F,[_]:U}}),[F,U])}};return O.scopeName=_,[I,composeContextScopes$1(O,...R)]}function composeContextScopes$1(..._){const R=_[0];if(_.length===1)return R;const P=()=>{const I=_.map(O=>({useScope:O(),scopeName:O.scopeName}));return function(z){const L=I.reduce((F,{useScope:U,scopeName:V})=>{const W=U(z)[`__scope${V}`];return{...F,...W}},{});return reactExports.useMemo(()=>({[`__scope${R.scopeName}`]:L}),[L])}};return P.scopeName=R.scopeName,P}function composeEventHandlers$1(_,R,{checkForDefaultPrevented:P=!0}={}){return function(O){if(_?.(O),P===!1||!O.defaultPrevented)return R?.(O)}}var useLayoutEffect2=globalThis?.document?reactExports.useLayoutEffect:()=>{},useInsertionEffect=React4[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:_,defaultProp:R,onChange:P=()=>{},caller:I}){const[O,z,L]=useUncontrolledState({defaultProp:R,onChange:P}),F=_!==void 0,U=F?_:O;{const q=reactExports.useRef(_!==void 0);reactExports.useEffect(()=>{const W=q.current;W!==F&&console.warn(`${I} is changing from ${W?"controlled":"uncontrolled"} to ${F?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),q.current=F},[F,I])}const V=reactExports.useCallback(q=>{if(F){const W=isFunction$1(q)?q(_):q;W!==_&&L.current?.(W)}else z(q)},[F,_,z,L]);return[U,V]}function useUncontrolledState({defaultProp:_,onChange:R}){const[P,I]=reactExports.useState(_),O=reactExports.useRef(P),z=reactExports.useRef(R);return useInsertionEffect(()=>{z.current=R},[R]),reactExports.useEffect(()=>{O.current!==P&&(z.current?.(P),O.current=P)},[P,O]),[P,I,z]}function isFunction$1(_){return typeof _=="function"}function usePrevious(_){const R=reactExports.useRef({value:_,previous:_});return reactExports.useMemo(()=>(R.current.value!==_&&(R.current.previous=R.current.value,R.current.value=_),R.current.previous),[_])}function useSize(_){const[R,P]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(_){P({width:_.offsetWidth,height:_.offsetHeight});const I=new ResizeObserver(O=>{if(!Array.isArray(O)||!O.length)return;const z=O[0];let L,F;if("borderBoxSize"in z){const U=z.borderBoxSize,V=Array.isArray(U)?U[0]:U;L=V.inlineSize,F=V.blockSize}else L=_.offsetWidth,F=_.offsetHeight;P({width:L,height:F})});return I.observe(_,{box:"border-box"}),()=>I.unobserve(_)}else P(void 0)},[_]),R}function useStateMachine$1(_,R){return reactExports.useReducer((P,I)=>R[P][I]??P,_)}var Presence=_=>{const{present:R,children:P}=_,I=usePresence(R),O=typeof P=="function"?P({present:I.isPresent}):reactExports.Children.only(P),z=useComposedRefs(I.ref,getElementRef$3(O));return typeof P=="function"||I.isPresent?reactExports.cloneElement(O,{ref:z}):null};Presence.displayName="Presence";function usePresence(_){const[R,P]=reactExports.useState(),I=reactExports.useRef(null),O=reactExports.useRef(_),z=reactExports.useRef("none"),L=_?"mounted":"unmounted",[F,U]=useStateMachine$1(L,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const V=getAnimationName(I.current);z.current=F==="mounted"?V:"none"},[F]),useLayoutEffect2(()=>{const V=I.current,q=O.current;if(q!==_){const Y=z.current,Q=getAnimationName(V);_?U("MOUNT"):Q==="none"||V?.display==="none"?U("UNMOUNT"):U(q&&Y!==Q?"ANIMATION_OUT":"UNMOUNT"),O.current=_}},[_,U]),useLayoutEffect2(()=>{if(R){let V;const q=R.ownerDocument.defaultView??window,W=Q=>{const te=getAnimationName(I.current).includes(CSS.escape(Q.animationName));if(Q.target===R&&te&&(U("ANIMATION_END"),!O.current)){const ie=R.style.animationFillMode;R.style.animationFillMode="forwards",V=q.setTimeout(()=>{R.style.animationFillMode==="forwards"&&(R.style.animationFillMode=ie)})}},Y=Q=>{Q.target===R&&(z.current=getAnimationName(I.current))};return R.addEventListener("animationstart",Y),R.addEventListener("animationcancel",W),R.addEventListener("animationend",W),()=>{q.clearTimeout(V),R.removeEventListener("animationstart",Y),R.removeEventListener("animationcancel",W),R.removeEventListener("animationend",W)}}else U("ANIMATION_END")},[R,U]),{isPresent:["mounted","unmountSuspended"].includes(F),ref:reactExports.useCallback(V=>{I.current=V?getComputedStyle(V):null,P(V)},[])}}function getAnimationName(_){return _?.animationName||"none"}function getElementRef$3(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning;return P?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning,P?_.props.ref:_.props.ref||_.ref)}function createSlot$2(_){const R=createSlotClone$2(_),P=reactExports.forwardRef((I,O)=>{const{children:z,...L}=I,F=reactExports.Children.toArray(z),U=F.find(isSlottable$2);if(U){const V=U.props.children,q=F.map(W=>W===U?reactExports.Children.count(V)>1?reactExports.Children.only(null):reactExports.isValidElement(V)?V.props.children:null:W);return jsxRuntimeExports.jsx(R,{...L,ref:O,children:reactExports.isValidElement(V)?reactExports.cloneElement(V,void 0,q):null})}return jsxRuntimeExports.jsx(R,{...L,ref:O,children:z})});return P.displayName=`${_}.Slot`,P}function createSlotClone$2(_){const R=reactExports.forwardRef((P,I)=>{const{children:O,...z}=P;if(reactExports.isValidElement(O)){const L=getElementRef$2(O),F=mergeProps$2(z,O.props);return O.type!==reactExports.Fragment&&(F.ref=I?composeRefs(I,L):L),reactExports.cloneElement(O,F)}return reactExports.Children.count(O)>1?reactExports.Children.only(null):null});return R.displayName=`${_}.SlotClone`,R}var SLOTTABLE_IDENTIFIER$2=Symbol("radix.slottable");function isSlottable$2(_){return reactExports.isValidElement(_)&&typeof _.type=="function"&&"__radixId"in _.type&&_.type.__radixId===SLOTTABLE_IDENTIFIER$2}function mergeProps$2(_,R){const P={...R};for(const I in R){const O=_[I],z=R[I];/^on[A-Z]/.test(I)?O&&z?P[I]=(...F)=>{const U=z(...F);return O(...F),U}:O&&(P[I]=O):I==="style"?P[I]={...O,...z}:I==="className"&&(P[I]=[O,z].filter(Boolean).join(" "))}return{..._,...P}}function getElementRef$2(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning;return P?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning,P?_.props.ref:_.props.ref||_.ref)}var NODES$2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$2=NODES$2.reduce((_,R)=>{const P=createSlot$2(`Primitive.${R}`),I=reactExports.forwardRef((O,z)=>{const{asChild:L,...F}=O,U=L?P:R;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(U,{...F,ref:z})});return I.displayName=`Primitive.${R}`,{..._,[R]:I}},{});function dispatchDiscreteCustomEvent(_,R){_&&reactDomExports.flushSync(()=>_.dispatchEvent(R))}var CHECKBOX_NAME="Checkbox",[createCheckboxContext]=createContextScope$1(CHECKBOX_NAME),[CheckboxProviderImpl,useCheckboxContext]=createCheckboxContext(CHECKBOX_NAME);function CheckboxProvider(_){const{__scopeCheckbox:R,checked:P,children:I,defaultChecked:O,disabled:z,form:L,name:F,onCheckedChange:U,required:V,value:q="on",internal_do_not_use_render:W}=_,[Y,Q]=useControllableState({prop:P,defaultProp:O??!1,onChange:U,caller:CHECKBOX_NAME}),[ee,te]=reactExports.useState(null),[ie,ae]=reactExports.useState(null),se=reactExports.useRef(!1),le=ee?!!L||!!ee.closest("form"):!0,ce={checked:Y,disabled:z,setChecked:Q,control:ee,setControl:te,name:F,form:L,value:q,hasConsumerStoppedPropagationRef:se,required:V,defaultChecked:isIndeterminate(O)?!1:O,isFormControl:le,bubbleInput:ie,setBubbleInput:ae};return jsxRuntimeExports.jsx(CheckboxProviderImpl,{scope:R,...ce,children:isFunction(W)?W(ce):I})}var TRIGGER_NAME$4="CheckboxTrigger",CheckboxTrigger=reactExports.forwardRef(({__scopeCheckbox:_,onKeyDown:R,onClick:P,...I},O)=>{const{control:z,value:L,disabled:F,checked:U,required:V,setControl:q,setChecked:W,hasConsumerStoppedPropagationRef:Y,isFormControl:Q,bubbleInput:ee}=useCheckboxContext(TRIGGER_NAME$4,_),te=useComposedRefs(O,q),ie=reactExports.useRef(U);return reactExports.useEffect(()=>{const ae=z?.form;if(ae){const se=()=>W(ie.current);return ae.addEventListener("reset",se),()=>ae.removeEventListener("reset",se)}},[z,W]),jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"checkbox","aria-checked":isIndeterminate(U)?"mixed":U,"aria-required":V,"data-state":getState$2(U),"data-disabled":F?"":void 0,disabled:F,value:L,...I,ref:te,onKeyDown:composeEventHandlers$1(R,ae=>{ae.key==="Enter"&&ae.preventDefault()}),onClick:composeEventHandlers$1(P,ae=>{W(se=>isIndeterminate(se)?!0:!se),ee&&Q&&(Y.current=ae.isPropagationStopped(),Y.current||ae.stopPropagation())})})});CheckboxTrigger.displayName=TRIGGER_NAME$4;var Checkbox$1=reactExports.forwardRef((_,R)=>{const{__scopeCheckbox:P,name:I,checked:O,defaultChecked:z,required:L,disabled:F,value:U,onCheckedChange:V,form:q,...W}=_;return jsxRuntimeExports.jsx(CheckboxProvider,{__scopeCheckbox:P,checked:O,defaultChecked:z,disabled:F,required:L,onCheckedChange:V,name:I,form:q,value:U,internal_do_not_use_render:({isFormControl:Y})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckboxTrigger,{...W,ref:R,__scopeCheckbox:P}),Y&&jsxRuntimeExports.jsx(CheckboxBubbleInput,{__scopeCheckbox:P})]})})});Checkbox$1.displayName=CHECKBOX_NAME;var INDICATOR_NAME$1="CheckboxIndicator",CheckboxIndicator=reactExports.forwardRef((_,R)=>{const{__scopeCheckbox:P,forceMount:I,...O}=_,z=useCheckboxContext(INDICATOR_NAME$1,P);return jsxRuntimeExports.jsx(Presence,{present:I||isIndeterminate(z.checked)||z.checked===!0,children:jsxRuntimeExports.jsx(Primitive$2.span,{"data-state":getState$2(z.checked),"data-disabled":z.disabled?"":void 0,...O,ref:R,style:{pointerEvents:"none",..._.style}})})});CheckboxIndicator.displayName=INDICATOR_NAME$1;var BUBBLE_INPUT_NAME$2="CheckboxBubbleInput",CheckboxBubbleInput=reactExports.forwardRef(({__scopeCheckbox:_,...R},P)=>{const{control:I,hasConsumerStoppedPropagationRef:O,checked:z,defaultChecked:L,required:F,disabled:U,name:V,value:q,form:W,bubbleInput:Y,setBubbleInput:Q}=useCheckboxContext(BUBBLE_INPUT_NAME$2,_),ee=useComposedRefs(P,Q),te=usePrevious(z),ie=useSize(I);reactExports.useEffect(()=>{const se=Y;if(!se)return;const le=window.HTMLInputElement.prototype,fe=Object.getOwnPropertyDescriptor(le,"checked").set,de=!O.current;if(te!==z&&fe){const he=new Event("click",{bubbles:de});se.indeterminate=isIndeterminate(z),fe.call(se,isIndeterminate(z)?!1:z),se.dispatchEvent(he)}},[Y,te,z,O]);const ae=reactExports.useRef(isIndeterminate(z)?!1:z);return jsxRuntimeExports.jsx(Primitive$2.input,{type:"checkbox","aria-hidden":!0,defaultChecked:L??ae.current,required:F,disabled:U,name:V,value:q,form:W,...R,tabIndex:-1,ref:ee,style:{...R.style,...ie,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});CheckboxBubbleInput.displayName=BUBBLE_INPUT_NAME$2;function isFunction(_){return typeof _=="function"}function isIndeterminate(_){return _==="indeterminate"}function getState$2(_){return isIndeterminate(_)?"indeterminate":_?"checked":"unchecked"}const toKebabCase=_=>_.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=_=>_.replace(/^([A-Z])|[\s-_]+(\w)/g,(R,P,I)=>I?I.toUpperCase():P.toLowerCase()),toPascalCase=_=>{const R=toCamelCase(_);return R.charAt(0).toUpperCase()+R.slice(1)},mergeClasses=(..._)=>_.filter((R,P,I)=>!!R&&R.trim()!==""&&I.indexOf(R)===P).join(" ").trim(),hasA11yProp=_=>{for(const R in _)if(R.startsWith("aria-")||R==="role"||R==="title")return!0};var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon$1=reactExports.forwardRef(({color:_="currentColor",size:R=24,strokeWidth:P=2,absoluteStrokeWidth:I,className:O="",children:z,iconNode:L,...F},U)=>reactExports.createElement("svg",{ref:U,...defaultAttributes,width:R,height:R,stroke:_,strokeWidth:I?Number(P)*24/Number(R):P,className:mergeClasses("lucide",O),...!z&&!hasA11yProp(F)&&{"aria-hidden":"true"},...F},[...L.map(([V,q])=>reactExports.createElement(V,q)),...Array.isArray(z)?z:[z]]));const createLucideIcon=(_,R)=>{const P=reactExports.forwardRef(({className:I,...O},z)=>reactExports.createElement(Icon$1,{ref:z,iconNode:R,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(_))}`,`lucide-${_}`,I),...O}));return P.displayName=toPascalCase(_),P};const __iconNode$o=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ArrowUpDown=createLucideIcon("arrow-up-down",__iconNode$o);const __iconNode$n=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Camera=createLucideIcon("camera",__iconNode$n);const __iconNode$m=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$m);const __iconNode$l=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$l);const __iconNode$k=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ChevronUp=createLucideIcon("chevron-up",__iconNode$k);const __iconNode$j=[["path",{d:"M11 14h10",key:"1w8e9d"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v1.344",key:"1e62lh"}],["path",{d:"m17 18 4-4-4-4",key:"z2g111"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 1.793-1.113",key:"bjbb7m"}],["rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",key:"ublpy"}]],ClipboardPaste=createLucideIcon("clipboard-paste",__iconNode$j);const __iconNode$i=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Copy=createLucideIcon("copy",__iconNode$i);const __iconNode$h=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon("download",__iconNode$h);const __iconNode$g=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],FileDown=createLucideIcon("file-down",__iconNode$g);const __iconNode$f=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],FileSpreadsheet=createLucideIcon("file-spreadsheet",__iconNode$f);const __iconNode$e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],Film=createLucideIcon("film",__iconNode$e);const __iconNode$d=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Link2=createLucideIcon("link-2",__iconNode$d);const __iconNode$c=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$c);const __iconNode$b=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Moon=createLucideIcon("moon",__iconNode$b);const __iconNode$a=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Pause=createLucideIcon("pause",__iconNode$a);const __iconNode$9=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Play=createLucideIcon("play",__iconNode$9);const __iconNode$8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$8);const __iconNode$7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RotateCcw=createLucideIcon("rotate-ccw",__iconNode$7);const __iconNode$6=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],SkipForward=createLucideIcon("skip-forward",__iconNode$6);const __iconNode$5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Square=createLucideIcon("square",__iconNode$5);const __iconNode$4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sun=createLucideIcon("sun",__iconNode$4);const __iconNode$3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash2=createLucideIcon("trash-2",__iconNode$3);const __iconNode$2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Upload=createLucideIcon("upload",__iconNode$2);const __iconNode$1=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Video=createLucideIcon("video",__iconNode$1);const __iconNode=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode),Checkbox=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(Checkbox$1,{ref:P,className:cn("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",_),...R,children:jsxRuntimeExports.jsx(CheckboxIndicator,{className:cn("flex items-center justify-center text-current"),children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}));Checkbox.displayName=Checkbox$1.displayName;function BoolInput({label:_,value:R,onChange:P,disabled:I}){return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs w-32 shrink-0",children:_}),jsxRuntimeExports.jsx(Checkbox,{checked:R,onCheckedChange:O=>P(O===!0),disabled:I})]})}function clamp$1(_,[R,P]){return Math.min(P,Math.max(R,_))}function createSlot$1(_){const R=createSlotClone$1(_),P=reactExports.forwardRef((I,O)=>{const{children:z,...L}=I,F=reactExports.Children.toArray(z),U=F.find(isSlottable$1);if(U){const V=U.props.children,q=F.map(W=>W===U?reactExports.Children.count(V)>1?reactExports.Children.only(null):reactExports.isValidElement(V)?V.props.children:null:W);return jsxRuntimeExports.jsx(R,{...L,ref:O,children:reactExports.isValidElement(V)?reactExports.cloneElement(V,void 0,q):null})}return jsxRuntimeExports.jsx(R,{...L,ref:O,children:z})});return P.displayName=`${_}.Slot`,P}function createSlotClone$1(_){const R=reactExports.forwardRef((P,I)=>{const{children:O,...z}=P;if(reactExports.isValidElement(O)){const L=getElementRef$1(O),F=mergeProps$1(z,O.props);return O.type!==reactExports.Fragment&&(F.ref=I?composeRefs(I,L):L),reactExports.cloneElement(O,F)}return reactExports.Children.count(O)>1?reactExports.Children.only(null):null});return R.displayName=`${_}.SlotClone`,R}var SLOTTABLE_IDENTIFIER$1=Symbol("radix.slottable");function isSlottable$1(_){return reactExports.isValidElement(_)&&typeof _.type=="function"&&"__radixId"in _.type&&_.type.__radixId===SLOTTABLE_IDENTIFIER$1}function mergeProps$1(_,R){const P={...R};for(const I in R){const O=_[I],z=R[I];/^on[A-Z]/.test(I)?O&&z?P[I]=(...F)=>{const U=z(...F);return O(...F),U}:O&&(P[I]=O):I==="style"?P[I]={...O,...z}:I==="className"&&(P[I]=[O,z].filter(Boolean).join(" "))}return{..._,...P}}function getElementRef$1(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning;return P?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning,P?_.props.ref:_.props.ref||_.ref)}function createCollection(_){const R=_+"CollectionProvider",[P,I]=createContextScope$1(R),[O,z]=P(R,{collectionRef:{current:null},itemMap:new Map}),L=te=>{const{scope:ie,children:ae}=te,se=React.useRef(null),le=React.useRef(new Map).current;return jsxRuntimeExports.jsx(O,{scope:ie,itemMap:le,collectionRef:se,children:ae})};L.displayName=R;const F=_+"CollectionSlot",U=createSlot$1(F),V=React.forwardRef((te,ie)=>{const{scope:ae,children:se}=te,le=z(F,ae),ce=useComposedRefs(ie,le.collectionRef);return jsxRuntimeExports.jsx(U,{ref:ce,children:se})});V.displayName=F;const q=_+"CollectionItemSlot",W="data-radix-collection-item",Y=createSlot$1(q),Q=React.forwardRef((te,ie)=>{const{scope:ae,children:se,...le}=te,ce=React.useRef(null),fe=useComposedRefs(ie,ce),de=z(q,ae);return React.useEffect(()=>(de.itemMap.set(ce,{ref:ce,...le}),()=>{de.itemMap.delete(ce)})),jsxRuntimeExports.jsx(Y,{[W]:"",ref:fe,children:se})});Q.displayName=q;function ee(te){const ie=z(_+"CollectionConsumer",te);return React.useCallback(()=>{const se=ie.collectionRef.current;if(!se)return[];const le=Array.from(se.querySelectorAll(`[${W}]`));return Array.from(ie.itemMap.values()).sort((de,he)=>le.indexOf(de.ref.current)-le.indexOf(he.ref.current))},[ie.collectionRef,ie.itemMap])}return[{Provider:L,Slot:V,ItemSlot:Q},ee,I]}var DirectionContext=reactExports.createContext(void 0);function useDirection(_){const R=reactExports.useContext(DirectionContext);return _||R||"ltr"}function useCallbackRef$1(_){const R=reactExports.useRef(_);return reactExports.useEffect(()=>{R.current=_}),reactExports.useMemo(()=>(...P)=>R.current?.(...P),[])}function useEscapeKeydown(_,R=globalThis?.document){const P=useCallbackRef$1(_);reactExports.useEffect(()=>{const I=O=>{O.key==="Escape"&&P(O)};return R.addEventListener("keydown",I,{capture:!0}),()=>R.removeEventListener("keydown",I,{capture:!0})},[P,R])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((_,R)=>{const{disableOutsidePointerEvents:P=!1,onEscapeKeyDown:I,onPointerDownOutside:O,onFocusOutside:z,onInteractOutside:L,onDismiss:F,...U}=_,V=reactExports.useContext(DismissableLayerContext),[q,W]=reactExports.useState(null),Y=q?.ownerDocument??globalThis?.document,[,Q]=reactExports.useState({}),ee=useComposedRefs(R,he=>W(he)),te=Array.from(V.layers),[ie]=[...V.layersWithOutsidePointerEventsDisabled].slice(-1),ae=te.indexOf(ie),se=q?te.indexOf(q):-1,le=V.layersWithOutsidePointerEventsDisabled.size>0,ce=se>=ae,fe=usePointerDownOutside(he=>{const pe=he.target,ge=[...V.branches].some(be=>be.contains(pe));!ce||ge||(O?.(he),L?.(he),he.defaultPrevented||F?.())},Y),de=useFocusOutside(he=>{const pe=he.target;[...V.branches].some(be=>be.contains(pe))||(z?.(he),L?.(he),he.defaultPrevented||F?.())},Y);return useEscapeKeydown(he=>{se===V.layers.size-1&&(I?.(he),!he.defaultPrevented&&F&&(he.preventDefault(),F()))},Y),reactExports.useEffect(()=>{if(q)return P&&(V.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=Y.body.style.pointerEvents,Y.body.style.pointerEvents="none"),V.layersWithOutsidePointerEventsDisabled.add(q)),V.layers.add(q),dispatchUpdate(),()=>{P&&V.layersWithOutsidePointerEventsDisabled.size===1&&(Y.body.style.pointerEvents=originalBodyPointerEvents)}},[q,Y,P,V]),reactExports.useEffect(()=>()=>{q&&(V.layers.delete(q),V.layersWithOutsidePointerEventsDisabled.delete(q),dispatchUpdate())},[q,V]),reactExports.useEffect(()=>{const he=()=>Q({});return document.addEventListener(CONTEXT_UPDATE,he),()=>document.removeEventListener(CONTEXT_UPDATE,he)},[]),jsxRuntimeExports.jsx(Primitive$2.div,{...U,ref:ee,style:{pointerEvents:le?ce?"auto":"none":void 0,..._.style},onFocusCapture:composeEventHandlers$1(_.onFocusCapture,de.onFocusCapture),onBlurCapture:composeEventHandlers$1(_.onBlurCapture,de.onBlurCapture),onPointerDownCapture:composeEventHandlers$1(_.onPointerDownCapture,fe.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((_,R)=>{const P=reactExports.useContext(DismissableLayerContext),I=reactExports.useRef(null),O=useComposedRefs(R,I);return reactExports.useEffect(()=>{const z=I.current;if(z)return P.branches.add(z),()=>{P.branches.delete(z)}},[P.branches]),jsxRuntimeExports.jsx(Primitive$2.div,{..._,ref:O})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(_,R=globalThis?.document){const P=useCallbackRef$1(_),I=reactExports.useRef(!1),O=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const z=F=>{if(F.target&&!I.current){let U=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,P,V,{discrete:!0})};const V={originalEvent:F};F.pointerType==="touch"?(R.removeEventListener("click",O.current),O.current=U,R.addEventListener("click",O.current,{once:!0})):U()}else R.removeEventListener("click",O.current);I.current=!1},L=window.setTimeout(()=>{R.addEventListener("pointerdown",z)},0);return()=>{window.clearTimeout(L),R.removeEventListener("pointerdown",z),R.removeEventListener("click",O.current)}},[R,P]),{onPointerDownCapture:()=>I.current=!0}}function useFocusOutside(_,R=globalThis?.document){const P=useCallbackRef$1(_),I=reactExports.useRef(!1);return reactExports.useEffect(()=>{const O=z=>{z.target&&!I.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,P,{originalEvent:z},{discrete:!1})};return R.addEventListener("focusin",O),()=>R.removeEventListener("focusin",O)},[R,P]),{onFocusCapture:()=>I.current=!0,onBlurCapture:()=>I.current=!1}}function dispatchUpdate(){const _=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(_)}function handleAndDispatchCustomEvent(_,R,P,{discrete:I}){const O=P.originalEvent.target,z=new CustomEvent(_,{bubbles:!1,cancelable:!0,detail:P});R&&O.addEventListener(_,R,{once:!0}),I?dispatchDiscreteCustomEvent(O,z):O.dispatchEvent(z)}var count$3=0;function useFocusGuards(){reactExports.useEffect(()=>{const _=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",_[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",_[1]??createFocusGuard()),count$3++,()=>{count$3===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(R=>R.remove()),count$3--}},[])}function createFocusGuard(){const _=document.createElement("span");return _.setAttribute("data-radix-focus-guard",""),_.tabIndex=0,_.style.outline="none",_.style.opacity="0",_.style.position="fixed",_.style.pointerEvents="none",_}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((_,R)=>{const{loop:P=!1,trapped:I=!1,onMountAutoFocus:O,onUnmountAutoFocus:z,...L}=_,[F,U]=reactExports.useState(null),V=useCallbackRef$1(O),q=useCallbackRef$1(z),W=reactExports.useRef(null),Y=useComposedRefs(R,te=>U(te)),Q=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(I){let te=function(le){if(Q.paused||!F)return;const ce=le.target;F.contains(ce)?W.current=ce:focus(W.current,{select:!0})},ie=function(le){if(Q.paused||!F)return;const ce=le.relatedTarget;ce!==null&&(F.contains(ce)||focus(W.current,{select:!0}))},ae=function(le){if(document.activeElement===document.body)for(const fe of le)fe.removedNodes.length>0&&focus(F)};document.addEventListener("focusin",te),document.addEventListener("focusout",ie);const se=new MutationObserver(ae);return F&&se.observe(F,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",te),document.removeEventListener("focusout",ie),se.disconnect()}}},[I,F,Q.paused]),reactExports.useEffect(()=>{if(F){focusScopesStack.add(Q);const te=document.activeElement;if(!F.contains(te)){const ae=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);F.addEventListener(AUTOFOCUS_ON_MOUNT,V),F.dispatchEvent(ae),ae.defaultPrevented||(focusFirst$1(removeLinks(getTabbableCandidates(F)),{select:!0}),document.activeElement===te&&focus(F))}return()=>{F.removeEventListener(AUTOFOCUS_ON_MOUNT,V),setTimeout(()=>{const ae=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);F.addEventListener(AUTOFOCUS_ON_UNMOUNT,q),F.dispatchEvent(ae),ae.defaultPrevented||focus(te??document.body,{select:!0}),F.removeEventListener(AUTOFOCUS_ON_UNMOUNT,q),focusScopesStack.remove(Q)},0)}}},[F,V,q,Q]);const ee=reactExports.useCallback(te=>{if(!P&&!I||Q.paused)return;const ie=te.key==="Tab"&&!te.altKey&&!te.ctrlKey&&!te.metaKey,ae=document.activeElement;if(ie&&ae){const se=te.currentTarget,[le,ce]=getTabbableEdges(se);le&&ce?!te.shiftKey&&ae===ce?(te.preventDefault(),P&&focus(le,{select:!0})):te.shiftKey&&ae===le&&(te.preventDefault(),P&&focus(ce,{select:!0})):ae===se&&te.preventDefault()}},[P,I,Q.paused]);return jsxRuntimeExports.jsx(Primitive$2.div,{tabIndex:-1,...L,ref:Y,onKeyDown:ee})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$1(_,{select:R=!1}={}){const P=document.activeElement;for(const I of _)if(focus(I,{select:R}),document.activeElement!==P)return}function getTabbableEdges(_){const R=getTabbableCandidates(_),P=findVisible(R,_),I=findVisible(R.reverse(),_);return[P,I]}function getTabbableCandidates(_){const R=[],P=document.createTreeWalker(_,NodeFilter.SHOW_ELEMENT,{acceptNode:I=>{const O=I.tagName==="INPUT"&&I.type==="hidden";return I.disabled||I.hidden||O?NodeFilter.FILTER_SKIP:I.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;P.nextNode();)R.push(P.currentNode);return R}function findVisible(_,R){for(const P of _)if(!isHidden(P,{upTo:R}))return P}function isHidden(_,{upTo:R}){if(getComputedStyle(_).visibility==="hidden")return!0;for(;_;){if(R!==void 0&&_===R)return!1;if(getComputedStyle(_).display==="none")return!0;_=_.parentElement}return!1}function isSelectableInput(_){return _ instanceof HTMLInputElement&&"select"in _}function focus(_,{select:R=!1}={}){if(_&&_.focus){const P=document.activeElement;_.focus({preventScroll:!0}),_!==P&&isSelectableInput(_)&&R&&_.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let _=[];return{add(R){const P=_[0];R!==P&&P?.pause(),_=arrayRemove(_,R),_.unshift(R)},remove(R){_=arrayRemove(_,R),_[0]?.resume()}}}function arrayRemove(_,R){const P=[..._],I=P.indexOf(R);return I!==-1&&P.splice(I,1),P}function removeLinks(_){return _.filter(R=>R.tagName!=="A")}var useReactId=React4[" useId ".trim().toString()]||(()=>{}),count$2=0;function useId(_){const[R,P]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{P(I=>I??String(count$2++))},[_]),R?`radix-${R}`:""}const sides=["top","right","bottom","left"],min$2=Math.min,max$1=Math.max,round$1=Math.round,floor=Math.floor,createCoords=_=>({x:_,y:_}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(_,R,P){return max$1(_,min$2(R,P))}function evaluate(_,R){return typeof _=="function"?_(R):_}function getSide(_){return _.split("-")[0]}function getAlignment(_){return _.split("-")[1]}function getOppositeAxis(_){return _==="x"?"y":"x"}function getAxisLength(_){return _==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(_){return yAxisSides.has(getSide(_))?"y":"x"}function getAlignmentAxis(_){return getOppositeAxis(getSideAxis(_))}function getAlignmentSides(_,R,P){P===void 0&&(P=!1);const I=getAlignment(_),O=getAlignmentAxis(_),z=getAxisLength(O);let L=O==="x"?I===(P?"end":"start")?"right":"left":I==="start"?"bottom":"top";return R.reference[z]>R.floating[z]&&(L=getOppositePlacement(L)),[L,getOppositePlacement(L)]}function getExpandedPlacements(_){const R=getOppositePlacement(_);return[getOppositeAlignmentPlacement(_),R,getOppositeAlignmentPlacement(R)]}function getOppositeAlignmentPlacement(_){return _.replace(/start|end/g,R=>oppositeAlignmentMap[R])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(_,R,P){switch(_){case"top":case"bottom":return P?R?rlPlacement:lrPlacement:R?lrPlacement:rlPlacement;case"left":case"right":return R?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(_,R,P,I){const O=getAlignment(_);let z=getSideList(getSide(_),P==="start",I);return O&&(z=z.map(L=>L+"-"+O),R&&(z=z.concat(z.map(getOppositeAlignmentPlacement)))),z}function getOppositePlacement(_){return _.replace(/left|right|bottom|top/g,R=>oppositeSideMap[R])}function expandPaddingObject(_){return{top:0,right:0,bottom:0,left:0,..._}}function getPaddingObject(_){return typeof _!="number"?expandPaddingObject(_):{top:_,right:_,bottom:_,left:_}}function rectToClientRect(_){const{x:R,y:P,width:I,height:O}=_;return{width:I,height:O,top:P,left:R,right:R+I,bottom:P+O,x:R,y:P}}function computeCoordsFromPlacement(_,R,P){let{reference:I,floating:O}=_;const z=getSideAxis(R),L=getAlignmentAxis(R),F=getAxisLength(L),U=getSide(R),V=z==="y",q=I.x+I.width/2-O.width/2,W=I.y+I.height/2-O.height/2,Y=I[F]/2-O[F]/2;let Q;switch(U){case"top":Q={x:q,y:I.y-O.height};break;case"bottom":Q={x:q,y:I.y+I.height};break;case"right":Q={x:I.x+I.width,y:W};break;case"left":Q={x:I.x-O.width,y:W};break;default:Q={x:I.x,y:I.y}}switch(getAlignment(R)){case"start":Q[L]-=Y*(P&&V?-1:1);break;case"end":Q[L]+=Y*(P&&V?-1:1);break}return Q}const computePosition$1=async(_,R,P)=>{const{placement:I="bottom",strategy:O="absolute",middleware:z=[],platform:L}=P,F=z.filter(Boolean),U=await(L.isRTL==null?void 0:L.isRTL(R));let V=await L.getElementRects({reference:_,floating:R,strategy:O}),{x:q,y:W}=computeCoordsFromPlacement(V,I,U),Y=I,Q={},ee=0;for(let te=0;te<F.length;te++){const{name:ie,fn:ae}=F[te],{x:se,y:le,data:ce,reset:fe}=await ae({x:q,y:W,initialPlacement:I,placement:Y,strategy:O,middlewareData:Q,rects:V,platform:L,elements:{reference:_,floating:R}});q=se??q,W=le??W,Q={...Q,[ie]:{...Q[ie],...ce}},fe&&ee<=50&&(ee++,typeof fe=="object"&&(fe.placement&&(Y=fe.placement),fe.rects&&(V=fe.rects===!0?await L.getElementRects({reference:_,floating:R,strategy:O}):fe.rects),{x:q,y:W}=computeCoordsFromPlacement(V,Y,U)),te=-1)}return{x:q,y:W,placement:Y,strategy:O,middlewareData:Q}};async function detectOverflow(_,R){var P;R===void 0&&(R={});const{x:I,y:O,platform:z,rects:L,elements:F,strategy:U}=_,{boundary:V="clippingAncestors",rootBoundary:q="viewport",elementContext:W="floating",altBoundary:Y=!1,padding:Q=0}=evaluate(R,_),ee=getPaddingObject(Q),ie=F[Y?W==="floating"?"reference":"floating":W],ae=rectToClientRect(await z.getClippingRect({element:(P=await(z.isElement==null?void 0:z.isElement(ie)))==null||P?ie:ie.contextElement||await(z.getDocumentElement==null?void 0:z.getDocumentElement(F.floating)),boundary:V,rootBoundary:q,strategy:U})),se=W==="floating"?{x:I,y:O,width:L.floating.width,height:L.floating.height}:L.reference,le=await(z.getOffsetParent==null?void 0:z.getOffsetParent(F.floating)),ce=await(z.isElement==null?void 0:z.isElement(le))?await(z.getScale==null?void 0:z.getScale(le))||{x:1,y:1}:{x:1,y:1},fe=rectToClientRect(z.convertOffsetParentRelativeRectToViewportRelativeRect?await z.convertOffsetParentRelativeRectToViewportRelativeRect({elements:F,rect:se,offsetParent:le,strategy:U}):se);return{top:(ae.top-fe.top+ee.top)/ce.y,bottom:(fe.bottom-ae.bottom+ee.bottom)/ce.y,left:(ae.left-fe.left+ee.left)/ce.x,right:(fe.right-ae.right+ee.right)/ce.x}}const arrow$3=_=>({name:"arrow",options:_,async fn(R){const{x:P,y:I,placement:O,rects:z,platform:L,elements:F,middlewareData:U}=R,{element:V,padding:q=0}=evaluate(_,R)||{};if(V==null)return{};const W=getPaddingObject(q),Y={x:P,y:I},Q=getAlignmentAxis(O),ee=getAxisLength(Q),te=await L.getDimensions(V),ie=Q==="y",ae=ie?"top":"left",se=ie?"bottom":"right",le=ie?"clientHeight":"clientWidth",ce=z.reference[ee]+z.reference[Q]-Y[Q]-z.floating[ee],fe=Y[Q]-z.reference[Q],de=await(L.getOffsetParent==null?void 0:L.getOffsetParent(V));let he=de?de[le]:0;(!he||!await(L.isElement==null?void 0:L.isElement(de)))&&(he=F.floating[le]||z.floating[ee]);const pe=ce/2-fe/2,ge=he/2-te[ee]/2-1,be=min$2(W[ae],ge),xe=min$2(W[se],ge),_e=be,Se=he-te[ee]-xe,me=he/2-te[ee]/2+pe,Ce=clamp(_e,me,Se),Te=!U.arrow&&getAlignment(O)!=null&&me!==Ce&&z.reference[ee]/2-(me<_e?be:xe)-te[ee]/2<0,Re=Te?me<_e?me-_e:me-Se:0;return{[Q]:Y[Q]+Re,data:{[Q]:Ce,centerOffset:me-Ce-Re,...Te&&{alignmentOffset:Re}},reset:Te}}}),flip$3=function(_){return _===void 0&&(_={}),{name:"flip",options:_,async fn(R){var P,I;const{placement:O,middlewareData:z,rects:L,initialPlacement:F,platform:U,elements:V}=R,{mainAxis:q=!0,crossAxis:W=!0,fallbackPlacements:Y,fallbackStrategy:Q="bestFit",fallbackAxisSideDirection:ee="none",flipAlignment:te=!0,...ie}=evaluate(_,R);if((P=z.arrow)!=null&&P.alignmentOffset)return{};const ae=getSide(O),se=getSideAxis(F),le=getSide(F)===F,ce=await(U.isRTL==null?void 0:U.isRTL(V.floating)),fe=Y||(le||!te?[getOppositePlacement(F)]:getExpandedPlacements(F)),de=ee!=="none";!Y&&de&&fe.push(...getOppositeAxisPlacements(F,te,ee,ce));const he=[F,...fe],pe=await detectOverflow(R,ie),ge=[];let be=((I=z.flip)==null?void 0:I.overflows)||[];if(q&&ge.push(pe[ae]),W){const me=getAlignmentSides(O,L,ce);ge.push(pe[me[0]],pe[me[1]])}if(be=[...be,{placement:O,overflows:ge}],!ge.every(me=>me<=0)){var xe,_e;const me=(((xe=z.flip)==null?void 0:xe.index)||0)+1,Ce=he[me];if(Ce&&(!(W==="alignment"?se!==getSideAxis(Ce):!1)||be.every(Pe=>getSideAxis(Pe.placement)===se?Pe.overflows[0]>0:!0)))return{data:{index:me,overflows:be},reset:{placement:Ce}};let Te=(_e=be.filter(Re=>Re.overflows[0]<=0).sort((Re,Pe)=>Re.overflows[1]-Pe.overflows[1])[0])==null?void 0:_e.placement;if(!Te)switch(Q){case"bestFit":{var Se;const Re=(Se=be.filter(Pe=>{if(de){const Me=getSideAxis(Pe.placement);return Me===se||Me==="y"}return!0}).map(Pe=>[Pe.placement,Pe.overflows.filter(Me=>Me>0).reduce((Me,Ae)=>Me+Ae,0)]).sort((Pe,Me)=>Pe[1]-Me[1])[0])==null?void 0:Se[0];Re&&(Te=Re);break}case"initialPlacement":Te=F;break}if(O!==Te)return{reset:{placement:Te}}}return{}}}};function getSideOffsets(_,R){return{top:_.top-R.height,right:_.right-R.width,bottom:_.bottom-R.height,left:_.left-R.width}}function isAnySideFullyClipped(_){return sides.some(R=>_[R]>=0)}const hide$2=function(_){return _===void 0&&(_={}),{name:"hide",options:_,async fn(R){const{rects:P}=R,{strategy:I="referenceHidden",...O}=evaluate(_,R);switch(I){case"referenceHidden":{const z=await detectOverflow(R,{...O,elementContext:"reference"}),L=getSideOffsets(z,P.reference);return{data:{referenceHiddenOffsets:L,referenceHidden:isAnySideFullyClipped(L)}}}case"escaped":{const z=await detectOverflow(R,{...O,altBoundary:!0}),L=getSideOffsets(z,P.floating);return{data:{escapedOffsets:L,escaped:isAnySideFullyClipped(L)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(_,R){const{placement:P,platform:I,elements:O}=_,z=await(I.isRTL==null?void 0:I.isRTL(O.floating)),L=getSide(P),F=getAlignment(P),U=getSideAxis(P)==="y",V=originSides.has(L)?-1:1,q=z&&U?-1:1,W=evaluate(R,_);let{mainAxis:Y,crossAxis:Q,alignmentAxis:ee}=typeof W=="number"?{mainAxis:W,crossAxis:0,alignmentAxis:null}:{mainAxis:W.mainAxis||0,crossAxis:W.crossAxis||0,alignmentAxis:W.alignmentAxis};return F&&typeof ee=="number"&&(Q=F==="end"?ee*-1:ee),U?{x:Q*q,y:Y*V}:{x:Y*V,y:Q*q}}const offset$3=function(_){return _===void 0&&(_=0),{name:"offset",options:_,async fn(R){var P,I;const{x:O,y:z,placement:L,middlewareData:F}=R,U=await convertValueToCoords(R,_);return L===((P=F.offset)==null?void 0:P.placement)&&(I=F.arrow)!=null&&I.alignmentOffset?{}:{x:O+U.x,y:z+U.y,data:{...U,placement:L}}}}},shift$2=function(_){return _===void 0&&(_={}),{name:"shift",options:_,async fn(R){const{x:P,y:I,placement:O}=R,{mainAxis:z=!0,crossAxis:L=!1,limiter:F={fn:ie=>{let{x:ae,y:se}=ie;return{x:ae,y:se}}},...U}=evaluate(_,R),V={x:P,y:I},q=await detectOverflow(R,U),W=getSideAxis(getSide(O)),Y=getOppositeAxis(W);let Q=V[Y],ee=V[W];if(z){const ie=Y==="y"?"top":"left",ae=Y==="y"?"bottom":"right",se=Q+q[ie],le=Q-q[ae];Q=clamp(se,Q,le)}if(L){const ie=W==="y"?"top":"left",ae=W==="y"?"bottom":"right",se=ee+q[ie],le=ee-q[ae];ee=clamp(se,ee,le)}const te=F.fn({...R,[Y]:Q,[W]:ee});return{...te,data:{x:te.x-P,y:te.y-I,enabled:{[Y]:z,[W]:L}}}}}},limitShift$2=function(_){return _===void 0&&(_={}),{options:_,fn(R){const{x:P,y:I,placement:O,rects:z,middlewareData:L}=R,{offset:F=0,mainAxis:U=!0,crossAxis:V=!0}=evaluate(_,R),q={x:P,y:I},W=getSideAxis(O),Y=getOppositeAxis(W);let Q=q[Y],ee=q[W];const te=evaluate(F,R),ie=typeof te=="number"?{mainAxis:te,crossAxis:0}:{mainAxis:0,crossAxis:0,...te};if(U){const le=Y==="y"?"height":"width",ce=z.reference[Y]-z.floating[le]+ie.mainAxis,fe=z.reference[Y]+z.reference[le]-ie.mainAxis;Q<ce?Q=ce:Q>fe&&(Q=fe)}if(V){var ae,se;const le=Y==="y"?"width":"height",ce=originSides.has(getSide(O)),fe=z.reference[W]-z.floating[le]+(ce&&((ae=L.offset)==null?void 0:ae[W])||0)+(ce?0:ie.crossAxis),de=z.reference[W]+z.reference[le]+(ce?0:((se=L.offset)==null?void 0:se[W])||0)-(ce?ie.crossAxis:0);ee<fe?ee=fe:ee>de&&(ee=de)}return{[Y]:Q,[W]:ee}}}},size$2=function(_){return _===void 0&&(_={}),{name:"size",options:_,async fn(R){var P,I;const{placement:O,rects:z,platform:L,elements:F}=R,{apply:U=()=>{},...V}=evaluate(_,R),q=await detectOverflow(R,V),W=getSide(O),Y=getAlignment(O),Q=getSideAxis(O)==="y",{width:ee,height:te}=z.floating;let ie,ae;W==="top"||W==="bottom"?(ie=W,ae=Y===(await(L.isRTL==null?void 0:L.isRTL(F.floating))?"start":"end")?"left":"right"):(ae=W,ie=Y==="end"?"top":"bottom");const se=te-q.top-q.bottom,le=ee-q.left-q.right,ce=min$2(te-q[ie],se),fe=min$2(ee-q[ae],le),de=!R.middlewareData.shift;let he=ce,pe=fe;if((P=R.middlewareData.shift)!=null&&P.enabled.x&&(pe=le),(I=R.middlewareData.shift)!=null&&I.enabled.y&&(he=se),de&&!Y){const be=max$1(q.left,0),xe=max$1(q.right,0),_e=max$1(q.top,0),Se=max$1(q.bottom,0);Q?pe=ee-2*(be!==0||xe!==0?be+xe:max$1(q.left,q.right)):he=te-2*(_e!==0||Se!==0?_e+Se:max$1(q.top,q.bottom))}await U({...R,availableWidth:pe,availableHeight:he});const ge=await L.getDimensions(F.floating);return ee!==ge.width||te!==ge.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(_){return isNode(_)?(_.nodeName||"").toLowerCase():"#document"}function getWindow(_){var R;return(_==null||(R=_.ownerDocument)==null?void 0:R.defaultView)||window}function getDocumentElement(_){var R;return(R=(isNode(_)?_.ownerDocument:_.document)||window.document)==null?void 0:R.documentElement}function isNode(_){return hasWindow()?_ instanceof Node||_ instanceof getWindow(_).Node:!1}function isElement(_){return hasWindow()?_ instanceof Element||_ instanceof getWindow(_).Element:!1}function isHTMLElement(_){return hasWindow()?_ instanceof HTMLElement||_ instanceof getWindow(_).HTMLElement:!1}function isShadowRoot(_){return!hasWindow()||typeof ShadowRoot>"u"?!1:_ instanceof ShadowRoot||_ instanceof getWindow(_).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(_){const{overflow:R,overflowX:P,overflowY:I,display:O}=getComputedStyle$1(_);return/auto|scroll|overlay|hidden|clip/.test(R+I+P)&&!invalidOverflowDisplayValues.has(O)}const tableElements$1=new Set(["table","td","th"]);function isTableElement(_){return tableElements$1.has(getNodeName(_))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(_){return topLayerSelectors.some(R=>{try{return _.matches(R)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(_){const R=isWebKit(),P=isElement(_)?getComputedStyle$1(_):_;return transformProperties.some(I=>P[I]?P[I]!=="none":!1)||(P.containerType?P.containerType!=="normal":!1)||!R&&(P.backdropFilter?P.backdropFilter!=="none":!1)||!R&&(P.filter?P.filter!=="none":!1)||willChangeValues.some(I=>(P.willChange||"").includes(I))||containValues.some(I=>(P.contain||"").includes(I))}function getContainingBlock(_){let R=getParentNode(_);for(;isHTMLElement(R)&&!isLastTraversableNode(R);){if(isContainingBlock(R))return R;if(isTopLayer(R))return null;R=getParentNode(R)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(_){return lastTraversableNodeNames.has(getNodeName(_))}function getComputedStyle$1(_){return getWindow(_).getComputedStyle(_)}function getNodeScroll(_){return isElement(_)?{scrollLeft:_.scrollLeft,scrollTop:_.scrollTop}:{scrollLeft:_.scrollX,scrollTop:_.scrollY}}function getParentNode(_){if(getNodeName(_)==="html")return _;const R=_.assignedSlot||_.parentNode||isShadowRoot(_)&&_.host||getDocumentElement(_);return isShadowRoot(R)?R.host:R}function getNearestOverflowAncestor(_){const R=getParentNode(_);return isLastTraversableNode(R)?_.ownerDocument?_.ownerDocument.body:_.body:isHTMLElement(R)&&isOverflowElement(R)?R:getNearestOverflowAncestor(R)}function getOverflowAncestors(_,R,P){var I;R===void 0&&(R=[]),P===void 0&&(P=!0);const O=getNearestOverflowAncestor(_),z=O===((I=_.ownerDocument)==null?void 0:I.body),L=getWindow(O);if(z){const F=getFrameElement(L);return R.concat(L,L.visualViewport||[],isOverflowElement(O)?O:[],F&&P?getOverflowAncestors(F):[])}return R.concat(O,getOverflowAncestors(O,[],P))}function getFrameElement(_){return _.parent&&Object.getPrototypeOf(_.parent)?_.frameElement:null}function getCssDimensions(_){const R=getComputedStyle$1(_);let P=parseFloat(R.width)||0,I=parseFloat(R.height)||0;const O=isHTMLElement(_),z=O?_.offsetWidth:P,L=O?_.offsetHeight:I,F=round$1(P)!==z||round$1(I)!==L;return F&&(P=z,I=L),{width:P,height:I,$:F}}function unwrapElement(_){return isElement(_)?_:_.contextElement}function getScale(_){const R=unwrapElement(_);if(!isHTMLElement(R))return createCoords(1);const P=R.getBoundingClientRect(),{width:I,height:O,$:z}=getCssDimensions(R);let L=(z?round$1(P.width):P.width)/I,F=(z?round$1(P.height):P.height)/O;return(!L||!Number.isFinite(L))&&(L=1),(!F||!Number.isFinite(F))&&(F=1),{x:L,y:F}}const noOffsets=createCoords(0);function getVisualOffsets(_){const R=getWindow(_);return!isWebKit()||!R.visualViewport?noOffsets:{x:R.visualViewport.offsetLeft,y:R.visualViewport.offsetTop}}function shouldAddVisualOffsets(_,R,P){return R===void 0&&(R=!1),!P||R&&P!==getWindow(_)?!1:R}function getBoundingClientRect(_,R,P,I){R===void 0&&(R=!1),P===void 0&&(P=!1);const O=_.getBoundingClientRect(),z=unwrapElement(_);let L=createCoords(1);R&&(I?isElement(I)&&(L=getScale(I)):L=getScale(_));const F=shouldAddVisualOffsets(z,P,I)?getVisualOffsets(z):createCoords(0);let U=(O.left+F.x)/L.x,V=(O.top+F.y)/L.y,q=O.width/L.x,W=O.height/L.y;if(z){const Y=getWindow(z),Q=I&&isElement(I)?getWindow(I):I;let ee=Y,te=getFrameElement(ee);for(;te&&I&&Q!==ee;){const ie=getScale(te),ae=te.getBoundingClientRect(),se=getComputedStyle$1(te),le=ae.left+(te.clientLeft+parseFloat(se.paddingLeft))*ie.x,ce=ae.top+(te.clientTop+parseFloat(se.paddingTop))*ie.y;U*=ie.x,V*=ie.y,q*=ie.x,W*=ie.y,U+=le,V+=ce,ee=getWindow(te),te=getFrameElement(ee)}}return rectToClientRect({width:q,height:W,x:U,y:V})}function getWindowScrollBarX(_,R){const P=getNodeScroll(_).scrollLeft;return R?R.left+P:getBoundingClientRect(getDocumentElement(_)).left+P}function getHTMLOffset(_,R){const P=_.getBoundingClientRect(),I=P.left+R.scrollLeft-getWindowScrollBarX(_,P),O=P.top+R.scrollTop;return{x:I,y:O}}function convertOffsetParentRelativeRectToViewportRelativeRect(_){let{elements:R,rect:P,offsetParent:I,strategy:O}=_;const z=O==="fixed",L=getDocumentElement(I),F=R?isTopLayer(R.floating):!1;if(I===L||F&&z)return P;let U={scrollLeft:0,scrollTop:0},V=createCoords(1);const q=createCoords(0),W=isHTMLElement(I);if((W||!W&&!z)&&((getNodeName(I)!=="body"||isOverflowElement(L))&&(U=getNodeScroll(I)),isHTMLElement(I))){const Q=getBoundingClientRect(I);V=getScale(I),q.x=Q.x+I.clientLeft,q.y=Q.y+I.clientTop}const Y=L&&!W&&!z?getHTMLOffset(L,U):createCoords(0);return{width:P.width*V.x,height:P.height*V.y,x:P.x*V.x-U.scrollLeft*V.x+q.x+Y.x,y:P.y*V.y-U.scrollTop*V.y+q.y+Y.y}}function getClientRects(_){return Array.from(_.getClientRects())}function getDocumentRect(_){const R=getDocumentElement(_),P=getNodeScroll(_),I=_.ownerDocument.body,O=max$1(R.scrollWidth,R.clientWidth,I.scrollWidth,I.clientWidth),z=max$1(R.scrollHeight,R.clientHeight,I.scrollHeight,I.clientHeight);let L=-P.scrollLeft+getWindowScrollBarX(_);const F=-P.scrollTop;return getComputedStyle$1(I).direction==="rtl"&&(L+=max$1(R.clientWidth,I.clientWidth)-O),{width:O,height:z,x:L,y:F}}const SCROLLBAR_MAX=25;function getViewportRect(_,R){const P=getWindow(_),I=getDocumentElement(_),O=P.visualViewport;let z=I.clientWidth,L=I.clientHeight,F=0,U=0;if(O){z=O.width,L=O.height;const q=isWebKit();(!q||q&&R==="fixed")&&(F=O.offsetLeft,U=O.offsetTop)}const V=getWindowScrollBarX(I);if(V<=0){const q=I.ownerDocument,W=q.body,Y=getComputedStyle(W),Q=q.compatMode==="CSS1Compat"&&parseFloat(Y.marginLeft)+parseFloat(Y.marginRight)||0,ee=Math.abs(I.clientWidth-W.clientWidth-Q);ee<=SCROLLBAR_MAX&&(z-=ee)}else V<=SCROLLBAR_MAX&&(z+=V);return{width:z,height:L,x:F,y:U}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(_,R){const P=getBoundingClientRect(_,!0,R==="fixed"),I=P.top+_.clientTop,O=P.left+_.clientLeft,z=isHTMLElement(_)?getScale(_):createCoords(1),L=_.clientWidth*z.x,F=_.clientHeight*z.y,U=O*z.x,V=I*z.y;return{width:L,height:F,x:U,y:V}}function getClientRectFromClippingAncestor(_,R,P){let I;if(R==="viewport")I=getViewportRect(_,P);else if(R==="document")I=getDocumentRect(getDocumentElement(_));else if(isElement(R))I=getInnerBoundingClientRect(R,P);else{const O=getVisualOffsets(_);I={x:R.x-O.x,y:R.y-O.y,width:R.width,height:R.height}}return rectToClientRect(I)}function hasFixedPositionAncestor(_,R){const P=getParentNode(_);return P===R||!isElement(P)||isLastTraversableNode(P)?!1:getComputedStyle$1(P).position==="fixed"||hasFixedPositionAncestor(P,R)}function getClippingElementAncestors(_,R){const P=R.get(_);if(P)return P;let I=getOverflowAncestors(_,[],!1).filter(F=>isElement(F)&&getNodeName(F)!=="body"),O=null;const z=getComputedStyle$1(_).position==="fixed";let L=z?getParentNode(_):_;for(;isElement(L)&&!isLastTraversableNode(L);){const F=getComputedStyle$1(L),U=isContainingBlock(L);!U&&F.position==="fixed"&&(O=null),(z?!U&&!O:!U&&F.position==="static"&&!!O&&absoluteOrFixed.has(O.position)||isOverflowElement(L)&&!U&&hasFixedPositionAncestor(_,L))?I=I.filter(q=>q!==L):O=F,L=getParentNode(L)}return R.set(_,I),I}function getClippingRect(_){let{element:R,boundary:P,rootBoundary:I,strategy:O}=_;const L=[...P==="clippingAncestors"?isTopLayer(R)?[]:getClippingElementAncestors(R,this._c):[].concat(P),I],F=L[0],U=L.reduce((V,q)=>{const W=getClientRectFromClippingAncestor(R,q,O);return V.top=max$1(W.top,V.top),V.right=min$2(W.right,V.right),V.bottom=min$2(W.bottom,V.bottom),V.left=max$1(W.left,V.left),V},getClientRectFromClippingAncestor(R,F,O));return{width:U.right-U.left,height:U.bottom-U.top,x:U.left,y:U.top}}function getDimensions(_){const{width:R,height:P}=getCssDimensions(_);return{width:R,height:P}}function getRectRelativeToOffsetParent(_,R,P){const I=isHTMLElement(R),O=getDocumentElement(R),z=P==="fixed",L=getBoundingClientRect(_,!0,z,R);let F={scrollLeft:0,scrollTop:0};const U=createCoords(0);function V(){U.x=getWindowScrollBarX(O)}if(I||!I&&!z)if((getNodeName(R)!=="body"||isOverflowElement(O))&&(F=getNodeScroll(R)),I){const Q=getBoundingClientRect(R,!0,z,R);U.x=Q.x+R.clientLeft,U.y=Q.y+R.clientTop}else O&&V();z&&!I&&O&&V();const q=O&&!I&&!z?getHTMLOffset(O,F):createCoords(0),W=L.left+F.scrollLeft-U.x-q.x,Y=L.top+F.scrollTop-U.y-q.y;return{x:W,y:Y,width:L.width,height:L.height}}function isStaticPositioned(_){return getComputedStyle$1(_).position==="static"}function getTrueOffsetParent(_,R){if(!isHTMLElement(_)||getComputedStyle$1(_).position==="fixed")return null;if(R)return R(_);let P=_.offsetParent;return getDocumentElement(_)===P&&(P=P.ownerDocument.body),P}function getOffsetParent(_,R){const P=getWindow(_);if(isTopLayer(_))return P;if(!isHTMLElement(_)){let O=getParentNode(_);for(;O&&!isLastTraversableNode(O);){if(isElement(O)&&!isStaticPositioned(O))return O;O=getParentNode(O)}return P}let I=getTrueOffsetParent(_,R);for(;I&&isTableElement(I)&&isStaticPositioned(I);)I=getTrueOffsetParent(I,R);return I&&isLastTraversableNode(I)&&isStaticPositioned(I)&&!isContainingBlock(I)?P:I||getContainingBlock(_)||P}const getElementRects=async function(_){const R=this.getOffsetParent||getOffsetParent,P=this.getDimensions,I=await P(_.floating);return{reference:getRectRelativeToOffsetParent(_.reference,await R(_.floating),_.strategy),floating:{x:0,y:0,width:I.width,height:I.height}}};function isRTL(_){return getComputedStyle$1(_).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(_,R){return _.x===R.x&&_.y===R.y&&_.width===R.width&&_.height===R.height}function observeMove(_,R){let P=null,I;const O=getDocumentElement(_);function z(){var F;clearTimeout(I),(F=P)==null||F.disconnect(),P=null}function L(F,U){F===void 0&&(F=!1),U===void 0&&(U=1),z();const V=_.getBoundingClientRect(),{left:q,top:W,width:Y,height:Q}=V;if(F||R(),!Y||!Q)return;const ee=floor(W),te=floor(O.clientWidth-(q+Y)),ie=floor(O.clientHeight-(W+Q)),ae=floor(q),le={rootMargin:-ee+"px "+-te+"px "+-ie+"px "+-ae+"px",threshold:max$1(0,min$2(1,U))||1};let ce=!0;function fe(de){const he=de[0].intersectionRatio;if(he!==U){if(!ce)return L();he?L(!1,he):I=setTimeout(()=>{L(!1,1e-7)},1e3)}he===1&&!rectsAreEqual(V,_.getBoundingClientRect())&&L(),ce=!1}try{P=new IntersectionObserver(fe,{...le,root:O.ownerDocument})}catch{P=new IntersectionObserver(fe,le)}P.observe(_)}return L(!0),z}function autoUpdate(_,R,P,I){I===void 0&&(I={});const{ancestorScroll:O=!0,ancestorResize:z=!0,elementResize:L=typeof ResizeObserver=="function",layoutShift:F=typeof IntersectionObserver=="function",animationFrame:U=!1}=I,V=unwrapElement(_),q=O||z?[...V?getOverflowAncestors(V):[],...getOverflowAncestors(R)]:[];q.forEach(ae=>{O&&ae.addEventListener("scroll",P,{passive:!0}),z&&ae.addEventListener("resize",P)});const W=V&&F?observeMove(V,P):null;let Y=-1,Q=null;L&&(Q=new ResizeObserver(ae=>{let[se]=ae;se&&se.target===V&&Q&&(Q.unobserve(R),cancelAnimationFrame(Y),Y=requestAnimationFrame(()=>{var le;(le=Q)==null||le.observe(R)})),P()}),V&&!U&&Q.observe(V),Q.observe(R));let ee,te=U?getBoundingClientRect(_):null;U&&ie();function ie(){const ae=getBoundingClientRect(_);te&&!rectsAreEqual(te,ae)&&P(),te=ae,ee=requestAnimationFrame(ie)}return P(),()=>{var ae;q.forEach(se=>{O&&se.removeEventListener("scroll",P),z&&se.removeEventListener("resize",P)}),W?.(),(ae=Q)==null||ae.disconnect(),Q=null,U&&cancelAnimationFrame(ee)}}const offset$2=offset$3,shift$1=shift$2,flip$2=flip$3,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(_,R,P)=>{const I=new Map,O={platform,...P},z={...O.platform,_c:I};return computePosition$1(_,R,{...O,platform:z})};var isClient=typeof document<"u",noop$3=function _(){},index$1=isClient?reactExports.useLayoutEffect:noop$3;function deepEqual(_,R){if(_===R)return!0;if(typeof _!=typeof R)return!1;if(typeof _=="function"&&_.toString()===R.toString())return!0;let P,I,O;if(_&&R&&typeof _=="object"){if(Array.isArray(_)){if(P=_.length,P!==R.length)return!1;for(I=P;I--!==0;)if(!deepEqual(_[I],R[I]))return!1;return!0}if(O=Object.keys(_),P=O.length,P!==Object.keys(R).length)return!1;for(I=P;I--!==0;)if(!{}.hasOwnProperty.call(R,O[I]))return!1;for(I=P;I--!==0;){const z=O[I];if(!(z==="_owner"&&_.$$typeof)&&!deepEqual(_[z],R[z]))return!1}return!0}return _!==_&&R!==R}function getDPR(_){return typeof window>"u"?1:(_.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(_,R){const P=getDPR(_);return Math.round(R*P)/P}function useLatestRef(_){const R=reactExports.useRef(_);return index$1(()=>{R.current=_}),R}function useFloating(_){_===void 0&&(_={});const{placement:R="bottom",strategy:P="absolute",middleware:I=[],platform:O,elements:{reference:z,floating:L}={},transform:F=!0,whileElementsMounted:U,open:V}=_,[q,W]=reactExports.useState({x:0,y:0,strategy:P,placement:R,middlewareData:{},isPositioned:!1}),[Y,Q]=reactExports.useState(I);deepEqual(Y,I)||Q(I);const[ee,te]=reactExports.useState(null),[ie,ae]=reactExports.useState(null),se=reactExports.useCallback(Pe=>{Pe!==de.current&&(de.current=Pe,te(Pe))},[]),le=reactExports.useCallback(Pe=>{Pe!==he.current&&(he.current=Pe,ae(Pe))},[]),ce=z||ee,fe=L||ie,de=reactExports.useRef(null),he=reactExports.useRef(null),pe=reactExports.useRef(q),ge=U!=null,be=useLatestRef(U),xe=useLatestRef(O),_e=useLatestRef(V),Se=reactExports.useCallback(()=>{if(!de.current||!he.current)return;const Pe={placement:R,strategy:P,middleware:Y};xe.current&&(Pe.platform=xe.current),computePosition(de.current,he.current,Pe).then(Me=>{const Ae={...Me,isPositioned:_e.current!==!1};me.current&&!deepEqual(pe.current,Ae)&&(pe.current=Ae,reactDomExports.flushSync(()=>{W(Ae)}))})},[Y,R,P,xe,_e]);index$1(()=>{V===!1&&pe.current.isPositioned&&(pe.current.isPositioned=!1,W(Pe=>({...Pe,isPositioned:!1})))},[V]);const me=reactExports.useRef(!1);index$1(()=>(me.current=!0,()=>{me.current=!1}),[]),index$1(()=>{if(ce&&(de.current=ce),fe&&(he.current=fe),ce&&fe){if(be.current)return be.current(ce,fe,Se);Se()}},[ce,fe,Se,be,ge]);const Ce=reactExports.useMemo(()=>({reference:de,floating:he,setReference:se,setFloating:le}),[se,le]),Te=reactExports.useMemo(()=>({reference:ce,floating:fe}),[ce,fe]),Re=reactExports.useMemo(()=>{const Pe={position:P,left:0,top:0};if(!Te.floating)return Pe;const Me=roundByDPR(Te.floating,q.x),Ae=roundByDPR(Te.floating,q.y);return F?{...Pe,transform:"translate("+Me+"px, "+Ae+"px)",...getDPR(Te.floating)>=1.5&&{willChange:"transform"}}:{position:P,left:Me,top:Ae}},[P,F,Te.floating,q.x,q.y]);return reactExports.useMemo(()=>({...q,update:Se,refs:Ce,elements:Te,floatingStyles:Re}),[q,Se,Ce,Te,Re])}const arrow$1=_=>{function R(P){return{}.hasOwnProperty.call(P,"current")}return{name:"arrow",options:_,fn(P){const{element:I,padding:O}=typeof _=="function"?_(P):_;return I&&R(I)?I.current!=null?arrow$2({element:I.current,padding:O}).fn(P):{}:I?arrow$2({element:I,padding:O}).fn(P):{}}}},offset$1=(_,R)=>({...offset$2(_),options:[_,R]}),shift=(_,R)=>({...shift$1(_),options:[_,R]}),limitShift=(_,R)=>({...limitShift$1(_),options:[_,R]}),flip$1=(_,R)=>({...flip$2(_),options:[_,R]}),size=(_,R)=>({...size$1(_),options:[_,R]}),hide=(_,R)=>({...hide$1(_),options:[_,R]}),arrow=(_,R)=>({...arrow$1(_),options:[_,R]});var NAME$3="Arrow",Arrow$1=reactExports.forwardRef((_,R)=>{const{children:P,width:I=10,height:O=5,...z}=_;return jsxRuntimeExports.jsx(Primitive$2.svg,{...z,ref:R,width:I,height:O,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:_.asChild?P:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$3;var Root$6=Arrow$1,POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope$1(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=_=>{const{__scopePopper:R,children:P}=_,[I,O]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:R,anchor:I,onAnchorChange:O,children:P})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME="PopperAnchor",PopperAnchor=reactExports.forwardRef((_,R)=>{const{__scopePopper:P,virtualRef:I,...O}=_,z=usePopperContext(ANCHOR_NAME,P),L=reactExports.useRef(null),F=useComposedRefs(R,L),U=reactExports.useRef(null);return reactExports.useEffect(()=>{const V=U.current;U.current=I?.current||L.current,V!==U.current&&z.onAnchorChange(U.current)}),I?null:jsxRuntimeExports.jsx(Primitive$2.div,{...O,ref:F})});PopperAnchor.displayName=ANCHOR_NAME;var CONTENT_NAME$4="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$4),PopperContent=reactExports.forwardRef((_,R)=>{const{__scopePopper:P,side:I="bottom",sideOffset:O=0,align:z="center",alignOffset:L=0,arrowPadding:F=0,avoidCollisions:U=!0,collisionBoundary:V=[],collisionPadding:q=0,sticky:W="partial",hideWhenDetached:Y=!1,updatePositionStrategy:Q="optimized",onPlaced:ee,...te}=_,ie=usePopperContext(CONTENT_NAME$4,P),[ae,se]=reactExports.useState(null),le=useComposedRefs(R,He=>se(He)),[ce,fe]=reactExports.useState(null),de=useSize(ce),he=de?.width??0,pe=de?.height??0,ge=I+(z!=="center"?"-"+z:""),be=typeof q=="number"?q:{top:0,right:0,bottom:0,left:0,...q},xe=Array.isArray(V)?V:[V],_e=xe.length>0,Se={padding:be,boundary:xe.filter(isNotNull),altBoundary:_e},{refs:me,floatingStyles:Ce,placement:Te,isPositioned:Re,middlewareData:Pe}=useFloating({strategy:"fixed",placement:ge,whileElementsMounted:(...He)=>autoUpdate(...He,{animationFrame:Q==="always"}),elements:{reference:ie.anchor},middleware:[offset$1({mainAxis:O+pe,alignmentAxis:L}),U&&shift({mainAxis:!0,crossAxis:!1,limiter:W==="partial"?limitShift():void 0,...Se}),U&&flip$1({...Se}),size({...Se,apply:({elements:He,rects:Ze,availableWidth:Le,availableHeight:Xe})=>{const{width:Ye,height:Ve}=Ze.reference,dt=He.floating.style;dt.setProperty("--radix-popper-available-width",`${Le}px`),dt.setProperty("--radix-popper-available-height",`${Xe}px`),dt.setProperty("--radix-popper-anchor-width",`${Ye}px`),dt.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),ce&&arrow({element:ce,padding:F}),transformOrigin({arrowWidth:he,arrowHeight:pe}),Y&&hide({strategy:"referenceHidden",...Se})]}),[Me,Ae]=getSideAndAlignFromPlacement(Te),we=useCallbackRef$1(ee);useLayoutEffect2(()=>{Re&&we?.()},[Re,we]);const ke=Pe.arrow?.x,Ee=Pe.arrow?.y,ze=Pe.arrow?.centerOffset!==0,[je,Ke]=reactExports.useState();return useLayoutEffect2(()=>{ae&&Ke(window.getComputedStyle(ae).zIndex)},[ae]),jsxRuntimeExports.jsx("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ce,transform:Re?Ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[Pe.transformOrigin?.x,Pe.transformOrigin?.y].join(" "),...Pe.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:_.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:P,placedSide:Me,onArrowChange:fe,arrowX:ke,arrowY:Ee,shouldHideArrow:ze,children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-side":Me,"data-align":Ae,...te,ref:le,style:{...te.style,animation:Re?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$4;var ARROW_NAME$1="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function _(R,P){const{__scopePopper:I,...O}=R,z=useContentContext(ARROW_NAME$1,I),L=OPPOSITE_SIDE[z.placedSide];return jsxRuntimeExports.jsx("span",{ref:z.onArrowChange,style:{position:"absolute",left:z.arrowX,top:z.arrowY,[L]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[z.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[z.placedSide],visibility:z.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$6,{...O,ref:P,style:{...O.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$1;function isNotNull(_){return _!==null}var transformOrigin=_=>({name:"transformOrigin",options:_,fn(R){const{placement:P,rects:I,middlewareData:O}=R,L=O.arrow?.centerOffset!==0,F=L?0:_.arrowWidth,U=L?0:_.arrowHeight,[V,q]=getSideAndAlignFromPlacement(P),W={start:"0%",center:"50%",end:"100%"}[q],Y=(O.arrow?.x??0)+F/2,Q=(O.arrow?.y??0)+U/2;let ee="",te="";return V==="bottom"?(ee=L?W:`${Y}px`,te=`${-U}px`):V==="top"?(ee=L?W:`${Y}px`,te=`${I.floating.height+U}px`):V==="right"?(ee=`${-U}px`,te=L?W:`${Q}px`):V==="left"&&(ee=`${I.floating.width+U}px`,te=L?W:`${Q}px`),{data:{x:ee,y:te}}}});function getSideAndAlignFromPlacement(_){const[R,P="center"]=_.split("-");return[R,P]}var Root2$2=Popper,Anchor$1=PopperAnchor,Content$2=PopperContent,Arrow=PopperArrow,PORTAL_NAME$1="Portal",Portal$1=reactExports.forwardRef((_,R)=>{const{container:P,...I}=_,[O,z]=reactExports.useState(!1);useLayoutEffect2(()=>z(!0),[]);const L=P||O&&globalThis?.document?.body;return L?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$2.div,{...I,ref:R}),L):null});Portal$1.displayName=PORTAL_NAME$1;function createSlot(_){const R=createSlotClone(_),P=reactExports.forwardRef((I,O)=>{const{children:z,...L}=I,F=reactExports.Children.toArray(z),U=F.find(isSlottable);if(U){const V=U.props.children,q=F.map(W=>W===U?reactExports.Children.count(V)>1?reactExports.Children.only(null):reactExports.isValidElement(V)?V.props.children:null:W);return jsxRuntimeExports.jsx(R,{...L,ref:O,children:reactExports.isValidElement(V)?reactExports.cloneElement(V,void 0,q):null})}return jsxRuntimeExports.jsx(R,{...L,ref:O,children:z})});return P.displayName=`${_}.Slot`,P}function createSlotClone(_){const R=reactExports.forwardRef((P,I)=>{const{children:O,...z}=P;if(reactExports.isValidElement(O)){const L=getElementRef(O),F=mergeProps(z,O.props);return O.type!==reactExports.Fragment&&(F.ref=I?composeRefs(I,L):L),reactExports.cloneElement(O,F)}return reactExports.Children.count(O)>1?reactExports.Children.only(null):null});return R.displayName=`${_}.SlotClone`,R}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(_){return reactExports.isValidElement(_)&&typeof _.type=="function"&&"__radixId"in _.type&&_.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(_,R){const P={...R};for(const I in R){const O=_[I],z=R[I];/^on[A-Z]/.test(I)?O&&z?P[I]=(...F)=>{const U=z(...F);return O(...F),U}:O&&(P[I]=O):I==="style"?P[I]={...O,...z}:I==="className"&&(P[I]=[O,z].filter(Boolean).join(" "))}return{..._,...P}}function getElementRef(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning;return P?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning,P?_.props.ref:_.props.ref||_.ref)}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME$2="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((_,R)=>jsxRuntimeExports.jsx(Primitive$2.span,{..._,ref:R,style:{...VISUALLY_HIDDEN_STYLES,..._.style}}));VisuallyHidden.displayName=NAME$2;var getDefaultParent=function(_){if(typeof document>"u")return null;var R=Array.isArray(_)?_[0]:_;return R.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(_){return _&&(_.host||unwrapHost(_.parentNode))},correctTargets=function(_,R){return R.map(function(P){if(_.contains(P))return P;var I=unwrapHost(P);return I&&_.contains(I)?I:(console.error("aria-hidden",P,"in not contained inside",_,". Doing nothing"),null)}).filter(function(P){return!!P})},applyAttributeToOthers=function(_,R,P,I){var O=correctTargets(R,Array.isArray(_)?_:[_]);markerMap[P]||(markerMap[P]=new WeakMap);var z=markerMap[P],L=[],F=new Set,U=new Set(O),V=function(W){!W||F.has(W)||(F.add(W),V(W.parentNode))};O.forEach(V);var q=function(W){!W||U.has(W)||Array.prototype.forEach.call(W.children,function(Y){if(F.has(Y))q(Y);else try{var Q=Y.getAttribute(I),ee=Q!==null&&Q!=="false",te=(counterMap.get(Y)||0)+1,ie=(z.get(Y)||0)+1;counterMap.set(Y,te),z.set(Y,ie),L.push(Y),te===1&&ee&&uncontrolledNodes.set(Y,!0),ie===1&&Y.setAttribute(P,"true"),ee||Y.setAttribute(I,"true")}catch(ae){console.error("aria-hidden: cannot operate on ",Y,ae)}})};return q(R),F.clear(),lockCount++,function(){L.forEach(function(W){var Y=counterMap.get(W)-1,Q=z.get(W)-1;counterMap.set(W,Y),z.set(W,Q),Y||(uncontrolledNodes.has(W)||W.removeAttribute(I),uncontrolledNodes.delete(W)),Q||W.removeAttribute(P)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(_,R,P){P===void 0&&(P="data-aria-hidden");var I=Array.from(Array.isArray(_)?_:[_]),O=getDefaultParent(_);return O?(I.push.apply(I,Array.from(O.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(I,O,P,"aria-hidden")):function(){return null}},__assign=function(){return __assign=Object.assign||function(R){for(var P,I=1,O=arguments.length;I<O;I++){P=arguments[I];for(var z in P)Object.prototype.hasOwnProperty.call(P,z)&&(R[z]=P[z])}return R},__assign.apply(this,arguments)};function __rest(_,R){var P={};for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&R.indexOf(I)<0&&(P[I]=_[I]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,I=Object.getOwnPropertySymbols(_);O<I.length;O++)R.indexOf(I[O])<0&&Object.prototype.propertyIsEnumerable.call(_,I[O])&&(P[I[O]]=_[I[O]]);return P}function __spreadArray(_,R,P){if(P||arguments.length===2)for(var I=0,O=R.length,z;I<O;I++)(z||!(I in R))&&(z||(z=Array.prototype.slice.call(R,0,I)),z[I]=R[I]);return _.concat(z||Array.prototype.slice.call(R))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(_,R){return typeof _=="function"?_(R):_&&(_.current=R),_}function useCallbackRef(_,R){var P=reactExports.useState(function(){return{value:_,callback:R,facade:{get current(){return P.value},set current(I){var O=P.value;O!==I&&(P.value=I,P.callback(I,O))}}}})[0];return P.callback=R,P.facade}var useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(_,R){var P=useCallbackRef(null,function(I){return _.forEach(function(O){return assignRef(O,I)})});return useIsomorphicLayoutEffect$1(function(){var I=currentValues.get(P);if(I){var O=new Set(I),z=new Set(_),L=P.current;O.forEach(function(F){z.has(F)||assignRef(F,null)}),z.forEach(function(F){O.has(F)||assignRef(F,L)})}currentValues.set(P,_)},[_]),P}function ItoI(_){return _}function innerCreateMedium(_,R){R===void 0&&(R=ItoI);var P=[],I=!1,O={read:function(){if(I)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return P.length?P[P.length-1]:_},useMedium:function(z){var L=R(z,I);return P.push(L),function(){P=P.filter(function(F){return F!==L})}},assignSyncMedium:function(z){for(I=!0;P.length;){var L=P;P=[],L.forEach(z)}P={push:function(F){return z(F)},filter:function(){return P}}},assignMedium:function(z){I=!0;var L=[];if(P.length){var F=P;P=[],F.forEach(z),L=P}var U=function(){var q=L;L=[],q.forEach(z)},V=function(){return Promise.resolve().then(U)};V(),P={push:function(q){L.push(q),V()},filter:function(q){return L=L.filter(q),P}}}};return O}function createSidecarMedium(_){_===void 0&&(_={});var R=innerCreateMedium(null);return R.options=__assign({async:!0,ssr:!1},_),R}var SideCar$1=function(_){var R=_.sideCar,P=__rest(_,["sideCar"]);if(!R)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var I=R.read();if(!I)throw new Error("Sidecar medium not found");return reactExports.createElement(I,__assign({},P))};SideCar$1.isSideCarExport=!0;function exportSidecar(_,R){return _.useMedium(R),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(_,R){var P=reactExports.useRef(null),I=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),O=I[0],z=I[1],L=_.forwardProps,F=_.children,U=_.className,V=_.removeScrollBar,q=_.enabled,W=_.shards,Y=_.sideCar,Q=_.noRelative,ee=_.noIsolation,te=_.inert,ie=_.allowPinchZoom,ae=_.as,se=ae===void 0?"div":ae,le=_.gapMode,ce=__rest(_,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),fe=Y,de=useMergeRefs([P,R]),he=__assign(__assign({},ce),O);return reactExports.createElement(reactExports.Fragment,null,q&&reactExports.createElement(fe,{sideCar:effectCar,removeScrollBar:V,shards:W,noRelative:Q,noIsolation:ee,inert:te,setCallbacks:z,allowPinchZoom:!!ie,lockRef:P,gapMode:le}),L?reactExports.cloneElement(reactExports.Children.only(F),__assign(__assign({},he),{ref:de})):reactExports.createElement(se,__assign({},he,{className:U,ref:de}),F))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var _=document.createElement("style");_.type="text/css";var R=getNonce();return R&&_.setAttribute("nonce",R),_}function injectStyles(_,R){_.styleSheet?_.styleSheet.cssText=R:_.appendChild(document.createTextNode(R))}function insertStyleTag(_){var R=document.head||document.getElementsByTagName("head")[0];R.appendChild(_)}var stylesheetSingleton=function(){var _=0,R=null;return{add:function(P){_==0&&(R=makeStyleTag())&&(injectStyles(R,P),insertStyleTag(R)),_++},remove:function(){_--,!_&&R&&(R.parentNode&&R.parentNode.removeChild(R),R=null)}}},styleHookSingleton=function(){var _=stylesheetSingleton();return function(R,P){reactExports.useEffect(function(){return _.add(R),function(){_.remove()}},[R&&P])}},styleSingleton=function(){var _=styleHookSingleton(),R=function(P){var I=P.styles,O=P.dynamic;return _(I,O),null};return R},zeroGap={left:0,top:0,right:0,gap:0},parse$5=function(_){return parseInt(_||"",10)||0},getOffset=function(_){var R=window.getComputedStyle(document.body),P=R[_==="padding"?"paddingLeft":"marginLeft"],I=R[_==="padding"?"paddingTop":"marginTop"],O=R[_==="padding"?"paddingRight":"marginRight"];return[parse$5(P),parse$5(I),parse$5(O)]},getGapWidth=function(_){if(_===void 0&&(_="margin"),typeof window>"u")return zeroGap;var R=getOffset(_),P=document.documentElement.clientWidth,I=window.innerWidth;return{left:R[0],top:R[1],right:R[2],gap:Math.max(0,I-P+R[2]-R[0])}},Style$2=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(_,R,P,I){var O=_.left,z=_.top,L=_.right,F=_.gap;return P===void 0&&(P="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(I,`;
   padding-right: `).concat(F,"px ").concat(I,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(I,`;
    overscroll-behavior: contain;
    `).concat([R&&"position: relative ".concat(I,";"),P==="margin"&&`
    padding-left: `.concat(O,`px;
    padding-top: `).concat(z,`px;
    padding-right: `).concat(L,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(F,"px ").concat(I,`;
    `),P==="padding"&&"padding-right: ".concat(F,"px ").concat(I,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(F,"px ").concat(I,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(F,"px ").concat(I,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(I,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(I,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(F,`px;
  }
`)},getCurrentUseCounter=function(){var _=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(_)?_:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var _=getCurrentUseCounter()-1;_<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,_.toString())}},[])},RemoveScrollBar=function(_){var R=_.noRelative,P=_.noImportant,I=_.gapMode,O=I===void 0?"margin":I;useLockAttribute();var z=reactExports.useMemo(function(){return getGapWidth(O)},[O]);return reactExports.createElement(Style$2,{styles:getStyles(z,!R,O,P?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(_){return _.tagName==="TEXTAREA"},elementCanBeScrolled=function(_,R){if(!(_ instanceof Element))return!1;var P=window.getComputedStyle(_);return P[R]!=="hidden"&&!(P.overflowY===P.overflowX&&!alwaysContainsScroll(_)&&P[R]==="visible")},elementCouldBeVScrolled=function(_){return elementCanBeScrolled(_,"overflowY")},elementCouldBeHScrolled=function(_){return elementCanBeScrolled(_,"overflowX")},locationCouldBeScrolled=function(_,R){var P=R.ownerDocument,I=R;do{typeof ShadowRoot<"u"&&I instanceof ShadowRoot&&(I=I.host);var O=elementCouldBeScrolled(_,I);if(O){var z=getScrollVariables(_,I),L=z[1],F=z[2];if(L>F)return!0}I=I.parentNode}while(I&&I!==P.body);return!1},getVScrollVariables=function(_){var R=_.scrollTop,P=_.scrollHeight,I=_.clientHeight;return[R,P,I]},getHScrollVariables=function(_){var R=_.scrollLeft,P=_.scrollWidth,I=_.clientWidth;return[R,P,I]},elementCouldBeScrolled=function(_,R){return _==="v"?elementCouldBeVScrolled(R):elementCouldBeHScrolled(R)},getScrollVariables=function(_,R){return _==="v"?getVScrollVariables(R):getHScrollVariables(R)},getDirectionFactor=function(_,R){return _==="h"&&R==="rtl"?-1:1},handleScroll=function(_,R,P,I,O){var z=getDirectionFactor(_,window.getComputedStyle(R).direction),L=z*I,F=P.target,U=R.contains(F),V=!1,q=L>0,W=0,Y=0;do{if(!F)break;var Q=getScrollVariables(_,F),ee=Q[0],te=Q[1],ie=Q[2],ae=te-ie-z*ee;(ee||ae)&&elementCouldBeScrolled(_,F)&&(W+=ae,Y+=ee);var se=F.parentNode;F=se&&se.nodeType===Node.DOCUMENT_FRAGMENT_NODE?se.host:se}while(!U&&F!==document.body||U&&(R.contains(F)||R===F));return(q&&Math.abs(W)<1||!q&&Math.abs(Y)<1)&&(V=!0),V},getTouchXY=function(_){return"changedTouches"in _?[_.changedTouches[0].clientX,_.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(_){return[_.deltaX,_.deltaY]},extractRef=function(_){return _&&"current"in _?_.current:_},deltaCompare=function(_,R){return _[0]===R[0]&&_[1]===R[1]},generateStyle=function(_){return`
  .block-interactivity-`.concat(_,` {pointer-events: none;}
  .allow-interactivity-`).concat(_,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(_){var R=reactExports.useRef([]),P=reactExports.useRef([0,0]),I=reactExports.useRef(),O=reactExports.useState(idCounter++)[0],z=reactExports.useState(styleSingleton)[0],L=reactExports.useRef(_);reactExports.useEffect(function(){L.current=_},[_]),reactExports.useEffect(function(){if(_.inert){document.body.classList.add("block-interactivity-".concat(O));var te=__spreadArray([_.lockRef.current],(_.shards||[]).map(extractRef),!0).filter(Boolean);return te.forEach(function(ie){return ie.classList.add("allow-interactivity-".concat(O))}),function(){document.body.classList.remove("block-interactivity-".concat(O)),te.forEach(function(ie){return ie.classList.remove("allow-interactivity-".concat(O))})}}},[_.inert,_.lockRef.current,_.shards]);var F=reactExports.useCallback(function(te,ie){if("touches"in te&&te.touches.length===2||te.type==="wheel"&&te.ctrlKey)return!L.current.allowPinchZoom;var ae=getTouchXY(te),se=P.current,le="deltaX"in te?te.deltaX:se[0]-ae[0],ce="deltaY"in te?te.deltaY:se[1]-ae[1],fe,de=te.target,he=Math.abs(le)>Math.abs(ce)?"h":"v";if("touches"in te&&he==="h"&&de.type==="range")return!1;var pe=window.getSelection(),ge=pe&&pe.anchorNode,be=ge?ge===de||ge.contains(de):!1;if(be)return!1;var xe=locationCouldBeScrolled(he,de);if(!xe)return!0;if(xe?fe=he:(fe=he==="v"?"h":"v",xe=locationCouldBeScrolled(he,de)),!xe)return!1;if(!I.current&&"changedTouches"in te&&(le||ce)&&(I.current=fe),!fe)return!0;var _e=I.current||fe;return handleScroll(_e,ie,te,_e==="h"?le:ce)},[]),U=reactExports.useCallback(function(te){var ie=te;if(!(!lockStack.length||lockStack[lockStack.length-1]!==z)){var ae="deltaY"in ie?getDeltaXY(ie):getTouchXY(ie),se=R.current.filter(function(fe){return fe.name===ie.type&&(fe.target===ie.target||ie.target===fe.shadowParent)&&deltaCompare(fe.delta,ae)})[0];if(se&&se.should){ie.cancelable&&ie.preventDefault();return}if(!se){var le=(L.current.shards||[]).map(extractRef).filter(Boolean).filter(function(fe){return fe.contains(ie.target)}),ce=le.length>0?F(ie,le[0]):!L.current.noIsolation;ce&&ie.cancelable&&ie.preventDefault()}}},[]),V=reactExports.useCallback(function(te,ie,ae,se){var le={name:te,delta:ie,target:ae,should:se,shadowParent:getOutermostShadowParent(ae)};R.current.push(le),setTimeout(function(){R.current=R.current.filter(function(ce){return ce!==le})},1)},[]),q=reactExports.useCallback(function(te){P.current=getTouchXY(te),I.current=void 0},[]),W=reactExports.useCallback(function(te){V(te.type,getDeltaXY(te),te.target,F(te,_.lockRef.current))},[]),Y=reactExports.useCallback(function(te){V(te.type,getTouchXY(te),te.target,F(te,_.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(z),_.setCallbacks({onScrollCapture:W,onWheelCapture:W,onTouchMoveCapture:Y}),document.addEventListener("wheel",U,nonPassive),document.addEventListener("touchmove",U,nonPassive),document.addEventListener("touchstart",q,nonPassive),function(){lockStack=lockStack.filter(function(te){return te!==z}),document.removeEventListener("wheel",U,nonPassive),document.removeEventListener("touchmove",U,nonPassive),document.removeEventListener("touchstart",q,nonPassive)}},[]);var Q=_.removeScrollBar,ee=_.inert;return reactExports.createElement(reactExports.Fragment,null,ee?reactExports.createElement(z,{styles:generateStyle(O)}):null,Q?reactExports.createElement(RemoveScrollBar,{noRelative:_.noRelative,gapMode:_.gapMode}):null)}function getOutermostShadowParent(_){for(var R=null;_!==null;)_ instanceof ShadowRoot&&(R=_.host,_=_.host),_=_.parentNode;return R}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(_,R){return reactExports.createElement(RemoveScroll,__assign({},_,{ref:R,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection(SELECT_NAME),[createSelectContext]=createContextScope$1(SELECT_NAME,[createCollectionScope$3,createPopperScope]),usePopperScope=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=_=>{const{__scopeSelect:R,children:P,open:I,defaultOpen:O,onOpenChange:z,value:L,defaultValue:F,onValueChange:U,dir:V,name:q,autoComplete:W,disabled:Y,required:Q,form:ee}=_,te=usePopperScope(R),[ie,ae]=reactExports.useState(null),[se,le]=reactExports.useState(null),[ce,fe]=reactExports.useState(!1),de=useDirection(V),[he,pe]=useControllableState({prop:I,defaultProp:O??!1,onChange:z,caller:SELECT_NAME}),[ge,be]=useControllableState({prop:L,defaultProp:F,onChange:U,caller:SELECT_NAME}),xe=reactExports.useRef(null),_e=ie?ee||!!ie.closest("form"):!0,[Se,me]=reactExports.useState(new Set),Ce=Array.from(Se).map(Te=>Te.props.value).join(";");return jsxRuntimeExports.jsx(Root2$2,{...te,children:jsxRuntimeExports.jsxs(SelectProvider,{required:Q,scope:R,trigger:ie,onTriggerChange:ae,valueNode:se,onValueNodeChange:le,valueNodeHasChildren:ce,onValueNodeHasChildrenChange:fe,contentId:useId(),value:ge,onValueChange:be,open:he,onOpenChange:pe,dir:de,triggerPointerDownPosRef:xe,disabled:Y,children:[jsxRuntimeExports.jsx(Collection$3.Provider,{scope:R,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:_.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(Te=>{me(Re=>new Set(Re).add(Te))},[]),onNativeOptionRemove:reactExports.useCallback(Te=>{me(Re=>{const Pe=new Set(Re);return Pe.delete(Te),Pe})},[]),children:P})}),_e?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:Q,tabIndex:-1,name:q,autoComplete:W,value:ge,onChange:Te=>be(Te.target.value),disabled:Y,form:ee,children:[ge===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(Se)]},Ce):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$3="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,disabled:I=!1,...O}=_,z=usePopperScope(P),L=useSelectContext(TRIGGER_NAME$3,P),F=L.disabled||I,U=useComposedRefs(R,L.onTriggerChange),V=useCollection$3(P),q=reactExports.useRef("touch"),[W,Y,Q]=useTypeaheadSearch(te=>{const ie=V().filter(le=>!le.disabled),ae=ie.find(le=>le.value===L.value),se=findNextItem(ie,te,ae);se!==void 0&&L.onValueChange(se.value)}),ee=te=>{F||(L.onOpenChange(!0),Q()),te&&(L.triggerPointerDownPosRef.current={x:Math.round(te.pageX),y:Math.round(te.pageY)})};return jsxRuntimeExports.jsx(Anchor$1,{asChild:!0,...z,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"combobox","aria-controls":L.contentId,"aria-expanded":L.open,"aria-required":L.required,"aria-autocomplete":"none",dir:L.dir,"data-state":L.open?"open":"closed",disabled:F,"data-disabled":F?"":void 0,"data-placeholder":shouldShowPlaceholder(L.value)?"":void 0,...O,ref:U,onClick:composeEventHandlers$1(O.onClick,te=>{te.currentTarget.focus(),q.current!=="mouse"&&ee(te)}),onPointerDown:composeEventHandlers$1(O.onPointerDown,te=>{q.current=te.pointerType;const ie=te.target;ie.hasPointerCapture(te.pointerId)&&ie.releasePointerCapture(te.pointerId),te.button===0&&te.ctrlKey===!1&&te.pointerType==="mouse"&&(ee(te),te.preventDefault())}),onKeyDown:composeEventHandlers$1(O.onKeyDown,te=>{const ie=W.current!=="";!(te.ctrlKey||te.altKey||te.metaKey)&&te.key.length===1&&Y(te.key),!(ie&&te.key===" ")&&OPEN_KEYS.includes(te.key)&&(ee(),te.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$3;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,className:I,style:O,children:z,placeholder:L="",...F}=_,U=useSelectContext(VALUE_NAME,P),{onValueNodeHasChildrenChange:V}=U,q=z!==void 0,W=useComposedRefs(R,U.onValueNodeChange);return useLayoutEffect2(()=>{V(q)},[V,q]),jsxRuntimeExports.jsx(Primitive$2.span,{...F,ref:W,style:{pointerEvents:"none"},children:shouldShowPlaceholder(U.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:L}):z})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,children:I,...O}=_;return jsxRuntimeExports.jsx(Primitive$2.span,{"aria-hidden":!0,...O,ref:R,children:I||""})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME="SelectPortal",SelectPortal=_=>jsxRuntimeExports.jsx(Portal$1,{asChild:!0,..._});SelectPortal.displayName=PORTAL_NAME;var CONTENT_NAME$3="SelectContent",SelectContent$1=reactExports.forwardRef((_,R)=>{const P=useSelectContext(CONTENT_NAME$3,_.__scopeSelect),[I,O]=reactExports.useState();if(useLayoutEffect2(()=>{O(new DocumentFragment)},[]),!P.open){const z=I;return z?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:_.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$3.Slot,{scope:_.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:_.children})})}),z):null}return jsxRuntimeExports.jsx(SelectContentImpl,{..._,ref:R})});SelectContent$1.displayName=CONTENT_NAME$3;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$3),CONTENT_IMPL_NAME="SelectContentImpl",Slot=createSlot("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,position:I="item-aligned",onCloseAutoFocus:O,onEscapeKeyDown:z,onPointerDownOutside:L,side:F,sideOffset:U,align:V,alignOffset:q,arrowPadding:W,collisionBoundary:Y,collisionPadding:Q,sticky:ee,hideWhenDetached:te,avoidCollisions:ie,...ae}=_,se=useSelectContext(CONTENT_NAME$3,P),[le,ce]=reactExports.useState(null),[fe,de]=reactExports.useState(null),he=useComposedRefs(R,He=>ce(He)),[pe,ge]=reactExports.useState(null),[be,xe]=reactExports.useState(null),_e=useCollection$3(P),[Se,me]=reactExports.useState(!1),Ce=reactExports.useRef(!1);reactExports.useEffect(()=>{if(le)return hideOthers(le)},[le]),useFocusGuards();const Te=reactExports.useCallback(He=>{const[Ze,...Le]=_e().map(Ve=>Ve.ref.current),[Xe]=Le.slice(-1),Ye=document.activeElement;for(const Ve of He)if(Ve===Ye||(Ve?.scrollIntoView({block:"nearest"}),Ve===Ze&&fe&&(fe.scrollTop=0),Ve===Xe&&fe&&(fe.scrollTop=fe.scrollHeight),Ve?.focus(),document.activeElement!==Ye))return},[_e,fe]),Re=reactExports.useCallback(()=>Te([pe,le]),[Te,pe,le]);reactExports.useEffect(()=>{Se&&Re()},[Se,Re]);const{onOpenChange:Pe,triggerPointerDownPosRef:Me}=se;reactExports.useEffect(()=>{if(le){let He={x:0,y:0};const Ze=Xe=>{He={x:Math.abs(Math.round(Xe.pageX)-(Me.current?.x??0)),y:Math.abs(Math.round(Xe.pageY)-(Me.current?.y??0))}},Le=Xe=>{He.x<=10&&He.y<=10?Xe.preventDefault():le.contains(Xe.target)||Pe(!1),document.removeEventListener("pointermove",Ze),Me.current=null};return Me.current!==null&&(document.addEventListener("pointermove",Ze),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ze),document.removeEventListener("pointerup",Le,{capture:!0})}}},[le,Pe,Me]),reactExports.useEffect(()=>{const He=()=>Pe(!1);return window.addEventListener("blur",He),window.addEventListener("resize",He),()=>{window.removeEventListener("blur",He),window.removeEventListener("resize",He)}},[Pe]);const[Ae,we]=useTypeaheadSearch(He=>{const Ze=_e().filter(Ye=>!Ye.disabled),Le=Ze.find(Ye=>Ye.ref.current===document.activeElement),Xe=findNextItem(Ze,He,Le);Xe&&setTimeout(()=>Xe.ref.current.focus())}),ke=reactExports.useCallback((He,Ze,Le)=>{const Xe=!Ce.current&&!Le;(se.value!==void 0&&se.value===Ze||Xe)&&(ge(He),Xe&&(Ce.current=!0))},[se.value]),Ee=reactExports.useCallback(()=>le?.focus(),[le]),ze=reactExports.useCallback((He,Ze,Le)=>{const Xe=!Ce.current&&!Le;(se.value!==void 0&&se.value===Ze||Xe)&&xe(He)},[se.value]),je=I==="popper"?SelectPopperPosition:SelectItemAlignedPosition,Ke=je===SelectPopperPosition?{side:F,sideOffset:U,align:V,alignOffset:q,arrowPadding:W,collisionBoundary:Y,collisionPadding:Q,sticky:ee,hideWhenDetached:te,avoidCollisions:ie}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:P,content:le,viewport:fe,onViewportChange:de,itemRefCallback:ke,selectedItem:pe,onItemLeave:Ee,itemTextRefCallback:ze,focusSelectedItem:Re,selectedItemText:be,position:I,isPositioned:Se,searchRef:Ae,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:se.open,onMountAutoFocus:He=>{He.preventDefault()},onUnmountAutoFocus:composeEventHandlers$1(O,He=>{se.trigger?.focus({preventScroll:!0}),He.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:z,onPointerDownOutside:L,onFocusOutside:He=>He.preventDefault(),onDismiss:()=>se.onOpenChange(!1),children:jsxRuntimeExports.jsx(je,{role:"listbox",id:se.contentId,"data-state":se.open?"open":"closed",dir:se.dir,onContextMenu:He=>He.preventDefault(),...ae,...Ke,onPlaced:()=>me(!0),ref:he,style:{display:"flex",flexDirection:"column",outline:"none",...ae.style},onKeyDown:composeEventHandlers$1(ae.onKeyDown,He=>{const Ze=He.ctrlKey||He.altKey||He.metaKey;if(He.key==="Tab"&&He.preventDefault(),!Ze&&He.key.length===1&&we(He.key),["ArrowUp","ArrowDown","Home","End"].includes(He.key)){let Xe=_e().filter(Ye=>!Ye.disabled).map(Ye=>Ye.ref.current);if(["ArrowUp","End"].includes(He.key)&&(Xe=Xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(He.key)){const Ye=He.target,Ve=Xe.indexOf(Ye);Xe=Xe.slice(Ve+1)}setTimeout(()=>Te(Xe)),He.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,onPlaced:I,...O}=_,z=useSelectContext(CONTENT_NAME$3,P),L=useSelectContentContext(CONTENT_NAME$3,P),[F,U]=reactExports.useState(null),[V,q]=reactExports.useState(null),W=useComposedRefs(R,he=>q(he)),Y=useCollection$3(P),Q=reactExports.useRef(!1),ee=reactExports.useRef(!0),{viewport:te,selectedItem:ie,selectedItemText:ae,focusSelectedItem:se}=L,le=reactExports.useCallback(()=>{if(z.trigger&&z.valueNode&&F&&V&&te&&ie&&ae){const he=z.trigger.getBoundingClientRect(),pe=V.getBoundingClientRect(),ge=z.valueNode.getBoundingClientRect(),be=ae.getBoundingClientRect();if(z.dir!=="rtl"){const Ye=be.left-pe.left,Ve=ge.left-Ye,dt=he.left-Ve,ye=he.width+dt,Ge=Math.max(ye,pe.width),Fe=window.innerWidth-CONTENT_MARGIN,Ie=clamp$1(Ve,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,Fe-Ge)]);F.style.minWidth=ye+"px",F.style.left=Ie+"px"}else{const Ye=pe.right-be.right,Ve=window.innerWidth-ge.right-Ye,dt=window.innerWidth-he.right-Ve,ye=he.width+dt,Ge=Math.max(ye,pe.width),Fe=window.innerWidth-CONTENT_MARGIN,Ie=clamp$1(Ve,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,Fe-Ge)]);F.style.minWidth=ye+"px",F.style.right=Ie+"px"}const xe=Y(),_e=window.innerHeight-CONTENT_MARGIN*2,Se=te.scrollHeight,me=window.getComputedStyle(V),Ce=parseInt(me.borderTopWidth,10),Te=parseInt(me.paddingTop,10),Re=parseInt(me.borderBottomWidth,10),Pe=parseInt(me.paddingBottom,10),Me=Ce+Te+Se+Pe+Re,Ae=Math.min(ie.offsetHeight*5,Me),we=window.getComputedStyle(te),ke=parseInt(we.paddingTop,10),Ee=parseInt(we.paddingBottom,10),ze=he.top+he.height/2-CONTENT_MARGIN,je=_e-ze,Ke=ie.offsetHeight/2,He=ie.offsetTop+Ke,Ze=Ce+Te+He,Le=Me-Ze;if(Ze<=ze){const Ye=xe.length>0&&ie===xe[xe.length-1].ref.current;F.style.bottom="0px";const Ve=V.clientHeight-te.offsetTop-te.offsetHeight,dt=Math.max(je,Ke+(Ye?Ee:0)+Ve+Re),ye=Ze+dt;F.style.height=ye+"px"}else{const Ye=xe.length>0&&ie===xe[0].ref.current;F.style.top="0px";const dt=Math.max(ze,Ce+te.offsetTop+(Ye?ke:0)+Ke)+Le;F.style.height=dt+"px",te.scrollTop=Ze-ze+te.offsetTop}F.style.margin=`${CONTENT_MARGIN}px 0`,F.style.minHeight=Ae+"px",F.style.maxHeight=_e+"px",I?.(),requestAnimationFrame(()=>Q.current=!0)}},[Y,z.trigger,z.valueNode,F,V,te,ie,ae,z.dir,I]);useLayoutEffect2(()=>le(),[le]);const[ce,fe]=reactExports.useState();useLayoutEffect2(()=>{V&&fe(window.getComputedStyle(V).zIndex)},[V]);const de=reactExports.useCallback(he=>{he&&ee.current===!0&&(le(),se?.(),ee.current=!1)},[le,se]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:P,contentWrapper:F,shouldExpandOnScrollRef:Q,onScrollButtonChange:de,children:jsxRuntimeExports.jsx("div",{ref:U,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:ce},children:jsxRuntimeExports.jsx(Primitive$2.div,{...O,ref:W,style:{boxSizing:"border-box",maxHeight:"100%",...O.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,align:I="start",collisionPadding:O=CONTENT_MARGIN,...z}=_,L=usePopperScope(P);return jsxRuntimeExports.jsx(Content$2,{...L,...z,ref:R,align:I,collisionPadding:O,style:{boxSizing:"border-box",...z.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$3,{}),VIEWPORT_NAME$1="SelectViewport",SelectViewport=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,nonce:I,...O}=_,z=useSelectContentContext(VIEWPORT_NAME$1,P),L=useSelectViewportContext(VIEWPORT_NAME$1,P),F=useComposedRefs(R,z.onViewportChange),U=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:I}),jsxRuntimeExports.jsx(Collection$3.Slot,{scope:P,children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-radix-select-viewport":"",role:"presentation",...O,ref:F,style:{position:"relative",flex:1,overflow:"hidden auto",...O.style},onScroll:composeEventHandlers$1(O.onScroll,V=>{const q=V.currentTarget,{contentWrapper:W,shouldExpandOnScrollRef:Y}=L;if(Y?.current&&W){const Q=Math.abs(U.current-q.scrollTop);if(Q>0){const ee=window.innerHeight-CONTENT_MARGIN*2,te=parseFloat(W.style.minHeight),ie=parseFloat(W.style.height),ae=Math.max(te,ie);if(ae<ee){const se=ae+Q,le=Math.min(ee,se),ce=se-le;W.style.height=le+"px",W.style.bottom==="0px"&&(q.scrollTop=ce>0?ce:0,W.style.justifyContent="flex-end")}}}U.current=q.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME$1;var GROUP_NAME$1="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME$1),SelectGroup=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,...I}=_,O=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:P,id:O,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"group","aria-labelledby":O,...I,ref:R})})});SelectGroup.displayName=GROUP_NAME$1;var LABEL_NAME="SelectLabel",SelectLabel$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,...I}=_,O=useSelectGroupContext(LABEL_NAME,P);return jsxRuntimeExports.jsx(Primitive$2.div,{id:O.id,...I,ref:R})});SelectLabel$1.displayName=LABEL_NAME;var ITEM_NAME$2="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME$2),SelectItem$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,value:I,disabled:O=!1,textValue:z,...L}=_,F=useSelectContext(ITEM_NAME$2,P),U=useSelectContentContext(ITEM_NAME$2,P),V=F.value===I,[q,W]=reactExports.useState(z??""),[Y,Q]=reactExports.useState(!1),ee=useComposedRefs(R,se=>U.itemRefCallback?.(se,I,O)),te=useId(),ie=reactExports.useRef("touch"),ae=()=>{O||(F.onValueChange(I),F.onOpenChange(!1))};if(I==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:P,value:I,disabled:O,textId:te,isSelected:V,onItemTextChange:reactExports.useCallback(se=>{W(le=>le||(se?.textContent??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:P,value:I,disabled:O,textValue:q,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"option","aria-labelledby":te,"data-highlighted":Y?"":void 0,"aria-selected":V&&Y,"data-state":V?"checked":"unchecked","aria-disabled":O||void 0,"data-disabled":O?"":void 0,tabIndex:O?void 0:-1,...L,ref:ee,onFocus:composeEventHandlers$1(L.onFocus,()=>Q(!0)),onBlur:composeEventHandlers$1(L.onBlur,()=>Q(!1)),onClick:composeEventHandlers$1(L.onClick,()=>{ie.current!=="mouse"&&ae()}),onPointerUp:composeEventHandlers$1(L.onPointerUp,()=>{ie.current==="mouse"&&ae()}),onPointerDown:composeEventHandlers$1(L.onPointerDown,se=>{ie.current=se.pointerType}),onPointerMove:composeEventHandlers$1(L.onPointerMove,se=>{ie.current=se.pointerType,O?U.onItemLeave?.():ie.current==="mouse"&&se.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers$1(L.onPointerLeave,se=>{se.currentTarget===document.activeElement&&U.onItemLeave?.()}),onKeyDown:composeEventHandlers$1(L.onKeyDown,se=>{U.searchRef?.current!==""&&se.key===" "||(SELECTION_KEYS.includes(se.key)&&ae(),se.key===" "&&se.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME$2;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,className:I,style:O,...z}=_,L=useSelectContext(ITEM_TEXT_NAME,P),F=useSelectContentContext(ITEM_TEXT_NAME,P),U=useSelectItemContext(ITEM_TEXT_NAME,P),V=useSelectNativeOptionsContext(ITEM_TEXT_NAME,P),[q,W]=reactExports.useState(null),Y=useComposedRefs(R,ae=>W(ae),U.onItemTextChange,ae=>F.itemTextRefCallback?.(ae,U.value,U.disabled)),Q=q?.textContent,ee=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:U.value,disabled:U.disabled,children:Q},U.value),[U.disabled,U.value,Q]),{onNativeOptionAdd:te,onNativeOptionRemove:ie}=V;return useLayoutEffect2(()=>(te(ee),()=>ie(ee)),[te,ie,ee]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive$2.span,{id:U.textId,...z,ref:Y}),U.isSelected&&L.valueNode&&!L.valueNodeHasChildren?reactDomExports.createPortal(z.children,L.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,...I}=_;return useSelectItemContext(ITEM_INDICATOR_NAME,P).isSelected?jsxRuntimeExports.jsx(Primitive$2.span,{"aria-hidden":!0,...I,ref:R}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((_,R)=>{const P=useSelectContentContext(SCROLL_UP_BUTTON_NAME,_.__scopeSelect),I=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,_.__scopeSelect),[O,z]=reactExports.useState(!1),L=useComposedRefs(R,I.onScrollButtonChange);return useLayoutEffect2(()=>{if(P.viewport&&P.isPositioned){let F=function(){const V=U.scrollTop>0;z(V)};const U=P.viewport;return F(),U.addEventListener("scroll",F),()=>U.removeEventListener("scroll",F)}},[P.viewport,P.isPositioned]),O?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{..._,ref:L,onAutoScroll:()=>{const{viewport:F,selectedItem:U}=P;F&&U&&(F.scrollTop=F.scrollTop-U.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((_,R)=>{const P=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,_.__scopeSelect),I=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,_.__scopeSelect),[O,z]=reactExports.useState(!1),L=useComposedRefs(R,I.onScrollButtonChange);return useLayoutEffect2(()=>{if(P.viewport&&P.isPositioned){let F=function(){const V=U.scrollHeight-U.clientHeight,q=Math.ceil(U.scrollTop)<V;z(q)};const U=P.viewport;return F(),U.addEventListener("scroll",F),()=>U.removeEventListener("scroll",F)}},[P.viewport,P.isPositioned]),O?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{..._,ref:L,onAutoScroll:()=>{const{viewport:F,selectedItem:U}=P;F&&U&&(F.scrollTop=F.scrollTop+U.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,onAutoScroll:I,...O}=_,z=useSelectContentContext("SelectScrollButton",P),L=reactExports.useRef(null),F=useCollection$3(P),U=reactExports.useCallback(()=>{L.current!==null&&(window.clearInterval(L.current),L.current=null)},[]);return reactExports.useEffect(()=>()=>U(),[U]),useLayoutEffect2(()=>{F().find(q=>q.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[F]),jsxRuntimeExports.jsx(Primitive$2.div,{"aria-hidden":!0,...O,ref:R,style:{flexShrink:0,...O.style},onPointerDown:composeEventHandlers$1(O.onPointerDown,()=>{L.current===null&&(L.current=window.setInterval(I,50))}),onPointerMove:composeEventHandlers$1(O.onPointerMove,()=>{z.onItemLeave?.(),L.current===null&&(L.current=window.setInterval(I,50))}),onPointerLeave:composeEventHandlers$1(O.onPointerLeave,()=>{U()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,...I}=_;return jsxRuntimeExports.jsx(Primitive$2.div,{"aria-hidden":!0,...I,ref:R})});SelectSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME="SelectArrow",SelectArrow=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,...I}=_,O=usePopperScope(P),z=useSelectContext(ARROW_NAME,P),L=useSelectContentContext(ARROW_NAME,P);return z.open&&L.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...O,...I,ref:R}):null});SelectArrow.displayName=ARROW_NAME;var BUBBLE_INPUT_NAME$1="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:_,value:R,...P},I)=>{const O=reactExports.useRef(null),z=useComposedRefs(I,O),L=usePrevious(R);return reactExports.useEffect(()=>{const F=O.current;if(!F)return;const U=window.HTMLSelectElement.prototype,q=Object.getOwnPropertyDescriptor(U,"value").set;if(L!==R&&q){const W=new Event("change",{bubbles:!0});q.call(F,R),F.dispatchEvent(W)}},[L,R]),jsxRuntimeExports.jsx(Primitive$2.select,{...P,style:{...VISUALLY_HIDDEN_STYLES,...P.style},ref:z,defaultValue:R})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME$1;function shouldShowPlaceholder(_){return _===""||_===void 0}function useTypeaheadSearch(_){const R=useCallbackRef$1(_),P=reactExports.useRef(""),I=reactExports.useRef(0),O=reactExports.useCallback(L=>{const F=P.current+L;R(F),(function U(V){P.current=V,window.clearTimeout(I.current),V!==""&&(I.current=window.setTimeout(()=>U(""),1e3))})(F)},[R]),z=reactExports.useCallback(()=>{P.current="",window.clearTimeout(I.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(I.current),[]),[P,O,z]}function findNextItem(_,R,P){const O=R.length>1&&Array.from(R).every(V=>V===R[0])?R[0]:R,z=P?_.indexOf(P):-1;let L=wrapArray$1(_,Math.max(z,0));O.length===1&&(L=L.filter(V=>V!==P));const U=L.find(V=>V.textValue.toLowerCase().startsWith(O.toLowerCase()));return U!==P?U:void 0}function wrapArray$1(_,R){return _.map((P,I)=>_[(R+I)%_.length])}var Root2$1=Select$1,Trigger$2=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal=SelectPortal,Content2$1=SelectContent$1,Viewport$1=SelectViewport,Label=SelectLabel$1,Item$2=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator$2=SelectSeparator$1;const Select=Root2$1,SelectValue=Value,SelectTrigger=reactExports.forwardRef(({className:_,children:R,...P},I)=>jsxRuntimeExports.jsxs(Trigger$2,{ref:I,className:cn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",_),...P,children:[R,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=Trigger$2.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:P,className:cn("flex cursor-default items-center justify-center py-1",_),...R,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:P,className:cn("flex cursor-default items-center justify-center py-1",_),...R,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=reactExports.forwardRef(({className:_,children:R,position:P="popper",...I},O)=>jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsxs(Content2$1,{ref:O,className:cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden bg-secondary rounded-md border text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",P==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",_),position:P,...I,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport$1,{className:cn("p-1",P==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:R}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2$1.displayName;const SelectLabel=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(Label,{ref:P,className:cn("py-1.5 pl-8 pr-2 text-sm font-semibold",_),...R}));SelectLabel.displayName=Label.displayName;const SelectItem=reactExports.forwardRef(({className:_,children:R,...P},I)=>jsxRuntimeExports.jsxs(Item$2,{ref:I,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",_),...P,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:R})]}));SelectItem.displayName=Item$2.displayName;const SelectSeparator=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(Separator$2,{ref:P,className:cn("-mx-1 my-1 h-px bg-muted",_),...R}));SelectSeparator.displayName=Separator$2.displayName;function ComboBox({label:_,value:R,options:P,onChange:I,disabled:O,placeholder:z}){return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs w-32 shrink-0",children:_}),jsxRuntimeExports.jsxs(Select,{value:R,onValueChange:I,disabled:O,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 text-xs w-32",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:z??"Select..."})}),jsxRuntimeExports.jsx(SelectContent,{children:P.map(L=>jsxRuntimeExports.jsx(SelectItem,{value:L.value,className:"text-xs",children:L.label},L.value))})]})]})}function EHTParametersTab({params:_,onChange:R,disabled:P}){const I=(z,L)=>{const F=structuredClone(_);F.general[z]=L,R(F)},O=_.general;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"General"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(NumberInput,{label:"End Time (h)",value:O.t_end,onChange:z=>I("t_end",z),disabled:P,min:0}),jsxRuntimeExports.jsx(IntegerInput,{label:"Random Seed",value:O.random_seed,onChange:z=>I("random_seed",z),disabled:P}),jsxRuntimeExports.jsx(NumberInput,{label:"Out-of-plane Division Prob.",value:O.p_div_out,onChange:z=>I("p_div_out",z),disabled:P,min:0,max:1})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Geometry"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(BoolInput,{label:"Full Circle",value:O.full_circle,onChange:z=>I("full_circle",z),disabled:P}),jsxRuntimeExports.jsx(NumberInput,{label:"Initial Width",value:O.w_init,onChange:z=>I("w_init",z),disabled:P,min:0}),jsxRuntimeExports.jsx(NumberInput,{label:"Initial Height",value:O.h_init,onChange:z=>I("h_init",z),disabled:P,min:0}),jsxRuntimeExports.jsx(NumberInput,{label:"Perimeter",value:O.perimeter,onChange:z=>I("perimeter",z),disabled:P,min:1}),jsxRuntimeExports.jsx(NumberInput,{label:"Aspect (0=line, b/a)",value:O.aspect_ratio,onChange:z=>I("aspect_ratio",z),disabled:P})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Model Parameters"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(BoolInput,{label:"Hard Sphere Nuclei",value:O.hard_sphere_nuclei,onChange:z=>I("hard_sphere_nuclei",z),disabled:P}),jsxRuntimeExports.jsx(NumberInput,{label:"Friction (mu)",value:O.mu,onChange:z=>I("mu",z),disabled:P,min:0})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Display"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(IntegerInput,{label:"Screen Width",value:O.w_screen,onChange:z=>I("w_screen",z),disabled:P,min:10}),jsxRuntimeExports.jsx(IntegerInput,{label:"Screen Height",value:O.h_screen,onChange:z=>I("h_screen",z),disabled:P,min:10})]})]})]})}const buttonVariants=cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-play text-play-foreground hover:bg-play/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:_,variant:R,size:P,asChild:I=!1,...O},z)=>{const L=I?Slot$1:"button";return jsxRuntimeExports.jsx(L,{className:cn(buttonVariants({variant:R,size:P,className:_})),ref:z,...O})});Button.displayName="Button";const SECTIONS=[{key:"initial",label:"Initial Setup",fields:["N_init","location"]},{key:"geometry",label:"Geometry",fields:["R_hard","R_hard_div","R_soft"]},{key:"appearance",label:"Appearance",fields:["color"]},{key:"stiffness",label:"Stiffness",fields:["k_apical_junction","k_cytos","stiffness_apical_apical","stiffness_apical_apical_div","stiffness_nuclei_apical","stiffness_nuclei_basal","stiffness_repulsion","stiffness_straightness"]},{key:"division",label:"Division & Lifecycle",fields:["lifespan_start","lifespan_end","dur_G2","dur_mitosis","INM"]},{key:"cellTypeProps",label:"Cell-Type Properties",fields:["diffusion","basal_damping_ratio","max_basal_junction_dist","cytos_init","basal_membrane_repulsion","apical_junction_init","max_cytoskeleton_length"]},{key:"events",label:"EMT Events (time ranges)",fields:["hetero","events"]},{key:"running",label:"Running Behavior",fields:["run","running_speed","running_mode"]}];function CellTypeRow({label:_,tooltip:R,children:P}){return jsxRuntimeExports.jsxs("tr",{className:"border-b border-border/50 hover:bg-muted/30",children:[jsxRuntimeExports.jsx("td",{className:"py-1.5 px-2 text-xs font-medium w-36",title:R,children:_}),P]})}function NumberCell({value:_,onChange:R,disabled:P,step:I,min:O,max:z}){const L=F=>{const U=parseFloat(F.target.value);if(!isNaN(U)){let V=U;O!==void 0&&(V=Math.max(O,V)),z!==void 0&&(V=Math.min(z,V)),R(V)}};return jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsx(Input,{type:"number",value:_,onChange:L,disabled:P,step:I,min:O,max:z,className:"h-6 text-xs w-20"})})}function StringCell({value:_,onChange:R,disabled:P}){const I=O=>{R(O.target.value)};return jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsx(Input,{type:"text",value:_,onChange:I,disabled:P,className:"h-6 text-xs w-24"})})}function SplitRangeCell({valueStart:_,valueEnd:R,onChangeStart:P,onChangeEnd:I,disabled:O,label:z}){const L=isFinite(_),F=isFinite(R),U=Q=>{z==="start"?P(Q?0:1/0):I(Q?1:1/0)},V=Q=>{const ee=parseFloat(Q.target.value);Q.target.value===""?z==="start"?P(1/0):I(1/0):isNaN(ee)||(z==="start"?P(ee):I(ee))},q=z==="start"?L:F,W=z==="start"?_:R,Y=isFinite(W)?W:"";return jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Checkbox,{checked:q,onCheckedChange:U,disabled:O,title:"Active (enabled when checked)"}),q?jsxRuntimeExports.jsx(Input,{type:"number",value:Y,onChange:V,disabled:O,className:"h-6 text-xs w-20"}):jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground w-20",children:"-"})]})})}function BoolCell({value:_,onChange:R,disabled:P}){return jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsx(Checkbox,{checked:_,onCheckedChange:I=>R(I===!0),disabled:P})})}function rgbToHex$1(_){const R=_.r>1?_.r:Math.round(_.r*255),P=_.g>1?_.g:Math.round(_.g*255),I=_.b>1?_.b:Math.round(_.b*255);return`#${R.toString(16).padStart(2,"0")}${P.toString(16).padStart(2,"0")}${I.toString(16).padStart(2,"0")}`}function hexToRgb(_){const R=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(_);return R?{r:parseInt(R[1],16),g:parseInt(R[2],16),b:parseInt(R[3],16)}:{r:0,g:0,b:0}}function ColorCell({value:_,onChange:R,disabled:P}){const I=rgbToHex$1(_),O=z=>{const L=hexToRgb(z.target.value);R(L)};return jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsx(Input,{type:"color",value:I,onChange:O,disabled:P,className:"h-6 w-10 p-0.5 cursor-pointer"})})}function SectionHeader({section:_,cellTypeKeys:R,disabled:P,params:I,onChange:O}){const[z,L]=reactExports.useState({}),F=reactExports.useCallback(W=>{if(W===1/0)return"Infinity";if(W===-1/0)return"-Infinity";if(typeof W=="object"&&W!==null){if(Array.isArray(W))return W.map(F);const Y={};for(const[Q,ee]of Object.entries(W))Y[Q]=F(ee);return Y}return W},[]),U=reactExports.useCallback(W=>{if(W==="Infinity")return 1/0;if(W==="-Infinity")return-1/0;if(typeof W=="object"&&W!==null){if(Array.isArray(W))return W.map(U);const Y={};for(const[Q,ee]of Object.entries(W))Y[Q]=U(ee);return Y}return W},[]),V=reactExports.useCallback(async W=>{const Y=I.cell_types[W],Q={};for(const te of _.fields)Q[te]=F(structuredClone(Y[te]));const ee=JSON.stringify({section:_.key,cellType:W,data:Q},null,2);await navigator.clipboard.writeText(ee)},[I.cell_types,_,F]),q=reactExports.useCallback(async W=>{try{const Y=await navigator.clipboard.readText(),Q=JSON.parse(Y);if(Q.section!==_.key||!Q.data){L(ie=>({...ie,[W]:"error"})),setTimeout(()=>L(ie=>({...ie,[W]:"idle"})),2e3);return}const ee=structuredClone(I),te=ee.cell_types[W];for(const ie of _.fields)ie in Q.data&&(te[ie]=U(structuredClone(Q.data[ie])));O(ee),L(ie=>({...ie,[W]:"success"})),setTimeout(()=>L(ie=>({...ie,[W]:"idle"})),2e3)}catch{L(Y=>({...Y,[W]:"error"})),setTimeout(()=>L(Y=>({...Y,[W]:"idle"})),2e3)}},[I,_,O,U]);return jsxRuntimeExports.jsxs("tr",{className:"bg-muted/50",children:[jsxRuntimeExports.jsx("td",{className:"py-1 px-2",children:jsxRuntimeExports.jsx("span",{className:"text-xs font-semibold text-muted-foreground",children:_.label})}),R.map(W=>jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-0.5",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>V(W),disabled:P,className:"h-5 w-5",title:`Copy ${_.label} from ${W}`,children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>q(W),disabled:P,className:`h-5 w-5 ${z[W]==="success"?"text-green-500":z[W]==="error"?"text-red-500":""}`,title:`Paste ${_.label} to ${W}`,children:jsxRuntimeExports.jsx(ClipboardPaste,{className:"h-3 w-3"})})]})},W))]})}function EHTCellTypesTab({params:_,onChange:R,disabled:P}){const[I,O]=reactExports.useState(""),z=Object.keys(_.cell_types),L=(ee,te,ie)=>{const ae=structuredClone(_);ae.cell_types[ee][te]=ie,R(ae)},F=(ee,te,ie)=>{const ae=structuredClone(_);ae.cell_types[ee].events[`${te}_start`]=ie,R(ae)},U=(ee,te,ie)=>{const ae=structuredClone(_);ae.cell_types[ee].events[`${te}_end`]=ie,R(ae)},V=reactExports.useCallback(ee=>{const te=structuredClone(_);let ie=1,ae=`type_${ie}`;for(;te.cell_types[ae];)ie++,ae=`type_${ie}`;if(ee&&_.cell_types[ee]){const se=_.cell_types[ee],le={...structuredClone(se),N_init:0,color:{r:Math.floor(Math.random()*200)+50,g:Math.floor(Math.random()*200)+50,b:Math.floor(Math.random()*200)+50}};te.cell_types[ae]=le}else{const se={...structuredClone(DEFAULT_CONTROL_CELL),N_init:0,location:"",color:{r:Math.floor(Math.random()*200)+50,g:Math.floor(Math.random()*200)+50,b:Math.floor(Math.random()*200)+50}};te.cell_types[ae]=se}R(te)},[_,R]),q=ee=>{if(z.length<=1)return;const te=structuredClone(_);delete te.cell_types[ee],R(te)},W=(ee,te)=>{if(!te.trim()||te===ee||_.cell_types[te])return;const ie=structuredClone(_);ie.cell_types[te]=ie.cell_types[ee],delete ie.cell_types[ee],R(ie)},Y=ee=>_.cell_types[ee],Q=reactExports.useCallback(()=>{V(I==="__new__"?void 0:I),O("__new__")},[V,I]);return jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto overflow-y-auto max-h-[600px]",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-end items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"Copy from:"}),jsxRuntimeExports.jsxs(Select,{value:I||"__new__",onValueChange:O,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 w-28 text-xs",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"(new)"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"__new__",children:"(new)"}),z.map(ee=>jsxRuntimeExports.jsx(SelectItem,{value:ee,children:ee},ee))]})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Q,disabled:P,className:"gap-1",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),"Add Cell Type"]})]}),jsxRuntimeExports.jsxs("table",{className:"min-w-full text-xs",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b-2 border-border",children:[jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-semibold",children:"Parameter"}),z.map(ee=>jsxRuntimeExports.jsx("th",{className:"py-2 px-1 text-left",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Input,{defaultValue:ee,onBlur:te=>W(ee,te.target.value),onKeyDown:te=>{te.key==="Enter"&&(W(ee,te.currentTarget.value),te.currentTarget.blur())},disabled:P,className:"h-6 text-xs font-semibold w-24"}),z.length>1&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>q(ee),disabled:P,className:"h-6 w-6 text-muted-foreground hover:text-destructive",children:jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3"})})]})},ee))]})}),jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[0],cellTypeKeys:z,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"N Init",tooltip:"Initial number of cells of this type",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).N_init,onChange:te=>L(ee,"N_init",Math.round(te)),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Location",tooltip:'Predefined location along basal membrane: "top", "bottom", "rest" or numeric value in [-1, 1]',children:z.map(ee=>jsxRuntimeExports.jsx(StringCell,{value:Y(ee).location,onChange:te=>L(ee,"location",te),disabled:P},ee))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[1],cellTypeKeys:z,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"R Hard",tooltip:"Hard sphere radius",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).R_hard,onChange:te=>L(ee,"R_hard",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"R Hard (div)",tooltip:"Hard sphere radius during division",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).R_hard_div,onChange:te=>L(ee,"R_hard_div",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"R Soft",tooltip:"Soft interaction radius",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).R_soft,onChange:te=>L(ee,"R_soft",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[2],cellTypeKeys:z,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Color",children:z.map(ee=>jsxRuntimeExports.jsx(ColorCell,{value:Y(ee).color,onChange:te=>L(ee,"color",te),disabled:P},ee))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[3],cellTypeKeys:z,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"k Apical Junction",tooltip:"Apical junction spring constant",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).k_apical_junction,onChange:te=>L(ee,"k_apical_junction",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"k Cytos",tooltip:"Cytoskeleton relaxation rate",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).k_cytos,onChange:te=>L(ee,"k_cytos",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff Apical-Apical",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).stiffness_apical_apical,onChange:te=>L(ee,"stiffness_apical_apical",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff A-A (div)",tooltip:"Apical-Apical stiffness during division",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).stiffness_apical_apical_div,onChange:te=>L(ee,"stiffness_apical_apical_div",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff Nuclei-Apical",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).stiffness_nuclei_apical,onChange:te=>L(ee,"stiffness_nuclei_apical",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff Nuclei-Basal",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).stiffness_nuclei_basal,onChange:te=>L(ee,"stiffness_nuclei_basal",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff Repulsion",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).stiffness_repulsion,onChange:te=>L(ee,"stiffness_repulsion",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff Straightness",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).stiffness_straightness,onChange:te=>L(ee,"stiffness_straightness",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[4],cellTypeKeys:z,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Lifespan (start)",children:z.map(ee=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Y(ee).lifespan_start,valueEnd:Y(ee).lifespan_end,onChangeStart:te=>L(ee,"lifespan_start",te),onChangeEnd:te=>L(ee,"lifespan_end",te),disabled:P,label:"start"},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Lifespan (end)",children:z.map(ee=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Y(ee).lifespan_start,valueEnd:Y(ee).lifespan_end,onChangeStart:te=>L(ee,"lifespan_start",te),onChangeEnd:te=>L(ee,"lifespan_end",te),disabled:P,label:"end"},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"G2 Duration",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).dur_G2,onChange:te=>L(ee,"dur_G2",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Mitosis Duration",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).dur_mitosis,onChange:te=>L(ee,"dur_mitosis",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"INM",tooltip:"Interkinetic nuclear migration probability",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).INM,onChange:te=>L(ee,"INM",te),disabled:P,min:0,max:1},ee))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[5],cellTypeKeys:z,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Diffusion",tooltip:"Diffusion coefficient",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).diffusion,onChange:te=>L(ee,"diffusion",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Basal Damping",tooltip:"Basal damping ratio",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).basal_damping_ratio,onChange:te=>L(ee,"basal_damping_ratio",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Max Basal Junc Dist",tooltip:"Maximum basal junction distance",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).max_basal_junction_dist,onChange:te=>L(ee,"max_basal_junction_dist",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Cytos Init",tooltip:"Initial cytoskeleton length",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).cytos_init,onChange:te=>L(ee,"cytos_init",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Basal Repulsion",tooltip:"Basal membrane repulsion strength",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).basal_membrane_repulsion,onChange:te=>L(ee,"basal_membrane_repulsion",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Apical Junc Init",tooltip:"Initial apical junction distance",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).apical_junction_init,onChange:te=>L(ee,"apical_junction_init",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Max Cytos Length",tooltip:"Maximum cytoskeleton length",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).max_cytoskeleton_length,onChange:te=>L(ee,"max_cytoskeleton_length",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[6],cellTypeKeys:z,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Heterogeneous",children:z.map(ee=>jsxRuntimeExports.jsx(BoolCell,{value:Y(ee).hetero,onChange:te=>L(ee,"hetero",te),disabled:P},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time A start",children:z.map(ee=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Y(ee).events.time_A_start,valueEnd:Y(ee).events.time_A_end,onChangeStart:te=>F(ee,"time_A",te),onChangeEnd:te=>U(ee,"time_A",te),disabled:P,label:"start"},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time A end",children:z.map(ee=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Y(ee).events.time_A_start,valueEnd:Y(ee).events.time_A_end,onChangeStart:te=>F(ee,"time_A",te),onChangeEnd:te=>U(ee,"time_A",te),disabled:P,label:"end"},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time B start",children:z.map(ee=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Y(ee).events.time_B_start,valueEnd:Y(ee).events.time_B_end,onChangeStart:te=>F(ee,"time_B",te),onChangeEnd:te=>U(ee,"time_B",te),disabled:P,label:"start"},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time B end",children:z.map(ee=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Y(ee).events.time_B_start,valueEnd:Y(ee).events.time_B_end,onChangeStart:te=>F(ee,"time_B",te),onChangeEnd:te=>U(ee,"time_B",te),disabled:P,label:"end"},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time S start",children:z.map(ee=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Y(ee).events.time_S_start,valueEnd:Y(ee).events.time_S_end,onChangeStart:te=>F(ee,"time_S",te),onChangeEnd:te=>U(ee,"time_S",te),disabled:P,label:"start"},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time S end",children:z.map(ee=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Y(ee).events.time_S_start,valueEnd:Y(ee).events.time_S_end,onChangeStart:te=>F(ee,"time_S",te),onChangeEnd:te=>U(ee,"time_S",te),disabled:P,label:"end"},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time P start",children:z.map(ee=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Y(ee).events.time_P_start,valueEnd:Y(ee).events.time_P_end,onChangeStart:te=>F(ee,"time_P",te),onChangeEnd:te=>U(ee,"time_P",te),disabled:P,label:"start"},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time P end",children:z.map(ee=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Y(ee).events.time_P_start,valueEnd:Y(ee).events.time_P_end,onChangeStart:te=>F(ee,"time_P",te),onChangeEnd:te=>U(ee,"time_P",te),disabled:P,label:"end"},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time AC start",tooltip:"Apical Constriction - cuts links between this type and other types",children:z.map(ee=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Y(ee).events.time_AC_start,valueEnd:Y(ee).events.time_AC_end,onChangeStart:te=>F(ee,"time_AC",te),onChangeEnd:te=>U(ee,"time_AC",te),disabled:P,label:"start"},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time AC end",children:z.map(ee=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Y(ee).events.time_AC_start,valueEnd:Y(ee).events.time_AC_end,onChangeStart:te=>F(ee,"time_AC",te),onChangeEnd:te=>U(ee,"time_AC",te),disabled:P,label:"end"},ee))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[7],cellTypeKeys:z,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Run Probability",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).run,onChange:te=>L(ee,"run",te),disabled:P,min:0,max:1},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Running Speed",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).running_speed,onChange:te=>L(ee,"running_speed",te),disabled:P,min:0},ee))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Running Mode",tooltip:"0: none, 1: after extrusion, 2: retain length, 3: immediate",children:z.map(ee=>jsxRuntimeExports.jsx(NumberCell,{value:Y(ee).running_mode,onChange:te=>L(ee,"running_mode",Math.round(te)),disabled:P,min:0,max:3},ee))})]})]})]})}function EHTSimulationTab({params:_,onChange:R,disabled:P}){const I=(z,L)=>{const F=structuredClone(_);F.general[z]=L,R(F)},O=_.general;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Time Stepping"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(NumberInput,{label:"Time Step (dt)",value:O.dt,onChange:z=>I("dt",z),disabled:P,step:.01,min:.001}),jsxRuntimeExports.jsx(NumberInput,{label:"Algo Time Step",value:O.alg_dt,onChange:z=>I("alg_dt",z),disabled:P,step:.001,min:1e-4}),jsxRuntimeExports.jsx(IntegerInput,{label:"Substeps",value:O.n_substeps,onChange:z=>I("n_substeps",z),disabled:P,min:1})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-muted/50 rounded-md text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1",children:"Notes:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-0.5",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"dt"}),": Output time step (visualization/export interval)"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"alg_dt"}),": Internal algorithm time step for physics"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"n_substeps"}),": Number of physics steps per output step"]}),jsxRuntimeExports.jsx("li",{children:"Effective physics dt = alg_dt, run n_substeps times per dt"})]})]})]})}function EHTWarningBanner({params:_,onChange:R,disabled:P}){const I=_.general,{totalNInit:O,avgMaxBasalJunctionDist:z}=reactExports.useMemo(()=>{const U=Object.values(_.cell_types),V=U.reduce((Y,Q)=>Y+Q.N_init,0),q=U.reduce((Y,Q)=>Y+Q.N_init*Q.max_basal_junction_dist,0),W=V>0?q/V:U.length>0?U.reduce((Y,Q)=>Y+Q.max_basal_junction_dist,0)/U.length:4;return{totalNInit:V,avgMaxBasalJunctionDist:W}},[_.cell_types]),L=reactExports.useMemo(()=>{if(I.perimeter>0&&I.full_circle){const U=O*z;if(U<=I.perimeter)return{message:`Perimeter constraint violated: total cells (${O})  avg max_basal_junction_dist (${z.toFixed(1)}) = ${U.toFixed(1)}  perimeter (${I.perimeter.toFixed(1)}). Cells may not cover the membrane.`,maxCoverage:U}}return null},[O,I.perimeter,I.full_circle,z]),F=reactExports.useCallback(()=>{if(!R||!L)return;const U=I.perimeter+5,V=L.maxCoverage;if(V<=0)return;const q=U/V,W=structuredClone(_);for(const Y of Object.keys(W.cell_types))W.cell_types[Y].max_basal_junction_dist*=q;R(W)},[R,L,_,I.perimeter]);return L?jsxRuntimeExports.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-md text-xs text-yellow-600 dark:text-yellow-400 flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"flex-1",children:L.message}),R&&jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:F,disabled:P,className:"shrink-0 text-xs h-6 px-2",children:"Fix"})]}):null}const ehtUI={WarningBanner:EHTWarningBanner,ParametersTab:EHTParametersTab,CellTypesTab:EHTCellTypesTab,SimulationTab:EHTSimulationTab};function ramanujanPerimeter(_,R){if(_===0&&R===0)return 0;if(_===R)return 2*Math.PI*_;const P=_+R,I=_-R,O=I*I/(P*P);return Math.PI*P*(1+3*O/(10+Math.sqrt(4-3*O)))}function computeEllipseFromPerimeter(_,R){if(R===0)return{a:1/0,b:1/0,curvature_1:0,curvature_2:0};const P=Math.sign(R),I=Math.abs(R),O=1,z=I,L=ramanujanPerimeter(O,z),F=_/L,U=F*O,V=F*z,q=U>0?P/U:0,W=V>0?P/V:0;return{a:U,b:V,curvature_1:q,curvature_2:W}}function createCell(_,R,P,I,O,z,L){const{basalPoint:F,apicalPoint:U,nucleusPosition:V}=I,q=_.general.h_init,W=P.random(O.lifespan_start,O.lifespan_end),Y=R.cells.length>0?Math.max(...R.cells.map(Q=>Q.id))+1:0;if(L===void 0){const Q=R.t-P.random(0,W);let ee=P.random(O.events.time_A_start,O.events.time_A_end),te=P.random(O.events.time_B_start,O.events.time_B_end),ie=P.random(O.events.time_S_start,O.events.time_S_end),ae=P.random(O.events.time_AC_start,O.events.time_AC_end);const se=P.random()<=O.run?te:1/0;return O.hetero&&(P.random()>.7&&(ee=1/0),P.random()>.7&&(te=1/0),P.random()>.7&&(ie=1/0),P.random()>.7&&(ae=1/0)),{id:Y,typeIndex:z,pos:V.toObject(),A:U.toObject(),B:F.toObject(),R_soft:O.R_soft,R_hard:O.R_hard,eta_A:q/2,eta_B:q/2,has_A:!0,has_B:!0,phase:CellPhase.G1,birth_time:Q,division_time:Q+W,is_running:!1,running_mode:O.running_mode,has_inm:P.random()<=O.INM,time_A:ee,time_B:te,time_S:ie,time_P:se,time_AC:ae,stiffness_apical_apical:O.stiffness_apical_apical,stiffness_straightness:O.stiffness_straightness,stiffness_nuclei_apical:O.stiffness_nuclei_apical,stiffness_nuclei_basal:O.stiffness_nuclei_basal}}else return{id:Y,typeIndex:z,pos:V.toObject(),A:U.toObject(),B:F.toObject(),R_soft:O.R_soft,R_hard:O.R_hard,eta_A:L.eta_A,eta_B:L.eta_B,has_A:L.has_A,has_B:L.has_B,phase:CellPhase.G1,birth_time:R.t,division_time:R.t+W,is_running:L.is_running,running_mode:L.running_mode,has_inm:L.has_inm,time_A:L.time_A,time_B:L.time_B,time_S:L.time_S,time_P:L.time_P,time_AC:L.time_AC,stiffness_apical_apical:O.stiffness_apical_apical,stiffness_straightness:L.stiffness_straightness,stiffness_nuclei_apical:L.stiffness_nuclei_apical,stiffness_nuclei_basal:L.stiffness_nuclei_basal}}function getCellType(_,R){return _.cell_types[R.typeIndex]||_.cell_types.control}function updateCellPhase(_,R,P){const I=_.division_time,O=I-R.dur_G2-R.dur_mitosis,z=I-R.dur_mitosis;P<O?_.phase=CellPhase.G1:P<z?_.phase=CellPhase.G2:P<I?_.phase=CellPhase.Mitosis:_.phase=CellPhase.Division}function initializeEHTSimulation(_,R,P){const I=_.general,O=computeEllipseFromPerimeter(I.perimeter,I.aspect_ratio);R.geometry={curvature_1:O.curvature_1,curvature_2:O.curvature_2};const{curvature_1:z,curvature_2:L}=R.geometry;R.basalGeometry=createBasalGeometry(z,L,360);const F=Object.entries(_.cell_types),U=F.reduce((se,[,le])=>se+le.N_init,0),V=[];for(let se=0;se<U;se++)V.push([-1+2*se/U,""]);F.sort((se,le)=>{const ce=se[1].location!==""?1:0;return(le[1].location!==""?1:0)-ce});for(const[se,le]of F)if(le.location!==""){let ce;le.location==="top"?ce=1:le.location==="bottom"?ce=0:(ce=parseFloat(le.location),(isNaN(ce)||ce<-1||ce>1)&&(ce=0)),V.sort((de,he)=>Math.min(Math.abs(de[0]-ce),Math.abs(de[0]+2-ce))-Math.min(Math.abs(he[0]-ce),Math.abs(he[0]+2-ce)));let fe=0;for(let de=0;de<V.length&&fe<le.N_init;de++)V[de][1]===""&&(V[de]=[V[de][0],se],fe++)}V.sort((se,le)=>se[0]-le[0]);let q=0;for(let se=0;se<V.length;se++)if(V[se][1]==="")for(;q<F.length;){const[le,ce]=F[q];if(V.filter(de=>de[1]===le).length<ce.N_init){V[se]=[V[se][0],le];break}else q++}V.sort((se,le)=>se[0]-le[0]);const W=z===0&&L===0,Y=W?I.w_init*4:ramanujanPerimeter(Math.abs(1/z),Math.abs(1/L)),Q=I.full_circle?Y:I.w_init,ee=I.h_init,te=I.aspect_ratio<0?-1:1,ie=[],ae=[];for(let se=0;se<U;se++){const le=W?V[se][0]*(Q/2):V[se][0]*(Q/2)+Y/4,ce=R.basalGeometry.getPointAtArcLength(le),fe=R.basalGeometry.getNormal(ce).scale(te),de=ce.add(fe.scale(ee)),he=P.random(ee/3,2*ee/3),pe=ce.add(fe.scale(he));ie.push({basalPoint:ce,apicalPoint:de,nucleusPosition:pe}),ae.push(V[se][1])}R.cells=[];for(let se=0;se<ie.length;se++){const le=ae[se],ce=_.cell_types[le];if(!ce){console.warn("No cell type found for key",le);continue}const fe=createCell(_,R,P,ie[se],ce,le);R.cells.push(fe)}for(let se=0;se<R.cells.length-1;se++){const le=_.cell_types[R.cells[se].typeIndex],ce=_.cell_types[R.cells[se+1].typeIndex],fe=(le.apical_junction_init+ce.apical_junction_init)/2;R.ap_links.push({l:se,r:se+1,rl:fe}),R.ba_links.push({l:se,r:se+1})}if(I.full_circle&&R.cells.length>2){const se=R.cells.length-1,le=_.cell_types[R.cells[se].typeIndex],ce=_.cell_types[R.cells[0].typeIndex],fe=(le.apical_junction_init+ce.apical_junction_init)/2;R.ap_links.push({l:se,r:0,rl:fe}),R.ba_links.push({l:se,r:0})}}function zeroForces(){return{f:Vector2.zero(),fA:Vector2.zero(),fB:Vector2.zero()}}function calcRepulsionForces(_,R,P){const I=_.cells,O=I.length;for(let z=0;z<O;z++){const L=I[z],F=getCellType(R,L),U=Vector2.from(L.pos);for(let V=0;V<z;V++){const q=I[V],W=getCellType(R,q),Q=Vector2.from(q.pos).sub(U),ee=Q.mag(),te=L.R_soft+q.R_soft,ie=F.stiffness_repulsion+W.stiffness_repulsion;if(ee<te&&ee>te/20){const ae=-ie*(te-ee)/(ee*te*te),se=Q.scale(ae);P[z].f=P[z].f.add(se),P[V].f=P[V].f.sub(se)}}}}function calcApicalNucleiForces(_,R,P){const I=_.cells,O=R.general.hard_sphere_nuclei;for(let z=0;z<I.length;z++){const L=I[z],F=Vector2.from(L.pos),U=Vector2.from(L.A),V=F.sub(U),q=V.mag();if(q>0){const W=O?L.R_hard:L.R_soft,Y=L.eta_A+W,ee=2*L.stiffness_nuclei_apical*(q-Y)/(q*Y*Y),te=V.scale(ee);P[z].f=P[z].f.sub(te),P[z].fA=P[z].fA.add(te)}}}function calcBasalNucleiForces(_,R,P){const I=_.cells,O=R.general.hard_sphere_nuclei;for(let z=0;z<I.length;z++){const L=I[z],F=Vector2.from(L.pos),U=Vector2.from(L.B),V=F.sub(U),q=V.mag();if(q>0){const W=O?L.R_hard:L.R_soft,Y=L.eta_B+W,ee=2*L.stiffness_nuclei_basal*(q-Y)/(q*Y*Y),te=V.scale(ee);P[z].f=P[z].f.sub(te),P[z].fB=P[z].fB.add(te)}}}function calcStraightnessForces(_,R,P){const I=_.cells;for(let O=0;O<I.length;O++){const z=I[O],L=Vector2.from(z.pos),F=Vector2.from(z.A),U=Vector2.from(z.B),V=L.sub(F),q=L.sub(U),W=V.mag(),Y=q.mag(),Q=V.dot(q);if(Q!==0&&W>0&&Y>0){const ee=z.stiffness_straightness/(W*Y),te=q.scale(-1).add(V.scale(Q/(W*W))).scale(ee),ie=V.scale(-1).add(q.scale(Q/(Y*Y))).scale(ee);P[O].fA=P[O].fA.sub(te),P[O].f=P[O].f.add(te),P[O].f=P[O].f.add(ie),P[O].fB=P[O].fB.sub(ie)}}}function calcApicalJunctionForces(_,R,P){const I=_.cells,O=_.ap_links;for(const z of O){const L=I[z.l],F=I[z.r],U=Vector2.from(L.A),V=Vector2.from(F.A),q=U.sub(V),W=q.mag();if(W>1e-6){const Y=.5*(L.stiffness_apical_apical+F.stiffness_apical_apical),Q=q.scale(.25*Y*(W-z.rl)/W);P[z.l].fA=P[z.l].fA.sub(Q),P[z.r].fA=P[z.r].fA.add(Q)}}}function calcAllForces(_,R){const P=_.cells.map(()=>zeroForces());return calcRepulsionForces(_,R,P),calcApicalNucleiForces(_,R,P),calcBasalNucleiForces(_,R,P),calcStraightnessForces(_,R,P),calcApicalJunctionForces(_,R,P),P}function projectHardSphereConstraints(_,R){const P=_.cells,I=P.length;for(let O=0;O<I;O++){const z=P[O];for(let L=0;L<O;L++){const F=P[L],U=z.R_hard+F.R_hard,V=Vector2.from(z.pos),q=Vector2.from(F.pos),W=V.dist(q)-U;if(W<0&&W!==-U){const Q=V.sub(q).scale(.5*W/(W+U));z.pos.x-=Q.x,z.pos.y-=Q.y,F.pos.x+=Q.x,F.pos.y+=Q.y}}}}function projectBasalOrderingConstraints(_,R){const P=_.cells,I=_.ba_links;for(const O of I){const z=P[O.l],L=P[O.r];if(!z.has_B||!L.has_B)continue;const F=Vector2.from(z.B),U=Vector2.from(L.B),V=F.add(U).scale(.5),q=_.basalGeometry.projectPoint(V),W=_.basalGeometry.getNormal(q),Y=new Vector2(W.y,-W.x),Q=F.sub(V).dot(Y),ee=U.sub(V).dot(Y);if(Q>=ee){const ie=(Q-ee)/2;z.B.x-=ie*Y.x,z.B.y-=ie*Y.y,L.B.x+=ie*Y.x,L.B.y+=ie*Y.y}}}function projectMaxBasalDistanceConstraints(_,R){const P=_.cells,I=_.ba_links;for(const O of I){const z=P[O.l],L=P[O.r],F=getCellType(R,z),U=getCellType(R,L),V=(F.max_basal_junction_dist+U.max_basal_junction_dist)/2,q=Vector2.from(z.B),W=Vector2.from(L.B),Y=q.dist(W);if(Y>V){const Q=Y-V,te=W.sub(q).normalize().scale(Q/2);z.B.x+=te.x,z.B.y+=te.y,L.B.x-=te.x,L.B.y-=te.y}}}function projectBasalCurveConstraints(_,R){const P=_.cells;for(const I of P){if(!I.has_B)continue;const O=Vector2.from(I.B),z=_.basalGeometry.projectPoint(O);I.B.x=z.x,I.B.y=z.y}}function applyAllConstraints(_,R){projectHardSphereConstraints(_),projectBasalOrderingConstraints(_),projectMaxBasalDistanceConstraints(_,R),projectBasalCurveConstraints(_)}function processLoseApicalAdhesion(_,R){const P=_.cells[R];P.has_A=!1,P.stiffness_nuclei_apical*=.1;const I=[];let O={l:0,r:0,rl:0};for(let z=0;z<_.ap_links.length;z++){const L=_.ap_links[z];L.l===R&&(I.push(z),O.r=L.r),L.r===R&&(I.push(z),O.l=L.l)}if(I.length===1)_.ap_links.splice(I[0],1);else if(I.length===2){I.sort((F,U)=>U-F),_.ap_links.splice(I[0],1),_.ap_links.splice(I[1],1);const z=_.cells[O.l],L=_.cells[O.r];O.rl=Vector2.from(z.A).dist(Vector2.from(L.A)),_.ap_links.push(O)}}function processLoseBasalAdhesion(_,R){const P=_.cells[R];P.has_B=!1,P.stiffness_nuclei_basal*=.1;const I=[];let O={l:0,r:0};for(let z=0;z<_.ba_links.length;z++){const L=_.ba_links[z];L.l===R&&(I.push(z),O.r=L.r),L.r===R&&(I.push(z),O.l=L.l)}I.length===1?_.ba_links.splice(I[0],1):I.length===2&&(I.sort((z,L)=>L-z),_.ba_links.splice(I[0],1),_.ba_links.splice(I[1],1),_.ba_links.push(O))}function processLoseStraightness(_,R){const P=_.cells[R];P.stiffness_straightness=1}function processStartRunning(_,R){const P=_.cells[R];P.running_mode=3}function processApicalConstriction(_,R){const I=_.cells[R].typeIndex,O=[];for(let V=0;V<_.ap_links.length;V++){const q=_.ap_links[V],W=_.cells[q.l],Y=_.cells[q.r],Q=W.typeIndex===I,ee=Y.typeIndex===I;Q!==ee&&O.push(V)}const z=new Map,L=new Map;for(const V of _.ap_links)z.set(V.l,V.r),L.set(V.r,V.l);O.sort((V,q)=>q-V);for(const V of O)_.ap_links.splice(V,1);const F=new Map;for(const V of _.ap_links)F.set(V.l,V.r);const U=[];for(let V=0;V<_.cells.length;V++){if(_.cells[V].typeIndex===I)continue;const W=z.has(V),Y=F.has(V);if(W&&!Y){let Q=z.get(V);for(;Q<_.cells.length&&_.cells[Q].typeIndex===I;){const ee=z.get(Q);if(ee===void 0)break;Q=ee}if(Q<_.cells.length&&_.cells[Q].typeIndex!==I){const ee=_.cells[V],te=_.cells[Q],ie=Vector2.from(ee.A).dist(Vector2.from(te.A));U.push({l:V,r:Q,rl:ie})}}}_.ap_links.push(...U)}function updateRunningState(_,R){if(_.has_B){_.is_running=!1;return}const P=Vector2.from(_.B),I=R.basalGeometry.projectPoint(P),O=R.basalGeometry.getNormal(I),L=P.sub(I).dot(O),F=L<-2,U=_.running_mode>=3||L>0&&_.running_mode>=1;_.is_running=F&&U}function processEMTEvents(_,R,P){const I=_.t,O=new Set;for(let z=0;z<_.cells.length;z++){const L=_.cells[z];I<=L.time_A&&I+P>L.time_A&&processLoseApicalAdhesion(_,z),I<=L.time_B&&I+P>L.time_B&&(console.log("Event B"),processLoseBasalAdhesion(_,z)),I<=L.time_S&&I+P>L.time_S&&processLoseStraightness(_,z),I<=L.time_AC&&I+P>L.time_AC&&O.add(L.typeIndex),(L.time_P>L.time_B&&I<=L.time_P&&I+P>L.time_P||L.time_P<=L.time_B&&I<=L.time_B&&I+P>L.time_B)&&processStartRunning(_,z),updateRunningState(L,_)}for(const z of O){const L=_.cells.findIndex(F=>F.typeIndex===z);L!==-1&&(console.log(`Event AC for type ${z}`),processApicalConstriction(_,L))}}function processCellDivisions(_,R,P){let I=0;for(let O=0;O<_.cells.length;O++){const z=_.cells[O];if(z.phase!==CellPhase.Division)continue;const L=getCellType(R,z),F={basalPoint:Vector2.from(z.B),apicalPoint:Vector2.from(z.A),nucleusPosition:Vector2.from(z.pos)};if(z.typeIndex==="emt"){const U=createCell(R,_,P,F,L,z.typeIndex,z);U.id=z.id,_.cells[O]=U}else if(P.random()<R.general.p_div_out){const V=createCell(R,_,P,F,L,z.typeIndex,z);V.id=z.id,_.cells[O]=V}else{I++;const V=createCell(R,_,P,F,L,z.typeIndex,z);V.id=z.id,_.cells[O]=V;const q=createCell(R,_,P,F,L,z.typeIndex,V),W=.005*V.R_soft,Y=Vector2.from(V.B),Q=_.basalGeometry.projectPoint(Y),ee=_.basalGeometry.getNormal(Q),te=new Vector2(ee.y,-ee.x);V.pos.x-=W*te.x,V.pos.y-=W*te.y,q.pos.x+=W*te.x,q.pos.y+=W*te.y,V.A.x-=W*te.x,V.A.y-=W*te.y,q.A.x+=W*te.x,q.A.y+=W*te.y,V.B.x-=W*te.x,V.B.y-=W*te.y,q.B.x+=W*te.x,q.B.y+=W*te.y;const ie=_.cells.length;_.cells.push(q),updateApicalLinksAfterDivision(_,R,O,ie),updateBasalLinksAfterDivision(_,R,O,ie)}}return I}function updateApicalLinksAfterDivision(_,R,P,I){for(const z of _.ap_links)z.l===P&&(z.l=I);const O=getCellType(R,_.cells[P]);_.ap_links.push({l:P,r:I,rl:O.apical_junction_init})}function updateBasalLinksAfterDivision(_,R,P,I){for(const O of _.ba_links)O.l===P&&(O.l=I);_.ba_links.push({l:P,r:I})}function updateCytoskeleton(_,R,P){for(const I of _.cells){const O=getCellType(R,I),z=Vector2.from(I.pos),L=Vector2.from(I.A),F=Vector2.from(I.B),U=z.dist(L),V=z.dist(F);let q=0,W=0;switch(I.phase+(I.has_inm?0:10)){case CellPhase.G2:case CellPhase.Mitosis:const ee=L.dist(F);q=0,W=Math.max(0,ee-2*I.R_soft);break;default:q=Math.max(0,U-I.R_soft),W=Math.max(0,V-I.R_soft)}I.phase===CellPhase.G2&&(I.stiffness_apical_apical=O.stiffness_apical_apical_div),I.phase===CellPhase.Mitosis&&(I.R_hard=O.R_hard_div),I.has_A||(q=0),I.has_B||(W=0);const Q=Math.exp(-P*O.k_cytos);if(I.eta_A=Q*(I.eta_A-q)+q,I.has_B?I.eta_B=Q*(I.eta_B-W)+W:I.running_mode>=2&&I.B.y>0?I.eta_B=Vector2.from(I.B).dist(z)-I.R_soft:I.eta_B=Q*(I.eta_B-W)+W,!I.is_running||I.has_B){const ee=O.max_cytoskeleton_length,te=I.eta_A+I.eta_B-ee;if(ee>0&&te>1){const ie=I.eta_A+I.eta_B,ae=I.eta_A*ee/ie,se=I.eta_B*ee/ie;I.eta_A=Q*(I.eta_A-ae)+ae,I.eta_B=Q*(I.eta_B-se)+se}}}}function updateApicalJunctions(_,R,P){for(const I of _.ap_links){const O=_.cells[I.l],z=_.cells[I.r],L=getCellType(R,O),F=getCellType(R,z),U=.5*L.k_apical_junction+.5*F.k_apical_junction;I.rl=I.rl*Math.exp(-P*U)}}function integrateForces(_,R,P,I,O){const z=R.general.mu,L=Math.sqrt(O);for(let F=0;F<_.cells.length;F++){const U=_.cells[F],V=getCellType(R,U),q=P[F],W=V.diffusion;if(U.pos.x+=L*W*I.gaussian(),U.pos.y+=L*W*I.gaussian(),U.pos.x+=O*q.f.x/z,U.pos.y+=O*q.f.y/z,U.A.x+=O*q.fA.x/z,U.A.y+=O*q.fA.y/z,U.is_running){const Y=Vector2.from(U.B),Q=Vector2.from(U.pos);if(Y.dist(Q)<5){const ee=Y.sub(Q).normalize();U.B.x+=O*ee.x*V.running_speed,U.B.y+=O*ee.y*V.running_speed}}else U.B.x+=O*q.fB.x/z,U.B.y+=O*q.fB.y/z}}function performTimestep(_,R,P){const I=R.general,O=I.dt;for(const F of _.cells){const U=getCellType(R,F);updateCellPhase(F,U,_.t)}const z=processCellDivisions(_,R,P);processEMTEvents(_,R,O),updateCytoskeleton(_,R,O),updateApicalJunctions(_,R,O);const L=O/I.n_substeps;for(let F=0;F<I.n_substeps;F++){_.t+=L;const U=calcAllForces(_,R);integrateForces(_,R,U,P,L),applyAllConstraints(_,R)}return _.step_count++,z}const scriptRel="modulepreload",assetsURL=function(_){return"/internal/eht/"+_},seen={},__vitePreload=function _(R,P,I){let O=Promise.resolve();if(P&&P.length>0){let U=function(V){return Promise.all(V.map(q=>Promise.resolve(q).then(W=>({status:"fulfilled",value:W}),W=>({status:"rejected",reason:W}))))};document.getElementsByTagName("link");const L=document.querySelector("meta[property=csp-nonce]"),F=L?.nonce||L?.getAttribute("nonce");O=U(P.map(V=>{if(V=assetsURL(V),V in seen)return;seen[V]=!0;const q=V.endsWith(".css"),W=q?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${V}"]${W}`))return;const Y=document.createElement("link");if(Y.rel=q?"stylesheet":scriptRel,q||(Y.as="script"),Y.crossOrigin="",Y.href=V,F&&Y.setAttribute("nonce",F),document.head.appendChild(Y),q)return new Promise((Q,ee)=>{Y.addEventListener("load",Q),Y.addEventListener("error",()=>ee(new Error(`Unable to preload CSS for ${V}`)))})}))}function z(L){const F=new Event("vite:preloadError",{cancelable:!0});if(F.payload=L,window.dispatchEvent(F),!F.defaultPrevented)throw L}return O.then(L=>{for(const F of L||[])F.status==="rejected"&&z(F.reason);return R().catch(z)})};var ExtensionType=(_=>(_.Application="application",_.WebGLPipes="webgl-pipes",_.WebGLPipesAdaptor="webgl-pipes-adaptor",_.WebGLSystem="webgl-system",_.WebGPUPipes="webgpu-pipes",_.WebGPUPipesAdaptor="webgpu-pipes-adaptor",_.WebGPUSystem="webgpu-system",_.CanvasSystem="canvas-system",_.CanvasPipesAdaptor="canvas-pipes-adaptor",_.CanvasPipes="canvas-pipes",_.Asset="asset",_.LoadParser="load-parser",_.ResolveParser="resolve-parser",_.CacheParser="cache-parser",_.DetectionParser="detection-parser",_.MaskEffect="mask-effect",_.BlendMode="blend-mode",_.TextureSource="texture-source",_.Environment="environment",_.ShapeBuilder="shape-builder",_.Batcher="batcher",_))(ExtensionType||{});const normalizeExtension=_=>{if(typeof _=="function"||typeof _=="object"&&_.extension){if(!_.extension)throw new Error("Extension class must have an extension object");_={...typeof _.extension!="object"?{type:_.extension}:_.extension,ref:_}}if(typeof _=="object")_={..._};else throw new Error("Invalid extension type");return typeof _.type=="string"&&(_.type=[_.type]),_},normalizeExtensionPriority=(_,R)=>normalizeExtension(_).priority??R,extensions={_addHandlers:{},_removeHandlers:{},_queue:{},remove(..._){return _.map(normalizeExtension).forEach(R=>{R.type.forEach(P=>this._removeHandlers[P]?.(R))}),this},add(..._){return _.map(normalizeExtension).forEach(R=>{R.type.forEach(P=>{const I=this._addHandlers,O=this._queue;I[P]?I[P]?.(R):(O[P]=O[P]||[],O[P]?.push(R))})}),this},handle(_,R,P){const I=this._addHandlers,O=this._removeHandlers;if(I[_]||O[_])throw new Error(`Extension type ${_} already has a handler`);I[_]=R,O[_]=P;const z=this._queue;return z[_]&&(z[_]?.forEach(L=>R(L)),delete z[_]),this},handleByMap(_,R){return this.handle(_,P=>{P.name&&(R[P.name]=P.ref)},P=>{P.name&&delete R[P.name]})},handleByNamedList(_,R,P=-1){return this.handle(_,I=>{R.findIndex(z=>z.name===I.name)>=0||(R.push({name:I.name,value:I.ref}),R.sort((z,L)=>normalizeExtensionPriority(L.value,P)-normalizeExtensionPriority(z.value,P)))},I=>{const O=R.findIndex(z=>z.name===I.name);O!==-1&&R.splice(O,1)})},handleByList(_,R,P=-1){return this.handle(_,I=>{R.includes(I.ref)||(R.push(I.ref),R.sort((O,z)=>normalizeExtensionPriority(z,P)-normalizeExtensionPriority(O,P)))},I=>{const O=R.indexOf(I.ref);O!==-1&&R.splice(O,1)})},mixin(_,...R){for(const P of R)Object.defineProperties(_.prototype,Object.getOwnPropertyDescriptors(P))}},browserExt={extension:{type:ExtensionType.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await __vitePreload(()=>import("./browserAll-Mz1BEkUt.js"),__vite__mapDeps([0,1,2]))}},webworkerExt={extension:{type:ExtensionType.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await __vitePreload(()=>import("./webworkerAll-D4ezs0rY.js"),__vite__mapDeps([1,2]))}};class ObservablePoint{constructor(R,P,I){this._x=P||0,this._y=I||0,this._observer=R}clone(R){return new ObservablePoint(R??this._observer,this._x,this._y)}set(R=0,P=R){return(this._x!==R||this._y!==P)&&(this._x=R,this._y=P,this._observer._onUpdate(this)),this}copyFrom(R){return(this._x!==R.x||this._y!==R.y)&&(this._x=R.x,this._y=R.y,this._observer._onUpdate(this)),this}copyTo(R){return R.set(this._x,this._y),R}equals(R){return R.x===this._x&&R.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(R){this._x!==R&&(this._x=R,this._observer._onUpdate(this))}get y(){return this._y}set y(R){this._y!==R&&(this._y=R,this._observer._onUpdate(this))}}var eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,(function(_){var R=Object.prototype.hasOwnProperty,P="~";function I(){}Object.create&&(I.prototype=Object.create(null),new I().__proto__||(P=!1));function O(U,V,q){this.fn=U,this.context=V,this.once=q||!1}function z(U,V,q,W,Y){if(typeof q!="function")throw new TypeError("The listener must be a function");var Q=new O(q,W||U,Y),ee=P?P+V:V;return U._events[ee]?U._events[ee].fn?U._events[ee]=[U._events[ee],Q]:U._events[ee].push(Q):(U._events[ee]=Q,U._eventsCount++),U}function L(U,V){--U._eventsCount===0?U._events=new I:delete U._events[V]}function F(){this._events=new I,this._eventsCount=0}F.prototype.eventNames=function(){var V=[],q,W;if(this._eventsCount===0)return V;for(W in q=this._events)R.call(q,W)&&V.push(P?W.slice(1):W);return Object.getOwnPropertySymbols?V.concat(Object.getOwnPropertySymbols(q)):V},F.prototype.listeners=function(V){var q=P?P+V:V,W=this._events[q];if(!W)return[];if(W.fn)return[W.fn];for(var Y=0,Q=W.length,ee=new Array(Q);Y<Q;Y++)ee[Y]=W[Y].fn;return ee},F.prototype.listenerCount=function(V){var q=P?P+V:V,W=this._events[q];return W?W.fn?1:W.length:0},F.prototype.emit=function(V,q,W,Y,Q,ee){var te=P?P+V:V;if(!this._events[te])return!1;var ie=this._events[te],ae=arguments.length,se,le;if(ie.fn){switch(ie.once&&this.removeListener(V,ie.fn,void 0,!0),ae){case 1:return ie.fn.call(ie.context),!0;case 2:return ie.fn.call(ie.context,q),!0;case 3:return ie.fn.call(ie.context,q,W),!0;case 4:return ie.fn.call(ie.context,q,W,Y),!0;case 5:return ie.fn.call(ie.context,q,W,Y,Q),!0;case 6:return ie.fn.call(ie.context,q,W,Y,Q,ee),!0}for(le=1,se=new Array(ae-1);le<ae;le++)se[le-1]=arguments[le];ie.fn.apply(ie.context,se)}else{var ce=ie.length,fe;for(le=0;le<ce;le++)switch(ie[le].once&&this.removeListener(V,ie[le].fn,void 0,!0),ae){case 1:ie[le].fn.call(ie[le].context);break;case 2:ie[le].fn.call(ie[le].context,q);break;case 3:ie[le].fn.call(ie[le].context,q,W);break;case 4:ie[le].fn.call(ie[le].context,q,W,Y);break;default:if(!se)for(fe=1,se=new Array(ae-1);fe<ae;fe++)se[fe-1]=arguments[fe];ie[le].fn.apply(ie[le].context,se)}}return!0},F.prototype.on=function(V,q,W){return z(this,V,q,W,!1)},F.prototype.once=function(V,q,W){return z(this,V,q,W,!0)},F.prototype.removeListener=function(V,q,W,Y){var Q=P?P+V:V;if(!this._events[Q])return this;if(!q)return L(this,Q),this;var ee=this._events[Q];if(ee.fn)ee.fn===q&&(!Y||ee.once)&&(!W||ee.context===W)&&L(this,Q);else{for(var te=0,ie=[],ae=ee.length;te<ae;te++)(ee[te].fn!==q||Y&&!ee[te].once||W&&ee[te].context!==W)&&ie.push(ee[te]);ie.length?this._events[Q]=ie.length===1?ie[0]:ie:L(this,Q)}return this},F.prototype.removeAllListeners=function(V){var q;return V?(q=P?P+V:V,this._events[q]&&L(this,q)):(this._events=new I,this._eventsCount=0),this},F.prototype.off=F.prototype.removeListener,F.prototype.addListener=F.prototype.on,F.prefixed=P,F.EventEmitter=F,_.exports=F})(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports),PI_2=Math.PI*2,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180;class Point{constructor(R=0,P=0){this.x=0,this.y=0,this.x=R,this.y=P}clone(){return new Point(this.x,this.y)}copyFrom(R){return this.set(R.x,R.y),this}copyTo(R){return R.set(this.x,this.y),R}equals(R){return R.x===this.x&&R.y===this.y}set(R=0,P=R){return this.x=R,this.y=P,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return tempPoint.x=0,tempPoint.y=0,tempPoint}}const tempPoint=new Point;class Matrix{constructor(R=1,P=0,I=0,O=1,z=0,L=0){this.array=null,this.a=R,this.b=P,this.c=I,this.d=O,this.tx=z,this.ty=L}fromArray(R){this.a=R[0],this.b=R[1],this.c=R[3],this.d=R[4],this.tx=R[2],this.ty=R[5]}set(R,P,I,O,z,L){return this.a=R,this.b=P,this.c=I,this.d=O,this.tx=z,this.ty=L,this}toArray(R,P){this.array||(this.array=new Float32Array(9));const I=P||this.array;return R?(I[0]=this.a,I[1]=this.b,I[2]=0,I[3]=this.c,I[4]=this.d,I[5]=0,I[6]=this.tx,I[7]=this.ty,I[8]=1):(I[0]=this.a,I[1]=this.c,I[2]=this.tx,I[3]=this.b,I[4]=this.d,I[5]=this.ty,I[6]=0,I[7]=0,I[8]=1),I}apply(R,P){P=P||new Point;const I=R.x,O=R.y;return P.x=this.a*I+this.c*O+this.tx,P.y=this.b*I+this.d*O+this.ty,P}applyInverse(R,P){P=P||new Point;const I=this.a,O=this.b,z=this.c,L=this.d,F=this.tx,U=this.ty,V=1/(I*L+z*-O),q=R.x,W=R.y;return P.x=L*V*q+-z*V*W+(U*z-F*L)*V,P.y=I*V*W+-O*V*q+(-U*I+F*O)*V,P}translate(R,P){return this.tx+=R,this.ty+=P,this}scale(R,P){return this.a*=R,this.d*=P,this.c*=R,this.b*=P,this.tx*=R,this.ty*=P,this}rotate(R){const P=Math.cos(R),I=Math.sin(R),O=this.a,z=this.c,L=this.tx;return this.a=O*P-this.b*I,this.b=O*I+this.b*P,this.c=z*P-this.d*I,this.d=z*I+this.d*P,this.tx=L*P-this.ty*I,this.ty=L*I+this.ty*P,this}append(R){const P=this.a,I=this.b,O=this.c,z=this.d;return this.a=R.a*P+R.b*O,this.b=R.a*I+R.b*z,this.c=R.c*P+R.d*O,this.d=R.c*I+R.d*z,this.tx=R.tx*P+R.ty*O+this.tx,this.ty=R.tx*I+R.ty*z+this.ty,this}appendFrom(R,P){const I=R.a,O=R.b,z=R.c,L=R.d,F=R.tx,U=R.ty,V=P.a,q=P.b,W=P.c,Y=P.d;return this.a=I*V+O*W,this.b=I*q+O*Y,this.c=z*V+L*W,this.d=z*q+L*Y,this.tx=F*V+U*W+P.tx,this.ty=F*q+U*Y+P.ty,this}setTransform(R,P,I,O,z,L,F,U,V){return this.a=Math.cos(F+V)*z,this.b=Math.sin(F+V)*z,this.c=-Math.sin(F-U)*L,this.d=Math.cos(F-U)*L,this.tx=R-(I*this.a+O*this.c),this.ty=P-(I*this.b+O*this.d),this}prepend(R){const P=this.tx;if(R.a!==1||R.b!==0||R.c!==0||R.d!==1){const I=this.a,O=this.c;this.a=I*R.a+this.b*R.c,this.b=I*R.b+this.b*R.d,this.c=O*R.a+this.d*R.c,this.d=O*R.b+this.d*R.d}return this.tx=P*R.a+this.ty*R.c+R.tx,this.ty=P*R.b+this.ty*R.d+R.ty,this}decompose(R){const P=this.a,I=this.b,O=this.c,z=this.d,L=R.pivot,F=-Math.atan2(-O,z),U=Math.atan2(I,P),V=Math.abs(F+U);return V<1e-5||Math.abs(PI_2-V)<1e-5?(R.rotation=U,R.skew.x=R.skew.y=0):(R.rotation=0,R.skew.x=F,R.skew.y=U),R.scale.x=Math.sqrt(P*P+I*I),R.scale.y=Math.sqrt(O*O+z*z),R.position.x=this.tx+(L.x*P+L.y*O),R.position.y=this.ty+(L.x*I+L.y*z),R}invert(){const R=this.a,P=this.b,I=this.c,O=this.d,z=this.tx,L=R*O-P*I;return this.a=O/L,this.b=-P/L,this.c=-I/L,this.d=R/L,this.tx=(I*this.ty-O*z)/L,this.ty=-(R*this.ty-P*z)/L,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const R=new Matrix;return R.a=this.a,R.b=this.b,R.c=this.c,R.d=this.d,R.tx=this.tx,R.ty=this.ty,R}copyTo(R){return R.a=this.a,R.b=this.b,R.c=this.c,R.d=this.d,R.tx=this.tx,R.ty=this.ty,R}copyFrom(R){return this.a=R.a,this.b=R.b,this.c=R.c,this.d=R.d,this.tx=R.tx,this.ty=R.ty,this}equals(R){return R.a===this.a&&R.b===this.b&&R.c===this.c&&R.d===this.d&&R.tx===this.tx&&R.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return identityMatrix$1.identity()}static get shared(){return tempMatrix$3.identity()}}const tempMatrix$3=new Matrix,identityMatrix$1=new Matrix,ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign;function init$1(){for(let _=0;_<16;_++){const R=[];rotationCayley.push(R);for(let P=0;P<16;P++){const I=signum(ux[_]*ux[P]+vx[_]*uy[P]),O=signum(uy[_]*ux[P]+vy[_]*uy[P]),z=signum(ux[_]*vx[P]+vx[_]*vy[P]),L=signum(uy[_]*vx[P]+vy[_]*vy[P]);for(let F=0;F<16;F++)if(ux[F]===I&&uy[F]===O&&vx[F]===z&&vy[F]===L){R.push(F);break}}}for(let _=0;_<16;_++){const R=new Matrix;R.set(ux[_],uy[_],vx[_],vy[_],0,0),rotationMatrices.push(R)}}init$1();const groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:_=>ux[_],uY:_=>uy[_],vX:_=>vx[_],vY:_=>vy[_],inv:_=>_&8?_&15:-_&7,add:(_,R)=>rotationCayley[_][R],sub:(_,R)=>rotationCayley[_][groupD8.inv(R)],rotate180:_=>_^4,isVertical:_=>(_&3)===2,byDirection:(_,R)=>Math.abs(_)*2<=Math.abs(R)?R>=0?groupD8.S:groupD8.N:Math.abs(R)*2<=Math.abs(_)?_>0?groupD8.E:groupD8.W:R>0?_>0?groupD8.SE:groupD8.SW:_>0?groupD8.NE:groupD8.NW,matrixAppendRotationInv:(_,R,P=0,I=0)=>{const O=rotationMatrices[groupD8.inv(R)];O.tx=P,O.ty=I,_.append(O)},transformRectCoords:(_,R,P,I)=>{const{x:O,y:z,width:L,height:F}=_,{x:U,y:V,width:q,height:W}=R;return P===groupD8.E?(I.set(O+U,z+V,L,F),I):P===groupD8.S?I.set(q-z-F+U,O+V,F,L):P===groupD8.W?I.set(q-O-L+U,W-z-F+V,L,F):P===groupD8.N?I.set(z+U,W-O-L+V,F,L):I.set(O+U,z+V,L,F)}},tempPoints=[new Point,new Point,new Point,new Point];class Rectangle{constructor(R=0,P=0,I=0,O=0){this.type="rectangle",this.x=Number(R),this.y=Number(P),this.width=Number(I),this.height=Number(O)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Rectangle(0,0,0,0)}clone(){return new Rectangle(this.x,this.y,this.width,this.height)}copyFromBounds(R){return this.x=R.minX,this.y=R.minY,this.width=R.maxX-R.minX,this.height=R.maxY-R.minY,this}copyFrom(R){return this.x=R.x,this.y=R.y,this.width=R.width,this.height=R.height,this}copyTo(R){return R.copyFrom(this),R}contains(R,P){return this.width<=0||this.height<=0?!1:R>=this.x&&R<this.x+this.width&&P>=this.y&&P<this.y+this.height}strokeContains(R,P,I,O=.5){const{width:z,height:L}=this;if(z<=0||L<=0)return!1;const F=this.x,U=this.y,V=I*(1-O),q=I-V,W=F-V,Y=F+z+V,Q=U-V,ee=U+L+V,te=F+q,ie=F+z-q,ae=U+q,se=U+L-q;return R>=W&&R<=Y&&P>=Q&&P<=ee&&!(R>te&&R<ie&&P>ae&&P<se)}intersects(R,P){if(!P){const pe=this.x<R.x?R.x:this.x;if((this.right>R.right?R.right:this.right)<=pe)return!1;const be=this.y<R.y?R.y:this.y;return(this.bottom>R.bottom?R.bottom:this.bottom)>be}const I=this.left,O=this.right,z=this.top,L=this.bottom;if(O<=I||L<=z)return!1;const F=tempPoints[0].set(R.left,R.top),U=tempPoints[1].set(R.left,R.bottom),V=tempPoints[2].set(R.right,R.top),q=tempPoints[3].set(R.right,R.bottom);if(V.x<=F.x||U.y<=F.y)return!1;const W=Math.sign(P.a*P.d-P.b*P.c);if(W===0||(P.apply(F,F),P.apply(U,U),P.apply(V,V),P.apply(q,q),Math.max(F.x,U.x,V.x,q.x)<=I||Math.min(F.x,U.x,V.x,q.x)>=O||Math.max(F.y,U.y,V.y,q.y)<=z||Math.min(F.y,U.y,V.y,q.y)>=L))return!1;const Y=W*(U.y-F.y),Q=W*(F.x-U.x),ee=Y*I+Q*z,te=Y*O+Q*z,ie=Y*I+Q*L,ae=Y*O+Q*L;if(Math.max(ee,te,ie,ae)<=Y*F.x+Q*F.y||Math.min(ee,te,ie,ae)>=Y*q.x+Q*q.y)return!1;const se=W*(F.y-V.y),le=W*(V.x-F.x),ce=se*I+le*z,fe=se*O+le*z,de=se*I+le*L,he=se*O+le*L;return!(Math.max(ce,fe,de,he)<=se*F.x+le*F.y||Math.min(ce,fe,de,he)>=se*q.x+le*q.y)}pad(R=0,P=R){return this.x-=R,this.y-=P,this.width+=R*2,this.height+=P*2,this}fit(R){const P=Math.max(this.x,R.x),I=Math.min(this.x+this.width,R.x+R.width),O=Math.max(this.y,R.y),z=Math.min(this.y+this.height,R.y+R.height);return this.x=P,this.width=Math.max(I-P,0),this.y=O,this.height=Math.max(z-O,0),this}ceil(R=1,P=.001){const I=Math.ceil((this.x+this.width-P)*R)/R,O=Math.ceil((this.y+this.height-P)*R)/R;return this.x=Math.floor((this.x+P)*R)/R,this.y=Math.floor((this.y+P)*R)/R,this.width=I-this.x,this.height=O-this.y,this}scale(R,P=R){return this.x*=R,this.y*=P,this.width*=R,this.height*=P,this}enlarge(R){const P=Math.min(this.x,R.x),I=Math.max(this.x+this.width,R.x+R.width),O=Math.min(this.y,R.y),z=Math.max(this.y+this.height,R.y+R.height);return this.x=P,this.width=I-P,this.y=O,this.height=z-O,this}getBounds(R){return R||(R=new Rectangle),R.copyFrom(this),R}containsRect(R){if(this.width<=0||this.height<=0)return!1;const P=R.x,I=R.y,O=R.x+R.width,z=R.y+R.height;return P>=this.x&&P<this.x+this.width&&I>=this.y&&I<this.y+this.height&&O>=this.x&&O<this.x+this.width&&z>=this.y&&z<this.y+this.height}set(R,P,I,O){return this.x=R,this.y=P,this.width=I,this.height=O,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const uidCache={default:-1};function uid(_="default"){return uidCache[_]===void 0&&(uidCache[_]=-1),++uidCache[_]}const warnings$1=new Set,v8_0_0="8.0.0",v8_3_4="8.3.4",deprecationState={quiet:!1,noColor:!1},deprecation=(_,R,P=3)=>{if(deprecationState.quiet||warnings$1.has(R))return;let I=new Error().stack;const O=`${R}
Deprecated since v${_}`,z=typeof console.groupCollapsed=="function"&&!deprecationState.noColor;typeof I>"u"?console.warn("PixiJS Deprecation Warning: ",O):(I=I.split(`
`).splice(P).join(`
`),z?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",O),console.warn(I),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",O),console.warn(I))),warnings$1.add(R)};Object.defineProperties(deprecation,{quiet:{get:()=>deprecationState.quiet,set:_=>{deprecationState.quiet=_},enumerable:!0,configurable:!1},noColor:{get:()=>deprecationState.noColor,set:_=>{deprecationState.noColor=_},enumerable:!0,configurable:!1}});const NOOP=()=>{};function nextPow2(_){return _+=_===0?1:0,--_,_|=_>>>1,_|=_>>>2,_|=_>>>4,_|=_>>>8,_|=_>>>16,_+1}function isPow2(_){return!(_&_-1)&&!!_}function definedProps(_){const R={};for(const P in _)_[P]!==void 0&&(R[P]=_[P]);return R}const idHash$1=Object.create(null);function createResourceIdFromString(_){const R=idHash$1[_];return R===void 0&&(idHash$1[_]=uid("resource")),R}const _TextureStyle=class vd extends EventEmitter{constructor(R={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,R={...vd.defaultOptions,...R},this.addressMode=R.addressMode,this.addressModeU=R.addressModeU??this.addressModeU,this.addressModeV=R.addressModeV??this.addressModeV,this.addressModeW=R.addressModeW??this.addressModeW,this.scaleMode=R.scaleMode,this.magFilter=R.magFilter??this.magFilter,this.minFilter=R.minFilter??this.minFilter,this.mipmapFilter=R.mipmapFilter??this.mipmapFilter,this.lodMinClamp=R.lodMinClamp,this.lodMaxClamp=R.lodMaxClamp,this.compare=R.compare,this.maxAnisotropy=R.maxAnisotropy??1}set addressMode(R){this.addressModeU=R,this.addressModeV=R,this.addressModeW=R}get addressMode(){return this.addressModeU}set wrapMode(R){deprecation(v8_0_0,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=R}get wrapMode(){return this.addressMode}set scaleMode(R){this.magFilter=R,this.minFilter=R,this.mipmapFilter=R}get scaleMode(){return this.magFilter}set maxAnisotropy(R){this._maxAnisotropy=Math.min(R,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const R=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=createResourceIdFromString(R),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};_TextureStyle.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let TextureStyle=_TextureStyle;const _TextureSource=class Sd extends EventEmitter{constructor(R={}){super(),this.options=R,this.uid=uid("textureSource"),this._resourceType="textureSource",this._resourceId=uid("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,R={...Sd.defaultOptions,...R},this.label=R.label??"",this.resource=R.resource,this.autoGarbageCollect=R.autoGarbageCollect,this._resolution=R.resolution,R.width?this.pixelWidth=R.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,R.height?this.pixelHeight=R.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=R.format,this.dimension=R.dimensions,this.mipLevelCount=R.mipLevelCount,this.autoGenerateMipmaps=R.autoGenerateMipmaps,this.sampleCount=R.sampleCount,this.antialias=R.antialias,this.alphaMode=R.alphaMode,this.style=new TextureStyle(definedProps(R)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(R){this.style!==R&&(this._style?.off("change",this._onStyleChange,this),this._style=R,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(R){this._style.maxAnisotropy=R}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(R){this._style.addressMode=R}get repeatMode(){return this._style.addressMode}set repeatMode(R){this._style.addressMode=R}get magFilter(){return this._style.magFilter}set magFilter(R){this._style.magFilter=R}get minFilter(){return this._style.minFilter}set minFilter(R){this._style.minFilter=R}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(R){this._style.mipmapFilter=R}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(R){this._style.lodMinClamp=R}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(R){this._style.lodMaxClamp=R}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const R=this._resolution;if(this.resize(this.resourceWidth/R,this.resourceHeight/R))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=uid("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:R}=this;return R.naturalWidth||R.videoWidth||R.displayWidth||R.width}get resourceHeight(){const{resource:R}=this;return R.naturalHeight||R.videoHeight||R.displayHeight||R.height}get resolution(){return this._resolution}set resolution(R){this._resolution!==R&&(this._resolution=R,this.width=this.pixelWidth/R,this.height=this.pixelHeight/R)}resize(R,P,I){I||(I=this._resolution),R||(R=this.width),P||(P=this.height);const O=Math.round(R*I),z=Math.round(P*I);return this.width=O/I,this.height=z/I,this._resolution=I,this.pixelWidth===O&&this.pixelHeight===z?!1:(this._refreshPOT(),this.pixelWidth=O,this.pixelHeight=z,this.emit("resize",this),this._resourceId=uid("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(R){this._style.wrapMode=R}get wrapMode(){return this._style.wrapMode}set scaleMode(R){this._style.scaleMode=R}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=isPow2(this.pixelWidth)&&isPow2(this.pixelHeight)}static test(R){throw new Error("Unimplemented")}};_TextureSource.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let TextureSource=_TextureSource;class BufferImageSource extends TextureSource{constructor(R){const P=R.resource||new Float32Array(R.width*R.height*4);let I=R.format;I||(P instanceof Float32Array?I="rgba32float":P instanceof Int32Array||P instanceof Uint32Array?I="rgba32uint":P instanceof Int16Array||P instanceof Uint16Array?I="rgba16uint":(P instanceof Int8Array,I="bgra8unorm")),super({...R,resource:P,format:I}),this.uploadMethodId="buffer"}static test(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array}}BufferImageSource.extension=ExtensionType.TextureSource;const tempMat=new Matrix;class TextureMatrix{constructor(R,P){this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof P>"u"?this.clampMargin=R.width<10?0:.5:this.clampMargin=P,this.isSimple=!1,this.texture=R}get texture(){return this._texture}set texture(R){this.texture!==R&&(this._texture?.removeListener("update",this.update,this),this._texture=R,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(R,P){P===void 0&&(P=R);const I=this.mapCoord;for(let O=0;O<R.length;O+=2){const z=R[O],L=R[O+1];P[O]=z*I.a+L*I.c+I.tx,P[O+1]=z*I.b+L*I.d+I.ty}return P}update(){const R=this._texture;this._updateID++;const P=R.uvs;this.mapCoord.set(P.x1-P.x0,P.y1-P.y0,P.x3-P.x0,P.y3-P.y0,P.x0,P.y0);const I=R.orig,O=R.trim;O&&(tempMat.set(I.width/O.width,0,0,I.height/O.height,-O.x/O.width,-O.y/O.height),this.mapCoord.append(tempMat));const z=R.source,L=this.uClampFrame,F=this.clampMargin/z._resolution,U=this.clampOffset/z._resolution;return L[0]=(R.frame.x+F+U)/z.width,L[1]=(R.frame.y+F+U)/z.height,L[2]=(R.frame.x+R.frame.width-F+U)/z.width,L[3]=(R.frame.y+R.frame.height-F+U)/z.height,this.uClampOffset[0]=this.clampOffset/z.pixelWidth,this.uClampOffset[1]=this.clampOffset/z.pixelHeight,this.isSimple=R.frame.width===z.width&&R.frame.height===z.height&&R.rotate===0,!0}}class Texture extends EventEmitter{constructor({source:R,label:P,frame:I,orig:O,trim:z,defaultAnchor:L,defaultBorders:F,rotate:U,dynamic:V}={}){if(super(),this.uid=uid("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Rectangle,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=P,this.source=R?.source??new TextureSource,this.noFrame=!I,I)this.frame.copyFrom(I);else{const{width:q,height:W}=this._source;this.frame.width=q,this.frame.height=W}this.orig=O||this.frame,this.trim=z,this.rotate=U??0,this.defaultAnchor=L,this.defaultBorders=F,this.destroyed=!1,this.dynamic=V||!1,this.updateUvs()}set source(R){this._source&&this._source.off("resize",this.update,this),this._source=R,R.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new TextureMatrix(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:R,frame:P}=this,{width:I,height:O}=this._source,z=P.x/I,L=P.y/O,F=P.width/I,U=P.height/O;let V=this.rotate;if(V){const q=F/2,W=U/2,Y=z+q,Q=L+W;V=groupD8.add(V,groupD8.NW),R.x0=Y+q*groupD8.uX(V),R.y0=Q+W*groupD8.uY(V),V=groupD8.add(V,2),R.x1=Y+q*groupD8.uX(V),R.y1=Q+W*groupD8.uY(V),V=groupD8.add(V,2),R.x2=Y+q*groupD8.uX(V),R.y2=Q+W*groupD8.uY(V),V=groupD8.add(V,2),R.x3=Y+q*groupD8.uX(V),R.y3=Q+W*groupD8.uY(V)}else R.x0=z,R.y0=L,R.x1=z+F,R.y1=L,R.x2=z+F,R.y2=L+U,R.x3=z,R.y3=L+U}destroy(R=!1){this._source&&(this._source.off("resize",this.update,this),R&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return deprecation(v8_0_0,"Texture.baseTexture is now Texture.source"),this._source}}Texture.EMPTY=new Texture({label:"EMPTY",source:new TextureSource({label:"EMPTY"})});Texture.EMPTY.destroy=NOOP;Texture.WHITE=new Texture({source:new BufferImageSource({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Texture.WHITE.destroy=NOOP;function updateQuadBounds(_,R,P){const{width:I,height:O}=P.orig,z=P.trim;if(z){const L=z.width,F=z.height;_.minX=z.x-R._x*I,_.maxX=_.minX+L,_.minY=z.y-R._y*O,_.maxY=_.minY+F}else _.minX=-R._x*I,_.maxX=_.minX+I,_.minY=-R._y*O,_.maxY=_.minY+O}const defaultMatrix=new Matrix;class Bounds{constructor(R=1/0,P=1/0,I=-1/0,O=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=defaultMatrix,this.minX=R,this.minY=P,this.maxX=I,this.maxY=O}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Rectangle);const R=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(R.x=0,R.y=0,R.width=0,R.height=0):R.copyFromBounds(this),R}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=defaultMatrix,this}set(R,P,I,O){this.minX=R,this.minY=P,this.maxX=I,this.maxY=O}addFrame(R,P,I,O,z){z||(z=this.matrix);const L=z.a,F=z.b,U=z.c,V=z.d,q=z.tx,W=z.ty;let Y=this.minX,Q=this.minY,ee=this.maxX,te=this.maxY,ie=L*R+U*P+q,ae=F*R+V*P+W;ie<Y&&(Y=ie),ae<Q&&(Q=ae),ie>ee&&(ee=ie),ae>te&&(te=ae),ie=L*I+U*P+q,ae=F*I+V*P+W,ie<Y&&(Y=ie),ae<Q&&(Q=ae),ie>ee&&(ee=ie),ae>te&&(te=ae),ie=L*R+U*O+q,ae=F*R+V*O+W,ie<Y&&(Y=ie),ae<Q&&(Q=ae),ie>ee&&(ee=ie),ae>te&&(te=ae),ie=L*I+U*O+q,ae=F*I+V*O+W,ie<Y&&(Y=ie),ae<Q&&(Q=ae),ie>ee&&(ee=ie),ae>te&&(te=ae),this.minX=Y,this.minY=Q,this.maxX=ee,this.maxY=te}addRect(R,P){this.addFrame(R.x,R.y,R.x+R.width,R.y+R.height,P)}addBounds(R,P){this.addFrame(R.minX,R.minY,R.maxX,R.maxY,P)}addBoundsMask(R){this.minX=this.minX>R.minX?this.minX:R.minX,this.minY=this.minY>R.minY?this.minY:R.minY,this.maxX=this.maxX<R.maxX?this.maxX:R.maxX,this.maxY=this.maxY<R.maxY?this.maxY:R.maxY}applyMatrix(R){const P=this.minX,I=this.minY,O=this.maxX,z=this.maxY,{a:L,b:F,c:U,d:V,tx:q,ty:W}=R;let Y=L*P+U*I+q,Q=F*P+V*I+W;this.minX=Y,this.minY=Q,this.maxX=Y,this.maxY=Q,Y=L*O+U*I+q,Q=F*O+V*I+W,this.minX=Y<this.minX?Y:this.minX,this.minY=Q<this.minY?Q:this.minY,this.maxX=Y>this.maxX?Y:this.maxX,this.maxY=Q>this.maxY?Q:this.maxY,Y=L*P+U*z+q,Q=F*P+V*z+W,this.minX=Y<this.minX?Y:this.minX,this.minY=Q<this.minY?Q:this.minY,this.maxX=Y>this.maxX?Y:this.maxX,this.maxY=Q>this.maxY?Q:this.maxY,Y=L*O+U*z+q,Q=F*O+V*z+W,this.minX=Y<this.minX?Y:this.minX,this.minY=Q<this.minY?Q:this.minY,this.maxX=Y>this.maxX?Y:this.maxX,this.maxY=Q>this.maxY?Q:this.maxY}fit(R){return this.minX<R.left&&(this.minX=R.left),this.maxX>R.right&&(this.maxX=R.right),this.minY<R.top&&(this.minY=R.top),this.maxY>R.bottom&&(this.maxY=R.bottom),this}fitBounds(R,P,I,O){return this.minX<R&&(this.minX=R),this.maxX>P&&(this.maxX=P),this.minY<I&&(this.minY=I),this.maxY>O&&(this.maxY=O),this}pad(R,P=R){return this.minX-=R,this.maxX+=R,this.minY-=P,this.maxY+=P,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Bounds(this.minX,this.minY,this.maxX,this.maxY)}scale(R,P=R){return this.minX*=R,this.minY*=P,this.maxX*=R,this.maxY*=P,this}get x(){return this.minX}set x(R){const P=this.maxX-this.minX;this.minX=R,this.maxX=R+P}get y(){return this.minY}set y(R){const P=this.maxY-this.minY;this.minY=R,this.maxY=R+P}get width(){return this.maxX-this.minX}set width(R){this.maxX=this.minX+R}get height(){return this.maxY-this.minY}set height(R){this.maxY=this.minY+R}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(R,P,I,O){let z=this.minX,L=this.minY,F=this.maxX,U=this.maxY;O||(O=this.matrix);const V=O.a,q=O.b,W=O.c,Y=O.d,Q=O.tx,ee=O.ty;for(let te=P;te<I;te+=2){const ie=R[te],ae=R[te+1],se=V*ie+W*ae+Q,le=q*ie+Y*ae+ee;z=se<z?se:z,L=le<L?le:L,F=se>F?se:F,U=le>U?le:U}this.minX=z,this.minY=L,this.maxX=F,this.maxY=U}containsPoint(R,P){return this.minX<=R&&this.minY<=P&&this.maxX>=R&&this.maxY>=P}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(R){return this.minX=R.minX,this.minY=R.minY,this.maxX=R.maxX,this.maxY=R.maxY,this}}var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(_){return typeof _=="string"?_.length>0:typeof _=="number"},n=function(_,R,P){return R===void 0&&(R=0),P===void 0&&(P=Math.pow(10,R)),Math.round(P*_)/P+0},e=function(_,R,P){return R===void 0&&(R=0),P===void 0&&(P=1),_>P?P:_>R?_:R},u=function(_){return(_=isFinite(_)?_%360:0)>0?_:_+360},a$1=function(_){return{r:e(_.r,0,255),g:e(_.g,0,255),b:e(_.b,0,255),a:e(_.a)}},o=function(_){return{r:n(_.r),g:n(_.g),b:n(_.b),a:n(_.a,3)}},i$1=/^#([0-9a-f]{3,8})$/i,s$2=function(_){var R=_.toString(16);return R.length<2?"0"+R:R},h$1=function(_){var R=_.r,P=_.g,I=_.b,O=_.a,z=Math.max(R,P,I),L=z-Math.min(R,P,I),F=L?z===R?(P-I)/L:z===P?2+(I-R)/L:4+(R-P)/L:0;return{h:60*(F<0?F+6:F),s:z?L/z*100:0,v:z/255*100,a:O}},b=function(_){var R=_.h,P=_.s,I=_.v,O=_.a;R=R/360*6,P/=100,I/=100;var z=Math.floor(R),L=I*(1-P),F=I*(1-(R-z)*P),U=I*(1-(1-R+z)*P),V=z%6;return{r:255*[I,F,L,L,U,I][V],g:255*[U,I,I,F,L,L][V],b:255*[L,L,U,I,I,F][V],a:O}},g=function(_){return{h:u(_.h),s:e(_.s,0,100),l:e(_.l,0,100),a:e(_.a)}},d=function(_){return{h:n(_.h),s:n(_.s),l:n(_.l),a:n(_.a,3)}},f=function(_){return b((P=(R=_).s,{h:R.h,s:(P*=((I=R.l)<50?I:100-I)/100)>0?2*P/(I+P)*100:0,v:I+P,a:R.a}));var R,P,I},c$3=function(_){return{h:(R=h$1(_)).h,s:(O=(200-(P=R.s))*(I=R.v)/100)>0&&O<200?P*I/100/(O<=100?O:200-O)*100:0,l:O/2,a:R.a};var R,P,I,O},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$1={string:[[function(_){var R=i$1.exec(_);return R?(_=R[1]).length<=4?{r:parseInt(_[0]+_[0],16),g:parseInt(_[1]+_[1],16),b:parseInt(_[2]+_[2],16),a:_.length===4?n(parseInt(_[3]+_[3],16)/255,2):1}:_.length===6||_.length===8?{r:parseInt(_.substr(0,2),16),g:parseInt(_.substr(2,2),16),b:parseInt(_.substr(4,2),16),a:_.length===8?n(parseInt(_.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(_){var R=v.exec(_)||m.exec(_);return R?R[2]!==R[4]||R[4]!==R[6]?null:a$1({r:Number(R[1])/(R[2]?100/255:1),g:Number(R[3])/(R[4]?100/255:1),b:Number(R[5])/(R[6]?100/255:1),a:R[7]===void 0?1:Number(R[7])/(R[8]?100:1)}):null},"rgb"],[function(_){var R=l.exec(_)||p$1.exec(_);if(!R)return null;var P,I,O=g({h:(P=R[1],I=R[2],I===void 0&&(I="deg"),Number(P)*(r[I]||1)),s:Number(R[3]),l:Number(R[4]),a:R[5]===void 0?1:Number(R[5])/(R[6]?100:1)});return f(O)},"hsl"]],object:[[function(_){var R=_.r,P=_.g,I=_.b,O=_.a,z=O===void 0?1:O;return t(R)&&t(P)&&t(I)?a$1({r:Number(R),g:Number(P),b:Number(I),a:Number(z)}):null},"rgb"],[function(_){var R=_.h,P=_.s,I=_.l,O=_.a,z=O===void 0?1:O;if(!t(R)||!t(P)||!t(I))return null;var L=g({h:Number(R),s:Number(P),l:Number(I),a:Number(z)});return f(L)},"hsl"],[function(_){var R=_.h,P=_.s,I=_.v,O=_.a,z=O===void 0?1:O;if(!t(R)||!t(P)||!t(I))return null;var L=(function(F){return{h:u(F.h),s:e(F.s,0,100),v:e(F.v,0,100),a:e(F.a)}})({h:Number(R),s:Number(P),v:Number(I),a:Number(z)});return b(L)},"hsv"]]},N=function(_,R){for(var P=0;P<R.length;P++){var I=R[P][0](_);if(I)return[I,R[P][1]]}return[null,void 0]},x$1=function(_){return typeof _=="string"?N(_.trim(),y$1.string):typeof _=="object"&&_!==null?N(_,y$1.object):[null,void 0]},M$1=function(_,R){var P=c$3(_);return{h:P.h,s:e(P.s+100*R,0,100),l:P.l,a:P.a}},H=function(_){return(299*_.r+587*_.g+114*_.b)/1e3/255},$=function(_,R){var P=c$3(_);return{h:P.h,s:P.s,l:e(P.l+100*R,0,100),a:P.a}},j=(function(){function _(R){this.parsed=x$1(R)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return _.prototype.isValid=function(){return this.parsed!==null},_.prototype.brightness=function(){return n(H(this.rgba),2)},_.prototype.isDark=function(){return H(this.rgba)<.5},_.prototype.isLight=function(){return H(this.rgba)>=.5},_.prototype.toHex=function(){return R=o(this.rgba),P=R.r,I=R.g,O=R.b,L=(z=R.a)<1?s$2(n(255*z)):"","#"+s$2(P)+s$2(I)+s$2(O)+L;var R,P,I,O,z,L},_.prototype.toRgb=function(){return o(this.rgba)},_.prototype.toRgbString=function(){return R=o(this.rgba),P=R.r,I=R.g,O=R.b,(z=R.a)<1?"rgba("+P+", "+I+", "+O+", "+z+")":"rgb("+P+", "+I+", "+O+")";var R,P,I,O,z},_.prototype.toHsl=function(){return d(c$3(this.rgba))},_.prototype.toHslString=function(){return R=d(c$3(this.rgba)),P=R.h,I=R.s,O=R.l,(z=R.a)<1?"hsla("+P+", "+I+"%, "+O+"%, "+z+")":"hsl("+P+", "+I+"%, "+O+"%)";var R,P,I,O,z},_.prototype.toHsv=function(){return R=h$1(this.rgba),{h:n(R.h),s:n(R.s),v:n(R.v),a:n(R.a,3)};var R},_.prototype.invert=function(){return w({r:255-(R=this.rgba).r,g:255-R.g,b:255-R.b,a:R.a});var R},_.prototype.saturate=function(R){return R===void 0&&(R=.1),w(M$1(this.rgba,R))},_.prototype.desaturate=function(R){return R===void 0&&(R=.1),w(M$1(this.rgba,-R))},_.prototype.grayscale=function(){return w(M$1(this.rgba,-1))},_.prototype.lighten=function(R){return R===void 0&&(R=.1),w($(this.rgba,R))},_.prototype.darken=function(R){return R===void 0&&(R=.1),w($(this.rgba,-R))},_.prototype.rotate=function(R){return R===void 0&&(R=15),this.hue(this.hue()+R)},_.prototype.alpha=function(R){return typeof R=="number"?w({r:(P=this.rgba).r,g:P.g,b:P.b,a:R}):n(this.rgba.a,3);var P},_.prototype.hue=function(R){var P=c$3(this.rgba);return typeof R=="number"?w({h:R,s:P.s,l:P.l,a:P.a}):n(P.h)},_.prototype.isEqual=function(R){return this.toHex()===w(R).toHex()},_})(),w=function(_){return _ instanceof j?_:new j(_)},S$1=[],k$1=function(_){_.forEach(function(R){S$1.indexOf(R)<0&&(R(j,y$1),S$1.push(R))})};function namesPlugin(_,R){var P={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},I={};for(var O in P)I[P[O]]=O;var z={};_.prototype.toName=function(L){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var F,U,V=I[this.toHex()];if(V)return V;if(L?.closest){var q=this.toRgb(),W=1/0,Y="black";if(!z.length)for(var Q in P)z[Q]=new _(P[Q]).toRgb();for(var ee in P){var te=(F=q,U=z[ee],Math.pow(F.r-U.r,2)+Math.pow(F.g-U.g,2)+Math.pow(F.b-U.b,2));te<W&&(W=te,Y=ee)}return Y}},R.string.push([function(L){var F=L.toLowerCase(),U=F==="transparent"?"#0000":P[F];return U?new _(U).toRgb():null},"name"])}k$1([namesPlugin]);const _Color=class Fa{constructor(R=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=R}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(R){return this.value=R,this}set value(R){if(R instanceof Fa)this._value=this._cloneSource(R._value),this._int=R._int,this._components.set(R._components);else{if(R===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,R))&&(this._value=this._cloneSource(R),this._normalize(this._value))}}get value(){return this._value}_cloneSource(R){return typeof R=="string"||typeof R=="number"||R instanceof Number||R===null?R:Array.isArray(R)||ArrayBuffer.isView(R)?R.slice(0):typeof R=="object"&&R!==null?{...R}:R}_isSourceEqual(R,P){const I=typeof R;if(I!==typeof P)return!1;if(I==="number"||I==="string"||R instanceof Number)return R===P;if(Array.isArray(R)&&Array.isArray(P)||ArrayBuffer.isView(R)&&ArrayBuffer.isView(P))return R.length!==P.length?!1:R.every((z,L)=>z===P[L]);if(R!==null&&P!==null){const z=Object.keys(R),L=Object.keys(P);return z.length!==L.length?!1:z.every(F=>R[F]===P[F])}return R===P}toRgba(){const[R,P,I,O]=this._components;return{r:R,g:P,b:I,a:O}}toRgb(){const[R,P,I]=this._components;return{r:R,g:P,b:I}}toRgbaString(){const[R,P,I]=this.toUint8RgbArray();return`rgba(${R},${P},${I},${this.alpha})`}toUint8RgbArray(R){const[P,I,O]=this._components;return this._arrayRgb||(this._arrayRgb=[]),R||(R=this._arrayRgb),R[0]=Math.round(P*255),R[1]=Math.round(I*255),R[2]=Math.round(O*255),R}toArray(R){this._arrayRgba||(this._arrayRgba=[]),R||(R=this._arrayRgba);const[P,I,O,z]=this._components;return R[0]=P,R[1]=I,R[2]=O,R[3]=z,R}toRgbArray(R){this._arrayRgb||(this._arrayRgb=[]),R||(R=this._arrayRgb);const[P,I,O]=this._components;return R[0]=P,R[1]=I,R[2]=O,R}toNumber(){return this._int}toBgrNumber(){const[R,P,I]=this.toUint8RgbArray();return(I<<16)+(P<<8)+R}toLittleEndianNumber(){const R=this._int;return(R>>16)+(R&65280)+((R&255)<<16)}multiply(R){const[P,I,O,z]=Fa._temp.setValue(R)._components;return this._components[0]*=P,this._components[1]*=I,this._components[2]*=O,this._components[3]*=z,this._refreshInt(),this._value=null,this}premultiply(R,P=!0){return P&&(this._components[0]*=R,this._components[1]*=R,this._components[2]*=R),this._components[3]=R,this._refreshInt(),this._value=null,this}toPremultiplied(R,P=!0){if(R===1)return(255<<24)+this._int;if(R===0)return P?0:this._int;let I=this._int>>16&255,O=this._int>>8&255,z=this._int&255;return P&&(I=I*R+.5|0,O=O*R+.5|0,z=z*R+.5|0),(R*255<<24)+(I<<16)+(O<<8)+z}toHex(){const R=this._int.toString(16);return`#${"000000".substring(0,6-R.length)+R}`}toHexa(){const P=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-P.length)+P}setAlpha(R){return this._components[3]=this._clamp(R),this}_normalize(R){let P,I,O,z;if((typeof R=="number"||R instanceof Number)&&R>=0&&R<=16777215){const L=R;P=(L>>16&255)/255,I=(L>>8&255)/255,O=(L&255)/255,z=1}else if((Array.isArray(R)||R instanceof Float32Array)&&R.length>=3&&R.length<=4)R=this._clamp(R),[P,I,O,z=1]=R;else if((R instanceof Uint8Array||R instanceof Uint8ClampedArray)&&R.length>=3&&R.length<=4)R=this._clamp(R,0,255),[P,I,O,z=255]=R,P/=255,I/=255,O/=255,z/=255;else if(typeof R=="string"||typeof R=="object"){if(typeof R=="string"){const F=Fa.HEX_PATTERN.exec(R);F&&(R=`#${F[2]}`)}const L=w(R);L.isValid()&&({r:P,g:I,b:O,a:z}=L.rgba,P/=255,I/=255,O/=255)}if(P!==void 0)this._components[0]=P,this._components[1]=I,this._components[2]=O,this._components[3]=z,this._refreshInt();else throw new Error(`Unable to convert color ${R}`)}_refreshInt(){this._clamp(this._components);const[R,P,I]=this._components;this._int=(R*255<<16)+(P*255<<8)+(I*255|0)}_clamp(R,P=0,I=1){return typeof R=="number"?Math.min(Math.max(R,P),I):(R.forEach((O,z)=>{R[z]=Math.min(Math.max(O,P),I)}),R)}static isColorLike(R){return typeof R=="number"||typeof R=="string"||R instanceof Number||R instanceof Fa||Array.isArray(R)||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Float32Array||R.r!==void 0&&R.g!==void 0&&R.b!==void 0||R.r!==void 0&&R.g!==void 0&&R.b!==void 0&&R.a!==void 0||R.h!==void 0&&R.s!==void 0&&R.l!==void 0||R.h!==void 0&&R.s!==void 0&&R.l!==void 0&&R.a!==void 0||R.h!==void 0&&R.s!==void 0&&R.v!==void 0||R.h!==void 0&&R.s!==void 0&&R.v!==void 0&&R.a!==void 0}};_Color.shared=new _Color;_Color._temp=new _Color;_Color.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Color$1=_Color;const cullingMixin={cullArea:null,cullable:!1,cullableChildren:!0};let warnCount=0;const maxWarnings=500;function warn$1(..._){warnCount!==maxWarnings&&(warnCount++,warnCount===maxWarnings?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",..._))}const GlobalResourceRegistry={_registeredResources:new Set,register(_){this._registeredResources.add(_)},unregister(_){this._registeredResources.delete(_)},release(){this._registeredResources.forEach(_=>_.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(_){return this._registeredResources.has(_)},reset(){this._registeredResources.clear()}};class Pool{constructor(R,P){this._pool=[],this._count=0,this._index=0,this._classType=R,P&&this.prepopulate(P)}prepopulate(R){for(let P=0;P<R;P++)this._pool[this._index++]=new this._classType;this._count+=R}get(R){let P;return this._index>0?P=this._pool[--this._index]:(P=new this._classType,this._count++),P.init?.(R),P}return(R){R.reset?.(),this._pool[this._index++]=R}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let R=0;R<this._index;R++)this._pool[R].destroy();this._pool.length=0,this._count=0,this._index=0}}class PoolGroupClass{constructor(){this._poolsByClass=new Map}prepopulate(R,P){this.getPool(R).prepopulate(P)}get(R,P){return this.getPool(R).get(P)}return(R){this.getPool(R.constructor).return(R)}getPool(R){return this._poolsByClass.has(R)||this._poolsByClass.set(R,new Pool(R)),this._poolsByClass.get(R)}stats(){const R={};return this._poolsByClass.forEach(P=>{const I=R[P._classType.name]?P._classType.name+P._classType.ID:P._classType.name;R[I]={free:P.totalFree,used:P.totalUsed,size:P.totalSize}}),R}clear(){this._poolsByClass.forEach(R=>R.clear()),this._poolsByClass.clear()}}const BigPool=new PoolGroupClass;GlobalResourceRegistry.register(BigPool);const cacheAsTextureMixin={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(_){typeof _=="boolean"&&_===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(_===!0?{}:_))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(_){deprecation("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(_)}};function removeItems(_,R,P){const I=_.length;let O;if(R>=I||P===0)return;P=R+P>I?I-R:P;const z=I-P;for(O=R;O<z;++O)_[O]=_[O+P];_.length=z}const childrenHelperMixin={allowChildren:!0,removeChildren(_=0,R){const P=R??this.children.length,I=P-_,O=[];if(I>0&&I<=P){for(let L=P-1;L>=_;L--){const F=this.children[L];F&&(O.push(F),F.parent=null)}removeItems(this.children,_,P);const z=this.renderGroup||this.parentRenderGroup;z&&z.removeChildren(O);for(let L=0;L<O.length;++L){const F=O[L];F.parentRenderLayer?.detach(F),this.emit("childRemoved",F,this,L),O[L].emit("removed",this)}return O.length>0&&this._didViewChangeTick++,O}else if(I===0&&this.children.length===0)return O;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(_){const R=this.getChildAt(_);return this.removeChild(R)},getChildAt(_){if(_<0||_>=this.children.length)throw new Error(`getChildAt: Index (${_}) does not exist.`);return this.children[_]},setChildIndex(_,R){if(R<0||R>=this.children.length)throw new Error(`The index ${R} supplied is out of bounds ${this.children.length}`);this.getChildIndex(_),this.addChildAt(_,R)},getChildIndex(_){const R=this.children.indexOf(_);if(R===-1)throw new Error("The supplied Container must be a child of the caller");return R},addChildAt(_,R){this.allowChildren||deprecation(v8_0_0,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:P}=this;if(R<0||R>P.length)throw new Error(`${_}addChildAt: The index ${R} supplied is out of bounds ${P.length}`);if(_.parent){const O=_.parent.children.indexOf(_);if(_.parent===this&&O===R)return _;O!==-1&&_.parent.children.splice(O,1)}R===P.length?P.push(_):P.splice(R,0,_),_.parent=this,_.didChange=!0,_._updateFlags=15;const I=this.renderGroup||this.parentRenderGroup;return I&&I.addChild(_),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",_,this,R),_.emit("added",this),_},swapChildren(_,R){if(_===R)return;const P=this.getChildIndex(_),I=this.getChildIndex(R);this.children[P]=R,this.children[I]=_;const O=this.renderGroup||this.parentRenderGroup;O&&(O.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(..._){return _.length===1?this.reparentChildAt(_[0],this.children.length):(_.forEach(R=>this.reparentChildAt(R,this.children.length)),_[0])},reparentChildAt(_,R){if(_.parent===this)return this.setChildIndex(_,R),_;const P=_.worldTransform.clone();_.removeFromParent(),this.addChildAt(_,R);const I=this.worldTransform.clone();return I.invert(),P.prepend(I),_.setFromMatrix(P),_},replaceChild(_,R){_.updateLocalTransform(),this.addChildAt(R,this.getChildIndex(_)),R.setFromMatrix(_.localTransform),R.updateLocalTransform(),this.removeChild(_)}},collectRenderablesMixin={collectRenderables(_,R,P){this.parentRenderLayer&&this.parentRenderLayer!==P||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(_,R,P):this.renderGroup?R.renderPipes.renderGroup.addRenderGroup(this.renderGroup,_):this.collectRenderablesWithEffects(_,R,P))},collectRenderablesSimple(_,R,P){const I=this.children,O=I.length;for(let z=0;z<O;z++)I[z].collectRenderables(_,R,P)},collectRenderablesWithEffects(_,R,P){const{renderPipes:I}=R;for(let O=0;O<this.effects.length;O++){const z=this.effects[O];I[z.pipe].push(z,this,_)}this.collectRenderablesSimple(_,R,P);for(let O=this.effects.length-1;O>=0;O--){const z=this.effects[O];I[z.pipe].pop(z,this,_)}}};class FilterEffect{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let R=0;R<this.filters.length;R++)this.filters[R].destroy();this.filters=null,this.filterArea=null}}class MaskEffectManagerClass{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(R=>{this.add({test:R.test,maskClass:R})}))}add(R){this._tests.push(R)}getMaskEffect(R){this._initialized||this.init();for(let P=0;P<this._tests.length;P++){const I=this._tests[P];if(I.test(R))return BigPool.get(I.maskClass,R)}return R}returnMaskEffect(R){BigPool.return(R)}}const MaskEffectManager=new MaskEffectManagerClass;extensions.handleByList(ExtensionType.MaskEffect,MaskEffectManager._effectClasses);const effectsMixin={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const _=this.renderGroup||this.parentRenderGroup;_&&(_.structureDidChange=!0)},addEffect(_){this.effects.indexOf(_)===-1&&(this.effects.push(_),this.effects.sort((P,I)=>P.priority-I.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(_){const R=this.effects.indexOf(_);R!==-1&&(this.effects.splice(R,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(_){const R=this._maskEffect;R?.mask!==_&&(R&&(this.removeEffect(R),MaskEffectManager.returnMaskEffect(R),this._maskEffect=null),_!=null&&(this._maskEffect=MaskEffectManager.getMaskEffect(_),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(_){this._maskOptions={...this._maskOptions,..._},_.mask&&(this.mask=_.mask),this._markStructureAsChanged()},set filters(_){!Array.isArray(_)&&_&&(_=[_]);const R=this._filterEffect||(this._filterEffect=new FilterEffect);_=_;const P=_?.length>0,I=R.filters?.length>0,O=P!==I;_=Array.isArray(_)?_.slice(0):_,R.filters=Object.freeze(_),O&&(P?this.addEffect(R):(this.removeEffect(R),R.filters=_??null))},get filters(){return this._filterEffect?.filters},set filterArea(_){this._filterEffect||(this._filterEffect=new FilterEffect),this._filterEffect.filterArea=_},get filterArea(){return this._filterEffect?.filterArea}},findMixin={label:null,get name(){return deprecation(v8_0_0,"Container.name property has been removed, use Container.label instead"),this.label},set name(_){deprecation(v8_0_0,"Container.name property has been removed, use Container.label instead"),this.label=_},getChildByName(_,R=!1){return this.getChildByLabel(_,R)},getChildByLabel(_,R=!1){const P=this.children;for(let I=0;I<P.length;I++){const O=P[I];if(O.label===_||_ instanceof RegExp&&_.test(O.label))return O}if(R)for(let I=0;I<P.length;I++){const z=P[I].getChildByLabel(_,!0);if(z)return z}return null},getChildrenByLabel(_,R=!1,P=[]){const I=this.children;for(let O=0;O<I.length;O++){const z=I[O];(z.label===_||_ instanceof RegExp&&_.test(z.label))&&P.push(z)}if(R)for(let O=0;O<I.length;O++)I[O].getChildrenByLabel(_,!0,P);return P}},matrixPool=BigPool.getPool(Matrix),boundsPool=BigPool.getPool(Bounds),tempMatrix$2=new Matrix,getFastGlobalBoundsMixin={getFastGlobalBounds(_,R){R||(R=new Bounds),R.clear(),this._getGlobalBoundsRecursive(!!_,R,this.parentRenderLayer),R.isValid||R.set(0,0,0,0);const P=this.renderGroup||this.parentRenderGroup;return R.applyMatrix(P.worldTransform),R},_getGlobalBoundsRecursive(_,R,P){let I=R;if(_&&this.parentRenderLayer&&this.parentRenderLayer!==P||this.localDisplayStatus!==7||!this.measurable)return;const O=!!this.effects.length;if((this.renderGroup||O)&&(I=boundsPool.get().clear()),this.boundsArea)R.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const L=this.bounds;I.addFrame(L.minX,L.minY,L.maxX,L.maxY,this.groupTransform)}const z=this.children;for(let L=0;L<z.length;L++)z[L]._getGlobalBoundsRecursive(_,I,P)}if(O){let z=!1;const L=this.renderGroup||this.parentRenderGroup;for(let F=0;F<this.effects.length;F++)this.effects[F].addBounds&&(z||(z=!0,I.applyMatrix(L.worldTransform)),this.effects[F].addBounds(I,!0));z&&I.applyMatrix(L.worldTransform.copyTo(tempMatrix$2).invert()),R.addBounds(I),boundsPool.return(I)}else this.renderGroup&&(R.addBounds(I,this.relativeGroupTransform),boundsPool.return(I))}};function getGlobalBounds(_,R,P){P.clear();let I,O;return _.parent?R?I=_.parent.worldTransform:(O=matrixPool.get().identity(),I=updateTransformBackwards(_,O)):I=Matrix.IDENTITY,_getGlobalBounds(_,P,I,R),O&&matrixPool.return(O),P.isValid||P.set(0,0,0,0),P}function _getGlobalBounds(_,R,P,I){if(!_.visible||!_.measurable)return;let O;I?O=_.worldTransform:(_.updateLocalTransform(),O=matrixPool.get(),O.appendFrom(_.localTransform,P));const z=R,L=!!_.effects.length;if(L&&(R=boundsPool.get().clear()),_.boundsArea)R.addRect(_.boundsArea,O);else{const F=_.bounds;F&&!F.isEmpty()&&(R.matrix=O,R.addBounds(F));for(let U=0;U<_.children.length;U++)_getGlobalBounds(_.children[U],R,O,I)}if(L){for(let F=0;F<_.effects.length;F++)_.effects[F].addBounds?.(R);z.addBounds(R,Matrix.IDENTITY),boundsPool.return(R)}I||matrixPool.return(O)}function updateTransformBackwards(_,R){const P=_.parent;return P&&(updateTransformBackwards(P,R),P.updateLocalTransform(),R.append(P.localTransform)),R}function multiplyHexColors(_,R){if(_===16777215||!R)return R;if(R===16777215||!_)return _;const P=_>>16&255,I=_>>8&255,O=_&255,z=R>>16&255,L=R>>8&255,F=R&255,U=P*z/255|0,V=I*L/255|0,q=O*F/255|0;return(U<<16)+(V<<8)+q}const WHITE_BGR=16777215;function multiplyColors(_,R){return _===WHITE_BGR?R:R===WHITE_BGR?_:multiplyHexColors(_,R)}function bgr2rgb(_){return((_&255)<<16)+(_&65280)+(_>>16&255)}const getGlobalMixin={getGlobalAlpha(_){if(_)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let R=this.alpha,P=this.parent;for(;P;)R*=P.alpha,P=P.parent;return R},getGlobalTransform(_=new Matrix,R){if(R)return _.copyFrom(this.worldTransform);this.updateLocalTransform();const P=updateTransformBackwards(this,matrixPool.get().identity());return _.appendFrom(this.localTransform,P),matrixPool.return(P),_},getGlobalTint(_){if(_)return this.renderGroup?bgr2rgb(this.renderGroup.worldColor):this.parentRenderGroup?bgr2rgb(multiplyColors(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let R=this.localColor,P=this.parent;for(;P;)R=multiplyColors(R,P.localColor),P=P.parent;return bgr2rgb(R)}};function getLocalBounds(_,R,P){return R.clear(),P||(P=Matrix.IDENTITY),_getLocalBounds(_,R,P,_,!0),R.isValid||R.set(0,0,0,0),R}function _getLocalBounds(_,R,P,I,O){let z;if(O)z=matrixPool.get(),z=P.copyTo(z);else{if(!_.visible||!_.measurable)return;_.updateLocalTransform();const U=_.localTransform;z=matrixPool.get(),z.appendFrom(U,P)}const L=R,F=!!_.effects.length;if(F&&(R=boundsPool.get().clear()),_.boundsArea)R.addRect(_.boundsArea,z);else{_.renderPipeId&&(R.matrix=z,R.addBounds(_.bounds));const U=_.children;for(let V=0;V<U.length;V++)_getLocalBounds(U[V],R,z,I,!1)}if(F){for(let U=0;U<_.effects.length;U++)_.effects[U].addLocalBounds?.(R,I);L.addBounds(R,Matrix.IDENTITY),boundsPool.return(R)}matrixPool.return(z)}function checkChildrenDidChange(_,R){const P=_.children;for(let I=0;I<P.length;I++){const O=P[I],z=O.uid,L=(O._didViewChangeTick&65535)<<16|O._didContainerChangeTick&65535,F=R.index;(R.data[F]!==z||R.data[F+1]!==L)&&(R.data[R.index]=z,R.data[R.index+1]=L,R.didChange=!0),R.index=F+2,O.children.length&&checkChildrenDidChange(O,R)}return R.didChange}const tempMatrix$1=new Matrix,measureMixin={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(_,R){const P=Math.sign(this.scale.x)||1;R!==0?this.scale.x=_/R*P:this.scale.x=P},_setHeight(_,R){const P=Math.sign(this.scale.y)||1;R!==0?this.scale.y=_/R*P:this.scale.y=P},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Bounds});const _=this._localBoundsCacheData;return _.index=1,_.didChange=!1,_.data[0]!==this._didViewChangeTick&&(_.didChange=!0,_.data[0]=this._didViewChangeTick),checkChildrenDidChange(this,_),_.didChange&&getLocalBounds(this,_.localBounds,tempMatrix$1),_.localBounds},getBounds(_,R){return getGlobalBounds(this,_,R||new Bounds)}},onRenderMixin={_onRender:null,set onRender(_){const R=this.renderGroup||this.parentRenderGroup;if(!_){this._onRender&&R?.removeOnRender(this),this._onRender=null;return}this._onRender||R?.addOnRender(this),this._onRender=_},get onRender(){return this._onRender}},sortMixin={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(_){this._zIndex!==_&&(this._zIndex=_,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(sortChildren))}};function sortChildren(_,R){return _._zIndex-R._zIndex}const toLocalGlobalMixin={getGlobalPosition(_=new Point,R=!1){return this.parent?this.parent.toGlobal(this._position,_,R):(_.x=this._position.x,_.y=this._position.y),_},toGlobal(_,R,P=!1){const I=this.getGlobalTransform(matrixPool.get(),P);return R=I.apply(_,R),matrixPool.return(I),R},toLocal(_,R,P,I){R&&(_=R.toGlobal(_,P,I));const O=this.getGlobalTransform(matrixPool.get(),I);return P=O.applyInverse(_,P),matrixPool.return(O),P}};class InstructionSet{constructor(){this.uid=uid("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(R){this.instructions[this.instructionSize++]=R}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let count$1=0;class TexturePoolClass{constructor(R){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=R||{},this.enableFullScreen=!1,this.textureStyle=new TextureStyle(this.textureOptions)}createTexture(R,P,I){const O=new TextureSource({...this.textureOptions,width:R,height:P,resolution:1,antialias:I,autoGarbageCollect:!1});return new Texture({source:O,label:`texturePool_${count$1++}`})}getOptimalTexture(R,P,I=1,O){let z=Math.ceil(R*I-1e-6),L=Math.ceil(P*I-1e-6);z=nextPow2(z),L=nextPow2(L);const F=(z<<17)+(L<<1)+(O?1:0);this._texturePool[F]||(this._texturePool[F]=[]);let U=this._texturePool[F].pop();return U||(U=this.createTexture(z,L,O)),U.source._resolution=I,U.source.width=z/I,U.source.height=L/I,U.source.pixelWidth=z,U.source.pixelHeight=L,U.frame.x=0,U.frame.y=0,U.frame.width=R,U.frame.height=P,U.updateUvs(),this._poolKeyHash[U.uid]=F,U}getSameSizeTexture(R,P=!1){const I=R.source;return this.getOptimalTexture(R.width,R.height,I._resolution,P)}returnTexture(R,P=!1){const I=this._poolKeyHash[R.uid];P&&(R.source.style=this.textureStyle),this._texturePool[I].push(R)}clear(R){if(R=R!==!1,R)for(const P in this._texturePool){const I=this._texturePool[P];if(I)for(let O=0;O<I.length;O++)I[O].destroy(!0)}this._texturePool={}}}const TexturePool=new TexturePoolClass;GlobalResourceRegistry.register(TexturePool);class RenderGroup{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Matrix,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new InstructionSet,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(R){this.root=R,R._onRender&&this.addOnRender(R),R.didChange=!0;const P=R.children;for(let I=0;I<P.length;I++){const O=P[I];O._updateFlags=15,this.addChild(O)}}enableCacheAsTexture(R={}){this.textureOptions=R,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(TexturePool.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const R=this._parentCacheAsTextureRenderGroup;R&&!R.textureNeedsUpdate&&R.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const R in this.childrenToUpdate){const P=this.childrenToUpdate[R];P.list.fill(null),P.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(R){R.renderGroupParent&&R.renderGroupParent._removeRenderGroupChild(R),R.renderGroupParent=this,this.renderGroupChildren.push(R)}_removeRenderGroupChild(R){const P=this.renderGroupChildren.indexOf(R);P>-1&&this.renderGroupChildren.splice(P,1),R.renderGroupParent=null}addChild(R){if(this.structureDidChange=!0,R.parentRenderGroup=this,R.updateTick=-1,R.parent===this.root?R.relativeRenderGroupDepth=1:R.relativeRenderGroupDepth=R.parent.relativeRenderGroupDepth+1,R.didChange=!0,this.onChildUpdate(R),R.renderGroup){this.addRenderGroupChild(R.renderGroup);return}R._onRender&&this.addOnRender(R);const P=R.children;for(let I=0;I<P.length;I++)this.addChild(P[I])}removeChild(R){if(this.structureDidChange=!0,R._onRender&&(R.renderGroup||this.removeOnRender(R)),R.parentRenderGroup=null,R.renderGroup){this._removeRenderGroupChild(R.renderGroup);return}const P=R.children;for(let I=0;I<P.length;I++)this.removeChild(P[I])}removeChildren(R){for(let P=0;P<R.length;P++)this.removeChild(R[P])}onChildUpdate(R){let P=this.childrenToUpdate[R.relativeRenderGroupDepth];P||(P=this.childrenToUpdate[R.relativeRenderGroupDepth]={index:0,list:[]}),P.list[P.index++]=R}updateRenderable(R){R.globalDisplayStatus<7||(this.instructionSet.renderPipes[R.renderPipeId].updateRenderable(R),R.didViewUpdate=!1)}onChildViewUpdate(R){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=R}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(R){this._onRenderContainers.push(R)}removeOnRender(R){this._onRenderContainers.splice(this._onRenderContainers.indexOf(R),1)}runOnRender(R){for(let P=0;P<this._onRenderContainers.length;P++)this._onRenderContainers[P]._onRender(R)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(R=[]){const P=this.root.children;for(let I=0;I<P.length;I++)this._getChildren(P[I],R);return R}_getChildren(R,P=[]){if(P.push(R),R.renderGroup)return P;const I=R.children;for(let O=0;O<I.length;O++)this._getChildren(I[O],P);return P}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Matrix),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Matrix),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const R=this._parentCacheAsTextureRenderGroup;return R?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Matrix),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(R.inverseWorldTransform).translate(-R._textureBounds.x,-R._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function assignWithIgnore(_,R,P={}){for(const I in R)!P[I]&&R[I]!==void 0&&(_[I]=R[I])}const defaultSkew=new ObservablePoint(null),defaultPivot=new ObservablePoint(null),defaultScale=new ObservablePoint(null,1,1),defaultOrigin=new ObservablePoint(null),UPDATE_COLOR=1,UPDATE_BLEND=2,UPDATE_VISIBLE=4;class Container extends EventEmitter{constructor(R={}){super(),this.uid=uid("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new Matrix,this.relativeGroupTransform=new Matrix,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new ObservablePoint(this,0,0),this._scale=defaultScale,this._pivot=defaultPivot,this._origin=defaultOrigin,this._skew=defaultSkew,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],assignWithIgnore(this,R,{children:!0,parent:!0,effects:!0}),R.children?.forEach(P=>this.addChild(P)),R.parent?.addChild(this)}static mixin(R){deprecation("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),extensions.mixin(Container,R)}set _didChangeId(R){this._didViewChangeTick=R>>12&4095,this._didContainerChangeTick=R&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...R){if(this.allowChildren||deprecation(v8_0_0,"addChild: Only Containers will be allowed to add children in v8.0.0"),R.length>1){for(let O=0;O<R.length;O++)this.addChild(R[O]);return R[0]}const P=R[0],I=this.renderGroup||this.parentRenderGroup;return P.parent===this?(this.children.splice(this.children.indexOf(P),1),this.children.push(P),I&&(I.structureDidChange=!0),P):(P.parent&&P.parent.removeChild(P),this.children.push(P),this.sortableChildren&&(this.sortDirty=!0),P.parent=this,P.didChange=!0,P._updateFlags=15,I&&I.addChild(P),this.emit("childAdded",P,this,this.children.length-1),P.emit("added",this),this._didViewChangeTick++,P._zIndex!==0&&P.depthOfChildModified(),P)}removeChild(...R){if(R.length>1){for(let O=0;O<R.length;O++)this.removeChild(R[O]);return R[0]}const P=R[0],I=this.children.indexOf(P);return I>-1&&(this._didViewChangeTick++,this.children.splice(I,1),this.renderGroup?this.renderGroup.removeChild(P):this.parentRenderGroup&&this.parentRenderGroup.removeChild(P),P.parentRenderLayer&&P.parentRenderLayer.detach(P),P.parent=null,this.emit("childRemoved",P,this,I),P.emit("removed",this)),P}_onUpdate(R){R&&R===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(R){!!this.renderGroup!==R&&(R?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const R=this.parentRenderGroup;R?.removeChild(this),this.renderGroup=BigPool.get(RenderGroup,this),this.groupTransform=Matrix.IDENTITY,R?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const R=this.parentRenderGroup;R?.removeChild(this),BigPool.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,R?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Matrix),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(R){this._position.x=R}get y(){return this._position.y}set y(R){this._position.y=R}get position(){return this._position}set position(R){this._position.copyFrom(R)}get rotation(){return this._rotation}set rotation(R){this._rotation!==R&&(this._rotation=R,this._onUpdate(this._skew))}get angle(){return this.rotation*RAD_TO_DEG}set angle(R){this.rotation=R*DEG_TO_RAD}get pivot(){return this._pivot===defaultPivot&&(this._pivot=new ObservablePoint(this,0,0)),this._pivot}set pivot(R){this._pivot===defaultPivot&&(this._pivot=new ObservablePoint(this,0,0),this._origin!==defaultOrigin&&warn$1("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof R=="number"?this._pivot.set(R):this._pivot.copyFrom(R)}get skew(){return this._skew===defaultSkew&&(this._skew=new ObservablePoint(this,0,0)),this._skew}set skew(R){this._skew===defaultSkew&&(this._skew=new ObservablePoint(this,0,0)),this._skew.copyFrom(R)}get scale(){return this._scale===defaultScale&&(this._scale=new ObservablePoint(this,1,1)),this._scale}set scale(R){this._scale===defaultScale&&(this._scale=new ObservablePoint(this,0,0)),typeof R=="string"&&(R=parseFloat(R)),typeof R=="number"?this._scale.set(R):this._scale.copyFrom(R)}get origin(){return this._origin===defaultOrigin&&(this._origin=new ObservablePoint(this,0,0)),this._origin}set origin(R){this._origin===defaultOrigin&&(this._origin=new ObservablePoint(this,0,0),this._pivot!==defaultPivot&&warn$1("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof R=="number"?this._origin.set(R):this._origin.copyFrom(R)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(R){const P=this.getLocalBounds().width;this._setWidth(R,P)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(R){const P=this.getLocalBounds().height;this._setHeight(R,P)}getSize(R){R||(R={});const P=this.getLocalBounds();return R.width=Math.abs(this.scale.x*P.width),R.height=Math.abs(this.scale.y*P.height),R}setSize(R,P){const I=this.getLocalBounds();typeof R=="object"?(P=R.height??R.width,R=R.width):P??(P=R),R!==void 0&&this._setWidth(R,I.width),P!==void 0&&this._setHeight(P,I.height)}_updateSkew(){const R=this._rotation,P=this._skew;this._cx=Math.cos(R+P._y),this._sx=Math.sin(R+P._y),this._cy=-Math.sin(R-P._x),this._sy=Math.cos(R-P._x)}updateTransform(R){return this.position.set(typeof R.x=="number"?R.x:this.position.x,typeof R.y=="number"?R.y:this.position.y),this.scale.set(typeof R.scaleX=="number"?R.scaleX||1:this.scale.x,typeof R.scaleY=="number"?R.scaleY||1:this.scale.y),this.rotation=typeof R.rotation=="number"?R.rotation:this.rotation,this.skew.set(typeof R.skewX=="number"?R.skewX:this.skew.x,typeof R.skewY=="number"?R.skewY:this.skew.y),this.pivot.set(typeof R.pivotX=="number"?R.pivotX:this.pivot.x,typeof R.pivotY=="number"?R.pivotY:this.pivot.y),this.origin.set(typeof R.originX=="number"?R.originX:this.origin.x,typeof R.originY=="number"?R.originY:this.origin.y),this}setFromMatrix(R){R.decompose(this)}updateLocalTransform(){const R=this._didContainerChangeTick;if(this._didLocalTransformChangeId===R)return;this._didLocalTransformChangeId=R;const P=this.localTransform,I=this._scale,O=this._pivot,z=this._origin,L=this._position,F=I._x,U=I._y,V=O._x,q=O._y,W=-z._x,Y=-z._y;P.a=this._cx*F,P.b=this._sx*F,P.c=this._cy*U,P.d=this._sy*U,P.tx=L._x-(V*P.a+q*P.c)+(W*P.a+Y*P.c)-W,P.ty=L._y-(V*P.b+q*P.d)+(W*P.b+Y*P.d)-Y}set alpha(R){R!==this.localAlpha&&(this.localAlpha=R,this._updateFlags|=UPDATE_COLOR,this._onUpdate())}get alpha(){return this.localAlpha}set tint(R){const I=Color$1.shared.setValue(R??16777215).toBgrNumber();I!==this.localColor&&(this.localColor=I,this._updateFlags|=UPDATE_COLOR,this._onUpdate())}get tint(){return bgr2rgb(this.localColor)}set blendMode(R){this.localBlendMode!==R&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_BLEND,this.localBlendMode=R,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(R){const P=R?2:0;(this.localDisplayStatus&2)!==P&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(R){const P=R?0:4;(this.localDisplayStatus&4)!==P&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(R){const P=R?1:0;(this.localDisplayStatus&1)!==P&&(this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(R=!1){if(this.destroyed)return;this.destroyed=!0;let P;if(this.children.length&&(P=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof R=="boolean"?R:R?.children)&&P)for(let O=0;O<P.length;++O)P[O].destroy(R);this.renderGroup?.destroy(),this.renderGroup=null}}extensions.mixin(Container,childrenHelperMixin,getFastGlobalBoundsMixin,toLocalGlobalMixin,onRenderMixin,measureMixin,effectsMixin,findMixin,sortMixin,cullingMixin,cacheAsTextureMixin,getGlobalMixin,collectRenderablesMixin);class ViewContainer extends Container{constructor(R){super(R),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new Bounds(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(R){this._roundPixels=R?1:0}containsPoint(R){const P=this.bounds,{x:I,y:O}=R;return I>=P.minX&&I<=P.maxX&&O>=P.minY&&O<=P.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const R=this.renderGroup||this.parentRenderGroup;R&&R.onChildViewUpdate(this)}destroy(R){super.destroy(R),this._bounds=null;for(const P in this._gpuData)this._gpuData[P].destroy?.();this._gpuData=null}collectRenderablesSimple(R,P,I){const{renderPipes:O}=P;O.blendMode.pushBlendMode(this,this.groupBlendMode,R),O[this.renderPipeId].addRenderable(this,R),this.didViewUpdate=!1;const L=this.children,F=L.length;for(let U=0;U<F;U++)L[U].collectRenderables(R,P,I);O.blendMode.popBlendMode(R)}}class Sprite extends ViewContainer{constructor(R=Texture.EMPTY){R instanceof Texture&&(R={texture:R});const{texture:P=Texture.EMPTY,anchor:I,roundPixels:O,width:z,height:L,...F}=R;super({label:"Sprite",...F}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new ObservablePoint({_onUpdate:()=>{this.onViewUpdate()}}),I?this.anchor=I:P.defaultAnchor&&(this.anchor=P.defaultAnchor),this.texture=P,this.allowChildren=!1,this.roundPixels=O??!1,z!==void 0&&(this.width=z),L!==void 0&&(this.height=L)}static from(R,P=!1){return R instanceof Texture?new Sprite(R):new Sprite(Texture.from(R,P))}set texture(R){R||(R=Texture.EMPTY);const P=this._texture;P!==R&&(P&&P.dynamic&&P.off("update",this.onViewUpdate,this),R.dynamic&&R.on("update",this.onViewUpdate,this),this._texture=R,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return updateQuadBounds(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return deprecation("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const R=this._anchor,P=this._texture,I=this._bounds,{width:O,height:z}=P.orig;I.minX=-R._x*O,I.maxX=I.minX+O,I.minY=-R._y*z,I.maxY=I.minY+z}destroy(R=!1){if(super.destroy(R),typeof R=="boolean"?R:R?.texture){const I=typeof R=="boolean"?R:R?.textureSource;this._texture.destroy(I)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(R){typeof R=="number"?this._anchor.set(R):this._anchor.copyFrom(R)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(R){this._setWidth(R,this._texture.orig.width),this._width=R}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(R){this._setHeight(R,this._texture.orig.height),this._height=R}getSize(R){return R||(R={}),R.width=Math.abs(this.scale.x)*this._texture.orig.width,R.height=Math.abs(this.scale.y)*this._texture.orig.height,R}setSize(R,P){typeof R=="object"?(P=R.height??R.width,R=R.width):P??(P=R),R!==void 0&&this._setWidth(R,this._texture.orig.width),P!==void 0&&this._setHeight(P,this._texture.orig.height)}}const tempBounds=new Bounds;function addMaskBounds(_,R,P){const I=tempBounds;_.measurable=!0,getGlobalBounds(_,P,I),R.addBoundsMask(I),_.measurable=!1}function addMaskLocalBounds(_,R,P){const I=boundsPool.get();_.measurable=!0;const O=matrixPool.get().identity(),z=getMatrixRelativeToParent(_,P,O);getLocalBounds(_,I,z),_.measurable=!1,R.addBoundsMask(I),matrixPool.return(O),boundsPool.return(I)}function getMatrixRelativeToParent(_,R,P){return _?(_!==R&&(getMatrixRelativeToParent(_.parent,R,P),_.updateLocalTransform(),P.append(_.localTransform)),P):(warn$1("Mask bounds, renderable is not inside the root container"),P)}class AlphaMask{constructor(R){this.priority=0,this.inverse=!1,this.pipe="alphaMask",R?.mask&&this.init(R.mask)}init(R){this.mask=R,this.renderMaskToTexture=!(R instanceof Sprite),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(R,P){this.inverse||addMaskBounds(this.mask,R,P)}addLocalBounds(R,P){addMaskLocalBounds(this.mask,R,P)}containsPoint(R,P){const I=this.mask;return P(I,R)}destroy(){this.reset()}static test(R){return R instanceof Sprite}}AlphaMask.extension=ExtensionType.MaskEffect;class ColorMask{constructor(R){this.priority=0,this.pipe="colorMask",R?.mask&&this.init(R.mask)}init(R){this.mask=R}destroy(){}static test(R){return typeof R=="number"}}ColorMask.extension=ExtensionType.MaskEffect;class StencilMask{constructor(R){this.priority=0,this.pipe="stencilMask",R?.mask&&this.init(R.mask)}init(R){this.mask=R,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(R,P){addMaskBounds(this.mask,R,P)}addLocalBounds(R,P){addMaskLocalBounds(this.mask,R,P)}containsPoint(R,P){const I=this.mask;return P(I,R)}destroy(){this.reset()}static test(R){return R instanceof Container}}StencilMask.extension=ExtensionType.MaskEffect;const BrowserAdapter={createCanvas:(_,R)=>{const P=document.createElement("canvas");return P.width=_,P.height=R,P},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(_,R)=>fetch(_,R),parseXML:_=>new DOMParser().parseFromString(_,"text/xml")};let currentAdapter=BrowserAdapter;const DOMAdapter={get(){return currentAdapter},set(_){currentAdapter=_}};class CanvasSource extends TextureSource{constructor(R){R.resource||(R.resource=DOMAdapter.get().createCanvas()),R.width||(R.width=R.resource.width,R.autoDensity||(R.width/=R.resolution)),R.height||(R.height=R.resource.height,R.autoDensity||(R.height/=R.resolution)),super(R),this.uploadMethodId="image",this.autoDensity=R.autoDensity,this.resizeCanvas(),this.transparent=!!R.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(R=this.width,P=this.height,I=this._resolution){const O=super.resize(R,P,I);return O&&this.resizeCanvas(),O}static test(R){return globalThis.HTMLCanvasElement&&R instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&R instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}CanvasSource.extension=ExtensionType.TextureSource;class ImageSource extends TextureSource{constructor(R){super(R),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(R){return globalThis.HTMLImageElement&&R instanceof HTMLImageElement||typeof ImageBitmap<"u"&&R instanceof ImageBitmap||globalThis.VideoFrame&&R instanceof VideoFrame}}ImageSource.extension=ExtensionType.TextureSource;var UPDATE_PRIORITY=(_=>(_[_.INTERACTION=50]="INTERACTION",_[_.HIGH=25]="HIGH",_[_.NORMAL=0]="NORMAL",_[_.LOW=-25]="LOW",_[_.UTILITY=-50]="UTILITY",_))(UPDATE_PRIORITY||{});class TickerListener{constructor(R,P=null,I=0,O=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=R,this._context=P,this.priority=I,this._once=O}match(R,P=null){return this._fn===R&&this._context===P}emit(R){this._fn&&(this._context?this._fn.call(this._context,R):this._fn(R));const P=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),P}connect(R){this.previous=R,R.next&&(R.next.previous=this),this.next=R.next,R.next=this}destroy(R=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const P=this.next;return this.next=R?null:P,this.previous=null,P}}const _Ticker=class An{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/An.targetFPMS,this.elapsedMS=1/An.targetFPMS,this._tick=R=>{this._requestId=null,this.started&&(this.update(R),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(R,P,I=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(R,P,I))}addOnce(R,P,I=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(R,P,I,!0))}_addListener(R){let P=this._head.next,I=this._head;if(!P)R.connect(I);else{for(;P;){if(R.priority>P.priority){R.connect(I);break}I=P,P=P.next}R.previous||R.connect(I)}return this._startIfPossible(),this}remove(R,P){let I=this._head.next;for(;I;)I.match(R,P)?I=I.destroy():I=I.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let R=0,P=this._head;for(;P=P.next;)R++;return R}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let R=this._head.next;for(;R;)R=R.destroy(!0);this._head.destroy(),this._head=null}}update(R=performance.now()){let P;if(R>this.lastTime){if(P=this.elapsedMS=R-this.lastTime,P>this._maxElapsedMS&&(P=this._maxElapsedMS),P*=this.speed,this._minElapsedMS){const z=R-this._lastFrame|0;if(z<this._minElapsedMS)return;this._lastFrame=R-z%this._minElapsedMS}this.deltaMS=P,this.deltaTime=this.deltaMS*An.targetFPMS;const I=this._head;let O=I.next;for(;O;)O=O.emit(this);I.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=R}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(R){const P=Math.min(this.maxFPS,R),I=Math.min(Math.max(0,P)/1e3,An.targetFPMS);this._maxElapsedMS=1/I}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(R){if(R===0)this._minElapsedMS=0;else{const P=Math.max(this.minFPS,R);this._minElapsedMS=1/(P/1e3)}}static get shared(){if(!An._shared){const R=An._shared=new An;R.autoStart=!0,R._protected=!0}return An._shared}static get system(){if(!An._system){const R=An._system=new An;R.autoStart=!0,R._protected=!0}return An._system}};_Ticker.targetFPMS=.06;let Ticker=_Ticker,promise;async function detectVideoAlphaMode(){return promise??(promise=(async()=>{const R=DOMAdapter.get().createCanvas(1,1).getContext("webgl");if(!R)return"premultiply-alpha-on-upload";const P=await new Promise(L=>{const F=document.createElement("video");F.onloadeddata=()=>L(F),F.onerror=()=>L(null),F.autoplay=!1,F.crossOrigin="anonymous",F.preload="auto",F.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",F.load()});if(!P)return"premultiply-alpha-on-upload";const I=R.createTexture();R.bindTexture(R.TEXTURE_2D,I);const O=R.createFramebuffer();R.bindFramebuffer(R.FRAMEBUFFER,O),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,I,0),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),R.pixelStorei(R.UNPACK_COLORSPACE_CONVERSION_WEBGL,R.NONE),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,P);const z=new Uint8Array(4);return R.readPixels(0,0,1,1,R.RGBA,R.UNSIGNED_BYTE,z),R.deleteFramebuffer(O),R.deleteTexture(I),R.getExtension("WEBGL_lose_context")?.loseContext(),z[0]<=z[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),promise}const _VideoSource=class wd extends TextureSource{constructor(R){super(R),this.isReady=!1,this.uploadMethodId="video",R={...wd.defaultOptions,...R},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=R.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=R.autoPlay!==!1,this.alphaMode=R.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),R.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const R=Ticker.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-R)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const R=this.resource,P=this.options;return(R.readyState===R.HAVE_ENOUGH_DATA||R.readyState===R.HAVE_FUTURE_DATA)&&R.width&&R.height&&(R.complete=!0),R.addEventListener("play",this._onPlayStart),R.addEventListener("pause",this._onPlayStop),R.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(P.preload||R.addEventListener("canplay",this._onCanPlay),R.addEventListener("canplaythrough",this._onCanPlayThrough),R.addEventListener("error",this._onError,!0)),this.alphaMode=await detectVideoAlphaMode(),this._load=new Promise((I,O)=>{this.isValid?I(this):(this._resolve=I,this._reject=O,P.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${P.preloadTimeoutMs}ms`))})),R.load())}),this._load}_onError(R){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",R),this._reject&&(this._reject(R),this._reject=null,this._resolve=null)}_isSourcePlaying(){const R=this.resource;return!R.paused&&!R.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const R=this.resource;this.isValid&&(this.isReady=!0,this.resize(R.videoWidth,R.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const R=this.resource;R&&(R.removeEventListener("play",this._onPlayStart),R.removeEventListener("pause",this._onPlayStop),R.removeEventListener("seeked",this._onSeeked),R.removeEventListener("canplay",this._onCanPlay),R.removeEventListener("canplaythrough",this._onCanPlayThrough),R.removeEventListener("error",this._onError,!0),R.pause(),R.src="",R.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(R){R!==this._autoUpdate&&(this._autoUpdate=R,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(R){R!==this._updateFPS&&(this._updateFPS=R,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Ticker.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Ticker.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Ticker.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(R){return globalThis.HTMLVideoElement&&R instanceof HTMLVideoElement}};_VideoSource.extension=ExtensionType.TextureSource;_VideoSource.defaultOptions={...TextureSource.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};_VideoSource.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let VideoSource=_VideoSource;const convertToList=(_,R,P=!1)=>(Array.isArray(_)||(_=[_]),R?_.map(I=>typeof I=="string"||P?R(I):I):_);class CacheClass{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(R){return this._cache.has(R)}get(R){const P=this._cache.get(R);return P||warn$1(`[Assets] Asset id ${R} was not found in the Cache`),P}set(R,P){const I=convertToList(R);let O;for(let U=0;U<this.parsers.length;U++){const V=this.parsers[U];if(V.test(P)){O=V.getCacheableAssets(I,P);break}}const z=new Map(Object.entries(O||{}));O||I.forEach(U=>{z.set(U,P)});const L=[...z.keys()],F={cacheKeys:L,keys:I};I.forEach(U=>{this._cacheMap.set(U,F)}),L.forEach(U=>{const V=O?O[U]:P;this._cache.has(U)&&this._cache.get(U)!==V&&warn$1("[Cache] already has key:",U),this._cache.set(U,z.get(U))})}remove(R){if(!this._cacheMap.has(R)){warn$1(`[Assets] Asset id ${R} was not found in the Cache`);return}const P=this._cacheMap.get(R);P.cacheKeys.forEach(O=>{this._cache.delete(O)}),P.keys.forEach(O=>{this._cacheMap.delete(O)})}get parsers(){return this._parsers}}const Cache=new CacheClass,sources=[];extensions.handleByList(ExtensionType.TextureSource,sources);function textureSourceFrom(_={}){const R=_&&_.resource,P=R?_.resource:_,I=R?_:{resource:_};for(let O=0;O<sources.length;O++){const z=sources[O];if(z.test(P))return new z(I)}throw new Error(`Could not find a source type for resource: ${I.resource}`)}function resourceToTexture(_={},R=!1){const P=_&&_.resource,I=P?_.resource:_,O=P?_:{resource:_};if(!R&&Cache.has(I))return Cache.get(I);const z=new Texture({source:textureSourceFrom(O)});return z.on("destroy",()=>{Cache.has(I)&&Cache.remove(I)}),R||Cache.set(I,z),z}function textureFrom(_,R=!1){return typeof _=="string"?Cache.get(_):_ instanceof TextureSource?new Texture({source:_}):resourceToTexture(_,R)}Texture.from=textureFrom;TextureSource.from=textureSourceFrom;extensions.add(AlphaMask,ColorMask,StencilMask,VideoSource,ImageSource,CanvasSource,BufferImageSource);var LoaderParserPriority=(_=>(_[_.Low=0]="Low",_[_.Normal=1]="Normal",_[_.High=2]="High",_))(LoaderParserPriority||{});function assertPath$2(_){if(typeof _!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(_)}`)}function removeUrlParams(_){return _.split("?")[0].split("#")[0]}function escapeRegExp(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function replaceAll(_,R,P){return _.replace(new RegExp(escapeRegExp(R),"g"),P)}function normalizeStringPosix(_,R){let P="",I=0,O=-1,z=0,L=-1;for(let F=0;F<=_.length;++F){if(F<_.length)L=_.charCodeAt(F);else{if(L===47)break;L=47}if(L===47){if(!(O===F-1||z===1))if(O!==F-1&&z===2){if(P.length<2||I!==2||P.charCodeAt(P.length-1)!==46||P.charCodeAt(P.length-2)!==46){if(P.length>2){const U=P.lastIndexOf("/");if(U!==P.length-1){U===-1?(P="",I=0):(P=P.slice(0,U),I=P.length-1-P.lastIndexOf("/")),O=F,z=0;continue}}else if(P.length===2||P.length===1){P="",I=0,O=F,z=0;continue}}}else P.length>0?P+=`/${_.slice(O+1,F)}`:P=_.slice(O+1,F),I=F-O-1;O=F,z=0}else L===46&&z!==-1?++z:z=-1}return P}const path$1={toPosix(_){return replaceAll(_,"\\","/")},isUrl(_){return/^https?:/.test(this.toPosix(_))},isDataUrl(_){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(_)},isBlobUrl(_){return _.startsWith("blob:")},hasProtocol(_){return/^[^/:]+:/.test(this.toPosix(_))},getProtocol(_){assertPath$2(_),_=this.toPosix(_);const R=/^file:\/\/\//.exec(_);if(R)return R[0];const P=/^[^/:]+:\/{0,2}/.exec(_);return P?P[0]:""},toAbsolute(_,R,P){if(assertPath$2(_),this.isDataUrl(_)||this.isBlobUrl(_))return _;const I=removeUrlParams(this.toPosix(R??DOMAdapter.get().getBaseUrl())),O=removeUrlParams(this.toPosix(P??this.rootname(I)));return _=this.toPosix(_),_.startsWith("/")?path$1.join(O,_.slice(1)):this.isAbsolute(_)?_:this.join(I,_)},normalize(_){if(assertPath$2(_),_.length===0)return".";if(this.isDataUrl(_)||this.isBlobUrl(_))return _;_=this.toPosix(_);let R="";const P=_.startsWith("/");this.hasProtocol(_)&&(R=this.rootname(_),_=_.slice(R.length));const I=_.endsWith("/");return _=normalizeStringPosix(_),_.length>0&&I&&(_+="/"),P?`/${_}`:R+_},isAbsolute(_){return assertPath$2(_),_=this.toPosix(_),this.hasProtocol(_)?!0:_.startsWith("/")},join(..._){if(_.length===0)return".";let R;for(let P=0;P<_.length;++P){const I=_[P];if(assertPath$2(I),I.length>0)if(R===void 0)R=I;else{const O=_[P-1]??"";this.joinExtensions.includes(this.extname(O).toLowerCase())?R+=`/../${I}`:R+=`/${I}`}}return R===void 0?".":this.normalize(R)},dirname(_){if(assertPath$2(_),_.length===0)return".";_=this.toPosix(_);let R=_.charCodeAt(0);const P=R===47;let I=-1,O=!0;const z=this.getProtocol(_),L=_;_=_.slice(z.length);for(let F=_.length-1;F>=1;--F)if(R=_.charCodeAt(F),R===47){if(!O){I=F;break}}else O=!1;return I===-1?P?"/":this.isUrl(L)?z+_:z:P&&I===1?"//":z+_.slice(0,I)},rootname(_){assertPath$2(_),_=this.toPosix(_);let R="";if(_.startsWith("/")?R="/":R=this.getProtocol(_),this.isUrl(_)){const P=_.indexOf("/",R.length);P!==-1?R=_.slice(0,P):R=_,R.endsWith("/")||(R+="/")}return R},basename(_,R){assertPath$2(_),R&&assertPath$2(R),_=removeUrlParams(this.toPosix(_));let P=0,I=-1,O=!0,z;if(R!==void 0&&R.length>0&&R.length<=_.length){if(R.length===_.length&&R===_)return"";let L=R.length-1,F=-1;for(z=_.length-1;z>=0;--z){const U=_.charCodeAt(z);if(U===47){if(!O){P=z+1;break}}else F===-1&&(O=!1,F=z+1),L>=0&&(U===R.charCodeAt(L)?--L===-1&&(I=z):(L=-1,I=F))}return P===I?I=F:I===-1&&(I=_.length),_.slice(P,I)}for(z=_.length-1;z>=0;--z)if(_.charCodeAt(z)===47){if(!O){P=z+1;break}}else I===-1&&(O=!1,I=z+1);return I===-1?"":_.slice(P,I)},extname(_){assertPath$2(_),_=removeUrlParams(this.toPosix(_));let R=-1,P=0,I=-1,O=!0,z=0;for(let L=_.length-1;L>=0;--L){const F=_.charCodeAt(L);if(F===47){if(!O){P=L+1;break}continue}I===-1&&(O=!1,I=L+1),F===46?R===-1?R=L:z!==1&&(z=1):R!==-1&&(z=-1)}return R===-1||I===-1||z===0||z===1&&R===I-1&&R===P+1?"":_.slice(R,I)},parse(_){assertPath$2(_);const R={root:"",dir:"",base:"",ext:"",name:""};if(_.length===0)return R;_=removeUrlParams(this.toPosix(_));let P=_.charCodeAt(0);const I=this.isAbsolute(_);let O;R.root=this.rootname(_),I||this.hasProtocol(_)?O=1:O=0;let z=-1,L=0,F=-1,U=!0,V=_.length-1,q=0;for(;V>=O;--V){if(P=_.charCodeAt(V),P===47){if(!U){L=V+1;break}continue}F===-1&&(U=!1,F=V+1),P===46?z===-1?z=V:q!==1&&(q=1):z!==-1&&(q=-1)}return z===-1||F===-1||q===0||q===1&&z===F-1&&z===L+1?F!==-1&&(L===0&&I?R.base=R.name=_.slice(1,F):R.base=R.name=_.slice(L,F)):(L===0&&I?(R.name=_.slice(1,z),R.base=_.slice(1,F)):(R.name=_.slice(L,z),R.base=_.slice(L,F)),R.ext=_.slice(z,F)),R.dir=this.dirname(_),R},sep:"/",delimiter:":",joinExtensions:[".html"]};function processX(_,R,P,I,O){const z=R[P];for(let L=0;L<z.length;L++){const F=z[L];P<R.length-1?processX(_.replace(I[P],F),R,P+1,I,O):O.push(_.replace(I[P],F))}}function createStringVariations(_){const R=/\{(.*?)\}/g,P=_.match(R),I=[];if(P){const O=[];P.forEach(z=>{const L=z.substring(1,z.length-1).split(",");O.push(L)}),processX(_,O,0,P,I)}else I.push(_);return I}const isSingleItem=_=>!Array.isArray(_);class Resolver{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(R,P)=>`${R}${this._bundleIdConnector}${P}`,extractAssetIdFromBundle:(R,P)=>P.replace(`${R}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(R){if(this._bundleIdConnector=R.connector??this._bundleIdConnector,this._createBundleAssetId=R.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=R.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...R){R.forEach(P=>{this._preferredOrder.push(P),P.priority||(P.priority=Object.keys(P.params))}),this._resolverHash={}}set basePath(R){this._basePath=R}get basePath(){return this._basePath}set rootPath(R){this._rootPath=R}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(R){if(typeof R=="string")this._defaultSearchParams=R;else{const P=R;this._defaultSearchParams=Object.keys(P).map(I=>`${encodeURIComponent(I)}=${encodeURIComponent(P[I])}`).join("&")}}getAlias(R){const{alias:P,src:I}=R;return convertToList(P||I,z=>typeof z=="string"?z:Array.isArray(z)?z.map(L=>L?.src??L):z?.src?z.src:z,!0)}addManifest(R){this._manifest&&warn$1("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=R,R.bundles.forEach(P=>{this.addBundle(P.name,P.assets)})}addBundle(R,P){const I=[];let O=P;Array.isArray(P)||(O=Object.entries(P).map(([z,L])=>typeof L=="string"||Array.isArray(L)?{alias:z,src:L}:{alias:z,...L})),O.forEach(z=>{const L=z.src,F=z.alias;let U;if(typeof F=="string"){const V=this._createBundleAssetId(R,F);I.push(V),U=[F,V]}else{const V=F.map(q=>this._createBundleAssetId(R,q));I.push(...V),U=[...F,...V]}this.add({...z,alias:U,src:L})}),this._bundles[R]=I}add(R){const P=[];Array.isArray(R)?P.push(...R):P.push(R);let I;I=z=>{this.hasKey(z)&&warn$1(`[Resolver] already has key: ${z} overwriting`)},convertToList(P).forEach(z=>{const{src:L}=z;let{data:F,format:U,loadParser:V,parser:q}=z;const W=convertToList(L).map(te=>typeof te=="string"?createStringVariations(te):Array.isArray(te)?te:[te]),Y=this.getAlias(z);Array.isArray(Y)?Y.forEach(I):I(Y);const Q=[],ee=te=>({...this._parsers.find(ae=>ae.test(te))?.parse(te),src:te});W.forEach(te=>{te.forEach(ie=>{let ae={};if(typeof ie!="object"?ae=ee(ie):(F=ie.data??F,U=ie.format??U,(ie.loadParser||ie.parser)&&(V=ie.loadParser??V,q=ie.parser??q),ae={...ee(ie.src),...ie}),!Y)throw new Error(`[Resolver] alias is undefined for this asset: ${ae.src}`);ae=this._buildResolvedAsset(ae,{aliases:Y,data:F,format:U,loadParser:V,parser:q,progressSize:z.progressSize}),Q.push(ae)})}),Y.forEach(te=>{this._assetMap[te]=Q})})}resolveBundle(R){const P=isSingleItem(R);R=convertToList(R);const I={};return R.forEach(O=>{const z=this._bundles[O];if(z){const L=this.resolve(z),F={};for(const U in L){const V=L[U];F[this._extractAssetIdFromBundle(O,U)]=V}I[O]=F}}),P?I[R[0]]:I}resolveUrl(R){const P=this.resolve(R);if(typeof R!="string"){const I={};for(const O in P)I[O]=P[O].src;return I}return P.src}resolve(R){const P=isSingleItem(R);R=convertToList(R);const I={};return R.forEach(O=>{if(!this._resolverHash[O])if(this._assetMap[O]){let z=this._assetMap[O];const L=this._getPreferredOrder(z);L?.priority.forEach(F=>{L.params[F].forEach(U=>{const V=z.filter(q=>q[F]?q[F]===U:!1);V.length&&(z=V)})}),this._resolverHash[O]=z[0]}else this._resolverHash[O]=this._buildResolvedAsset({alias:[O],src:O},{});I[O]=this._resolverHash[O]}),P?I[R[0]]:I}hasKey(R){return!!this._assetMap[R]}hasBundle(R){return!!this._bundles[R]}_getPreferredOrder(R){for(let P=0;P<R.length;P++){const I=R[P],O=this._preferredOrder.find(z=>z.params.format.includes(I.format));if(O)return O}return this._preferredOrder[0]}_appendDefaultSearchParams(R){if(!this._defaultSearchParams)return R;const P=/\?/.test(R)?"&":"?";return`${R}${P}${this._defaultSearchParams}`}_buildResolvedAsset(R,P){const{aliases:I,data:O,loadParser:z,parser:L,format:F,progressSize:U}=P;return(this._basePath||this._rootPath)&&(R.src=path$1.toAbsolute(R.src,this._basePath,this._rootPath)),R.alias=I??R.alias??[R.src],R.src=this._appendDefaultSearchParams(R.src),R.data={...O||{},...R.data},R.loadParser=z??R.loadParser,R.parser=L??R.parser,R.format=F??R.format??getUrlExtension(R.src),U!==void 0&&(R.progressSize=U),R}}Resolver.RETINA_PREFIX=/@([0-9\.]+)x/;function getUrlExtension(_){return _.split(".").pop().split("?").shift().split("#").shift()}const copySearchParams=(_,R)=>{const P=R.split("?")[1];return P&&(_+=`?${P}`),_},_Spritesheet=class Ha{constructor(R,P){this.linkedSheets=[];let I=R;R?.source instanceof TextureSource&&(I={texture:R,data:P});const{texture:O,data:z,cachePrefix:L=""}=I;this.cachePrefix=L,this._texture=O instanceof Texture?O:null,this.textureSource=O.source,this.textures={},this.animations={},this.data=z;const F=parseFloat(z.meta.scale);F?(this.resolution=F,O.source.resolution=this.resolution):this.resolution=O.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(R=>{this._callback=R,this._batchIndex=0,this._frameKeys.length<=Ha.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(R){let P=R;const I=Ha.BATCH_SIZE;for(;P-R<I&&P<this._frameKeys.length;){const O=this._frameKeys[P],z=this._frames[O],L=z.frame;if(L){let F=null,U=null;const V=z.trimmed!==!1&&z.sourceSize?z.sourceSize:z.frame,q=new Rectangle(0,0,Math.floor(V.w)/this.resolution,Math.floor(V.h)/this.resolution);z.rotated?F=new Rectangle(Math.floor(L.x)/this.resolution,Math.floor(L.y)/this.resolution,Math.floor(L.h)/this.resolution,Math.floor(L.w)/this.resolution):F=new Rectangle(Math.floor(L.x)/this.resolution,Math.floor(L.y)/this.resolution,Math.floor(L.w)/this.resolution,Math.floor(L.h)/this.resolution),z.trimmed!==!1&&z.spriteSourceSize&&(U=new Rectangle(Math.floor(z.spriteSourceSize.x)/this.resolution,Math.floor(z.spriteSourceSize.y)/this.resolution,Math.floor(L.w)/this.resolution,Math.floor(L.h)/this.resolution)),this.textures[O]=new Texture({source:this.textureSource,frame:F,orig:q,trim:U,rotate:z.rotated?2:0,defaultAnchor:z.anchor,defaultBorders:z.borders,label:O.toString()})}P++}}_processAnimations(){const R=this.data.animations||{};for(const P in R){this.animations[P]=[];for(let I=0;I<R[P].length;I++){const O=R[P][I];this.animations[P].push(this.textures[O])}}}_parseComplete(){const R=this._callback;this._callback=null,this._batchIndex=0,R.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ha.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ha.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(R=!1){for(const P in this.textures)this.textures[P].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,R&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};_Spritesheet.BATCH_SIZE=1e3;let Spritesheet=_Spritesheet;const validImages=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function getCacheableAssets(_,R,P){const I={};if(_.forEach(O=>{I[O]=R}),Object.keys(R.textures).forEach(O=>{I[`${R.cachePrefix}${O}`]=R.textures[O]}),!P){const O=path$1.dirname(_[0]);R.linkedSheets.forEach((z,L)=>{const F=getCacheableAssets([`${O}/${R.data.meta.related_multi_packs[L]}`],z,!0);Object.assign(I,F)})}return I}const spritesheetAsset={extension:ExtensionType.Asset,cache:{test:_=>_ instanceof Spritesheet,getCacheableAssets:(_,R)=>getCacheableAssets(_,R,!1)},resolver:{extension:{type:ExtensionType.ResolveParser,name:"resolveSpritesheet"},test:_=>{const P=_.split("?")[0].split("."),I=P.pop(),O=P.pop();return I==="json"&&validImages.includes(O)},parse:_=>{const R=_.split(".");return{resolution:parseFloat(Resolver.RETINA_PREFIX.exec(_)?.[1]??"1"),format:R[R.length-2],src:_}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Normal,name:"spritesheetLoader"},async testParse(_,R){return path$1.extname(R.src).toLowerCase()===".json"&&!!_.frames},async parse(_,R,P){const{texture:I,imageFilename:O,textureOptions:z,cachePrefix:L}=R?.data??{};let F=path$1.dirname(R.src);F&&F.lastIndexOf("/")!==F.length-1&&(F+="/");let U;if(I instanceof Texture)U=I;else{const W=copySearchParams(F+(O??_.meta.image),R.src);U=(await P.load([{src:W,data:z}]))[W]}const V=new Spritesheet({texture:U.source,data:_,cachePrefix:L});await V.parse();const q=_?.meta?.related_multi_packs;if(Array.isArray(q)){const W=[];for(const Q of q){if(typeof Q!="string")continue;let ee=F+Q;R.data?.ignoreMultiPack||(ee=copySearchParams(ee,R.src),W.push(P.load({src:ee,data:{textureOptions:z,ignoreMultiPack:!0}})))}const Y=await Promise.all(W);V.linkedSheets=Y,Y.forEach(Q=>{Q.linkedSheets=[V].concat(V.linkedSheets.filter(ee=>ee!==Q))})}return V},async unload(_,R,P){await P.unload(_.textureSource._sourceOrigin),_.destroy(!1)}}};extensions.add(spritesheetAsset);const idCounts=Object.create(null),idHash=Object.create(null);function createIdFromString(_,R){let P=idHash[_];return P===void 0&&(idCounts[R]===void 0&&(idCounts[R]=1),idHash[_]=P=idCounts[R]++),P}let context;function getTestContext(){return(!context||context?.isContextLost())&&(context=DOMAdapter.get().createCanvas().getContext("webgl",{})),context}let maxFragmentPrecision;function getMaxFragmentPrecision(){if(!maxFragmentPrecision){maxFragmentPrecision="mediump";const _=getTestContext();_&&_.getShaderPrecisionFormat&&(maxFragmentPrecision=_.getShaderPrecisionFormat(_.FRAGMENT_SHADER,_.HIGH_FLOAT).precision?"highp":"mediump")}return maxFragmentPrecision}function addProgramDefines(_,R,P){return R?_:P?(_=_.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${_}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${_}
        `}function ensurePrecision(_,R,P){const I=P?R.maxSupportedFragmentPrecision:R.maxSupportedVertexPrecision;if(_.substring(0,9)!=="precision"){let O=P?R.requestedFragmentPrecision:R.requestedVertexPrecision;return O==="highp"&&I!=="highp"&&(O="mediump"),`precision ${O} float;
${_}`}else if(I!=="highp"&&_.substring(0,15)==="precision highp")return _.replace("precision highp","precision mediump");return _}function insertVersion(_,R){return R?`#version 300 es
${_}`:_}const fragmentNameCache={},VertexNameCache={};function setProgramName(_,{name:R="pixi-program"},P=!0){R=R.replace(/\s+/g,"-"),R+=P?"-fragment":"-vertex";const I=P?fragmentNameCache:VertexNameCache;return I[R]?(I[R]++,R+=`-${I[R]}`):I[R]=1,_.indexOf("#define SHADER_NAME")!==-1?_:`${`#define SHADER_NAME ${R}`}
${_}`}function stripVersion(_,R){return R?_.replace("#version 300 es",""):_}const processes={stripVersion,ensurePrecision,addProgramDefines,setProgramName,insertVersion},programCache$1=Object.create(null),_GlProgram=class pc{constructor(R){R={...pc.defaultOptions,...R};const P=R.fragment.indexOf("#version 300 es")!==-1,I={stripVersion:P,ensurePrecision:{requestedFragmentPrecision:R.preferredFragmentPrecision,requestedVertexPrecision:R.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:getMaxFragmentPrecision()},setProgramName:{name:R.name},addProgramDefines:P,insertVersion:P};let O=R.fragment,z=R.vertex;Object.keys(processes).forEach(L=>{const F=I[L];O=processes[L](O,F,!0),z=processes[L](z,F,!1)}),this.fragment=O,this.vertex=z,this.transformFeedbackVaryings=R.transformFeedbackVaryings,this._key=createIdFromString(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,programCache$1[this._cacheKey]=null}static from(R){const P=`${R.vertex}:${R.fragment}`;return programCache$1[P]||(programCache$1[P]=new pc(R),programCache$1[P]._cacheKey=P),programCache$1[P]}};_GlProgram.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let GlProgram=_GlProgram;const attributeFormatData={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function getAttributeInfoFromFormat(_){return attributeFormatData[_]??attributeFormatData.float32}const WGSL_TO_VERTEX_TYPES={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function extractAttributesFromGpuProgram({source:_,entryPoint:R}){const P={},I=_.indexOf(`fn ${R}`);if(I!==-1){const O=_.indexOf("->",I);if(O!==-1){const z=_.substring(I,O),L=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let F;for(;(F=L.exec(z))!==null;){const U=WGSL_TO_VERTEX_TYPES[F[3]]??"float32";P[F[2]]={location:parseInt(F[1],10),format:U,stride:getAttributeInfoFromFormat(U).stride,offset:0,instance:!1,start:0}}}}return P}function extractStructAndGroups(_){const R=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,P=/@group\((\d+)\)/,I=/@binding\((\d+)\)/,O=/var(<[^>]+>)? (\w+)/,z=/:\s*(\w+)/,L=/struct\s+(\w+)\s*{([^}]+)}/g,F=/(\w+)\s*:\s*([\w\<\>]+)/g,U=/struct\s+(\w+)/,V=_.match(R)?.map(W=>({group:parseInt(W.match(P)[1],10),binding:parseInt(W.match(I)[1],10),name:W.match(O)[2],isUniform:W.match(O)[1]==="<uniform>",type:W.match(z)[1]}));if(!V)return{groups:[],structs:[]};const q=_.match(L)?.map(W=>{const Y=W.match(U)[1],Q=W.match(F).reduce((ee,te)=>{const[ie,ae]=te.split(":");return ee[ie.trim()]=ae.trim(),ee},{});return Q?{name:Y,members:Q}:null}).filter(({name:W})=>V.some(Y=>Y.type===W))??[];return{groups:V,structs:q}}var ShaderStage=(_=>(_[_.VERTEX=1]="VERTEX",_[_.FRAGMENT=2]="FRAGMENT",_[_.COMPUTE=4]="COMPUTE",_))(ShaderStage||{});function generateGpuLayoutGroups({groups:_}){const R=[];for(let P=0;P<_.length;P++){const I=_[P];R[I.group]||(R[I.group]=[]),I.isUniform?R[I.group].push({binding:I.binding,visibility:ShaderStage.VERTEX|ShaderStage.FRAGMENT,buffer:{type:"uniform"}}):I.type==="sampler"?R[I.group].push({binding:I.binding,visibility:ShaderStage.FRAGMENT,sampler:{type:"filtering"}}):I.type==="texture_2d"&&R[I.group].push({binding:I.binding,visibility:ShaderStage.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return R}function generateLayoutHash({groups:_}){const R=[];for(let P=0;P<_.length;P++){const I=_[P];R[I.group]||(R[I.group]={}),R[I.group][I.name]=I.binding}return R}function removeStructAndGroupDuplicates(_,R){const P=new Set,I=new Set,O=[..._.structs,...R.structs].filter(L=>P.has(L.name)?!1:(P.add(L.name),!0)),z=[..._.groups,...R.groups].filter(L=>{const F=`${L.name}-${L.binding}`;return I.has(F)?!1:(I.add(F),!0)});return{structs:O,groups:z}}const programCache=Object.create(null);class GpuProgram{constructor(R){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:P,vertex:I,layout:O,gpuLayout:z,name:L}=R;if(this.name=L,this.fragment=P,this.vertex=I,P.source===I.source){const F=extractStructAndGroups(P.source);this.structsAndGroups=F}else{const F=extractStructAndGroups(I.source),U=extractStructAndGroups(P.source);this.structsAndGroups=removeStructAndGroupDuplicates(F,U)}this.layout=O??generateLayoutHash(this.structsAndGroups),this.gpuLayout=z??generateGpuLayoutGroups(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:R,fragment:P}=this,I=R.source+P.source+R.entryPoint+P.entryPoint;this._layoutKey=createIdFromString(I,"program")}get attributeData(){return this._attributeData??(this._attributeData=extractAttributesFromGpuProgram(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,programCache[this._cacheKey]=null}static from(R){const P=`${R.vertex.source}:${R.fragment.source}:${R.fragment.entryPoint}:${R.vertex.entryPoint}`;return programCache[P]||(programCache[P]=new GpuProgram(R),programCache[P]._cacheKey=P),programCache[P]}}const UNIFORM_TYPES_VALUES=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],UNIFORM_TYPES_MAP=UNIFORM_TYPES_VALUES.reduce((_,R)=>(_[R]=!0,_),{});function getDefaultUniformValue(_,R){switch(_){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*R);case"vec3<f32>":return new Float32Array(3*R);case"vec4<f32>":return new Float32Array(4*R);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const _UniformGroup=class Ed{constructor(R,P){this._touched=0,this.uid=uid("uniform"),this._resourceType="uniformGroup",this._resourceId=uid("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,P={...Ed.defaultOptions,...P},this.uniformStructures=R;const I={};for(const O in R){const z=R[O];if(z.name=O,z.size=z.size??1,!UNIFORM_TYPES_MAP[z.type]){const L=z.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(L){const[,F,U]=L;throw new Error(`Uniform type ${z.type} is not supported. Use type: '${F}', size: ${U} instead.`)}throw new Error(`Uniform type ${z.type} is not supported. Supported uniform types are: ${UNIFORM_TYPES_VALUES.join(", ")}`)}z.value??(z.value=getDefaultUniformValue(z.type,z.size)),I[O]=z.value}this.uniforms=I,this._dirtyId=1,this.ubo=P.ubo,this.isStatic=P.isStatic,this._signature=createIdFromString(Object.keys(I).map(O=>`${O}-${R[O].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};_UniformGroup.defaultOptions={ubo:!1,isStatic:!1};let UniformGroup=_UniformGroup;class BindGroup{constructor(R){this.resources=Object.create(null),this._dirty=!0;let P=0;for(const I in R){const O=R[I];this.setResource(O,P++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const R=[];let P=0;for(const I in this.resources)R[P++]=this.resources[I]._resourceId;this._key=R.join("|")}setResource(R,P){const I=this.resources[P];R!==I&&(I&&R.off?.("change",this.onResourceChange,this),R.on?.("change",this.onResourceChange,this),this.resources[P]=R,this._dirty=!0)}getResource(R){return this.resources[R]}_touch(R){const P=this.resources;for(const I in P)P[I]._touched=R}destroy(){const R=this.resources;for(const P in R)R[P]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(R){if(this._dirty=!0,R.destroyed){const P=this.resources;for(const I in P)P[I]===R&&(P[I]=null)}else this._updateKey()}}var RendererType=(_=>(_[_.WEBGL=1]="WEBGL",_[_.WEBGPU=2]="WEBGPU",_[_.BOTH=3]="BOTH",_))(RendererType||{});class Shader extends EventEmitter{constructor(R){super(),this.uid=uid("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:P,glProgram:I,groups:O,resources:z,compatibleRenderers:L,groupMap:F}=R;this.gpuProgram=P,this.glProgram=I,L===void 0&&(L=0,P&&(L|=RendererType.WEBGPU),I&&(L|=RendererType.WEBGL)),this.compatibleRenderers=L;const U={};if(!z&&!O&&(z={}),z&&O)throw new Error("[Shader] Cannot have both resources and groups");if(!P&&O&&!F)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!P&&O&&F)for(const V in F)for(const q in F[V]){const W=F[V][q];U[W]={group:V,binding:q,name:W}}else if(P&&O&&!F){const V=P.structsAndGroups.groups;F={},V.forEach(q=>{F[q.group]=F[q.group]||{},F[q.group][q.binding]=q.name,U[q.name]=q})}else if(z){O={},F={},P&&P.structsAndGroups.groups.forEach(W=>{F[W.group]=F[W.group]||{},F[W.group][W.binding]=W.name,U[W.name]=W});let V=0;for(const q in z)U[q]||(O[99]||(O[99]=new BindGroup,this._ownedBindGroups.push(O[99])),U[q]={group:99,binding:V,name:q},F[99]=F[99]||{},F[99][V]=q,V++);for(const q in z){const W=q;let Y=z[q];!Y.source&&!Y._resourceType&&(Y=new UniformGroup(Y));const Q=U[W];Q&&(O[Q.group]||(O[Q.group]=new BindGroup,this._ownedBindGroups.push(O[Q.group])),O[Q.group].setResource(Y,Q.binding))}}this.groups=O,this._uniformBindMap=F,this.resources=this._buildResourceAccessor(O,U)}addResource(R,P,I){var O,z;(O=this._uniformBindMap)[P]||(O[P]={}),(z=this._uniformBindMap[P])[I]||(z[I]=R),this.groups[P]||(this.groups[P]=new BindGroup,this._ownedBindGroups.push(this.groups[P]))}_buildResourceAccessor(R,P){const I={};for(const O in P){const z=P[O];Object.defineProperty(I,z.name,{get(){return R[z.group].getResource(z.binding)},set(L){R[z.group].setResource(L,z.binding)}})}return I}destroy(R=!1){this._destroyed||(this._destroyed=!0,this.emit("destroy",this),R&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(P=>{P.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(R){const{gpu:P,gl:I,...O}=R;let z,L;return P&&(z=GpuProgram.from(P)),I&&(L=GlProgram.from(I)),new Shader({gpuProgram:z,glProgram:L,...O})}}const environments$1=[];extensions.handleByNamedList(ExtensionType.Environment,environments$1);async function loadEnvironmentExtensions(_){if(!_)for(let R=0;R<environments$1.length;R++){const P=environments$1[R];if(P.value.test()){await P.value.load();return}}}let unsafeEval;function unsafeEvalSupported(){if(typeof unsafeEval=="boolean")return unsafeEval;try{unsafeEval=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{unsafeEval=!1}return unsafeEval}function earcut$1(_,R,P=2){const I=R&&R.length,O=I?R[0]*P:_.length;let z=linkedList(_,0,O,P,!0);const L=[];if(!z||z.next===z.prev)return L;let F,U,V;if(I&&(z=eliminateHoles(_,R,z,P)),_.length>80*P){F=_[0],U=_[1];let q=F,W=U;for(let Y=P;Y<O;Y+=P){const Q=_[Y],ee=_[Y+1];Q<F&&(F=Q),ee<U&&(U=ee),Q>q&&(q=Q),ee>W&&(W=ee)}V=Math.max(q-F,W-U),V=V!==0?32767/V:0}return earcutLinked(z,L,P,F,U,V,0),L}function linkedList(_,R,P,I,O){let z;if(O===signedArea(_,R,P,I)>0)for(let L=R;L<P;L+=I)z=insertNode(L/I|0,_[L],_[L+1],z);else for(let L=P-I;L>=R;L-=I)z=insertNode(L/I|0,_[L],_[L+1],z);return z&&equals(z,z.next)&&(removeNode(z),z=z.next),z}function filterPoints(_,R){if(!_)return _;R||(R=_);let P=_,I;do if(I=!1,!P.steiner&&(equals(P,P.next)||area(P.prev,P,P.next)===0)){if(removeNode(P),P=R=P.prev,P===P.next)break;I=!0}else P=P.next;while(I||P!==R);return R}function earcutLinked(_,R,P,I,O,z,L){if(!_)return;!L&&z&&indexCurve(_,I,O,z);let F=_;for(;_.prev!==_.next;){const U=_.prev,V=_.next;if(z?isEarHashed(_,I,O,z):isEar(_)){R.push(U.i,_.i,V.i),removeNode(_),_=V.next,F=V.next;continue}if(_=V,_===F){L?L===1?(_=cureLocalIntersections(filterPoints(_),R),earcutLinked(_,R,P,I,O,z,2)):L===2&&splitEarcut(_,R,P,I,O,z):earcutLinked(filterPoints(_),R,P,I,O,z,1);break}}}function isEar(_){const R=_.prev,P=_,I=_.next;if(area(R,P,I)>=0)return!1;const O=R.x,z=P.x,L=I.x,F=R.y,U=P.y,V=I.y,q=Math.min(O,z,L),W=Math.min(F,U,V),Y=Math.max(O,z,L),Q=Math.max(F,U,V);let ee=I.next;for(;ee!==R;){if(ee.x>=q&&ee.x<=Y&&ee.y>=W&&ee.y<=Q&&pointInTriangleExceptFirst(O,F,z,U,L,V,ee.x,ee.y)&&area(ee.prev,ee,ee.next)>=0)return!1;ee=ee.next}return!0}function isEarHashed(_,R,P,I){const O=_.prev,z=_,L=_.next;if(area(O,z,L)>=0)return!1;const F=O.x,U=z.x,V=L.x,q=O.y,W=z.y,Y=L.y,Q=Math.min(F,U,V),ee=Math.min(q,W,Y),te=Math.max(F,U,V),ie=Math.max(q,W,Y),ae=zOrder(Q,ee,R,P,I),se=zOrder(te,ie,R,P,I);let le=_.prevZ,ce=_.nextZ;for(;le&&le.z>=ae&&ce&&ce.z<=se;){if(le.x>=Q&&le.x<=te&&le.y>=ee&&le.y<=ie&&le!==O&&le!==L&&pointInTriangleExceptFirst(F,q,U,W,V,Y,le.x,le.y)&&area(le.prev,le,le.next)>=0||(le=le.prevZ,ce.x>=Q&&ce.x<=te&&ce.y>=ee&&ce.y<=ie&&ce!==O&&ce!==L&&pointInTriangleExceptFirst(F,q,U,W,V,Y,ce.x,ce.y)&&area(ce.prev,ce,ce.next)>=0))return!1;ce=ce.nextZ}for(;le&&le.z>=ae;){if(le.x>=Q&&le.x<=te&&le.y>=ee&&le.y<=ie&&le!==O&&le!==L&&pointInTriangleExceptFirst(F,q,U,W,V,Y,le.x,le.y)&&area(le.prev,le,le.next)>=0)return!1;le=le.prevZ}for(;ce&&ce.z<=se;){if(ce.x>=Q&&ce.x<=te&&ce.y>=ee&&ce.y<=ie&&ce!==O&&ce!==L&&pointInTriangleExceptFirst(F,q,U,W,V,Y,ce.x,ce.y)&&area(ce.prev,ce,ce.next)>=0)return!1;ce=ce.nextZ}return!0}function cureLocalIntersections(_,R){let P=_;do{const I=P.prev,O=P.next.next;!equals(I,O)&&intersects(I,P,P.next,O)&&locallyInside(I,O)&&locallyInside(O,I)&&(R.push(I.i,P.i,O.i),removeNode(P),removeNode(P.next),P=_=O),P=P.next}while(P!==_);return filterPoints(P)}function splitEarcut(_,R,P,I,O,z){let L=_;do{let F=L.next.next;for(;F!==L.prev;){if(L.i!==F.i&&isValidDiagonal(L,F)){let U=splitPolygon(L,F);L=filterPoints(L,L.next),U=filterPoints(U,U.next),earcutLinked(L,R,P,I,O,z,0),earcutLinked(U,R,P,I,O,z,0);return}F=F.next}L=L.next}while(L!==_)}function eliminateHoles(_,R,P,I){const O=[];for(let z=0,L=R.length;z<L;z++){const F=R[z]*I,U=z<L-1?R[z+1]*I:_.length,V=linkedList(_,F,U,I,!1);V===V.next&&(V.steiner=!0),O.push(getLeftmost(V))}O.sort(compareXYSlope);for(let z=0;z<O.length;z++)P=eliminateHole(O[z],P);return P}function compareXYSlope(_,R){let P=_.x-R.x;if(P===0&&(P=_.y-R.y,P===0)){const I=(_.next.y-_.y)/(_.next.x-_.x),O=(R.next.y-R.y)/(R.next.x-R.x);P=I-O}return P}function eliminateHole(_,R){const P=findHoleBridge(_,R);if(!P)return R;const I=splitPolygon(P,_);return filterPoints(I,I.next),filterPoints(P,P.next)}function findHoleBridge(_,R){let P=R;const I=_.x,O=_.y;let z=-1/0,L;if(equals(_,P))return P;do{if(equals(_,P.next))return P.next;if(O<=P.y&&O>=P.next.y&&P.next.y!==P.y){const W=P.x+(O-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(W<=I&&W>z&&(z=W,L=P.x<P.next.x?P:P.next,W===I))return L}P=P.next}while(P!==R);if(!L)return null;const F=L,U=L.x,V=L.y;let q=1/0;P=L;do{if(I>=P.x&&P.x>=U&&I!==P.x&&pointInTriangle(O<V?I:z,O,U,V,O<V?z:I,O,P.x,P.y)){const W=Math.abs(O-P.y)/(I-P.x);locallyInside(P,_)&&(W<q||W===q&&(P.x>L.x||P.x===L.x&&sectorContainsSector(L,P)))&&(L=P,q=W)}P=P.next}while(P!==F);return L}function sectorContainsSector(_,R){return area(_.prev,_,R.prev)<0&&area(R.next,_,_.next)<0}function indexCurve(_,R,P,I){let O=_;do O.z===0&&(O.z=zOrder(O.x,O.y,R,P,I)),O.prevZ=O.prev,O.nextZ=O.next,O=O.next;while(O!==_);O.prevZ.nextZ=null,O.prevZ=null,sortLinked(O)}function sortLinked(_){let R,P=1;do{let I=_,O;_=null;let z=null;for(R=0;I;){R++;let L=I,F=0;for(let V=0;V<P&&(F++,L=L.nextZ,!!L);V++);let U=P;for(;F>0||U>0&&L;)F!==0&&(U===0||!L||I.z<=L.z)?(O=I,I=I.nextZ,F--):(O=L,L=L.nextZ,U--),z?z.nextZ=O:_=O,O.prevZ=z,z=O;I=L}z.nextZ=null,P*=2}while(R>1);return _}function zOrder(_,R,P,I,O){return _=(_-P)*O|0,R=(R-I)*O|0,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,_|R<<1}function getLeftmost(_){let R=_,P=_;do(R.x<P.x||R.x===P.x&&R.y<P.y)&&(P=R),R=R.next;while(R!==_);return P}function pointInTriangle(_,R,P,I,O,z,L,F){return(O-L)*(R-F)>=(_-L)*(z-F)&&(_-L)*(I-F)>=(P-L)*(R-F)&&(P-L)*(z-F)>=(O-L)*(I-F)}function pointInTriangleExceptFirst(_,R,P,I,O,z,L,F){return!(_===L&&R===F)&&pointInTriangle(_,R,P,I,O,z,L,F)}function isValidDiagonal(_,R){return _.next.i!==R.i&&_.prev.i!==R.i&&!intersectsPolygon(_,R)&&(locallyInside(_,R)&&locallyInside(R,_)&&middleInside(_,R)&&(area(_.prev,_,R.prev)||area(_,R.prev,R))||equals(_,R)&&area(_.prev,_,_.next)>0&&area(R.prev,R,R.next)>0)}function area(_,R,P){return(R.y-_.y)*(P.x-R.x)-(R.x-_.x)*(P.y-R.y)}function equals(_,R){return _.x===R.x&&_.y===R.y}function intersects(_,R,P,I){const O=sign$2(area(_,R,P)),z=sign$2(area(_,R,I)),L=sign$2(area(P,I,_)),F=sign$2(area(P,I,R));return!!(O!==z&&L!==F||O===0&&onSegment(_,P,R)||z===0&&onSegment(_,I,R)||L===0&&onSegment(P,_,I)||F===0&&onSegment(P,R,I))}function onSegment(_,R,P){return R.x<=Math.max(_.x,P.x)&&R.x>=Math.min(_.x,P.x)&&R.y<=Math.max(_.y,P.y)&&R.y>=Math.min(_.y,P.y)}function sign$2(_){return _>0?1:_<0?-1:0}function intersectsPolygon(_,R){let P=_;do{if(P.i!==_.i&&P.next.i!==_.i&&P.i!==R.i&&P.next.i!==R.i&&intersects(P,P.next,_,R))return!0;P=P.next}while(P!==_);return!1}function locallyInside(_,R){return area(_.prev,_,_.next)<0?area(_,R,_.next)>=0&&area(_,_.prev,R)>=0:area(_,R,_.prev)<0||area(_,_.next,R)<0}function middleInside(_,R){let P=_,I=!1;const O=(_.x+R.x)/2,z=(_.y+R.y)/2;do P.y>z!=P.next.y>z&&P.next.y!==P.y&&O<(P.next.x-P.x)*(z-P.y)/(P.next.y-P.y)+P.x&&(I=!I),P=P.next;while(P!==_);return I}function splitPolygon(_,R){const P=createNode(_.i,_.x,_.y),I=createNode(R.i,R.x,R.y),O=_.next,z=R.prev;return _.next=R,R.prev=_,P.next=O,O.prev=P,I.next=P,P.prev=I,z.next=I,I.prev=z,I}function insertNode(_,R,P,I){const O=createNode(_,R,P);return I?(O.next=I.next,O.prev=I,I.next.prev=O,I.next=O):(O.prev=O,O.next=O),O}function removeNode(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function createNode(_,R,P){return{i:_,x:R,y:P,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function signedArea(_,R,P,I){let O=0;for(let z=R,L=P-I;z<P;z+=I)O+=(_[L]-_[z])*(_[z+1]+_[L+1]),L=z;return O}const earcut=earcut$1.default||earcut$1;var CLEAR=(_=>(_[_.NONE=0]="NONE",_[_.COLOR=16384]="COLOR",_[_.STENCIL=1024]="STENCIL",_[_.DEPTH=256]="DEPTH",_[_.COLOR_DEPTH=16640]="COLOR_DEPTH",_[_.COLOR_STENCIL=17408]="COLOR_STENCIL",_[_.DEPTH_STENCIL=1280]="DEPTH_STENCIL",_[_.ALL=17664]="ALL",_))(CLEAR||{});class SystemRunner{constructor(R){this.items=[],this._name=R}emit(R,P,I,O,z,L,F,U){const{name:V,items:q}=this;for(let W=0,Y=q.length;W<Y;W++)q[W][V](R,P,I,O,z,L,F,U);return this}add(R){return R[this._name]&&(this.remove(R),this.items.push(R)),this}remove(R){const P=this.items.indexOf(R);return P!==-1&&this.items.splice(P,1),this}contains(R){return this.items.indexOf(R)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const defaultRunners=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],_AbstractRenderer=class Cd extends EventEmitter{constructor(R){super(),this.uid=uid("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=R.type,this.name=R.name,this.config=R;const P=[...defaultRunners,...this.config.runners??[]];this._addRunners(...P),this._unsafeEvalCheck()}async init(R={}){const P=R.skipExtensionImports===!0?!0:R.manageImports===!1;await loadEnvironmentExtensions(P),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const I in this._systemsHash)R={...this._systemsHash[I].constructor.defaultOptions,...R};R={...Cd.defaultOptions,...R},this._roundPixels=R.roundPixels?1:0;for(let I=0;I<this.runners.init.items.length;I++)await this.runners.init.items[I].init(R);this._initOptions=R}render(R,P){let I=R;if(I instanceof Container&&(I={container:I},P&&(deprecation(v8_0_0,"passing a second argument is deprecated, please use render options instead"),I.target=P.renderTexture)),I.target||(I.target=this.view.renderTarget),I.target===this.view.renderTarget&&(this._lastObjectRendered=I.container,I.clearColor??(I.clearColor=this.background.colorRgba),I.clear??(I.clear=this.background.clearBeforeRender)),I.clearColor){const O=Array.isArray(I.clearColor)&&I.clearColor.length===4;I.clearColor=O?I.clearColor:Color$1.shared.setValue(I.clearColor).toArray()}I.transform||(I.container.updateLocalTransform(),I.transform=I.container.localTransform),I.container.visible&&(I.container.enableRenderGroup(),this.runners.prerender.emit(I),this.runners.renderStart.emit(I),this.runners.render.emit(I),this.runners.renderEnd.emit(I),this.runners.postrender.emit(I))}resize(R,P,I){const O=this.view.resolution;this.view.resize(R,P,I),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),I!==void 0&&I!==O&&this.runners.resolutionChange.emit(I)}clear(R={}){const P=this;R.target||(R.target=P.renderTarget.renderTarget),R.clearColor||(R.clearColor=this.background.colorRgba),R.clear??(R.clear=CLEAR.ALL);const{clear:I,clearColor:O,target:z}=R;Color$1.shared.setValue(O??this.background.colorRgba),P.renderTarget.clear(z,I,Color$1.shared.toArray())}get resolution(){return this.view.resolution}set resolution(R){this.view.resolution=R,this.runners.resolutionChange.emit(R)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...R){R.forEach(P=>{this.runners[P]=new SystemRunner(P)})}_addSystems(R){let P;for(P in R){const I=R[P];this._addSystem(I.value,I.name)}}_addSystem(R,P){const I=new R(this);if(this[P])throw new Error(`Whoops! The name "${P}" is already in use`);this[P]=I,this._systemsHash[P]=I;for(const O in this.runners)this.runners[O].add(I);return this}_addPipes(R,P){const I=P.reduce((O,z)=>(O[z.name]=z.value,O),{});R.forEach(O=>{const z=O.value,L=O.name,F=I[L];this.renderPipes[L]=new z(this,F?new F:null),this.runners.destroy.add(this.renderPipes[L])})}destroy(R=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(R),(R===!0||typeof R=="object"&&R.releaseGlobalResources)&&GlobalResourceRegistry.release(),Object.values(this.runners).forEach(P=>{P.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(R){return this.textureGenerator.generateTexture(R)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};_AbstractRenderer.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let AbstractRenderer=_AbstractRenderer,_isWebGLSupported;function isWebGLSupported(_){return _isWebGLSupported!==void 0||(_isWebGLSupported=(()=>{const R={stencil:!0,failIfMajorPerformanceCaveat:_??AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat};try{if(!DOMAdapter.get().getWebGLRenderingContext())return!1;let I=DOMAdapter.get().createCanvas().getContext("webgl",R);const O=!!I?.getContextAttributes()?.stencil;if(I){const z=I.getExtension("WEBGL_lose_context");z&&z.loseContext()}return I=null,O}catch{return!1}})()),_isWebGLSupported}let _isWebGPUSupported;async function isWebGPUSupported(_={}){return _isWebGPUSupported!==void 0||(_isWebGPUSupported=await(async()=>{const R=DOMAdapter.get().getNavigator().gpu;if(!R)return!1;try{return await(await R.requestAdapter(_)).requestDevice(),!0}catch{return!1}})()),_isWebGPUSupported}const renderPriority=["webgl","webgpu","canvas"];async function autoDetectRenderer(_){let R=[];_.preference?(R.push(_.preference),renderPriority.forEach(z=>{z!==_.preference&&R.push(z)})):R=renderPriority.slice();let P,I={};for(let z=0;z<R.length;z++){const L=R[z];if(L==="webgpu"&&await isWebGPUSupported()){const{WebGPURenderer:F}=await __vitePreload(async()=>{const{WebGPURenderer:U}=await import("./WebGPURenderer-BdlZdDqn.js");return{WebGPURenderer:U}},__vite__mapDeps([3,2,4]));P=F,I={..._,..._.webgpu};break}else if(L==="webgl"&&isWebGLSupported(_.failIfMajorPerformanceCaveat??AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:F}=await __vitePreload(async()=>{const{WebGLRenderer:U}=await import("./WebGLRenderer-CxDngc0C.js");return{WebGLRenderer:U}},__vite__mapDeps([5,2,4]));P=F,I={..._,..._.webgl};break}else if(L==="canvas")throw I={..._},new Error("CanvasRenderer is not yet implemented")}if(delete I.webgpu,delete I.webgl,!P)throw new Error("No available renderer for the current environment");const O=new P;return await O.init(I),O}const VERSION="8.14.3";class ApplicationInitHook{static init(){globalThis.__PIXI_APP_INIT__?.(this,VERSION)}static destroy(){}}ApplicationInitHook.extension=ExtensionType.Application;class RendererInitHook{constructor(R){this._renderer=R}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,VERSION)}destroy(){this._renderer=null}}RendererInitHook.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem],name:"initHook",priority:-10};const _Application=class gc{constructor(...R){this.stage=new Container,R[0]!==void 0&&deprecation(v8_0_0,"Application constructor options are deprecated, please use Application.init() instead.")}async init(R){R={...R},this.stage||(this.stage=new Container),this.renderer=await autoDetectRenderer(R),gc._plugins.forEach(P=>{P.init.call(this,R)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return deprecation(v8_0_0,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(R=!1,P=!1){const I=gc._plugins.slice(0);I.reverse(),I.forEach(O=>{O.destroy.call(this)}),this.stage.destroy(P),this.stage=null,this.renderer.destroy(R),this.renderer=null}};_Application._plugins=[];let Application=_Application;extensions.handleByList(ExtensionType.Application,Application._plugins);extensions.add(ApplicationInitHook);class LRU{constructor(R=0,P=0,I=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=R,this.resetTtl=I,this.size=0,this.ttl=P}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(R){if(this.has(R)){const P=this.items[R];delete this.items[R],this.size--,P.prev!==null&&(P.prev.next=P.next),P.next!==null&&(P.next.prev=P.prev),this.first===P&&(this.first=P.next),this.last===P&&(this.last=P.prev)}return this}entries(R=this.keys()){return R.map(P=>[P,this.get(P)])}evict(R=!1){if(R||this.size>0){const P=this.first;delete this.items[P.key],--this.size===0?(this.first=null,this.last=null):(this.first=P.next,this.first.prev=null)}return this}expiresAt(R){let P;return this.has(R)&&(P=this.items[R].expiry),P}get(R){const P=this.items[R];if(P!==void 0){if(this.ttl>0&&P.expiry<=Date.now()){this.delete(R);return}return this.moveToEnd(P),P.value}}has(R){return R in this.items}moveToEnd(R){this.last!==R&&(R.prev!==null&&(R.prev.next=R.next),R.next!==null&&(R.next.prev=R.prev),this.first===R&&(this.first=R.next),R.prev=this.last,R.next=null,this.last!==null&&(this.last.next=R),this.last=R,this.first===null&&(this.first=R))}keys(){const R=[];let P=this.first;for(;P!==null;)R.push(P.key),P=P.next;return R}setWithEvicted(R,P,I=this.resetTtl){let O=null;if(this.has(R))this.set(R,P,!0,I);else{this.max>0&&this.size===this.max&&(O={...this.first},this.evict(!0));let z=this.items[R]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:R,prev:this.last,next:null,value:P};++this.size===1?this.first=z:this.last.next=z,this.last=z}return O}set(R,P,I=!1,O=this.resetTtl){let z=this.items[R];return I||z!==void 0?(z.value=P,I===!1&&O&&(z.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.moveToEnd(z)):(this.max>0&&this.size===this.max&&this.evict(!0),z=this.items[R]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:R,prev:this.last,next:null,value:P},++this.size===1?this.first=z:this.last.next=z,this.last=z),this}values(R=this.keys()){return R.map(P=>this.get(P))}}function lru(_=1e3,R=0,P=!1){if(isNaN(_)||_<0)throw new TypeError("Invalid max value");if(isNaN(R)||R<0)throw new TypeError("Invalid ttl value");if(typeof P!="boolean")throw new TypeError("Invalid resetTtl value");return new LRU(_,R,P)}const genericFontFamilies=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function fontStringFromTextStyle(_){const R=typeof _.fontSize=="number"?`${_.fontSize}px`:_.fontSize;let P=_.fontFamily;Array.isArray(_.fontFamily)||(P=_.fontFamily.split(","));for(let I=P.length-1;I>=0;I--){let O=P[I].trim();!/([\"\'])[^\'\"]+\1/.test(O)&&!genericFontFamilies.includes(O)&&(O=`"${O}"`),P[I]=O}return`${_.fontStyle} ${_.fontVariant} ${_.fontWeight} ${R} ${P.join(",")}`}const contextSettings={willReadFrequently:!0},_CanvasTextMetrics=class bt{static get experimentalLetterSpacingSupported(){let R=bt._experimentalLetterSpacingSupported;if(R===void 0){const P=DOMAdapter.get().getCanvasRenderingContext2D().prototype;R=bt._experimentalLetterSpacingSupported="letterSpacing"in P||"textLetterSpacing"in P}return R}constructor(R,P,I,O,z,L,F,U,V){this.text=R,this.style=P,this.width=I,this.height=O,this.lines=z,this.lineWidths=L,this.lineHeight=F,this.maxLineWidth=U,this.fontProperties=V}static measureText(R=" ",P,I=bt._canvas,O=P.wordWrap){const z=`${R}-${P.styleKey}-wordWrap-${O}`;if(bt._measurementCache.has(z))return bt._measurementCache.get(z);const L=fontStringFromTextStyle(P),F=bt.measureFont(L);F.fontSize===0&&(F.fontSize=P.fontSize,F.ascent=P.fontSize);const U=bt.__context;U.font=L;const q=(O?bt._wordWrap(R,P,I):R).split(/(?:\r\n|\r|\n)/),W=new Array(q.length);let Y=0;for(let se=0;se<q.length;se++){const le=bt._measureText(q[se],P.letterSpacing,U);W[se]=le,Y=Math.max(Y,le)}const Q=P._stroke?.width||0;let ee=Y+Q;P.dropShadow&&(ee+=P.dropShadow.distance);const te=P.lineHeight||F.fontSize;let ie=Math.max(te,F.fontSize+Q)+(q.length-1)*(te+P.leading);P.dropShadow&&(ie+=P.dropShadow.distance);const ae=new bt(R,P,ee,ie,q,W,te+P.leading,Y,F);return bt._measurementCache.set(z,ae),ae}static _measureText(R,P,I){let O=!1;bt.experimentalLetterSpacingSupported&&(bt.experimentalLetterSpacing?(I.letterSpacing=`${P}px`,I.textLetterSpacing=`${P}px`,O=!0):(I.letterSpacing="0px",I.textLetterSpacing="0px"));const z=I.measureText(R);let L=z.width;const F=-z.actualBoundingBoxLeft;let V=z.actualBoundingBoxRight-F;if(L>0)if(O)L-=P,V-=P;else{const q=(bt.graphemeSegmenter(R).length-1)*P;L+=q,V+=q}return Math.max(L,V)}static _wordWrap(R,P,I=bt._canvas){const O=I.getContext("2d",contextSettings);let z=0,L="",F="";const U=Object.create(null),{letterSpacing:V,whiteSpace:q}=P,W=bt._collapseSpaces(q),Y=bt._collapseNewlines(q);let Q=!W;const ee=P.wordWrapWidth+V,te=bt._tokenize(R);for(let ie=0;ie<te.length;ie++){let ae=te[ie];if(bt._isNewline(ae)){if(!Y){F+=bt._addLine(L),Q=!W,L="",z=0;continue}ae=" "}if(W){const le=bt.isBreakingSpace(ae),ce=bt.isBreakingSpace(L[L.length-1]);if(le&&ce)continue}const se=bt._getFromCache(ae,V,U,O);if(se>ee)if(L!==""&&(F+=bt._addLine(L),L="",z=0),bt.canBreakWords(ae,P.breakWords)){const le=bt.wordWrapSplit(ae);for(let ce=0;ce<le.length;ce++){let fe=le[ce],de=fe,he=1;for(;le[ce+he];){const ge=le[ce+he];if(!bt.canBreakChars(de,ge,ae,ce,P.breakWords))fe+=ge;else break;de=ge,he++}ce+=he-1;const pe=bt._getFromCache(fe,V,U,O);pe+z>ee&&(F+=bt._addLine(L),Q=!1,L="",z=0),L+=fe,z+=pe}}else{L.length>0&&(F+=bt._addLine(L),L="",z=0);const le=ie===te.length-1;F+=bt._addLine(ae,!le),Q=!1,L="",z=0}else se+z>ee&&(Q=!1,F+=bt._addLine(L),L="",z=0),(L.length>0||!bt.isBreakingSpace(ae)||Q)&&(L+=ae,z+=se)}return F+=bt._addLine(L,!1),F}static _addLine(R,P=!0){return R=bt._trimRight(R),R=P?`${R}
`:R,R}static _getFromCache(R,P,I,O){let z=I[R];return typeof z!="number"&&(z=bt._measureText(R,P,O)+P,I[R]=z),z}static _collapseSpaces(R){return R==="normal"||R==="pre-line"}static _collapseNewlines(R){return R==="normal"}static _trimRight(R){if(typeof R!="string")return"";for(let P=R.length-1;P>=0;P--){const I=R[P];if(!bt.isBreakingSpace(I))break;R=R.slice(0,-1)}return R}static _isNewline(R){return typeof R!="string"?!1:bt._newlines.includes(R.charCodeAt(0))}static isBreakingSpace(R,P){return typeof R!="string"?!1:bt._breakingSpaces.includes(R.charCodeAt(0))}static _tokenize(R){const P=[];let I="";if(typeof R!="string")return P;for(let O=0;O<R.length;O++){const z=R[O],L=R[O+1];if(bt.isBreakingSpace(z,L)||bt._isNewline(z)){I!==""&&(P.push(I),I=""),z==="\r"&&L===`
`?(P.push(`\r
`),O++):P.push(z);continue}I+=z}return I!==""&&P.push(I),P}static canBreakWords(R,P){return P}static canBreakChars(R,P,I,O,z){return!0}static wordWrapSplit(R){return bt.graphemeSegmenter(R)}static measureFont(R){if(bt._fonts[R])return bt._fonts[R];const P=bt._context;P.font=R;const I=P.measureText(bt.METRICS_STRING+bt.BASELINE_SYMBOL),O={ascent:I.actualBoundingBoxAscent,descent:I.actualBoundingBoxDescent,fontSize:I.actualBoundingBoxAscent+I.actualBoundingBoxDescent};return bt._fonts[R]=O,O}static clearMetrics(R=""){R?delete bt._fonts[R]:bt._fonts={}}static get _canvas(){if(!bt.__canvas){let R;try{const P=new OffscreenCanvas(0,0);if(P.getContext("2d",contextSettings)?.measureText)return bt.__canvas=P,P;R=DOMAdapter.get().createCanvas()}catch{R=DOMAdapter.get().createCanvas()}R.width=R.height=10,bt.__canvas=R}return bt.__canvas}static get _context(){return bt.__context||(bt.__context=bt._canvas.getContext("2d",contextSettings)),bt.__context}};_CanvasTextMetrics.METRICS_STRING="|q";_CanvasTextMetrics.BASELINE_SYMBOL="M";_CanvasTextMetrics.BASELINE_MULTIPLIER=1.4;_CanvasTextMetrics.HEIGHT_MULTIPLIER=2;_CanvasTextMetrics.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const _=new Intl.Segmenter;return R=>{const P=_.segment(R),I=[];let O=0;for(const z of P)I[O++]=z.segment;return I}}return _=>[..._]})();_CanvasTextMetrics.experimentalLetterSpacing=!1;_CanvasTextMetrics._fonts={};_CanvasTextMetrics._newlines=[10,13];_CanvasTextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];_CanvasTextMetrics._measurementCache=lru(1e3);let CanvasTextMetrics=_CanvasTextMetrics;const emptyColorStops=[{offset:0,color:"white"},{offset:1,color:"black"}],_FillGradient=class _c{constructor(...R){this.uid=uid("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let P=ensureGradientOptions(R);P={...P.type==="radial"?_c.defaultRadialOptions:_c.defaultLinearOptions,...definedProps(P)},this._textureSize=P.textureSize,this._wrapMode=P.wrapMode,P.type==="radial"?(this.center=P.center,this.outerCenter=P.outerCenter??this.center,this.innerRadius=P.innerRadius,this.outerRadius=P.outerRadius,this.scale=P.scale,this.rotation=P.rotation):(this.start=P.start,this.end=P.end),this.textureSpace=P.textureSpace,this.type=P.type,P.colorStops.forEach(O=>{this.addColorStop(O.offset,O.color)})}addColorStop(R,P){return this.colorStops.push({offset:R,color:Color$1.shared.setValue(P).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:R,y:P}=this.start,{x:I,y:O}=this.end,z=I-R,L=O-P;const F=z<0||L<0;if(this._wrapMode==="clamp-to-edge"){if(z<0){const ie=R;R=I,I=ie,z*=-1}if(L<0){const ie=P;P=O,O=ie,L*=-1}}const U=this.colorStops.length?this.colorStops:emptyColorStops,V=this._textureSize,{canvas:q,context:W}=getCanvas(V,1),Y=F?W.createLinearGradient(this._textureSize,0,0,0):W.createLinearGradient(0,0,this._textureSize,0);addColorStops(Y,U),W.fillStyle=Y,W.fillRect(0,0,V,1),this.texture=new Texture({source:new ImageSource({resource:q,addressMode:this._wrapMode})});const Q=Math.sqrt(z*z+L*L),ee=Math.atan2(L,z),te=new Matrix;te.scale(Q/V,1),te.rotate(ee),te.translate(R,P),this.textureSpace==="local"&&te.scale(V,V),this.transform=te}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const R=this.colorStops.length?this.colorStops:emptyColorStops,P=this._textureSize,{canvas:I,context:O}=getCanvas(P,P),{x:z,y:L}=this.center,{x:F,y:U}=this.outerCenter,V=this.innerRadius,q=this.outerRadius,W=F-q,Y=U-q,Q=P/(q*2),ee=(z-W)*Q,te=(L-Y)*Q,ie=O.createRadialGradient(ee,te,V*Q,(F-W)*Q,(U-Y)*Q,q*Q);addColorStops(ie,R),O.fillStyle=R[R.length-1].color,O.fillRect(0,0,P,P),O.fillStyle=ie,O.translate(ee,te),O.rotate(this.rotation),O.scale(1,this.scale),O.translate(-ee,-te),O.fillRect(0,0,P,P),this.texture=new Texture({source:new ImageSource({resource:I,addressMode:this._wrapMode})});const ae=new Matrix;ae.scale(1/Q,1/Q),ae.translate(W,Y),this.textureSpace==="local"&&ae.scale(P,P),this.transform=ae}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};_FillGradient.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};_FillGradient.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let FillGradient=_FillGradient;function addColorStops(_,R){for(let P=0;P<R.length;P++){const I=R[P];_.addColorStop(I.offset,I.color)}}function getCanvas(_,R){const P=DOMAdapter.get().createCanvas(_,R),I=P.getContext("2d");return{canvas:P,context:I}}function ensureGradientOptions(_){let R=_[0]??{};return(typeof R=="number"||_[1])&&(deprecation("8.5.2","use options object instead"),R={type:"linear",start:{x:_[0],y:_[1]},end:{x:_[2],y:_[3]},textureSpace:_[4],textureSize:_[5]??FillGradient.defaultLinearOptions.textureSize}),R}const repetitionMap={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class FillPattern{constructor(R,P){this.uid=uid("fillPattern"),this._tick=0,this.transform=new Matrix,this.texture=R,this.transform.scale(1/R.frame.width,1/R.frame.height),P&&(R.source.style.addressModeU=repetitionMap[P].addressModeU,R.source.style.addressModeV=repetitionMap[P].addressModeV)}setTransform(R){const P=this.texture;this.transform.copyFrom(R),this.transform.invert(),this.transform.scale(1/P.frame.width,1/P.frame.height),this._tick++}get texture(){return this._texture}set texture(R){this._texture!==R&&(this._texture=R,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var parseSvgPath,hasRequiredParseSvgPath;function requireParseSvgPath(){if(hasRequiredParseSvgPath)return parseSvgPath;hasRequiredParseSvgPath=1,parseSvgPath=P;var _={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},R=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function P(z){var L=[];return z.replace(R,function(F,U,V){var q=U.toLowerCase();for(V=O(V),q=="m"&&V.length>2&&(L.push([U].concat(V.splice(0,2))),q="l",U=U=="m"?"l":"L");;){if(V.length==_[q])return V.unshift(U),L.push(V);if(V.length<_[q])throw new Error("malformed path data");L.push([U].concat(V.splice(0,_[q])))}}),L}var I=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function O(z){var L=z.match(I);return L?L.map(Number):[]}return parseSvgPath}var parseSvgPathExports=requireParseSvgPath();const parse$4=getDefaultExportFromCjs(parseSvgPathExports);function parseSVGPath(_,R){const P=parse$4(_),I=[];let O=null,z=0,L=0;for(let F=0;F<P.length;F++){const U=P[F],V=U[0],q=U;switch(V){case"M":z=q[1],L=q[2],R.moveTo(z,L);break;case"m":z+=q[1],L+=q[2],R.moveTo(z,L);break;case"H":z=q[1],R.lineTo(z,L);break;case"h":z+=q[1],R.lineTo(z,L);break;case"V":L=q[1],R.lineTo(z,L);break;case"v":L+=q[1],R.lineTo(z,L);break;case"L":z=q[1],L=q[2],R.lineTo(z,L);break;case"l":z+=q[1],L+=q[2],R.lineTo(z,L);break;case"C":z=q[5],L=q[6],R.bezierCurveTo(q[1],q[2],q[3],q[4],z,L);break;case"c":R.bezierCurveTo(z+q[1],L+q[2],z+q[3],L+q[4],z+q[5],L+q[6]),z+=q[5],L+=q[6];break;case"S":z=q[3],L=q[4],R.bezierCurveToShort(q[1],q[2],z,L);break;case"s":R.bezierCurveToShort(z+q[1],L+q[2],z+q[3],L+q[4]),z+=q[3],L+=q[4];break;case"Q":z=q[3],L=q[4],R.quadraticCurveTo(q[1],q[2],z,L);break;case"q":R.quadraticCurveTo(z+q[1],L+q[2],z+q[3],L+q[4]),z+=q[3],L+=q[4];break;case"T":z=q[1],L=q[2],R.quadraticCurveToShort(z,L);break;case"t":z+=q[1],L+=q[2],R.quadraticCurveToShort(z,L);break;case"A":z=q[6],L=q[7],R.arcToSvg(q[1],q[2],q[3],q[4],q[5],z,L);break;case"a":z+=q[6],L+=q[7],R.arcToSvg(q[1],q[2],q[3],q[4],q[5],z,L);break;case"Z":case"z":R.closePath(),I.length>0&&(O=I.pop(),O?(z=O.startX,L=O.startY):(z=0,L=0)),O=null;break;default:warn$1(`Unknown SVG path command: ${V}`)}V!=="Z"&&V!=="z"&&O===null&&(O={startX:z,startY:L},I.push(O))}return R}class Circle{constructor(R=0,P=0,I=0){this.type="circle",this.x=R,this.y=P,this.radius=I}clone(){return new Circle(this.x,this.y,this.radius)}contains(R,P){if(this.radius<=0)return!1;const I=this.radius*this.radius;let O=this.x-R,z=this.y-P;return O*=O,z*=z,O+z<=I}strokeContains(R,P,I,O=.5){if(this.radius===0)return!1;const z=this.x-R,L=this.y-P,F=this.radius,U=(1-O)*I,V=Math.sqrt(z*z+L*L);return V<=F+U&&V>F-(I-U)}getBounds(R){return R||(R=new Rectangle),R.x=this.x-this.radius,R.y=this.y-this.radius,R.width=this.radius*2,R.height=this.radius*2,R}copyFrom(R){return this.x=R.x,this.y=R.y,this.radius=R.radius,this}copyTo(R){return R.copyFrom(this),R}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Ellipse{constructor(R=0,P=0,I=0,O=0){this.type="ellipse",this.x=R,this.y=P,this.halfWidth=I,this.halfHeight=O}clone(){return new Ellipse(this.x,this.y,this.halfWidth,this.halfHeight)}contains(R,P){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let I=(R-this.x)/this.halfWidth,O=(P-this.y)/this.halfHeight;return I*=I,O*=O,I+O<=1}strokeContains(R,P,I,O=.5){const{halfWidth:z,halfHeight:L}=this;if(z<=0||L<=0)return!1;const F=I*(1-O),U=I-F,V=z-U,q=L-U,W=z+F,Y=L+F,Q=R-this.x,ee=P-this.y,te=Q*Q/(V*V)+ee*ee/(q*q),ie=Q*Q/(W*W)+ee*ee/(Y*Y);return te>1&&ie<=1}getBounds(R){return R||(R=new Rectangle),R.x=this.x-this.halfWidth,R.y=this.y-this.halfHeight,R.width=this.halfWidth*2,R.height=this.halfHeight*2,R}copyFrom(R){return this.x=R.x,this.y=R.y,this.halfWidth=R.halfWidth,this.halfHeight=R.halfHeight,this}copyTo(R){return R.copyFrom(this),R}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function squaredDistanceToLineSegment(_,R,P,I,O,z){const L=_-P,F=R-I,U=O-P,V=z-I,q=L*U+F*V,W=U*U+V*V;let Y=-1;W!==0&&(Y=q/W);let Q,ee;Y<0?(Q=P,ee=I):Y>1?(Q=O,ee=z):(Q=P+Y*U,ee=I+Y*V);const te=_-Q,ie=R-ee;return te*te+ie*ie}let tempRect$3,tempRect2;class Polygon{constructor(...R){this.type="polygon";let P=Array.isArray(R[0])?R[0]:R;if(typeof P[0]!="number"){const I=[];for(let O=0,z=P.length;O<z;O++)I.push(P[O].x,P[O].y);P=I}this.points=P,this.closePath=!0}isClockwise(){let R=0;const P=this.points,I=P.length;for(let O=0;O<I;O+=2){const z=P[O],L=P[O+1],F=P[(O+2)%I],U=P[(O+3)%I];R+=(F-z)*(U+L)}return R<0}containsPolygon(R){const P=this.getBounds(tempRect$3),I=R.getBounds(tempRect2);if(!P.containsRect(I))return!1;const O=R.points;for(let z=0;z<O.length;z+=2){const L=O[z],F=O[z+1];if(!this.contains(L,F))return!1}return!0}clone(){const R=this.points.slice(),P=new Polygon(R);return P.closePath=this.closePath,P}contains(R,P){let I=!1;const O=this.points.length/2;for(let z=0,L=O-1;z<O;L=z++){const F=this.points[z*2],U=this.points[z*2+1],V=this.points[L*2],q=this.points[L*2+1];U>P!=q>P&&R<(V-F)*((P-U)/(q-U))+F&&(I=!I)}return I}strokeContains(R,P,I,O=.5){const z=I*I,L=z*(1-O),F=z-L,{points:U}=this,V=U.length-(this.closePath?0:2);for(let q=0;q<V;q+=2){const W=U[q],Y=U[q+1],Q=U[(q+2)%U.length],ee=U[(q+3)%U.length],te=squaredDistanceToLineSegment(R,P,W,Y,Q,ee),ie=Math.sign((Q-W)*(P-Y)-(ee-Y)*(R-W));if(te<=(ie<0?F:L))return!0}return!1}getBounds(R){R||(R=new Rectangle);const P=this.points;let I=1/0,O=-1/0,z=1/0,L=-1/0;for(let F=0,U=P.length;F<U;F+=2){const V=P[F],q=P[F+1];I=V<I?V:I,O=V>O?V:O,z=q<z?q:z,L=q>L?q:L}return R.x=I,R.width=O-I,R.y=z,R.height=L-z,R}copyFrom(R){return this.points=R.points.slice(),this.closePath=R.closePath,this}copyTo(R){return R.copyFrom(this),R}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((R,P)=>`${R}, ${P}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return deprecation("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return deprecation("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const isCornerWithinStroke=(_,R,P,I,O,z,L)=>{const F=_-P,U=R-I,V=Math.sqrt(F*F+U*U);return V>=O-z&&V<=O+L};class RoundedRectangle{constructor(R=0,P=0,I=0,O=0,z=20){this.type="roundedRectangle",this.x=R,this.y=P,this.width=I,this.height=O,this.radius=z}getBounds(R){return R||(R=new Rectangle),R.x=this.x,R.y=this.y,R.width=this.width,R.height=this.height,R}clone(){return new RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)}copyFrom(R){return this.x=R.x,this.y=R.y,this.width=R.width,this.height=R.height,this}copyTo(R){return R.copyFrom(this),R}contains(R,P){if(this.width<=0||this.height<=0)return!1;if(R>=this.x&&R<=this.x+this.width&&P>=this.y&&P<=this.y+this.height){const I=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(P>=this.y+I&&P<=this.y+this.height-I||R>=this.x+I&&R<=this.x+this.width-I)return!0;let O=R-(this.x+I),z=P-(this.y+I);const L=I*I;if(O*O+z*z<=L||(O=R-(this.x+this.width-I),O*O+z*z<=L)||(z=P-(this.y+this.height-I),O*O+z*z<=L)||(O=R-(this.x+I),O*O+z*z<=L))return!0}return!1}strokeContains(R,P,I,O=.5){const{x:z,y:L,width:F,height:U,radius:V}=this,q=I*(1-O),W=I-q,Y=z+V,Q=L+V,ee=F-V*2,te=U-V*2,ie=z+F,ae=L+U;return(R>=z-q&&R<=z+W||R>=ie-W&&R<=ie+q)&&P>=Q&&P<=Q+te||(P>=L-q&&P<=L+W||P>=ae-W&&P<=ae+q)&&R>=Y&&R<=Y+ee?!0:R<Y&&P<Q&&isCornerWithinStroke(R,P,Y,Q,V,W,q)||R>ie-V&&P<Q&&isCornerWithinStroke(R,P,ie-V,Q,V,W,q)||R>ie-V&&P>ae-V&&isCornerWithinStroke(R,P,ie-V,ae-V,V,W,q)||R<Y&&P>ae-V&&isCornerWithinStroke(R,P,Y,ae-V,V,W,q)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const cachedGroups={};function getTextureBatchBindGroup(_,R,P){let I=2166136261;for(let O=0;O<R;O++)I^=_[O].uid,I=Math.imul(I,16777619),I>>>=0;return cachedGroups[I]||generateTextureBatchBindGroup(_,R,I,P)}function generateTextureBatchBindGroup(_,R,P,I){const O={};let z=0;for(let F=0;F<I;F++){const U=F<R?_[F]:Texture.EMPTY.source;O[z++]=U.source,O[z++]=U.style}const L=new BindGroup(O);return cachedGroups[P]=L,L}class ViewableBuffer{constructor(R){typeof R=="number"?this.rawBinaryData=new ArrayBuffer(R):R instanceof Uint8Array?this.rawBinaryData=R.buffer:this.rawBinaryData=R,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(R){return this[`${R}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(R){switch(R){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${R} isn't a valid view type`)}}}function fastCopy(_,R){const P=_.byteLength/8|0,I=new Float64Array(_,0,P);new Float64Array(R,0,P).set(I);const z=_.byteLength-P*8;if(z>0){const L=new Uint8Array(_,P*8,z);new Uint8Array(R,P*8,z).set(L)}}const BLEND_TO_NPM={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var STENCIL_MODES=(_=>(_[_.DISABLED=0]="DISABLED",_[_.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",_[_.MASK_ACTIVE=2]="MASK_ACTIVE",_[_.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",_[_.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",_[_.NONE=5]="NONE",_))(STENCIL_MODES||{});function getAdjustedBlendModeBlend(_,R){return R.alphaMode==="no-premultiply-alpha"&&BLEND_TO_NPM[_]||_}const fragTemplate=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function generateIfTestSrc(_){let R="";for(let P=0;P<_;++P)P>0&&(R+=`
else `),P<_-1&&(R+=`if(test == ${P}.0){}`);return R}function checkMaxIfStatementsInShader(_,R){if(_===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const P=R.createShader(R.FRAGMENT_SHADER);try{for(;;){const I=fragTemplate.replace(/%forloop%/gi,generateIfTestSrc(_));if(R.shaderSource(P,I),R.compileShader(P),!R.getShaderParameter(P,R.COMPILE_STATUS))_=_/2|0;else break}}finally{R.deleteShader(P)}return _}let maxTexturesPerBatchCache=null;function getMaxTexturesPerBatch(){if(maxTexturesPerBatchCache)return maxTexturesPerBatchCache;const _=getTestContext();return maxTexturesPerBatchCache=_.getParameter(_.MAX_TEXTURE_IMAGE_UNITS),maxTexturesPerBatchCache=checkMaxIfStatementsInShader(maxTexturesPerBatchCache,_),_.getExtension("WEBGL_lose_context")?.loseContext(),maxTexturesPerBatchCache}class BatchTextureArray{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let R=0;R<this.count;R++){const P=this.textures[R];this.textures[R]=null,this.ids[P.uid]=null}this.count=0}}class Batch{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new BatchTextureArray,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const batchPool=[];let batchPoolIndex=0;GlobalResourceRegistry.register({clear:()=>{if(batchPool.length>0)for(const _ of batchPool)_&&_.destroy();batchPool.length=0,batchPoolIndex=0}});function getBatchFromPool(){return batchPoolIndex>0?batchPool[--batchPoolIndex]:new Batch}function returnBatchToPool(_){batchPool[batchPoolIndex++]=_}let BATCH_TICK=0;const _Batcher=class Td{constructor(R){this.uid=uid("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],R={...Td.defaultOptions,...R},R.maxTextures||(deprecation("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),R.maxTextures=getMaxTexturesPerBatch());const{maxTextures:P,attributesInitialSize:I,indicesInitialSize:O}=R;this.attributeBuffer=new ViewableBuffer(I*4),this.indexBuffer=new Uint16Array(O),this.maxTextures=P}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let R=0;R<this.batchIndex;R++)returnBatchToPool(this.batches[R]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(R){this._elements[this.elementSize++]=R,R._indexStart=this.indexSize,R._attributeStart=this.attributeSize,R._batcher=this,this.indexSize+=R.indexSize,this.attributeSize+=R.attributeSize*this.vertexSize}checkAndUpdateTexture(R,P){const I=R._batch.textures.ids[P._source.uid];return!I&&I!==0?!1:(R._textureId=I,R.texture=P,!0)}updateElement(R){this.dirty=!0;const P=this.attributeBuffer;R.packAsQuad?this.packQuadAttributes(R,P.float32View,P.uint32View,R._attributeStart,R._textureId):this.packAttributes(R,P.float32View,P.uint32View,R._attributeStart,R._textureId)}break(R){const P=this._elements;if(!P[this.elementStart])return;let I=getBatchFromPool(),O=I.textures;O.clear();const z=P[this.elementStart];let L=getAdjustedBlendModeBlend(z.blendMode,z.texture._source),F=z.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const U=this.attributeBuffer.float32View,V=this.attributeBuffer.uint32View,q=this.indexBuffer;let W=this._batchIndexSize,Y=this._batchIndexStart,Q="startBatch";const ee=this.maxTextures;for(let te=this.elementStart;te<this.elementSize;++te){const ie=P[te];P[te]=null;const se=ie.texture._source,le=getAdjustedBlendModeBlend(ie.blendMode,se),ce=L!==le||F!==ie.topology;if(se._batchTick===BATCH_TICK&&!ce){ie._textureId=se._textureBindLocation,W+=ie.indexSize,ie.packAsQuad?(this.packQuadAttributes(ie,U,V,ie._attributeStart,ie._textureId),this.packQuadIndex(q,ie._indexStart,ie._attributeStart/this.vertexSize)):(this.packAttributes(ie,U,V,ie._attributeStart,ie._textureId),this.packIndex(ie,q,ie._indexStart,ie._attributeStart/this.vertexSize)),ie._batch=I;continue}se._batchTick=BATCH_TICK,(O.count>=ee||ce)&&(this._finishBatch(I,Y,W-Y,O,L,F,R,Q),Q="renderBatch",Y=W,L=le,F=ie.topology,I=getBatchFromPool(),O=I.textures,O.clear(),++BATCH_TICK),ie._textureId=se._textureBindLocation=O.count,O.ids[se.uid]=O.count,O.textures[O.count++]=se,ie._batch=I,W+=ie.indexSize,ie.packAsQuad?(this.packQuadAttributes(ie,U,V,ie._attributeStart,ie._textureId),this.packQuadIndex(q,ie._indexStart,ie._attributeStart/this.vertexSize)):(this.packAttributes(ie,U,V,ie._attributeStart,ie._textureId),this.packIndex(ie,q,ie._indexStart,ie._attributeStart/this.vertexSize))}O.count>0&&(this._finishBatch(I,Y,W-Y,O,L,F,R,Q),Y=W,++BATCH_TICK),this.elementStart=this.elementSize,this._batchIndexStart=Y,this._batchIndexSize=W}_finishBatch(R,P,I,O,z,L,F,U){R.gpuBindGroup=null,R.bindGroup=null,R.action=U,R.batcher=this,R.textures=O,R.blendMode=z,R.topology=L,R.start=P,R.size=I,++BATCH_TICK,this.batches[this.batchIndex++]=R,F.add(R)}finish(R){this.break(R)}ensureAttributeBuffer(R){R*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(R*4)}ensureIndexBuffer(R){R<=this.indexBuffer.length||this._resizeIndexBuffer(R)}_resizeAttributeBuffer(R){const P=Math.max(R,this.attributeBuffer.size*2),I=new ViewableBuffer(P);fastCopy(this.attributeBuffer.rawBinaryData,I.rawBinaryData),this.attributeBuffer=I}_resizeIndexBuffer(R){const P=this.indexBuffer;let I=Math.max(R,P.length*1.5);I+=I%2;const O=I>65535?new Uint32Array(I):new Uint16Array(I);if(O.BYTES_PER_ELEMENT!==P.BYTES_PER_ELEMENT)for(let z=0;z<P.length;z++)O[z]=P[z];else fastCopy(P.buffer,O.buffer);this.indexBuffer=O}packQuadIndex(R,P,I){R[P]=I+0,R[P+1]=I+1,R[P+2]=I+2,R[P+3]=I+0,R[P+4]=I+2,R[P+5]=I+3}packIndex(R,P,I,O){const z=R.indices,L=R.indexSize,F=R.indexOffset,U=R.attributeOffset;for(let V=0;V<L;V++)P[I++]=O+z[V+F]-U}destroy(R={}){if(this.batches!==null){for(let P=0;P<this.batches.length;P++)returnBatchToPool(this.batches[P]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,R.shader&&(this.shader?.destroy(),this.shader=null);for(let P=0;P<this._elements.length;P++)this._elements[P]&&(this._elements[P]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};_Batcher.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Batcher=_Batcher;var BufferUsage=(_=>(_[_.MAP_READ=1]="MAP_READ",_[_.MAP_WRITE=2]="MAP_WRITE",_[_.COPY_SRC=4]="COPY_SRC",_[_.COPY_DST=8]="COPY_DST",_[_.INDEX=16]="INDEX",_[_.VERTEX=32]="VERTEX",_[_.UNIFORM=64]="UNIFORM",_[_.STORAGE=128]="STORAGE",_[_.INDIRECT=256]="INDIRECT",_[_.QUERY_RESOLVE=512]="QUERY_RESOLVE",_[_.STATIC=1024]="STATIC",_))(BufferUsage||{});let Buffer$1=class extends EventEmitter{constructor(R){let{data:P,size:I}=R;const{usage:O,label:z,shrinkToFit:L}=R;super(),this.uid=uid("buffer"),this._resourceType="buffer",this._resourceId=uid("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,P instanceof Array&&(P=new Float32Array(P)),this._data=P,I??(I=P?.byteLength);const F=!!P;this.descriptor={size:I,usage:O,mappedAtCreation:F,label:z},this.shrinkToFit=L??!0}get data(){return this._data}set data(R){this.setDataWithSize(R,R.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&BufferUsage.STATIC)}set static(R){R?this.descriptor.usage|=BufferUsage.STATIC:this.descriptor.usage&=~BufferUsage.STATIC}setDataWithSize(R,P,I){if(this._updateID++,this._updateSize=P*R.BYTES_PER_ELEMENT,this._data===R){I&&this.emit("update",this);return}const O=this._data;if(this._data=R,this._dataInt32=null,!O||O.length!==R.length){!this.shrinkToFit&&O&&R.byteLength<O.byteLength?I&&this.emit("update",this):(this.descriptor.size=R.byteLength,this._resourceId=uid("resource"),this.emit("change",this));return}I&&this.emit("update",this)}update(R){this._updateSize=R??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}};function ensureIsBuffer(_,R){if(!(_ instanceof Buffer$1)){let P=R?BufferUsage.INDEX:BufferUsage.VERTEX;_ instanceof Array&&(R?(_=new Uint32Array(_),P=BufferUsage.INDEX|BufferUsage.COPY_DST):(_=new Float32Array(_),P=BufferUsage.VERTEX|BufferUsage.COPY_DST)),_=new Buffer$1({data:_,label:R?"index-mesh-buffer":"vertex-mesh-buffer",usage:P})}return _}function getGeometryBounds(_,R,P){const I=_.getAttribute(R);if(!I)return P.minX=0,P.minY=0,P.maxX=0,P.maxY=0,P;const O=I.buffer.data;let z=1/0,L=1/0,F=-1/0,U=-1/0;const V=O.BYTES_PER_ELEMENT,q=(I.offset||0)/V,W=(I.stride||8)/V;for(let Y=q;Y<O.length;Y+=W){const Q=O[Y],ee=O[Y+1];Q>F&&(F=Q),ee>U&&(U=ee),Q<z&&(z=Q),ee<L&&(L=ee)}return P.minX=z,P.minY=L,P.maxX=F,P.maxY=U,P}function ensureIsAttribute(_){return(_ instanceof Buffer$1||Array.isArray(_)||_.BYTES_PER_ELEMENT)&&(_={buffer:_}),_.buffer=ensureIsBuffer(_.buffer,!1),_}class Geometry extends EventEmitter{constructor(R={}){super(),this.uid=uid("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Bounds,this._boundsDirty=!0;const{attributes:P,indexBuffer:I,topology:O}=R;if(this.buffers=[],this.attributes={},P)for(const z in P)this.addAttribute(z,P[z]);this.instanceCount=R.instanceCount??1,I&&this.addIndex(I),this.topology=O||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(R){return this.attributes[R]}getIndex(){return this.indexBuffer}getBuffer(R){return this.getAttribute(R).buffer}getSize(){for(const R in this.attributes){const P=this.attributes[R];return P.buffer.data.length/(P.stride/4||P.size)}return 0}addAttribute(R,P){const I=ensureIsAttribute(P);this.buffers.indexOf(I.buffer)===-1&&(this.buffers.push(I.buffer),I.buffer.on("update",this.onBufferUpdate,this),I.buffer.on("change",this.onBufferUpdate,this)),this.attributes[R]=I}addIndex(R){this.indexBuffer=ensureIsBuffer(R,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,getGeometryBounds(this,"aPosition",this._bounds)):this._bounds}destroy(R=!1){this.emit("destroy",this),this.removeAllListeners(),R&&this.buffers.forEach(P=>P.destroy()),this.indexBuffer?.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const placeHolderBufferData=new Float32Array(1),placeHolderIndexData=new Uint32Array(1);class BatchGeometry extends Geometry{constructor(){const P=new Buffer$1({data:placeHolderBufferData,label:"attribute-batch-buffer",usage:BufferUsage.VERTEX|BufferUsage.COPY_DST,shrinkToFit:!1}),I=new Buffer$1({data:placeHolderIndexData,label:"index-batch-buffer",usage:BufferUsage.INDEX|BufferUsage.COPY_DST,shrinkToFit:!1}),O=24;super({attributes:{aPosition:{buffer:P,format:"float32x2",stride:O,offset:0},aUV:{buffer:P,format:"float32x2",stride:O,offset:8},aColor:{buffer:P,format:"unorm8x4",stride:O,offset:16},aTextureIdAndRound:{buffer:P,format:"uint16x2",stride:O,offset:20}},indexBuffer:I})}}function addBits(_,R,P){if(_)for(const I in _){const O=I.toLocaleLowerCase(),z=R[O];if(z){let L=_[I];I==="header"&&(L=L.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),P&&z.push(`//----${P}----//`),z.push(L)}else warn$1(`${I} placement hook does not exist in shader`)}}const findHooksRx=/\{\{(.*?)\}\}/g;function compileHooks(_){const R={};return(_.match(findHooksRx)?.map(I=>I.replace(/[{()}]/g,""))??[]).forEach(I=>{R[I]=[]}),R}function extractInputs(_,R){let P;const I=/@in\s+([^;]+);/g;for(;(P=I.exec(_))!==null;)R.push(P[1])}function compileInputs(_,R,P=!1){const I=[];extractInputs(R,I),_.forEach(F=>{F.header&&extractInputs(F.header,I)});const O=I;P&&O.sort();const z=O.map((F,U)=>`       @location(${U}) ${F},`).join(`
`);let L=R.replace(/@in\s+[^;]+;\s*/g,"");return L=L.replace("{{in}}",`
${z}
`),L}function extractOutputs(_,R){let P;const I=/@out\s+([^;]+);/g;for(;(P=I.exec(_))!==null;)R.push(P[1])}function extractVariableName(_){const P=/\b(\w+)\s*:/g.exec(_);return P?P[1]:""}function stripVariable(_){const R=/@.*?\s+/g;return _.replace(R,"")}function compileOutputs(_,R){const P=[];extractOutputs(R,P),_.forEach(U=>{U.header&&extractOutputs(U.header,P)});let I=0;const O=P.sort().map(U=>U.indexOf("builtin")>-1?U:`@location(${I++}) ${U}`).join(`,
`),z=P.sort().map(U=>`       var ${stripVariable(U)};`).join(`
`),L=`return VSOutput(
            ${P.sort().map(U=>` ${extractVariableName(U)}`).join(`,
`)});`;let F=R.replace(/@out\s+[^;]+;\s*/g,"");return F=F.replace("{{struct}}",`
${O}
`),F=F.replace("{{start}}",`
${z}
`),F=F.replace("{{return}}",`
${L}
`),F}function injectBits(_,R){let P=_;for(const I in R){const O=R[I];O.join(`
`).length?P=P.replace(`{{${I}}}`,`//-----${I} START-----//
${O.join(`
`)}
//----${I} FINISH----//`):P=P.replace(`{{${I}}}`,"")}return P}const cacheMap=Object.create(null),bitCacheMap=new Map;let CACHE_UID=0;function compileHighShader({template:_,bits:R}){const P=generateCacheId(_,R);if(cacheMap[P])return cacheMap[P];const{vertex:I,fragment:O}=compileInputsAndOutputs(_,R);return cacheMap[P]=compileBits(I,O,R),cacheMap[P]}function compileHighShaderGl({template:_,bits:R}){const P=generateCacheId(_,R);return cacheMap[P]||(cacheMap[P]=compileBits(_.vertex,_.fragment,R)),cacheMap[P]}function compileInputsAndOutputs(_,R){const P=R.map(L=>L.vertex).filter(L=>!!L),I=R.map(L=>L.fragment).filter(L=>!!L);let O=compileInputs(P,_.vertex,!0);O=compileOutputs(P,O);const z=compileInputs(I,_.fragment,!0);return{vertex:O,fragment:z}}function generateCacheId(_,R){return R.map(P=>(bitCacheMap.has(P)||bitCacheMap.set(P,CACHE_UID++),bitCacheMap.get(P))).sort((P,I)=>P-I).join("-")+_.vertex+_.fragment}function compileBits(_,R,P){const I=compileHooks(_),O=compileHooks(R);return P.forEach(z=>{addBits(z.vertex,I,z.name),addBits(z.fragment,O,z.name)}),{vertex:injectBits(_,I),fragment:injectBits(R,O)}}const vertexGPUTemplate=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,fragmentGPUTemplate=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,vertexGlTemplate=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,fragmentGlTemplate=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,globalUniformsBit={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},globalUniformsBitGl={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function compileHighShaderGpuProgram({bits:_,name:R}){const P=compileHighShader({template:{fragment:fragmentGPUTemplate,vertex:vertexGPUTemplate},bits:[globalUniformsBit,..._]});return GpuProgram.from({name:R,vertex:{source:P.vertex,entryPoint:"main"},fragment:{source:P.fragment,entryPoint:"main"}})}function compileHighShaderGlProgram({bits:_,name:R}){return new GlProgram({name:R,...compileHighShaderGl({template:{vertex:vertexGlTemplate,fragment:fragmentGlTemplate},bits:[globalUniformsBitGl,..._]})})}const colorBit={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},colorBitGl={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},textureBatchBitGpuCache={};function generateBindingSrc(_){const R=[];if(_===1)R.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),R.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let P=0;for(let I=0;I<_;I++)R.push(`@group(1) @binding(${P++}) var textureSource${I+1}: texture_2d<f32>;`),R.push(`@group(1) @binding(${P++}) var textureSampler${I+1}: sampler;`)}return R.join(`
`)}function generateSampleSrc(_){const R=[];if(_===1)R.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{R.push("switch vTextureId {");for(let P=0;P<_;P++)P===_-1?R.push("  default:{"):R.push(`  case ${P}:{`),R.push(`      outColor = textureSampleGrad(textureSource${P+1}, textureSampler${P+1}, vUV, uvDx, uvDy);`),R.push("      break;}");R.push("}")}return R.join(`
`)}function generateTextureBatchBit(_){return textureBatchBitGpuCache[_]||(textureBatchBitGpuCache[_]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${generateBindingSrc(_)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${generateSampleSrc(_)}
            `}}),textureBatchBitGpuCache[_]}const textureBatchBitGlCache={};function generateSampleGlSrc(_){const R=[];for(let P=0;P<_;P++)P>0&&R.push("else"),P<_-1&&R.push(`if(vTextureId < ${P}.5)`),R.push("{"),R.push(`	outColor = texture(uTextures[${P}], vUV);`),R.push("}");return R.join(`
`)}function generateTextureBatchBitGl(_){return textureBatchBitGlCache[_]||(textureBatchBitGlCache[_]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${_}];

            `,main:`

                ${generateSampleGlSrc(_)}
            `}}),textureBatchBitGlCache[_]}const roundPixelsBit={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},roundPixelsBitGl={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},batchSamplersUniformGroupHash={};function getBatchSamplersUniformGroup(_){let R=batchSamplersUniformGroupHash[_];if(R)return R;const P=new Int32Array(_);for(let I=0;I<_;I++)P[I]=I;return R=batchSamplersUniformGroupHash[_]=new UniformGroup({uTextures:{value:P,type:"i32",size:_}},{isStatic:!0}),R}class DefaultShader extends Shader{constructor(R){const P=compileHighShaderGlProgram({name:"batch",bits:[colorBitGl,generateTextureBatchBitGl(R),roundPixelsBitGl]}),I=compileHighShaderGpuProgram({name:"batch",bits:[colorBit,generateTextureBatchBit(R),roundPixelsBit]});super({glProgram:P,gpuProgram:I,resources:{batchSamplers:getBatchSamplersUniformGroup(R)}}),this.maxTextures=R}}let defaultShader=null;const _DefaultBatcher=class Ad extends Batcher{constructor(R){super(R),this.geometry=new BatchGeometry,this.name=Ad.extension.name,this.vertexSize=6,defaultShader??(defaultShader=new DefaultShader(R.maxTextures)),this.shader=defaultShader}packAttributes(R,P,I,O,z){const L=z<<16|R.roundPixels&65535,F=R.transform,U=F.a,V=F.b,q=F.c,W=F.d,Y=F.tx,Q=F.ty,{positions:ee,uvs:te}=R,ie=R.color,ae=R.attributeOffset,se=ae+R.attributeSize;for(let le=ae;le<se;le++){const ce=le*2,fe=ee[ce],de=ee[ce+1];P[O++]=U*fe+q*de+Y,P[O++]=W*de+V*fe+Q,P[O++]=te[ce],P[O++]=te[ce+1],I[O++]=ie,I[O++]=L}}packQuadAttributes(R,P,I,O,z){const L=R.texture,F=R.transform,U=F.a,V=F.b,q=F.c,W=F.d,Y=F.tx,Q=F.ty,ee=R.bounds,te=ee.maxX,ie=ee.minX,ae=ee.maxY,se=ee.minY,le=L.uvs,ce=R.color,fe=z<<16|R.roundPixels&65535;P[O+0]=U*ie+q*se+Y,P[O+1]=W*se+V*ie+Q,P[O+2]=le.x0,P[O+3]=le.y0,I[O+4]=ce,I[O+5]=fe,P[O+6]=U*te+q*se+Y,P[O+7]=W*se+V*te+Q,P[O+8]=le.x1,P[O+9]=le.y1,I[O+10]=ce,I[O+11]=fe,P[O+12]=U*te+q*ae+Y,P[O+13]=W*ae+V*te+Q,P[O+14]=le.x2,P[O+15]=le.y2,I[O+16]=ce,I[O+17]=fe,P[O+18]=U*ie+q*ae+Y,P[O+19]=W*ae+V*ie+Q,P[O+20]=le.x3,P[O+21]=le.y3,I[O+22]=ce,I[O+23]=fe}_updateMaxTextures(R){this.shader.maxTextures!==R&&(defaultShader=new DefaultShader(R),this.shader=defaultShader)}destroy(){this.shader=null,super.destroy()}};_DefaultBatcher.extension={type:[ExtensionType.Batcher],name:"default"};let DefaultBatcher=_DefaultBatcher;function buildUvs(_,R,P,I,O,z,L,F=null){let U=0;P*=R,O*=z;const V=F.a,q=F.b,W=F.c,Y=F.d,Q=F.tx,ee=F.ty;for(;U<L;){const te=_[P],ie=_[P+1];I[O]=V*te+W*ie+Q,I[O+1]=q*te+Y*ie+ee,O+=z,P+=R,U++}}function buildSimpleUvs(_,R,P,I){let O=0;for(R*=P;O<I;)_[R]=0,_[R+1]=0,R+=P,O++}function transformVertices(_,R,P,I,O){const z=R.a,L=R.b,F=R.c,U=R.d,V=R.tx,q=R.ty;P||(P=0),I||(I=2),O||(O=_.length/I-P);let W=P*I;for(let Y=0;Y<O;Y++){const Q=_[W],ee=_[W+1];_[W]=z*Q+F*ee+V,_[W+1]=L*Q+U*ee+q,W+=I}}const identityMatrix=new Matrix;class BatchableGraphics{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const R=this.baseColor,P=R>>16|R&65280|(R&255)<<16,I=this.renderable;return I?multiplyHexColors(P,I.groupColor)+(this.alpha*I.groupAlpha*255<<24):P+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||identityMatrix}copyTo(R){R.indexOffset=this.indexOffset,R.indexSize=this.indexSize,R.attributeOffset=this.attributeOffset,R.attributeSize=this.attributeSize,R.baseColor=this.baseColor,R.alpha=this.alpha,R.texture=this.texture,R.geometryData=this.geometryData,R.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const buildCircle={extension:{type:ExtensionType.ShapeBuilder,name:"circle"},build(_,R){let P,I,O,z,L,F;if(_.type==="circle"){const ce=_;if(L=F=ce.radius,L<=0)return!1;P=ce.x,I=ce.y,O=z=0}else if(_.type==="ellipse"){const ce=_;if(L=ce.halfWidth,F=ce.halfHeight,L<=0||F<=0)return!1;P=ce.x,I=ce.y,O=z=0}else{const ce=_,fe=ce.width/2,de=ce.height/2;P=ce.x+fe,I=ce.y+de,L=F=Math.max(0,Math.min(ce.radius,Math.min(fe,de))),O=fe-L,z=de-F}if(O<0||z<0)return!1;const U=Math.ceil(2.3*Math.sqrt(L+F)),V=U*8+(O?4:0)+(z?4:0);if(V===0)return!1;if(U===0)return R[0]=R[6]=P+O,R[1]=R[3]=I+z,R[2]=R[4]=P-O,R[5]=R[7]=I-z,!0;let q=0,W=U*4+(O?2:0)+2,Y=W,Q=V,ee=O+L,te=z,ie=P+ee,ae=P-ee,se=I+te;if(R[q++]=ie,R[q++]=se,R[--W]=se,R[--W]=ae,z){const ce=I-te;R[Y++]=ae,R[Y++]=ce,R[--Q]=ce,R[--Q]=ie}for(let ce=1;ce<U;ce++){const fe=Math.PI/2*(ce/U),de=O+Math.cos(fe)*L,he=z+Math.sin(fe)*F,pe=P+de,ge=P-de,be=I+he,xe=I-he;R[q++]=pe,R[q++]=be,R[--W]=be,R[--W]=ge,R[Y++]=ge,R[Y++]=xe,R[--Q]=xe,R[--Q]=pe}ee=O,te=z+F,ie=P+ee,ae=P-ee,se=I+te;const le=I-te;return R[q++]=ie,R[q++]=se,R[--Q]=le,R[--Q]=ie,O&&(R[q++]=ae,R[q++]=se,R[--Q]=le,R[--Q]=ae),!0},triangulate(_,R,P,I,O,z){if(_.length===0)return;let L=0,F=0;for(let q=0;q<_.length;q+=2)L+=_[q],F+=_[q+1];L/=_.length/2,F/=_.length/2;let U=I;R[U*P]=L,R[U*P+1]=F;const V=U++;for(let q=0;q<_.length;q+=2)R[U*P]=_[q],R[U*P+1]=_[q+1],q>0&&(O[z++]=U,O[z++]=V,O[z++]=U-1),U++;O[z++]=V+1,O[z++]=V,O[z++]=U-1}},buildEllipse={...buildCircle,extension:{...buildCircle.extension,name:"ellipse"}},buildRoundedRectangle={...buildCircle,extension:{...buildCircle.extension,name:"roundedRectangle"}},closePointEps=1e-4,curveEps=1e-4;function getOrientationOfPoints(_){const R=_.length;if(R<6)return 1;let P=0;for(let I=0,O=_[R-2],z=_[R-1];I<R;I+=2){const L=_[I],F=_[I+1];P+=(L-O)*(F+z),O=L,z=F}return P<0?-1:1}function square(_,R,P,I,O,z,L,F){const U=_-P*O,V=R-I*O,q=_+P*z,W=R+I*z;let Y,Q;L?(Y=I,Q=-P):(Y=-I,Q=P);const ee=U+Y,te=V+Q,ie=q+Y,ae=W+Q;return F.push(ee,te),F.push(ie,ae),2}function round(_,R,P,I,O,z,L,F){const U=P-_,V=I-R;let q=Math.atan2(U,V),W=Math.atan2(O-_,z-R);F&&q<W?q+=Math.PI*2:!F&&q>W&&(W+=Math.PI*2);let Y=q;const Q=W-q,ee=Math.abs(Q),te=Math.sqrt(U*U+V*V),ie=(15*ee*Math.sqrt(te)/Math.PI>>0)+1,ae=Q/ie;if(Y+=ae,F){L.push(_,R),L.push(P,I);for(let se=1,le=Y;se<ie;se++,le+=ae)L.push(_,R),L.push(_+Math.sin(le)*te,R+Math.cos(le)*te);L.push(_,R),L.push(O,z)}else{L.push(P,I),L.push(_,R);for(let se=1,le=Y;se<ie;se++,le+=ae)L.push(_+Math.sin(le)*te,R+Math.cos(le)*te),L.push(_,R);L.push(O,z),L.push(_,R)}return ie*2}function buildLine(_,R,P,I,O,z){const L=closePointEps;if(_.length===0)return;const F=R;let U=F.alignment;if(R.alignment!==.5){let Me=getOrientationOfPoints(_);U=(U-.5)*Me+.5}const V=new Point(_[0],_[1]),q=new Point(_[_.length-2],_[_.length-1]),W=I,Y=Math.abs(V.x-q.x)<L&&Math.abs(V.y-q.y)<L;if(W){_=_.slice(),Y&&(_.pop(),_.pop(),q.set(_[_.length-2],_[_.length-1]));const Me=(V.x+q.x)*.5,Ae=(q.y+V.y)*.5;_.unshift(Me,Ae),_.push(Me,Ae)}const Q=O,ee=_.length/2;let te=_.length;const ie=Q.length/2,ae=F.width/2,se=ae*ae,le=F.miterLimit*F.miterLimit;let ce=_[0],fe=_[1],de=_[2],he=_[3],pe=0,ge=0,be=-(fe-he),xe=ce-de,_e=0,Se=0,me=Math.sqrt(be*be+xe*xe);be/=me,xe/=me,be*=ae,xe*=ae;const Ce=U,Te=(1-Ce)*2,Re=Ce*2;W||(F.cap==="round"?te+=round(ce-be*(Te-Re)*.5,fe-xe*(Te-Re)*.5,ce-be*Te,fe-xe*Te,ce+be*Re,fe+xe*Re,Q,!0)+2:F.cap==="square"&&(te+=square(ce,fe,be,xe,Te,Re,!0,Q))),Q.push(ce-be*Te,fe-xe*Te),Q.push(ce+be*Re,fe+xe*Re);for(let Me=1;Me<ee-1;++Me){ce=_[(Me-1)*2],fe=_[(Me-1)*2+1],de=_[Me*2],he=_[Me*2+1],pe=_[(Me+1)*2],ge=_[(Me+1)*2+1],be=-(fe-he),xe=ce-de,me=Math.sqrt(be*be+xe*xe),be/=me,xe/=me,be*=ae,xe*=ae,_e=-(he-ge),Se=de-pe,me=Math.sqrt(_e*_e+Se*Se),_e/=me,Se/=me,_e*=ae,Se*=ae;const Ae=de-ce,we=fe-he,ke=de-pe,Ee=ge-he,ze=Ae*ke+we*Ee,je=we*ke-Ee*Ae,Ke=je<0;if(Math.abs(je)<.001*Math.abs(ze)){Q.push(de-be*Te,he-xe*Te),Q.push(de+be*Re,he+xe*Re),ze>=0&&(F.join==="round"?te+=round(de,he,de-be*Te,he-xe*Te,de-_e*Te,he-Se*Te,Q,!1)+4:te+=2,Q.push(de-_e*Re,he-Se*Re),Q.push(de+_e*Te,he+Se*Te));continue}const He=(-be+ce)*(-xe+he)-(-be+de)*(-xe+fe),Ze=(-_e+pe)*(-Se+he)-(-_e+de)*(-Se+ge),Le=(Ae*Ze-ke*He)/je,Xe=(Ee*He-we*Ze)/je,Ye=(Le-de)*(Le-de)+(Xe-he)*(Xe-he),Ve=de+(Le-de)*Te,dt=he+(Xe-he)*Te,ye=de-(Le-de)*Re,Ge=he-(Xe-he)*Re,Fe=Math.min(Ae*Ae+we*we,ke*ke+Ee*Ee),Ie=Ke?Te:Re,Ne=Fe+Ie*Ie*se;Ye<=Ne?F.join==="bevel"||Ye/se>le?(Ke?(Q.push(Ve,dt),Q.push(de+be*Re,he+xe*Re),Q.push(Ve,dt),Q.push(de+_e*Re,he+Se*Re)):(Q.push(de-be*Te,he-xe*Te),Q.push(ye,Ge),Q.push(de-_e*Te,he-Se*Te),Q.push(ye,Ge)),te+=2):F.join==="round"?Ke?(Q.push(Ve,dt),Q.push(de+be*Re,he+xe*Re),te+=round(de,he,de+be*Re,he+xe*Re,de+_e*Re,he+Se*Re,Q,!0)+4,Q.push(Ve,dt),Q.push(de+_e*Re,he+Se*Re)):(Q.push(de-be*Te,he-xe*Te),Q.push(ye,Ge),te+=round(de,he,de-be*Te,he-xe*Te,de-_e*Te,he-Se*Te,Q,!1)+4,Q.push(de-_e*Te,he-Se*Te),Q.push(ye,Ge)):(Q.push(Ve,dt),Q.push(ye,Ge)):(Q.push(de-be*Te,he-xe*Te),Q.push(de+be*Re,he+xe*Re),F.join==="round"?Ke?te+=round(de,he,de+be*Re,he+xe*Re,de+_e*Re,he+Se*Re,Q,!0)+2:te+=round(de,he,de-be*Te,he-xe*Te,de-_e*Te,he-Se*Te,Q,!1)+2:F.join==="miter"&&Ye/se<=le&&(Ke?(Q.push(ye,Ge),Q.push(ye,Ge)):(Q.push(Ve,dt),Q.push(Ve,dt)),te+=2),Q.push(de-_e*Te,he-Se*Te),Q.push(de+_e*Re,he+Se*Re),te+=2)}ce=_[(ee-2)*2],fe=_[(ee-2)*2+1],de=_[(ee-1)*2],he=_[(ee-1)*2+1],be=-(fe-he),xe=ce-de,me=Math.sqrt(be*be+xe*xe),be/=me,xe/=me,be*=ae,xe*=ae,Q.push(de-be*Te,he-xe*Te),Q.push(de+be*Re,he+xe*Re),W||(F.cap==="round"?te+=round(de-be*(Te-Re)*.5,he-xe*(Te-Re)*.5,de-be*Te,he-xe*Te,de+be*Re,he+xe*Re,Q,!1)+2:F.cap==="square"&&(te+=square(de,he,be,xe,Te,Re,!1,Q)));const Pe=curveEps*curveEps;for(let Me=ie;Me<te+ie-2;++Me)ce=Q[Me*2],fe=Q[Me*2+1],de=Q[(Me+1)*2],he=Q[(Me+1)*2+1],pe=Q[(Me+2)*2],ge=Q[(Me+2)*2+1],!(Math.abs(ce*(he-ge)+de*(ge-fe)+pe*(fe-he))<Pe)&&z.push(Me,Me+1,Me+2)}function buildPixelLine(_,R,P,I){const O=closePointEps;if(_.length===0)return;const z=_[0],L=_[1],F=_[_.length-2],U=_[_.length-1],V=R||Math.abs(z-F)<O&&Math.abs(L-U)<O,q=P,W=_.length/2,Y=q.length/2;for(let Q=0;Q<W;Q++)q.push(_[Q*2]),q.push(_[Q*2+1]);for(let Q=0;Q<W-1;Q++)I.push(Y+Q,Y+Q+1);V&&I.push(Y+W-1,Y)}function triangulateWithHoles(_,R,P,I,O,z,L){const F=earcut(_,R,2);if(!F)return;for(let V=0;V<F.length;V+=3)z[L++]=F[V]+O,z[L++]=F[V+1]+O,z[L++]=F[V+2]+O;let U=O*I;for(let V=0;V<_.length;V+=2)P[U]=_[V],P[U+1]=_[V+1],U+=I}const emptyArray=[],buildPolygon={extension:{type:ExtensionType.ShapeBuilder,name:"polygon"},build(_,R){for(let P=0;P<_.points.length;P++)R[P]=_.points[P];return!0},triangulate(_,R,P,I,O,z){triangulateWithHoles(_,emptyArray,R,P,I,O,z)}},buildRectangle={extension:{type:ExtensionType.ShapeBuilder,name:"rectangle"},build(_,R){const P=_,I=P.x,O=P.y,z=P.width,L=P.height;return z>0&&L>0?(R[0]=I,R[1]=O,R[2]=I+z,R[3]=O,R[4]=I+z,R[5]=O+L,R[6]=I,R[7]=O+L,!0):!1},triangulate(_,R,P,I,O,z){let L=0;I*=P,R[I+L]=_[0],R[I+L+1]=_[1],L+=P,R[I+L]=_[2],R[I+L+1]=_[3],L+=P,R[I+L]=_[6],R[I+L+1]=_[7],L+=P,R[I+L]=_[4],R[I+L+1]=_[5],L+=P;const F=I/P;O[z++]=F,O[z++]=F+1,O[z++]=F+2,O[z++]=F+1,O[z++]=F+3,O[z++]=F+2}},buildTriangle={extension:{type:ExtensionType.ShapeBuilder,name:"triangle"},build(_,R){return R[0]=_.x,R[1]=_.y,R[2]=_.x2,R[3]=_.y2,R[4]=_.x3,R[5]=_.y3,!0},triangulate(_,R,P,I,O,z){let L=0;I*=P,R[I+L]=_[0],R[I+L+1]=_[1],L+=P,R[I+L]=_[2],R[I+L+1]=_[3],L+=P,R[I+L]=_[4],R[I+L+1]=_[5];const F=I/P;O[z++]=F,O[z++]=F+1,O[z++]=F+2}},tempTextureMatrix$1=new Matrix,tempRect$2=new Rectangle;function generateTextureMatrix(_,R,P,I){const O=R.matrix?_.copyFrom(R.matrix).invert():_.identity();if(R.textureSpace==="local"){const L=P.getBounds(tempRect$2);R.width&&L.pad(R.width);const{x:F,y:U}=L,V=1/L.width,q=1/L.height,W=-F*V,Y=-U*q,Q=O.a,ee=O.b,te=O.c,ie=O.d;O.a*=V,O.b*=V,O.c*=q,O.d*=q,O.tx=W*Q+Y*te+O.tx,O.ty=W*ee+Y*ie+O.ty}else O.translate(R.texture.frame.x,R.texture.frame.y),O.scale(1/R.texture.source.width,1/R.texture.source.height);const z=R.texture.source.style;return!(R.fill instanceof FillGradient)&&z.addressMode==="clamp-to-edge"&&(z.addressMode="repeat",z.update()),I&&O.append(tempTextureMatrix$1.copyFrom(I).invert()),O}const shapeBuilders={};extensions.handleByMap(ExtensionType.ShapeBuilder,shapeBuilders);extensions.add(buildRectangle,buildPolygon,buildTriangle,buildCircle,buildEllipse,buildRoundedRectangle);const tempRect$1=new Rectangle,tempTextureMatrix=new Matrix;function buildContextBatches(_,R){const{geometryData:P,batches:I}=R;I.length=0,P.indices.length=0,P.vertices.length=0,P.uvs.length=0;for(let O=0;O<_.instructions.length;O++){const z=_.instructions[O];if(z.action==="texture")addTextureToGeometryData(z.data,I,P);else if(z.action==="fill"||z.action==="stroke"){const L=z.action==="stroke",F=z.data.path.shapePath,U=z.data.style,V=z.data.hole;L&&V&&addShapePathToGeometryData(V.shapePath,U,!0,I,P),V&&(F.shapePrimitives[F.shapePrimitives.length-1].holes=V.shapePath.shapePrimitives),addShapePathToGeometryData(F,U,L,I,P)}}}function addTextureToGeometryData(_,R,P){const I=[],O=shapeBuilders.rectangle,z=tempRect$1;z.x=_.dx,z.y=_.dy,z.width=_.dw,z.height=_.dh;const L=_.transform;if(!O.build(z,I))return;const{vertices:F,uvs:U,indices:V}=P,q=V.length,W=F.length/2;L&&transformVertices(I,L),O.triangulate(I,F,2,W,V,q);const Y=_.image,Q=Y.uvs;U.push(Q.x0,Q.y0,Q.x1,Q.y1,Q.x3,Q.y3,Q.x2,Q.y2);const ee=BigPool.get(BatchableGraphics);ee.indexOffset=q,ee.indexSize=V.length-q,ee.attributeOffset=W,ee.attributeSize=F.length/2-W,ee.baseColor=_.style,ee.alpha=_.alpha,ee.texture=Y,ee.geometryData=P,R.push(ee)}function addShapePathToGeometryData(_,R,P,I,O){const{vertices:z,uvs:L,indices:F}=O;_.shapePrimitives.forEach(({shape:U,transform:V,holes:q})=>{const W=[],Y=shapeBuilders[U.type];if(!Y.build(U,W))return;const Q=F.length,ee=z.length/2;let te="triangle-list";if(V&&transformVertices(W,V),P){const le=U.closePath??!0,ce=R;ce.pixelLine?(buildPixelLine(W,le,z,F),te="line-list"):buildLine(W,ce,!1,le,z,F)}else if(q){const le=[],ce=W.slice();getHoleArrays(q).forEach(de=>{le.push(ce.length/2),ce.push(...de)}),triangulateWithHoles(ce,le,z,2,ee,F,Q)}else Y.triangulate(W,z,2,ee,F,Q);const ie=L.length/2,ae=R.texture;if(ae!==Texture.WHITE){const le=generateTextureMatrix(tempTextureMatrix,R,U,V);buildUvs(z,2,ee,L,ie,2,z.length/2-ee,le)}else buildSimpleUvs(L,ie,2,z.length/2-ee);const se=BigPool.get(BatchableGraphics);se.indexOffset=Q,se.indexSize=F.length-Q,se.attributeOffset=ee,se.attributeSize=z.length/2-ee,se.baseColor=R.color,se.alpha=R.alpha,se.texture=ae,se.geometryData=O,se.topology=te,I.push(se)})}function getHoleArrays(_){const R=[];for(let P=0;P<_.length;P++){const I=_[P].shape,O=[];shapeBuilders[I.type].build(I,O)&&R.push(O)}return R}class GpuGraphicsContext{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class GraphicsContextRenderData{constructor(){this.instructions=new InstructionSet}init(R){const P=R.maxTextures;this.batcher?this.batcher._updateMaxTextures(P):this.batcher=new DefaultBatcher({maxTextures:P}),this.instructions.reset()}get geometry(){return deprecation(v8_3_4,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const _GraphicsContextSystem=class yc{constructor(R){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=R,R.renderableGC.addManagedHash(this,"_gpuContextHash"),R.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(R){yc.defaultOptions.bezierSmoothness=R?.bezierSmoothness??yc.defaultOptions.bezierSmoothness}getContextRenderData(R){return this._graphicsDataContextHash[R.uid]||this._initContextRenderData(R)}updateGpuContext(R){let P=this._gpuContextHash[R.uid]||this._initContext(R);if(R.dirty){P?this._cleanGraphicsContextData(R):P=this._initContext(R),buildContextBatches(R,P);const I=R.batchMode;R.customShader||I==="no-batch"?P.isBatchable=!1:I==="auto"?P.isBatchable=P.geometryData.vertices.length<400:P.isBatchable=!0,R.dirty=!1}return P}getGpuContext(R){return this._gpuContextHash[R.uid]||this._initContext(R)}_initContextRenderData(R){const P=BigPool.get(GraphicsContextRenderData,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:I,geometryData:O}=this._gpuContextHash[R.uid],z=O.vertices.length,L=O.indices.length;for(let q=0;q<I.length;q++)I[q].applyTransform=!1;const F=P.batcher;F.ensureAttributeBuffer(z),F.ensureIndexBuffer(L),F.begin();for(let q=0;q<I.length;q++){const W=I[q];F.add(W)}F.finish(P.instructions);const U=F.geometry;U.indexBuffer.setDataWithSize(F.indexBuffer,F.indexSize,!0),U.buffers[0].setDataWithSize(F.attributeBuffer.float32View,F.attributeSize,!0);const V=F.batches;for(let q=0;q<V.length;q++){const W=V[q];W.bindGroup=getTextureBatchBindGroup(W.textures.textures,W.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[R.uid]=P,P}_initContext(R){const P=new GpuGraphicsContext;return P.context=R,this._gpuContextHash[R.uid]=P,R.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[R.uid]}onGraphicsContextDestroy(R){this._cleanGraphicsContextData(R),R.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[R.uid]=null}_cleanGraphicsContextData(R){const P=this._gpuContextHash[R.uid];P.isBatchable||this._graphicsDataContextHash[R.uid]&&(BigPool.return(this.getContextRenderData(R)),this._graphicsDataContextHash[R.uid]=null),P.batches&&P.batches.forEach(I=>{BigPool.return(I)})}destroy(){for(const R in this._gpuContextHash)this._gpuContextHash[R]&&this.onGraphicsContextDestroy(this._gpuContextHash[R].context);this._gpuContextHash={},this._graphicsDataContextHash={},this._renderer=null}};_GraphicsContextSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem,ExtensionType.CanvasSystem],name:"graphicsContext"};_GraphicsContextSystem.defaultOptions={bezierSmoothness:.5};let GraphicsContextSystem=_GraphicsContextSystem;const RECURSION_LIMIT$1=8,FLT_EPSILON$1=11920929e-14,PATH_DISTANCE_EPSILON$1=1;function buildAdaptiveBezier(_,R,P,I,O,z,L,F,U,V){const W=Math.min(.99,Math.max(0,V??GraphicsContextSystem.defaultOptions.bezierSmoothness));let Y=(PATH_DISTANCE_EPSILON$1-W)/1;return Y*=Y,begin$1(R,P,I,O,z,L,F,U,_,Y),_}function begin$1(_,R,P,I,O,z,L,F,U,V){recursive$1(_,R,P,I,O,z,L,F,U,V,0),U.push(L,F)}function recursive$1(_,R,P,I,O,z,L,F,U,V,q){if(q>RECURSION_LIMIT$1)return;const W=(_+P)/2,Y=(R+I)/2,Q=(P+O)/2,ee=(I+z)/2,te=(O+L)/2,ie=(z+F)/2,ae=(W+Q)/2,se=(Y+ee)/2,le=(Q+te)/2,ce=(ee+ie)/2,fe=(ae+le)/2,de=(se+ce)/2;if(q>0){let he=L-_,pe=F-R;const ge=Math.abs((P-L)*pe-(I-F)*he),be=Math.abs((O-L)*pe-(z-F)*he);if(ge>FLT_EPSILON$1&&be>FLT_EPSILON$1){if((ge+be)*(ge+be)<=V*(he*he+pe*pe)){U.push(fe,de);return}}else if(ge>FLT_EPSILON$1){if(ge*ge<=V*(he*he+pe*pe)){U.push(fe,de);return}}else if(be>FLT_EPSILON$1){if(be*be<=V*(he*he+pe*pe)){U.push(fe,de);return}}else if(he=fe-(_+L)/2,pe=de-(R+F)/2,he*he+pe*pe<=V){U.push(fe,de);return}}recursive$1(_,R,W,Y,ae,se,fe,de,U,V,q+1),recursive$1(fe,de,le,ce,te,ie,L,F,U,V,q+1)}const RECURSION_LIMIT=8,FLT_EPSILON=11920929e-14,PATH_DISTANCE_EPSILON=1;function buildAdaptiveQuadratic(_,R,P,I,O,z,L,F){const V=Math.min(.99,Math.max(0,F??GraphicsContextSystem.defaultOptions.bezierSmoothness));let q=(PATH_DISTANCE_EPSILON-V)/1;return q*=q,begin(R,P,I,O,z,L,_,q),_}function begin(_,R,P,I,O,z,L,F){recursive(L,_,R,P,I,O,z,F,0),L.push(O,z)}function recursive(_,R,P,I,O,z,L,F,U){if(U>RECURSION_LIMIT)return;const V=(R+I)/2,q=(P+O)/2,W=(I+z)/2,Y=(O+L)/2,Q=(V+W)/2,ee=(q+Y)/2;let te=z-R,ie=L-P;const ae=Math.abs((I-z)*ie-(O-L)*te);if(ae>FLT_EPSILON){if(ae*ae<=F*(te*te+ie*ie)){_.push(Q,ee);return}}else if(te=Q-(R+z)/2,ie=ee-(P+L)/2,te*te+ie*ie<=F){_.push(Q,ee);return}recursive(_,R,P,V,q,Q,ee,F,U+1),recursive(_,Q,ee,W,Y,z,L,F,U+1)}function buildArc(_,R,P,I,O,z,L,F){let U=Math.abs(O-z);(!L&&O>z||L&&z>O)&&(U=2*Math.PI-U),F||(F=Math.max(6,Math.floor(6*Math.pow(I,1/3)*(U/Math.PI)))),F=Math.max(F,3);let V=U/F,q=O;V*=L?-1:1;for(let W=0;W<F+1;W++){const Y=Math.cos(q),Q=Math.sin(q),ee=R+Y*I,te=P+Q*I;_.push(ee,te),q+=V}}function buildArcTo(_,R,P,I,O,z){const L=_[_.length-2],U=_[_.length-1]-P,V=L-R,q=O-P,W=I-R,Y=Math.abs(U*W-V*q);if(Y<1e-8||z===0){(_[_.length-2]!==R||_[_.length-1]!==P)&&_.push(R,P);return}const Q=U*U+V*V,ee=q*q+W*W,te=U*q+V*W,ie=z*Math.sqrt(Q)/Y,ae=z*Math.sqrt(ee)/Y,se=ie*te/Q,le=ae*te/ee,ce=ie*W+ae*V,fe=ie*q+ae*U,de=V*(ae+se),he=U*(ae+se),pe=W*(ie+le),ge=q*(ie+le),be=Math.atan2(he-fe,de-ce),xe=Math.atan2(ge-fe,pe-ce);buildArc(_,ce+R,fe+P,z,be,xe,V*q>W*U)}const TAU=Math.PI*2,out={centerX:0,centerY:0,ang1:0,ang2:0},mapToEllipse=({x:_,y:R},P,I,O,z,L,F,U)=>{_*=P,R*=I;const V=O*_-z*R,q=z*_+O*R;return U.x=V+L,U.y=q+F,U};function approxUnitArc(_,R){const P=R===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(R/4),I=R===1.5707963267948966?.551915024494:P,O=Math.cos(_),z=Math.sin(_),L=Math.cos(_+R),F=Math.sin(_+R);return[{x:O-z*I,y:z+O*I},{x:L+F*I,y:F-L*I},{x:L,y:F}]}const vectorAngle=(_,R,P,I)=>{const O=_*I-R*P<0?-1:1;let z=_*P+R*I;return z>1&&(z=1),z<-1&&(z=-1),O*Math.acos(z)},getArcCenter=(_,R,P,I,O,z,L,F,U,V,q,W,Y)=>{const Q=Math.pow(O,2),ee=Math.pow(z,2),te=Math.pow(q,2),ie=Math.pow(W,2);let ae=Q*ee-Q*ie-ee*te;ae<0&&(ae=0),ae/=Q*ie+ee*te,ae=Math.sqrt(ae)*(L===F?-1:1);const se=ae*O/z*W,le=ae*-z/O*q,ce=V*se-U*le+(_+P)/2,fe=U*se+V*le+(R+I)/2,de=(q-se)/O,he=(W-le)/z,pe=(-q-se)/O,ge=(-W-le)/z,be=vectorAngle(1,0,de,he);let xe=vectorAngle(de,he,pe,ge);F===0&&xe>0&&(xe-=TAU),F===1&&xe<0&&(xe+=TAU),Y.centerX=ce,Y.centerY=fe,Y.ang1=be,Y.ang2=xe};function buildArcToSvg(_,R,P,I,O,z,L,F=0,U=0,V=0){if(z===0||L===0)return;const q=Math.sin(F*TAU/360),W=Math.cos(F*TAU/360),Y=W*(R-I)/2+q*(P-O)/2,Q=-q*(R-I)/2+W*(P-O)/2;if(Y===0&&Q===0)return;z=Math.abs(z),L=Math.abs(L);const ee=Math.pow(Y,2)/Math.pow(z,2)+Math.pow(Q,2)/Math.pow(L,2);ee>1&&(z*=Math.sqrt(ee),L*=Math.sqrt(ee)),getArcCenter(R,P,I,O,z,L,U,V,q,W,Y,Q,out);let{ang1:te,ang2:ie}=out;const{centerX:ae,centerY:se}=out;let le=Math.abs(ie)/(TAU/4);Math.abs(1-le)<1e-7&&(le=1);const ce=Math.max(Math.ceil(le),1);ie/=ce;let fe=_[_.length-2],de=_[_.length-1];const he={x:0,y:0};for(let pe=0;pe<ce;pe++){const ge=approxUnitArc(te,ie),{x:be,y:xe}=mapToEllipse(ge[0],z,L,W,q,ae,se,he),{x:_e,y:Se}=mapToEllipse(ge[1],z,L,W,q,ae,se,he),{x:me,y:Ce}=mapToEllipse(ge[2],z,L,W,q,ae,se,he);buildAdaptiveBezier(_,fe,de,be,xe,_e,Se,me,Ce),fe=me,de=Ce,te+=ie}}function roundedShapeArc(_,R,P){const I=(L,F)=>{const U=F.x-L.x,V=F.y-L.y,q=Math.sqrt(U*U+V*V),W=U/q,Y=V/q;return{len:q,nx:W,ny:Y}},O=(L,F)=>{L===0?_.moveTo(F.x,F.y):_.lineTo(F.x,F.y)};let z=R[R.length-1];for(let L=0;L<R.length;L++){const F=R[L%R.length],U=F.radius??P;if(U<=0){O(L,F),z=F;continue}const V=R[(L+1)%R.length],q=I(F,z),W=I(F,V);if(q.len<1e-4||W.len<1e-4){O(L,F),z=F;continue}let Y=Math.asin(q.nx*W.ny-q.ny*W.nx),Q=1,ee=!1;q.nx*W.nx-q.ny*-W.ny<0?Y<0?Y=Math.PI+Y:(Y=Math.PI-Y,Q=-1,ee=!0):Y>0&&(Q=-1,ee=!0);const te=Y/2;let ie,ae=Math.abs(Math.cos(te)*U/Math.sin(te));ae>Math.min(q.len/2,W.len/2)?(ae=Math.min(q.len/2,W.len/2),ie=Math.abs(ae*Math.sin(te)/Math.cos(te))):ie=U;const se=F.x+W.nx*ae+-W.ny*ie*Q,le=F.y+W.ny*ae+W.nx*ie*Q,ce=Math.atan2(q.ny,q.nx)+Math.PI/2*Q,fe=Math.atan2(W.ny,W.nx)-Math.PI/2*Q;L===0&&_.moveTo(se+Math.cos(ce)*ie,le+Math.sin(ce)*ie),_.arc(se,le,ie,ce,fe,ee),z=F}}function roundedShapeQuadraticCurve(_,R,P,I){const O=(F,U)=>Math.sqrt((F.x-U.x)**2+(F.y-U.y)**2),z=(F,U,V)=>({x:F.x+(U.x-F.x)*V,y:F.y+(U.y-F.y)*V}),L=R.length;for(let F=0;F<L;F++){const U=R[(F+1)%L],V=U.radius??P;if(V<=0){F===0?_.moveTo(U.x,U.y):_.lineTo(U.x,U.y);continue}const q=R[F],W=R[(F+2)%L],Y=O(q,U);let Q;if(Y<1e-4)Q=U;else{const ie=Math.min(Y/2,V);Q=z(U,q,ie/Y)}const ee=O(W,U);let te;if(ee<1e-4)te=U;else{const ie=Math.min(ee/2,V);te=z(U,W,ie/ee)}F===0?_.moveTo(Q.x,Q.y):_.lineTo(Q.x,Q.y),_.quadraticCurveTo(U.x,U.y,te.x,te.y,I)}}const tempRectangle=new Rectangle;class ShapePath{constructor(R){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Bounds,this._graphicsPath2D=R,this.signed=R.checkForHoles}moveTo(R,P){return this.startPoly(R,P),this}lineTo(R,P){this._ensurePoly();const I=this._currentPoly.points,O=I[I.length-2],z=I[I.length-1];return(O!==R||z!==P)&&I.push(R,P),this}arc(R,P,I,O,z,L){this._ensurePoly(!1);const F=this._currentPoly.points;return buildArc(F,R,P,I,O,z,L),this}arcTo(R,P,I,O,z){this._ensurePoly();const L=this._currentPoly.points;return buildArcTo(L,R,P,I,O,z),this}arcToSvg(R,P,I,O,z,L,F){const U=this._currentPoly.points;return buildArcToSvg(U,this._currentPoly.lastX,this._currentPoly.lastY,L,F,R,P,I,O,z),this}bezierCurveTo(R,P,I,O,z,L,F){this._ensurePoly();const U=this._currentPoly;return buildAdaptiveBezier(this._currentPoly.points,U.lastX,U.lastY,R,P,I,O,z,L,F),this}quadraticCurveTo(R,P,I,O,z){this._ensurePoly();const L=this._currentPoly;return buildAdaptiveQuadratic(this._currentPoly.points,L.lastX,L.lastY,R,P,I,O,z),this}closePath(){return this.endPoly(!0),this}addPath(R,P){this.endPoly(),P&&!P.isIdentity()&&(R=R.clone(!0),R.transform(P));const I=this.shapePrimitives,O=I.length;for(let z=0;z<R.instructions.length;z++){const L=R.instructions[z];this[L.action](...L.data)}if(R.checkForHoles&&I.length-O>1){let z=null;for(let L=O;L<I.length;L++){const F=I[L];if(F.shape.type==="polygon"){const U=F.shape,V=z?.shape;V&&V.containsPolygon(U)?(z.holes||(z.holes=[]),z.holes.push(F),I.copyWithin(L,L+1),I.length--,L--):z=F}}}return this}finish(R=!1){this.endPoly(R)}rect(R,P,I,O,z){return this.drawShape(new Rectangle(R,P,I,O),z),this}circle(R,P,I,O){return this.drawShape(new Circle(R,P,I),O),this}poly(R,P,I){const O=new Polygon(R);return O.closePath=P,this.drawShape(O,I),this}regularPoly(R,P,I,O,z=0,L){O=Math.max(O|0,3);const F=-1*Math.PI/2+z,U=Math.PI*2/O,V=[];for(let q=0;q<O;q++){const W=F-q*U;V.push(R+I*Math.cos(W),P+I*Math.sin(W))}return this.poly(V,!0,L),this}roundPoly(R,P,I,O,z,L=0,F){if(O=Math.max(O|0,3),z<=0)return this.regularPoly(R,P,I,O,L);const U=I*Math.sin(Math.PI/O)-.001;z=Math.min(z,U);const V=-1*Math.PI/2+L,q=Math.PI*2/O,W=(O-2)*Math.PI/O/2;for(let Y=0;Y<O;Y++){const Q=Y*q+V,ee=R+I*Math.cos(Q),te=P+I*Math.sin(Q),ie=Q+Math.PI+W,ae=Q-Math.PI-W,se=ee+z*Math.cos(ie),le=te+z*Math.sin(ie),ce=ee+z*Math.cos(ae),fe=te+z*Math.sin(ae);Y===0?this.moveTo(se,le):this.lineTo(se,le),this.quadraticCurveTo(ee,te,ce,fe,F)}return this.closePath()}roundShape(R,P,I=!1,O){return R.length<3?this:(I?roundedShapeQuadraticCurve(this,R,P,O):roundedShapeArc(this,R,P),this.closePath())}filletRect(R,P,I,O,z){if(z===0)return this.rect(R,P,I,O);const L=Math.min(I,O)/2,F=Math.min(L,Math.max(-L,z)),U=R+I,V=P+O,q=F<0?-F:0,W=Math.abs(F);return this.moveTo(R,P+W).arcTo(R+q,P+q,R+W,P,W).lineTo(U-W,P).arcTo(U-q,P+q,U,P+W,W).lineTo(U,V-W).arcTo(U-q,V-q,R+I-W,V,W).lineTo(R+W,V).arcTo(R+q,V-q,R,V-W,W).closePath()}chamferRect(R,P,I,O,z,L){if(z<=0)return this.rect(R,P,I,O);const F=Math.min(z,Math.min(I,O)/2),U=R+I,V=P+O,q=[R+F,P,U-F,P,U,P+F,U,V-F,U-F,V,R+F,V,R,V-F,R,P+F];for(let W=q.length-1;W>=2;W-=2)q[W]===q[W-2]&&q[W-1]===q[W-3]&&q.splice(W-1,2);return this.poly(q,!0,L)}ellipse(R,P,I,O,z){return this.drawShape(new Ellipse(R,P,I,O),z),this}roundRect(R,P,I,O,z,L){return this.drawShape(new RoundedRectangle(R,P,I,O,z),L),this}drawShape(R,P){return this.endPoly(),this.shapePrimitives.push({shape:R,transform:P}),this}startPoly(R,P){let I=this._currentPoly;return I&&this.endPoly(),I=new Polygon,I.points.push(R,P),this._currentPoly=I,this}endPoly(R=!1){const P=this._currentPoly;return P&&P.points.length>2&&(P.closePath=R,this.shapePrimitives.push({shape:P})),this._currentPoly=null,this}_ensurePoly(R=!0){if(!this._currentPoly&&(this._currentPoly=new Polygon,R)){const P=this.shapePrimitives[this.shapePrimitives.length-1];if(P){let I=P.shape.x,O=P.shape.y;if(P.transform&&!P.transform.isIdentity()){const z=P.transform,L=I;I=z.a*I+z.c*O+z.tx,O=z.b*L+z.d*O+z.ty}this._currentPoly.points.push(I,O)}else this._currentPoly.points.push(0,0)}}buildPath(){const R=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let P=0;P<R.instructions.length;P++){const I=R.instructions[P];this[I.action](...I.data)}this.finish()}get bounds(){const R=this._bounds;R.clear();const P=this.shapePrimitives;for(let I=0;I<P.length;I++){const O=P[I],z=O.shape.getBounds(tempRectangle);O.transform?R.addRect(z,O.transform):R.addRect(z)}return R}}class GraphicsPath{constructor(R,P=!1){this.instructions=[],this.uid=uid("graphicsPath"),this._dirty=!0,this.checkForHoles=P,typeof R=="string"?parseSVGPath(R,this):this.instructions=R?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new ShapePath(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(R,P){return R=R.clone(),this.instructions.push({action:"addPath",data:[R,P]}),this._dirty=!0,this}arc(...R){return this.instructions.push({action:"arc",data:R}),this._dirty=!0,this}arcTo(...R){return this.instructions.push({action:"arcTo",data:R}),this._dirty=!0,this}arcToSvg(...R){return this.instructions.push({action:"arcToSvg",data:R}),this._dirty=!0,this}bezierCurveTo(...R){return this.instructions.push({action:"bezierCurveTo",data:R}),this._dirty=!0,this}bezierCurveToShort(R,P,I,O,z){const L=this.instructions[this.instructions.length-1],F=this.getLastPoint(Point.shared);let U=0,V=0;if(!L||L.action!=="bezierCurveTo")U=F.x,V=F.y;else{U=L.data[2],V=L.data[3];const q=F.x,W=F.y;U=q+(q-U),V=W+(W-V)}return this.instructions.push({action:"bezierCurveTo",data:[U,V,R,P,I,O,z]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...R){return this.instructions.push({action:"ellipse",data:R}),this._dirty=!0,this}lineTo(...R){return this.instructions.push({action:"lineTo",data:R}),this._dirty=!0,this}moveTo(...R){return this.instructions.push({action:"moveTo",data:R}),this}quadraticCurveTo(...R){return this.instructions.push({action:"quadraticCurveTo",data:R}),this._dirty=!0,this}quadraticCurveToShort(R,P,I){const O=this.instructions[this.instructions.length-1],z=this.getLastPoint(Point.shared);let L=0,F=0;if(!O||O.action!=="quadraticCurveTo")L=z.x,F=z.y;else{L=O.data[0],F=O.data[1];const U=z.x,V=z.y;L=U+(U-L),F=V+(V-F)}return this.instructions.push({action:"quadraticCurveTo",data:[L,F,R,P,I]}),this._dirty=!0,this}rect(R,P,I,O,z){return this.instructions.push({action:"rect",data:[R,P,I,O,z]}),this._dirty=!0,this}circle(R,P,I,O){return this.instructions.push({action:"circle",data:[R,P,I,O]}),this._dirty=!0,this}roundRect(...R){return this.instructions.push({action:"roundRect",data:R}),this._dirty=!0,this}poly(...R){return this.instructions.push({action:"poly",data:R}),this._dirty=!0,this}regularPoly(...R){return this.instructions.push({action:"regularPoly",data:R}),this._dirty=!0,this}roundPoly(...R){return this.instructions.push({action:"roundPoly",data:R}),this._dirty=!0,this}roundShape(...R){return this.instructions.push({action:"roundShape",data:R}),this._dirty=!0,this}filletRect(...R){return this.instructions.push({action:"filletRect",data:R}),this._dirty=!0,this}chamferRect(...R){return this.instructions.push({action:"chamferRect",data:R}),this._dirty=!0,this}star(R,P,I,O,z,L,F){z||(z=O/2);const U=-1*Math.PI/2+L,V=I*2,q=Math.PI*2/V,W=[];for(let Y=0;Y<V;Y++){const Q=Y%2?z:O,ee=Y*q+U;W.push(R+Q*Math.cos(ee),P+Q*Math.sin(ee))}return this.poly(W,!0,F),this}clone(R=!1){const P=new GraphicsPath;if(P.checkForHoles=this.checkForHoles,!R)P.instructions=this.instructions.slice();else for(let I=0;I<this.instructions.length;I++){const O=this.instructions[I];P.instructions.push({action:O.action,data:O.data.slice()})}return P}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(R){if(R.isIdentity())return this;const P=R.a,I=R.b,O=R.c,z=R.d,L=R.tx,F=R.ty;let U=0,V=0,q=0,W=0,Y=0,Q=0,ee=0,te=0;for(let ie=0;ie<this.instructions.length;ie++){const ae=this.instructions[ie],se=ae.data;switch(ae.action){case"moveTo":case"lineTo":U=se[0],V=se[1],se[0]=P*U+O*V+L,se[1]=I*U+z*V+F;break;case"bezierCurveTo":q=se[0],W=se[1],Y=se[2],Q=se[3],U=se[4],V=se[5],se[0]=P*q+O*W+L,se[1]=I*q+z*W+F,se[2]=P*Y+O*Q+L,se[3]=I*Y+z*Q+F,se[4]=P*U+O*V+L,se[5]=I*U+z*V+F;break;case"quadraticCurveTo":q=se[0],W=se[1],U=se[2],V=se[3],se[0]=P*q+O*W+L,se[1]=I*q+z*W+F,se[2]=P*U+O*V+L,se[3]=I*U+z*V+F;break;case"arcToSvg":U=se[5],V=se[6],ee=se[0],te=se[1],se[0]=P*ee+O*te,se[1]=I*ee+z*te,se[5]=P*U+O*V+L,se[6]=I*U+z*V+F;break;case"circle":se[4]=adjustTransform(se[3],R);break;case"rect":se[4]=adjustTransform(se[4],R);break;case"ellipse":se[8]=adjustTransform(se[8],R);break;case"roundRect":se[5]=adjustTransform(se[5],R);break;case"addPath":se[0].transform(R);break;case"poly":se[2]=adjustTransform(se[2],R);break;default:warn$1("unknown transform action",ae.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(R){let P=this.instructions.length-1,I=this.instructions[P];if(!I)return R.x=0,R.y=0,R;for(;I.action==="closePath";){if(P--,P<0)return R.x=0,R.y=0,R;I=this.instructions[P]}switch(I.action){case"moveTo":case"lineTo":R.x=I.data[0],R.y=I.data[1];break;case"quadraticCurveTo":R.x=I.data[2],R.y=I.data[3];break;case"bezierCurveTo":R.x=I.data[4],R.y=I.data[5];break;case"arc":case"arcToSvg":R.x=I.data[5],R.y=I.data[6];break;case"addPath":I.data[0].getLastPoint(R);break}return R}}function adjustTransform(_,R){return _?_.prepend(R):R.clone()}function parseSVGFloatAttribute(_,R,P){const I=_.getAttribute(R);return I?Number(I):P}function parseSVGDefinitions(_,R){const P=_.querySelectorAll("defs");for(let I=0;I<P.length;I++){const O=P[I];for(let z=0;z<O.children.length;z++){const L=O.children[z];switch(L.nodeName.toLowerCase()){case"lineargradient":R.defs[L.id]=parseLinearGradient(L);break;case"radialgradient":R.defs[L.id]=parseRadialGradient();break}}}}function parseLinearGradient(_){const R=parseSVGFloatAttribute(_,"x1",0),P=parseSVGFloatAttribute(_,"y1",0),I=parseSVGFloatAttribute(_,"x2",1),O=parseSVGFloatAttribute(_,"y2",0),z=_.getAttribute("gradientUnits")||"objectBoundingBox",L=new FillGradient(R,P,I,O,z==="objectBoundingBox"?"local":"global");for(let F=0;F<_.children.length;F++){const U=_.children[F],V=parseSVGFloatAttribute(U,"offset",0),q=Color$1.shared.setValue(U.getAttribute("stop-color")).toNumber();L.addColorStop(V,q)}return L}function parseRadialGradient(_){return warn$1("[SVG Parser] Radial gradients are not yet supported"),new FillGradient(0,0,1,0)}function extractSvgUrlId(_){const R=_.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return R?R[1]:""}const styleAttributes={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function parseSVGStyle(_,R){const P=_.getAttribute("style"),I={},O={},z={strokeStyle:I,fillStyle:O,useFill:!1,useStroke:!1};for(const L in styleAttributes){const F=_.getAttribute(L);F&&parseAttribute(R,z,L,F.trim())}if(P){const L=P.split(";");for(let F=0;F<L.length;F++){const U=L[F].trim(),[V,q]=U.split(":");styleAttributes[V]&&parseAttribute(R,z,V,q.trim())}}return{strokeStyle:z.useStroke?I:null,fillStyle:z.useFill?O:null,useFill:z.useFill,useStroke:z.useStroke}}function parseAttribute(_,R,P,I){switch(P){case"stroke":if(I!=="none"){if(I.startsWith("url(")){const O=extractSvgUrlId(I);R.strokeStyle.fill=_.defs[O]}else R.strokeStyle.color=Color$1.shared.setValue(I).toNumber();R.useStroke=!0}break;case"stroke-width":R.strokeStyle.width=Number(I);break;case"fill":if(I!=="none"){if(I.startsWith("url(")){const O=extractSvgUrlId(I);R.fillStyle.fill=_.defs[O]}else R.fillStyle.color=Color$1.shared.setValue(I).toNumber();R.useFill=!0}break;case"fill-opacity":R.fillStyle.alpha=Number(I);break;case"stroke-opacity":R.strokeStyle.alpha=Number(I);break;case"opacity":R.fillStyle.alpha=Number(I),R.strokeStyle.alpha=Number(I);break}}function checkForNestedPattern(_){if(_.length<=2)return!0;const R=_.map(F=>F.area).sort((F,U)=>U-F),[P,I]=R,O=R[R.length-1],z=P/I,L=I/O;return!(z>3&&L<2)}function extractSubpaths(_){return _.split(/(?=[Mm])/).filter(I=>I.trim().length>0)}function calculatePathArea(_){const R=_.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!R||R.length<4)return 0;const P=R.map(Number),I=[],O=[];for(let q=0;q<P.length;q+=2)q+1<P.length&&(I.push(P[q]),O.push(P[q+1]));if(I.length===0||O.length===0)return 0;const z=Math.min(...I),L=Math.max(...I),F=Math.min(...O),U=Math.max(...O);return(L-z)*(U-F)}function appendSVGPath(_,R){const P=new GraphicsPath(_,!1);for(const I of P.instructions)R.instructions.push(I)}function SVGParser(_,R){if(typeof _=="string"){const L=document.createElement("div");L.innerHTML=_.trim(),_=L.querySelector("svg")}const P={context:R,defs:{},path:new GraphicsPath};parseSVGDefinitions(_,P);const I=_.children,{fillStyle:O,strokeStyle:z}=parseSVGStyle(_,P);for(let L=0;L<I.length;L++){const F=I[L];F.nodeName.toLowerCase()!=="defs"&&renderChildren(F,P,O,z)}return R}function renderChildren(_,R,P,I){const O=_.children,{fillStyle:z,strokeStyle:L}=parseSVGStyle(_,R);z&&P?P={...P,...z}:z&&(P=z),L&&I?I={...I,...L}:L&&(I=L);const F=!P&&!I;F&&(P={color:0});let U,V,q,W,Y,Q,ee,te,ie,ae,se,le,ce,fe,de,he,pe;switch(_.nodeName.toLowerCase()){case"path":{fe=_.getAttribute("d");const ge=_.getAttribute("fill-rule"),be=extractSubpaths(fe),xe=ge==="evenodd",_e=be.length>1;if(xe&&_e){const me=be.map(Te=>({path:Te,area:calculatePathArea(Te)}));if(me.sort((Te,Re)=>Re.area-Te.area),be.length>3||!checkForNestedPattern(me))for(let Te=0;Te<me.length;Te++){const Re=me[Te],Pe=Te===0;R.context.beginPath();const Me=new GraphicsPath(void 0,!0);appendSVGPath(Re.path,Me),R.context.path(Me),Pe?(P&&R.context.fill(P),I&&R.context.stroke(I)):R.context.cut()}else for(let Te=0;Te<me.length;Te++){const Re=me[Te],Pe=Te%2===1;R.context.beginPath();const Me=new GraphicsPath(void 0,!0);appendSVGPath(Re.path,Me),R.context.path(Me),Pe?R.context.cut():(P&&R.context.fill(P),I&&R.context.stroke(I))}}else{const me=ge?ge==="evenodd":!0;de=new GraphicsPath(fe,me),R.context.path(de),P&&R.context.fill(P),I&&R.context.stroke(I)}break}case"circle":ee=parseSVGFloatAttribute(_,"cx",0),te=parseSVGFloatAttribute(_,"cy",0),ie=parseSVGFloatAttribute(_,"r",0),R.context.ellipse(ee,te,ie,ie),P&&R.context.fill(P),I&&R.context.stroke(I);break;case"rect":U=parseSVGFloatAttribute(_,"x",0),V=parseSVGFloatAttribute(_,"y",0),he=parseSVGFloatAttribute(_,"width",0),pe=parseSVGFloatAttribute(_,"height",0),ae=parseSVGFloatAttribute(_,"rx",0),se=parseSVGFloatAttribute(_,"ry",0),ae||se?R.context.roundRect(U,V,he,pe,ae||se):R.context.rect(U,V,he,pe),P&&R.context.fill(P),I&&R.context.stroke(I);break;case"ellipse":ee=parseSVGFloatAttribute(_,"cx",0),te=parseSVGFloatAttribute(_,"cy",0),ae=parseSVGFloatAttribute(_,"rx",0),se=parseSVGFloatAttribute(_,"ry",0),R.context.beginPath(),R.context.ellipse(ee,te,ae,se),P&&R.context.fill(P),I&&R.context.stroke(I);break;case"line":q=parseSVGFloatAttribute(_,"x1",0),W=parseSVGFloatAttribute(_,"y1",0),Y=parseSVGFloatAttribute(_,"x2",0),Q=parseSVGFloatAttribute(_,"y2",0),R.context.beginPath(),R.context.moveTo(q,W),R.context.lineTo(Y,Q),I&&R.context.stroke(I);break;case"polygon":ce=_.getAttribute("points"),le=ce.match(/\d+/g).map(ge=>parseInt(ge,10)),R.context.poly(le,!0),P&&R.context.fill(P),I&&R.context.stroke(I);break;case"polyline":ce=_.getAttribute("points"),le=ce.match(/\d+/g).map(ge=>parseInt(ge,10)),R.context.poly(le,!1),I&&R.context.stroke(I);break;case"g":case"svg":break;default:{warn$1(`[SVG parser] <${_.nodeName}> elements unsupported`);break}}F&&(P=null);for(let ge=0;ge<O.length;ge++)renderChildren(O[ge],R,P,I)}function isColorLike(_){return Color$1.isColorLike(_)}function isFillPattern(_){return _ instanceof FillPattern}function isFillGradient(_){return _ instanceof FillGradient}function isTexture(_){return _ instanceof Texture}function handleColorLike(_,R,P){const I=Color$1.shared.setValue(R??0);return _.color=I.toNumber(),_.alpha=I.alpha===1?P.alpha:I.alpha,_.texture=Texture.WHITE,{...P,..._}}function handleTexture(_,R,P){return _.texture=R,{...P,..._}}function handleFillPattern(_,R,P){return _.fill=R,_.color=16777215,_.texture=R.texture,_.matrix=R.transform,{...P,..._}}function handleFillGradient(_,R,P){return R.buildGradient(),_.fill=R,_.color=16777215,_.texture=R.texture,_.matrix=R.transform,_.textureSpace=R.textureSpace,{...P,..._}}function handleFillObject(_,R){const P={...R,..._},I=Color$1.shared.setValue(P.color);return P.alpha*=I.alpha,P.color=I.toNumber(),P}function toFillStyle(_,R){if(_==null)return null;const P={},I=_;return isColorLike(_)?handleColorLike(P,_,R):isTexture(_)?handleTexture(P,_,R):isFillPattern(_)?handleFillPattern(P,_,R):isFillGradient(_)?handleFillGradient(P,_,R):I.fill&&isFillPattern(I.fill)?handleFillPattern(I,I.fill,R):I.fill&&isFillGradient(I.fill)?handleFillGradient(I,I.fill,R):handleFillObject(I,R)}function toStrokeStyle(_,R){const{width:P,alignment:I,miterLimit:O,cap:z,join:L,pixelLine:F,...U}=R,V=toFillStyle(_,U);return V?{width:P,alignment:I,miterLimit:O,cap:z,join:L,pixelLine:F,...V}:null}const tmpPoint=new Point,tempMatrix=new Matrix,_GraphicsContext=class Qn extends EventEmitter{constructor(){super(...arguments),this.uid=uid("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new GraphicsPath,this._transform=new Matrix,this._fillStyle={...Qn.defaultFillStyle},this._strokeStyle={...Qn.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Bounds,this._boundsDirty=!0}clone(){const R=new Qn;return R.batchMode=this.batchMode,R.instructions=this.instructions.slice(),R._activePath=this._activePath.clone(),R._transform=this._transform.clone(),R._fillStyle={...this._fillStyle},R._strokeStyle={...this._strokeStyle},R._stateStack=this._stateStack.slice(),R._bounds=this._bounds.clone(),R._boundsDirty=!0,R}get fillStyle(){return this._fillStyle}set fillStyle(R){this._fillStyle=toFillStyle(R,Qn.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(R){this._strokeStyle=toStrokeStyle(R,Qn.defaultStrokeStyle)}setFillStyle(R){return this._fillStyle=toFillStyle(R,Qn.defaultFillStyle),this}setStrokeStyle(R){return this._strokeStyle=toFillStyle(R,Qn.defaultStrokeStyle),this}texture(R,P,I,O,z,L){return this.instructions.push({action:"texture",data:{image:R,dx:I||0,dy:O||0,dw:z||R.frame.width,dh:L||R.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:P?Color$1.shared.setValue(P).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new GraphicsPath,this}fill(R,P){let I;const O=this.instructions[this.instructions.length-1];return this._tick===0&&O?.action==="stroke"?I=O.data.path:I=this._activePath.clone(),I?(R!=null&&(P!==void 0&&typeof R=="number"&&(deprecation(v8_0_0,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),R={color:R,alpha:P}),this._fillStyle=toFillStyle(R,Qn.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:I}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:R,y:P}=this._activePath.getLastPoint(Point.shared);this._activePath.clear(),this._activePath.moveTo(R,P)}stroke(R){let P;const I=this.instructions[this.instructions.length-1];return this._tick===0&&I?.action==="fill"?P=I.data.path:P=this._activePath.clone(),P?(R!=null&&(this._strokeStyle=toStrokeStyle(R,Qn.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:P}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let R=0;R<2;R++){const P=this.instructions[this.instructions.length-1-R],I=this._activePath.clone();if(P&&(P.action==="stroke"||P.action==="fill"))if(P.data.hole)P.data.hole.addPath(I);else{P.data.hole=I;break}}return this._initNextPathLocation(),this}arc(R,P,I,O,z,L){this._tick++;const F=this._transform;return this._activePath.arc(F.a*R+F.c*P+F.tx,F.b*R+F.d*P+F.ty,I,O,z,L),this}arcTo(R,P,I,O,z){this._tick++;const L=this._transform;return this._activePath.arcTo(L.a*R+L.c*P+L.tx,L.b*R+L.d*P+L.ty,L.a*I+L.c*O+L.tx,L.b*I+L.d*O+L.ty,z),this}arcToSvg(R,P,I,O,z,L,F){this._tick++;const U=this._transform;return this._activePath.arcToSvg(R,P,I,O,z,U.a*L+U.c*F+U.tx,U.b*L+U.d*F+U.ty),this}bezierCurveTo(R,P,I,O,z,L,F){this._tick++;const U=this._transform;return this._activePath.bezierCurveTo(U.a*R+U.c*P+U.tx,U.b*R+U.d*P+U.ty,U.a*I+U.c*O+U.tx,U.b*I+U.d*O+U.ty,U.a*z+U.c*L+U.tx,U.b*z+U.d*L+U.ty,F),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(R,P,I,O){return this._tick++,this._activePath.ellipse(R,P,I,O,this._transform.clone()),this}circle(R,P,I){return this._tick++,this._activePath.circle(R,P,I,this._transform.clone()),this}path(R){return this._tick++,this._activePath.addPath(R,this._transform.clone()),this}lineTo(R,P){this._tick++;const I=this._transform;return this._activePath.lineTo(I.a*R+I.c*P+I.tx,I.b*R+I.d*P+I.ty),this}moveTo(R,P){this._tick++;const I=this._transform,O=this._activePath.instructions,z=I.a*R+I.c*P+I.tx,L=I.b*R+I.d*P+I.ty;return O.length===1&&O[0].action==="moveTo"?(O[0].data[0]=z,O[0].data[1]=L,this):(this._activePath.moveTo(z,L),this)}quadraticCurveTo(R,P,I,O,z){this._tick++;const L=this._transform;return this._activePath.quadraticCurveTo(L.a*R+L.c*P+L.tx,L.b*R+L.d*P+L.ty,L.a*I+L.c*O+L.tx,L.b*I+L.d*O+L.ty,z),this}rect(R,P,I,O){return this._tick++,this._activePath.rect(R,P,I,O,this._transform.clone()),this}roundRect(R,P,I,O,z){return this._tick++,this._activePath.roundRect(R,P,I,O,z,this._transform.clone()),this}poly(R,P){return this._tick++,this._activePath.poly(R,P,this._transform.clone()),this}regularPoly(R,P,I,O,z=0,L){return this._tick++,this._activePath.regularPoly(R,P,I,O,z,L),this}roundPoly(R,P,I,O,z,L){return this._tick++,this._activePath.roundPoly(R,P,I,O,z,L),this}roundShape(R,P,I,O){return this._tick++,this._activePath.roundShape(R,P,I,O),this}filletRect(R,P,I,O,z){return this._tick++,this._activePath.filletRect(R,P,I,O,z),this}chamferRect(R,P,I,O,z,L){return this._tick++,this._activePath.chamferRect(R,P,I,O,z,L),this}star(R,P,I,O,z=0,L=0){return this._tick++,this._activePath.star(R,P,I,O,z,L,this._transform.clone()),this}svg(R){return this._tick++,SVGParser(R,this),this}restore(){const R=this._stateStack.pop();return R&&(this._transform=R.transform,this._fillStyle=R.fillStyle,this._strokeStyle=R.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(R){return this._transform.rotate(R),this}scale(R,P=R){return this._transform.scale(R,P),this}setTransform(R,P,I,O,z,L){return R instanceof Matrix?(this._transform.set(R.a,R.b,R.c,R.d,R.tx,R.ty),this):(this._transform.set(R,P,I,O,z,L),this)}transform(R,P,I,O,z,L){return R instanceof Matrix?(this._transform.append(R),this):(tempMatrix.set(R,P,I,O,z,L),this._transform.append(tempMatrix),this)}translate(R,P=R){return this._transform.translate(R,P),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const R=this._bounds;R.clear();for(let P=0;P<this.instructions.length;P++){const I=this.instructions[P],O=I.action;if(O==="fill"){const z=I.data;R.addBounds(z.path.bounds)}else if(O==="texture"){const z=I.data;R.addFrame(z.dx,z.dy,z.dx+z.dw,z.dy+z.dh,z.transform)}if(O==="stroke"){const z=I.data,L=z.style.alignment,F=z.style.width*(1-L),U=z.path.bounds;R.addFrame(U.minX-F,U.minY-F,U.maxX+F,U.maxY+F)}}return R}containsPoint(R){if(!this.bounds.containsPoint(R.x,R.y))return!1;const P=this.instructions;let I=!1;for(let O=0;O<P.length;O++){const z=P[O],L=z.data,F=L.path;if(!z.action||!F)continue;const U=L.style,V=F.shapePath.shapePrimitives;for(let q=0;q<V.length;q++){const W=V[q].shape;if(!U||!W)continue;const Y=V[q].transform,Q=Y?Y.applyInverse(R,tmpPoint):R;if(z.action==="fill")I=W.contains(Q.x,Q.y);else{const te=U;I=W.strokeContains(Q.x,Q.y,te.width,te.alignment)}const ee=L.hole;if(ee){const te=ee.shapePath?.shapePrimitives;if(te)for(let ie=0;ie<te.length;ie++)te[ie].shape.contains(Q.x,Q.y)&&(I=!1)}if(I)return!0}}return I}destroy(R=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof R=="boolean"?R:R?.texture){const I=typeof R=="boolean"?R:R?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(I)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(I))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};_GraphicsContext.defaultFillStyle={color:16777215,alpha:1,texture:Texture.WHITE,matrix:null,fill:null,textureSpace:"local"};_GraphicsContext.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Texture.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let GraphicsContext=_GraphicsContext;const _TextStyle=class Zi extends EventEmitter{constructor(R={}){super(),this.uid=uid("textStyle"),this._tick=0,convertV7Tov8Style(R);const P={...Zi.defaultTextStyle,...R};for(const I in P){const O=I;this[O]=P[I]}this.update(),this._tick=0}get align(){return this._align}set align(R){this._align!==R&&(this._align=R,this.update())}get breakWords(){return this._breakWords}set breakWords(R){this._breakWords!==R&&(this._breakWords=R,this.update())}get dropShadow(){return this._dropShadow}set dropShadow(R){this._dropShadow!==R&&(R!==null&&typeof R=="object"?this._dropShadow=this._createProxy({...Zi.defaultDropShadow,...R}):this._dropShadow=R?this._createProxy({...Zi.defaultDropShadow}):null,this.update())}get fontFamily(){return this._fontFamily}set fontFamily(R){this._fontFamily!==R&&(this._fontFamily=R,this.update())}get fontSize(){return this._fontSize}set fontSize(R){this._fontSize!==R&&(typeof R=="string"?this._fontSize=parseInt(R,10):this._fontSize=R,this.update())}get fontStyle(){return this._fontStyle}set fontStyle(R){this._fontStyle!==R&&(this._fontStyle=R.toLowerCase(),this.update())}get fontVariant(){return this._fontVariant}set fontVariant(R){this._fontVariant!==R&&(this._fontVariant=R,this.update())}get fontWeight(){return this._fontWeight}set fontWeight(R){this._fontWeight!==R&&(this._fontWeight=R,this.update())}get leading(){return this._leading}set leading(R){this._leading!==R&&(this._leading=R,this.update())}get letterSpacing(){return this._letterSpacing}set letterSpacing(R){this._letterSpacing!==R&&(this._letterSpacing=R,this.update())}get lineHeight(){return this._lineHeight}set lineHeight(R){this._lineHeight!==R&&(this._lineHeight=R,this.update())}get padding(){return this._padding}set padding(R){this._padding!==R&&(this._padding=R,this.update())}get filters(){return this._filters}set filters(R){this._filters!==R&&(this._filters=Object.freeze(R),this.update())}get trim(){return this._trim}set trim(R){this._trim!==R&&(this._trim=R,this.update())}get textBaseline(){return this._textBaseline}set textBaseline(R){this._textBaseline!==R&&(this._textBaseline=R,this.update())}get whiteSpace(){return this._whiteSpace}set whiteSpace(R){this._whiteSpace!==R&&(this._whiteSpace=R,this.update())}get wordWrap(){return this._wordWrap}set wordWrap(R){this._wordWrap!==R&&(this._wordWrap=R,this.update())}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(R){this._wordWrapWidth!==R&&(this._wordWrapWidth=R,this.update())}get fill(){return this._originalFill}set fill(R){R!==this._originalFill&&(this._originalFill=R,this._isFillStyle(R)&&(this._originalFill=this._createProxy({...GraphicsContext.defaultFillStyle,...R},()=>{this._fill=toFillStyle({...this._originalFill},GraphicsContext.defaultFillStyle)})),this._fill=toFillStyle(R===0?"black":R,GraphicsContext.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(R){R!==this._originalStroke&&(this._originalStroke=R,this._isFillStyle(R)&&(this._originalStroke=this._createProxy({...GraphicsContext.defaultStrokeStyle,...R},()=>{this._stroke=toStrokeStyle({...this._originalStroke},GraphicsContext.defaultStrokeStyle)})),this._stroke=toStrokeStyle(R,GraphicsContext.defaultStrokeStyle),this.update())}update(){this._tick++,this.emit("update",this)}reset(){const R=Zi.defaultTextStyle;for(const P in R)this[P]=R[P]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new Zi({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let R=0;if(this._filters)for(let P=0;P<this._filters.length;P++)R+=this._filters[P].padding;return Math.max(this._padding,R)}destroy(R=!1){if(this.removeAllListeners(),typeof R=="boolean"?R:R?.texture){const I=typeof R=="boolean"?R:R?.textureSource;this._fill?.texture&&this._fill.texture.destroy(I),this._originalFill?.texture&&this._originalFill.texture.destroy(I),this._stroke?.texture&&this._stroke.texture.destroy(I),this._originalStroke?.texture&&this._originalStroke.texture.destroy(I)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(R,P){return new Proxy(R,{set:(I,O,z)=>(I[O]===z||(I[O]=z,P?.(O,z),this.update()),!0)})}_isFillStyle(R){return(R??null)!==null&&!(Color$1.isColorLike(R)||R instanceof FillGradient||R instanceof FillPattern)}};_TextStyle.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};_TextStyle.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let TextStyle=_TextStyle;function convertV7Tov8Style(_){const R=_;if(typeof R.dropShadow=="boolean"&&R.dropShadow){const P=TextStyle.defaultDropShadow;_.dropShadow={alpha:R.dropShadowAlpha??P.alpha,angle:R.dropShadowAngle??P.angle,blur:R.dropShadowBlur??P.blur,color:R.dropShadowColor??P.color,distance:R.dropShadowDistance??P.distance}}if(R.strokeThickness!==void 0){deprecation(v8_0_0,"strokeThickness is now a part of stroke");const P=R.stroke;let I={};if(Color$1.isColorLike(P))I.color=P;else if(P instanceof FillGradient||P instanceof FillPattern)I.fill=P;else if(Object.hasOwnProperty.call(P,"color")||Object.hasOwnProperty.call(P,"fill"))I=P;else throw new Error("Invalid stroke value.");_.stroke={...I,width:R.strokeThickness}}if(Array.isArray(R.fillGradientStops)){if(deprecation(v8_0_0,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(R.fill)||R.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");R.fill.length!==R.fillGradientStops.length&&warn$1("The number of fill colors must match the number of fill gradient stops.");const P=new FillGradient({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),I=R.fillGradientStops.slice(),O=R.fill.map(z=>Color$1.shared.setValue(z).toNumber());I.forEach((z,L)=>{P.addColorStop(z,O[L])}),_.fill={fill:P}}}class CanvasPoolClass{constructor(R){this._canvasPool=Object.create(null),this.canvasOptions=R||{},this.enableFullScreen=!1}_createCanvasAndContext(R,P){const I=DOMAdapter.get().createCanvas();I.width=R,I.height=P;const O=I.getContext("2d");return{canvas:I,context:O}}getOptimalCanvasAndContext(R,P,I=1){R=Math.ceil(R*I-1e-6),P=Math.ceil(P*I-1e-6),R=nextPow2(R),P=nextPow2(P);const O=(R<<17)+(P<<1);this._canvasPool[O]||(this._canvasPool[O]=[]);let z=this._canvasPool[O].pop();return z||(z=this._createCanvasAndContext(R,P)),z}returnCanvasAndContext(R){const P=R.canvas,{width:I,height:O}=P,z=(I<<17)+(O<<1);R.context.resetTransform(),R.context.clearRect(0,0,I,O),this._canvasPool[z].push(R)}clear(){this._canvasPool={}}}const CanvasPool=new CanvasPoolClass;GlobalResourceRegistry.register(CanvasPool);const PRECISION=1e5;function getCanvasFillStyle(_,R,P,I=0){if(_.texture===Texture.WHITE&&!_.fill)return Color$1.shared.setValue(_.color).setAlpha(_.alpha??1).toHexa();if(_.fill){if(_.fill instanceof FillPattern){const O=_.fill,z=R.createPattern(O.texture.source.resource,"repeat"),L=O.transform.copyTo(Matrix.shared);return L.scale(O.texture.frame.width,O.texture.frame.height),z.setTransform(L),z}else if(_.fill instanceof FillGradient){const O=_.fill,z=O.type==="linear",L=O.textureSpace==="local";let F=1,U=1;L&&P&&(F=P.width+I,U=P.height+I);let V,q=!1;if(z){const{start:W,end:Y}=O;V=R.createLinearGradient(W.x*F,W.y*U,Y.x*F,Y.y*U),q=Math.abs(Y.x-W.x)<Math.abs((Y.y-W.y)*.1)}else{const{center:W,innerRadius:Y,outerCenter:Q,outerRadius:ee}=O;V=R.createRadialGradient(W.x*F,W.y*U,Y*F,Q.x*F,Q.y*U,ee*F)}if(q&&L&&P){const W=P.lineHeight/U;for(let Y=0;Y<P.lines.length;Y++){const Q=(Y*P.lineHeight+I/2)/U;O.colorStops.forEach(ee=>{const te=Q+ee.offset*W;V.addColorStop(Math.floor(te*PRECISION)/PRECISION,Color$1.shared.setValue(ee.color).toHex())})}}else O.colorStops.forEach(W=>{V.addColorStop(W.offset,Color$1.shared.setValue(W.color).toHex())});return V}}else{const O=R.createPattern(_.texture.source.resource,"repeat"),z=_.matrix.copyTo(Matrix.shared);return z.scale(_.texture.frame.width,_.texture.frame.height),O.setTransform(z),O}return warn$1("FillStyle not recognised",_),"red"}class Graphics extends ViewContainer{constructor(R){R instanceof GraphicsContext&&(R={context:R});const{context:P,roundPixels:I,...O}=R||{};super({label:"Graphics",...O}),this.renderPipeId="graphics",P?this._context=P:this._context=this._ownedContext=new GraphicsContext,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=I??!1}set context(R){R!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=R,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(R){return this._context.containsPoint(R)}destroy(R){this._ownedContext&&!R?this._ownedContext.destroy(R):(R===!0||R?.context===!0)&&this._context.destroy(R),this._ownedContext=null,this._context=null,super.destroy(R)}_callContextMethod(R,P){return this.context[R](...P),this}setFillStyle(...R){return this._callContextMethod("setFillStyle",R)}setStrokeStyle(...R){return this._callContextMethod("setStrokeStyle",R)}fill(...R){return this._callContextMethod("fill",R)}stroke(...R){return this._callContextMethod("stroke",R)}texture(...R){return this._callContextMethod("texture",R)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...R){return this._callContextMethod("arc",R)}arcTo(...R){return this._callContextMethod("arcTo",R)}arcToSvg(...R){return this._callContextMethod("arcToSvg",R)}bezierCurveTo(...R){return this._callContextMethod("bezierCurveTo",R)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...R){return this._callContextMethod("ellipse",R)}circle(...R){return this._callContextMethod("circle",R)}path(...R){return this._callContextMethod("path",R)}lineTo(...R){return this._callContextMethod("lineTo",R)}moveTo(...R){return this._callContextMethod("moveTo",R)}quadraticCurveTo(...R){return this._callContextMethod("quadraticCurveTo",R)}rect(...R){return this._callContextMethod("rect",R)}roundRect(...R){return this._callContextMethod("roundRect",R)}poly(...R){return this._callContextMethod("poly",R)}regularPoly(...R){return this._callContextMethod("regularPoly",R)}roundPoly(...R){return this._callContextMethod("roundPoly",R)}roundShape(...R){return this._callContextMethod("roundShape",R)}filletRect(...R){return this._callContextMethod("filletRect",R)}chamferRect(...R){return this._callContextMethod("chamferRect",R)}star(...R){return this._callContextMethod("star",R)}svg(...R){return this._callContextMethod("svg",R)}restore(...R){return this._callContextMethod("restore",R)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...R){return this._callContextMethod("rotate",R)}scaleTransform(...R){return this._callContextMethod("scale",R)}setTransform(...R){return this._callContextMethod("setTransform",R)}transform(...R){return this._callContextMethod("transform",R)}translateTransform(...R){return this._callContextMethod("translate",R)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(R){this._context.fillStyle=R}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(R){this._context.strokeStyle=R}clone(R=!1){return R?new Graphics(this._context.clone()):(this._ownedContext=null,new Graphics(this._context))}lineStyle(R,P,I){deprecation(v8_0_0,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const O={};return R&&(O.width=R),P&&(O.color=P),I&&(O.alpha=I),this.context.strokeStyle=O,this}beginFill(R,P){deprecation(v8_0_0,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const I={};return R!==void 0&&(I.color=R),P!==void 0&&(I.alpha=P),this.context.fillStyle=I,this}endFill(){deprecation(v8_0_0,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const R=this.context.strokeStyle;return(R.width!==GraphicsContext.defaultStrokeStyle.width||R.color!==GraphicsContext.defaultStrokeStyle.color||R.alpha!==GraphicsContext.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...R){return deprecation(v8_0_0,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",R)}drawEllipse(...R){return deprecation(v8_0_0,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",R)}drawPolygon(...R){return deprecation(v8_0_0,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",R)}drawRect(...R){return deprecation(v8_0_0,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",R)}drawRoundedRect(...R){return deprecation(v8_0_0,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",R)}drawStar(...R){return deprecation(v8_0_0,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",R)}}class AbstractText extends ViewContainer{constructor(R,P){const{text:I,resolution:O,style:z,anchor:L,width:F,height:U,roundPixels:V,...q}=R;super({...q}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=P,this.text=I??"",this.style=z,this.resolution=O??null,this.allowChildren=!1,this._anchor=new ObservablePoint({_onUpdate:()=>{this.onViewUpdate()}}),L&&(this.anchor=L),this.roundPixels=V??!1,F!==void 0&&(this.width=F),U!==void 0&&(this.height=U)}get anchor(){return this._anchor}set anchor(R){typeof R=="number"?this._anchor.set(R):this._anchor.copyFrom(R)}set text(R){R=R.toString(),this._text!==R&&(this._text=R,this.onViewUpdate())}get text(){return this._text}set resolution(R){this._autoResolution=R===null,this._resolution=R,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(R){R||(R={}),this._style?.off("update",this.onViewUpdate,this),R instanceof this._styleClass?this._style=R:this._style=new this._styleClass(R),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(R){this._setWidth(R,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(R){this._setHeight(R,this.bounds.height)}getSize(R){return R||(R={}),R.width=Math.abs(this.scale.x)*this.bounds.width,R.height=Math.abs(this.scale.y)*this.bounds.height,R}setSize(R,P){typeof R=="object"?(P=R.height??R.width,R=R.width):P??(P=R),R!==void 0&&this._setWidth(R,this.bounds.width),P!==void 0&&this._setHeight(P,this.bounds.height)}containsPoint(R){const P=this.bounds.width,I=this.bounds.height,O=-P*this.anchor.x;let z=0;return R.x>=O&&R.x<=O+P&&(z=-I*this.anchor.y,R.y>=z&&R.y<=z+I)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(R=!1){super.destroy(R),this.owner=null,this._bounds=null,this._anchor=null,(typeof R=="boolean"?R:R?.style)&&this._style.destroy(R),this._style=null,this._text=null}get styleKey(){return`${this._text}:${this._style.styleKey}:${this._resolution}`}}function ensureTextOptions(_,R){let P=_[0]??{};return(typeof P=="string"||_[1])&&(deprecation(v8_0_0,`use new ${R}({ text: "hi!", style }) instead`),P={text:P,style:_[1]}),P}let _internalCanvas=null,_internalContext=null;function ensureInternalCanvas(_,R){_internalCanvas||(_internalCanvas=DOMAdapter.get().createCanvas(256,128),_internalContext=_internalCanvas.getContext("2d",{willReadFrequently:!0}),_internalContext.globalCompositeOperation="copy",_internalContext.globalAlpha=1),(_internalCanvas.width<_||_internalCanvas.height<R)&&(_internalCanvas.width=nextPow2(_),_internalCanvas.height=nextPow2(R))}function checkRow(_,R,P){for(let I=0,O=4*P*R;I<R;++I,O+=4)if(_[O+3]!==0)return!1;return!0}function checkColumn(_,R,P,I,O){const z=4*R;for(let L=I,F=I*z+4*P;L<=O;++L,F+=z)if(_[F+3]!==0)return!1;return!0}function getCanvasBoundingBox(..._){let R=_[0];R.canvas||(R={canvas:_[0],resolution:_[1]});const{canvas:P}=R,I=Math.min(R.resolution??1,1),O=R.width??P.width,z=R.height??P.height;let L=R.output;if(ensureInternalCanvas(O,z),!_internalContext)throw new TypeError("Failed to get canvas 2D context");_internalContext.drawImage(P,0,0,O,z,0,0,O*I,z*I);const U=_internalContext.getImageData(0,0,O,z).data;let V=0,q=0,W=O-1,Y=z-1;for(;q<z&&checkRow(U,O,q);)++q;if(q===z)return Rectangle.EMPTY;for(;checkRow(U,O,Y);)--Y;for(;checkColumn(U,O,V,q,Y);)++V;for(;checkColumn(U,O,W,q,Y);)--W;return++W,++Y,_internalContext.globalCompositeOperation="source-over",_internalContext.strokeRect(V,q,W-V,Y-q),_internalContext.globalCompositeOperation="copy",L??(L=new Rectangle),L.set(V/I,q/I,(W-V)/I,(Y-q)/I),L}const tempRect=new Rectangle;class CanvasTextGeneratorClass{getCanvasAndContext(R){const{text:P,style:I,resolution:O=1}=R,z=I._getFinalPadding(),L=CanvasTextMetrics.measureText(P||" ",I),F=Math.ceil(Math.ceil(Math.max(1,L.width)+z*2)*O),U=Math.ceil(Math.ceil(Math.max(1,L.height)+z*2)*O),V=CanvasPool.getOptimalCanvasAndContext(F,U);this._renderTextToCanvas(P,I,z,O,V);const q=I.trim?getCanvasBoundingBox({canvas:V.canvas,width:F,height:U,resolution:1,output:tempRect}):tempRect.set(0,0,F,U);return{canvasAndContext:V,frame:q}}returnCanvasAndContext(R){CanvasPool.returnCanvasAndContext(R)}_renderTextToCanvas(R,P,I,O,z){const{canvas:L,context:F}=z,U=fontStringFromTextStyle(P),V=CanvasTextMetrics.measureText(R||" ",P),q=V.lines,W=V.lineHeight,Y=V.lineWidths,Q=V.maxLineWidth,ee=V.fontProperties,te=L.height;if(F.resetTransform(),F.scale(O,O),F.textBaseline=P.textBaseline,P._stroke?.width){const le=P._stroke;F.lineWidth=le.width,F.miterLimit=le.miterLimit,F.lineJoin=le.join,F.lineCap=le.cap}F.font=U;let ie,ae;const se=P.dropShadow?2:1;for(let le=0;le<se;++le){const ce=P.dropShadow&&le===0,fe=ce?Math.ceil(Math.max(1,te)+I*2):0,de=fe*O;if(ce){F.fillStyle="black",F.strokeStyle="black";const ge=P.dropShadow,be=ge.color,xe=ge.alpha;F.shadowColor=Color$1.shared.setValue(be).setAlpha(xe).toRgbaString();const _e=ge.blur*O,Se=ge.distance*O;F.shadowBlur=_e,F.shadowOffsetX=Math.cos(ge.angle)*Se,F.shadowOffsetY=Math.sin(ge.angle)*Se+de}else{if(F.fillStyle=P._fill?getCanvasFillStyle(P._fill,F,V,I*2):null,P._stroke?.width){const ge=P._stroke.width*.5+I*2;F.strokeStyle=getCanvasFillStyle(P._stroke,F,V,ge)}F.shadowColor="black"}let he=(W-ee.fontSize)/2;W-ee.fontSize<0&&(he=0);const pe=P._stroke?.width??0;for(let ge=0;ge<q.length;ge++)ie=pe/2,ae=pe/2+ge*W+ee.ascent+he,P.align==="right"?ie+=Q-Y[ge]:P.align==="center"&&(ie+=(Q-Y[ge])/2),P._stroke?.width&&this._drawLetterSpacing(q[ge],P,z,ie+I,ae+I-fe,!0),P._fill!==void 0&&this._drawLetterSpacing(q[ge],P,z,ie+I,ae+I-fe)}}_drawLetterSpacing(R,P,I,O,z,L=!1){const{context:F}=I,U=P.letterSpacing;let V=!1;if(CanvasTextMetrics.experimentalLetterSpacingSupported&&(CanvasTextMetrics.experimentalLetterSpacing?(F.letterSpacing=`${U}px`,F.textLetterSpacing=`${U}px`,V=!0):(F.letterSpacing="0px",F.textLetterSpacing="0px")),U===0||V){L?F.strokeText(R,O,z):F.fillText(R,O,z);return}let q=O;const W=CanvasTextMetrics.graphemeSegmenter(R);let Y=F.measureText(R).width,Q=0;for(let ee=0;ee<W.length;++ee){const te=W[ee];L?F.strokeText(te,q,z):F.fillText(te,q,z);let ie="";for(let ae=ee+1;ae<W.length;++ae)ie+=W[ae];Q=F.measureText(ie).width,q+=Y-Q+U,Y=Q}}}const CanvasTextGenerator=new CanvasTextGeneratorClass;let Text$1=class extends AbstractText{constructor(...R){const P=ensureTextOptions(R,"Text");super(P,TextStyle),this.renderPipeId="text",P.textureStyle&&(this.textureStyle=P.textureStyle instanceof TextureStyle?P.textureStyle:new TextureStyle(P.textureStyle))}updateBounds(){const R=this._bounds,P=this._anchor;let I=0,O=0;if(this._style.trim){const{frame:z,canvasAndContext:L}=CanvasTextGenerator.getCanvasAndContext({text:this.text,style:this._style,resolution:1});CanvasTextGenerator.returnCanvasAndContext(L),I=z.width,O=z.height}else{const z=CanvasTextMetrics.measureText(this._text,this._style);I=z.width,O=z.height}R.minX=-P._x*I,R.maxX=R.minX+I,R.minY=-P._y*O,R.maxY=R.minY+O}};extensions.add(browserExt,webworkerExt);function getCurvatures(_,R){if(_?.geometry)return _.geometry;const P=computeEllipseFromPerimeter(R.general.perimeter,R.general.aspect_ratio);return{curvature_1:P.curvature_1,curvature_2:P.curvature_2}}const LIGHT_THEME$1={apicalPoint:9835540,basalPoint:0,apicalLink:6553600,basalLink:0,cytoskeleton:6566400,membrane:13421772},DARK_THEME$1={apicalPoint:16748431,basalPoint:16777215,apicalLink:16739179,basalLink:15658734,cytoskeleton:13935988,membrane:6710886};function rgbToHex(_,R,P){return _<<16|R<<8|P}function drawBasalCurve(_,R,P,I,O){if(R===0&&P===0){const z=I/2+5;_.moveTo(-z,0),_.lineTo(z,0),_.stroke({color:O.membrane,alpha:.5,width:.05})}else{const z=shapeCenter(R,P),L=R!==0?Math.abs(1/R):20,F=P!==0?Math.abs(1/P):20;_.ellipse(z.x,z.y,L,F),_.stroke({color:O.membrane,alpha:.5,width:.05})}}function drawCells$1(_,R,P,I){for(const O of R.cells){const L=(P.cell_types[O.typeIndex]??P.cell_types.control).color;_.circle(O.pos.x,O.pos.y,O.R_soft),_.fill({color:rgbToHex(L.r,L.g,L.b),alpha:.4}),_.circle(O.pos.x,O.pos.y,O.R_hard),_.fill({color:rgbToHex(L.r,L.g,L.b),alpha:1}),_.circle(O.A.x,O.A.y,.1),_.fill({color:I.apicalPoint,alpha:1}),_.circle(O.B.x,O.B.y,.1),_.fill({color:I.basalPoint,alpha:1}),_.moveTo(O.A.x,O.A.y),_.lineTo(O.pos.x,O.pos.y),_.lineTo(O.B.x,O.B.y),_.stroke({color:I.cytoskeleton,alpha:.5,width:.05})}}function drawApicalLinks(_,R,P){for(const I of R.ap_links){const O=R.cells[I.l],z=R.cells[I.r];O&&z&&(_.moveTo(O.A.x,O.A.y),_.lineTo(z.A.x,z.A.y))}_.stroke({color:P.apicalLink,alpha:1,width:.05})}function drawBasalLinks(_,R,P){for(const I of R.ba_links){const O=R.cells[I.l],z=R.cells[I.r];O&&z&&(_.moveTo(O.B.x,O.B.y),_.lineTo(z.B.x,z.B.y))}_.stroke({color:P.basalLink,alpha:1,width:.05})}function drawCellIds(_,R){const P=new TextStyle({fontFamily:"monospace",fontSize:10,fill:_.isDark?16777215:0,fontWeight:"bold"}),{width:I,height:O}=_.canvasSize,{x:z,y:L}=_.viewportCenter;for(const F of R.cells){const U=new Text$1({text:F.id.toString(),style:P});U.anchor.set(.5,.5);const V=I/2+(F.pos.x-z)*_.scale,q=O/2-(F.pos.y-L)*_.scale;U.position.set(V,q),_.uiContainer.addChild(U)}}const ehtRenderer={getBoundingBox(_,R){const{curvature_1:P,curvature_2:I}=getCurvatures(R,_),O=_.general.h_init,z=_.general.w_init,L=_.general.w_screen,F=_.general.h_screen;let U,V,q,W;if(P===0&&I===0){const se=z/2+2;U=-se,V=se,q=-2,W=O+2}else{const se=shapeCenter(P,I),le=P!==0?Math.abs(1/P):20,ce=I!==0?Math.abs(1/I):20;U=se.x-le,V=se.x+le;const fe=se.y-ce,de=se.y+ce;q=Math.min(fe,0)-2,W=Math.max(de,O)+2}const Y=V-U,Q=W-q,ee=(U+V)/2,te=(q+W)/2,ie=Math.max(Y,L),ae=Math.max(Q,F);return{minX:ee-ie/2,maxX:ee+ie/2,minY:te-ae/2,maxY:te+ae/2}},render(_,R,P){const I=_.isDark?DARK_THEME$1:LIGHT_THEME$1,O=_.graphics.cells,z=_.graphics.links,{curvature_1:L,curvature_2:F}=getCurvatures(R,P);drawBasalCurve(z,L,F,P.general.w_init,I),drawBasalLinks(z,R,I),drawApicalLinks(z,R,I),drawCells$1(O,R,P,I),_.renderOptions?.showCellIds&&drawCellIds(_,R)},getBackgroundColor(_){return _?1120295:16777215}};function getNeighborIds(_,R,P){const I=[];for(const O of R)O.l===_?I.push(O.r):O.r===_&&I.push(O.l);return I.map(O=>P[O]?.id??O).join(";")}function getSnapshot(_){const R=[];for(let P=0;P<_.cells.length;P++){const I=_.cells[P];R.push({id:I.id,typeIndex:I.typeIndex,t:_.t,step_count:_.step_count,pos_x:I.pos.x,pos_y:I.pos.y,A_x:I.A.x,A_y:I.A.y,B_x:I.B.x,B_y:I.B.y,has_A:I.has_A,has_B:I.has_B,phase:I.phase,age:_.t-I.birth_time,is_running:I.is_running,running_mode:I.running_mode,has_inm:I.has_inm,eta_A:I.eta_A,eta_B:I.eta_B,R_soft:I.R_soft,R_hard:I.R_hard,time_A:I.time_A,time_B:I.time_B,time_S:I.time_S,time_P:I.time_P,time_AC:I.time_AC,apical_neighbors:getNeighborIds(P,_.ap_links,_.cells),basal_neighbors:getNeighborIds(P,_.ba_links,_.cells),curvature_1:_.geometry?.curvature_1??0,curvature_2:_.geometry?.curvature_2??0})}return R}function loadSnapshot(_,R){if(_.length===0)return{cells:[],ap_links:[],ba_links:[],t:0,step_count:0,basalGeometry:createBasalGeometry(0,0,360),rngSeed:String(R.general.random_seed)};const P=_[0],I=Number(P.t),O=Number(P.step_count),z=Number(P.curvature_1),L=Number(P.curvature_2),F={cells:[],ap_links:[],ba_links:[],t:I,step_count:O,geometry:{curvature_1:z,curvature_2:L},basalGeometry:createBasalGeometry(z,L,360),rngSeed:String(R.general.random_seed)},U=new Map;for(let V=0;V<_.length;V++){const q=_[V],W=Number(q.id);U.set(W,V);const Y={id:W,typeIndex:String(q.typeIndex),pos:{x:Number(q.pos_x),y:Number(q.pos_y)},A:{x:Number(q.A_x),y:Number(q.A_y)},B:{x:Number(q.B_x),y:Number(q.B_y)},has_A:!!q.has_A,has_B:!!q.has_B,phase:Number(q.phase),birth_time:I-Number(q.age),division_time:0,is_running:!!q.is_running,running_mode:Number(q.running_mode),has_inm:!!q.has_inm,eta_A:Number(q.eta_A),eta_B:Number(q.eta_B),R_soft:Number(q.R_soft),R_hard:Number(q.R_hard),time_A:Number(q.time_A),time_B:Number(q.time_B),time_S:Number(q.time_S),time_P:Number(q.time_P),time_AC:Number(q.time_AC??1/0),stiffness_apical_apical:1,stiffness_straightness:Number(q.time_S)<I?1:100,stiffness_nuclei_apical:q.has_A?1:.1,stiffness_nuclei_basal:q.has_B?1:.1},Q=R.cell_types[Y.typeIndex]||R.cell_types.control;Y.stiffness_apical_apical=Q.stiffness_apical_apical,q.has_A?Y.stiffness_nuclei_apical=Q.stiffness_nuclei_apical:Y.stiffness_nuclei_apical=Q.stiffness_nuclei_apical*.1,q.has_B?Y.stiffness_nuclei_basal=Q.stiffness_nuclei_basal:Y.stiffness_nuclei_basal=Q.stiffness_nuclei_basal*.1,Y.time_S&&I>Y.time_S?Y.stiffness_straightness=1:Y.stiffness_straightness=Q.stiffness_straightness,Y.division_time=Y.birth_time+(Q.lifespan_end+Q.lifespan_start)/2,F.cells.push(Y)}for(let V=0;V<_.length;V++){const q=_[V],W=V,Y=String(q.apical_neighbors||"").split(";").filter(ee=>ee!=="");for(const ee of Y){const te=Number(ee),ie=U.get(te);if(ie!==void 0&&ie>W){const ae=F.cells[W],se=F.cells[ie],le=Math.sqrt(Math.pow(ae.A.x-se.A.x,2)+Math.pow(ae.A.y-se.A.y,2));F.ap_links.push({l:W,r:ie,rl:le})}}const Q=String(q.basal_neighbors||"").split(";").filter(ee=>ee!=="");for(const ee of Q){const te=Number(ee),ie=U.get(te);ie!==void 0&&ie>W&&F.ba_links.push({l:W,r:ie})}}return F}const defaultEHTRenderOptions={showCellIds:!1,showScaleBar:!0};function EHTRenderOptionsPanel({options:_,onChange:R}){const[P,I]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>I(!P),className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:["Render Options",P?jsxRuntimeExports.jsx(ChevronUp,{size:14}):jsxRuntimeExports.jsx(ChevronDown,{size:14})]}),P&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 pl-1",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx(Checkbox,{checked:_.showCellIds,onCheckedChange:O=>R({..._,showCellIds:!!O})}),"Show Cell IDs"]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx(Checkbox,{checked:_.showScaleBar,onCheckedChange:O=>R({..._,showScaleBar:!!O})}),"Show Scale Bar"]})]})]})}const EHTModel={id:"EHT",name:"Epithelial-to-Hematopoietic Transition",version:"1.0.0",description:"Simulates cell mechanics, division, and EMT events in curved epithelial tissue.",defaultParams:DEFAULT_EHT_PARAMS,validateParams(_){return ehtParamsSchema.parse(_)},init:(_,R)=>{const P=R??String(_.general.random_seed),I=new SeededRandom(P),O=createInitialEHTState(P);return initializeEHTSimulation(_,O,I),O},step:(_,R,P)=>{const I=new SeededRandom(`${_.rngSeed}_step_${_.step_count}`);return performTimestep(_,P,I),_},getSnapshot:_=>getSnapshot(_),loadSnapshot:(_,R)=>loadSnapshot(_,R),exportCellMetrics:(_,R)=>exportCellMetrics(_,R),computeStats:(_,R)=>computeEHTStatistics(_,R),statistics:generateEHTStatistics(DEFAULT_EHT_PARAMS),generateStatistics:_=>generateEHTStatistics(_),generateBatchParameters:_=>generateEHTBatchParameters(_),batchParameters:EHT_BATCH_PARAMETERS,renderer:ehtRenderer,ui:ehtUI,renderOptions:{defaultOptions:defaultEHTRenderOptions,RenderOptionsPanel:EHTRenderOptionsPanel}},boundaryTypeSchema=_enum(["periodic","box","none"]),toyGeneralSchema=object$1({N:number$6().int().positive(),soft_radius:number$6().positive(),repulsion_strength:number$6().nonnegative(),running_speed:number$6().nonnegative(),tumble_speed:number$6().nonnegative(),running_duration:number$6().positive(),tumbling_duration:number$6().positive(),tumbling_period:number$6().positive(),boundary_type:boundaryTypeSchema,domain_size:tuple([number$6().positive(),number$6().positive()]),t_end:number$6().positive(),dt:number$6().positive(),random_seed:number$6().int(),mu:number$6().positive(),n_substeps:number$6().int().positive(),N_max:number$6().int().positive(),w_screen:number$6().positive(),h_screen:number$6().positive()}),metadataSchema=object$1({model:literal("Toy"),version:string$3()}),toyParamsSchema=object$1({metadata:metadataSchema,general:toyGeneralSchema}),DEFAULT_TOY_GENERAL={N:20,soft_radius:5,repulsion_strength:10,running_speed:2,tumble_speed:.5,running_duration:5,tumbling_duration:2,tumbling_period:.5,boundary_type:"box",domain_size:[100,100],t_end:60,dt:.1,random_seed:42,mu:1,n_substeps:1,w_screen:100,h_screen:100},DEFAULT_TOY_PARAMS={metadata:{model:"Toy",version:"1.0.0"},general:DEFAULT_TOY_GENERAL};function mean$1(_){return _.length===0?0:_.reduce((R,P)=>R+P,0)/_.length}const TOY_STATISTICS=[{id:"n_cells",label:"Cell Count",description:"Total number of cells",compute:_=>_.cells.length},{id:"running_fraction",label:"Running Fraction",description:"Fraction of cells currently in running phase",compute:_=>_.cells.filter(R=>R.phase==="running").length/(_.cells.length||1)},{id:"avg_x",label:"Avg X Position",description:"Average X position of all cells",compute:_=>mean$1(_.cells.map(R=>R.position.x))},{id:"avg_y",label:"Avg Y Position",description:"Average Y position of all cells",compute:_=>mean$1(_.cells.map(R=>R.position.y))}];function generateToyStatistics(_){return TOY_STATISTICS}function computeToyStatistics(_,R){const P={};for(const I of TOY_STATISTICS)P[I.id]=I.compute(_);return P}const BOUNDARY_OPTIONS=[{value:"periodic",label:"Periodic"},{value:"box",label:"Box"},{value:"none",label:"None"}];function ToyParametersTab({params:_,onChange:R,disabled:P}){const I=(L,F)=>{const U=structuredClone(_);U.general[L]=F,R(U)},O=(L,F)=>{const U=structuredClone(_);U.general.domain_size[L]=F,R(U)},z=_.general;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Cell Population"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(IntegerInput,{label:"Number of Cells",value:z.N,onChange:L=>I("N",L),disabled:P,min:1}),jsxRuntimeExports.jsx(NumberInput,{label:"Soft Radius",value:z.soft_radius,onChange:L=>I("soft_radius",L),disabled:P,step:.5,min:0}),jsxRuntimeExports.jsx(NumberInput,{label:"Repulsion",value:z.repulsion_strength,onChange:L=>I("repulsion_strength",L),disabled:P,step:1,min:0})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Movement"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(NumberInput,{label:"Running Speed",value:z.running_speed,onChange:L=>I("running_speed",L),disabled:P,step:.1,min:0}),jsxRuntimeExports.jsx(NumberInput,{label:"Tumble Speed",value:z.tumble_speed,onChange:L=>I("tumble_speed",L),disabled:P,step:.1,min:0}),jsxRuntimeExports.jsx(NumberInput,{label:"Run Duration",value:z.running_duration,onChange:L=>I("running_duration",L),disabled:P,step:.5,min:0}),jsxRuntimeExports.jsx(NumberInput,{label:"Tumble Duration",value:z.tumbling_duration,onChange:L=>I("tumbling_duration",L),disabled:P,step:.5,min:0}),jsxRuntimeExports.jsx(NumberInput,{label:"Tumble Period",value:z.tumbling_period,onChange:L=>I("tumbling_period",L),disabled:P,step:.1,min:0})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Domain"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(ComboBox,{label:"Boundary Type",value:z.boundary_type,options:BOUNDARY_OPTIONS,onChange:L=>I("boundary_type",L),disabled:P}),jsxRuntimeExports.jsx(NumberInput,{label:"Domain Width",value:z.domain_size[0],onChange:L=>O(0,L),disabled:P,step:10,min:1}),jsxRuntimeExports.jsx(NumberInput,{label:"Domain Height",value:z.domain_size[1],onChange:L=>O(1,L),disabled:P,step:10,min:1})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Physics"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 pl-2",children:jsxRuntimeExports.jsx(NumberInput,{label:"Friction (mu)",value:z.mu,onChange:L=>I("mu",L),disabled:P,step:.1,min:0})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"General"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(NumberInput,{label:"End Time",value:z.t_end,onChange:L=>I("t_end",L),disabled:P,step:1,min:0}),jsxRuntimeExports.jsx(IntegerInput,{label:"Random Seed",value:z.random_seed,onChange:L=>I("random_seed",L),disabled:P})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Display"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(IntegerInput,{label:"Screen Width",value:z.w_screen,onChange:L=>I("w_screen",L),disabled:P,min:10}),jsxRuntimeExports.jsx(IntegerInput,{label:"Screen Height",value:z.h_screen,onChange:L=>I("h_screen",L),disabled:P,min:10})]})]})]})}function ToySimulationTab({params:_,onChange:R,disabled:P}){const I=(z,L)=>{const F=structuredClone(_);F.general[z]=L,R(F)},O=_.general;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Time Stepping"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(NumberInput,{label:"Time Step (dt)",value:O.dt,onChange:z=>I("dt",z),disabled:P,step:.01,min:.001}),jsxRuntimeExports.jsx(IntegerInput,{label:"Substeps",value:O.n_substeps,onChange:z=>I("n_substeps",z),disabled:P,min:1})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-muted/50 rounded-md text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1",children:"Notes:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-0.5",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"dt"}),": Time step for physics integration"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"n_substeps"}),": Number of physics steps per output step"]})]})]})]})}const toyUI={ParametersTab:ToyParametersTab,SimulationTab:ToySimulationTab},LIGHT_THEME={cellFill:4886745,cellStroke:2904706,polarityRunning:4766584,polarityTumbling:15567158,boundary:13421772},DARK_THEME={cellFill:6534125,cellStroke:9489908,polarityRunning:6869905,polarityTumbling:16503693,boundary:6710886};function drawBoundary(_,R,P){const{boundary_type:I,domain_size:O}=R.general,[z,L]=O;I!=="none"&&(_.rect(0,0,z,L),I==="periodic"?_.stroke({color:P.boundary,alpha:.5,width:.1}):_.stroke({color:P.boundary,alpha:.8,width:.15}))}function drawCells(_,R,P,I){const{soft_radius:O}=P.general;for(const z of R.cells){const F=z.phase==="running"?I.polarityRunning:I.polarityTumbling;_.circle(z.position.x,z.position.y,O),_.fill({color:I.cellFill,alpha:.6}),_.stroke({color:I.cellStroke,alpha:1,width:.05});const U=O*.8,V=z.position.x+z.polarity.x*U,q=z.position.y+z.polarity.y*U;_.moveTo(z.position.x,z.position.y),_.lineTo(V,q),_.stroke({color:F,alpha:1,width:.1});const W=O*.3,Y=Math.atan2(z.polarity.y,z.polarity.x),Q=Math.PI/6;_.moveTo(V,q),_.lineTo(V-W*Math.cos(Y-Q),q-W*Math.sin(Y-Q)),_.moveTo(V,q),_.lineTo(V-W*Math.cos(Y+Q),q-W*Math.sin(Y+Q)),_.stroke({color:F,alpha:1,width:.1})}}const toyRenderer={getBoundingBox(_,R){const[P,I]=_.general.domain_size,O=_.general.soft_radius*2;return{minX:-O,maxX:P+O,minY:-O,maxY:I+O}},render(_,R,P){const I=_.isDark?DARK_THEME:LIGHT_THEME,O=_.graphics.cells,z=_.graphics.links;drawBoundary(z,P,I),drawCells(O,R,P,I)},getBackgroundColor(_){return _?1120295:16777215}},ToyModel={id:"Toy",name:"Run & Tumble (Toy)",version:"1.0.0",description:"Simple run-and-tumble model for demonstration purposes.",defaultParams:DEFAULT_TOY_PARAMS,validateParams(_){return toyParamsSchema.parse(_)},init:(_,R)=>{const P=R??String(_.general.random_seed),I=new SeededRandom(P),{N:O,domain_size:z}=_.general,[L,F]=z,U=[];for(let V=0;V<O;V++){const q=I.random(L),W=I.random(F),Y=I.random(2*Math.PI),Q=I.random()>.5?"running":"tumbling";U.push({id:V,position:new Vector2(q,W),prevPosition:new Vector2(q,W),polarity:new Vector2(Math.cos(Y),Math.sin(Y)),phase:Q,phaseTime:0,timeSinceLastTumble:0})}return{t:0,cells:U,step_count:0,rngSeed:P}},step:(_,R,P)=>{const I=new SeededRandom(`${_.rngSeed}_step_${_.step_count}`),{soft_radius:O,repulsion_strength:z,running_speed:L,tumble_speed:F,mu:U,boundary_type:V,domain_size:q,running_duration:W,tumbling_duration:Y,tumbling_period:Q}=P.general,[ee,te]=q,ie=_.cells;for(const se of ie)if(se.phaseTime+=R,se.phase==="running"){if(se.phaseTime>=W){se.phase="tumbling",se.phaseTime=0,se.timeSinceLastTumble=0;const le=I.random(2*Math.PI);se.polarity=new Vector2(Math.cos(le),Math.sin(le))}}else{if(se.timeSinceLastTumble+=R,se.timeSinceLastTumble>=Q){const le=I.random(2*Math.PI);se.polarity=new Vector2(Math.cos(le),Math.sin(le)),se.timeSinceLastTumble=0}se.phaseTime>=Y&&(se.phase="running",se.phaseTime=0)}const ae=ie.map(()=>Vector2.zero());for(let se=0;se<ie.length;se++)for(let le=se+1;le<ie.length;le++){const ce=ie[se],fe=ie[le],de=ce.position.x-fe.position.x,he=ce.position.y-fe.position.y,pe=de*de+he*he,ge=O;if(pe<ge*ge&&pe>0){const be=Math.sqrt(pe),xe=ge-be,_e=z*xe*de/be,Se=z*xe*he/be,me=new Vector2(_e,Se);ae[se]=ae[se].add(me),ae[le]=ae[le].sub(me)}}for(let se=0;se<ie.length;se++){const le=ie[se],ce=le.phase==="running"?L:F,fe=le.polarity.mult(ce*U);ae[se]=ae[se].add(fe)}for(let se=0;se<ie.length;se++){const le=ie[se],ce=ae[se];le.prevPosition=le.position;const fe=ce.x*R/U,de=ce.y*R/U;le.position=new Vector2(le.position.x+fe,le.position.y+de),V==="periodic"?le.position=new Vector2((le.position.x%ee+ee)%ee,(le.position.y%te+te)%te):V==="box"&&(le.position=new Vector2(Math.max(0,Math.min(ee,le.position.x)),Math.max(0,Math.min(te,le.position.y))))}return _.t+=R,_.step_count+=1,_},getSnapshot:_=>_.cells.map(R=>({id:R.id,t:_.t,pos_x:R.position.x,pos_y:R.position.y,phase:R.phase,pol_x:R.polarity.x,pol_y:R.polarity.y})),loadSnapshot:(_,R)=>{if(_.length===0)return{t:0,cells:[],step_count:0,rngSeed:String(R.general.random_seed)};const P=Number(_[0].t),I=_.map(z=>({id:Number(z.id),position:new Vector2(Number(z.pos_x),Number(z.pos_y)),prevPosition:new Vector2(Number(z.pos_x),Number(z.pos_y)),polarity:new Vector2(Number(z.pol_x),Number(z.pol_y)),phase:z.phase,phaseTime:0,timeSinceLastTumble:0})),O=Math.round(P/R.general.dt);return{t:P,cells:I,step_count:O,rngSeed:String(R.general.random_seed)}},computeStats:(_,R)=>computeToyStatistics(_),statistics:TOY_STATISTICS,generateStatistics:_=>generateToyStatistics(),renderer:toyRenderer,ui:toyUI};console.log("[Models] Loading index");modelRegistry.register(EHTModel);modelRegistry.register(ToyModel);modelRegistry.setDefault(EHTModel.id);var PopStateEventType="popstate";function createHashHistory(_={}){function R(O,z){let{pathname:L="/",search:F="",hash:U=""}=parsePath(O.location.hash.substring(1));return!L.startsWith("/")&&!L.startsWith(".")&&(L="/"+L),createLocation("",{pathname:L,search:F,hash:U},z.state&&z.state.usr||null,z.state&&z.state.key||"default")}function P(O,z){let L=O.document.querySelector("base"),F="";if(L&&L.getAttribute("href")){let U=O.location.href,V=U.indexOf("#");F=V===-1?U:U.slice(0,V)}return F+"#"+(typeof z=="string"?z:createPath(z))}function I(O,z){warning(O.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(z)})`)}return getUrlBasedHistory(R,P,I,_)}function invariant(_,R){if(_===!1||_===null||typeof _>"u")throw new Error(R)}function warning(_,R){if(!_){typeof console<"u"&&console.warn(R);try{throw new Error(R)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(_,R){return{usr:_.state,key:_.key,idx:R}}function createLocation(_,R,P=null,I){return{pathname:typeof _=="string"?_:_.pathname,search:"",hash:"",...typeof R=="string"?parsePath(R):R,state:P,key:R&&R.key||I||createKey()}}function createPath({pathname:_="/",search:R="",hash:P=""}){return R&&R!=="?"&&(_+=R.charAt(0)==="?"?R:"?"+R),P&&P!=="#"&&(_+=P.charAt(0)==="#"?P:"#"+P),_}function parsePath(_){let R={};if(_){let P=_.indexOf("#");P>=0&&(R.hash=_.substring(P),_=_.substring(0,P));let I=_.indexOf("?");I>=0&&(R.search=_.substring(I),_=_.substring(0,I)),_&&(R.pathname=_)}return R}function getUrlBasedHistory(_,R,P,I={}){let{window:O=document.defaultView,v5Compat:z=!1}=I,L=O.history,F="POP",U=null,V=q();V==null&&(V=0,L.replaceState({...L.state,idx:V},""));function q(){return(L.state||{idx:null}).idx}function W(){F="POP";let ie=q(),ae=ie==null?null:ie-V;V=ie,U&&U({action:F,location:te.location,delta:ae})}function Y(ie,ae){F="PUSH";let se=createLocation(te.location,ie,ae);P&&P(se,ie),V=q()+1;let le=getHistoryState(se,V),ce=te.createHref(se);try{L.pushState(le,"",ce)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;O.location.assign(ce)}z&&U&&U({action:F,location:te.location,delta:1})}function Q(ie,ae){F="REPLACE";let se=createLocation(te.location,ie,ae);P&&P(se,ie),V=q();let le=getHistoryState(se,V),ce=te.createHref(se);L.replaceState(le,"",ce),z&&U&&U({action:F,location:te.location,delta:0})}function ee(ie){return createBrowserURLImpl(ie)}let te={get action(){return F},get location(){return _(O,L)},listen(ie){if(U)throw new Error("A history only accepts one active listener");return O.addEventListener(PopStateEventType,W),U=ie,()=>{O.removeEventListener(PopStateEventType,W),U=null}},createHref(ie){return R(O,ie)},createURL:ee,encodeLocation(ie){let ae=ee(ie);return{pathname:ae.pathname,search:ae.search,hash:ae.hash}},push:Y,replace:Q,go(ie){return L.go(ie)}};return te}function createBrowserURLImpl(_,R=!1){let P="http://localhost";typeof window<"u"&&(P=window.location.origin!=="null"?window.location.origin:window.location.href),invariant(P,"No window.location.(origin|href) available to create URL");let I=typeof _=="string"?_:createPath(_);return I=I.replace(/ $/,"%20"),!R&&I.startsWith("//")&&(I=P+I),new URL(I,P)}function matchRoutes(_,R,P="/"){return matchRoutesImpl(_,R,P,!1)}function matchRoutesImpl(_,R,P,I){let O=typeof R=="string"?parsePath(R):R,z=stripBasename(O.pathname||"/",P);if(z==null)return null;let L=flattenRoutes(_);rankRouteBranches(L);let F=null;for(let U=0;F==null&&U<L.length;++U){let V=decodePath(z);F=matchRouteBranch(L[U],V,I)}return F}function flattenRoutes(_,R=[],P=[],I="",O=!1){let z=(L,F,U=O,V)=>{let q={relativePath:V===void 0?L.path||"":V,caseSensitive:L.caseSensitive===!0,childrenIndex:F,route:L};if(q.relativePath.startsWith("/")){if(!q.relativePath.startsWith(I)&&U)return;invariant(q.relativePath.startsWith(I),`Absolute route path "${q.relativePath}" nested under path "${I}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),q.relativePath=q.relativePath.slice(I.length)}let W=joinPaths([I,q.relativePath]),Y=P.concat(q);L.children&&L.children.length>0&&(invariant(L.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${W}".`),flattenRoutes(L.children,R,Y,W,U)),!(L.path==null&&!L.index)&&R.push({path:W,score:computeScore(W,L.index),routesMeta:Y})};return _.forEach((L,F)=>{if(L.path===""||!L.path?.includes("?"))z(L,F);else for(let U of explodeOptionalSegments(L.path))z(L,F,!0,U)}),R}function explodeOptionalSegments(_){let R=_.split("/");if(R.length===0)return[];let[P,...I]=R,O=P.endsWith("?"),z=P.replace(/\?$/,"");if(I.length===0)return O?[z,""]:[z];let L=explodeOptionalSegments(I.join("/")),F=[];return F.push(...L.map(U=>U===""?z:[z,U].join("/"))),O&&F.push(...L),F.map(U=>_.startsWith("/")&&U===""?"/":U)}function rankRouteBranches(_){_.sort((R,P)=>R.score!==P.score?P.score-R.score:compareIndexes(R.routesMeta.map(I=>I.childrenIndex),P.routesMeta.map(I=>I.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_=>_==="*";function computeScore(_,R){let P=_.split("/"),I=P.length;return P.some(isSplat)&&(I+=splatPenalty),R&&(I+=indexRouteValue),P.filter(O=>!isSplat(O)).reduce((O,z)=>O+(paramRe.test(z)?dynamicSegmentValue:z===""?emptySegmentValue:staticSegmentValue),I)}function compareIndexes(_,R){return _.length===R.length&&_.slice(0,-1).every((I,O)=>I===R[O])?_[_.length-1]-R[R.length-1]:0}function matchRouteBranch(_,R,P=!1){let{routesMeta:I}=_,O={},z="/",L=[];for(let F=0;F<I.length;++F){let U=I[F],V=F===I.length-1,q=z==="/"?R:R.slice(z.length)||"/",W=matchPath({path:U.relativePath,caseSensitive:U.caseSensitive,end:V},q),Y=U.route;if(!W&&V&&P&&!I[I.length-1].route.index&&(W=matchPath({path:U.relativePath,caseSensitive:U.caseSensitive,end:!1},q)),!W)return null;Object.assign(O,W.params),L.push({params:O,pathname:joinPaths([z,W.pathname]),pathnameBase:normalizePathname(joinPaths([z,W.pathnameBase])),route:Y}),W.pathnameBase!=="/"&&(z=joinPaths([z,W.pathnameBase]))}return L}function matchPath(_,R){typeof _=="string"&&(_={path:_,caseSensitive:!1,end:!0});let[P,I]=compilePath(_.path,_.caseSensitive,_.end),O=R.match(P);if(!O)return null;let z=O[0],L=z.replace(/(.)\/+$/,"$1"),F=O.slice(1);return{params:I.reduce((V,{paramName:q,isOptional:W},Y)=>{if(q==="*"){let ee=F[Y]||"";L=z.slice(0,z.length-ee.length).replace(/(.)\/+$/,"$1")}const Q=F[Y];return W&&!Q?V[q]=void 0:V[q]=(Q||"").replace(/%2F/g,"/"),V},{}),pathname:z,pathnameBase:L,pattern:_}}function compilePath(_,R=!1,P=!0){warning(_==="*"||!_.endsWith("*")||_.endsWith("/*"),`Route path "${_}" will be treated as if it were "${_.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${_.replace(/\*$/,"/*")}".`);let I=[],O="^"+_.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(L,F,U)=>(I.push({paramName:F,isOptional:U!=null}),U?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return _.endsWith("*")?(I.push({paramName:"*"}),O+=_==="*"||_==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):P?O+="\\/*$":_!==""&&_!=="/"&&(O+="(?:(?=\\/|$))"),[new RegExp(O,R?void 0:"i"),I]}function decodePath(_){try{return _.split("/").map(R=>decodeURIComponent(R).replace(/\//g,"%2F")).join("/")}catch(R){return warning(!1,`The URL path "${_}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${R}).`),_}}function stripBasename(_,R){if(R==="/")return _;if(!_.toLowerCase().startsWith(R.toLowerCase()))return null;let P=R.endsWith("/")?R.length-1:R.length,I=_.charAt(P);return I&&I!=="/"?null:_.slice(P)||"/"}var ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=_=>ABSOLUTE_URL_REGEX.test(_);function resolvePath(_,R="/"){let{pathname:P,search:I="",hash:O=""}=typeof _=="string"?parsePath(_):_,z;if(P)if(isAbsoluteUrl(P))z=P;else{if(P.includes("//")){let L=P;P=P.replace(/\/\/+/g,"/"),warning(!1,`Pathnames cannot have embedded double slashes - normalizing ${L} -> ${P}`)}P.startsWith("/")?z=resolvePathname(P.substring(1),"/"):z=resolvePathname(P,R)}else z=R;return{pathname:z,search:normalizeSearch(I),hash:normalizeHash(O)}}function resolvePathname(_,R){let P=R.replace(/\/+$/,"").split("/");return _.split("/").forEach(O=>{O===".."?P.length>1&&P.pop():O!=="."&&P.push(O)}),P.length>1?P.join("/"):"/"}function getInvalidPathError(_,R,P,I){return`Cannot include a '${_}' character in a manually specified \`to.${R}\` field [${JSON.stringify(I)}].  Please separate it out to the \`to.${P}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(_){return _.filter((R,P)=>P===0||R.route.path&&R.route.path.length>0)}function getResolveToMatches(_){let R=getPathContributingMatches(_);return R.map((P,I)=>I===R.length-1?P.pathname:P.pathnameBase)}function resolveTo(_,R,P,I=!1){let O;typeof _=="string"?O=parsePath(_):(O={..._},invariant(!O.pathname||!O.pathname.includes("?"),getInvalidPathError("?","pathname","search",O)),invariant(!O.pathname||!O.pathname.includes("#"),getInvalidPathError("#","pathname","hash",O)),invariant(!O.search||!O.search.includes("#"),getInvalidPathError("#","search","hash",O)));let z=_===""||O.pathname==="",L=z?"/":O.pathname,F;if(L==null)F=P;else{let W=R.length-1;if(!I&&L.startsWith("..")){let Y=L.split("/");for(;Y[0]==="..";)Y.shift(),W-=1;O.pathname=Y.join("/")}F=W>=0?R[W]:"/"}let U=resolvePath(O,F),V=L&&L!=="/"&&L.endsWith("/"),q=(z||L===".")&&P.endsWith("/");return!U.pathname.endsWith("/")&&(V||q)&&(U.pathname+="/"),U}var joinPaths=_=>_.join("/").replace(/\/\/+/g,"/"),normalizePathname=_=>_.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_=>!_||_==="?"?"":_.startsWith("?")?_:"?"+_,normalizeHash=_=>!_||_==="#"?"":_.startsWith("#")?_:"#"+_,ErrorResponseImpl=class{constructor(_,R,P,I=!1){this.status=_,this.statusText=R||"",this.internal=I,P instanceof Error?(this.data=P.toString(),this.error=P):this.data=P}};function isRouteErrorResponse(_){return _!=null&&typeof _.status=="number"&&typeof _.statusText=="string"&&typeof _.internal=="boolean"&&"data"in _}function getRoutePattern(_){return _.map(R=>R.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function parseToInfo(_,R){let P=_;if(typeof P!="string"||!ABSOLUTE_URL_REGEX.test(P))return{absoluteURL:void 0,isExternal:!1,to:P};let I=P,O=!1;if(isBrowser)try{let z=new URL(window.location.href),L=P.startsWith("//")?new URL(z.protocol+P):new URL(P),F=stripBasename(L.pathname,R);L.origin===z.origin&&F!=null?P=F+L.search+L.hash:O=!0}catch{warning(!1,`<Link to="${P}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:I,isExternal:O,to:P}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var RSCRouterContext=reactExports.createContext(!1),ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";var ERROR_DIGEST_BASE="REACT_ROUTER_ERROR",ERROR_DIGEST_REDIRECT="REDIRECT",ERROR_DIGEST_ROUTE_ERROR_RESPONSE="ROUTE_ERROR_RESPONSE";function decodeRedirectErrorDigest(_){if(_.startsWith(`${ERROR_DIGEST_BASE}:${ERROR_DIGEST_REDIRECT}:{`))try{let R=JSON.parse(_.slice(28));if(typeof R=="object"&&R&&typeof R.status=="number"&&typeof R.statusText=="string"&&typeof R.location=="string"&&typeof R.reloadDocument=="boolean"&&typeof R.replace=="boolean")return R}catch{}}function decodeRouteErrorResponseDigest(_){if(_.startsWith(`${ERROR_DIGEST_BASE}:${ERROR_DIGEST_ROUTE_ERROR_RESPONSE}:{`))try{let R=JSON.parse(_.slice(40));if(typeof R=="object"&&R&&typeof R.status=="number"&&typeof R.statusText=="string")return new ErrorResponseImpl(R.status,R.statusText,R.data)}catch{}}function useHref(_,{relative:R}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:P,navigator:I}=reactExports.useContext(NavigationContext),{hash:O,pathname:z,search:L}=useResolvedPath(_,{relative:R}),F=z;return P!=="/"&&(F=z==="/"?P:joinPaths([P,z])),I.createHref({pathname:F,search:L,hash:O})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(_){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_)}function useNavigate(){let{isDataRoute:_}=reactExports.useContext(RouteContext);return _?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let _=reactExports.useContext(DataRouterContext),{basename:R,navigator:P}=reactExports.useContext(NavigationContext),{matches:I}=reactExports.useContext(RouteContext),{pathname:O}=useLocation(),z=JSON.stringify(getResolveToMatches(I)),L=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{L.current=!0}),reactExports.useCallback((U,V={})=>{if(warning(L.current,navigateEffectWarning),!L.current)return;if(typeof U=="number"){P.go(U);return}let q=resolveTo(U,JSON.parse(z),O,V.relative==="path");_==null&&R!=="/"&&(q.pathname=q.pathname==="/"?R:joinPaths([R,q.pathname])),(V.replace?P.replace:P.push)(q,V.state,V)},[R,P,z,O,_])}reactExports.createContext(null);function useResolvedPath(_,{relative:R}={}){let{matches:P}=reactExports.useContext(RouteContext),{pathname:I}=useLocation(),O=JSON.stringify(getResolveToMatches(P));return reactExports.useMemo(()=>resolveTo(_,JSON.parse(O),I,R==="path"),[_,O,I,R])}function useRoutes(_,R){return useRoutesImpl(_,R)}function useRoutesImpl(_,R,P,I,O){invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:z}=reactExports.useContext(NavigationContext),{matches:L}=reactExports.useContext(RouteContext),F=L[L.length-1],U=F?F.params:{},V=F?F.pathname:"/",q=F?F.pathnameBase:"/",W=F&&F.route;{let se=W&&W.path||"";warningOnce(V,!W||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${V}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let Y=useLocation(),Q;if(R){let se=typeof R=="string"?parsePath(R):R;invariant(q==="/"||se.pathname?.startsWith(q),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${q}" but pathname "${se.pathname}" was given in the \`location\` prop.`),Q=se}else Q=Y;let ee=Q.pathname||"/",te=ee;if(q!=="/"){let se=q.replace(/^\//,"").split("/");te="/"+ee.replace(/^\//,"").split("/").slice(se.length).join("/")}let ie=matchRoutes(_,{pathname:te});warning(W||ie!=null,`No routes matched location "${Q.pathname}${Q.search}${Q.hash}" `),warning(ie==null||ie[ie.length-1].route.element!==void 0||ie[ie.length-1].route.Component!==void 0||ie[ie.length-1].route.lazy!==void 0,`Matched leaf route at location "${Q.pathname}${Q.search}${Q.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ae=_renderMatches(ie&&ie.map(se=>Object.assign({},se,{params:Object.assign({},U,se.params),pathname:joinPaths([q,z.encodeLocation?z.encodeLocation(se.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?q:joinPaths([q,z.encodeLocation?z.encodeLocation(se.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathnameBase])})),L,P,I,O);return R&&ae?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Q},navigationType:"POP"}},ae):ae}function DefaultErrorComponent(){let _=useRouteError(),R=isRouteErrorResponse(_)?`${_.status} ${_.statusText}`:_ instanceof Error?_.message:JSON.stringify(_),P=_ instanceof Error?_.stack:null,I="rgba(200,200,200, 0.5)",O={padding:"0.5rem",backgroundColor:I},z={padding:"2px 4px",backgroundColor:I},L=null;return console.error("Error handled by React Router default ErrorBoundary:",_),L=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:z},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:z},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},R),P?reactExports.createElement("pre",{style:O},P):null,L)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(_){super(_),this.state={location:_.location,revalidation:_.revalidation,error:_.error}}static getDerivedStateFromError(_){return{error:_}}static getDerivedStateFromProps(_,R){return R.location!==_.location||R.revalidation!=="idle"&&_.revalidation==="idle"?{error:_.error,location:_.location,revalidation:_.revalidation}:{error:_.error!==void 0?_.error:R.error,location:R.location,revalidation:_.revalidation||R.revalidation}}componentDidCatch(_,R){this.props.onError?this.props.onError(_,R):console.error("React Router caught the following error during render",_)}render(){let _=this.state.error;if(this.context&&typeof _=="object"&&_&&"digest"in _&&typeof _.digest=="string"){const P=decodeRouteErrorResponseDigest(_.digest);P&&(_=P)}let R=_!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:_,children:this.props.component})):this.props.children;return this.context?reactExports.createElement(RSCErrorHandler,{error:_},R):R}};RenderErrorBoundary.contextType=RSCRouterContext;var errorRedirectHandledMap=new WeakMap;function RSCErrorHandler({children:_,error:R}){let{basename:P}=reactExports.useContext(NavigationContext);if(typeof R=="object"&&R&&"digest"in R&&typeof R.digest=="string"){let I=decodeRedirectErrorDigest(R.digest);if(I){let O=errorRedirectHandledMap.get(R);if(O)throw O;let z=parseToInfo(I.location,P);if(isBrowser&&!errorRedirectHandledMap.get(R))if(z.isExternal||I.reloadDocument)window.location.href=z.absoluteURL||z.to;else{const L=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(z.to,{replace:I.replace}));throw errorRedirectHandledMap.set(R,L),L}return reactExports.createElement("meta",{httpEquiv:"refresh",content:`0;url=${z.absoluteURL||z.to}`})}}return _}function RenderedRoute({routeContext:_,match:R,children:P}){let I=reactExports.useContext(DataRouterContext);return I&&I.static&&I.staticContext&&(R.route.errorElement||R.route.ErrorBoundary)&&(I.staticContext._deepestRenderedBoundaryId=R.route.id),reactExports.createElement(RouteContext.Provider,{value:_},P)}function _renderMatches(_,R=[],P=null,I=null,O=null){if(_==null){if(!P)return null;if(P.errors)_=P.matches;else if(R.length===0&&!P.initialized&&P.matches.length>0)_=P.matches;else return null}let z=_,L=P?.errors;if(L!=null){let q=z.findIndex(W=>W.route.id&&L?.[W.route.id]!==void 0);invariant(q>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(L).join(",")}`),z=z.slice(0,Math.min(z.length,q+1))}let F=!1,U=-1;if(P)for(let q=0;q<z.length;q++){let W=z[q];if((W.route.HydrateFallback||W.route.hydrateFallbackElement)&&(U=q),W.route.id){let{loaderData:Y,errors:Q}=P,ee=W.route.loader&&!Y.hasOwnProperty(W.route.id)&&(!Q||Q[W.route.id]===void 0);if(W.route.lazy||ee){F=!0,U>=0?z=z.slice(0,U+1):z=[z[0]];break}}}let V=P&&I?(q,W)=>{I(q,{location:P.location,params:P.matches?.[0]?.params??{},unstable_pattern:getRoutePattern(P.matches),errorInfo:W})}:void 0;return z.reduceRight((q,W,Y)=>{let Q,ee=!1,te=null,ie=null;P&&(Q=L&&W.route.id?L[W.route.id]:void 0,te=W.route.errorElement||defaultErrorElement,F&&(U<0&&Y===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),ee=!0,ie=null):U===Y&&(ee=!0,ie=W.route.hydrateFallbackElement||null)));let ae=R.concat(z.slice(0,Y+1)),se=()=>{let le;return Q?le=te:ee?le=ie:W.route.Component?le=reactExports.createElement(W.route.Component,null):W.route.element?le=W.route.element:le=q,reactExports.createElement(RenderedRoute,{match:W,routeContext:{outlet:q,matches:ae,isDataRoute:P!=null},children:le})};return P&&(W.route.ErrorBoundary||W.route.errorElement||Y===0)?reactExports.createElement(RenderErrorBoundary,{location:P.location,revalidation:P.revalidation,component:te,error:Q,children:se(),routeContext:{outlet:null,matches:ae,isDataRoute:!0},onError:V}):se()},null)}function getDataRouterConsoleError(_){return`${_} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(_){let R=reactExports.useContext(DataRouterContext);return invariant(R,getDataRouterConsoleError(_)),R}function useDataRouterState(_){let R=reactExports.useContext(DataRouterStateContext);return invariant(R,getDataRouterConsoleError(_)),R}function useRouteContext(_){let R=reactExports.useContext(RouteContext);return invariant(R,getDataRouterConsoleError(_)),R}function useCurrentRouteId(_){let R=useRouteContext(_),P=R.matches[R.matches.length-1];return invariant(P.route.id,`${_} can only be used on routes that contain a unique "id"`),P.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let _=reactExports.useContext(RouteErrorContext),R=useDataRouterState("useRouteError"),P=useCurrentRouteId("useRouteError");return _!==void 0?_:R.errors?.[P]}function useNavigateStable(){let{router:_}=useDataRouterContext("useNavigate"),R=useCurrentRouteId("useNavigate"),P=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{P.current=!0}),reactExports.useCallback(async(O,z={})=>{warning(P.current,navigateEffectWarning),P.current&&(typeof O=="number"?await _.navigate(O):await _.navigate(O,{fromRouteId:R,...z}))},[_,R])}var alreadyWarned={};function warningOnce(_,R,P){!R&&!alreadyWarned[_]&&(alreadyWarned[_]=!0,warning(!1,P))}reactExports.memo(DataRoutes);function DataRoutes({routes:_,future:R,state:P,onError:I}){return useRoutesImpl(_,void 0,P,I,R)}function Route(_){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:_="/",children:R=null,location:P,navigationType:I="POP",navigator:O,static:z=!1,unstable_useTransitions:L}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let F=_.replace(/^\/*/,"/"),U=reactExports.useMemo(()=>({basename:F,navigator:O,static:z,unstable_useTransitions:L,future:{}}),[F,O,z,L]);typeof P=="string"&&(P=parsePath(P));let{pathname:V="/",search:q="",hash:W="",state:Y=null,key:Q="default"}=P,ee=reactExports.useMemo(()=>{let te=stripBasename(V,F);return te==null?null:{location:{pathname:te,search:q,hash:W,state:Y,key:Q},navigationType:I}},[F,V,q,W,Y,Q,I]);return warning(ee!=null,`<Router basename="${F}"> is not able to match the URL "${V}${q}${W}" because it does not start with the basename, so the <Router> won't render anything.`),ee==null?null:reactExports.createElement(NavigationContext.Provider,{value:U},reactExports.createElement(LocationContext.Provider,{children:R,value:ee}))}function Routes({children:_,location:R}){return useRoutes(createRoutesFromChildren(_),R)}function createRoutesFromChildren(_,R=[]){let P=[];return reactExports.Children.forEach(_,(I,O)=>{if(!reactExports.isValidElement(I))return;let z=[...R,O];if(I.type===reactExports.Fragment){P.push.apply(P,createRoutesFromChildren(I.props.children,z));return}invariant(I.type===Route,`[${typeof I.type=="string"?I.type:I.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!I.props.index||!I.props.children,"An index route cannot have child routes.");let L={id:I.props.id||z.join("-"),caseSensitive:I.props.caseSensitive,element:I.props.element,Component:I.props.Component,index:I.props.index,path:I.props.path,middleware:I.props.middleware,loader:I.props.loader,action:I.props.action,hydrateFallbackElement:I.props.hydrateFallbackElement,HydrateFallback:I.props.HydrateFallback,errorElement:I.props.errorElement,ErrorBoundary:I.props.ErrorBoundary,hasErrorBoundary:I.props.hasErrorBoundary===!0||I.props.ErrorBoundary!=null||I.props.errorElement!=null,shouldRevalidate:I.props.shouldRevalidate,handle:I.props.handle,lazy:I.props.lazy};I.props.children&&(L.children=createRoutesFromChildren(I.props.children,z)),P.push(L)}),P}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(_){return typeof HTMLElement<"u"&&_ instanceof HTMLElement}function isButtonElement(_){return isHtmlElement(_)&&_.tagName.toLowerCase()==="button"}function isFormElement(_){return isHtmlElement(_)&&_.tagName.toLowerCase()==="form"}function isInputElement(_){return isHtmlElement(_)&&_.tagName.toLowerCase()==="input"}function isModifiedEvent(_){return!!(_.metaKey||_.altKey||_.ctrlKey||_.shiftKey)}function shouldProcessLinkClick(_,R){return _.button===0&&(!R||R==="_self")&&!isModifiedEvent(_)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(_){return _!=null&&!supportedFormEncTypes.has(_)?(warning(!1,`"${_}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):_}function getFormSubmissionInfo(_,R){let P,I,O,z,L;if(isFormElement(_)){let F=_.getAttribute("action");I=F?stripBasename(F,R):null,P=_.getAttribute("method")||defaultMethod,O=getFormEncType(_.getAttribute("enctype"))||defaultEncType,z=new FormData(_)}else if(isButtonElement(_)||isInputElement(_)&&(_.type==="submit"||_.type==="image")){let F=_.form;if(F==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let U=_.getAttribute("formaction")||F.getAttribute("action");if(I=U?stripBasename(U,R):null,P=_.getAttribute("formmethod")||F.getAttribute("method")||defaultMethod,O=getFormEncType(_.getAttribute("formenctype"))||getFormEncType(F.getAttribute("enctype"))||defaultEncType,z=new FormData(F,_),!isFormDataSubmitterSupported()){let{name:V,type:q,value:W}=_;if(q==="image"){let Y=V?`${V}.`:"";z.append(`${Y}x`,"0"),z.append(`${Y}y`,"0")}else V&&z.append(V,W)}}else{if(isHtmlElement(_))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');P=defaultMethod,I=null,O=defaultEncType,L=_}return z&&O==="text/plain"&&(L=z,z=void 0),{action:I,method:P.toLowerCase(),encType:O,formData:z,body:L}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(_,R){if(_===!1||_===null||typeof _>"u")throw new Error(R)}function singleFetchUrl(_,R,P,I){let O=typeof _=="string"?new URL(_,typeof window>"u"?"server://singlefetch/":window.location.origin):_;return P?O.pathname.endsWith("/")?O.pathname=`${O.pathname}_.${I}`:O.pathname=`${O.pathname}.${I}`:O.pathname==="/"?O.pathname=`_root.${I}`:R&&stripBasename(O.pathname,R)==="/"?O.pathname=`${R.replace(/\/$/,"")}/_root.${I}`:O.pathname=`${O.pathname.replace(/\/$/,"")}.${I}`,O}async function loadRouteModule(_,R){if(_.id in R)return R[_.id];try{let P=await import(_.module);return R[_.id]=P,P}catch(P){return console.error(`Error loading route module \`${_.module}\`, reloading page...`),console.error(P),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(_){return _==null?!1:_.href==null?_.rel==="preload"&&typeof _.imageSrcSet=="string"&&typeof _.imageSizes=="string":typeof _.rel=="string"&&typeof _.href=="string"}async function getKeyedPrefetchLinks(_,R,P){let I=await Promise.all(_.map(async O=>{let z=R.routes[O.route.id];if(z){let L=await loadRouteModule(z,P);return L.links?L.links():[]}return[]}));return dedupeLinkDescriptors(I.flat(1).filter(isHtmlLinkDescriptor).filter(O=>O.rel==="stylesheet"||O.rel==="preload").map(O=>O.rel==="stylesheet"?{...O,rel:"prefetch",as:"style"}:{...O,rel:"prefetch"}))}function getNewMatchesForLinks(_,R,P,I,O,z){let L=(U,V)=>P[V]?U.route.id!==P[V].route.id:!0,F=(U,V)=>P[V].pathname!==U.pathname||P[V].route.path?.endsWith("*")&&P[V].params["*"]!==U.params["*"];return z==="assets"?R.filter((U,V)=>L(U,V)||F(U,V)):z==="data"?R.filter((U,V)=>{let q=I.routes[U.route.id];if(!q||!q.hasLoader)return!1;if(L(U,V)||F(U,V))return!0;if(U.route.shouldRevalidate){let W=U.route.shouldRevalidate({currentUrl:new URL(O.pathname+O.search+O.hash,window.origin),currentParams:P[0]?.params||{},nextUrl:new URL(_,window.origin),nextParams:U.params,defaultShouldRevalidate:!0});if(typeof W=="boolean")return W}return!0}):[]}function getModuleLinkHrefs(_,R,{includeHydrateFallback:P}={}){return dedupeHrefs(_.map(I=>{let O=R.routes[I.route.id];if(!O)return[];let z=[O.module];return O.clientActionModule&&(z=z.concat(O.clientActionModule)),O.clientLoaderModule&&(z=z.concat(O.clientLoaderModule)),P&&O.hydrateFallbackModule&&(z=z.concat(O.hydrateFallbackModule)),O.imports&&(z=z.concat(O.imports)),z}).flat(1))}function dedupeHrefs(_){return[...new Set(_)]}function sortKeys(_){let R={},P=Object.keys(_).sort();for(let I of P)R[I]=_[I];return R}function dedupeLinkDescriptors(_,R){let P=new Set;return new Set(R),_.reduce((I,O)=>{let z=JSON.stringify(sortKeys(O));return P.has(z)||(P.add(z),I.push({key:z,link:O})),I},[])}function useDataRouterContext2(){let _=reactExports.useContext(DataRouterContext);return invariant2(_,"You must render this element inside a <DataRouterContext.Provider> element"),_}function useDataRouterStateContext(){let _=reactExports.useContext(DataRouterStateContext);return invariant2(_,"You must render this element inside a <DataRouterStateContext.Provider> element"),_}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let _=reactExports.useContext(FrameworkContext);return invariant2(_,"You must render this element inside a <HydratedRouter> element"),_}function usePrefetchBehavior(_,R){let P=reactExports.useContext(FrameworkContext),[I,O]=reactExports.useState(!1),[z,L]=reactExports.useState(!1),{onFocus:F,onBlur:U,onMouseEnter:V,onMouseLeave:q,onTouchStart:W}=R,Y=reactExports.useRef(null);reactExports.useEffect(()=>{if(_==="render"&&L(!0),_==="viewport"){let te=ae=>{ae.forEach(se=>{L(se.isIntersecting)})},ie=new IntersectionObserver(te,{threshold:.5});return Y.current&&ie.observe(Y.current),()=>{ie.disconnect()}}},[_]),reactExports.useEffect(()=>{if(I){let te=setTimeout(()=>{L(!0)},100);return()=>{clearTimeout(te)}}},[I]);let Q=()=>{O(!0)},ee=()=>{O(!1),L(!1)};return P?_!=="intent"?[z,Y,{}]:[z,Y,{onFocus:composeEventHandlers(F,Q),onBlur:composeEventHandlers(U,ee),onMouseEnter:composeEventHandlers(V,Q),onMouseLeave:composeEventHandlers(q,ee),onTouchStart:composeEventHandlers(W,Q)}]:[!1,Y,{}]}function composeEventHandlers(_,R){return P=>{_&&_(P),P.defaultPrevented||R(P)}}function PrefetchPageLinks({page:_,...R}){let{router:P}=useDataRouterContext2(),I=reactExports.useMemo(()=>matchRoutes(P.routes,_,P.basename),[P.routes,_,P.basename]);return I?reactExports.createElement(PrefetchPageLinksImpl,{page:_,matches:I,...R}):null}function useKeyedPrefetchLinks(_){let{manifest:R,routeModules:P}=useFrameworkContext(),[I,O]=reactExports.useState([]);return reactExports.useEffect(()=>{let z=!1;return getKeyedPrefetchLinks(_,R,P).then(L=>{z||O(L)}),()=>{z=!0}},[_,R,P]),I}function PrefetchPageLinksImpl({page:_,matches:R,...P}){let I=useLocation(),{future:O,manifest:z,routeModules:L}=useFrameworkContext(),{basename:F}=useDataRouterContext2(),{loaderData:U,matches:V}=useDataRouterStateContext(),q=reactExports.useMemo(()=>getNewMatchesForLinks(_,R,V,z,I,"data"),[_,R,V,z,I]),W=reactExports.useMemo(()=>getNewMatchesForLinks(_,R,V,z,I,"assets"),[_,R,V,z,I]),Y=reactExports.useMemo(()=>{if(_===I.pathname+I.search+I.hash)return[];let te=new Set,ie=!1;if(R.forEach(se=>{let le=z.routes[se.route.id];!le||!le.hasLoader||(!q.some(ce=>ce.route.id===se.route.id)&&se.route.id in U&&L[se.route.id]?.shouldRevalidate||le.hasClientLoader?ie=!0:te.add(se.route.id))}),te.size===0)return[];let ae=singleFetchUrl(_,F,O.unstable_trailingSlashAwareDataRequests,"data");return ie&&te.size>0&&ae.searchParams.set("_routes",R.filter(se=>te.has(se.route.id)).map(se=>se.route.id).join(",")),[ae.pathname+ae.search]},[F,O.unstable_trailingSlashAwareDataRequests,U,I,z,q,R,_,L]),Q=reactExports.useMemo(()=>getModuleLinkHrefs(W,z),[W,z]),ee=useKeyedPrefetchLinks(W);return reactExports.createElement(reactExports.Fragment,null,Y.map(te=>reactExports.createElement("link",{key:te,rel:"prefetch",as:"fetch",href:te,...P})),Q.map(te=>reactExports.createElement("link",{key:te,rel:"modulepreload",href:te,...P})),ee.map(({key:te,link:ie})=>reactExports.createElement("link",{key:te,nonce:P.nonce,...ie})))}function mergeRefs(..._){return R=>{_.forEach(P=>{typeof P=="function"?P(R):P!=null&&(P.current=R)})}}var isBrowser2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser2&&(window.__reactRouterVersion="7.12.0")}catch(_){}function HashRouter({basename:_,children:R,unstable_useTransitions:P,window:I}){let O=reactExports.useRef();O.current==null&&(O.current=createHashHistory({window:I,v5Compat:!0}));let z=O.current,[L,F]=reactExports.useState({action:z.action,location:z.location}),U=reactExports.useCallback(V=>{P===!1?F(V):reactExports.startTransition(()=>F(V))},[P]);return reactExports.useLayoutEffect(()=>z.listen(U),[z,U]),reactExports.createElement(Router,{basename:_,children:R,location:L.location,navigationType:L.action,navigator:z,unstable_useTransitions:P})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function _({onClick:R,discover:P="render",prefetch:I="none",relative:O,reloadDocument:z,replace:L,state:F,target:U,to:V,preventScrollReset:q,viewTransition:W,unstable_defaultShouldRevalidate:Y,...Q},ee){let{basename:te,unstable_useTransitions:ie}=reactExports.useContext(NavigationContext),ae=typeof V=="string"&&ABSOLUTE_URL_REGEX2.test(V),se=parseToInfo(V,te);V=se.to;let le=useHref(V,{relative:O}),[ce,fe,de]=usePrefetchBehavior(I,Q),he=useLinkClickHandler(V,{replace:L,state:F,target:U,preventScrollReset:q,relative:O,viewTransition:W,unstable_defaultShouldRevalidate:Y,unstable_useTransitions:ie});function pe(be){R&&R(be),be.defaultPrevented||he(be)}let ge=reactExports.createElement("a",{...Q,...de,href:se.absoluteURL||le,onClick:se.isExternal||z?R:pe,ref:mergeRefs(ee,fe),target:U,"data-discover":!ae&&P==="render"?"true":void 0});return ce&&!ae?reactExports.createElement(reactExports.Fragment,null,ge,reactExports.createElement(PrefetchPageLinks,{page:le})):ge});Link$1.displayName="Link";var NavLink=reactExports.forwardRef(function _({"aria-current":R="page",caseSensitive:P=!1,className:I="",end:O=!1,style:z,to:L,viewTransition:F,children:U,...V},q){let W=useResolvedPath(L,{relative:V.relative}),Y=useLocation(),Q=reactExports.useContext(DataRouterStateContext),{navigator:ee,basename:te}=reactExports.useContext(NavigationContext),ie=Q!=null&&useViewTransitionState(W)&&F===!0,ae=ee.encodeLocation?ee.encodeLocation(W).pathname:W.pathname,se=Y.pathname,le=Q&&Q.navigation&&Q.navigation.location?Q.navigation.location.pathname:null;P||(se=se.toLowerCase(),le=le?le.toLowerCase():null,ae=ae.toLowerCase()),le&&te&&(le=stripBasename(le,te)||le);const ce=ae!=="/"&&ae.endsWith("/")?ae.length-1:ae.length;let fe=se===ae||!O&&se.startsWith(ae)&&se.charAt(ce)==="/",de=le!=null&&(le===ae||!O&&le.startsWith(ae)&&le.charAt(ae.length)==="/"),he={isActive:fe,isPending:de,isTransitioning:ie},pe=fe?R:void 0,ge;typeof I=="function"?ge=I(he):ge=[I,fe?"active":null,de?"pending":null,ie?"transitioning":null].filter(Boolean).join(" ");let be=typeof z=="function"?z(he):z;return reactExports.createElement(Link$1,{...V,"aria-current":pe,className:ge,ref:q,style:be,to:L,viewTransition:F},typeof U=="function"?U(he):U)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:_="render",fetcherKey:R,navigate:P,reloadDocument:I,replace:O,state:z,method:L=defaultMethod,action:F,onSubmit:U,relative:V,preventScrollReset:q,viewTransition:W,unstable_defaultShouldRevalidate:Y,...Q},ee)=>{let{unstable_useTransitions:te}=reactExports.useContext(NavigationContext),ie=useSubmit(),ae=useFormAction(F,{relative:V}),se=L.toLowerCase()==="get"?"get":"post",le=typeof F=="string"&&ABSOLUTE_URL_REGEX2.test(F),ce=fe=>{if(U&&U(fe),fe.defaultPrevented)return;fe.preventDefault();let de=fe.nativeEvent.submitter,he=de?.getAttribute("formmethod")||L,pe=()=>ie(de||fe.currentTarget,{fetcherKey:R,method:he,navigate:P,replace:O,state:z,relative:V,preventScrollReset:q,viewTransition:W,unstable_defaultShouldRevalidate:Y});te&&P!==!1?reactExports.startTransition(()=>pe()):pe()};return reactExports.createElement("form",{ref:ee,method:se,action:ae,onSubmit:I?U:ce,...Q,"data-discover":!le&&_==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(_){return`${_} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(_){let R=reactExports.useContext(DataRouterContext);return invariant(R,getDataRouterConsoleError2(_)),R}function useLinkClickHandler(_,{target:R,replace:P,state:I,preventScrollReset:O,relative:z,viewTransition:L,unstable_defaultShouldRevalidate:F,unstable_useTransitions:U}={}){let V=useNavigate(),q=useLocation(),W=useResolvedPath(_,{relative:z});return reactExports.useCallback(Y=>{if(shouldProcessLinkClick(Y,R)){Y.preventDefault();let Q=P!==void 0?P:createPath(q)===createPath(W),ee=()=>V(_,{replace:Q,state:I,preventScrollReset:O,relative:z,viewTransition:L,unstable_defaultShouldRevalidate:F});U?reactExports.startTransition(()=>ee()):ee()}},[q,V,W,P,I,R,_,O,z,L,F,U])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:_}=useDataRouterContext3("useSubmit"),{basename:R}=reactExports.useContext(NavigationContext),P=useRouteId(),I=_.fetch,O=_.navigate;return reactExports.useCallback(async(z,L={})=>{let{action:F,method:U,encType:V,formData:q,body:W}=getFormSubmissionInfo(z,R);if(L.navigate===!1){let Y=L.fetcherKey||getUniqueFetcherId();await I(Y,P,L.action||F,{unstable_defaultShouldRevalidate:L.unstable_defaultShouldRevalidate,preventScrollReset:L.preventScrollReset,formData:q,body:W,formMethod:L.method||U,formEncType:L.encType||V,flushSync:L.flushSync})}else await O(L.action||F,{unstable_defaultShouldRevalidate:L.unstable_defaultShouldRevalidate,preventScrollReset:L.preventScrollReset,formData:q,body:W,formMethod:L.method||U,formEncType:L.encType||V,replace:L.replace,state:L.state,fromRouteId:P,flushSync:L.flushSync,viewTransition:L.viewTransition})},[I,O,R,P])}function useFormAction(_,{relative:R}={}){let{basename:P}=reactExports.useContext(NavigationContext),I=reactExports.useContext(RouteContext);invariant(I,"useFormAction must be used inside a RouteContext");let[O]=I.matches.slice(-1),z={...useResolvedPath(_||".",{relative:R})},L=useLocation();if(_==null){z.search=L.search;let F=new URLSearchParams(z.search),U=F.getAll("index");if(U.some(q=>q==="")){F.delete("index"),U.filter(W=>W).forEach(W=>F.append("index",W));let q=F.toString();z.search=q?`?${q}`:""}}return(!_||_===".")&&O.route.index&&(z.search=z.search?z.search.replace(/^\?/,"?index&"):"?index"),P!=="/"&&(z.pathname=z.pathname==="/"?P:joinPaths([P,z.pathname])),createPath(z)}function useViewTransitionState(_,{relative:R}={}){let P=reactExports.useContext(ViewTransitionContext);invariant(P!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:I}=useDataRouterContext3("useViewTransitionState"),O=useResolvedPath(_,{relative:R});if(!P.isTransitioning)return!1;let z=stripBasename(P.currentLocation.pathname,I)||P.currentLocation.pathname,L=stripBasename(P.nextLocation.pathname,I)||P.nextLocation.pathname;return matchPath(O.pathname,L)!=null||matchPath(O.pathname,z)!=null}const ModelContext=reactExports.createContext(void 0);function ModelProvider({children:_}){const R=modelRegistry.getModelNames(),P=modelRegistry.getDefault()||(R.length>0?modelRegistry.get(R[0]):void 0);if(!P)throw new Error("No models registered. Import @/models to register models.");const[I,O]=reactExports.useState(P),[z,L]=reactExports.useState(P.defaultParams),F=reactExports.useCallback(V=>{const q=modelRegistry.get(V);q?(O(q),L(q.defaultParams)):console.warn(`Model "${V}" not found in registry`)},[]),U=reactExports.useCallback(V=>{L(V)},[]);return jsxRuntimeExports.jsx(ModelContext.Provider,{value:{currentModel:I,currentParams:z,setModel:F,setParams:U,availableModels:R},children:_})}function useModel(){const _=reactExports.useContext(ModelContext);if(!_)throw new Error("useModel must be used within a ModelProvider");return _}function ModelSelector(){const{currentModel:_,setModel:R,availableModels:P}=useModel();return P.length<=1?null:jsxRuntimeExports.jsxs(Select,{value:_.id,onValueChange:R,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[180px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select model"})}),jsxRuntimeExports.jsx(SelectContent,{children:P.map(I=>{const O=modelRegistry.get(I),z=O?O.version:"",L=O?.name||I;return jsxRuntimeExports.jsxs(SelectItem,{value:I,children:[L," ",z&&`v${z}`]},I)})})]})}function Header$1({isDark:_,onToggleTheme:R}){return jsxRuntimeExports.jsx("header",{className:"border-b bg-card",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold",children:"Simulator"}),jsxRuntimeExports.jsx(ModelSelector,{}),jsxRuntimeExports.jsx(Link$1,{to:"/docs",className:"text-sm text-muted-foreground hover:text-foreground",children:"Documentation"})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:R,"aria-label":"Toggle theme",children:_?jsxRuntimeExports.jsx(Sun,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(Moon,{className:"h-5 w-5"})})]})})}const ThemeContext=reactExports.createContext(void 0);function ThemeProvider({children:_}){const[R,P]=reactExports.useState(()=>typeof window<"u"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1);reactExports.useEffect(()=>{document.documentElement.classList.toggle("dark",R)},[R]);const I=()=>P(O=>!O);return jsxRuntimeExports.jsx(ThemeContext.Provider,{value:{isDark:R,toggleTheme:I},children:_})}function useTheme(){const _=reactExports.useContext(ThemeContext);if(!_)throw new Error("useTheme must be used within a ThemeProvider");return _}const MessagesContext=reactExports.createContext(null);let messageIdCounter=0;function MessagesProvider({children:_}){const[R,P]=reactExports.useState([]),I=reactExports.useCallback((z,L="info")=>{const F={id:messageIdCounter++,type:L,text:z,timestamp:new Date};P(U=>[...U,F])},[]),O=reactExports.useCallback(()=>{P([])},[]);return jsxRuntimeExports.jsx(MessagesContext.Provider,{value:{messages:R,addMessage:I,clearMessages:O},children:_})}function AppLayoutInner({children:_}){const{isDark:R,toggleTheme:P}=useTheme();return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col bg-background text-foreground",children:[jsxRuntimeExports.jsx(Header$1,{isDark:R,onToggleTheme:P}),jsxRuntimeExports.jsx("main",{className:"flex-1 container mx-auto px-4 py-4",children:_})]})}function AppLayout({children:_}){return jsxRuntimeExports.jsx(ThemeProvider,{children:jsxRuntimeExports.jsx(AppLayoutInner,{children:_})})}class SimulationRenderer{app;mainContainer;cellsContainer;linksContainer;overlayContainer;uiContainer;isDark;renderOptions={};model=null;params=null;scale=1;centerX=0;centerY=0;constructor(R){this.isDark=R.isDark??!1,this.app=new Application,this.linksContainer=new Container,this.cellsContainer=new Container,this.overlayContainer=new Container,this.mainContainer=new Container,this.uiContainer=new Container,this.mainContainer.addChild(this.linksContainer),this.mainContainer.addChild(this.cellsContainer),this.mainContainer.addChild(this.overlayContainer)}async init(R){const P=this.model?.renderer.getBackgroundColor(this.isDark)??16777215;await this.app.init({canvas:R,width:R.width,height:R.height,backgroundColor:P,antialias:!0,resolution:typeof window<"u"&&window.devicePixelRatio||1,autoDensity:!0,preserveDrawingBuffer:!0}),this.app.stage.addChild(this.mainContainer),this.app.stage.addChild(this.uiContainer)}setModel(R){this.model=R;const P=R.renderer.getBackgroundColor(this.isDark);this.app.renderer&&(this.app.renderer.background.color=P)}setParams(R){this.params=R,this.updateViewport()}setDarkMode(R){if(this.isDark=R,this.model&&this.app.renderer){const P=this.model.renderer.getBackgroundColor(R);this.app.renderer.background.color=P}}setRenderOptions(R){this.renderOptions=R}resize(R,P){this.app.renderer&&(this.app.renderer.resize(R,P),this.updateViewport())}updateViewport(){if(!this.model||!this.params||!this.app.renderer)return;const R=this.app.renderer.width,P=this.app.renderer.height,I=this.model.renderer.getBoundingBox(this.params,void 0),O=.1,z=(I.maxX-I.minX)*(1+2*O),L=(I.maxY-I.minY)*(1+2*O);this.centerX=(I.minX+I.maxX)/2,this.centerY=(I.minY+I.maxY)/2;const F=R/z,U=P/L;this.scale=Math.min(F,U),this.mainContainer.scale.set(this.scale,-this.scale),this.mainContainer.position.set(R/2-this.centerX*this.scale,P/2+this.centerY*this.scale)}render(R){if(!this.model||!this.params)return;this.cellsContainer.removeChildren(),this.linksContainer.removeChildren(),this.overlayContainer.removeChildren(),this.uiContainer.removeChildren();const P=new Graphics,I=new Graphics,O=new Graphics;this.cellsContainer.addChild(P),this.linksContainer.addChild(I),this.overlayContainer.addChild(O);const z=this.app.renderer?.width??800,L=this.app.renderer?.height??600,F={graphics:{cells:P,links:I,overlay:O},uiContainer:this.uiContainer,isDark:this.isDark,scale:this.scale,viewportCenter:{x:this.centerX,y:this.centerY},canvasSize:{width:z,height:L},renderOptions:this.renderOptions};this.model.renderer.render(F,R,this.params),this.renderOptions.showScaleBar!==!1&&this.drawScaleBar()}drawScaleBar(){if(!this.app.renderer)return;const R=this.app.renderer.width,P=this.app.renderer.height,O=2*this.scale,z=20,L=R-z-O,F=P-z-10,U=this.isDark?11579600:6579300,V=this.isDark?11581695:5263520,q=new Graphics;q.moveTo(L,F),q.lineTo(L+O,F),q.stroke({color:U,alpha:1,width:2}),q.moveTo(L,F-5),q.lineTo(L,F+5),q.moveTo(L+O,F-5),q.lineTo(L+O,F+5),q.stroke({color:U,alpha:1,width:2}),this.uiContainer.addChild(q);const W=new TextStyle({fontFamily:"monospace",fontSize:12,fill:V}),Y=new Text$1({text:"10 m",style:W});Y.anchor.set(.5,0),Y.position.set(L+O/2,F+8),this.uiContainer.addChild(Y)}getApp(){return this.app}destroy(){this.app.destroy(!0)}}var __accessCheck$1=(_,R,P)=>{if(!R.has(_))throw TypeError("Cannot "+P)},__privateGet$1=(_,R,P)=>(__accessCheck$1(_,R,"read from private field"),P?P.call(_):R.get(_)),__privateAdd$1=(_,R,P)=>{if(R.has(_))throw TypeError("Cannot add the same private member more than once");R instanceof WeakSet?R.add(_):R.set(_,P)},__privateSet$1=(_,R,P,I)=>(__accessCheck$1(_,R,"write to private field"),R.set(_,P),P),__privateWrapper=(_,R,P,I)=>({set _(O){__privateSet$1(_,R,O)},get _(){return __privateGet$1(_,R,I)}}),__privateMethod$1=(_,R,P)=>(__accessCheck$1(_,R,"access private method"),P),bytes=new Uint8Array(8),view=new DataView(bytes.buffer),u8=_=>[(_%256+256)%256],u16=_=>(view.setUint16(0,_,!1),[bytes[0],bytes[1]]),i16=_=>(view.setInt16(0,_,!1),[bytes[0],bytes[1]]),u24=_=>(view.setUint32(0,_,!1),[bytes[1],bytes[2],bytes[3]]),u32=_=>(view.setUint32(0,_,!1),[bytes[0],bytes[1],bytes[2],bytes[3]]),i32=_=>(view.setInt32(0,_,!1),[bytes[0],bytes[1],bytes[2],bytes[3]]),u64=_=>(view.setUint32(0,Math.floor(_/2**32),!1),view.setUint32(4,_,!1),[bytes[0],bytes[1],bytes[2],bytes[3],bytes[4],bytes[5],bytes[6],bytes[7]]),fixed_8_8=_=>(view.setInt16(0,2**8*_,!1),[bytes[0],bytes[1]]),fixed_16_16=_=>(view.setInt32(0,2**16*_,!1),[bytes[0],bytes[1],bytes[2],bytes[3]]),fixed_2_30=_=>(view.setInt32(0,2**30*_,!1),[bytes[0],bytes[1],bytes[2],bytes[3]]),ascii=(_,R=!1)=>{let P=Array(_.length).fill(null).map((I,O)=>_.charCodeAt(O));return R&&P.push(0),P},last=_=>_&&_[_.length-1],lastPresentedSample=_=>{let R;for(let P of _)(!R||P.presentationTimestamp>R.presentationTimestamp)&&(R=P);return R},intoTimescale=(_,R,P=!0)=>{let I=_*R;return P?Math.round(I):I},rotationMatrix=_=>{let R=_*(Math.PI/180),P=Math.cos(R),I=Math.sin(R);return[P,I,0,-I,P,0,0,0,1]},IDENTITY_MATRIX=rotationMatrix(0),matrixToBytes=_=>[fixed_16_16(_[0]),fixed_16_16(_[1]),fixed_2_30(_[2]),fixed_16_16(_[3]),fixed_16_16(_[4]),fixed_2_30(_[5]),fixed_16_16(_[6]),fixed_16_16(_[7]),fixed_2_30(_[8])],deepClone=_=>!_||typeof _!="object"?_:Array.isArray(_)?_.map(deepClone):Object.fromEntries(Object.entries(_).map(([R,P])=>[R,deepClone(P)])),isU32=_=>_>=0&&_<2**32,box=(_,R,P)=>({type:_,contents:R&&new Uint8Array(R.flat(10)),children:P}),fullBox=(_,R,P,I,O)=>box(_,[u8(R),u24(P),I??[]],O),ftyp=_=>{let R=512;return _.fragmented?box("ftyp",[ascii("iso5"),u32(R),ascii("iso5"),ascii("iso6"),ascii("mp41")]):box("ftyp",[ascii("isom"),u32(R),ascii("isom"),_.holdsAvc?ascii("avc1"):[],ascii("mp41")])},mdat=_=>({type:"mdat",largeSize:_}),free=_=>({type:"free",size:_}),moov=(_,R,P=!1)=>box("moov",null,[mvhd(R,_),..._.map(I=>trak(I,R)),P?mvex(_):null]),mvhd=(_,R)=>{let P=intoTimescale(Math.max(0,...R.filter(L=>L.samples.length>0).map(L=>{const F=lastPresentedSample(L.samples);return F.presentationTimestamp+F.duration})),GLOBAL_TIMESCALE),I=Math.max(...R.map(L=>L.id))+1,O=!isU32(_)||!isU32(P),z=O?u64:u32;return fullBox("mvhd",+O,0,[z(_),z(_),u32(GLOBAL_TIMESCALE),z(P),fixed_16_16(1),fixed_8_8(1),Array(10).fill(0),matrixToBytes(IDENTITY_MATRIX),Array(24).fill(0),u32(I)])},trak=(_,R)=>box("trak",null,[tkhd(_,R),mdia(_,R)]),tkhd=(_,R)=>{let P=lastPresentedSample(_.samples),I=intoTimescale(P?P.presentationTimestamp+P.duration:0,GLOBAL_TIMESCALE),O=!isU32(R)||!isU32(I),z=O?u64:u32,L;return _.info.type==="video"?L=typeof _.info.rotation=="number"?rotationMatrix(_.info.rotation):_.info.rotation:L=IDENTITY_MATRIX,fullBox("tkhd",+O,3,[z(R),z(R),u32(_.id),u32(0),z(I),Array(8).fill(0),u16(0),u16(0),fixed_8_8(_.info.type==="audio"?1:0),u16(0),matrixToBytes(L),fixed_16_16(_.info.type==="video"?_.info.width:0),fixed_16_16(_.info.type==="video"?_.info.height:0)])},mdia=(_,R)=>box("mdia",null,[mdhd(_,R),hdlr(_.info.type==="video"?"vide":"soun"),minf(_)]),mdhd=(_,R)=>{let P=lastPresentedSample(_.samples),I=intoTimescale(P?P.presentationTimestamp+P.duration:0,_.timescale),O=!isU32(R)||!isU32(I),z=O?u64:u32;return fullBox("mdhd",+O,0,[z(R),z(R),u32(_.timescale),z(I),u16(21956),u16(0)])},hdlr=_=>fullBox("hdlr",0,0,[ascii("mhlr"),ascii(_),u32(0),u32(0),u32(0),ascii("mp4-muxer-hdlr",!0)]),minf=_=>box("minf",null,[_.info.type==="video"?vmhd():smhd(),dinf(),stbl(_)]),vmhd=()=>fullBox("vmhd",0,1,[u16(0),u16(0),u16(0),u16(0)]),smhd=()=>fullBox("smhd",0,0,[u16(0),u16(0)]),dinf=()=>box("dinf",null,[dref()]),dref=()=>fullBox("dref",0,0,[u32(1)],[url()]),url=()=>fullBox("url ",0,1),stbl=_=>{const R=_.compositionTimeOffsetTable.length>1||_.compositionTimeOffsetTable.some(P=>P.sampleCompositionTimeOffset!==0);return box("stbl",null,[stsd(_),stts(_),stss(_),stsc(_),stsz(_),stco(_),R?ctts(_):null])},stsd=_=>fullBox("stsd",0,0,[u32(1)],[_.info.type==="video"?videoSampleDescription(VIDEO_CODEC_TO_BOX_NAME[_.info.codec],_):soundSampleDescription(AUDIO_CODEC_TO_BOX_NAME[_.info.codec],_)]),videoSampleDescription=(_,R)=>box(_,[Array(6).fill(0),u16(1),u16(0),u16(0),Array(12).fill(0),u16(R.info.width),u16(R.info.height),u32(4718592),u32(4718592),u32(0),u16(1),Array(32).fill(0),u16(24),i16(65535)],[VIDEO_CODEC_TO_CONFIGURATION_BOX[R.info.codec](R),R.info.decoderConfig.colorSpace?colr(R):null]),COLOR_PRIMARIES_MAP={bt709:1,bt470bg:5,smpte170m:6},TRANSFER_CHARACTERISTICS_MAP={bt709:1,smpte170m:6,"iec61966-2-1":13},MATRIX_COEFFICIENTS_MAP={rgb:0,bt709:1,bt470bg:5,smpte170m:6},colr=_=>box("colr",[ascii("nclx"),u16(COLOR_PRIMARIES_MAP[_.info.decoderConfig.colorSpace.primaries]),u16(TRANSFER_CHARACTERISTICS_MAP[_.info.decoderConfig.colorSpace.transfer]),u16(MATRIX_COEFFICIENTS_MAP[_.info.decoderConfig.colorSpace.matrix]),u8((_.info.decoderConfig.colorSpace.fullRange?1:0)<<7)]),avcC=_=>_.info.decoderConfig&&box("avcC",[...new Uint8Array(_.info.decoderConfig.description)]),hvcC=_=>_.info.decoderConfig&&box("hvcC",[...new Uint8Array(_.info.decoderConfig.description)]),vpcC=_=>{if(!_.info.decoderConfig)return null;let R=_.info.decoderConfig;if(!R.colorSpace)throw new Error("'colorSpace' is required in the decoder config for VP9.");let P=R.codec.split("."),I=Number(P[1]),O=Number(P[2]),F=(Number(P[3])<<4)+(0<<1)+Number(R.colorSpace.fullRange);return fullBox("vpcC",1,0,[u8(I),u8(O),u8(F),u8(2),u8(2),u8(2),u16(0)])},av1C=()=>{let P=(1<<7)+1;return box("av1C",[P,0,0,0])},soundSampleDescription=(_,R)=>box(_,[Array(6).fill(0),u16(1),u16(0),u16(0),u32(0),u16(R.info.numberOfChannels),u16(16),u16(0),u16(0),fixed_16_16(R.info.sampleRate)],[AUDIO_CODEC_TO_CONFIGURATION_BOX[R.info.codec](R)]),esds=_=>{let R=new Uint8Array(_.info.decoderConfig.description);return fullBox("esds",0,0,[u32(58753152),u8(32+R.byteLength),u16(1),u8(0),u32(75530368),u8(18+R.byteLength),u8(64),u8(21),u24(0),u32(130071),u32(130071),u32(92307584),u8(R.byteLength),...R,u32(109084800),u8(1),u8(2)])},dOps=_=>{let R=3840,P=0;const I=_.info.decoderConfig?.description;if(I){if(I.byteLength<18)throw new TypeError("Invalid decoder description provided for Opus; must be at least 18 bytes long.");const O=ArrayBuffer.isView(I)?new DataView(I.buffer,I.byteOffset,I.byteLength):new DataView(I);R=O.getUint16(10,!0),P=O.getInt16(14,!0)}return box("dOps",[u8(0),u8(_.info.numberOfChannels),u16(R),u32(_.info.sampleRate),fixed_8_8(P),u8(0)])},stts=_=>fullBox("stts",0,0,[u32(_.timeToSampleTable.length),_.timeToSampleTable.map(R=>[u32(R.sampleCount),u32(R.sampleDelta)])]),stss=_=>{if(_.samples.every(P=>P.type==="key"))return null;let R=[..._.samples.entries()].filter(([,P])=>P.type==="key");return fullBox("stss",0,0,[u32(R.length),R.map(([P])=>u32(P+1))])},stsc=_=>fullBox("stsc",0,0,[u32(_.compactlyCodedChunkTable.length),_.compactlyCodedChunkTable.map(R=>[u32(R.firstChunk),u32(R.samplesPerChunk),u32(1)])]),stsz=_=>fullBox("stsz",0,0,[u32(0),u32(_.samples.length),_.samples.map(R=>u32(R.size))]),stco=_=>_.finalizedChunks.length>0&&last(_.finalizedChunks).offset>=2**32?fullBox("co64",0,0,[u32(_.finalizedChunks.length),_.finalizedChunks.map(R=>u64(R.offset))]):fullBox("stco",0,0,[u32(_.finalizedChunks.length),_.finalizedChunks.map(R=>u32(R.offset))]),ctts=_=>fullBox("ctts",0,0,[u32(_.compositionTimeOffsetTable.length),_.compositionTimeOffsetTable.map(R=>[u32(R.sampleCount),u32(R.sampleCompositionTimeOffset)])]),mvex=_=>box("mvex",null,_.map(trex)),trex=_=>fullBox("trex",0,0,[u32(_.id),u32(1),u32(0),u32(0),u32(0)]),moof=(_,R)=>box("moof",null,[mfhd(_),...R.map(traf)]),mfhd=_=>fullBox("mfhd",0,0,[u32(_)]),fragmentSampleFlags=_=>{let R=0,P=0,I=0,O=0,z=_.type==="delta";return P|=+z,z?R|=1:R|=2,R<<24|P<<16|I<<8|O},traf=_=>box("traf",null,[tfhd(_),tfdt(_),trun(_)]),tfhd=_=>{let R=0;R|=8,R|=16,R|=32,R|=131072;let P=_.currentChunk.samples[1]??_.currentChunk.samples[0],I={duration:P.timescaleUnitsToNextSample,size:P.size,flags:fragmentSampleFlags(P)};return fullBox("tfhd",0,R,[u32(_.id),u32(I.duration),u32(I.size),u32(I.flags)])},tfdt=_=>fullBox("tfdt",1,0,[u64(intoTimescale(_.currentChunk.startTimestamp,_.timescale))]),trun=_=>{let R=_.currentChunk.samples.map(te=>te.timescaleUnitsToNextSample),P=_.currentChunk.samples.map(te=>te.size),I=_.currentChunk.samples.map(fragmentSampleFlags),O=_.currentChunk.samples.map(te=>intoTimescale(te.presentationTimestamp-te.decodeTimestamp,_.timescale)),z=new Set(R),L=new Set(P),F=new Set(I),U=new Set(O),V=F.size===2&&I[0]!==I[1],q=z.size>1,W=L.size>1,Y=!V&&F.size>1,Q=U.size>1||[...U].some(te=>te!==0),ee=0;return ee|=1,ee|=4*+V,ee|=256*+q,ee|=512*+W,ee|=1024*+Y,ee|=2048*+Q,fullBox("trun",1,ee,[u32(_.currentChunk.samples.length),u32(_.currentChunk.offset-_.currentChunk.moofOffset||0),V?u32(I[0]):[],_.currentChunk.samples.map((te,ie)=>[q?u32(R[ie]):[],W?u32(P[ie]):[],Y?u32(I[ie]):[],Q?i32(O[ie]):[]])])},mfra=_=>box("mfra",null,[..._.map(tfra),mfro()]),tfra=(_,R)=>fullBox("tfra",1,0,[u32(_.id),u32(63),u32(_.finalizedChunks.length),_.finalizedChunks.map(I=>[u64(intoTimescale(I.startTimestamp,_.timescale)),u64(I.moofOffset),u32(R+1),u32(1),u32(1)])]),mfro=()=>fullBox("mfro",0,0,[u32(0)]),VIDEO_CODEC_TO_BOX_NAME={avc:"avc1",hevc:"hvc1",vp9:"vp09",av1:"av01"},VIDEO_CODEC_TO_CONFIGURATION_BOX={avc:avcC,hevc:hvcC,vp9:vpcC,av1:av1C},AUDIO_CODEC_TO_BOX_NAME={aac:"mp4a",opus:"Opus"},AUDIO_CODEC_TO_CONFIGURATION_BOX={aac:esds,opus:dOps},Target$1=class{},ArrayBufferTarget$1=class extends Target$1{constructor(){super(...arguments),this.buffer=null}},StreamTarget$1=class extends Target$1{constructor(R){if(super(),this.options=R,typeof R!="object")throw new TypeError("StreamTarget requires an options object to be passed to its constructor.");if(R.onData){if(typeof R.onData!="function")throw new TypeError("options.onData, when provided, must be a function.");if(R.onData.length<2)throw new TypeError("options.onData, when provided, must be a function that takes in at least two arguments (data and position). Ignoring the position argument, which specifies the byte offset at which the data is to be written, can lead to broken outputs.")}if(R.chunked!==void 0&&typeof R.chunked!="boolean")throw new TypeError("options.chunked, when provided, must be a boolean.");if(R.chunkSize!==void 0&&(!Number.isInteger(R.chunkSize)||R.chunkSize<1024))throw new TypeError("options.chunkSize, when provided, must be an integer and not smaller than 1024.")}},FileSystemWritableFileStreamTarget$1=class extends Target$1{constructor(R,P){if(super(),this.stream=R,this.options=P,!(R instanceof FileSystemWritableFileStream))throw new TypeError("FileSystemWritableFileStreamTarget requires a FileSystemWritableFileStream instance.");if(P!==void 0&&typeof P!="object")throw new TypeError("FileSystemWritableFileStreamTarget's options, when provided, must be an object.");if(P&&P.chunkSize!==void 0&&(!Number.isInteger(P.chunkSize)||P.chunkSize<=0))throw new TypeError("options.chunkSize, when provided, must be a positive integer")}},_helper$1,_helperView$1,Writer$1=class{constructor(){this.pos=0,__privateAdd$1(this,_helper$1,new Uint8Array(8)),__privateAdd$1(this,_helperView$1,new DataView(__privateGet$1(this,_helper$1).buffer)),this.offsets=new WeakMap}seek(R){this.pos=R}writeU32(R){__privateGet$1(this,_helperView$1).setUint32(0,R,!1),this.write(__privateGet$1(this,_helper$1).subarray(0,4))}writeU64(R){__privateGet$1(this,_helperView$1).setUint32(0,Math.floor(R/2**32),!1),__privateGet$1(this,_helperView$1).setUint32(4,R,!1),this.write(__privateGet$1(this,_helper$1).subarray(0,8))}writeAscii(R){for(let P=0;P<R.length;P++)__privateGet$1(this,_helperView$1).setUint8(P%8,R.charCodeAt(P)),P%8===7&&this.write(__privateGet$1(this,_helper$1));R.length%8!==0&&this.write(__privateGet$1(this,_helper$1).subarray(0,R.length%8))}writeBox(R){if(this.offsets.set(R,this.pos),R.contents&&!R.children)this.writeBoxHeader(R,R.size??R.contents.byteLength+8),this.write(R.contents);else{let P=this.pos;if(this.writeBoxHeader(R,0),R.contents&&this.write(R.contents),R.children)for(let z of R.children)z&&this.writeBox(z);let I=this.pos,O=R.size??I-P;this.seek(P),this.writeBoxHeader(R,O),this.seek(I)}}writeBoxHeader(R,P){this.writeU32(R.largeSize?1:P),this.writeAscii(R.type),R.largeSize&&this.writeU64(P)}measureBoxHeader(R){return 8+(R.largeSize?8:0)}patchBox(R){let P=this.pos;this.seek(this.offsets.get(R)),this.writeBox(R),this.seek(P)}measureBox(R){if(R.contents&&!R.children)return this.measureBoxHeader(R)+R.contents.byteLength;{let P=this.measureBoxHeader(R);if(R.contents&&(P+=R.contents.byteLength),R.children)for(let I of R.children)I&&(P+=this.measureBox(I));return P}}};_helper$1=new WeakMap;_helperView$1=new WeakMap;var _target$1,_buffer$1,_bytes$1,_maxPos,_ensureSize$1,ensureSize_fn$1,ArrayBufferTargetWriter$1=class extends Writer$1{constructor(R){super(),__privateAdd$1(this,_ensureSize$1),__privateAdd$1(this,_target$1,void 0),__privateAdd$1(this,_buffer$1,new ArrayBuffer(2**16)),__privateAdd$1(this,_bytes$1,new Uint8Array(__privateGet$1(this,_buffer$1))),__privateAdd$1(this,_maxPos,0),__privateSet$1(this,_target$1,R)}write(R){__privateMethod$1(this,_ensureSize$1,ensureSize_fn$1).call(this,this.pos+R.byteLength),__privateGet$1(this,_bytes$1).set(R,this.pos),this.pos+=R.byteLength,__privateSet$1(this,_maxPos,Math.max(__privateGet$1(this,_maxPos),this.pos))}finalize(){__privateMethod$1(this,_ensureSize$1,ensureSize_fn$1).call(this,this.pos),__privateGet$1(this,_target$1).buffer=__privateGet$1(this,_buffer$1).slice(0,Math.max(__privateGet$1(this,_maxPos),this.pos))}};_target$1=new WeakMap;_buffer$1=new WeakMap;_bytes$1=new WeakMap;_maxPos=new WeakMap;_ensureSize$1=new WeakSet;ensureSize_fn$1=function(_){let R=__privateGet$1(this,_buffer$1).byteLength;for(;R<_;)R*=2;if(R===__privateGet$1(this,_buffer$1).byteLength)return;let P=new ArrayBuffer(R),I=new Uint8Array(P);I.set(__privateGet$1(this,_bytes$1),0),__privateSet$1(this,_buffer$1,P),__privateSet$1(this,_bytes$1,I)};var DEFAULT_CHUNK_SIZE$1=2**24,MAX_CHUNKS_AT_ONCE$1=2,_target2,_sections$1,_chunked$1,_chunkSize$1,_chunks$1,_writeDataIntoChunks$1,writeDataIntoChunks_fn$1,_insertSectionIntoChunk$1,insertSectionIntoChunk_fn$1,_createChunk$1,createChunk_fn$1,_flushChunks$1,flushChunks_fn$1,StreamTargetWriter$1=class extends Writer$1{constructor(R){super(),__privateAdd$1(this,_writeDataIntoChunks$1),__privateAdd$1(this,_insertSectionIntoChunk$1),__privateAdd$1(this,_createChunk$1),__privateAdd$1(this,_flushChunks$1),__privateAdd$1(this,_target2,void 0),__privateAdd$1(this,_sections$1,[]),__privateAdd$1(this,_chunked$1,void 0),__privateAdd$1(this,_chunkSize$1,void 0),__privateAdd$1(this,_chunks$1,[]),__privateSet$1(this,_target2,R),__privateSet$1(this,_chunked$1,R.options?.chunked??!1),__privateSet$1(this,_chunkSize$1,R.options?.chunkSize??DEFAULT_CHUNK_SIZE$1)}write(R){__privateGet$1(this,_sections$1).push({data:R.slice(),start:this.pos}),this.pos+=R.byteLength}flush(){if(__privateGet$1(this,_sections$1).length===0)return;let R=[],P=[...__privateGet$1(this,_sections$1)].sort((I,O)=>I.start-O.start);R.push({start:P[0].start,size:P[0].data.byteLength});for(let I=1;I<P.length;I++){let O=R[R.length-1],z=P[I];z.start<=O.start+O.size?O.size=Math.max(O.size,z.start+z.data.byteLength-O.start):R.push({start:z.start,size:z.data.byteLength})}for(let I of R){I.data=new Uint8Array(I.size);for(let O of __privateGet$1(this,_sections$1))I.start<=O.start&&O.start<I.start+I.size&&I.data.set(O.data,O.start-I.start);__privateGet$1(this,_chunked$1)?(__privateMethod$1(this,_writeDataIntoChunks$1,writeDataIntoChunks_fn$1).call(this,I.data,I.start),__privateMethod$1(this,_flushChunks$1,flushChunks_fn$1).call(this)):__privateGet$1(this,_target2).options.onData?.(I.data,I.start)}__privateGet$1(this,_sections$1).length=0}finalize(){__privateGet$1(this,_chunked$1)&&__privateMethod$1(this,_flushChunks$1,flushChunks_fn$1).call(this,!0)}};_target2=new WeakMap;_sections$1=new WeakMap;_chunked$1=new WeakMap;_chunkSize$1=new WeakMap;_chunks$1=new WeakMap;_writeDataIntoChunks$1=new WeakSet;writeDataIntoChunks_fn$1=function(_,R){let P=__privateGet$1(this,_chunks$1).findIndex(F=>F.start<=R&&R<F.start+__privateGet$1(this,_chunkSize$1));P===-1&&(P=__privateMethod$1(this,_createChunk$1,createChunk_fn$1).call(this,R));let I=__privateGet$1(this,_chunks$1)[P],O=R-I.start,z=_.subarray(0,Math.min(__privateGet$1(this,_chunkSize$1)-O,_.byteLength));I.data.set(z,O);let L={start:O,end:O+z.byteLength};if(__privateMethod$1(this,_insertSectionIntoChunk$1,insertSectionIntoChunk_fn$1).call(this,I,L),I.written[0].start===0&&I.written[0].end===__privateGet$1(this,_chunkSize$1)&&(I.shouldFlush=!0),__privateGet$1(this,_chunks$1).length>MAX_CHUNKS_AT_ONCE$1){for(let F=0;F<__privateGet$1(this,_chunks$1).length-1;F++)__privateGet$1(this,_chunks$1)[F].shouldFlush=!0;__privateMethod$1(this,_flushChunks$1,flushChunks_fn$1).call(this)}z.byteLength<_.byteLength&&__privateMethod$1(this,_writeDataIntoChunks$1,writeDataIntoChunks_fn$1).call(this,_.subarray(z.byteLength),R+z.byteLength)};_insertSectionIntoChunk$1=new WeakSet;insertSectionIntoChunk_fn$1=function(_,R){let P=0,I=_.written.length-1,O=-1;for(;P<=I;){let z=Math.floor(P+(I-P+1)/2);_.written[z].start<=R.start?(P=z+1,O=z):I=z-1}for(_.written.splice(O+1,0,R),(O===-1||_.written[O].end<R.start)&&O++;O<_.written.length-1&&_.written[O].end>=_.written[O+1].start;)_.written[O].end=Math.max(_.written[O].end,_.written[O+1].end),_.written.splice(O+1,1)};_createChunk$1=new WeakSet;createChunk_fn$1=function(_){let P={start:Math.floor(_/__privateGet$1(this,_chunkSize$1))*__privateGet$1(this,_chunkSize$1),data:new Uint8Array(__privateGet$1(this,_chunkSize$1)),written:[],shouldFlush:!1};return __privateGet$1(this,_chunks$1).push(P),__privateGet$1(this,_chunks$1).sort((I,O)=>I.start-O.start),__privateGet$1(this,_chunks$1).indexOf(P)};_flushChunks$1=new WeakSet;flushChunks_fn$1=function(_=!1){for(let R=0;R<__privateGet$1(this,_chunks$1).length;R++){let P=__privateGet$1(this,_chunks$1)[R];if(!(!P.shouldFlush&&!_)){for(let I of P.written)__privateGet$1(this,_target2).options.onData?.(P.data.subarray(I.start,I.end),P.start+I.start);__privateGet$1(this,_chunks$1).splice(R--,1)}}};var FileSystemWritableFileStreamTargetWriter$1=class extends StreamTargetWriter$1{constructor(R){super(new StreamTarget$1({onData:(P,I)=>R.stream.write({type:"write",data:P,position:I}),chunked:!0,chunkSize:R.options?.chunkSize}))}},GLOBAL_TIMESCALE=1e3,SUPPORTED_VIDEO_CODECS=["avc","hevc","vp9","av1"],SUPPORTED_AUDIO_CODECS=["aac","opus"],TIMESTAMP_OFFSET=2082844800,FIRST_TIMESTAMP_BEHAVIORS$1=["strict","offset","cross-track-offset"],_options$1,_writer$1,_ftypSize,_mdat,_videoTrack,_audioTrack,_creationTime,_finalizedChunks,_nextFragmentNumber,_videoSampleQueue,_audioSampleQueue,_finalized$1,_validateOptions$1,validateOptions_fn$1,_writeHeader,writeHeader_fn,_computeMoovSizeUpperBound,computeMoovSizeUpperBound_fn,_prepareTracks,prepareTracks_fn,_generateMpeg4AudioSpecificConfig,generateMpeg4AudioSpecificConfig_fn,_createSampleForTrack,createSampleForTrack_fn,_addSampleToTrack,addSampleToTrack_fn,_validateTimestamp$1,validateTimestamp_fn$1,_finalizeCurrentChunk,finalizeCurrentChunk_fn,_finalizeFragment,finalizeFragment_fn,_maybeFlushStreamingTargetWriter$1,maybeFlushStreamingTargetWriter_fn$1,_ensureNotFinalized$1,ensureNotFinalized_fn$1,Muxer$1=class{constructor(R){if(__privateAdd$1(this,_validateOptions$1),__privateAdd$1(this,_writeHeader),__privateAdd$1(this,_computeMoovSizeUpperBound),__privateAdd$1(this,_prepareTracks),__privateAdd$1(this,_generateMpeg4AudioSpecificConfig),__privateAdd$1(this,_createSampleForTrack),__privateAdd$1(this,_addSampleToTrack),__privateAdd$1(this,_validateTimestamp$1),__privateAdd$1(this,_finalizeCurrentChunk),__privateAdd$1(this,_finalizeFragment),__privateAdd$1(this,_maybeFlushStreamingTargetWriter$1),__privateAdd$1(this,_ensureNotFinalized$1),__privateAdd$1(this,_options$1,void 0),__privateAdd$1(this,_writer$1,void 0),__privateAdd$1(this,_ftypSize,void 0),__privateAdd$1(this,_mdat,void 0),__privateAdd$1(this,_videoTrack,null),__privateAdd$1(this,_audioTrack,null),__privateAdd$1(this,_creationTime,Math.floor(Date.now()/1e3)+TIMESTAMP_OFFSET),__privateAdd$1(this,_finalizedChunks,[]),__privateAdd$1(this,_nextFragmentNumber,1),__privateAdd$1(this,_videoSampleQueue,[]),__privateAdd$1(this,_audioSampleQueue,[]),__privateAdd$1(this,_finalized$1,!1),__privateMethod$1(this,_validateOptions$1,validateOptions_fn$1).call(this,R),R.video=deepClone(R.video),R.audio=deepClone(R.audio),R.fastStart=deepClone(R.fastStart),this.target=R.target,__privateSet$1(this,_options$1,{firstTimestampBehavior:"strict",...R}),R.target instanceof ArrayBufferTarget$1)__privateSet$1(this,_writer$1,new ArrayBufferTargetWriter$1(R.target));else if(R.target instanceof StreamTarget$1)__privateSet$1(this,_writer$1,new StreamTargetWriter$1(R.target));else if(R.target instanceof FileSystemWritableFileStreamTarget$1)__privateSet$1(this,_writer$1,new FileSystemWritableFileStreamTargetWriter$1(R.target));else throw new Error(`Invalid target: ${R.target}`);__privateMethod$1(this,_prepareTracks,prepareTracks_fn).call(this),__privateMethod$1(this,_writeHeader,writeHeader_fn).call(this)}addVideoChunk(R,P,I,O){if(!(R instanceof EncodedVideoChunk))throw new TypeError("addVideoChunk's first argument (sample) must be of type EncodedVideoChunk.");if(P&&typeof P!="object")throw new TypeError("addVideoChunk's second argument (meta), when provided, must be an object.");if(I!==void 0&&(!Number.isFinite(I)||I<0))throw new TypeError("addVideoChunk's third argument (timestamp), when provided, must be a non-negative real number.");if(O!==void 0&&!Number.isFinite(O))throw new TypeError("addVideoChunk's fourth argument (compositionTimeOffset), when provided, must be a real number.");let z=new Uint8Array(R.byteLength);R.copyTo(z),this.addVideoChunkRaw(z,R.type,I??R.timestamp,R.duration,P,O)}addVideoChunkRaw(R,P,I,O,z,L){if(!(R instanceof Uint8Array))throw new TypeError("addVideoChunkRaw's first argument (data) must be an instance of Uint8Array.");if(P!=="key"&&P!=="delta")throw new TypeError("addVideoChunkRaw's second argument (type) must be either 'key' or 'delta'.");if(!Number.isFinite(I)||I<0)throw new TypeError("addVideoChunkRaw's third argument (timestamp) must be a non-negative real number.");if(!Number.isFinite(O)||O<0)throw new TypeError("addVideoChunkRaw's fourth argument (duration) must be a non-negative real number.");if(z&&typeof z!="object")throw new TypeError("addVideoChunkRaw's fifth argument (meta), when provided, must be an object.");if(L!==void 0&&!Number.isFinite(L))throw new TypeError("addVideoChunkRaw's sixth argument (compositionTimeOffset), when provided, must be a real number.");if(__privateMethod$1(this,_ensureNotFinalized$1,ensureNotFinalized_fn$1).call(this),!__privateGet$1(this,_options$1).video)throw new Error("No video track declared.");if(typeof __privateGet$1(this,_options$1).fastStart=="object"&&__privateGet$1(this,_videoTrack).samples.length===__privateGet$1(this,_options$1).fastStart.expectedVideoChunks)throw new Error(`Cannot add more video chunks than specified in 'fastStart' (${__privateGet$1(this,_options$1).fastStart.expectedVideoChunks}).`);let F=__privateMethod$1(this,_createSampleForTrack,createSampleForTrack_fn).call(this,__privateGet$1(this,_videoTrack),R,P,I,O,z,L);if(__privateGet$1(this,_options$1).fastStart==="fragmented"&&__privateGet$1(this,_audioTrack)){for(;__privateGet$1(this,_audioSampleQueue).length>0&&__privateGet$1(this,_audioSampleQueue)[0].decodeTimestamp<=F.decodeTimestamp;){let U=__privateGet$1(this,_audioSampleQueue).shift();__privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_audioTrack),U)}F.decodeTimestamp<=__privateGet$1(this,_audioTrack).lastDecodeTimestamp?__privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_videoTrack),F):__privateGet$1(this,_videoSampleQueue).push(F)}else __privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_videoTrack),F)}addAudioChunk(R,P,I){if(!(R instanceof EncodedAudioChunk))throw new TypeError("addAudioChunk's first argument (sample) must be of type EncodedAudioChunk.");if(P&&typeof P!="object")throw new TypeError("addAudioChunk's second argument (meta), when provided, must be an object.");if(I!==void 0&&(!Number.isFinite(I)||I<0))throw new TypeError("addAudioChunk's third argument (timestamp), when provided, must be a non-negative real number.");let O=new Uint8Array(R.byteLength);R.copyTo(O),this.addAudioChunkRaw(O,R.type,I??R.timestamp,R.duration,P)}addAudioChunkRaw(R,P,I,O,z){if(!(R instanceof Uint8Array))throw new TypeError("addAudioChunkRaw's first argument (data) must be an instance of Uint8Array.");if(P!=="key"&&P!=="delta")throw new TypeError("addAudioChunkRaw's second argument (type) must be either 'key' or 'delta'.");if(!Number.isFinite(I)||I<0)throw new TypeError("addAudioChunkRaw's third argument (timestamp) must be a non-negative real number.");if(!Number.isFinite(O)||O<0)throw new TypeError("addAudioChunkRaw's fourth argument (duration) must be a non-negative real number.");if(z&&typeof z!="object")throw new TypeError("addAudioChunkRaw's fifth argument (meta), when provided, must be an object.");if(__privateMethod$1(this,_ensureNotFinalized$1,ensureNotFinalized_fn$1).call(this),!__privateGet$1(this,_options$1).audio)throw new Error("No audio track declared.");if(typeof __privateGet$1(this,_options$1).fastStart=="object"&&__privateGet$1(this,_audioTrack).samples.length===__privateGet$1(this,_options$1).fastStart.expectedAudioChunks)throw new Error(`Cannot add more audio chunks than specified in 'fastStart' (${__privateGet$1(this,_options$1).fastStart.expectedAudioChunks}).`);let L=__privateMethod$1(this,_createSampleForTrack,createSampleForTrack_fn).call(this,__privateGet$1(this,_audioTrack),R,P,I,O,z);if(__privateGet$1(this,_options$1).fastStart==="fragmented"&&__privateGet$1(this,_videoTrack)){for(;__privateGet$1(this,_videoSampleQueue).length>0&&__privateGet$1(this,_videoSampleQueue)[0].decodeTimestamp<=L.decodeTimestamp;){let F=__privateGet$1(this,_videoSampleQueue).shift();__privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_videoTrack),F)}L.decodeTimestamp<=__privateGet$1(this,_videoTrack).lastDecodeTimestamp?__privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_audioTrack),L):__privateGet$1(this,_audioSampleQueue).push(L)}else __privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_audioTrack),L)}finalize(){if(__privateGet$1(this,_finalized$1))throw new Error("Cannot finalize a muxer more than once.");if(__privateGet$1(this,_options$1).fastStart==="fragmented"){for(let P of __privateGet$1(this,_videoSampleQueue))__privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_videoTrack),P);for(let P of __privateGet$1(this,_audioSampleQueue))__privateMethod$1(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet$1(this,_audioTrack),P);__privateMethod$1(this,_finalizeFragment,finalizeFragment_fn).call(this,!1)}else __privateGet$1(this,_videoTrack)&&__privateMethod$1(this,_finalizeCurrentChunk,finalizeCurrentChunk_fn).call(this,__privateGet$1(this,_videoTrack)),__privateGet$1(this,_audioTrack)&&__privateMethod$1(this,_finalizeCurrentChunk,finalizeCurrentChunk_fn).call(this,__privateGet$1(this,_audioTrack));let R=[__privateGet$1(this,_videoTrack),__privateGet$1(this,_audioTrack)].filter(Boolean);if(__privateGet$1(this,_options$1).fastStart==="in-memory"){let P;for(let O=0;O<2;O++){let z=moov(R,__privateGet$1(this,_creationTime)),L=__privateGet$1(this,_writer$1).measureBox(z);P=__privateGet$1(this,_writer$1).measureBox(__privateGet$1(this,_mdat));let F=__privateGet$1(this,_writer$1).pos+L+P;for(let U of __privateGet$1(this,_finalizedChunks)){U.offset=F;for(let{data:V}of U.samples)F+=V.byteLength,P+=V.byteLength}if(F<2**32)break;P>=2**32&&(__privateGet$1(this,_mdat).largeSize=!0)}let I=moov(R,__privateGet$1(this,_creationTime));__privateGet$1(this,_writer$1).writeBox(I),__privateGet$1(this,_mdat).size=P,__privateGet$1(this,_writer$1).writeBox(__privateGet$1(this,_mdat));for(let O of __privateGet$1(this,_finalizedChunks))for(let z of O.samples)__privateGet$1(this,_writer$1).write(z.data),z.data=null}else if(__privateGet$1(this,_options$1).fastStart==="fragmented"){let P=__privateGet$1(this,_writer$1).pos,I=mfra(R);__privateGet$1(this,_writer$1).writeBox(I);let O=__privateGet$1(this,_writer$1).pos-P;__privateGet$1(this,_writer$1).seek(__privateGet$1(this,_writer$1).pos-4),__privateGet$1(this,_writer$1).writeU32(O)}else{let P=__privateGet$1(this,_writer$1).offsets.get(__privateGet$1(this,_mdat)),I=__privateGet$1(this,_writer$1).pos-P;__privateGet$1(this,_mdat).size=I,__privateGet$1(this,_mdat).largeSize=I>=2**32,__privateGet$1(this,_writer$1).patchBox(__privateGet$1(this,_mdat));let O=moov(R,__privateGet$1(this,_creationTime));if(typeof __privateGet$1(this,_options$1).fastStart=="object"){__privateGet$1(this,_writer$1).seek(__privateGet$1(this,_ftypSize)),__privateGet$1(this,_writer$1).writeBox(O);let z=P-__privateGet$1(this,_writer$1).pos;__privateGet$1(this,_writer$1).writeBox(free(z))}else __privateGet$1(this,_writer$1).writeBox(O)}__privateMethod$1(this,_maybeFlushStreamingTargetWriter$1,maybeFlushStreamingTargetWriter_fn$1).call(this),__privateGet$1(this,_writer$1).finalize(),__privateSet$1(this,_finalized$1,!0)}};_options$1=new WeakMap;_writer$1=new WeakMap;_ftypSize=new WeakMap;_mdat=new WeakMap;_videoTrack=new WeakMap;_audioTrack=new WeakMap;_creationTime=new WeakMap;_finalizedChunks=new WeakMap;_nextFragmentNumber=new WeakMap;_videoSampleQueue=new WeakMap;_audioSampleQueue=new WeakMap;_finalized$1=new WeakMap;_validateOptions$1=new WeakSet;validateOptions_fn$1=function(_){if(typeof _!="object")throw new TypeError("The muxer requires an options object to be passed to its constructor.");if(!(_.target instanceof Target$1))throw new TypeError("The target must be provided and an instance of Target.");if(_.video){if(!SUPPORTED_VIDEO_CODECS.includes(_.video.codec))throw new TypeError(`Unsupported video codec: ${_.video.codec}`);if(!Number.isInteger(_.video.width)||_.video.width<=0)throw new TypeError(`Invalid video width: ${_.video.width}. Must be a positive integer.`);if(!Number.isInteger(_.video.height)||_.video.height<=0)throw new TypeError(`Invalid video height: ${_.video.height}. Must be a positive integer.`);const R=_.video.rotation;if(typeof R=="number"&&![0,90,180,270].includes(R))throw new TypeError(`Invalid video rotation: ${R}. Has to be 0, 90, 180 or 270.`);if(Array.isArray(R)&&(R.length!==9||R.some(P=>typeof P!="number")))throw new TypeError(`Invalid video transformation matrix: ${R.join()}`);if(_.video.frameRate!==void 0&&(!Number.isInteger(_.video.frameRate)||_.video.frameRate<=0))throw new TypeError(`Invalid video frame rate: ${_.video.frameRate}. Must be a positive integer.`)}if(_.audio){if(!SUPPORTED_AUDIO_CODECS.includes(_.audio.codec))throw new TypeError(`Unsupported audio codec: ${_.audio.codec}`);if(!Number.isInteger(_.audio.numberOfChannels)||_.audio.numberOfChannels<=0)throw new TypeError(`Invalid number of audio channels: ${_.audio.numberOfChannels}. Must be a positive integer.`);if(!Number.isInteger(_.audio.sampleRate)||_.audio.sampleRate<=0)throw new TypeError(`Invalid audio sample rate: ${_.audio.sampleRate}. Must be a positive integer.`)}if(_.firstTimestampBehavior&&!FIRST_TIMESTAMP_BEHAVIORS$1.includes(_.firstTimestampBehavior))throw new TypeError(`Invalid first timestamp behavior: ${_.firstTimestampBehavior}`);if(typeof _.fastStart=="object"){if(_.video){if(_.fastStart.expectedVideoChunks===void 0)throw new TypeError("'fastStart' is an object but is missing property 'expectedVideoChunks'.");if(!Number.isInteger(_.fastStart.expectedVideoChunks)||_.fastStart.expectedVideoChunks<0)throw new TypeError("'expectedVideoChunks' must be a non-negative integer.")}if(_.audio){if(_.fastStart.expectedAudioChunks===void 0)throw new TypeError("'fastStart' is an object but is missing property 'expectedAudioChunks'.");if(!Number.isInteger(_.fastStart.expectedAudioChunks)||_.fastStart.expectedAudioChunks<0)throw new TypeError("'expectedAudioChunks' must be a non-negative integer.")}}else if(![!1,"in-memory","fragmented"].includes(_.fastStart))throw new TypeError("'fastStart' option must be false, 'in-memory', 'fragmented' or an object.");if(_.minFragmentDuration!==void 0&&(!Number.isFinite(_.minFragmentDuration)||_.minFragmentDuration<0))throw new TypeError("'minFragmentDuration' must be a non-negative number.")};_writeHeader=new WeakSet;writeHeader_fn=function(){if(__privateGet$1(this,_writer$1).writeBox(ftyp({holdsAvc:__privateGet$1(this,_options$1).video?.codec==="avc",fragmented:__privateGet$1(this,_options$1).fastStart==="fragmented"})),__privateSet$1(this,_ftypSize,__privateGet$1(this,_writer$1).pos),__privateGet$1(this,_options$1).fastStart==="in-memory")__privateSet$1(this,_mdat,mdat(!1));else if(__privateGet$1(this,_options$1).fastStart!=="fragmented"){if(typeof __privateGet$1(this,_options$1).fastStart=="object"){let _=__privateMethod$1(this,_computeMoovSizeUpperBound,computeMoovSizeUpperBound_fn).call(this);__privateGet$1(this,_writer$1).seek(__privateGet$1(this,_writer$1).pos+_)}__privateSet$1(this,_mdat,mdat(!0)),__privateGet$1(this,_writer$1).writeBox(__privateGet$1(this,_mdat))}__privateMethod$1(this,_maybeFlushStreamingTargetWriter$1,maybeFlushStreamingTargetWriter_fn$1).call(this)};_computeMoovSizeUpperBound=new WeakSet;computeMoovSizeUpperBound_fn=function(){if(typeof __privateGet$1(this,_options$1).fastStart!="object")return;let _=0,R=[__privateGet$1(this,_options$1).fastStart.expectedVideoChunks,__privateGet$1(this,_options$1).fastStart.expectedAudioChunks];for(let P of R)P&&(_+=8*Math.ceil(2/3*P),_+=4*P,_+=12*Math.ceil(2/3*P),_+=4*P,_+=8*P);return _+=4096,_};_prepareTracks=new WeakSet;prepareTracks_fn=function(){if(__privateGet$1(this,_options$1).video&&__privateSet$1(this,_videoTrack,{id:1,info:{type:"video",codec:__privateGet$1(this,_options$1).video.codec,width:__privateGet$1(this,_options$1).video.width,height:__privateGet$1(this,_options$1).video.height,rotation:__privateGet$1(this,_options$1).video.rotation??0,decoderConfig:null},timescale:__privateGet$1(this,_options$1).video.frameRate??57600,samples:[],finalizedChunks:[],currentChunk:null,firstDecodeTimestamp:void 0,lastDecodeTimestamp:-1,timeToSampleTable:[],compositionTimeOffsetTable:[],lastTimescaleUnits:null,lastSample:null,compactlyCodedChunkTable:[]}),__privateGet$1(this,_options$1).audio&&(__privateSet$1(this,_audioTrack,{id:__privateGet$1(this,_options$1).video?2:1,info:{type:"audio",codec:__privateGet$1(this,_options$1).audio.codec,numberOfChannels:__privateGet$1(this,_options$1).audio.numberOfChannels,sampleRate:__privateGet$1(this,_options$1).audio.sampleRate,decoderConfig:null},timescale:__privateGet$1(this,_options$1).audio.sampleRate,samples:[],finalizedChunks:[],currentChunk:null,firstDecodeTimestamp:void 0,lastDecodeTimestamp:-1,timeToSampleTable:[],compositionTimeOffsetTable:[],lastTimescaleUnits:null,lastSample:null,compactlyCodedChunkTable:[]}),__privateGet$1(this,_options$1).audio.codec==="aac")){let _=__privateMethod$1(this,_generateMpeg4AudioSpecificConfig,generateMpeg4AudioSpecificConfig_fn).call(this,2,__privateGet$1(this,_options$1).audio.sampleRate,__privateGet$1(this,_options$1).audio.numberOfChannels);__privateGet$1(this,_audioTrack).info.decoderConfig={codec:__privateGet$1(this,_options$1).audio.codec,description:_,numberOfChannels:__privateGet$1(this,_options$1).audio.numberOfChannels,sampleRate:__privateGet$1(this,_options$1).audio.sampleRate}}};_generateMpeg4AudioSpecificConfig=new WeakSet;generateMpeg4AudioSpecificConfig_fn=function(_,R,P){let O=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350].indexOf(R),z=P,L="";L+=_.toString(2).padStart(5,"0"),L+=O.toString(2).padStart(4,"0"),O===15&&(L+=R.toString(2).padStart(24,"0")),L+=z.toString(2).padStart(4,"0");let F=Math.ceil(L.length/8)*8;L=L.padEnd(F,"0");let U=new Uint8Array(L.length/8);for(let V=0;V<L.length;V+=8)U[V/8]=parseInt(L.slice(V,V+8),2);return U};_createSampleForTrack=new WeakSet;createSampleForTrack_fn=function(_,R,P,I,O,z,L){let F=I/1e6,U=(I-(L??0))/1e6,V=O/1e6,q=__privateMethod$1(this,_validateTimestamp$1,validateTimestamp_fn$1).call(this,F,U,_);return F=q.presentationTimestamp,U=q.decodeTimestamp,z?.decoderConfig&&(_.info.decoderConfig===null?_.info.decoderConfig=z.decoderConfig:Object.assign(_.info.decoderConfig,z.decoderConfig)),{presentationTimestamp:F,decodeTimestamp:U,duration:V,data:R,size:R.byteLength,type:P,timescaleUnitsToNextSample:intoTimescale(V,_.timescale)}};_addSampleToTrack=new WeakSet;addSampleToTrack_fn=function(_,R){__privateGet$1(this,_options$1).fastStart!=="fragmented"&&_.samples.push(R);const P=intoTimescale(R.presentationTimestamp-R.decodeTimestamp,_.timescale);if(_.lastTimescaleUnits!==null){let O=intoTimescale(R.decodeTimestamp,_.timescale,!1),z=Math.round(O-_.lastTimescaleUnits);if(_.lastTimescaleUnits+=z,_.lastSample.timescaleUnitsToNextSample=z,__privateGet$1(this,_options$1).fastStart!=="fragmented"){let L=last(_.timeToSampleTable);L.sampleCount===1?(L.sampleDelta=z,L.sampleCount++):L.sampleDelta===z?L.sampleCount++:(L.sampleCount--,_.timeToSampleTable.push({sampleCount:2,sampleDelta:z}));const F=last(_.compositionTimeOffsetTable);F.sampleCompositionTimeOffset===P?F.sampleCount++:_.compositionTimeOffsetTable.push({sampleCount:1,sampleCompositionTimeOffset:P})}}else _.lastTimescaleUnits=0,__privateGet$1(this,_options$1).fastStart!=="fragmented"&&(_.timeToSampleTable.push({sampleCount:1,sampleDelta:intoTimescale(R.duration,_.timescale)}),_.compositionTimeOffsetTable.push({sampleCount:1,sampleCompositionTimeOffset:P}));_.lastSample=R;let I=!1;if(!_.currentChunk)I=!0;else{let O=R.presentationTimestamp-_.currentChunk.startTimestamp;if(__privateGet$1(this,_options$1).fastStart==="fragmented"){let z=__privateGet$1(this,_videoTrack)??__privateGet$1(this,_audioTrack);const L=__privateGet$1(this,_options$1).minFragmentDuration??1;_===z&&R.type==="key"&&O>=L&&(I=!0,__privateMethod$1(this,_finalizeFragment,finalizeFragment_fn).call(this))}else I=O>=.5}I&&(_.currentChunk&&__privateMethod$1(this,_finalizeCurrentChunk,finalizeCurrentChunk_fn).call(this,_),_.currentChunk={startTimestamp:R.presentationTimestamp,samples:[]}),_.currentChunk.samples.push(R)};_validateTimestamp$1=new WeakSet;validateTimestamp_fn$1=function(_,R,P){const I=__privateGet$1(this,_options$1).firstTimestampBehavior==="strict",O=P.lastDecodeTimestamp===-1;if(I&&O&&R!==0)throw new Error(`The first chunk for your media track must have a timestamp of 0 (received DTS=${R}).Non-zero first timestamps are often caused by directly piping frames or audio data from a MediaStreamTrack into the encoder. Their timestamps are typically relative to the age of thedocument, which is probably what you want.

If you want to offset all timestamps of a track such that the first one is zero, set firstTimestampBehavior: 'offset' in the options.
`);if(__privateGet$1(this,_options$1).firstTimestampBehavior==="offset"||__privateGet$1(this,_options$1).firstTimestampBehavior==="cross-track-offset"){P.firstDecodeTimestamp===void 0&&(P.firstDecodeTimestamp=R);let L;__privateGet$1(this,_options$1).firstTimestampBehavior==="offset"?L=P.firstDecodeTimestamp:L=Math.min(__privateGet$1(this,_videoTrack)?.firstDecodeTimestamp??1/0,__privateGet$1(this,_audioTrack)?.firstDecodeTimestamp??1/0),R-=L,_-=L}if(R<P.lastDecodeTimestamp)throw new Error(`Timestamps must be monotonically increasing (DTS went from ${P.lastDecodeTimestamp*1e6} to ${R*1e6}).`);return P.lastDecodeTimestamp=R,{presentationTimestamp:_,decodeTimestamp:R}};_finalizeCurrentChunk=new WeakSet;finalizeCurrentChunk_fn=function(_){if(__privateGet$1(this,_options$1).fastStart==="fragmented")throw new Error("Can't finalize individual chunks if 'fastStart' is set to 'fragmented'.");if(_.currentChunk){if(_.finalizedChunks.push(_.currentChunk),__privateGet$1(this,_finalizedChunks).push(_.currentChunk),(_.compactlyCodedChunkTable.length===0||last(_.compactlyCodedChunkTable).samplesPerChunk!==_.currentChunk.samples.length)&&_.compactlyCodedChunkTable.push({firstChunk:_.finalizedChunks.length,samplesPerChunk:_.currentChunk.samples.length}),__privateGet$1(this,_options$1).fastStart==="in-memory"){_.currentChunk.offset=0;return}_.currentChunk.offset=__privateGet$1(this,_writer$1).pos;for(let R of _.currentChunk.samples)__privateGet$1(this,_writer$1).write(R.data),R.data=null;__privateMethod$1(this,_maybeFlushStreamingTargetWriter$1,maybeFlushStreamingTargetWriter_fn$1).call(this)}};_finalizeFragment=new WeakSet;finalizeFragment_fn=function(_=!0){if(__privateGet$1(this,_options$1).fastStart!=="fragmented")throw new Error("Can't finalize a fragment unless 'fastStart' is set to 'fragmented'.");let R=[__privateGet$1(this,_videoTrack),__privateGet$1(this,_audioTrack)].filter(F=>F&&F.currentChunk);if(R.length===0)return;let P=__privateWrapper(this,_nextFragmentNumber)._++;if(P===1){let F=moov(R,__privateGet$1(this,_creationTime),!0);__privateGet$1(this,_writer$1).writeBox(F)}let I=__privateGet$1(this,_writer$1).pos,O=moof(P,R);__privateGet$1(this,_writer$1).writeBox(O);{let F=mdat(!1),U=0;for(let q of R)for(let W of q.currentChunk.samples)U+=W.size;let V=__privateGet$1(this,_writer$1).measureBox(F)+U;V>=2**32&&(F.largeSize=!0,V=__privateGet$1(this,_writer$1).measureBox(F)+U),F.size=V,__privateGet$1(this,_writer$1).writeBox(F)}for(let F of R){F.currentChunk.offset=__privateGet$1(this,_writer$1).pos,F.currentChunk.moofOffset=I;for(let U of F.currentChunk.samples)__privateGet$1(this,_writer$1).write(U.data),U.data=null}let z=__privateGet$1(this,_writer$1).pos;__privateGet$1(this,_writer$1).seek(__privateGet$1(this,_writer$1).offsets.get(O));let L=moof(P,R);__privateGet$1(this,_writer$1).writeBox(L),__privateGet$1(this,_writer$1).seek(z);for(let F of R)F.finalizedChunks.push(F.currentChunk),__privateGet$1(this,_finalizedChunks).push(F.currentChunk),F.currentChunk=null;_&&__privateMethod$1(this,_maybeFlushStreamingTargetWriter$1,maybeFlushStreamingTargetWriter_fn$1).call(this)};_maybeFlushStreamingTargetWriter$1=new WeakSet;maybeFlushStreamingTargetWriter_fn$1=function(){__privateGet$1(this,_writer$1)instanceof StreamTargetWriter$1&&__privateGet$1(this,_writer$1).flush()};_ensureNotFinalized$1=new WeakSet;ensureNotFinalized_fn$1=function(){if(__privateGet$1(this,_finalized$1))throw new Error("Cannot add new video or audio chunks after the file has been finalized.")};var __accessCheck=(_,R,P)=>{if(!R.has(_))throw TypeError("Cannot "+P)},__privateGet=(_,R,P)=>(__accessCheck(_,R,"read from private field"),P?P.call(_):R.get(_)),__privateAdd=(_,R,P)=>{if(R.has(_))throw TypeError("Cannot add the same private member more than once");R instanceof WeakSet?R.add(_):R.set(_,P)},__privateSet=(_,R,P,I)=>(__accessCheck(_,R,"write to private field"),R.set(_,P),P),__privateMethod=(_,R,P)=>(__accessCheck(_,R,"access private method"),P),EBMLFloat32=class{constructor(_){this.value=_}},EBMLFloat64=class{constructor(_){this.value=_}},measureUnsignedInt=_=>_<256?1:_<65536?2:_<1<<24?3:_<2**32?4:_<2**40?5:6,measureEBMLVarInt=_=>{if(_<127)return 1;if(_<16383)return 2;if(_<(1<<21)-1)return 3;if(_<(1<<28)-1)return 4;if(_<2**35-1)return 5;if(_<2**42-1)return 6;throw new Error("EBML VINT size not supported "+_)},readBits=(_,R,P)=>{let I=0;for(let O=R;O<P;O++){let z=Math.floor(O/8),L=_[z],F=7-(O&7),U=(L&1<<F)>>F;I<<=1,I|=U}return I},writeBits=(_,R,P,I)=>{for(let O=R;O<P;O++){let z=Math.floor(O/8),L=_[z],F=7-(O&7);L&=~(1<<F),L|=(I&1<<P-O-1)>>P-O-1<<F,_[z]=L}},Target=class{},ArrayBufferTarget=class extends Target{constructor(){super(...arguments),this.buffer=null}},StreamTarget=class extends Target{constructor(_){if(super(),this.options=_,typeof _!="object")throw new TypeError("StreamTarget requires an options object to be passed to its constructor.");if(_.onData){if(typeof _.onData!="function")throw new TypeError("options.onData, when provided, must be a function.");if(_.onData.length<2)throw new TypeError("options.onData, when provided, must be a function that takes in at least two arguments (data and position). Ignoring the position argument, which specifies the byte offset at which the data is to be written, can lead to broken outputs.")}if(_.onHeader&&typeof _.onHeader!="function")throw new TypeError("options.onHeader, when provided, must be a function.");if(_.onCluster&&typeof _.onCluster!="function")throw new TypeError("options.onCluster, when provided, must be a function.");if(_.chunked!==void 0&&typeof _.chunked!="boolean")throw new TypeError("options.chunked, when provided, must be a boolean.");if(_.chunkSize!==void 0&&(!Number.isInteger(_.chunkSize)||_.chunkSize<1024))throw new TypeError("options.chunkSize, when provided, must be an integer and not smaller than 1024.")}},FileSystemWritableFileStreamTarget=class extends Target{constructor(_,R){if(super(),this.stream=_,this.options=R,!(_ instanceof FileSystemWritableFileStream))throw new TypeError("FileSystemWritableFileStreamTarget requires a FileSystemWritableFileStream instance.");if(R!==void 0&&typeof R!="object")throw new TypeError("FileSystemWritableFileStreamTarget's options, when provided, must be an object.");if(R&&R.chunkSize!==void 0&&(!Number.isInteger(R.chunkSize)||R.chunkSize<=0))throw new TypeError("options.chunkSize, when provided, must be a positive integer")}},_helper,_helperView,_writeByte,writeByte_fn,_writeFloat32,writeFloat32_fn,_writeFloat64,writeFloat64_fn,_writeUnsignedInt,writeUnsignedInt_fn,_writeString,writeString_fn,Writer=class{constructor(){__privateAdd(this,_writeByte),__privateAdd(this,_writeFloat32),__privateAdd(this,_writeFloat64),__privateAdd(this,_writeUnsignedInt),__privateAdd(this,_writeString),this.pos=0,__privateAdd(this,_helper,new Uint8Array(8)),__privateAdd(this,_helperView,new DataView(__privateGet(this,_helper).buffer)),this.offsets=new WeakMap,this.dataOffsets=new WeakMap}seek(_){this.pos=_}writeEBMLVarInt(_,R=measureEBMLVarInt(_)){let P=0;switch(R){case 1:__privateGet(this,_helperView).setUint8(P++,128|_);break;case 2:__privateGet(this,_helperView).setUint8(P++,64|_>>8),__privateGet(this,_helperView).setUint8(P++,_);break;case 3:__privateGet(this,_helperView).setUint8(P++,32|_>>16),__privateGet(this,_helperView).setUint8(P++,_>>8),__privateGet(this,_helperView).setUint8(P++,_);break;case 4:__privateGet(this,_helperView).setUint8(P++,16|_>>24),__privateGet(this,_helperView).setUint8(P++,_>>16),__privateGet(this,_helperView).setUint8(P++,_>>8),__privateGet(this,_helperView).setUint8(P++,_);break;case 5:__privateGet(this,_helperView).setUint8(P++,8|_/2**32&7),__privateGet(this,_helperView).setUint8(P++,_>>24),__privateGet(this,_helperView).setUint8(P++,_>>16),__privateGet(this,_helperView).setUint8(P++,_>>8),__privateGet(this,_helperView).setUint8(P++,_);break;case 6:__privateGet(this,_helperView).setUint8(P++,4|_/2**40&3),__privateGet(this,_helperView).setUint8(P++,_/2**32|0),__privateGet(this,_helperView).setUint8(P++,_>>24),__privateGet(this,_helperView).setUint8(P++,_>>16),__privateGet(this,_helperView).setUint8(P++,_>>8),__privateGet(this,_helperView).setUint8(P++,_);break;default:throw new Error("Bad EBML VINT size "+R)}this.write(__privateGet(this,_helper).subarray(0,P))}writeEBML(_){if(_!==null)if(_ instanceof Uint8Array)this.write(_);else if(Array.isArray(_))for(let R of _)this.writeEBML(R);else if(this.offsets.set(_,this.pos),__privateMethod(this,_writeUnsignedInt,writeUnsignedInt_fn).call(this,_.id),Array.isArray(_.data)){let R=this.pos,P=_.size===-1?1:_.size??4;_.size===-1?__privateMethod(this,_writeByte,writeByte_fn).call(this,255):this.seek(this.pos+P);let I=this.pos;if(this.dataOffsets.set(_,I),this.writeEBML(_.data),_.size!==-1){let O=this.pos-I,z=this.pos;this.seek(R),this.writeEBMLVarInt(O,P),this.seek(z)}}else if(typeof _.data=="number"){let R=_.size??measureUnsignedInt(_.data);this.writeEBMLVarInt(R),__privateMethod(this,_writeUnsignedInt,writeUnsignedInt_fn).call(this,_.data,R)}else typeof _.data=="string"?(this.writeEBMLVarInt(_.data.length),__privateMethod(this,_writeString,writeString_fn).call(this,_.data)):_.data instanceof Uint8Array?(this.writeEBMLVarInt(_.data.byteLength,_.size),this.write(_.data)):_.data instanceof EBMLFloat32?(this.writeEBMLVarInt(4),__privateMethod(this,_writeFloat32,writeFloat32_fn).call(this,_.data.value)):_.data instanceof EBMLFloat64&&(this.writeEBMLVarInt(8),__privateMethod(this,_writeFloat64,writeFloat64_fn).call(this,_.data.value))}};_helper=new WeakMap;_helperView=new WeakMap;_writeByte=new WeakSet;writeByte_fn=function(_){__privateGet(this,_helperView).setUint8(0,_),this.write(__privateGet(this,_helper).subarray(0,1))};_writeFloat32=new WeakSet;writeFloat32_fn=function(_){__privateGet(this,_helperView).setFloat32(0,_,!1),this.write(__privateGet(this,_helper).subarray(0,4))};_writeFloat64=new WeakSet;writeFloat64_fn=function(_){__privateGet(this,_helperView).setFloat64(0,_,!1),this.write(__privateGet(this,_helper))};_writeUnsignedInt=new WeakSet;writeUnsignedInt_fn=function(_,R=measureUnsignedInt(_)){let P=0;switch(R){case 6:__privateGet(this,_helperView).setUint8(P++,_/2**40|0);case 5:__privateGet(this,_helperView).setUint8(P++,_/2**32|0);case 4:__privateGet(this,_helperView).setUint8(P++,_>>24);case 3:__privateGet(this,_helperView).setUint8(P++,_>>16);case 2:__privateGet(this,_helperView).setUint8(P++,_>>8);case 1:__privateGet(this,_helperView).setUint8(P++,_);break;default:throw new Error("Bad UINT size "+R)}this.write(__privateGet(this,_helper).subarray(0,P))};_writeString=new WeakSet;writeString_fn=function(_){this.write(new Uint8Array(_.split("").map(R=>R.charCodeAt(0))))};var _target,_buffer,_bytes,_ensureSize,ensureSize_fn,ArrayBufferTargetWriter=class extends Writer{constructor(_){super(),__privateAdd(this,_ensureSize),__privateAdd(this,_target,void 0),__privateAdd(this,_buffer,new ArrayBuffer(2**16)),__privateAdd(this,_bytes,new Uint8Array(__privateGet(this,_buffer))),__privateSet(this,_target,_)}write(_){__privateMethod(this,_ensureSize,ensureSize_fn).call(this,this.pos+_.byteLength),__privateGet(this,_bytes).set(_,this.pos),this.pos+=_.byteLength}finalize(){__privateMethod(this,_ensureSize,ensureSize_fn).call(this,this.pos),__privateGet(this,_target).buffer=__privateGet(this,_buffer).slice(0,this.pos)}};_target=new WeakMap;_buffer=new WeakMap;_bytes=new WeakMap;_ensureSize=new WeakSet;ensureSize_fn=function(_){let R=__privateGet(this,_buffer).byteLength;for(;R<_;)R*=2;if(R===__privateGet(this,_buffer).byteLength)return;let P=new ArrayBuffer(R),I=new Uint8Array(P);I.set(__privateGet(this,_bytes),0),__privateSet(this,_buffer,P),__privateSet(this,_bytes,I)};var _trackingWrites,_trackedWrites,_trackedStart,_trackedEnd,BaseStreamTargetWriter=class extends Writer{constructor(_){super(),this.target=_,__privateAdd(this,_trackingWrites,!1),__privateAdd(this,_trackedWrites,void 0),__privateAdd(this,_trackedStart,void 0),__privateAdd(this,_trackedEnd,void 0)}write(_){if(!__privateGet(this,_trackingWrites))return;let R=this.pos;if(R<__privateGet(this,_trackedStart)){if(R+_.byteLength<=__privateGet(this,_trackedStart))return;_=_.subarray(__privateGet(this,_trackedStart)-R),R=0}let P=R+_.byteLength-__privateGet(this,_trackedStart),I=__privateGet(this,_trackedWrites).byteLength;for(;I<P;)I*=2;if(I!==__privateGet(this,_trackedWrites).byteLength){let O=new Uint8Array(I);O.set(__privateGet(this,_trackedWrites),0),__privateSet(this,_trackedWrites,O)}__privateGet(this,_trackedWrites).set(_,R-__privateGet(this,_trackedStart)),__privateSet(this,_trackedEnd,Math.max(__privateGet(this,_trackedEnd),R+_.byteLength))}startTrackingWrites(){__privateSet(this,_trackingWrites,!0),__privateSet(this,_trackedWrites,new Uint8Array(2**10)),__privateSet(this,_trackedStart,this.pos),__privateSet(this,_trackedEnd,this.pos)}getTrackedWrites(){if(!__privateGet(this,_trackingWrites))throw new Error("Can't get tracked writes since nothing was tracked.");let R={data:__privateGet(this,_trackedWrites).subarray(0,__privateGet(this,_trackedEnd)-__privateGet(this,_trackedStart)),start:__privateGet(this,_trackedStart),end:__privateGet(this,_trackedEnd)};return __privateSet(this,_trackedWrites,void 0),__privateSet(this,_trackingWrites,!1),R}};_trackingWrites=new WeakMap;_trackedWrites=new WeakMap;_trackedStart=new WeakMap;_trackedEnd=new WeakMap;var DEFAULT_CHUNK_SIZE=2**24,MAX_CHUNKS_AT_ONCE=2,_sections,_lastFlushEnd,_ensureMonotonicity,_chunked,_chunkSize,_chunks,_writeDataIntoChunks,writeDataIntoChunks_fn,_insertSectionIntoChunk,insertSectionIntoChunk_fn,_createChunk,createChunk_fn,_flushChunks,flushChunks_fn,StreamTargetWriter=class extends BaseStreamTargetWriter{constructor(_,R){super(_),__privateAdd(this,_writeDataIntoChunks),__privateAdd(this,_insertSectionIntoChunk),__privateAdd(this,_createChunk),__privateAdd(this,_flushChunks),__privateAdd(this,_sections,[]),__privateAdd(this,_lastFlushEnd,0),__privateAdd(this,_ensureMonotonicity,void 0),__privateAdd(this,_chunked,void 0),__privateAdd(this,_chunkSize,void 0),__privateAdd(this,_chunks,[]),__privateSet(this,_ensureMonotonicity,R),__privateSet(this,_chunked,_.options?.chunked??!1),__privateSet(this,_chunkSize,_.options?.chunkSize??DEFAULT_CHUNK_SIZE)}write(_){super.write(_),__privateGet(this,_sections).push({data:_.slice(),start:this.pos}),this.pos+=_.byteLength}flush(){if(__privateGet(this,_sections).length===0)return;let _=[],R=[...__privateGet(this,_sections)].sort((P,I)=>P.start-I.start);_.push({start:R[0].start,size:R[0].data.byteLength});for(let P=1;P<R.length;P++){let I=_[_.length-1],O=R[P];O.start<=I.start+I.size?I.size=Math.max(I.size,O.start+O.data.byteLength-I.start):_.push({start:O.start,size:O.data.byteLength})}for(let P of _){P.data=new Uint8Array(P.size);for(let I of __privateGet(this,_sections))P.start<=I.start&&I.start<P.start+P.size&&P.data.set(I.data,I.start-P.start);if(__privateGet(this,_chunked))__privateMethod(this,_writeDataIntoChunks,writeDataIntoChunks_fn).call(this,P.data,P.start),__privateMethod(this,_flushChunks,flushChunks_fn).call(this);else{if(__privateGet(this,_ensureMonotonicity)&&P.start<__privateGet(this,_lastFlushEnd))throw new Error("Internal error: Monotonicity violation.");this.target.options.onData?.(P.data,P.start),__privateSet(this,_lastFlushEnd,P.start+P.data.byteLength)}}__privateGet(this,_sections).length=0}finalize(){__privateGet(this,_chunked)&&__privateMethod(this,_flushChunks,flushChunks_fn).call(this,!0)}};_sections=new WeakMap;_lastFlushEnd=new WeakMap;_ensureMonotonicity=new WeakMap;_chunked=new WeakMap;_chunkSize=new WeakMap;_chunks=new WeakMap;_writeDataIntoChunks=new WeakSet;writeDataIntoChunks_fn=function(_,R){let P=__privateGet(this,_chunks).findIndex(F=>F.start<=R&&R<F.start+__privateGet(this,_chunkSize));P===-1&&(P=__privateMethod(this,_createChunk,createChunk_fn).call(this,R));let I=__privateGet(this,_chunks)[P],O=R-I.start,z=_.subarray(0,Math.min(__privateGet(this,_chunkSize)-O,_.byteLength));I.data.set(z,O);let L={start:O,end:O+z.byteLength};if(__privateMethod(this,_insertSectionIntoChunk,insertSectionIntoChunk_fn).call(this,I,L),I.written[0].start===0&&I.written[0].end===__privateGet(this,_chunkSize)&&(I.shouldFlush=!0),__privateGet(this,_chunks).length>MAX_CHUNKS_AT_ONCE){for(let F=0;F<__privateGet(this,_chunks).length-1;F++)__privateGet(this,_chunks)[F].shouldFlush=!0;__privateMethod(this,_flushChunks,flushChunks_fn).call(this)}z.byteLength<_.byteLength&&__privateMethod(this,_writeDataIntoChunks,writeDataIntoChunks_fn).call(this,_.subarray(z.byteLength),R+z.byteLength)};_insertSectionIntoChunk=new WeakSet;insertSectionIntoChunk_fn=function(_,R){let P=0,I=_.written.length-1,O=-1;for(;P<=I;){let z=Math.floor(P+(I-P+1)/2);_.written[z].start<=R.start?(P=z+1,O=z):I=z-1}for(_.written.splice(O+1,0,R),(O===-1||_.written[O].end<R.start)&&O++;O<_.written.length-1&&_.written[O].end>=_.written[O+1].start;)_.written[O].end=Math.max(_.written[O].end,_.written[O+1].end),_.written.splice(O+1,1)};_createChunk=new WeakSet;createChunk_fn=function(_){let P={start:Math.floor(_/__privateGet(this,_chunkSize))*__privateGet(this,_chunkSize),data:new Uint8Array(__privateGet(this,_chunkSize)),written:[],shouldFlush:!1};return __privateGet(this,_chunks).push(P),__privateGet(this,_chunks).sort((I,O)=>I.start-O.start),__privateGet(this,_chunks).indexOf(P)};_flushChunks=new WeakSet;flushChunks_fn=function(_=!1){for(let R=0;R<__privateGet(this,_chunks).length;R++){let P=__privateGet(this,_chunks)[R];if(!(!P.shouldFlush&&!_)){for(let I of P.written){if(__privateGet(this,_ensureMonotonicity)&&P.start+I.start<__privateGet(this,_lastFlushEnd))throw new Error("Internal error: Monotonicity violation.");this.target.options.onData?.(P.data.subarray(I.start,I.end),P.start+I.start),__privateSet(this,_lastFlushEnd,P.start+I.end)}__privateGet(this,_chunks).splice(R--,1)}}};var FileSystemWritableFileStreamTargetWriter=class extends StreamTargetWriter{constructor(_,R){super(new StreamTarget({onData:(P,I)=>_.stream.write({type:"write",data:P,position:I}),chunked:!0,chunkSize:_.options?.chunkSize}),R)}},VIDEO_TRACK_NUMBER=1,AUDIO_TRACK_NUMBER=2,SUBTITLE_TRACK_NUMBER=3,VIDEO_TRACK_TYPE=1,AUDIO_TRACK_TYPE=2,SUBTITLE_TRACK_TYPE=17,MAX_CHUNK_LENGTH_MS=2**15,CODEC_PRIVATE_MAX_SIZE=2**13,APP_NAME="https://github.com/Vanilagy/webm-muxer",SEGMENT_SIZE_BYTES=6,CLUSTER_SIZE_BYTES=5,FIRST_TIMESTAMP_BEHAVIORS=["strict","offset","permissive"],_options,_writer,_segment,_segmentInfo,_seekHead,_tracksElement,_segmentDuration,_colourElement,_videoCodecPrivate,_audioCodecPrivate,_subtitleCodecPrivate,_cues,_currentCluster,_currentClusterTimestamp,_duration,_videoChunkQueue,_audioChunkQueue,_subtitleChunkQueue,_firstVideoTimestamp,_firstAudioTimestamp,_lastVideoTimestamp,_lastAudioTimestamp,_lastSubtitleTimestamp,_colorSpace,_finalized,_validateOptions,validateOptions_fn,_createFileHeader,createFileHeader_fn,_writeEBMLHeader,writeEBMLHeader_fn,_createCodecPrivatePlaceholders,createCodecPrivatePlaceholders_fn,_createColourElement,createColourElement_fn,_createSeekHead,createSeekHead_fn,_createSegmentInfo,createSegmentInfo_fn,_createTracks,createTracks_fn,_createSegment,createSegment_fn,_createCues,createCues_fn,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn,_segmentDataOffset,segmentDataOffset_get,_writeVideoDecoderConfig,writeVideoDecoderConfig_fn,_fixVP9ColorSpace,fixVP9ColorSpace_fn,_writeSubtitleChunks,writeSubtitleChunks_fn,_createInternalChunk,createInternalChunk_fn,_validateTimestamp,validateTimestamp_fn,_writeBlock,writeBlock_fn,_createCodecPrivateElement,createCodecPrivateElement_fn,_writeCodecPrivate,writeCodecPrivate_fn,_createNewCluster,createNewCluster_fn,_finalizeCurrentCluster,finalizeCurrentCluster_fn,_ensureNotFinalized,ensureNotFinalized_fn,Muxer=class{constructor(_){__privateAdd(this,_validateOptions),__privateAdd(this,_createFileHeader),__privateAdd(this,_writeEBMLHeader),__privateAdd(this,_createCodecPrivatePlaceholders),__privateAdd(this,_createColourElement),__privateAdd(this,_createSeekHead),__privateAdd(this,_createSegmentInfo),__privateAdd(this,_createTracks),__privateAdd(this,_createSegment),__privateAdd(this,_createCues),__privateAdd(this,_maybeFlushStreamingTargetWriter),__privateAdd(this,_segmentDataOffset),__privateAdd(this,_writeVideoDecoderConfig),__privateAdd(this,_fixVP9ColorSpace),__privateAdd(this,_writeSubtitleChunks),__privateAdd(this,_createInternalChunk),__privateAdd(this,_validateTimestamp),__privateAdd(this,_writeBlock),__privateAdd(this,_createCodecPrivateElement),__privateAdd(this,_writeCodecPrivate),__privateAdd(this,_createNewCluster),__privateAdd(this,_finalizeCurrentCluster),__privateAdd(this,_ensureNotFinalized),__privateAdd(this,_options,void 0),__privateAdd(this,_writer,void 0),__privateAdd(this,_segment,void 0),__privateAdd(this,_segmentInfo,void 0),__privateAdd(this,_seekHead,void 0),__privateAdd(this,_tracksElement,void 0),__privateAdd(this,_segmentDuration,void 0),__privateAdd(this,_colourElement,void 0),__privateAdd(this,_videoCodecPrivate,void 0),__privateAdd(this,_audioCodecPrivate,void 0),__privateAdd(this,_subtitleCodecPrivate,void 0),__privateAdd(this,_cues,void 0),__privateAdd(this,_currentCluster,void 0),__privateAdd(this,_currentClusterTimestamp,void 0),__privateAdd(this,_duration,0),__privateAdd(this,_videoChunkQueue,[]),__privateAdd(this,_audioChunkQueue,[]),__privateAdd(this,_subtitleChunkQueue,[]),__privateAdd(this,_firstVideoTimestamp,void 0),__privateAdd(this,_firstAudioTimestamp,void 0),__privateAdd(this,_lastVideoTimestamp,-1),__privateAdd(this,_lastAudioTimestamp,-1),__privateAdd(this,_lastSubtitleTimestamp,-1),__privateAdd(this,_colorSpace,void 0),__privateAdd(this,_finalized,!1),__privateMethod(this,_validateOptions,validateOptions_fn).call(this,_),__privateSet(this,_options,{type:"webm",firstTimestampBehavior:"strict",..._}),this.target=_.target;let R=!!__privateGet(this,_options).streaming;if(_.target instanceof ArrayBufferTarget)__privateSet(this,_writer,new ArrayBufferTargetWriter(_.target));else if(_.target instanceof StreamTarget)__privateSet(this,_writer,new StreamTargetWriter(_.target,R));else if(_.target instanceof FileSystemWritableFileStreamTarget)__privateSet(this,_writer,new FileSystemWritableFileStreamTargetWriter(_.target,R));else throw new Error(`Invalid target: ${_.target}`);__privateMethod(this,_createFileHeader,createFileHeader_fn).call(this)}addVideoChunk(_,R,P){if(!(_ instanceof EncodedVideoChunk))throw new TypeError("addVideoChunk's first argument (chunk) must be of type EncodedVideoChunk.");if(R&&typeof R!="object")throw new TypeError("addVideoChunk's second argument (meta), when provided, must be an object.");if(P!==void 0&&(!Number.isFinite(P)||P<0))throw new TypeError("addVideoChunk's third argument (timestamp), when provided, must be a non-negative real number.");let I=new Uint8Array(_.byteLength);_.copyTo(I),this.addVideoChunkRaw(I,_.type,P??_.timestamp,R)}addVideoChunkRaw(_,R,P,I){if(!(_ instanceof Uint8Array))throw new TypeError("addVideoChunkRaw's first argument (data) must be an instance of Uint8Array.");if(R!=="key"&&R!=="delta")throw new TypeError("addVideoChunkRaw's second argument (type) must be either 'key' or 'delta'.");if(!Number.isFinite(P)||P<0)throw new TypeError("addVideoChunkRaw's third argument (timestamp) must be a non-negative real number.");if(I&&typeof I!="object")throw new TypeError("addVideoChunkRaw's fourth argument (meta), when provided, must be an object.");if(__privateMethod(this,_ensureNotFinalized,ensureNotFinalized_fn).call(this),!__privateGet(this,_options).video)throw new Error("No video track declared.");__privateGet(this,_firstVideoTimestamp)===void 0&&__privateSet(this,_firstVideoTimestamp,P),I&&__privateMethod(this,_writeVideoDecoderConfig,writeVideoDecoderConfig_fn).call(this,I);let O=__privateMethod(this,_createInternalChunk,createInternalChunk_fn).call(this,_,R,P,VIDEO_TRACK_NUMBER);for(__privateGet(this,_options).video.codec==="V_VP9"&&__privateMethod(this,_fixVP9ColorSpace,fixVP9ColorSpace_fn).call(this,O),__privateSet(this,_lastVideoTimestamp,O.timestamp);__privateGet(this,_audioChunkQueue).length>0&&__privateGet(this,_audioChunkQueue)[0].timestamp<=O.timestamp;){let z=__privateGet(this,_audioChunkQueue).shift();__privateMethod(this,_writeBlock,writeBlock_fn).call(this,z,!1)}!__privateGet(this,_options).audio||O.timestamp<=__privateGet(this,_lastAudioTimestamp)?__privateMethod(this,_writeBlock,writeBlock_fn).call(this,O,!0):__privateGet(this,_videoChunkQueue).push(O),__privateMethod(this,_writeSubtitleChunks,writeSubtitleChunks_fn).call(this),__privateMethod(this,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn).call(this)}addAudioChunk(_,R,P){if(!(_ instanceof EncodedAudioChunk))throw new TypeError("addAudioChunk's first argument (chunk) must be of type EncodedAudioChunk.");if(R&&typeof R!="object")throw new TypeError("addAudioChunk's second argument (meta), when provided, must be an object.");if(P!==void 0&&(!Number.isFinite(P)||P<0))throw new TypeError("addAudioChunk's third argument (timestamp), when provided, must be a non-negative real number.");let I=new Uint8Array(_.byteLength);_.copyTo(I),this.addAudioChunkRaw(I,_.type,P??_.timestamp,R)}addAudioChunkRaw(_,R,P,I){if(!(_ instanceof Uint8Array))throw new TypeError("addAudioChunkRaw's first argument (data) must be an instance of Uint8Array.");if(R!=="key"&&R!=="delta")throw new TypeError("addAudioChunkRaw's second argument (type) must be either 'key' or 'delta'.");if(!Number.isFinite(P)||P<0)throw new TypeError("addAudioChunkRaw's third argument (timestamp) must be a non-negative real number.");if(I&&typeof I!="object")throw new TypeError("addAudioChunkRaw's fourth argument (meta), when provided, must be an object.");if(__privateMethod(this,_ensureNotFinalized,ensureNotFinalized_fn).call(this),!__privateGet(this,_options).audio)throw new Error("No audio track declared.");__privateGet(this,_firstAudioTimestamp)===void 0&&__privateSet(this,_firstAudioTimestamp,P),I?.decoderConfig&&(__privateGet(this,_options).streaming?__privateSet(this,_audioCodecPrivate,__privateMethod(this,_createCodecPrivateElement,createCodecPrivateElement_fn).call(this,I.decoderConfig.description)):__privateMethod(this,_writeCodecPrivate,writeCodecPrivate_fn).call(this,__privateGet(this,_audioCodecPrivate),I.decoderConfig.description));let O=__privateMethod(this,_createInternalChunk,createInternalChunk_fn).call(this,_,R,P,AUDIO_TRACK_NUMBER);for(__privateSet(this,_lastAudioTimestamp,O.timestamp);__privateGet(this,_videoChunkQueue).length>0&&__privateGet(this,_videoChunkQueue)[0].timestamp<=O.timestamp;){let z=__privateGet(this,_videoChunkQueue).shift();__privateMethod(this,_writeBlock,writeBlock_fn).call(this,z,!0)}!__privateGet(this,_options).video||O.timestamp<=__privateGet(this,_lastVideoTimestamp)?__privateMethod(this,_writeBlock,writeBlock_fn).call(this,O,!__privateGet(this,_options).video):__privateGet(this,_audioChunkQueue).push(O),__privateMethod(this,_writeSubtitleChunks,writeSubtitleChunks_fn).call(this),__privateMethod(this,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn).call(this)}addSubtitleChunk(_,R,P){if(typeof _!="object"||!_)throw new TypeError("addSubtitleChunk's first argument (chunk) must be an object.");if(!(_.body instanceof Uint8Array))throw new TypeError("body must be an instance of Uint8Array.");if(!Number.isFinite(_.timestamp)||_.timestamp<0)throw new TypeError("timestamp must be a non-negative real number.");if(!Number.isFinite(_.duration)||_.duration<0)throw new TypeError("duration must be a non-negative real number.");if(_.additions&&!(_.additions instanceof Uint8Array))throw new TypeError("additions, when present, must be an instance of Uint8Array.");if(typeof R!="object")throw new TypeError("addSubtitleChunk's second argument (meta) must be an object.");if(__privateMethod(this,_ensureNotFinalized,ensureNotFinalized_fn).call(this),!__privateGet(this,_options).subtitles)throw new Error("No subtitle track declared.");R?.decoderConfig&&(__privateGet(this,_options).streaming?__privateSet(this,_subtitleCodecPrivate,__privateMethod(this,_createCodecPrivateElement,createCodecPrivateElement_fn).call(this,R.decoderConfig.description)):__privateMethod(this,_writeCodecPrivate,writeCodecPrivate_fn).call(this,__privateGet(this,_subtitleCodecPrivate),R.decoderConfig.description));let I=__privateMethod(this,_createInternalChunk,createInternalChunk_fn).call(this,_.body,"key",P??_.timestamp,SUBTITLE_TRACK_NUMBER,_.duration,_.additions);__privateSet(this,_lastSubtitleTimestamp,I.timestamp),__privateGet(this,_subtitleChunkQueue).push(I),__privateMethod(this,_writeSubtitleChunks,writeSubtitleChunks_fn).call(this),__privateMethod(this,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn).call(this)}finalize(){if(__privateGet(this,_finalized))throw new Error("Cannot finalize a muxer more than once.");for(;__privateGet(this,_videoChunkQueue).length>0;)__privateMethod(this,_writeBlock,writeBlock_fn).call(this,__privateGet(this,_videoChunkQueue).shift(),!0);for(;__privateGet(this,_audioChunkQueue).length>0;)__privateMethod(this,_writeBlock,writeBlock_fn).call(this,__privateGet(this,_audioChunkQueue).shift(),!0);for(;__privateGet(this,_subtitleChunkQueue).length>0&&__privateGet(this,_subtitleChunkQueue)[0].timestamp<=__privateGet(this,_duration);)__privateMethod(this,_writeBlock,writeBlock_fn).call(this,__privateGet(this,_subtitleChunkQueue).shift(),!1);if(__privateGet(this,_currentCluster)&&__privateMethod(this,_finalizeCurrentCluster,finalizeCurrentCluster_fn).call(this),__privateGet(this,_writer).writeEBML(__privateGet(this,_cues)),!__privateGet(this,_options).streaming){let _=__privateGet(this,_writer).pos,R=__privateGet(this,_writer).pos-__privateGet(this,_segmentDataOffset,segmentDataOffset_get);__privateGet(this,_writer).seek(__privateGet(this,_writer).offsets.get(__privateGet(this,_segment))+4),__privateGet(this,_writer).writeEBMLVarInt(R,SEGMENT_SIZE_BYTES),__privateGet(this,_segmentDuration).data=new EBMLFloat64(__privateGet(this,_duration)),__privateGet(this,_writer).seek(__privateGet(this,_writer).offsets.get(__privateGet(this,_segmentDuration))),__privateGet(this,_writer).writeEBML(__privateGet(this,_segmentDuration)),__privateGet(this,_seekHead).data[0].data[1].data=__privateGet(this,_writer).offsets.get(__privateGet(this,_cues))-__privateGet(this,_segmentDataOffset,segmentDataOffset_get),__privateGet(this,_seekHead).data[1].data[1].data=__privateGet(this,_writer).offsets.get(__privateGet(this,_segmentInfo))-__privateGet(this,_segmentDataOffset,segmentDataOffset_get),__privateGet(this,_seekHead).data[2].data[1].data=__privateGet(this,_writer).offsets.get(__privateGet(this,_tracksElement))-__privateGet(this,_segmentDataOffset,segmentDataOffset_get),__privateGet(this,_writer).seek(__privateGet(this,_writer).offsets.get(__privateGet(this,_seekHead))),__privateGet(this,_writer).writeEBML(__privateGet(this,_seekHead)),__privateGet(this,_writer).seek(_)}__privateMethod(this,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn).call(this),__privateGet(this,_writer).finalize(),__privateSet(this,_finalized,!0)}};_options=new WeakMap;_writer=new WeakMap;_segment=new WeakMap;_segmentInfo=new WeakMap;_seekHead=new WeakMap;_tracksElement=new WeakMap;_segmentDuration=new WeakMap;_colourElement=new WeakMap;_videoCodecPrivate=new WeakMap;_audioCodecPrivate=new WeakMap;_subtitleCodecPrivate=new WeakMap;_cues=new WeakMap;_currentCluster=new WeakMap;_currentClusterTimestamp=new WeakMap;_duration=new WeakMap;_videoChunkQueue=new WeakMap;_audioChunkQueue=new WeakMap;_subtitleChunkQueue=new WeakMap;_firstVideoTimestamp=new WeakMap;_firstAudioTimestamp=new WeakMap;_lastVideoTimestamp=new WeakMap;_lastAudioTimestamp=new WeakMap;_lastSubtitleTimestamp=new WeakMap;_colorSpace=new WeakMap;_finalized=new WeakMap;_validateOptions=new WeakSet;validateOptions_fn=function(_){if(typeof _!="object")throw new TypeError("The muxer requires an options object to be passed to its constructor.");if(!(_.target instanceof Target))throw new TypeError("The target must be provided and an instance of Target.");if(_.video){if(typeof _.video.codec!="string")throw new TypeError(`Invalid video codec: ${_.video.codec}. Must be a string.`);if(!Number.isInteger(_.video.width)||_.video.width<=0)throw new TypeError(`Invalid video width: ${_.video.width}. Must be a positive integer.`);if(!Number.isInteger(_.video.height)||_.video.height<=0)throw new TypeError(`Invalid video height: ${_.video.height}. Must be a positive integer.`);if(_.video.frameRate!==void 0&&(!Number.isFinite(_.video.frameRate)||_.video.frameRate<=0))throw new TypeError(`Invalid video frame rate: ${_.video.frameRate}. Must be a positive number.`);if(_.video.alpha!==void 0&&typeof _.video.alpha!="boolean")throw new TypeError(`Invalid video alpha: ${_.video.alpha}. Must be a boolean.`)}if(_.audio){if(typeof _.audio.codec!="string")throw new TypeError(`Invalid audio codec: ${_.audio.codec}. Must be a string.`);if(!Number.isInteger(_.audio.numberOfChannels)||_.audio.numberOfChannels<=0)throw new TypeError(`Invalid number of audio channels: ${_.audio.numberOfChannels}. Must be a positive integer.`);if(!Number.isInteger(_.audio.sampleRate)||_.audio.sampleRate<=0)throw new TypeError(`Invalid audio sample rate: ${_.audio.sampleRate}. Must be a positive integer.`);if(_.audio.bitDepth!==void 0&&(!Number.isInteger(_.audio.bitDepth)||_.audio.bitDepth<=0))throw new TypeError(`Invalid audio bit depth: ${_.audio.bitDepth}. Must be a positive integer.`)}if(_.subtitles&&typeof _.subtitles.codec!="string")throw new TypeError(`Invalid subtitles codec: ${_.subtitles.codec}. Must be a string.`);if(_.type!==void 0&&!["webm","matroska"].includes(_.type))throw new TypeError(`Invalid type: ${_.type}. Must be 'webm' or 'matroska'.`);if(_.firstTimestampBehavior&&!FIRST_TIMESTAMP_BEHAVIORS.includes(_.firstTimestampBehavior))throw new TypeError(`Invalid first timestamp behavior: ${_.firstTimestampBehavior}`);if(_.streaming!==void 0&&typeof _.streaming!="boolean")throw new TypeError(`Invalid streaming option: ${_.streaming}. Must be a boolean.`)};_createFileHeader=new WeakSet;createFileHeader_fn=function(){__privateGet(this,_writer)instanceof BaseStreamTargetWriter&&__privateGet(this,_writer).target.options.onHeader&&__privateGet(this,_writer).startTrackingWrites(),__privateMethod(this,_writeEBMLHeader,writeEBMLHeader_fn).call(this),__privateGet(this,_options).streaming||__privateMethod(this,_createSeekHead,createSeekHead_fn).call(this),__privateMethod(this,_createSegmentInfo,createSegmentInfo_fn).call(this),__privateMethod(this,_createCodecPrivatePlaceholders,createCodecPrivatePlaceholders_fn).call(this),__privateMethod(this,_createColourElement,createColourElement_fn).call(this),__privateGet(this,_options).streaming||(__privateMethod(this,_createTracks,createTracks_fn).call(this),__privateMethod(this,_createSegment,createSegment_fn).call(this)),__privateMethod(this,_createCues,createCues_fn).call(this),__privateMethod(this,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn).call(this)};_writeEBMLHeader=new WeakSet;writeEBMLHeader_fn=function(){let _={id:440786851,data:[{id:17030,data:1},{id:17143,data:1},{id:17138,data:4},{id:17139,data:8},{id:17026,data:__privateGet(this,_options).type??"webm"},{id:17031,data:2},{id:17029,data:2}]};__privateGet(this,_writer).writeEBML(_)};_createCodecPrivatePlaceholders=new WeakSet;createCodecPrivatePlaceholders_fn=function(){__privateSet(this,_videoCodecPrivate,{id:236,size:4,data:new Uint8Array(CODEC_PRIVATE_MAX_SIZE)}),__privateSet(this,_audioCodecPrivate,{id:236,size:4,data:new Uint8Array(CODEC_PRIVATE_MAX_SIZE)}),__privateSet(this,_subtitleCodecPrivate,{id:236,size:4,data:new Uint8Array(CODEC_PRIVATE_MAX_SIZE)})};_createColourElement=new WeakSet;createColourElement_fn=function(){__privateSet(this,_colourElement,{id:21936,data:[{id:21937,data:2},{id:21946,data:2},{id:21947,data:2},{id:21945,data:0}]})};_createSeekHead=new WeakSet;createSeekHead_fn=function(){const _=new Uint8Array([28,83,187,107]),R=new Uint8Array([21,73,169,102]),P=new Uint8Array([22,84,174,107]);__privateSet(this,_seekHead,{id:290298740,data:[{id:19899,data:[{id:21419,data:_},{id:21420,size:5,data:0}]},{id:19899,data:[{id:21419,data:R},{id:21420,size:5,data:0}]},{id:19899,data:[{id:21419,data:P},{id:21420,size:5,data:0}]}]})};_createSegmentInfo=new WeakSet;createSegmentInfo_fn=function(){let _={id:17545,data:new EBMLFloat64(0)};__privateSet(this,_segmentDuration,_);let R={id:357149030,data:[{id:2807729,data:1e6},{id:19840,data:APP_NAME},{id:22337,data:APP_NAME},__privateGet(this,_options).streaming?null:_]};__privateSet(this,_segmentInfo,R)};_createTracks=new WeakSet;createTracks_fn=function(){let _={id:374648427,data:[]};__privateSet(this,_tracksElement,_),__privateGet(this,_options).video&&_.data.push({id:174,data:[{id:215,data:VIDEO_TRACK_NUMBER},{id:29637,data:VIDEO_TRACK_NUMBER},{id:131,data:VIDEO_TRACK_TYPE},{id:134,data:__privateGet(this,_options).video.codec},__privateGet(this,_videoCodecPrivate),__privateGet(this,_options).video.frameRate?{id:2352003,data:1e9/__privateGet(this,_options).video.frameRate}:null,{id:224,data:[{id:176,data:__privateGet(this,_options).video.width},{id:186,data:__privateGet(this,_options).video.height},__privateGet(this,_options).video.alpha?{id:21440,data:1}:null,__privateGet(this,_colourElement)]}]}),__privateGet(this,_options).audio&&(__privateSet(this,_audioCodecPrivate,__privateGet(this,_options).streaming?__privateGet(this,_audioCodecPrivate)||null:{id:236,size:4,data:new Uint8Array(CODEC_PRIVATE_MAX_SIZE)}),_.data.push({id:174,data:[{id:215,data:AUDIO_TRACK_NUMBER},{id:29637,data:AUDIO_TRACK_NUMBER},{id:131,data:AUDIO_TRACK_TYPE},{id:134,data:__privateGet(this,_options).audio.codec},__privateGet(this,_audioCodecPrivate),{id:225,data:[{id:181,data:new EBMLFloat32(__privateGet(this,_options).audio.sampleRate)},{id:159,data:__privateGet(this,_options).audio.numberOfChannels},__privateGet(this,_options).audio.bitDepth?{id:25188,data:__privateGet(this,_options).audio.bitDepth}:null]}]})),__privateGet(this,_options).subtitles&&_.data.push({id:174,data:[{id:215,data:SUBTITLE_TRACK_NUMBER},{id:29637,data:SUBTITLE_TRACK_NUMBER},{id:131,data:SUBTITLE_TRACK_TYPE},{id:134,data:__privateGet(this,_options).subtitles.codec},__privateGet(this,_subtitleCodecPrivate)]})};_createSegment=new WeakSet;createSegment_fn=function(){let _={id:408125543,size:__privateGet(this,_options).streaming?-1:SEGMENT_SIZE_BYTES,data:[__privateGet(this,_options).streaming?null:__privateGet(this,_seekHead),__privateGet(this,_segmentInfo),__privateGet(this,_tracksElement)]};if(__privateSet(this,_segment,_),__privateGet(this,_writer).writeEBML(_),__privateGet(this,_writer)instanceof BaseStreamTargetWriter&&__privateGet(this,_writer).target.options.onHeader){let{data:R,start:P}=__privateGet(this,_writer).getTrackedWrites();__privateGet(this,_writer).target.options.onHeader(R,P)}};_createCues=new WeakSet;createCues_fn=function(){__privateSet(this,_cues,{id:475249515,data:[]})};_maybeFlushStreamingTargetWriter=new WeakSet;maybeFlushStreamingTargetWriter_fn=function(){__privateGet(this,_writer)instanceof StreamTargetWriter&&__privateGet(this,_writer).flush()};_segmentDataOffset=new WeakSet;segmentDataOffset_get=function(){return __privateGet(this,_writer).dataOffsets.get(__privateGet(this,_segment))};_writeVideoDecoderConfig=new WeakSet;writeVideoDecoderConfig_fn=function(_){if(_.decoderConfig){if(_.decoderConfig.colorSpace){let R=_.decoderConfig.colorSpace;if(__privateSet(this,_colorSpace,R),__privateGet(this,_colourElement).data=[{id:21937,data:{rgb:1,bt709:1,bt470bg:5,smpte170m:6}[R.matrix]},{id:21946,data:{bt709:1,smpte170m:6,"iec61966-2-1":13}[R.transfer]},{id:21947,data:{bt709:1,bt470bg:5,smpte170m:6}[R.primaries]},{id:21945,data:[1,2][Number(R.fullRange)]}],!__privateGet(this,_options).streaming){let P=__privateGet(this,_writer).pos;__privateGet(this,_writer).seek(__privateGet(this,_writer).offsets.get(__privateGet(this,_colourElement))),__privateGet(this,_writer).writeEBML(__privateGet(this,_colourElement)),__privateGet(this,_writer).seek(P)}}_.decoderConfig.description&&(__privateGet(this,_options).streaming?__privateSet(this,_videoCodecPrivate,__privateMethod(this,_createCodecPrivateElement,createCodecPrivateElement_fn).call(this,_.decoderConfig.description)):__privateMethod(this,_writeCodecPrivate,writeCodecPrivate_fn).call(this,__privateGet(this,_videoCodecPrivate),_.decoderConfig.description))}};_fixVP9ColorSpace=new WeakSet;fixVP9ColorSpace_fn=function(_){if(_.type!=="key"||!__privateGet(this,_colorSpace))return;let R=0;if(readBits(_.data,0,2)!==2)return;R+=2;let P=(readBits(_.data,R+1,R+2)<<1)+readBits(_.data,R+0,R+1);R+=2,P===3&&R++;let I=readBits(_.data,R+0,R+1);if(R++,I)return;let O=readBits(_.data,R+0,R+1);if(R++,O!==0)return;R+=2;let z=readBits(_.data,R+0,R+24);if(R+=24,z!==4817730)return;P>=2&&R++;let L={rgb:7,bt709:2,bt470bg:1,smpte170m:3}[__privateGet(this,_colorSpace).matrix];writeBits(_.data,R+0,R+3,L)};_writeSubtitleChunks=new WeakSet;writeSubtitleChunks_fn=function(){let _=Math.min(__privateGet(this,_options).video?__privateGet(this,_lastVideoTimestamp):1/0,__privateGet(this,_options).audio?__privateGet(this,_lastAudioTimestamp):1/0),R=__privateGet(this,_subtitleChunkQueue);for(;R.length>0&&R[0].timestamp<=_;)__privateMethod(this,_writeBlock,writeBlock_fn).call(this,R.shift(),!__privateGet(this,_options).video&&!__privateGet(this,_options).audio)};_createInternalChunk=new WeakSet;createInternalChunk_fn=function(_,R,P,I,O,z){let L=__privateMethod(this,_validateTimestamp,validateTimestamp_fn).call(this,P,I);return{data:_,additions:z,type:R,timestamp:L,duration:O,trackNumber:I}};_validateTimestamp=new WeakSet;validateTimestamp_fn=function(_,R){let P=R===VIDEO_TRACK_NUMBER?__privateGet(this,_lastVideoTimestamp):R===AUDIO_TRACK_NUMBER?__privateGet(this,_lastAudioTimestamp):__privateGet(this,_lastSubtitleTimestamp);if(R!==SUBTITLE_TRACK_NUMBER){let I=R===VIDEO_TRACK_NUMBER?__privateGet(this,_firstVideoTimestamp):__privateGet(this,_firstAudioTimestamp);if(__privateGet(this,_options).firstTimestampBehavior==="strict"&&P===-1&&_!==0)throw new Error(`The first chunk for your media track must have a timestamp of 0 (received ${_}). Non-zero first timestamps are often caused by directly piping frames or audio data from a MediaStreamTrack into the encoder. Their timestamps are typically relative to the age of the document, which is probably what you want.

If you want to offset all timestamps of a track such that the first one is zero, set firstTimestampBehavior: 'offset' in the options.
If you want to allow non-zero first timestamps, set firstTimestampBehavior: 'permissive'.
`);__privateGet(this,_options).firstTimestampBehavior==="offset"&&(_-=I)}if(_<P)throw new Error(`Timestamps must be monotonically increasing (went from ${P} to ${_}).`);if(_<0)throw new Error(`Timestamps must be non-negative (received ${_}).`);return _};_writeBlock=new WeakSet;writeBlock_fn=function(_,R){__privateGet(this,_options).streaming&&!__privateGet(this,_tracksElement)&&(__privateMethod(this,_createTracks,createTracks_fn).call(this),__privateMethod(this,_createSegment,createSegment_fn).call(this));let P=Math.floor(_.timestamp/1e3),I=P-__privateGet(this,_currentClusterTimestamp),O=R&&_.type==="key"&&I>=1e3,z=I>=MAX_CHUNK_LENGTH_MS;if((!__privateGet(this,_currentCluster)||O||z)&&(__privateMethod(this,_createNewCluster,createNewCluster_fn).call(this,P),I=0),I<0)return;let L=new Uint8Array(4),F=new DataView(L.buffer);if(F.setUint8(0,128|_.trackNumber),F.setInt16(1,I,!1),_.duration===void 0&&!_.additions){F.setUint8(3,+(_.type==="key")<<7);let U={id:163,data:[L,_.data]};__privateGet(this,_writer).writeEBML(U)}else{let U=Math.floor(_.duration/1e3),V={id:160,data:[{id:161,data:[L,_.data]},_.duration!==void 0?{id:155,data:U}:null,_.additions?{id:30113,data:_.additions}:null]};__privateGet(this,_writer).writeEBML(V)}__privateSet(this,_duration,Math.max(__privateGet(this,_duration),P))};_createCodecPrivateElement=new WeakSet;createCodecPrivateElement_fn=function(_){return{id:25506,size:4,data:new Uint8Array(_)}};_writeCodecPrivate=new WeakSet;writeCodecPrivate_fn=function(_,R){let P=__privateGet(this,_writer).pos;__privateGet(this,_writer).seek(__privateGet(this,_writer).offsets.get(_));let I=6+R.byteLength,O=CODEC_PRIVATE_MAX_SIZE-I;if(O<0){let z=R.byteLength+O;R instanceof ArrayBuffer?R=R.slice(0,z):R=R.buffer.slice(0,z),O=0}_=[__privateMethod(this,_createCodecPrivateElement,createCodecPrivateElement_fn).call(this,R),{id:236,size:4,data:new Uint8Array(O)}],__privateGet(this,_writer).writeEBML(_),__privateGet(this,_writer).seek(P)};_createNewCluster=new WeakSet;createNewCluster_fn=function(_){__privateGet(this,_currentCluster)&&__privateMethod(this,_finalizeCurrentCluster,finalizeCurrentCluster_fn).call(this),__privateGet(this,_writer)instanceof BaseStreamTargetWriter&&__privateGet(this,_writer).target.options.onCluster&&__privateGet(this,_writer).startTrackingWrites(),__privateSet(this,_currentCluster,{id:524531317,size:__privateGet(this,_options).streaming?-1:CLUSTER_SIZE_BYTES,data:[{id:231,data:_}]}),__privateGet(this,_writer).writeEBML(__privateGet(this,_currentCluster)),__privateSet(this,_currentClusterTimestamp,_);let R=__privateGet(this,_writer).offsets.get(__privateGet(this,_currentCluster))-__privateGet(this,_segmentDataOffset,segmentDataOffset_get);__privateGet(this,_cues).data.push({id:187,data:[{id:179,data:_},__privateGet(this,_options).video?{id:183,data:[{id:247,data:VIDEO_TRACK_NUMBER},{id:241,data:R}]}:null,__privateGet(this,_options).audio?{id:183,data:[{id:247,data:AUDIO_TRACK_NUMBER},{id:241,data:R}]}:null]})};_finalizeCurrentCluster=new WeakSet;finalizeCurrentCluster_fn=function(){if(!__privateGet(this,_options).streaming){let _=__privateGet(this,_writer).pos-__privateGet(this,_writer).dataOffsets.get(__privateGet(this,_currentCluster)),R=__privateGet(this,_writer).pos;__privateGet(this,_writer).seek(__privateGet(this,_writer).offsets.get(__privateGet(this,_currentCluster))+4),__privateGet(this,_writer).writeEBMLVarInt(_,CLUSTER_SIZE_BYTES),__privateGet(this,_writer).seek(R)}if(__privateGet(this,_writer)instanceof BaseStreamTargetWriter&&__privateGet(this,_writer).target.options.onCluster){let{data:_,start:R}=__privateGet(this,_writer).getTrackedWrites();__privateGet(this,_writer).target.options.onCluster(_,R,__privateGet(this,_currentClusterTimestamp))}};_ensureNotFinalized=new WeakSet;ensureNotFinalized_fn=function(){if(__privateGet(this,_finalized))throw new Error("Cannot add new video or audio chunks after the file has been finalized.")};new TextEncoder;class MP4VideoEncoder{encoder=null;muxer=null;options;frameCount=0;isFinished=!1;encodePromises=[];videoMetadata=null;constructor(R){this.options=R}async init(){if(this.encoder)throw new Error("Encoder already initialized");if(typeof VideoEncoder>"u")throw new Error("WebCodecs API is not available in this browser. Please use Chrome 94+, Safari 16.4+, or Edge 94+.");console.log("Browser:",navigator.userAgent),console.log("Testing video codec support..."),console.log("Resolution:",this.options.width,"x",this.options.height),console.log("Frame rate:",this.options.frameRate);try{new VideoEncoder({output:()=>{},error:()=>{}}).close(),console.log(" VideoEncoder can be created")}catch(L){throw console.error(" Cannot create VideoEncoder:",L),new Error(`Cannot create VideoEncoder: ${L}. WebCodecs API may be disabled or unavailable.`)}const R=this.options.bitrate||this.options.width*this.options.height*this.options.frameRate*.1,P=[{codec:"avc1.42001e",muxerCodec:"avc",name:"H.264 Baseline (Level 3.0)",hardwareAcceleration:"prefer-hardware"},{codec:"avc1.42001f",muxerCodec:"avc",name:"H.264 Baseline (Level 3.1)",hardwareAcceleration:"prefer-hardware"},{codec:"avc1.4d001f",muxerCodec:"avc",name:"H.264 Main (Level 3.1)",hardwareAcceleration:"prefer-hardware"},{codec:"avc1.640028",muxerCodec:"avc",name:"H.264 High (Level 4.0)",hardwareAcceleration:"prefer-hardware"},{codec:"avc1.42001e",muxerCodec:"avc",name:"H.264 Baseline (Software)",hardwareAcceleration:"prefer-software"},{codec:"vp09.00.10.08",muxerCodec:"vp9",name:"VP9 (not QuickTime compatible)",hardwareAcceleration:"prefer-hardware"},{codec:"vp8",muxerCodec:"vp8",name:"VP8 (not QuickTime compatible)",hardwareAcceleration:"prefer-hardware"}];let I=null,O=null,z="";for(const L of P){let F={codec:L.codec,width:this.options.width,height:this.options.height,bitrate:R,framerate:this.options.frameRate,hardwareAcceleration:L.hardwareAcceleration,latencyMode:"quality"};try{let U=await VideoEncoder.isConfigSupported(F);if(U.supported||(console.log(` ${L.name} (full config) not supported, trying minimal...`),F={codec:L.codec,width:this.options.width,height:this.options.height,bitrate:R,framerate:this.options.frameRate},U=await VideoEncoder.isConfigSupported(F)),U.supported){I=F,O=L.muxerCodec,z=L.name,console.log(` Using ${z} codec for video encoding`),console.log("  Config:",F);break}else console.log(` ${L.name} not supported (config: ${JSON.stringify(F)})`)}catch(U){console.log(` ${L.name} threw error:`,U)}}if(!I||!O){const L=P.map(F=>F.name).join(", ");throw new Error(`No supported video codec found. Tried: ${L}

Possible causes:
 Browser version too old (need Chrome 94+, Safari 16.4+, Edge 94+)
 Hardware encoding disabled in browser settings
 Running in an unsupported environment (iframe, extension, etc.)

Browser: ${navigator.userAgent}`)}O!=="avc"&&console.warn(`  Using ${z} - output may not be compatible with QuickTime or PowerPoint. H.264 encoding is unavailable on this system.`),this.muxer=new Muxer$1({target:new ArrayBufferTarget$1,video:{codec:O,width:this.options.width,height:this.options.height},fastStart:"in-memory",firstTimestampBehavior:"offset"}),this.encoder=new VideoEncoder({output:(L,F)=>{if(this.muxer){F?.decoderConfig&&!this.videoMetadata&&(this.videoMetadata=F,console.log("Captured video metadata:",F));const U=this.videoMetadata||F;try{this.muxer.addVideoChunk(L,U)}catch(V){throw console.error("Failed to add video chunk to muxer:",V),console.error("Chunk:",L),console.error("Metadata:",U),V}}},error:L=>{throw console.error("VideoEncoder error:",L),L}}),this.encoder.configure(I)}async addFrame(R,P){if(!this.encoder||!this.muxer)throw new Error("Encoder not initialized. Call init() first.");if(this.isFinished)throw new Error("Cannot add frames after finish() has been called");const I=new VideoFrame(R,{timestamp:P*1e3}),O=new Promise((z,L)=>{try{const F=this.frameCount%(this.options.frameRate*2)===0;this.encoder.encode(I,{keyFrame:F}),I.close(),z()}catch(F){I.close(),L(F)}});this.encodePromises.push(O),this.frameCount++,await O}async finish(){if(!this.encoder||!this.muxer)throw new Error("Encoder not initialized");if(this.isFinished)throw new Error("finish() has already been called");this.isFinished=!0,await Promise.all(this.encodePromises),await this.encoder.flush(),this.muxer.finalize();const P=this.muxer.target.buffer;return this.encoder.close(),this.encoder=null,this.muxer=null,this.videoMetadata=null,new Blob([P],{type:"video/mp4"})}getFrameCount(){return this.frameCount}}class WebMVideoEncoder{encoder=null;muxer=null;options;frameCount=0;isFinished=!1;encodePromises=[];constructor(R){this.options=R}async init(){if(this.encoder)throw new Error("Encoder already initialized");if(typeof VideoEncoder>"u")throw new Error("WebCodecs API is not available in this browser. Please use Chrome 94+, Safari 16.4+, or Edge 94+.");console.log("Initializing WebM encoder..."),console.log("Resolution:",this.options.width,"x",this.options.height),console.log("Frame rate:",this.options.frameRate);const R=this.options.bitrate||this.options.width*this.options.height*this.options.frameRate*.1,P=[{codec:"vp09.00.10.08",name:"VP9",hardwareAcceleration:"prefer-hardware"},{codec:"vp09.00.10.08",name:"VP9 (Software)",hardwareAcceleration:"prefer-software"},{codec:"vp8",name:"VP8",hardwareAcceleration:"prefer-hardware"}];let I=null,O="";for(const z of P){let L={codec:z.codec,width:this.options.width,height:this.options.height,bitrate:R,framerate:this.options.frameRate,hardwareAcceleration:z.hardwareAcceleration,latencyMode:"quality"};try{let F=await VideoEncoder.isConfigSupported(L);if(F.supported||(console.log(` ${z.name} (full config) not supported, trying minimal...`),L={codec:z.codec,width:this.options.width,height:this.options.height,bitrate:R,framerate:this.options.frameRate},F=await VideoEncoder.isConfigSupported(L)),F.supported){I=L,O=z.name,console.log(` Using ${O} codec for WebM encoding`),console.log("  Config:",L);break}else console.log(` ${z.name} not supported`)}catch(F){console.log(` ${z.name} threw error:`,F)}}if(!I){const z=P.map(L=>L.name).join(", ");throw new Error(`No supported WebM codec found. Tried: ${z}

Possible causes:
 Browser version too old (need Chrome 94+, Edge 94+)
 Hardware encoding disabled in browser settings

Browser: ${navigator.userAgent}`)}this.muxer=new Muxer({target:new ArrayBufferTarget,video:{codec:I.codec.startsWith("vp09")?"V_VP9":"V_VP8",width:this.options.width,height:this.options.height},firstTimestampBehavior:"offset"}),this.encoder=new VideoEncoder({output:(z,L)=>{if(this.muxer)try{this.muxer.addVideoChunk(z,L)}catch(F){throw console.error("Failed to add video chunk to WebM muxer:",F),F}},error:z=>{throw console.error("VideoEncoder error:",z),z}}),this.encoder.configure(I)}async addFrame(R,P){if(!this.encoder||!this.muxer)throw new Error("Encoder not initialized. Call init() first.");if(this.isFinished)throw new Error("Cannot add frames after finish() has been called");const I=new VideoFrame(R,{timestamp:P*1e3}),O=new Promise((z,L)=>{try{const F=this.frameCount%(this.options.frameRate*2)===0;this.encoder.encode(I,{keyFrame:F}),I.close(),z()}catch(F){I.close(),L(F)}});this.encodePromises.push(O),this.frameCount++,await O}async finish(){if(!this.encoder||!this.muxer)throw new Error("Encoder not initialized");if(this.isFinished)throw new Error("finish() has already been called");this.isFinished=!0,await Promise.all(this.encodePromises),await this.encoder.flush(),this.muxer.finalize();const P=this.muxer.target.buffer;return this.encoder.close(),this.encoder=null,this.muxer=null,new Blob([P],{type:"video/webm"})}getFrameCount(){return this.frameCount}}class MP4AV1VideoEncoder{encoder=null;muxer=null;options;frameCount=0;isFinished=!1;encodePromises=[];videoMetadata=null;constructor(R){this.options=R}async init(){if(this.encoder)throw new Error("Encoder already initialized");if(typeof VideoEncoder>"u")throw new Error("WebCodecs API is not available in this browser. Please use Chrome 94+, Edge 94+.");console.log("Initializing MP4 AV1 encoder..."),console.log("Resolution:",this.options.width,"x",this.options.height),console.log("Frame rate:",this.options.frameRate);const R=this.options.bitrate||this.options.width*this.options.height*this.options.frameRate*.07,P=[{codec:"av01.0.04M.08",name:"AV1 Main Profile",hardwareAcceleration:"prefer-hardware"},{codec:"av01.0.04M.08",name:"AV1 (Software)",hardwareAcceleration:"prefer-software"},{codec:"av01.0.00M.08",name:"AV1 Main Profile (Level 2.0)",hardwareAcceleration:"prefer-hardware"}];let I=null,O="";for(const z of P){let L={codec:z.codec,width:this.options.width,height:this.options.height,bitrate:R,framerate:this.options.frameRate,hardwareAcceleration:z.hardwareAcceleration,latencyMode:"quality"};try{let F=await VideoEncoder.isConfigSupported(L);if(F.supported||(console.log(` ${z.name} (full config) not supported, trying minimal...`),L={codec:z.codec,width:this.options.width,height:this.options.height,bitrate:R,framerate:this.options.frameRate},F=await VideoEncoder.isConfigSupported(L)),F.supported){I=L,O=z.name,console.log(` Using ${O} codec for MP4 encoding`),console.log("  Config:",L);break}else console.log(` ${z.name} not supported`)}catch(F){console.log(` ${z.name} threw error:`,F)}}if(!I){const z=P.map(L=>L.name).join(", ");throw new Error(`No supported AV1 codec found. Tried: ${z}

Possible causes:
 Browser version too old (need Chrome 90+, Edge 90+)
 AV1 encoding not available on this system
 Hardware encoding disabled in browser settings

Try MP4 (H.264) format instead for maximum compatibility.

Browser: ${navigator.userAgent}`)}this.muxer=new Muxer$1({target:new ArrayBufferTarget$1,video:{codec:"av1",width:this.options.width,height:this.options.height},fastStart:"in-memory",firstTimestampBehavior:"offset"}),this.encoder=new VideoEncoder({output:(z,L)=>{if(this.muxer){L?.decoderConfig&&!this.videoMetadata&&(this.videoMetadata=L,console.log("Captured video metadata:",L));const F=this.videoMetadata||L;try{this.muxer.addVideoChunk(z,F)}catch(U){throw console.error("Failed to add video chunk to muxer:",U),U}}},error:z=>{throw console.error("VideoEncoder error:",z),z}}),this.encoder.configure(I)}async addFrame(R,P){if(!this.encoder||!this.muxer)throw new Error("Encoder not initialized. Call init() first.");if(this.isFinished)throw new Error("Cannot add frames after finish() has been called");const I=new VideoFrame(R,{timestamp:P*1e3}),O=new Promise((z,L)=>{try{const F=this.frameCount%(this.options.frameRate*2)===0;this.encoder.encode(I,{keyFrame:F}),I.close(),z()}catch(F){I.close(),L(F)}});this.encodePromises.push(O),this.frameCount++,await O}async finish(){if(!this.encoder||!this.muxer)throw new Error("Encoder not initialized");if(this.isFinished)throw new Error("finish() has already been called");this.isFinished=!0,await Promise.all(this.encodePromises),await this.encoder.flush(),this.muxer.finalize();const P=this.muxer.target.buffer;return this.encoder.close(),this.encoder=null,this.muxer=null,this.videoMetadata=null,new Blob([P],{type:"video/mp4"})}getFrameCount(){return this.frameCount}}function createVideoEncoder(_,R){switch(_){case"mp4":return new MP4VideoEncoder(R);case"mp4-av1":return new MP4AV1VideoEncoder(R);case"webm":return new WebMVideoEncoder(R);default:throw new Error(`Unsupported video format: ${_}`)}}async function isMP4Supported(){if(typeof VideoEncoder>"u")return!1;try{const _=["avc1.42001f","avc1.42001e"];for(const R of _){const P={codec:R,width:640,height:480,bitrate:1e6,framerate:30};if((await VideoEncoder.isConfigSupported(P)).supported)return!0}return!1}catch{return!1}}async function isMP4AV1Supported(){if(typeof VideoEncoder>"u")return!1;try{const _=["av01.0.04M.08","av01.0.00M.08"];for(const R of _){const P={codec:R,width:640,height:480,bitrate:1e6,framerate:30};if((await VideoEncoder.isConfigSupported(P)).supported)return!0}return!1}catch{return!1}}async function isWebMSupported(){if(typeof VideoEncoder>"u")return!1;try{const _=["vp09.00.10.08","vp8"];for(const R of _){const P={codec:R,width:640,height:480,bitrate:1e6,framerate:30};if((await VideoEncoder.isConfigSupported(P)).supported)return!0}return!1}catch{return!1}}const SimulationCanvas=reactExports.forwardRef(({state:_,params:R,minHeight:P=350,aspectRatio:I=1,className:O,style:z,renderOptions:L={}},F)=>{const U=reactExports.useRef(null),V=reactExports.useRef(null),q=reactExports.useRef(null),W=reactExports.useRef(null),Y=reactExports.useRef("mp4"),[Q,ee]=reactExports.useState(!1),[te,ie]=reactExports.useState({width:800,height:P}),{isDark:ae}=useTheme(),{currentModel:se}=useModel();reactExports.useImperativeHandle(F,()=>({getScreenshot:()=>V.current?V.current.toDataURL("image/png"):null,startRecording:async ce=>{if(!V.current||W.current)return;const fe=V.current;Y.current=ce;const de=createVideoEncoder(ce,{width:fe.width,height:fe.height,frameRate:30});try{await de.init(),W.current=de}catch(he){throw console.error("Failed to initialize video encoder:",he),he}},captureFrame:async ce=>{const fe=W.current,de=V.current;if(!(!fe||!de))try{await fe.addFrame(de,ce)}catch(he){console.error("Failed to capture frame:",he)}},stopRecording:async()=>{const ce=W.current;if(!ce)return null;const fe=Y.current;try{const de=await ce.finish();return W.current=null,{blob:de,mimeType:fe==="mp4"?"video/mp4":"video/webm"}}catch(de){throw console.error("Failed to finalize video:",de),W.current=null,de}},isRecording:()=>W.current!==null,isMP4Supported:async()=>await isMP4Supported(),isMP4AV1Supported:async()=>await isMP4AV1Supported(),isWebMSupported:async()=>await isWebMSupported()}),[]);const le=reactExports.useCallback(()=>{if(U.current){const ce=U.current.getBoundingClientRect(),fe=Math.floor(ce.width),de=Math.floor(fe/I),he=Math.max(P,de);fe>0&&he>0&&ie({width:fe,height:he})}},[P,I]);return reactExports.useEffect(()=>{const ce=U.current;if(!ce)return;le();const fe=new ResizeObserver(()=>{le()});return fe.observe(ce),window.addEventListener("resize",le),()=>{fe.disconnect(),window.removeEventListener("resize",le)}},[le]),reactExports.useEffect(()=>{const ce=V.current;if(!ce)return;let fe=!0;return(async()=>{const he=new SimulationRenderer({width:te.width,height:te.height,isDark:ae});await he.init(ce),fe&&(q.current=he,he.setModel(se),he.setParams(R),ee(!0))})(),()=>{fe=!1,q.current&&(q.current.destroy(),q.current=null),ee(!1)}},[]),reactExports.useEffect(()=>{q.current&&Q&&(q.current.setParams(R),_&&q.current.render(_))},[R,Q,_]),reactExports.useEffect(()=>{q.current&&Q&&te.width>0&&te.height>0&&(q.current.resize(te.width,te.height),_&&q.current.render(_))},[te.width,te.height,Q,_]),reactExports.useEffect(()=>{if(q.current&&_&&Q&&(q.current.render(_),W.current&&V.current)){const ce=_.t!==void 0?_.t*1e3:0;W.current.addFrame(V.current,ce).catch(fe=>console.error("Failed to capture frame:",fe))}},[_,Q]),reactExports.useEffect(()=>{q.current&&Q&&(q.current.setDarkMode(ae),_&&q.current.render(_))},[ae,Q,_]),reactExports.useEffect(()=>{q.current&&Q&&(q.current.setModel(se),q.current.setParams(R),_&&q.current.render(_))},[se,Q,_,R]),reactExports.useEffect(()=>{q.current&&Q&&(q.current.setRenderOptions(L),_&&q.current.render(_))},[L,Q,_]),jsxRuntimeExports.jsx("div",{ref:U,className:O,style:{width:"100%",minHeight:`${P}px`,...z},children:jsxRuntimeExports.jsx("canvas",{ref:V,width:te.width,height:te.height,style:{display:"block",width:"100%",height:"100%"}})})});SimulationCanvas.displayName="SimulationCanvas";var PAGE_KEYS=["PageUp","PageDown"],ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},SLIDER_NAME="Slider",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(SLIDER_NAME),[createSliderContext]=createContextScope$1(SLIDER_NAME,[createCollectionScope$2]),[SliderProvider,useSliderContext]=createSliderContext(SLIDER_NAME),Slider$1=reactExports.forwardRef((_,R)=>{const{name:P,min:I=0,max:O=100,step:z=1,orientation:L="horizontal",disabled:F=!1,minStepsBetweenThumbs:U=0,defaultValue:V=[I],value:q,onValueChange:W=()=>{},onValueCommit:Y=()=>{},inverted:Q=!1,form:ee,...te}=_,ie=reactExports.useRef(new Set),ae=reactExports.useRef(0),le=L==="horizontal"?SliderHorizontal:SliderVertical,[ce=[],fe]=useControllableState({prop:q,defaultProp:V,onChange:xe=>{[...ie.current][ae.current]?.focus(),W(xe)}}),de=reactExports.useRef(ce);function he(xe){const _e=getClosestValueIndex(ce,xe);be(xe,_e)}function pe(xe){be(xe,ae.current)}function ge(){const xe=de.current[ae.current];ce[ae.current]!==xe&&Y(ce)}function be(xe,_e,{commit:Se}={commit:!1}){const me=getDecimalCount(z),Ce=roundValue(Math.round((xe-I)/z)*z+I,me),Te=clamp$1(Ce,[I,O]);fe((Re=[])=>{const Pe=getNextSortedValues(Re,Te,_e);if(hasMinStepsBetweenValues(Pe,U*z)){ae.current=Pe.indexOf(Te);const Me=String(Pe)!==String(Re);return Me&&Se&&Y(Pe),Me?Pe:Re}else return Re})}return jsxRuntimeExports.jsx(SliderProvider,{scope:_.__scopeSlider,name:P,disabled:F,min:I,max:O,valueIndexToChangeRef:ae,thumbs:ie.current,values:ce,orientation:L,form:ee,children:jsxRuntimeExports.jsx(Collection$2.Provider,{scope:_.__scopeSlider,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:_.__scopeSlider,children:jsxRuntimeExports.jsx(le,{"aria-disabled":F,"data-disabled":F?"":void 0,...te,ref:R,onPointerDown:composeEventHandlers$1(te.onPointerDown,()=>{F||(de.current=ce)}),min:I,max:O,inverted:Q,onSlideStart:F?void 0:he,onSlideMove:F?void 0:pe,onSlideEnd:F?void 0:ge,onHomeKeyDown:()=>!F&&be(I,0,{commit:!0}),onEndKeyDown:()=>!F&&be(O,ce.length-1,{commit:!0}),onStepKeyDown:({event:xe,direction:_e})=>{if(!F){const Ce=PAGE_KEYS.includes(xe.key)||xe.shiftKey&&ARROW_KEYS.includes(xe.key)?10:1,Te=ae.current,Re=ce[Te],Pe=z*Ce*_e;be(Re+Pe,Te,{commit:!0})}}})})})})});Slider$1.displayName=SLIDER_NAME;var[SliderOrientationProvider,useSliderOrientationContext]=createSliderContext(SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SliderHorizontal=reactExports.forwardRef((_,R)=>{const{min:P,max:I,dir:O,inverted:z,onSlideStart:L,onSlideMove:F,onSlideEnd:U,onStepKeyDown:V,...q}=_,[W,Y]=reactExports.useState(null),Q=useComposedRefs(R,le=>Y(le)),ee=reactExports.useRef(void 0),te=useDirection(O),ie=te==="ltr",ae=ie&&!z||!ie&&z;function se(le){const ce=ee.current||W.getBoundingClientRect(),fe=[0,ce.width],he=linearScale$1(fe,ae?[P,I]:[I,P]);return ee.current=ce,he(le-ce.left)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:_.__scopeSlider,startEdge:ae?"left":"right",endEdge:ae?"right":"left",direction:ae?1:-1,size:"width",children:jsxRuntimeExports.jsx(SliderImpl,{dir:te,"data-orientation":"horizontal",...q,ref:Q,style:{...q.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:le=>{const ce=se(le.clientX);L?.(ce)},onSlideMove:le=>{const ce=se(le.clientX);F?.(ce)},onSlideEnd:()=>{ee.current=void 0,U?.()},onStepKeyDown:le=>{const fe=BACK_KEYS[ae?"from-left":"from-right"].includes(le.key);V?.({event:le,direction:fe?-1:1})}})})}),SliderVertical=reactExports.forwardRef((_,R)=>{const{min:P,max:I,inverted:O,onSlideStart:z,onSlideMove:L,onSlideEnd:F,onStepKeyDown:U,...V}=_,q=reactExports.useRef(null),W=useComposedRefs(R,q),Y=reactExports.useRef(void 0),Q=!O;function ee(te){const ie=Y.current||q.current.getBoundingClientRect(),ae=[0,ie.height],le=linearScale$1(ae,Q?[I,P]:[P,I]);return Y.current=ie,le(te-ie.top)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:_.__scopeSlider,startEdge:Q?"bottom":"top",endEdge:Q?"top":"bottom",size:"height",direction:Q?1:-1,children:jsxRuntimeExports.jsx(SliderImpl,{"data-orientation":"vertical",...V,ref:W,style:{...V.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:te=>{const ie=ee(te.clientY);z?.(ie)},onSlideMove:te=>{const ie=ee(te.clientY);L?.(ie)},onSlideEnd:()=>{Y.current=void 0,F?.()},onStepKeyDown:te=>{const ae=BACK_KEYS[Q?"from-bottom":"from-top"].includes(te.key);U?.({event:te,direction:ae?-1:1})}})})}),SliderImpl=reactExports.forwardRef((_,R)=>{const{__scopeSlider:P,onSlideStart:I,onSlideMove:O,onSlideEnd:z,onHomeKeyDown:L,onEndKeyDown:F,onStepKeyDown:U,...V}=_,q=useSliderContext(SLIDER_NAME,P);return jsxRuntimeExports.jsx(Primitive$2.span,{...V,ref:R,onKeyDown:composeEventHandlers$1(_.onKeyDown,W=>{W.key==="Home"?(L(W),W.preventDefault()):W.key==="End"?(F(W),W.preventDefault()):PAGE_KEYS.concat(ARROW_KEYS).includes(W.key)&&(U(W),W.preventDefault())}),onPointerDown:composeEventHandlers$1(_.onPointerDown,W=>{const Y=W.target;Y.setPointerCapture(W.pointerId),W.preventDefault(),q.thumbs.has(Y)?Y.focus():I(W)}),onPointerMove:composeEventHandlers$1(_.onPointerMove,W=>{W.target.hasPointerCapture(W.pointerId)&&O(W)}),onPointerUp:composeEventHandlers$1(_.onPointerUp,W=>{const Y=W.target;Y.hasPointerCapture(W.pointerId)&&(Y.releasePointerCapture(W.pointerId),z(W))})})}),TRACK_NAME="SliderTrack",SliderTrack=reactExports.forwardRef((_,R)=>{const{__scopeSlider:P,...I}=_,O=useSliderContext(TRACK_NAME,P);return jsxRuntimeExports.jsx(Primitive$2.span,{"data-disabled":O.disabled?"":void 0,"data-orientation":O.orientation,...I,ref:R})});SliderTrack.displayName=TRACK_NAME;var RANGE_NAME="SliderRange",SliderRange=reactExports.forwardRef((_,R)=>{const{__scopeSlider:P,...I}=_,O=useSliderContext(RANGE_NAME,P),z=useSliderOrientationContext(RANGE_NAME,P),L=reactExports.useRef(null),F=useComposedRefs(R,L),U=O.values.length,V=O.values.map(Y=>convertValueToPercentage(Y,O.min,O.max)),q=U>1?Math.min(...V):0,W=100-Math.max(...V);return jsxRuntimeExports.jsx(Primitive$2.span,{"data-orientation":O.orientation,"data-disabled":O.disabled?"":void 0,...I,ref:F,style:{..._.style,[z.startEdge]:q+"%",[z.endEdge]:W+"%"}})});SliderRange.displayName=RANGE_NAME;var THUMB_NAME$1="SliderThumb",SliderThumb=reactExports.forwardRef((_,R)=>{const P=useCollection$2(_.__scopeSlider),[I,O]=reactExports.useState(null),z=useComposedRefs(R,F=>O(F)),L=reactExports.useMemo(()=>I?P().findIndex(F=>F.ref.current===I):-1,[P,I]);return jsxRuntimeExports.jsx(SliderThumbImpl,{..._,ref:z,index:L})}),SliderThumbImpl=reactExports.forwardRef((_,R)=>{const{__scopeSlider:P,index:I,name:O,...z}=_,L=useSliderContext(THUMB_NAME$1,P),F=useSliderOrientationContext(THUMB_NAME$1,P),[U,V]=reactExports.useState(null),q=useComposedRefs(R,se=>V(se)),W=U?L.form||!!U.closest("form"):!0,Y=useSize(U),Q=L.values[I],ee=Q===void 0?0:convertValueToPercentage(Q,L.min,L.max),te=getLabel(I,L.values.length),ie=Y?.[F.size],ae=ie?getThumbInBoundsOffset(ie,ee,F.direction):0;return reactExports.useEffect(()=>{if(U)return L.thumbs.add(U),()=>{L.thumbs.delete(U)}},[U,L.thumbs]),jsxRuntimeExports.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[F.startEdge]:`calc(${ee}% + ${ae}px)`},children:[jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:_.__scopeSlider,children:jsxRuntimeExports.jsx(Primitive$2.span,{role:"slider","aria-label":_["aria-label"]||te,"aria-valuemin":L.min,"aria-valuenow":Q,"aria-valuemax":L.max,"aria-orientation":L.orientation,"data-orientation":L.orientation,"data-disabled":L.disabled?"":void 0,tabIndex:L.disabled?void 0:0,...z,ref:q,style:Q===void 0?{display:"none"}:_.style,onFocus:composeEventHandlers$1(_.onFocus,()=>{L.valueIndexToChangeRef.current=I})})}),W&&jsxRuntimeExports.jsx(SliderBubbleInput,{name:O??(L.name?L.name+(L.values.length>1?"[]":""):void 0),form:L.form,value:Q},I)]})});SliderThumb.displayName=THUMB_NAME$1;var BUBBLE_INPUT_NAME="RadioBubbleInput",SliderBubbleInput=reactExports.forwardRef(({__scopeSlider:_,value:R,...P},I)=>{const O=reactExports.useRef(null),z=useComposedRefs(O,I),L=usePrevious(R);return reactExports.useEffect(()=>{const F=O.current;if(!F)return;const U=window.HTMLInputElement.prototype,q=Object.getOwnPropertyDescriptor(U,"value").set;if(L!==R&&q){const W=new Event("input",{bubbles:!0});q.call(F,R),F.dispatchEvent(W)}},[L,R]),jsxRuntimeExports.jsx(Primitive$2.input,{style:{display:"none"},...P,ref:z,defaultValue:R})});SliderBubbleInput.displayName=BUBBLE_INPUT_NAME;function getNextSortedValues(_=[],R,P){const I=[..._];return I[P]=R,I.sort((O,z)=>O-z)}function convertValueToPercentage(_,R,P){const z=100/(P-R)*(_-R);return clamp$1(z,[0,100])}function getLabel(_,R){return R>2?`Value ${_+1} of ${R}`:R===2?["Minimum","Maximum"][_]:void 0}function getClosestValueIndex(_,R){if(_.length===1)return 0;const P=_.map(O=>Math.abs(O-R)),I=Math.min(...P);return P.indexOf(I)}function getThumbInBoundsOffset(_,R,P){const I=_/2,z=linearScale$1([0,50],[0,I]);return(I-z(R)*P)*P}function getStepsBetweenValues(_){return _.slice(0,-1).map((R,P)=>_[P+1]-R)}function hasMinStepsBetweenValues(_,R){if(R>0){const P=getStepsBetweenValues(_);return Math.min(...P)>=R}return!0}function linearScale$1(_,R){return P=>{if(_[0]===_[1]||R[0]===R[1])return R[0];const I=(R[1]-R[0])/(_[1]-_[0]);return R[0]+I*(P-_[0])}}function getDecimalCount(_){return(String(_).split(".")[1]||"").length}function roundValue(_,R){const P=Math.pow(10,R);return Math.round(_*P)/P}var Root$5=Slider$1,Track=SliderTrack,Range=SliderRange,Thumb=SliderThumb;const Slider=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsxs(Root$5,{ref:P,className:cn("relative flex w-full touch-none select-none items-center",_),...R,children:[jsxRuntimeExports.jsx(Track,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:jsxRuntimeExports.jsx(Range,{className:"absolute h-full bg-primary"})}),jsxRuntimeExports.jsx(Thumb,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Slider.displayName=Root$5.displayName;function SimulationControls({isRunning:_,time:R,endTime:P,maxSimulatedTime:I,isCatchingUp:O,onStart:z,onPause:L,onReset:F,onStep:U,onSeek:V,paramChangeBehavior:q,onParamChangeBehaviorChange:W,onSaveScreenshot:Y,onSaveMovie:Q,onExportCSV:ee,isRecording:te=!1,videoFormat:ie="mp4",onVideoFormatChange:ae,renderOptionsPanel:se}){const le=P>0?I/P*100:0,ce=fe=>{const de=fe[0];V(de)};return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center",children:jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:[R.toFixed(2),"h / ",P,"h"]})}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 h-2 bg-muted/50 rounded-full pointer-events-none",style:{width:`${le}%`}}),jsxRuntimeExports.jsx(Slider,{value:[R],min:0,max:P,step:P/1e3,onValueChange:ce,disabled:O,className:"cursor-pointer"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[_||O?jsxRuntimeExports.jsxs(Button,{onClick:L,variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Pause,{className:"h-4 w-4 mr-1"}),"Pause"]}):jsxRuntimeExports.jsxs(Button,{onClick:z,size:"sm",children:[O?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-1 animate-spin"}):jsxRuntimeExports.jsx(Play,{className:"h-4 w-4 mr-1"}),"Start"]}),jsxRuntimeExports.jsxs(Button,{onClick:U,disabled:_||O,variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(SkipForward,{className:"h-4 w-4 mr-1"}),"Step"]}),jsxRuntimeExports.jsxs(Button,{onClick:F,variant:"outline",size:"sm",disabled:O,children:[jsxRuntimeExports.jsx(RotateCcw,{className:"h-4 w-4 mr-1"}),"Reset"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"On param change:"}),jsxRuntimeExports.jsxs(Select,{value:q,onValueChange:fe=>W(fe),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 w-28 text-xs",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"run",children:"Run"}),jsxRuntimeExports.jsx(SelectItem,{value:"init",children:"Init"}),jsxRuntimeExports.jsx(SelectItem,{value:"step",children:"One step"})]})]})]})]}),se,jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-wrap items-center pt-1 border-t border-border/40",children:[Y&&jsxRuntimeExports.jsxs(Button,{onClick:Y,variant:"outline",size:"sm",className:"text-xs",children:[jsxRuntimeExports.jsx(Camera,{className:"h-3.5 w-3.5 mr-1"}),"Screenshot"]}),Q&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{onClick:Q,variant:te?"destructive":"outline",size:"sm",className:"text-xs",children:[jsxRuntimeExports.jsx(Video,{className:"h-3.5 w-3.5 mr-1"}),te?"Stop Recording":"Record"]}),ae&&!te&&jsxRuntimeExports.jsxs(Select,{value:ie,onValueChange:fe=>ae(fe),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 w-36 text-xs",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"mp4",children:"MP4 (H.264)"}),jsxRuntimeExports.jsx(SelectItem,{value:"mp4-av1",children:"MP4 (AV1)"}),jsxRuntimeExports.jsx(SelectItem,{value:"webm",children:"WebM (VP9)"})]})]})]}),ee&&jsxRuntimeExports.jsxs(Button,{onClick:ee,variant:"outline",size:"sm",className:"text-xs",children:[jsxRuntimeExports.jsx(FileDown,{className:"h-3.5 w-3.5 mr-1"}),"Export CSV"]})]})]})}const Card=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx("div",{ref:P,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",_),...R}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx("div",{ref:P,className:cn("flex flex-col space-y-1.5 p-6",_),...R}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx("h3",{ref:P,className:cn("text-2xl font-semibold leading-none tracking-tight",_),...R}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx("p",{ref:P,className:cn("text-sm text-muted-foreground",_),...R}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx("div",{ref:P,className:cn("p-6 pt-0",_),...R}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx("div",{ref:P,className:cn("flex items-center p-6 pt-0",_),...R}));CardFooter.displayName="CardFooter";var NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$1=NODES$1.reduce((_,R)=>{const P=createSlot$3(`Primitive.${R}`),I=reactExports.forwardRef((O,z)=>{const{asChild:L,...F}=O,U=L?P:R;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(U,{...F,ref:z})});return I.displayName=`Primitive.${R}`,{..._,[R]:I}},{}),NAME$1="Separator",DEFAULT_ORIENTATION="horizontal",ORIENTATIONS=["horizontal","vertical"],Separator$1=reactExports.forwardRef((_,R)=>{const{decorative:P,orientation:I=DEFAULT_ORIENTATION,...O}=_,z=isValidOrientation(I)?I:DEFAULT_ORIENTATION,F=P?{role:"none"}:{"aria-orientation":z==="vertical"?z:void 0,role:"separator"};return jsxRuntimeExports.jsx(Primitive$1.div,{"data-orientation":z,...F,...O,ref:R})});Separator$1.displayName=NAME$1;function isValidOrientation(_){return ORIENTATIONS.includes(_)}var Root$4=Separator$1;const Separator=reactExports.forwardRef(({className:_,orientation:R="horizontal",decorative:P=!0,...I},O)=>jsxRuntimeExports.jsx(Root$4,{ref:O,decorative:P,orientation:R,className:cn("shrink-0 bg-border",R==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",_),...I}));Separator.displayName=Root$4.displayName;class SimulationEngine{model;state;params;snapshots=[];onSnapshot;snapshotInterval;constructor(R){this.model=R.model,this.params=R.params,this.onSnapshot=R.onSnapshot,this.snapshotInterval=R.snapshotInterval??1,this.init()}init(){this.state=this.model.init(this.params),this.snapshots=[],this.recordSnapshot()}step(){let R=1;const P=this.params;P.general&&typeof P.general.dt=="number"&&(R=P.general.dt),this.state=this.model.step(this.state,R,this.params);const I=this.state;(typeof I.step_count=="number"?I.step_count:this.snapshots.length)%this.snapshotInterval===0&&this.recordSnapshot()}isComplete(){const R=this.params,P=this.state;return R.general&&typeof R.general.t_end=="number"&&typeof P.t=="number"?P.t>=R.general.t_end:!1}getState(){return this.state}getParams(){return this.params}resetWithParams(R){this.params=R,this.init()}recordSnapshot(){const R=this.model.getSnapshot(this.state);this.snapshots.push(R),this.onSnapshot&&this.onSnapshot(R)}getStats(){return this.model.computeStats(this.state,this.params)}}function cloneState(_){return typeof _=="object"&&_!==null?structuredClone(_):_}function getStateTime(_){return _?.t??0}function useSimulation(_){const{model:R,params:P,autoInit:I=!0,paramChangeBehavior:O="init"}=_,[z,L]=reactExports.useState(P),[F,U]=reactExports.useState(null),[V,q]=reactExports.useState(!1),[W,Y]=reactExports.useState(!1),[Q,ee]=reactExports.useState(0),te=reactExports.useRef(null),ie=reactExports.useRef(null),ae=reactExports.useRef(!0),se=reactExports.useRef([]),le=reactExports.useRef(null);reactExports.useEffect(()=>{if(te.current=new SimulationEngine({model:R,params:P}),I){te.current.init();const _e=te.current.getState(),Se=cloneState(_e);se.current=[Se],ee(0),U(Se)}return()=>{ie.current&&cancelAnimationFrame(ie.current)}},[]),reactExports.useEffect(()=>{if(ae.current){ae.current=!1;return}L(P),q(!1),Y(!1),le.current=null,te.current=new SimulationEngine({model:R,params:P});const _e=te.current.getState(),Se=cloneState(_e);if(se.current=[Se],ee(0),U(Se),O==="step"){te.current.step();const me=cloneState(te.current.getState());se.current.push(me),ee(1),U(me)}else O==="run"&&q(!0)},[R,P,O]),reactExports.useEffect(()=>{if(!(V||W)||!te.current)return;let Se=performance.now();const me=40,Ce=0,Te=Re=>{if(!te.current)return;if(Re-Se>=(W?Ce:me)){if(Se=Re,W&&le.current!==null){const Ae=se.current;if((Ae.length>0?getStateTime(Ae[Ae.length-1]):0)>=le.current||te.current.isComplete()){const ze=le.current;let je=Ae.length-1;for(let Ke=0;Ke<Ae.length;Ke++)if(getStateTime(Ae[Ke])>=ze){je=Ke;break}ee(je),U(Ae[je]),Y(!1),le.current=null;return}te.current.step();const ke=cloneState(te.current.getState());se.current.push(ke);const Ee=se.current.length-1;ee(Ee),U(ke)}else if(V){const Ae=se.current,we=Q+1;if(we<Ae.length)ee(we),U(Ae[we]);else if(te.current.isComplete())q(!1);else{te.current.step();const ke=cloneState(te.current.getState());se.current.push(ke),ee(se.current.length-1),U(ke)}}}ie.current=requestAnimationFrame(Te)};return ie.current=requestAnimationFrame(Te),()=>{ie.current&&cancelAnimationFrame(ie.current)}},[V,W,Q]);const ce=reactExports.useCallback(()=>{Y(!1),le.current=null,q(!0)},[]),fe=reactExports.useCallback(()=>{q(!1),Y(!1),le.current=null},[]),de=reactExports.useCallback(()=>{q(!1),Y(!1),le.current=null;const _e=se.current;_e.length>0&&(ee(0),U(_e[0]))},[]),he=reactExports.useCallback(()=>{if(!te.current)return;const _e=se.current,Se=Q+1;if(Se<_e.length)ee(Se),U(_e[Se]);else if(!te.current.isComplete()){te.current.step();const me=cloneState(te.current.getState());se.current.push(me),ee(se.current.length-1),U(me)}},[Q]),pe=reactExports.useCallback(_e=>{const Se=se.current;if(Se.length===0)return;const Ce=z?.general?.t_end??1/0;_e=Math.max(0,Math.min(_e,Ce));const Te=getStateTime(Se[Se.length-1]);if(_e<=Te){let Re=0,Pe=1/0;for(let Me=0;Me<Se.length;Me++){const Ae=getStateTime(Se[Me]),we=Math.abs(Ae-_e);if(we<Pe&&(Pe=we,Re=Me),Ae>_e)break}q(!1),Y(!1),le.current=null,ee(Re),U(Se[Re])}else q(!1),le.current=_e,Y(!0)},[z]),ge=reactExports.useCallback(_e=>{if(q(!1),Y(!1),le.current=null,L(_e),te.current){te.current.resetWithParams(_e);const Se=cloneState(te.current.getState());se.current=[Se],ee(0),U(Se)}},[]),be=se.current,xe=be.length>0?getStateTime(be[be.length-1]):0;return{state:F,params:z,isRunning:V,isComplete:te.current?.isComplete()??!1,time:F?.t??0,stepCount:F?.step_count??0,maxSimulatedTime:xe,isCatchingUp:W,start:ce,pause:fe,reset:de,step:he,seekTo:pe,setParams:ge,engine:te.current}}function formatValue(_){return _==null?"-":typeof _=="boolean"?_?"true":"false":typeof _=="number"?Number.isInteger(_)?_.toString():_.toFixed(3):String(_)}function FrameStatsPanel({snapshot:_}){const[R,P]=reactExports.useState(!1),[I,O]=reactExports.useState("id"),[z,L]=reactExports.useState("asc"),F=reactExports.useMemo(()=>_.length===0?[]:Object.keys(_[0]),[_]),U=reactExports.useMemo(()=>{if(_.length===0)return[];const W=[..._];return W.sort((Y,Q)=>{const ee=Y[I],te=Q[I];let ie;return typeof ee=="number"&&typeof te=="number"?ie=ee-te:ie=String(ee??"").localeCompare(String(te??"")),z==="asc"?ie:-ie}),W},[_,I,z]),V=W=>{I===W?L(Y=>Y==="asc"?"desc":"asc"):(O(W),L("asc"))},q=W=>I!==W?null:z==="asc"?jsxRuntimeExports.jsx(ChevronUp,{size:10}):jsxRuntimeExports.jsx(ChevronDown,{size:10});return _.length===0?null:jsxRuntimeExports.jsxs("div",{className:"border rounded-md bg-card",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>P(!R),className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium hover:bg-muted/50 transition-colors",children:[jsxRuntimeExports.jsx("span",{children:"Frame Data"}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs",children:[_.length," cells, ",F.length," columns"]}),R?jsxRuntimeExports.jsx(ChevronUp,{size:16}):jsxRuntimeExports.jsx(ChevronDown,{size:16})]})]}),R&&jsxRuntimeExports.jsx("div",{className:"border-t overflow-x-auto max-h-72",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-xs border-collapse",children:[jsxRuntimeExports.jsx("thead",{className:"bg-muted/30 sticky top-0 z-20",children:jsxRuntimeExports.jsx("tr",{children:F.map((W,Y)=>jsxRuntimeExports.jsx("th",{className:`px-2 py-1.5 text-left font-medium text-muted-foreground whitespace-nowrap ${Y===0?"sticky left-0 z-30 bg-muted/80 border-r border-border/50":""}`,children:jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>V(W),className:"flex items-center gap-1 hover:text-foreground transition-colors",children:[W,jsxRuntimeExports.jsx(ArrowUpDown,{size:8,className:"opacity-50"}),q(W)]})},W))})}),jsxRuntimeExports.jsx("tbody",{children:U.map((W,Y)=>jsxRuntimeExports.jsx("tr",{className:"border-t border-border/50 hover:bg-muted/20",children:F.map((Q,ee)=>jsxRuntimeExports.jsx("td",{className:`px-2 py-1 font-mono whitespace-nowrap ${ee===0?"sticky left-0 z-10 bg-card border-r border-border/50":""}`,children:formatValue(W[Q])},Q))},Y))})]})})]})}function SingleSimulationTab(){const{currentModel:_}=useModel();return jsxRuntimeExports.jsx(SingleSimulationTabInner,{},_.name)}function SingleSimulationTabInner(){const[_,R]=reactExports.useState("run"),[P,I]=reactExports.useState(!1),[O,z]=reactExports.useState("mp4"),{currentModel:L,currentParams:F}=useModel(),U=reactExports.useRef(null),V=L.renderOptions,[q,W]=reactExports.useState(()=>V?.defaultOptions??{});reactExports.useEffect(()=>{W(V?.defaultOptions??{})},[V]);const Y=V?.RenderOptionsPanel,Q=Y?jsxRuntimeExports.jsx(Y,{options:q,onChange:W}):null,{state:ee,isRunning:te,time:ie,maxSimulatedTime:ae,isCatchingUp:se,start:le,pause:ce,reset:fe,step:de,seekTo:he}=useSimulation({model:L,params:F,paramChangeBehavior:_}),pe=reactExports.useCallback(()=>{const _e=U.current?.getScreenshot();if(_e){const Se=document.createElement("a");Se.download=`simulation_${ie.toFixed(2)}h.png`,Se.href=_e,Se.click()}},[ie]),ge=reactExports.useCallback(async()=>{if(P){I(!1);try{const _e=await U.current?.stopRecording();if(_e){const{blob:Se}=_e,me=O==="webm"?"webm":"mp4",Ce=document.createElement("a");Ce.download=`simulation_${ie.toFixed(2)}h.${me}`,Ce.href=URL.createObjectURL(Se),Ce.click(),URL.revokeObjectURL(Ce.href)}}catch(_e){console.error("Failed to save movie:",_e),alert("Failed to save movie. Check console for details.")}}else try{await U.current?.startRecording(O),I(!0)}catch(_e){console.error("Failed to start recording:",_e);let Se="MP4 (H.264)",me="Chrome 94+, Safari 16.4+, Edge 94+";O==="mp4-av1"?(Se="MP4 (AV1)",me="Chrome 90+, Edge 90+ (Safari not supported)"):O==="webm"&&(Se="WebM (VP9)",me="Chrome 94+, Edge 94+ (Safari not supported)"),alert(`Failed to start ${Se} recording. Your browser may not support this format.

Supported browsers: ${me}`)}},[P,ie,O]),be=reactExports.useCallback(()=>{if(!ee)return;const _e=L.getSnapshot(ee);if(_e.length===0)return;const Se=Object.keys(_e[0]),Ce=[Se.join("	"),..._e.map(Pe=>Se.map(Me=>Pe[Me]??"").join("	"))].join(`
`),Te=new Blob([Ce],{type:"text/tab-separated-values"}),Re=document.createElement("a");Re.download=`simulation_state_${ie.toFixed(2)}h.tsv`,Re.href=URL.createObjectURL(Te),Re.click(),URL.revokeObjectURL(Re.href)},[ee,L,ie]),xe=reactExports.useMemo(()=>{if(!ee)return[];const _e=L.getSnapshot(ee);if(L.exportCellMetrics){const Se=L.exportCellMetrics(ee,F);return _e.map((me,Ce)=>{const Te=Se[Ce];if(!Te)return me;const Re=Object.keys(Te).filter(Ee=>Ee!=="cell_id"),{id:Pe,typeIndex:Me,...Ae}=me,we={};for(const Ee of Re)we[Ee]=Te[Ee];const ke=Te.cell_type??Me;return{id:Pe,typeIndex:ke,...we,...Ae}})}return _e},[ee,L,F]);return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Card,{className:"overflow-hidden",children:jsxRuntimeExports.jsx(SimulationCanvas,{ref:U,state:ee,params:F,minHeight:350,renderOptions:q})}),jsxRuntimeExports.jsx(SimulationControls,{isRunning:te,time:ie,endTime:F.general.t_end,maxSimulatedTime:ae,isCatchingUp:se,onStart:le,onPause:ce,onReset:fe,onStep:de,onSeek:he,paramChangeBehavior:_,onParamChangeBehaviorChange:R,onSaveScreenshot:pe,onSaveMovie:ge,onExportCSV:be,isRecording:P,videoFormat:O,onVideoFormatChange:z,renderOptionsPanel:Q}),jsxRuntimeExports.jsx(FrameStatsPanel,{snapshot:xe})]})}function getNestedValue(_,R){const P=R.split(".");let I=_;for(const O of P){if(I==null||typeof I!="object")return;I=I[O]}return typeof I=="number"?I:void 0}function ParameterRangeList({ranges:_,onChange:R,baseParams:P,disabled:I}){const{currentModel:O}=useModel(),z=React.useMemo(()=>O.generateBatchParameters&&P?O.generateBatchParameters(P):O.batchParameters||[],[O,P]),L=new Set(_.map(W=>W.path)),F=z.filter(W=>!L.has(W.path)),U=W=>{const Y=getNestedValue(P,W)??0;R([..._,{path:W,min:Y,max:Y,steps:3}])},V=W=>{R(_.filter((Y,Q)=>Q!==W))},q=(W,Y,Q)=>{const ee=[..._];Y==="path"?ee[W]={...ee[W],[Y]:Q}:ee[W]={...ee[W],[Y]:Number(Q)},R(ee)};return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Parameter Ranges"}),jsxRuntimeExports.jsxs(Select,{onValueChange:U,disabled:I||F.length===0,children:[jsxRuntimeExports.jsxs(SelectTrigger,{className:"w-[200px] h-8",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-1"}),jsxRuntimeExports.jsx(SelectValue,{placeholder:"Add parameter"})]}),jsxRuntimeExports.jsx(SelectContent,{children:F.map(W=>jsxRuntimeExports.jsx(SelectItem,{value:W.path,children:W.label},W.path))})]})]}),_.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground py-4 text-center",children:"No parameter ranges defined. Add parameters to sweep."}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:_.map((W,Y)=>{const Q=z.find(ae=>ae.path===W.path),ee=getNestedValue(P,W.path),ie=Q?.isInteger??!1?1:.01;return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md bg-muted/50",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium flex-1 truncate",title:W.path,children:Q?.label??W.path}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Base:"}),jsxRuntimeExports.jsx("span",{className:"w-16 h-7 text-xs flex items-center justify-center bg-muted rounded border text-muted-foreground",children:ee??""})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Min:"}),jsxRuntimeExports.jsx(Input,{type:"number",value:W.min,onChange:ae=>q(Y,"min",ae.target.value),disabled:I,className:"w-16 h-7 text-xs",step:ie})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Max:"}),jsxRuntimeExports.jsx(Input,{type:"number",value:W.max,onChange:ae=>q(Y,"max",ae.target.value),disabled:I,className:"w-16 h-7 text-xs",step:ie})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Steps:"}),jsxRuntimeExports.jsx(Input,{type:"number",value:W.steps,onChange:ae=>q(Y,"steps",ae.target.value),disabled:I,className:"w-14 h-7 text-xs",min:1,step:1})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>V(Y),disabled:I,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]},W.path)})})]})}function TimeSampleConfig({config:_,onChange:R,disabled:P}){const I=(z,L)=>{R({..._,[z]:parseFloat(L)||0})},O=Math.max(0,Math.floor((_.end-_.start)/_.step)+1);return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Time Samples"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"time-start",className:"text-xs text-muted-foreground",children:"Start (h)"}),jsxRuntimeExports.jsx(Input,{id:"time-start",type:"number",value:_.start,onChange:z=>I("start",z.target.value),disabled:P,className:"h-8",min:0,step:.01})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"time-end",className:"text-xs text-muted-foreground",children:"End (h)"}),jsxRuntimeExports.jsx(Input,{id:"time-end",type:"number",value:_.end,onChange:z=>I("end",z.target.value),disabled:P,className:"h-8",min:0,step:.01})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"time-step",className:"text-xs text-muted-foreground",children:"Step (h)"}),jsxRuntimeExports.jsx(Input,{id:"time-step",type:"number",value:_.step,onChange:z=>I("step",z.target.value),disabled:P,className:"h-8",min:.01,step:.01})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[O," time point",O!==1?"s":"",": ",_.start,"h",O>1&&`  ${_.end}h`]})]})}function useStateMachine(_,R){return reactExports.useReducer((P,I)=>R[P][I]??P,_)}var SCROLL_AREA_NAME="ScrollArea",[createScrollAreaContext]=createContextScope$1(SCROLL_AREA_NAME),[ScrollAreaProvider,useScrollAreaContext]=createScrollAreaContext(SCROLL_AREA_NAME),ScrollArea$1=reactExports.forwardRef((_,R)=>{const{__scopeScrollArea:P,type:I="hover",dir:O,scrollHideDelay:z=600,...L}=_,[F,U]=reactExports.useState(null),[V,q]=reactExports.useState(null),[W,Y]=reactExports.useState(null),[Q,ee]=reactExports.useState(null),[te,ie]=reactExports.useState(null),[ae,se]=reactExports.useState(0),[le,ce]=reactExports.useState(0),[fe,de]=reactExports.useState(!1),[he,pe]=reactExports.useState(!1),ge=useComposedRefs(R,xe=>U(xe)),be=useDirection(O);return jsxRuntimeExports.jsx(ScrollAreaProvider,{scope:P,type:I,dir:be,scrollHideDelay:z,scrollArea:F,viewport:V,onViewportChange:q,content:W,onContentChange:Y,scrollbarX:Q,onScrollbarXChange:ee,scrollbarXEnabled:fe,onScrollbarXEnabledChange:de,scrollbarY:te,onScrollbarYChange:ie,scrollbarYEnabled:he,onScrollbarYEnabledChange:pe,onCornerWidthChange:se,onCornerHeightChange:ce,children:jsxRuntimeExports.jsx(Primitive$2.div,{dir:be,...L,ref:ge,style:{position:"relative","--radix-scroll-area-corner-width":ae+"px","--radix-scroll-area-corner-height":le+"px",..._.style}})})});ScrollArea$1.displayName=SCROLL_AREA_NAME;var VIEWPORT_NAME="ScrollAreaViewport",ScrollAreaViewport=reactExports.forwardRef((_,R)=>{const{__scopeScrollArea:P,children:I,nonce:O,...z}=_,L=useScrollAreaContext(VIEWPORT_NAME,P),F=reactExports.useRef(null),U=useComposedRefs(R,F,L.onViewportChange);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:O}),jsxRuntimeExports.jsx(Primitive$2.div,{"data-radix-scroll-area-viewport":"",...z,ref:U,style:{overflowX:L.scrollbarXEnabled?"scroll":"hidden",overflowY:L.scrollbarYEnabled?"scroll":"hidden",..._.style},children:jsxRuntimeExports.jsx("div",{ref:L.onContentChange,style:{minWidth:"100%",display:"table"},children:I})})]})});ScrollAreaViewport.displayName=VIEWPORT_NAME;var SCROLLBAR_NAME="ScrollAreaScrollbar",ScrollAreaScrollbar=reactExports.forwardRef((_,R)=>{const{forceMount:P,...I}=_,O=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),{onScrollbarXEnabledChange:z,onScrollbarYEnabledChange:L}=O,F=_.orientation==="horizontal";return reactExports.useEffect(()=>(F?z(!0):L(!0),()=>{F?z(!1):L(!1)}),[F,z,L]),O.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...I,ref:R,forceMount:P}):O.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...I,ref:R,forceMount:P}):O.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...I,ref:R,forceMount:P}):O.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...I,ref:R}):null});ScrollAreaScrollbar.displayName=SCROLLBAR_NAME;var ScrollAreaScrollbarHover=reactExports.forwardRef((_,R)=>{const{forceMount:P,...I}=_,O=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),[z,L]=reactExports.useState(!1);return reactExports.useEffect(()=>{const F=O.scrollArea;let U=0;if(F){const V=()=>{window.clearTimeout(U),L(!0)},q=()=>{U=window.setTimeout(()=>L(!1),O.scrollHideDelay)};return F.addEventListener("pointerenter",V),F.addEventListener("pointerleave",q),()=>{window.clearTimeout(U),F.removeEventListener("pointerenter",V),F.removeEventListener("pointerleave",q)}}},[O.scrollArea,O.scrollHideDelay]),jsxRuntimeExports.jsx(Presence,{present:P||z,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":z?"visible":"hidden",...I,ref:R})})}),ScrollAreaScrollbarScroll=reactExports.forwardRef((_,R)=>{const{forceMount:P,...I}=_,O=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),z=_.orientation==="horizontal",L=useDebounceCallback(()=>U("SCROLL_END"),100),[F,U]=useStateMachine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(F==="idle"){const V=window.setTimeout(()=>U("HIDE"),O.scrollHideDelay);return()=>window.clearTimeout(V)}},[F,O.scrollHideDelay,U]),reactExports.useEffect(()=>{const V=O.viewport,q=z?"scrollLeft":"scrollTop";if(V){let W=V[q];const Y=()=>{const Q=V[q];W!==Q&&(U("SCROLL"),L()),W=Q};return V.addEventListener("scroll",Y),()=>V.removeEventListener("scroll",Y)}},[O.viewport,z,U,L]),jsxRuntimeExports.jsx(Presence,{present:P||F!=="hidden",children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":F==="hidden"?"hidden":"visible",...I,ref:R,onPointerEnter:composeEventHandlers$1(_.onPointerEnter,()=>U("POINTER_ENTER")),onPointerLeave:composeEventHandlers$1(_.onPointerLeave,()=>U("POINTER_LEAVE"))})})}),ScrollAreaScrollbarAuto=reactExports.forwardRef((_,R)=>{const P=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),{forceMount:I,...O}=_,[z,L]=reactExports.useState(!1),F=_.orientation==="horizontal",U=useDebounceCallback(()=>{if(P.viewport){const V=P.viewport.offsetWidth<P.viewport.scrollWidth,q=P.viewport.offsetHeight<P.viewport.scrollHeight;L(F?V:q)}},10);return useResizeObserver(P.viewport,U),useResizeObserver(P.content,U),jsxRuntimeExports.jsx(Presence,{present:I||z,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":z?"visible":"hidden",...O,ref:R})})}),ScrollAreaScrollbarVisible=reactExports.forwardRef((_,R)=>{const{orientation:P="vertical",...I}=_,O=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),z=reactExports.useRef(null),L=reactExports.useRef(0),[F,U]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),V=getThumbRatio(F.viewport,F.content),q={...I,sizes:F,onSizesChange:U,hasThumb:V>0&&V<1,onThumbChange:Y=>z.current=Y,onThumbPointerUp:()=>L.current=0,onThumbPointerDown:Y=>L.current=Y};function W(Y,Q){return getScrollPositionFromPointer(Y,L.current,F,Q)}return P==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...q,ref:R,onThumbPositionChange:()=>{if(O.viewport&&z.current){const Y=O.viewport.scrollLeft,Q=getThumbOffsetFromScroll(Y,F,O.dir);z.current.style.transform=`translate3d(${Q}px, 0, 0)`}},onWheelScroll:Y=>{O.viewport&&(O.viewport.scrollLeft=Y)},onDragScroll:Y=>{O.viewport&&(O.viewport.scrollLeft=W(Y,O.dir))}}):P==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...q,ref:R,onThumbPositionChange:()=>{if(O.viewport&&z.current){const Y=O.viewport.scrollTop,Q=getThumbOffsetFromScroll(Y,F);z.current.style.transform=`translate3d(0, ${Q}px, 0)`}},onWheelScroll:Y=>{O.viewport&&(O.viewport.scrollTop=Y)},onDragScroll:Y=>{O.viewport&&(O.viewport.scrollTop=W(Y))}}):null}),ScrollAreaScrollbarX=reactExports.forwardRef((_,R)=>{const{sizes:P,onSizesChange:I,...O}=_,z=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),[L,F]=reactExports.useState(),U=reactExports.useRef(null),V=useComposedRefs(R,U,z.onScrollbarXChange);return reactExports.useEffect(()=>{U.current&&F(getComputedStyle(U.current))},[U]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"horizontal",...O,ref:V,sizes:P,style:{bottom:0,left:z.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:z.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize(P)+"px",..._.style},onThumbPointerDown:q=>_.onThumbPointerDown(q.x),onDragScroll:q=>_.onDragScroll(q.x),onWheelScroll:(q,W)=>{if(z.viewport){const Y=z.viewport.scrollLeft+q.deltaX;_.onWheelScroll(Y),isScrollingWithinScrollbarBounds(Y,W)&&q.preventDefault()}},onResize:()=>{U.current&&z.viewport&&L&&I({content:z.viewport.scrollWidth,viewport:z.viewport.offsetWidth,scrollbar:{size:U.current.clientWidth,paddingStart:toInt(L.paddingLeft),paddingEnd:toInt(L.paddingRight)}})}})}),ScrollAreaScrollbarY=reactExports.forwardRef((_,R)=>{const{sizes:P,onSizesChange:I,...O}=_,z=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),[L,F]=reactExports.useState(),U=reactExports.useRef(null),V=useComposedRefs(R,U,z.onScrollbarYChange);return reactExports.useEffect(()=>{U.current&&F(getComputedStyle(U.current))},[U]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"vertical",...O,ref:V,sizes:P,style:{top:0,right:z.dir==="ltr"?0:void 0,left:z.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize(P)+"px",..._.style},onThumbPointerDown:q=>_.onThumbPointerDown(q.y),onDragScroll:q=>_.onDragScroll(q.y),onWheelScroll:(q,W)=>{if(z.viewport){const Y=z.viewport.scrollTop+q.deltaY;_.onWheelScroll(Y),isScrollingWithinScrollbarBounds(Y,W)&&q.preventDefault()}},onResize:()=>{U.current&&z.viewport&&L&&I({content:z.viewport.scrollHeight,viewport:z.viewport.offsetHeight,scrollbar:{size:U.current.clientHeight,paddingStart:toInt(L.paddingTop),paddingEnd:toInt(L.paddingBottom)}})}})}),[ScrollbarProvider,useScrollbarContext]=createScrollAreaContext(SCROLLBAR_NAME),ScrollAreaScrollbarImpl=reactExports.forwardRef((_,R)=>{const{__scopeScrollArea:P,sizes:I,hasThumb:O,onThumbChange:z,onThumbPointerUp:L,onThumbPointerDown:F,onThumbPositionChange:U,onDragScroll:V,onWheelScroll:q,onResize:W,...Y}=_,Q=useScrollAreaContext(SCROLLBAR_NAME,P),[ee,te]=reactExports.useState(null),ie=useComposedRefs(R,ge=>te(ge)),ae=reactExports.useRef(null),se=reactExports.useRef(""),le=Q.viewport,ce=I.content-I.viewport,fe=useCallbackRef$1(q),de=useCallbackRef$1(U),he=useDebounceCallback(W,10);function pe(ge){if(ae.current){const be=ge.clientX-ae.current.left,xe=ge.clientY-ae.current.top;V({x:be,y:xe})}}return reactExports.useEffect(()=>{const ge=be=>{const xe=be.target;ee?.contains(xe)&&fe(be,ce)};return document.addEventListener("wheel",ge,{passive:!1}),()=>document.removeEventListener("wheel",ge,{passive:!1})},[le,ee,ce,fe]),reactExports.useEffect(de,[I,de]),useResizeObserver(ee,he),useResizeObserver(Q.content,he),jsxRuntimeExports.jsx(ScrollbarProvider,{scope:P,scrollbar:ee,hasThumb:O,onThumbChange:useCallbackRef$1(z),onThumbPointerUp:useCallbackRef$1(L),onThumbPositionChange:de,onThumbPointerDown:useCallbackRef$1(F),children:jsxRuntimeExports.jsx(Primitive$2.div,{...Y,ref:ie,style:{position:"absolute",...Y.style},onPointerDown:composeEventHandlers$1(_.onPointerDown,ge=>{ge.button===0&&(ge.target.setPointerCapture(ge.pointerId),ae.current=ee.getBoundingClientRect(),se.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",Q.viewport&&(Q.viewport.style.scrollBehavior="auto"),pe(ge))}),onPointerMove:composeEventHandlers$1(_.onPointerMove,pe),onPointerUp:composeEventHandlers$1(_.onPointerUp,ge=>{const be=ge.target;be.hasPointerCapture(ge.pointerId)&&be.releasePointerCapture(ge.pointerId),document.body.style.webkitUserSelect=se.current,Q.viewport&&(Q.viewport.style.scrollBehavior=""),ae.current=null})})})}),THUMB_NAME="ScrollAreaThumb",ScrollAreaThumb=reactExports.forwardRef((_,R)=>{const{forceMount:P,...I}=_,O=useScrollbarContext(THUMB_NAME,_.__scopeScrollArea);return jsxRuntimeExports.jsx(Presence,{present:P||O.hasThumb,children:jsxRuntimeExports.jsx(ScrollAreaThumbImpl,{ref:R,...I})})}),ScrollAreaThumbImpl=reactExports.forwardRef((_,R)=>{const{__scopeScrollArea:P,style:I,...O}=_,z=useScrollAreaContext(THUMB_NAME,P),L=useScrollbarContext(THUMB_NAME,P),{onThumbPositionChange:F}=L,U=useComposedRefs(R,W=>L.onThumbChange(W)),V=reactExports.useRef(void 0),q=useDebounceCallback(()=>{V.current&&(V.current(),V.current=void 0)},100);return reactExports.useEffect(()=>{const W=z.viewport;if(W){const Y=()=>{if(q(),!V.current){const Q=addUnlinkedScrollListener(W,F);V.current=Q,F()}};return F(),W.addEventListener("scroll",Y),()=>W.removeEventListener("scroll",Y)}},[z.viewport,q,F]),jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":L.hasThumb?"visible":"hidden",...O,ref:U,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...I},onPointerDownCapture:composeEventHandlers$1(_.onPointerDownCapture,W=>{const Q=W.target.getBoundingClientRect(),ee=W.clientX-Q.left,te=W.clientY-Q.top;L.onThumbPointerDown({x:ee,y:te})}),onPointerUp:composeEventHandlers$1(_.onPointerUp,L.onThumbPointerUp)})});ScrollAreaThumb.displayName=THUMB_NAME;var CORNER_NAME="ScrollAreaCorner",ScrollAreaCorner=reactExports.forwardRef((_,R)=>{const P=useScrollAreaContext(CORNER_NAME,_.__scopeScrollArea),I=!!(P.scrollbarX&&P.scrollbarY);return P.type!=="scroll"&&I?jsxRuntimeExports.jsx(ScrollAreaCornerImpl,{..._,ref:R}):null});ScrollAreaCorner.displayName=CORNER_NAME;var ScrollAreaCornerImpl=reactExports.forwardRef((_,R)=>{const{__scopeScrollArea:P,...I}=_,O=useScrollAreaContext(CORNER_NAME,P),[z,L]=reactExports.useState(0),[F,U]=reactExports.useState(0),V=!!(z&&F);return useResizeObserver(O.scrollbarX,()=>{const q=O.scrollbarX?.offsetHeight||0;O.onCornerHeightChange(q),U(q)}),useResizeObserver(O.scrollbarY,()=>{const q=O.scrollbarY?.offsetWidth||0;O.onCornerWidthChange(q),L(q)}),V?jsxRuntimeExports.jsx(Primitive$2.div,{...I,ref:R,style:{width:z,height:F,position:"absolute",right:O.dir==="ltr"?0:void 0,left:O.dir==="rtl"?0:void 0,bottom:0,..._.style}}):null});function toInt(_){return _?parseInt(_,10):0}function getThumbRatio(_,R){const P=_/R;return isNaN(P)?0:P}function getThumbSize(_){const R=getThumbRatio(_.viewport,_.content),P=_.scrollbar.paddingStart+_.scrollbar.paddingEnd,I=(_.scrollbar.size-P)*R;return Math.max(I,18)}function getScrollPositionFromPointer(_,R,P,I="ltr"){const O=getThumbSize(P),z=O/2,L=R||z,F=O-L,U=P.scrollbar.paddingStart+L,V=P.scrollbar.size-P.scrollbar.paddingEnd-F,q=P.content-P.viewport,W=I==="ltr"?[0,q]:[q*-1,0];return linearScale([U,V],W)(_)}function getThumbOffsetFromScroll(_,R,P="ltr"){const I=getThumbSize(R),O=R.scrollbar.paddingStart+R.scrollbar.paddingEnd,z=R.scrollbar.size-O,L=R.content-R.viewport,F=z-I,U=P==="ltr"?[0,L]:[L*-1,0],V=clamp$1(_,U);return linearScale([0,L],[0,F])(V)}function linearScale(_,R){return P=>{if(_[0]===_[1]||R[0]===R[1])return R[0];const I=(R[1]-R[0])/(_[1]-_[0]);return R[0]+I*(P-_[0])}}function isScrollingWithinScrollbarBounds(_,R){return _>0&&_<R}var addUnlinkedScrollListener=(_,R=()=>{})=>{let P={left:_.scrollLeft,top:_.scrollTop},I=0;return(function O(){const z={left:_.scrollLeft,top:_.scrollTop},L=P.left!==z.left,F=P.top!==z.top;(L||F)&&R(),P=z,I=window.requestAnimationFrame(O)})(),()=>window.cancelAnimationFrame(I)};function useDebounceCallback(_,R){const P=useCallbackRef$1(_),I=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(I.current),[]),reactExports.useCallback(()=>{window.clearTimeout(I.current),I.current=window.setTimeout(P,R)},[P,R])}function useResizeObserver(_,R){const P=useCallbackRef$1(R);useLayoutEffect2(()=>{let I=0;if(_){const O=new ResizeObserver(()=>{cancelAnimationFrame(I),I=window.requestAnimationFrame(P)});return O.observe(_),()=>{window.cancelAnimationFrame(I),O.unobserve(_)}}},[_,P])}var Root$3=ScrollArea$1,Viewport=ScrollAreaViewport,Corner=ScrollAreaCorner;const ScrollArea=reactExports.forwardRef(({className:_,children:R,...P},I)=>jsxRuntimeExports.jsxs(Root$3,{ref:I,className:cn("relative overflow-hidden",_),...P,children:[jsxRuntimeExports.jsx(Viewport,{className:"h-full w-full rounded-[inherit]",children:R}),jsxRuntimeExports.jsx(ScrollBar,{}),jsxRuntimeExports.jsx(Corner,{})]}));ScrollArea.displayName=Root$3.displayName;const ScrollBar=reactExports.forwardRef(({className:_,orientation:R="vertical",...P},I)=>jsxRuntimeExports.jsx(ScrollAreaScrollbar,{ref:I,orientation:R,className:cn("flex touch-none select-none transition-colors",R==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",R==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",_),...P,children:jsxRuntimeExports.jsx(ScrollAreaThumb,{className:"relative flex-1 rounded-full bg-border"})}));ScrollBar.displayName=ScrollAreaScrollbar.displayName;function ResultsTable({columns:_,rows:R,onRunRow:P}){if(_.length===0||R.length===0)return jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No results to display. Run batch or compute statistics."});const I=!!P;return jsxRuntimeExports.jsx(ScrollArea,{className:"h-[300px] border rounded-md",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"sticky top-0 bg-muted",children:jsxRuntimeExports.jsxs("tr",{children:[I&&jsxRuntimeExports.jsx("th",{className:"text-left px-2 py-2 font-medium border-b whitespace-nowrap w-12",children:"Run"}),_.map((O,z)=>jsxRuntimeExports.jsx("th",{className:"text-left px-3 py-2 font-medium border-b whitespace-nowrap",children:O},z))]})}),jsxRuntimeExports.jsx("tbody",{children:R.map((O,z)=>jsxRuntimeExports.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/50",children:[I&&jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>P(z),title:"Open simulation with these parameters",children:jsxRuntimeExports.jsx(Play,{className:"h-3 w-3"})})}),O.map((L,F)=>jsxRuntimeExports.jsx("td",{className:"px-3 py-1.5 whitespace-nowrap font-mono text-xs",children:typeof L=="number"?L.toFixed(4):L},F))]},z))})]})})}function createContextScope(_,R=[]){let P=[];function I(z,L){const F=reactExports.createContext(L);F.displayName=z+"Context";const U=P.length;P=[...P,L];const V=W=>{const{scope:Y,children:Q,...ee}=W,te=Y?.[_]?.[U]||F,ie=reactExports.useMemo(()=>ee,Object.values(ee));return jsxRuntimeExports.jsx(te.Provider,{value:ie,children:Q})};V.displayName=z+"Provider";function q(W,Y){const Q=Y?.[_]?.[U]||F,ee=reactExports.useContext(Q);if(ee)return ee;if(L!==void 0)return L;throw new Error(`\`${W}\` must be used within \`${z}\``)}return[V,q]}const O=()=>{const z=P.map(L=>reactExports.createContext(L));return function(F){const U=F?.[_]||z;return reactExports.useMemo(()=>({[`__scope${_}`]:{...F,[_]:U}}),[F,U])}};return O.scopeName=_,[I,composeContextScopes(O,...R)]}function composeContextScopes(..._){const R=_[0];if(_.length===1)return R;const P=()=>{const I=_.map(O=>({useScope:O(),scopeName:O.scopeName}));return function(z){const L=I.reduce((F,{useScope:U,scopeName:V})=>{const W=U(z)[`__scope${V}`];return{...F,...W}},{});return reactExports.useMemo(()=>({[`__scope${R.scopeName}`]:L}),[L])}};return P.scopeName=R.scopeName,P}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((_,R)=>{const P=createSlot$3(`Primitive.${R}`),I=reactExports.forwardRef((O,z)=>{const{asChild:L,...F}=O,U=L?P:R;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(U,{...F,ref:z})});return I.displayName=`Primitive.${R}`,{..._,[R]:I}},{}),PROGRESS_NAME="Progress",DEFAULT_MAX=100,[createProgressContext]=createContextScope(PROGRESS_NAME),[ProgressProvider,useProgressContext]=createProgressContext(PROGRESS_NAME),Progress$1=reactExports.forwardRef((_,R)=>{const{__scopeProgress:P,value:I=null,max:O,getValueLabel:z=defaultGetValueLabel,...L}=_;(O||O===0)&&!isValidMaxNumber(O)&&console.error(getInvalidMaxError(`${O}`,"Progress"));const F=isValidMaxNumber(O)?O:DEFAULT_MAX;I!==null&&!isValidValueNumber(I,F)&&console.error(getInvalidValueError(`${I}`,"Progress"));const U=isValidValueNumber(I,F)?I:null,V=isNumber(U)?z(U,F):void 0;return jsxRuntimeExports.jsx(ProgressProvider,{scope:P,value:U,max:F,children:jsxRuntimeExports.jsx(Primitive.div,{"aria-valuemax":F,"aria-valuemin":0,"aria-valuenow":isNumber(U)?U:void 0,"aria-valuetext":V,role:"progressbar","data-state":getProgressState(U,F),"data-value":U??void 0,"data-max":F,...L,ref:R})})});Progress$1.displayName=PROGRESS_NAME;var INDICATOR_NAME="ProgressIndicator",ProgressIndicator=reactExports.forwardRef((_,R)=>{const{__scopeProgress:P,...I}=_,O=useProgressContext(INDICATOR_NAME,P);return jsxRuntimeExports.jsx(Primitive.div,{"data-state":getProgressState(O.value,O.max),"data-value":O.value??void 0,"data-max":O.max,...I,ref:R})});ProgressIndicator.displayName=INDICATOR_NAME;function defaultGetValueLabel(_,R){return`${Math.round(_/R*100)}%`}function getProgressState(_,R){return _==null?"indeterminate":_===R?"complete":"loading"}function isNumber(_){return typeof _=="number"}function isValidMaxNumber(_){return isNumber(_)&&!isNaN(_)&&_>0}function isValidValueNumber(_,R){return isNumber(_)&&!isNaN(_)&&_<=R&&_>=0}function getInvalidMaxError(_,R){return`Invalid prop \`max\` of value \`${_}\` supplied to \`${R}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DEFAULT_MAX}\`.`}function getInvalidValueError(_,R){return`Invalid prop \`value\` of value \`${_}\` supplied to \`${R}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DEFAULT_MAX} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Root$2=Progress$1,Indicator=ProgressIndicator;const Progress=reactExports.forwardRef(({className:_,value:R,...P},I)=>jsxRuntimeExports.jsx(Root$2,{ref:I,className:cn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",_),...P,children:jsxRuntimeExports.jsx(Indicator,{className:"h-full w-full flex-1 bg-play transition-all",style:{transform:`translateX(-${100-(R||0)}%)`}})}));Progress.displayName=Root$2.displayName;function ascending$1(_,R){return _==null||R==null?NaN:_<R?-1:_>R?1:_>=R?0:NaN}function descending(_,R){return _==null||R==null?NaN:R<_?-1:R>_?1:R>=_?0:NaN}function bisector(_){let R,P,I;_.length!==2?(R=ascending$1,P=(F,U)=>ascending$1(_(F),U),I=(F,U)=>_(F)-U):(R=_===ascending$1||_===descending?_:zero$3,P=_,I=_);function O(F,U,V=0,q=F.length){if(V<q){if(R(U,U)!==0)return q;do{const W=V+q>>>1;P(F[W],U)<0?V=W+1:q=W}while(V<q)}return V}function z(F,U,V=0,q=F.length){if(V<q){if(R(U,U)!==0)return q;do{const W=V+q>>>1;P(F[W],U)<=0?V=W+1:q=W}while(V<q)}return V}function L(F,U,V=0,q=F.length){const W=O(F,U,V,q-1);return W>V&&I(F[W-1],U)>-I(F[W],U)?W-1:W}return{left:O,center:L,right:z}}function zero$3(){return 0}function number$5(_){return _===null?NaN:+_}function*numbers(_,R){if(R===void 0)for(let P of _)P!=null&&(P=+P)>=P&&(yield P);else{let P=-1;for(let I of _)(I=R(I,++P,_))!=null&&(I=+I)>=I&&(yield I)}}const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right;bisector(number$5).center;function count(_,R){let P=0;for(let I of _)I!=null&&(I=+I)>=I&&++P;return P}function length$1(_){return _.length|0}function empty$3(_){return!(_>0)}function arrayify$1(_){return typeof _!="object"||"length"in _?_:Array.from(_)}function reducer(_){return R=>_(...R)}function cross(..._){const R=typeof _[_.length-1]=="function"&&reducer(_.pop());_=_.map(arrayify$1);const P=_.map(length$1),I=_.length-1,O=new Array(I+1).fill(0),z=[];if(I<0||P.some(empty$3))return z;for(;;){z.push(O.map((F,U)=>_[U][F]));let L=I;for(;++O[L]===P[L];){if(L===0)return R?z.map(R):z;O[L--]=0}}}function cumsum(_,R){var P=0;return Float64Array.from(_,I=>P+=+I||0)}function variance(_,R){let P=0,I,O=0,z=0;if(R===void 0)for(let L of _)L!=null&&(L=+L)>=L&&(I=L-O,O+=I/++P,z+=I*(L-O));else{let L=-1;for(let F of _)(F=R(F,++L,_))!=null&&(F=+F)>=F&&(I=F-O,O+=I/++P,z+=I*(F-O))}if(P>1)return z/(P-1)}function deviation(_,R){const P=variance(_,R);return P&&Math.sqrt(P)}function extent$1(_,R){let P,I;if(R===void 0)for(const O of _)O!=null&&(P===void 0?O>=O&&(P=I=O):(P>O&&(P=O),I<O&&(I=O)));else{let O=-1;for(let z of _)(z=R(z,++O,_))!=null&&(P===void 0?z>=z&&(P=I=z):(P>z&&(P=z),I<z&&(I=z)))}return[P,I]}class Adder{constructor(){this._partials=new Float64Array(32),this._n=0}add(R){const P=this._partials;let I=0;for(let O=0;O<this._n&&O<32;O++){const z=P[O],L=R+z,F=Math.abs(R)<Math.abs(z)?R-(L-z):z-(L-R);F&&(P[I++]=F),R=L}return P[I]=R,this._n=I+1,this}valueOf(){const R=this._partials;let P=this._n,I,O,z,L=0;if(P>0){for(L=R[--P];P>0&&(I=L,O=R[--P],L=I+O,z=O-(L-I),!z););P>0&&(z<0&&R[P-1]<0||z>0&&R[P-1]>0)&&(O=z*2,I=L+O,O==I-L&&(L=I))}return L}}class InternMap extends Map{constructor(R,P=keyof$1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:P}}),R!=null)for(const[I,O]of R)this.set(I,O)}get(R){return super.get(intern_get(this,R))}has(R){return super.has(intern_get(this,R))}set(R,P){return super.set(intern_set(this,R),P)}delete(R){return super.delete(intern_delete(this,R))}}class InternSet extends Set{constructor(R,P=keyof$1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:P}}),R!=null)for(const I of R)this.add(I)}has(R){return super.has(intern_get(this,R))}add(R){return super.add(intern_set(this,R))}delete(R){return super.delete(intern_delete(this,R))}}function intern_get({_intern:_,_key:R},P){const I=R(P);return _.has(I)?_.get(I):P}function intern_set({_intern:_,_key:R},P){const I=R(P);return _.has(I)?_.get(I):(_.set(I,P),P)}function intern_delete({_intern:_,_key:R},P){const I=R(P);return _.has(I)&&(P=_.get(I),_.delete(I)),P}function keyof$1(_){return _!==null&&typeof _=="object"?_.valueOf():_}function identity$8(_){return _}function group(_,...R){return nest(_,identity$8,identity$8,R)}function rollup(_,R,...P){return nest(_,identity$8,R,P)}function rollups(_,R,...P){return nest(_,Array.from,R,P)}function nest(_,R,P,I){return(function O(z,L){if(L>=I.length)return P(z);const F=new InternMap,U=I[L++];let V=-1;for(const q of z){const W=U(q,++V,z),Y=F.get(W);Y?Y.push(q):F.set(W,[q])}for(const[q,W]of F)F.set(q,O(W,L));return R(F)})(_,0)}function permute(_,R){return Array.from(R,P=>_[P])}function sort$1(_,...R){if(typeof _[Symbol.iterator]!="function")throw new TypeError("values is not iterable");_=Array.from(_);let[P]=R;if(P&&P.length!==2||R.length>1){const I=Uint32Array.from(_,(O,z)=>z);return R.length>1?(R=R.map(O=>_.map(O)),I.sort((O,z)=>{for(const L of R){const F=ascendingDefined$1(L[O],L[z]);if(F)return F}})):(P=_.map(P),I.sort((O,z)=>ascendingDefined$1(P[O],P[z]))),permute(_,I)}return _.sort(compareDefined(P))}function compareDefined(_=ascending$1){if(_===ascending$1)return ascendingDefined$1;if(typeof _!="function")throw new TypeError("compare is not a function");return(R,P)=>{const I=_(R,P);return I||I===0?I:(_(P,P)===0)-(_(R,R)===0)}}function ascendingDefined$1(_,R){return(_==null||!(_>=_))-(R==null||!(R>=R))||(_<R?-1:_>R?1:0)}function groupSort(_,R,P){return(R.length!==2?sort$1(rollup(_,R,P),(([I,O],[z,L])=>ascending$1(O,L)||ascending$1(I,z))):sort$1(group(_,P),(([I,O],[z,L])=>R(O,L)||ascending$1(I,z)))).map(([I])=>I)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(_,R,P){const I=(R-_)/Math.max(0,P),O=Math.floor(Math.log10(I)),z=I/Math.pow(10,O),L=z>=e10?10:z>=e5?5:z>=e2?2:1;let F,U,V;return O<0?(V=Math.pow(10,-O)/L,F=Math.round(_*V),U=Math.round(R*V),F/V<_&&++F,U/V>R&&--U,V=-V):(V=Math.pow(10,O)*L,F=Math.round(_/V),U=Math.round(R/V),F*V<_&&++F,U*V>R&&--U),U<F&&.5<=P&&P<2?tickSpec(_,R,P*2):[F,U,V]}function ticks(_,R,P){if(R=+R,_=+_,P=+P,!(P>0))return[];if(_===R)return[_];const I=R<_,[O,z,L]=I?tickSpec(R,_,P):tickSpec(_,R,P);if(!(z>=O))return[];const F=z-O+1,U=new Array(F);if(I)if(L<0)for(let V=0;V<F;++V)U[V]=(z-V)/-L;else for(let V=0;V<F;++V)U[V]=(z-V)*L;else if(L<0)for(let V=0;V<F;++V)U[V]=(O+V)/-L;else for(let V=0;V<F;++V)U[V]=(O+V)*L;return U}function tickIncrement(_,R,P){return R=+R,_=+_,P=+P,tickSpec(_,R,P)[2]}function tickStep(_,R,P){R=+R,_=+_,P=+P;const I=R<_,O=I?tickIncrement(R,_,P):tickIncrement(_,R,P);return(I?-1:1)*(O<0?1/-O:O)}function thresholdSturges(_){return Math.max(1,Math.ceil(Math.log(count(_))/Math.LN2)+1)}function max(_,R){let P;if(R===void 0)for(const I of _)I!=null&&(P<I||P===void 0&&I>=I)&&(P=I);else{let I=-1;for(let O of _)(O=R(O,++I,_))!=null&&(P<O||P===void 0&&O>=O)&&(P=O)}return P}function maxIndex(_,R){let P,I=-1,O=-1;if(R===void 0)for(const z of _)++O,z!=null&&(P<z||P===void 0&&z>=z)&&(P=z,I=O);else for(let z of _)(z=R(z,++O,_))!=null&&(P<z||P===void 0&&z>=z)&&(P=z,I=O);return I}function min$1(_,R){let P;if(R===void 0)for(const I of _)I!=null&&(P>I||P===void 0&&I>=I)&&(P=I);else{let I=-1;for(let O of _)(O=R(O,++I,_))!=null&&(P>O||P===void 0&&O>=O)&&(P=O)}return P}function minIndex(_,R){let P,I=-1,O=-1;if(R===void 0)for(const z of _)++O,z!=null&&(P>z||P===void 0&&z>=z)&&(P=z,I=O);else for(let z of _)(z=R(z,++O,_))!=null&&(P>z||P===void 0&&z>=z)&&(P=z,I=O);return I}function quickselect(_,R,P=0,I=1/0,O){if(R=Math.floor(R),P=Math.floor(Math.max(0,P)),I=Math.floor(Math.min(_.length-1,I)),!(P<=R&&R<=I))return _;for(O=O===void 0?ascendingDefined$1:compareDefined(O);I>P;){if(I-P>600){const U=I-P+1,V=R-P+1,q=Math.log(U),W=.5*Math.exp(2*q/3),Y=.5*Math.sqrt(q*W*(U-W)/U)*(V-U/2<0?-1:1),Q=Math.max(P,Math.floor(R-V*W/U+Y)),ee=Math.min(I,Math.floor(R+(U-V)*W/U+Y));quickselect(_,R,Q,ee,O)}const z=_[R];let L=P,F=I;for(swap(_,P,R),O(_[I],z)>0&&swap(_,P,I);L<F;){for(swap(_,L,F),++L,--F;O(_[L],z)<0;)++L;for(;O(_[F],z)>0;)--F}O(_[P],z)===0?swap(_,P,F):(++F,swap(_,F,I)),F<=R&&(P=F+1),R<=F&&(I=F-1)}return _}function swap(_,R,P){const I=_[R];_[R]=_[P],_[P]=I}function greatest(_,R=ascending$1){let P,I=!1;if(R.length===1){let O;for(const z of _){const L=R(z);(I?ascending$1(L,O)>0:ascending$1(L,L)===0)&&(P=z,O=L,I=!0)}}else for(const O of _)(I?R(O,P)>0:R(O,O)===0)&&(P=O,I=!0);return P}function quantile$1(_,R,P){if(_=Float64Array.from(numbers(_,P)),!(!(I=_.length)||isNaN(R=+R))){if(R<=0||I<2)return min$1(_);if(R>=1)return max(_);var I,O=(I-1)*R,z=Math.floor(O),L=max(quickselect(_,z).subarray(0,z+1)),F=min$1(_.subarray(z+1));return L+(F-L)*(O-z)}}function quantileSorted(_,R,P=number$5){if(!(!(I=_.length)||isNaN(R=+R))){if(R<=0||I<2)return+P(_[0],0,_);if(R>=1)return+P(_[I-1],I-1,_);var I,O=(I-1)*R,z=Math.floor(O),L=+P(_[z],z,_),F=+P(_[z+1],z+1,_);return L+(F-L)*(O-z)}}function thresholdFreedmanDiaconis(_,R,P){const I=count(_),O=quantile$1(_,.75)-quantile$1(_,.25);return I&&O?Math.ceil((P-R)/(2*O*Math.pow(I,-1/3))):1}function thresholdScott(_,R,P){const I=count(_),O=deviation(_);return I&&O?Math.ceil((P-R)*Math.cbrt(I)/(3.49*O)):1}function mean(_,R){let P=0,I=0;if(R===void 0)for(let O of _)O!=null&&(O=+O)>=O&&(++P,I+=O);else{let O=-1;for(let z of _)(z=R(z,++O,_))!=null&&(z=+z)>=z&&(++P,I+=z)}if(P)return I/P}function median(_,R){return quantile$1(_,.5,R)}function*flatten(_){for(const R of _)yield*R}function merge$1(_){return Array.from(flatten(_))}function mode(_,R){const P=new InternMap;if(R===void 0)for(let z of _)z!=null&&z>=z&&P.set(z,(P.get(z)||0)+1);else{let z=-1;for(let L of _)(L=R(L,++z,_))!=null&&L>=L&&P.set(L,(P.get(L)||0)+1)}let I,O=0;for(const[z,L]of P)L>O&&(O=L,I=z);return I}function pairs(_,R=pair){const P=[];let I,O=!1;for(const z of _)O&&P.push(R(I,z)),I=z,O=!0;return P}function pair(_,R){return[_,R]}function range$1(_,R,P){_=+_,R=+R,P=(O=arguments.length)<2?(R=_,_=0,1):O<3?1:+P;for(var I=-1,O=Math.max(0,Math.ceil((R-_)/P))|0,z=new Array(O);++I<O;)z[I]=_+I*P;return z}function sum(_,R){let P=0;if(R===void 0)for(let I of _)(I=+I)&&(P+=I);else{let I=-1;for(let O of _)(O=+R(O,++I,_))&&(P+=O)}return P}function reverse(_){if(typeof _[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(_).reverse()}function identity$7(_){return _}var bottom=3,epsilon$3=1e-6;function translateX(_){return"translate("+_+",0)"}function number$4(_){return R=>+_(R)}function center(_,R){return R=Math.max(0,_.bandwidth()-R*2)/2,_.round()&&(R=Math.round(R)),P=>+_(P)+R}function entering(){return!this.__axis}function axis(_,R){var P=[],I=null,O=null,z=6,L=6,F=3,U=typeof window<"u"&&window.devicePixelRatio>1?0:.5,V=1,q="y",W=translateX;function Y(Q){var ee=I??(R.ticks?R.ticks.apply(R,P):R.domain()),te=O??(R.tickFormat?R.tickFormat.apply(R,P):identity$7),ie=Math.max(z,0)+F,ae=R.range(),se=+ae[0]+U,le=+ae[ae.length-1]+U,ce=(R.bandwidth?center:number$4)(R.copy(),U),fe=Q.selection?Q.selection():Q,de=fe.selectAll(".domain").data([null]),he=fe.selectAll(".tick").data(ee,R).order(),pe=he.exit(),ge=he.enter().append("g").attr("class","tick"),be=he.select("line"),xe=he.select("text");de=de.merge(de.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),he=he.merge(ge),be=be.merge(ge.append("line").attr("stroke","currentColor").attr(q+"2",V*z)),xe=xe.merge(ge.append("text").attr("fill","currentColor").attr(q,V*ie).attr("dy","0.71em")),Q!==fe&&(de=de.transition(Q),he=he.transition(Q),be=be.transition(Q),xe=xe.transition(Q),pe=pe.transition(Q).attr("opacity",epsilon$3).attr("transform",function(_e){return isFinite(_e=ce(_e))?W(_e+U):this.getAttribute("transform")}),ge.attr("opacity",epsilon$3).attr("transform",function(_e){var Se=this.parentNode.__axis;return W((Se&&isFinite(Se=Se(_e))?Se:ce(_e))+U)})),pe.remove(),de.attr("d",L?"M"+se+","+V*L+"V"+U+"H"+le+"V"+V*L:"M"+se+","+U+"H"+le),he.attr("opacity",1).attr("transform",function(_e){return W(ce(_e)+U)}),be.attr(q+"2",V*z),xe.attr(q,V*ie).text(te),fe.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),fe.each(function(){this.__axis=ce})}return Y.scale=function(Q){return arguments.length?(R=Q,Y):R},Y.ticks=function(){return P=Array.from(arguments),Y},Y.tickArguments=function(Q){return arguments.length?(P=Q==null?[]:Array.from(Q),Y):P.slice()},Y.tickValues=function(Q){return arguments.length?(I=Q==null?null:Array.from(Q),Y):I&&I.slice()},Y.tickFormat=function(Q){return arguments.length?(O=Q,Y):O},Y.tickSize=function(Q){return arguments.length?(z=L=+Q,Y):z},Y.tickSizeInner=function(Q){return arguments.length?(z=+Q,Y):z},Y.tickSizeOuter=function(Q){return arguments.length?(L=+Q,Y):L},Y.tickPadding=function(Q){return arguments.length?(F=+Q,Y):F},Y.offset=function(Q){return arguments.length?(U=+Q,Y):U},Y}function axisBottom(_){return axis(bottom,_)}var noop$2={value:()=>{}};function dispatch(){for(var _=0,R=arguments.length,P={},I;_<R;++_){if(!(I=arguments[_]+"")||I in P||/[\s.]/.test(I))throw new Error("illegal type: "+I);P[I]=[]}return new Dispatch(P)}function Dispatch(_){this._=_}function parseTypenames$1(_,R){return _.trim().split(/^|\s+/).map(function(P){var I="",O=P.indexOf(".");if(O>=0&&(I=P.slice(O+1),P=P.slice(0,O)),P&&!R.hasOwnProperty(P))throw new Error("unknown type: "+P);return{type:P,name:I}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(_,R){var P=this._,I=parseTypenames$1(_+"",P),O,z=-1,L=I.length;if(arguments.length<2){for(;++z<L;)if((O=(_=I[z]).type)&&(O=get$1(P[O],_.name)))return O;return}if(R!=null&&typeof R!="function")throw new Error("invalid callback: "+R);for(;++z<L;)if(O=(_=I[z]).type)P[O]=set$1(P[O],_.name,R);else if(R==null)for(O in P)P[O]=set$1(P[O],_.name,null);return this},copy:function(){var _={},R=this._;for(var P in R)_[P]=R[P].slice();return new Dispatch(_)},call:function(_,R){if((O=arguments.length-2)>0)for(var P=new Array(O),I=0,O,z;I<O;++I)P[I]=arguments[I+2];if(!this._.hasOwnProperty(_))throw new Error("unknown type: "+_);for(z=this._[_],I=0,O=z.length;I<O;++I)z[I].value.apply(R,P)},apply:function(_,R,P){if(!this._.hasOwnProperty(_))throw new Error("unknown type: "+_);for(var I=this._[_],O=0,z=I.length;O<z;++O)I[O].value.apply(R,P)}};function get$1(_,R){for(var P=0,I=_.length,O;P<I;++P)if((O=_[P]).name===R)return O.value}function set$1(_,R,P){for(var I=0,O=_.length;I<O;++I)if(_[I].name===R){_[I]=noop$2,_=_.slice(0,I).concat(_.slice(I+1));break}return P!=null&&_.push({name:R,value:P}),_}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(_){var R=_+="",P=R.indexOf(":");return P>=0&&(R=_.slice(0,P))!=="xmlns"&&(_=_.slice(P+1)),namespaces.hasOwnProperty(R)?{space:namespaces[R],local:_}:_}function creatorInherit(_){return function(){var R=this.ownerDocument,P=this.namespaceURI;return P===xhtml&&R.documentElement.namespaceURI===xhtml?R.createElement(_):R.createElementNS(P,_)}}function creatorFixed(_){return function(){return this.ownerDocument.createElementNS(_.space,_.local)}}function creator(_){var R=namespace(_);return(R.local?creatorFixed:creatorInherit)(R)}function none(){}function selector(_){return _==null?none:function(){return this.querySelector(_)}}function selection_select(_){typeof _!="function"&&(_=selector(_));for(var R=this._groups,P=R.length,I=new Array(P),O=0;O<P;++O)for(var z=R[O],L=z.length,F=I[O]=new Array(L),U,V,q=0;q<L;++q)(U=z[q])&&(V=_.call(U,U.__data__,q,z))&&("__data__"in U&&(V.__data__=U.__data__),F[q]=V);return new Selection$1(I,this._parents)}function array$1(_){return _==null?[]:Array.isArray(_)?_:Array.from(_)}function empty$2(){return[]}function selectorAll(_){return _==null?empty$2:function(){return this.querySelectorAll(_)}}function arrayAll(_){return function(){return array$1(_.apply(this,arguments))}}function selection_selectAll(_){typeof _=="function"?_=arrayAll(_):_=selectorAll(_);for(var R=this._groups,P=R.length,I=[],O=[],z=0;z<P;++z)for(var L=R[z],F=L.length,U,V=0;V<F;++V)(U=L[V])&&(I.push(_.call(U,U.__data__,V,L)),O.push(U));return new Selection$1(I,O)}function matcher(_){return function(){return this.matches(_)}}function childMatcher(_){return function(R){return R.matches(_)}}var find$1=Array.prototype.find;function childFind(_){return function(){return find$1.call(this.children,_)}}function childFirst(){return this.firstElementChild}function selection_selectChild(_){return this.select(_==null?childFirst:childFind(typeof _=="function"?_:childMatcher(_)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(_){return function(){return filter.call(this.children,_)}}function selection_selectChildren(_){return this.selectAll(_==null?children:childrenFilter(typeof _=="function"?_:childMatcher(_)))}function selection_filter(_){typeof _!="function"&&(_=matcher(_));for(var R=this._groups,P=R.length,I=new Array(P),O=0;O<P;++O)for(var z=R[O],L=z.length,F=I[O]=[],U,V=0;V<L;++V)(U=z[V])&&_.call(U,U.__data__,V,z)&&F.push(U);return new Selection$1(I,this._parents)}function sparse(_){return new Array(_.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(_,R){this.ownerDocument=_.ownerDocument,this.namespaceURI=_.namespaceURI,this._next=null,this._parent=_,this.__data__=R}EnterNode.prototype={constructor:EnterNode,appendChild:function(_){return this._parent.insertBefore(_,this._next)},insertBefore:function(_,R){return this._parent.insertBefore(_,R)},querySelector:function(_){return this._parent.querySelector(_)},querySelectorAll:function(_){return this._parent.querySelectorAll(_)}};function constant$3(_){return function(){return _}}function bindIndex(_,R,P,I,O,z){for(var L=0,F,U=R.length,V=z.length;L<V;++L)(F=R[L])?(F.__data__=z[L],I[L]=F):P[L]=new EnterNode(_,z[L]);for(;L<U;++L)(F=R[L])&&(O[L]=F)}function bindKey(_,R,P,I,O,z,L){var F,U,V=new Map,q=R.length,W=z.length,Y=new Array(q),Q;for(F=0;F<q;++F)(U=R[F])&&(Y[F]=Q=L.call(U,U.__data__,F,R)+"",V.has(Q)?O[F]=U:V.set(Q,U));for(F=0;F<W;++F)Q=L.call(_,z[F],F,z)+"",(U=V.get(Q))?(I[F]=U,U.__data__=z[F],V.delete(Q)):P[F]=new EnterNode(_,z[F]);for(F=0;F<q;++F)(U=R[F])&&V.get(Y[F])===U&&(O[F]=U)}function datum(_){return _.__data__}function selection_data(_,R){if(!arguments.length)return Array.from(this,datum);var P=R?bindKey:bindIndex,I=this._parents,O=this._groups;typeof _!="function"&&(_=constant$3(_));for(var z=O.length,L=new Array(z),F=new Array(z),U=new Array(z),V=0;V<z;++V){var q=I[V],W=O[V],Y=W.length,Q=arraylike(_.call(q,q&&q.__data__,V,I)),ee=Q.length,te=F[V]=new Array(ee),ie=L[V]=new Array(ee),ae=U[V]=new Array(Y);P(q,W,te,ie,ae,Q,R);for(var se=0,le=0,ce,fe;se<ee;++se)if(ce=te[se]){for(se>=le&&(le=se+1);!(fe=ie[le])&&++le<ee;);ce._next=fe||null}}return L=new Selection$1(L,I),L._enter=F,L._exit=U,L}function arraylike(_){return typeof _=="object"&&"length"in _?_:Array.from(_)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(_,R,P){var I=this.enter(),O=this,z=this.exit();return typeof _=="function"?(I=_(I),I&&(I=I.selection())):I=I.append(_+""),R!=null&&(O=R(O),O&&(O=O.selection())),P==null?z.remove():P(z),I&&O?I.merge(O).order():O}function selection_merge(_){for(var R=_.selection?_.selection():_,P=this._groups,I=R._groups,O=P.length,z=I.length,L=Math.min(O,z),F=new Array(O),U=0;U<L;++U)for(var V=P[U],q=I[U],W=V.length,Y=F[U]=new Array(W),Q,ee=0;ee<W;++ee)(Q=V[ee]||q[ee])&&(Y[ee]=Q);for(;U<O;++U)F[U]=P[U];return new Selection$1(F,this._parents)}function selection_order(){for(var _=this._groups,R=-1,P=_.length;++R<P;)for(var I=_[R],O=I.length-1,z=I[O],L;--O>=0;)(L=I[O])&&(z&&L.compareDocumentPosition(z)^4&&z.parentNode.insertBefore(L,z),z=L);return this}function selection_sort(_){_||(_=ascending);function R(W,Y){return W&&Y?_(W.__data__,Y.__data__):!W-!Y}for(var P=this._groups,I=P.length,O=new Array(I),z=0;z<I;++z){for(var L=P[z],F=L.length,U=O[z]=new Array(F),V,q=0;q<F;++q)(V=L[q])&&(U[q]=V);U.sort(R)}return new Selection$1(O,this._parents).order()}function ascending(_,R){return _<R?-1:_>R?1:_>=R?0:NaN}function selection_call(){var _=arguments[0];return arguments[0]=this,_.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var _=this._groups,R=0,P=_.length;R<P;++R)for(var I=_[R],O=0,z=I.length;O<z;++O){var L=I[O];if(L)return L}return null}function selection_size(){let _=0;for(const R of this)++_;return _}function selection_empty(){return!this.node()}function selection_each(_){for(var R=this._groups,P=0,I=R.length;P<I;++P)for(var O=R[P],z=0,L=O.length,F;z<L;++z)(F=O[z])&&_.call(F,F.__data__,z,O);return this}function attrRemove$1(_){return function(){this.removeAttribute(_)}}function attrRemoveNS$1(_){return function(){this.removeAttributeNS(_.space,_.local)}}function attrConstant$1(_,R){return function(){this.setAttribute(_,R)}}function attrConstantNS$1(_,R){return function(){this.setAttributeNS(_.space,_.local,R)}}function attrFunction$1(_,R){return function(){var P=R.apply(this,arguments);P==null?this.removeAttribute(_):this.setAttribute(_,P)}}function attrFunctionNS$1(_,R){return function(){var P=R.apply(this,arguments);P==null?this.removeAttributeNS(_.space,_.local):this.setAttributeNS(_.space,_.local,P)}}function selection_attr(_,R){var P=namespace(_);if(arguments.length<2){var I=this.node();return P.local?I.getAttributeNS(P.space,P.local):I.getAttribute(P)}return this.each((R==null?P.local?attrRemoveNS$1:attrRemove$1:typeof R=="function"?P.local?attrFunctionNS$1:attrFunction$1:P.local?attrConstantNS$1:attrConstant$1)(P,R))}function defaultView(_){return _.ownerDocument&&_.ownerDocument.defaultView||_.document&&_||_.defaultView}function styleRemove$1(_){return function(){this.style.removeProperty(_)}}function styleConstant$1(_,R,P){return function(){this.style.setProperty(_,R,P)}}function styleFunction$1(_,R,P){return function(){var I=R.apply(this,arguments);I==null?this.style.removeProperty(_):this.style.setProperty(_,I,P)}}function selection_style(_,R,P){return arguments.length>1?this.each((R==null?styleRemove$1:typeof R=="function"?styleFunction$1:styleConstant$1)(_,R,P??"")):styleValue(this.node(),_)}function styleValue(_,R){return _.style.getPropertyValue(R)||defaultView(_).getComputedStyle(_,null).getPropertyValue(R)}function propertyRemove(_){return function(){delete this[_]}}function propertyConstant(_,R){return function(){this[_]=R}}function propertyFunction(_,R){return function(){var P=R.apply(this,arguments);P==null?delete this[_]:this[_]=P}}function selection_property(_,R){return arguments.length>1?this.each((R==null?propertyRemove:typeof R=="function"?propertyFunction:propertyConstant)(_,R)):this.node()[_]}function classArray(_){return _.trim().split(/^|\s+/)}function classList(_){return _.classList||new ClassList(_)}function ClassList(_){this._node=_,this._names=classArray(_.getAttribute("class")||"")}ClassList.prototype={add:function(_){var R=this._names.indexOf(_);R<0&&(this._names.push(_),this._node.setAttribute("class",this._names.join(" ")))},remove:function(_){var R=this._names.indexOf(_);R>=0&&(this._names.splice(R,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(_){return this._names.indexOf(_)>=0}};function classedAdd(_,R){for(var P=classList(_),I=-1,O=R.length;++I<O;)P.add(R[I])}function classedRemove(_,R){for(var P=classList(_),I=-1,O=R.length;++I<O;)P.remove(R[I])}function classedTrue(_){return function(){classedAdd(this,_)}}function classedFalse(_){return function(){classedRemove(this,_)}}function classedFunction(_,R){return function(){(R.apply(this,arguments)?classedAdd:classedRemove)(this,_)}}function selection_classed(_,R){var P=classArray(_+"");if(arguments.length<2){for(var I=classList(this.node()),O=-1,z=P.length;++O<z;)if(!I.contains(P[O]))return!1;return!0}return this.each((typeof R=="function"?classedFunction:R?classedTrue:classedFalse)(P,R))}function textRemove(){this.textContent=""}function textConstant$1(_){return function(){this.textContent=_}}function textFunction$1(_){return function(){var R=_.apply(this,arguments);this.textContent=R??""}}function selection_text(_){return arguments.length?this.each(_==null?textRemove:(typeof _=="function"?textFunction$1:textConstant$1)(_)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(_){return function(){this.innerHTML=_}}function htmlFunction(_){return function(){var R=_.apply(this,arguments);this.innerHTML=R??""}}function selection_html(_){return arguments.length?this.each(_==null?htmlRemove:(typeof _=="function"?htmlFunction:htmlConstant)(_)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(_){var R=typeof _=="function"?_:creator(_);return this.select(function(){return this.appendChild(R.apply(this,arguments))})}function constantNull(){return null}function selection_insert(_,R){var P=typeof _=="function"?_:creator(_),I=R==null?constantNull:typeof R=="function"?R:selector(R);return this.select(function(){return this.insertBefore(P.apply(this,arguments),I.apply(this,arguments)||null)})}function remove(){var _=this.parentNode;_&&_.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var _=this.cloneNode(!1),R=this.parentNode;return R?R.insertBefore(_,this.nextSibling):_}function selection_cloneDeep(){var _=this.cloneNode(!0),R=this.parentNode;return R?R.insertBefore(_,this.nextSibling):_}function selection_clone(_){return this.select(_?selection_cloneDeep:selection_cloneShallow)}function selection_datum(_){return arguments.length?this.property("__data__",_):this.node().__data__}function contextListener(_){return function(R){_.call(this,R,this.__data__)}}function parseTypenames(_){return _.trim().split(/^|\s+/).map(function(R){var P="",I=R.indexOf(".");return I>=0&&(P=R.slice(I+1),R=R.slice(0,I)),{type:R,name:P}})}function onRemove(_){return function(){var R=this.__on;if(R){for(var P=0,I=-1,O=R.length,z;P<O;++P)z=R[P],(!_.type||z.type===_.type)&&z.name===_.name?this.removeEventListener(z.type,z.listener,z.options):R[++I]=z;++I?R.length=I:delete this.__on}}}function onAdd(_,R,P){return function(){var I=this.__on,O,z=contextListener(R);if(I){for(var L=0,F=I.length;L<F;++L)if((O=I[L]).type===_.type&&O.name===_.name){this.removeEventListener(O.type,O.listener,O.options),this.addEventListener(O.type,O.listener=z,O.options=P),O.value=R;return}}this.addEventListener(_.type,z,P),O={type:_.type,name:_.name,value:R,listener:z,options:P},I?I.push(O):this.__on=[O]}}function selection_on(_,R,P){var I=parseTypenames(_+""),O,z=I.length,L;if(arguments.length<2){var F=this.node().__on;if(F){for(var U=0,V=F.length,q;U<V;++U)for(O=0,q=F[U];O<z;++O)if((L=I[O]).type===q.type&&L.name===q.name)return q.value}return}for(F=R?onAdd:onRemove,O=0;O<z;++O)this.each(F(I[O],R,P));return this}function dispatchEvent(_,R,P){var I=defaultView(_),O=I.CustomEvent;typeof O=="function"?O=new O(R,P):(O=I.document.createEvent("Event"),P?(O.initEvent(R,P.bubbles,P.cancelable),O.detail=P.detail):O.initEvent(R,!1,!1)),_.dispatchEvent(O)}function dispatchConstant(_,R){return function(){return dispatchEvent(this,_,R)}}function dispatchFunction(_,R){return function(){return dispatchEvent(this,_,R.apply(this,arguments))}}function selection_dispatch(_,R){return this.each((typeof R=="function"?dispatchFunction:dispatchConstant)(_,R))}function*selection_iterator(){for(var _=this._groups,R=0,P=_.length;R<P;++R)for(var I=_[R],O=0,z=I.length,L;O<z;++O)(L=I[O])&&(yield L)}var root$3=[null];function Selection$1(_,R){this._groups=_,this._parents=R}function selection(){return new Selection$1([[document.documentElement]],root$3)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(_){return typeof _=="string"?new Selection$1([[document.querySelector(_)]],[document.documentElement]):new Selection$1([[_]],root$3)}function sourceEvent(_){let R;for(;R=_.sourceEvent;)_=R;return _}function pointof(_,R){if(_=sourceEvent(_),R===void 0&&(R=_.currentTarget),R){var P=R.ownerSVGElement||R;if(P.createSVGPoint){var I=P.createSVGPoint();return I.x=_.clientX,I.y=_.clientY,I=I.matrixTransform(R.getScreenCTM().inverse()),[I.x,I.y]}if(R.getBoundingClientRect){var O=R.getBoundingClientRect();return[_.clientX-O.left-R.clientLeft,_.clientY-O.top-R.clientTop]}}return[_.pageX,_.pageY]}function define(_,R,P){_.prototype=R.prototype=P,P.constructor=_}function extend$2(_,R){var P=Object.create(_.prototype);for(var I in R)P[I]=R[I];return P}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named$1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color$2,{copy(_){return Object.assign(new this.constructor,this,_)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$2(_){var R,P;return _=(_+"").trim().toLowerCase(),(R=reHex.exec(_))?(P=R[1].length,R=parseInt(R[1],16),P===6?rgbn(R):P===3?new Rgb(R>>8&15|R>>4&240,R>>4&15|R&240,(R&15)<<4|R&15,1):P===8?rgba(R>>24&255,R>>16&255,R>>8&255,(R&255)/255):P===4?rgba(R>>12&15|R>>8&240,R>>8&15|R>>4&240,R>>4&15|R&240,((R&15)<<4|R&15)/255):null):(R=reRgbInteger.exec(_))?new Rgb(R[1],R[2],R[3],1):(R=reRgbPercent.exec(_))?new Rgb(R[1]*255/100,R[2]*255/100,R[3]*255/100,1):(R=reRgbaInteger.exec(_))?rgba(R[1],R[2],R[3],R[4]):(R=reRgbaPercent.exec(_))?rgba(R[1]*255/100,R[2]*255/100,R[3]*255/100,R[4]):(R=reHslPercent.exec(_))?hsla(R[1],R[2]/100,R[3]/100,1):(R=reHslaPercent.exec(_))?hsla(R[1],R[2]/100,R[3]/100,R[4]):named$1.hasOwnProperty(_)?rgbn(named$1[_]):_==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(_){return new Rgb(_>>16&255,_>>8&255,_&255,1)}function rgba(_,R,P,I){return I<=0&&(_=R=P=NaN),new Rgb(_,R,P,I)}function rgbConvert(_){return _ instanceof Color||(_=color$2(_)),_?(_=_.rgb(),new Rgb(_.r,_.g,_.b,_.opacity)):new Rgb}function rgb(_,R,P,I){return arguments.length===1?rgbConvert(_):new Rgb(_,R,P,I??1)}function Rgb(_,R,P,I){this.r=+_,this.g=+R,this.b=+P,this.opacity=+I}define(Rgb,rgb,extend$2(Color,{brighter(_){return _=_==null?brighter:Math.pow(brighter,_),new Rgb(this.r*_,this.g*_,this.b*_,this.opacity)},darker(_){return _=_==null?darker:Math.pow(darker,_),new Rgb(this.r*_,this.g*_,this.b*_,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const _=clampa(this.opacity);return`${_===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${_===1?")":`, ${_})`}`}function clampa(_){return isNaN(_)?1:Math.max(0,Math.min(1,_))}function clampi(_){return Math.max(0,Math.min(255,Math.round(_)||0))}function hex(_){return _=clampi(_),(_<16?"0":"")+_.toString(16)}function hsla(_,R,P,I){return I<=0?_=R=P=NaN:P<=0||P>=1?_=R=NaN:R<=0&&(_=NaN),new Hsl(_,R,P,I)}function hslConvert(_){if(_ instanceof Hsl)return new Hsl(_.h,_.s,_.l,_.opacity);if(_ instanceof Color||(_=color$2(_)),!_)return new Hsl;if(_ instanceof Hsl)return _;_=_.rgb();var R=_.r/255,P=_.g/255,I=_.b/255,O=Math.min(R,P,I),z=Math.max(R,P,I),L=NaN,F=z-O,U=(z+O)/2;return F?(R===z?L=(P-I)/F+(P<I)*6:P===z?L=(I-R)/F+2:L=(R-P)/F+4,F/=U<.5?z+O:2-z-O,L*=60):F=U>0&&U<1?0:L,new Hsl(L,F,U,_.opacity)}function hsl$1(_,R,P,I){return arguments.length===1?hslConvert(_):new Hsl(_,R,P,I??1)}function Hsl(_,R,P,I){this.h=+_,this.s=+R,this.l=+P,this.opacity=+I}define(Hsl,hsl$1,extend$2(Color,{brighter(_){return _=_==null?brighter:Math.pow(brighter,_),new Hsl(this.h,this.s,this.l*_,this.opacity)},darker(_){return _=_==null?darker:Math.pow(darker,_),new Hsl(this.h,this.s,this.l*_,this.opacity)},rgb(){var _=this.h%360+(this.h<0)*360,R=isNaN(_)||isNaN(this.s)?0:this.s,P=this.l,I=P+(P<.5?P:1-P)*R,O=2*P-I;return new Rgb(hsl2rgb(_>=240?_-240:_+120,O,I),hsl2rgb(_,O,I),hsl2rgb(_<120?_+240:_-120,O,I),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const _=clampa(this.opacity);return`${_===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${_===1?")":`, ${_})`}`}}));function clamph(_){return _=(_||0)%360,_<0?_+360:_}function clampt(_){return Math.max(0,Math.min(1,_||0))}function hsl2rgb(_,R,P){return(_<60?R+(P-R)*_/60:_<180?P:_<240?R+(P-R)*(240-_)/60:R)*255}const radians$2=Math.PI/180,degrees$2=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0$1=4/29,t1$1=6/29,t2=3*t1$1*t1$1,t3=t1$1*t1$1*t1$1;function labConvert(_){if(_ instanceof Lab)return new Lab(_.l,_.a,_.b,_.opacity);if(_ instanceof Hcl)return hcl2lab(_);_ instanceof Rgb||(_=rgbConvert(_));var R=rgb2lrgb(_.r),P=rgb2lrgb(_.g),I=rgb2lrgb(_.b),O=xyz2lab((.2225045*R+.7168786*P+.0606169*I)/Yn),z,L;return R===P&&P===I?z=L=O:(z=xyz2lab((.4360747*R+.3850649*P+.1430804*I)/Xn),L=xyz2lab((.0139322*R+.0971045*P+.7141733*I)/Zn)),new Lab(116*O-16,500*(z-O),200*(O-L),_.opacity)}function lab$1(_,R,P,I){return arguments.length===1?labConvert(_):new Lab(_,R,P,I??1)}function Lab(_,R,P,I){this.l=+_,this.a=+R,this.b=+P,this.opacity=+I}define(Lab,lab$1,extend$2(Color,{brighter(_){return new Lab(this.l+K*(_??1),this.a,this.b,this.opacity)},darker(_){return new Lab(this.l-K*(_??1),this.a,this.b,this.opacity)},rgb(){var _=(this.l+16)/116,R=isNaN(this.a)?_:_+this.a/500,P=isNaN(this.b)?_:_-this.b/200;return R=Xn*lab2xyz(R),_=Yn*lab2xyz(_),P=Zn*lab2xyz(P),new Rgb(lrgb2rgb(3.1338561*R-1.6168667*_-.4906146*P),lrgb2rgb(-.9787684*R+1.9161415*_+.033454*P),lrgb2rgb(.0719453*R-.2289914*_+1.4052427*P),this.opacity)}}));function xyz2lab(_){return _>t3?Math.pow(_,1/3):_/t2+t0$1}function lab2xyz(_){return _>t1$1?_*_*_:t2*(_-t0$1)}function lrgb2rgb(_){return 255*(_<=.0031308?12.92*_:1.055*Math.pow(_,1/2.4)-.055)}function rgb2lrgb(_){return(_/=255)<=.04045?_/12.92:Math.pow((_+.055)/1.055,2.4)}function hclConvert(_){if(_ instanceof Hcl)return new Hcl(_.h,_.c,_.l,_.opacity);if(_ instanceof Lab||(_=labConvert(_)),_.a===0&&_.b===0)return new Hcl(NaN,0<_.l&&_.l<100?0:NaN,_.l,_.opacity);var R=Math.atan2(_.b,_.a)*degrees$2;return new Hcl(R<0?R+360:R,Math.sqrt(_.a*_.a+_.b*_.b),_.l,_.opacity)}function hcl$1(_,R,P,I){return arguments.length===1?hclConvert(_):new Hcl(_,R,P,I??1)}function Hcl(_,R,P,I){this.h=+_,this.c=+R,this.l=+P,this.opacity=+I}function hcl2lab(_){if(isNaN(_.h))return new Lab(_.l,0,0,_.opacity);var R=_.h*radians$2;return new Lab(_.l,Math.cos(R)*_.c,Math.sin(R)*_.c,_.opacity)}define(Hcl,hcl$1,extend$2(Color,{brighter(_){return new Hcl(this.h,this.c,this.l+K*(_??1),this.opacity)},darker(_){return new Hcl(this.h,this.c,this.l-K*(_??1),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));var A=-.14861,B=1.78277,C=-.29227,D$1=-.90649,E=1.97294,ED=E*D$1,EB=E*B,BC_DA=B*C-D$1*A;function cubehelixConvert(_){if(_ instanceof Cubehelix)return new Cubehelix(_.h,_.s,_.l,_.opacity);_ instanceof Rgb||(_=rgbConvert(_));var R=_.r/255,P=_.g/255,I=_.b/255,O=(BC_DA*I+ED*R-EB*P)/(BC_DA+ED-EB),z=I-O,L=(E*(P-O)-C*z)/D$1,F=Math.sqrt(L*L+z*z)/(E*O*(1-O)),U=F?Math.atan2(L,z)*degrees$2-120:NaN;return new Cubehelix(U<0?U+360:U,F,O,_.opacity)}function cubehelix$1(_,R,P,I){return arguments.length===1?cubehelixConvert(_):new Cubehelix(_,R,P,I??1)}function Cubehelix(_,R,P,I){this.h=+_,this.s=+R,this.l=+P,this.opacity=+I}define(Cubehelix,cubehelix$1,extend$2(Color,{brighter(_){return _=_==null?brighter:Math.pow(brighter,_),new Cubehelix(this.h,this.s,this.l*_,this.opacity)},darker(_){return _=_==null?darker:Math.pow(darker,_),new Cubehelix(this.h,this.s,this.l*_,this.opacity)},rgb(){var _=isNaN(this.h)?0:(this.h+120)*radians$2,R=+this.l,P=isNaN(this.s)?0:this.s*R*(1-R),I=Math.cos(_),O=Math.sin(_);return new Rgb(255*(R+P*(A*I+B*O)),255*(R+P*(C*I+D$1*O)),255*(R+P*(E*I)),this.opacity)}}));function basis(_,R,P,I,O){var z=_*_,L=z*_;return((1-3*_+3*z-L)*R+(4-6*z+3*L)*P+(1+3*_+3*z-3*L)*I+L*O)/6}function basis$1(_){var R=_.length-1;return function(P){var I=P<=0?P=0:P>=1?(P=1,R-1):Math.floor(P*R),O=_[I],z=_[I+1],L=I>0?_[I-1]:2*O-z,F=I<R-1?_[I+2]:2*z-O;return basis((P-I/R)*R,L,O,z,F)}}const constant$2=_=>()=>_;function linear$1(_,R){return function(P){return _+P*R}}function exponential(_,R,P){return _=Math.pow(_,P),R=Math.pow(R,P)-_,P=1/P,function(I){return Math.pow(_+I*R,P)}}function hue(_,R){var P=R-_;return P?linear$1(_,P>180||P<-180?P-360*Math.round(P/360):P):constant$2(isNaN(_)?R:_)}function gamma(_){return(_=+_)==1?nogamma:function(R,P){return P-R?exponential(R,P,_):constant$2(isNaN(R)?P:R)}}function nogamma(_,R){var P=R-_;return P?linear$1(_,P):constant$2(isNaN(_)?R:_)}const interpolateRgb=(function _(R){var P=gamma(R);function I(O,z){var L=P((O=rgb(O)).r,(z=rgb(z)).r),F=P(O.g,z.g),U=P(O.b,z.b),V=nogamma(O.opacity,z.opacity);return function(q){return O.r=L(q),O.g=F(q),O.b=U(q),O.opacity=V(q),O+""}}return I.gamma=_,I})(1);function rgbSpline(_){return function(R){var P=R.length,I=new Array(P),O=new Array(P),z=new Array(P),L,F;for(L=0;L<P;++L)F=rgb(R[L]),I[L]=F.r||0,O[L]=F.g||0,z[L]=F.b||0;return I=_(I),O=_(O),z=_(z),F.opacity=1,function(U){return F.r=I(U),F.g=O(U),F.b=z(U),F+""}}}var rgbBasis=rgbSpline(basis$1);function numberArray(_,R){R||(R=[]);var P=_?Math.min(R.length,_.length):0,I=R.slice(),O;return function(z){for(O=0;O<P;++O)I[O]=_[O]*(1-z)+R[O]*z;return I}}function isNumberArray$1(_){return ArrayBuffer.isView(_)&&!(_ instanceof DataView)}function genericArray(_,R){var P=R?R.length:0,I=_?Math.min(P,_.length):0,O=new Array(I),z=new Array(P),L;for(L=0;L<I;++L)O[L]=interpolate$1(_[L],R[L]);for(;L<P;++L)z[L]=R[L];return function(F){for(L=0;L<I;++L)z[L]=O[L](F);return z}}function date$1(_,R){var P=new Date;return _=+_,R=+R,function(I){return P.setTime(_*(1-I)+R*I),P}}function interpolateNumber(_,R){return _=+_,R=+R,function(P){return _*(1-P)+R*P}}function object(_,R){var P={},I={},O;(_===null||typeof _!="object")&&(_={}),(R===null||typeof R!="object")&&(R={});for(O in R)O in _?P[O]=interpolate$1(_[O],R[O]):I[O]=R[O];return function(z){for(O in P)I[O]=P[O](z);return I}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero$2(_){return function(){return _}}function one$4(_){return function(R){return _(R)+""}}function interpolateString(_,R){var P=reA.lastIndex=reB.lastIndex=0,I,O,z,L=-1,F=[],U=[];for(_=_+"",R=R+"";(I=reA.exec(_))&&(O=reB.exec(R));)(z=O.index)>P&&(z=R.slice(P,z),F[L]?F[L]+=z:F[++L]=z),(I=I[0])===(O=O[0])?F[L]?F[L]+=O:F[++L]=O:(F[++L]=null,U.push({i:L,x:interpolateNumber(I,O)})),P=reB.lastIndex;return P<R.length&&(z=R.slice(P),F[L]?F[L]+=z:F[++L]=z),F.length<2?U[0]?one$4(U[0].x):zero$2(R):(R=U.length,function(V){for(var q=0,W;q<R;++q)F[(W=U[q]).i]=W.x(V);return F.join("")})}function interpolate$1(_,R){var P=typeof R,I;return R==null||P==="boolean"?constant$2(R):(P==="number"?interpolateNumber:P==="string"?(I=color$2(R))?(R=I,interpolateRgb):interpolateString:R instanceof color$2?interpolateRgb:R instanceof Date?date$1:isNumberArray$1(R)?numberArray:Array.isArray(R)?genericArray:typeof R.valueOf!="function"&&typeof R.toString!="function"||isNaN(R)?object:interpolateNumber)(_,R)}function interpolateRound(_,R){return _=+_,R=+R,function(P){return Math.round(_*(1-P)+R*P)}}var degrees$1=180/Math.PI,identity$6={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(_,R,P,I,O,z){var L,F,U;return(L=Math.sqrt(_*_+R*R))&&(_/=L,R/=L),(U=_*P+R*I)&&(P-=_*U,I-=R*U),(F=Math.sqrt(P*P+I*I))&&(P/=F,I/=F,U/=F),_*I<R*P&&(_=-_,R=-R,U=-U,L=-L),{translateX:O,translateY:z,rotate:Math.atan2(R,_)*degrees$1,skewX:Math.atan(U)*degrees$1,scaleX:L,scaleY:F}}var svgNode;function parseCss(_){const R=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(_+"");return R.isIdentity?identity$6:decompose(R.a,R.b,R.c,R.d,R.e,R.f)}function parseSvg(_){return _==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",_),!(_=svgNode.transform.baseVal.consolidate()))?identity$6:(_=_.matrix,decompose(_.a,_.b,_.c,_.d,_.e,_.f))}function interpolateTransform(_,R,P,I){function O(V){return V.length?V.pop()+" ":""}function z(V,q,W,Y,Q,ee){if(V!==W||q!==Y){var te=Q.push("translate(",null,R,null,P);ee.push({i:te-4,x:interpolateNumber(V,W)},{i:te-2,x:interpolateNumber(q,Y)})}else(W||Y)&&Q.push("translate("+W+R+Y+P)}function L(V,q,W,Y){V!==q?(V-q>180?q+=360:q-V>180&&(V+=360),Y.push({i:W.push(O(W)+"rotate(",null,I)-2,x:interpolateNumber(V,q)})):q&&W.push(O(W)+"rotate("+q+I)}function F(V,q,W,Y){V!==q?Y.push({i:W.push(O(W)+"skewX(",null,I)-2,x:interpolateNumber(V,q)}):q&&W.push(O(W)+"skewX("+q+I)}function U(V,q,W,Y,Q,ee){if(V!==W||q!==Y){var te=Q.push(O(Q)+"scale(",null,",",null,")");ee.push({i:te-4,x:interpolateNumber(V,W)},{i:te-2,x:interpolateNumber(q,Y)})}else(W!==1||Y!==1)&&Q.push(O(Q)+"scale("+W+","+Y+")")}return function(V,q){var W=[],Y=[];return V=_(V),q=_(q),z(V.translateX,V.translateY,q.translateX,q.translateY,W,Y),L(V.rotate,q.rotate,W,Y),F(V.skewX,q.skewX,W,Y),U(V.scaleX,V.scaleY,q.scaleX,q.scaleY,W,Y),V=q=null,function(Q){for(var ee=-1,te=Y.length,ie;++ee<te;)W[(ie=Y[ee]).i]=ie.x(Q);return W.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")");function hsl(_){return function(R,P){var I=_((R=hsl$1(R)).h,(P=hsl$1(P)).h),O=nogamma(R.s,P.s),z=nogamma(R.l,P.l),L=nogamma(R.opacity,P.opacity);return function(F){return R.h=I(F),R.s=O(F),R.l=z(F),R.opacity=L(F),R+""}}}const interpolateHsl=hsl(hue);function lab(_,R){var P=nogamma((_=lab$1(_)).l,(R=lab$1(R)).l),I=nogamma(_.a,R.a),O=nogamma(_.b,R.b),z=nogamma(_.opacity,R.opacity);return function(L){return _.l=P(L),_.a=I(L),_.b=O(L),_.opacity=z(L),_+""}}function hcl(_){return function(R,P){var I=_((R=hcl$1(R)).h,(P=hcl$1(P)).h),O=nogamma(R.c,P.c),z=nogamma(R.l,P.l),L=nogamma(R.opacity,P.opacity);return function(F){return R.h=I(F),R.c=O(F),R.l=z(F),R.opacity=L(F),R+""}}}const interpolateHcl=hcl(hue);function cubehelix(_){return(function R(P){P=+P;function I(O,z){var L=_((O=cubehelix$1(O)).h,(z=cubehelix$1(z)).h),F=nogamma(O.s,z.s),U=nogamma(O.l,z.l),V=nogamma(O.opacity,z.opacity);return function(q){return O.h=L(q),O.s=F(q),O.l=U(Math.pow(q,P)),O.opacity=V(q),O+""}}return I.gamma=R,I})(1)}cubehelix(hue);var cubehelixLong=cubehelix(nogamma);function piecewise(_,R){R===void 0&&(R=_,_=interpolate$1);for(var P=0,I=R.length-1,O=R[0],z=new Array(I<0?0:I);P<I;)z[P]=_(O,O=R[++P]);return function(L){var F=Math.max(0,Math.min(I-1,Math.floor(L*=I)));return z[F](L-F)}}function quantize(_,R){for(var P=new Array(R),I=0;I<R;++I)P[I]=_(I/(R-1));return P}var frame$1=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(_){setTimeout(_,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(_,R,P){if(typeof _!="function")throw new TypeError("callback is not a function");P=(P==null?now():+P)+(R==null?0:+R),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=_,this._time=P,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(_,R,P){var I=new Timer;return I.restart(_,R,P),I}function timerFlush(){now(),++frame$1;for(var _=taskHead,R;_;)(R=clockNow-_._time)>=0&&_._call.call(void 0,R),_=_._next;--frame$1}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame$1=timeout$1=0;try{timerFlush()}finally{frame$1=0,nap(),clockNow=0}}function poke(){var _=clock.now(),R=_-clockLast;R>pokeDelay&&(clockSkew-=R,clockLast=_)}function nap(){for(var _,R=taskHead,P,I=1/0;R;)R._call?(I>R._time&&(I=R._time),_=R,R=R._next):(P=R._next,R._next=null,R=_?_._next=P:taskHead=P);taskTail=_,sleep(I)}function sleep(_){if(!frame$1){timeout$1&&(timeout$1=clearTimeout(timeout$1));var R=_-clockNow;R>24?(_<1/0&&(timeout$1=setTimeout(wake,_-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame$1=1,setFrame(wake))}}function timeout(_,R,P){var I=new Timer;return R=R==null?0:+R,I.restart(O=>{I.stop(),_(O+R)},R,P),I}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(_,R,P,I,O,z){var L=_.__transition;if(!L)_.__transition={};else if(P in L)return;create$2(_,P,{name:R,index:I,group:O,on:emptyOn,tween:emptyTween,time:z.time,delay:z.delay,duration:z.duration,ease:z.ease,timer:null,state:CREATED})}function init(_,R){var P=get(_,R);if(P.state>CREATED)throw new Error("too late; already scheduled");return P}function set(_,R){var P=get(_,R);if(P.state>STARTED)throw new Error("too late; already running");return P}function get(_,R){var P=_.__transition;if(!P||!(P=P[R]))throw new Error("transition not found");return P}function create$2(_,R,P){var I=_.__transition,O;I[R]=P,P.timer=timer(z,0,P.time);function z(V){P.state=SCHEDULED,P.timer.restart(L,P.delay,P.time),P.delay<=V&&L(V-P.delay)}function L(V){var q,W,Y,Q;if(P.state!==SCHEDULED)return U();for(q in I)if(Q=I[q],Q.name===P.name){if(Q.state===STARTED)return timeout(L);Q.state===RUNNING?(Q.state=ENDED,Q.timer.stop(),Q.on.call("interrupt",_,_.__data__,Q.index,Q.group),delete I[q]):+q<R&&(Q.state=ENDED,Q.timer.stop(),Q.on.call("cancel",_,_.__data__,Q.index,Q.group),delete I[q])}if(timeout(function(){P.state===STARTED&&(P.state=RUNNING,P.timer.restart(F,P.delay,P.time),F(V))}),P.state=STARTING,P.on.call("start",_,_.__data__,P.index,P.group),P.state===STARTING){for(P.state=STARTED,O=new Array(Y=P.tween.length),q=0,W=-1;q<Y;++q)(Q=P.tween[q].value.call(_,_.__data__,P.index,P.group))&&(O[++W]=Q);O.length=W+1}}function F(V){for(var q=V<P.duration?P.ease.call(null,V/P.duration):(P.timer.restart(U),P.state=ENDING,1),W=-1,Y=O.length;++W<Y;)O[W].call(_,q);P.state===ENDING&&(P.on.call("end",_,_.__data__,P.index,P.group),U())}function U(){P.state=ENDED,P.timer.stop(),delete I[R];for(var V in I)return;delete _.__transition}}function interrupt(_,R){var P=_.__transition,I,O,z=!0,L;if(P){R=R==null?null:R+"";for(L in P){if((I=P[L]).name!==R){z=!1;continue}O=I.state>STARTING&&I.state<ENDING,I.state=ENDED,I.timer.stop(),I.on.call(O?"interrupt":"cancel",_,_.__data__,I.index,I.group),delete P[L]}z&&delete _.__transition}}function selection_interrupt(_){return this.each(function(){interrupt(this,_)})}function tweenRemove(_,R){var P,I;return function(){var O=set(this,_),z=O.tween;if(z!==P){I=P=z;for(var L=0,F=I.length;L<F;++L)if(I[L].name===R){I=I.slice(),I.splice(L,1);break}}O.tween=I}}function tweenFunction(_,R,P){var I,O;if(typeof P!="function")throw new Error;return function(){var z=set(this,_),L=z.tween;if(L!==I){O=(I=L).slice();for(var F={name:R,value:P},U=0,V=O.length;U<V;++U)if(O[U].name===R){O[U]=F;break}U===V&&O.push(F)}z.tween=O}}function transition_tween(_,R){var P=this._id;if(_+="",arguments.length<2){for(var I=get(this.node(),P).tween,O=0,z=I.length,L;O<z;++O)if((L=I[O]).name===_)return L.value;return null}return this.each((R==null?tweenRemove:tweenFunction)(P,_,R))}function tweenValue(_,R,P){var I=_._id;return _.each(function(){var O=set(this,I);(O.value||(O.value={}))[R]=P.apply(this,arguments)}),function(O){return get(O,I).value[R]}}function interpolate(_,R){var P;return(typeof R=="number"?interpolateNumber:R instanceof color$2?interpolateRgb:(P=color$2(R))?(R=P,interpolateRgb):interpolateString)(_,R)}function attrRemove(_){return function(){this.removeAttribute(_)}}function attrRemoveNS(_){return function(){this.removeAttributeNS(_.space,_.local)}}function attrConstant(_,R,P){var I,O=P+"",z;return function(){var L=this.getAttribute(_);return L===O?null:L===I?z:z=R(I=L,P)}}function attrConstantNS(_,R,P){var I,O=P+"",z;return function(){var L=this.getAttributeNS(_.space,_.local);return L===O?null:L===I?z:z=R(I=L,P)}}function attrFunction(_,R,P){var I,O,z;return function(){var L,F=P(this),U;return F==null?void this.removeAttribute(_):(L=this.getAttribute(_),U=F+"",L===U?null:L===I&&U===O?z:(O=U,z=R(I=L,F)))}}function attrFunctionNS(_,R,P){var I,O,z;return function(){var L,F=P(this),U;return F==null?void this.removeAttributeNS(_.space,_.local):(L=this.getAttributeNS(_.space,_.local),U=F+"",L===U?null:L===I&&U===O?z:(O=U,z=R(I=L,F)))}}function transition_attr(_,R){var P=namespace(_),I=P==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(_,typeof R=="function"?(P.local?attrFunctionNS:attrFunction)(P,I,tweenValue(this,"attr."+_,R)):R==null?(P.local?attrRemoveNS:attrRemove)(P):(P.local?attrConstantNS:attrConstant)(P,I,R))}function attrInterpolate(_,R){return function(P){this.setAttribute(_,R.call(this,P))}}function attrInterpolateNS(_,R){return function(P){this.setAttributeNS(_.space,_.local,R.call(this,P))}}function attrTweenNS(_,R){var P,I;function O(){var z=R.apply(this,arguments);return z!==I&&(P=(I=z)&&attrInterpolateNS(_,z)),P}return O._value=R,O}function attrTween(_,R){var P,I;function O(){var z=R.apply(this,arguments);return z!==I&&(P=(I=z)&&attrInterpolate(_,z)),P}return O._value=R,O}function transition_attrTween(_,R){var P="attr."+_;if(arguments.length<2)return(P=this.tween(P))&&P._value;if(R==null)return this.tween(P,null);if(typeof R!="function")throw new Error;var I=namespace(_);return this.tween(P,(I.local?attrTweenNS:attrTween)(I,R))}function delayFunction(_,R){return function(){init(this,_).delay=+R.apply(this,arguments)}}function delayConstant(_,R){return R=+R,function(){init(this,_).delay=R}}function transition_delay(_){var R=this._id;return arguments.length?this.each((typeof _=="function"?delayFunction:delayConstant)(R,_)):get(this.node(),R).delay}function durationFunction(_,R){return function(){set(this,_).duration=+R.apply(this,arguments)}}function durationConstant(_,R){return R=+R,function(){set(this,_).duration=R}}function transition_duration(_){var R=this._id;return arguments.length?this.each((typeof _=="function"?durationFunction:durationConstant)(R,_)):get(this.node(),R).duration}function easeConstant(_,R){if(typeof R!="function")throw new Error;return function(){set(this,_).ease=R}}function transition_ease(_){var R=this._id;return arguments.length?this.each(easeConstant(R,_)):get(this.node(),R).ease}function easeVarying(_,R){return function(){var P=R.apply(this,arguments);if(typeof P!="function")throw new Error;set(this,_).ease=P}}function transition_easeVarying(_){if(typeof _!="function")throw new Error;return this.each(easeVarying(this._id,_))}function transition_filter(_){typeof _!="function"&&(_=matcher(_));for(var R=this._groups,P=R.length,I=new Array(P),O=0;O<P;++O)for(var z=R[O],L=z.length,F=I[O]=[],U,V=0;V<L;++V)(U=z[V])&&_.call(U,U.__data__,V,z)&&F.push(U);return new Transition(I,this._parents,this._name,this._id)}function transition_merge(_){if(_._id!==this._id)throw new Error;for(var R=this._groups,P=_._groups,I=R.length,O=P.length,z=Math.min(I,O),L=new Array(I),F=0;F<z;++F)for(var U=R[F],V=P[F],q=U.length,W=L[F]=new Array(q),Y,Q=0;Q<q;++Q)(Y=U[Q]||V[Q])&&(W[Q]=Y);for(;F<I;++F)L[F]=R[F];return new Transition(L,this._parents,this._name,this._id)}function start(_){return(_+"").trim().split(/^|\s+/).every(function(R){var P=R.indexOf(".");return P>=0&&(R=R.slice(0,P)),!R||R==="start"})}function onFunction(_,R,P){var I,O,z=start(R)?init:set;return function(){var L=z(this,_),F=L.on;F!==I&&(O=(I=F).copy()).on(R,P),L.on=O}}function transition_on(_,R){var P=this._id;return arguments.length<2?get(this.node(),P).on.on(_):this.each(onFunction(P,_,R))}function removeFunction(_){return function(){var R=this.parentNode;for(var P in this.__transition)if(+P!==_)return;R&&R.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(_){var R=this._name,P=this._id;typeof _!="function"&&(_=selector(_));for(var I=this._groups,O=I.length,z=new Array(O),L=0;L<O;++L)for(var F=I[L],U=F.length,V=z[L]=new Array(U),q,W,Y=0;Y<U;++Y)(q=F[Y])&&(W=_.call(q,q.__data__,Y,F))&&("__data__"in q&&(W.__data__=q.__data__),V[Y]=W,schedule(V[Y],R,P,Y,V,get(q,P)));return new Transition(z,this._parents,R,P)}function transition_selectAll(_){var R=this._name,P=this._id;typeof _!="function"&&(_=selectorAll(_));for(var I=this._groups,O=I.length,z=[],L=[],F=0;F<O;++F)for(var U=I[F],V=U.length,q,W=0;W<V;++W)if(q=U[W]){for(var Y=_.call(q,q.__data__,W,U),Q,ee=get(q,P),te=0,ie=Y.length;te<ie;++te)(Q=Y[te])&&schedule(Q,R,P,te,Y,ee);z.push(Y),L.push(q)}return new Transition(z,L,R,P)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(_,R){var P,I,O;return function(){var z=styleValue(this,_),L=(this.style.removeProperty(_),styleValue(this,_));return z===L?null:z===P&&L===I?O:O=R(P=z,I=L)}}function styleRemove(_){return function(){this.style.removeProperty(_)}}function styleConstant(_,R,P){var I,O=P+"",z;return function(){var L=styleValue(this,_);return L===O?null:L===I?z:z=R(I=L,P)}}function styleFunction(_,R,P){var I,O,z;return function(){var L=styleValue(this,_),F=P(this),U=F+"";return F==null&&(U=F=(this.style.removeProperty(_),styleValue(this,_))),L===U?null:L===I&&U===O?z:(O=U,z=R(I=L,F))}}function styleMaybeRemove(_,R){var P,I,O,z="style."+R,L="end."+z,F;return function(){var U=set(this,_),V=U.on,q=U.value[z]==null?F||(F=styleRemove(R)):void 0;(V!==P||O!==q)&&(I=(P=V).copy()).on(L,O=q),U.on=I}}function transition_style(_,R,P){var I=(_+="")=="transform"?interpolateTransformCss:interpolate;return R==null?this.styleTween(_,styleNull(_,I)).on("end.style."+_,styleRemove(_)):typeof R=="function"?this.styleTween(_,styleFunction(_,I,tweenValue(this,"style."+_,R))).each(styleMaybeRemove(this._id,_)):this.styleTween(_,styleConstant(_,I,R),P).on("end.style."+_,null)}function styleInterpolate(_,R,P){return function(I){this.style.setProperty(_,R.call(this,I),P)}}function styleTween(_,R,P){var I,O;function z(){var L=R.apply(this,arguments);return L!==O&&(I=(O=L)&&styleInterpolate(_,L,P)),I}return z._value=R,z}function transition_styleTween(_,R,P){var I="style."+(_+="");if(arguments.length<2)return(I=this.tween(I))&&I._value;if(R==null)return this.tween(I,null);if(typeof R!="function")throw new Error;return this.tween(I,styleTween(_,R,P??""))}function textConstant(_){return function(){this.textContent=_}}function textFunction(_){return function(){var R=_(this);this.textContent=R??""}}function transition_text(_){return this.tween("text",typeof _=="function"?textFunction(tweenValue(this,"text",_)):textConstant(_==null?"":_+""))}function textInterpolate(_){return function(R){this.textContent=_.call(this,R)}}function textTween(_){var R,P;function I(){var O=_.apply(this,arguments);return O!==P&&(R=(P=O)&&textInterpolate(O)),R}return I._value=_,I}function transition_textTween(_){var R="text";if(arguments.length<1)return(R=this.tween(R))&&R._value;if(_==null)return this.tween(R,null);if(typeof _!="function")throw new Error;return this.tween(R,textTween(_))}function transition_transition(){for(var _=this._name,R=this._id,P=newId(),I=this._groups,O=I.length,z=0;z<O;++z)for(var L=I[z],F=L.length,U,V=0;V<F;++V)if(U=L[V]){var q=get(U,R);schedule(U,_,P,V,L,{time:q.time+q.delay+q.duration,delay:0,duration:q.duration,ease:q.ease})}return new Transition(I,this._parents,_,P)}function transition_end(){var _,R,P=this,I=P._id,O=P.size();return new Promise(function(z,L){var F={value:L},U={value:function(){--O===0&&z()}};P.each(function(){var V=set(this,I),q=V.on;q!==_&&(R=(_=q).copy(),R._.cancel.push(F),R._.interrupt.push(F),R._.end.push(U)),V.on=R}),O===0&&z()})}var id=0;function Transition(_,R,P,I){this._groups=_,this._parents=R,this._name=P,this._id=I}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(_){return((_*=2)<=1?_*_*_:(_-=2)*_*_+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit$1(_,R){for(var P;!(P=_.__transition)||!(P=P[R]);)if(!(_=_.parentNode))throw new Error(`transition ${R} not found`);return P}function selection_transition(_){var R,P;_ instanceof Transition?(R=_._id,_=_._name):(R=newId(),(P=defaultTiming).time=now(),_=_==null?null:_+"");for(var I=this._groups,O=I.length,z=0;z<O;++z)for(var L=I[z],F=L.length,U,V=0;V<F;++V)(U=L[V])&&schedule(U,_,R,V,L,P||inherit$1(U,R));return new Transition(I,this._parents,_,R)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const pi$3=Math.PI,tau$3=2*pi$3,epsilon$2=1e-6,tauEpsilon=tau$3-epsilon$2;function append$1(_){this._+=_[0];for(let R=1,P=_.length;R<P;++R)this._+=arguments[R]+_[R]}function appendRound$1(_){let R=Math.floor(_);if(!(R>=0))throw new Error(`invalid digits: ${_}`);if(R>15)return append$1;const P=10**R;return function(I){this._+=I[0];for(let O=1,z=I.length;O<z;++O)this._+=Math.round(arguments[O]*P)/P+I[O]}}class Path{constructor(R){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=R==null?append$1:appendRound$1(R)}moveTo(R,P){this._append`M${this._x0=this._x1=+R},${this._y0=this._y1=+P}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(R,P){this._append`L${this._x1=+R},${this._y1=+P}`}quadraticCurveTo(R,P,I,O){this._append`Q${+R},${+P},${this._x1=+I},${this._y1=+O}`}bezierCurveTo(R,P,I,O,z,L){this._append`C${+R},${+P},${+I},${+O},${this._x1=+z},${this._y1=+L}`}arcTo(R,P,I,O,z){if(R=+R,P=+P,I=+I,O=+O,z=+z,z<0)throw new Error(`negative radius: ${z}`);let L=this._x1,F=this._y1,U=I-R,V=O-P,q=L-R,W=F-P,Y=q*q+W*W;if(this._x1===null)this._append`M${this._x1=R},${this._y1=P}`;else if(Y>epsilon$2)if(!(Math.abs(W*U-V*q)>epsilon$2)||!z)this._append`L${this._x1=R},${this._y1=P}`;else{let Q=I-L,ee=O-F,te=U*U+V*V,ie=Q*Q+ee*ee,ae=Math.sqrt(te),se=Math.sqrt(Y),le=z*Math.tan((pi$3-Math.acos((te+Y-ie)/(2*ae*se)))/2),ce=le/se,fe=le/ae;Math.abs(ce-1)>epsilon$2&&this._append`L${R+ce*q},${P+ce*W}`,this._append`A${z},${z},0,0,${+(W*Q>q*ee)},${this._x1=R+fe*U},${this._y1=P+fe*V}`}}arc(R,P,I,O,z,L){if(R=+R,P=+P,I=+I,L=!!L,I<0)throw new Error(`negative radius: ${I}`);let F=I*Math.cos(O),U=I*Math.sin(O),V=R+F,q=P+U,W=1^L,Y=L?O-z:z-O;this._x1===null?this._append`M${V},${q}`:(Math.abs(this._x1-V)>epsilon$2||Math.abs(this._y1-q)>epsilon$2)&&this._append`L${V},${q}`,I&&(Y<0&&(Y=Y%tau$3+tau$3),Y>tauEpsilon?this._append`A${I},${I},0,1,${W},${R-F},${P-U}A${I},${I},0,1,${W},${this._x1=V},${this._y1=q}`:Y>epsilon$2&&this._append`A${I},${I},0,${+(Y>=pi$3)},${W},${this._x1=R+I*Math.cos(z)},${this._y1=P+I*Math.sin(z)}`)}rect(R,P,I,O){this._append`M${this._x0=this._x1=+R},${this._y0=this._y1=+P}h${I=+I}v${+O}h${-I}Z`}toString(){return this._}}function pathRound(_=3){return new Path(+_)}function formatDecimal(_){return Math.abs(_=Math.round(_))>=1e21?_.toLocaleString("en").replace(/,/g,""):_.toString(10)}function formatDecimalParts(_,R){if((P=(_=R?_.toExponential(R-1):_.toExponential()).indexOf("e"))<0)return null;var P,I=_.slice(0,P);return[I.length>1?I[0]+I.slice(2):I,+_.slice(P+1)]}function exponent(_){return _=formatDecimalParts(Math.abs(_)),_?_[1]:NaN}function formatGroup(_,R){return function(P,I){for(var O=P.length,z=[],L=0,F=_[0],U=0;O>0&&F>0&&(U+F+1>I&&(F=Math.max(1,I-U)),z.push(P.substring(O-=F,O+F)),!((U+=F+1)>I));)F=_[L=(L+1)%_.length];return z.reverse().join(R)}}function formatNumerals(_){return function(R){return R.replace(/[0-9]/g,function(P){return _[+P]})}}var re$2=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(_){if(!(R=re$2.exec(_)))throw new Error("invalid format: "+_);var R;return new FormatSpecifier({fill:R[1],align:R[2],sign:R[3],symbol:R[4],zero:R[5],width:R[6],comma:R[7],precision:R[8]&&R[8].slice(1),trim:R[9],type:R[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(_){this.fill=_.fill===void 0?" ":_.fill+"",this.align=_.align===void 0?">":_.align+"",this.sign=_.sign===void 0?"-":_.sign+"",this.symbol=_.symbol===void 0?"":_.symbol+"",this.zero=!!_.zero,this.width=_.width===void 0?void 0:+_.width,this.comma=!!_.comma,this.precision=_.precision===void 0?void 0:+_.precision,this.trim=!!_.trim,this.type=_.type===void 0?"":_.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(_){e:for(var R=_.length,P=1,I=-1,O;P<R;++P)switch(_[P]){case".":I=O=P;break;case"0":I===0&&(I=P),O=P;break;default:if(!+_[P])break e;I>0&&(I=0);break}return I>0?_.slice(0,I)+_.slice(O+1):_}var prefixExponent;function formatPrefixAuto(_,R){var P=formatDecimalParts(_,R);if(!P)return _+"";var I=P[0],O=P[1],z=O-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(O/3)))*3)+1,L=I.length;return z===L?I:z>L?I+new Array(z-L+1).join("0"):z>0?I.slice(0,z)+"."+I.slice(z):"0."+new Array(1-z).join("0")+formatDecimalParts(_,Math.max(0,R+z-1))[0]}function formatRounded(_,R){var P=formatDecimalParts(_,R);if(!P)return _+"";var I=P[0],O=P[1];return O<0?"0."+new Array(-O).join("0")+I:I.length>O+1?I.slice(0,O+1)+"."+I.slice(O+1):I+new Array(O-I.length+2).join("0")}const formatTypes={"%":(_,R)=>(_*100).toFixed(R),b:_=>Math.round(_).toString(2),c:_=>_+"",d:formatDecimal,e:(_,R)=>_.toExponential(R),f:(_,R)=>_.toFixed(R),g:(_,R)=>_.toPrecision(R),o:_=>Math.round(_).toString(8),p:(_,R)=>formatRounded(_*100,R),r:formatRounded,s:formatPrefixAuto,X:_=>Math.round(_).toString(16).toUpperCase(),x:_=>Math.round(_).toString(16)};function identity$5(_){return _}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(_){var R=_.grouping===void 0||_.thousands===void 0?identity$5:formatGroup(map$1.call(_.grouping,Number),_.thousands+""),P=_.currency===void 0?"":_.currency[0]+"",I=_.currency===void 0?"":_.currency[1]+"",O=_.decimal===void 0?".":_.decimal+"",z=_.numerals===void 0?identity$5:formatNumerals(map$1.call(_.numerals,String)),L=_.percent===void 0?"%":_.percent+"",F=_.minus===void 0?"":_.minus+"",U=_.nan===void 0?"NaN":_.nan+"";function V(W){W=formatSpecifier(W);var Y=W.fill,Q=W.align,ee=W.sign,te=W.symbol,ie=W.zero,ae=W.width,se=W.comma,le=W.precision,ce=W.trim,fe=W.type;fe==="n"?(se=!0,fe="g"):formatTypes[fe]||(le===void 0&&(le=12),ce=!0,fe="g"),(ie||Y==="0"&&Q==="=")&&(ie=!0,Y="0",Q="=");var de=te==="$"?P:te==="#"&&/[boxX]/.test(fe)?"0"+fe.toLowerCase():"",he=te==="$"?I:/[%p]/.test(fe)?L:"",pe=formatTypes[fe],ge=/[defgprs%]/.test(fe);le=le===void 0?6:/[gprs]/.test(fe)?Math.max(1,Math.min(21,le)):Math.max(0,Math.min(20,le));function be(xe){var _e=de,Se=he,me,Ce,Te;if(fe==="c")Se=pe(xe)+Se,xe="";else{xe=+xe;var Re=xe<0||1/xe<0;if(xe=isNaN(xe)?U:pe(Math.abs(xe),le),ce&&(xe=formatTrim(xe)),Re&&+xe==0&&ee!=="+"&&(Re=!1),_e=(Re?ee==="("?ee:F:ee==="-"||ee==="("?"":ee)+_e,Se=(fe==="s"?prefixes[8+prefixExponent/3]:"")+Se+(Re&&ee==="("?")":""),ge){for(me=-1,Ce=xe.length;++me<Ce;)if(Te=xe.charCodeAt(me),48>Te||Te>57){Se=(Te===46?O+xe.slice(me+1):xe.slice(me))+Se,xe=xe.slice(0,me);break}}}se&&!ie&&(xe=R(xe,1/0));var Pe=_e.length+xe.length+Se.length,Me=Pe<ae?new Array(ae-Pe+1).join(Y):"";switch(se&&ie&&(xe=R(Me+xe,Me.length?ae-Se.length:1/0),Me=""),Q){case"<":xe=_e+xe+Se+Me;break;case"=":xe=_e+Me+xe+Se;break;case"^":xe=Me.slice(0,Pe=Me.length>>1)+_e+xe+Se+Me.slice(Pe);break;default:xe=Me+_e+xe+Se;break}return z(xe)}return be.toString=function(){return W+""},be}function q(W,Y){var Q=V((W=formatSpecifier(W),W.type="f",W)),ee=Math.max(-8,Math.min(8,Math.floor(exponent(Y)/3)))*3,te=Math.pow(10,-ee),ie=prefixes[8+ee/3];return function(ae){return Q(te*ae)+ie}}return{format:V,formatPrefix:q}}var locale$1,format$1,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(_){return locale$1=formatLocale$1(_),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(_){return Math.max(0,-exponent(Math.abs(_)))}function precisionPrefix(_,R){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(R)/3)))*3-exponent(Math.abs(_)))}function precisionRound(_,R){return _=Math.abs(_),R=Math.abs(R)-_,Math.max(0,exponent(R)-exponent(_))+1}var epsilon$1=1e-6,epsilon2=1e-12,pi$2=Math.PI,halfPi=pi$2/2,quarterPi=pi$2/4,tau$2=pi$2*2,degrees=180/pi$2,radians$1=pi$2/180,abs=Math.abs,atan=Math.atan,atan2=Math.atan2,cos$1=Math.cos,exp=Math.exp,log$1=Math.log,pow$1=Math.pow,sin$1=Math.sin,sign$1=Math.sign||function(_){return _>0?1:_<0?-1:0},sqrt$1=Math.sqrt,tan=Math.tan;function acos(_){return _>1?0:_<-1?pi$2:Math.acos(_)}function asin(_){return _>1?halfPi:_<-1?-halfPi:Math.asin(_)}function noop$1(){}function streamGeometry(_,R){_&&streamGeometryType.hasOwnProperty(_.type)&&streamGeometryType[_.type](_,R)}var streamObjectType={Feature:function(_,R){streamGeometry(_.geometry,R)},FeatureCollection:function(_,R){for(var P=_.features,I=-1,O=P.length;++I<O;)streamGeometry(P[I].geometry,R)}},streamGeometryType={Sphere:function(_,R){R.sphere()},Point:function(_,R){_=_.coordinates,R.point(_[0],_[1],_[2])},MultiPoint:function(_,R){for(var P=_.coordinates,I=-1,O=P.length;++I<O;)_=P[I],R.point(_[0],_[1],_[2])},LineString:function(_,R){streamLine(_.coordinates,R,0)},MultiLineString:function(_,R){for(var P=_.coordinates,I=-1,O=P.length;++I<O;)streamLine(P[I],R,0)},Polygon:function(_,R){streamPolygon(_.coordinates,R)},MultiPolygon:function(_,R){for(var P=_.coordinates,I=-1,O=P.length;++I<O;)streamPolygon(P[I],R)},GeometryCollection:function(_,R){for(var P=_.geometries,I=-1,O=P.length;++I<O;)streamGeometry(P[I],R)}};function streamLine(_,R,P){var I=-1,O=_.length-P,z;for(R.lineStart();++I<O;)z=_[I],R.point(z[0],z[1],z[2]);R.lineEnd()}function streamPolygon(_,R){var P=-1,I=_.length;for(R.polygonStart();++P<I;)streamLine(_[P],R,1);R.polygonEnd()}function geoStream(_,R){_&&streamObjectType.hasOwnProperty(_.type)?streamObjectType[_.type](_,R):streamGeometry(_,R)}function spherical(_){return[atan2(_[1],_[0]),asin(_[2])]}function cartesian(_){var R=_[0],P=_[1],I=cos$1(P);return[I*cos$1(R),I*sin$1(R),sin$1(P)]}function cartesianDot(_,R){return _[0]*R[0]+_[1]*R[1]+_[2]*R[2]}function cartesianCross(_,R){return[_[1]*R[2]-_[2]*R[1],_[2]*R[0]-_[0]*R[2],_[0]*R[1]-_[1]*R[0]]}function cartesianAddInPlace(_,R){_[0]+=R[0],_[1]+=R[1],_[2]+=R[2]}function cartesianScale(_,R){return[_[0]*R,_[1]*R,_[2]*R]}function cartesianNormalizeInPlace(_){var R=sqrt$1(_[0]*_[0]+_[1]*_[1]+_[2]*_[2]);_[0]/=R,_[1]/=R,_[2]/=R}function compose(_,R){function P(I,O){return I=_(I,O),R(I[0],I[1])}return _.invert&&R.invert&&(P.invert=function(I,O){return I=R.invert(I,O),I&&_.invert(I[0],I[1])}),P}function rotationIdentity(_,R){return abs(_)>pi$2&&(_-=Math.round(_/tau$2)*tau$2),[_,R]}rotationIdentity.invert=rotationIdentity;function rotateRadians(_,R,P){return(_%=tau$2)?R||P?compose(rotationLambda(_),rotationPhiGamma(R,P)):rotationLambda(_):R||P?rotationPhiGamma(R,P):rotationIdentity}function forwardRotationLambda(_){return function(R,P){return R+=_,abs(R)>pi$2&&(R-=Math.round(R/tau$2)*tau$2),[R,P]}}function rotationLambda(_){var R=forwardRotationLambda(_);return R.invert=forwardRotationLambda(-_),R}function rotationPhiGamma(_,R){var P=cos$1(_),I=sin$1(_),O=cos$1(R),z=sin$1(R);function L(F,U){var V=cos$1(U),q=cos$1(F)*V,W=sin$1(F)*V,Y=sin$1(U),Q=Y*P+q*I;return[atan2(W*O-Q*z,q*P-Y*I),asin(Q*O+W*z)]}return L.invert=function(F,U){var V=cos$1(U),q=cos$1(F)*V,W=sin$1(F)*V,Y=sin$1(U),Q=Y*O-W*z;return[atan2(W*O+Y*z,q*P+Q*I),asin(Q*P-q*I)]},L}function rotation(_){_=rotateRadians(_[0]*radians$1,_[1]*radians$1,_.length>2?_[2]*radians$1:0);function R(P){return P=_(P[0]*radians$1,P[1]*radians$1),P[0]*=degrees,P[1]*=degrees,P}return R.invert=function(P){return P=_.invert(P[0]*radians$1,P[1]*radians$1),P[0]*=degrees,P[1]*=degrees,P},R}function circleStream(_,R,P,I,O,z){if(P){var L=cos$1(R),F=sin$1(R),U=I*P;O==null?(O=R+I*tau$2,z=R-U/2):(O=circleRadius(L,O),z=circleRadius(L,z),(I>0?O<z:O>z)&&(O+=I*tau$2));for(var V,q=O;I>0?q>z:q<z;q-=U)V=spherical([L,-F*cos$1(q),-F*sin$1(q)]),_.point(V[0],V[1])}}function circleRadius(_,R){R=cartesian(R),R[0]-=_,cartesianNormalizeInPlace(R);var P=acos(-R[1]);return((-R[2]<0?-P:P)+tau$2-epsilon$1)%tau$2}function clipBuffer(){var _=[],R;return{point:function(P,I,O){R.push([P,I,O])},lineStart:function(){_.push(R=[])},lineEnd:noop$1,rejoin:function(){_.length>1&&_.push(_.pop().concat(_.shift()))},result:function(){var P=_;return _=[],R=null,P}}}function pointEqual(_,R){return abs(_[0]-R[0])<epsilon$1&&abs(_[1]-R[1])<epsilon$1}function Intersection(_,R,P,I){this.x=_,this.z=R,this.o=P,this.e=I,this.v=!1,this.n=this.p=null}function clipRejoin(_,R,P,I,O){var z=[],L=[],F,U;if(_.forEach(function(ee){if(!((te=ee.length-1)<=0)){var te,ie=ee[0],ae=ee[te],se;if(pointEqual(ie,ae)){if(!ie[2]&&!ae[2]){for(O.lineStart(),F=0;F<te;++F)O.point((ie=ee[F])[0],ie[1]);O.lineEnd();return}ae[0]+=2*epsilon$1}z.push(se=new Intersection(ie,ee,null,!0)),L.push(se.o=new Intersection(ie,null,se,!1)),z.push(se=new Intersection(ae,ee,null,!1)),L.push(se.o=new Intersection(ae,null,se,!0))}}),!!z.length){for(L.sort(R),link$2(z),link$2(L),F=0,U=L.length;F<U;++F)L[F].e=P=!P;for(var V=z[0],q,W;;){for(var Y=V,Q=!0;Y.v;)if((Y=Y.n)===V)return;q=Y.z,O.lineStart();do{if(Y.v=Y.o.v=!0,Y.e){if(Q)for(F=0,U=q.length;F<U;++F)O.point((W=q[F])[0],W[1]);else I(Y.x,Y.n.x,1,O);Y=Y.n}else{if(Q)for(q=Y.p.z,F=q.length-1;F>=0;--F)O.point((W=q[F])[0],W[1]);else I(Y.x,Y.p.x,-1,O);Y=Y.p}Y=Y.o,q=Y.z,Q=!Q}while(!Y.v);O.lineEnd()}}}function link$2(_){if(R=_.length){for(var R,P=0,I=_[0],O;++P<R;)I.n=O=_[P],O.p=I,I=O;I.n=O=_[0],O.p=I}}function longitude(_){return abs(_[0])<=pi$2?_[0]:sign$1(_[0])*((abs(_[0])+pi$2)%tau$2-pi$2)}function polygonContains(_,R){var P=longitude(R),I=R[1],O=sin$1(I),z=[sin$1(P),-cos$1(P),0],L=0,F=0,U=new Adder;O===1?I=halfPi+epsilon$1:O===-1&&(I=-halfPi-epsilon$1);for(var V=0,q=_.length;V<q;++V)if(Y=(W=_[V]).length)for(var W,Y,Q=W[Y-1],ee=longitude(Q),te=Q[1]/2+quarterPi,ie=sin$1(te),ae=cos$1(te),se=0;se<Y;++se,ee=ce,ie=de,ae=he,Q=le){var le=W[se],ce=longitude(le),fe=le[1]/2+quarterPi,de=sin$1(fe),he=cos$1(fe),pe=ce-ee,ge=pe>=0?1:-1,be=ge*pe,xe=be>pi$2,_e=ie*de;if(U.add(atan2(_e*ge*sin$1(be),ae*he+_e*cos$1(be))),L+=xe?pe+ge*tau$2:pe,xe^ee>=P^ce>=P){var Se=cartesianCross(cartesian(Q),cartesian(le));cartesianNormalizeInPlace(Se);var me=cartesianCross(z,Se);cartesianNormalizeInPlace(me);var Ce=(xe^pe>=0?-1:1)*asin(me[2]);(I>Ce||I===Ce&&(Se[0]||Se[1]))&&(F+=xe^pe>=0?1:-1)}}return(L<-epsilon$1||L<epsilon$1&&U<-epsilon2)^F&1}function clip(_,R,P,I){return function(O){var z=R(O),L=clipBuffer(),F=R(L),U=!1,V,q,W,Y={point:Q,lineStart:te,lineEnd:ie,polygonStart:function(){Y.point=ae,Y.lineStart=se,Y.lineEnd=le,q=[],V=[]},polygonEnd:function(){Y.point=Q,Y.lineStart=te,Y.lineEnd=ie,q=merge$1(q);var ce=polygonContains(V,I);q.length?(U||(O.polygonStart(),U=!0),clipRejoin(q,compareIntersection,ce,P,O)):ce&&(U||(O.polygonStart(),U=!0),O.lineStart(),P(null,null,1,O),O.lineEnd()),U&&(O.polygonEnd(),U=!1),q=V=null},sphere:function(){O.polygonStart(),O.lineStart(),P(null,null,1,O),O.lineEnd(),O.polygonEnd()}};function Q(ce,fe){_(ce,fe)&&O.point(ce,fe)}function ee(ce,fe){z.point(ce,fe)}function te(){Y.point=ee,z.lineStart()}function ie(){Y.point=Q,z.lineEnd()}function ae(ce,fe){W.push([ce,fe]),F.point(ce,fe)}function se(){F.lineStart(),W=[]}function le(){ae(W[0][0],W[0][1]),F.lineEnd();var ce=F.clean(),fe=L.result(),de,he=fe.length,pe,ge,be;if(W.pop(),V.push(W),W=null,!!he){if(ce&1){if(ge=fe[0],(pe=ge.length-1)>0){for(U||(O.polygonStart(),U=!0),O.lineStart(),de=0;de<pe;++de)O.point((be=ge[de])[0],be[1]);O.lineEnd()}return}he>1&&ce&2&&fe.push(fe.pop().concat(fe.shift())),q.push(fe.filter(validSegment))}}return Y}}function validSegment(_){return _.length>1}function compareIntersection(_,R){return((_=_.x)[0]<0?_[1]-halfPi-epsilon$1:halfPi-_[1])-((R=R.x)[0]<0?R[1]-halfPi-epsilon$1:halfPi-R[1])}const clipAntimeridian=clip(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-pi$2,-halfPi]);function clipAntimeridianLine(_){var R=NaN,P=NaN,I=NaN,O;return{lineStart:function(){_.lineStart(),O=1},point:function(z,L){var F=z>0?pi$2:-pi$2,U=abs(z-R);abs(U-pi$2)<epsilon$1?(_.point(R,P=(P+L)/2>0?halfPi:-halfPi),_.point(I,P),_.lineEnd(),_.lineStart(),_.point(F,P),_.point(z,P),O=0):I!==F&&U>=pi$2&&(abs(R-I)<epsilon$1&&(R-=I*epsilon$1),abs(z-F)<epsilon$1&&(z-=F*epsilon$1),P=clipAntimeridianIntersect(R,P,z,L),_.point(I,P),_.lineEnd(),_.lineStart(),_.point(F,P),O=0),_.point(R=z,P=L),I=F},lineEnd:function(){_.lineEnd(),R=P=NaN},clean:function(){return 2-O}}}function clipAntimeridianIntersect(_,R,P,I){var O,z,L=sin$1(_-P);return abs(L)>epsilon$1?atan((sin$1(R)*(z=cos$1(I))*sin$1(P)-sin$1(I)*(O=cos$1(R))*sin$1(_))/(O*z*L)):(R+I)/2}function clipAntimeridianInterpolate(_,R,P,I){var O;if(_==null)O=P*halfPi,I.point(-pi$2,O),I.point(0,O),I.point(pi$2,O),I.point(pi$2,0),I.point(pi$2,-O),I.point(0,-O),I.point(-pi$2,-O),I.point(-pi$2,0),I.point(-pi$2,O);else if(abs(_[0]-R[0])>epsilon$1){var z=_[0]<R[0]?pi$2:-pi$2;O=P*z/2,I.point(-z,O),I.point(0,O),I.point(z,O)}else I.point(R[0],R[1])}function clipCircle(_){var R=cos$1(_),P=2*radians$1,I=R>0,O=abs(R)>epsilon$1;function z(q,W,Y,Q){circleStream(Q,_,P,Y,q,W)}function L(q,W){return cos$1(q)*cos$1(W)>R}function F(q){var W,Y,Q,ee,te;return{lineStart:function(){ee=Q=!1,te=1},point:function(ie,ae){var se=[ie,ae],le,ce=L(ie,ae),fe=I?ce?0:V(ie,ae):ce?V(ie+(ie<0?pi$2:-pi$2),ae):0;if(!W&&(ee=Q=ce)&&q.lineStart(),ce!==Q&&(le=U(W,se),(!le||pointEqual(W,le)||pointEqual(se,le))&&(se[2]=1)),ce!==Q)te=0,ce?(q.lineStart(),le=U(se,W),q.point(le[0],le[1])):(le=U(W,se),q.point(le[0],le[1],2),q.lineEnd()),W=le;else if(O&&W&&I^ce){var de;!(fe&Y)&&(de=U(se,W,!0))&&(te=0,I?(q.lineStart(),q.point(de[0][0],de[0][1]),q.point(de[1][0],de[1][1]),q.lineEnd()):(q.point(de[1][0],de[1][1]),q.lineEnd(),q.lineStart(),q.point(de[0][0],de[0][1],3)))}ce&&(!W||!pointEqual(W,se))&&q.point(se[0],se[1]),W=se,Q=ce,Y=fe},lineEnd:function(){Q&&q.lineEnd(),W=null},clean:function(){return te|(ee&&Q)<<1}}}function U(q,W,Y){var Q=cartesian(q),ee=cartesian(W),te=[1,0,0],ie=cartesianCross(Q,ee),ae=cartesianDot(ie,ie),se=ie[0],le=ae-se*se;if(!le)return!Y&&q;var ce=R*ae/le,fe=-R*se/le,de=cartesianCross(te,ie),he=cartesianScale(te,ce),pe=cartesianScale(ie,fe);cartesianAddInPlace(he,pe);var ge=de,be=cartesianDot(he,ge),xe=cartesianDot(ge,ge),_e=be*be-xe*(cartesianDot(he,he)-1);if(!(_e<0)){var Se=sqrt$1(_e),me=cartesianScale(ge,(-be-Se)/xe);if(cartesianAddInPlace(me,he),me=spherical(me),!Y)return me;var Ce=q[0],Te=W[0],Re=q[1],Pe=W[1],Me;Te<Ce&&(Me=Ce,Ce=Te,Te=Me);var Ae=Te-Ce,we=abs(Ae-pi$2)<epsilon$1,ke=we||Ae<epsilon$1;if(!we&&Pe<Re&&(Me=Re,Re=Pe,Pe=Me),ke?we?Re+Pe>0^me[1]<(abs(me[0]-Ce)<epsilon$1?Re:Pe):Re<=me[1]&&me[1]<=Pe:Ae>pi$2^(Ce<=me[0]&&me[0]<=Te)){var Ee=cartesianScale(ge,(-be+Se)/xe);return cartesianAddInPlace(Ee,he),[me,spherical(Ee)]}}}function V(q,W){var Y=I?_:pi$2-_,Q=0;return q<-Y?Q|=1:q>Y&&(Q|=2),W<-Y?Q|=4:W>Y&&(Q|=8),Q}return clip(L,F,z,I?[0,-_]:[-pi$2,_-pi$2])}function clipLine(_,R,P,I,O,z){var L=_[0],F=_[1],U=R[0],V=R[1],q=0,W=1,Y=U-L,Q=V-F,ee;if(ee=P-L,!(!Y&&ee>0)){if(ee/=Y,Y<0){if(ee<q)return;ee<W&&(W=ee)}else if(Y>0){if(ee>W)return;ee>q&&(q=ee)}if(ee=O-L,!(!Y&&ee<0)){if(ee/=Y,Y<0){if(ee>W)return;ee>q&&(q=ee)}else if(Y>0){if(ee<q)return;ee<W&&(W=ee)}if(ee=I-F,!(!Q&&ee>0)){if(ee/=Q,Q<0){if(ee<q)return;ee<W&&(W=ee)}else if(Q>0){if(ee>W)return;ee>q&&(q=ee)}if(ee=z-F,!(!Q&&ee<0)){if(ee/=Q,Q<0){if(ee>W)return;ee>q&&(q=ee)}else if(Q>0){if(ee<q)return;ee<W&&(W=ee)}return q>0&&(_[0]=L+q*Y,_[1]=F+q*Q),W<1&&(R[0]=L+W*Y,R[1]=F+W*Q),!0}}}}}var clipMax=1e9,clipMin=-clipMax;function clipRectangle(_,R,P,I){function O(V,q){return _<=V&&V<=P&&R<=q&&q<=I}function z(V,q,W,Y){var Q=0,ee=0;if(V==null||(Q=L(V,W))!==(ee=L(q,W))||U(V,q)<0^W>0)do Y.point(Q===0||Q===3?_:P,Q>1?I:R);while((Q=(Q+W+4)%4)!==ee);else Y.point(q[0],q[1])}function L(V,q){return abs(V[0]-_)<epsilon$1?q>0?0:3:abs(V[0]-P)<epsilon$1?q>0?2:1:abs(V[1]-R)<epsilon$1?q>0?1:0:q>0?3:2}function F(V,q){return U(V.x,q.x)}function U(V,q){var W=L(V,1),Y=L(q,1);return W!==Y?W-Y:W===0?q[1]-V[1]:W===1?V[0]-q[0]:W===2?V[1]-q[1]:q[0]-V[0]}return function(V){var q=V,W=clipBuffer(),Y,Q,ee,te,ie,ae,se,le,ce,fe,de,he={point:pe,lineStart:_e,lineEnd:Se,polygonStart:be,polygonEnd:xe};function pe(Ce,Te){O(Ce,Te)&&q.point(Ce,Te)}function ge(){for(var Ce=0,Te=0,Re=Q.length;Te<Re;++Te)for(var Pe=Q[Te],Me=1,Ae=Pe.length,we=Pe[0],ke,Ee,ze=we[0],je=we[1];Me<Ae;++Me)ke=ze,Ee=je,we=Pe[Me],ze=we[0],je=we[1],Ee<=I?je>I&&(ze-ke)*(I-Ee)>(je-Ee)*(_-ke)&&++Ce:je<=I&&(ze-ke)*(I-Ee)<(je-Ee)*(_-ke)&&--Ce;return Ce}function be(){q=W,Y=[],Q=[],de=!0}function xe(){var Ce=ge(),Te=de&&Ce,Re=(Y=merge$1(Y)).length;(Te||Re)&&(V.polygonStart(),Te&&(V.lineStart(),z(null,null,1,V),V.lineEnd()),Re&&clipRejoin(Y,F,Ce,z,V),V.polygonEnd()),q=V,Y=Q=ee=null}function _e(){he.point=me,Q&&Q.push(ee=[]),fe=!0,ce=!1,se=le=NaN}function Se(){Y&&(me(te,ie),ae&&ce&&W.rejoin(),Y.push(W.result())),he.point=pe,ce&&q.lineEnd()}function me(Ce,Te){var Re=O(Ce,Te);if(Q&&ee.push([Ce,Te]),fe)te=Ce,ie=Te,ae=Re,fe=!1,Re&&(q.lineStart(),q.point(Ce,Te));else if(Re&&ce)q.point(Ce,Te);else{var Pe=[se=Math.max(clipMin,Math.min(clipMax,se)),le=Math.max(clipMin,Math.min(clipMax,le))],Me=[Ce=Math.max(clipMin,Math.min(clipMax,Ce)),Te=Math.max(clipMin,Math.min(clipMax,Te))];clipLine(Pe,Me,_,R,P,I)?(ce||(q.lineStart(),q.point(Pe[0],Pe[1])),q.point(Me[0],Me[1]),Re||q.lineEnd(),de=!1):Re&&(q.lineStart(),q.point(Ce,Te),de=!1)}se=Ce,le=Te,ce=Re}return he}}const identity$4=_=>_;var areaSum=new Adder,areaRingSum=new Adder,x00$2,y00$2,x0$3,y0$3,areaStream={point:noop$1,lineStart:noop$1,lineEnd:noop$1,polygonStart:function(){areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){areaStream.lineStart=areaStream.lineEnd=areaStream.point=noop$1,areaSum.add(abs(areaRingSum)),areaRingSum=new Adder},result:function(){var _=areaSum/2;return areaSum=new Adder,_}};function areaRingStart(){areaStream.point=areaPointFirst}function areaPointFirst(_,R){areaStream.point=areaPoint,x00$2=x0$3=_,y00$2=y0$3=R}function areaPoint(_,R){areaRingSum.add(y0$3*_-x0$3*R),x0$3=_,y0$3=R}function areaRingEnd(){areaPoint(x00$2,y00$2)}var x0$2=1/0,y0$2=x0$2,x1=-x0$2,y1=x1,boundsStream={point:boundsPoint,lineStart:noop$1,lineEnd:noop$1,polygonStart:noop$1,polygonEnd:noop$1,result:function(){var _=[[x0$2,y0$2],[x1,y1]];return x1=y1=-(y0$2=x0$2=1/0),_}};function boundsPoint(_,R){_<x0$2&&(x0$2=_),_>x1&&(x1=_),R<y0$2&&(y0$2=R),R>y1&&(y1=R)}var X0=0,Y0=0,Z0=0,X1=0,Y1=0,Z1=0,X2=0,Y2=0,Z2=0,x00$1,y00$1,x0$1,y0$1,centroidStream={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.point=centroidPoint,centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd},result:function(){var _=Z2?[X2/Z2,Y2/Z2]:Z1?[X1/Z1,Y1/Z1]:Z0?[X0/Z0,Y0/Z0]:[NaN,NaN];return X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,_}};function centroidPoint(_,R){X0+=_,Y0+=R,++Z0}function centroidLineStart(){centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(_,R){centroidStream.point=centroidPointLine,centroidPoint(x0$1=_,y0$1=R)}function centroidPointLine(_,R){var P=_-x0$1,I=R-y0$1,O=sqrt$1(P*P+I*I);X1+=O*(x0$1+_)/2,Y1+=O*(y0$1+R)/2,Z1+=O,centroidPoint(x0$1=_,y0$1=R)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(_,R){centroidStream.point=centroidPointRing,centroidPoint(x00$1=x0$1=_,y00$1=y0$1=R)}function centroidPointRing(_,R){var P=_-x0$1,I=R-y0$1,O=sqrt$1(P*P+I*I);X1+=O*(x0$1+_)/2,Y1+=O*(y0$1+R)/2,Z1+=O,O=y0$1*_-x0$1*R,X2+=O*(x0$1+_),Y2+=O*(y0$1+R),Z2+=O*3,centroidPoint(x0$1=_,y0$1=R)}function PathContext(_){this._context=_}PathContext.prototype={_radius:4.5,pointRadius:function(_){return this._radius=_,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(_,R){switch(this._point){case 0:{this._context.moveTo(_,R),this._point=1;break}case 1:{this._context.lineTo(_,R);break}default:{this._context.moveTo(_+this._radius,R),this._context.arc(_,R,this._radius,0,tau$2);break}}},result:noop$1};var lengthSum=new Adder,lengthRing,x00,y00,x0,y0,lengthStream={point:noop$1,lineStart:function(){lengthStream.point=lengthPointFirst},lineEnd:function(){lengthRing&&lengthPoint(x00,y00),lengthStream.point=noop$1},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var _=+lengthSum;return lengthSum=new Adder,_}};function lengthPointFirst(_,R){lengthStream.point=lengthPoint,x00=x0=_,y00=y0=R}function lengthPoint(_,R){x0-=_,y0-=R,lengthSum.add(sqrt$1(x0*x0+y0*y0)),x0=_,y0=R}let cacheDigits,cacheAppend,cacheRadius,cacheCircle;class PathString{constructor(R){this._append=R==null?append:appendRound(R),this._radius=4.5,this._=""}pointRadius(R){return this._radius=+R,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(R,P){switch(this._point){case 0:{this._append`M${R},${P}`,this._point=1;break}case 1:{this._append`L${R},${P}`;break}default:{if(this._append`M${R},${P}`,this._radius!==cacheRadius||this._append!==cacheAppend){const I=this._radius,O=this._;this._="",this._append`m0,${I}a${I},${I} 0 1,1 0,${-2*I}a${I},${I} 0 1,1 0,${2*I}z`,cacheRadius=I,cacheAppend=this._append,cacheCircle=this._,this._=O}this._+=cacheCircle;break}}}result(){const R=this._;return this._="",R.length?R:null}}function append(_){let R=1;this._+=_[0];for(const P=_.length;R<P;++R)this._+=arguments[R]+_[R]}function appendRound(_){const R=Math.floor(_);if(!(R>=0))throw new RangeError(`invalid digits: ${_}`);if(R>15)return append;if(R!==cacheDigits){const P=10**R;cacheDigits=R,cacheAppend=function(O){let z=1;this._+=O[0];for(const L=O.length;z<L;++z)this._+=Math.round(arguments[z]*P)/P+O[z]}}return cacheAppend}function geoPath(_,R){let P=3,I=4.5,O,z;function L(F){return F&&(typeof I=="function"&&z.pointRadius(+I.apply(this,arguments)),geoStream(F,O(z))),z.result()}return L.area=function(F){return geoStream(F,O(areaStream)),areaStream.result()},L.measure=function(F){return geoStream(F,O(lengthStream)),lengthStream.result()},L.bounds=function(F){return geoStream(F,O(boundsStream)),boundsStream.result()},L.centroid=function(F){return geoStream(F,O(centroidStream)),centroidStream.result()},L.projection=function(F){return arguments.length?(O=F==null?(_=null,identity$4):(_=F).stream,L):_},L.context=function(F){return arguments.length?(z=F==null?(R=null,new PathString(P)):new PathContext(R=F),typeof I!="function"&&z.pointRadius(I),L):R},L.pointRadius=function(F){return arguments.length?(I=typeof F=="function"?F:(z.pointRadius(+F),+F),L):I},L.digits=function(F){if(!arguments.length)return P;if(F==null)P=null;else{const U=Math.floor(F);if(!(U>=0))throw new RangeError(`invalid digits: ${F}`);P=U}return R===null&&(z=new PathString(P)),L},L.projection(_).digits(P).context(R)}function geoTransform(_){return{stream:transformer$2(_)}}function transformer$2(_){return function(R){var P=new TransformStream;for(var I in _)P[I]=_[I];return P.stream=R,P}}function TransformStream(){}TransformStream.prototype={constructor:TransformStream,point:function(_,R){this.stream.point(_,R)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function fit(_,R,P){var I=_.clipExtent&&_.clipExtent();return _.scale(150).translate([0,0]),I!=null&&_.clipExtent(null),geoStream(P,_.stream(boundsStream)),R(boundsStream.result()),I!=null&&_.clipExtent(I),_}function fitExtent(_,R,P){return fit(_,function(I){var O=R[1][0]-R[0][0],z=R[1][1]-R[0][1],L=Math.min(O/(I[1][0]-I[0][0]),z/(I[1][1]-I[0][1])),F=+R[0][0]+(O-L*(I[1][0]+I[0][0]))/2,U=+R[0][1]+(z-L*(I[1][1]+I[0][1]))/2;_.scale(150*L).translate([F,U])},P)}function fitSize(_,R,P){return fitExtent(_,[[0,0],R],P)}function fitWidth(_,R,P){return fit(_,function(I){var O=+R,z=O/(I[1][0]-I[0][0]),L=(O-z*(I[1][0]+I[0][0]))/2,F=-z*I[0][1];_.scale(150*z).translate([L,F])},P)}function fitHeight(_,R,P){return fit(_,function(I){var O=+R,z=O/(I[1][1]-I[0][1]),L=-z*I[0][0],F=(O-z*(I[1][1]+I[0][1]))/2;_.scale(150*z).translate([L,F])},P)}var maxDepth=16,cosMinDistance=cos$1(30*radians$1);function resample(_,R){return+R?resample$1(_,R):resampleNone(_)}function resampleNone(_){return transformer$2({point:function(R,P){R=_(R,P),this.stream.point(R[0],R[1])}})}function resample$1(_,R){function P(I,O,z,L,F,U,V,q,W,Y,Q,ee,te,ie){var ae=V-I,se=q-O,le=ae*ae+se*se;if(le>4*R&&te--){var ce=L+Y,fe=F+Q,de=U+ee,he=sqrt$1(ce*ce+fe*fe+de*de),pe=asin(de/=he),ge=abs(abs(de)-1)<epsilon$1||abs(z-W)<epsilon$1?(z+W)/2:atan2(fe,ce),be=_(ge,pe),xe=be[0],_e=be[1],Se=xe-I,me=_e-O,Ce=se*Se-ae*me;(Ce*Ce/le>R||abs((ae*Se+se*me)/le-.5)>.3||L*Y+F*Q+U*ee<cosMinDistance)&&(P(I,O,z,L,F,U,xe,_e,ge,ce/=he,fe/=he,de,te,ie),ie.point(xe,_e),P(xe,_e,ge,ce,fe,de,V,q,W,Y,Q,ee,te,ie))}}return function(I){var O,z,L,F,U,V,q,W,Y,Q,ee,te,ie={point:ae,lineStart:se,lineEnd:ce,polygonStart:function(){I.polygonStart(),ie.lineStart=fe},polygonEnd:function(){I.polygonEnd(),ie.lineStart=se}};function ae(pe,ge){pe=_(pe,ge),I.point(pe[0],pe[1])}function se(){W=NaN,ie.point=le,I.lineStart()}function le(pe,ge){var be=cartesian([pe,ge]),xe=_(pe,ge);P(W,Y,q,Q,ee,te,W=xe[0],Y=xe[1],q=pe,Q=be[0],ee=be[1],te=be[2],maxDepth,I),I.point(W,Y)}function ce(){ie.point=ae,I.lineEnd()}function fe(){se(),ie.point=de,ie.lineEnd=he}function de(pe,ge){le(O=pe,ge),z=W,L=Y,F=Q,U=ee,V=te,ie.point=le}function he(){P(W,Y,q,Q,ee,te,z,L,O,F,U,V,maxDepth,I),ie.lineEnd=ce,ce()}return ie}}var transformRadians=transformer$2({point:function(_,R){this.stream.point(_*radians$1,R*radians$1)}});function transformRotate(_){return transformer$2({point:function(R,P){var I=_(R,P);return this.stream.point(I[0],I[1])}})}function scaleTranslate(_,R,P,I,O){function z(L,F){return L*=I,F*=O,[R+_*L,P-_*F]}return z.invert=function(L,F){return[(L-R)/_*I,(P-F)/_*O]},z}function scaleTranslateRotate(_,R,P,I,O,z){if(!z)return scaleTranslate(_,R,P,I,O);var L=cos$1(z),F=sin$1(z),U=L*_,V=F*_,q=L/_,W=F/_,Y=(F*P-L*R)/_,Q=(F*R+L*P)/_;function ee(te,ie){return te*=I,ie*=O,[U*te-V*ie+R,P-V*te-U*ie]}return ee.invert=function(te,ie){return[I*(q*te-W*ie+Y),O*(Q-W*te-q*ie)]},ee}function projection$1(_){return projectionMutator(function(){return _})()}function projectionMutator(_){var R,P=150,I=480,O=250,z=0,L=0,F=0,U=0,V=0,q,W=0,Y=1,Q=1,ee=null,te=clipAntimeridian,ie=null,ae,se,le,ce=identity$4,fe=.5,de,he,pe,ge,be;function xe(Ce){return pe(Ce[0]*radians$1,Ce[1]*radians$1)}function _e(Ce){return Ce=pe.invert(Ce[0],Ce[1]),Ce&&[Ce[0]*degrees,Ce[1]*degrees]}xe.stream=function(Ce){return ge&&be===Ce?ge:ge=transformRadians(transformRotate(q)(te(de(ce(be=Ce)))))},xe.preclip=function(Ce){return arguments.length?(te=Ce,ee=void 0,me()):te},xe.postclip=function(Ce){return arguments.length?(ce=Ce,ie=ae=se=le=null,me()):ce},xe.clipAngle=function(Ce){return arguments.length?(te=+Ce?clipCircle(ee=Ce*radians$1):(ee=null,clipAntimeridian),me()):ee*degrees},xe.clipExtent=function(Ce){return arguments.length?(ce=Ce==null?(ie=ae=se=le=null,identity$4):clipRectangle(ie=+Ce[0][0],ae=+Ce[0][1],se=+Ce[1][0],le=+Ce[1][1]),me()):ie==null?null:[[ie,ae],[se,le]]},xe.scale=function(Ce){return arguments.length?(P=+Ce,Se()):P},xe.translate=function(Ce){return arguments.length?(I=+Ce[0],O=+Ce[1],Se()):[I,O]},xe.center=function(Ce){return arguments.length?(z=Ce[0]%360*radians$1,L=Ce[1]%360*radians$1,Se()):[z*degrees,L*degrees]},xe.rotate=function(Ce){return arguments.length?(F=Ce[0]%360*radians$1,U=Ce[1]%360*radians$1,V=Ce.length>2?Ce[2]%360*radians$1:0,Se()):[F*degrees,U*degrees,V*degrees]},xe.angle=function(Ce){return arguments.length?(W=Ce%360*radians$1,Se()):W*degrees},xe.reflectX=function(Ce){return arguments.length?(Y=Ce?-1:1,Se()):Y<0},xe.reflectY=function(Ce){return arguments.length?(Q=Ce?-1:1,Se()):Q<0},xe.precision=function(Ce){return arguments.length?(de=resample(he,fe=Ce*Ce),me()):sqrt$1(fe)},xe.fitExtent=function(Ce,Te){return fitExtent(xe,Ce,Te)},xe.fitSize=function(Ce,Te){return fitSize(xe,Ce,Te)},xe.fitWidth=function(Ce,Te){return fitWidth(xe,Ce,Te)},xe.fitHeight=function(Ce,Te){return fitHeight(xe,Ce,Te)};function Se(){var Ce=scaleTranslateRotate(P,0,0,Y,Q,W).apply(null,R(z,L)),Te=scaleTranslateRotate(P,I-Ce[0],O-Ce[1],Y,Q,W);return q=rotateRadians(F,U,V),he=compose(R,Te),pe=compose(q,he),de=resample(he,fe),me()}function me(){return ge=be=null,xe}return function(){return R=_.apply(this,arguments),xe.invert=R.invert&&_e,Se()}}function conicProjection$1(_){var R=0,P=pi$2/3,I=projectionMutator(_),O=I(R,P);return O.parallels=function(z){return arguments.length?I(R=z[0]*radians$1,P=z[1]*radians$1):[R*degrees,P*degrees]},O}function cylindricalEqualAreaRaw(_){var R=cos$1(_);function P(I,O){return[I*R,sin$1(O)/R]}return P.invert=function(I,O){return[I/R,asin(O*R)]},P}function conicEqualAreaRaw(_,R){var P=sin$1(_),I=(P+sin$1(R))/2;if(abs(I)<epsilon$1)return cylindricalEqualAreaRaw(_);var O=1+P*(2*I-P),z=sqrt$1(O)/I;function L(F,U){var V=sqrt$1(O-2*I*sin$1(U))/I;return[V*sin$1(F*=I),z-V*cos$1(F)]}return L.invert=function(F,U){var V=z-U,q=atan2(F,abs(V))*sign$1(V);return V*I<0&&(q-=pi$2*sign$1(F)*sign$1(V)),[q/I,asin((O-(F*F+V*V)*I*I)/(2*I))]},L}function geoConicEqualArea(){return conicProjection$1(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function geoAlbers(){return geoConicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function multiplex(_){var R=_.length;return{point:function(P,I){for(var O=-1;++O<R;)_[O].point(P,I)},sphere:function(){for(var P=-1;++P<R;)_[P].sphere()},lineStart:function(){for(var P=-1;++P<R;)_[P].lineStart()},lineEnd:function(){for(var P=-1;++P<R;)_[P].lineEnd()},polygonStart:function(){for(var P=-1;++P<R;)_[P].polygonStart()},polygonEnd:function(){for(var P=-1;++P<R;)_[P].polygonEnd()}}}function geoAlbersUsa(){var _,R,P=geoAlbers(),I,O=geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),z,L=geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),F,U,V={point:function(Y,Q){U=[Y,Q]}};function q(Y){var Q=Y[0],ee=Y[1];return U=null,I.point(Q,ee),U||(z.point(Q,ee),U)||(F.point(Q,ee),U)}q.invert=function(Y){var Q=P.scale(),ee=P.translate(),te=(Y[0]-ee[0])/Q,ie=(Y[1]-ee[1])/Q;return(ie>=.12&&ie<.234&&te>=-.425&&te<-.214?O:ie>=.166&&ie<.234&&te>=-.214&&te<-.115?L:P).invert(Y)},q.stream=function(Y){return _&&R===Y?_:_=multiplex([P.stream(R=Y),O.stream(Y),L.stream(Y)])},q.precision=function(Y){return arguments.length?(P.precision(Y),O.precision(Y),L.precision(Y),W()):P.precision()},q.scale=function(Y){return arguments.length?(P.scale(Y),O.scale(Y*.35),L.scale(Y),q.translate(P.translate())):P.scale()},q.translate=function(Y){if(!arguments.length)return P.translate();var Q=P.scale(),ee=+Y[0],te=+Y[1];return I=P.translate(Y).clipExtent([[ee-.455*Q,te-.238*Q],[ee+.455*Q,te+.238*Q]]).stream(V),z=O.translate([ee-.307*Q,te+.201*Q]).clipExtent([[ee-.425*Q+epsilon$1,te+.12*Q+epsilon$1],[ee-.214*Q-epsilon$1,te+.234*Q-epsilon$1]]).stream(V),F=L.translate([ee-.205*Q,te+.212*Q]).clipExtent([[ee-.214*Q+epsilon$1,te+.166*Q+epsilon$1],[ee-.115*Q-epsilon$1,te+.234*Q-epsilon$1]]).stream(V),W()},q.fitExtent=function(Y,Q){return fitExtent(q,Y,Q)},q.fitSize=function(Y,Q){return fitSize(q,Y,Q)},q.fitWidth=function(Y,Q){return fitWidth(q,Y,Q)},q.fitHeight=function(Y,Q){return fitHeight(q,Y,Q)};function W(){return _=R=null,q}return q.scale(1070)}function azimuthalRaw(_){return function(R,P){var I=cos$1(R),O=cos$1(P),z=_(I*O);return z===1/0?[2,0]:[z*O*sin$1(R),z*sin$1(P)]}}function azimuthalInvert(_){return function(R,P){var I=sqrt$1(R*R+P*P),O=_(I),z=sin$1(O),L=cos$1(O);return[atan2(R*z,I*L),asin(I&&P*z/I)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(_){return sqrt$1(2/(1+_))});azimuthalEqualAreaRaw.invert=azimuthalInvert(function(_){return 2*asin(_/2)});function geoAzimuthalEqualArea(){return projection$1(azimuthalEqualAreaRaw).scale(124.75).clipAngle(180-.001)}var azimuthalEquidistantRaw=azimuthalRaw(function(_){return(_=acos(_))&&_/sin$1(_)});azimuthalEquidistantRaw.invert=azimuthalInvert(function(_){return _});function geoAzimuthalEquidistant(){return projection$1(azimuthalEquidistantRaw).scale(79.4188).clipAngle(180-.001)}function mercatorRaw(_,R){return[_,log$1(tan((halfPi+R)/2))]}mercatorRaw.invert=function(_,R){return[_,2*atan(exp(R))-halfPi]};function geoMercator(){return mercatorProjection(mercatorRaw).scale(961/tau$2)}function mercatorProjection(_){var R=projection$1(_),P=R.center,I=R.scale,O=R.translate,z=R.clipExtent,L=null,F,U,V;R.scale=function(W){return arguments.length?(I(W),q()):I()},R.translate=function(W){return arguments.length?(O(W),q()):O()},R.center=function(W){return arguments.length?(P(W),q()):P()},R.clipExtent=function(W){return arguments.length?(W==null?L=F=U=V=null:(L=+W[0][0],F=+W[0][1],U=+W[1][0],V=+W[1][1]),q()):L==null?null:[[L,F],[U,V]]};function q(){var W=pi$2*I(),Y=R(rotation(R.rotate()).invert([0,0]));return z(L==null?[[Y[0]-W,Y[1]-W],[Y[0]+W,Y[1]+W]]:_===mercatorRaw?[[Math.max(Y[0]-W,L),F],[Math.min(Y[0]+W,U),V]]:[[L,Math.max(Y[1]-W,F)],[U,Math.min(Y[1]+W,V)]])}return q()}function tany(_){return tan((halfPi+_)/2)}function conicConformalRaw(_,R){var P=cos$1(_),I=_===R?sin$1(_):log$1(P/cos$1(R))/log$1(tany(R)/tany(_)),O=P*pow$1(tany(_),I)/I;if(!I)return mercatorRaw;function z(L,F){O>0?F<-halfPi+epsilon$1&&(F=-halfPi+epsilon$1):F>halfPi-epsilon$1&&(F=halfPi-epsilon$1);var U=O/pow$1(tany(F),I);return[U*sin$1(I*L),O-U*cos$1(I*L)]}return z.invert=function(L,F){var U=O-F,V=sign$1(I)*sqrt$1(L*L+U*U),q=atan2(L,abs(U))*sign$1(U);return U*I<0&&(q-=pi$2*sign$1(L)*sign$1(U)),[q/I,2*atan(pow$1(O/V,1/I))-halfPi]},z}function geoConicConformal(){return conicProjection$1(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(_,R){return[_,R]}equirectangularRaw.invert=equirectangularRaw;function geoEquirectangular(){return projection$1(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(_,R){var P=cos$1(_),I=_===R?sin$1(_):(P-cos$1(R))/(R-_),O=P/I+_;if(abs(I)<epsilon$1)return equirectangularRaw;function z(L,F){var U=O-F,V=I*L;return[U*sin$1(V),O-U*cos$1(V)]}return z.invert=function(L,F){var U=O-F,V=atan2(L,abs(U))*sign$1(U);return U*I<0&&(V-=pi$2*sign$1(L)*sign$1(U)),[V/I,O-sign$1(I)*sqrt$1(L*L+U*U)]},z}function geoConicEquidistant(){return conicProjection$1(conicEquidistantRaw).scale(131.154).center([0,13.9389])}var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=sqrt$1(3)/2,iterations=12;function equalEarthRaw(_,R){var P=asin(M*sin$1(R)),I=P*P,O=I*I*I;return[_*cos$1(P)/(M*(A1+3*A2*I+O*(7*A3+9*A4*I))),P*(A1+A2*I+O*(A3+A4*I))]}equalEarthRaw.invert=function(_,R){for(var P=R,I=P*P,O=I*I*I,z=0,L,F,U;z<iterations&&(F=P*(A1+A2*I+O*(A3+A4*I))-R,U=A1+3*A2*I+O*(7*A3+9*A4*I),P-=L=F/U,I=P*P,O=I*I*I,!(abs(L)<epsilon2));++z);return[M*_*(A1+3*A2*I+O*(7*A3+9*A4*I))/cos$1(P),asin(sin$1(P)/M)]};function geoEqualEarth(){return projection$1(equalEarthRaw).scale(177.158)}function gnomonicRaw(_,R){var P=cos$1(R),I=cos$1(_)*P;return[P*sin$1(_)/I,sin$1(R)/I]}gnomonicRaw.invert=azimuthalInvert(atan);function geoGnomonic(){return projection$1(gnomonicRaw).scale(144.049).clipAngle(60)}function orthographicRaw(_,R){return[cos$1(R)*sin$1(_),sin$1(R)]}orthographicRaw.invert=azimuthalInvert(asin);function geoOrthographic(){return projection$1(orthographicRaw).scale(249.5).clipAngle(90+epsilon$1)}function stereographicRaw(_,R){var P=cos$1(R),I=1+cos$1(_)*P;return[P*sin$1(_)/I,sin$1(R)/I]}stereographicRaw.invert=azimuthalInvert(function(_){return 2*atan(_)});function geoStereographic(){return projection$1(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(_,R){return[log$1(tan((halfPi+R)/2)),-_]}transverseMercatorRaw.invert=function(_,R){return[-R,2*atan(exp(_))-halfPi]};function geoTransverseMercator(){var _=mercatorProjection(transverseMercatorRaw),R=_.center,P=_.rotate;return _.center=function(I){return arguments.length?R([-I[1],I[0]]):(I=R(),[I[1],-I[0]])},_.rotate=function(I){return arguments.length?P([I[0],I[1],I.length>2?I[2]+90:90]):(I=P(),[I[0],I[1],I[2]-90])},P([0,0,90]).scale(159.155)}function initRange(_,R){switch(arguments.length){case 0:break;case 1:this.range(_);break;default:this.range(R).domain(_);break}return this}function initInterpolator(_,R){switch(arguments.length){case 0:break;case 1:{typeof _=="function"?this.interpolator(_):this.range(_);break}default:{this.domain(_),typeof R=="function"?this.interpolator(R):this.range(R);break}}return this}const implicit=Symbol("implicit");function ordinal(){var _=new InternMap,R=[],P=[],I=implicit;function O(z){let L=_.get(z);if(L===void 0){if(I!==implicit)return I;_.set(z,L=R.push(z)-1)}return P[L%P.length]}return O.domain=function(z){if(!arguments.length)return R.slice();R=[],_=new InternMap;for(const L of z)_.has(L)||_.set(L,R.push(L)-1);return O},O.range=function(z){return arguments.length?(P=Array.from(z),O):P.slice()},O.unknown=function(z){return arguments.length?(I=z,O):I},O.copy=function(){return ordinal(R,P).unknown(I)},initRange.apply(O,arguments),O}function band(){var _=ordinal().unknown(void 0),R=_.domain,P=_.range,I=0,O=1,z,L,F=!1,U=0,V=0,q=.5;delete _.unknown;function W(){var Y=R().length,Q=O<I,ee=Q?O:I,te=Q?I:O;z=(te-ee)/Math.max(1,Y-U+V*2),F&&(z=Math.floor(z)),ee+=(te-ee-z*(Y-U))*q,L=z*(1-U),F&&(ee=Math.round(ee),L=Math.round(L));var ie=range$1(Y).map(function(ae){return ee+z*ae});return P(Q?ie.reverse():ie)}return _.domain=function(Y){return arguments.length?(R(Y),W()):R()},_.range=function(Y){return arguments.length?([I,O]=Y,I=+I,O=+O,W()):[I,O]},_.rangeRound=function(Y){return[I,O]=Y,I=+I,O=+O,F=!0,W()},_.bandwidth=function(){return L},_.step=function(){return z},_.round=function(Y){return arguments.length?(F=!!Y,W()):F},_.padding=function(Y){return arguments.length?(U=Math.min(1,V=+Y),W()):U},_.paddingInner=function(Y){return arguments.length?(U=Math.min(1,Y),W()):U},_.paddingOuter=function(Y){return arguments.length?(V=+Y,W()):V},_.align=function(Y){return arguments.length?(q=Math.max(0,Math.min(1,Y)),W()):q},_.copy=function(){return band(R(),[I,O]).round(F).paddingInner(U).paddingOuter(V).align(q)},initRange.apply(W(),arguments)}function pointish(_){var R=_.copy;return _.padding=_.paddingOuter,delete _.paddingInner,delete _.paddingOuter,_.copy=function(){return pointish(R())},_}function point$7(){return pointish(band.apply(null,arguments).paddingInner(1))}function constants(_){return function(){return _}}function number$3(_){return+_}var unit$1=[0,1];function identity$3(_){return _}function normalize$2(_,R){return(R-=_=+_)?function(P){return(P-_)/R}:constants(isNaN(R)?NaN:.5)}function clamper(_,R){var P;return _>R&&(P=_,_=R,R=P),function(I){return Math.max(_,Math.min(R,I))}}function bimap(_,R,P){var I=_[0],O=_[1],z=R[0],L=R[1];return O<I?(I=normalize$2(O,I),z=P(L,z)):(I=normalize$2(I,O),z=P(z,L)),function(F){return z(I(F))}}function polymap(_,R,P){var I=Math.min(_.length,R.length)-1,O=new Array(I),z=new Array(I),L=-1;for(_[I]<_[0]&&(_=_.slice().reverse(),R=R.slice().reverse());++L<I;)O[L]=normalize$2(_[L],_[L+1]),z[L]=P(R[L],R[L+1]);return function(F){var U=bisectRight(_,F,1,I)-1;return z[U](O[U](F))}}function copy$1(_,R){return R.domain(_.domain()).range(_.range()).interpolate(_.interpolate()).clamp(_.clamp()).unknown(_.unknown())}function transformer$1(){var _=unit$1,R=unit$1,P=interpolate$1,I,O,z,L=identity$3,F,U,V;function q(){var Y=Math.min(_.length,R.length);return L!==identity$3&&(L=clamper(_[0],_[Y-1])),F=Y>2?polymap:bimap,U=V=null,W}function W(Y){return Y==null||isNaN(Y=+Y)?z:(U||(U=F(_.map(I),R,P)))(I(L(Y)))}return W.invert=function(Y){return L(O((V||(V=F(R,_.map(I),interpolateNumber)))(Y)))},W.domain=function(Y){return arguments.length?(_=Array.from(Y,number$3),q()):_.slice()},W.range=function(Y){return arguments.length?(R=Array.from(Y),q()):R.slice()},W.rangeRound=function(Y){return R=Array.from(Y),P=interpolateRound,q()},W.clamp=function(Y){return arguments.length?(L=Y?!0:identity$3,q()):L!==identity$3},W.interpolate=function(Y){return arguments.length?(P=Y,q()):P},W.unknown=function(Y){return arguments.length?(z=Y,W):z},function(Y,Q){return I=Y,O=Q,q()}}function continuous(){return transformer$1()(identity$3,identity$3)}function tickFormat(_,R,P,I){var O=tickStep(_,R,P),z;switch(I=formatSpecifier(I??",f"),I.type){case"s":{var L=Math.max(Math.abs(_),Math.abs(R));return I.precision==null&&!isNaN(z=precisionPrefix(O,L))&&(I.precision=z),formatPrefix(I,L)}case"":case"e":case"g":case"p":case"r":{I.precision==null&&!isNaN(z=precisionRound(O,Math.max(Math.abs(_),Math.abs(R))))&&(I.precision=z-(I.type==="e"));break}case"f":case"%":{I.precision==null&&!isNaN(z=precisionFixed(O))&&(I.precision=z-(I.type==="%")*2);break}}return format$1(I)}function linearish(_){var R=_.domain;return _.ticks=function(P){var I=R();return ticks(I[0],I[I.length-1],P??10)},_.tickFormat=function(P,I){var O=R();return tickFormat(O[0],O[O.length-1],P??10,I)},_.nice=function(P){P==null&&(P=10);var I=R(),O=0,z=I.length-1,L=I[O],F=I[z],U,V,q=10;for(F<L&&(V=L,L=F,F=V,V=O,O=z,z=V);q-- >0;){if(V=tickIncrement(L,F,P),V===U)return I[O]=L,I[z]=F,R(I);if(V>0)L=Math.floor(L/V)*V,F=Math.ceil(F/V)*V;else if(V<0)L=Math.ceil(L*V)/V,F=Math.floor(F*V)/V;else break;U=V}return _},_}function linear(){var _=continuous();return _.copy=function(){return copy$1(_,linear())},initRange.apply(_,arguments),linearish(_)}function identity$2(_){var R;function P(I){return I==null||isNaN(I=+I)?R:I}return P.invert=P,P.domain=P.range=function(I){return arguments.length?(_=Array.from(I,number$3),P):_.slice()},P.unknown=function(I){return arguments.length?(R=I,P):R},P.copy=function(){return identity$2(_).unknown(R)},_=arguments.length?Array.from(_,number$3):[0,1],linearish(P)}function nice(_,R){_=_.slice();var P=0,I=_.length-1,O=_[P],z=_[I],L;return z<O&&(L=P,P=I,I=L,L=O,O=z,z=L),_[P]=R.floor(O),_[I]=R.ceil(z),_}function transformLog$1(_){return Math.log(_)}function transformExp(_){return Math.exp(_)}function transformLogn(_){return-Math.log(-_)}function transformExpn(_){return-Math.exp(-_)}function pow10(_){return isFinite(_)?+("1e"+_):_<0?0:_}function powp(_){return _===10?pow10:_===Math.E?Math.exp:R=>Math.pow(_,R)}function logp(_){return _===Math.E?Math.log:_===10&&Math.log10||_===2&&Math.log2||(_=Math.log(_),R=>Math.log(R)/_)}function reflect(_){return(R,P)=>-_(-R,P)}function loggish(_){const R=_(transformLog$1,transformExp),P=R.domain;let I=10,O,z;function L(){return O=logp(I),z=powp(I),P()[0]<0?(O=reflect(O),z=reflect(z),_(transformLogn,transformExpn)):_(transformLog$1,transformExp),R}return R.base=function(F){return arguments.length?(I=+F,L()):I},R.domain=function(F){return arguments.length?(P(F),L()):P()},R.ticks=F=>{const U=P();let V=U[0],q=U[U.length-1];const W=q<V;W&&([V,q]=[q,V]);let Y=O(V),Q=O(q),ee,te;const ie=F==null?10:+F;let ae=[];if(!(I%1)&&Q-Y<ie){if(Y=Math.floor(Y),Q=Math.ceil(Q),V>0){for(;Y<=Q;++Y)for(ee=1;ee<I;++ee)if(te=Y<0?ee/z(-Y):ee*z(Y),!(te<V)){if(te>q)break;ae.push(te)}}else for(;Y<=Q;++Y)for(ee=I-1;ee>=1;--ee)if(te=Y>0?ee/z(-Y):ee*z(Y),!(te<V)){if(te>q)break;ae.push(te)}ae.length*2<ie&&(ae=ticks(V,q,ie))}else ae=ticks(Y,Q,Math.min(Q-Y,ie)).map(z);return W?ae.reverse():ae},R.tickFormat=(F,U)=>{if(F==null&&(F=10),U==null&&(U=I===10?"s":","),typeof U!="function"&&(!(I%1)&&(U=formatSpecifier(U)).precision==null&&(U.trim=!0),U=format$1(U)),F===1/0)return U;const V=Math.max(1,I*F/R.ticks().length);return q=>{let W=q/z(Math.round(O(q)));return W*I<I-.5&&(W*=I),W<=V?U(q):""}},R.nice=()=>P(nice(P(),{floor:F=>z(Math.floor(O(F))),ceil:F=>z(Math.ceil(O(F)))})),R}function log(){const _=loggish(transformer$1()).domain([1,10]);return _.copy=()=>copy$1(_,log()).base(_.base()),initRange.apply(_,arguments),_}function transformSymlog$1(_){return function(R){return Math.sign(R)*Math.log1p(Math.abs(R/_))}}function transformSymexp(_){return function(R){return Math.sign(R)*Math.expm1(Math.abs(R))*_}}function symlogish(_){var R=1,P=_(transformSymlog$1(R),transformSymexp(R));return P.constant=function(I){return arguments.length?_(transformSymlog$1(R=+I),transformSymexp(R)):R},linearish(P)}function symlog(){var _=symlogish(transformer$1());return _.copy=function(){return copy$1(_,symlog()).constant(_.constant())},initRange.apply(_,arguments)}function transformPow$1(_){return function(R){return R<0?-Math.pow(-R,_):Math.pow(R,_)}}function transformSqrt$1(_){return _<0?-Math.sqrt(-_):Math.sqrt(_)}function transformSquare(_){return _<0?-_*_:_*_}function powish(_){var R=_(identity$3,identity$3),P=1;function I(){return P===1?_(identity$3,identity$3):P===.5?_(transformSqrt$1,transformSquare):_(transformPow$1(P),transformPow$1(1/P))}return R.exponent=function(O){return arguments.length?(P=+O,I()):P},linearish(R)}function pow(){var _=powish(transformer$1());return _.copy=function(){return copy$1(_,pow()).exponent(_.exponent())},initRange.apply(_,arguments),_}function quantile(){var _=[],R=[],P=[],I;function O(){var L=0,F=Math.max(1,R.length);for(P=new Array(F-1);++L<F;)P[L-1]=quantileSorted(_,L/F);return z}function z(L){return L==null||isNaN(L=+L)?I:R[bisectRight(P,L)]}return z.invertExtent=function(L){var F=R.indexOf(L);return F<0?[NaN,NaN]:[F>0?P[F-1]:_[0],F<P.length?P[F]:_[_.length-1]]},z.domain=function(L){if(!arguments.length)return _.slice();_=[];for(let F of L)F!=null&&!isNaN(F=+F)&&_.push(F);return _.sort(ascending$1),O()},z.range=function(L){return arguments.length?(R=Array.from(L),O()):R.slice()},z.unknown=function(L){return arguments.length?(I=L,z):I},z.quantiles=function(){return P.slice()},z.copy=function(){return quantile().domain(_).range(R).unknown(I)},initRange.apply(z,arguments)}function threshold(){var _=[.5],R=[0,1],P,I=1;function O(z){return z!=null&&z<=z?R[bisectRight(_,z,0,I)]:P}return O.domain=function(z){return arguments.length?(_=Array.from(z),I=Math.min(_.length,R.length-1),O):_.slice()},O.range=function(z){return arguments.length?(R=Array.from(z),I=Math.min(_.length,R.length-1),O):R.slice()},O.invertExtent=function(z){var L=R.indexOf(z);return[_[L-1],_[L]]},O.unknown=function(z){return arguments.length?(P=z,O):P},O.copy=function(){return threshold().domain(_).range(R).unknown(P)},initRange.apply(O,arguments)}const t0=new Date,t1=new Date;function timeInterval$1(_,R,P,I){function O(z){return _(z=arguments.length===0?new Date:new Date(+z)),z}return O.floor=z=>(_(z=new Date(+z)),z),O.ceil=z=>(_(z=new Date(z-1)),R(z,1),_(z),z),O.round=z=>{const L=O(z),F=O.ceil(z);return z-L<F-z?L:F},O.offset=(z,L)=>(R(z=new Date(+z),L==null?1:Math.floor(L)),z),O.range=(z,L,F)=>{const U=[];if(z=O.ceil(z),F=F==null?1:Math.floor(F),!(z<L)||!(F>0))return U;let V;do U.push(V=new Date(+z)),R(z,F),_(z);while(V<z&&z<L);return U},O.filter=z=>timeInterval$1(L=>{if(L>=L)for(;_(L),!z(L);)L.setTime(L-1)},(L,F)=>{if(L>=L)if(F<0)for(;++F<=0;)for(;R(L,-1),!z(L););else for(;--F>=0;)for(;R(L,1),!z(L););}),P&&(O.count=(z,L)=>(t0.setTime(+z),t1.setTime(+L),_(t0),_(t1),Math.floor(P(t0,t1))),O.every=z=>(z=Math.floor(z),!isFinite(z)||!(z>0)?null:z>1?O.filter(I?L=>I(L)%z===0:L=>O.count(0,L)%z===0):O)),O}const millisecond=timeInterval$1(()=>{},(_,R)=>{_.setTime(+_+R)},(_,R)=>R-_);millisecond.every=_=>(_=Math.floor(_),!isFinite(_)||!(_>0)?null:_>1?timeInterval$1(R=>{R.setTime(Math.floor(R/_)*_)},(R,P)=>{R.setTime(+R+P*_)},(R,P)=>(P-R)/_):millisecond);millisecond.range;const durationSecond$1=1e3,durationMinute$1=durationSecond$1*60,durationHour$1=durationMinute$1*60,durationDay$1=durationHour$1*24,durationWeek$1=durationDay$1*7,durationMonth$1=durationDay$1*30,durationYear$1=durationDay$1*365,second$1=timeInterval$1(_=>{_.setTime(_-_.getMilliseconds())},(_,R)=>{_.setTime(+_+R*durationSecond$1)},(_,R)=>(R-_)/durationSecond$1,_=>_.getUTCSeconds());second$1.range;const timeMinute=timeInterval$1(_=>{_.setTime(_-_.getMilliseconds()-_.getSeconds()*durationSecond$1)},(_,R)=>{_.setTime(+_+R*durationMinute$1)},(_,R)=>(R-_)/durationMinute$1,_=>_.getMinutes());timeMinute.range;const utcMinute=timeInterval$1(_=>{_.setUTCSeconds(0,0)},(_,R)=>{_.setTime(+_+R*durationMinute$1)},(_,R)=>(R-_)/durationMinute$1,_=>_.getUTCMinutes());utcMinute.range;const timeHour=timeInterval$1(_=>{_.setTime(_-_.getMilliseconds()-_.getSeconds()*durationSecond$1-_.getMinutes()*durationMinute$1)},(_,R)=>{_.setTime(+_+R*durationHour$1)},(_,R)=>(R-_)/durationHour$1,_=>_.getHours());timeHour.range;const utcHour=timeInterval$1(_=>{_.setUTCMinutes(0,0,0)},(_,R)=>{_.setTime(+_+R*durationHour$1)},(_,R)=>(R-_)/durationHour$1,_=>_.getUTCHours());utcHour.range;const timeDay=timeInterval$1(_=>_.setHours(0,0,0,0),(_,R)=>_.setDate(_.getDate()+R),(_,R)=>(R-_-(R.getTimezoneOffset()-_.getTimezoneOffset())*durationMinute$1)/durationDay$1,_=>_.getDate()-1);timeDay.range;const utcDay=timeInterval$1(_=>{_.setUTCHours(0,0,0,0)},(_,R)=>{_.setUTCDate(_.getUTCDate()+R)},(_,R)=>(R-_)/durationDay$1,_=>_.getUTCDate()-1);utcDay.range;const unixDay=timeInterval$1(_=>{_.setUTCHours(0,0,0,0)},(_,R)=>{_.setUTCDate(_.getUTCDate()+R)},(_,R)=>(R-_)/durationDay$1,_=>Math.floor(_/durationDay$1));unixDay.range;function timeWeekday(_){return timeInterval$1(R=>{R.setDate(R.getDate()-(R.getDay()+7-_)%7),R.setHours(0,0,0,0)},(R,P)=>{R.setDate(R.getDate()+P*7)},(R,P)=>(P-R-(P.getTimezoneOffset()-R.getTimezoneOffset())*durationMinute$1)/durationWeek$1)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(_){return timeInterval$1(R=>{R.setUTCDate(R.getUTCDate()-(R.getUTCDay()+7-_)%7),R.setUTCHours(0,0,0,0)},(R,P)=>{R.setUTCDate(R.getUTCDate()+P*7)},(R,P)=>(P-R)/durationWeek$1)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval$1(_=>{_.setDate(1),_.setHours(0,0,0,0)},(_,R)=>{_.setMonth(_.getMonth()+R)},(_,R)=>R.getMonth()-_.getMonth()+(R.getFullYear()-_.getFullYear())*12,_=>_.getMonth());timeMonth.range;const utcMonth=timeInterval$1(_=>{_.setUTCDate(1),_.setUTCHours(0,0,0,0)},(_,R)=>{_.setUTCMonth(_.getUTCMonth()+R)},(_,R)=>R.getUTCMonth()-_.getUTCMonth()+(R.getUTCFullYear()-_.getUTCFullYear())*12,_=>_.getUTCMonth());utcMonth.range;const timeYear=timeInterval$1(_=>{_.setMonth(0,1),_.setHours(0,0,0,0)},(_,R)=>{_.setFullYear(_.getFullYear()+R)},(_,R)=>R.getFullYear()-_.getFullYear(),_=>_.getFullYear());timeYear.every=_=>!isFinite(_=Math.floor(_))||!(_>0)?null:timeInterval$1(R=>{R.setFullYear(Math.floor(R.getFullYear()/_)*_),R.setMonth(0,1),R.setHours(0,0,0,0)},(R,P)=>{R.setFullYear(R.getFullYear()+P*_)});timeYear.range;const utcYear=timeInterval$1(_=>{_.setUTCMonth(0,1),_.setUTCHours(0,0,0,0)},(_,R)=>{_.setUTCFullYear(_.getUTCFullYear()+R)},(_,R)=>R.getUTCFullYear()-_.getUTCFullYear(),_=>_.getUTCFullYear());utcYear.every=_=>!isFinite(_=Math.floor(_))||!(_>0)?null:timeInterval$1(R=>{R.setUTCFullYear(Math.floor(R.getUTCFullYear()/_)*_),R.setUTCMonth(0,1),R.setUTCHours(0,0,0,0)},(R,P)=>{R.setUTCFullYear(R.getUTCFullYear()+P*_)});utcYear.range;function ticker(_,R,P,I,O,z){const L=[[second$1,1,durationSecond$1],[second$1,5,5*durationSecond$1],[second$1,15,15*durationSecond$1],[second$1,30,30*durationSecond$1],[z,1,durationMinute$1],[z,5,5*durationMinute$1],[z,15,15*durationMinute$1],[z,30,30*durationMinute$1],[O,1,durationHour$1],[O,3,3*durationHour$1],[O,6,6*durationHour$1],[O,12,12*durationHour$1],[I,1,durationDay$1],[I,2,2*durationDay$1],[P,1,durationWeek$1],[R,1,durationMonth$1],[R,3,3*durationMonth$1],[_,1,durationYear$1]];function F(V,q,W){const Y=q<V;Y&&([V,q]=[q,V]);const Q=W&&typeof W.range=="function"?W:U(V,q,W),ee=Q?Q.range(V,+q+1):[];return Y?ee.reverse():ee}function U(V,q,W){const Y=Math.abs(q-V)/W,Q=bisector(([,,ie])=>ie).right(L,Y);if(Q===L.length)return _.every(tickStep(V/durationYear$1,q/durationYear$1,W));if(Q===0)return millisecond.every(Math.max(tickStep(V,q,W),1));const[ee,te]=L[Y/L[Q-1][2]<L[Q][2]/Y?Q-1:Q];return ee.every(te)}return[F,U]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(_){if(0<=_.y&&_.y<100){var R=new Date(-1,_.m,_.d,_.H,_.M,_.S,_.L);return R.setFullYear(_.y),R}return new Date(_.y,_.m,_.d,_.H,_.M,_.S,_.L)}function utcDate(_){if(0<=_.y&&_.y<100){var R=new Date(Date.UTC(-1,_.m,_.d,_.H,_.M,_.S,_.L));return R.setUTCFullYear(_.y),R}return new Date(Date.UTC(_.y,_.m,_.d,_.H,_.M,_.S,_.L))}function newDate(_,R,P){return{y:_,m:R,d:P,H:0,M:0,S:0,L:0}}function formatLocale(_){var R=_.dateTime,P=_.date,I=_.time,O=_.periods,z=_.days,L=_.shortDays,F=_.months,U=_.shortMonths,V=formatRe(O),q=formatLookup(O),W=formatRe(z),Y=formatLookup(z),Q=formatRe(L),ee=formatLookup(L),te=formatRe(F),ie=formatLookup(F),ae=formatRe(U),se=formatLookup(U),le={a:Re,A:Pe,b:Me,B:Ae,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:we,q:ke,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},ce={a:Ee,A:ze,b:je,B:Ke,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:He,q:Ze,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},fe={a:be,A:xe,b:_e,B:Se,c:me,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:ge,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Ce,X:Te,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};le.x=de(P,le),le.X=de(I,le),le.c=de(R,le),ce.x=de(P,ce),ce.X=de(I,ce),ce.c=de(R,ce);function de(Le,Xe){return function(Ye){var Ve=[],dt=-1,ye=0,Ge=Le.length,Fe,Ie,Ne;for(Ye instanceof Date||(Ye=new Date(+Ye));++dt<Ge;)Le.charCodeAt(dt)===37&&(Ve.push(Le.slice(ye,dt)),(Ie=pads[Fe=Le.charAt(++dt)])!=null?Fe=Le.charAt(++dt):Ie=Fe==="e"?" ":"0",(Ne=Xe[Fe])&&(Fe=Ne(Ye,Ie)),Ve.push(Fe),ye=dt+1);return Ve.push(Le.slice(ye,dt)),Ve.join("")}}function he(Le,Xe){return function(Ye){var Ve=newDate(1900,void 0,1),dt=pe(Ve,Le,Ye+="",0),ye,Ge;if(dt!=Ye.length)return null;if("Q"in Ve)return new Date(Ve.Q);if("s"in Ve)return new Date(Ve.s*1e3+("L"in Ve?Ve.L:0));if(Xe&&!("Z"in Ve)&&(Ve.Z=0),"p"in Ve&&(Ve.H=Ve.H%12+Ve.p*12),Ve.m===void 0&&(Ve.m="q"in Ve?Ve.q:0),"V"in Ve){if(Ve.V<1||Ve.V>53)return null;"w"in Ve||(Ve.w=1),"Z"in Ve?(ye=utcDate(newDate(Ve.y,0,1)),Ge=ye.getUTCDay(),ye=Ge>4||Ge===0?utcMonday.ceil(ye):utcMonday(ye),ye=utcDay.offset(ye,(Ve.V-1)*7),Ve.y=ye.getUTCFullYear(),Ve.m=ye.getUTCMonth(),Ve.d=ye.getUTCDate()+(Ve.w+6)%7):(ye=localDate(newDate(Ve.y,0,1)),Ge=ye.getDay(),ye=Ge>4||Ge===0?timeMonday.ceil(ye):timeMonday(ye),ye=timeDay.offset(ye,(Ve.V-1)*7),Ve.y=ye.getFullYear(),Ve.m=ye.getMonth(),Ve.d=ye.getDate()+(Ve.w+6)%7)}else("W"in Ve||"U"in Ve)&&("w"in Ve||(Ve.w="u"in Ve?Ve.u%7:"W"in Ve?1:0),Ge="Z"in Ve?utcDate(newDate(Ve.y,0,1)).getUTCDay():localDate(newDate(Ve.y,0,1)).getDay(),Ve.m=0,Ve.d="W"in Ve?(Ve.w+6)%7+Ve.W*7-(Ge+5)%7:Ve.w+Ve.U*7-(Ge+6)%7);return"Z"in Ve?(Ve.H+=Ve.Z/100|0,Ve.M+=Ve.Z%100,utcDate(Ve)):localDate(Ve)}}function pe(Le,Xe,Ye,Ve){for(var dt=0,ye=Xe.length,Ge=Ye.length,Fe,Ie;dt<ye;){if(Ve>=Ge)return-1;if(Fe=Xe.charCodeAt(dt++),Fe===37){if(Fe=Xe.charAt(dt++),Ie=fe[Fe in pads?Xe.charAt(dt++):Fe],!Ie||(Ve=Ie(Le,Ye,Ve))<0)return-1}else if(Fe!=Ye.charCodeAt(Ve++))return-1}return Ve}function ge(Le,Xe,Ye){var Ve=V.exec(Xe.slice(Ye));return Ve?(Le.p=q.get(Ve[0].toLowerCase()),Ye+Ve[0].length):-1}function be(Le,Xe,Ye){var Ve=Q.exec(Xe.slice(Ye));return Ve?(Le.w=ee.get(Ve[0].toLowerCase()),Ye+Ve[0].length):-1}function xe(Le,Xe,Ye){var Ve=W.exec(Xe.slice(Ye));return Ve?(Le.w=Y.get(Ve[0].toLowerCase()),Ye+Ve[0].length):-1}function _e(Le,Xe,Ye){var Ve=ae.exec(Xe.slice(Ye));return Ve?(Le.m=se.get(Ve[0].toLowerCase()),Ye+Ve[0].length):-1}function Se(Le,Xe,Ye){var Ve=te.exec(Xe.slice(Ye));return Ve?(Le.m=ie.get(Ve[0].toLowerCase()),Ye+Ve[0].length):-1}function me(Le,Xe,Ye){return pe(Le,R,Xe,Ye)}function Ce(Le,Xe,Ye){return pe(Le,P,Xe,Ye)}function Te(Le,Xe,Ye){return pe(Le,I,Xe,Ye)}function Re(Le){return L[Le.getDay()]}function Pe(Le){return z[Le.getDay()]}function Me(Le){return U[Le.getMonth()]}function Ae(Le){return F[Le.getMonth()]}function we(Le){return O[+(Le.getHours()>=12)]}function ke(Le){return 1+~~(Le.getMonth()/3)}function Ee(Le){return L[Le.getUTCDay()]}function ze(Le){return z[Le.getUTCDay()]}function je(Le){return U[Le.getUTCMonth()]}function Ke(Le){return F[Le.getUTCMonth()]}function He(Le){return O[+(Le.getUTCHours()>=12)]}function Ze(Le){return 1+~~(Le.getUTCMonth()/3)}return{format:function(Le){var Xe=de(Le+="",le);return Xe.toString=function(){return Le},Xe},parse:function(Le){var Xe=he(Le+="",!1);return Xe.toString=function(){return Le},Xe},utcFormat:function(Le){var Xe=de(Le+="",ce);return Xe.toString=function(){return Le},Xe},utcParse:function(Le){var Xe=he(Le+="",!0);return Xe.toString=function(){return Le},Xe}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$2(_,R,P){var I=_<0?"-":"",O=(I?-_:_)+"",z=O.length;return I+(z<P?new Array(P-z+1).join(R)+O:O)}function requote(_){return _.replace(requoteRe,"\\$&")}function formatRe(_){return new RegExp("^(?:"+_.map(requote).join("|")+")","i")}function formatLookup(_){return new Map(_.map((R,P)=>[R.toLowerCase(),P]))}function parseWeekdayNumberSunday(_,R,P){var I=numberRe.exec(R.slice(P,P+1));return I?(_.w=+I[0],P+I[0].length):-1}function parseWeekdayNumberMonday(_,R,P){var I=numberRe.exec(R.slice(P,P+1));return I?(_.u=+I[0],P+I[0].length):-1}function parseWeekNumberSunday(_,R,P){var I=numberRe.exec(R.slice(P,P+2));return I?(_.U=+I[0],P+I[0].length):-1}function parseWeekNumberISO(_,R,P){var I=numberRe.exec(R.slice(P,P+2));return I?(_.V=+I[0],P+I[0].length):-1}function parseWeekNumberMonday(_,R,P){var I=numberRe.exec(R.slice(P,P+2));return I?(_.W=+I[0],P+I[0].length):-1}function parseFullYear(_,R,P){var I=numberRe.exec(R.slice(P,P+4));return I?(_.y=+I[0],P+I[0].length):-1}function parseYear(_,R,P){var I=numberRe.exec(R.slice(P,P+2));return I?(_.y=+I[0]+(+I[0]>68?1900:2e3),P+I[0].length):-1}function parseZone(_,R,P){var I=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(R.slice(P,P+6));return I?(_.Z=I[1]?0:-(I[2]+(I[3]||"00")),P+I[0].length):-1}function parseQuarter(_,R,P){var I=numberRe.exec(R.slice(P,P+1));return I?(_.q=I[0]*3-3,P+I[0].length):-1}function parseMonthNumber(_,R,P){var I=numberRe.exec(R.slice(P,P+2));return I?(_.m=I[0]-1,P+I[0].length):-1}function parseDayOfMonth(_,R,P){var I=numberRe.exec(R.slice(P,P+2));return I?(_.d=+I[0],P+I[0].length):-1}function parseDayOfYear(_,R,P){var I=numberRe.exec(R.slice(P,P+3));return I?(_.m=0,_.d=+I[0],P+I[0].length):-1}function parseHour24(_,R,P){var I=numberRe.exec(R.slice(P,P+2));return I?(_.H=+I[0],P+I[0].length):-1}function parseMinutes(_,R,P){var I=numberRe.exec(R.slice(P,P+2));return I?(_.M=+I[0],P+I[0].length):-1}function parseSeconds(_,R,P){var I=numberRe.exec(R.slice(P,P+2));return I?(_.S=+I[0],P+I[0].length):-1}function parseMilliseconds(_,R,P){var I=numberRe.exec(R.slice(P,P+3));return I?(_.L=+I[0],P+I[0].length):-1}function parseMicroseconds(_,R,P){var I=numberRe.exec(R.slice(P,P+6));return I?(_.L=Math.floor(I[0]/1e3),P+I[0].length):-1}function parseLiteralPercent(_,R,P){var I=percentRe.exec(R.slice(P,P+1));return I?P+I[0].length:-1}function parseUnixTimestamp(_,R,P){var I=numberRe.exec(R.slice(P));return I?(_.Q=+I[0],P+I[0].length):-1}function parseUnixTimestampSeconds(_,R,P){var I=numberRe.exec(R.slice(P));return I?(_.s=+I[0],P+I[0].length):-1}function formatDayOfMonth(_,R){return pad$2(_.getDate(),R,2)}function formatHour24(_,R){return pad$2(_.getHours(),R,2)}function formatHour12(_,R){return pad$2(_.getHours()%12||12,R,2)}function formatDayOfYear(_,R){return pad$2(1+timeDay.count(timeYear(_),_),R,3)}function formatMilliseconds(_,R){return pad$2(_.getMilliseconds(),R,3)}function formatMicroseconds(_,R){return formatMilliseconds(_,R)+"000"}function formatMonthNumber(_,R){return pad$2(_.getMonth()+1,R,2)}function formatMinutes(_,R){return pad$2(_.getMinutes(),R,2)}function formatSeconds(_,R){return pad$2(_.getSeconds(),R,2)}function formatWeekdayNumberMonday(_){var R=_.getDay();return R===0?7:R}function formatWeekNumberSunday(_,R){return pad$2(timeSunday.count(timeYear(_)-1,_),R,2)}function dISO(_){var R=_.getDay();return R>=4||R===0?timeThursday(_):timeThursday.ceil(_)}function formatWeekNumberISO(_,R){return _=dISO(_),pad$2(timeThursday.count(timeYear(_),_)+(timeYear(_).getDay()===4),R,2)}function formatWeekdayNumberSunday(_){return _.getDay()}function formatWeekNumberMonday(_,R){return pad$2(timeMonday.count(timeYear(_)-1,_),R,2)}function formatYear$1(_,R){return pad$2(_.getFullYear()%100,R,2)}function formatYearISO(_,R){return _=dISO(_),pad$2(_.getFullYear()%100,R,2)}function formatFullYear(_,R){return pad$2(_.getFullYear()%1e4,R,4)}function formatFullYearISO(_,R){var P=_.getDay();return _=P>=4||P===0?timeThursday(_):timeThursday.ceil(_),pad$2(_.getFullYear()%1e4,R,4)}function formatZone(_){var R=_.getTimezoneOffset();return(R>0?"-":(R*=-1,"+"))+pad$2(R/60|0,"0",2)+pad$2(R%60,"0",2)}function formatUTCDayOfMonth(_,R){return pad$2(_.getUTCDate(),R,2)}function formatUTCHour24(_,R){return pad$2(_.getUTCHours(),R,2)}function formatUTCHour12(_,R){return pad$2(_.getUTCHours()%12||12,R,2)}function formatUTCDayOfYear(_,R){return pad$2(1+utcDay.count(utcYear(_),_),R,3)}function formatUTCMilliseconds(_,R){return pad$2(_.getUTCMilliseconds(),R,3)}function formatUTCMicroseconds(_,R){return formatUTCMilliseconds(_,R)+"000"}function formatUTCMonthNumber(_,R){return pad$2(_.getUTCMonth()+1,R,2)}function formatUTCMinutes(_,R){return pad$2(_.getUTCMinutes(),R,2)}function formatUTCSeconds(_,R){return pad$2(_.getUTCSeconds(),R,2)}function formatUTCWeekdayNumberMonday(_){var R=_.getUTCDay();return R===0?7:R}function formatUTCWeekNumberSunday(_,R){return pad$2(utcSunday.count(utcYear(_)-1,_),R,2)}function UTCdISO(_){var R=_.getUTCDay();return R>=4||R===0?utcThursday(_):utcThursday.ceil(_)}function formatUTCWeekNumberISO(_,R){return _=UTCdISO(_),pad$2(utcThursday.count(utcYear(_),_)+(utcYear(_).getUTCDay()===4),R,2)}function formatUTCWeekdayNumberSunday(_){return _.getUTCDay()}function formatUTCWeekNumberMonday(_,R){return pad$2(utcMonday.count(utcYear(_)-1,_),R,2)}function formatUTCYear(_,R){return pad$2(_.getUTCFullYear()%100,R,2)}function formatUTCYearISO(_,R){return _=UTCdISO(_),pad$2(_.getUTCFullYear()%100,R,2)}function formatUTCFullYear(_,R){return pad$2(_.getUTCFullYear()%1e4,R,4)}function formatUTCFullYearISO(_,R){var P=_.getUTCDay();return _=P>=4||P===0?utcThursday(_):utcThursday.ceil(_),pad$2(_.getUTCFullYear()%1e4,R,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(_){return+_}function formatUnixTimestampSeconds(_){return Math.floor(+_/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(_){return locale=formatLocale(_),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(_){return new Date(_)}function number$2(_){return _ instanceof Date?+_:+new Date(+_)}function calendar(_,R,P,I,O,z,L,F,U,V){var q=continuous(),W=q.invert,Y=q.domain,Q=V(".%L"),ee=V(":%S"),te=V("%I:%M"),ie=V("%I %p"),ae=V("%a %d"),se=V("%b %d"),le=V("%B"),ce=V("%Y");function fe(de){return(U(de)<de?Q:F(de)<de?ee:L(de)<de?te:z(de)<de?ie:I(de)<de?O(de)<de?ae:se:P(de)<de?le:ce)(de)}return q.invert=function(de){return new Date(W(de))},q.domain=function(de){return arguments.length?Y(Array.from(de,number$2)):Y().map(date)},q.ticks=function(de){var he=Y();return _(he[0],he[he.length-1],de??10)},q.tickFormat=function(de,he){return he==null?fe:V(he)},q.nice=function(de){var he=Y();return(!de||typeof de.range!="function")&&(de=R(he[0],he[he.length-1],de??10)),de?Y(nice(he,de)):q},q.copy=function(){return copy$1(q,calendar(_,R,P,I,O,z,L,F,U,V))},q}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second$1,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second$1,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function copy(_,R){return R.domain(_.domain()).interpolator(_.interpolator()).clamp(_.clamp()).unknown(_.unknown())}function transformer(){var _=0,R=.5,P=1,I=1,O,z,L,F,U,V=identity$3,q,W=!1,Y;function Q(te){return isNaN(te=+te)?Y:(te=.5+((te=+q(te))-z)*(I*te<I*z?F:U),V(W?Math.max(0,Math.min(1,te)):te))}Q.domain=function(te){return arguments.length?([_,R,P]=te,O=q(_=+_),z=q(R=+R),L=q(P=+P),F=O===z?0:.5/(z-O),U=z===L?0:.5/(L-z),I=z<O?-1:1,Q):[_,R,P]},Q.clamp=function(te){return arguments.length?(W=!!te,Q):W},Q.interpolator=function(te){return arguments.length?(V=te,Q):V};function ee(te){return function(ie){var ae,se,le;return arguments.length?([ae,se,le]=ie,V=piecewise(te,[ae,se,le]),Q):[V(0),V(.5),V(1)]}}return Q.range=ee(interpolate$1),Q.rangeRound=ee(interpolateRound),Q.unknown=function(te){return arguments.length?(Y=te,Q):Y},function(te){return q=te,O=te(_),z=te(R),L=te(P),F=O===z?0:.5/(z-O),U=z===L?0:.5/(L-z),I=z<O?-1:1,Q}}function diverging(){var _=linearish(transformer()(identity$3));return _.copy=function(){return copy(_,diverging())},initInterpolator.apply(_,arguments)}function divergingLog(){var _=loggish(transformer()).domain([.1,1,10]);return _.copy=function(){return copy(_,divergingLog()).base(_.base())},initInterpolator.apply(_,arguments)}function divergingSymlog(){var _=symlogish(transformer());return _.copy=function(){return copy(_,divergingSymlog()).constant(_.constant())},initInterpolator.apply(_,arguments)}function divergingPow(){var _=powish(transformer());return _.copy=function(){return copy(_,divergingPow()).exponent(_.exponent())},initInterpolator.apply(_,arguments)}function colors(_){for(var R=_.length/6|0,P=new Array(R),I=0;I<R;)P[I]="#"+_.slice(I*6,++I*6);return P}const schemeCategory10=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),schemeAccent=colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),schemeDark2=colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),schemeObservable10=colors("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),schemePaired=colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),schemePastel1=colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),schemePastel2=colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),schemeSet1=colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),schemeSet2=colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),schemeSet3=colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),schemeTableau10=colors("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ramp$1=_=>rgbBasis(_[_.length-1]);var scheme$q=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors);const interpolateBrBG=ramp$1(scheme$q);var scheme$p=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors);const interpolatePRGn=ramp$1(scheme$p);var scheme$o=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors);const interpolatePiYG=ramp$1(scheme$o);var scheme$n=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors);const interpolatePuOr=ramp$1(scheme$n);var scheme$m=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors);const interpolateRdBu=ramp$1(scheme$m);var scheme$l=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors);const interpolateRdGy=ramp$1(scheme$l);var scheme$k=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors);const interpolateRdYlBu=ramp$1(scheme$k);var scheme$j=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors);const interpolateRdYlGn=ramp$1(scheme$j);var scheme$i=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors);const interpolateSpectral=ramp$1(scheme$i);var scheme$h=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors);const interpolateBuGn=ramp$1(scheme$h);var scheme$g=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors);const interpolateBuPu=ramp$1(scheme$g);var scheme$f=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors);const interpolateGnBu=ramp$1(scheme$f);var scheme$e=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors);const interpolateOrRd=ramp$1(scheme$e);var scheme$d=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors);const interpolatePuBuGn=ramp$1(scheme$d);var scheme$c=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors);const interpolatePuBu=ramp$1(scheme$c);var scheme$b=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors);const interpolatePuRd=ramp$1(scheme$b);var scheme$a=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors);const interpolateRdPu=ramp$1(scheme$a);var scheme$9=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors);const interpolateYlGnBu=ramp$1(scheme$9);var scheme$8=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors);const interpolateYlGn=ramp$1(scheme$8);var scheme$7=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors);const interpolateYlOrBr=ramp$1(scheme$7);var scheme$6=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors);const interpolateYlOrRd=ramp$1(scheme$6);var scheme$5=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors);const interpolateBlues=ramp$1(scheme$5);var scheme$4=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors);const interpolateGreens=ramp$1(scheme$4);var scheme$3=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors);const interpolateGreys=ramp$1(scheme$3);var scheme$2=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors);const interpolatePurples=ramp$1(scheme$2);var scheme$1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors);const interpolateReds=ramp$1(scheme$1);var scheme=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors);const interpolateOranges=ramp$1(scheme);function interpolateCividis(_){return _=Math.max(0,Math.min(1,_)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-_*(35.34-_*(2381.73-_*(6402.7-_*(7024.72-_*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+_*(170.73+_*(52.82-_*(131.46-_*(176.58-_*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+_*(442.36-_*(2482.43-_*(6167.24-_*(6614.94-_*2475.67)))))))+")"}const interpolateCubehelixDefault=cubehelixLong(cubehelix$1(300,.5,0),cubehelix$1(-240,.5,1));var warm=cubehelixLong(cubehelix$1(-100,.75,.35),cubehelix$1(80,1.5,.8)),cool=cubehelixLong(cubehelix$1(260,.75,.35),cubehelix$1(80,1.5,.8)),c$2=cubehelix$1();function interpolateRainbow(_){(_<0||_>1)&&(_-=Math.floor(_));var R=Math.abs(_-.5);return c$2.h=360*_-100,c$2.s=1.5-1.5*R,c$2.l=.8-.9*R,c$2+""}var c$1=rgb(),pi_1_3=Math.PI/3,pi_2_3=Math.PI*2/3;function interpolateSinebow(_){var R;return _=(.5-_)*Math.PI,c$1.r=255*(R=Math.sin(_))*R,c$1.g=255*(R=Math.sin(_+pi_1_3))*R,c$1.b=255*(R=Math.sin(_+pi_2_3))*R,c$1+""}function interpolateTurbo(_){return _=Math.max(0,Math.min(1,_)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+_*(1172.33-_*(10793.56-_*(33300.12-_*(38394.49-_*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+_*(557.33+_*(1225.33-_*(3574.96-_*(1073.77+_*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+_*(3211.1-_*(15327.97-_*(27814-_*(22569.18-_*6838.66)))))))+")"}function ramp(_){var R=_.length;return function(P){return _[Math.max(0,Math.min(R-1,Math.floor(P*R)))]}}const interpolateViridis=ramp(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var magma=ramp(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function constant$1(_){return function(){return _}}const cos=Math.cos,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi$1=Math.PI,tau$1=2*pi$1;function withPath(_){let R=3;return _.digits=function(P){if(!arguments.length)return R;if(P==null)R=null;else{const I=Math.floor(P);if(!(I>=0))throw new RangeError(`invalid digits: ${P}`);R=I}return _},()=>new Path(R)}function array(_){return typeof _=="object"&&"length"in _?_:Array.from(_)}function Linear(_){this._context=_}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2;default:this._context.lineTo(_,R);break}}};function curveLinear(_){return new Linear(_)}function x(_){return _[0]}function y(_){return _[1]}function shapeLine(_,R){var P=constant$1(!0),I=null,O=curveLinear,z=null,L=withPath(F);_=typeof _=="function"?_:_===void 0?x:constant$1(_),R=typeof R=="function"?R:R===void 0?y:constant$1(R);function F(U){var V,q=(U=array(U)).length,W,Y=!1,Q;for(I==null&&(z=O(Q=L())),V=0;V<=q;++V)!(V<q&&P(W=U[V],V,U))===Y&&((Y=!Y)?z.lineStart():z.lineEnd()),Y&&z.point(+_(W,V,U),+R(W,V,U));if(Q)return z=null,Q+""||null}return F.x=function(U){return arguments.length?(_=typeof U=="function"?U:constant$1(+U),F):_},F.y=function(U){return arguments.length?(R=typeof U=="function"?U:constant$1(+U),F):R},F.defined=function(U){return arguments.length?(P=typeof U=="function"?U:constant$1(!!U),F):P},F.curve=function(U){return arguments.length?(O=U,I!=null&&(z=O(I)),F):O},F.context=function(U){return arguments.length?(U==null?I=z=null:z=O(I=U),F):I},F}function shapeArea(_,R,P){var I=null,O=constant$1(!0),z=null,L=curveLinear,F=null,U=withPath(V);_=typeof _=="function"?_:_===void 0?x:constant$1(+_),R=typeof R=="function"?R:constant$1(R===void 0?0:+R),P=typeof P=="function"?P:P===void 0?y:constant$1(+P);function V(W){var Y,Q,ee,te=(W=array(W)).length,ie,ae=!1,se,le=new Array(te),ce=new Array(te);for(z==null&&(F=L(se=U())),Y=0;Y<=te;++Y){if(!(Y<te&&O(ie=W[Y],Y,W))===ae)if(ae=!ae)Q=Y,F.areaStart(),F.lineStart();else{for(F.lineEnd(),F.lineStart(),ee=Y-1;ee>=Q;--ee)F.point(le[ee],ce[ee]);F.lineEnd(),F.areaEnd()}ae&&(le[Y]=+_(ie,Y,W),ce[Y]=+R(ie,Y,W),F.point(I?+I(ie,Y,W):le[Y],P?+P(ie,Y,W):ce[Y]))}if(se)return F=null,se+""||null}function q(){return shapeLine().defined(O).curve(L).context(z)}return V.x=function(W){return arguments.length?(_=typeof W=="function"?W:constant$1(+W),I=null,V):_},V.x0=function(W){return arguments.length?(_=typeof W=="function"?W:constant$1(+W),V):_},V.x1=function(W){return arguments.length?(I=W==null?null:typeof W=="function"?W:constant$1(+W),V):I},V.y=function(W){return arguments.length?(R=typeof W=="function"?W:constant$1(+W),P=null,V):R},V.y0=function(W){return arguments.length?(R=typeof W=="function"?W:constant$1(+W),V):R},V.y1=function(W){return arguments.length?(P=W==null?null:typeof W=="function"?W:constant$1(+W),V):P},V.lineX0=V.lineY0=function(){return q().x(_).y(R)},V.lineY1=function(){return q().x(_).y(P)},V.lineX1=function(){return q().x(I).y(R)},V.defined=function(W){return arguments.length?(O=typeof W=="function"?W:constant$1(!!W),V):O},V.curve=function(W){return arguments.length?(L=W,z!=null&&(F=L(z)),V):L},V.context=function(W){return arguments.length?(W==null?z=F=null:F=L(z=W),V):z},V}class Bump{constructor(R,P){this._context=R,this._x=P}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(R,P){switch(R=+R,P=+P,this._point){case 0:{this._point=1,this._line?this._context.lineTo(R,P):this._context.moveTo(R,P);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+R)/2,this._y0,this._x0,P,R,P):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+P)/2,R,this._y0,R,P);break}}this._x0=R,this._y0=P}}function bumpX(_){return new Bump(_,!0)}function bumpY(_){return new Bump(_,!1)}const sqrt3$3=sqrt(3),symbolAsterisk={draw(_,R){const P=sqrt(R+min(R/28,.75))*.59436,I=P/2,O=I*sqrt3$3;_.moveTo(0,P),_.lineTo(0,-P),_.moveTo(-O,-I),_.lineTo(O,I),_.moveTo(-O,I),_.lineTo(O,-I)}},symbolCircle={draw(_,R){const P=sqrt(R/pi$1);_.moveTo(P,0),_.arc(0,0,P,0,tau$1)}},symbolCross={draw(_,R){const P=sqrt(R/5)/2;_.moveTo(-3*P,-P),_.lineTo(-P,-P),_.lineTo(-P,-3*P),_.lineTo(P,-3*P),_.lineTo(P,-P),_.lineTo(3*P,-P),_.lineTo(3*P,P),_.lineTo(P,P),_.lineTo(P,3*P),_.lineTo(-P,3*P),_.lineTo(-P,P),_.lineTo(-3*P,P),_.closePath()}},tan30=sqrt(1/3),tan30_2=tan30*2,symbolDiamond={draw(_,R){const P=sqrt(R/tan30_2),I=P*tan30;_.moveTo(0,-P),_.lineTo(I,0),_.lineTo(0,P),_.lineTo(-I,0),_.closePath()}},symbolDiamond2={draw(_,R){const P=sqrt(R)*.62625;_.moveTo(0,-P),_.lineTo(P,0),_.lineTo(0,P),_.lineTo(-P,0),_.closePath()}},symbolPlus={draw(_,R){const P=sqrt(R-min(R/7,2))*.87559;_.moveTo(-P,0),_.lineTo(P,0),_.moveTo(0,P),_.lineTo(0,-P)}},symbolSquare={draw(_,R){const P=sqrt(R),I=-P/2;_.rect(I,I,P,P)}},symbolSquare2={draw(_,R){const P=sqrt(R)*.4431;_.moveTo(P,P),_.lineTo(P,-P),_.lineTo(-P,-P),_.lineTo(-P,P),_.closePath()}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(_,R){const P=sqrt(R*ka),I=kx*P,O=ky*P;_.moveTo(0,-P),_.lineTo(I,O);for(let z=1;z<5;++z){const L=tau$1*z/5,F=cos(L),U=sin(L);_.lineTo(U*P,-F*P),_.lineTo(F*I-U*O,U*I+F*O)}_.closePath()}},sqrt3$2=sqrt(3),symbolTriangle={draw(_,R){const P=-sqrt(R/(sqrt3$2*3));_.moveTo(0,P*2),_.lineTo(-sqrt3$2*P,-P),_.lineTo(sqrt3$2*P,-P),_.closePath()}},sqrt3$1=sqrt(3),symbolTriangle2={draw(_,R){const P=sqrt(R)*.6824,I=P/2,O=P*sqrt3$1/2;_.moveTo(0,-P),_.lineTo(O,I),_.lineTo(-O,I),_.closePath()}},c=-.5,s$1=sqrt(3)/2,k=1/sqrt(12),a=(k/2+1)*3,symbolWye={draw(_,R){const P=sqrt(R/a),I=P/2,O=P*k,z=I,L=P*k+P,F=-z,U=L;_.moveTo(I,O),_.lineTo(z,L),_.lineTo(F,U),_.lineTo(c*I-s$1*O,s$1*I+c*O),_.lineTo(c*z-s$1*L,s$1*z+c*L),_.lineTo(c*F-s$1*U,s$1*F+c*U),_.lineTo(c*I+s$1*O,c*O-s$1*I),_.lineTo(c*z+s$1*L,c*L-s$1*z),_.lineTo(c*F+s$1*U,c*U-s$1*F),_.closePath()}},symbolTimes={draw(_,R){const P=sqrt(R-min(R/6,1.7))*.6189;_.moveTo(-P,-P),_.lineTo(P,P),_.moveTo(-P,P),_.lineTo(P,-P)}},symbolsFill=[symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye],symbolsStroke=[symbolCircle,symbolPlus,symbolTimes,symbolTriangle2,symbolAsterisk,symbolSquare2,symbolDiamond2];function noop(){}function point$6(_,R,P){_._context.bezierCurveTo((2*_._x0+_._x1)/3,(2*_._y0+_._y1)/3,(_._x0+2*_._x1)/3,(_._y0+2*_._y1)/3,(_._x0+4*_._x1+R)/6,(_._y0+4*_._y1+P)/6)}function Basis(_){this._context=_}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$6(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$6(this,_,R);break}this._x0=this._x1,this._x1=_,this._y0=this._y1,this._y1=R}};function curveBasis(_){return new Basis(_)}function BasisClosed(_){this._context=_}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._x2=_,this._y2=R;break;case 1:this._point=2,this._x3=_,this._y3=R;break;case 2:this._point=3,this._x4=_,this._y4=R,this._context.moveTo((this._x0+4*this._x1+_)/6,(this._y0+4*this._y1+R)/6);break;default:point$6(this,_,R);break}this._x0=this._x1,this._x1=_,this._y0=this._y1,this._y1=R}};function curveBasisClosed(_){return new BasisClosed(_)}function BasisOpen(_){this._context=_}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var P=(this._x0+4*this._x1+_)/6,I=(this._y0+4*this._y1+R)/6;this._line?this._context.lineTo(P,I):this._context.moveTo(P,I);break;case 3:this._point=4;default:point$6(this,_,R);break}this._x0=this._x1,this._x1=_,this._y0=this._y1,this._y1=R}};function curveBasisOpen(_){return new BasisOpen(_)}function Bundle(_,R){this._basis=new Basis(_),this._beta=R}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var _=this._x,R=this._y,P=_.length-1;if(P>0)for(var I=_[0],O=R[0],z=_[P]-I,L=R[P]-O,F=-1,U;++F<=P;)U=F/P,this._basis.point(this._beta*_[F]+(1-this._beta)*(I+U*z),this._beta*R[F]+(1-this._beta)*(O+U*L));this._x=this._y=null,this._basis.lineEnd()},point:function(_,R){this._x.push(+_),this._y.push(+R)}};const curveBundle=(function _(R){function P(I){return R===1?new Basis(I):new Bundle(I,R)}return P.beta=function(I){return _(+I)},P})(.85);function point$5(_,R,P){_._context.bezierCurveTo(_._x1+_._k*(_._x2-_._x0),_._y1+_._k*(_._y2-_._y0),_._x2+_._k*(_._x1-R),_._y2+_._k*(_._y1-P),_._x2,_._y2)}function Cardinal(_,R){this._context=_,this._k=(1-R)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$5(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2,this._x1=_,this._y1=R;break;case 2:this._point=3;default:point$5(this,_,R);break}this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCardinal=(function _(R){function P(I){return new Cardinal(I,R)}return P.tension=function(I){return _(+I)},P})(0);function CardinalClosed(_,R){this._context=_,this._k=(1-R)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._x3=_,this._y3=R;break;case 1:this._point=2,this._context.moveTo(this._x4=_,this._y4=R);break;case 2:this._point=3,this._x5=_,this._y5=R;break;default:point$5(this,_,R);break}this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCardinalClosed=(function _(R){function P(I){return new CardinalClosed(I,R)}return P.tension=function(I){return _(+I)},P})(0);function CardinalOpen(_,R){this._context=_,this._k=(1-R)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$5(this,_,R);break}this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCardinalOpen=(function _(R){function P(I){return new CardinalOpen(I,R)}return P.tension=function(I){return _(+I)},P})(0);function point$4(_,R,P){var I=_._x1,O=_._y1,z=_._x2,L=_._y2;if(_._l01_a>epsilon){var F=2*_._l01_2a+3*_._l01_a*_._l12_a+_._l12_2a,U=3*_._l01_a*(_._l01_a+_._l12_a);I=(I*F-_._x0*_._l12_2a+_._x2*_._l01_2a)/U,O=(O*F-_._y0*_._l12_2a+_._y2*_._l01_2a)/U}if(_._l23_a>epsilon){var V=2*_._l23_2a+3*_._l23_a*_._l12_a+_._l12_2a,q=3*_._l23_a*(_._l23_a+_._l12_a);z=(z*V+_._x1*_._l23_2a-R*_._l12_2a)/q,L=(L*V+_._y1*_._l23_2a-P*_._l12_2a)/q}_._context.bezierCurveTo(I,O,z,L,_._x2,_._y2)}function CatmullRom(_,R){this._context=_,this._alpha=R}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){if(_=+_,R=+R,this._point){var P=this._x2-_,I=this._y2-R;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(P*P+I*I,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2;break;case 2:this._point=3;default:point$4(this,_,R);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCatmullRom=(function _(R){function P(I){return R?new CatmullRom(I,R):new Cardinal(I,0)}return P.alpha=function(I){return _(+I)},P})(.5);function CatmullRomClosed(_,R){this._context=_,this._alpha=R}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(_,R){if(_=+_,R=+R,this._point){var P=this._x2-_,I=this._y2-R;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(P*P+I*I,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=_,this._y3=R;break;case 1:this._point=2,this._context.moveTo(this._x4=_,this._y4=R);break;case 2:this._point=3,this._x5=_,this._y5=R;break;default:point$4(this,_,R);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCatmullRomClosed=(function _(R){function P(I){return R?new CatmullRomClosed(I,R):new CardinalClosed(I,0)}return P.alpha=function(I){return _(+I)},P})(.5);function CatmullRomOpen(_,R){this._context=_,this._alpha=R}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){if(_=+_,R=+R,this._point){var P=this._x2-_,I=this._y2-R;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(P*P+I*I,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$4(this,_,R);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCatmullRomOpen=(function _(R){function P(I){return R?new CatmullRomOpen(I,R):new CardinalOpen(I,0)}return P.alpha=function(I){return _(+I)},P})(.5);function LinearClosed(_){this._context=_}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(_,R){_=+_,R=+R,this._point?this._context.lineTo(_,R):(this._point=1,this._context.moveTo(_,R))}};function curveLinearClosed(_){return new LinearClosed(_)}function sign(_){return _<0?-1:1}function slope3(_,R,P){var I=_._x1-_._x0,O=R-_._x1,z=(_._y1-_._y0)/(I||O<0&&-0),L=(P-_._y1)/(O||I<0&&-0),F=(z*O+L*I)/(I+O);return(sign(z)+sign(L))*Math.min(Math.abs(z),Math.abs(L),.5*Math.abs(F))||0}function slope2(_,R){var P=_._x1-_._x0;return P?(3*(_._y1-_._y0)/P-R)/2:R}function point$3(_,R,P){var I=_._x0,O=_._y0,z=_._x1,L=_._y1,F=(z-I)/3;_._context.bezierCurveTo(I+F,O+F*R,z-F,L-F*P,z,L)}function MonotoneX(_){this._context=_}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$3(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){var P=NaN;if(_=+_,R=+R,!(_===this._x1&&R===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2;break;case 2:this._point=3,point$3(this,slope2(this,P=slope3(this,_,R)),P);break;default:point$3(this,this._t0,P=slope3(this,_,R));break}this._x0=this._x1,this._x1=_,this._y0=this._y1,this._y1=R,this._t0=P}}};function MonotoneY(_){this._context=new ReflectContext(_)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(_,R){MonotoneX.prototype.point.call(this,R,_)};function ReflectContext(_){this._context=_}ReflectContext.prototype={moveTo:function(_,R){this._context.moveTo(R,_)},closePath:function(){this._context.closePath()},lineTo:function(_,R){this._context.lineTo(R,_)},bezierCurveTo:function(_,R,P,I,O,z){this._context.bezierCurveTo(R,_,I,P,z,O)}};function monotoneX(_){return new MonotoneX(_)}function monotoneY(_){return new MonotoneY(_)}function Natural(_){this._context=_}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var _=this._x,R=this._y,P=_.length;if(P)if(this._line?this._context.lineTo(_[0],R[0]):this._context.moveTo(_[0],R[0]),P===2)this._context.lineTo(_[1],R[1]);else for(var I=controlPoints(_),O=controlPoints(R),z=0,L=1;L<P;++z,++L)this._context.bezierCurveTo(I[0][z],O[0][z],I[1][z],O[1][z],_[L],R[L]);(this._line||this._line!==0&&P===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(_,R){this._x.push(+_),this._y.push(+R)}};function controlPoints(_){var R,P=_.length-1,I,O=new Array(P),z=new Array(P),L=new Array(P);for(O[0]=0,z[0]=2,L[0]=_[0]+2*_[1],R=1;R<P-1;++R)O[R]=1,z[R]=4,L[R]=4*_[R]+2*_[R+1];for(O[P-1]=2,z[P-1]=7,L[P-1]=8*_[P-1]+_[P],R=1;R<P;++R)I=O[R]/z[R-1],z[R]-=I,L[R]-=I*L[R-1];for(O[P-1]=L[P-1]/z[P-1],R=P-2;R>=0;--R)O[R]=(L[R]-O[R+1])/z[R];for(z[P-1]=(_[P]+O[P-1])/2,R=0;R<P-1;++R)z[R]=2*_[R+1]-O[R+1];return[O,z]}function curveNatural(_){return new Natural(_)}function Step(_,R){this._context=_,this._t=R}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,R),this._context.lineTo(_,R);else{var P=this._x*(1-this._t)+_*this._t;this._context.lineTo(P,this._y),this._context.lineTo(P,R)}break}}this._x=_,this._y=R}};function curveStep(_){return new Step(_,.5)}function stepBefore(_){return new Step(_,0)}function stepAfter(_){return new Step(_,1)}function Transform(_,R,P){this.k=_,this.x=R,this.y=P}Transform.prototype={constructor:Transform,scale:function(_){return _===1?this:new Transform(this.k*_,this.x,this.y)},translate:function(_,R){return _===0&R===0?this:new Transform(this.k,this.x+this.k*_,this.y+this.k*R)},apply:function(_){return[_[0]*this.k+this.x,_[1]*this.k+this.y]},applyX:function(_){return _*this.k+this.x},applyY:function(_){return _*this.k+this.y},invert:function(_){return[(_[0]-this.x)/this.k,(_[1]-this.y)/this.k]},invertX:function(_){return(_-this.x)/this.k},invertY:function(_){return(_-this.y)/this.k},rescaleX:function(_){return _.copy().domain(_.range().map(this.invertX,this).map(_.invert,_))},rescaleY:function(_){return _.copy().domain(_.range().map(this.invertY,this).map(_.invert,_))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;function defined(_){return _!=null&&!Number.isNaN(_)}function ascendingDefined(_,R){return+defined(R)-+defined(_)||ascending$1(_,R)}function descendingDefined(_,R){return+defined(R)-+defined(_)||descending(_,R)}function nonempty(_){return _!=null&&`${_}`!=""}function finite(_){return isFinite(_)?_:NaN}function positive(_){return _>0&&isFinite(_)?_:NaN}function negative(_){return _<0&&isFinite(_)?_:NaN}function format(_,R){if(_ instanceof Date||(_=new Date(+_)),isNaN(_))return typeof R=="function"?R(_):R;const P=_.getUTCHours(),I=_.getUTCMinutes(),O=_.getUTCSeconds(),z=_.getUTCMilliseconds();return`${formatYear(_.getUTCFullYear())}-${pad$1(_.getUTCMonth()+1,2)}-${pad$1(_.getUTCDate(),2)}${P||I||O||z?`T${pad$1(P,2)}:${pad$1(I,2)}${O||z?`:${pad$1(O,2)}${z?`.${pad$1(z,3)}`:""}`:""}Z`:""}`}function formatYear(_){return _<0?`-${pad$1(-_,6)}`:_>9999?`+${pad$1(_,6)}`:pad$1(_,4)}function pad$1(_,R){return`${_}`.padStart(R,"0")}const re$1=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function parse$3(_,R){return re$1.test(_+="")?new Date(_):typeof R=="function"?R(_):R}function orderof(_){if(_==null)return;const R=_[0],P=_[_.length-1];return descending(R,P)}const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,tickIntervals=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",durationSecond],["5 seconds",5*durationSecond],["15 seconds",15*durationSecond],["30 seconds",30*durationSecond],["minute",durationMinute],["5 minutes",5*durationMinute],["15 minutes",15*durationMinute],["30 minutes",30*durationMinute],["hour",durationHour],["3 hours",3*durationHour],["6 hours",6*durationHour],["12 hours",12*durationHour],["day",durationDay],["2 days",2*durationDay],["week",durationWeek],["2 weeks",2*durationWeek],["month",durationMonth],["3 months",3*durationMonth],["6 months",6*durationMonth],["year",durationYear],["2 years",2*durationYear],["5 years",5*durationYear],["10 years",10*durationYear],["20 years",20*durationYear],["50 years",50*durationYear],["100 years",100*durationYear]],durations=new Map([["second",durationSecond],["minute",durationMinute],["hour",durationHour],["day",durationDay],["monday",durationWeek],["tuesday",durationWeek],["wednesday",durationWeek],["thursday",durationWeek],["friday",durationWeek],["saturday",durationWeek],["sunday",durationWeek],["week",durationWeek],["month",durationMonth],["year",durationYear]]),timeIntervals=new Map([["second",second$1],["minute",timeMinute],["hour",timeHour],["day",timeDay],["monday",timeMonday],["tuesday",timeTuesday],["wednesday",timeWednesday],["thursday",timeThursday],["friday",timeFriday],["saturday",timeSaturday],["sunday",timeSunday],["week",timeSunday],["month",timeMonth],["year",timeYear]]),utcIntervals=new Map([["second",second$1],["minute",utcMinute],["hour",utcHour],["day",unixDay],["monday",utcMonday],["tuesday",utcTuesday],["wednesday",utcWednesday],["thursday",utcThursday],["friday",utcFriday],["saturday",utcSaturday],["sunday",utcSunday],["week",utcSunday],["month",utcMonth],["year",utcYear]]),intervalDuration=Symbol("intervalDuration"),intervalType=Symbol("intervalType");for(const[_,R]of timeIntervals)R[intervalDuration]=durations.get(_),R[intervalType]="time";for(const[_,R]of utcIntervals)R[intervalDuration]=durations.get(_),R[intervalType]="utc";const utcFormatIntervals=[["year",utcYear,"utc"],["month",utcMonth,"utc"],["day",unixDay,"utc",6*durationMonth],["hour",utcHour,"utc",3*durationDay],["minute",utcMinute,"utc",6*durationHour],["second",second$1,"utc",30*durationMinute]],timeFormatIntervals=[["year",timeYear,"time"],["month",timeMonth,"time"],["day",timeDay,"time",6*durationMonth],["hour",timeHour,"time",3*durationDay],["minute",timeMinute,"time",6*durationHour],["second",second$1,"time",30*durationMinute]],formatIntervals=[utcFormatIntervals[0],timeFormatIntervals[0],utcFormatIntervals[1],timeFormatIntervals[1],utcFormatIntervals[2],timeFormatIntervals[2],...utcFormatIntervals.slice(3)];function parseTimeInterval(_){let R=`${_}`.toLowerCase();R.endsWith("s")&&(R=R.slice(0,-1));let P=1;const I=/^(?:(\d+)\s+)/.exec(R);switch(I&&(R=R.slice(I[0].length),P=+I[1]),R){case"quarter":R="month",P*=3;break;case"half":R="month",P*=6;break}let O=utcIntervals.get(R);if(!O)throw new Error(`unknown interval: ${_}`);if(P>1&&!O.every)throw new Error(`non-periodic interval: ${R}`);return[R,P]}function timeInterval(_){return asInterval(parseTimeInterval(_),"time")}function utcInterval(_){return asInterval(parseTimeInterval(_),"utc")}function asInterval([_,R],P){let I=(P==="time"?timeIntervals:utcIntervals).get(_);return R>1&&(I=I.every(R),I[intervalDuration]=durations.get(_)*R,I[intervalType]=P),I}function generalizeTimeInterval(_,R){if(!(R>1))return;const P=_[intervalDuration];if(!tickIntervals.some(([,O])=>O===P)||P%durationDay===0&&durationDay<P&&P<durationMonth)return;const[I]=tickIntervals[bisector(([,O])=>Math.log(O)).center(tickIntervals,Math.log(P*R))];return(_[intervalType]==="time"?timeInterval:utcInterval)(I)}function formatTimeInterval(_,R,P){const I=R==="time"?timeFormat:utcFormat;if(P==null)return I(_==="year"?"%Y":_==="month"?"%Y-%m":_==="day"?"%Y-%m-%d":_==="hour"||_==="minute"?"%Y-%m-%dT%H:%M":_==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const O=getTimeTemplate(P);switch(_){case"millisecond":return formatConditional(I(".%L"),I(":%M:%S"),O);case"second":return formatConditional(I(":%S"),I("%-I:%M"),O);case"minute":return formatConditional(I("%-I:%M"),I("%p"),O);case"hour":return formatConditional(I("%-I %p"),I("%b %-d"),O);case"day":return formatConditional(I("%-d"),I("%b"),O);case"month":return formatConditional(I("%b"),I("%Y"),O);case"year":return I("%Y")}throw new Error("unable to format time ticks")}function getTimeTemplate(_){return _==="left"||_==="right"?(R,P)=>`
${R}
${P}`:_==="top"?(R,P)=>`${P}
${R}`:(R,P)=>`${R}
${P}`}function getFormatIntervals(_){return _==="time"?timeFormatIntervals:_==="utc"?utcFormatIntervals:formatIntervals}function inferTimeFormat(_,R,P){const I=max(pairs(R,(O,z)=>Math.abs(z-O)));if(I<1e3)return formatTimeInterval("millisecond","utc",P);for(const[O,z,L,F]of getFormatIntervals(_)){if(I>F||O==="hour"&&!I)break;if(R.every(U=>z.floor(U)>=U))return formatTimeInterval(O,L,P)}}function formatConditional(_,R,P){return(I,O,z)=>{const L=_(I,O),F=R(I,O),U=O-orderof(z);return O!==U&&z[U]!==void 0&&F===R(z[U],U)?L:P(L,F)}}const TypedArray=Object.getPrototypeOf(Uint8Array),objectToString=Object.prototype.toString;function isArray(_){return _ instanceof Array||_ instanceof TypedArray}function isNumberArray(_){return _ instanceof TypedArray&&!isBigIntArray(_)}function isNumberType(_){return _?.prototype instanceof TypedArray&&!isBigIntType(_)}function isBigIntArray(_){return _ instanceof BigInt64Array||_ instanceof BigUint64Array}function isBigIntType(_){return _===BigInt64Array||_===BigUint64Array}const reindex=Symbol("reindex");function valueof(_,R,P){const I=typeof R;return I==="string"?isArrowTable(_)?maybeTypedArrowify(_.getChild(R),P):maybeTypedMap(_,field(R),P):I==="function"?maybeTypedMap(_,R,P):I==="number"||R instanceof Date||I==="boolean"?map(_,constant(R),P):typeof R?.transform=="function"?maybeTypedArrayify(R.transform(_),P):maybeTake(maybeTypedArrayify(R,P),_?.[reindex])}function maybeTake(_,R){return _!=null&&R?take(_,R):_}function maybeTypedMap(_,R,P){return map(_,isNumberType(P)?(I,O)=>coerceNumber(R(I,O)):R,P)}function maybeTypedArrayify(_,R){return R===void 0?arrayify(_):isArrowVector(_)?maybeTypedArrowify(_,R):_ instanceof R?_:R.from(_,isNumberType(R)&&!isNumberArray(_)?coerceNumber:void 0)}function maybeTypedArrowify(_,R){return _==null?_:(R===void 0||R===Array)&&isArrowDateType(_.type)?coerceDates(vectorToArray(_)):maybeTypedArrayify(vectorToArray(_),R)}function vectorToArray(_){return _.nullCount?_.toJSON():_.toArray()}const singleton=[null],field=_=>R=>{const P=R[_];return P===void 0&&R.type==="Feature"?R.properties?.[_]:P},indexOf={transform:range},identity$1={transform:_=>_},one$3=()=>1,yes=()=>!0,string$2=_=>_==null?_:`${_}`,number$1=_=>_==null?_:+_,first=_=>_?_[0]:void 0,second=_=>_?_[1]:void 0,constant=_=>()=>_;function percentile(_){const R=+`${_}`.slice(1)/100;return(P,I)=>quantile$1(P,R,I)}function coerceNumbers(_){return isNumberArray(_)?_:map(_,coerceNumber,Float64Array)}function coerceNumber(_){return _==null?NaN:Number(_)}function coerceDates(_){return map(_,coerceDate)}function coerceDate(_){return _ instanceof Date&&!isNaN(_)?_:typeof _=="string"?parse$3(_):_==null||isNaN(_=Number(_))?void 0:new Date(_)}function maybeColorChannel(_,R){return _===void 0&&(_=R),_===null?[void 0,"none"]:isColor(_)?[void 0,_]:[_,void 0]}function maybeNumberChannel(_,R){return _===void 0&&(_=R),_===null||typeof _=="number"?[void 0,_]:[_,void 0]}function maybeKeyword(_,R,P){if(_!=null)return keyword(_,R,P)}function keyword(_,R,P){const I=`${_}`.toLowerCase();if(!P.includes(I))throw new Error(`invalid ${R}: ${_}`);return I}function dataify(_){return isArrowTable(_)?_:arrayify(_)}function arrayify(_){if(_==null||isArray(_))return _;if(isArrowVector(_))return maybeTypedArrowify(_);if(isGeoJSON(_))switch(_.type){case"FeatureCollection":return _.features;case"GeometryCollection":return _.geometries;default:return[_]}return Array.from(_)}function isGeoJSON(_){switch(_?.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function map(_,R,P=Array){return _==null?_:_ instanceof P?_.map(R):P.from(_,R)}function slice(_,R=Array){return _ instanceof R?_.slice():R.from(_)}function hasX({x:_,x1:R,x2:P}){return _!==void 0||R!==void 0||P!==void 0}function hasY({y:_,y1:R,y2:P}){return _!==void 0||R!==void 0||P!==void 0}function hasXY(_){return hasX(_)||hasY(_)||_.interval!==void 0}function isObject(_){return _?.toString===objectToString}function isScaleOptions(_){return isObject(_)&&(_.type!==void 0||_.domain!==void 0)}function isOptions(_){return isObject(_)&&typeof _.transform!="function"}function isDomainSort(_){return isOptions(_)&&_.value===void 0&&_.channel===void 0}function maybeZero(_,R,P,I=identity$1){return R===void 0&&P===void 0?(R=0,P=_===void 0?I:_):R===void 0?R=_===void 0?0:_:P===void 0&&(P=_===void 0?0:_),[R,P]}function maybeTuple(_,R){return _===void 0&&R===void 0?[first,second]:[_,R]}function maybeZ({z:_,fill:R,stroke:P}={}){return _===void 0&&([_]=maybeColorChannel(R)),_===void 0&&([_]=maybeColorChannel(P)),_}function lengthof(_){return isArray(_)?_.length:_?.numRows}function range(_){const R=lengthof(_),P=new Uint32Array(R);for(let I=0;I<R;++I)P[I]=I;return P}function take(_,R){return isArray(_)?map(R,P=>_[P],_.constructor):map(R,P=>_.at(P))}function subarray(_,R,P){return _.subarray?_.subarray(R,P):_.slice(R,P)}function keyof(_){return _!==null&&typeof _=="object"?_.valueOf():_}function maybeInput(_,R){if(R[_]!==void 0)return R[_];switch(_){case"x1":case"x2":_="x";break;case"y1":case"y2":_="y";break}return R[_]}function column(_){let R;return[{transform:()=>R,label:labelof(_)},P=>R=P]}function maybeColumn(_){return _==null?[_]:column(_)}function labelof(_,R){return typeof _=="string"?_:_&&_.label!==void 0?_.label:R}function mid(_,R){return{transform(P){const I=_.transform(P),O=R.transform(P);return isTemporal(I)||isTemporal(O)?map(I,(z,L)=>new Date((+I[L]+ +O[L])/2)):map(I,(z,L)=>(+I[L]+ +O[L])/2,Float64Array)},label:_.label}}function maybeApplyInterval(_,R){const P=maybeIntervalTransform(R?.interval,R?.type);return P?map(_,P):_}function maybeIntervalTransform(_,R){const P=maybeInterval(_,R);return P&&(I=>defined(I)?P.floor(I):I)}function maybeInterval(_,R){if(_!=null){if(typeof _=="number")return numberInterval(_);if(typeof _=="string")return(R==="time"?timeInterval:utcInterval)(_);if(typeof _.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof _.offset!="function")throw new Error("invalid interval; missing offset method");return _}}function numberInterval(_){_=+_,0<_&&_<1&&Number.isInteger(1/_)&&(_=-1/_);const R=Math.abs(_);return _<0?{floor:P=>Math.floor(P*R)/R,offset:(P,I=1)=>(P*R+Math.floor(I))/R,range:(P,I)=>range$1(Math.ceil(P*R),I*R).map(O=>O/R)}:{floor:P=>Math.floor(P/R)*R,offset:(P,I=1)=>P+R*Math.floor(I),range:(P,I)=>range$1(Math.ceil(P/R),I/R).map(O=>O*R)}}function maybeRangeInterval(_,R){if(_=maybeInterval(_,R),_&&typeof _.range!="function")throw new Error("invalid interval: missing range method");return _}function maybeNiceInterval(_,R){if(_=maybeRangeInterval(_,R),_&&typeof _.ceil!="function")throw new Error("invalid interval: missing ceil method");return _}function isTimeInterval(_){return isInterval(_)&&typeof _?.floor=="function"&&_.floor()instanceof Date}function isInterval(_){return typeof _?.range=="function"}function maybeValue(_){return _===void 0||isOptions(_)?_:{value:_}}function numberChannel(_){return _==null?null:{transform:R=>valueof(R,_,Float64Array),label:labelof(_)}}function isIterable(_){return _&&typeof _[Symbol.iterator]=="function"}function isTextual(_){for(const R of _)if(R!=null)return typeof R!="object"||R instanceof Date}function isOrdinal(_){for(const R of _){if(R==null)continue;const P=typeof R;return P==="string"||P==="boolean"}}function isTemporal(_){for(const R of _)if(R!=null)return R instanceof Date}function isTemporalString(_){for(const R of _)if(R!=null)return typeof R=="string"&&isNaN(R)&&parse$3(R)}function isNumericString(_){for(const R of _)if(R!=null){if(typeof R!="string")return!1;if(R.trim())return!isNaN(R)}}function isNumeric(_){for(const R of _)if(R!=null)return typeof R=="number"}function isEvery(_,R){let P;for(const I of _)if(I!=null){if(!R(I))return!1;P=!0}return P}const namedColors=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function isColor(_){return typeof _!="string"?!1:(_=_.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(_)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(_)||namedColors.has(_))}function isOpacity(_){return typeof _=="number"&&(0<=_&&_<=1||isNaN(_))}function isNoneish(_){return _==null||isNone(_)}function isNone(_){return/^\s*none\s*$/i.test(_)}function isRound(_){return/^\s*round\s*$/i.test(_)}function maybeAnchor$1(_,R){return maybeKeyword(_,R,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function maybeFrameAnchor(_="middle"){return maybeAnchor$1(_,"frameAnchor")}function inherit(_={},...R){let P=_;for(const I of R)for(const O in I)if(P[O]===void 0){const z=I[O];P===_?P={...P,[O]:z}:P[O]=z}return P}function named(_){console.warn("named iterables are deprecated; please use an object instead");const R=new Set;return Object.fromEntries(Array.from(_,P=>{const{name:I}=P;if(I==null)throw new Error("missing name");const O=`${I}`;if(O==="__proto__")throw new Error(`illegal name: ${O}`);if(R.has(O))throw new Error(`duplicate name: ${O}`);return R.add(O),[I,P]}))}function maybeNamed(_){return isIterable(_)?named(_):_}function maybeClip(_){return _===!0?_="frame":_===!1?_=null:!isGeoJSON(_)&&_!=null&&(_=keyword(_,"clip",["frame","sphere"]),_==="sphere"&&(_={type:"Sphere"})),_}function isArrowTable(_){return _&&typeof _.getChild=="function"&&typeof _.toArray=="function"&&_.schema&&Array.isArray(_.schema.fields)}function isArrowVector(_){return _&&typeof _.toArray=="function"&&_.type}function isArrowDateType(_){return _&&(_.typeId===8||_.typeId===10)&&_.unit===1}const position$2=Symbol("position"),color$1=Symbol("color"),radius=Symbol("radius"),length=Symbol("length"),opacity=Symbol("opacity"),symbol=Symbol("symbol"),projection=Symbol("projection"),registry=new Map([["x",position$2],["y",position$2],["fx",position$2],["fy",position$2],["r",radius],["color",color$1],["opacity",opacity],["symbol",symbol],["length",length],["projection",projection]]);function isPosition(_){return _===position$2||_===projection}function hasNumericRange(_){return _===position$2||_===radius||_===length||_===opacity}const sqrt3=Math.sqrt(3),sqrt4_3=2/sqrt3,symbolHexagon={draw(_,R){const P=Math.sqrt(R/Math.PI),I=P*sqrt4_3,O=I/2;_.moveTo(0,I),_.lineTo(P,O),_.lineTo(P,-O),_.lineTo(0,-I),_.lineTo(-P,-O),_.lineTo(-P,O),_.closePath()}},symbols$1=new Map([["asterisk",symbolAsterisk],["circle",symbolCircle],["cross",symbolCross],["diamond",symbolDiamond],["diamond2",symbolDiamond2],["hexagon",symbolHexagon],["plus",symbolPlus],["square",symbolSquare],["square2",symbolSquare2],["star",symbolStar],["times",symbolTimes],["triangle",symbolTriangle],["triangle2",symbolTriangle2],["wye",symbolWye]]);function isSymbolObject(_){return _&&typeof _.draw=="function"}function isSymbol(_){return isSymbolObject(_)?!0:typeof _!="string"?!1:symbols$1.has(_.toLowerCase())}function maybeSymbol(_){if(_==null||isSymbolObject(_))return _;const R=symbols$1.get(`${_}`.toLowerCase());if(R)return R;throw new Error(`invalid symbol: ${_}`)}function maybeSymbolChannel(_){if(_==null||isSymbolObject(_))return[void 0,_];if(typeof _=="string"){const R=symbols$1.get(`${_}`.toLowerCase());if(R)return[void 0,R]}return[_,void 0]}function basic({filter:_,sort:R,reverse:P,transform:I,initializer:O,...z}={},L){if(I===void 0&&(_!=null&&(I=filterTransform(_)),R!=null&&!isDomainSort(R)&&(I=composeTransform(I,sortTransform(R))),P&&(I=composeTransform(I,reverseTransform))),L!=null&&O!=null)throw new Error("transforms cannot be applied after initializers");return{...z,...(R===null||isDomainSort(R))&&{sort:R},transform:composeTransform(I,L)}}function initializer({filter:_,sort:R,reverse:P,initializer:I,...O}={},z){return I===void 0&&(_!=null&&(I=filterTransform(_)),R!=null&&!isDomainSort(R)&&(I=composeInitializer(I,sortTransform(R))),P&&(I=composeInitializer(I,reverseTransform))),{...O,...(R===null||isDomainSort(R))&&{sort:R},initializer:composeInitializer(I,z)}}function composeTransform(_,R){return _==null?R===null?void 0:R:R==null?_===null?void 0:_:function(P,I,O){return{data:P,facets:I}=_.call(this,P,I,O),R.call(this,dataify(P),I,O)}}function composeInitializer(_,R){return _==null?R===null?void 0:R:R==null?_===null?void 0:_:function(P,I,O,...z){let L,F,U,V,q,W;return{data:F=P,facets:U=I,channels:L}=_.call(this,P,I,O,...z),{data:q=F,facets:W=U,channels:V}=R.call(this,F,U,{...O,...L},...z),{data:q,facets:W,channels:{...L,...V}}}}function apply(_,R){return(_.initializer!=null?initializer:basic)(_,R)}function filterTransform(_){return(R,P)=>{const I=valueof(R,_);return{data:R,facets:P.map(O=>O.filter(z=>I[z]))}}}function reverseTransform(_,R){return{data:_,facets:R.map(P=>P.slice().reverse())}}function sort(_,{sort:R,...P}={}){return{...(isOptions(_)&&_.channel!==void 0?initializer:apply)(P,sortTransform(_)),sort:isDomainSort(R)?R:null}}function sortTransform(_){return(typeof _=="function"&&_.length!==1?sortData:sortValue)(_)}function sortData(_){return(R,P)=>{const I=isArray(R)?(O,z)=>_(R[O],R[z]):(O,z)=>_(R.get(O),R.get(z));return{data:R,facets:P.map(O=>O.slice().sort(I))}}}function sortValue(_){let R,P;({channel:R,value:_,order:P}={...maybeValue(_)});const I=R?.startsWith("-");if(I&&(R=R.slice(1)),P===void 0&&(P=I?descendingDefined:ascendingDefined),typeof P!="function")switch(`${P}`.toLowerCase()){case"ascending":P=ascendingDefined;break;case"descending":P=descendingDefined;break;default:throw new Error(`invalid order: ${P}`)}return(O,z,L)=>{let F;if(R===void 0)F=valueof(O,_);else{if(L===void 0)throw new Error("channel sort requires an initializer");if(F=L[R],!F)return{};F=F.value}const U=(V,q)=>P(F[V],F[q]);return{data:O,facets:z.map(V=>V.slice().sort(U))}}}function hasOutput(_,...R){for(const{name:P}of _)if(R.includes(P))return!0;return!1}function maybeOutputs(_,R,P=maybeOutput){const I=Object.entries(_);return R.title!=null&&_.title===void 0&&I.push(["title",reduceTitle]),R.href!=null&&_.href===void 0&&I.push(["href",reduceFirst]),I.filter(([,O])=>O!==void 0).map(([O,z])=>z===null?nullOutput(O):P(O,z,R))}function maybeOutput(_,R,P,I=maybeEvaluator){let O;isObject(R)&&"reduce"in R&&(O=R.scale,R=R.reduce);const z=I(_,R,P),[L,F]=column(z.label);let U;return{name:_,output:O===void 0?L:{value:L,scale:O},initialize(V){z.initialize(V),U=F([])},scope(V,q){z.scope(V,q)},reduce(V,q){U.push(z.reduce(V,q))}}}function nullOutput(_){return{name:_,initialize(){},scope(){},reduce(){}}}function maybeEvaluator(_,R,P,I=maybeReduce){const O=maybeInput(_,P),z=I(R,O);let L,F;return{label:labelof(z===reduceCount?null:O,z.label),initialize(U){L=O===void 0?U:valueof(U,O),z.scope==="data"&&(F=z.reduceIndex(range(U),L))},scope(U,V){z.scope===U&&(F=z.reduceIndex(V,L))},reduce(U,V){return z.scope==null?z.reduceIndex(U,L,V):z.reduceIndex(U,L,F,V)}}}function maybeGroup(_,R){return R?group(_,P=>R[P]):[[,_]]}function maybeReduce(_,R,P=invalidReduce){if(_==null)return P(_);if(typeof _.reduceIndex=="function")return _;if(typeof _.reduce=="function"&&isObject(_))return reduceReduce(_);if(typeof _=="function")return reduceFunction(_);if(/^p\d{2}$/i.test(_))return reduceAccessor(percentile(_));switch(`${_}`.toLowerCase()){case"first":return reduceFirst;case"last":return reduceLast;case"identity":return reduceIdentity;case"count":return reduceCount;case"distinct":return reduceDistinct;case"sum":return R==null?reduceCount:reduceSum;case"proportion":return reduceProportion(R,"data");case"proportion-facet":return reduceProportion(R,"facet");case"deviation":return reduceAccessor(deviation);case"min":return reduceAccessor(min$1);case"min-index":return reduceAccessor(minIndex);case"max":return reduceAccessor(max);case"max-index":return reduceAccessor(maxIndex);case"mean":return reduceMaybeTemporalAccessor(mean);case"median":return reduceMaybeTemporalAccessor(median);case"variance":return reduceAccessor(variance);case"mode":return reduceAccessor(mode)}return P(_)}function invalidReduce(_){throw new Error(`invalid reduce: ${_}`)}function maybeSubgroup(_,R){for(const P in R){const I=R[P];if(I!==void 0&&!_.some(O=>O.name===P))return I}}function maybeSort(_,R,P){if(R){const I=R.output.transform(),O=(z,L)=>ascendingDefined(I[z],I[L]);_.forEach(z=>z.sort(O))}P&&_.forEach(I=>I.reverse())}function reduceReduce(_){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{..._,reduceIndex:_.reduce.bind(_)}}function reduceFunction(_){return{reduceIndex(R,P,I){return _(take(P,R),I)}}}function reduceAccessor(_){return{reduceIndex(R,P){return _(R,I=>P[I])}}}function reduceMaybeTemporalAccessor(_){return{reduceIndex(R,P){const I=_(R,O=>P[O]);return isTemporal(P)?new Date(I):I}}}const reduceIdentity={reduceIndex(_,R){return take(R,_)}},reduceFirst={reduceIndex(_,R){return R[_[0]]}},reduceTitle={reduceIndex(_,R){const I=sort$1(rollup(_,z=>z.length,z=>R[z]),second),O=I.slice(-5).reverse();if(O.length<I.length){const z=I.slice(0,-4);O[4]=[` ${z.length.toLocaleString("en-US")} more`,sum(z,second)]}return O.map(([z,L])=>`${z} (${L.toLocaleString("en-US")})`).join(`
`)}},reduceLast={reduceIndex(_,R){return R[_[_.length-1]]}},reduceCount={label:"Frequency",reduceIndex(_){return _.length}},reduceDistinct={label:"Distinct",reduceIndex(_,R){const P=new InternSet;for(const I of _)P.add(R[I]);return P.size}},reduceSum=reduceAccessor(sum);function reduceProportion(_,R){return _==null?{scope:R,label:"Frequency",reduceIndex:(P,I,O=1)=>P.length/O}:{scope:R,reduceIndex:(P,I,O=1)=>sum(P,z=>I[z])/O}}const reduceZ={reduceIndex(_,R,{z:P}){return P}};function createChannel(_,{scale:R,type:P,value:I,filter:O,hint:z,label:L=labelof(I)},F){return z===void 0&&typeof I?.transform=="function"&&(z=I.hint),inferChannelScale(F,{scale:R,type:P,value:valueof(_,I),label:L,filter:O,hint:z})}function createChannels(_,R){return Object.fromEntries(Object.entries(_).map(([P,I])=>[P,createChannel(R,I,P)]))}function valueObject(_,R){const P=Object.fromEntries(Object.entries(_).map(([I,{scale:O,value:z}])=>{const L=O==null?null:R[O];return[I,L==null?z:map(z,L)]}));return P.channels=_,P}function inferChannelScale(_,R){const{scale:P,value:I}=R;if(P===!0||P==="auto")switch(_){case"fill":case"stroke":case"color":R.scale=P!==!0&&isEvery(I,isColor)?null:"color",R.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":R.scale=P!==!0&&isEvery(I,isOpacity)?null:"opacity",R.defaultScale="opacity";break;case"symbol":P!==!0&&isEvery(I,isSymbol)?(R.scale=null,R.value=map(I,maybeSymbol)):R.scale="symbol",R.defaultScale="symbol";break;default:R.scale=registry.has(_)?_:null;break}else if(P===!1)R.scale=null;else if(P!=null&&!registry.has(P))throw new Error(`unknown scale: ${P}`);return R}function channelDomain(_,R,P,I,O){const{order:z,reverse:L,reduce:F=!0,limit:U}=O;for(const V in O){if(!registry.has(V))continue;let{value:q,order:W=z,reverse:Y=L,reduce:Q=F,limit:ee=U}=maybeValue(O[V]);const te=q?.startsWith("-");if(te&&(q=q.slice(1)),W=W===void 0?te!==(q==="width"||q==="height")?descendingGroup:ascendingGroup:maybeOrder$1(W),Q==null||Q===!1)continue;const ie=V==="fx"||V==="fy"?reindexFacetChannel(R,I[V]):findScaleChannel(P,V);if(!ie)throw new Error(`missing channel for scale: ${V}`);const ae=ie.value,[se=0,le=1/0]=isIterable(ee)?ee:ee<0?[ee]:[0,ee];if(q==null)ie.domain=()=>{let ce=Array.from(new InternSet(ae));return Y&&(ce=ce.reverse()),(se!==0||le!==1/0)&&(ce=ce.slice(se,le)),ce};else{const ce=q==="data"?_:q==="height"?difference(P,"y1","y2"):q==="width"?difference(P,"x1","x2"):values(P,q,q==="y"?"y2":q==="x"?"x2":void 0),fe=maybeReduce(Q===!0?"max":Q,ce);ie.domain=()=>{let de=rollups(range(ae),he=>fe.reduceIndex(he,ce),he=>ae[he]);return W&&de.sort(W),Y&&de.reverse(),(se!==0||le!==1/0)&&(de=de.slice(se,le)),de.map(first)}}}}function findScaleChannel(_,R){for(const P in _){const I=_[P];if(I.scale===R)return I}}function reindexFacetChannel(_,R){const P=_.original;if(P===_)return R;const I=R.value,O=R.value=[];for(let z=0;z<P.length;++z){const L=I[P[z][0]];for(const F of _[z])O[F]=L}return R}function difference(_,R,P){const I=values(_,R),O=values(_,P);return map(O,(z,L)=>Math.abs(z-I[L]),Float64Array)}function values(_,R,P){let I=_[R];if(!I&&P!==void 0&&(I=_[P]),I)return I.value;throw new Error(`missing channel: ${R}`)}function maybeOrder$1(_){if(_==null||typeof _=="function")return _;switch(`${_}`.toLowerCase()){case"ascending":return ascendingGroup;case"descending":return descendingGroup}throw new Error(`invalid order: ${_}`)}function ascendingGroup([_,R],[P,I]){return ascendingDefined(R,I)||ascendingDefined(_,P)}function descendingGroup([_,R],[P,I]){return descendingDefined(R,I)||ascendingDefined(_,P)}function getSource(_,R){let P=_[R];if(P){for(;P.source;)P=P.source;return P.source===null?null:P}}const categoricalSchemes=new Map([["accent",schemeAccent],["category10",schemeCategory10],["dark2",schemeDark2],["observable10",schemeObservable10],["paired",schemePaired],["pastel1",schemePastel1],["pastel2",schemePastel2],["set1",schemeSet1],["set2",schemeSet2],["set3",schemeSet3],["tableau10",schemeTableau10]]);function isCategoricalScheme(_){return _!=null&&categoricalSchemes.has(`${_}`.toLowerCase())}const ordinalSchemes=new Map([...categoricalSchemes,["brbg",scheme11(scheme$q,interpolateBrBG)],["prgn",scheme11(scheme$p,interpolatePRGn)],["piyg",scheme11(scheme$o,interpolatePiYG)],["puor",scheme11(scheme$n,interpolatePuOr)],["rdbu",scheme11(scheme$m,interpolateRdBu)],["rdgy",scheme11(scheme$l,interpolateRdGy)],["rdylbu",scheme11(scheme$k,interpolateRdYlBu)],["rdylgn",scheme11(scheme$j,interpolateRdYlGn)],["spectral",scheme11(scheme$i,interpolateSpectral)],["burd",scheme11r(scheme$m,interpolateRdBu)],["buylrd",scheme11r(scheme$k,interpolateRdYlBu)],["blues",scheme9(scheme$5,interpolateBlues)],["greens",scheme9(scheme$4,interpolateGreens)],["greys",scheme9(scheme$3,interpolateGreys)],["oranges",scheme9(scheme,interpolateOranges)],["purples",scheme9(scheme$2,interpolatePurples)],["reds",scheme9(scheme$1,interpolateReds)],["turbo",schemei(interpolateTurbo)],["viridis",schemei(interpolateViridis)],["magma",schemei(magma)],["inferno",schemei(inferno)],["plasma",schemei(plasma)],["cividis",schemei(interpolateCividis)],["cubehelix",schemei(interpolateCubehelixDefault)],["warm",schemei(warm)],["cool",schemei(cool)],["bugn",scheme9(scheme$h,interpolateBuGn)],["bupu",scheme9(scheme$g,interpolateBuPu)],["gnbu",scheme9(scheme$f,interpolateGnBu)],["orrd",scheme9(scheme$e,interpolateOrRd)],["pubu",scheme9(scheme$c,interpolatePuBu)],["pubugn",scheme9(scheme$d,interpolatePuBuGn)],["purd",scheme9(scheme$b,interpolatePuRd)],["rdpu",scheme9(scheme$a,interpolateRdPu)],["ylgn",scheme9(scheme$8,interpolateYlGn)],["ylgnbu",scheme9(scheme$9,interpolateYlGnBu)],["ylorbr",scheme9(scheme$7,interpolateYlOrBr)],["ylorrd",scheme9(scheme$6,interpolateYlOrRd)],["rainbow",schemeicyclical(interpolateRainbow)],["sinebow",schemeicyclical(interpolateSinebow)]]);function scheme9(_,R){return({length:P})=>P===1?[_[3][1]]:P===2?[_[3][1],_[3][2]]:(P=Math.max(3,Math.floor(P)),P>9?quantize(R,P):_[P])}function scheme11(_,R){return({length:P})=>P===2?[_[3][0],_[3][2]]:(P=Math.max(3,Math.floor(P)),P>11?quantize(R,P):_[P])}function scheme11r(_,R){return({length:P})=>P===2?[_[3][2],_[3][0]]:(P=Math.max(3,Math.floor(P)),P>11?quantize(I=>R(1-I),P):_[P].slice().reverse())}function schemei(_){return({length:R})=>quantize(_,Math.max(2,Math.floor(R)))}function schemeicyclical(_){return({length:R})=>quantize(_,Math.floor(R)+1).slice(0,-1)}function ordinalScheme(_){const R=`${_}`.toLowerCase();if(!ordinalSchemes.has(R))throw new Error(`unknown ordinal scheme: ${R}`);return ordinalSchemes.get(R)}function ordinalRange(_,R){const P=ordinalScheme(_),I=typeof P=="function"?P({length:R}):P;return I.length!==R?I.slice(0,R):I}function maybeBooleanRange(_,R="greys"){const P=new Set,[I,O]=ordinalRange(R,2);for(const z of _)if(z!=null)if(z===!0)P.add(O);else if(z===!1)P.add(I);else return;return[...P]}const quantitativeSchemes=new Map([["brbg",interpolateBrBG],["prgn",interpolatePRGn],["piyg",interpolatePiYG],["puor",interpolatePuOr],["rdbu",interpolateRdBu],["rdgy",interpolateRdGy],["rdylbu",interpolateRdYlBu],["rdylgn",interpolateRdYlGn],["spectral",interpolateSpectral],["burd",_=>interpolateRdBu(1-_)],["buylrd",_=>interpolateRdYlBu(1-_)],["blues",interpolateBlues],["greens",interpolateGreens],["greys",interpolateGreys],["purples",interpolatePurples],["reds",interpolateReds],["oranges",interpolateOranges],["turbo",interpolateTurbo],["viridis",interpolateViridis],["magma",magma],["inferno",inferno],["plasma",plasma],["cividis",interpolateCividis],["cubehelix",interpolateCubehelixDefault],["warm",warm],["cool",cool],["bugn",interpolateBuGn],["bupu",interpolateBuPu],["gnbu",interpolateGnBu],["orrd",interpolateOrRd],["pubugn",interpolatePuBuGn],["pubu",interpolatePuBu],["purd",interpolatePuRd],["rdpu",interpolateRdPu],["ylgnbu",interpolateYlGnBu],["ylgn",interpolateYlGn],["ylorbr",interpolateYlOrBr],["ylorrd",interpolateYlOrRd],["rainbow",interpolateRainbow],["sinebow",interpolateSinebow]]);function quantitativeScheme(_){const R=`${_}`.toLowerCase();if(!quantitativeSchemes.has(R))throw new Error(`unknown quantitative scheme: ${R}`);return quantitativeSchemes.get(R)}const divergingSchemes=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function isDivergingScheme(_){return _!=null&&divergingSchemes.has(`${_}`.toLowerCase())}const flip=_=>R=>_(1-R),unit=[0,1],interpolators=new Map([["number",interpolateNumber],["rgb",interpolateRgb],["hsl",interpolateHsl],["hcl",interpolateHcl],["lab",lab]]);function maybeInterpolator(_){const R=`${_}`.toLowerCase();if(!interpolators.has(R))throw new Error(`unknown interpolator: ${R}`);return interpolators.get(R)}function createScaleQ(_,R,P,{type:I,nice:O,clamp:z,zero:L,domain:F=inferAutoDomain(_,P),unknown:U,round:V,scheme:q,interval:W,range:Y=registry.get(_)===radius?inferRadialRange(P,F):registry.get(_)===length?inferLengthRange(P,F):registry.get(_)===opacity?unit:void 0,interpolate:Q=registry.get(_)===color$1?q==null&&Y!==void 0?interpolateRgb:quantitativeScheme(q!==void 0?q:I==="cyclical"?"rainbow":"turbo"):V?interpolateRound:interpolateNumber,reverse:ee}){if(F=maybeRepeat(F),W=maybeRangeInterval(W,I),(I==="cyclical"||I==="sequential")&&(I="linear"),typeof Q!="function"&&(Q=maybeInterpolator(Q)),ee=!!ee,Y!==void 0){const te=F.length,ie=(Y=maybeRepeat(Y)).length;if(te!==ie){if(Q.length===1)throw new Error("invalid piecewise interpolator");Q=piecewise(Q,Y),Y=void 0}}if(Q.length===1?(ee&&(Q=flip(Q),ee=!1),Y===void 0&&(Y=Float64Array.from(F,(te,ie)=>ie/(F.length-1)),Y.length===2&&(Y=unit)),R.interpolate((Y===unit?constant:interpolatePiecewise)(Q))):R.interpolate(Q),L){const[te,ie]=extent$1(F);(te>0||ie<0)&&(F=slice(F),(orderof(F)||1)===Math.sign(te)?F[0]=0:F[F.length-1]=0)}return ee&&(F=reverse(F)),R.domain(F).unknown(U),O&&(R.nice(maybeNice(O,I)),F=R.domain()),Y!==void 0&&R.range(Y),z&&R.clamp(z),{type:I,domain:F,range:Y,scale:R,interpolate:Q,interval:W}}function maybeRepeat(_){return _=arrayify(_),_.length>=2?_:[_[0],_[0]]}function maybeNice(_,R){return _===!0?void 0:typeof _=="number"?_:maybeNiceInterval(_,R)}function createScaleLinear(_,R,P){return createScaleQ(_,linear(),R,P)}function createScaleSqrt(_,R,P){return createScalePow(_,R,{...P,exponent:.5})}function createScalePow(_,R,{exponent:P=1,...I}){return createScaleQ(_,pow().exponent(P),R,{...I,type:"pow"})}function createScaleLog(_,R,{base:P=10,domain:I=inferLogDomain(R),...O}){return createScaleQ(_,log().base(P),R,{...O,domain:I})}function createScaleSymlog(_,R,{constant:P=1,...I}){return createScaleQ(_,symlog().constant(P),R,I)}function createScaleQuantile(_,R,{range:P,quantiles:I=P===void 0?5:(P=[...P]).length,n:O=I,scheme:z="rdylbu",domain:L=inferQuantileDomain(R),unknown:F,interpolate:U,reverse:V}){return P===void 0&&(P=U!==void 0?quantize(U,O):registry.get(_)===color$1?ordinalRange(z,O):void 0),L.length>0&&(L=quantile(L,P===void 0?{length:O}:P).quantiles()),createScaleThreshold(_,R,{domain:L,range:P,reverse:V,unknown:F})}function createScaleQuantize(_,R,{range:P,n:I=P===void 0?5:(P=[...P]).length,scheme:O="rdylbu",domain:z=inferAutoDomain(_,R),unknown:L,interpolate:F,reverse:U}){const[V,q]=extent$1(z);let W;return P===void 0?(W=ticks(V,q,I),W[0]<=V&&W.splice(0,1),W[W.length-1]>=q&&W.pop(),I=W.length+1,P=F!==void 0?quantize(F,I):registry.get(_)===color$1?ordinalRange(O,I):void 0):(W=quantize(interpolateNumber(V,q),I+1).slice(1,-1),V instanceof Date&&(W=W.map(Y=>new Date(Y)))),orderof(arrayify(z))<0&&W.reverse(),createScaleThreshold(_,R,{domain:W,range:P,reverse:U,unknown:L})}function createScaleThreshold(_,R,{domain:P=[0],unknown:I,scheme:O="rdylbu",interpolate:z,range:L=z!==void 0?quantize(z,P.length+1):registry.get(_)===color$1?ordinalRange(O,P.length+1):void 0,reverse:F}){P=arrayify(P);const U=orderof(P);if(!isNaN(U)&&!isOrdered(P,U))throw new Error(`the ${_} scale has a non-monotonic domain`);return F&&(L=reverse(L)),{type:"threshold",scale:threshold(U<0?reverse(P):P,L===void 0?[]:L).unknown(I),domain:P,range:L}}function isOrdered(_,R){for(let P=1,I=_.length,O=_[0];P<I;++P){const z=descending(O,O=_[P]);if(z!==0&&z!==R)return!1}return!0}function createScaleIdentity(_){return{type:"identity",scale:hasNumericRange(registry.get(_))?identity$2():R=>R}}function inferDomain$1(_,R=finite){return _.length?[min$1(_,({value:P})=>P===void 0?P:min$1(P,R)),max(_,({value:P})=>P===void 0?P:max(P,R))]:[0,1]}function inferAutoDomain(_,R){const P=registry.get(_);return(P===radius||P===opacity||P===length?inferZeroDomain:inferDomain$1)(R)}function inferZeroDomain(_){return[0,_.length?max(_,({value:R})=>R===void 0?R:max(R,finite)):1]}function inferRadialRange(_,R){const P=_.find(({radius:L})=>L!==void 0);if(P!==void 0)return[0,P.radius];const I=quantile$1(_,.5,({value:L})=>L===void 0?NaN:quantile$1(L,.25,positive)),O=R.map(L=>3*Math.sqrt(L/I)),z=30/max(O);return z<1?O.map(L=>L*z):O}function inferLengthRange(_,R){const P=median(_,({value:z})=>z===void 0?NaN:median(z,Math.abs)),I=R.map(z=>12*z/P),O=60/max(I);return O<1?I.map(z=>z*O):I}function inferLogDomain(_){for(const{value:R}of _)if(R!==void 0)for(let P of R){if(P>0)return inferDomain$1(_,positive);if(P<0)return inferDomain$1(_,negative)}return[1,10]}function inferQuantileDomain(_){const R=[];for(const{value:P}of _)if(P!==void 0)for(const I of P)R.push(I);return R}function interpolatePiecewise(_){return(R,P)=>I=>_(R+I*(P-R))}let warnings=0,lastMessage;function consumeWarnings(){const _=warnings;return warnings=0,lastMessage=void 0,_}function warn(_){_!==lastMessage&&(lastMessage=_,console.warn(_),++warnings)}function createScaleD(_,R,P,I,{type:O,nice:z,clamp:L,domain:F=inferDomain$1(I),unknown:U,pivot:V=0,scheme:q,range:W,symmetric:Y=!0,interpolate:Q=registry.get(_)===color$1?q==null&&W!==void 0?interpolateRgb:quantitativeScheme(q!==void 0?q:"rdbu"):interpolateNumber,reverse:ee}){V=+V,F=arrayify(F);let[te,ie]=F;if(F.length>2&&warn(`Warning: the diverging ${_} scale domain contains extra elements.`),descending(te,ie)<0&&([te,ie]=[ie,te],ee=!ee),te=Math.min(te,V),ie=Math.max(ie,V),typeof Q!="function"&&(Q=maybeInterpolator(Q)),W!==void 0&&(Q=Q.length===1?interpolatePiecewise(Q)(...W):piecewise(Q,W)),ee&&(Q=flip(Q)),Y){const ae=P.apply(V),se=ae-P.apply(te),le=P.apply(ie)-ae;se<le?te=P.invert(ae-le):se>le&&(ie=P.invert(ae+se))}return R.domain([te,V,ie]).unknown(U).interpolator(Q),L&&R.clamp(L),z&&R.nice(z),{type:O,domain:[te,ie],pivot:V,interpolate:Q,scale:R}}function createScaleDiverging(_,R,P){return createScaleD(_,diverging(),transformIdentity,R,P)}function createScaleDivergingSqrt(_,R,P){return createScaleDivergingPow(_,R,{...P,exponent:.5})}function createScaleDivergingPow(_,R,{exponent:P=1,...I}){return createScaleD(_,divergingPow().exponent(P=+P),transformPow(P),R,{...I,type:"diverging-pow"})}function createScaleDivergingLog(_,R,{base:P=10,pivot:I=1,domain:O=inferDomain$1(R,I<0?negative:positive),...z}){return createScaleD(_,divergingLog().base(P=+P),transformLog,R,{domain:O,pivot:I,...z})}function createScaleDivergingSymlog(_,R,{constant:P=1,...I}){return createScaleD(_,divergingSymlog().constant(P=+P),transformSymlog(P),R,I)}const transformIdentity={apply(_){return _},invert(_){return _}},transformLog={apply:Math.log,invert:Math.exp},transformSqrt={apply(_){return Math.sign(_)*Math.sqrt(Math.abs(_))},invert(_){return Math.sign(_)*(_*_)}};function transformPow(_){return _===.5?transformSqrt:{apply(R){return Math.sign(R)*Math.pow(Math.abs(R),_)},invert(R){return Math.sign(R)*Math.pow(Math.abs(R),1/_)}}}function transformSymlog(_){return{apply(R){return Math.sign(R)*Math.log1p(Math.abs(R/_))},invert(R){return Math.sign(R)*Math.expm1(Math.abs(R))*_}}}function createScaleT(_,R,P,I){return createScaleQ(_,R,P,I)}function createScaleTime(_,R,P){return createScaleT(_,time(),R,P)}function createScaleUtc(_,R,P){return createScaleT(_,utcTime(),R,P)}const ordinalImplicit=Symbol("ordinal");function createScaleO(_,R,P,{type:I,interval:O,domain:z,range:L,reverse:F,hint:U}){return O=maybeRangeInterval(O,I),z===void 0&&(z=inferDomain(P,O,_)),(I==="categorical"||I===ordinalImplicit)&&(I="ordinal"),F&&(z=reverse(z)),z=R.domain(z).domain(),L!==void 0&&(typeof L=="function"&&(L=L(z)),R.range(L)),{type:I,domain:z,range:L,scale:R,hint:U,interval:O}}function createScaleOrdinal(_,R,{type:P,interval:I,domain:O,range:z,scheme:L,unknown:F,...U}){I=maybeRangeInterval(I,P),O===void 0&&(O=inferDomain(R,I,_));let V;if(registry.get(_)===symbol)V=inferSymbolHint(R),z=z===void 0?inferSymbolRange(V):map(z,maybeSymbol);else if(registry.get(_)===color$1&&(z===void 0&&(P==="ordinal"||P===ordinalImplicit)&&(z=maybeBooleanRange(O,L),z!==void 0&&(L=void 0)),L===void 0&&z===void 0&&(L=P==="ordinal"?"turbo":"observable10"),L!==void 0))if(z!==void 0){const q=quantitativeScheme(L),W=z[0],Y=z[1]-z[0];z=({length:Q})=>quantize(ee=>q(W+Y*ee),Q)}else z=ordinalScheme(L);if(F===implicit)throw new Error(`implicit unknown on ${_} scale is not supported`);return createScaleO(_,ordinal().unknown(F),R,{...U,type:P,domain:O,range:z,hint:V})}function createScalePoint(_,R,{align:P=.5,padding:I=.5,...O}){return maybeRound(point$7().align(P).padding(I),R,O,_)}function createScaleBand(_,R,{align:P=.5,padding:I=.1,paddingInner:O=I,paddingOuter:z=_==="fx"||_==="fy"?0:I,...L}){return maybeRound(band().align(P).paddingInner(O).paddingOuter(z),R,L,_)}function maybeRound(_,R,P,I){let{round:O}=P;return O!==void 0&&_.round(O=!!O),_=createScaleO(I,_,R,P),_.round=O,_}function inferDomain(_,R,P){const I=new InternSet;for(const{value:O,domain:z}of _){if(z!==void 0)return z();if(O!==void 0)for(const L of O)I.add(L)}if(R!==void 0){const[O,z]=extent$1(I).map(R.floor,R);return R.range(O,R.offset(z))}if(I.size>1e4&&registry.get(P)===position$2)throw new Error(`implicit ordinal domain of ${P} scale has more than 10,000 values`);return sort$1(I,ascendingDefined)}function inferHint(_,R){let P;for(const{hint:I}of _){const O=I?.[R];if(O!==void 0){if(P===void 0)P=O;else if(P!==O)return}}return P}function inferSymbolHint(_){return{fill:inferHint(_,"fill"),stroke:inferHint(_,"stroke")}}function inferSymbolRange(_){return isNoneish(_.fill)?symbolsStroke:symbolsFill}function createScales(_,{label:R,inset:P=0,insetTop:I=P,insetRight:O=P,insetBottom:z=P,insetLeft:L=P,round:F,nice:U,clamp:V,zero:q,align:W,padding:Y,projection:Q,facet:{label:ee=R}={},...te}={}){const ie={};for(const[ae,se]of _){const le=te[ae],ce=createScale(ae,se,{round:registry.get(ae)===position$2?F:void 0,nice:U,clamp:V,zero:q,align:W,padding:Y,projection:Q,...le});if(ce){let{label:fe=ae==="fx"||ae==="fy"?ee:R,percent:de,transform:he,inset:pe,insetTop:ge=pe!==void 0?pe:ae==="y"?I:0,insetRight:be=pe!==void 0?pe:ae==="x"?O:0,insetBottom:xe=pe!==void 0?pe:ae==="y"?z:0,insetLeft:_e=pe!==void 0?pe:ae==="x"?L:0}=le||{};if(he==null)he=void 0;else if(typeof he!="function")throw new Error("invalid scale transform; not a function");ce.percent=!!de,ce.label=fe===void 0?inferScaleLabel(se,ce):fe,ce.transform=he,ae==="x"||ae==="fx"?(ce.insetLeft=+_e,ce.insetRight=+be):(ae==="y"||ae==="fy")&&(ce.insetTop=+ge,ce.insetBottom=+xe),ie[ae]=ce}}return ie}function createScaleFunctions(_){const R={},P={scales:R};for(const[I,O]of Object.entries(_)){const{scale:z,type:L,interval:F,label:U}=O;R[I]=exposeScale(O),P[I]=z,z.type=L,F!=null&&(z.interval=F),U!=null&&(z.label=U)}return P}function autoScaleRange(_,R){const{x:P,y:I,fx:O,fy:z}=_,L=O||z?outerDimensions(R):R;O&&autoScaleRangeX(O,L),z&&autoScaleRangeY(z,L);const F=O||z?innerDimensions(_,R):R;P&&autoScaleRangeX(P,F),I&&autoScaleRangeY(I,F)}function inferScaleLabel(_=[],R){let P;for(const{label:I}of _)if(I!==void 0){if(P===void 0)P=I;else if(P!==I)return}if(P!==void 0)return!isOrdinalScale(R)&&R.percent&&(P=`${P} (%)`),{inferred:!0,toString:()=>P}}function inferScaleOrder(_){return Math.sign(orderof(_.domain()))*Math.sign(orderof(_.range()))}function outerDimensions(_){const{marginTop:R,marginRight:P,marginBottom:I,marginLeft:O,width:z,height:L,facet:{marginTop:F,marginRight:U,marginBottom:V,marginLeft:q}}=_;return{marginTop:Math.max(R,F),marginRight:Math.max(P,U),marginBottom:Math.max(I,V),marginLeft:Math.max(O,q),width:z,height:L}}function innerDimensions({fx:_,fy:R},P){const{marginTop:I,marginRight:O,marginBottom:z,marginLeft:L,width:F,height:U}=outerDimensions(P);return{marginTop:I,marginRight:O,marginBottom:z,marginLeft:L,width:_?_.scale.bandwidth()+L+O:F,height:R?R.scale.bandwidth()+I+z:U,facet:{width:F,height:U}}}function autoScaleRangeX(_,R){if(_.range===void 0){const{insetLeft:P,insetRight:I}=_,{width:O,marginLeft:z=0,marginRight:L=0}=R,F=z+P,U=O-L-I;_.range=[F,Math.max(F,U)],isOrdinalScale(_)||(_.range=piecewiseRange(_)),_.scale.range(_.range)}autoScaleRound(_)}function autoScaleRangeY(_,R){if(_.range===void 0){const{insetTop:P,insetBottom:I}=_,{height:O,marginTop:z=0,marginBottom:L=0}=R,F=z+P,U=O-L-I;_.range=[Math.max(F,U),F],isOrdinalScale(_)?_.range.reverse():_.range=piecewiseRange(_),_.scale.range(_.range)}autoScaleRound(_)}function autoScaleRound(_){_.round===void 0&&isBandScale(_)&&roundError(_)<=30&&_.scale.round(!0)}function roundError({scale:_}){const R=_.domain().length,[P,I]=_.range(),O=_.paddingInner?_.paddingInner():1,z=_.paddingOuter?_.paddingOuter():_.padding(),L=R-O,F=Math.abs(I-P)/Math.max(1,L+z*2);return(F-Math.floor(F))*L}function piecewiseRange(_){const R=_.scale.domain().length+isThresholdScale(_);if(!(R>2))return _.range;const[P,I]=_.range;return Array.from({length:R},(O,z)=>P+z/(R-1)*(I-P))}function createScale(_,R=[],P={}){const I=inferScaleType(_,R,P);if(P.type===void 0&&P.domain===void 0&&P.range===void 0&&P.interval==null&&_!=="fx"&&_!=="fy"&&isOrdinalScale({type:I})){const O=R.map(({value:z})=>z).filter(z=>z!==void 0);O.some(isTemporal)?warn(`Warning: some data associated with the ${_} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${formatScaleType(I)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${_} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${_} scale to "${formatScaleType(I)}".`):O.some(isTemporalString)?warn(`Warning: some data associated with the ${_} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${formatScaleType(I)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${_} scale to "${formatScaleType(I)}".`):O.some(isNumericString)&&warn(`Warning: some data associated with the ${_} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${formatScaleType(I)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${_} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${_} scale to "${formatScaleType(I)}".`)}switch(P.type=I,I){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":P=coerceType(R,P,coerceNumbers);break;case"identity":switch(registry.get(_)){case position$2:P=coerceType(R,P,coerceNumbers);break;case symbol:P=coerceType(R,P,coerceSymbols);break}break;case"utc":case"time":P=coerceType(R,P,coerceDates);break}switch(I){case"diverging":return createScaleDiverging(_,R,P);case"diverging-sqrt":return createScaleDivergingSqrt(_,R,P);case"diverging-pow":return createScaleDivergingPow(_,R,P);case"diverging-log":return createScaleDivergingLog(_,R,P);case"diverging-symlog":return createScaleDivergingSymlog(_,R,P);case"categorical":case"ordinal":case ordinalImplicit:return createScaleOrdinal(_,R,P);case"cyclical":case"sequential":case"linear":return createScaleLinear(_,R,P);case"sqrt":return createScaleSqrt(_,R,P);case"threshold":return createScaleThreshold(_,R,P);case"quantile":return createScaleQuantile(_,R,P);case"quantize":return createScaleQuantize(_,R,P);case"pow":return createScalePow(_,R,P);case"log":return createScaleLog(_,R,P);case"symlog":return createScaleSymlog(_,R,P);case"utc":return createScaleUtc(_,R,P);case"time":return createScaleTime(_,R,P);case"point":return createScalePoint(_,R,P);case"band":return createScaleBand(_,R,P);case"identity":return createScaleIdentity(_);case void 0:return;default:throw new Error(`unknown scale type: ${I}`)}}function formatScaleType(_){return typeof _=="symbol"?_.description:_}function maybeScaleType(_){return typeof _=="string"?`${_}`.toLowerCase():_}const typeProjection={toString:()=>"projection"};function inferScaleType(_,R,{type:P,domain:I,range:O,scheme:z,pivot:L,projection:F}){if(P=maybeScaleType(P),_==="fx"||_==="fy")return"band";(_==="x"||_==="y")&&F!=null&&(P=typeProjection);for(const q of R){const W=maybeScaleType(q.type);if(W!==void 0){if(P===void 0)P=W;else if(P!==W)throw new Error(`scale incompatible with channel: ${P} !== ${W}`)}}if(P===typeProjection)return;if(P!==void 0)return P;if(I===void 0&&!R.some(({value:q})=>q!==void 0))return;const U=registry.get(_);if(U===radius)return"sqrt";if(U===opacity||U===length)return"linear";if(U===symbol)return"ordinal";const V=(I??O)?.length;if(V<2||V>2)return asOrdinalType(U);if(I!==void 0){if(isOrdinal(I))return asOrdinalType(U);if(isTemporal(I))return"utc"}else{const q=R.map(({value:W})=>W).filter(W=>W!==void 0);if(q.some(isOrdinal))return asOrdinalType(U);if(q.some(isTemporal))return"utc"}if(U===color$1){if(L!=null||isDivergingScheme(z))return"diverging";if(isCategoricalScheme(z))return"categorical"}return"linear"}function asOrdinalType(_){switch(_){case position$2:return"point";case color$1:return ordinalImplicit;default:return"ordinal"}}function isOrdinalScale({type:_}){return _==="ordinal"||_==="point"||_==="band"||_===ordinalImplicit}function isThresholdScale({type:_}){return _==="threshold"}function isBandScale({type:_}){return _==="point"||_==="band"}function isCollapsed(_){if(_===void 0)return!0;const R=_.domain(),P=_(R[0]);for(let I=1,O=R.length;I<O;++I)if(_(R[I])-P)return!1;return!0}function coerceType(_,{domain:R,...P},I){for(const O of _)O.value!==void 0&&(R===void 0&&(R=O.value?.domain),O.value=I(O.value));return{domain:R===void 0?R:I(R),...P}}function coerceSymbols(_){return map(_,maybeSymbol)}function exposeScales(_){return R=>{if(!registry.has(R=`${R}`))throw new Error(`unknown scale: ${R}`);return _[R]}}function exposeScale({scale:_,type:R,domain:P,range:I,interpolate:O,interval:z,transform:L,percent:F,pivot:U}){if(R==="identity")return{type:"identity",apply:q=>q,invert:q=>q};const V=_.unknown?_.unknown():void 0;return{type:R,domain:slice(P),...I!==void 0&&{range:slice(I)},...L!==void 0&&{transform:L},...F&&{percent:F},...V!==void 0&&{unknown:V},...z!==void 0&&{interval:z},...O!==void 0&&{interpolate:O},..._.clamp&&{clamp:_.clamp()},...U!==void 0&&{pivot:U,symmetric:!1},..._.base&&{base:_.base()},..._.exponent&&{exponent:_.exponent()},..._.constant&&{constant:_.constant()},..._.align&&{align:_.align(),round:_.round()},..._.padding&&(_.paddingInner?{paddingInner:_.paddingInner(),paddingOuter:_.paddingOuter()}:{padding:_.padding()}),..._.bandwidth&&{bandwidth:_.bandwidth(),step:_.step()},apply:q=>_(q),..._.invert&&{invert:q=>_.invert(q)}}}function createFacets(_,R){const{fx:P,fy:I}=createScales(_,R),O=P?.scale.domain(),z=I?.scale.domain();return O&&z?cross(O,z).map(([L,F],U)=>({x:L,y:F,i:U})):O?O.map((L,F)=>({x:L,i:F})):z?z.map((L,F)=>({y:L,i:F})):void 0}function recreateFacets(_,{x:R,y:P}){return R&&=facetIndex(R),P&&=facetIndex(P),_.filter(R&&P?I=>R.has(I.x)&&P.has(I.y):R?I=>R.has(I.x):I=>P.has(I.y)).sort(R&&P?(I,O)=>R.get(I.x)-R.get(O.x)||P.get(I.y)-P.get(O.y):R?(I,O)=>R.get(I.x)-R.get(O.x):(I,O)=>P.get(I.y)-P.get(O.y))}function facetGroups(_,{fx:R,fy:P}){const I=range(_),O=R?.value,z=P?.value;return R&&P?rollup(I,L=>(L.fx=O[L[0]],L.fy=z[L[0]],L),L=>O[L],L=>z[L]):R?rollup(I,L=>(L.fx=O[L[0]],L),L=>O[L]):rollup(I,L=>(L.fy=z[L[0]],L),L=>z[L])}function facetTranslator(_,R,{marginTop:P,marginLeft:I}){const O=_?({x:L})=>_(L)-I:()=>0,z=R?({y:L})=>R(L)-P:()=>0;return function(L){this.tagName==="svg"?(this.setAttribute("x",O(L)),this.setAttribute("y",z(L))):this.setAttribute("transform",`translate(${O(L)},${z(L)})`)}}function facetExclude(_){const R=[],P=new Uint32Array(sum(_,I=>I.length));for(const I of _){let O=0;for(const z of _)I!==z&&(P.set(z,O),O+=z.length);R.push(P.slice(0,O))}return R}const facetAnchors=new Map([["top",facetAnchorTop],["right",facetAnchorRight],["bottom",facetAnchorBottom],["left",facetAnchorLeft],["top-left",and(facetAnchorTop,facetAnchorLeft)],["top-right",and(facetAnchorTop,facetAnchorRight)],["bottom-left",and(facetAnchorBottom,facetAnchorLeft)],["bottom-right",and(facetAnchorBottom,facetAnchorRight)],["top-empty",facetAnchorTopEmpty],["right-empty",facetAnchorRightEmpty],["bottom-empty",facetAnchorBottomEmpty],["left-empty",facetAnchorLeftEmpty],["empty",facetAnchorEmpty]]);function maybeFacetAnchor(_){if(_==null)return null;const R=facetAnchors.get(`${_}`.toLowerCase());if(R)return R;throw new Error(`invalid facet anchor: ${_}`)}const indexCache=new WeakMap;function facetIndex(_){let R=indexCache.get(_);return R||indexCache.set(_,R=new InternMap(map(_,(P,I)=>[P,I]))),R}function facetIndexOf(_,R){return facetIndex(_).get(R)}function facetFind(_,R,P){return R=keyof(R),P=keyof(P),_.find(I=>Object.is(keyof(I.x),R)&&Object.is(keyof(I.y),P))}function facetEmpty(_,R,P){return facetFind(_,R,P)?.empty}function facetAnchorTop(_,{y:R},{y:P}){return R?facetIndexOf(R,P)===0:!0}function facetAnchorBottom(_,{y:R},{y:P}){return R?facetIndexOf(R,P)===R.length-1:!0}function facetAnchorLeft(_,{x:R},{x:P}){return R?facetIndexOf(R,P)===0:!0}function facetAnchorRight(_,{x:R},{x:P}){return R?facetIndexOf(R,P)===R.length-1:!0}function facetAnchorTopEmpty(_,{y:R},{x:P,y:I,empty:O}){if(O)return!1;if(!R)return;const z=facetIndexOf(R,I);if(z>0)return facetEmpty(_,P,R[z-1])}function facetAnchorBottomEmpty(_,{y:R},{x:P,y:I,empty:O}){if(O)return!1;if(!R)return;const z=facetIndexOf(R,I);if(z<R.length-1)return facetEmpty(_,P,R[z+1])}function facetAnchorLeftEmpty(_,{x:R},{x:P,y:I,empty:O}){if(O)return!1;if(!R)return;const z=facetIndexOf(R,P);if(z>0)return facetEmpty(_,R[z-1],I)}function facetAnchorRightEmpty(_,{x:R},{x:P,y:I,empty:O}){if(O)return!1;if(!R)return;const z=facetIndexOf(R,P);if(z<R.length-1)return facetEmpty(_,R[z+1],I)}function facetAnchorEmpty(_,R,{empty:P}){return P}function and(_,R){return function(){return _.apply(null,arguments)&&R.apply(null,arguments)}}function facetFilter(_,{channels:{fx:R,fy:P},groups:I}){return R&&P?_.map(({x:O,y:z})=>I.get(O)?.get(z)??[]):R?_.map(({x:O})=>I.get(O)??[]):_.map(({y:O})=>I.get(O)??[])}const pi=Math.PI,tau=2*pi,defaultAspectRatio=.618;function createProjection({projection:_,inset:R=0,insetTop:P=R,insetRight:I=R,insetBottom:O=R,insetLeft:z=R}={},L){if(_==null)return;if(typeof _.stream=="function")return _;let F,U,V="frame";if(isObject(_)){let fe;if({type:_,domain:U,inset:fe,insetTop:P=fe!==void 0?fe:P,insetRight:I=fe!==void 0?fe:I,insetBottom:O=fe!==void 0?fe:O,insetLeft:z=fe!==void 0?fe:z,clip:V=V,...F}=_,_==null)return}typeof _!="function"&&({type:_}=namedProjection(_));const{width:q,height:W,marginLeft:Y,marginRight:Q,marginTop:ee,marginBottom:te}=L,ie=q-Y-Q-z-I,ae=W-ee-te-P-O;if(_=_?.({width:ie,height:ae,clip:V,...F}),_==null)return;V=maybePostClip(V,Y,ee,q-Q,W-te);let se=Y+z,le=ee+P,ce;if(U!=null){const[[fe,de],[he,pe]]=geoPath(_).bounds(U),ge=Math.min(ie/(he-fe),ae/(pe-de));ge>0?(se-=(ge*(fe+he)-ie)/2,le-=(ge*(de+pe)-ae)/2,ce=geoTransform({point(be,xe){this.stream.point(be*ge+se,xe*ge+le)}})):warn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return ce??=se===0&&le===0?identity():geoTransform({point(fe,de){this.stream.point(fe+se,de+le)}}),{stream:fe=>_.stream(ce.stream(V(fe)))}}function namedProjection(_){switch(`${_}`.toLowerCase()){case"albers-usa":return scaleProjection(geoAlbersUsa,.7463,.4673);case"albers":return conicProjection(geoAlbers,.7463,.4673);case"azimuthal-equal-area":return scaleProjection(geoAzimuthalEqualArea,4,4);case"azimuthal-equidistant":return scaleProjection(geoAzimuthalEquidistant,tau,tau);case"conic-conformal":return conicProjection(geoConicConformal,tau,tau);case"conic-equal-area":return conicProjection(geoConicEqualArea,6.1702,2.9781);case"conic-equidistant":return conicProjection(geoConicEquidistant,7.312,3.6282);case"equal-earth":return scaleProjection(geoEqualEarth,5.4133,2.6347);case"equirectangular":return scaleProjection(geoEquirectangular,tau,pi);case"gnomonic":return scaleProjection(geoGnomonic,3.4641,3.4641);case"identity":return{type:identity};case"reflect-y":return{type:reflectY};case"mercator":return scaleProjection(geoMercator,tau,tau);case"orthographic":return scaleProjection(geoOrthographic,2,2);case"stereographic":return scaleProjection(geoStereographic,2,2);case"transverse-mercator":return scaleProjection(geoTransverseMercator,tau,tau);default:throw new Error(`unknown projection type: ${_}`)}}function maybePostClip(_,R,P,I,O){if(_===!1||_==null||typeof _=="number")return z=>z;if(_===!0&&(_="frame"),`${_}`.toLowerCase()==="frame")return clipRectangle(R,P,I,O);throw new Error(`unknown projection clip type: ${_}`)}function scaleProjection(_,R,P){return{type:({width:I,height:O,rotate:z,precision:L=.15,clip:F})=>{const U=_();return L!=null&&U.precision?.(L),z!=null&&U.rotate?.(z),typeof F=="number"&&U.clipAngle?.(F),I!=null&&(U.scale(Math.min(I/R,O/P)),U.translate([I/2,O/2])),U},aspectRatio:P/R}}function conicProjection(_,R,P){const{type:I,aspectRatio:O}=scaleProjection(_,R,P);return{type:z=>{const{parallels:L,domain:F,width:U,height:V}=z,q=I(z);return L!=null&&(q.parallels(L),F===void 0&&U!=null&&q.fitSize([U,V],{type:"Sphere"})),q},aspectRatio:O}}const identity=constant({stream:_=>_}),reflectY=constant(geoTransform({point(_,R){this.stream.point(_,-R)}}));function project(_,R,P,I){const O=P[_],z=P[R],L=O.length,F=P[_]=new Float64Array(L).fill(NaN),U=P[R]=new Float64Array(L).fill(NaN);let V;const q=I.stream({point(W,Y){F[V]=W,U[V]=Y}});for(V=0;V<L;++V)q.point(O[V],z[V])}function hasProjection({projection:_}={}){return _==null?!1:typeof _.stream=="function"?!0:(isObject(_)&&(_=_.type),_!=null)}function projectionAspectRatio(_){if(typeof _?.stream=="function")return defaultAspectRatio;if(isObject(_)){let R,P;if({domain:R,type:_,...P}=_,R!=null&&_!=null){const I=typeof _=="string"?namedProjection(_).type:_,[[O,z],[L,F]]=geoPath(I({...P,width:100,height:100})).bounds(R),U=(F-z)/(L-O);return U&&isFinite(U)?U<.2?.2:U>5?5:U:defaultAspectRatio}}if(_!=null){if(typeof _!="function"){const{aspectRatio:R}=namedProjection(_);if(R)return R}return defaultAspectRatio}}function getGeometryChannels(_){const R=[],P=[],I={scale:"x",value:R},O={scale:"y",value:P},z={point(L,F){R.push(L),P.push(F)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const L of _.value)geoStream(L,z);return[I,O]}function xyProjection({x:_,y:R}){if(_||R)return _??=P=>P,R??=P=>P,geoTransform({point(P,I){this.stream.point(_(P),R(I))}})}function createContext(_={}){const{document:R=typeof window<"u"?window.document:void 0,clip:P}=_;return{document:R,clip:maybeClip(P)}}function create$1(_,{document:R}){return select(creator(_).call(R.documentElement))}const unset=Symbol("unset");function memoize1(_){return(_.length===1?memoize1Arg:memoize1Args)(_)}function memoize1Arg(_){let R,P=unset;return I=>(Object.is(P,I)||(P=I,R=_(I)),R)}function memoize1Args(_){let R,P;return(...I)=>((P?.length!==I.length||P.some((O,z)=>!Object.is(O,I[z])))&&(P=I,R=_(...I)),R)}const numberFormat=memoize1(_=>new Intl.NumberFormat(_));memoize1((_,R)=>new Intl.DateTimeFormat(_,{timeZone:"UTC",...R&&{month:R}}));memoize1((_,R)=>new Intl.DateTimeFormat(_,{timeZone:"UTC",...R&&{weekday:R}}));function formatNumber(_="en-US"){const R=numberFormat(_);return P=>P!=null&&!isNaN(P)?R.format(P):void 0}function formatIsoDate(_){return format(_,"Invalid Date")}function formatAuto(_="en-US"){const R=formatNumber(_);return P=>(P instanceof Date?formatIsoDate:typeof P=="number"?R:string$2)(P)}const formatDefault=formatAuto(),offset=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let nextClipId=0;function getClipId(){return`plot-clip-${++nextClipId}`}function styles$1(_,{title:R,href:P,ariaLabel:I,ariaDescription:O,ariaHidden:z,target:L,fill:F,fillOpacity:U,stroke:V,strokeWidth:q,strokeOpacity:W,strokeLinejoin:Y,strokeLinecap:Q,strokeMiterlimit:ee,strokeDasharray:te,strokeDashoffset:ie,opacity:ae,mixBlendMode:se,imageFilter:le,paintOrder:ce,pointerEvents:fe,shapeRendering:de,channels:he},{ariaLabel:pe,fill:ge="currentColor",fillOpacity:be,stroke:xe="none",strokeOpacity:_e,strokeWidth:Se,strokeLinecap:me,strokeLinejoin:Ce,strokeMiterlimit:Te,paintOrder:Re}){ge===null&&(F=null,U=null),xe===null&&(V=null,W=null),isNoneish(ge)?!isNoneish(xe)&&(!isNoneish(F)||he?.fill)&&(xe="none"):isNoneish(xe)&&(!isNoneish(V)||he?.stroke)&&(ge="none");const[Pe,Me]=maybeColorChannel(F,ge),[Ae,we]=maybeNumberChannel(U,be),[ke,Ee]=maybeColorChannel(V,xe),[ze,je]=maybeNumberChannel(W,_e),[Ke,He]=maybeNumberChannel(ae);isNone(Ee)||(q===void 0&&(q=Se),Q===void 0&&(Q=me),Y===void 0&&(Y=Ce),ee===void 0&&!isRound(Y)&&(ee=Te),!isNone(Me)&&ce===void 0&&(ce=Re));const[Ze,Le]=maybeNumberChannel(q);return ge!==null&&(_.fill=impliedString(Me,"currentColor"),_.fillOpacity=impliedNumber(we,1)),xe!==null&&(_.stroke=impliedString(Ee,"none"),_.strokeWidth=impliedNumber(Le,1),_.strokeOpacity=impliedNumber(je,1),_.strokeLinejoin=impliedString(Y,"miter"),_.strokeLinecap=impliedString(Q,"butt"),_.strokeMiterlimit=impliedNumber(ee,4),_.strokeDasharray=impliedString(te,"none"),_.strokeDashoffset=impliedString(ie,"0")),_.target=string$2(L),_.ariaLabel=string$2(pe),_.ariaDescription=string$2(O),_.ariaHidden=string$2(z),_.opacity=impliedNumber(He,1),_.mixBlendMode=impliedString(se,"normal"),_.imageFilter=impliedString(le,"none"),_.paintOrder=impliedString(ce,"normal"),_.pointerEvents=impliedString(fe,"auto"),_.shapeRendering=impliedString(de,"auto"),{title:{value:R,optional:!0,filter:null},href:{value:P,optional:!0,filter:null},ariaLabel:{value:I,optional:!0,filter:null},fill:{value:Pe,scale:"auto",optional:!0},fillOpacity:{value:Ae,scale:"auto",optional:!0},stroke:{value:ke,scale:"auto",optional:!0},strokeOpacity:{value:ze,scale:"auto",optional:!0},strokeWidth:{value:Ze,optional:!0},opacity:{value:Ke,scale:"auto",optional:!0}}}function applyTitle(_,R){R&&_.filter(P=>nonempty(R[P])).append("title").call(applyText,R)}function applyTitleGroup(_,R){R&&_.filter(([P])=>nonempty(R[P])).append("title").call(applyTextGroup,R)}function applyText(_,R){R&&_.text(P=>formatDefault(R[P]))}function applyTextGroup(_,R){R&&_.text(([P])=>formatDefault(R[P]))}function applyChannelStyles(_,{target:R,tip:P},{ariaLabel:I,title:O,fill:z,fillOpacity:L,stroke:F,strokeOpacity:U,strokeWidth:V,opacity:q,href:W}){I&&applyAttr(_,"aria-label",Y=>I[Y]),z&&applyAttr(_,"fill",Y=>z[Y]),L&&applyAttr(_,"fill-opacity",Y=>L[Y]),F&&applyAttr(_,"stroke",Y=>F[Y]),U&&applyAttr(_,"stroke-opacity",Y=>U[Y]),V&&applyAttr(_,"stroke-width",Y=>V[Y]),q&&applyAttr(_,"opacity",Y=>q[Y]),W&&applyHref(_,Y=>W[Y],R),P||applyTitle(_,O)}function applyGroupedChannelStyles(_,{target:R,tip:P},{ariaLabel:I,title:O,fill:z,fillOpacity:L,stroke:F,strokeOpacity:U,strokeWidth:V,opacity:q,href:W}){I&&applyAttr(_,"aria-label",([Y])=>I[Y]),z&&applyAttr(_,"fill",([Y])=>z[Y]),L&&applyAttr(_,"fill-opacity",([Y])=>L[Y]),F&&applyAttr(_,"stroke",([Y])=>F[Y]),U&&applyAttr(_,"stroke-opacity",([Y])=>U[Y]),V&&applyAttr(_,"stroke-width",([Y])=>V[Y]),q&&applyAttr(_,"opacity",([Y])=>q[Y]),W&&applyHref(_,([Y])=>W[Y],R),P||applyTitleGroup(_,O)}function groupAesthetics({ariaLabel:_,title:R,fill:P,fillOpacity:I,stroke:O,strokeOpacity:z,strokeWidth:L,opacity:F,href:U},{tip:V}){return[_,V?void 0:R,P,I,O,z,L,F,U].filter(q=>q!==void 0)}function groupZ(_,R,P){const I=group(_,O=>R[O]);return P===void 0&&I.size>1+_.length>>1&&warn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),I.values()}function*groupIndex(_,R,P,I){const{z:O}=P,{z}=I,L=groupAesthetics(I,P),F=[...R,...L];for(const U of z?groupZ(_,z,O):[_]){let V,q;e:for(const W of U){for(const Y of F)if(!defined(Y[W])){q&&q.push(-1);continue e}if(V===void 0){q&&(yield q),V=L.map(Y=>keyof(Y[W])),q=[W];continue}q.push(W);for(let Y=0;Y<L.length;++Y)if(keyof(L[Y][W])!==V[Y]){yield q,V=L.map(ee=>keyof(ee[W])),q=[W];continue e}}q&&(yield q)}}function applyClip(_,R,P,I){let O;const{clip:z=I.clip}=R;z==="frame"?(_=create$1("svg:g",I).each(function(){this.appendChild(_.node()),_.node=()=>this}),O=getFrameClip(I,P)):z&&(O=getGeoClip(z,I)),applyAttr(_,"aria-label",R.ariaLabel),applyAttr(_,"aria-description",R.ariaDescription),applyAttr(_,"aria-hidden",R.ariaHidden),applyAttr(_,"clip-path",O)}function memoizeClip(_){const R=new WeakMap;return(P,I)=>{let O=R.get(P);if(!O){const z=getClipId();select(P.ownerSVGElement).append("clipPath").attr("id",z).call(_,P,I),R.set(P,O=`url(#${z})`)}return O}}const getFrameClip=memoizeClip((_,R,P)=>{const{width:I,height:O,marginLeft:z,marginRight:L,marginTop:F,marginBottom:U}=P;_.append("rect").attr("x",z).attr("y",F).attr("width",I-L-z).attr("height",O-F-U)}),geoClipCache=new WeakMap,sphere={type:"Sphere"};function getGeoClip(_,R){let P,I;if((P=geoClipCache.get(R))||geoClipCache.set(R,P=new WeakMap),_.type==="Sphere"&&(_=sphere),!(I=P.get(_))){const O=getClipId();select(R.ownerSVGElement).append("clipPath").attr("id",O).append("path").attr("d",R.path()(_)),P.set(_,I=`url(#${O})`)}return I}function applyIndirectStyles(_,R,P,I){applyClip(_,R,P,I),applyAttr(_,"class",R.className),applyAttr(_,"fill",R.fill),applyAttr(_,"fill-opacity",R.fillOpacity),applyAttr(_,"stroke",R.stroke),applyAttr(_,"stroke-width",R.strokeWidth),applyAttr(_,"stroke-opacity",R.strokeOpacity),applyAttr(_,"stroke-linejoin",R.strokeLinejoin),applyAttr(_,"stroke-linecap",R.strokeLinecap),applyAttr(_,"stroke-miterlimit",R.strokeMiterlimit),applyAttr(_,"stroke-dasharray",R.strokeDasharray),applyAttr(_,"stroke-dashoffset",R.strokeDashoffset),applyAttr(_,"shape-rendering",R.shapeRendering),applyAttr(_,"filter",R.imageFilter),applyAttr(_,"paint-order",R.paintOrder);const{pointerEvents:O=I.pointerSticky===!1?"none":void 0}=R;applyAttr(_,"pointer-events",O)}function applyDirectStyles(_,R){applyStyle(_,"mix-blend-mode",R.mixBlendMode),applyAttr(_,"opacity",R.opacity)}function applyHref(_,R,P){_.each(function(I){const O=R(I);if(O!=null){const z=this.ownerDocument.createElementNS(namespaces.svg,"a");z.setAttribute("fill","inherit"),z.setAttributeNS(namespaces.xlink,"href",O),P!=null&&z.setAttribute("target",P),this.parentNode.insertBefore(z,this).appendChild(this)}})}function applyAttr(_,R,P){P!=null&&_.attr(R,P)}function applyStyle(_,R,P){P!=null&&_.style(R,P)}function applyTransform(_,R,{x:P,y:I},O=offset,z=offset){O+=R.dx,z+=R.dy,P?.bandwidth&&(O+=P.bandwidth()/2),I?.bandwidth&&(z+=I.bandwidth()/2),(O||z)&&_.attr("transform",`translate(${O},${z})`)}function impliedString(_,R){if((_=string$2(_))!==R)return _}function impliedNumber(_,R){if((_=number$1(_))!==R)return _}const validClassName=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function maybeClassName(_){if(_===void 0)return"plot-d6a7b5";if(_=`${_}`,!validClassName.test(_))throw new Error(`invalid class name: ${_}`);return _}function applyInlineStyles(_,R){if(typeof R=="string")_.property("style",R);else if(R!=null)for(const P of _)Object.assign(P.style,R)}function applyFrameAnchor({frameAnchor:_},{width:R,height:P,marginTop:I,marginRight:O,marginBottom:z,marginLeft:L}){return[/left$/.test(_)?L:/right$/.test(_)?R-O:(L+R-O)/2,/^top/.test(_)?I:/^bottom/.test(_)?P-z:(I+P-z)/2]}class Mark{constructor(R,P={},I={},O){const{facet:z="auto",facetAnchor:L,fx:F,fy:U,sort:V,dx:q=0,dy:W=0,margin:Y=0,marginTop:Q=Y,marginRight:ee=Y,marginBottom:te=Y,marginLeft:ie=Y,className:ae,clip:se=O?.clip,channels:le,tip:ce,render:fe}=I;if(this.data=R,this.sort=isDomainSort(V)?V:null,this.initializer=initializer(I).initializer,this.transform=this.initializer?I.transform:basic(I).transform,z===null||z===!1?this.facet=null:(this.facet=keyword(z===!0?"include":z,"facet",["auto","include","exclude","super"]),this.fx=R===singleton&&typeof F=="string"?[F]:F,this.fy=R===singleton&&typeof U=="string"?[U]:U),this.facetAnchor=maybeFacetAnchor(L),P=maybeNamed(P),le!==void 0&&(P={...maybeChannels(le),...P}),O!==void 0&&(P={...styles$1(this,I,O),...P}),this.channels=Object.fromEntries(Object.entries(P).map(([de,he])=>{if(isOptions(he.value)){const{value:pe,label:ge=he.label,scale:be=he.scale}=he.value;he={...he,label:ge,scale:be,value:pe}}if(R===singleton&&typeof he.value=="string"){const{value:pe}=he;he={...he,value:[pe]}}return[de,he]}).filter(([de,{value:he,optional:pe}])=>{if(he!=null)return!0;if(pe)return!1;throw new Error(`missing channel value: ${de}`)})),this.dx=+q,this.dy=+W,this.marginTop=+Q,this.marginRight=+ee,this.marginBottom=+te,this.marginLeft=+ie,this.clip=maybeClip(se),this.tip=maybeTip(ce),this.className=string$2(ae),this.facet==="super"){if(F||U)throw new Error("super-faceting cannot use fx or fy");for(const de in this.channels){const{scale:he}=P[de];if(!(he!=="x"&&he!=="y"))throw new Error("super-faceting cannot use x or y")}}fe!=null&&(this.render=composeRender(fe,this.render))}initialize(R,P,I){let O=dataify(this.data);R===void 0&&O!=null&&(R=[range(O)]);const z=R;this.transform!=null&&({facets:R,data:O}=this.transform(O,R,I),O=dataify(O)),R!==void 0&&(R.original=z);const L=createChannels(this.channels,O);return this.sort!=null&&channelDomain(O,R,L,P,this.sort),{data:O,facets:R,channels:L}}filter(R,P,I){for(const O in P){const{filter:z=defined}=P[O];if(z!==null){const L=I[O];R=R.filter(F=>z(L[F]))}}return R}project(R,P,I){for(const O in R)if(R[O].scale==="x"&&/^x|x$/.test(O)){const z=O.replace(/^x|x$/,"y");z in R&&R[z].scale==="y"&&project(O,z,P,I.projection)}}scale(R,P,I){const O=valueObject(R,P);return I.projection&&this.project(R,O,I),O}}function marks(..._){return _.plot=Mark.prototype.plot,_}function composeRender(_,R){if(_==null)return R===null?void 0:R;if(R==null)return _===null?void 0:_;if(typeof _!="function")throw new TypeError(`invalid render transform: ${_}`);if(typeof R!="function")throw new TypeError(`invalid render transform: ${R}`);return function(P,I,O,z,L,F){return _.call(this,P,I,O,z,L,(U,V,q,W,Y)=>R.call(this,U,V,q,W,Y,F))}}function maybeChannels(_){return Object.fromEntries(Object.entries(maybeNamed(_)).map(([R,P])=>(P=typeof P=="string"?{value:P,label:R}:maybeValue(P),P.filter===void 0&&P.scale==null&&(P={...P,filter:null}),[R,P])))}function maybeTip(_){return _===!0?"xy":_===!1||_==null?null:typeof _=="string"?keyword(_,"tip",["x","y","xy"]):_}function withTip(_,R){return _?.tip===!0?{..._,tip:R}:isObject(_?.tip)&&_.tip.pointer===void 0?{..._,tip:{..._.tip,pointer:R}}:_}function createDimensions(_,R,P={}){let I=.5-offset,O=.5+offset,z=.5+offset,L=.5-offset;for(const{marginTop:te,marginRight:ie,marginBottom:ae,marginLeft:se}of R)te>I&&(I=te),ie>O&&(O=ie),ae>z&&(z=ae),se>L&&(L=se);let{margin:F,marginTop:U=F!==void 0?F:I,marginRight:V=F!==void 0?F:O,marginBottom:q=F!==void 0?F:z,marginLeft:W=F!==void 0?F:L}=P;U=+U,V=+V,q=+q,W=+W;let{width:Y=640,height:Q=autoHeight(_,P,{width:Y,marginTopDefault:I,marginRightDefault:O,marginBottomDefault:z,marginLeftDefault:L})+Math.max(0,U-I+q-z)}=P;Y=+Y,Q=+Q;const ee={width:Y,height:Q,marginTop:U,marginRight:V,marginBottom:q,marginLeft:W};if(_.fx||_.fy){let{margin:te,marginTop:ie=te!==void 0?te:U,marginRight:ae=te!==void 0?te:V,marginBottom:se=te!==void 0?te:q,marginLeft:le=te!==void 0?te:W}=P.facet??{};ie=+ie,ae=+ae,se=+se,le=+le,ee.facet={marginTop:ie,marginRight:ae,marginBottom:se,marginLeft:le}}return ee}function autoHeight({x:_,y:R,fy:P,fx:I},{projection:O,aspectRatio:z},{width:L,marginTopDefault:F,marginRightDefault:U,marginBottomDefault:V,marginLeftDefault:q}){const W=P&&P.scale.domain().length||1,Y=projectionAspectRatio(O);if(Y){const ee=I?I.scale.domain().length:1,te=(1.1*W-.1)/(1.1*ee-.1)*Y,ie=Math.max(.1,Math.min(10,te));return Math.round((L-q-U)*ie+F+V)}const Q=R?isOrdinalScale(R)?R.scale.domain().length||1:Math.max(7,17/W):1;if(z!=null){if(z=+z,!(isFinite(z)&&z>0))throw new Error(`invalid aspectRatio: ${z}`);const ee=aspectRatioLength("y",R)/(aspectRatioLength("x",_)*z),te=I?I.scale.bandwidth():1,ie=P?P.scale.bandwidth():1,ae=te*(L-q-U)-_.insetLeft-_.insetRight;return(ee*ae+R.insetTop+R.insetBottom)/ie+F+V}return!!(R||P)*Math.max(1,Math.min(60,Q*W))*20+!!I*30+60}function aspectRatioLength(_,R){if(!R)throw new Error(`aspectRatio requires ${_} scale`);const{type:P,domain:I}=R;let O;switch(P){case"linear":case"utc":case"time":O=Number;break;case"pow":{const F=R.scale.exponent();O=U=>Math.pow(U,F);break}case"log":O=Math.log;break;case"point":case"band":return I.length;default:throw new Error(`unsupported ${_} scale for aspectRatio: ${P}`)}const[z,L]=extent$1(I);return Math.abs(O(L)-O(z))}const states=new WeakMap;function pointerK(_,R,{x:P,y:I,px:O,py:z,maxRadius:L=40,channels:F,render:U,...V}={}){return L=+L,O!=null&&(P??=null,F={...F,px:{value:O,scale:"x"}}),z!=null&&(I??=null,F={...F,py:{value:z,scale:"y"}}),{x:P,y:I,channels:F,...V,render:composeRender(function(q,W,Y,Q,ee,te){ee={...ee,pointerSticky:!1};const ie=ee.ownerSVGElement,{data:ae}=ee.getMarkState(this);let se=states.get(ie);se||states.set(ie,se={sticky:!1,roots:[],renders:[]});let le=se.renders.push(Ee)-1;const{x:ce,y:fe,fx:de,fy:he}=W;let pe=de?de(q.fx)-Q.marginLeft:0,ge=he?he(q.fy)-Q.marginTop:0;ce?.bandwidth&&(pe+=ce.bandwidth()/2),fe?.bandwidth&&(ge+=fe.bandwidth()/2);const be=q.fi!=null;let xe;if(be){let He=se.facetStates;He||(se.facetStates=He=new Map),xe=He.get(this),xe||He.set(this,xe=new Map)}const[_e,Se]=applyFrameAnchor(this,Q),{px:me,py:Ce}=Y,Te=me?He=>me[He]:anchorX$1(Y,_e),Re=Ce?He=>Ce[He]:anchorY$1(Y,Se);let Pe,Me,Ae,we;function ke(He,Ze){if(be)if(we&&(we=cancelAnimationFrame(we)),He==null)xe.delete(q.fi);else{xe.set(q.fi,Ze),we=requestAnimationFrame(()=>{we=null;for(const[Le,Xe]of xe)if(Xe<Ze||Xe===Ze&&Le<q.fi){He=null;break}Ee(He)});return}Ee(He)}function Ee(He){if(Pe===He&&Ae===se.sticky)return;Pe=He,Ae=ee.pointerSticky=se.sticky;const Ze=Pe==null?[]:[Pe];be&&(Ze.fx=q.fx,Ze.fy=q.fy,Ze.fi=q.fi);const Le=te(Ze,W,Y,Q,ee);if(Me){if(be){const Xe=Me.parentNode,Ye=Me.getAttribute("transform"),Ve=Le.getAttribute("transform");Ye?Le.setAttribute("transform",Ye):Le.removeAttribute("transform"),Ve?Xe.setAttribute("transform",Ve):Xe.removeAttribute("transform"),Le.removeAttribute("aria-label"),Le.removeAttribute("aria-description"),Le.removeAttribute("aria-hidden")}Me.replaceWith(Le)}if(se.roots[le]=Me=Le,!(Pe==null&&xe?.size>1)){const Xe=Pe==null?null:isArray(ae)?ae[Pe]:ae.get(Pe);ee.dispatchValue(Xe)}return Le}function ze(He){if(se.sticky||He.pointerType==="mouse"&&He.buttons===1)return;let[Ze,Le]=pointof(He);Ze-=pe,Le-=ge;const Xe=Ze<Q.marginLeft||Ze>Q.width-Q.marginRight?1:_,Ye=Le<Q.marginTop||Le>Q.height-Q.marginBottom?1:R;let Ve=null,dt=L*L;for(const ye of q){const Ge=Xe*(Te(ye)-Ze),Fe=Ye*(Re(ye)-Le),Ie=Ge*Ge+Fe*Fe;Ie<=dt&&(Ve=ye,dt=Ie)}if(Ve!=null&&(_!==1||R!==1)){const ye=Te(Ve)-Ze,Ge=Re(Ve)-Le;dt=ye*ye+Ge*Ge}ke(Ve,dt)}function je(He){He.pointerType==="mouse"&&Pe!=null&&(se.sticky&&se.roots.some(Ze=>Ze?.contains(He.target))||(se.sticky?(se.sticky=!1,se.renders.forEach(Ze=>Ze(null))):(se.sticky=!0,Ee(Pe)),He.stopImmediatePropagation()))}function Ke(He){He.pointerType==="mouse"&&(se.sticky||ke(null))}return ie.addEventListener("pointerenter",ze),ie.addEventListener("pointermove",ze),ie.addEventListener("pointerdown",je),ie.addEventListener("pointerleave",Ke),Ee(null)},U)}}function pointer(_){return pointerK(1,1,_)}function pointerX(_){return pointerK(1,.01,_)}function pointerY(_){return pointerK(.01,1,_)}function anchorX$1({x1:_,x2:R,x:P=_},I){return _&&R?O=>(_[O]+R[O])/2:P?O=>P[O]:()=>I}function anchorY$1({y1:_,y2:R,y:P=_},I){return _&&R?O=>(_[O]+R[O])/2:P?O=>P[O]:()=>I}function inferFontVariant$2(_){return isOrdinalScale(_)&&_.interval===void 0?void 0:"tabular-nums"}function legendRamp(_,R){let{label:P=_.label,tickSize:I=6,width:O=240,height:z=44+I,marginTop:L=18,marginRight:F=0,marginBottom:U=16+I,marginLeft:V=0,style:q,ticks:W=(O-V-F)/64,tickFormat:Y,fontVariant:Q=inferFontVariant$2(_),round:ee=!0,opacity:te,className:ie}=R;const ae=createContext(R);ie=maybeClassName(ie),te=maybeNumberChannel(te)[1],Y===null&&(Y=()=>null);const se=create$1("svg",ae).attr("class",`${ie}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",O).attr("height",z).attr("viewBox",`0 0 ${O} ${z}`).call(_e=>_e.append("style").text(`:where(.${ie}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${ie}-ramp text) {
  white-space: pre;
}`)).call(applyInlineStyles,q);let le=_e=>_e.selectAll(".tick line").attr("y1",L+U-z),ce;const fe=ee?(_e,Se)=>_e.rangeRound(Se):(_e,Se)=>_e.range(Se),{type:de,domain:he,range:pe,interpolate:ge,scale:be,pivot:xe}=_;if(ge){const _e=pe===void 0?ge:piecewise(ge.length===1?interpolatePiecewise(ge):ge,pe);ce=fe(be.copy(),quantize(interpolateNumber(V,O-F),Math.min(he.length+(xe!==void 0),pe===void 0?1/0:pe.length)));const Se=256,me=ae.document.createElement("canvas");me.width=Se,me.height=1;const Ce=me.getContext("2d");for(let Te=0,Re=Se-1;Te<Se;++Te)Ce.fillStyle=_e(Te/Re),Ce.fillRect(Te,0,1,1);se.append("image").attr("opacity",te).attr("x",V).attr("y",L).attr("width",O-V-F).attr("height",z-L-U).attr("preserveAspectRatio","none").attr("xlink:href",me.toDataURL())}else if(de==="threshold"){const _e=he,Se=Y===void 0?me=>me:typeof Y=="string"?format$1(Y):Y;ce=fe(linear().domain([-1,pe.length-1]),[V,O-F]),se.append("g").attr("fill-opacity",te).selectAll().data(pe).enter().append("rect").attr("x",(me,Ce)=>ce(Ce-1)).attr("y",L).attr("width",(me,Ce)=>ce(Ce)-ce(Ce-1)).attr("height",z-L-U).attr("fill",me=>me),W=map(_e,(me,Ce)=>Ce),Y=me=>Se(_e[me],me)}else ce=fe(band().domain(he),[V,O-F]),se.append("g").attr("fill-opacity",te).selectAll().data(he).enter().append("rect").attr("x",ce).attr("y",L).attr("width",Math.max(0,ce.bandwidth()-1)).attr("height",z-L-U).attr("fill",be),le=()=>{};return se.append("g").attr("transform",`translate(0,${z-U})`).call(axisBottom(ce).ticks(Array.isArray(W)?null:W,typeof Y=="string"?Y:void 0).tickFormat(typeof Y=="function"?Y:void 0).tickSize(I).tickValues(Array.isArray(W)?W:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",impliedString(Q,"normal")).call(le).call(_e=>_e.select(".domain").remove()),P!==void 0&&se.append("text").attr("x",V).attr("y",L-6).attr("fill","currentColor").attr("font-weight","bold").text(P),se.node()}const radians=Math.PI/180;function markers(_,{marker:R,markerStart:P=R,markerMid:I=R,markerEnd:O=R}={}){_.markerStart=maybeMarker(P),_.markerMid=maybeMarker(I),_.markerEnd=maybeMarker(O)}function maybeMarker(_){if(_==null||_===!1)return null;if(_===!0)return markerCircleFill;if(typeof _=="function")return _;switch(`${_}`.toLowerCase()){case"none":return null;case"arrow":return markerArrow("auto");case"arrow-reverse":return markerArrow("auto-start-reverse");case"dot":return markerDot;case"circle":case"circle-fill":return markerCircleFill;case"circle-stroke":return markerCircleStroke;case"tick":return markerTick("auto");case"tick-x":return markerTick(90);case"tick-y":return markerTick(0)}throw new Error(`invalid marker: ${_}`)}function markerArrow(_){return(R,P)=>create$1("svg:marker",P).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",_).attr("fill","none").attr("stroke",R).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(I=>I.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function markerDot(_,R){return create$1("svg:marker",R).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",_).attr("stroke","none").call(P=>P.append("circle").attr("r",2.5)).node()}function markerCircleFill(_,R){return create$1("svg:marker",R).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",_).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(P=>P.append("circle").attr("r",3)).node()}function markerCircleStroke(_,R){return create$1("svg:marker",R).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",_).attr("stroke-width",1.5).call(P=>P.append("circle").attr("r",3)).node()}function markerTick(_){return(R,P)=>create$1("svg:marker",P).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",_).attr("stroke",R).call(I=>I.append("path").attr("d","M0,-3v6")).node()}let nextMarkerId=0;function applyMarkers(_,R,{stroke:P},I){return applyMarkersColor(_,R,P&&(O=>P[O]),null,I)}function applyGroupedMarkers(_,R,{stroke:P,z:I},O){return applyMarkersColor(_,R,P&&(([z])=>P[z]),I,O)}const START=1,END=2;function getGroupedOrientation(_,R){const P=new Uint8Array(R.length),I=_.data().filter(z=>z.length>1),O=I.length;for(let z=0,L=unset;z<O;++z){const F=I[z];if(F.length>1){const U=F[0];L!==(L=keyof(R[U]))&&(P[U]|=START)}}for(let z=O-1,L=unset;z>=0;--z){const F=I[z];if(F.length>1){const U=F[0];L!==(L=keyof(R[U]))&&(P[U]|=END)}}return([z])=>P[z]}function applyMarkersColor(_,{markerStart:R,markerMid:P,markerEnd:I,stroke:O},z=()=>O,L,F){if(!R&&!P&&!I)return;const U=new Map,V=L&&getGroupedOrientation(_,L);function q(W,Y,Q){return function(ee){if(Q&&!Q(ee))return;const te=z(ee);let ie=U.get(Y);ie||U.set(Y,ie=new Map);let ae=ie.get(te);if(!ae){const se=this.parentNode.insertBefore(Y(te,F),this),le=`plot-marker-${++nextMarkerId}`;se.setAttribute("id",le),ie.set(te,ae=`url(#${le})`)}this.setAttribute(W,ae)}}R&&_.each(q("marker-start",R,V&&(W=>V(W)&START))),P&&V&&_.each(q("marker-start",P,W=>!(V(W)&START))),P&&_.each(q("marker-mid",P)),I&&_.each(q("marker-end",I,V&&(W=>V(W)&END)))}function maybeInsetX({inset:_,insetLeft:R,insetRight:P,...I}={}){return[R,P]=maybeInset(_,R,P),{inset:_,insetLeft:R,insetRight:P,...I}}function maybeInsetY({inset:_,insetTop:R,insetBottom:P,...I}={}){return[R,P]=maybeInset(_,R,P),{inset:_,insetTop:R,insetBottom:P,...I}}function maybeInset(_,R,P){return _===void 0&&R===void 0&&P===void 0?offset?[1,0]:[.5,.5]:[R,P]}function maybeIntervalValue(_,{interval:R}){return _={...maybeValue(_)},_.interval=maybeInterval(_.interval===void 0?R:_.interval),_}function maybeIntervalK(_,R,P,I){const{[_]:O,[`${_}1`]:z,[`${_}2`]:L}=P,{value:F,interval:U}=maybeIntervalValue(O,P);if(F==null||U==null&&!I)return P;const V=labelof(O);if(U==null){let Q;const ee={transform:te=>Q||(Q=valueof(te,F)),label:V};return{...P,[_]:void 0,[`${_}1`]:z===void 0?ee:z,[`${_}2`]:L===void 0&&!(z===L&&I)?ee:L}}let q,W;function Y(Q){return W!==void 0&&Q===q?W:W=map(valueof(q=Q,F),ee=>U.floor(ee))}return R({...P,[_]:void 0,[`${_}1`]:z===void 0?{transform:Y,label:V}:z,[`${_}2`]:L===void 0?{transform:Q=>Y(Q).map(ee=>U.offset(ee)),label:V}:L})}function maybeIntervalMidK(_,R,P){const{[_]:I}=P,{value:O,interval:z}=maybeIntervalValue(I,P);return O==null||z==null?P:R({...P,[_]:{label:labelof(I),transform:L=>{const F=map(valueof(L,O),V=>z.floor(V)),U=F.map(V=>z.offset(V));return F.map(isTemporal(F)?(V,q)=>V==null||isNaN(V=+V)||(q=U[q],q==null)||isNaN(q=+q)?void 0:new Date((V+q)/2):(V,q)=>V==null||(q=U[q],q==null)?NaN:(+V+ +q)/2)}}})}function maybeIntervalX(_={}){return maybeIntervalK("x",maybeInsetX,_)}function maybeIntervalY(_={}){return maybeIntervalK("y",maybeInsetY,_)}function maybeIntervalMidX(_={}){return maybeIntervalMidK("x",maybeInsetX,_)}function maybeIntervalMidY(_={}){return maybeIntervalMidK("y",maybeInsetY,_)}const defaults$9={ariaLabel:"rule",fill:null,stroke:"currentColor"};class RuleX extends Mark{constructor(R,P={}){const{x:I,y1:O,y2:z,inset:L=0,insetTop:F=L,insetBottom:U=L}=P;super(R,{x:{value:I,scale:"x",optional:!0},y1:{value:O,scale:"y",optional:!0},y2:{value:z,scale:"y",optional:!0}},withTip(P,"x"),defaults$9),this.insetTop=number$1(F),this.insetBottom=number$1(U),markers(this,P)}render(R,P,I,O,z){const{x:L,y:F}=P,{x:U,y1:V,y2:q}=I,{width:W,height:Y,marginTop:Q,marginRight:ee,marginLeft:te,marginBottom:ie}=O,{insetTop:ae,insetBottom:se}=this;return create$1("svg:g",z).call(applyIndirectStyles,this,O,z).call(applyTransform,this,{x:U&&L},offset,0).call(le=>le.selectAll().data(R).enter().append("line").call(applyDirectStyles,this).attr("x1",U?ce=>U[ce]:(te+W-ee)/2).attr("x2",U?ce=>U[ce]:(te+W-ee)/2).attr("y1",V&&!isCollapsed(F)?ce=>V[ce]+ae:Q+ae).attr("y2",q&&!isCollapsed(F)?F.bandwidth?ce=>q[ce]+F.bandwidth()-se:ce=>q[ce]-se:Y-ie-se).call(applyChannelStyles,this,I).call(applyMarkers,this,I,z)).node()}}class RuleY extends Mark{constructor(R,P={}){const{x1:I,x2:O,y:z,inset:L=0,insetRight:F=L,insetLeft:U=L}=P;super(R,{y:{value:z,scale:"y",optional:!0},x1:{value:I,scale:"x",optional:!0},x2:{value:O,scale:"x",optional:!0}},withTip(P,"y"),defaults$9),this.insetRight=number$1(F),this.insetLeft=number$1(U),markers(this,P)}render(R,P,I,O,z){const{x:L,y:F}=P,{y:U,x1:V,x2:q}=I,{width:W,height:Y,marginTop:Q,marginRight:ee,marginLeft:te,marginBottom:ie}=O,{insetLeft:ae,insetRight:se}=this;return create$1("svg:g",z).call(applyIndirectStyles,this,O,z).call(applyTransform,this,{y:U&&F},0,offset).call(le=>le.selectAll().data(R).enter().append("line").call(applyDirectStyles,this).attr("x1",V&&!isCollapsed(L)?ce=>V[ce]+ae:te+ae).attr("x2",q&&!isCollapsed(L)?L.bandwidth?ce=>q[ce]+L.bandwidth()-se:ce=>q[ce]-se:W-ee-se).attr("y1",U?ce=>U[ce]:(Q+Y-ie)/2).attr("y2",U?ce=>U[ce]:(Q+Y-ie)/2).call(applyChannelStyles,this,I).call(applyMarkers,this,I,z)).node()}}function ruleX(_,R){let{x:P=identity$1,y:I,y1:O,y2:z,...L}=maybeIntervalY(R);return[O,z]=maybeOptionalZero(I,O,z),new RuleX(_,{...L,x:P,y1:O,y2:z})}function ruleY(_,R){let{y:P=identity$1,x:I,x1:O,x2:z,...L}=maybeIntervalX(R);return[O,z]=maybeOptionalZero(I,O,z),new RuleY(_,{...L,y:P,x1:O,x2:z})}function maybeOptionalZero(_,R,P){if(_==null){if(R===void 0){if(P!==void 0)return[0,P]}else if(P===void 0)return[0,R]}else{if(R===void 0)return P===void 0?[0,_]:[_,P];if(P===void 0)return[_,R]}return[R,P]}function template(_,...R){let P=R.length;for(let I=0,O=!0;I<P;++I)typeof R[I]!="function"&&(O&&(_=_.slice(),O=!1),_.splice(I,2,_[I]+R[I]+_[I+1]),R.splice(I,1),--I,--P);return I=>{let O=_[0];for(let z=0;z<P;++z)O+=R[z](I)+_[z+1];return O}}const defaults$8={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},softHyphen="";class Text extends Mark{constructor(R,P={}){const{x:I,y:O,text:z=isIterable(R)&&isTextual(R)?identity$1:indexOf,frameAnchor:L,textAnchor:F=/right$/i.test(L)?"end":/left$/i.test(L)?"start":"middle",lineAnchor:U=/^top/i.test(L)?"top":/^bottom/i.test(L)?"bottom":"middle",lineHeight:V=1,lineWidth:q=1/0,textOverflow:W,monospace:Y,fontFamily:Q=Y?"ui-monospace, monospace":void 0,fontSize:ee,fontStyle:te,fontVariant:ie,fontWeight:ae,rotate:se}=P,[le,ce]=maybeNumberChannel(se,0),[fe,de]=maybeFontSizeChannel(ee);if(super(R,{x:{value:I,scale:"x",optional:!0},y:{value:O,scale:"y",optional:!0},fontSize:{value:fe,optional:!0},rotate:{value:numberChannel(le),optional:!0},text:{value:z,filter:nonempty,optional:!0}},P,defaults$8),this.rotate=ce,this.textAnchor=impliedString(F,"middle"),this.lineAnchor=keyword(U,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+V,this.lineWidth=+q,this.textOverflow=maybeTextOverflow(W),this.monospace=!!Y,this.fontFamily=string$2(Q),this.fontSize=de,this.fontStyle=string$2(te),this.fontVariant=string$2(ie),this.fontWeight=string$2(ae),this.frameAnchor=maybeFrameAnchor(L),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${q}`);this.splitLines=splitter(this),this.clipLine=clipper(this)}render(R,P,I,O,z){const{x:L,y:F}=P,{x:U,y:V,rotate:q,text:W,title:Y,fontSize:Q}=I,{rotate:ee}=this,[te,ie]=applyFrameAnchor(this,O);return create$1("svg:g",z).call(applyIndirectStyles,this,O,z).call(applyIndirectTextStyles,this,W,O).call(applyTransform,this,{x:U&&L,y:V&&F}).call(ae=>ae.selectAll().data(R).enter().append("text").call(applyDirectStyles,this).call(applyMultilineText,this,W,Y).attr("transform",template`translate(${U?se=>U[se]:te},${V?se=>V[se]:ie})${q?se=>` rotate(${q[se]})`:ee?` rotate(${ee})`:""}`).call(applyAttr,"font-size",Q&&(se=>Q[se])).call(applyChannelStyles,this,I)).node()}}function maybeTextOverflow(_){return _==null?null:keyword(_,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function applyMultilineText(_,R,P,I){if(!P)return;const{lineAnchor:O,lineHeight:z,textOverflow:L,splitLines:F,clipLine:U}=R;_.each(function(V){const q=F(formatDefault(P[V])??"").map(U),W=q.length,Y=O==="top"?.71:O==="bottom"?1-W:(164-W*100)/200;if(W>1){let Q=0;for(let ee=0;ee<W;++ee){if(++Q,!q[ee])continue;const te=this.ownerDocument.createElementNS(namespaces.svg,"tspan");te.setAttribute("x",0),ee===Q-1?te.setAttribute("y",`${(Y+ee)*z}em`):te.setAttribute("dy",`${Q*z}em`),te.textContent=q[ee],this.appendChild(te),Q=0}}else Y&&this.setAttribute("y",`${Y*z}em`),this.textContent=q[0];if(L&&!I&&q[0]!==P[V]){const Q=this.ownerDocument.createElementNS(namespaces.svg,"title");Q.textContent=P[V],this.appendChild(Q)}})}function text$7(_,{x:R,y:P,...I}={}){return I.frameAnchor===void 0&&([R,P]=maybeTuple(R,P)),new Text(_,{...I,x:R,y:P})}function textX(_,{x:R=identity$1,...P}={}){return new Text(_,maybeIntervalMidY({...P,x:R}))}function textY(_,{y:R=identity$1,...P}={}){return new Text(_,maybeIntervalMidX({...P,y:R}))}function applyIndirectTextStyles(_,R,P){applyAttr(_,"text-anchor",R.textAnchor),applyAttr(_,"font-family",R.fontFamily),applyAttr(_,"font-size",R.fontSize),applyAttr(_,"font-style",R.fontStyle),applyAttr(_,"font-variant",R.fontVariant===void 0?inferFontVariant$1(P):R.fontVariant),applyAttr(_,"font-weight",R.fontWeight)}function inferFontVariant$1(_){return _&&(isNumeric(_)||isTemporal(_))?"tabular-nums":void 0}const fontSizes=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function maybeFontSizeChannel(_){return _==null||typeof _=="number"?[void 0,_]:typeof _!="string"?[_,void 0]:(_=_.trim().toLowerCase(),fontSizes.has(_)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(_)?[void 0,_]:[_,void 0])}function lineWrap(_,R,P){const I=[];let O,z=0;for(const[L,F,U]of lineBreaks(_)){if(O===void 0&&(O=L),z>O&&P(_,O,F)>R&&(I.push(_.slice(O,z)+(_[z-1]===softHyphen?"-":"")),O=L),U){I.push(_.slice(O,F)),O=void 0;continue}z=F}return I}function*lineBreaks(_){let R=0,P=0;const I=_.length;for(;P<I;){let O=1;switch(_[P]){case softHyphen:case"-":++P,yield[R,P,!1],R=P;break;case" ":for(yield[R,P,!1];_[++P]===" ";);R=P;break;case"\r":_[P+1]===`
`&&++O;case`
`:yield[R,P,!0],P+=O,R=P;break;default:++P;break}}yield[R,P,!0]}const defaultWidthMap={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function defaultWidth(_,R=0,P=_.length){let I=0;for(let O=R;O<P;O=readCharacter(_,O))I+=defaultWidthMap[_[O]]??(isPictographic(_,O)?120:defaultWidthMap.e);return I}function monospaceWidth(_,R=0,P=_.length){let I=0;for(let O=R;O<P;O=readCharacter(_,O))I+=isPictographic(_,O)?126:63;return I}function splitter({monospace:_,lineWidth:R,textOverflow:P}){if(P!=null||R==1/0)return z=>z.split(/\r\n?|\n/g);const I=_?monospaceWidth:defaultWidth,O=R*100;return z=>lineWrap(z,O,I)}function clipper({monospace:_,lineWidth:R,textOverflow:P}){if(P==null||R==1/0)return z=>z;const I=_?monospaceWidth:defaultWidth,O=R*100;switch(P){case"clip-start":return z=>clipStart(z,O,I,"");case"clip-end":return z=>clipEnd(z,O,I,"");case"ellipsis-start":return z=>clipStart(z,O,I,ellipsis);case"ellipsis-middle":return z=>clipMiddle(z,O,I,ellipsis);case"ellipsis-end":return z=>clipEnd(z,O,I,ellipsis)}}const ellipsis="";function cut(_,R,P,I){const O=[];let z=0;for(let L=0,F=0,U=_.length;L<U;L=F){F=readCharacter(_,L);const V=P(_,L,F);if(z+V>R){for(z+=I;z>R&&L>0;)F=L,L=O.pop(),z-=P(_,L,F);return[L,R-z]}z+=V,O.push(L)}return[-1,0]}function clipEnd(_,R,P,I){_=_.trim();const O=P(I),[z]=cut(_,R,P,O);return z<0?_:_.slice(0,z).trimEnd()+I}function clipMiddle(_,R,P,I){_=_.trim();const O=P(_);if(O<=R)return _;const z=P(I)/2,[L,F]=cut(_,R/2,P,z),[U]=cut(_,O-R/2-F+z,P,-z);return U<0?I:_.slice(0,L).trimEnd()+I+_.slice(readCharacter(_,U)).trimStart()}function clipStart(_,R,P,I){_=_.trim();const O=P(_);if(O<=R)return _;const z=P(I),[L]=cut(_,O-R+z,P,-z);return L<0?I:I+_.slice(readCharacter(_,L)).trimStart()}const reCombiner=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,rePictographic=new RegExp("\\p{Extended_Pictographic}","uy");function readCharacter(_,R){return R+=isSurrogatePair(_,R)?2:1,isCombiner(_,R)&&(R=reCombiner.lastIndex),isZeroWidthJoiner(_,R)?readCharacter(_,R+1):R}function isAscii(_,R){return _.charCodeAt(R)<128}function isSurrogatePair(_,R){const P=_.charCodeAt(R);if(P>=55296&&P<56320){const I=_.charCodeAt(R+1);return I>=56320&&I<57344}return!1}function isZeroWidthJoiner(_,R){return _.charCodeAt(R)===8205}function isCombiner(_,R){return isAscii(_,R)?!1:(reCombiner.lastIndex=R,reCombiner.test(_))}function isPictographic(_,R){return isAscii(_,R)?!1:(rePictographic.lastIndex=R,rePictographic.test(_))}const defaults$7={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},defaultRadius=3.5,wingRatio=defaultRadius*5,shapeArrow={draw(_,R,P){const I=R*P/wingRatio;_.moveTo(0,0),_.lineTo(0,-R),_.moveTo(-I,I-R),_.lineTo(0,-R),_.lineTo(I,I-R)}},shapeSpike={draw(_,R,P){_.moveTo(-P,0),_.lineTo(0,-R),_.lineTo(P,0)}},shapes=new Map([["arrow",shapeArrow],["spike",shapeSpike]]);function isShapeObject(_){return _&&typeof _.draw=="function"}function maybeShape(_){if(isShapeObject(_))return _;const R=shapes.get(`${_}`.toLowerCase());if(R)return R;throw new Error(`invalid shape: ${_}`)}class Vector extends Mark{constructor(R,P={}){const{x:I,y:O,r:z=defaultRadius,length:L,rotate:F,shape:U=shapeArrow,anchor:V="middle",frameAnchor:q}=P,[W,Y]=maybeNumberChannel(L,12),[Q,ee]=maybeNumberChannel(F,0);super(R,{x:{value:I,scale:"x",optional:!0},y:{value:O,scale:"y",optional:!0},length:{value:W,scale:"length",optional:!0},rotate:{value:Q,optional:!0}},P,defaults$7),this.r=+z,this.length=Y,this.rotate=ee,this.shape=maybeShape(U),this.anchor=keyword(V,"anchor",["start","middle","end"]),this.frameAnchor=maybeFrameAnchor(q)}render(R,P,I,O,z){const{x:L,y:F}=P,{x:U,y:V,length:q,rotate:W}=I,{length:Y,rotate:Q,anchor:ee,shape:te,r:ie}=this,[ae,se]=applyFrameAnchor(this,O);return create$1("svg:g",z).call(applyIndirectStyles,this,O,z).call(applyTransform,this,{x:U&&L,y:V&&F}).call(le=>le.selectAll().data(R).enter().append("path").call(applyDirectStyles,this).attr("transform",template`translate(${U?ce=>U[ce]:ae},${V?ce=>V[ce]:se})${W?ce=>` rotate(${W[ce]})`:Q?` rotate(${Q})`:""}${ee==="start"?"":ee==="end"?q?ce=>` translate(0,${q[ce]})`:` translate(0,${Y})`:q?ce=>` translate(0,${q[ce]/2})`:` translate(0,${Y/2})`}`).attr("d",q?ce=>{const fe=pathRound();return te.draw(fe,q[ce],ie),fe}:(()=>{const ce=pathRound();return te.draw(ce,Y,ie),ce})()).call(applyChannelStyles,this,I)).node()}}function vectorX(_,R={}){const{x:P=identity$1,...I}=R;return new Vector(_,{...I,x:P})}function vectorY(_,R={}){const{y:P=identity$1,...I}=R;return new Vector(_,{...I,y:P})}function maybeData(_,R){return arguments.length<2&&!isIterable(_)&&(R=_,_=null),R===void 0&&(R={}),[_,R]}function maybeAnchor({anchor:_}={},R){return _===void 0?R[0]:keyword(_,"anchor",R)}function anchorY(_){return maybeAnchor(_,["left","right"])}function anchorFy(_){return maybeAnchor(_,["right","left"])}function anchorX(_){return maybeAnchor(_,["bottom","top"])}function anchorFx(_){return maybeAnchor(_,["top","bottom"])}function axisY(){const[_,R]=maybeData(...arguments);return axisKy("y",anchorY(R),_,R)}function axisFy(){const[_,R]=maybeData(...arguments);return axisKy("fy",anchorFy(R),_,R)}function axisX(){const[_,R]=maybeData(...arguments);return axisKx("x",anchorX(R),_,R)}function axisFx(){const[_,R]=maybeData(...arguments);return axisKx("fx",anchorFx(R),_,R)}function axisKy(_,R,P,{color:I="currentColor",opacity:O=1,stroke:z=I,strokeOpacity:L=O,strokeWidth:F=1,fill:U=I,fillOpacity:V=O,textAnchor:q,textStroke:W,textStrokeOpacity:Y,textStrokeWidth:Q,tickSize:ee=_==="y"?6:0,tickPadding:te,tickRotate:ie,x:ae,margin:se,marginTop:le=se===void 0?20:se,marginRight:ce=se===void 0?R==="right"?40:0:se,marginBottom:fe=se===void 0?20:se,marginLeft:de=se===void 0?R==="left"?40:0:se,label:he,labelAnchor:pe,labelArrow:ge,labelOffset:be,ariaLabel:xe=`${_}-axis`,..._e}){return ee=number$1(ee),te=number$1(te),ie=number$1(ie),pe!==void 0&&(pe=keyword(pe,"labelAnchor",["center","top","bottom"])),ge=maybeLabelArrow(ge),marks(ee&&!isNoneish(z)?axisTickKy(_,R,P,{stroke:z,strokeOpacity:L,strokeWidth:F,tickSize:ee,tickPadding:te,tickRotate:ie,x:ae,ariaLabel:xe,..._e}):null,isNoneish(U)?null:axisTextKy(_,R,P,{fill:U,fillOpacity:V,stroke:W,strokeOpacity:Y,strokeWidth:Q,textAnchor:q,tickSize:ee,tickPadding:te,tickRotate:ie,x:ae,marginTop:le,marginRight:ce,marginBottom:fe,marginLeft:de,ariaLabel:xe,..._e}),!isNoneish(U)&&he!==null?text$7([],labelOptions({fill:U,fillOpacity:V,..._e},function(Se,me,Ce,Te,Re){const Pe=Te[_],{marginTop:Me,marginRight:Ae,marginBottom:we,marginLeft:ke}=_==="y"&&Re.inset||Re,Ee=pe??(Pe.bandwidth?"center":"top"),ze=be??(R==="right"?Ae:ke)-3;return Ee==="center"?(this.textAnchor=void 0,this.lineAnchor=R==="right"?"bottom":"top",this.frameAnchor=R,this.rotate=-90):(this.textAnchor=R==="right"?"end":"start",this.lineAnchor=Ee,this.frameAnchor=`${Ee}-${R}`,this.rotate=0),this.dy=Ee==="top"?3-Me:Ee==="bottom"?we-3:0,this.dx=R==="right"?ze:-ze,this.ariaLabel=`${xe} label`,{facets:[[0]],channels:{text:{value:[formatAxisLabel(_,Pe,{anchor:R,label:he,labelAnchor:Ee,labelArrow:ge})]}}}})):null)}function axisKx(_,R,P,{color:I="currentColor",opacity:O=1,stroke:z=I,strokeOpacity:L=O,strokeWidth:F=1,fill:U=I,fillOpacity:V=O,textAnchor:q,textStroke:W,textStrokeOpacity:Y,textStrokeWidth:Q,tickSize:ee=_==="x"?6:0,tickPadding:te,tickRotate:ie,y:ae,margin:se,marginTop:le=se===void 0?R==="top"?30:0:se,marginRight:ce=se===void 0?20:se,marginBottom:fe=se===void 0?R==="bottom"?30:0:se,marginLeft:de=se===void 0?20:se,label:he,labelAnchor:pe,labelArrow:ge,labelOffset:be,ariaLabel:xe=`${_}-axis`,..._e}){return ee=number$1(ee),te=number$1(te),ie=number$1(ie),pe!==void 0&&(pe=keyword(pe,"labelAnchor",["center","left","right"])),ge=maybeLabelArrow(ge),marks(ee&&!isNoneish(z)?axisTickKx(_,R,P,{stroke:z,strokeOpacity:L,strokeWidth:F,tickSize:ee,tickPadding:te,tickRotate:ie,y:ae,ariaLabel:xe,..._e}):null,isNoneish(U)?null:axisTextKx(_,R,P,{fill:U,fillOpacity:V,stroke:W,strokeOpacity:Y,strokeWidth:Q,textAnchor:q,tickSize:ee,tickPadding:te,tickRotate:ie,y:ae,marginTop:le,marginRight:ce,marginBottom:fe,marginLeft:de,ariaLabel:xe,..._e}),!isNoneish(U)&&he!==null?text$7([],labelOptions({fill:U,fillOpacity:V,..._e},function(Se,me,Ce,Te,Re){const Pe=Te[_],{marginTop:Me,marginRight:Ae,marginBottom:we,marginLeft:ke}=_==="x"&&Re.inset||Re,Ee=pe??(Pe.bandwidth?"center":"right"),ze=be??(R==="top"?Me:we)-3;return Ee==="center"?(this.frameAnchor=R,this.textAnchor=void 0):(this.frameAnchor=`${R}-${Ee}`,this.textAnchor=Ee==="right"?"end":"start"),this.lineAnchor=R,this.dy=R==="top"?-ze:ze,this.dx=Ee==="right"?Ae-3:Ee==="left"?3-ke:0,this.ariaLabel=`${xe} label`,{facets:[[0]],channels:{text:{value:[formatAxisLabel(_,Pe,{anchor:R,label:he,labelAnchor:Ee,labelArrow:ge})]}}}})):null)}function axisTickKy(_,R,P,{strokeWidth:I=1,strokeLinecap:O=null,strokeLinejoin:z=null,facetAnchor:L=R+(_==="y"?"-empty":""),frameAnchor:F=R,tickSize:U,inset:V=0,insetLeft:q=V,insetRight:W=V,dx:Y=0,y:Q=_==="y"?void 0:null,ariaLabel:ee,...te}){return axisMark(vectorY,_,P,{ariaLabel:`${ee} tick`,ariaHidden:!0},{strokeWidth:I,strokeLinecap:O,strokeLinejoin:z,facetAnchor:L,frameAnchor:F,y:Q,...te,dx:R==="left"?+Y-offset+ +q:+Y+offset-W,anchor:"start",length:U,shape:R==="left"?shapeTickLeft:shapeTickRight})}function axisTickKx(_,R,P,{strokeWidth:I=1,strokeLinecap:O=null,strokeLinejoin:z=null,facetAnchor:L=R+(_==="x"?"-empty":""),frameAnchor:F=R,tickSize:U,inset:V=0,insetTop:q=V,insetBottom:W=V,dy:Y=0,x:Q=_==="x"?void 0:null,ariaLabel:ee,...te}){return axisMark(vectorX,_,P,{ariaLabel:`${ee} tick`,ariaHidden:!0},{strokeWidth:I,strokeLinejoin:z,strokeLinecap:O,facetAnchor:L,frameAnchor:F,x:Q,...te,dy:R==="bottom"?+Y-offset-W:+Y+offset+ +q,anchor:"start",length:U,shape:R==="bottom"?shapeTickBottom:shapeTickTop})}function axisTextKy(_,R,P,{facetAnchor:I=R+(_==="y"?"-empty":""),frameAnchor:O=R,tickSize:z,tickRotate:L=0,tickPadding:F=Math.max(3,9-z)+(Math.abs(L)>60?4*Math.cos(L*radians):0),text:U,textAnchor:V=Math.abs(L)>60?"middle":R==="left"?"end":"start",lineAnchor:q=L>60?"top":L<-60?"bottom":"middle",fontVariant:W,inset:Y=0,insetLeft:Q=Y,insetRight:ee=Y,dx:te=0,ariaLabel:ie,y:ae=_==="y"?void 0:null,...se}){return axisMark(textY,_,P,{ariaLabel:`${ie} tick label`},{facetAnchor:I,frameAnchor:O,text:U,textAnchor:V,lineAnchor:q,fontVariant:W,rotate:L,y:ae,...se,dx:R==="left"?+te-z-F+ +Q:+te+ +z+ +F-ee},function(le,ce,fe,de,he){W===void 0&&(this.fontVariant=inferFontVariant(le)),U===void 0&&(he.text=inferTextChannel(le,ce,fe,de,R))})}function axisTextKx(_,R,P,{facetAnchor:I=R+(_==="x"?"-empty":""),frameAnchor:O=R,tickSize:z,tickRotate:L=0,tickPadding:F=Math.max(3,9-z)+(Math.abs(L)>=10?4*Math.cos(L*radians):0),text:U,textAnchor:V=Math.abs(L)>=10?L<0^R==="bottom"?"start":"end":"middle",lineAnchor:q=Math.abs(L)>=10?"middle":R==="bottom"?"top":"bottom",fontVariant:W,inset:Y=0,insetTop:Q=Y,insetBottom:ee=Y,dy:te=0,x:ie=_==="x"?void 0:null,ariaLabel:ae,...se}){return axisMark(textX,_,P,{ariaLabel:`${ae} tick label`},{facetAnchor:I,frameAnchor:O,text:U===void 0?null:U,textAnchor:V,lineAnchor:q,fontVariant:W,rotate:L,x:ie,...se,dy:R==="bottom"?+te+ +z+ +F-ee:+te-z-F+ +Q},function(le,ce,fe,de,he){W===void 0&&(this.fontVariant=inferFontVariant(le)),U===void 0&&(he.text=inferTextChannel(le,ce,fe,de,R))})}function gridY(){const[_,R]=maybeData(...arguments);return gridKy("y",anchorY(R),_,R)}function gridFy(){const[_,R]=maybeData(...arguments);return gridKy("fy",anchorFy(R),_,R)}function gridX(){const[_,R]=maybeData(...arguments);return gridKx("x",anchorX(R),_,R)}function gridFx(){const[_,R]=maybeData(...arguments);return gridKx("fx",anchorFx(R),_,R)}function gridKy(_,R,P,{y:I=_==="y"?void 0:null,x:O=null,x1:z=R==="left"?O:null,x2:L=R==="right"?O:null,ariaLabel:F=`${_}-grid`,ariaHidden:U=!0,...V}){return axisMark(ruleY,_,P,{ariaLabel:F,ariaHidden:U},{y:I,x1:z,x2:L,...gridDefaults(V)})}function gridKx(_,R,P,{x:I=_==="x"?void 0:null,y:O=null,y1:z=R==="top"?O:null,y2:L=R==="bottom"?O:null,ariaLabel:F=`${_}-grid`,ariaHidden:U=!0,...V}){return axisMark(ruleX,_,P,{ariaLabel:F,ariaHidden:U},{x:I,y1:z,y2:L,...gridDefaults(V)})}function gridDefaults({color:_="currentColor",opacity:R=.1,stroke:P=_,strokeOpacity:I=R,strokeWidth:O=1,...z}){return{stroke:P,strokeOpacity:I,strokeWidth:O,...z}}function labelOptions({fill:_,fillOpacity:R,fontFamily:P,fontSize:I,fontStyle:O,fontVariant:z,fontWeight:L,monospace:F,pointerEvents:U,shapeRendering:V,clip:q=!1},W){return[,_]=maybeColorChannel(_),[,R]=maybeNumberChannel(R),{facet:"super",x:null,y:null,fill:_,fillOpacity:R,fontFamily:P,fontSize:I,fontStyle:O,fontVariant:z,fontWeight:L,monospace:F,pointerEvents:U,shapeRendering:V,clip:q,initializer:W}}function axisMark(_,R,P,I,O,z){let L;function F(q,W,Y,Q,ee,te){const ie=q==null&&(R==="fx"||R==="fy"),{[R]:ae}=Q;if(!ae)throw new Error(`missing scale: ${R}`);const se=ae.domain();let{interval:le,ticks:ce,tickFormat:fe,tickSpacing:de=R==="x"?80:35}=O;if(typeof ce=="string"&&hasTemporalDomain(ae)&&(le=ce,ce=void 0),ce===void 0&&(ce=maybeRangeInterval(le,ae.type)??inferTickCount(ae,de)),q==null){if(isIterable(ce))q=arrayify(ce);else if(isInterval(ce))q=inclusiveRange(ce,...extent$1(se));else if(ae.interval){let pe=ae.interval;if(ae.ticks){const[ge,be]=extent$1(se),xe=(be-ge)/pe[intervalDuration];pe=generalizeTimeInterval(pe,xe/ce)??pe,q=inclusiveRange(pe,ge,be)}else{q=se;const ge=q.length;pe=generalizeTimeInterval(pe,ge/ce)??pe,pe!==ae.interval&&(q=inclusiveRange(pe,...extent$1(q)))}if(pe===ae.interval){const ge=Math.round(q.length/ce);ge>1&&(q=q.filter((be,xe)=>xe%ge===0))}}else ae.ticks?q=ae.ticks(ce):q=se;if(!ae.ticks&&q.length&&q!==se){const pe=new InternSet(se);q=q.filter(ge=>pe.has(ge)),q.length||warn(`Warning: the ${R}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}R==="y"||R==="x"?W=[range(q)]:L[R]={scale:R,value:identity$1}}z?.call(this,ae,q,ce,fe,L);const he=Object.fromEntries(Object.entries(L).map(([pe,ge])=>[pe,{...ge,value:valueof(q,ge.value)}]));return ie&&(W=te.filterFacets(q,he)),{data:q,facets:W,channels:he}}const U=initializer(O).initializer,V=_(P,initializer({...O,initializer:F},U));return P==null?(L=V.channels,V.channels={}):L={},I!==void 0&&Object.assign(V,I),V.clip===void 0&&(V.clip=!1),V}function inferTickCount(_,R){const[P,I]=extent$1(_.range());return(I-P)/R}function inferTextChannel(_,R,P,I,O){return{value:inferTickFormat(_,R,P,I,O)}}function inferTickFormat(_,R,P,I,O){return typeof I=="function"&&!(_.type==="log"&&_.tickFormat)?I:I===void 0&&R&&isTemporal(R)?inferTimeFormat(_.type,R,O)??formatDefault:_.tickFormat?_.tickFormat(typeof P=="number"?P:null,I):typeof I=="string"&&_.domain().length>0?(isTemporal(_.domain())?utcFormat:format$1)(I):I===void 0?formatDefault:constant(I)}function inclusiveRange(_,R,P){return _.range(R,_.offset(_.floor(P)))}const shapeTickBottom={draw(_,R){_.moveTo(0,0),_.lineTo(0,R)}},shapeTickTop={draw(_,R){_.moveTo(0,0),_.lineTo(0,-R)}},shapeTickLeft={draw(_,R){_.moveTo(0,0),_.lineTo(-R,0)}},shapeTickRight={draw(_,R){_.moveTo(0,0),_.lineTo(R,0)}};function inferFontVariant(_){return _.bandwidth&&!_.interval?void 0:"tabular-nums"}function formatAxisLabel(_,R,{anchor:P,label:I=R.label,labelAnchor:O,labelArrow:z}={}){if(!(I==null||I.inferred&&hasTemporalDomain(R)&&/^(date|time|year)$/i.test(I))){if(I=String(I),z==="auto"&&(z=(!R.bandwidth||R.interval)&&!/[]/.test(I)),!z)return I;if(z===!0){const L=inferScaleOrder(R);L&&(z=/x$/.test(_)||O==="center"?/x$/.test(_)===L<0?"left":"right":L<0?"up":"down")}switch(z){case"left":return` ${I}`;case"right":return`${I} `;case"up":return P==="right"?`${I} `:` ${I}`;case"down":return P==="right"?`${I} `:` ${I}`}return I}}function maybeLabelArrow(_="auto"){return isNoneish(_)?!1:typeof _=="boolean"?_:keyword(_,"labelArrow",["auto","up","right","down","left"])}function hasTemporalDomain(_){return isTemporal(_.domain())}function maybeScale(_,R){if(R==null)return R;const P=_(R);if(!P)throw new Error(`scale not found: ${R}`);return P}function legendSwatches(_,{opacity:R,...P}={}){if(!isOrdinalScale(_)&&!isThresholdScale(_))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${_.type})`);return legendItems(_,P,(I,O,z,L)=>I.append("svg").attr("width",z).attr("height",L).attr("fill",O.scale).attr("fill-opacity",maybeNumberChannel(R)[1]).append("rect").attr("width","100%").attr("height","100%"))}function legendSymbols(_,{fill:R=_.hint?.fill!==void 0?_.hint.fill:"none",fillOpacity:P=1,stroke:I=_.hint?.stroke!==void 0?_.hint.stroke:isNoneish(R)?"currentColor":"none",strokeOpacity:O=1,strokeWidth:z=1.5,r:L=4.5,...F}={},U){const[V,q]=maybeColorChannel(R),[W,Y]=maybeColorChannel(I),Q=maybeScale(U,V),ee=maybeScale(U,W),te=L*L*Math.PI;return P=maybeNumberChannel(P)[1],O=maybeNumberChannel(O)[1],z=maybeNumberChannel(z)[1],legendItems(_,F,(ie,ae,se,le)=>ie.append("svg").attr("viewBox","-8 -8 16 16").attr("width",se).attr("height",le).attr("fill",V==="color"?ce=>Q.scale(ce):q).attr("fill-opacity",P).attr("stroke",W==="color"?ce=>ee.scale(ce):Y).attr("stroke-opacity",O).attr("stroke-width",z).append("path").attr("d",ce=>{const fe=pathRound();return _.scale(ce).draw(fe,te),fe}))}function legendItems(_,R={},P){let{columns:I,tickFormat:O,fontVariant:z=inferFontVariant$2(_),swatchSize:L=15,swatchWidth:F=L,swatchHeight:U=L,marginLeft:V=0,className:q,style:W,width:Y}=R;const Q=createContext(R);q=maybeClassName(q),O=inferTickFormat(_.scale,_.domain,void 0,O);const ee=create$1("div",Q).attr("class",`${q}-swatches ${q}-swatches-${I!=null?"columns":"wrap"}`);let te;return I!=null?(te=`:where(.${q}-swatches-columns .${q}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${q}-swatches-columns .${q}-swatch::before) {
  flex-shrink: 0;
}
:where(.${q}-swatches-columns .${q}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,ee.style("columns",I).selectAll().data(_.domain).enter().append("div").attr("class",`${q}-swatch`).call(P,_,F,U).call(ie=>ie.append("div").attr("class",`${q}-swatch-label`).attr("title",O).text(O))):(te=`:where(.${q}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${q}-swatches-wrap .${q}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,ee.selectAll().data(_.domain).enter().append("span").attr("class",`${q}-swatch`).call(P,_,F,U).append(function(){return this.ownerDocument.createTextNode(O.apply(this,arguments))})),ee.call(ie=>ie.insert("style","*").text(`:where(.${q}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${q}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${te}`)).style("margin-left",V?`${+V}px`:null).style("width",Y===void 0?null:`${+Y}px`).style("font-variant",impliedString(z,"normal")).call(applyInlineStyles,W).node()}const legendRegistry=new Map([["symbol",legendSymbols],["color",legendColor],["opacity",legendOpacity]]);function exposeLegends(_,R,P={}){return(I,O)=>{if(!legendRegistry.has(I))throw new Error(`unknown legend type: ${I}`);if(I in _)return legendRegistry.get(I)(_[I],legendOptions(R,P[I],O),z=>_[z])}}function legendOptions({className:_,...R},{label:P,ticks:I,tickFormat:O}={},z){return inherit(z,{className:_,...R},{label:P,ticks:I,tickFormat:O})}function legendColor(_,{legend:R=!0,...P}){if(R===!0&&(R=_.type==="ordinal"?"swatches":"ramp"),_.domain!==void 0)switch(`${R}`.toLowerCase()){case"swatches":return legendSwatches(_,P);case"ramp":return legendRamp(_,P);default:throw new Error(`unknown legend type: ${R}`)}}function legendOpacity({type:_,interpolate:R,...P},{legend:I=!0,color:O=rgb(0,0,0),...z}){if(!R)throw new Error(`${_} opacity scales are not supported`);if(I===!0&&(I="ramp"),`${I}`.toLowerCase()!=="ramp")throw new Error(`${I} opacity legends are not supported`);return legendColor({type:_,...P,interpolate:interpolateOpacity(O)},{legend:I,...z})}function interpolateOpacity(_){const{r:R,g:P,b:I}=rgb(_)||rgb(0,0,0);return O=>`rgba(${R},${P},${I},${O})`}function createLegends(_,R,P){const I=[];for(const[O,z]of legendRegistry){const L=P[O];if(L?.legend&&O in _){const F=z(_[O],legendOptions(R,_[O],L),U=>_[U]);F!=null&&I.push(F)}}return I}function maybeIdentityY(_={},R="y"){return hasY(_)?_:{..._,[R]:identity$1}}function exclusiveFacets(_,R){if(R.length===1)return{data:_,facets:R};const P=lengthof(_),I=new Uint8Array(P);let O=0;for(const F of R)for(const U of F)I[U]&&++O,I[U]=1;if(O===0)return{data:_,facets:R};_=slice(_);const z=_[reindex]=new Uint32Array(P+O);R=R.map(F=>slice(F,Uint32Array));let L=P;I.fill(0);for(const F of R)for(let U=0,V=F.length;U<V;++U){const q=F[U];I[q]?(F[U]=L,_[L]=_[q],z[L]=q,++L):z[q]=q,I[q]=1}return{data:_,facets:R}}function stackY(_={},R={}){arguments.length===1&&([_,R]=mergeOptions$1(_));const{x1:P,x:I=P,y:O,...z}=R,[L,F,U,V]=stack(I,O,"x","y",_,z);return{...L,x1:P,x:F,y1:U,y2:V,y:mid(U,V)}}function maybeStackY({y:_,y1:R,y2:P,...I}={}){return I=withTip(I,"x"),R===void 0&&P===void 0?stackY({y:_,...I}):([R,P]=maybeZero(_,R,P),{...I,y1:R,y2:P})}function mergeOptions$1(_){const{offset:R,order:P,reverse:I,...O}=_;return[{offset:R,order:P,reverse:I},O]}const lengthy={length:!0};function stack(_,R=one$3,P,I,{offset:O,order:z,reverse:L},F){if(R===null)throw new Error(`stack requires ${I}`);const U=maybeZ(F),[V,q]=maybeColumn(_),[W,Y]=column(R),[Q,ee]=column(R);return W.hint=Q.hint=lengthy,O=maybeOffset(O),z=maybeOrder(z,O,I),[basic(F,(te,ie,ae)=>{({data:te,facets:ie}=exclusiveFacets(te,ie));const se=_==null?void 0:q(maybeApplyInterval(valueof(te,_),ae?.[P])),le=valueof(te,R,Float64Array),ce=valueof(te,U),fe=z&&z(te,se,le,ce),de=lengthof(te),he=Y(new Float64Array(de)),pe=ee(new Float64Array(de)),ge=[];for(const be of ie){const xe=se?Array.from(group(be,_e=>se[_e]).values()):[be];if(fe)for(const _e of xe)_e.sort(fe);for(const _e of xe){let Se=0,me=0;L&&_e.reverse();for(const Ce of _e){const Te=le[Ce];Te<0?Se=pe[Ce]=(he[Ce]=Se)+Te:Te>0?me=pe[Ce]=(he[Ce]=me)+Te:pe[Ce]=he[Ce]=me}}ge.push(xe)}return O&&O(ge,he,pe,ce),{data:te,facets:ie}}),V,W,Q]}function maybeOffset(_){if(_!=null){if(typeof _=="function")return _;switch(`${_}`.toLowerCase()){case"expand":case"normalize":return offsetExpand;case"center":case"silhouette":return offsetCenter;case"wiggle":return offsetWiggle}throw new Error(`unknown offset: ${_}`)}}function extent(_,R){let P=0,I=0;for(const O of _){const z=R[O];z<P&&(P=z),z>I&&(I=z)}return[P,I]}function offsetExpand(_,R,P){for(const I of _)for(const O of I){const[z,L]=extent(O,P);for(const F of O){const U=1/(L-z||1);R[F]=U*(R[F]-z),P[F]=U*(P[F]-z)}}}function offsetCenter(_,R,P){for(const I of _){for(const O of I){const[z,L]=extent(O,P);for(const F of O){const U=(L+z)/2;R[F]-=U,P[F]-=U}}offsetZero(I,R,P)}offsetCenterFacets(_,R,P)}function offsetWiggle(_,R,P,I){for(const O of _){const z=new InternMap;let L=0;for(const F of O){let U=-1;const V=F.map(Q=>Math.abs(P[Q]-R[Q])),q=F.map(Q=>{U=I?I[Q]:++U;const ee=P[Q]-R[Q],te=z.has(U)?ee-z.get(U):0;return z.set(U,ee),te}),W=[0,...cumsum(q)];for(const Q of F)R[Q]+=L,P[Q]+=L;const Y=sum(V);Y&&(L-=sum(V,(Q,ee)=>(q[ee]/2+W[ee])*Q)/Y)}offsetZero(O,R,P)}offsetCenterFacets(_,R,P)}function offsetZero(_,R,P){const I=min$1(_,O=>min$1(O,z=>R[z]));for(const O of _)for(const z of O)R[z]-=I,P[z]-=I}function offsetCenterFacets(_,R,P){const I=_.length;if(I===1)return;const O=_.map(F=>F.flat()),z=O.map(F=>(min$1(F,U=>R[U])+max(F,U=>P[U]))/2),L=min$1(z);for(let F=0;F<I;F++){const U=L-z[F];for(const V of O[F])R[V]+=U,P[V]+=U}}function maybeOrder(_,R,P){if(_===void 0&&R===offsetWiggle)return orderInsideOut(ascendingDefined);if(_!=null){if(typeof _=="string"){const I=_.startsWith("-"),O=I?descendingDefined:ascendingDefined;switch((I?_.slice(1):_).toLowerCase()){case"value":case P:return orderY(O);case"z":return orderZ(O);case"sum":return orderSum(O);case"appearance":return orderAppearance(O);case"inside-out":return orderInsideOut(O)}return orderAccessor(field(_))}if(typeof _=="function")return(_.length===1?orderAccessor:orderComparator)(_);if(isArray(_))return orderGiven(_);throw new Error(`invalid order: ${_}`)}}function orderY(_){return(R,P,I)=>(O,z)=>_(I[O],I[z])}function orderZ(_){return(R,P,I,O)=>(z,L)=>_(O[z],O[L])}function orderSum(_){return orderZDomain(_,(R,P,I,O)=>groupSort(range(R),z=>sum(z,L=>I[L]),z=>O[z]))}function orderAppearance(_){return orderZDomain(_,(R,P,I,O)=>groupSort(range(R),z=>P[greatest(z,L=>I[L])],z=>O[z]))}function orderInsideOut(_){return orderZDomain(_,(R,P,I,O)=>{const z=range(R),L=groupSort(z,W=>P[greatest(W,Y=>I[Y])],W=>O[W]),F=rollup(z,W=>sum(W,Y=>I[Y]),W=>O[W]),U=[],V=[];let q=0;for(const W of L)q<0?(q+=F.get(W),U.push(W)):(q-=F.get(W),V.push(W));return V.reverse().concat(U)})}function orderAccessor(_){return R=>{const P=valueof(R,_);return(I,O)=>ascendingDefined(P[I],P[O])}}function orderComparator(_){return R=>isArray(R)?(P,I)=>_(R[P],R[I]):(P,I)=>_(R.get(P),R.get(I))}function orderGiven(_){return orderZDomain(ascendingDefined,()=>_)}function orderZDomain(_,R){return(P,I,O,z)=>{if(!z)throw new Error("missing channel: z");const L=new InternMap(R(P,I,O,z).map((F,U)=>[F,U]));return(F,U)=>_(L.get(z[F]),L.get(z[U]))}}function rectInsets(_,{inset:R=0,insetTop:P=R,insetRight:I=R,insetBottom:O=R,insetLeft:z=R}={}){_.insetTop=number$1(P),_.insetRight=number$1(I),_.insetBottom=number$1(O),_.insetLeft=number$1(z)}function rectRadii(_,{r:R,rx:P,ry:I,rx1:O=R,ry1:z=R,rx2:L=R,ry2:F=R,rx1y1:U=O!==void 0?+O:z!==void 0?+z:0,rx1y2:V=O!==void 0?+O:F!==void 0?+F:0,rx2y1:q=L!==void 0?+L:z!==void 0?+z:0,rx2y2:W=L!==void 0?+L:F!==void 0?+F:0}={}){U||V||q||W?(_.rx1y1=U,_.rx1y2=V,_.rx2y1=q,_.rx2y2=W):(_.rx=impliedString(P,"auto"),_.ry=impliedString(I,"auto"))}function applyRoundedRect(_,R,P,I,O,z){const{rx1y1:L,rx1y2:F,rx2y1:U,rx2y2:V}=z;typeof R!="function"&&(R=constant(R)),typeof P!="function"&&(P=constant(P)),typeof I!="function"&&(I=constant(I)),typeof O!="function"&&(O=constant(O));const q=Math.max(Math.abs(L+U),Math.abs(F+V)),W=Math.max(Math.abs(L+F),Math.abs(U+V));_.attr("d",Y=>{const Q=R(Y),ee=P(Y),te=I(Y),ie=O(Y),ae=Q>te,se=ee>ie,le=ae?te:Q,ce=ae?Q:te,fe=se?ie:ee,de=se?ee:ie,he=Math.min(1,(ce-le)/q,(de-fe)/W),pe=he*(ae?se?V:U:se?F:L),ge=he*(ae?se?F:L:se?V:U),be=he*(ae?se?L:F:se?U:V),xe=he*(ae?se?U:V:se?L:F);return`M${le},${fe+biasY(pe,xe)}A${pe},${pe} 0 0 ${pe<0?0:1} ${le+biasX(pe,xe)},${fe}H${ce-biasX(ge,be)}A${ge},${ge} 0 0 ${ge<0?0:1} ${ce},${fe+biasY(ge,be)}V${de-biasY(be,ge)}A${be},${be} 0 0 ${be<0?0:1} ${ce-biasX(be,ge)},${de}H${le+biasX(xe,pe)}A${xe},${xe} 0 0 ${xe<0?0:1} ${le},${de-biasY(xe,pe)}Z`})}function biasX(_,R){return R<0?_:Math.abs(_)}function biasY(_,R){return R<0?Math.abs(_):_}const defaults$6={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},lineDefaults={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Frame extends Mark{constructor(R={}){const{anchor:P=null}=R;super(singleton,void 0,R,P==null?defaults$6:lineDefaults),this.anchor=maybeKeyword(P,"anchor",["top","right","bottom","left"]),rectInsets(this,R),P||rectRadii(this,R)}render(R,P,I,O,z){const{marginTop:L,marginRight:F,marginBottom:U,marginLeft:V,width:q,height:W}=O,{anchor:Y,insetTop:Q,insetRight:ee,insetBottom:te,insetLeft:ie}=this,{rx:ae,ry:se,rx1y1:le,rx1y2:ce,rx2y1:fe,rx2y2:de}=this,he=V+ie,pe=q-F-ee,ge=L+Q,be=W-U-te;return create$1(Y?"svg:line":le||ce||fe||de?"svg:path":"svg:rect",z).datum(0).call(applyIndirectStyles,this,O,z).call(applyDirectStyles,this).call(applyChannelStyles,this,I).call(applyTransform,this,{}).call(Y==="left"?xe=>xe.attr("x1",he).attr("x2",he).attr("y1",ge).attr("y2",be):Y==="right"?xe=>xe.attr("x1",pe).attr("x2",pe).attr("y1",ge).attr("y2",be):Y==="top"?xe=>xe.attr("x1",he).attr("x2",pe).attr("y1",ge).attr("y2",ge):Y==="bottom"?xe=>xe.attr("x1",he).attr("x2",pe).attr("y1",be).attr("y2",be):le||ce||fe||de?xe=>xe.call(applyRoundedRect,he,ge,pe,be,this):xe=>xe.attr("x",he).attr("y",ge).attr("width",pe-he).attr("height",be-ge).attr("rx",ae).attr("ry",se)).node()}}function frame(_){return new Frame(_)}const defaults$5={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},ignoreChannels=new Set(["geometry","href","src","ariaLabel","scales"]);class Tip extends Mark{constructor(R,P={}){P.tip&&(P={...P,tip:!1}),P.title===void 0&&isIterable(R)&&isTextual(R)&&(P={...P,title:identity$1});const{x:I,y:O,x1:z,x2:L,y1:F,y2:U,anchor:V,preferredAnchor:q="bottom",monospace:W,fontFamily:Y=W?"ui-monospace, monospace":void 0,fontSize:Q,fontStyle:ee,fontVariant:te,fontWeight:ie,lineHeight:ae=1,lineWidth:se=20,frameAnchor:le,format:ce,textAnchor:fe="start",textOverflow:de,textPadding:he=8,title:pe,pointerSize:ge=12,pathFilter:be="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=P;super(R,{x:{value:z!=null&&L!=null?null:I,scale:"x",optional:!0},y:{value:F!=null&&U!=null?null:O,scale:"y",optional:!0},x1:{value:z,scale:"x",optional:L==null},y1:{value:F,scale:"y",optional:U==null},x2:{value:L,scale:"x",optional:z==null},y2:{value:U,scale:"y",optional:F==null},title:{value:pe,optional:!0}},P,defaults$5),this.anchor=maybeAnchor$1(V,"anchor"),this.preferredAnchor=maybeAnchor$1(q,"preferredAnchor"),this.frameAnchor=maybeFrameAnchor(le),this.textAnchor=impliedString(fe,"middle"),this.textPadding=+he,this.pointerSize=+ge,this.pathFilter=string$2(be),this.lineHeight=+ae,this.lineWidth=+se,this.textOverflow=maybeTextOverflow(de),this.monospace=!!W,this.fontFamily=string$2(Y),this.fontSize=number$1(Q),this.fontStyle=string$2(ee),this.fontVariant=string$2(te),this.fontWeight=string$2(ie);for(const xe in defaults$5)xe in this.channels&&(this[xe]=defaults$5[xe]);this.splitLines=splitter(this),this.clipLine=clipper(this),this.format=typeof ce=="string"||typeof ce=="function"?{title:ce}:{...ce}}render(R,P,I,O,z){const L=this,{x:F,y:U,fx:V,fy:q}=P,{ownerSVGElement:W,document:Y}=z,{anchor:Q,monospace:ee,lineHeight:te,lineWidth:ie}=this,{textPadding:ae,pointerSize:se,pathFilter:le}=this,{marginTop:ce,marginLeft:fe}=O,{x1:de,y1:he,x2:pe,y2:ge,x:be=de??pe,y:xe=he??ge}=I,_e=V?V(R.fx)-fe:0,Se=q?q(R.fy)-ce:0,[me,Ce]=applyFrameAnchor(this,O),Te=anchorX$1(I,me),Re=anchorY$1(I,Ce),Pe=ee?monospaceWidth:defaultWidth,Me=Pe(ellipsis);let Ae,we;"title"in I?(Ae=getSourceChannels.call(this,{title:I.channels.title},P),we=formatTitle):(Ae=getSourceChannels.call(this,I.channels,P),we=formatChannels);const ke=create$1("svg:g",z).call(applyIndirectStyles,this,O,z).call(applyIndirectTextStyles,this).call(applyTransform,this,{x:be&&F,y:xe&&U}).call(je=>je.selectAll().data(R).enter().append("g").attr("transform",Ke=>`translate(${Math.round(Te(Ke))},${Math.round(Re(Ke))})`).call(applyDirectStyles,this).call(Ke=>Ke.append("path").attr("filter",le)).call(Ke=>Ke.append("text").each(function(He){const Ze=select(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const Le=we.call(L,He,R,Ae,P,I);if(typeof Le=="string")for(const Xe of L.splitLines(Le))Ee(Ze,{value:L.clipLine(Xe)});else{const Xe=new Set;for(const Ye of Le){const{label:Ve=""}=Ye;Ve&&Xe.has(Ve)||(Xe.add(Ve),Ee(Ze,Ye))}}})));function Ee(je,{label:Ke,value:He,color:Ze,opacity:Le}){Ke??="",He??="";const Xe=Ze!=null||Le!=null;let Ye,Ve=ie*100;const[dt]=cut(Ke,Ve,Pe,Me);if(dt>=0)Ke=Ke.slice(0,dt).trimEnd()+ellipsis,Ye=He.trim(),He="";else{(Ke||!He&&!Xe)&&(He=" "+He);const[Ge]=cut(He,Ve-Pe(Ke),Pe,Me);Ge>=0&&(Ye=He.trim(),He=He.slice(0,Ge).trimEnd()+ellipsis)}const ye=je.append("tspan").attr("x",0).attr("dy",`${te}em`).text("");Ke&&ye.append("tspan").attr("font-weight","bold").text(Ke),He&&ye.append(()=>Y.createTextNode(He)),Xe&&ye.append("tspan").text(" ").attr("fill",Ze).attr("fill-opacity",Le).style("user-select","none"),Ye&&ye.append("title").text(Ye)}function ze(){const{width:je,height:Ke}=O.facet??O;ke.selectChildren().each(function(He){let{x:Ze,width:Le,height:Xe}=this.getBBox();Le=Math.round(Le),Xe=Math.round(Xe);let Ye=Q;if(Ye===void 0){const ye=Te(He)+_e,Ge=Re(He)+Se,Fe=ye+Le+se+ae*2<je,Ie=ye-Le-se-ae*2>0,Ne=Ge+Xe+se+ae*2<Ke,Be=Ge-Xe-se-ae*2>0;Ye=Fe&&Ie?Ne&&Be?L.preferredAnchor:Be?"bottom":"top":Ne&&Be?Fe?"left":"right":(Fe||Ie)&&(Ne||Be)?`${Be?"bottom":"top"}-${Fe?"left":"right"}`:L.preferredAnchor}const Ve=this.firstChild,dt=this.lastChild;if(Ve.setAttribute("d",getPath(Ye,se,ae,Le,Xe)),Ze)for(const ye of dt.childNodes)ye.setAttribute("x",-Ze);dt.setAttribute("y",`${+getLineOffset(Ye,dt.childNodes.length,te).toFixed(6)}em`),dt.setAttribute("transform",`translate(${getTextTranslate(Ye,se,ae,Le,Xe)})`)}),ke.attr("visibility",null)}return R.length&&(ke.attr("visibility","hidden"),W.isConnected?Promise.resolve().then(ze):typeof requestAnimationFrame<"u"&&requestAnimationFrame(ze)),ke.node()}}function tip(_,{x:R,y:P,...I}={}){return I.frameAnchor===void 0&&([R,P]=maybeTuple(R,P)),new Tip(_,{...I,x:R,y:P})}function getLineOffset(_,R,P){return/^top(?:-|$)/.test(_)?.94-P:-.29-R*P}function getTextTranslate(_,R,P,I,O){switch(_){case"middle":return[-I/2,O/2];case"top-left":return[P,R+P];case"top":return[-I/2,R/2+P];case"top-right":return[-I-P,R+P];case"right":return[-R/2-I-P,O/2];case"bottom-left":return[P,-R-P];case"bottom":return[-I/2,-R/2-P];case"bottom-right":return[-I-P,-R-P];case"left":return[P+R/2,O/2]}}function getPath(_,R,P,I,O){const z=I+P*2,L=O+P*2;switch(_){case"middle":return`M${-z/2},${-L/2}h${z}v${L}h${-z}z`;case"top-left":return`M0,0l${R},${R}h${z-R}v${L}h${-z}z`;case"top":return`M0,0l${R/2},${R/2}h${(z-R)/2}v${L}h${-z}v${-L}h${(z-R)/2}z`;case"top-right":return`M0,0l${-R},${R}h${R-z}v${L}h${z}z`;case"right":return`M0,0l${-R/2},${-R/2}v${R/2-L/2}h${-z}v${L}h${z}v${R/2-L/2}z`;case"bottom-left":return`M0,0l${R},${-R}h${z-R}v${-L}h${-z}z`;case"bottom":return`M0,0l${R/2},${-R/2}h${(z-R)/2}v${-L}h${-z}v${L}h${(z-R)/2}z`;case"bottom-right":return`M0,0l${-R},${-R}h${R-z}v${-L}h${z}z`;case"left":return`M0,0l${R/2},${-R/2}v${R/2-L/2}h${z}v${L}h${-z}v${R/2-L/2}z`}}function getSourceChannels(_,R){const P={};let I=this.format;I=maybeExpandPairedFormat(I,_,"x"),I=maybeExpandPairedFormat(I,_,"y"),this.format=I;for(const O in I){const z=I[O];if(!(z===null||z===!1))if(O==="fx"||O==="fy")P[O]=!0;else{const L=getSource(_,O);L&&(P[O]=L)}}for(const O in _){if(O in P||O in I||ignoreChannels.has(O)||(O==="x"||O==="y")&&_.geometry)continue;const z=getSource(_,O);if(z){if(z.scale==null&&z.defaultScale==="color")continue;P[O]=z}}this.facet&&(R.fx&&!("fx"in I)&&(P.fx=!0),R.fy&&!("fy"in I)&&(P.fy=!0));for(const O in P){const z=this.format[O];if(typeof z=="string"){const L=P[O]?.value??R[O]?.domain()??[];this.format[O]=(isTemporal(L)?utcFormat:format$1)(z)}else if(z===void 0||z===!0){const L=R[O];this.format[O]=L?.bandwidth?inferTickFormat(L,L.domain()):formatDefault}}return P}function maybeExpandPairedFormat(_,R,P){if(!(P in _))return _;const I=`${P}1`,O=`${P}2`;if((I in _||!(I in R))&&(O in _||!(O in R)))return _;const z=Object.entries(_),L=_[P];return z.splice(z.findIndex(([F])=>F===P)+1,0,[I,L],[O,L]),Object.fromEntries(z)}function formatTitle(_,R,{title:P}){return this.format.title(P.value[_],_)}function*formatChannels(_,R,P,I,O){for(const z in P){if(z==="fx"||z==="fy"){yield{label:formatLabel(I,P,z),value:this.format[z](R[z],_)};continue}if(z==="x1"&&"x2"in P||z==="y1"&&"y2"in P)continue;const L=P[z];if(z==="x2"&&"x1"in P)yield{label:formatPairLabel(I,P,"x"),value:formatPair(this.format.x2,P.x1,L,_)};else if(z==="y2"&&"y1"in P)yield{label:formatPairLabel(I,P,"y"),value:formatPair(this.format.y2,P.y1,L,_)};else{const F=L.value[_],U=L.scale;if(!defined(F)&&U==null)continue;yield{label:formatLabel(I,P,z),value:this.format[z](F,_),color:U==="color"?O[z][_]:null,opacity:U==="opacity"?O[z][_]:null}}}}function formatPair(_,R,P,I){return P.hint?.length?`${_(P.value[I]-R.value[I],I)}`:`${_(R.value[I],I)}${_(P.value[I],I)}`}function formatPairLabel(_,R,P){const I=formatLabel(_,R,`${P}1`,P),O=formatLabel(_,R,`${P}2`,P);return I===O?I:`${I}${O}`}function formatLabel(_,R,P,I=P){const O=R[P],z=_[O?.scale??P];return String(z?.label??O?.label??I)}function plot(_={}){const{facet:R,style:P,title:I,subtitle:O,caption:z,ariaLabel:L,ariaDescription:F}=_,U=maybeClassName(_.className),V=_.marks===void 0?[]:flatMarks(_.marks);V.push(...inferTips(V));const q=maybeTopFacet(R,_),W=new Map;for(const Me of V){const Ae=maybeMarkFacet(Me,q,_);Ae&&W.set(Me,Ae)}const Y=new Map;q&&addScaleChannels(Y,[q],_),addScaleChannels(Y,W,_);const Q=flatMarks(inferAxes(V,Y,_));for(const Me of Q){const Ae=maybeMarkFacet(Me,q,_);Ae&&W.set(Me,Ae)}V.unshift(...Q);let ee=createFacets(Y,_);if(ee!==void 0){const Me=q?facetFilter(ee,q):void 0;for(const we of V){if(we.facet===null||we.facet==="super")continue;const ke=W.get(we);ke!==void 0&&(ke.facetsIndex=we.fx!=null||we.fy!=null?facetFilter(ee,ke):Me)}const Ae=new Set;for(const{facetsIndex:we}of W.values())we?.forEach((ke,Ee)=>{ke?.length>0&&Ae.add(Ee)});ee.forEach(0<Ae.size&&Ae.size<ee.length?(we,ke)=>we.empty=!Ae.has(ke):we=>we.empty=!1);for(const we of V)if(we.facet==="exclude"){const ke=W.get(we);ke!==void 0&&(ke.facetsIndex=facetExclude(ke.facetsIndex))}}for(const Me of registry.keys())isScaleOptions(_[Me])&&Me!=="fx"&&Me!=="fy"&&Y.set(Me,[]);const te=new Map;for(const Me of V){if(te.has(Me))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:Ae,channels:we}=W.get(Me)??{},{data:ke,facets:Ee,channels:ze}=Me.initialize(Ae,we,_);applyScaleTransforms(ze,_),te.set(Me,{data:ke,facets:Ee,channels:ze})}const ie=createScales(addScaleChannels(Y,te,_),_),ae=createDimensions(ie,V,_);autoScaleRange(ie,ae);const se=createScaleFunctions(ie),{fx:le,fy:ce}=se,fe=le||ce?innerDimensions(ie,ae):ae,de=le||ce?actualDimensions(se,ae):ae,he=createContext(_),pe=he.document,ge=creator("svg").call(pe.documentElement);let be=ge;he.ownerSVGElement=ge,he.className=U,he.projection=createProjection(_,fe),he.path=function(){return geoPath(this.projection??xyProjection(se))},he.filterFacets=(Me,Ae)=>facetFilter(ee,{channels:Ae,groups:facetGroups(Me,Ae)}),he.getMarkState=Me=>{const Ae=te.get(Me),we=W.get(Me);return{...Ae,channels:{...Ae.channels,...we?.channels}}},he.dispatchValue=Me=>{be.value!==Me&&(be.value=Me,be.dispatchEvent(new he.document.defaultView.Event("input",{bubbles:!0})))};const xe=new Set;for(const[Me,Ae]of te)if(Me.initializer!=null){const we=Me.facet==="super"?de:fe,ke=Me.initializer(Ae.data,Ae.facets,Ae.channels,se,we,he);if(ke.data!==void 0&&(Ae.data=ke.data),ke.facets!==void 0&&(Ae.facets=ke.facets),ke.channels!==void 0){const{fx:Ee,fy:ze,...je}=ke.channels;inferChannelScales(je),Object.assign(Ae.channels,je);for(const Ke of Object.values(je)){const{scale:He}=Ke;He!=null&&!isPosition(registry.get(He))&&(applyScaleTransform(Ke,_),xe.add(He))}(Ee!=null||ze!=null)&&W.set(Me,!0)}}if(xe.size){const Me=new Map;addScaleChannels(Me,te,_,Ee=>xe.has(Ee)),addScaleChannels(Y,te,_,Ee=>xe.has(Ee));const Ae=inheritScaleLabels(createScales(Me,_),ie),{scales:we,...ke}=createScaleFunctions(Ae);Object.assign(ie,Ae),Object.assign(se,ke),Object.assign(se.scales,we)}let _e,Se;ee!==void 0&&(_e={x:le?.domain(),y:ce?.domain()},ee=recreateFacets(ee,_e),Se=facetTranslator(le,ce,ae));for(const[Me,Ae]of te)Ae.values=Me.scale(Ae.channels,se,he);const{width:me,height:Ce}=ae;select(ge).attr("class",U).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",me).attr("height",Ce).attr("viewBox",`0 0 ${me} ${Ce}`).attr("aria-label",L).attr("aria-description",F).call(Me=>Me.append("style").text(`:where(.${U}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${U} text),
:where(.${U} tspan) {
  white-space: pre;
}`)).call(applyInlineStyles,P);for(const Me of V){const{channels:Ae,values:we,facets:ke}=te.get(Me);if(ee===void 0||Me.facet==="super"){let Ee=null;if(ke&&(Ee=ke[0],Ee=Me.filter(Ee,Ae,we),Ee.length===0))continue;const ze=Me.render(Ee,se,we,de,he);if(ze==null)continue;ge.appendChild(ze)}else{let Ee;for(const ze of ee){if(!(Me.facetAnchor?.(ee,_e,ze)??!ze.empty))continue;let je=null;if(ke){const He=W.has(Me);if(je=ke[He?ze.i:0],je=Me.filter(je,Ae,we),je.length===0)continue;!He&&je===ke[0]&&(je=subarray(je)),je.fx=ze.x,je.fy=ze.y,je.fi=ze.i}const Ke=Me.render(je,se,we,fe,he);if(Ke!=null){(Ee??=select(ge).append("g")).append(()=>Ke).datum(ze);for(const He of["aria-label","aria-description","aria-hidden","transform"])Ke.hasAttribute(He)&&(Ee.attr(He,Ke.getAttribute(He)),Ke.removeAttribute(He))}}Ee?.selectChildren().each(Se)}}const Te=createLegends(ie,he,_),{figure:Re=I!=null||O!=null||z!=null||Te.length>0}=_;Re&&(be=pe.createElement("figure"),be.className=`${U}-figure`,be.style.maxWidth="initial",I!=null&&be.append(createTitleElement(pe,I,"h2")),O!=null&&be.append(createTitleElement(pe,O,"h3")),be.append(...Te,ge),z!=null&&be.append(createFigcaption(pe,z)),"value"in ge&&(be.value=ge.value,delete ge.value)),be.scale=exposeScales(se.scales),be.legend=exposeLegends(ie,he,_);const Pe=consumeWarnings();return Pe>0&&select(ge).append("text").attr("x",me).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${Pe.toLocaleString("en-US")} warning${Pe===1?"":"s"}. Please check the console.`),be}function createTitleElement(_,R,P){if(R.ownerDocument)return R;const I=_.createElement(P);return I.append(R),I}function createFigcaption(_,R){const P=_.createElement("figcaption");return P.append(R),P}function flatMarks(_){return _.flat(1/0).filter(R=>R!=null).map(markify)}function markify(_){return typeof _.render=="function"?_:new Render(_)}class Render extends Mark{constructor(R){if(typeof R!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=R}render(){}}function applyScaleTransforms(_,R){for(const P in _)applyScaleTransform(_[P],R);return _}function applyScaleTransform(_,R){const{scale:P,transform:I=!0}=_;if(P==null||!I)return;const{type:O,percent:z,interval:L,transform:F=z?U=>U==null?NaN:U*100:maybeIntervalTransform(L,O)}=R[P]??{};F!=null&&(_.value=map(_.value,F),_.transform=!1)}function inferChannelScales(_){for(const R in _)inferChannelScale(R,_[R])}function addScaleChannels(_,R,P,I=yes){for(const{channels:O}of R.values())for(const z in O){const L=O[z],{scale:F}=L;if(F!=null&&I(F))if(F==="projection"){if(!hasProjection(P)){const U=P.x?.domain===void 0,V=P.y?.domain===void 0;if(U||V){const[q,W]=getGeometryChannels(L);U&&addScaleChannel(_,"x",q),V&&addScaleChannel(_,"y",W)}}}else addScaleChannel(_,F,L)}return _}function addScaleChannel(_,R,P){const I=_.get(R);I!==void 0?I.push(P):_.set(R,[P])}function maybeTopFacet(_,R){if(_==null)return;const{x:P,y:I}=_;if(P==null&&I==null)return;const O=dataify(_.data);if(O==null)throw new Error("missing facet data");const z={};P!=null&&(z.fx=createChannel(O,{value:P,scale:"fx"})),I!=null&&(z.fy=createChannel(O,{value:I,scale:"fy"})),applyScaleTransforms(z,R);const L=facetGroups(O,z);return{channels:z,groups:L,data:_.data}}function maybeMarkFacet(_,R,P){if(_.facet===null||_.facet==="super")return;const{fx:I,fy:O}=_;if(I!=null||O!=null){const U=dataify(_.data??I??O);if(U===void 0)throw new Error(`missing facet data in ${_.ariaLabel}`);if(U===null)return;const V={};return I!=null&&(V.fx=createChannel(U,{value:I,scale:"fx"})),O!=null&&(V.fy=createChannel(U,{value:O,scale:"fy"})),applyScaleTransforms(V,P),{channels:V,groups:facetGroups(U,V)}}if(R===void 0)return;const{channels:z,groups:L,data:F}=R;if(_.facet!=="auto"||_.data===F)return{channels:z,groups:L};F.length>0&&(L.size>1||L.size===1&&z.fx&&z.fy&&[...L][0][1].size>1)&&lengthof(dataify(_.data))===lengthof(F)&&warn(`Warning: the ${_.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function derive(_,R={}){return initializer({...R,x:null,y:null},(P,I,O,z,L,F)=>F.getMarkState(_))}function inferTips(_){const R=[];for(const P of _){let I=P.tip;if(I){I===!0?I={}:typeof I=="string"&&(I={pointer:I});let{pointer:O,preferredAnchor:z}=I;O=/^x$/i.test(O)?pointerX:/^y$/i.test(O)?pointerY:pointer,I=O(derive(P,I)),I.title=null,z===void 0&&(I.preferredAnchor=O===pointerY?"left":"bottom");const L=tip(P.data,I);L.facet=P.facet,L.facetAnchor=P.facetAnchor,R.push(L)}}return R}function inferAxes(_,R,P){let{projection:I,x:O={},y:z={},fx:L={},fy:F={},axis:U,grid:V,facet:q={},facet:{axis:W=U,grid:Y}=q,x:{axis:Q=U,grid:ee=Q===null?null:V}=O,y:{axis:te=U,grid:ie=te===null?null:V}=z,fx:{axis:ae=W,grid:se=ae===null?null:Y}=L,fy:{axis:le=W,grid:ce=le===null?null:Y}=F}=P;(I||!isScaleOptions(O)&&!hasPositionChannel("x",_))&&(Q=ee=null),(I||!isScaleOptions(z)&&!hasPositionChannel("y",_))&&(te=ie=null),R.has("fx")||(ae=se=null),R.has("fy")||(le=ce=null),Q===void 0&&(Q=!hasAxis(_,"x")),te===void 0&&(te=!hasAxis(_,"y")),ae===void 0&&(ae=!hasAxis(_,"fx")),le===void 0&&(le=!hasAxis(_,"fy")),Q===!0&&(Q="bottom"),te===!0&&(te="left"),ae===!0&&(ae=Q==="top"||Q===null?"bottom":"top"),le===!0&&(le=te==="right"||te===null?"left":"right");const fe=[];return maybeGrid(fe,ce,gridFy,F),maybeAxis(fe,le,axisFy,"right","left",q,F),maybeGrid(fe,se,gridFx,L),maybeAxis(fe,ae,axisFx,"top","bottom",q,L),maybeGrid(fe,ie,gridY,z),maybeAxis(fe,te,axisY,"left","right",P,z),maybeGrid(fe,ee,gridX,O),maybeAxis(fe,Q,axisX,"bottom","top",P,O),fe}function maybeAxis(_,R,P,I,O,z,L){if(!R)return;const F=isBoth(R);L=axisOptions(F?I:R,z,L);const{line:U}=L;(P===axisY||P===axisX)&&U&&!isNone(U)&&_.push(frame(lineOptions(L))),_.push(P(L)),F&&_.push(P({...L,anchor:O,label:null}))}function maybeGrid(_,R,P,I){!R||isNone(R)||_.push(P(gridOptions(R,I)))}function isBoth(_){return/^\s*both\s*$/i.test(_)}function axisOptions(_,R,{line:P=R.line,ticks:I,tickSize:O,tickSpacing:z,tickPadding:L,tickFormat:F,tickRotate:U,fontVariant:V,ariaLabel:q,ariaDescription:W,label:Y=R.label,labelAnchor:Q,labelArrow:ee=R.labelArrow,labelOffset:te}){return{anchor:_,line:P,ticks:I,tickSize:O,tickSpacing:z,tickPadding:L,tickFormat:F,tickRotate:U,fontVariant:V,ariaLabel:q,ariaDescription:W,label:Y,labelAnchor:Q,labelArrow:ee,labelOffset:te}}function lineOptions(_){const{anchor:R,line:P}=_;return{anchor:R,facetAnchor:R+"-empty",stroke:P===!0?void 0:P}}function gridOptions(_,{stroke:R=isColor(_)?_:void 0,ticks:P=isGridTicks(_)?_:void 0,tickSpacing:I,ariaLabel:O,ariaDescription:z}){return{stroke:R,ticks:P,tickSpacing:I,ariaLabel:O,ariaDescription:z}}function isGridTicks(_){switch(typeof _){case"number":return!0;case"string":return!isColor(_)}return isIterable(_)||typeof _?.range=="function"}function hasAxis(_,R){const P=`${R}-axis `;return _.some(I=>I.ariaLabel?.startsWith(P))}function hasPositionChannel(_,R){for(const P of R)for(const I in P.channels){const{scale:O}=P.channels[I];if(O===_||O==="projection")return!0}return!1}function inheritScaleLabels(_,R){for(const P in _){const I=_[P],O=R[P];I.label===void 0&&O&&(I.label=O.label)}return _}function actualDimensions({fx:_,fy:R},P){const{marginTop:I,marginRight:O,marginBottom:z,marginLeft:L,width:F,height:U}=outerDimensions(P),V=_&&outerRange(_),q=R&&outerRange(R);return{marginTop:R?q[0]:I,marginRight:_?F-V[1]:O,marginBottom:R?U-q[1]:z,marginLeft:_?V[0]:L,inset:{marginTop:P.marginTop,marginRight:P.marginRight,marginBottom:P.marginBottom,marginLeft:P.marginLeft},width:F,height:U}}function outerRange(_){const R=_.domain();if(R.length===0)return[0,_.bandwidth()];let P=_(R[0]),I=_(R[R.length-1]);return I<P&&([P,I]=[I,P]),[P,I+_.bandwidth()]}const curves=new Map([["basis",curveBasis],["basis-closed",curveBasisClosed],["basis-open",curveBasisOpen],["bundle",curveBundle],["bump-x",bumpX],["bump-y",bumpY],["cardinal",curveCardinal],["cardinal-closed",curveCardinalClosed],["cardinal-open",curveCardinalOpen],["catmull-rom",curveCatmullRom],["catmull-rom-closed",curveCatmullRomClosed],["catmull-rom-open",curveCatmullRomOpen],["linear",curveLinear],["linear-closed",curveLinearClosed],["monotone-x",monotoneX],["monotone-y",monotoneY],["natural",curveNatural],["step",curveStep],["step-after",stepAfter],["step-before",stepBefore]]);function maybeCurve(_=curveLinear,R){if(typeof _=="function")return _;const P=curves.get(`${_}`.toLowerCase());if(!P)throw new Error(`unknown curve: ${_}`);if(R!==void 0){if("beta"in P)return P.beta(R);if("tension"in P)return P.tension(R);if("alpha"in P)return P.alpha(R)}return P}function maybeCurveAuto(_=curveAuto,R){return typeof _!="function"&&`${_}`.toLowerCase()==="auto"?curveAuto:maybeCurve(_,R)}function curveAuto(_){return curveLinear(_)}function binX(_={y:"count"},R={}){[_,R]=mergeOptions(_,R);const{x:P,y:I}=R;return binn(maybeBinValue(P,R,identity$1),null,null,I,_,maybeInsetX(R))}function maybeDenseInterval(_,R,P={}){if(P?.interval==null)return P;const{reduce:I=reduceFirst}=P,O={filter:null};return P[R]!=null&&(O[R]=I),P[`${R}1`]!=null&&(O[`${R}1`]=I),P[`${R}2`]!=null&&(O[`${R}2`]=I),_(O,P)}function maybeDenseIntervalX(_={}){return maybeDenseInterval(binX,"y",withTip(_,"x"))}function binn(_,R,P,I,{data:O=reduceIdentity,filter:z=reduceCount,sort:L,reverse:F,...U}={},V={}){_=maybeBin(_),R=maybeBin(R),U=maybeBinOutputs(U,V),O=maybeBinReduce(O,identity$1),L=L==null?void 0:maybeBinOutput("sort",L,V),z=z==null?void 0:maybeBinEvaluator("filter",z,V),I!=null&&hasOutput(U,"y","y1","y2")&&(I=null);const[q,W]=maybeColumn(_),[Y,Q]=maybeColumn(_),[ee,te]=maybeColumn(R),[ie,ae]=maybeColumn(R),[se,le]=I!=null?[I,"y"]:[],[ce,fe]=maybeColumn(se),{x:de,y:he,z:pe,fill:ge,stroke:be,x1:xe,x2:_e,y1:Se,y2:me,domain:Ce,cumulative:Te,thresholds:Re,interval:Pe,...Me}=V,[Ae,we]=maybeColumn(pe),[ke]=maybeColorChannel(ge),[Ee]=maybeColorChannel(be),[ze,je]=maybeColumn(ke),[Ke,He]=maybeColumn(Ee);return{..."z"in V&&{z:Ae||pe},..."fill"in V&&{fill:ze||ge},..."stroke"in V&&{stroke:Ke||be},...basic(Me,(Ze,Le,Xe)=>{const Ye=maybeApplyInterval(valueof(Ze,se),Xe?.[le]),Ve=valueof(Ze,pe),dt=valueof(Ze,ke),ye=valueof(Ze,Ee),Ge=maybeSubgroup(U,{z:Ve,fill:dt,stroke:ye}),Fe=[],Ie=[],Ne=Ye&&fe([]),Be=Ve&&we([]),at=dt&&je([]),lt=ye&&He([]),We=_&&W([]),ht=_&&Q([]),ut=R&&te([]),ft=R&&ae([]),Oe=bing(_,R,Ze);let tt=0;for(const st of U)st.initialize(Ze);L&&L.initialize(Ze),z&&z.initialize(Ze);for(const st of Le){const mt=[];for(const gt of U)gt.scope("facet",st);L&&L.scope("facet",st),z&&z.scope("facet",st);for(const[gt,Tt]of maybeGroup(st,Ge))for(const[Et,_t]of maybeGroup(Tt,Ye))for(const[vt,wt]of Oe(_t))if(Ge&&(wt.z=gt),!(z&&!z.reduce(vt,wt))){mt.push(tt++),Ie.push(O.reduceIndex(vt,Ze,wt)),Ye&&Ne.push(Et),Ve&&Be.push(Ge===Ve?gt:Ve[(vt.length>0?vt:_t)[0]]),dt&&at.push(Ge===dt?gt:dt[(vt.length>0?vt:_t)[0]]),ye&&lt.push(Ge===ye?gt:ye[(vt.length>0?vt:_t)[0]]),We&&(We.push(wt.x1),ht.push(wt.x2)),ut&&(ut.push(wt.y1),ft.push(wt.y2));for(const xt of U)xt.reduce(vt,wt);L&&L.reduce(vt,wt)}Fe.push(mt)}return maybeSort(Fe,L,F),{data:Ie,facets:Fe}}),...!hasOutput(U,"x")&&(q?{x1:q,x2:Y,x:mid(q,Y)}:{x:de,x1:xe,x2:_e}),...!hasOutput(U,"y")&&(ee?{y1:ee,y2:ie,y:mid(ee,ie)}:{y:he,y1:Se,y2:me}),...ce&&{[le]:ce},...Object.fromEntries(U.map(({name:Ze,output:Le})=>[Ze,Le]))}}function mergeOptions({cumulative:_,domain:R,thresholds:P,interval:I,...O},z){return[O,{cumulative:_,domain:R,thresholds:P,interval:I,...z}]}function maybeBinValue(_,{cumulative:R,domain:P,thresholds:I,interval:O},z){return _={...maybeValue(_)},_.domain===void 0&&(_.domain=P),_.cumulative===void 0&&(_.cumulative=R),_.thresholds===void 0&&(_.thresholds=I),_.interval===void 0&&(_.interval=O),_.value===void 0&&(_.value=z),_.thresholds=maybeThresholds(_.thresholds,_.interval),_}function maybeBin(_){if(_==null)return;const{value:R,cumulative:P,domain:I=extent$1,thresholds:O}=_,z=L=>{let F=valueof(L,R),U;if(isTemporal(F)||isTimeThresholds(O)){F=map(F,coerceDate,Float64Array);let[q,W]=typeof I=="function"?I(F):I,Y=typeof O=="function"&&!isInterval(O)?O(F,q,W):O;typeof Y=="number"&&(Y=utcTickInterval(q,W,Y)),isInterval(Y)&&(I===extent$1&&(q=Y.floor(q),W=Y.offset(Y.floor(W))),Y=Y.range(q,Y.offset(W))),U=Y}else{F=coerceNumbers(F);let[q,W]=typeof I=="function"?I(F):I,Y=typeof O=="function"&&!isInterval(O)?O(F,q,W):O;if(typeof Y=="number")if(I===extent$1){let Q=tickIncrement(q,W,Y);if(isFinite(Q))if(Q>0){let ee=Math.round(q/Q),te=Math.round(W/Q);ee*Q<=q||--ee,te*Q>W||++te;let ie=te-ee+1;Y=new Float64Array(ie);for(let ae=0;ae<ie;++ae)Y[ae]=(ee+ae)*Q}else if(Q<0){Q=-Q;let ee=Math.round(q*Q),te=Math.round(W*Q);ee/Q<=q||--ee,te/Q>W||++te;let ie=te-ee+1;Y=new Float64Array(ie);for(let ae=0;ae<ie;++ae)Y[ae]=(ee+ae)/Q}else Y=[q];else Y=[q]}else Y=ticks(q,W,Y);else isInterval(Y)&&(I===extent$1&&(q=Y.floor(q),W=Y.offset(Y.floor(W))),Y=Y.range(q,Y.offset(W)));U=Y}const V=[];if(U.length===1)V.push([U[0],U[0]]);else for(let q=1;q<U.length;++q)V.push([U[q-1],U[q]]);return V.bin=(P<0?bin1cn:P>0?bin1cp:bin1)(V,U,F),V};return z.label=labelof(R),z}function maybeThresholds(_,R,P=thresholdAuto){if(_===void 0)return R===void 0?P:maybeRangeInterval(R);if(typeof _=="string"){switch(_.toLowerCase()){case"freedman-diaconis":return thresholdFreedmanDiaconis;case"scott":return thresholdScott;case"sturges":return thresholdSturges;case"auto":return thresholdAuto}return utcInterval(_)}return _}function maybeBinOutputs(_,R){return maybeOutputs(_,R,maybeBinOutput)}function maybeBinOutput(_,R,P){return maybeOutput(_,R,P,maybeBinEvaluator)}function maybeBinEvaluator(_,R,P){return maybeEvaluator(_,R,P,maybeBinReduce)}function maybeBinReduce(_,R){return maybeReduce(_,R,maybeBinReduceFallback)}function maybeBinReduceFallback(_){switch(`${_}`.toLowerCase()){case"x":return reduceX;case"x1":return reduceX1;case"x2":return reduceX2;case"y":return reduceY;case"y1":return reduceY1;case"y2":return reduceY2;case"z":return reduceZ}throw new Error(`invalid bin reduce: ${_}`)}function thresholdAuto(_,R,P){return Math.min(200,thresholdScott(_,R,P))}function isTimeThresholds(_){return isTimeInterval(_)||isIterable(_)&&isTemporal(_)}function bing(_,R,P){const I=_?.(P),O=R?.(P);return I&&O?function*(z){const L=I.bin(z);for(const[F,[U,V]]of I.entries()){const q=O.bin(L[F]);for(const[W,[Y,Q]]of O.entries())yield[q[W],{data:P,x1:U,y1:Y,x2:V,y2:Q}]}}:I?function*(z){const L=I.bin(z);for(const[F,[U,V]]of I.entries())yield[L[F],{data:P,x1:U,x2:V}]}:function*(z){const L=O.bin(z);for(const[F,[U,V]]of O.entries())yield[L[F],{data:P,y1:U,y2:V}]}}function bin1(_,R,P){return R=coerceNumbers(R),I=>{const O=_.map(()=>[]);for(const z of I)O[bisectRight(R,P[z])-1]?.push(z);return O}}function bin1cp(_,R,P){const I=bin1(_,R,P);return O=>{const z=I(O);for(let L=1,F=z.length;L<F;++L){const U=z[L-1],V=z[L];for(const q of U)V.push(q)}return z}}function bin1cn(_,R,P){const I=bin1(_,R,P);return O=>{const z=I(O);for(let L=z.length-2;L>=0;--L){const F=z[L+1],U=z[L];for(const V of F)U.push(V)}return z}}function mid1(_,R){const P=(+_+ +R)/2;return _ instanceof Date?new Date(P):P}const reduceX={reduceIndex(_,R,{x1:P,x2:I}){return mid1(P,I)}},reduceY={reduceIndex(_,R,{y1:P,y2:I}){return mid1(P,I)}},reduceX1={reduceIndex(_,R,{x1:P}){return P}},reduceX2={reduceIndex(_,R,{x2:P}){return P}},reduceY1={reduceIndex(_,R,{y1:P}){return P}},reduceY2={reduceIndex(_,R,{y2:P}){return P}},defaults$4={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Area extends Mark{constructor(R,P={}){const{x1:I,y1:O,x2:z,y2:L,z:F,curve:U,tension:V}=P;super(R,{x1:{value:I,scale:"x"},y1:{value:O,scale:"y"},x2:{value:z,scale:"x",optional:!0},y2:{value:L,scale:"y",optional:!0},z:{value:maybeZ(P),optional:!0}},P,defaults$4),this.z=F,this.curve=maybeCurve(U,V)}filter(R){return R}render(R,P,I,O,z){const{x1:L,y1:F,x2:U=L,y2:V=F}=I;return create$1("svg:g",z).call(applyIndirectStyles,this,O,z).call(applyTransform,this,P,0,0).call(q=>q.selectAll().data(groupIndex(R,[L,F,U,V],this,I)).enter().append("path").call(applyDirectStyles,this).call(applyGroupedChannelStyles,this,I).attr("d",shapeArea().curve(this.curve).defined(W=>W>=0).x0(W=>L[W]).y0(W=>F[W]).x1(W=>U[W]).y1(W=>V[W]))).node()}}function areaY(_,R){const{x:P=indexOf,...I}=maybeDenseIntervalX(R);return new Area(_,maybeStackY(maybeIdentityY({...I,x1:P,x2:void 0},P===indexOf?"y2":"y")))}const defaults$3={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Link extends Mark{constructor(R,P={}){const{x1:I,y1:O,x2:z,y2:L,curve:F,tension:U}=P;super(R,{x1:{value:I,scale:"x"},y1:{value:O,scale:"y"},x2:{value:z,scale:"x",optional:!0},y2:{value:L,scale:"y",optional:!0}},P,defaults$3),this.curve=maybeCurveAuto(F,U),markers(this,P)}project(R,P,I){this.curve!==curveAuto&&super.project(R,P,I)}render(R,P,I,O,z){const{x1:L,y1:F,x2:U=L,y2:V=F}=I,{curve:q}=this;return create$1("svg:g",z).call(applyIndirectStyles,this,O,z).call(applyTransform,this,P).call(W=>W.selectAll().data(R).enter().append("path").call(applyDirectStyles,this).attr("d",q===curveAuto&&z.projection?sphereLink(z.path(),L,F,U,V):Y=>{const Q=pathRound(),ee=q(Q);return ee.lineStart(),ee.point(L[Y],F[Y]),ee.point(U[Y],V[Y]),ee.lineEnd(),Q}).call(applyChannelStyles,this,I).call(applyMarkers,this,I,z)).node()}}function sphereLink(_,R,P,I,O){return R=coerceNumbers(R),P=coerceNumbers(P),I=coerceNumbers(I),O=coerceNumbers(O),z=>_({type:"LineString",coordinates:[[R[z],P[z]],[I[z],O[z]]]})}function link$1(_,{x:R,x1:P,x2:I,y:O,y1:z,y2:L,...F}={}){return[P,I]=maybeSameValue(R,P,I),[z,L]=maybeSameValue(O,z,L),new Link(_,{...F,x1:P,x2:I,y1:z,y2:L})}function maybeSameValue(_,R,P){if(_===void 0){if(R===void 0){if(P!==void 0)return[P]}else if(P===void 0)return[R]}else{if(R===void 0)return P===void 0?[_]:[_,P];if(P===void 0)return[_,R]}return[R,P]}const barDefaults={ariaLabel:"bar"};class AbstractBar extends Mark{constructor(R,P,I={},O=barDefaults){super(R,P,I,O),rectInsets(this,I),rectRadii(this,I)}render(R,P,I,O,z){const{rx:L,ry:F,rx1y1:U,rx1y2:V,rx2y1:q,rx2y2:W}=this,Y=this._x(P,I,O),Q=this._y(P,I,O),ee=this._width(P,I,O),te=this._height(P,I,O);return create$1("svg:g",z).call(applyIndirectStyles,this,O,z).call(this._transform,this,P).call(ie=>ie.selectAll().data(R).enter().call(U||V||q||W?ae=>ae.append("path").call(applyDirectStyles,this).call(applyRoundedRect,Y,Q,add(Y,ee),add(Q,te),this).call(applyChannelStyles,this,I):ae=>ae.append("rect").call(applyDirectStyles,this).attr("x",Y).attr("width",ee).attr("y",Q).attr("height",te).call(applyAttr,"rx",L).call(applyAttr,"ry",F).call(applyChannelStyles,this,I))).node()}_x(R,{x:P},{marginLeft:I}){const{insetLeft:O}=this;return P?z=>P[z]+O:I+O}_y(R,{y:P},{marginTop:I}){const{insetTop:O}=this;return P?z=>P[z]+O:I+O}_width({x:R},{x:P},{marginRight:I,marginLeft:O,width:z}){const{insetLeft:L,insetRight:F}=this,U=P&&R?R.bandwidth():z-I-O;return Math.max(0,U-L-F)}_height({y:R},{y:P},{marginTop:I,marginBottom:O,height:z}){const{insetTop:L,insetBottom:F}=this,U=P&&R?R.bandwidth():z-I-O;return Math.max(0,U-L-F)}}function add(_,R){return typeof _=="function"&&typeof R=="function"?P=>_(P)+R(P):typeof _=="function"?P=>_(P)+R:typeof R=="function"?P=>_+R(P):_+R}class BarY extends AbstractBar{constructor(R,P={},I){const{x:O,y1:z,y2:L}=P;super(R,{y1:{value:z,scale:"y"},y2:{value:L,scale:"y"},x:{value:O,scale:"x",type:"band",optional:!0}},P,I)}_transform(R,P,{y:I}){R.call(applyTransform,P,{y:I},0,0)}_y({y:R},{y1:P,y2:I},{marginTop:O}){const{insetTop:z}=this;return isCollapsed(R)?O+z:L=>Math.min(P[L],I[L])+z}_height({y:R},{y1:P,y2:I},{marginTop:O,marginBottom:z,height:L}){const{insetTop:F,insetBottom:U}=this;return isCollapsed(R)?L-O-z-F-U:V=>Math.max(0,Math.abs(I[V]-P[V])-F-U)}}function barY(_,R={}){return hasXY(R)||(R={...R,x:indexOf,y2:identity$1}),new BarY(_,maybeStackY(maybeIntervalY(maybeIdentityY(R))))}const defaults$2={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function withDefaultSort(_){return _.sort===void 0&&_.reverse===void 0?sort({channel:"-r"},_):_}class Dot extends Mark{constructor(R,P={}){const{x:I,y:O,r:z,rotate:L,symbol:F=symbolCircle,frameAnchor:U}=P,[V,q]=maybeNumberChannel(L,0),[W,Y]=maybeSymbolChannel(F),[Q,ee]=maybeNumberChannel(z,W==null?3:4.5);super(R,{x:{value:I,scale:"x",optional:!0},y:{value:O,scale:"y",optional:!0},r:{value:Q,scale:"r",filter:positive,optional:!0},rotate:{value:V,optional:!0},symbol:{value:W,scale:"auto",optional:!0}},withDefaultSort(P),defaults$2),this.r=ee,this.rotate=q,this.symbol=Y,this.frameAnchor=maybeFrameAnchor(U);const{channels:te}=this,{symbol:ie}=te;if(ie){const{fill:ae,stroke:se}=te;ie.hint={fill:ae?ae.value===ie.value?"color":"currentColor":this.fill??"currentColor",stroke:se?se.value===ie.value?"color":"currentColor":this.stroke??"none"}}}render(R,P,I,O,z){const{x:L,y:F}=P,{x:U,y:V,r:q,rotate:W,symbol:Y}=I,{r:Q,rotate:ee,symbol:te}=this,[ie,ae]=applyFrameAnchor(this,O),se=te===symbolCircle,le=q?void 0:Q*Q*Math.PI;return negative(Q)&&(R=[]),create$1("svg:g",z).call(applyIndirectStyles,this,O,z).call(applyTransform,this,{x:U&&L,y:V&&F}).call(ce=>ce.selectAll().data(R).enter().append(se?"circle":"path").call(applyDirectStyles,this).call(se?fe=>{fe.attr("cx",U?de=>U[de]:ie).attr("cy",V?de=>V[de]:ae).attr("r",q?de=>q[de]:Q)}:fe=>{fe.attr("transform",template`translate(${U?de=>U[de]:ie},${V?de=>V[de]:ae})${W?de=>` rotate(${W[de]})`:ee?` rotate(${ee})`:""}`).attr("d",q&&Y?de=>{const he=pathRound();return Y[de].draw(he,q[de]*q[de]*Math.PI),he}:q?de=>{const he=pathRound();return te.draw(he,q[de]*q[de]*Math.PI),he}:Y?de=>{const he=pathRound();return Y[de].draw(he,le),he}:(()=>{const de=pathRound();return te.draw(de,le),de})())}).call(applyChannelStyles,this,I)).node()}}function dot(_,{x:R,y:P,...I}={}){return I.frameAnchor===void 0&&([R,P]=maybeTuple(R,P)),new Dot(_,{...I,x:R,y:P})}const defaults$1={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Line extends Mark{constructor(R,P={}){const{x:I,y:O,z,curve:L,tension:F}=P;super(R,{x:{value:I,scale:"x"},y:{value:O,scale:"y"},z:{value:maybeZ(P),optional:!0}},P,defaults$1),this.z=z,this.curve=maybeCurveAuto(L,F),markers(this,P)}filter(R){return R}project(R,P,I){this.curve!==curveAuto&&super.project(R,P,I)}render(R,P,I,O,z){const{x:L,y:F}=I,{curve:U}=this;return create$1("svg:g",z).call(applyIndirectStyles,this,O,z).call(applyTransform,this,P).call(V=>V.selectAll().data(groupIndex(R,[L,F],this,I)).enter().append("path").call(applyDirectStyles,this).call(applyGroupedChannelStyles,this,I).call(applyGroupedMarkers,this,I,z).attr("d",U===curveAuto&&z.projection?sphereLine(z.path(),L,F):shapeLine().curve(U).defined(q=>q>=0).x(q=>L[q]).y(q=>F[q]))).node()}}function sphereLine(_,R,P){return R=coerceNumbers(R),P=coerceNumbers(P),I=>{let O=[];const z=[O];for(const L of I)L===-1?(O=[],z.push(O)):O.push([R[L],P[L]]);return _({type:"MultiLineString",coordinates:z})}}function line(_,{x:R,y:P,...I}={}){return[R,P]=maybeTuple(R,P),new Line(_,{...I,x:R,y:P})}const defaults={ariaLabel:"tick",fill:null,stroke:"currentColor"};class AbstractTick extends Mark{constructor(R,P,I){super(R,P,I,defaults),markers(this,I)}render(R,P,I,O,z){return create$1("svg:g",z).call(applyIndirectStyles,this,O,z).call(this._transform,this,P).call(L=>L.selectAll().data(R).enter().append("line").call(applyDirectStyles,this).attr("x1",this._x1(P,I,O)).attr("x2",this._x2(P,I,O)).attr("y1",this._y1(P,I,O)).attr("y2",this._y2(P,I,O)).call(applyChannelStyles,this,I).call(applyMarkers,this,I,z)).node()}}class TickX extends AbstractTick{constructor(R,P={}){const{x:I,y:O,inset:z=0,insetTop:L=z,insetBottom:F=z}=P;super(R,{x:{value:I,scale:"x"},y:{value:O,scale:"y",type:"band",optional:!0}},P),this.insetTop=number$1(L),this.insetBottom=number$1(F)}_transform(R,P,{x:I}){R.call(applyTransform,P,{x:I},offset,0)}_x1(R,{x:P}){return I=>P[I]}_x2(R,{x:P}){return I=>P[I]}_y1({y:R},{y:P},{marginTop:I}){const{insetTop:O}=this;return P&&R?z=>P[z]+O:I+O}_y2({y:R},{y:P},{height:I,marginBottom:O}){const{insetBottom:z}=this;return P&&R?L=>P[L]+R.bandwidth()-z:I-O-z}}function tickX(_,{x:R=identity$1,...P}={}){return new TickX(_,{...P,x:R})}Mark.prototype.plot=function({marks:_=[],...R}={}){return plot({...R,marks:[..._,this]})};function BatchPlot({data:_,dataWithCI:R,histogramData:P,xAxisLabel:I="Time (h)",yAxisLabel:O,plotType:z,width:L=640,height:F=400,yMin:U,yMax:V}){const q=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!q.current||z==="line"&&_.length===0||z==="line_ci"&&(!R||R.length===0)||z==="histogram"&&(!P||P.length===0))return;let W,Y={legend:!0},Q={label:I},ee={label:O,domain:U!==void 0||V!==void 0?[U??0,V??void 0]:void 0};z==="histogram"&&P?(W=[barY(P,{x:"group",y:"mean",fill:"group"}),link$1(P.flatMap(ie=>[{group:ie.group,y:ie.lower,y2:ie.upper}]),pointer({x:"group",y1:"y",y2:"y2",stroke:"#666",strokeWidth:2})),...P.flatMap(ie=>[tickX([ie],{x:"group",y:ie.lower,stroke:"#666"}),tickX([ie],{x:"group",y:ie.upper,stroke:"#666"})])],Q={label:"Cell Group"},ee={label:O,grid:!0,domain:U!==void 0||V!==void 0?[U??0,V??void 0]:[0,void 0]},Y={color:{legend:!0,label:"Cell Group",type:"ordinal"}}):z==="line_ci"&&R?(W=[areaY(R,{x:"time",y1:"lower",y2:"upper",fill:"cell_group",fillOpacity:.2}),line(R,{x:"time",y:"mean",stroke:"cell_group",strokeWidth:2}),dot(R,{x:"time",y:"mean",fill:"cell_group",r:3})],Y={color:{legend:!0,label:"Cell Group",type:"ordinal"}}):_.some(ae=>ae.cell_group!==void 0)?(W=[line(_,{x:"time",y:"value",stroke:"cell_group",strokeWidth:2}),dot(_,{x:"time",y:"value",fill:"cell_group",r:3})],Y={color:{legend:!0,label:"Cell Group",type:"ordinal"}}):W=[line(_,{x:"time",y:"value",stroke:"steelblue",strokeWidth:2}),dot(_,{x:"time",y:"value",fill:"steelblue",r:3})];const te=plot({width:L,height:F,marginLeft:60,marginBottom:40,marginRight:120,grid:!0,x:Q,y:ee,...Y,marks:W});return q.current.appendChild(te),()=>{te.remove()}},[_,R,P,I,O,z,L,F,U,V]),jsxRuntimeExports.jsx("div",{ref:q})}function ExtendedExportPanel({config:_,onChange:R,onExport:P,disabled:I=!1}){return jsxRuntimeExports.jsxs(Card,{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Extended Export"}),jsxRuntimeExports.jsxs(Button,{onClick:P,disabled:I,className:"gap-2",children:[jsxRuntimeExports.jsx(Film,{className:"w-4 h-4"}),"Export as ZIP"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-sm",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Export batch runs with screenshots at time samples, movies, and parameter files packaged as a ZIP archive."}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:"export-movie",checked:_.exportMovie,onCheckedChange:O=>R({..._,exportMovie:O===!0}),disabled:I}),jsxRuntimeExports.jsx(Label$1,{htmlFor:"export-movie",className:"cursor-pointer",children:"Export movies (MP4)"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx(Label$1,{children:"Resolution"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",value:_.resolution.width,onChange:O=>R({..._,resolution:{..._.resolution,width:parseInt(O.target.value)||800}}),disabled:I,className:"w-20 px-2 py-1 border rounded text-sm",min:"400",max:"3840",step:"100"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:""}),jsxRuntimeExports.jsx("input",{type:"number",value:_.resolution.height,onChange:O=>R({..._,resolution:{..._.resolution,height:parseInt(O.target.value)||800}}),disabled:I,className:"w-20 px-2 py-1 border rounded text-sm",min:"400",max:"3840",step:"100"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground text-xs",children:"px"})]})]}),_.exportMovie&&jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx(Label$1,{children:"Frame Rate"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("select",{value:_.frameRate,onChange:O=>R({..._,frameRate:parseInt(O.target.value)}),disabled:I,className:"px-2 py-1 border rounded text-sm",children:[jsxRuntimeExports.jsx("option",{value:"24",children:"24 FPS"}),jsxRuntimeExports.jsx("option",{value:"30",children:"30 FPS"}),jsxRuntimeExports.jsx("option",{value:"60",children:"60 FPS"})]})})]})]})]})}function ExportProgressModal({progress:_,onCancel:R}){const P={initializing:"Initializing...",simulating:"Running simulations...",encoding:"Encoding video...",packaging:"Packaging ZIP..."};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Exporting Batch Data"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:R,className:"h-8 w-8 p-0",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:P[_.phase]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Run ",_.currentRun," of ",_.totalRuns]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Progress,{value:_.overallPercent,className:"h-2"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[_.overallPercent.toFixed(1),"%"]})]}),_.currentConfig&&Object.keys(_.currentConfig).length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Current parameters:"}),jsxRuntimeExports.jsx("div",{className:"text-xs font-mono bg-muted p-2 rounded space-y-0.5",children:Object.entries(_.currentConfig).map(([I,O])=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[I,":"]})," ",jsxRuntimeExports.jsx("span",{children:typeof O=="number"?O.toFixed(3):O})]},I))})]}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:R,className:"w-full",children:"Cancel Export"})})]})})}function aggregateByTime(_,R,P){const I=_.indexOf("time_h"),O=_.indexOf(P);if(I===-1||O===-1)return[];const z=new Map;for(const F of R){const U=Number(F[I]),V=Number(F[O]);!isNaN(U)&&!isNaN(V)&&(z.has(U)||z.set(U,[]),z.get(U).push(V))}const L=[];for(const[F,U]of z.entries()){const V=U.reduce((q,W)=>q+W,0)/U.length;L.push({time:F,value:V})}return L.sort((F,U)=>F.time-U.time),L}function aggregateByXAxisWithCI(_,R,P,I){const O=_.indexOf(P),z=_.indexOf(I),L=_.indexOf("cell_group");if(O===-1||z===-1)return[];const F=new Map;for(const V of R){const q=Number(V[O]),W=Number(V[z]),Y=L!==-1?String(V[L]):"all";if(!isNaN(q)&&!isNaN(W)){const Q=`${q}_${Y}`;F.has(Q)||F.set(Q,{time:q,cell_group:Y,values:[]}),F.get(Q).values.push(W)}}const U=[];for(const{time:V,cell_group:q,values:W}of F.values()){const Y=W.length,Q=W.reduce((ee,te)=>ee+te,0)/Y;if(Y>1){const ee=W.reduce((se,le)=>se+Math.pow(le-Q,2),0)/(Y-1),ae=1.96*(Math.sqrt(ee)/Math.sqrt(Y));U.push({time:V,mean:Q,lower:Q-ae,upper:Q+ae,n:Y,cell_group:q})}else U.push({time:V,mean:Q,lower:Q,upper:Q,n:Y,cell_group:q})}return U.sort((V,q)=>V.time!==q.time?V.time-q.time:V.cell_group.localeCompare(q.cell_group)),U}function aggregateForHistogram(_,R,P){const I=_.indexOf(P),O=_.indexOf("cell_group");if(I===-1)return[];const z=new Map;for(const F of R){const U=Number(F[I]),V=O!==-1?String(F[O]):"all";isNaN(U)||(z.has(V)||z.set(V,[]),z.get(V).push(U))}const L=[];for(const[F,U]of z.entries()){const V=U.length,q=U.reduce((W,Y)=>W+Y,0)/V;if(V>1){const W=U.reduce((te,ie)=>te+Math.pow(ie-q,2),0)/(V-1),ee=1.96*(Math.sqrt(W)/Math.sqrt(V));L.push({group:F,mean:q,lower:q-ee,upper:q+ee,n:V})}else L.push({group:F,mean:q,lower:q,upper:q,n:V})}return L.sort((F,U)=>F.group.localeCompare(U.group)),L}function getTimeSamples(_){const R=[];for(let P=_.start;P<=_.end;P+=_.step)R.push(P);return R}function generateParameterConfigs(_,R,P){return _.length===0?[{}]:R==="grid"?generateGridConfigs(_):generateRandomConfigs(_,P??10)}function generateGridConfigs(_){const R=_.map(O=>{const z=[],L=O.steps>1?(O.max-O.min)/(O.steps-1):0;for(let F=0;F<O.steps;F++)z.push(O.min+F*L);return{path:O.path,values:z}}),P=[];function I(O,z){if(O===R.length){P.push({...z});return}const{path:L,values:F}=R[O];for(const U of F)z[L]=U,I(O+1,z)}return I(0,{}),P}function generateRandomConfigs(_,R){const P=[];for(let I=0;I<R;I++){const O={};for(const z of _)O[z.path]=z.min+Math.random()*(z.max-z.min);P.push(O)}return P}const DEFAULT_TIME_SAMPLES={start:0,end:48,step:12};function customMerge(_,R){if(R===void 0)return _;if(Array.isArray(R))return R;if(!(isPlainObject$1(_)&&isPlainObject$1(R)))return R}function mergeWithDefaults(_,R=DEFAULT_EHT_PARAMS){const P=structuredClone(R);if(_.general&&mergeWith(P.general,_.general,customMerge),_.cell_prop&&mergeWith(P.cell_prop,_.cell_prop,customMerge),_.cell_types){P.cell_types={};for(const[I,O]of Object.entries(_.cell_types)){const z=structuredClone(DEFAULT_CONTROL_CELL);mergeWith(z,O,customMerge),P.cell_types[I]=z}}return P}function setNestedValue(_,R,P){const I=R.split(".");let O=_;for(let z=0;z<I.length-1;z++){const L=I[z];(!(L in O)||typeof O[L]!="object"||O[L]===null)&&(O[L]={}),O=O[L]}O[I[I.length-1]]=P}function replaceInfinityValues(_){if(_===null||typeof _!="object")return _===1/0?1e308:_===-1/0?-1e308:_;if(Array.isArray(_))return _.map(replaceInfinityValues);const R={};for(const[P,I]of Object.entries(_))R[P]=replaceInfinityValues(I);return R}function parseToml(_){return TOML.parse(_)}function parseTomlWithDefaults(_){const R=parseToml(_);return mergeWithDefaults(R)}function toToml(_){const R=replaceInfinityValues(structuredClone(_));return TOML.stringify(R)}function parseSimulationConfigToml(_){const R=TOML.parse(_);let P=[];R.parameter_ranges&&Array.isArray(R.parameter_ranges)&&(P=R.parameter_ranges.map(U=>{const V=U;return{path:String(V.path??""),min:Number(V.min??0),max:Number(V.max??0),steps:Number(V.steps??1)}}),delete R.parameter_ranges);let I={...DEFAULT_TIME_SAMPLES};if(R.time_samples&&typeof R.time_samples=="object"){const U=R.time_samples;I={start:Number(U.start??DEFAULT_TIME_SAMPLES.start),end:Number(U.end??DEFAULT_TIME_SAMPLES.end),step:Number(U.step??DEFAULT_TIME_SAMPLES.step)},delete R.time_samples}const O=R.seeds_per_config,z=typeof O=="number"&&!Number.isNaN(O)?O:1;return"seeds_per_config"in R&&delete R.seeds_per_config,{params:mergeWithDefaults(R),parameterRanges:P,timeSamples:I,seedsPerConfig:z}}function toSimulationConfigToml(_){const R=replaceInfinityValues(structuredClone(_.params));return R.parameter_ranges=_.parameterRanges??[],R.time_samples=_.timeSamples??DEFAULT_TIME_SAMPLES,R.seeds_per_config=_.seedsPerConfig??1,TOML.stringify(R)}const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(_){let R=_.length;for(;--R>=0;)_[R]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(_,R,P,I,O){this.static_tree=_,this.extra_bits=R,this.extra_base=P,this.elems=I,this.max_length=O,this.has_stree=_&&_.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(_,R){this.dyn_tree=_,this.max_code=0,this.stat_desc=R}const d_code=_=>_<256?_dist_code[_]:_dist_code[256+(_>>>7)],put_short=(_,R)=>{_.pending_buf[_.pending++]=R&255,_.pending_buf[_.pending++]=R>>>8&255},send_bits=(_,R,P)=>{_.bi_valid>Buf_size-P?(_.bi_buf|=R<<_.bi_valid&65535,put_short(_,_.bi_buf),_.bi_buf=R>>Buf_size-_.bi_valid,_.bi_valid+=P-Buf_size):(_.bi_buf|=R<<_.bi_valid&65535,_.bi_valid+=P)},send_code=(_,R,P)=>{send_bits(_,P[R*2],P[R*2+1])},bi_reverse=(_,R)=>{let P=0;do P|=_&1,_>>>=1,P<<=1;while(--R>0);return P>>>1},bi_flush=_=>{_.bi_valid===16?(put_short(_,_.bi_buf),_.bi_buf=0,_.bi_valid=0):_.bi_valid>=8&&(_.pending_buf[_.pending++]=_.bi_buf&255,_.bi_buf>>=8,_.bi_valid-=8)},gen_bitlen=(_,R)=>{const P=R.dyn_tree,I=R.max_code,O=R.stat_desc.static_tree,z=R.stat_desc.has_stree,L=R.stat_desc.extra_bits,F=R.stat_desc.extra_base,U=R.stat_desc.max_length;let V,q,W,Y,Q,ee,te=0;for(Y=0;Y<=MAX_BITS$1;Y++)_.bl_count[Y]=0;for(P[_.heap[_.heap_max]*2+1]=0,V=_.heap_max+1;V<HEAP_SIZE$1;V++)q=_.heap[V],Y=P[P[q*2+1]*2+1]+1,Y>U&&(Y=U,te++),P[q*2+1]=Y,!(q>I)&&(_.bl_count[Y]++,Q=0,q>=F&&(Q=L[q-F]),ee=P[q*2],_.opt_len+=ee*(Y+Q),z&&(_.static_len+=ee*(O[q*2+1]+Q)));if(te!==0){do{for(Y=U-1;_.bl_count[Y]===0;)Y--;_.bl_count[Y]--,_.bl_count[Y+1]+=2,_.bl_count[U]--,te-=2}while(te>0);for(Y=U;Y!==0;Y--)for(q=_.bl_count[Y];q!==0;)W=_.heap[--V],!(W>I)&&(P[W*2+1]!==Y&&(_.opt_len+=(Y-P[W*2+1])*P[W*2],P[W*2+1]=Y),q--)}},gen_codes=(_,R,P)=>{const I=new Array(MAX_BITS$1+1);let O=0,z,L;for(z=1;z<=MAX_BITS$1;z++)O=O+P[z-1]<<1,I[z]=O;for(L=0;L<=R;L++){let F=_[L*2+1];F!==0&&(_[L*2]=bi_reverse(I[F]++,F))}},tr_static_init=()=>{let _,R,P,I,O;const z=new Array(MAX_BITS$1+1);for(P=0,I=0;I<LENGTH_CODES$1-1;I++)for(base_length[I]=P,_=0;_<1<<extra_lbits[I];_++)_length_code[P++]=I;for(_length_code[P-1]=I,O=0,I=0;I<16;I++)for(base_dist[I]=O,_=0;_<1<<extra_dbits[I];_++)_dist_code[O++]=I;for(O>>=7;I<D_CODES$1;I++)for(base_dist[I]=O<<7,_=0;_<1<<extra_dbits[I]-7;_++)_dist_code[256+O++]=I;for(R=0;R<=MAX_BITS$1;R++)z[R]=0;for(_=0;_<=143;)static_ltree[_*2+1]=8,_++,z[8]++;for(;_<=255;)static_ltree[_*2+1]=9,_++,z[9]++;for(;_<=279;)static_ltree[_*2+1]=7,_++,z[7]++;for(;_<=287;)static_ltree[_*2+1]=8,_++,z[8]++;for(gen_codes(static_ltree,L_CODES$1+1,z),_=0;_<D_CODES$1;_++)static_dtree[_*2+1]=5,static_dtree[_*2]=bi_reverse(_,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=_=>{let R;for(R=0;R<L_CODES$1;R++)_.dyn_ltree[R*2]=0;for(R=0;R<D_CODES$1;R++)_.dyn_dtree[R*2]=0;for(R=0;R<BL_CODES$1;R++)_.bl_tree[R*2]=0;_.dyn_ltree[END_BLOCK*2]=1,_.opt_len=_.static_len=0,_.sym_next=_.matches=0},bi_windup=_=>{_.bi_valid>8?put_short(_,_.bi_buf):_.bi_valid>0&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0},smaller=(_,R,P,I)=>{const O=R*2,z=P*2;return _[O]<_[z]||_[O]===_[z]&&I[R]<=I[P]},pqdownheap=(_,R,P)=>{const I=_.heap[P];let O=P<<1;for(;O<=_.heap_len&&(O<_.heap_len&&smaller(R,_.heap[O+1],_.heap[O],_.depth)&&O++,!smaller(R,I,_.heap[O],_.depth));)_.heap[P]=_.heap[O],P=O,O<<=1;_.heap[P]=I},compress_block=(_,R,P)=>{let I,O,z=0,L,F;if(_.sym_next!==0)do I=_.pending_buf[_.sym_buf+z++]&255,I+=(_.pending_buf[_.sym_buf+z++]&255)<<8,O=_.pending_buf[_.sym_buf+z++],I===0?send_code(_,O,R):(L=_length_code[O],send_code(_,L+LITERALS$1+1,R),F=extra_lbits[L],F!==0&&(O-=base_length[L],send_bits(_,O,F)),I--,L=d_code(I),send_code(_,L,P),F=extra_dbits[L],F!==0&&(I-=base_dist[L],send_bits(_,I,F)));while(z<_.sym_next);send_code(_,END_BLOCK,R)},build_tree=(_,R)=>{const P=R.dyn_tree,I=R.stat_desc.static_tree,O=R.stat_desc.has_stree,z=R.stat_desc.elems;let L,F,U=-1,V;for(_.heap_len=0,_.heap_max=HEAP_SIZE$1,L=0;L<z;L++)P[L*2]!==0?(_.heap[++_.heap_len]=U=L,_.depth[L]=0):P[L*2+1]=0;for(;_.heap_len<2;)V=_.heap[++_.heap_len]=U<2?++U:0,P[V*2]=1,_.depth[V]=0,_.opt_len--,O&&(_.static_len-=I[V*2+1]);for(R.max_code=U,L=_.heap_len>>1;L>=1;L--)pqdownheap(_,P,L);V=z;do L=_.heap[1],_.heap[1]=_.heap[_.heap_len--],pqdownheap(_,P,1),F=_.heap[1],_.heap[--_.heap_max]=L,_.heap[--_.heap_max]=F,P[V*2]=P[L*2]+P[F*2],_.depth[V]=(_.depth[L]>=_.depth[F]?_.depth[L]:_.depth[F])+1,P[L*2+1]=P[F*2+1]=V,_.heap[1]=V++,pqdownheap(_,P,1);while(_.heap_len>=2);_.heap[--_.heap_max]=_.heap[1],gen_bitlen(_,R),gen_codes(P,U,_.bl_count)},scan_tree=(_,R,P)=>{let I,O=-1,z,L=R[1],F=0,U=7,V=4;for(L===0&&(U=138,V=3),R[(P+1)*2+1]=65535,I=0;I<=P;I++)z=L,L=R[(I+1)*2+1],!(++F<U&&z===L)&&(F<V?_.bl_tree[z*2]+=F:z!==0?(z!==O&&_.bl_tree[z*2]++,_.bl_tree[REP_3_6*2]++):F<=10?_.bl_tree[REPZ_3_10*2]++:_.bl_tree[REPZ_11_138*2]++,F=0,O=z,L===0?(U=138,V=3):z===L?(U=6,V=3):(U=7,V=4))},send_tree=(_,R,P)=>{let I,O=-1,z,L=R[1],F=0,U=7,V=4;for(L===0&&(U=138,V=3),I=0;I<=P;I++)if(z=L,L=R[(I+1)*2+1],!(++F<U&&z===L)){if(F<V)do send_code(_,z,_.bl_tree);while(--F!==0);else z!==0?(z!==O&&(send_code(_,z,_.bl_tree),F--),send_code(_,REP_3_6,_.bl_tree),send_bits(_,F-3,2)):F<=10?(send_code(_,REPZ_3_10,_.bl_tree),send_bits(_,F-3,3)):(send_code(_,REPZ_11_138,_.bl_tree),send_bits(_,F-11,7));F=0,O=z,L===0?(U=138,V=3):z===L?(U=6,V=3):(U=7,V=4)}},build_bl_tree=_=>{let R;for(scan_tree(_,_.dyn_ltree,_.l_desc.max_code),scan_tree(_,_.dyn_dtree,_.d_desc.max_code),build_tree(_,_.bl_desc),R=BL_CODES$1-1;R>=3&&_.bl_tree[bl_order[R]*2+1]===0;R--);return _.opt_len+=3*(R+1)+5+5+4,R},send_all_trees=(_,R,P,I)=>{let O;for(send_bits(_,R-257,5),send_bits(_,P-1,5),send_bits(_,I-4,4),O=0;O<I;O++)send_bits(_,_.bl_tree[bl_order[O]*2+1],3);send_tree(_,_.dyn_ltree,R-1),send_tree(_,_.dyn_dtree,P-1)},detect_data_type=_=>{let R=4093624447,P;for(P=0;P<=31;P++,R>>>=1)if(R&1&&_.dyn_ltree[P*2]!==0)return Z_BINARY;if(_.dyn_ltree[18]!==0||_.dyn_ltree[20]!==0||_.dyn_ltree[26]!==0)return Z_TEXT;for(P=32;P<LITERALS$1;P++)if(_.dyn_ltree[P*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=_=>{static_init_done||(tr_static_init(),static_init_done=!0),_.l_desc=new TreeDesc(_.dyn_ltree,static_l_desc),_.d_desc=new TreeDesc(_.dyn_dtree,static_d_desc),_.bl_desc=new TreeDesc(_.bl_tree,static_bl_desc),_.bi_buf=0,_.bi_valid=0,init_block(_)},_tr_stored_block$1=(_,R,P,I)=>{send_bits(_,(STORED_BLOCK<<1)+(I?1:0),3),bi_windup(_),put_short(_,P),put_short(_,~P),P&&_.pending_buf.set(_.window.subarray(R,R+P),_.pending),_.pending+=P},_tr_align$1=_=>{send_bits(_,STATIC_TREES<<1,3),send_code(_,END_BLOCK,static_ltree),bi_flush(_)},_tr_flush_block$1=(_,R,P,I)=>{let O,z,L=0;_.level>0?(_.strm.data_type===Z_UNKNOWN$1&&(_.strm.data_type=detect_data_type(_)),build_tree(_,_.l_desc),build_tree(_,_.d_desc),L=build_bl_tree(_),O=_.opt_len+3+7>>>3,z=_.static_len+3+7>>>3,z<=O&&(O=z)):O=z=P+5,P+4<=O&&R!==-1?_tr_stored_block$1(_,R,P,I):_.strategy===Z_FIXED$1||z===O?(send_bits(_,(STATIC_TREES<<1)+(I?1:0),3),compress_block(_,static_ltree,static_dtree)):(send_bits(_,(DYN_TREES<<1)+(I?1:0),3),send_all_trees(_,_.l_desc.max_code+1,_.d_desc.max_code+1,L+1),compress_block(_,_.dyn_ltree,_.dyn_dtree)),init_block(_),I&&bi_windup(_)},_tr_tally$1=(_,R,P)=>(_.pending_buf[_.sym_buf+_.sym_next++]=R,_.pending_buf[_.sym_buf+_.sym_next++]=R>>8,_.pending_buf[_.sym_buf+_.sym_next++]=P,R===0?_.dyn_ltree[P*2]++:(_.matches++,R--,_.dyn_ltree[(_length_code[P]+LITERALS$1+1)*2]++,_.dyn_dtree[d_code(R)*2]++),_.sym_next===_.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(_,R,P,I)=>{let O=_&65535|0,z=_>>>16&65535|0,L=0;for(;P!==0;){L=P>2e3?2e3:P,P-=L;do O=O+R[I++]|0,z=z+O|0;while(--L);O%=65521,z%=65521}return O|z<<16|0};var adler32_1=adler32;const makeTable=()=>{let _,R=[];for(var P=0;P<256;P++){_=P;for(var I=0;I<8;I++)_=_&1?3988292384^_>>>1:_>>>1;R[P]=_}return R},crcTable=new Uint32Array(makeTable()),crc32=(_,R,P,I)=>{const O=crcTable,z=I+P;_^=-1;for(let L=I;L<z;L++)_=_>>>8^O[(_^R[L])&255];return _^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(_,R)=>(_.msg=messages[R],R),rank=_=>_*2-(_>4?9:0),zero=_=>{let R=_.length;for(;--R>=0;)_[R]=0},slide_hash=_=>{let R,P,I,O=_.w_size;R=_.hash_size,I=R;do P=_.head[--I],_.head[I]=P>=O?P-O:0;while(--R);R=O,I=R;do P=_.prev[--I],_.prev[I]=P>=O?P-O:0;while(--R)};let HASH_ZLIB=(_,R,P)=>(R<<_.hash_shift^P)&_.hash_mask,HASH=HASH_ZLIB;const flush_pending=_=>{const R=_.state;let P=R.pending;P>_.avail_out&&(P=_.avail_out),P!==0&&(_.output.set(R.pending_buf.subarray(R.pending_out,R.pending_out+P),_.next_out),_.next_out+=P,R.pending_out+=P,_.total_out+=P,_.avail_out-=P,R.pending-=P,R.pending===0&&(R.pending_out=0))},flush_block_only=(_,R)=>{_tr_flush_block(_,_.block_start>=0?_.block_start:-1,_.strstart-_.block_start,R),_.block_start=_.strstart,flush_pending(_.strm)},put_byte=(_,R)=>{_.pending_buf[_.pending++]=R},putShortMSB=(_,R)=>{_.pending_buf[_.pending++]=R>>>8&255,_.pending_buf[_.pending++]=R&255},read_buf=(_,R,P,I)=>{let O=_.avail_in;return O>I&&(O=I),O===0?0:(_.avail_in-=O,R.set(_.input.subarray(_.next_in,_.next_in+O),P),_.state.wrap===1?_.adler=adler32_1(_.adler,R,O,P):_.state.wrap===2&&(_.adler=crc32_1(_.adler,R,O,P)),_.next_in+=O,_.total_in+=O,O)},longest_match=(_,R)=>{let P=_.max_chain_length,I=_.strstart,O,z,L=_.prev_length,F=_.nice_match;const U=_.strstart>_.w_size-MIN_LOOKAHEAD?_.strstart-(_.w_size-MIN_LOOKAHEAD):0,V=_.window,q=_.w_mask,W=_.prev,Y=_.strstart+MAX_MATCH;let Q=V[I+L-1],ee=V[I+L];_.prev_length>=_.good_match&&(P>>=2),F>_.lookahead&&(F=_.lookahead);do if(O=R,!(V[O+L]!==ee||V[O+L-1]!==Q||V[O]!==V[I]||V[++O]!==V[I+1])){I+=2,O++;do;while(V[++I]===V[++O]&&V[++I]===V[++O]&&V[++I]===V[++O]&&V[++I]===V[++O]&&V[++I]===V[++O]&&V[++I]===V[++O]&&V[++I]===V[++O]&&V[++I]===V[++O]&&I<Y);if(z=MAX_MATCH-(Y-I),I=Y-MAX_MATCH,z>L){if(_.match_start=R,L=z,z>=F)break;Q=V[I+L-1],ee=V[I+L]}}while((R=W[R&q])>U&&--P!==0);return L<=_.lookahead?L:_.lookahead},fill_window=_=>{const R=_.w_size;let P,I,O;do{if(I=_.window_size-_.lookahead-_.strstart,_.strstart>=R+(R-MIN_LOOKAHEAD)&&(_.window.set(_.window.subarray(R,R+R-I),0),_.match_start-=R,_.strstart-=R,_.block_start-=R,_.insert>_.strstart&&(_.insert=_.strstart),slide_hash(_),I+=R),_.strm.avail_in===0)break;if(P=read_buf(_.strm,_.window,_.strstart+_.lookahead,I),_.lookahead+=P,_.lookahead+_.insert>=MIN_MATCH)for(O=_.strstart-_.insert,_.ins_h=_.window[O],_.ins_h=HASH(_,_.ins_h,_.window[O+1]);_.insert&&(_.ins_h=HASH(_,_.ins_h,_.window[O+MIN_MATCH-1]),_.prev[O&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=O,O++,_.insert--,!(_.lookahead+_.insert<MIN_MATCH)););}while(_.lookahead<MIN_LOOKAHEAD&&_.strm.avail_in!==0)},deflate_stored=(_,R)=>{let P=_.pending_buf_size-5>_.w_size?_.w_size:_.pending_buf_size-5,I,O,z,L=0,F=_.strm.avail_in;do{if(I=65535,z=_.bi_valid+42>>3,_.strm.avail_out<z||(z=_.strm.avail_out-z,O=_.strstart-_.block_start,I>O+_.strm.avail_in&&(I=O+_.strm.avail_in),I>z&&(I=z),I<P&&(I===0&&R!==Z_FINISH$3||R===Z_NO_FLUSH$2||I!==O+_.strm.avail_in)))break;L=R===Z_FINISH$3&&I===O+_.strm.avail_in?1:0,_tr_stored_block(_,0,0,L),_.pending_buf[_.pending-4]=I,_.pending_buf[_.pending-3]=I>>8,_.pending_buf[_.pending-2]=~I,_.pending_buf[_.pending-1]=~I>>8,flush_pending(_.strm),O&&(O>I&&(O=I),_.strm.output.set(_.window.subarray(_.block_start,_.block_start+O),_.strm.next_out),_.strm.next_out+=O,_.strm.avail_out-=O,_.strm.total_out+=O,_.block_start+=O,I-=O),I&&(read_buf(_.strm,_.strm.output,_.strm.next_out,I),_.strm.next_out+=I,_.strm.avail_out-=I,_.strm.total_out+=I)}while(L===0);return F-=_.strm.avail_in,F&&(F>=_.w_size?(_.matches=2,_.window.set(_.strm.input.subarray(_.strm.next_in-_.w_size,_.strm.next_in),0),_.strstart=_.w_size,_.insert=_.strstart):(_.window_size-_.strstart<=F&&(_.strstart-=_.w_size,_.window.set(_.window.subarray(_.w_size,_.w_size+_.strstart),0),_.matches<2&&_.matches++,_.insert>_.strstart&&(_.insert=_.strstart)),_.window.set(_.strm.input.subarray(_.strm.next_in-F,_.strm.next_in),_.strstart),_.strstart+=F,_.insert+=F>_.w_size-_.insert?_.w_size-_.insert:F),_.block_start=_.strstart),_.high_water<_.strstart&&(_.high_water=_.strstart),L?BS_FINISH_DONE:R!==Z_NO_FLUSH$2&&R!==Z_FINISH$3&&_.strm.avail_in===0&&_.strstart===_.block_start?BS_BLOCK_DONE:(z=_.window_size-_.strstart,_.strm.avail_in>z&&_.block_start>=_.w_size&&(_.block_start-=_.w_size,_.strstart-=_.w_size,_.window.set(_.window.subarray(_.w_size,_.w_size+_.strstart),0),_.matches<2&&_.matches++,z+=_.w_size,_.insert>_.strstart&&(_.insert=_.strstart)),z>_.strm.avail_in&&(z=_.strm.avail_in),z&&(read_buf(_.strm,_.window,_.strstart,z),_.strstart+=z,_.insert+=z>_.w_size-_.insert?_.w_size-_.insert:z),_.high_water<_.strstart&&(_.high_water=_.strstart),z=_.bi_valid+42>>3,z=_.pending_buf_size-z>65535?65535:_.pending_buf_size-z,P=z>_.w_size?_.w_size:z,O=_.strstart-_.block_start,(O>=P||(O||R===Z_FINISH$3)&&R!==Z_NO_FLUSH$2&&_.strm.avail_in===0&&O<=z)&&(I=O>z?z:O,L=R===Z_FINISH$3&&_.strm.avail_in===0&&I===O?1:0,_tr_stored_block(_,_.block_start,I,L),_.block_start+=I,flush_pending(_.strm)),L?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(_,R)=>{let P,I;for(;;){if(_.lookahead<MIN_LOOKAHEAD){if(fill_window(_),_.lookahead<MIN_LOOKAHEAD&&R===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_.lookahead===0)break}if(P=0,_.lookahead>=MIN_MATCH&&(_.ins_h=HASH(_,_.ins_h,_.window[_.strstart+MIN_MATCH-1]),P=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),P!==0&&_.strstart-P<=_.w_size-MIN_LOOKAHEAD&&(_.match_length=longest_match(_,P)),_.match_length>=MIN_MATCH)if(I=_tr_tally(_,_.strstart-_.match_start,_.match_length-MIN_MATCH),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=MIN_MATCH){_.match_length--;do _.strstart++,_.ins_h=HASH(_,_.ins_h,_.window[_.strstart+MIN_MATCH-1]),P=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart;while(--_.match_length!==0);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=HASH(_,_.ins_h,_.window[_.strstart+1]);else I=_tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(I&&(flush_block_only(_,!1),_.strm.avail_out===0))return BS_NEED_MORE}return _.insert=_.strstart<MIN_MATCH-1?_.strstart:MIN_MATCH-1,R===Z_FINISH$3?(flush_block_only(_,!0),_.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_.sym_next&&(flush_block_only(_,!1),_.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(_,R)=>{let P,I,O;for(;;){if(_.lookahead<MIN_LOOKAHEAD){if(fill_window(_),_.lookahead<MIN_LOOKAHEAD&&R===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_.lookahead===0)break}if(P=0,_.lookahead>=MIN_MATCH&&(_.ins_h=HASH(_,_.ins_h,_.window[_.strstart+MIN_MATCH-1]),P=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=MIN_MATCH-1,P!==0&&_.prev_length<_.max_lazy_match&&_.strstart-P<=_.w_size-MIN_LOOKAHEAD&&(_.match_length=longest_match(_,P),_.match_length<=5&&(_.strategy===Z_FILTERED||_.match_length===MIN_MATCH&&_.strstart-_.match_start>4096)&&(_.match_length=MIN_MATCH-1)),_.prev_length>=MIN_MATCH&&_.match_length<=_.prev_length){O=_.strstart+_.lookahead-MIN_MATCH,I=_tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-MIN_MATCH),_.lookahead-=_.prev_length-1,_.prev_length-=2;do++_.strstart<=O&&(_.ins_h=HASH(_,_.ins_h,_.window[_.strstart+MIN_MATCH-1]),P=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart);while(--_.prev_length!==0);if(_.match_available=0,_.match_length=MIN_MATCH-1,_.strstart++,I&&(flush_block_only(_,!1),_.strm.avail_out===0))return BS_NEED_MORE}else if(_.match_available){if(I=_tr_tally(_,0,_.window[_.strstart-1]),I&&flush_block_only(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return BS_NEED_MORE}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(I=_tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<MIN_MATCH-1?_.strstart:MIN_MATCH-1,R===Z_FINISH$3?(flush_block_only(_,!0),_.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_.sym_next&&(flush_block_only(_,!1),_.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(_,R)=>{let P,I,O,z;const L=_.window;for(;;){if(_.lookahead<=MAX_MATCH){if(fill_window(_),_.lookahead<=MAX_MATCH&&R===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_.lookahead===0)break}if(_.match_length=0,_.lookahead>=MIN_MATCH&&_.strstart>0&&(O=_.strstart-1,I=L[O],I===L[++O]&&I===L[++O]&&I===L[++O])){z=_.strstart+MAX_MATCH;do;while(I===L[++O]&&I===L[++O]&&I===L[++O]&&I===L[++O]&&I===L[++O]&&I===L[++O]&&I===L[++O]&&I===L[++O]&&O<z);_.match_length=MAX_MATCH-(z-O),_.match_length>_.lookahead&&(_.match_length=_.lookahead)}if(_.match_length>=MIN_MATCH?(P=_tr_tally(_,1,_.match_length-MIN_MATCH),_.lookahead-=_.match_length,_.strstart+=_.match_length,_.match_length=0):(P=_tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++),P&&(flush_block_only(_,!1),_.strm.avail_out===0))return BS_NEED_MORE}return _.insert=0,R===Z_FINISH$3?(flush_block_only(_,!0),_.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_.sym_next&&(flush_block_only(_,!1),_.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(_,R)=>{let P;for(;;){if(_.lookahead===0&&(fill_window(_),_.lookahead===0)){if(R===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(_.match_length=0,P=_tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++,P&&(flush_block_only(_,!1),_.strm.avail_out===0))return BS_NEED_MORE}return _.insert=0,R===Z_FINISH$3?(flush_block_only(_,!0),_.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_.sym_next&&(flush_block_only(_,!1),_.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(_,R,P,I,O){this.good_length=_,this.max_lazy=R,this.nice_length=P,this.max_chain=I,this.func=O}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=_=>{_.window_size=2*_.w_size,zero(_.head),_.max_lazy_match=configuration_table[_.level].max_lazy,_.good_match=configuration_table[_.level].good_length,_.nice_match=configuration_table[_.level].nice_length,_.max_chain_length=configuration_table[_.level].max_chain,_.strstart=0,_.block_start=0,_.lookahead=0,_.insert=0,_.match_length=_.prev_length=MIN_MATCH-1,_.match_available=0,_.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=_=>{if(!_)return 1;const R=_.state;return!R||R.strm!==_||R.status!==INIT_STATE&&R.status!==GZIP_STATE&&R.status!==EXTRA_STATE&&R.status!==NAME_STATE&&R.status!==COMMENT_STATE&&R.status!==HCRC_STATE&&R.status!==BUSY_STATE&&R.status!==FINISH_STATE?1:0},deflateResetKeep=_=>{if(deflateStateCheck(_))return err(_,Z_STREAM_ERROR$2);_.total_in=_.total_out=0,_.data_type=Z_UNKNOWN;const R=_.state;return R.pending=0,R.pending_out=0,R.wrap<0&&(R.wrap=-R.wrap),R.status=R.wrap===2?GZIP_STATE:R.wrap?INIT_STATE:BUSY_STATE,_.adler=R.wrap===2?0:1,R.last_flush=-2,_tr_init(R),Z_OK$3},deflateReset=_=>{const R=deflateResetKeep(_);return R===Z_OK$3&&lm_init(_.state),R},deflateSetHeader=(_,R)=>deflateStateCheck(_)||_.state.wrap!==2?Z_STREAM_ERROR$2:(_.state.gzhead=R,Z_OK$3),deflateInit2=(_,R,P,I,O,z)=>{if(!_)return Z_STREAM_ERROR$2;let L=1;if(R===Z_DEFAULT_COMPRESSION$1&&(R=6),I<0?(L=0,I=-I):I>15&&(L=2,I-=16),O<1||O>MAX_MEM_LEVEL||P!==Z_DEFLATED$2||I<8||I>15||R<0||R>9||z<0||z>Z_FIXED||I===8&&L!==1)return err(_,Z_STREAM_ERROR$2);I===8&&(I=9);const F=new DeflateState;return _.state=F,F.strm=_,F.status=INIT_STATE,F.wrap=L,F.gzhead=null,F.w_bits=I,F.w_size=1<<F.w_bits,F.w_mask=F.w_size-1,F.hash_bits=O+7,F.hash_size=1<<F.hash_bits,F.hash_mask=F.hash_size-1,F.hash_shift=~~((F.hash_bits+MIN_MATCH-1)/MIN_MATCH),F.window=new Uint8Array(F.w_size*2),F.head=new Uint16Array(F.hash_size),F.prev=new Uint16Array(F.w_size),F.lit_bufsize=1<<O+6,F.pending_buf_size=F.lit_bufsize*4,F.pending_buf=new Uint8Array(F.pending_buf_size),F.sym_buf=F.lit_bufsize,F.sym_end=(F.lit_bufsize-1)*3,F.level=R,F.strategy=z,F.method=P,deflateReset(_)},deflateInit=(_,R)=>deflateInit2(_,R,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(_,R)=>{if(deflateStateCheck(_)||R>Z_BLOCK$1||R<0)return _?err(_,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const P=_.state;if(!_.output||_.avail_in!==0&&!_.input||P.status===FINISH_STATE&&R!==Z_FINISH$3)return err(_,_.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const I=P.last_flush;if(P.last_flush=R,P.pending!==0){if(flush_pending(_),_.avail_out===0)return P.last_flush=-1,Z_OK$3}else if(_.avail_in===0&&rank(R)<=rank(I)&&R!==Z_FINISH$3)return err(_,Z_BUF_ERROR$1);if(P.status===FINISH_STATE&&_.avail_in!==0)return err(_,Z_BUF_ERROR$1);if(P.status===INIT_STATE&&P.wrap===0&&(P.status=BUSY_STATE),P.status===INIT_STATE){let O=Z_DEFLATED$2+(P.w_bits-8<<4)<<8,z=-1;if(P.strategy>=Z_HUFFMAN_ONLY||P.level<2?z=0:P.level<6?z=1:P.level===6?z=2:z=3,O|=z<<6,P.strstart!==0&&(O|=PRESET_DICT),O+=31-O%31,putShortMSB(P,O),P.strstart!==0&&(putShortMSB(P,_.adler>>>16),putShortMSB(P,_.adler&65535)),_.adler=1,P.status=BUSY_STATE,flush_pending(_),P.pending!==0)return P.last_flush=-1,Z_OK$3}if(P.status===GZIP_STATE){if(_.adler=0,put_byte(P,31),put_byte(P,139),put_byte(P,8),P.gzhead)put_byte(P,(P.gzhead.text?1:0)+(P.gzhead.hcrc?2:0)+(P.gzhead.extra?4:0)+(P.gzhead.name?8:0)+(P.gzhead.comment?16:0)),put_byte(P,P.gzhead.time&255),put_byte(P,P.gzhead.time>>8&255),put_byte(P,P.gzhead.time>>16&255),put_byte(P,P.gzhead.time>>24&255),put_byte(P,P.level===9?2:P.strategy>=Z_HUFFMAN_ONLY||P.level<2?4:0),put_byte(P,P.gzhead.os&255),P.gzhead.extra&&P.gzhead.extra.length&&(put_byte(P,P.gzhead.extra.length&255),put_byte(P,P.gzhead.extra.length>>8&255)),P.gzhead.hcrc&&(_.adler=crc32_1(_.adler,P.pending_buf,P.pending,0)),P.gzindex=0,P.status=EXTRA_STATE;else if(put_byte(P,0),put_byte(P,0),put_byte(P,0),put_byte(P,0),put_byte(P,0),put_byte(P,P.level===9?2:P.strategy>=Z_HUFFMAN_ONLY||P.level<2?4:0),put_byte(P,OS_CODE),P.status=BUSY_STATE,flush_pending(_),P.pending!==0)return P.last_flush=-1,Z_OK$3}if(P.status===EXTRA_STATE){if(P.gzhead.extra){let O=P.pending,z=(P.gzhead.extra.length&65535)-P.gzindex;for(;P.pending+z>P.pending_buf_size;){let F=P.pending_buf_size-P.pending;if(P.pending_buf.set(P.gzhead.extra.subarray(P.gzindex,P.gzindex+F),P.pending),P.pending=P.pending_buf_size,P.gzhead.hcrc&&P.pending>O&&(_.adler=crc32_1(_.adler,P.pending_buf,P.pending-O,O)),P.gzindex+=F,flush_pending(_),P.pending!==0)return P.last_flush=-1,Z_OK$3;O=0,z-=F}let L=new Uint8Array(P.gzhead.extra);P.pending_buf.set(L.subarray(P.gzindex,P.gzindex+z),P.pending),P.pending+=z,P.gzhead.hcrc&&P.pending>O&&(_.adler=crc32_1(_.adler,P.pending_buf,P.pending-O,O)),P.gzindex=0}P.status=NAME_STATE}if(P.status===NAME_STATE){if(P.gzhead.name){let O=P.pending,z;do{if(P.pending===P.pending_buf_size){if(P.gzhead.hcrc&&P.pending>O&&(_.adler=crc32_1(_.adler,P.pending_buf,P.pending-O,O)),flush_pending(_),P.pending!==0)return P.last_flush=-1,Z_OK$3;O=0}P.gzindex<P.gzhead.name.length?z=P.gzhead.name.charCodeAt(P.gzindex++)&255:z=0,put_byte(P,z)}while(z!==0);P.gzhead.hcrc&&P.pending>O&&(_.adler=crc32_1(_.adler,P.pending_buf,P.pending-O,O)),P.gzindex=0}P.status=COMMENT_STATE}if(P.status===COMMENT_STATE){if(P.gzhead.comment){let O=P.pending,z;do{if(P.pending===P.pending_buf_size){if(P.gzhead.hcrc&&P.pending>O&&(_.adler=crc32_1(_.adler,P.pending_buf,P.pending-O,O)),flush_pending(_),P.pending!==0)return P.last_flush=-1,Z_OK$3;O=0}P.gzindex<P.gzhead.comment.length?z=P.gzhead.comment.charCodeAt(P.gzindex++)&255:z=0,put_byte(P,z)}while(z!==0);P.gzhead.hcrc&&P.pending>O&&(_.adler=crc32_1(_.adler,P.pending_buf,P.pending-O,O))}P.status=HCRC_STATE}if(P.status===HCRC_STATE){if(P.gzhead.hcrc){if(P.pending+2>P.pending_buf_size&&(flush_pending(_),P.pending!==0))return P.last_flush=-1,Z_OK$3;put_byte(P,_.adler&255),put_byte(P,_.adler>>8&255),_.adler=0}if(P.status=BUSY_STATE,flush_pending(_),P.pending!==0)return P.last_flush=-1,Z_OK$3}if(_.avail_in!==0||P.lookahead!==0||R!==Z_NO_FLUSH$2&&P.status!==FINISH_STATE){let O=P.level===0?deflate_stored(P,R):P.strategy===Z_HUFFMAN_ONLY?deflate_huff(P,R):P.strategy===Z_RLE?deflate_rle(P,R):configuration_table[P.level].func(P,R);if((O===BS_FINISH_STARTED||O===BS_FINISH_DONE)&&(P.status=FINISH_STATE),O===BS_NEED_MORE||O===BS_FINISH_STARTED)return _.avail_out===0&&(P.last_flush=-1),Z_OK$3;if(O===BS_BLOCK_DONE&&(R===Z_PARTIAL_FLUSH?_tr_align(P):R!==Z_BLOCK$1&&(_tr_stored_block(P,0,0,!1),R===Z_FULL_FLUSH$1&&(zero(P.head),P.lookahead===0&&(P.strstart=0,P.block_start=0,P.insert=0))),flush_pending(_),_.avail_out===0))return P.last_flush=-1,Z_OK$3}return R!==Z_FINISH$3?Z_OK$3:P.wrap<=0?Z_STREAM_END$3:(P.wrap===2?(put_byte(P,_.adler&255),put_byte(P,_.adler>>8&255),put_byte(P,_.adler>>16&255),put_byte(P,_.adler>>24&255),put_byte(P,_.total_in&255),put_byte(P,_.total_in>>8&255),put_byte(P,_.total_in>>16&255),put_byte(P,_.total_in>>24&255)):(putShortMSB(P,_.adler>>>16),putShortMSB(P,_.adler&65535)),flush_pending(_),P.wrap>0&&(P.wrap=-P.wrap),P.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=_=>{if(deflateStateCheck(_))return Z_STREAM_ERROR$2;const R=_.state.status;return _.state=null,R===BUSY_STATE?err(_,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(_,R)=>{let P=R.length;if(deflateStateCheck(_))return Z_STREAM_ERROR$2;const I=_.state,O=I.wrap;if(O===2||O===1&&I.status!==INIT_STATE||I.lookahead)return Z_STREAM_ERROR$2;if(O===1&&(_.adler=adler32_1(_.adler,R,P,0)),I.wrap=0,P>=I.w_size){O===0&&(zero(I.head),I.strstart=0,I.block_start=0,I.insert=0);let U=new Uint8Array(I.w_size);U.set(R.subarray(P-I.w_size,P),0),R=U,P=I.w_size}const z=_.avail_in,L=_.next_in,F=_.input;for(_.avail_in=P,_.next_in=0,_.input=R,fill_window(I);I.lookahead>=MIN_MATCH;){let U=I.strstart,V=I.lookahead-(MIN_MATCH-1);do I.ins_h=HASH(I,I.ins_h,I.window[U+MIN_MATCH-1]),I.prev[U&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=U,U++;while(--V);I.strstart=U,I.lookahead=MIN_MATCH-1,fill_window(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=MIN_MATCH-1,I.match_available=0,_.next_in=L,_.input=F,_.avail_in=z,I.wrap=O,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(_,R)=>Object.prototype.hasOwnProperty.call(_,R);var assign=function(_){const R=Array.prototype.slice.call(arguments,1);for(;R.length;){const P=R.shift();if(P){if(typeof P!="object")throw new TypeError(P+"must be non-object");for(const I in P)_has(P,I)&&(_[I]=P[I])}}return _},flattenChunks=_=>{let R=0;for(let I=0,O=_.length;I<O;I++)R+=_[I].length;const P=new Uint8Array(R);for(let I=0,O=0,z=_.length;I<z;I++){let L=_[I];P.set(L,O),O+=L.length}return P},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(_){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let _=0;_<256;_++)_utf8len[_]=_>=252?6:_>=248?5:_>=240?4:_>=224?3:_>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=_=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(_);let R,P,I,O,z,L=_.length,F=0;for(O=0;O<L;O++)P=_.charCodeAt(O),(P&64512)===55296&&O+1<L&&(I=_.charCodeAt(O+1),(I&64512)===56320&&(P=65536+(P-55296<<10)+(I-56320),O++)),F+=P<128?1:P<2048?2:P<65536?3:4;for(R=new Uint8Array(F),z=0,O=0;z<F;O++)P=_.charCodeAt(O),(P&64512)===55296&&O+1<L&&(I=_.charCodeAt(O+1),(I&64512)===56320&&(P=65536+(P-55296<<10)+(I-56320),O++)),P<128?R[z++]=P:P<2048?(R[z++]=192|P>>>6,R[z++]=128|P&63):P<65536?(R[z++]=224|P>>>12,R[z++]=128|P>>>6&63,R[z++]=128|P&63):(R[z++]=240|P>>>18,R[z++]=128|P>>>12&63,R[z++]=128|P>>>6&63,R[z++]=128|P&63);return R};const buf2binstring=(_,R)=>{if(R<65534&&_.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,_.length===R?_:_.subarray(0,R));let P="";for(let I=0;I<R;I++)P+=String.fromCharCode(_[I]);return P};var buf2string=(_,R)=>{const P=R||_.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(_.subarray(0,R));let I,O;const z=new Array(P*2);for(O=0,I=0;I<P;){let L=_[I++];if(L<128){z[O++]=L;continue}let F=_utf8len[L];if(F>4){z[O++]=65533,I+=F-1;continue}for(L&=F===2?31:F===3?15:7;F>1&&I<P;)L=L<<6|_[I++]&63,F--;if(F>1){z[O++]=65533;continue}L<65536?z[O++]=L:(L-=65536,z[O++]=55296|L>>10&1023,z[O++]=56320|L&1023)}return buf2binstring(z,O)},utf8border=(_,R)=>{R=R||_.length,R>_.length&&(R=_.length);let P=R-1;for(;P>=0&&(_[P]&192)===128;)P--;return P<0||P===0?R:P+_utf8len[_[P]]>R?P:R},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(_){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},_||{});let R=this.options;R.raw&&R.windowBits>0?R.windowBits=-R.windowBits:R.gzip&&R.windowBits>0&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let P=deflate_1$2.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(P!==Z_OK$2)throw new Error(messages[P]);if(R.header&&deflate_1$2.deflateSetHeader(this.strm,R.header),R.dictionary){let I;if(typeof R.dictionary=="string"?I=strings.string2buf(R.dictionary):toString$1$1.call(R.dictionary)==="[object ArrayBuffer]"?I=new Uint8Array(R.dictionary):I=R.dictionary,P=deflate_1$2.deflateSetDictionary(this.strm,I),P!==Z_OK$2)throw new Error(messages[P]);this._dict_set=!0}}Deflate$1.prototype.push=function(_,R){const P=this.strm,I=this.options.chunkSize;let O,z;if(this.ended)return!1;for(R===~~R?z=R:z=R===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof _=="string"?P.input=strings.string2buf(_):toString$1$1.call(_)==="[object ArrayBuffer]"?P.input=new Uint8Array(_):P.input=_,P.next_in=0,P.avail_in=P.input.length;;){if(P.avail_out===0&&(P.output=new Uint8Array(I),P.next_out=0,P.avail_out=I),(z===Z_SYNC_FLUSH||z===Z_FULL_FLUSH)&&P.avail_out<=6){this.onData(P.output.subarray(0,P.next_out)),P.avail_out=0;continue}if(O=deflate_1$2.deflate(P,z),O===Z_STREAM_END$2)return P.next_out>0&&this.onData(P.output.subarray(0,P.next_out)),O=deflate_1$2.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===Z_OK$2;if(P.avail_out===0){this.onData(P.output);continue}if(z>0&&P.next_out>0){this.onData(P.output.subarray(0,P.next_out)),P.avail_out=0;continue}if(P.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(_){this.chunks.push(_)};Deflate$1.prototype.onEnd=function(_){_===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function deflate$1(_,R){const P=new Deflate$1(R);if(P.push(_,!0),P.err)throw P.msg||messages[P.err];return P.result}function deflateRaw$1(_,R){return R=R||{},R.raw=!0,deflate$1(_,R)}function gzip$1(_,R){return R=R||{},R.gzip=!0,deflate$1(_,R)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1};const BAD$1=16209,TYPE$1=16191;var inffast=function _(R,P){let I,O,z,L,F,U,V,q,W,Y,Q,ee,te,ie,ae,se,le,ce,fe,de,he,pe,ge,be;const xe=R.state;I=R.next_in,ge=R.input,O=I+(R.avail_in-5),z=R.next_out,be=R.output,L=z-(P-R.avail_out),F=z+(R.avail_out-257),U=xe.dmax,V=xe.wsize,q=xe.whave,W=xe.wnext,Y=xe.window,Q=xe.hold,ee=xe.bits,te=xe.lencode,ie=xe.distcode,ae=(1<<xe.lenbits)-1,se=(1<<xe.distbits)-1;e:do{ee<15&&(Q+=ge[I++]<<ee,ee+=8,Q+=ge[I++]<<ee,ee+=8),le=te[Q&ae];t:for(;;){if(ce=le>>>24,Q>>>=ce,ee-=ce,ce=le>>>16&255,ce===0)be[z++]=le&65535;else if(ce&16){fe=le&65535,ce&=15,ce&&(ee<ce&&(Q+=ge[I++]<<ee,ee+=8),fe+=Q&(1<<ce)-1,Q>>>=ce,ee-=ce),ee<15&&(Q+=ge[I++]<<ee,ee+=8,Q+=ge[I++]<<ee,ee+=8),le=ie[Q&se];n:for(;;){if(ce=le>>>24,Q>>>=ce,ee-=ce,ce=le>>>16&255,ce&16){if(de=le&65535,ce&=15,ee<ce&&(Q+=ge[I++]<<ee,ee+=8,ee<ce&&(Q+=ge[I++]<<ee,ee+=8)),de+=Q&(1<<ce)-1,de>U){R.msg="invalid distance too far back",xe.mode=BAD$1;break e}if(Q>>>=ce,ee-=ce,ce=z-L,de>ce){if(ce=de-ce,ce>q&&xe.sane){R.msg="invalid distance too far back",xe.mode=BAD$1;break e}if(he=0,pe=Y,W===0){if(he+=V-ce,ce<fe){fe-=ce;do be[z++]=Y[he++];while(--ce);he=z-de,pe=be}}else if(W<ce){if(he+=V+W-ce,ce-=W,ce<fe){fe-=ce;do be[z++]=Y[he++];while(--ce);if(he=0,W<fe){ce=W,fe-=ce;do be[z++]=Y[he++];while(--ce);he=z-de,pe=be}}}else if(he+=W-ce,ce<fe){fe-=ce;do be[z++]=Y[he++];while(--ce);he=z-de,pe=be}for(;fe>2;)be[z++]=pe[he++],be[z++]=pe[he++],be[z++]=pe[he++],fe-=3;fe&&(be[z++]=pe[he++],fe>1&&(be[z++]=pe[he++]))}else{he=z-de;do be[z++]=be[he++],be[z++]=be[he++],be[z++]=be[he++],fe-=3;while(fe>2);fe&&(be[z++]=be[he++],fe>1&&(be[z++]=be[he++]))}}else if((ce&64)===0){le=ie[(le&65535)+(Q&(1<<ce)-1)];continue n}else{R.msg="invalid distance code",xe.mode=BAD$1;break e}break}}else if((ce&64)===0){le=te[(le&65535)+(Q&(1<<ce)-1)];continue t}else if(ce&32){xe.mode=TYPE$1;break e}else{R.msg="invalid literal/length code",xe.mode=BAD$1;break e}break}}while(I<O&&z<F);fe=ee>>3,I-=fe,ee-=fe<<3,Q&=(1<<ee)-1,R.next_in=I,R.next_out=z,R.avail_in=I<O?5+(O-I):5-(I-O),R.avail_out=z<F?257+(F-z):257-(z-F),xe.hold=Q,xe.bits=ee};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(_,R,P,I,O,z,L,F)=>{const U=F.bits;let V=0,q=0,W=0,Y=0,Q=0,ee=0,te=0,ie=0,ae=0,se=0,le,ce,fe,de,he,pe=null,ge;const be=new Uint16Array(MAXBITS+1),xe=new Uint16Array(MAXBITS+1);let _e=null,Se,me,Ce;for(V=0;V<=MAXBITS;V++)be[V]=0;for(q=0;q<I;q++)be[R[P+q]]++;for(Q=U,Y=MAXBITS;Y>=1&&be[Y]===0;Y--);if(Q>Y&&(Q=Y),Y===0)return O[z++]=1<<24|64<<16|0,O[z++]=1<<24|64<<16|0,F.bits=1,0;for(W=1;W<Y&&be[W]===0;W++);for(Q<W&&(Q=W),ie=1,V=1;V<=MAXBITS;V++)if(ie<<=1,ie-=be[V],ie<0)return-1;if(ie>0&&(_===CODES$1||Y!==1))return-1;for(xe[1]=0,V=1;V<MAXBITS;V++)xe[V+1]=xe[V]+be[V];for(q=0;q<I;q++)R[P+q]!==0&&(L[xe[R[P+q]]++]=q);if(_===CODES$1?(pe=_e=L,ge=20):_===LENS$1?(pe=lbase,_e=lext,ge=257):(pe=dbase,_e=dext,ge=0),se=0,q=0,V=W,he=z,ee=Q,te=0,fe=-1,ae=1<<Q,de=ae-1,_===LENS$1&&ae>ENOUGH_LENS$1||_===DISTS$1&&ae>ENOUGH_DISTS$1)return 1;for(;;){Se=V-te,L[q]+1<ge?(me=0,Ce=L[q]):L[q]>=ge?(me=_e[L[q]-ge],Ce=pe[L[q]-ge]):(me=96,Ce=0),le=1<<V-te,ce=1<<ee,W=ce;do ce-=le,O[he+(se>>te)+ce]=Se<<24|me<<16|Ce|0;while(ce!==0);for(le=1<<V-1;se&le;)le>>=1;if(le!==0?(se&=le-1,se+=le):se=0,q++,--be[V]===0){if(V===Y)break;V=R[P+L[q]]}if(V>Q&&(se&de)!==fe){for(te===0&&(te=Q),he+=W,ee=V-te,ie=1<<ee;ee+te<Y&&(ie-=be[ee+te],!(ie<=0));)ee++,ie<<=1;if(ae+=1<<ee,_===LENS$1&&ae>ENOUGH_LENS$1||_===DISTS$1&&ae>ENOUGH_DISTS$1)return 1;fe=se&de,O[fe]=Q<<24|ee<<16|he-z|0}}return se!==0&&(O[he+se]=V-te<<24|64<<16|0),F.bits=Q,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=_=>(_>>>24&255)+(_>>>8&65280)+((_&65280)<<8)+((_&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=_=>{if(!_)return 1;const R=_.state;return!R||R.strm!==_||R.mode<HEAD||R.mode>SYNC?1:0},inflateResetKeep=_=>{if(inflateStateCheck(_))return Z_STREAM_ERROR$1;const R=_.state;return _.total_in=_.total_out=R.total=0,_.msg="",R.wrap&&(_.adler=R.wrap&1),R.mode=HEAD,R.last=0,R.havedict=0,R.flags=-1,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new Int32Array(ENOUGH_LENS),R.distcode=R.distdyn=new Int32Array(ENOUGH_DISTS),R.sane=1,R.back=-1,Z_OK$1},inflateReset=_=>{if(inflateStateCheck(_))return Z_STREAM_ERROR$1;const R=_.state;return R.wsize=0,R.whave=0,R.wnext=0,inflateResetKeep(_)},inflateReset2=(_,R)=>{let P;if(inflateStateCheck(_))return Z_STREAM_ERROR$1;const I=_.state;return R<0?(P=0,R=-R):(P=(R>>4)+5,R<48&&(R&=15)),R&&(R<8||R>15)?Z_STREAM_ERROR$1:(I.window!==null&&I.wbits!==R&&(I.window=null),I.wrap=P,I.wbits=R,inflateReset(_))},inflateInit2=(_,R)=>{if(!_)return Z_STREAM_ERROR$1;const P=new InflateState;_.state=P,P.strm=_,P.window=null,P.mode=HEAD;const I=inflateReset2(_,R);return I!==Z_OK$1&&(_.state=null),I},inflateInit=_=>inflateInit2(_,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=_=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let R=0;for(;R<144;)_.lens[R++]=8;for(;R<256;)_.lens[R++]=9;for(;R<280;)_.lens[R++]=7;for(;R<288;)_.lens[R++]=8;for(inftrees(LENS,_.lens,0,288,lenfix,0,_.work,{bits:9}),R=0;R<32;)_.lens[R++]=5;inftrees(DISTS,_.lens,0,32,distfix,0,_.work,{bits:5}),virgin=!1}_.lencode=lenfix,_.lenbits=9,_.distcode=distfix,_.distbits=5},updatewindow=(_,R,P,I)=>{let O;const z=_.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new Uint8Array(z.wsize)),I>=z.wsize?(z.window.set(R.subarray(P-z.wsize,P),0),z.wnext=0,z.whave=z.wsize):(O=z.wsize-z.wnext,O>I&&(O=I),z.window.set(R.subarray(P-I,P-I+O),z.wnext),I-=O,I?(z.window.set(R.subarray(P-I,P),0),z.wnext=I,z.whave=z.wsize):(z.wnext+=O,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=O))),0},inflate$2=(_,R)=>{let P,I,O,z,L,F,U,V,q,W,Y,Q,ee,te,ie=0,ae,se,le,ce,fe,de,he,pe;const ge=new Uint8Array(4);let be,xe;const _e=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(_)||!_.output||!_.input&&_.avail_in!==0)return Z_STREAM_ERROR$1;P=_.state,P.mode===TYPE&&(P.mode=TYPEDO),L=_.next_out,O=_.output,U=_.avail_out,z=_.next_in,I=_.input,F=_.avail_in,V=P.hold,q=P.bits,W=F,Y=U,pe=Z_OK$1;e:for(;;)switch(P.mode){case HEAD:if(P.wrap===0){P.mode=TYPEDO;break}for(;q<16;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}if(P.wrap&2&&V===35615){P.wbits===0&&(P.wbits=15),P.check=0,ge[0]=V&255,ge[1]=V>>>8&255,P.check=crc32_1(P.check,ge,2,0),V=0,q=0,P.mode=FLAGS;break}if(P.head&&(P.head.done=!1),!(P.wrap&1)||(((V&255)<<8)+(V>>8))%31){_.msg="incorrect header check",P.mode=BAD;break}if((V&15)!==Z_DEFLATED){_.msg="unknown compression method",P.mode=BAD;break}if(V>>>=4,q-=4,he=(V&15)+8,P.wbits===0&&(P.wbits=he),he>15||he>P.wbits){_.msg="invalid window size",P.mode=BAD;break}P.dmax=1<<P.wbits,P.flags=0,_.adler=P.check=1,P.mode=V&512?DICTID:TYPE,V=0,q=0;break;case FLAGS:for(;q<16;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}if(P.flags=V,(P.flags&255)!==Z_DEFLATED){_.msg="unknown compression method",P.mode=BAD;break}if(P.flags&57344){_.msg="unknown header flags set",P.mode=BAD;break}P.head&&(P.head.text=V>>8&1),P.flags&512&&P.wrap&4&&(ge[0]=V&255,ge[1]=V>>>8&255,P.check=crc32_1(P.check,ge,2,0)),V=0,q=0,P.mode=TIME;case TIME:for(;q<32;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}P.head&&(P.head.time=V),P.flags&512&&P.wrap&4&&(ge[0]=V&255,ge[1]=V>>>8&255,ge[2]=V>>>16&255,ge[3]=V>>>24&255,P.check=crc32_1(P.check,ge,4,0)),V=0,q=0,P.mode=OS;case OS:for(;q<16;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}P.head&&(P.head.xflags=V&255,P.head.os=V>>8),P.flags&512&&P.wrap&4&&(ge[0]=V&255,ge[1]=V>>>8&255,P.check=crc32_1(P.check,ge,2,0)),V=0,q=0,P.mode=EXLEN;case EXLEN:if(P.flags&1024){for(;q<16;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}P.length=V,P.head&&(P.head.extra_len=V),P.flags&512&&P.wrap&4&&(ge[0]=V&255,ge[1]=V>>>8&255,P.check=crc32_1(P.check,ge,2,0)),V=0,q=0}else P.head&&(P.head.extra=null);P.mode=EXTRA;case EXTRA:if(P.flags&1024&&(Q=P.length,Q>F&&(Q=F),Q&&(P.head&&(he=P.head.extra_len-P.length,P.head.extra||(P.head.extra=new Uint8Array(P.head.extra_len)),P.head.extra.set(I.subarray(z,z+Q),he)),P.flags&512&&P.wrap&4&&(P.check=crc32_1(P.check,I,Q,z)),F-=Q,z+=Q,P.length-=Q),P.length))break e;P.length=0,P.mode=NAME;case NAME:if(P.flags&2048){if(F===0)break e;Q=0;do he=I[z+Q++],P.head&&he&&P.length<65536&&(P.head.name+=String.fromCharCode(he));while(he&&Q<F);if(P.flags&512&&P.wrap&4&&(P.check=crc32_1(P.check,I,Q,z)),F-=Q,z+=Q,he)break e}else P.head&&(P.head.name=null);P.length=0,P.mode=COMMENT;case COMMENT:if(P.flags&4096){if(F===0)break e;Q=0;do he=I[z+Q++],P.head&&he&&P.length<65536&&(P.head.comment+=String.fromCharCode(he));while(he&&Q<F);if(P.flags&512&&P.wrap&4&&(P.check=crc32_1(P.check,I,Q,z)),F-=Q,z+=Q,he)break e}else P.head&&(P.head.comment=null);P.mode=HCRC;case HCRC:if(P.flags&512){for(;q<16;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}if(P.wrap&4&&V!==(P.check&65535)){_.msg="header crc mismatch",P.mode=BAD;break}V=0,q=0}P.head&&(P.head.hcrc=P.flags>>9&1,P.head.done=!0),_.adler=P.check=0,P.mode=TYPE;break;case DICTID:for(;q<32;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}_.adler=P.check=zswap32(V),V=0,q=0,P.mode=DICT;case DICT:if(P.havedict===0)return _.next_out=L,_.avail_out=U,_.next_in=z,_.avail_in=F,P.hold=V,P.bits=q,Z_NEED_DICT$1;_.adler=P.check=1,P.mode=TYPE;case TYPE:if(R===Z_BLOCK||R===Z_TREES)break e;case TYPEDO:if(P.last){V>>>=q&7,q-=q&7,P.mode=CHECK;break}for(;q<3;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}switch(P.last=V&1,V>>>=1,q-=1,V&3){case 0:P.mode=STORED;break;case 1:if(fixedtables(P),P.mode=LEN_,R===Z_TREES){V>>>=2,q-=2;break e}break;case 2:P.mode=TABLE;break;case 3:_.msg="invalid block type",P.mode=BAD}V>>>=2,q-=2;break;case STORED:for(V>>>=q&7,q-=q&7;q<32;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}if((V&65535)!==(V>>>16^65535)){_.msg="invalid stored block lengths",P.mode=BAD;break}if(P.length=V&65535,V=0,q=0,P.mode=COPY_,R===Z_TREES)break e;case COPY_:P.mode=COPY;case COPY:if(Q=P.length,Q){if(Q>F&&(Q=F),Q>U&&(Q=U),Q===0)break e;O.set(I.subarray(z,z+Q),L),F-=Q,z+=Q,U-=Q,L+=Q,P.length-=Q;break}P.mode=TYPE;break;case TABLE:for(;q<14;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}if(P.nlen=(V&31)+257,V>>>=5,q-=5,P.ndist=(V&31)+1,V>>>=5,q-=5,P.ncode=(V&15)+4,V>>>=4,q-=4,P.nlen>286||P.ndist>30){_.msg="too many length or distance symbols",P.mode=BAD;break}P.have=0,P.mode=LENLENS;case LENLENS:for(;P.have<P.ncode;){for(;q<3;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}P.lens[_e[P.have++]]=V&7,V>>>=3,q-=3}for(;P.have<19;)P.lens[_e[P.have++]]=0;if(P.lencode=P.lendyn,P.lenbits=7,be={bits:P.lenbits},pe=inftrees(CODES,P.lens,0,19,P.lencode,0,P.work,be),P.lenbits=be.bits,pe){_.msg="invalid code lengths set",P.mode=BAD;break}P.have=0,P.mode=CODELENS;case CODELENS:for(;P.have<P.nlen+P.ndist;){for(;ie=P.lencode[V&(1<<P.lenbits)-1],ae=ie>>>24,se=ie>>>16&255,le=ie&65535,!(ae<=q);){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}if(le<16)V>>>=ae,q-=ae,P.lens[P.have++]=le;else{if(le===16){for(xe=ae+2;q<xe;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}if(V>>>=ae,q-=ae,P.have===0){_.msg="invalid bit length repeat",P.mode=BAD;break}he=P.lens[P.have-1],Q=3+(V&3),V>>>=2,q-=2}else if(le===17){for(xe=ae+3;q<xe;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}V>>>=ae,q-=ae,he=0,Q=3+(V&7),V>>>=3,q-=3}else{for(xe=ae+7;q<xe;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}V>>>=ae,q-=ae,he=0,Q=11+(V&127),V>>>=7,q-=7}if(P.have+Q>P.nlen+P.ndist){_.msg="invalid bit length repeat",P.mode=BAD;break}for(;Q--;)P.lens[P.have++]=he}}if(P.mode===BAD)break;if(P.lens[256]===0){_.msg="invalid code -- missing end-of-block",P.mode=BAD;break}if(P.lenbits=9,be={bits:P.lenbits},pe=inftrees(LENS,P.lens,0,P.nlen,P.lencode,0,P.work,be),P.lenbits=be.bits,pe){_.msg="invalid literal/lengths set",P.mode=BAD;break}if(P.distbits=6,P.distcode=P.distdyn,be={bits:P.distbits},pe=inftrees(DISTS,P.lens,P.nlen,P.ndist,P.distcode,0,P.work,be),P.distbits=be.bits,pe){_.msg="invalid distances set",P.mode=BAD;break}if(P.mode=LEN_,R===Z_TREES)break e;case LEN_:P.mode=LEN;case LEN:if(F>=6&&U>=258){_.next_out=L,_.avail_out=U,_.next_in=z,_.avail_in=F,P.hold=V,P.bits=q,inffast(_,Y),L=_.next_out,O=_.output,U=_.avail_out,z=_.next_in,I=_.input,F=_.avail_in,V=P.hold,q=P.bits,P.mode===TYPE&&(P.back=-1);break}for(P.back=0;ie=P.lencode[V&(1<<P.lenbits)-1],ae=ie>>>24,se=ie>>>16&255,le=ie&65535,!(ae<=q);){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}if(se&&(se&240)===0){for(ce=ae,fe=se,de=le;ie=P.lencode[de+((V&(1<<ce+fe)-1)>>ce)],ae=ie>>>24,se=ie>>>16&255,le=ie&65535,!(ce+ae<=q);){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}V>>>=ce,q-=ce,P.back+=ce}if(V>>>=ae,q-=ae,P.back+=ae,P.length=le,se===0){P.mode=LIT;break}if(se&32){P.back=-1,P.mode=TYPE;break}if(se&64){_.msg="invalid literal/length code",P.mode=BAD;break}P.extra=se&15,P.mode=LENEXT;case LENEXT:if(P.extra){for(xe=P.extra;q<xe;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}P.length+=V&(1<<P.extra)-1,V>>>=P.extra,q-=P.extra,P.back+=P.extra}P.was=P.length,P.mode=DIST;case DIST:for(;ie=P.distcode[V&(1<<P.distbits)-1],ae=ie>>>24,se=ie>>>16&255,le=ie&65535,!(ae<=q);){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}if((se&240)===0){for(ce=ae,fe=se,de=le;ie=P.distcode[de+((V&(1<<ce+fe)-1)>>ce)],ae=ie>>>24,se=ie>>>16&255,le=ie&65535,!(ce+ae<=q);){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}V>>>=ce,q-=ce,P.back+=ce}if(V>>>=ae,q-=ae,P.back+=ae,se&64){_.msg="invalid distance code",P.mode=BAD;break}P.offset=le,P.extra=se&15,P.mode=DISTEXT;case DISTEXT:if(P.extra){for(xe=P.extra;q<xe;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}P.offset+=V&(1<<P.extra)-1,V>>>=P.extra,q-=P.extra,P.back+=P.extra}if(P.offset>P.dmax){_.msg="invalid distance too far back",P.mode=BAD;break}P.mode=MATCH;case MATCH:if(U===0)break e;if(Q=Y-U,P.offset>Q){if(Q=P.offset-Q,Q>P.whave&&P.sane){_.msg="invalid distance too far back",P.mode=BAD;break}Q>P.wnext?(Q-=P.wnext,ee=P.wsize-Q):ee=P.wnext-Q,Q>P.length&&(Q=P.length),te=P.window}else te=O,ee=L-P.offset,Q=P.length;Q>U&&(Q=U),U-=Q,P.length-=Q;do O[L++]=te[ee++];while(--Q);P.length===0&&(P.mode=LEN);break;case LIT:if(U===0)break e;O[L++]=P.length,U--,P.mode=LEN;break;case CHECK:if(P.wrap){for(;q<32;){if(F===0)break e;F--,V|=I[z++]<<q,q+=8}if(Y-=U,_.total_out+=Y,P.total+=Y,P.wrap&4&&Y&&(_.adler=P.check=P.flags?crc32_1(P.check,O,Y,L-Y):adler32_1(P.check,O,Y,L-Y)),Y=U,P.wrap&4&&(P.flags?V:zswap32(V))!==P.check){_.msg="incorrect data check",P.mode=BAD;break}V=0,q=0}P.mode=LENGTH;case LENGTH:if(P.wrap&&P.flags){for(;q<32;){if(F===0)break e;F--,V+=I[z++]<<q,q+=8}if(P.wrap&4&&V!==(P.total&4294967295)){_.msg="incorrect length check",P.mode=BAD;break}V=0,q=0}P.mode=DONE;case DONE:pe=Z_STREAM_END$1;break e;case BAD:pe=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return _.next_out=L,_.avail_out=U,_.next_in=z,_.avail_in=F,P.hold=V,P.bits=q,(P.wsize||Y!==_.avail_out&&P.mode<BAD&&(P.mode<CHECK||R!==Z_FINISH$1))&&updatewindow(_,_.output,_.next_out,Y-_.avail_out),W-=_.avail_in,Y-=_.avail_out,_.total_in+=W,_.total_out+=Y,P.total+=Y,P.wrap&4&&Y&&(_.adler=P.check=P.flags?crc32_1(P.check,O,Y,_.next_out-Y):adler32_1(P.check,O,Y,_.next_out-Y)),_.data_type=P.bits+(P.last?64:0)+(P.mode===TYPE?128:0)+(P.mode===LEN_||P.mode===COPY_?256:0),(W===0&&Y===0||R===Z_FINISH$1)&&pe===Z_OK$1&&(pe=Z_BUF_ERROR),pe},inflateEnd=_=>{if(inflateStateCheck(_))return Z_STREAM_ERROR$1;let R=_.state;return R.window&&(R.window=null),_.state=null,Z_OK$1},inflateGetHeader=(_,R)=>{if(inflateStateCheck(_))return Z_STREAM_ERROR$1;const P=_.state;return(P.wrap&2)===0?Z_STREAM_ERROR$1:(P.head=R,R.done=!1,Z_OK$1)},inflateSetDictionary=(_,R)=>{const P=R.length;let I,O,z;return inflateStateCheck(_)||(I=_.state,I.wrap!==0&&I.mode!==DICT)?Z_STREAM_ERROR$1:I.mode===DICT&&(O=1,O=adler32_1(O,R,P,0),O!==I.check)?Z_DATA_ERROR$1:(z=updatewindow(_,R,P,P),z?(I.mode=MEM,Z_MEM_ERROR$1):(I.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(_){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},_||{});const R=this.options;R.raw&&R.windowBits>=0&&R.windowBits<16&&(R.windowBits=-R.windowBits,R.windowBits===0&&(R.windowBits=-15)),R.windowBits>=0&&R.windowBits<16&&!(_&&_.windowBits)&&(R.windowBits+=32),R.windowBits>15&&R.windowBits<48&&(R.windowBits&15)===0&&(R.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let P=inflate_1$2.inflateInit2(this.strm,R.windowBits);if(P!==Z_OK)throw new Error(messages[P]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),R.dictionary&&(typeof R.dictionary=="string"?R.dictionary=strings.string2buf(R.dictionary):toString$2.call(R.dictionary)==="[object ArrayBuffer]"&&(R.dictionary=new Uint8Array(R.dictionary)),R.raw&&(P=inflate_1$2.inflateSetDictionary(this.strm,R.dictionary),P!==Z_OK)))throw new Error(messages[P])}Inflate$1.prototype.push=function(_,R){const P=this.strm,I=this.options.chunkSize,O=this.options.dictionary;let z,L,F;if(this.ended)return!1;for(R===~~R?L=R:L=R===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(_)==="[object ArrayBuffer]"?P.input=new Uint8Array(_):P.input=_,P.next_in=0,P.avail_in=P.input.length;;){for(P.avail_out===0&&(P.output=new Uint8Array(I),P.next_out=0,P.avail_out=I),z=inflate_1$2.inflate(P,L),z===Z_NEED_DICT&&O&&(z=inflate_1$2.inflateSetDictionary(P,O),z===Z_OK?z=inflate_1$2.inflate(P,L):z===Z_DATA_ERROR&&(z=Z_NEED_DICT));P.avail_in>0&&z===Z_STREAM_END&&P.state.wrap>0&&_[P.next_in]!==0;)inflate_1$2.inflateReset(P),z=inflate_1$2.inflate(P,L);switch(z){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(z),this.ended=!0,!1}if(F=P.avail_out,P.next_out&&(P.avail_out===0||z===Z_STREAM_END))if(this.options.to==="string"){let U=strings.utf8border(P.output,P.next_out),V=P.next_out-U,q=strings.buf2string(P.output,U);P.next_out=V,P.avail_out=I-V,V&&P.output.set(P.output.subarray(U,U+V),0),this.onData(q)}else this.onData(P.output.length===P.next_out?P.output:P.output.subarray(0,P.next_out));if(!(z===Z_OK&&F===0)){if(z===Z_STREAM_END)return z=inflate_1$2.inflateEnd(this.strm),this.onEnd(z),this.ended=!0,!0;if(P.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(_){this.chunks.push(_)};Inflate$1.prototype.onEnd=function(_){_===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function inflate$1(_,R){const P=new Inflate$1(R);if(P.push(_),P.err)throw P.msg||messages[P.err];return P.result}function inflateRaw$1(_,R){return R=R||{},R.raw=!0,inflate$1(_,R)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var Deflate_1=Deflate,deflate_1=deflate,deflateRaw_1=deflateRaw,gzip_1=gzip,Inflate_1=Inflate,inflate_1=inflate,inflateRaw_1=inflateRaw,ungzip_1=ungzip,constants_1=constants$2,pako={Deflate:Deflate_1,deflate:deflate_1,deflateRaw:deflateRaw_1,gzip:gzip_1,Inflate:Inflate_1,inflate:inflate_1,inflateRaw:inflateRaw_1,ungzip:ungzip_1,constants:constants_1};function encodeParamsToUrl(_,R){const P=toToml(R),I=pako.deflate(P),z=btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),L=new URL(window.location.origin+window.location.pathname);return L.searchParams.set("model",_),L.searchParams.set("config",z),L.toString()}function decodeParamsFromUrl(){const _=new URL(window.location.href),R=_.searchParams.get("model"),P=_.searchParams.get("config");if(!R||!P)return null;try{let I=P.replace(/-/g,"+").replace(/_/g,"/");for(;I.length%4;)I+="=";const O=atob(I),z=new Uint8Array(O.length);for(let U=0;U<O.length;U++)z[U]=O.charCodeAt(U);const L=pako.inflate(z,{to:"string"}),F=parseTomlWithDefaults(L);return{modelName:R,params:F}}catch(I){return console.error("Failed to decode URL params:",I),null}}function clearUrlParams(){const _=new URL(window.location.origin+window.location.pathname);window.history.replaceState({},"",_.toString())}function WorkerWrapper(_){return new Worker("/internal/eht/assets/simulation.worker--C43vzek.js",{name:_?.name})}class WorkerPool{constructor(R=navigator.hardwareConcurrency||4){this.poolSize=R}workers=[];busyWorkers=new Set;taskQueue=[];pendingTasks=new Map;init(){for(let R=0;R<this.poolSize;R++){const P=new WorkerWrapper;P.onmessage=I=>{this.handleWorkerMessage(P,I.data)},P.onerror=I=>{console.error("Worker error:",I),this.handleWorkerError(P,I)},this.workers.push(P)}}getPoolSize(){return this.poolSize}submit(R,P,I,O,z,L){return new Promise((F,U)=>{const q={request:{type:"run",modelName:R,baseParams:P,overrides:I,seed:O,timeSamples:z,runIndex:L},resolve:F,reject:U},W=this.workers.find(Y=>!this.busyWorkers.has(Y));W?this.executeTask(W,q):this.taskQueue.push(q)})}executeTask(R,P){this.busyWorkers.add(R),this.pendingTasks.set(P.request.runIndex,P),R.postMessage(P.request)}handleWorkerMessage(R,P){const I=this.pendingTasks.get(P.runIndex);if(this.pendingTasks.delete(P.runIndex),this.busyWorkers.delete(R),I&&(P.type==="complete"&&P.snapshots?I.resolve(P.snapshots):P.type==="error"&&I.reject(new Error(P.error||"Unknown worker error"))),this.taskQueue.length>0){const O=this.taskQueue.shift();this.executeTask(R,O)}}handleWorkerError(R,P){if(this.busyWorkers.delete(R),console.error("Worker error:",P.message),this.taskQueue.length>0){const I=this.taskQueue.shift();this.executeTask(R,I)}}terminate(){for(const R of this.workers)R.terminate();this.workers=[],this.busyWorkers.clear(),this.taskQueue=[],this.pendingTasks.clear()}static isSupported(){return typeof Worker<"u"}}function runSingleSimulation(_,R,P,I,O,z,L){const F=structuredClone(R);for(const[W,Y]of Object.entries(P))setNestedValue(F,W,Y);F.general.random_seed=I;const U=new SimulationEngine({model:_,params:F});U.init();const V=[];let q=0;if(O.length>0&&O[0]<=0){const W=_.getSnapshot(U.getState()),Y={run_index:z,seed:I,time_h:0,sampled_params:P,data:W};V.push(Y),L?.onSnapshot?.(Y),q=1}for(;!U.isComplete()&&q<O.length;){U.step();const W=U.getState(),Y=W.t??0;for(;q<O.length&&Y>=O[q];){const Q=_.getSnapshot(W),ee={run_index:z,seed:I,time_h:O[q],sampled_params:P,data:Q};V.push(ee),L?.onSnapshot?.(ee),q++}}return V}function yieldToUI(){return new Promise(_=>setTimeout(_,0))}async function runBatchSequential(_,R,P,I){const O=generateParameterConfigs(P.parameter_ranges,P.sampling_mode,P.random_sample_count),z=getTimeSamples(P.time_samples),L=O.length*P.seeds_per_config,F=[];let U=0;for(const q of O)for(let W=0;W<P.seeds_per_config;W++){const Y=R.general.random_seed+U;I?.onProgress?.({current_run:U,total_runs:L,current_config:q,is_running:!0,is_complete:!1}),await yieldToUI();const Q=runSingleSimulation(_,R,q,Y,z,U,I);F.push(...Q),U++}const V={config:P,snapshots:F,completed_runs:L,total_runs:L};return I?.onProgress?.({current_run:L,total_runs:L,current_config:{},is_running:!1,is_complete:!0}),I?.onComplete?.(V),V}async function runBatchParallel(_,R,P,I,O){const z=generateParameterConfigs(P.parameter_ranges,P.sampling_mode,P.random_sample_count),L=getTimeSamples(P.time_samples),F=z.length*P.seeds_per_config,U=[];let V=0;const q=new WorkerPool(O);q.init();try{const Y=[];let Q=0;for(const ie of z)for(let ae=0;ae<P.seeds_per_config;ae++){const se=R.general.random_seed+Q;Y.push({paramConfig:ie,seed:se,runIndex:Q}),Q++}I?.onProgress?.({current_run:0,total_runs:F,current_config:{},is_running:!0,is_complete:!1});const ee=Y.map(async ie=>{const ae=await q.submit(_.id,R,ie.paramConfig,ie.seed,L,ie.runIndex);V++,I?.onProgress?.({current_run:V,total_runs:F,current_config:ie.paramConfig,is_running:!0,is_complete:!1});for(const se of ae)I?.onSnapshot?.(se);return ae}),te=await Promise.all(ee);for(const ie of te)U.push(...ie);U.sort((ie,ae)=>ie.run_index!==ae.run_index?ie.run_index-ae.run_index:ie.time_h-ae.time_h)}finally{q.terminate()}const W={config:P,snapshots:U,completed_runs:F,total_runs:F};return I?.onProgress?.({current_run:F,total_runs:F,current_config:{},is_running:!1,is_complete:!0}),I?.onComplete?.(W),W}async function runBatch(_,R,P,I){const O=I?.modelName??_.metadata?.model;if(!O)throw new Error("Model name not specified. Provide options.modelName or ensure params.metadata.model is set.");const z=modelRegistry.get(O);if(!z)throw new Error(`Model "${O}" not found in registry.`);return(I?.parallel??WorkerPool.isSupported())&&WorkerPool.isSupported()?runBatchParallel(z,_,R,P,I?.workerCount):runBatchSequential(z,_,R,P)}function computeTotalRuns(_,R){return generateParameterConfigs(_,"grid").length*R}var papaparse_min$1={exports:{}};var papaparse_min=papaparse_min$1.exports,hasRequiredPapaparse_min;function requirePapaparse_min(){return hasRequiredPapaparse_min||(hasRequiredPapaparse_min=1,(function(_,R){((P,I)=>{_.exports=I()})(papaparse_min,function P(){var I=typeof self<"u"?self:typeof window<"u"?window:I!==void 0?I:{},O,z=!I.document&&!!I.postMessage,L=I.IS_PAPA_WORKER||!1,F={},U=0,V={};function q(pe){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(ge){var be=fe(ge);be.chunkSize=parseInt(be.chunkSize),ge.step||ge.chunk||(be.chunkSize=null),this._handle=new te(be),(this._handle.streamer=this)._config=be}).call(this,pe),this.parseChunk=function(ge,be){var xe=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<xe){let Se=this._config.newline;Se||(_e=this._config.quoteChar||'"',Se=this._handle.guessLineEndings(ge,_e)),ge=[...ge.split(Se).slice(xe)].join(Se)}this.isFirstChunk&&he(this._config.beforeFirstChunk)&&(_e=this._config.beforeFirstChunk(ge))!==void 0&&(ge=_e),this.isFirstChunk=!1,this._halted=!1;var xe=this._partialLine+ge,_e=(this._partialLine="",this._handle.parse(xe,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(ge=_e.meta.cursor,xe=(this._finished||(this._partialLine=xe.substring(ge-this._baseIndex),this._baseIndex=ge),_e&&_e.data&&(this._rowCount+=_e.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),L)I.postMessage({results:_e,workerId:V.WORKER_ID,finished:xe});else if(he(this._config.chunk)&&!be){if(this._config.chunk(_e,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=_e=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(_e.data),this._completeResults.errors=this._completeResults.errors.concat(_e.errors),this._completeResults.meta=_e.meta),this._completed||!xe||!he(this._config.complete)||_e&&_e.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),xe||_e&&_e.meta.paused||this._nextChunk(),_e}this._halted=!0},this._sendError=function(ge){he(this._config.error)?this._config.error(ge):L&&this._config.error&&I.postMessage({workerId:V.WORKER_ID,error:ge,finished:!1})}}function W(pe){var ge;(pe=pe||{}).chunkSize||(pe.chunkSize=V.RemoteChunkSize),q.call(this,pe),this._nextChunk=z?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(be){this._input=be,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(ge=new XMLHttpRequest,this._config.withCredentials&&(ge.withCredentials=this._config.withCredentials),z||(ge.onload=de(this._chunkLoaded,this),ge.onerror=de(this._chunkError,this)),ge.open(this._config.downloadRequestBody?"POST":"GET",this._input,!z),this._config.downloadRequestHeaders){var be,xe=this._config.downloadRequestHeaders;for(be in xe)ge.setRequestHeader(be,xe[be])}var _e;this._config.chunkSize&&(_e=this._start+this._config.chunkSize-1,ge.setRequestHeader("Range","bytes="+this._start+"-"+_e));try{ge.send(this._config.downloadRequestBody)}catch(Se){this._chunkError(Se.message)}z&&ge.status===0&&this._chunkError()}},this._chunkLoaded=function(){ge.readyState===4&&(ge.status<200||400<=ge.status?this._chunkError():(this._start+=this._config.chunkSize||ge.responseText.length,this._finished=!this._config.chunkSize||this._start>=(be=>(be=be.getResponseHeader("Content-Range"))!==null?parseInt(be.substring(be.lastIndexOf("/")+1)):-1)(ge),this.parseChunk(ge.responseText)))},this._chunkError=function(be){be=ge.statusText||be,this._sendError(new Error(be))}}function Y(pe){(pe=pe||{}).chunkSize||(pe.chunkSize=V.LocalChunkSize),q.call(this,pe);var ge,be,xe=typeof FileReader<"u";this.stream=function(_e){this._input=_e,be=_e.slice||_e.webkitSlice||_e.mozSlice,xe?((ge=new FileReader).onload=de(this._chunkLoaded,this),ge.onerror=de(this._chunkError,this)):ge=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var _e=this._input,Se=(this._config.chunkSize&&(Se=Math.min(this._start+this._config.chunkSize,this._input.size),_e=be.call(_e,this._start,Se)),ge.readAsText(_e,this._config.encoding));xe||this._chunkLoaded({target:{result:Se}})},this._chunkLoaded=function(_e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(_e.target.result)},this._chunkError=function(){this._sendError(ge.error)}}function Q(pe){var ge;q.call(this,pe=pe||{}),this.stream=function(be){return ge=be,this._nextChunk()},this._nextChunk=function(){var be,xe;if(!this._finished)return be=this._config.chunkSize,ge=be?(xe=ge.substring(0,be),ge.substring(be)):(xe=ge,""),this._finished=!ge,this.parseChunk(xe)}}function ee(pe){q.call(this,pe=pe||{});var ge=[],be=!0,xe=!1;this.pause=function(){q.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){q.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(_e){this._input=_e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){xe&&ge.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),ge.length?this.parseChunk(ge.shift()):be=!0},this._streamData=de(function(_e){try{ge.push(typeof _e=="string"?_e:_e.toString(this._config.encoding)),be&&(be=!1,this._checkIsFinished(),this.parseChunk(ge.shift()))}catch(Se){this._streamError(Se)}},this),this._streamError=de(function(_e){this._streamCleanUp(),this._sendError(_e)},this),this._streamEnd=de(function(){this._streamCleanUp(),xe=!0,this._streamData("")},this),this._streamCleanUp=de(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function te(pe){var ge,be,xe,_e,Se=Math.pow(2,53),me=-Se,Ce=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Te=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Re=this,Pe=0,Me=0,Ae=!1,we=!1,ke=[],Ee={data:[],errors:[],meta:{}};function ze(Ze){return pe.skipEmptyLines==="greedy"?Ze.join("").trim()==="":Ze.length===1&&Ze[0].length===0}function je(){if(Ee&&xe&&(He("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+V.DefaultDelimiter+"'"),xe=!1),pe.skipEmptyLines&&(Ee.data=Ee.data.filter(function(Ye){return!ze(Ye)})),Ke()){let Ye=function(Ve,dt){he(pe.transformHeader)&&(Ve=pe.transformHeader(Ve,dt)),ke.push(Ve)};if(Ee)if(Array.isArray(Ee.data[0])){for(var Ze=0;Ke()&&Ze<Ee.data.length;Ze++)Ee.data[Ze].forEach(Ye);Ee.data.splice(0,1)}else Ee.data.forEach(Ye)}function Le(Ye,Ve){for(var dt=pe.header?{}:[],ye=0;ye<Ye.length;ye++){var Ge=ye,Fe=Ye[ye],Fe=((Ie,Ne)=>(Be=>(pe.dynamicTypingFunction&&pe.dynamicTyping[Be]===void 0&&(pe.dynamicTyping[Be]=pe.dynamicTypingFunction(Be)),(pe.dynamicTyping[Be]||pe.dynamicTyping)===!0))(Ie)?Ne==="true"||Ne==="TRUE"||Ne!=="false"&&Ne!=="FALSE"&&((Be=>{if(Ce.test(Be)&&(Be=parseFloat(Be),me<Be&&Be<Se))return 1})(Ne)?parseFloat(Ne):Te.test(Ne)?new Date(Ne):Ne===""?null:Ne):Ne)(Ge=pe.header?ye>=ke.length?"__parsed_extra":ke[ye]:Ge,Fe=pe.transform?pe.transform(Fe,Ge):Fe);Ge==="__parsed_extra"?(dt[Ge]=dt[Ge]||[],dt[Ge].push(Fe)):dt[Ge]=Fe}return pe.header&&(ye>ke.length?He("FieldMismatch","TooManyFields","Too many fields: expected "+ke.length+" fields but parsed "+ye,Me+Ve):ye<ke.length&&He("FieldMismatch","TooFewFields","Too few fields: expected "+ke.length+" fields but parsed "+ye,Me+Ve)),dt}var Xe;Ee&&(pe.header||pe.dynamicTyping||pe.transform)&&(Xe=1,!Ee.data.length||Array.isArray(Ee.data[0])?(Ee.data=Ee.data.map(Le),Xe=Ee.data.length):Ee.data=Le(Ee.data,0),pe.header&&Ee.meta&&(Ee.meta.fields=ke),Me+=Xe)}function Ke(){return pe.header&&ke.length===0}function He(Ze,Le,Xe,Ye){Ze={type:Ze,code:Le,message:Xe},Ye!==void 0&&(Ze.row=Ye),Ee.errors.push(Ze)}he(pe.step)&&(_e=pe.step,pe.step=function(Ze){Ee=Ze,Ke()?je():(je(),Ee.data.length!==0&&(Pe+=Ze.data.length,pe.preview&&Pe>pe.preview?be.abort():(Ee.data=Ee.data[0],_e(Ee,Re))))}),this.parse=function(Ze,Le,Xe){var Ye=pe.quoteChar||'"',Ye=(pe.newline||(pe.newline=this.guessLineEndings(Ze,Ye)),xe=!1,pe.delimiter?he(pe.delimiter)&&(pe.delimiter=pe.delimiter(Ze),Ee.meta.delimiter=pe.delimiter):((Ye=((Ve,dt,ye,Ge,Fe)=>{var Ie,Ne,Be,at;Fe=Fe||[",","	","|",";",V.RECORD_SEP,V.UNIT_SEP];for(var lt=0;lt<Fe.length;lt++){for(var We,ht=Fe[lt],ut=0,ft=0,Oe=0,tt=(Be=void 0,new ae({comments:Ge,delimiter:ht,newline:dt,preview:10}).parse(Ve)),st=0;st<tt.data.length;st++)ye&&ze(tt.data[st])?Oe++:(We=tt.data[st].length,ft+=We,Be===void 0?Be=We:0<We&&(ut+=Math.abs(We-Be),Be=We));0<tt.data.length&&(ft/=tt.data.length-Oe),(Ne===void 0||ut<=Ne)&&(at===void 0||at<ft)&&1.99<ft&&(Ne=ut,Ie=ht,at=ft)}return{successful:!!(pe.delimiter=Ie),bestDelimiter:Ie}})(Ze,pe.newline,pe.skipEmptyLines,pe.comments,pe.delimitersToGuess)).successful?pe.delimiter=Ye.bestDelimiter:(xe=!0,pe.delimiter=V.DefaultDelimiter),Ee.meta.delimiter=pe.delimiter),fe(pe));return pe.preview&&pe.header&&Ye.preview++,ge=Ze,be=new ae(Ye),Ee=be.parse(ge,Le,Xe),je(),Ae?{meta:{paused:!0}}:Ee||{meta:{paused:!1}}},this.paused=function(){return Ae},this.pause=function(){Ae=!0,be.abort(),ge=he(pe.chunk)?"":ge.substring(be.getCharIndex())},this.resume=function(){Re.streamer._halted?(Ae=!1,Re.streamer.parseChunk(ge,!0)):setTimeout(Re.resume,3)},this.aborted=function(){return we},this.abort=function(){we=!0,be.abort(),Ee.meta.aborted=!0,he(pe.complete)&&pe.complete(Ee),ge=""},this.guessLineEndings=function(Ve,Ye){Ve=Ve.substring(0,1048576);var Ye=new RegExp(ie(Ye)+"([^]*?)"+ie(Ye),"gm"),Xe=(Ve=Ve.replace(Ye,"")).split("\r"),Ye=Ve.split(`
`),Ve=1<Ye.length&&Ye[0].length<Xe[0].length;if(Xe.length===1||Ve)return`
`;for(var dt=0,ye=0;ye<Xe.length;ye++)Xe[ye][0]===`
`&&dt++;return dt>=Xe.length/2?`\r
`:"\r"}}function ie(pe){return pe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ae(pe){var ge=(pe=pe||{}).delimiter,be=pe.newline,xe=pe.comments,_e=pe.step,Se=pe.preview,me=pe.fastMode,Ce=null,Te=!1,Re=pe.quoteChar==null?'"':pe.quoteChar,Pe=Re;if(pe.escapeChar!==void 0&&(Pe=pe.escapeChar),(typeof ge!="string"||-1<V.BAD_DELIMITERS.indexOf(ge))&&(ge=","),xe===ge)throw new Error("Comment character same as delimiter");xe===!0?xe="#":(typeof xe!="string"||-1<V.BAD_DELIMITERS.indexOf(xe))&&(xe=!1),be!==`
`&&be!=="\r"&&be!==`\r
`&&(be=`
`);var Me=0,Ae=!1;this.parse=function(we,ke,Ee){if(typeof we!="string")throw new Error("Input must be a string");var ze=we.length,je=ge.length,Ke=be.length,He=xe.length,Ze=he(_e),Le=[],Xe=[],Ye=[],Ve=Me=0;if(!we)return ut();if(me||me!==!1&&we.indexOf(Re)===-1){for(var dt=we.split(be),ye=0;ye<dt.length;ye++){if(Ye=dt[ye],Me+=Ye.length,ye!==dt.length-1)Me+=be.length;else if(Ee)return ut();if(!xe||Ye.substring(0,He)!==xe){if(Ze){if(Le=[],at(Ye.split(ge)),ft(),Ae)return ut()}else at(Ye.split(ge));if(Se&&Se<=ye)return Le=Le.slice(0,Se),ut(!0)}}return ut()}for(var Ge=we.indexOf(ge,Me),Fe=we.indexOf(be,Me),Ie=new RegExp(ie(Pe)+ie(Re),"g"),Ne=we.indexOf(Re,Me);;)if(we[Me]===Re)for(Ne=Me,Me++;;){if((Ne=we.indexOf(Re,Ne+1))===-1)return Ee||Xe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Le.length,index:Me}),We();if(Ne===ze-1)return We(we.substring(Me,Ne).replace(Ie,Re));if(Re===Pe&&we[Ne+1]===Pe)Ne++;else if(Re===Pe||Ne===0||we[Ne-1]!==Pe){Ge!==-1&&Ge<Ne+1&&(Ge=we.indexOf(ge,Ne+1));var Be=lt((Fe=Fe!==-1&&Fe<Ne+1?we.indexOf(be,Ne+1):Fe)===-1?Ge:Math.min(Ge,Fe));if(we.substr(Ne+1+Be,je)===ge){Ye.push(we.substring(Me,Ne).replace(Ie,Re)),we[Me=Ne+1+Be+je]!==Re&&(Ne=we.indexOf(Re,Me)),Ge=we.indexOf(ge,Me),Fe=we.indexOf(be,Me);break}if(Be=lt(Fe),we.substring(Ne+1+Be,Ne+1+Be+Ke)===be){if(Ye.push(we.substring(Me,Ne).replace(Ie,Re)),ht(Ne+1+Be+Ke),Ge=we.indexOf(ge,Me),Ne=we.indexOf(Re,Me),Ze&&(ft(),Ae))return ut();if(Se&&Le.length>=Se)return ut(!0);break}Xe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Le.length,index:Me}),Ne++}}else if(xe&&Ye.length===0&&we.substring(Me,Me+He)===xe){if(Fe===-1)return ut();Me=Fe+Ke,Fe=we.indexOf(be,Me),Ge=we.indexOf(ge,Me)}else if(Ge!==-1&&(Ge<Fe||Fe===-1))Ye.push(we.substring(Me,Ge)),Me=Ge+je,Ge=we.indexOf(ge,Me);else{if(Fe===-1)break;if(Ye.push(we.substring(Me,Fe)),ht(Fe+Ke),Ze&&(ft(),Ae))return ut();if(Se&&Le.length>=Se)return ut(!0)}return We();function at(Oe){Le.push(Oe),Ve=Me}function lt(Oe){var tt=0;return tt=Oe!==-1&&(Oe=we.substring(Ne+1,Oe))&&Oe.trim()===""?Oe.length:tt}function We(Oe){return Ee||(Oe===void 0&&(Oe=we.substring(Me)),Ye.push(Oe),Me=ze,at(Ye),Ze&&ft()),ut()}function ht(Oe){Me=Oe,at(Ye),Ye=[],Fe=we.indexOf(be,Me)}function ut(Oe){if(pe.header&&!ke&&Le.length&&!Te){var tt=Le[0],st=Object.create(null),mt=new Set(tt);let gt=!1;for(let Tt=0;Tt<tt.length;Tt++){let Et=tt[Tt];if(st[Et=he(pe.transformHeader)?pe.transformHeader(Et,Tt):Et]){let _t,vt=st[Et];for(;_t=Et+"_"+vt,vt++,mt.has(_t););mt.add(_t),tt[Tt]=_t,st[Et]++,gt=!0,(Ce=Ce===null?{}:Ce)[_t]=Et}else st[Et]=1,tt[Tt]=Et;mt.add(Et)}gt&&console.warn("Duplicate headers found and renamed."),Te=!0}return{data:Le,errors:Xe,meta:{delimiter:ge,linebreak:be,aborted:Ae,truncated:!!Oe,cursor:Ve+(ke||0),renamedHeaders:Ce}}}function ft(){_e(ut()),Le=[],Xe=[]}},this.abort=function(){Ae=!0},this.getCharIndex=function(){return Me}}function se(pe){var ge=pe.data,be=F[ge.workerId],xe=!1;if(ge.error)be.userError(ge.error,ge.file);else if(ge.results&&ge.results.data){var _e={abort:function(){xe=!0,le(ge.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ce,resume:ce};if(he(be.userStep)){for(var Se=0;Se<ge.results.data.length&&(be.userStep({data:ge.results.data[Se],errors:ge.results.errors,meta:ge.results.meta},_e),!xe);Se++);delete ge.results}else he(be.userChunk)&&(be.userChunk(ge.results,_e,ge.file),delete ge.results)}ge.finished&&!xe&&le(ge.workerId,ge.results)}function le(pe,ge){var be=F[pe];he(be.userComplete)&&be.userComplete(ge),be.terminate(),delete F[pe]}function ce(){throw new Error("Not implemented.")}function fe(pe){if(typeof pe!="object"||pe===null)return pe;var ge,be=Array.isArray(pe)?[]:{};for(ge in pe)be[ge]=fe(pe[ge]);return be}function de(pe,ge){return function(){pe.apply(ge,arguments)}}function he(pe){return typeof pe=="function"}return V.parse=function(pe,ge){var be=(ge=ge||{}).dynamicTyping||!1;if(he(be)&&(ge.dynamicTypingFunction=be,be={}),ge.dynamicTyping=be,ge.transform=!!he(ge.transform)&&ge.transform,!ge.worker||!V.WORKERS_SUPPORTED)return be=null,V.NODE_STREAM_INPUT,typeof pe=="string"?(pe=(xe=>xe.charCodeAt(0)!==65279?xe:xe.slice(1))(pe),be=new(ge.download?W:Q)(ge)):pe.readable===!0&&he(pe.read)&&he(pe.on)?be=new ee(ge):(I.File&&pe instanceof File||pe instanceof Object)&&(be=new Y(ge)),be.stream(pe);(be=(()=>{var xe;return!!V.WORKERS_SUPPORTED&&(xe=(()=>{var _e=I.URL||I.webkitURL||null,Se=P.toString();return V.BLOB_URL||(V.BLOB_URL=_e.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Se,")();"],{type:"text/javascript"})))})(),(xe=new I.Worker(xe)).onmessage=se,xe.id=U++,F[xe.id]=xe)})()).userStep=ge.step,be.userChunk=ge.chunk,be.userComplete=ge.complete,be.userError=ge.error,ge.step=he(ge.step),ge.chunk=he(ge.chunk),ge.complete=he(ge.complete),ge.error=he(ge.error),delete ge.worker,be.postMessage({input:pe,config:ge,workerId:be.id})},V.unparse=function(pe,ge){var be=!1,xe=!0,_e=",",Se=`\r
`,me='"',Ce=me+me,Te=!1,Re=null,Pe=!1,Me=((()=>{if(typeof ge=="object"){if(typeof ge.delimiter!="string"||V.BAD_DELIMITERS.filter(function(ke){return ge.delimiter.indexOf(ke)!==-1}).length||(_e=ge.delimiter),typeof ge.quotes!="boolean"&&typeof ge.quotes!="function"&&!Array.isArray(ge.quotes)||(be=ge.quotes),typeof ge.skipEmptyLines!="boolean"&&typeof ge.skipEmptyLines!="string"||(Te=ge.skipEmptyLines),typeof ge.newline=="string"&&(Se=ge.newline),typeof ge.quoteChar=="string"&&(me=ge.quoteChar),typeof ge.header=="boolean"&&(xe=ge.header),Array.isArray(ge.columns)){if(ge.columns.length===0)throw new Error("Option columns is empty");Re=ge.columns}ge.escapeChar!==void 0&&(Ce=ge.escapeChar+me),ge.escapeFormulae instanceof RegExp?Pe=ge.escapeFormulae:typeof ge.escapeFormulae=="boolean"&&ge.escapeFormulae&&(Pe=/^[=+\-@\t\r].*$/)}})(),new RegExp(ie(me),"g"));if(typeof pe=="string"&&(pe=JSON.parse(pe)),Array.isArray(pe)){if(!pe.length||Array.isArray(pe[0]))return Ae(null,pe,Te);if(typeof pe[0]=="object")return Ae(Re||Object.keys(pe[0]),pe,Te)}else if(typeof pe=="object")return typeof pe.data=="string"&&(pe.data=JSON.parse(pe.data)),Array.isArray(pe.data)&&(pe.fields||(pe.fields=pe.meta&&pe.meta.fields||Re),pe.fields||(pe.fields=Array.isArray(pe.data[0])?pe.fields:typeof pe.data[0]=="object"?Object.keys(pe.data[0]):[]),Array.isArray(pe.data[0])||typeof pe.data[0]=="object"||(pe.data=[pe.data])),Ae(pe.fields||[],pe.data||[],Te);throw new Error("Unable to serialize unrecognized input");function Ae(ke,Ee,ze){var je="",Ke=(typeof ke=="string"&&(ke=JSON.parse(ke)),typeof Ee=="string"&&(Ee=JSON.parse(Ee)),Array.isArray(ke)&&0<ke.length),He=!Array.isArray(Ee[0]);if(Ke&&xe){for(var Ze=0;Ze<ke.length;Ze++)0<Ze&&(je+=_e),je+=we(ke[Ze],Ze);0<Ee.length&&(je+=Se)}for(var Le=0;Le<Ee.length;Le++){var Xe=(Ke?ke:Ee[Le]).length,Ye=!1,Ve=Ke?Object.keys(Ee[Le]).length===0:Ee[Le].length===0;if(ze&&!Ke&&(Ye=ze==="greedy"?Ee[Le].join("").trim()==="":Ee[Le].length===1&&Ee[Le][0].length===0),ze==="greedy"&&Ke){for(var dt=[],ye=0;ye<Xe;ye++){var Ge=He?ke[ye]:ye;dt.push(Ee[Le][Ge])}Ye=dt.join("").trim()===""}if(!Ye){for(var Fe=0;Fe<Xe;Fe++){0<Fe&&!Ve&&(je+=_e);var Ie=Ke&&He?ke[Fe]:Fe;je+=we(Ee[Le][Ie],Fe)}Le<Ee.length-1&&(!ze||0<Xe&&!Ve)&&(je+=Se)}}return je}function we(ke,Ee){var ze,je;return ke==null?"":ke.constructor===Date?JSON.stringify(ke).slice(1,25):(je=!1,Pe&&typeof ke=="string"&&Pe.test(ke)&&(ke="'"+ke,je=!0),ze=ke.toString().replace(Me,Ce),(je=je||be===!0||typeof be=="function"&&be(ke,Ee)||Array.isArray(be)&&be[Ee]||((Ke,He)=>{for(var Ze=0;Ze<He.length;Ze++)if(-1<Ke.indexOf(He[Ze]))return!0;return!1})(ze,V.BAD_DELIMITERS)||-1<ze.indexOf(_e)||ze.charAt(0)===" "||ze.charAt(ze.length-1)===" ")?me+ze+me:ze)}},V.RECORD_SEP="",V.UNIT_SEP="",V.BYTE_ORDER_MARK="\uFEFF",V.BAD_DELIMITERS=["\r",`
`,'"',V.BYTE_ORDER_MARK],V.WORKERS_SUPPORTED=!z&&!!I.Worker,V.NODE_STREAM_INPUT=1,V.LocalChunkSize=10485760,V.RemoteChunkSize=5242880,V.DefaultDelimiter=",",V.Parser=ae,V.ParserHandle=te,V.NetworkStreamer=W,V.FileStreamer=Y,V.StringStreamer=Q,V.ReadableStreamStreamer=ee,I.jQuery&&((O=I.jQuery).fn.parse=function(pe){var ge=pe.config||{},be=[];return this.each(function(Se){if(!(O(this).prop("tagName").toUpperCase()==="INPUT"&&O(this).attr("type").toLowerCase()==="file"&&I.FileReader)||!this.files||this.files.length===0)return!0;for(var me=0;me<this.files.length;me++)be.push({file:this.files[me],inputElem:this,instanceConfig:O.extend({},ge)})}),xe(),this;function xe(){if(be.length===0)he(pe.complete)&&pe.complete();else{var Se,me,Ce,Te,Re=be[0];if(he(pe.before)){var Pe=pe.before(Re.file,Re.inputElem);if(typeof Pe=="object"){if(Pe.action==="abort")return Se="AbortError",me=Re.file,Ce=Re.inputElem,Te=Pe.reason,void(he(pe.error)&&pe.error({name:Se},me,Ce,Te));if(Pe.action==="skip")return void _e();typeof Pe.config=="object"&&(Re.instanceConfig=O.extend(Re.instanceConfig,Pe.config))}else if(Pe==="skip")return void _e()}var Me=Re.instanceConfig.complete;Re.instanceConfig.complete=function(Ae){he(Me)&&Me(Ae,Re.file,Re.inputElem),_e()},V.parse(Re.file,Re.instanceConfig)}}function _e(){be.splice(0,1),xe()}}),L&&(I.onmessage=function(pe){pe=pe.data,V.WORKER_ID===void 0&&pe&&(V.WORKER_ID=pe.workerId),typeof pe.input=="string"?I.postMessage({workerId:V.WORKER_ID,results:V.parse(pe.input,pe.config),finished:!0}):(I.File&&pe.input instanceof File||pe.input instanceof Object)&&(pe=V.parse(pe.input,pe.config))&&I.postMessage({workerId:V.WORKER_ID,results:pe,finished:!0})}),(W.prototype=Object.create(q.prototype)).constructor=W,(Y.prototype=Object.create(q.prototype)).constructor=Y,(Q.prototype=Object.create(Q.prototype)).constructor=Q,(ee.prototype=Object.create(q.prototype)).constructor=ee,V})})(papaparse_min$1)),papaparse_min$1.exports}var papaparse_minExports=requirePapaparse_min();const Papa=getDefaultExportFromCjs(papaparse_minExports),PATH_SEPARATOR="__";function pathToColumn(_){return"param"+PATH_SEPARATOR+_.replace(/\./g,PATH_SEPARATOR)}function columnToPath(_){return _.startsWith("param"+PATH_SEPARATOR)?_.slice(("param"+PATH_SEPARATOR).length).replace(new RegExp(PATH_SEPARATOR,"g"),"."):_}function batchSnapshotsToCSV(_){if(_.length===0)return"";const R=new Set;for(const F of _)for(const U of Object.keys(F.sampled_params))R.add(U);const P=Array.from(R).sort(),I=new Set;for(const F of _)F.data.length>0&&Object.keys(F.data[0]).forEach(U=>I.add(U));const O=Array.from(I).sort((F,U)=>F==="id"?-1:U==="id"?1:F.localeCompare(U)),z=[];for(const F of _)for(const U of F.data){const V={run_index:F.run_index,seed:F.seed,time_h:F.time_h,...U};for(const q of P)V[pathToColumn(q)]=F.sampled_params[q]??"";z.push(V)}const L=["run_index","seed","time_h",...P.map(pathToColumn),...O];return Papa.unparse(z,{columns:L,delimiter:"	"})}function csvToBatchSnapshots(_){const R=Papa.parse(_,{header:!0,dynamicTyping:!1,skipEmptyLines:!0,delimiter:"	"});R.errors.length>0&&console.warn("CSV parse warnings:",R.errors);const P=new Map,I=R.meta.fields?.filter(F=>F.startsWith("param"+PATH_SEPARATOR))??[],O=new Set(["run_index","seed","time_h"]),z=R.meta.fields?.filter(F=>!O.has(F)&&!F.startsWith("param"+PATH_SEPARATOR))??[];for(const F of R.data){const U=parseInt(F.run_index,10),V=parseInt(F.seed,10),q=parseFloat(F.time_h),W=`${U}-${V}-${q}`;if(!P.has(W)){const ee={};for(const te of I){const ie=F[te];ie!==""&&ie!==void 0&&(ee[columnToPath(te)]=parseFloat(ie))}P.set(W,{run_index:U,seed:V,time_h:q,sampled_params:ee,data:[]})}const Y=P.get(W),Q={};for(const ee of z){const te=F[ee],ie=Number(te);!isNaN(ie)&&te.trim()!==""?Q[ee]=ie:te==="true"?Q[ee]=!0:te==="false"?Q[ee]=!1:Q[ee]=te}Y.data.push(Q)}const L=Array.from(P.values());return L.sort((F,U)=>F.run_index!==U.run_index?F.run_index-U.run_index:F.time_h-U.time_h),L}function createBatchDataFromSnapshots(_){const R=new Set;for(const L of _)for(const F of Object.keys(L.sampled_params))R.add(F);const P=new Set;for(const L of _)P.add(L.time_h);const I=Array.from(P).sort((L,F)=>L-F),O=new Set;for(const L of _)O.add(`${L.run_index}-${L.seed}`);return{config:{parameter_ranges:Array.from(R).map(L=>({path:L,min:0,max:0,steps:0})),time_samples:{start:I[0]??0,end:I[I.length-1]??48,step:I.length>1?I[1]-I[0]:12},seeds_per_config:1,sampling_mode:"grid"},snapshots:_,completed_runs:O.size,total_runs:O.size}}function statisticsToCSV(_,R){const P=R.map(I=>{const O={};return _.forEach((z,L)=>{O[z]=I[L]}),O});return Papa.unparse(P,{columns:_,delimiter:"	"})}function downloadCSV(_,R){const P=new Blob([_],{type:"text/csv;charset=utf-8;"}),I=URL.createObjectURL(P),O=document.createElement("a");O.href=I,O.download=R,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(I)}function readFileAsText(_){return new Promise((R,P)=>{const I=new FileReader;I.onload=()=>R(I.result),I.onerror=()=>P(I.error),I.readAsText(_)})}class OffscreenRenderer{renderer=null;canvas=null;config;isOffscreen=!1;constructor(R){this.config=R}async init(R,P){if(this.renderer)throw new Error("Renderer already initialized");typeof OffscreenCanvas<"u"?(this.canvas=new OffscreenCanvas(this.config.width,this.config.height),this.isOffscreen=!0):(this.canvas=document.createElement("canvas"),this.canvas.width=this.config.width,this.canvas.height=this.config.height,this.canvas.style.display="none",document.body.appendChild(this.canvas),this.isOffscreen=!1),this.renderer=new SimulationRenderer({width:this.config.width,height:this.config.height,isDark:this.config.isDark}),await this.renderer.init(this.canvas),this.renderer.setModel(R),this.renderer.setParams(P)}render(R){if(!this.renderer)throw new Error("Renderer not initialized. Call init() first.");this.renderer.render(R)}setRenderOptions(R){if(!this.renderer)throw new Error("Renderer not initialized. Call init() first.");this.renderer.setRenderOptions(R)}async getScreenshot(){if(!this.canvas)throw new Error("Canvas not initialized");return this.isOffscreen?this.canvas.convertToBlob({type:"image/png"}):new Promise((R,P)=>{this.canvas.toBlob(O=>{O?R(O):P(new Error("Failed to create blob from canvas"))},"image/png")})}getCanvas(){if(!this.canvas)throw new Error("Canvas not initialized");return this.canvas}destroy(){if(this.renderer&&(this.renderer.destroy(),this.renderer=null),this.canvas&&!this.isOffscreen){const R=this.canvas;R.parentNode&&R.parentNode.removeChild(R)}this.canvas=null}}function commonjsRequire(_){throw new Error('Could not dynamically require "'+_+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}};var hasRequiredJszip_min;function requireJszip_min(){return hasRequiredJszip_min||(hasRequiredJszip_min=1,(function(_,R){(function(P){_.exports=P()})(function(){return(function P(I,O,z){function L(V,q){if(!O[V]){if(!I[V]){var W=typeof commonjsRequire=="function"&&commonjsRequire;if(!q&&W)return W(V,!0);if(F)return F(V,!0);var Y=new Error("Cannot find module '"+V+"'");throw Y.code="MODULE_NOT_FOUND",Y}var Q=O[V]={exports:{}};I[V][0].call(Q.exports,function(ee){var te=I[V][1][ee];return L(te||ee)},Q,Q.exports,P,I,O,z)}return O[V].exports}for(var F=typeof commonjsRequire=="function"&&commonjsRequire,U=0;U<z.length;U++)L(z[U]);return L})({1:[function(P,I,O){var z=P("./utils"),L=P("./support"),F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";O.encode=function(U){for(var V,q,W,Y,Q,ee,te,ie=[],ae=0,se=U.length,le=se,ce=z.getTypeOf(U)!=="string";ae<U.length;)le=se-ae,W=ce?(V=U[ae++],q=ae<se?U[ae++]:0,ae<se?U[ae++]:0):(V=U.charCodeAt(ae++),q=ae<se?U.charCodeAt(ae++):0,ae<se?U.charCodeAt(ae++):0),Y=V>>2,Q=(3&V)<<4|q>>4,ee=1<le?(15&q)<<2|W>>6:64,te=2<le?63&W:64,ie.push(F.charAt(Y)+F.charAt(Q)+F.charAt(ee)+F.charAt(te));return ie.join("")},O.decode=function(U){var V,q,W,Y,Q,ee,te=0,ie=0,ae="data:";if(U.substr(0,ae.length)===ae)throw new Error("Invalid base64 input, it looks like a data url.");var se,le=3*(U=U.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(U.charAt(U.length-1)===F.charAt(64)&&le--,U.charAt(U.length-2)===F.charAt(64)&&le--,le%1!=0)throw new Error("Invalid base64 input, bad content length.");for(se=L.uint8array?new Uint8Array(0|le):new Array(0|le);te<U.length;)V=F.indexOf(U.charAt(te++))<<2|(Y=F.indexOf(U.charAt(te++)))>>4,q=(15&Y)<<4|(Q=F.indexOf(U.charAt(te++)))>>2,W=(3&Q)<<6|(ee=F.indexOf(U.charAt(te++))),se[ie++]=V,Q!==64&&(se[ie++]=q),ee!==64&&(se[ie++]=W);return se}},{"./support":30,"./utils":32}],2:[function(P,I,O){var z=P("./external"),L=P("./stream/DataWorker"),F=P("./stream/Crc32Probe"),U=P("./stream/DataLengthProbe");function V(q,W,Y,Q,ee){this.compressedSize=q,this.uncompressedSize=W,this.crc32=Y,this.compression=Q,this.compressedContent=ee}V.prototype={getContentWorker:function(){var q=new L(z.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new U("data_length")),W=this;return q.on("end",function(){if(this.streamInfo.data_length!==W.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),q},getCompressedWorker:function(){return new L(z.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},V.createWorkerFrom=function(q,W,Y){return q.pipe(new F).pipe(new U("uncompressedSize")).pipe(W.compressWorker(Y)).pipe(new U("compressedSize")).withStreamInfo("compression",W)},I.exports=V},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(P,I,O){var z=P("./stream/GenericWorker");O.STORE={magic:"\0\0",compressWorker:function(){return new z("STORE compression")},uncompressWorker:function(){return new z("STORE decompression")}},O.DEFLATE=P("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(P,I,O){var z=P("./utils"),L=(function(){for(var F,U=[],V=0;V<256;V++){F=V;for(var q=0;q<8;q++)F=1&F?3988292384^F>>>1:F>>>1;U[V]=F}return U})();I.exports=function(F,U){return F!==void 0&&F.length?z.getTypeOf(F)!=="string"?(function(V,q,W,Y){var Q=L,ee=Y+W;V^=-1;for(var te=Y;te<ee;te++)V=V>>>8^Q[255&(V^q[te])];return-1^V})(0|U,F,F.length,0):(function(V,q,W,Y){var Q=L,ee=Y+W;V^=-1;for(var te=Y;te<ee;te++)V=V>>>8^Q[255&(V^q.charCodeAt(te))];return-1^V})(0|U,F,F.length,0):0}},{"./utils":32}],5:[function(P,I,O){O.base64=!1,O.binary=!1,O.dir=!1,O.createFolders=!0,O.date=null,O.compression=null,O.compressionOptions=null,O.comment=null,O.unixPermissions=null,O.dosPermissions=null},{}],6:[function(P,I,O){var z=null;z=typeof Promise<"u"?Promise:P("lie"),I.exports={Promise:z}},{lie:37}],7:[function(P,I,O){var z=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",L=P("pako"),F=P("./utils"),U=P("./stream/GenericWorker"),V=z?"uint8array":"array";function q(W,Y){U.call(this,"FlateWorker/"+W),this._pako=null,this._pakoAction=W,this._pakoOptions=Y,this.meta={}}O.magic="\b\0",F.inherits(q,U),q.prototype.processChunk=function(W){this.meta=W.meta,this._pako===null&&this._createPako(),this._pako.push(F.transformTo(V,W.data),!1)},q.prototype.flush=function(){U.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},q.prototype.cleanUp=function(){U.prototype.cleanUp.call(this),this._pako=null},q.prototype._createPako=function(){this._pako=new L[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var W=this;this._pako.onData=function(Y){W.push({data:Y,meta:W.meta})}},O.compressWorker=function(W){return new q("Deflate",W)},O.uncompressWorker=function(){return new q("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(P,I,O){function z(Q,ee){var te,ie="";for(te=0;te<ee;te++)ie+=String.fromCharCode(255&Q),Q>>>=8;return ie}function L(Q,ee,te,ie,ae,se){var le,ce,fe=Q.file,de=Q.compression,he=se!==V.utf8encode,pe=F.transformTo("string",se(fe.name)),ge=F.transformTo("string",V.utf8encode(fe.name)),be=fe.comment,xe=F.transformTo("string",se(be)),_e=F.transformTo("string",V.utf8encode(be)),Se=ge.length!==fe.name.length,me=_e.length!==be.length,Ce="",Te="",Re="",Pe=fe.dir,Me=fe.date,Ae={crc32:0,compressedSize:0,uncompressedSize:0};ee&&!te||(Ae.crc32=Q.crc32,Ae.compressedSize=Q.compressedSize,Ae.uncompressedSize=Q.uncompressedSize);var we=0;ee&&(we|=8),he||!Se&&!me||(we|=2048);var ke=0,Ee=0;Pe&&(ke|=16),ae==="UNIX"?(Ee=798,ke|=(function(je,Ke){var He=je;return je||(He=Ke?16893:33204),(65535&He)<<16})(fe.unixPermissions,Pe)):(Ee=20,ke|=(function(je){return 63&(je||0)})(fe.dosPermissions)),le=Me.getUTCHours(),le<<=6,le|=Me.getUTCMinutes(),le<<=5,le|=Me.getUTCSeconds()/2,ce=Me.getUTCFullYear()-1980,ce<<=4,ce|=Me.getUTCMonth()+1,ce<<=5,ce|=Me.getUTCDate(),Se&&(Te=z(1,1)+z(q(pe),4)+ge,Ce+="up"+z(Te.length,2)+Te),me&&(Re=z(1,1)+z(q(xe),4)+_e,Ce+="uc"+z(Re.length,2)+Re);var ze="";return ze+=`
\0`,ze+=z(we,2),ze+=de.magic,ze+=z(le,2),ze+=z(ce,2),ze+=z(Ae.crc32,4),ze+=z(Ae.compressedSize,4),ze+=z(Ae.uncompressedSize,4),ze+=z(pe.length,2),ze+=z(Ce.length,2),{fileRecord:W.LOCAL_FILE_HEADER+ze+pe+Ce,dirRecord:W.CENTRAL_FILE_HEADER+z(Ee,2)+ze+z(xe.length,2)+"\0\0\0\0"+z(ke,4)+z(ie,4)+pe+Ce+xe}}var F=P("../utils"),U=P("../stream/GenericWorker"),V=P("../utf8"),q=P("../crc32"),W=P("../signature");function Y(Q,ee,te,ie){U.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=ee,this.zipPlatform=te,this.encodeFileName=ie,this.streamFiles=Q,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}F.inherits(Y,U),Y.prototype.push=function(Q){var ee=Q.meta.percent||0,te=this.entriesCount,ie=this._sources.length;this.accumulate?this.contentBuffer.push(Q):(this.bytesWritten+=Q.data.length,U.prototype.push.call(this,{data:Q.data,meta:{currentFile:this.currentFile,percent:te?(ee+100*(te-ie-1))/te:100}}))},Y.prototype.openedSource=function(Q){this.currentSourceOffset=this.bytesWritten,this.currentFile=Q.file.name;var ee=this.streamFiles&&!Q.file.dir;if(ee){var te=L(Q,ee,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:te.fileRecord,meta:{percent:0}})}else this.accumulate=!0},Y.prototype.closedSource=function(Q){this.accumulate=!1;var ee=this.streamFiles&&!Q.file.dir,te=L(Q,ee,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(te.dirRecord),ee)this.push({data:(function(ie){return W.DATA_DESCRIPTOR+z(ie.crc32,4)+z(ie.compressedSize,4)+z(ie.uncompressedSize,4)})(Q),meta:{percent:100}});else for(this.push({data:te.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},Y.prototype.flush=function(){for(var Q=this.bytesWritten,ee=0;ee<this.dirRecords.length;ee++)this.push({data:this.dirRecords[ee],meta:{percent:100}});var te=this.bytesWritten-Q,ie=(function(ae,se,le,ce,fe){var de=F.transformTo("string",fe(ce));return W.CENTRAL_DIRECTORY_END+"\0\0\0\0"+z(ae,2)+z(ae,2)+z(se,4)+z(le,4)+z(de.length,2)+de})(this.dirRecords.length,te,Q,this.zipComment,this.encodeFileName);this.push({data:ie,meta:{percent:100}})},Y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},Y.prototype.registerPrevious=function(Q){this._sources.push(Q);var ee=this;return Q.on("data",function(te){ee.processChunk(te)}),Q.on("end",function(){ee.closedSource(ee.previous.streamInfo),ee._sources.length?ee.prepareNextSource():ee.end()}),Q.on("error",function(te){ee.error(te)}),this},Y.prototype.resume=function(){return!!U.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},Y.prototype.error=function(Q){var ee=this._sources;if(!U.prototype.error.call(this,Q))return!1;for(var te=0;te<ee.length;te++)try{ee[te].error(Q)}catch{}return!0},Y.prototype.lock=function(){U.prototype.lock.call(this);for(var Q=this._sources,ee=0;ee<Q.length;ee++)Q[ee].lock()},I.exports=Y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(P,I,O){var z=P("../compressions"),L=P("./ZipFileWorker");O.generateWorker=function(F,U,V){var q=new L(U.streamFiles,V,U.platform,U.encodeFileName),W=0;try{F.forEach(function(Y,Q){W++;var ee=(function(se,le){var ce=se||le,fe=z[ce];if(!fe)throw new Error(ce+" is not a valid compression method !");return fe})(Q.options.compression,U.compression),te=Q.options.compressionOptions||U.compressionOptions||{},ie=Q.dir,ae=Q.date;Q._compressWorker(ee,te).withStreamInfo("file",{name:Y,dir:ie,date:ae,comment:Q.comment||"",unixPermissions:Q.unixPermissions,dosPermissions:Q.dosPermissions}).pipe(q)}),q.entriesCount=W}catch(Y){q.error(Y)}return q}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(P,I,O){function z(){if(!(this instanceof z))return new z;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var L=new z;for(var F in this)typeof this[F]!="function"&&(L[F]=this[F]);return L}}(z.prototype=P("./object")).loadAsync=P("./load"),z.support=P("./support"),z.defaults=P("./defaults"),z.version="3.10.1",z.loadAsync=function(L,F){return new z().loadAsync(L,F)},z.external=P("./external"),I.exports=z},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(P,I,O){var z=P("./utils"),L=P("./external"),F=P("./utf8"),U=P("./zipEntries"),V=P("./stream/Crc32Probe"),q=P("./nodejsUtils");function W(Y){return new L.Promise(function(Q,ee){var te=Y.decompressed.getContentWorker().pipe(new V);te.on("error",function(ie){ee(ie)}).on("end",function(){te.streamInfo.crc32!==Y.decompressed.crc32?ee(new Error("Corrupted zip : CRC32 mismatch")):Q()}).resume()})}I.exports=function(Y,Q){var ee=this;return Q=z.extend(Q||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:F.utf8decode}),q.isNode&&q.isStream(Y)?L.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):z.prepareContent("the loaded zip file",Y,!0,Q.optimizedBinaryString,Q.base64).then(function(te){var ie=new U(Q);return ie.load(te),ie}).then(function(te){var ie=[L.Promise.resolve(te)],ae=te.files;if(Q.checkCRC32)for(var se=0;se<ae.length;se++)ie.push(W(ae[se]));return L.Promise.all(ie)}).then(function(te){for(var ie=te.shift(),ae=ie.files,se=0;se<ae.length;se++){var le=ae[se],ce=le.fileNameStr,fe=z.resolve(le.fileNameStr);ee.file(fe,le.decompressed,{binary:!0,optimizedBinaryString:!0,date:le.date,dir:le.dir,comment:le.fileCommentStr.length?le.fileCommentStr:null,unixPermissions:le.unixPermissions,dosPermissions:le.dosPermissions,createFolders:Q.createFolders}),le.dir||(ee.file(fe).unsafeOriginalName=ce)}return ie.zipComment.length&&(ee.comment=ie.zipComment),ee})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(P,I,O){var z=P("../utils"),L=P("../stream/GenericWorker");function F(U,V){L.call(this,"Nodejs stream input adapter for "+U),this._upstreamEnded=!1,this._bindStream(V)}z.inherits(F,L),F.prototype._bindStream=function(U){var V=this;(this._stream=U).pause(),U.on("data",function(q){V.push({data:q,meta:{percent:0}})}).on("error",function(q){V.isPaused?this.generatedError=q:V.error(q)}).on("end",function(){V.isPaused?V._upstreamEnded=!0:V.end()})},F.prototype.pause=function(){return!!L.prototype.pause.call(this)&&(this._stream.pause(),!0)},F.prototype.resume=function(){return!!L.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},I.exports=F},{"../stream/GenericWorker":28,"../utils":32}],13:[function(P,I,O){var z=P("readable-stream").Readable;function L(F,U,V){z.call(this,U),this._helper=F;var q=this;F.on("data",function(W,Y){q.push(W)||q._helper.pause(),V&&V(Y)}).on("error",function(W){q.emit("error",W)}).on("end",function(){q.push(null)})}P("../utils").inherits(L,z),L.prototype._read=function(){this._helper.resume()},I.exports=L},{"../utils":32,"readable-stream":16}],14:[function(P,I,O){I.exports={isNode:typeof Buffer<"u",newBufferFrom:function(z,L){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(z,L);if(typeof z=="number")throw new Error('The "data" argument must not be a number');return new Buffer(z,L)},allocBuffer:function(z){if(Buffer.alloc)return Buffer.alloc(z);var L=new Buffer(z);return L.fill(0),L},isBuffer:function(z){return Buffer.isBuffer(z)},isStream:function(z){return z&&typeof z.on=="function"&&typeof z.pause=="function"&&typeof z.resume=="function"}}},{}],15:[function(P,I,O){function z(fe,de,he){var pe,ge=F.getTypeOf(de),be=F.extend(he||{},q);be.date=be.date||new Date,be.compression!==null&&(be.compression=be.compression.toUpperCase()),typeof be.unixPermissions=="string"&&(be.unixPermissions=parseInt(be.unixPermissions,8)),be.unixPermissions&&16384&be.unixPermissions&&(be.dir=!0),be.dosPermissions&&16&be.dosPermissions&&(be.dir=!0),be.dir&&(fe=ae(fe)),be.createFolders&&(pe=ie(fe))&&se.call(this,pe,!0);var xe=ge==="string"&&be.binary===!1&&be.base64===!1;he&&he.binary!==void 0||(be.binary=!xe),(de instanceof W&&de.uncompressedSize===0||be.dir||!de||de.length===0)&&(be.base64=!1,be.binary=!0,de="",be.compression="STORE",ge="string");var _e=null;_e=de instanceof W||de instanceof U?de:ee.isNode&&ee.isStream(de)?new te(fe,de):F.prepareContent(fe,de,be.binary,be.optimizedBinaryString,be.base64);var Se=new Y(fe,_e,be);this.files[fe]=Se}var L=P("./utf8"),F=P("./utils"),U=P("./stream/GenericWorker"),V=P("./stream/StreamHelper"),q=P("./defaults"),W=P("./compressedObject"),Y=P("./zipObject"),Q=P("./generate"),ee=P("./nodejsUtils"),te=P("./nodejs/NodejsStreamInputAdapter"),ie=function(fe){fe.slice(-1)==="/"&&(fe=fe.substring(0,fe.length-1));var de=fe.lastIndexOf("/");return 0<de?fe.substring(0,de):""},ae=function(fe){return fe.slice(-1)!=="/"&&(fe+="/"),fe},se=function(fe,de){return de=de!==void 0?de:q.createFolders,fe=ae(fe),this.files[fe]||z.call(this,fe,null,{dir:!0,createFolders:de}),this.files[fe]};function le(fe){return Object.prototype.toString.call(fe)==="[object RegExp]"}var ce={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(fe){var de,he,pe;for(de in this.files)pe=this.files[de],(he=de.slice(this.root.length,de.length))&&de.slice(0,this.root.length)===this.root&&fe(he,pe)},filter:function(fe){var de=[];return this.forEach(function(he,pe){fe(he,pe)&&de.push(pe)}),de},file:function(fe,de,he){if(arguments.length!==1)return fe=this.root+fe,z.call(this,fe,de,he),this;if(le(fe)){var pe=fe;return this.filter(function(be,xe){return!xe.dir&&pe.test(be)})}var ge=this.files[this.root+fe];return ge&&!ge.dir?ge:null},folder:function(fe){if(!fe)return this;if(le(fe))return this.filter(function(ge,be){return be.dir&&fe.test(ge)});var de=this.root+fe,he=se.call(this,de),pe=this.clone();return pe.root=he.name,pe},remove:function(fe){fe=this.root+fe;var de=this.files[fe];if(de||(fe.slice(-1)!=="/"&&(fe+="/"),de=this.files[fe]),de&&!de.dir)delete this.files[fe];else for(var he=this.filter(function(ge,be){return be.name.slice(0,fe.length)===fe}),pe=0;pe<he.length;pe++)delete this.files[he[pe].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(fe){var de,he={};try{if((he=F.extend(fe||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:L.utf8encode})).type=he.type.toLowerCase(),he.compression=he.compression.toUpperCase(),he.type==="binarystring"&&(he.type="string"),!he.type)throw new Error("No output type specified.");F.checkSupport(he.type),he.platform!=="darwin"&&he.platform!=="freebsd"&&he.platform!=="linux"&&he.platform!=="sunos"||(he.platform="UNIX"),he.platform==="win32"&&(he.platform="DOS");var pe=he.comment||this.comment||"";de=Q.generateWorker(this,he,pe)}catch(ge){(de=new U("error")).error(ge)}return new V(de,he.type||"string",he.mimeType)},generateAsync:function(fe,de){return this.generateInternalStream(fe).accumulate(de)},generateNodeStream:function(fe,de){return(fe=fe||{}).type||(fe.type="nodebuffer"),this.generateInternalStream(fe).toNodejsStream(de)}};I.exports=ce},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(P,I,O){I.exports=P("stream")},{stream:void 0}],17:[function(P,I,O){var z=P("./DataReader");function L(F){z.call(this,F);for(var U=0;U<this.data.length;U++)F[U]=255&F[U]}P("../utils").inherits(L,z),L.prototype.byteAt=function(F){return this.data[this.zero+F]},L.prototype.lastIndexOfSignature=function(F){for(var U=F.charCodeAt(0),V=F.charCodeAt(1),q=F.charCodeAt(2),W=F.charCodeAt(3),Y=this.length-4;0<=Y;--Y)if(this.data[Y]===U&&this.data[Y+1]===V&&this.data[Y+2]===q&&this.data[Y+3]===W)return Y-this.zero;return-1},L.prototype.readAndCheckSignature=function(F){var U=F.charCodeAt(0),V=F.charCodeAt(1),q=F.charCodeAt(2),W=F.charCodeAt(3),Y=this.readData(4);return U===Y[0]&&V===Y[1]&&q===Y[2]&&W===Y[3]},L.prototype.readData=function(F){if(this.checkOffset(F),F===0)return[];var U=this.data.slice(this.zero+this.index,this.zero+this.index+F);return this.index+=F,U},I.exports=L},{"../utils":32,"./DataReader":18}],18:[function(P,I,O){var z=P("../utils");function L(F){this.data=F,this.length=F.length,this.index=0,this.zero=0}L.prototype={checkOffset:function(F){this.checkIndex(this.index+F)},checkIndex:function(F){if(this.length<this.zero+F||F<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+F+"). Corrupted zip ?")},setIndex:function(F){this.checkIndex(F),this.index=F},skip:function(F){this.setIndex(this.index+F)},byteAt:function(){},readInt:function(F){var U,V=0;for(this.checkOffset(F),U=this.index+F-1;U>=this.index;U--)V=(V<<8)+this.byteAt(U);return this.index+=F,V},readString:function(F){return z.transformTo("string",this.readData(F))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var F=this.readInt(4);return new Date(Date.UTC(1980+(F>>25&127),(F>>21&15)-1,F>>16&31,F>>11&31,F>>5&63,(31&F)<<1))}},I.exports=L},{"../utils":32}],19:[function(P,I,O){var z=P("./Uint8ArrayReader");function L(F){z.call(this,F)}P("../utils").inherits(L,z),L.prototype.readData=function(F){this.checkOffset(F);var U=this.data.slice(this.zero+this.index,this.zero+this.index+F);return this.index+=F,U},I.exports=L},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(P,I,O){var z=P("./DataReader");function L(F){z.call(this,F)}P("../utils").inherits(L,z),L.prototype.byteAt=function(F){return this.data.charCodeAt(this.zero+F)},L.prototype.lastIndexOfSignature=function(F){return this.data.lastIndexOf(F)-this.zero},L.prototype.readAndCheckSignature=function(F){return F===this.readData(4)},L.prototype.readData=function(F){this.checkOffset(F);var U=this.data.slice(this.zero+this.index,this.zero+this.index+F);return this.index+=F,U},I.exports=L},{"../utils":32,"./DataReader":18}],21:[function(P,I,O){var z=P("./ArrayReader");function L(F){z.call(this,F)}P("../utils").inherits(L,z),L.prototype.readData=function(F){if(this.checkOffset(F),F===0)return new Uint8Array(0);var U=this.data.subarray(this.zero+this.index,this.zero+this.index+F);return this.index+=F,U},I.exports=L},{"../utils":32,"./ArrayReader":17}],22:[function(P,I,O){var z=P("../utils"),L=P("../support"),F=P("./ArrayReader"),U=P("./StringReader"),V=P("./NodeBufferReader"),q=P("./Uint8ArrayReader");I.exports=function(W){var Y=z.getTypeOf(W);return z.checkSupport(Y),Y!=="string"||L.uint8array?Y==="nodebuffer"?new V(W):L.uint8array?new q(z.transformTo("uint8array",W)):new F(z.transformTo("array",W)):new U(W)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(P,I,O){O.LOCAL_FILE_HEADER="PK",O.CENTRAL_FILE_HEADER="PK",O.CENTRAL_DIRECTORY_END="PK",O.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",O.ZIP64_CENTRAL_DIRECTORY_END="PK",O.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(P,I,O){var z=P("./GenericWorker"),L=P("../utils");function F(U){z.call(this,"ConvertWorker to "+U),this.destType=U}L.inherits(F,z),F.prototype.processChunk=function(U){this.push({data:L.transformTo(this.destType,U.data),meta:U.meta})},I.exports=F},{"../utils":32,"./GenericWorker":28}],25:[function(P,I,O){var z=P("./GenericWorker"),L=P("../crc32");function F(){z.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}P("../utils").inherits(F,z),F.prototype.processChunk=function(U){this.streamInfo.crc32=L(U.data,this.streamInfo.crc32||0),this.push(U)},I.exports=F},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(P,I,O){var z=P("../utils"),L=P("./GenericWorker");function F(U){L.call(this,"DataLengthProbe for "+U),this.propName=U,this.withStreamInfo(U,0)}z.inherits(F,L),F.prototype.processChunk=function(U){if(U){var V=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=V+U.data.length}L.prototype.processChunk.call(this,U)},I.exports=F},{"../utils":32,"./GenericWorker":28}],27:[function(P,I,O){var z=P("../utils"),L=P("./GenericWorker");function F(U){L.call(this,"DataWorker");var V=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,U.then(function(q){V.dataIsReady=!0,V.data=q,V.max=q&&q.length||0,V.type=z.getTypeOf(q),V.isPaused||V._tickAndRepeat()},function(q){V.error(q)})}z.inherits(F,L),F.prototype.cleanUp=function(){L.prototype.cleanUp.call(this),this.data=null},F.prototype.resume=function(){return!!L.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,z.delay(this._tickAndRepeat,[],this)),!0)},F.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(z.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},F.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var U=null,V=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":U=this.data.substring(this.index,V);break;case"uint8array":U=this.data.subarray(this.index,V);break;case"array":case"nodebuffer":U=this.data.slice(this.index,V)}return this.index=V,this.push({data:U,meta:{percent:this.max?this.index/this.max*100:0}})},I.exports=F},{"../utils":32,"./GenericWorker":28}],28:[function(P,I,O){function z(L){this.name=L||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}z.prototype={push:function(L){this.emit("data",L)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(L){this.emit("error",L)}return!0},error:function(L){return!this.isFinished&&(this.isPaused?this.generatedError=L:(this.isFinished=!0,this.emit("error",L),this.previous&&this.previous.error(L),this.cleanUp()),!0)},on:function(L,F){return this._listeners[L].push(F),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(L,F){if(this._listeners[L])for(var U=0;U<this._listeners[L].length;U++)this._listeners[L][U].call(this,F)},pipe:function(L){return L.registerPrevious(this)},registerPrevious:function(L){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=L.streamInfo,this.mergeStreamInfo(),this.previous=L;var F=this;return L.on("data",function(U){F.processChunk(U)}),L.on("end",function(){F.end()}),L.on("error",function(U){F.error(U)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var L=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),L=!0),this.previous&&this.previous.resume(),!L},flush:function(){},processChunk:function(L){this.push(L)},withStreamInfo:function(L,F){return this.extraStreamInfo[L]=F,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var L in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,L)&&(this.streamInfo[L]=this.extraStreamInfo[L])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var L="Worker "+this.name;return this.previous?this.previous+" -> "+L:L}},I.exports=z},{}],29:[function(P,I,O){var z=P("../utils"),L=P("./ConvertWorker"),F=P("./GenericWorker"),U=P("../base64"),V=P("../support"),q=P("../external"),W=null;if(V.nodestream)try{W=P("../nodejs/NodejsStreamOutputAdapter")}catch{}function Y(ee,te){return new q.Promise(function(ie,ae){var se=[],le=ee._internalType,ce=ee._outputType,fe=ee._mimeType;ee.on("data",function(de,he){se.push(de),te&&te(he)}).on("error",function(de){se=[],ae(de)}).on("end",function(){try{var de=(function(he,pe,ge){switch(he){case"blob":return z.newBlob(z.transformTo("arraybuffer",pe),ge);case"base64":return U.encode(pe);default:return z.transformTo(he,pe)}})(ce,(function(he,pe){var ge,be=0,xe=null,_e=0;for(ge=0;ge<pe.length;ge++)_e+=pe[ge].length;switch(he){case"string":return pe.join("");case"array":return Array.prototype.concat.apply([],pe);case"uint8array":for(xe=new Uint8Array(_e),ge=0;ge<pe.length;ge++)xe.set(pe[ge],be),be+=pe[ge].length;return xe;case"nodebuffer":return Buffer.concat(pe);default:throw new Error("concat : unsupported type '"+he+"'")}})(le,se),fe);ie(de)}catch(he){ae(he)}se=[]}).resume()})}function Q(ee,te,ie){var ae=te;switch(te){case"blob":case"arraybuffer":ae="uint8array";break;case"base64":ae="string"}try{this._internalType=ae,this._outputType=te,this._mimeType=ie,z.checkSupport(ae),this._worker=ee.pipe(new L(ae)),ee.lock()}catch(se){this._worker=new F("error"),this._worker.error(se)}}Q.prototype={accumulate:function(ee){return Y(this,ee)},on:function(ee,te){var ie=this;return ee==="data"?this._worker.on(ee,function(ae){te.call(ie,ae.data,ae.meta)}):this._worker.on(ee,function(){z.delay(te,arguments,ie)}),this},resume:function(){return z.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(ee){if(z.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new W(this,{objectMode:this._outputType!=="nodebuffer"},ee)}},I.exports=Q},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(P,I,O){if(O.base64=!0,O.array=!0,O.string=!0,O.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",O.nodebuffer=typeof Buffer<"u",O.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")O.blob=!1;else{var z=new ArrayBuffer(0);try{O.blob=new Blob([z],{type:"application/zip"}).size===0}catch{try{var L=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);L.append(z),O.blob=L.getBlob("application/zip").size===0}catch{O.blob=!1}}}try{O.nodestream=!!P("readable-stream").Readable}catch{O.nodestream=!1}},{"readable-stream":16}],31:[function(P,I,O){for(var z=P("./utils"),L=P("./support"),F=P("./nodejsUtils"),U=P("./stream/GenericWorker"),V=new Array(256),q=0;q<256;q++)V[q]=252<=q?6:248<=q?5:240<=q?4:224<=q?3:192<=q?2:1;V[254]=V[254]=1;function W(){U.call(this,"utf-8 decode"),this.leftOver=null}function Y(){U.call(this,"utf-8 encode")}O.utf8encode=function(Q){return L.nodebuffer?F.newBufferFrom(Q,"utf-8"):(function(ee){var te,ie,ae,se,le,ce=ee.length,fe=0;for(se=0;se<ce;se++)(64512&(ie=ee.charCodeAt(se)))==55296&&se+1<ce&&(64512&(ae=ee.charCodeAt(se+1)))==56320&&(ie=65536+(ie-55296<<10)+(ae-56320),se++),fe+=ie<128?1:ie<2048?2:ie<65536?3:4;for(te=L.uint8array?new Uint8Array(fe):new Array(fe),se=le=0;le<fe;se++)(64512&(ie=ee.charCodeAt(se)))==55296&&se+1<ce&&(64512&(ae=ee.charCodeAt(se+1)))==56320&&(ie=65536+(ie-55296<<10)+(ae-56320),se++),ie<128?te[le++]=ie:(ie<2048?te[le++]=192|ie>>>6:(ie<65536?te[le++]=224|ie>>>12:(te[le++]=240|ie>>>18,te[le++]=128|ie>>>12&63),te[le++]=128|ie>>>6&63),te[le++]=128|63&ie);return te})(Q)},O.utf8decode=function(Q){return L.nodebuffer?z.transformTo("nodebuffer",Q).toString("utf-8"):(function(ee){var te,ie,ae,se,le=ee.length,ce=new Array(2*le);for(te=ie=0;te<le;)if((ae=ee[te++])<128)ce[ie++]=ae;else if(4<(se=V[ae]))ce[ie++]=65533,te+=se-1;else{for(ae&=se===2?31:se===3?15:7;1<se&&te<le;)ae=ae<<6|63&ee[te++],se--;1<se?ce[ie++]=65533:ae<65536?ce[ie++]=ae:(ae-=65536,ce[ie++]=55296|ae>>10&1023,ce[ie++]=56320|1023&ae)}return ce.length!==ie&&(ce.subarray?ce=ce.subarray(0,ie):ce.length=ie),z.applyFromCharCode(ce)})(Q=z.transformTo(L.uint8array?"uint8array":"array",Q))},z.inherits(W,U),W.prototype.processChunk=function(Q){var ee=z.transformTo(L.uint8array?"uint8array":"array",Q.data);if(this.leftOver&&this.leftOver.length){if(L.uint8array){var te=ee;(ee=new Uint8Array(te.length+this.leftOver.length)).set(this.leftOver,0),ee.set(te,this.leftOver.length)}else ee=this.leftOver.concat(ee);this.leftOver=null}var ie=(function(se,le){var ce;for((le=le||se.length)>se.length&&(le=se.length),ce=le-1;0<=ce&&(192&se[ce])==128;)ce--;return ce<0||ce===0?le:ce+V[se[ce]]>le?ce:le})(ee),ae=ee;ie!==ee.length&&(L.uint8array?(ae=ee.subarray(0,ie),this.leftOver=ee.subarray(ie,ee.length)):(ae=ee.slice(0,ie),this.leftOver=ee.slice(ie,ee.length))),this.push({data:O.utf8decode(ae),meta:Q.meta})},W.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:O.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},O.Utf8DecodeWorker=W,z.inherits(Y,U),Y.prototype.processChunk=function(Q){this.push({data:O.utf8encode(Q.data),meta:Q.meta})},O.Utf8EncodeWorker=Y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(P,I,O){var z=P("./support"),L=P("./base64"),F=P("./nodejsUtils"),U=P("./external");function V(te){return te}function q(te,ie){for(var ae=0;ae<te.length;++ae)ie[ae]=255&te.charCodeAt(ae);return ie}P("setimmediate"),O.newBlob=function(te,ie){O.checkSupport("blob");try{return new Blob([te],{type:ie})}catch{try{var ae=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return ae.append(te),ae.getBlob(ie)}catch{throw new Error("Bug : can't construct the Blob.")}}};var W={stringifyByChunk:function(te,ie,ae){var se=[],le=0,ce=te.length;if(ce<=ae)return String.fromCharCode.apply(null,te);for(;le<ce;)ie==="array"||ie==="nodebuffer"?se.push(String.fromCharCode.apply(null,te.slice(le,Math.min(le+ae,ce)))):se.push(String.fromCharCode.apply(null,te.subarray(le,Math.min(le+ae,ce)))),le+=ae;return se.join("")},stringifyByChar:function(te){for(var ie="",ae=0;ae<te.length;ae++)ie+=String.fromCharCode(te[ae]);return ie},applyCanBeUsed:{uint8array:(function(){try{return z.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return z.nodebuffer&&String.fromCharCode.apply(null,F.allocBuffer(1)).length===1}catch{return!1}})()}};function Y(te){var ie=65536,ae=O.getTypeOf(te),se=!0;if(ae==="uint8array"?se=W.applyCanBeUsed.uint8array:ae==="nodebuffer"&&(se=W.applyCanBeUsed.nodebuffer),se)for(;1<ie;)try{return W.stringifyByChunk(te,ae,ie)}catch{ie=Math.floor(ie/2)}return W.stringifyByChar(te)}function Q(te,ie){for(var ae=0;ae<te.length;ae++)ie[ae]=te[ae];return ie}O.applyFromCharCode=Y;var ee={};ee.string={string:V,array:function(te){return q(te,new Array(te.length))},arraybuffer:function(te){return ee.string.uint8array(te).buffer},uint8array:function(te){return q(te,new Uint8Array(te.length))},nodebuffer:function(te){return q(te,F.allocBuffer(te.length))}},ee.array={string:Y,array:V,arraybuffer:function(te){return new Uint8Array(te).buffer},uint8array:function(te){return new Uint8Array(te)},nodebuffer:function(te){return F.newBufferFrom(te)}},ee.arraybuffer={string:function(te){return Y(new Uint8Array(te))},array:function(te){return Q(new Uint8Array(te),new Array(te.byteLength))},arraybuffer:V,uint8array:function(te){return new Uint8Array(te)},nodebuffer:function(te){return F.newBufferFrom(new Uint8Array(te))}},ee.uint8array={string:Y,array:function(te){return Q(te,new Array(te.length))},arraybuffer:function(te){return te.buffer},uint8array:V,nodebuffer:function(te){return F.newBufferFrom(te)}},ee.nodebuffer={string:Y,array:function(te){return Q(te,new Array(te.length))},arraybuffer:function(te){return ee.nodebuffer.uint8array(te).buffer},uint8array:function(te){return Q(te,new Uint8Array(te.length))},nodebuffer:V},O.transformTo=function(te,ie){if(ie=ie||"",!te)return ie;O.checkSupport(te);var ae=O.getTypeOf(ie);return ee[ae][te](ie)},O.resolve=function(te){for(var ie=te.split("/"),ae=[],se=0;se<ie.length;se++){var le=ie[se];le==="."||le===""&&se!==0&&se!==ie.length-1||(le===".."?ae.pop():ae.push(le))}return ae.join("/")},O.getTypeOf=function(te){return typeof te=="string"?"string":Object.prototype.toString.call(te)==="[object Array]"?"array":z.nodebuffer&&F.isBuffer(te)?"nodebuffer":z.uint8array&&te instanceof Uint8Array?"uint8array":z.arraybuffer&&te instanceof ArrayBuffer?"arraybuffer":void 0},O.checkSupport=function(te){if(!z[te.toLowerCase()])throw new Error(te+" is not supported by this platform")},O.MAX_VALUE_16BITS=65535,O.MAX_VALUE_32BITS=-1,O.pretty=function(te){var ie,ae,se="";for(ae=0;ae<(te||"").length;ae++)se+="\\x"+((ie=te.charCodeAt(ae))<16?"0":"")+ie.toString(16).toUpperCase();return se},O.delay=function(te,ie,ae){setImmediate(function(){te.apply(ae||null,ie||[])})},O.inherits=function(te,ie){function ae(){}ae.prototype=ie.prototype,te.prototype=new ae},O.extend=function(){var te,ie,ae={};for(te=0;te<arguments.length;te++)for(ie in arguments[te])Object.prototype.hasOwnProperty.call(arguments[te],ie)&&ae[ie]===void 0&&(ae[ie]=arguments[te][ie]);return ae},O.prepareContent=function(te,ie,ae,se,le){return U.Promise.resolve(ie).then(function(ce){return z.blob&&(ce instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(ce))!==-1)&&typeof FileReader<"u"?new U.Promise(function(fe,de){var he=new FileReader;he.onload=function(pe){fe(pe.target.result)},he.onerror=function(pe){de(pe.target.error)},he.readAsArrayBuffer(ce)}):ce}).then(function(ce){var fe=O.getTypeOf(ce);return fe?(fe==="arraybuffer"?ce=O.transformTo("uint8array",ce):fe==="string"&&(le?ce=L.decode(ce):ae&&se!==!0&&(ce=(function(de){return q(de,z.uint8array?new Uint8Array(de.length):new Array(de.length))})(ce))),ce):U.Promise.reject(new Error("Can't read the data of '"+te+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(P,I,O){var z=P("./reader/readerFor"),L=P("./utils"),F=P("./signature"),U=P("./zipEntry"),V=P("./support");function q(W){this.files=[],this.loadOptions=W}q.prototype={checkSignature:function(W){if(!this.reader.readAndCheckSignature(W)){this.reader.index-=4;var Y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+L.pretty(Y)+", expected "+L.pretty(W)+")")}},isSignature:function(W,Y){var Q=this.reader.index;this.reader.setIndex(W);var ee=this.reader.readString(4)===Y;return this.reader.setIndex(Q),ee},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var W=this.reader.readData(this.zipCommentLength),Y=V.uint8array?"uint8array":"array",Q=L.transformTo(Y,W);this.zipComment=this.loadOptions.decodeFileName(Q)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var W,Y,Q,ee=this.zip64EndOfCentralSize-44;0<ee;)W=this.reader.readInt(2),Y=this.reader.readInt(4),Q=this.reader.readData(Y),this.zip64ExtensibleData[W]={id:W,length:Y,value:Q}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var W,Y;for(W=0;W<this.files.length;W++)Y=this.files[W],this.reader.setIndex(Y.localHeaderOffset),this.checkSignature(F.LOCAL_FILE_HEADER),Y.readLocalPart(this.reader),Y.handleUTF8(),Y.processAttributes()},readCentralDir:function(){var W;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(F.CENTRAL_FILE_HEADER);)(W=new U({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(W);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var W=this.reader.lastIndexOfSignature(F.CENTRAL_DIRECTORY_END);if(W<0)throw this.isSignature(0,F.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(W);var Y=W;if(this.checkSignature(F.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===L.MAX_VALUE_16BITS||this.diskWithCentralDirStart===L.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===L.MAX_VALUE_16BITS||this.centralDirRecords===L.MAX_VALUE_16BITS||this.centralDirSize===L.MAX_VALUE_32BITS||this.centralDirOffset===L.MAX_VALUE_32BITS){if(this.zip64=!0,(W=this.reader.lastIndexOfSignature(F.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(W),this.checkSignature(F.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,F.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(F.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(F.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var Q=this.centralDirOffset+this.centralDirSize;this.zip64&&(Q+=20,Q+=12+this.zip64EndOfCentralSize);var ee=Y-Q;if(0<ee)this.isSignature(Y,F.CENTRAL_FILE_HEADER)||(this.reader.zero=ee);else if(ee<0)throw new Error("Corrupted zip: missing "+Math.abs(ee)+" bytes.")},prepareReader:function(W){this.reader=z(W)},load:function(W){this.prepareReader(W),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},I.exports=q},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(P,I,O){var z=P("./reader/readerFor"),L=P("./utils"),F=P("./compressedObject"),U=P("./crc32"),V=P("./utf8"),q=P("./compressions"),W=P("./support");function Y(Q,ee){this.options=Q,this.loadOptions=ee}Y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(Q){var ee,te;if(Q.skip(22),this.fileNameLength=Q.readInt(2),te=Q.readInt(2),this.fileName=Q.readData(this.fileNameLength),Q.skip(te),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((ee=(function(ie){for(var ae in q)if(Object.prototype.hasOwnProperty.call(q,ae)&&q[ae].magic===ie)return q[ae];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+L.pretty(this.compressionMethod)+" unknown (inner file : "+L.transformTo("string",this.fileName)+")");this.decompressed=new F(this.compressedSize,this.uncompressedSize,this.crc32,ee,Q.readData(this.compressedSize))},readCentralPart:function(Q){this.versionMadeBy=Q.readInt(2),Q.skip(2),this.bitFlag=Q.readInt(2),this.compressionMethod=Q.readString(2),this.date=Q.readDate(),this.crc32=Q.readInt(4),this.compressedSize=Q.readInt(4),this.uncompressedSize=Q.readInt(4);var ee=Q.readInt(2);if(this.extraFieldsLength=Q.readInt(2),this.fileCommentLength=Q.readInt(2),this.diskNumberStart=Q.readInt(2),this.internalFileAttributes=Q.readInt(2),this.externalFileAttributes=Q.readInt(4),this.localHeaderOffset=Q.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");Q.skip(ee),this.readExtraFields(Q),this.parseZIP64ExtraField(Q),this.fileComment=Q.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var Q=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),Q==0&&(this.dosPermissions=63&this.externalFileAttributes),Q==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var Q=z(this.extraFields[1].value);this.uncompressedSize===L.MAX_VALUE_32BITS&&(this.uncompressedSize=Q.readInt(8)),this.compressedSize===L.MAX_VALUE_32BITS&&(this.compressedSize=Q.readInt(8)),this.localHeaderOffset===L.MAX_VALUE_32BITS&&(this.localHeaderOffset=Q.readInt(8)),this.diskNumberStart===L.MAX_VALUE_32BITS&&(this.diskNumberStart=Q.readInt(4))}},readExtraFields:function(Q){var ee,te,ie,ae=Q.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});Q.index+4<ae;)ee=Q.readInt(2),te=Q.readInt(2),ie=Q.readData(te),this.extraFields[ee]={id:ee,length:te,value:ie};Q.setIndex(ae)},handleUTF8:function(){var Q=W.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=V.utf8decode(this.fileName),this.fileCommentStr=V.utf8decode(this.fileComment);else{var ee=this.findExtraFieldUnicodePath();if(ee!==null)this.fileNameStr=ee;else{var te=L.transformTo(Q,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(te)}var ie=this.findExtraFieldUnicodeComment();if(ie!==null)this.fileCommentStr=ie;else{var ae=L.transformTo(Q,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(ae)}}},findExtraFieldUnicodePath:function(){var Q=this.extraFields[28789];if(Q){var ee=z(Q.value);return ee.readInt(1)!==1||U(this.fileName)!==ee.readInt(4)?null:V.utf8decode(ee.readData(Q.length-5))}return null},findExtraFieldUnicodeComment:function(){var Q=this.extraFields[25461];if(Q){var ee=z(Q.value);return ee.readInt(1)!==1||U(this.fileComment)!==ee.readInt(4)?null:V.utf8decode(ee.readData(Q.length-5))}return null}},I.exports=Y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(P,I,O){function z(ee,te,ie){this.name=ee,this.dir=ie.dir,this.date=ie.date,this.comment=ie.comment,this.unixPermissions=ie.unixPermissions,this.dosPermissions=ie.dosPermissions,this._data=te,this._dataBinary=ie.binary,this.options={compression:ie.compression,compressionOptions:ie.compressionOptions}}var L=P("./stream/StreamHelper"),F=P("./stream/DataWorker"),U=P("./utf8"),V=P("./compressedObject"),q=P("./stream/GenericWorker");z.prototype={internalStream:function(ee){var te=null,ie="string";try{if(!ee)throw new Error("No output type specified.");var ae=(ie=ee.toLowerCase())==="string"||ie==="text";ie!=="binarystring"&&ie!=="text"||(ie="string"),te=this._decompressWorker();var se=!this._dataBinary;se&&!ae&&(te=te.pipe(new U.Utf8EncodeWorker)),!se&&ae&&(te=te.pipe(new U.Utf8DecodeWorker))}catch(le){(te=new q("error")).error(le)}return new L(te,ie,"")},async:function(ee,te){return this.internalStream(ee).accumulate(te)},nodeStream:function(ee,te){return this.internalStream(ee||"nodebuffer").toNodejsStream(te)},_compressWorker:function(ee,te){if(this._data instanceof V&&this._data.compression.magic===ee.magic)return this._data.getCompressedWorker();var ie=this._decompressWorker();return this._dataBinary||(ie=ie.pipe(new U.Utf8EncodeWorker)),V.createWorkerFrom(ie,ee,te)},_decompressWorker:function(){return this._data instanceof V?this._data.getContentWorker():this._data instanceof q?this._data:new F(this._data)}};for(var W=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},Q=0;Q<W.length;Q++)z.prototype[W[Q]]=Y;I.exports=z},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(P,I,O){(function(z){var L,F,U=z.MutationObserver||z.WebKitMutationObserver;if(U){var V=0,q=new U(ee),W=z.document.createTextNode("");q.observe(W,{characterData:!0}),L=function(){W.data=V=++V%2}}else if(z.setImmediate||z.MessageChannel===void 0)L="document"in z&&"onreadystatechange"in z.document.createElement("script")?function(){var te=z.document.createElement("script");te.onreadystatechange=function(){ee(),te.onreadystatechange=null,te.parentNode.removeChild(te),te=null},z.document.documentElement.appendChild(te)}:function(){setTimeout(ee,0)};else{var Y=new z.MessageChannel;Y.port1.onmessage=ee,L=function(){Y.port2.postMessage(0)}}var Q=[];function ee(){var te,ie;F=!0;for(var ae=Q.length;ae;){for(ie=Q,Q=[],te=-1;++te<ae;)ie[te]();ae=Q.length}F=!1}I.exports=function(te){Q.push(te)!==1||F||L()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(P,I,O){var z=P("immediate");function L(){}var F={},U=["REJECTED"],V=["FULFILLED"],q=["PENDING"];function W(ae){if(typeof ae!="function")throw new TypeError("resolver must be a function");this.state=q,this.queue=[],this.outcome=void 0,ae!==L&&te(this,ae)}function Y(ae,se,le){this.promise=ae,typeof se=="function"&&(this.onFulfilled=se,this.callFulfilled=this.otherCallFulfilled),typeof le=="function"&&(this.onRejected=le,this.callRejected=this.otherCallRejected)}function Q(ae,se,le){z(function(){var ce;try{ce=se(le)}catch(fe){return F.reject(ae,fe)}ce===ae?F.reject(ae,new TypeError("Cannot resolve promise with itself")):F.resolve(ae,ce)})}function ee(ae){var se=ae&&ae.then;if(ae&&(typeof ae=="object"||typeof ae=="function")&&typeof se=="function")return function(){se.apply(ae,arguments)}}function te(ae,se){var le=!1;function ce(he){le||(le=!0,F.reject(ae,he))}function fe(he){le||(le=!0,F.resolve(ae,he))}var de=ie(function(){se(fe,ce)});de.status==="error"&&ce(de.value)}function ie(ae,se){var le={};try{le.value=ae(se),le.status="success"}catch(ce){le.status="error",le.value=ce}return le}(I.exports=W).prototype.finally=function(ae){if(typeof ae!="function")return this;var se=this.constructor;return this.then(function(le){return se.resolve(ae()).then(function(){return le})},function(le){return se.resolve(ae()).then(function(){throw le})})},W.prototype.catch=function(ae){return this.then(null,ae)},W.prototype.then=function(ae,se){if(typeof ae!="function"&&this.state===V||typeof se!="function"&&this.state===U)return this;var le=new this.constructor(L);return this.state!==q?Q(le,this.state===V?ae:se,this.outcome):this.queue.push(new Y(le,ae,se)),le},Y.prototype.callFulfilled=function(ae){F.resolve(this.promise,ae)},Y.prototype.otherCallFulfilled=function(ae){Q(this.promise,this.onFulfilled,ae)},Y.prototype.callRejected=function(ae){F.reject(this.promise,ae)},Y.prototype.otherCallRejected=function(ae){Q(this.promise,this.onRejected,ae)},F.resolve=function(ae,se){var le=ie(ee,se);if(le.status==="error")return F.reject(ae,le.value);var ce=le.value;if(ce)te(ae,ce);else{ae.state=V,ae.outcome=se;for(var fe=-1,de=ae.queue.length;++fe<de;)ae.queue[fe].callFulfilled(se)}return ae},F.reject=function(ae,se){ae.state=U,ae.outcome=se;for(var le=-1,ce=ae.queue.length;++le<ce;)ae.queue[le].callRejected(se);return ae},W.resolve=function(ae){return ae instanceof this?ae:F.resolve(new this(L),ae)},W.reject=function(ae){var se=new this(L);return F.reject(se,ae)},W.all=function(ae){var se=this;if(Object.prototype.toString.call(ae)!=="[object Array]")return this.reject(new TypeError("must be an array"));var le=ae.length,ce=!1;if(!le)return this.resolve([]);for(var fe=new Array(le),de=0,he=-1,pe=new this(L);++he<le;)ge(ae[he],he);return pe;function ge(be,xe){se.resolve(be).then(function(_e){fe[xe]=_e,++de!==le||ce||(ce=!0,F.resolve(pe,fe))},function(_e){ce||(ce=!0,F.reject(pe,_e))})}},W.race=function(ae){var se=this;if(Object.prototype.toString.call(ae)!=="[object Array]")return this.reject(new TypeError("must be an array"));var le=ae.length,ce=!1;if(!le)return this.resolve([]);for(var fe=-1,de=new this(L);++fe<le;)he=ae[fe],se.resolve(he).then(function(pe){ce||(ce=!0,F.resolve(de,pe))},function(pe){ce||(ce=!0,F.reject(de,pe))});var he;return de}},{immediate:36}],38:[function(P,I,O){var z={};(0,P("./lib/utils/common").assign)(z,P("./lib/deflate"),P("./lib/inflate"),P("./lib/zlib/constants")),I.exports=z},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(P,I,O){var z=P("./zlib/deflate"),L=P("./utils/common"),F=P("./utils/strings"),U=P("./zlib/messages"),V=P("./zlib/zstream"),q=Object.prototype.toString,W=0,Y=-1,Q=0,ee=8;function te(ae){if(!(this instanceof te))return new te(ae);this.options=L.assign({level:Y,method:ee,chunkSize:16384,windowBits:15,memLevel:8,strategy:Q,to:""},ae||{});var se=this.options;se.raw&&0<se.windowBits?se.windowBits=-se.windowBits:se.gzip&&0<se.windowBits&&se.windowBits<16&&(se.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new V,this.strm.avail_out=0;var le=z.deflateInit2(this.strm,se.level,se.method,se.windowBits,se.memLevel,se.strategy);if(le!==W)throw new Error(U[le]);if(se.header&&z.deflateSetHeader(this.strm,se.header),se.dictionary){var ce;if(ce=typeof se.dictionary=="string"?F.string2buf(se.dictionary):q.call(se.dictionary)==="[object ArrayBuffer]"?new Uint8Array(se.dictionary):se.dictionary,(le=z.deflateSetDictionary(this.strm,ce))!==W)throw new Error(U[le]);this._dict_set=!0}}function ie(ae,se){var le=new te(se);if(le.push(ae,!0),le.err)throw le.msg||U[le.err];return le.result}te.prototype.push=function(ae,se){var le,ce,fe=this.strm,de=this.options.chunkSize;if(this.ended)return!1;ce=se===~~se?se:se===!0?4:0,typeof ae=="string"?fe.input=F.string2buf(ae):q.call(ae)==="[object ArrayBuffer]"?fe.input=new Uint8Array(ae):fe.input=ae,fe.next_in=0,fe.avail_in=fe.input.length;do{if(fe.avail_out===0&&(fe.output=new L.Buf8(de),fe.next_out=0,fe.avail_out=de),(le=z.deflate(fe,ce))!==1&&le!==W)return this.onEnd(le),!(this.ended=!0);fe.avail_out!==0&&(fe.avail_in!==0||ce!==4&&ce!==2)||(this.options.to==="string"?this.onData(F.buf2binstring(L.shrinkBuf(fe.output,fe.next_out))):this.onData(L.shrinkBuf(fe.output,fe.next_out)))}while((0<fe.avail_in||fe.avail_out===0)&&le!==1);return ce===4?(le=z.deflateEnd(this.strm),this.onEnd(le),this.ended=!0,le===W):ce!==2||(this.onEnd(W),!(fe.avail_out=0))},te.prototype.onData=function(ae){this.chunks.push(ae)},te.prototype.onEnd=function(ae){ae===W&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=L.flattenChunks(this.chunks)),this.chunks=[],this.err=ae,this.msg=this.strm.msg},O.Deflate=te,O.deflate=ie,O.deflateRaw=function(ae,se){return(se=se||{}).raw=!0,ie(ae,se)},O.gzip=function(ae,se){return(se=se||{}).gzip=!0,ie(ae,se)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(P,I,O){var z=P("./zlib/inflate"),L=P("./utils/common"),F=P("./utils/strings"),U=P("./zlib/constants"),V=P("./zlib/messages"),q=P("./zlib/zstream"),W=P("./zlib/gzheader"),Y=Object.prototype.toString;function Q(te){if(!(this instanceof Q))return new Q(te);this.options=L.assign({chunkSize:16384,windowBits:0,to:""},te||{});var ie=this.options;ie.raw&&0<=ie.windowBits&&ie.windowBits<16&&(ie.windowBits=-ie.windowBits,ie.windowBits===0&&(ie.windowBits=-15)),!(0<=ie.windowBits&&ie.windowBits<16)||te&&te.windowBits||(ie.windowBits+=32),15<ie.windowBits&&ie.windowBits<48&&(15&ie.windowBits)==0&&(ie.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new q,this.strm.avail_out=0;var ae=z.inflateInit2(this.strm,ie.windowBits);if(ae!==U.Z_OK)throw new Error(V[ae]);this.header=new W,z.inflateGetHeader(this.strm,this.header)}function ee(te,ie){var ae=new Q(ie);if(ae.push(te,!0),ae.err)throw ae.msg||V[ae.err];return ae.result}Q.prototype.push=function(te,ie){var ae,se,le,ce,fe,de,he=this.strm,pe=this.options.chunkSize,ge=this.options.dictionary,be=!1;if(this.ended)return!1;se=ie===~~ie?ie:ie===!0?U.Z_FINISH:U.Z_NO_FLUSH,typeof te=="string"?he.input=F.binstring2buf(te):Y.call(te)==="[object ArrayBuffer]"?he.input=new Uint8Array(te):he.input=te,he.next_in=0,he.avail_in=he.input.length;do{if(he.avail_out===0&&(he.output=new L.Buf8(pe),he.next_out=0,he.avail_out=pe),(ae=z.inflate(he,U.Z_NO_FLUSH))===U.Z_NEED_DICT&&ge&&(de=typeof ge=="string"?F.string2buf(ge):Y.call(ge)==="[object ArrayBuffer]"?new Uint8Array(ge):ge,ae=z.inflateSetDictionary(this.strm,de)),ae===U.Z_BUF_ERROR&&be===!0&&(ae=U.Z_OK,be=!1),ae!==U.Z_STREAM_END&&ae!==U.Z_OK)return this.onEnd(ae),!(this.ended=!0);he.next_out&&(he.avail_out!==0&&ae!==U.Z_STREAM_END&&(he.avail_in!==0||se!==U.Z_FINISH&&se!==U.Z_SYNC_FLUSH)||(this.options.to==="string"?(le=F.utf8border(he.output,he.next_out),ce=he.next_out-le,fe=F.buf2string(he.output,le),he.next_out=ce,he.avail_out=pe-ce,ce&&L.arraySet(he.output,he.output,le,ce,0),this.onData(fe)):this.onData(L.shrinkBuf(he.output,he.next_out)))),he.avail_in===0&&he.avail_out===0&&(be=!0)}while((0<he.avail_in||he.avail_out===0)&&ae!==U.Z_STREAM_END);return ae===U.Z_STREAM_END&&(se=U.Z_FINISH),se===U.Z_FINISH?(ae=z.inflateEnd(this.strm),this.onEnd(ae),this.ended=!0,ae===U.Z_OK):se!==U.Z_SYNC_FLUSH||(this.onEnd(U.Z_OK),!(he.avail_out=0))},Q.prototype.onData=function(te){this.chunks.push(te)},Q.prototype.onEnd=function(te){te===U.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=L.flattenChunks(this.chunks)),this.chunks=[],this.err=te,this.msg=this.strm.msg},O.Inflate=Q,O.inflate=ee,O.inflateRaw=function(te,ie){return(ie=ie||{}).raw=!0,ee(te,ie)},O.ungzip=ee},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(P,I,O){var z=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";O.assign=function(U){for(var V=Array.prototype.slice.call(arguments,1);V.length;){var q=V.shift();if(q){if(typeof q!="object")throw new TypeError(q+"must be non-object");for(var W in q)q.hasOwnProperty(W)&&(U[W]=q[W])}}return U},O.shrinkBuf=function(U,V){return U.length===V?U:U.subarray?U.subarray(0,V):(U.length=V,U)};var L={arraySet:function(U,V,q,W,Y){if(V.subarray&&U.subarray)U.set(V.subarray(q,q+W),Y);else for(var Q=0;Q<W;Q++)U[Y+Q]=V[q+Q]},flattenChunks:function(U){var V,q,W,Y,Q,ee;for(V=W=0,q=U.length;V<q;V++)W+=U[V].length;for(ee=new Uint8Array(W),V=Y=0,q=U.length;V<q;V++)Q=U[V],ee.set(Q,Y),Y+=Q.length;return ee}},F={arraySet:function(U,V,q,W,Y){for(var Q=0;Q<W;Q++)U[Y+Q]=V[q+Q]},flattenChunks:function(U){return[].concat.apply([],U)}};O.setTyped=function(U){U?(O.Buf8=Uint8Array,O.Buf16=Uint16Array,O.Buf32=Int32Array,O.assign(O,L)):(O.Buf8=Array,O.Buf16=Array,O.Buf32=Array,O.assign(O,F))},O.setTyped(z)},{}],42:[function(P,I,O){var z=P("./common"),L=!0,F=!0;try{String.fromCharCode.apply(null,[0])}catch{L=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{F=!1}for(var U=new z.Buf8(256),V=0;V<256;V++)U[V]=252<=V?6:248<=V?5:240<=V?4:224<=V?3:192<=V?2:1;function q(W,Y){if(Y<65537&&(W.subarray&&F||!W.subarray&&L))return String.fromCharCode.apply(null,z.shrinkBuf(W,Y));for(var Q="",ee=0;ee<Y;ee++)Q+=String.fromCharCode(W[ee]);return Q}U[254]=U[254]=1,O.string2buf=function(W){var Y,Q,ee,te,ie,ae=W.length,se=0;for(te=0;te<ae;te++)(64512&(Q=W.charCodeAt(te)))==55296&&te+1<ae&&(64512&(ee=W.charCodeAt(te+1)))==56320&&(Q=65536+(Q-55296<<10)+(ee-56320),te++),se+=Q<128?1:Q<2048?2:Q<65536?3:4;for(Y=new z.Buf8(se),te=ie=0;ie<se;te++)(64512&(Q=W.charCodeAt(te)))==55296&&te+1<ae&&(64512&(ee=W.charCodeAt(te+1)))==56320&&(Q=65536+(Q-55296<<10)+(ee-56320),te++),Q<128?Y[ie++]=Q:(Q<2048?Y[ie++]=192|Q>>>6:(Q<65536?Y[ie++]=224|Q>>>12:(Y[ie++]=240|Q>>>18,Y[ie++]=128|Q>>>12&63),Y[ie++]=128|Q>>>6&63),Y[ie++]=128|63&Q);return Y},O.buf2binstring=function(W){return q(W,W.length)},O.binstring2buf=function(W){for(var Y=new z.Buf8(W.length),Q=0,ee=Y.length;Q<ee;Q++)Y[Q]=W.charCodeAt(Q);return Y},O.buf2string=function(W,Y){var Q,ee,te,ie,ae=Y||W.length,se=new Array(2*ae);for(Q=ee=0;Q<ae;)if((te=W[Q++])<128)se[ee++]=te;else if(4<(ie=U[te]))se[ee++]=65533,Q+=ie-1;else{for(te&=ie===2?31:ie===3?15:7;1<ie&&Q<ae;)te=te<<6|63&W[Q++],ie--;1<ie?se[ee++]=65533:te<65536?se[ee++]=te:(te-=65536,se[ee++]=55296|te>>10&1023,se[ee++]=56320|1023&te)}return q(se,ee)},O.utf8border=function(W,Y){var Q;for((Y=Y||W.length)>W.length&&(Y=W.length),Q=Y-1;0<=Q&&(192&W[Q])==128;)Q--;return Q<0||Q===0?Y:Q+U[W[Q]]>Y?Q:Y}},{"./common":41}],43:[function(P,I,O){I.exports=function(z,L,F,U){for(var V=65535&z|0,q=z>>>16&65535|0,W=0;F!==0;){for(F-=W=2e3<F?2e3:F;q=q+(V=V+L[U++]|0)|0,--W;);V%=65521,q%=65521}return V|q<<16|0}},{}],44:[function(P,I,O){I.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(P,I,O){var z=(function(){for(var L,F=[],U=0;U<256;U++){L=U;for(var V=0;V<8;V++)L=1&L?3988292384^L>>>1:L>>>1;F[U]=L}return F})();I.exports=function(L,F,U,V){var q=z,W=V+U;L^=-1;for(var Y=V;Y<W;Y++)L=L>>>8^q[255&(L^F[Y])];return-1^L}},{}],46:[function(P,I,O){var z,L=P("../utils/common"),F=P("./trees"),U=P("./adler32"),V=P("./crc32"),q=P("./messages"),W=0,Y=4,Q=0,ee=-2,te=-1,ie=4,ae=2,se=8,le=9,ce=286,fe=30,de=19,he=2*ce+1,pe=15,ge=3,be=258,xe=be+ge+1,_e=42,Se=113,me=1,Ce=2,Te=3,Re=4;function Pe(ye,Ge){return ye.msg=q[Ge],Ge}function Me(ye){return(ye<<1)-(4<ye?9:0)}function Ae(ye){for(var Ge=ye.length;0<=--Ge;)ye[Ge]=0}function we(ye){var Ge=ye.state,Fe=Ge.pending;Fe>ye.avail_out&&(Fe=ye.avail_out),Fe!==0&&(L.arraySet(ye.output,Ge.pending_buf,Ge.pending_out,Fe,ye.next_out),ye.next_out+=Fe,Ge.pending_out+=Fe,ye.total_out+=Fe,ye.avail_out-=Fe,Ge.pending-=Fe,Ge.pending===0&&(Ge.pending_out=0))}function ke(ye,Ge){F._tr_flush_block(ye,0<=ye.block_start?ye.block_start:-1,ye.strstart-ye.block_start,Ge),ye.block_start=ye.strstart,we(ye.strm)}function Ee(ye,Ge){ye.pending_buf[ye.pending++]=Ge}function ze(ye,Ge){ye.pending_buf[ye.pending++]=Ge>>>8&255,ye.pending_buf[ye.pending++]=255&Ge}function je(ye,Ge){var Fe,Ie,Ne=ye.max_chain_length,Be=ye.strstart,at=ye.prev_length,lt=ye.nice_match,We=ye.strstart>ye.w_size-xe?ye.strstart-(ye.w_size-xe):0,ht=ye.window,ut=ye.w_mask,ft=ye.prev,Oe=ye.strstart+be,tt=ht[Be+at-1],st=ht[Be+at];ye.prev_length>=ye.good_match&&(Ne>>=2),lt>ye.lookahead&&(lt=ye.lookahead);do if(ht[(Fe=Ge)+at]===st&&ht[Fe+at-1]===tt&&ht[Fe]===ht[Be]&&ht[++Fe]===ht[Be+1]){Be+=2,Fe++;do;while(ht[++Be]===ht[++Fe]&&ht[++Be]===ht[++Fe]&&ht[++Be]===ht[++Fe]&&ht[++Be]===ht[++Fe]&&ht[++Be]===ht[++Fe]&&ht[++Be]===ht[++Fe]&&ht[++Be]===ht[++Fe]&&ht[++Be]===ht[++Fe]&&Be<Oe);if(Ie=be-(Oe-Be),Be=Oe-be,at<Ie){if(ye.match_start=Ge,lt<=(at=Ie))break;tt=ht[Be+at-1],st=ht[Be+at]}}while((Ge=ft[Ge&ut])>We&&--Ne!=0);return at<=ye.lookahead?at:ye.lookahead}function Ke(ye){var Ge,Fe,Ie,Ne,Be,at,lt,We,ht,ut,ft=ye.w_size;do{if(Ne=ye.window_size-ye.lookahead-ye.strstart,ye.strstart>=ft+(ft-xe)){for(L.arraySet(ye.window,ye.window,ft,ft,0),ye.match_start-=ft,ye.strstart-=ft,ye.block_start-=ft,Ge=Fe=ye.hash_size;Ie=ye.head[--Ge],ye.head[Ge]=ft<=Ie?Ie-ft:0,--Fe;);for(Ge=Fe=ft;Ie=ye.prev[--Ge],ye.prev[Ge]=ft<=Ie?Ie-ft:0,--Fe;);Ne+=ft}if(ye.strm.avail_in===0)break;if(at=ye.strm,lt=ye.window,We=ye.strstart+ye.lookahead,ht=Ne,ut=void 0,ut=at.avail_in,ht<ut&&(ut=ht),Fe=ut===0?0:(at.avail_in-=ut,L.arraySet(lt,at.input,at.next_in,ut,We),at.state.wrap===1?at.adler=U(at.adler,lt,ut,We):at.state.wrap===2&&(at.adler=V(at.adler,lt,ut,We)),at.next_in+=ut,at.total_in+=ut,ut),ye.lookahead+=Fe,ye.lookahead+ye.insert>=ge)for(Be=ye.strstart-ye.insert,ye.ins_h=ye.window[Be],ye.ins_h=(ye.ins_h<<ye.hash_shift^ye.window[Be+1])&ye.hash_mask;ye.insert&&(ye.ins_h=(ye.ins_h<<ye.hash_shift^ye.window[Be+ge-1])&ye.hash_mask,ye.prev[Be&ye.w_mask]=ye.head[ye.ins_h],ye.head[ye.ins_h]=Be,Be++,ye.insert--,!(ye.lookahead+ye.insert<ge)););}while(ye.lookahead<xe&&ye.strm.avail_in!==0)}function He(ye,Ge){for(var Fe,Ie;;){if(ye.lookahead<xe){if(Ke(ye),ye.lookahead<xe&&Ge===W)return me;if(ye.lookahead===0)break}if(Fe=0,ye.lookahead>=ge&&(ye.ins_h=(ye.ins_h<<ye.hash_shift^ye.window[ye.strstart+ge-1])&ye.hash_mask,Fe=ye.prev[ye.strstart&ye.w_mask]=ye.head[ye.ins_h],ye.head[ye.ins_h]=ye.strstart),Fe!==0&&ye.strstart-Fe<=ye.w_size-xe&&(ye.match_length=je(ye,Fe)),ye.match_length>=ge)if(Ie=F._tr_tally(ye,ye.strstart-ye.match_start,ye.match_length-ge),ye.lookahead-=ye.match_length,ye.match_length<=ye.max_lazy_match&&ye.lookahead>=ge){for(ye.match_length--;ye.strstart++,ye.ins_h=(ye.ins_h<<ye.hash_shift^ye.window[ye.strstart+ge-1])&ye.hash_mask,Fe=ye.prev[ye.strstart&ye.w_mask]=ye.head[ye.ins_h],ye.head[ye.ins_h]=ye.strstart,--ye.match_length!=0;);ye.strstart++}else ye.strstart+=ye.match_length,ye.match_length=0,ye.ins_h=ye.window[ye.strstart],ye.ins_h=(ye.ins_h<<ye.hash_shift^ye.window[ye.strstart+1])&ye.hash_mask;else Ie=F._tr_tally(ye,0,ye.window[ye.strstart]),ye.lookahead--,ye.strstart++;if(Ie&&(ke(ye,!1),ye.strm.avail_out===0))return me}return ye.insert=ye.strstart<ge-1?ye.strstart:ge-1,Ge===Y?(ke(ye,!0),ye.strm.avail_out===0?Te:Re):ye.last_lit&&(ke(ye,!1),ye.strm.avail_out===0)?me:Ce}function Ze(ye,Ge){for(var Fe,Ie,Ne;;){if(ye.lookahead<xe){if(Ke(ye),ye.lookahead<xe&&Ge===W)return me;if(ye.lookahead===0)break}if(Fe=0,ye.lookahead>=ge&&(ye.ins_h=(ye.ins_h<<ye.hash_shift^ye.window[ye.strstart+ge-1])&ye.hash_mask,Fe=ye.prev[ye.strstart&ye.w_mask]=ye.head[ye.ins_h],ye.head[ye.ins_h]=ye.strstart),ye.prev_length=ye.match_length,ye.prev_match=ye.match_start,ye.match_length=ge-1,Fe!==0&&ye.prev_length<ye.max_lazy_match&&ye.strstart-Fe<=ye.w_size-xe&&(ye.match_length=je(ye,Fe),ye.match_length<=5&&(ye.strategy===1||ye.match_length===ge&&4096<ye.strstart-ye.match_start)&&(ye.match_length=ge-1)),ye.prev_length>=ge&&ye.match_length<=ye.prev_length){for(Ne=ye.strstart+ye.lookahead-ge,Ie=F._tr_tally(ye,ye.strstart-1-ye.prev_match,ye.prev_length-ge),ye.lookahead-=ye.prev_length-1,ye.prev_length-=2;++ye.strstart<=Ne&&(ye.ins_h=(ye.ins_h<<ye.hash_shift^ye.window[ye.strstart+ge-1])&ye.hash_mask,Fe=ye.prev[ye.strstart&ye.w_mask]=ye.head[ye.ins_h],ye.head[ye.ins_h]=ye.strstart),--ye.prev_length!=0;);if(ye.match_available=0,ye.match_length=ge-1,ye.strstart++,Ie&&(ke(ye,!1),ye.strm.avail_out===0))return me}else if(ye.match_available){if((Ie=F._tr_tally(ye,0,ye.window[ye.strstart-1]))&&ke(ye,!1),ye.strstart++,ye.lookahead--,ye.strm.avail_out===0)return me}else ye.match_available=1,ye.strstart++,ye.lookahead--}return ye.match_available&&(Ie=F._tr_tally(ye,0,ye.window[ye.strstart-1]),ye.match_available=0),ye.insert=ye.strstart<ge-1?ye.strstart:ge-1,Ge===Y?(ke(ye,!0),ye.strm.avail_out===0?Te:Re):ye.last_lit&&(ke(ye,!1),ye.strm.avail_out===0)?me:Ce}function Le(ye,Ge,Fe,Ie,Ne){this.good_length=ye,this.max_lazy=Ge,this.nice_length=Fe,this.max_chain=Ie,this.func=Ne}function Xe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=se,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new L.Buf16(2*he),this.dyn_dtree=new L.Buf16(2*(2*fe+1)),this.bl_tree=new L.Buf16(2*(2*de+1)),Ae(this.dyn_ltree),Ae(this.dyn_dtree),Ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new L.Buf16(pe+1),this.heap=new L.Buf16(2*ce+1),Ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new L.Buf16(2*ce+1),Ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ye(ye){var Ge;return ye&&ye.state?(ye.total_in=ye.total_out=0,ye.data_type=ae,(Ge=ye.state).pending=0,Ge.pending_out=0,Ge.wrap<0&&(Ge.wrap=-Ge.wrap),Ge.status=Ge.wrap?_e:Se,ye.adler=Ge.wrap===2?0:1,Ge.last_flush=W,F._tr_init(Ge),Q):Pe(ye,ee)}function Ve(ye){var Ge=Ye(ye);return Ge===Q&&(function(Fe){Fe.window_size=2*Fe.w_size,Ae(Fe.head),Fe.max_lazy_match=z[Fe.level].max_lazy,Fe.good_match=z[Fe.level].good_length,Fe.nice_match=z[Fe.level].nice_length,Fe.max_chain_length=z[Fe.level].max_chain,Fe.strstart=0,Fe.block_start=0,Fe.lookahead=0,Fe.insert=0,Fe.match_length=Fe.prev_length=ge-1,Fe.match_available=0,Fe.ins_h=0})(ye.state),Ge}function dt(ye,Ge,Fe,Ie,Ne,Be){if(!ye)return ee;var at=1;if(Ge===te&&(Ge=6),Ie<0?(at=0,Ie=-Ie):15<Ie&&(at=2,Ie-=16),Ne<1||le<Ne||Fe!==se||Ie<8||15<Ie||Ge<0||9<Ge||Be<0||ie<Be)return Pe(ye,ee);Ie===8&&(Ie=9);var lt=new Xe;return(ye.state=lt).strm=ye,lt.wrap=at,lt.gzhead=null,lt.w_bits=Ie,lt.w_size=1<<lt.w_bits,lt.w_mask=lt.w_size-1,lt.hash_bits=Ne+7,lt.hash_size=1<<lt.hash_bits,lt.hash_mask=lt.hash_size-1,lt.hash_shift=~~((lt.hash_bits+ge-1)/ge),lt.window=new L.Buf8(2*lt.w_size),lt.head=new L.Buf16(lt.hash_size),lt.prev=new L.Buf16(lt.w_size),lt.lit_bufsize=1<<Ne+6,lt.pending_buf_size=4*lt.lit_bufsize,lt.pending_buf=new L.Buf8(lt.pending_buf_size),lt.d_buf=1*lt.lit_bufsize,lt.l_buf=3*lt.lit_bufsize,lt.level=Ge,lt.strategy=Be,lt.method=Fe,Ve(ye)}z=[new Le(0,0,0,0,function(ye,Ge){var Fe=65535;for(Fe>ye.pending_buf_size-5&&(Fe=ye.pending_buf_size-5);;){if(ye.lookahead<=1){if(Ke(ye),ye.lookahead===0&&Ge===W)return me;if(ye.lookahead===0)break}ye.strstart+=ye.lookahead,ye.lookahead=0;var Ie=ye.block_start+Fe;if((ye.strstart===0||ye.strstart>=Ie)&&(ye.lookahead=ye.strstart-Ie,ye.strstart=Ie,ke(ye,!1),ye.strm.avail_out===0)||ye.strstart-ye.block_start>=ye.w_size-xe&&(ke(ye,!1),ye.strm.avail_out===0))return me}return ye.insert=0,Ge===Y?(ke(ye,!0),ye.strm.avail_out===0?Te:Re):(ye.strstart>ye.block_start&&(ke(ye,!1),ye.strm.avail_out),me)}),new Le(4,4,8,4,He),new Le(4,5,16,8,He),new Le(4,6,32,32,He),new Le(4,4,16,16,Ze),new Le(8,16,32,32,Ze),new Le(8,16,128,128,Ze),new Le(8,32,128,256,Ze),new Le(32,128,258,1024,Ze),new Le(32,258,258,4096,Ze)],O.deflateInit=function(ye,Ge){return dt(ye,Ge,se,15,8,0)},O.deflateInit2=dt,O.deflateReset=Ve,O.deflateResetKeep=Ye,O.deflateSetHeader=function(ye,Ge){return ye&&ye.state?ye.state.wrap!==2?ee:(ye.state.gzhead=Ge,Q):ee},O.deflate=function(ye,Ge){var Fe,Ie,Ne,Be;if(!ye||!ye.state||5<Ge||Ge<0)return ye?Pe(ye,ee):ee;if(Ie=ye.state,!ye.output||!ye.input&&ye.avail_in!==0||Ie.status===666&&Ge!==Y)return Pe(ye,ye.avail_out===0?-5:ee);if(Ie.strm=ye,Fe=Ie.last_flush,Ie.last_flush=Ge,Ie.status===_e)if(Ie.wrap===2)ye.adler=0,Ee(Ie,31),Ee(Ie,139),Ee(Ie,8),Ie.gzhead?(Ee(Ie,(Ie.gzhead.text?1:0)+(Ie.gzhead.hcrc?2:0)+(Ie.gzhead.extra?4:0)+(Ie.gzhead.name?8:0)+(Ie.gzhead.comment?16:0)),Ee(Ie,255&Ie.gzhead.time),Ee(Ie,Ie.gzhead.time>>8&255),Ee(Ie,Ie.gzhead.time>>16&255),Ee(Ie,Ie.gzhead.time>>24&255),Ee(Ie,Ie.level===9?2:2<=Ie.strategy||Ie.level<2?4:0),Ee(Ie,255&Ie.gzhead.os),Ie.gzhead.extra&&Ie.gzhead.extra.length&&(Ee(Ie,255&Ie.gzhead.extra.length),Ee(Ie,Ie.gzhead.extra.length>>8&255)),Ie.gzhead.hcrc&&(ye.adler=V(ye.adler,Ie.pending_buf,Ie.pending,0)),Ie.gzindex=0,Ie.status=69):(Ee(Ie,0),Ee(Ie,0),Ee(Ie,0),Ee(Ie,0),Ee(Ie,0),Ee(Ie,Ie.level===9?2:2<=Ie.strategy||Ie.level<2?4:0),Ee(Ie,3),Ie.status=Se);else{var at=se+(Ie.w_bits-8<<4)<<8;at|=(2<=Ie.strategy||Ie.level<2?0:Ie.level<6?1:Ie.level===6?2:3)<<6,Ie.strstart!==0&&(at|=32),at+=31-at%31,Ie.status=Se,ze(Ie,at),Ie.strstart!==0&&(ze(Ie,ye.adler>>>16),ze(Ie,65535&ye.adler)),ye.adler=1}if(Ie.status===69)if(Ie.gzhead.extra){for(Ne=Ie.pending;Ie.gzindex<(65535&Ie.gzhead.extra.length)&&(Ie.pending!==Ie.pending_buf_size||(Ie.gzhead.hcrc&&Ie.pending>Ne&&(ye.adler=V(ye.adler,Ie.pending_buf,Ie.pending-Ne,Ne)),we(ye),Ne=Ie.pending,Ie.pending!==Ie.pending_buf_size));)Ee(Ie,255&Ie.gzhead.extra[Ie.gzindex]),Ie.gzindex++;Ie.gzhead.hcrc&&Ie.pending>Ne&&(ye.adler=V(ye.adler,Ie.pending_buf,Ie.pending-Ne,Ne)),Ie.gzindex===Ie.gzhead.extra.length&&(Ie.gzindex=0,Ie.status=73)}else Ie.status=73;if(Ie.status===73)if(Ie.gzhead.name){Ne=Ie.pending;do{if(Ie.pending===Ie.pending_buf_size&&(Ie.gzhead.hcrc&&Ie.pending>Ne&&(ye.adler=V(ye.adler,Ie.pending_buf,Ie.pending-Ne,Ne)),we(ye),Ne=Ie.pending,Ie.pending===Ie.pending_buf_size)){Be=1;break}Be=Ie.gzindex<Ie.gzhead.name.length?255&Ie.gzhead.name.charCodeAt(Ie.gzindex++):0,Ee(Ie,Be)}while(Be!==0);Ie.gzhead.hcrc&&Ie.pending>Ne&&(ye.adler=V(ye.adler,Ie.pending_buf,Ie.pending-Ne,Ne)),Be===0&&(Ie.gzindex=0,Ie.status=91)}else Ie.status=91;if(Ie.status===91)if(Ie.gzhead.comment){Ne=Ie.pending;do{if(Ie.pending===Ie.pending_buf_size&&(Ie.gzhead.hcrc&&Ie.pending>Ne&&(ye.adler=V(ye.adler,Ie.pending_buf,Ie.pending-Ne,Ne)),we(ye),Ne=Ie.pending,Ie.pending===Ie.pending_buf_size)){Be=1;break}Be=Ie.gzindex<Ie.gzhead.comment.length?255&Ie.gzhead.comment.charCodeAt(Ie.gzindex++):0,Ee(Ie,Be)}while(Be!==0);Ie.gzhead.hcrc&&Ie.pending>Ne&&(ye.adler=V(ye.adler,Ie.pending_buf,Ie.pending-Ne,Ne)),Be===0&&(Ie.status=103)}else Ie.status=103;if(Ie.status===103&&(Ie.gzhead.hcrc?(Ie.pending+2>Ie.pending_buf_size&&we(ye),Ie.pending+2<=Ie.pending_buf_size&&(Ee(Ie,255&ye.adler),Ee(Ie,ye.adler>>8&255),ye.adler=0,Ie.status=Se)):Ie.status=Se),Ie.pending!==0){if(we(ye),ye.avail_out===0)return Ie.last_flush=-1,Q}else if(ye.avail_in===0&&Me(Ge)<=Me(Fe)&&Ge!==Y)return Pe(ye,-5);if(Ie.status===666&&ye.avail_in!==0)return Pe(ye,-5);if(ye.avail_in!==0||Ie.lookahead!==0||Ge!==W&&Ie.status!==666){var lt=Ie.strategy===2?(function(We,ht){for(var ut;;){if(We.lookahead===0&&(Ke(We),We.lookahead===0)){if(ht===W)return me;break}if(We.match_length=0,ut=F._tr_tally(We,0,We.window[We.strstart]),We.lookahead--,We.strstart++,ut&&(ke(We,!1),We.strm.avail_out===0))return me}return We.insert=0,ht===Y?(ke(We,!0),We.strm.avail_out===0?Te:Re):We.last_lit&&(ke(We,!1),We.strm.avail_out===0)?me:Ce})(Ie,Ge):Ie.strategy===3?(function(We,ht){for(var ut,ft,Oe,tt,st=We.window;;){if(We.lookahead<=be){if(Ke(We),We.lookahead<=be&&ht===W)return me;if(We.lookahead===0)break}if(We.match_length=0,We.lookahead>=ge&&0<We.strstart&&(ft=st[Oe=We.strstart-1])===st[++Oe]&&ft===st[++Oe]&&ft===st[++Oe]){tt=We.strstart+be;do;while(ft===st[++Oe]&&ft===st[++Oe]&&ft===st[++Oe]&&ft===st[++Oe]&&ft===st[++Oe]&&ft===st[++Oe]&&ft===st[++Oe]&&ft===st[++Oe]&&Oe<tt);We.match_length=be-(tt-Oe),We.match_length>We.lookahead&&(We.match_length=We.lookahead)}if(We.match_length>=ge?(ut=F._tr_tally(We,1,We.match_length-ge),We.lookahead-=We.match_length,We.strstart+=We.match_length,We.match_length=0):(ut=F._tr_tally(We,0,We.window[We.strstart]),We.lookahead--,We.strstart++),ut&&(ke(We,!1),We.strm.avail_out===0))return me}return We.insert=0,ht===Y?(ke(We,!0),We.strm.avail_out===0?Te:Re):We.last_lit&&(ke(We,!1),We.strm.avail_out===0)?me:Ce})(Ie,Ge):z[Ie.level].func(Ie,Ge);if(lt!==Te&&lt!==Re||(Ie.status=666),lt===me||lt===Te)return ye.avail_out===0&&(Ie.last_flush=-1),Q;if(lt===Ce&&(Ge===1?F._tr_align(Ie):Ge!==5&&(F._tr_stored_block(Ie,0,0,!1),Ge===3&&(Ae(Ie.head),Ie.lookahead===0&&(Ie.strstart=0,Ie.block_start=0,Ie.insert=0))),we(ye),ye.avail_out===0))return Ie.last_flush=-1,Q}return Ge!==Y?Q:Ie.wrap<=0?1:(Ie.wrap===2?(Ee(Ie,255&ye.adler),Ee(Ie,ye.adler>>8&255),Ee(Ie,ye.adler>>16&255),Ee(Ie,ye.adler>>24&255),Ee(Ie,255&ye.total_in),Ee(Ie,ye.total_in>>8&255),Ee(Ie,ye.total_in>>16&255),Ee(Ie,ye.total_in>>24&255)):(ze(Ie,ye.adler>>>16),ze(Ie,65535&ye.adler)),we(ye),0<Ie.wrap&&(Ie.wrap=-Ie.wrap),Ie.pending!==0?Q:1)},O.deflateEnd=function(ye){var Ge;return ye&&ye.state?(Ge=ye.state.status)!==_e&&Ge!==69&&Ge!==73&&Ge!==91&&Ge!==103&&Ge!==Se&&Ge!==666?Pe(ye,ee):(ye.state=null,Ge===Se?Pe(ye,-3):Q):ee},O.deflateSetDictionary=function(ye,Ge){var Fe,Ie,Ne,Be,at,lt,We,ht,ut=Ge.length;if(!ye||!ye.state||(Be=(Fe=ye.state).wrap)===2||Be===1&&Fe.status!==_e||Fe.lookahead)return ee;for(Be===1&&(ye.adler=U(ye.adler,Ge,ut,0)),Fe.wrap=0,ut>=Fe.w_size&&(Be===0&&(Ae(Fe.head),Fe.strstart=0,Fe.block_start=0,Fe.insert=0),ht=new L.Buf8(Fe.w_size),L.arraySet(ht,Ge,ut-Fe.w_size,Fe.w_size,0),Ge=ht,ut=Fe.w_size),at=ye.avail_in,lt=ye.next_in,We=ye.input,ye.avail_in=ut,ye.next_in=0,ye.input=Ge,Ke(Fe);Fe.lookahead>=ge;){for(Ie=Fe.strstart,Ne=Fe.lookahead-(ge-1);Fe.ins_h=(Fe.ins_h<<Fe.hash_shift^Fe.window[Ie+ge-1])&Fe.hash_mask,Fe.prev[Ie&Fe.w_mask]=Fe.head[Fe.ins_h],Fe.head[Fe.ins_h]=Ie,Ie++,--Ne;);Fe.strstart=Ie,Fe.lookahead=ge-1,Ke(Fe)}return Fe.strstart+=Fe.lookahead,Fe.block_start=Fe.strstart,Fe.insert=Fe.lookahead,Fe.lookahead=0,Fe.match_length=Fe.prev_length=ge-1,Fe.match_available=0,ye.next_in=lt,ye.input=We,ye.avail_in=at,Fe.wrap=Be,Q},O.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(P,I,O){I.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(P,I,O){I.exports=function(z,L){var F,U,V,q,W,Y,Q,ee,te,ie,ae,se,le,ce,fe,de,he,pe,ge,be,xe,_e,Se,me,Ce;F=z.state,U=z.next_in,me=z.input,V=U+(z.avail_in-5),q=z.next_out,Ce=z.output,W=q-(L-z.avail_out),Y=q+(z.avail_out-257),Q=F.dmax,ee=F.wsize,te=F.whave,ie=F.wnext,ae=F.window,se=F.hold,le=F.bits,ce=F.lencode,fe=F.distcode,de=(1<<F.lenbits)-1,he=(1<<F.distbits)-1;e:do{le<15&&(se+=me[U++]<<le,le+=8,se+=me[U++]<<le,le+=8),pe=ce[se&de];t:for(;;){if(se>>>=ge=pe>>>24,le-=ge,(ge=pe>>>16&255)===0)Ce[q++]=65535&pe;else{if(!(16&ge)){if((64&ge)==0){pe=ce[(65535&pe)+(se&(1<<ge)-1)];continue t}if(32&ge){F.mode=12;break e}z.msg="invalid literal/length code",F.mode=30;break e}be=65535&pe,(ge&=15)&&(le<ge&&(se+=me[U++]<<le,le+=8),be+=se&(1<<ge)-1,se>>>=ge,le-=ge),le<15&&(se+=me[U++]<<le,le+=8,se+=me[U++]<<le,le+=8),pe=fe[se&he];n:for(;;){if(se>>>=ge=pe>>>24,le-=ge,!(16&(ge=pe>>>16&255))){if((64&ge)==0){pe=fe[(65535&pe)+(se&(1<<ge)-1)];continue n}z.msg="invalid distance code",F.mode=30;break e}if(xe=65535&pe,le<(ge&=15)&&(se+=me[U++]<<le,(le+=8)<ge&&(se+=me[U++]<<le,le+=8)),Q<(xe+=se&(1<<ge)-1)){z.msg="invalid distance too far back",F.mode=30;break e}if(se>>>=ge,le-=ge,(ge=q-W)<xe){if(te<(ge=xe-ge)&&F.sane){z.msg="invalid distance too far back",F.mode=30;break e}if(Se=ae,(_e=0)===ie){if(_e+=ee-ge,ge<be){for(be-=ge;Ce[q++]=ae[_e++],--ge;);_e=q-xe,Se=Ce}}else if(ie<ge){if(_e+=ee+ie-ge,(ge-=ie)<be){for(be-=ge;Ce[q++]=ae[_e++],--ge;);if(_e=0,ie<be){for(be-=ge=ie;Ce[q++]=ae[_e++],--ge;);_e=q-xe,Se=Ce}}}else if(_e+=ie-ge,ge<be){for(be-=ge;Ce[q++]=ae[_e++],--ge;);_e=q-xe,Se=Ce}for(;2<be;)Ce[q++]=Se[_e++],Ce[q++]=Se[_e++],Ce[q++]=Se[_e++],be-=3;be&&(Ce[q++]=Se[_e++],1<be&&(Ce[q++]=Se[_e++]))}else{for(_e=q-xe;Ce[q++]=Ce[_e++],Ce[q++]=Ce[_e++],Ce[q++]=Ce[_e++],2<(be-=3););be&&(Ce[q++]=Ce[_e++],1<be&&(Ce[q++]=Ce[_e++]))}break}}break}}while(U<V&&q<Y);U-=be=le>>3,se&=(1<<(le-=be<<3))-1,z.next_in=U,z.next_out=q,z.avail_in=U<V?V-U+5:5-(U-V),z.avail_out=q<Y?Y-q+257:257-(q-Y),F.hold=se,F.bits=le}},{}],49:[function(P,I,O){var z=P("../utils/common"),L=P("./adler32"),F=P("./crc32"),U=P("./inffast"),V=P("./inftrees"),q=1,W=2,Y=0,Q=-2,ee=1,te=852,ie=592;function ae(_e){return(_e>>>24&255)+(_e>>>8&65280)+((65280&_e)<<8)+((255&_e)<<24)}function se(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new z.Buf16(320),this.work=new z.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function le(_e){var Se;return _e&&_e.state?(Se=_e.state,_e.total_in=_e.total_out=Se.total=0,_e.msg="",Se.wrap&&(_e.adler=1&Se.wrap),Se.mode=ee,Se.last=0,Se.havedict=0,Se.dmax=32768,Se.head=null,Se.hold=0,Se.bits=0,Se.lencode=Se.lendyn=new z.Buf32(te),Se.distcode=Se.distdyn=new z.Buf32(ie),Se.sane=1,Se.back=-1,Y):Q}function ce(_e){var Se;return _e&&_e.state?((Se=_e.state).wsize=0,Se.whave=0,Se.wnext=0,le(_e)):Q}function fe(_e,Se){var me,Ce;return _e&&_e.state?(Ce=_e.state,Se<0?(me=0,Se=-Se):(me=1+(Se>>4),Se<48&&(Se&=15)),Se&&(Se<8||15<Se)?Q:(Ce.window!==null&&Ce.wbits!==Se&&(Ce.window=null),Ce.wrap=me,Ce.wbits=Se,ce(_e))):Q}function de(_e,Se){var me,Ce;return _e?(Ce=new se,(_e.state=Ce).window=null,(me=fe(_e,Se))!==Y&&(_e.state=null),me):Q}var he,pe,ge=!0;function be(_e){if(ge){var Se;for(he=new z.Buf32(512),pe=new z.Buf32(32),Se=0;Se<144;)_e.lens[Se++]=8;for(;Se<256;)_e.lens[Se++]=9;for(;Se<280;)_e.lens[Se++]=7;for(;Se<288;)_e.lens[Se++]=8;for(V(q,_e.lens,0,288,he,0,_e.work,{bits:9}),Se=0;Se<32;)_e.lens[Se++]=5;V(W,_e.lens,0,32,pe,0,_e.work,{bits:5}),ge=!1}_e.lencode=he,_e.lenbits=9,_e.distcode=pe,_e.distbits=5}function xe(_e,Se,me,Ce){var Te,Re=_e.state;return Re.window===null&&(Re.wsize=1<<Re.wbits,Re.wnext=0,Re.whave=0,Re.window=new z.Buf8(Re.wsize)),Ce>=Re.wsize?(z.arraySet(Re.window,Se,me-Re.wsize,Re.wsize,0),Re.wnext=0,Re.whave=Re.wsize):(Ce<(Te=Re.wsize-Re.wnext)&&(Te=Ce),z.arraySet(Re.window,Se,me-Ce,Te,Re.wnext),(Ce-=Te)?(z.arraySet(Re.window,Se,me-Ce,Ce,0),Re.wnext=Ce,Re.whave=Re.wsize):(Re.wnext+=Te,Re.wnext===Re.wsize&&(Re.wnext=0),Re.whave<Re.wsize&&(Re.whave+=Te))),0}O.inflateReset=ce,O.inflateReset2=fe,O.inflateResetKeep=le,O.inflateInit=function(_e){return de(_e,15)},O.inflateInit2=de,O.inflate=function(_e,Se){var me,Ce,Te,Re,Pe,Me,Ae,we,ke,Ee,ze,je,Ke,He,Ze,Le,Xe,Ye,Ve,dt,ye,Ge,Fe,Ie,Ne=0,Be=new z.Buf8(4),at=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_e||!_e.state||!_e.output||!_e.input&&_e.avail_in!==0)return Q;(me=_e.state).mode===12&&(me.mode=13),Pe=_e.next_out,Te=_e.output,Ae=_e.avail_out,Re=_e.next_in,Ce=_e.input,Me=_e.avail_in,we=me.hold,ke=me.bits,Ee=Me,ze=Ae,Ge=Y;e:for(;;)switch(me.mode){case ee:if(me.wrap===0){me.mode=13;break}for(;ke<16;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}if(2&me.wrap&&we===35615){Be[me.check=0]=255&we,Be[1]=we>>>8&255,me.check=F(me.check,Be,2,0),ke=we=0,me.mode=2;break}if(me.flags=0,me.head&&(me.head.done=!1),!(1&me.wrap)||(((255&we)<<8)+(we>>8))%31){_e.msg="incorrect header check",me.mode=30;break}if((15&we)!=8){_e.msg="unknown compression method",me.mode=30;break}if(ke-=4,ye=8+(15&(we>>>=4)),me.wbits===0)me.wbits=ye;else if(ye>me.wbits){_e.msg="invalid window size",me.mode=30;break}me.dmax=1<<ye,_e.adler=me.check=1,me.mode=512&we?10:12,ke=we=0;break;case 2:for(;ke<16;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}if(me.flags=we,(255&me.flags)!=8){_e.msg="unknown compression method",me.mode=30;break}if(57344&me.flags){_e.msg="unknown header flags set",me.mode=30;break}me.head&&(me.head.text=we>>8&1),512&me.flags&&(Be[0]=255&we,Be[1]=we>>>8&255,me.check=F(me.check,Be,2,0)),ke=we=0,me.mode=3;case 3:for(;ke<32;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}me.head&&(me.head.time=we),512&me.flags&&(Be[0]=255&we,Be[1]=we>>>8&255,Be[2]=we>>>16&255,Be[3]=we>>>24&255,me.check=F(me.check,Be,4,0)),ke=we=0,me.mode=4;case 4:for(;ke<16;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}me.head&&(me.head.xflags=255&we,me.head.os=we>>8),512&me.flags&&(Be[0]=255&we,Be[1]=we>>>8&255,me.check=F(me.check,Be,2,0)),ke=we=0,me.mode=5;case 5:if(1024&me.flags){for(;ke<16;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}me.length=we,me.head&&(me.head.extra_len=we),512&me.flags&&(Be[0]=255&we,Be[1]=we>>>8&255,me.check=F(me.check,Be,2,0)),ke=we=0}else me.head&&(me.head.extra=null);me.mode=6;case 6:if(1024&me.flags&&(Me<(je=me.length)&&(je=Me),je&&(me.head&&(ye=me.head.extra_len-me.length,me.head.extra||(me.head.extra=new Array(me.head.extra_len)),z.arraySet(me.head.extra,Ce,Re,je,ye)),512&me.flags&&(me.check=F(me.check,Ce,je,Re)),Me-=je,Re+=je,me.length-=je),me.length))break e;me.length=0,me.mode=7;case 7:if(2048&me.flags){if(Me===0)break e;for(je=0;ye=Ce[Re+je++],me.head&&ye&&me.length<65536&&(me.head.name+=String.fromCharCode(ye)),ye&&je<Me;);if(512&me.flags&&(me.check=F(me.check,Ce,je,Re)),Me-=je,Re+=je,ye)break e}else me.head&&(me.head.name=null);me.length=0,me.mode=8;case 8:if(4096&me.flags){if(Me===0)break e;for(je=0;ye=Ce[Re+je++],me.head&&ye&&me.length<65536&&(me.head.comment+=String.fromCharCode(ye)),ye&&je<Me;);if(512&me.flags&&(me.check=F(me.check,Ce,je,Re)),Me-=je,Re+=je,ye)break e}else me.head&&(me.head.comment=null);me.mode=9;case 9:if(512&me.flags){for(;ke<16;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}if(we!==(65535&me.check)){_e.msg="header crc mismatch",me.mode=30;break}ke=we=0}me.head&&(me.head.hcrc=me.flags>>9&1,me.head.done=!0),_e.adler=me.check=0,me.mode=12;break;case 10:for(;ke<32;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}_e.adler=me.check=ae(we),ke=we=0,me.mode=11;case 11:if(me.havedict===0)return _e.next_out=Pe,_e.avail_out=Ae,_e.next_in=Re,_e.avail_in=Me,me.hold=we,me.bits=ke,2;_e.adler=me.check=1,me.mode=12;case 12:if(Se===5||Se===6)break e;case 13:if(me.last){we>>>=7&ke,ke-=7&ke,me.mode=27;break}for(;ke<3;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}switch(me.last=1&we,ke-=1,3&(we>>>=1)){case 0:me.mode=14;break;case 1:if(be(me),me.mode=20,Se!==6)break;we>>>=2,ke-=2;break e;case 2:me.mode=17;break;case 3:_e.msg="invalid block type",me.mode=30}we>>>=2,ke-=2;break;case 14:for(we>>>=7&ke,ke-=7&ke;ke<32;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}if((65535&we)!=(we>>>16^65535)){_e.msg="invalid stored block lengths",me.mode=30;break}if(me.length=65535&we,ke=we=0,me.mode=15,Se===6)break e;case 15:me.mode=16;case 16:if(je=me.length){if(Me<je&&(je=Me),Ae<je&&(je=Ae),je===0)break e;z.arraySet(Te,Ce,Re,je,Pe),Me-=je,Re+=je,Ae-=je,Pe+=je,me.length-=je;break}me.mode=12;break;case 17:for(;ke<14;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}if(me.nlen=257+(31&we),we>>>=5,ke-=5,me.ndist=1+(31&we),we>>>=5,ke-=5,me.ncode=4+(15&we),we>>>=4,ke-=4,286<me.nlen||30<me.ndist){_e.msg="too many length or distance symbols",me.mode=30;break}me.have=0,me.mode=18;case 18:for(;me.have<me.ncode;){for(;ke<3;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}me.lens[at[me.have++]]=7&we,we>>>=3,ke-=3}for(;me.have<19;)me.lens[at[me.have++]]=0;if(me.lencode=me.lendyn,me.lenbits=7,Fe={bits:me.lenbits},Ge=V(0,me.lens,0,19,me.lencode,0,me.work,Fe),me.lenbits=Fe.bits,Ge){_e.msg="invalid code lengths set",me.mode=30;break}me.have=0,me.mode=19;case 19:for(;me.have<me.nlen+me.ndist;){for(;Le=(Ne=me.lencode[we&(1<<me.lenbits)-1])>>>16&255,Xe=65535&Ne,!((Ze=Ne>>>24)<=ke);){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}if(Xe<16)we>>>=Ze,ke-=Ze,me.lens[me.have++]=Xe;else{if(Xe===16){for(Ie=Ze+2;ke<Ie;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}if(we>>>=Ze,ke-=Ze,me.have===0){_e.msg="invalid bit length repeat",me.mode=30;break}ye=me.lens[me.have-1],je=3+(3&we),we>>>=2,ke-=2}else if(Xe===17){for(Ie=Ze+3;ke<Ie;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}ke-=Ze,ye=0,je=3+(7&(we>>>=Ze)),we>>>=3,ke-=3}else{for(Ie=Ze+7;ke<Ie;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}ke-=Ze,ye=0,je=11+(127&(we>>>=Ze)),we>>>=7,ke-=7}if(me.have+je>me.nlen+me.ndist){_e.msg="invalid bit length repeat",me.mode=30;break}for(;je--;)me.lens[me.have++]=ye}}if(me.mode===30)break;if(me.lens[256]===0){_e.msg="invalid code -- missing end-of-block",me.mode=30;break}if(me.lenbits=9,Fe={bits:me.lenbits},Ge=V(q,me.lens,0,me.nlen,me.lencode,0,me.work,Fe),me.lenbits=Fe.bits,Ge){_e.msg="invalid literal/lengths set",me.mode=30;break}if(me.distbits=6,me.distcode=me.distdyn,Fe={bits:me.distbits},Ge=V(W,me.lens,me.nlen,me.ndist,me.distcode,0,me.work,Fe),me.distbits=Fe.bits,Ge){_e.msg="invalid distances set",me.mode=30;break}if(me.mode=20,Se===6)break e;case 20:me.mode=21;case 21:if(6<=Me&&258<=Ae){_e.next_out=Pe,_e.avail_out=Ae,_e.next_in=Re,_e.avail_in=Me,me.hold=we,me.bits=ke,U(_e,ze),Pe=_e.next_out,Te=_e.output,Ae=_e.avail_out,Re=_e.next_in,Ce=_e.input,Me=_e.avail_in,we=me.hold,ke=me.bits,me.mode===12&&(me.back=-1);break}for(me.back=0;Le=(Ne=me.lencode[we&(1<<me.lenbits)-1])>>>16&255,Xe=65535&Ne,!((Ze=Ne>>>24)<=ke);){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}if(Le&&(240&Le)==0){for(Ye=Ze,Ve=Le,dt=Xe;Le=(Ne=me.lencode[dt+((we&(1<<Ye+Ve)-1)>>Ye)])>>>16&255,Xe=65535&Ne,!(Ye+(Ze=Ne>>>24)<=ke);){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}we>>>=Ye,ke-=Ye,me.back+=Ye}if(we>>>=Ze,ke-=Ze,me.back+=Ze,me.length=Xe,Le===0){me.mode=26;break}if(32&Le){me.back=-1,me.mode=12;break}if(64&Le){_e.msg="invalid literal/length code",me.mode=30;break}me.extra=15&Le,me.mode=22;case 22:if(me.extra){for(Ie=me.extra;ke<Ie;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}me.length+=we&(1<<me.extra)-1,we>>>=me.extra,ke-=me.extra,me.back+=me.extra}me.was=me.length,me.mode=23;case 23:for(;Le=(Ne=me.distcode[we&(1<<me.distbits)-1])>>>16&255,Xe=65535&Ne,!((Ze=Ne>>>24)<=ke);){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}if((240&Le)==0){for(Ye=Ze,Ve=Le,dt=Xe;Le=(Ne=me.distcode[dt+((we&(1<<Ye+Ve)-1)>>Ye)])>>>16&255,Xe=65535&Ne,!(Ye+(Ze=Ne>>>24)<=ke);){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}we>>>=Ye,ke-=Ye,me.back+=Ye}if(we>>>=Ze,ke-=Ze,me.back+=Ze,64&Le){_e.msg="invalid distance code",me.mode=30;break}me.offset=Xe,me.extra=15&Le,me.mode=24;case 24:if(me.extra){for(Ie=me.extra;ke<Ie;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}me.offset+=we&(1<<me.extra)-1,we>>>=me.extra,ke-=me.extra,me.back+=me.extra}if(me.offset>me.dmax){_e.msg="invalid distance too far back",me.mode=30;break}me.mode=25;case 25:if(Ae===0)break e;if(je=ze-Ae,me.offset>je){if((je=me.offset-je)>me.whave&&me.sane){_e.msg="invalid distance too far back",me.mode=30;break}Ke=je>me.wnext?(je-=me.wnext,me.wsize-je):me.wnext-je,je>me.length&&(je=me.length),He=me.window}else He=Te,Ke=Pe-me.offset,je=me.length;for(Ae<je&&(je=Ae),Ae-=je,me.length-=je;Te[Pe++]=He[Ke++],--je;);me.length===0&&(me.mode=21);break;case 26:if(Ae===0)break e;Te[Pe++]=me.length,Ae--,me.mode=21;break;case 27:if(me.wrap){for(;ke<32;){if(Me===0)break e;Me--,we|=Ce[Re++]<<ke,ke+=8}if(ze-=Ae,_e.total_out+=ze,me.total+=ze,ze&&(_e.adler=me.check=me.flags?F(me.check,Te,ze,Pe-ze):L(me.check,Te,ze,Pe-ze)),ze=Ae,(me.flags?we:ae(we))!==me.check){_e.msg="incorrect data check",me.mode=30;break}ke=we=0}me.mode=28;case 28:if(me.wrap&&me.flags){for(;ke<32;){if(Me===0)break e;Me--,we+=Ce[Re++]<<ke,ke+=8}if(we!==(4294967295&me.total)){_e.msg="incorrect length check",me.mode=30;break}ke=we=0}me.mode=29;case 29:Ge=1;break e;case 30:Ge=-3;break e;case 31:return-4;default:return Q}return _e.next_out=Pe,_e.avail_out=Ae,_e.next_in=Re,_e.avail_in=Me,me.hold=we,me.bits=ke,(me.wsize||ze!==_e.avail_out&&me.mode<30&&(me.mode<27||Se!==4))&&xe(_e,_e.output,_e.next_out,ze-_e.avail_out)?(me.mode=31,-4):(Ee-=_e.avail_in,ze-=_e.avail_out,_e.total_in+=Ee,_e.total_out+=ze,me.total+=ze,me.wrap&&ze&&(_e.adler=me.check=me.flags?F(me.check,Te,ze,_e.next_out-ze):L(me.check,Te,ze,_e.next_out-ze)),_e.data_type=me.bits+(me.last?64:0)+(me.mode===12?128:0)+(me.mode===20||me.mode===15?256:0),(Ee==0&&ze===0||Se===4)&&Ge===Y&&(Ge=-5),Ge)},O.inflateEnd=function(_e){if(!_e||!_e.state)return Q;var Se=_e.state;return Se.window&&(Se.window=null),_e.state=null,Y},O.inflateGetHeader=function(_e,Se){var me;return _e&&_e.state?(2&(me=_e.state).wrap)==0?Q:((me.head=Se).done=!1,Y):Q},O.inflateSetDictionary=function(_e,Se){var me,Ce=Se.length;return _e&&_e.state?(me=_e.state).wrap!==0&&me.mode!==11?Q:me.mode===11&&L(1,Se,Ce,0)!==me.check?-3:xe(_e,Se,Ce,Ce)?(me.mode=31,-4):(me.havedict=1,Y):Q},O.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(P,I,O){var z=P("../utils/common"),L=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],F=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],V=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];I.exports=function(q,W,Y,Q,ee,te,ie,ae){var se,le,ce,fe,de,he,pe,ge,be,xe=ae.bits,_e=0,Se=0,me=0,Ce=0,Te=0,Re=0,Pe=0,Me=0,Ae=0,we=0,ke=null,Ee=0,ze=new z.Buf16(16),je=new z.Buf16(16),Ke=null,He=0;for(_e=0;_e<=15;_e++)ze[_e]=0;for(Se=0;Se<Q;Se++)ze[W[Y+Se]]++;for(Te=xe,Ce=15;1<=Ce&&ze[Ce]===0;Ce--);if(Ce<Te&&(Te=Ce),Ce===0)return ee[te++]=20971520,ee[te++]=20971520,ae.bits=1,0;for(me=1;me<Ce&&ze[me]===0;me++);for(Te<me&&(Te=me),_e=Me=1;_e<=15;_e++)if(Me<<=1,(Me-=ze[_e])<0)return-1;if(0<Me&&(q===0||Ce!==1))return-1;for(je[1]=0,_e=1;_e<15;_e++)je[_e+1]=je[_e]+ze[_e];for(Se=0;Se<Q;Se++)W[Y+Se]!==0&&(ie[je[W[Y+Se]]++]=Se);if(he=q===0?(ke=Ke=ie,19):q===1?(ke=L,Ee-=257,Ke=F,He-=257,256):(ke=U,Ke=V,-1),_e=me,de=te,Pe=Se=we=0,ce=-1,fe=(Ae=1<<(Re=Te))-1,q===1&&852<Ae||q===2&&592<Ae)return 1;for(;;){for(pe=_e-Pe,be=ie[Se]<he?(ge=0,ie[Se]):ie[Se]>he?(ge=Ke[He+ie[Se]],ke[Ee+ie[Se]]):(ge=96,0),se=1<<_e-Pe,me=le=1<<Re;ee[de+(we>>Pe)+(le-=se)]=pe<<24|ge<<16|be|0,le!==0;);for(se=1<<_e-1;we&se;)se>>=1;if(se!==0?(we&=se-1,we+=se):we=0,Se++,--ze[_e]==0){if(_e===Ce)break;_e=W[Y+ie[Se]]}if(Te<_e&&(we&fe)!==ce){for(Pe===0&&(Pe=Te),de+=me,Me=1<<(Re=_e-Pe);Re+Pe<Ce&&!((Me-=ze[Re+Pe])<=0);)Re++,Me<<=1;if(Ae+=1<<Re,q===1&&852<Ae||q===2&&592<Ae)return 1;ee[ce=we&fe]=Te<<24|Re<<16|de-te|0}}return we!==0&&(ee[de+we]=_e-Pe<<24|64<<16|0),ae.bits=Te,0}},{"../utils/common":41}],51:[function(P,I,O){I.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(P,I,O){var z=P("../utils/common"),L=0,F=1;function U(Ne){for(var Be=Ne.length;0<=--Be;)Ne[Be]=0}var V=0,q=29,W=256,Y=W+1+q,Q=30,ee=19,te=2*Y+1,ie=15,ae=16,se=7,le=256,ce=16,fe=17,de=18,he=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],pe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],be=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],xe=new Array(2*(Y+2));U(xe);var _e=new Array(2*Q);U(_e);var Se=new Array(512);U(Se);var me=new Array(256);U(me);var Ce=new Array(q);U(Ce);var Te,Re,Pe,Me=new Array(Q);function Ae(Ne,Be,at,lt,We){this.static_tree=Ne,this.extra_bits=Be,this.extra_base=at,this.elems=lt,this.max_length=We,this.has_stree=Ne&&Ne.length}function we(Ne,Be){this.dyn_tree=Ne,this.max_code=0,this.stat_desc=Be}function ke(Ne){return Ne<256?Se[Ne]:Se[256+(Ne>>>7)]}function Ee(Ne,Be){Ne.pending_buf[Ne.pending++]=255&Be,Ne.pending_buf[Ne.pending++]=Be>>>8&255}function ze(Ne,Be,at){Ne.bi_valid>ae-at?(Ne.bi_buf|=Be<<Ne.bi_valid&65535,Ee(Ne,Ne.bi_buf),Ne.bi_buf=Be>>ae-Ne.bi_valid,Ne.bi_valid+=at-ae):(Ne.bi_buf|=Be<<Ne.bi_valid&65535,Ne.bi_valid+=at)}function je(Ne,Be,at){ze(Ne,at[2*Be],at[2*Be+1])}function Ke(Ne,Be){for(var at=0;at|=1&Ne,Ne>>>=1,at<<=1,0<--Be;);return at>>>1}function He(Ne,Be,at){var lt,We,ht=new Array(ie+1),ut=0;for(lt=1;lt<=ie;lt++)ht[lt]=ut=ut+at[lt-1]<<1;for(We=0;We<=Be;We++){var ft=Ne[2*We+1];ft!==0&&(Ne[2*We]=Ke(ht[ft]++,ft))}}function Ze(Ne){var Be;for(Be=0;Be<Y;Be++)Ne.dyn_ltree[2*Be]=0;for(Be=0;Be<Q;Be++)Ne.dyn_dtree[2*Be]=0;for(Be=0;Be<ee;Be++)Ne.bl_tree[2*Be]=0;Ne.dyn_ltree[2*le]=1,Ne.opt_len=Ne.static_len=0,Ne.last_lit=Ne.matches=0}function Le(Ne){8<Ne.bi_valid?Ee(Ne,Ne.bi_buf):0<Ne.bi_valid&&(Ne.pending_buf[Ne.pending++]=Ne.bi_buf),Ne.bi_buf=0,Ne.bi_valid=0}function Xe(Ne,Be,at,lt){var We=2*Be,ht=2*at;return Ne[We]<Ne[ht]||Ne[We]===Ne[ht]&&lt[Be]<=lt[at]}function Ye(Ne,Be,at){for(var lt=Ne.heap[at],We=at<<1;We<=Ne.heap_len&&(We<Ne.heap_len&&Xe(Be,Ne.heap[We+1],Ne.heap[We],Ne.depth)&&We++,!Xe(Be,lt,Ne.heap[We],Ne.depth));)Ne.heap[at]=Ne.heap[We],at=We,We<<=1;Ne.heap[at]=lt}function Ve(Ne,Be,at){var lt,We,ht,ut,ft=0;if(Ne.last_lit!==0)for(;lt=Ne.pending_buf[Ne.d_buf+2*ft]<<8|Ne.pending_buf[Ne.d_buf+2*ft+1],We=Ne.pending_buf[Ne.l_buf+ft],ft++,lt===0?je(Ne,We,Be):(je(Ne,(ht=me[We])+W+1,Be),(ut=he[ht])!==0&&ze(Ne,We-=Ce[ht],ut),je(Ne,ht=ke(--lt),at),(ut=pe[ht])!==0&&ze(Ne,lt-=Me[ht],ut)),ft<Ne.last_lit;);je(Ne,le,Be)}function dt(Ne,Be){var at,lt,We,ht=Be.dyn_tree,ut=Be.stat_desc.static_tree,ft=Be.stat_desc.has_stree,Oe=Be.stat_desc.elems,tt=-1;for(Ne.heap_len=0,Ne.heap_max=te,at=0;at<Oe;at++)ht[2*at]!==0?(Ne.heap[++Ne.heap_len]=tt=at,Ne.depth[at]=0):ht[2*at+1]=0;for(;Ne.heap_len<2;)ht[2*(We=Ne.heap[++Ne.heap_len]=tt<2?++tt:0)]=1,Ne.depth[We]=0,Ne.opt_len--,ft&&(Ne.static_len-=ut[2*We+1]);for(Be.max_code=tt,at=Ne.heap_len>>1;1<=at;at--)Ye(Ne,ht,at);for(We=Oe;at=Ne.heap[1],Ne.heap[1]=Ne.heap[Ne.heap_len--],Ye(Ne,ht,1),lt=Ne.heap[1],Ne.heap[--Ne.heap_max]=at,Ne.heap[--Ne.heap_max]=lt,ht[2*We]=ht[2*at]+ht[2*lt],Ne.depth[We]=(Ne.depth[at]>=Ne.depth[lt]?Ne.depth[at]:Ne.depth[lt])+1,ht[2*at+1]=ht[2*lt+1]=We,Ne.heap[1]=We++,Ye(Ne,ht,1),2<=Ne.heap_len;);Ne.heap[--Ne.heap_max]=Ne.heap[1],(function(st,mt){var gt,Tt,Et,_t,vt,wt,xt=mt.dyn_tree,Xt=mt.max_code,Kt=mt.stat_desc.static_tree,_r=mt.stat_desc.has_stree,Gn=mt.stat_desc.extra_bits,jn=mt.stat_desc.extra_base,Rn=mt.stat_desc.max_length,kn=0;for(_t=0;_t<=ie;_t++)st.bl_count[_t]=0;for(xt[2*st.heap[st.heap_max]+1]=0,gt=st.heap_max+1;gt<te;gt++)Rn<(_t=xt[2*xt[2*(Tt=st.heap[gt])+1]+1]+1)&&(_t=Rn,kn++),xt[2*Tt+1]=_t,Xt<Tt||(st.bl_count[_t]++,vt=0,jn<=Tt&&(vt=Gn[Tt-jn]),wt=xt[2*Tt],st.opt_len+=wt*(_t+vt),_r&&(st.static_len+=wt*(Kt[2*Tt+1]+vt)));if(kn!==0){do{for(_t=Rn-1;st.bl_count[_t]===0;)_t--;st.bl_count[_t]--,st.bl_count[_t+1]+=2,st.bl_count[Rn]--,kn-=2}while(0<kn);for(_t=Rn;_t!==0;_t--)for(Tt=st.bl_count[_t];Tt!==0;)Xt<(Et=st.heap[--gt])||(xt[2*Et+1]!==_t&&(st.opt_len+=(_t-xt[2*Et+1])*xt[2*Et],xt[2*Et+1]=_t),Tt--)}})(Ne,Be),He(ht,tt,Ne.bl_count)}function ye(Ne,Be,at){var lt,We,ht=-1,ut=Be[1],ft=0,Oe=7,tt=4;for(ut===0&&(Oe=138,tt=3),Be[2*(at+1)+1]=65535,lt=0;lt<=at;lt++)We=ut,ut=Be[2*(lt+1)+1],++ft<Oe&&We===ut||(ft<tt?Ne.bl_tree[2*We]+=ft:We!==0?(We!==ht&&Ne.bl_tree[2*We]++,Ne.bl_tree[2*ce]++):ft<=10?Ne.bl_tree[2*fe]++:Ne.bl_tree[2*de]++,ht=We,tt=(ft=0)===ut?(Oe=138,3):We===ut?(Oe=6,3):(Oe=7,4))}function Ge(Ne,Be,at){var lt,We,ht=-1,ut=Be[1],ft=0,Oe=7,tt=4;for(ut===0&&(Oe=138,tt=3),lt=0;lt<=at;lt++)if(We=ut,ut=Be[2*(lt+1)+1],!(++ft<Oe&&We===ut)){if(ft<tt)for(;je(Ne,We,Ne.bl_tree),--ft!=0;);else We!==0?(We!==ht&&(je(Ne,We,Ne.bl_tree),ft--),je(Ne,ce,Ne.bl_tree),ze(Ne,ft-3,2)):ft<=10?(je(Ne,fe,Ne.bl_tree),ze(Ne,ft-3,3)):(je(Ne,de,Ne.bl_tree),ze(Ne,ft-11,7));ht=We,tt=(ft=0)===ut?(Oe=138,3):We===ut?(Oe=6,3):(Oe=7,4)}}U(Me);var Fe=!1;function Ie(Ne,Be,at,lt){ze(Ne,(V<<1)+(lt?1:0),3),(function(We,ht,ut,ft){Le(We),Ee(We,ut),Ee(We,~ut),z.arraySet(We.pending_buf,We.window,ht,ut,We.pending),We.pending+=ut})(Ne,Be,at)}O._tr_init=function(Ne){Fe||((function(){var Be,at,lt,We,ht,ut=new Array(ie+1);for(We=lt=0;We<q-1;We++)for(Ce[We]=lt,Be=0;Be<1<<he[We];Be++)me[lt++]=We;for(me[lt-1]=We,We=ht=0;We<16;We++)for(Me[We]=ht,Be=0;Be<1<<pe[We];Be++)Se[ht++]=We;for(ht>>=7;We<Q;We++)for(Me[We]=ht<<7,Be=0;Be<1<<pe[We]-7;Be++)Se[256+ht++]=We;for(at=0;at<=ie;at++)ut[at]=0;for(Be=0;Be<=143;)xe[2*Be+1]=8,Be++,ut[8]++;for(;Be<=255;)xe[2*Be+1]=9,Be++,ut[9]++;for(;Be<=279;)xe[2*Be+1]=7,Be++,ut[7]++;for(;Be<=287;)xe[2*Be+1]=8,Be++,ut[8]++;for(He(xe,Y+1,ut),Be=0;Be<Q;Be++)_e[2*Be+1]=5,_e[2*Be]=Ke(Be,5);Te=new Ae(xe,he,W+1,Y,ie),Re=new Ae(_e,pe,0,Q,ie),Pe=new Ae(new Array(0),ge,0,ee,se)})(),Fe=!0),Ne.l_desc=new we(Ne.dyn_ltree,Te),Ne.d_desc=new we(Ne.dyn_dtree,Re),Ne.bl_desc=new we(Ne.bl_tree,Pe),Ne.bi_buf=0,Ne.bi_valid=0,Ze(Ne)},O._tr_stored_block=Ie,O._tr_flush_block=function(Ne,Be,at,lt){var We,ht,ut=0;0<Ne.level?(Ne.strm.data_type===2&&(Ne.strm.data_type=(function(ft){var Oe,tt=4093624447;for(Oe=0;Oe<=31;Oe++,tt>>>=1)if(1&tt&&ft.dyn_ltree[2*Oe]!==0)return L;if(ft.dyn_ltree[18]!==0||ft.dyn_ltree[20]!==0||ft.dyn_ltree[26]!==0)return F;for(Oe=32;Oe<W;Oe++)if(ft.dyn_ltree[2*Oe]!==0)return F;return L})(Ne)),dt(Ne,Ne.l_desc),dt(Ne,Ne.d_desc),ut=(function(ft){var Oe;for(ye(ft,ft.dyn_ltree,ft.l_desc.max_code),ye(ft,ft.dyn_dtree,ft.d_desc.max_code),dt(ft,ft.bl_desc),Oe=ee-1;3<=Oe&&ft.bl_tree[2*be[Oe]+1]===0;Oe--);return ft.opt_len+=3*(Oe+1)+5+5+4,Oe})(Ne),We=Ne.opt_len+3+7>>>3,(ht=Ne.static_len+3+7>>>3)<=We&&(We=ht)):We=ht=at+5,at+4<=We&&Be!==-1?Ie(Ne,Be,at,lt):Ne.strategy===4||ht===We?(ze(Ne,2+(lt?1:0),3),Ve(Ne,xe,_e)):(ze(Ne,4+(lt?1:0),3),(function(ft,Oe,tt,st){var mt;for(ze(ft,Oe-257,5),ze(ft,tt-1,5),ze(ft,st-4,4),mt=0;mt<st;mt++)ze(ft,ft.bl_tree[2*be[mt]+1],3);Ge(ft,ft.dyn_ltree,Oe-1),Ge(ft,ft.dyn_dtree,tt-1)})(Ne,Ne.l_desc.max_code+1,Ne.d_desc.max_code+1,ut+1),Ve(Ne,Ne.dyn_ltree,Ne.dyn_dtree)),Ze(Ne),lt&&Le(Ne)},O._tr_tally=function(Ne,Be,at){return Ne.pending_buf[Ne.d_buf+2*Ne.last_lit]=Be>>>8&255,Ne.pending_buf[Ne.d_buf+2*Ne.last_lit+1]=255&Be,Ne.pending_buf[Ne.l_buf+Ne.last_lit]=255&at,Ne.last_lit++,Be===0?Ne.dyn_ltree[2*at]++:(Ne.matches++,Be--,Ne.dyn_ltree[2*(me[at]+W+1)]++,Ne.dyn_dtree[2*ke(Be)]++),Ne.last_lit===Ne.lit_bufsize-1},O._tr_align=function(Ne){ze(Ne,2,3),je(Ne,le,xe),(function(Be){Be.bi_valid===16?(Ee(Be,Be.bi_buf),Be.bi_buf=0,Be.bi_valid=0):8<=Be.bi_valid&&(Be.pending_buf[Be.pending++]=255&Be.bi_buf,Be.bi_buf>>=8,Be.bi_valid-=8)})(Ne)}},{"../utils/common":41}],53:[function(P,I,O){I.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(P,I,O){(function(z){(function(L,F){if(!L.setImmediate){var U,V,q,W,Y=1,Q={},ee=!1,te=L.document,ie=Object.getPrototypeOf&&Object.getPrototypeOf(L);ie=ie&&ie.setTimeout?ie:L,U={}.toString.call(L.process)==="[object process]"?function(ce){process.nextTick(function(){se(ce)})}:(function(){if(L.postMessage&&!L.importScripts){var ce=!0,fe=L.onmessage;return L.onmessage=function(){ce=!1},L.postMessage("","*"),L.onmessage=fe,ce}})()?(W="setImmediate$"+Math.random()+"$",L.addEventListener?L.addEventListener("message",le,!1):L.attachEvent("onmessage",le),function(ce){L.postMessage(W+ce,"*")}):L.MessageChannel?((q=new MessageChannel).port1.onmessage=function(ce){se(ce.data)},function(ce){q.port2.postMessage(ce)}):te&&"onreadystatechange"in te.createElement("script")?(V=te.documentElement,function(ce){var fe=te.createElement("script");fe.onreadystatechange=function(){se(ce),fe.onreadystatechange=null,V.removeChild(fe),fe=null},V.appendChild(fe)}):function(ce){setTimeout(se,0,ce)},ie.setImmediate=function(ce){typeof ce!="function"&&(ce=new Function(""+ce));for(var fe=new Array(arguments.length-1),de=0;de<fe.length;de++)fe[de]=arguments[de+1];var he={callback:ce,args:fe};return Q[Y]=he,U(Y),Y++},ie.clearImmediate=ae}function ae(ce){delete Q[ce]}function se(ce){if(ee)setTimeout(se,0,ce);else{var fe=Q[ce];if(fe){ee=!0;try{(function(de){var he=de.callback,pe=de.args;switch(pe.length){case 0:he();break;case 1:he(pe[0]);break;case 2:he(pe[0],pe[1]);break;case 3:he(pe[0],pe[1],pe[2]);break;default:he.apply(F,pe)}})(fe)}finally{ae(ce),ee=!1}}}}function le(ce){ce.source===L&&typeof ce.data=="string"&&ce.data.indexOf(W)===0&&se(+ce.data.slice(W.length))}})(typeof self>"u"?z===void 0?this:z:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min)),jszip_min.exports}var jszip_minExports=requireJszip_min();const JSZip=getDefaultExportFromCjs(jszip_minExports);class ZipBuilder{zip;constructor(){this.zip=new JSZip}addFile(R,P){this.zip.file(R,P)}async generate(){return await this.zip.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}})}getFileCount(){let R=0;return this.zip.forEach(()=>{R++}),R}}async function runBatchExport(_,R,P){const I=_.modelName??_.baseParams.metadata.model,O=modelRegistry.get(I);if(!O)throw new Error(`Model "${I}" not found in registry`);const z=generateParameterConfigs(_.batchConfig.parameter_ranges,_.batchConfig.sampling_mode,_.batchConfig.random_sample_count),L=z.length*_.batchConfig.seeds_per_config,F=new ZipBuilder,U=tomlExports.stringify(_.batchConfig);F.addFile("config.toml",U),R.onProgress?.({phase:"initializing",currentRun:0,totalRuns:L,runProgress:0,overallPercent:0});let V=0;for(let W=0;W<z.length;W++){const Y=z[W];for(let Q=0;Q<_.batchConfig.seeds_per_config;Q++){if(P?.aborted)throw new Error("Export cancelled by user");V++;const ee=Q+1;R.onProgress?.({phase:"simulating",currentRun:V,totalRuns:L,runProgress:0,overallPercent:(V-1)/L*100,currentConfig:Y}),await runSingleExport(O,_.baseParams,Y,ee,V,_,F,R,P)}}return R.onProgress?.({phase:"packaging",currentRun:L,totalRuns:L,runProgress:100,overallPercent:100}),await F.generate()}async function runSingleExport(_,R,P,I,O,z,L,F,U){const V=structuredClone(R);for(const[ce,fe]of Object.entries(P))setNestedValue(V,ce,fe);V.general.random_seed=I;const q=`run_${O.toString().padStart(3,"0")}`,W=tomlExports.stringify(V);L.addFile(`${q}/params.toml`,W);const Y=new OffscreenRenderer({width:z.resolution.width,height:z.resolution.height,isDark:z.isDark??!1});await Y.init(_,V),z.renderOptions&&Y.setRenderOptions(z.renderOptions);const Q=new SimulationEngine({model:_,params:V});Q.init();const ee=getTimeSamples(z.batchConfig.time_samples),te=V.general.t_end;let ie=null;z.exportMovie&&(ie=new MP4VideoEncoder({width:z.resolution.width,height:z.resolution.height,frameRate:z.frameRate}),await ie.init());let ae=0;if(ee.length>0&&ee[0]<=0){const ce=Q.getState();Y.render(ce);const fe=await Y.getScreenshot();if(L.addFile(`${q}/screenshots/t_${ee[0].toFixed(2)}h.png`,fe),ie){const de=Y.getCanvas();de instanceof HTMLCanvasElement&&await ie.addFrame(de,0)}ae=1}let se=0;const le=1e3/z.frameRate;for(;!Q.isComplete();){if(U?.aborted)throw Y.destroy(),new Error("Export cancelled by user");Q.step();const ce=Q.getState(),fe=ce.t??0;if(Y.render(ce),ie&&fe*1e3>=se*le){const pe=Y.getCanvas();pe instanceof HTMLCanvasElement&&await ie.addFrame(pe,fe*1e3),se++}for(;ae<ee.length&&fe>=ee[ae];){const pe=await Y.getScreenshot();L.addFile(`${q}/screenshots/t_${ee[ae].toFixed(2)}h.png`,pe),ae++}const de=Math.min(fe/te*100,100),he=(F.onProgress,1);F.onProgress?.({phase:"simulating",currentRun:O,totalRuns:he,runProgress:de,overallPercent:(O-1+de/100)/he*100,currentConfig:P})}if(ie){F.onProgress?.({phase:"encoding",currentRun:O,totalRuns:1,runProgress:100,overallPercent:(O-.5)/1*100});const ce=await ie.finish();L.addFile(`${q}/movie.mp4`,ce)}Y.destroy()}function BatchTab({config:_,onConfigChange:R}){const{currentModel:P}=useModel(),[I,O]=reactExports.useState(null),[z,L]=reactExports.useState(null),[F,U]=reactExports.useState(!1),[V,q]=reactExports.useState(null),W=reactExports.useRef(!1),Q=(P?.generateStatistics?P.generateStatistics(_.params):P?.statistics||[]).map(Oe=>Oe.id),[ee,te]=reactExports.useState("time_series"),[ie,ae]=reactExports.useState([]),[se,le]=reactExports.useState([]),[ce,fe]=reactExports.useState([]),[de,he]=reactExports.useState("time_h"),[pe,ge]=reactExports.useState(""),[be,xe]=reactExports.useState("line_ci"),[_e,Se]=reactExports.useState(""),[me,Ce]=reactExports.useState(""),[Te,Re]=reactExports.useState(WorkerPool.isSupported()),Pe=typeof navigator<"u"&&navigator.hardwareConcurrency||4,Me=reactExports.useRef(null),[Ae,we]=reactExports.useState({exportMovie:!0,resolution:{width:1920,height:1920},frameRate:30}),[ke,Ee]=reactExports.useState(null),ze=reactExports.useRef(null),je=computeTotalRuns(_.parameterRanges,_.seedsPerConfig),Ke=getTimeSamples(_.timeSamples),He=je*Ke.length,Ze=reactExports.useCallback(async()=>{U(!0),q(Date.now()),W.current=!1;try{const Oe=await runBatch(_.params,{parameter_ranges:_.parameterRanges,time_samples:_.timeSamples,seeds_per_config:_.seedsPerConfig,sampling_mode:"grid"},{onProgress:tt=>{W.current||L(tt)}},{parallel:Te,workerCount:Pe});W.current||(O(Oe),ae([]),le([]))}catch(Oe){console.error("Batch run failed:",Oe),alert("Batch run failed. Check console for details.")}finally{U(!1),L(null),q(null)}},[_,Te,Pe]),Le=reactExports.useCallback(()=>{W.current=!0},[]),Xe=async Oe=>{const tt=Oe.target.files?.[0];if(tt){try{const st=await readFileAsText(tt),mt=csvToBatchSnapshots(st),gt=createBatchDataFromSnapshots(mt);O(gt),ae([]),le([])}catch(st){console.error("Failed to load batch CSV:",st),alert("Failed to load batch CSV. Check console for details.")}Me.current&&(Me.current.value="")}},Ye=()=>{if(!I)return;const Oe=batchSnapshotsToCSV(I.snapshots);downloadCSV(Oe,"batch_snapshots.csv")},Ve=reactExports.useCallback(async()=>{if(!_.params)return;const Oe=new AbortController;ze.current=Oe;try{const tt=await runBatchExport({batchConfig:{parameter_ranges:_.parameterRanges,time_samples:_.timeSamples,seeds_per_config:_.seedsPerConfig,sampling_mode:"grid"},baseParams:_.params,exportMovie:Ae.exportMovie,resolution:Ae.resolution,frameRate:Ae.frameRate,isDark:!1,renderOptions:{}},{onProgress:Tt=>{Ee(Tt)}},Oe.signal),mt=`batch_export_${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.zip`,gt=document.createElement("a");gt.href=URL.createObjectURL(tt),gt.download=mt,gt.click(),URL.revokeObjectURL(gt.href),Ee(null)}catch(tt){tt.message.includes("cancelled")?console.log("Export cancelled"):(console.error("Export failed:",tt),alert("Export failed. Check console for details.")),Ee(null)}finally{ze.current=null}},[_,Ae]),dt=reactExports.useCallback(()=>{ze.current&&(ze.current.abort(),ze.current=null),Ee(null)},[]),ye=()=>{if(!I||Q.length===0||!P)return;const Oe=new Set;for(const wt of I.snapshots)for(const xt of Object.keys(wt.sampled_params))Oe.add(xt);const tt=Array.from(Oe).sort();let st;if(ee==="terminal"){const wt=new Map;for(const xt of I.snapshots){const Xt=`${xt.run_index}-${xt.seed}`,Kt=wt.get(Xt);(!Kt||xt.time_h>Kt.time_h)&&wt.set(Xt,xt)}st=Array.from(wt.values())}else st=I.snapshots;const mt=new Set,gt=new Set;for(const wt of Q){const xt=wt.lastIndexOf("_");if(xt>0){const Xt=wt.substring(0,xt),Kt=wt.substring(xt+1);gt.add(Xt),mt.add(Kt)}}const Tt=Array.from(mt).sort(),Et=Array.from(gt).sort(),_t=[...tt,"run_index","seed","time_h","cell_group",...Et],vt=[];for(const wt of st){const xt=structuredClone(_.params);for(const[_r,Gn]of Object.entries(wt.sampled_params))setNestedValue(xt,_r,Gn);const Xt=P.loadSnapshot(wt.data,xt),Kt=P.computeStats(Xt,xt);for(const _r of Tt){const Gn=[...tt.map(jn=>wt.sampled_params[jn]??""),wt.run_index,wt.seed,wt.time_h,_r,...Et.map(jn=>{const Rn=`${jn}_${_r}`;return Kt[Rn]??0})];vt.push(Gn)}}ae(_t),le(vt),fe(tt),!pe&&Et.length>0&&ge(Et[0])},Ge=Oe=>{const tt=se[Oe];if(!tt)return;const st=structuredClone(_.params);ce.forEach((Et,_t)=>{const vt=tt[_t];vt!==""&&vt!==void 0&&setNestedValue(st,Et,vt)});const mt=ce.length+1,gt=tt[mt];typeof gt=="number"&&(st.general.random_seed=gt);const Tt=encodeParamsToUrl(P.name,st);window.open(Tt,"_blank")},Fe=()=>{if(ie.length===0||se.length===0)return;const Oe=statisticsToCSV(ie,se);downloadCSV(Oe,"batch_statistics.csv")},Ie=()=>{if(!I||!P)return;const Oe=new Set;for(const Et of I.snapshots)for(const _t of Object.keys(Et.sampled_params))Oe.add(_t);const tt=Array.from(Oe).sort();let st;if(ee==="terminal"){const Et=new Map;for(const _t of I.snapshots){const vt=`${_t.run_index}-${_t.seed}`,wt=Et.get(vt);(!wt||_t.time_h>wt.time_h)&&Et.set(vt,_t)}st=Array.from(Et.values())}else st=I.snapshots;const mt=[...tt,"run_index","seed","time_h","cell_id","cell_type","X_x","X_y","A_x","A_y","B_x","B_y","a_x","a_y","b_x","b_y","ab_distance","AX","BX","ax","bx","x","below_basal","above_apical","below_neighbours"],gt=[];for(const Et of st){const _t=structuredClone(_.params);for(const[vt,wt]of Object.entries(Et.sampled_params))setNestedValue(_t,vt,wt);for(let vt=0;vt<Et.data.length;vt++){const wt=Et.data[vt],xt=[...tt.map(Xt=>Et.sampled_params[Xt]??""),Et.run_index,Et.seed,Et.time_h,vt,wt.typeIndex||"",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];gt.push(xt)}}const Tt=statisticsToCSV(mt,gt);downloadCSV(Tt,"batch_full_cell_data.csv")},Ne=z?z.current_run/z.total_runs*100:0,at=(()=>{if(!z||!V||z.current_run===0)return null;const tt=(Date.now()-V)/z.current_run,st=z.total_runs-z.current_run,mt=tt*st;if(mt<1e3)return"< 1s";if(mt<6e4)return`${Math.ceil(mt/1e3)}s`;if(mt<36e5){const Et=Math.floor(mt/6e4),_t=Math.ceil(mt%6e4/1e3);return`${Et}m ${_t}s`}const gt=Math.floor(mt/36e5),Tt=Math.ceil(mt%36e5/6e4);return`${gt}h ${Tt}m`})(),lt=ie.filter(Oe=>!["run_index","seed","time_h","cell_group"].includes(Oe)&&!Oe.includes(".")),We=ie.filter(Oe=>Oe==="time_h"||Oe.includes(".")&&!["run_index","seed","cell_group"].includes(Oe));let ht=[],ut=[],ft=[];return be==="histogram"&&pe?ft=aggregateForHistogram(ie,se,pe):be==="line_ci"&&de&&pe?ut=aggregateByXAxisWithCI(ie,se,de,pe):de&&pe&&(ht=aggregateByTime(ie,se,pe)),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Run New Batch"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Uses the shared parameters, ranges, seeds, and time samples configured in the Parameters panel."}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Parameter ranges"}),_.parameterRanges.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"No ranges defined."}):jsxRuntimeExports.jsx("ul",{className:"space-y-1 text-sm",children:_.parameterRanges.map(Oe=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-xs",children:Oe.path}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[Oe.min,"  ",Oe.max," (",Oe.steps," steps)"]})]},Oe.path))})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:["Time samples: ",_.timeSamples.start,"h  ",_.timeSamples.end,"h (step ",_.timeSamples.step,"h)"]}),jsxRuntimeExports.jsxs("p",{children:["Seeds per configuration: ",_.seedsPerConfig]}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground",children:["Total: ",je," run",je!==1?"s":"","  ",Ke.length," time point",Ke.length!==1?"s":""," = ",He," snapshot",He!==1?"s":""]})]}),WorkerPool.isSupported()&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Te,onChange:Oe=>Re(Oe.target.checked),disabled:F,className:"rounded"}),"Parallel execution"]}),Te&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Pe," workers)"]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:F?jsxRuntimeExports.jsxs(Button,{onClick:Le,variant:"destructive",size:"sm",children:[jsxRuntimeExports.jsx(Square,{className:"h-4 w-4 mr-1"}),"Stop"]}):jsxRuntimeExports.jsxs(Button,{onClick:Ze,size:"sm",disabled:_.parameterRanges.length===0&&_.seedsPerConfig<=1,children:[jsxRuntimeExports.jsx(Play,{className:"h-4 w-4 mr-1"}),"Run Batch"]})}),F&&z&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Progress,{value:Ne,className:"h-2"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[z.current_run," / ",z.total_runs," runs",at&&`  ~${at} remaining`]})]})]})]}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"pt-4 space-y-3",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx("input",{ref:Me,type:"file",accept:".csv",onChange:Xe,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Me.current?.click(),disabled:F,children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-1"}),"Load Batch CSV"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Ye,disabled:!I||F,children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-1"}),"Save Batch CSV"]}),I&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:[I.snapshots.length," snapshots loaded"]})]})})}),jsxRuntimeExports.jsx(ExtendedExportPanel,{config:Ae,onChange:we,onExport:Ve,disabled:F||!!ke||_.parameterRanges.length===0}),I&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Compute Statistics"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"All available statistics will be computed for all cell groups."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm",children:"Output:"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"outputMode",checked:ee==="time_series",onChange:()=>te("time_series"),disabled:F}),"Time Series"]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"outputMode",checked:ee==="terminal",onChange:()=>te("terminal"),disabled:F}),"Terminal Only"]})]}),jsxRuntimeExports.jsx(Button,{onClick:ye,size:"sm",disabled:!P||F,children:"Compute"})]})]}),se.length>0&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"pb-3 flex-row items-center justify-between",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Results"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Fe,children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"h-4 w-4 mr-1"}),"Export CSV"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Ie,children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"h-4 w-4 mr-1"}),"Export Full CSV"]})]})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(ResultsTable,{columns:ie,rows:se,onRunRow:Ge}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[se.length," row",se.length!==1?"s":""]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium",children:"Visualization"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plot-type",className:"text-sm",children:"Plot Type"}),jsxRuntimeExports.jsxs("select",{id:"plot-type",value:be,onChange:Oe=>xe(Oe.target.value),className:"w-full h-9 px-3 rounded-md border border-input bg-background text-sm",children:[jsxRuntimeExports.jsx("option",{value:"line_ci",children:"Line + CI"}),jsxRuntimeExports.jsx("option",{value:"histogram",children:"Histogram"})]})]}),be!=="histogram"&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plot-x-axis",className:"text-sm",children:"X-Axis"}),jsxRuntimeExports.jsxs("select",{id:"plot-x-axis",value:de,onChange:Oe=>he(Oe.target.value),className:"w-full h-9 px-3 rounded-md border border-input bg-background text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select x-axis..."}),We.map(Oe=>jsxRuntimeExports.jsx("option",{value:Oe,children:Oe},Oe))]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plot-y-axis",className:"text-sm",children:"Y-Axis (Statistic)"}),jsxRuntimeExports.jsxs("select",{id:"plot-y-axis",value:pe,onChange:Oe=>ge(Oe.target.value),className:"w-full h-9 px-3 rounded-md border border-input bg-background text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select statistic..."}),lt.map(Oe=>jsxRuntimeExports.jsx("option",{value:Oe,children:Oe},Oe))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-xs",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plot-y-min",className:"text-sm",children:"Y Min"}),jsxRuntimeExports.jsx("input",{id:"plot-y-min",type:"number",value:_e,onChange:Oe=>Se(Oe.target.value),placeholder:"Auto",className:"w-full h-9 px-3 rounded-md border border-input bg-background text-sm"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plot-y-max",className:"text-sm",children:"Y Max"}),jsxRuntimeExports.jsx("input",{id:"plot-y-max",type:"number",value:me,onChange:Oe=>Ce(Oe.target.value),placeholder:"Auto",className:"w-full h-9 px-3 rounded-md border border-input bg-background text-sm"})]})]}),be==="histogram"&&pe&&ft.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-4 border rounded-md p-4 bg-muted/30",children:jsxRuntimeExports.jsx(BatchPlot,{data:ht,dataWithCI:ut,histogramData:ft,xAxisLabel:"Cell Group",yAxisLabel:pe,plotType:be,width:640,height:400,yMin:_e!==""?parseFloat(_e):void 0,yMax:me!==""?parseFloat(me):void 0})}),be==="line_ci"&&de&&pe&&ut.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-4 border rounded-md p-4 bg-muted/30",children:jsxRuntimeExports.jsx(BatchPlot,{data:ht,dataWithCI:ut,histogramData:ft,xAxisLabel:de==="time_h"?"Time (h)":de,yAxisLabel:pe,plotType:be,width:640,height:400,yMin:_e!==""?parseFloat(_e):void 0,yMax:me!==""?parseFloat(me):void 0})})]})]})]}),ke&&jsxRuntimeExports.jsx(ExportProgressModal,{progress:ke,onCancel:dt})]})}var COLLAPSIBLE_NAME="Collapsible",[createCollapsibleContext,createCollapsibleScope]=createContextScope$1(COLLAPSIBLE_NAME),[CollapsibleProvider,useCollapsibleContext]=createCollapsibleContext(COLLAPSIBLE_NAME),Collapsible=reactExports.forwardRef((_,R)=>{const{__scopeCollapsible:P,open:I,defaultOpen:O,disabled:z,onOpenChange:L,...F}=_,[U,V]=useControllableState({prop:I,defaultProp:O??!1,onChange:L,caller:COLLAPSIBLE_NAME});return jsxRuntimeExports.jsx(CollapsibleProvider,{scope:P,disabled:z,contentId:useId(),open:U,onOpenToggle:reactExports.useCallback(()=>V(q=>!q),[V]),children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":getState$1(U),"data-disabled":z?"":void 0,...F,ref:R})})});Collapsible.displayName=COLLAPSIBLE_NAME;var TRIGGER_NAME$2="CollapsibleTrigger",CollapsibleTrigger=reactExports.forwardRef((_,R)=>{const{__scopeCollapsible:P,...I}=_,O=useCollapsibleContext(TRIGGER_NAME$2,P);return jsxRuntimeExports.jsx(Primitive$2.button,{type:"button","aria-controls":O.contentId,"aria-expanded":O.open||!1,"data-state":getState$1(O.open),"data-disabled":O.disabled?"":void 0,disabled:O.disabled,...I,ref:R,onClick:composeEventHandlers$1(_.onClick,O.onOpenToggle)})});CollapsibleTrigger.displayName=TRIGGER_NAME$2;var CONTENT_NAME$2="CollapsibleContent",CollapsibleContent=reactExports.forwardRef((_,R)=>{const{forceMount:P,...I}=_,O=useCollapsibleContext(CONTENT_NAME$2,_.__scopeCollapsible);return jsxRuntimeExports.jsx(Presence,{present:P||O.open,children:({present:z})=>jsxRuntimeExports.jsx(CollapsibleContentImpl,{...I,ref:R,present:z})})});CollapsibleContent.displayName=CONTENT_NAME$2;var CollapsibleContentImpl=reactExports.forwardRef((_,R)=>{const{__scopeCollapsible:P,present:I,children:O,...z}=_,L=useCollapsibleContext(CONTENT_NAME$2,P),[F,U]=reactExports.useState(I),V=reactExports.useRef(null),q=useComposedRefs(R,V),W=reactExports.useRef(0),Y=W.current,Q=reactExports.useRef(0),ee=Q.current,te=L.open||F,ie=reactExports.useRef(te),ae=reactExports.useRef(void 0);return reactExports.useEffect(()=>{const se=requestAnimationFrame(()=>ie.current=!1);return()=>cancelAnimationFrame(se)},[]),useLayoutEffect2(()=>{const se=V.current;if(se){ae.current=ae.current||{transitionDuration:se.style.transitionDuration,animationName:se.style.animationName},se.style.transitionDuration="0s",se.style.animationName="none";const le=se.getBoundingClientRect();W.current=le.height,Q.current=le.width,ie.current||(se.style.transitionDuration=ae.current.transitionDuration,se.style.animationName=ae.current.animationName),U(I)}},[L.open,I]),jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":getState$1(L.open),"data-disabled":L.disabled?"":void 0,id:L.contentId,hidden:!te,...z,ref:q,style:{"--radix-collapsible-content-height":Y?`${Y}px`:void 0,"--radix-collapsible-content-width":ee?`${ee}px`:void 0,..._.style},children:te&&O})});function getState$1(_){return _?"open":"closed"}var Root$1=Collapsible,Trigger$1=CollapsibleTrigger,Content$1=CollapsibleContent,ACCORDION_NAME="Accordion",ACCORDION_KEYS=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(ACCORDION_NAME),[createAccordionContext]=createContextScope$1(ACCORDION_NAME,[createCollectionScope$1,createCollapsibleScope]),useCollapsibleScope=createCollapsibleScope(),Accordion=React.forwardRef((_,R)=>{const{type:P,...I}=_,O=I,z=I;return jsxRuntimeExports.jsx(Collection$1.Provider,{scope:_.__scopeAccordion,children:P==="multiple"?jsxRuntimeExports.jsx(AccordionImplMultiple,{...z,ref:R}):jsxRuntimeExports.jsx(AccordionImplSingle,{...O,ref:R})})});Accordion.displayName=ACCORDION_NAME;var[AccordionValueProvider,useAccordionValueContext]=createAccordionContext(ACCORDION_NAME),[AccordionCollapsibleProvider,useAccordionCollapsibleContext]=createAccordionContext(ACCORDION_NAME,{collapsible:!1}),AccordionImplSingle=React.forwardRef((_,R)=>{const{value:P,defaultValue:I,onValueChange:O=()=>{},collapsible:z=!1,...L}=_,[F,U]=useControllableState({prop:P,defaultProp:I??"",onChange:O,caller:ACCORDION_NAME});return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:_.__scopeAccordion,value:React.useMemo(()=>F?[F]:[],[F]),onItemOpen:U,onItemClose:React.useCallback(()=>z&&U(""),[z,U]),children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:_.__scopeAccordion,collapsible:z,children:jsxRuntimeExports.jsx(AccordionImpl,{...L,ref:R})})})}),AccordionImplMultiple=React.forwardRef((_,R)=>{const{value:P,defaultValue:I,onValueChange:O=()=>{},...z}=_,[L,F]=useControllableState({prop:P,defaultProp:I??[],onChange:O,caller:ACCORDION_NAME}),U=React.useCallback(q=>F((W=[])=>[...W,q]),[F]),V=React.useCallback(q=>F((W=[])=>W.filter(Y=>Y!==q)),[F]);return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:_.__scopeAccordion,value:L,onItemOpen:U,onItemClose:V,children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:_.__scopeAccordion,collapsible:!0,children:jsxRuntimeExports.jsx(AccordionImpl,{...z,ref:R})})})}),[AccordionImplProvider,useAccordionContext]=createAccordionContext(ACCORDION_NAME),AccordionImpl=React.forwardRef((_,R)=>{const{__scopeAccordion:P,disabled:I,dir:O,orientation:z="vertical",...L}=_,F=React.useRef(null),U=useComposedRefs(F,R),V=useCollection$1(P),W=useDirection(O)==="ltr",Y=composeEventHandlers$1(_.onKeyDown,Q=>{if(!ACCORDION_KEYS.includes(Q.key))return;const ee=Q.target,te=V().filter(pe=>!pe.ref.current?.disabled),ie=te.findIndex(pe=>pe.ref.current===ee),ae=te.length;if(ie===-1)return;Q.preventDefault();let se=ie;const le=0,ce=ae-1,fe=()=>{se=ie+1,se>ce&&(se=le)},de=()=>{se=ie-1,se<le&&(se=ce)};switch(Q.key){case"Home":se=le;break;case"End":se=ce;break;case"ArrowRight":z==="horizontal"&&(W?fe():de());break;case"ArrowDown":z==="vertical"&&fe();break;case"ArrowLeft":z==="horizontal"&&(W?de():fe());break;case"ArrowUp":z==="vertical"&&de();break}const he=se%ae;te[he].ref.current?.focus()});return jsxRuntimeExports.jsx(AccordionImplProvider,{scope:P,disabled:I,direction:O,orientation:z,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:P,children:jsxRuntimeExports.jsx(Primitive$2.div,{...L,"data-orientation":z,ref:U,onKeyDown:I?void 0:Y})})})}),ITEM_NAME$1="AccordionItem",[AccordionItemProvider,useAccordionItemContext]=createAccordionContext(ITEM_NAME$1),AccordionItem$1=React.forwardRef((_,R)=>{const{__scopeAccordion:P,value:I,...O}=_,z=useAccordionContext(ITEM_NAME$1,P),L=useAccordionValueContext(ITEM_NAME$1,P),F=useCollapsibleScope(P),U=useId(),V=I&&L.value.includes(I)||!1,q=z.disabled||_.disabled;return jsxRuntimeExports.jsx(AccordionItemProvider,{scope:P,open:V,disabled:q,triggerId:U,children:jsxRuntimeExports.jsx(Root$1,{"data-orientation":z.orientation,"data-state":getState(V),...F,...O,ref:R,disabled:q,open:V,onOpenChange:W=>{W?L.onItemOpen(I):L.onItemClose(I)}})})});AccordionItem$1.displayName=ITEM_NAME$1;var HEADER_NAME="AccordionHeader",AccordionHeader=React.forwardRef((_,R)=>{const{__scopeAccordion:P,...I}=_,O=useAccordionContext(ACCORDION_NAME,P),z=useAccordionItemContext(HEADER_NAME,P);return jsxRuntimeExports.jsx(Primitive$2.h3,{"data-orientation":O.orientation,"data-state":getState(z.open),"data-disabled":z.disabled?"":void 0,...I,ref:R})});AccordionHeader.displayName=HEADER_NAME;var TRIGGER_NAME$1="AccordionTrigger",AccordionTrigger$1=React.forwardRef((_,R)=>{const{__scopeAccordion:P,...I}=_,O=useAccordionContext(ACCORDION_NAME,P),z=useAccordionItemContext(TRIGGER_NAME$1,P),L=useAccordionCollapsibleContext(TRIGGER_NAME$1,P),F=useCollapsibleScope(P);return jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:P,children:jsxRuntimeExports.jsx(Trigger$1,{"aria-disabled":z.open&&!L.collapsible||void 0,"data-orientation":O.orientation,id:z.triggerId,...F,...I,ref:R})})});AccordionTrigger$1.displayName=TRIGGER_NAME$1;var CONTENT_NAME$1="AccordionContent",AccordionContent$1=React.forwardRef((_,R)=>{const{__scopeAccordion:P,...I}=_,O=useAccordionContext(ACCORDION_NAME,P),z=useAccordionItemContext(CONTENT_NAME$1,P),L=useCollapsibleScope(P);return jsxRuntimeExports.jsx(Content$1,{role:"region","aria-labelledby":z.triggerId,"data-orientation":O.orientation,...L,...I,ref:R,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",..._.style}})});AccordionContent$1.displayName=CONTENT_NAME$1;function getState(_){return _?"open":"closed"}var Item$1=AccordionItem$1,Header=AccordionHeader,Trigger2=AccordionTrigger$1,Content2=AccordionContent$1;const AccordionItem=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(Item$1,{ref:P,className:cn("border-b",_),...R}));AccordionItem.displayName="AccordionItem";const AccordionTrigger=reactExports.forwardRef(({className:_,children:R,...P},I)=>jsxRuntimeExports.jsx(Header,{className:"flex",children:jsxRuntimeExports.jsxs(Trigger2,{ref:I,className:cn("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",_),...P,children:[R,jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));AccordionTrigger.displayName=Trigger2.displayName;const AccordionContent=reactExports.forwardRef(({className:_,children:R,...P},I)=>jsxRuntimeExports.jsx(Content2,{ref:I,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...P,children:jsxRuntimeExports.jsx("div",{className:cn("pb-4 pt-0",_),children:R})}));AccordionContent.displayName=Content2.displayName;var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME="RovingFocusGroup",[Collection,useCollection,createCollectionScope]=createCollection(GROUP_NAME),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope$1(GROUP_NAME,[createCollectionScope]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME),RovingFocusGroup=reactExports.forwardRef((_,R)=>jsxRuntimeExports.jsx(Collection.Provider,{scope:_.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:_.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{..._,ref:R})})}));RovingFocusGroup.displayName=GROUP_NAME;var RovingFocusGroupImpl=reactExports.forwardRef((_,R)=>{const{__scopeRovingFocusGroup:P,orientation:I,loop:O=!1,dir:z,currentTabStopId:L,defaultCurrentTabStopId:F,onCurrentTabStopIdChange:U,onEntryFocus:V,preventScrollOnEntryFocus:q=!1,...W}=_,Y=reactExports.useRef(null),Q=useComposedRefs(R,Y),ee=useDirection(z),[te,ie]=useControllableState({prop:L,defaultProp:F??null,onChange:U,caller:GROUP_NAME}),[ae,se]=reactExports.useState(!1),le=useCallbackRef$1(V),ce=useCollection(P),fe=reactExports.useRef(!1),[de,he]=reactExports.useState(0);return reactExports.useEffect(()=>{const pe=Y.current;if(pe)return pe.addEventListener(ENTRY_FOCUS,le),()=>pe.removeEventListener(ENTRY_FOCUS,le)},[le]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:P,orientation:I,dir:ee,loop:O,currentTabStopId:te,onItemFocus:reactExports.useCallback(pe=>ie(pe),[ie]),onItemShiftTab:reactExports.useCallback(()=>se(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>he(pe=>pe+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>he(pe=>pe-1),[]),children:jsxRuntimeExports.jsx(Primitive$2.div,{tabIndex:ae||de===0?-1:0,"data-orientation":I,...W,ref:Q,style:{outline:"none",..._.style},onMouseDown:composeEventHandlers$1(_.onMouseDown,()=>{fe.current=!0}),onFocus:composeEventHandlers$1(_.onFocus,pe=>{const ge=!fe.current;if(pe.target===pe.currentTarget&&ge&&!ae){const be=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(pe.currentTarget.dispatchEvent(be),!be.defaultPrevented){const xe=ce().filter(Te=>Te.focusable),_e=xe.find(Te=>Te.active),Se=xe.find(Te=>Te.id===te),Ce=[_e,Se,...xe].filter(Boolean).map(Te=>Te.ref.current);focusFirst(Ce,q)}}fe.current=!1}),onBlur:composeEventHandlers$1(_.onBlur,()=>se(!1))})})}),ITEM_NAME="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((_,R)=>{const{__scopeRovingFocusGroup:P,focusable:I=!0,active:O=!1,tabStopId:z,children:L,...F}=_,U=useId(),V=z||U,q=useRovingFocusContext(ITEM_NAME,P),W=q.currentTabStopId===V,Y=useCollection(P),{onFocusableItemAdd:Q,onFocusableItemRemove:ee,currentTabStopId:te}=q;return reactExports.useEffect(()=>{if(I)return Q(),()=>ee()},[I,Q,ee]),jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:P,id:V,focusable:I,active:O,children:jsxRuntimeExports.jsx(Primitive$2.span,{tabIndex:W?0:-1,"data-orientation":q.orientation,...F,ref:R,onMouseDown:composeEventHandlers$1(_.onMouseDown,ie=>{I?q.onItemFocus(V):ie.preventDefault()}),onFocus:composeEventHandlers$1(_.onFocus,()=>q.onItemFocus(V)),onKeyDown:composeEventHandlers$1(_.onKeyDown,ie=>{if(ie.key==="Tab"&&ie.shiftKey){q.onItemShiftTab();return}if(ie.target!==ie.currentTarget)return;const ae=getFocusIntent(ie,q.orientation,q.dir);if(ae!==void 0){if(ie.metaKey||ie.ctrlKey||ie.altKey||ie.shiftKey)return;ie.preventDefault();let le=Y().filter(ce=>ce.focusable).map(ce=>ce.ref.current);if(ae==="last")le.reverse();else if(ae==="prev"||ae==="next"){ae==="prev"&&le.reverse();const ce=le.indexOf(ie.currentTarget);le=q.loop?wrapArray(le,ce+1):le.slice(ce+1)}setTimeout(()=>focusFirst(le))}}),children:typeof L=="function"?L({isCurrentTabStop:W,hasTabStop:te!=null}):L})})});RovingFocusGroupItem.displayName=ITEM_NAME;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(_,R){return R!=="rtl"?_:_==="ArrowLeft"?"ArrowRight":_==="ArrowRight"?"ArrowLeft":_}function getFocusIntent(_,R,P){const I=getDirectionAwareKey(_.key,P);if(!(R==="vertical"&&["ArrowLeft","ArrowRight"].includes(I))&&!(R==="horizontal"&&["ArrowUp","ArrowDown"].includes(I)))return MAP_KEY_TO_FOCUS_INTENT[I]}function focusFirst(_,R=!1){const P=document.activeElement;for(const I of _)if(I===P||(I.focus({preventScroll:R}),document.activeElement!==P))return}function wrapArray(_,R){return _.map((P,I)=>_[(R+I)%_.length])}var Root=RovingFocusGroup,Item=RovingFocusGroupItem,TABS_NAME="Tabs",[createTabsContext]=createContextScope$1(TABS_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext(TABS_NAME),Tabs$1=reactExports.forwardRef((_,R)=>{const{__scopeTabs:P,value:I,onValueChange:O,defaultValue:z,orientation:L="horizontal",dir:F,activationMode:U="automatic",...V}=_,q=useDirection(F),[W,Y]=useControllableState({prop:I,onChange:O,defaultProp:z??"",caller:TABS_NAME});return jsxRuntimeExports.jsx(TabsProvider,{scope:P,baseId:useId(),value:W,onValueChange:Y,orientation:L,dir:q,activationMode:U,children:jsxRuntimeExports.jsx(Primitive$2.div,{dir:q,"data-orientation":L,...V,ref:R})})});Tabs$1.displayName=TABS_NAME;var TAB_LIST_NAME="TabsList",TabsList$1=reactExports.forwardRef((_,R)=>{const{__scopeTabs:P,loop:I=!0,...O}=_,z=useTabsContext(TAB_LIST_NAME,P),L=useRovingFocusGroupScope(P);return jsxRuntimeExports.jsx(Root,{asChild:!0,...L,orientation:z.orientation,dir:z.dir,loop:I,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"tablist","aria-orientation":z.orientation,...O,ref:R})})});TabsList$1.displayName=TAB_LIST_NAME;var TRIGGER_NAME="TabsTrigger",TabsTrigger$1=reactExports.forwardRef((_,R)=>{const{__scopeTabs:P,value:I,disabled:O=!1,...z}=_,L=useTabsContext(TRIGGER_NAME,P),F=useRovingFocusGroupScope(P),U=makeTriggerId(L.baseId,I),V=makeContentId(L.baseId,I),q=I===L.value;return jsxRuntimeExports.jsx(Item,{asChild:!0,...F,focusable:!O,active:q,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"tab","aria-selected":q,"aria-controls":V,"data-state":q?"active":"inactive","data-disabled":O?"":void 0,disabled:O,id:U,...z,ref:R,onMouseDown:composeEventHandlers$1(_.onMouseDown,W=>{!O&&W.button===0&&W.ctrlKey===!1?L.onValueChange(I):W.preventDefault()}),onKeyDown:composeEventHandlers$1(_.onKeyDown,W=>{[" ","Enter"].includes(W.key)&&L.onValueChange(I)}),onFocus:composeEventHandlers$1(_.onFocus,()=>{const W=L.activationMode!=="manual";!q&&!O&&W&&L.onValueChange(I)})})})});TabsTrigger$1.displayName=TRIGGER_NAME;var CONTENT_NAME="TabsContent",TabsContent$1=reactExports.forwardRef((_,R)=>{const{__scopeTabs:P,value:I,forceMount:O,children:z,...L}=_,F=useTabsContext(CONTENT_NAME,P),U=makeTriggerId(F.baseId,I),V=makeContentId(F.baseId,I),q=I===F.value,W=reactExports.useRef(q);return reactExports.useEffect(()=>{const Y=requestAnimationFrame(()=>W.current=!1);return()=>cancelAnimationFrame(Y)},[]),jsxRuntimeExports.jsx(Presence,{present:O||q,children:({present:Y})=>jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":q?"active":"inactive","data-orientation":F.orientation,role:"tabpanel","aria-labelledby":U,hidden:!Y,id:V,tabIndex:0,...L,ref:R,style:{..._.style,animationDuration:W.current?"0s":void 0},children:Y&&z})})});TabsContent$1.displayName=CONTENT_NAME;function makeTriggerId(_,R){return`${_}-trigger-${R}`}function makeContentId(_,R){return`${_}-content-${R}`}var Root2=Tabs$1,List=TabsList$1,Trigger=TabsTrigger$1,Content=TabsContent$1;const Tabs=Root2,TabsList=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(List,{ref:P,className:cn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",_),...R}));TabsList.displayName=List.displayName;const TabsTrigger=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(Trigger,{ref:P,className:cn("m-1 inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all hover:bg-blue-500 hover:text-white disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-green-500 data-[state=active]:text-white data-[state=active]:shadow-sm",_),...R}));TabsTrigger.displayName=Trigger.displayName;const TabsContent=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(Content,{ref:P,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",_),...R}));TabsContent.displayName=Content.displayName;function ModelParameterPanel({params:_,onChange:R,disabled:P}){const{currentModel:I}=useModel(),O=I.ui?.WarningBanner,z=I.ui?.ParametersTab,L=I.ui?.CellTypesTab,F=I.ui?.SimulationTab,U=!!L,V=!!F;return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col",children:[O&&jsxRuntimeExports.jsx("div",{className:"shrink-0 p-2",children:jsxRuntimeExports.jsx(O,{params:_,onChange:R,disabled:P})}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"parameters",className:"flex-1 flex flex-col min-h-0",children:[jsxRuntimeExports.jsxs(TabsList,{className:"w-full justify-start shrink-0",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"parameters",children:"Parameters"}),U&&jsxRuntimeExports.jsx(TabsTrigger,{value:"celltypes",children:"Cell Types"}),V&&jsxRuntimeExports.jsx(TabsTrigger,{value:"simulation",children:"Simulation"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"parameters",className:"flex-1 overflow-hidden mt-0",children:jsxRuntimeExports.jsx(ScrollArea,{className:"h-full",children:jsxRuntimeExports.jsx("div",{className:"p-4 space-y-3",children:z?jsxRuntimeExports.jsx(z,{params:_,onChange:R,disabled:P}):jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"No parameter UI defined for this model."})})})}),U&&jsxRuntimeExports.jsx(TabsContent,{value:"celltypes",className:"flex-1 mt-0 overflow-auto",children:jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsx(L,{params:_,onChange:R,disabled:P})})}),V&&jsxRuntimeExports.jsx(TabsContent,{value:"simulation",className:"flex-1 overflow-hidden mt-0",children:jsxRuntimeExports.jsx(ScrollArea,{className:"h-full",children:jsxRuntimeExports.jsx("div",{className:"p-4 space-y-3",children:jsxRuntimeExports.jsx(F,{params:_,onChange:R,disabled:P})})})})]})]})}function parseNumber(_,R=0){if(_==null||_==="")return R;if(typeof _=="number")return _;const P=String(_).trim().toLowerCase();if(P==="inf"||P==="infinity")return 1/0;if(P==="-inf"||P==="-infinity")return-1/0;const I=parseFloat(P);return isNaN(I)?R:I}function parseInitDistr(_){const R={};if(!_)return R;const P=_.split(",");for(const I of P){const[O,z]=I.split(":").map(L=>L.trim());if(O&&z){const L=parseInt(z,10);isNaN(L)||(R[O]=(R[O]||0)+L)}}return R}function parseINMFromEventStart(_){if(typeof _=="number")return isFinite(_)?1:0;const R=String(_).trim();if(R.toLowerCase()==="inf"||R.toLowerCase()==="infinity")return 0;if(R==="0")return 1;if(R.startsWith("(")&&R.endsWith(")")){const I=R.slice(1,-1).split(",").map(O=>O.trim());for(const O of I){const z=O.match(/^([\d.]+)%\s*Inf$/i);if(z){const L=parseFloat(z[1]);if(!isNaN(L))return 1-L/100}}}return 1}function importLegacyXLSX(_){const R=structuredClone(DEFAULT_EHT_PARAMS),P=_.parameters;P["sim.t_end"]!==void 0&&(R.general.t_end=parseNumber(P["sim.t_end"],48)),P["sim.dt"]!==void 0&&(R.general.dt=parseNumber(P["sim.dt"],.1)),P["stat.random_seed"]!==void 0&&(R.general.random_seed=Math.floor(parseNumber(P["stat.random_seed"],0))),P["epi.prob_out_div"]!==void 0&&(R.general.p_div_out=parseNumber(P["epi.prob_out_div"],1)),P["epi.mu"]!==void 0&&(R.general.mu=parseNumber(P["epi.mu"],.2)),P["alg.n_substeps"]!==void 0&&(R.general.n_substeps=Math.floor(parseNumber(P["alg.n_substeps"],30))),P["alg.dt"]!==void 0&&(R.general.alg_dt=parseNumber(P["alg.dt"],.01)),P["epi.init_zone.size.x"]!==void 0&&(R.general.w_init=parseNumber(P["epi.init_zone.size.x"],80)),P["epi.init_zone.size.y"]!==void 0&&(R.general.h_init=parseNumber(P["epi.init_zone.size.y"],5)),parseNumber(P["epi.basal_curvature"],0)===0?(R.general.perimeter=R.general.w_init*2,R.general.aspect_ratio=0,R.general.full_circle=!1):(R.general.perimeter=R.general.w_init*2,R.general.aspect_ratio=1,R.general.full_circle=!0),R.general.w_screen=R.general.w_init*1.5,R.general.h_screen=0;const O=P["epi.init_apical_junction_dist"]!==void 0?parseNumber(P["epi.init_apical_junction_dist"],0):void 0,z=P["epi.init_basal_junction_dist"]!==void 0?parseNumber(P["epi.init_basal_junction_dist"],4):void 0,L=parseInitDistr(String(P["epi.init_distr"]||"")),F=parseNumber(P["epi.N_init"],0),U=Object.values(L).reduce((Y,Q)=>Y+Q,0),V=F>0&&U>0?F/U:1;R.cell_types={};const q=_.cell_type,W=Object.keys(q.types);for(const Y of W){const Q=q.types[Y],ee=Y==="exp"?"emt":Y,te=ee==="control"?{r:0,g:128,b:0}:{r:255,g:0,b:255},ie=ee==="emt"?"bottom":"",ae=Math.round((L[Y]||0)*V),se={...structuredClone(DEFAULT_CONTROL_CELL),N_init:ae,location:ie,R_hard:parseNumber(Q.R_hard,.3),R_hard_div:parseNumber(Q.R_hard,.3)*.7/.3,R_soft:parseNumber(Q.R_soft,1.2),color:te,dur_G2:parseNumber(Q.duration_G2,.5),dur_mitosis:parseNumber(Q.duration_mitosis,.5),k_apical_junction:Math.abs(parseNumber(Q.k_apical_junction,5)),k_cytos:parseNumber(Q.k_cytoskeleton,5),max_cytoskeleton_length:parseNumber(Q.max_cytoskeleton_length,0),run:0,running_speed:parseNumber(Q.running_speed,1),running_mode:Math.floor(parseNumber(Q.running_mode,0)),stiffness_apical_apical:parseNumber(Q.stiffness_apical_apical,2),stiffness_apical_apical_div:parseNumber(Q.stiffness_apical_apical,2)*2,stiffness_nuclei_apical:parseNumber(Q.stiffness_nuclei_apical,3),stiffness_nuclei_basal:parseNumber(Q.stiffness_nuclei_basal,2),stiffness_repulsion:parseNumber(Q.stiffness_repulsion,2),stiffness_straightness:parseNumber(Q.stiffness_straightness,5),lifespan_start:parseNumber(Q["life_span.min"],5.5),lifespan_end:parseNumber(Q["life_span.max"],6.5),INM:1,hetero:!1,events:{time_A_start:1/0,time_A_end:1/0,time_B_start:1/0,time_B_end:1/0,time_S_start:1/0,time_S_end:1/0,time_P_start:1/0,time_P_end:1/0,time_AC_start:1/0,time_AC_end:1/0},diffusion:parseNumber(Q.diffusion,0)||DEFAULT_CONTROL_CELL.diffusion,basal_damping_ratio:parseNumber(Q.basal_damping_ratio,0)||DEFAULT_CONTROL_CELL.basal_damping_ratio,max_basal_junction_dist:2*parseNumber(Q.max_basal_junction_dist,.5)||(z?2*z:DEFAULT_CONTROL_CELL.max_basal_junction_dist),cytos_init:parseNumber(Q.cytoskeleton_init,DEFAULT_CONTROL_CELL.cytos_init),basal_membrane_repulsion:parseNumber(Q.basal_repulsion,DEFAULT_CONTROL_CELL.basal_membrane_repulsion),apical_junction_init:parseNumber(Q.apical_junction_init,0)||O||DEFAULT_CONTROL_CELL.apical_junction_init};R.cell_types[ee]=se}if(_.special_cell_events)for(const Y of _.special_cell_events){const Q=Y.cell_type==="exp"?"emt":Y.cell_type,ee=R.cell_types[Q];if(!ee)continue;const te=parseNumber(Y.sim_time_start,1/0),ie=parseNumber(Y.sim_time_end,1/0);switch(Y.name){case"loss_apical_adhesion":case"local_loss_apical_adhesion":ee.events.time_A_start=te,ee.events.time_A_end=ie;break;case"loss_basal_adhesion":ee.events.time_B_start=te,ee.events.time_B_end=ie;break}}if(_.cell_events)for(const Y of _.cell_events){const Q=Y.cell_type==="exp"?"emt":Y.cell_type,ee=R.cell_types[Q];ee&&(Y.name==="loss_polarity"&&Y.symbol==="stiffness_straightness"&&(ee.events.time_S_start=parseNumber(Y.sim_time_start,1/0),ee.events.time_S_end=parseNumber(Y.sim_time_end,1/0)),Y.name==="INM"&&(ee.INM=parseINMFromEventStart(Y.sim_time_start)))}for(const Y of Object.values(R.cell_types))(isFinite(Y.events.time_A_start)||isFinite(Y.events.time_B_start)||isFinite(Y.events.time_S_start))&&(Y.hetero=!0);return R}async function parseXLSXFile(_){const R=await __vitePreload(()=>import("./xlsx-CebWqg3Z.js"),[]),P=await _.arrayBuffer(),I=R.read(P,{type:"array"}),O={parameters:{},cell_type:{parameters:[],types:{}}},z=I.Sheets.parameters;if(z){const V=R.utils.sheet_to_json(z);for(const q of V)q.key&&(O.parameters[q.key]=q.value)}const L=I.Sheets.cell_type;if(L){const V=R.utils.sheet_to_json(L);if(V.length>0){const q=V[0],W=Object.keys(q).filter(Y=>Y!=="parameter");for(const Y of W)O.cell_type.types[Y]={};for(const Y of V){const Q=String(Y.parameter||"");if(Q){O.cell_type.parameters.push(Q);for(const ee of W)O.cell_type.types[ee][Q]=Y[ee]}}}}const F=I.Sheets.cell_events;F&&(O.cell_events=R.utils.sheet_to_json(F));const U=I.Sheets.special_cell_events;return U&&(O.special_cell_events=R.utils.sheet_to_json(U)),O}async function importXLSXToParams(_){const R=await parseXLSXFile(_);return importLegacyXLSX(R)}function ParameterConfigView({config:_,onConfigChange:R,disabled:P}){const{currentModel:I}=useModel(),O=reactExports.useRef(null),z=reactExports.useRef(null),[L,F]=reactExports.useState(!1),[U,V]=reactExports.useState(!1),q=EHT_PRESETS,W=ce=>{const fe=q.find(he=>he.key===ce);if(!fe)return;const de=fe.create();R({..._,params:de})},Y=ce=>{R({..._,params:ce})},Q=ce=>{R({..._,parameterRanges:ce})},ee=ce=>{R({..._,timeSamples:ce})},te=ce=>{const fe=Math.max(1,parseInt(ce,10)||1);R({..._,seedsPerConfig:fe})},ie=async ce=>{const fe=ce.target.files?.[0];if(fe){try{const de=await fe.text(),he=parseSimulationConfigToml(de);R(he)}catch(de){console.error("Failed to parse TOML:",de),alert("Failed to parse TOML file. Check console for details.")}O.current&&(O.current.value="")}},ae=()=>{const ce=toSimulationConfigToml(_),fe=new Blob([ce],{type:"text/plain"}),de=URL.createObjectURL(fe),he=document.createElement("a");he.href=de,he.download="simulation_config.toml",document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(de)},se=async ce=>{const fe=ce.target.files?.[0];if(fe){F(!0);try{const de=await importXLSXToParams(fe);R({..._,params:de})}catch(de){console.error("Failed to import XLSX:",de),alert("Failed to import legacy XLSX file. Check console for details.")}finally{F(!1)}z.current&&(z.current.value="")}},le=async()=>{const ce=encodeParamsToUrl(I.name,_.params);try{await navigator.clipboard.writeText(ce),V(!0),setTimeout(()=>V(!1),2e3)}catch(fe){console.error("Failed to copy link:",fe),prompt("Copy this link:",ce)}};return jsxRuntimeExports.jsxs(Card,{className:"h-full",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Parameters & Ranges"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx("input",{ref:O,type:"file",accept:".toml",onChange:ie,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>O.current?.click(),disabled:P,className:"flex-1",children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-2"}),"Load TOML"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:ae,disabled:P,className:"flex-1",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Save TOML"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx("input",{ref:z,type:"file",accept:".xlsx,.xls",onChange:se,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>z.current?.click(),disabled:P||L,className:"flex-1",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"h-4 w-4 mr-2"}),L?"Importing...":"Import Legacy XLSX"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:le,disabled:P,className:"flex-1",children:[jsxRuntimeExports.jsx(Link2,{className:"h-4 w-4 mr-2"}),U?"Copied!":"Share Link"]})]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Select preset"}),jsxRuntimeExports.jsxs(Select,{onValueChange:W,disabled:P,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Choose a preset"})}),jsxRuntimeExports.jsx(SelectContent,{children:q.map(ce=>jsxRuntimeExports.jsx(SelectItem,{value:ce.key,children:ce.label},ce.key))})]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsx("div",{className:"h-[500px] border rounded-md overflow-hidden relative",children:jsxRuntimeExports.jsx(ModelParameterPanel,{params:_.params,onChange:Y,disabled:P})}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsx(ParameterRangeList,{ranges:_.parameterRanges,onChange:Q,baseParams:_.params,disabled:P}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Batch Sampling"}),jsxRuntimeExports.jsx(TimeSampleConfig,{config:_.timeSamples,onChange:ee,disabled:P}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"seeds",className:"text-xs text-muted-foreground",children:"Seeds per configuration"}),jsxRuntimeExports.jsx(Input,{id:"seeds",type:"number",min:1,step:1,value:_.seedsPerConfig,onChange:ce=>te(ce.target.value),disabled:P,className:"h-8 w-32"})]})]})]})]})}function ok$1(){}function unreachable(){}function parse$2(_){const R=[],P=String(_||"");let I=P.indexOf(","),O=0,z=!1;for(;!z;){I===-1&&(I=P.length,z=!0);const L=P.slice(O,I).trim();(L||!z)&&R.push(L),O=I+1,I=P.indexOf(",",O)}return R}function stringify$1(_,R){const P={};return(_[_.length-1]===""?[..._,""]:_).join((P.padRight?" ":"")+","+(P.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$4={};function name(_,R){return(emptyOptions$4.jsx?nameReJsx:nameRe).test(_)}const re=/[ \t\n\f\r]/g;function whitespace(_){return typeof _=="object"?_.type==="text"?empty$1(_.value):!1:empty$1(_)}function empty$1(_){return _.replace(re,"")===""}class Schema{constructor(R,P,I){this.normal=P,this.property=R,I&&(this.space=I)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(_,R){const P={},I={};for(const O of _)Object.assign(P,O.property),Object.assign(I,O.normal);return new Schema(P,I,R)}function normalize$1(_){return _.toLowerCase()}class Info{constructor(R,P){this.attribute=P,this.property=R}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(R,P,I,O){let z=-1;if(super(R,P),mark(this,"space",O),typeof I=="number")for(;++z<checks.length;){const L=checks[z];mark(this,checks[z],(I&types[L])===types[L])}}}DefinedInfo.prototype.defined=!0;function mark(_,R,P){P&&(_[R]=P)}function create(_){const R={},P={};for(const[I,O]of Object.entries(_.properties)){const z=new DefinedInfo(I,_.transform(_.attributes||{},I),O,_.space);_.mustUseProperty&&_.mustUseProperty.includes(I)&&(z.mustUseProperty=!0),R[I]=z,P[normalize$1(I)]=I,P[normalize$1(z.attribute)]=I}return new Schema(R,P,_.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(_,R){return R==="role"?R:"aria-"+R.slice(4).toLowerCase()}});function caseSensitiveTransform(_,R){return R in _?_[R]:R}function caseInsensitiveTransform(_,R){return caseSensitiveTransform(_,R.toLowerCase())}const html$2=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(_,R){return"xlink:"+R.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(_,R){return"xml:"+R.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find(_,R){const P=normalize$1(R);let I=R,O=Info;if(P in _.normal)return _.property[_.normal[P]];if(P.length>4&&P.slice(0,4)==="data"&&valid.test(R)){if(R.charAt(4)==="-"){const z=R.slice(5).replace(dash,camelcase);I="data"+z.charAt(0).toUpperCase()+z.slice(1)}else{const z=R.slice(4);if(!dash.test(z)){let L=z.replace(cap$1,kebab);L.charAt(0)!=="-"&&(L="-"+L),R="data"+L}}O=DefinedInfo}return new O(I,R)}function kebab(_){return"-"+_.toLowerCase()}function camelcase(_){return _.charAt(1).toUpperCase()}const html$1=merge([aria,html$2,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function parse$1(_){const R=String(_||"").trim();return R?R.split(/[ \t\n\r\f]+/g):[]}function stringify(_){return _.join(" ").trim()}var cjs$2={},cjs$1,hasRequiredCjs$2;function requireCjs$2(){if(hasRequiredCjs$2)return cjs$1;hasRequiredCjs$2=1;var _=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,R=/\n/g,P=/^\s*/,I=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,O=/^:\s*/,z=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,L=/^[;\s]*/,F=/^\s+|\s+$/g,U=`
`,V="/",q="*",W="",Y="comment",Q="declaration";function ee(ie,ae){if(typeof ie!="string")throw new TypeError("First argument must be a string");if(!ie)return[];ae=ae||{};var se=1,le=1;function ce(me){var Ce=me.match(R);Ce&&(se+=Ce.length);var Te=me.lastIndexOf(U);le=~Te?me.length-Te:le+me.length}function fe(){var me={line:se,column:le};return function(Ce){return Ce.position=new de(me),ge(),Ce}}function de(me){this.start=me,this.end={line:se,column:le},this.source=ae.source}de.prototype.content=ie;function he(me){var Ce=new Error(ae.source+":"+se+":"+le+": "+me);if(Ce.reason=me,Ce.filename=ae.source,Ce.line=se,Ce.column=le,Ce.source=ie,!ae.silent)throw Ce}function pe(me){var Ce=me.exec(ie);if(Ce){var Te=Ce[0];return ce(Te),ie=ie.slice(Te.length),Ce}}function ge(){pe(P)}function be(me){var Ce;for(me=me||[];Ce=xe();)Ce!==!1&&me.push(Ce);return me}function xe(){var me=fe();if(!(V!=ie.charAt(0)||q!=ie.charAt(1))){for(var Ce=2;W!=ie.charAt(Ce)&&(q!=ie.charAt(Ce)||V!=ie.charAt(Ce+1));)++Ce;if(Ce+=2,W===ie.charAt(Ce-1))return he("End of comment missing");var Te=ie.slice(2,Ce-2);return le+=2,ce(Te),ie=ie.slice(Ce),le+=2,me({type:Y,comment:Te})}}function _e(){var me=fe(),Ce=pe(I);if(Ce){if(xe(),!pe(O))return he("property missing ':'");var Te=pe(z),Re=me({type:Q,property:te(Ce[0].replace(_,W)),value:Te?te(Te[0].replace(_,W)):W});return pe(L),Re}}function Se(){var me=[];be(me);for(var Ce;Ce=_e();)Ce!==!1&&(me.push(Ce),be(me));return me}return ge(),Se()}function te(ie){return ie?ie.replace(F,W):W}return cjs$1=ee,cjs$1}var hasRequiredCjs$1;function requireCjs$1(){if(hasRequiredCjs$1)return cjs$2;hasRequiredCjs$1=1;var _=cjs$2&&cjs$2.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(cjs$2,"__esModule",{value:!0}),cjs$2.default=P;const R=_(requireCjs$2());function P(I,O){let z=null;if(!I||typeof I!="string")return z;const L=(0,R.default)(I),F=typeof O=="function";return L.forEach(U=>{if(U.type!=="declaration")return;const{property:V,value:q}=U;F?O(V,q,U):q&&(z=z||{},z[V]=q)}),z}return cjs$2}var utilities={},hasRequiredUtilities;function requireUtilities(){if(hasRequiredUtilities)return utilities;hasRequiredUtilities=1,Object.defineProperty(utilities,"__esModule",{value:!0}),utilities.camelCase=void 0;var _=/^--[a-zA-Z0-9_-]+$/,R=/-([a-z])/g,P=/^[^-]+$/,I=/^-(webkit|moz|ms|o|khtml)-/,O=/^-(ms)-/,z=function(V){return!V||P.test(V)||_.test(V)},L=function(V,q){return q.toUpperCase()},F=function(V,q){return"".concat(q,"-")},U=function(V,q){return q===void 0&&(q={}),z(V)?V:(V=V.toLowerCase(),q.reactCompat?V=V.replace(O,F):V=V.replace(I,F),V.replace(R,L))};return utilities.camelCase=U,utilities}var cjs,hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var _=cjs&&cjs.__importDefault||function(O){return O&&O.__esModule?O:{default:O}},R=_(requireCjs$1()),P=requireUtilities();function I(O,z){var L={};return!O||typeof O!="string"||(0,R.default)(O,function(F,U){F&&U&&(L[(0,P.camelCase)(F,z)]=U)}),L}return I.default=I,cjs=I,cjs}var cjsExports=requireCjs();const styleToJs=getDefaultExportFromCjs(cjsExports),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(_){return R;function R(P){const I=P&&P.position&&P.position[_]||{};if(typeof I.line=="number"&&I.line>0&&typeof I.column=="number"&&I.column>0)return{line:I.line,column:I.column,offset:typeof I.offset=="number"&&I.offset>-1?I.offset:void 0}}}function position$1(_){const R=pointStart(_),P=pointEnd(_);if(R&&P)return{start:R,end:P}}function stringifyPosition(_){return!_||typeof _!="object"?"":"position"in _||"type"in _?position(_.position):"start"in _||"end"in _?position(_):"line"in _||"column"in _?point$1(_):""}function point$1(_){return index(_&&_.line)+":"+index(_&&_.column)}function position(_){return point$1(_&&_.start)+"-"+point$1(_&&_.end)}function index(_){return _&&typeof _=="number"?_:1}class VFileMessage extends Error{constructor(R,P,I){super(),typeof P=="string"&&(I=P,P=void 0);let O="",z={},L=!1;if(P&&("line"in P&&"column"in P?z={place:P}:"start"in P&&"end"in P?z={place:P}:"type"in P?z={ancestors:[P],place:P.position}:z={...P}),typeof R=="string"?O=R:!z.cause&&R&&(L=!0,O=R.message,z.cause=R),!z.ruleId&&!z.source&&typeof I=="string"){const U=I.indexOf(":");U===-1?z.ruleId=I:(z.source=I.slice(0,U),z.ruleId=I.slice(U+1))}if(!z.place&&z.ancestors&&z.ancestors){const U=z.ancestors[z.ancestors.length-1];U&&(z.place=U.position)}const F=z.place&&"start"in z.place?z.place.start:z.place;this.ancestors=z.ancestors||void 0,this.cause=z.cause||void 0,this.column=F?F.column:void 0,this.fatal=void 0,this.file="",this.message=O,this.line=F?F.line:void 0,this.name=stringifyPosition(z.place)||"1:1",this.place=z.place||void 0,this.reason=this.message,this.ruleId=z.ruleId||void 0,this.source=z.source||void 0,this.stack=L&&z.cause&&typeof z.cause.stack=="string"?z.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(_,R){if(!R||R.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const P=R.filePath||void 0;let I;if(R.development){if(typeof R.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");I=developmentCreate(P,R.jsxDEV)}else{if(typeof R.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof R.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");I=productionCreate(P,R.jsx,R.jsxs)}const O={Fragment:R.Fragment,ancestors:[],components:R.components||{},create:I,elementAttributeNameCase:R.elementAttributeNameCase||"react",evaluater:R.createEvaluater?R.createEvaluater():void 0,filePath:P,ignoreInvalidStyle:R.ignoreInvalidStyle||!1,passKeys:R.passKeys!==!1,passNode:R.passNode||!1,schema:R.space==="svg"?svg:html$1,stylePropertyNameCase:R.stylePropertyNameCase||"dom",tableCellAlignToStyle:R.tableCellAlignToStyle!==!1},z=one$2(O,_,void 0);return z&&typeof z!="string"?z:O.create(_,O.Fragment,{children:z||void 0},void 0)}function one$2(_,R,P){if(R.type==="element")return element$3(_,R,P);if(R.type==="mdxFlowExpression"||R.type==="mdxTextExpression")return mdxExpression(_,R);if(R.type==="mdxJsxFlowElement"||R.type==="mdxJsxTextElement")return mdxJsxElement(_,R,P);if(R.type==="mdxjsEsm")return mdxEsm(_,R);if(R.type==="root")return root$2(_,R,P);if(R.type==="text")return text$6(_,R)}function element$3(_,R,P){const I=_.schema;let O=I;R.tagName.toLowerCase()==="svg"&&I.space==="html"&&(O=svg,_.schema=O),_.ancestors.push(R);const z=findComponentFromName(_,R.tagName,!1),L=createElementProps(_,R);let F=createChildren(_,R);return tableElements.has(R.tagName)&&(F=F.filter(function(U){return typeof U=="string"?!whitespace(U):!0})),addNode(_,L,z,R),addChildren(L,F),_.ancestors.pop(),_.schema=I,_.create(R,z,L,P)}function mdxExpression(_,R){if(R.data&&R.data.estree&&_.evaluater){const I=R.data.estree.body[0];return I.type,_.evaluater.evaluateExpression(I.expression)}crashEstree(_,R.position)}function mdxEsm(_,R){if(R.data&&R.data.estree&&_.evaluater)return _.evaluater.evaluateProgram(R.data.estree);crashEstree(_,R.position)}function mdxJsxElement(_,R,P){const I=_.schema;let O=I;R.name==="svg"&&I.space==="html"&&(O=svg,_.schema=O),_.ancestors.push(R);const z=R.name===null?_.Fragment:findComponentFromName(_,R.name,!0),L=createJsxElementProps(_,R),F=createChildren(_,R);return addNode(_,L,z,R),addChildren(L,F),_.ancestors.pop(),_.schema=I,_.create(R,z,L,P)}function root$2(_,R,P){const I={};return addChildren(I,createChildren(_,R)),_.create(R,_.Fragment,I,P)}function text$6(_,R){return R.value}function addNode(_,R,P,I){typeof P!="string"&&P!==_.Fragment&&_.passNode&&(R.node=I)}function addChildren(_,R){if(R.length>0){const P=R.length>1?R:R[0];P&&(_.children=P)}}function productionCreate(_,R,P){return I;function I(O,z,L,F){const V=Array.isArray(L.children)?P:R;return F?V(z,L,F):V(z,L)}}function developmentCreate(_,R){return P;function P(I,O,z,L){const F=Array.isArray(z.children),U=pointStart(I);return R(O,z,L,F,{columnNumber:U?U.column-1:void 0,fileName:_,lineNumber:U?U.line:void 0},void 0)}}function createElementProps(_,R){const P={};let I,O;for(O in R.properties)if(O!=="children"&&own$3.call(R.properties,O)){const z=createProperty(_,O,R.properties[O]);if(z){const[L,F]=z;_.tableCellAlignToStyle&&L==="align"&&typeof F=="string"&&tableCellElement.has(R.tagName)?I=F:P[L]=F}}if(I){const z=P.style||(P.style={});z[_.stylePropertyNameCase==="css"?"text-align":"textAlign"]=I}return P}function createJsxElementProps(_,R){const P={};for(const I of R.attributes)if(I.type==="mdxJsxExpressionAttribute")if(I.data&&I.data.estree&&_.evaluater){const z=I.data.estree.body[0];z.type;const L=z.expression;L.type;const F=L.properties[0];F.type,Object.assign(P,_.evaluater.evaluateExpression(F.argument))}else crashEstree(_,R.position);else{const O=I.name;let z;if(I.value&&typeof I.value=="object")if(I.value.data&&I.value.data.estree&&_.evaluater){const F=I.value.data.estree.body[0];F.type,z=_.evaluater.evaluateExpression(F.expression)}else crashEstree(_,R.position);else z=I.value===null?!0:I.value;P[O]=z}return P}function createChildren(_,R){const P=[];let I=-1;const O=_.passKeys?new Map:emptyMap;for(;++I<R.children.length;){const z=R.children[I];let L;if(_.passKeys){const U=z.type==="element"?z.tagName:z.type==="mdxJsxFlowElement"||z.type==="mdxJsxTextElement"?z.name:void 0;if(U){const V=O.get(U)||0;L=U+"-"+V,O.set(U,V+1)}}const F=one$2(_,z,L);F!==void 0&&P.push(F)}return P}function createProperty(_,R,P){const I=find(_.schema,R);if(!(P==null||typeof P=="number"&&Number.isNaN(P))){if(Array.isArray(P)&&(P=I.commaSeparated?stringify$1(P):stringify(P)),I.property==="style"){let O=typeof P=="object"?P:parseStyle(_,String(P));return _.stylePropertyNameCase==="css"&&(O=transformStylesToCssCasing(O)),["style",O]}return[_.elementAttributeNameCase==="react"&&I.space?hastToReact[I.property]||I.property:I.attribute,P]}}function parseStyle(_,R){try{return styleToJs(R,{reactCompat:!0})}catch(P){if(_.ignoreInvalidStyle)return{};const I=P,O=new VFileMessage("Cannot parse `style` attribute",{ancestors:_.ancestors,cause:I,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw O.file=_.filePath||void 0,O.url=docs+"#cannot-parse-style-attribute",O}}function findComponentFromName(_,R,P){let I;if(!P)I={type:"Literal",value:R};else if(R.includes(".")){const O=R.split(".");let z=-1,L;for(;++z<O.length;){const F=name(O[z])?{type:"Identifier",name:O[z]}:{type:"Literal",value:O[z]};L=L?{type:"MemberExpression",object:L,property:F,computed:!!(z&&F.type==="Literal"),optional:!1}:F}I=L}else I=name(R)&&!/^[a-z]/.test(R)?{type:"Identifier",name:R}:{type:"Literal",value:R};if(I.type==="Literal"){const O=I.value;return own$3.call(_.components,O)?_.components[O]:O}if(_.evaluater)return _.evaluater.evaluateExpression(I);crashEstree(_)}function crashEstree(_,R){const P=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:_.ancestors,place:R,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw P.file=_.filePath||void 0,P.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",P}function transformStylesToCssCasing(_){const R={};let P;for(P in _)own$3.call(_,P)&&(R[transformStyleToCssCasing(P)]=_[P]);return R}function transformStyleToCssCasing(_){let R=_.replace(cap,toDash);return R.slice(0,3)==="ms-"&&(R="-"+R),R}function toDash(_){return"-"+_.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$3={};function toString$1(_,R){const P=emptyOptions$3,I=typeof P.includeImageAlt=="boolean"?P.includeImageAlt:!0,O=typeof P.includeHtml=="boolean"?P.includeHtml:!0;return one$1(_,I,O)}function one$1(_,R,P){if(node(_)){if("value"in _)return _.type==="html"&&!P?"":_.value;if(R&&"alt"in _&&_.alt)return _.alt;if("children"in _)return all$1(_.children,R,P)}return Array.isArray(_)?all$1(_,R,P):""}function all$1(_,R,P){const I=[];let O=-1;for(;++O<_.length;)I[O]=one$1(_[O],R,P);return I.join("")}function node(_){return!!(_&&typeof _=="object")}const element$2=document.createElement("i");function decodeNamedCharacterReference(_){const R="&"+_+";";element$2.innerHTML=R;const P=element$2.textContent;return P.charCodeAt(P.length-1)===59&&_!=="semi"||P===R?!1:P}function splice(_,R,P,I){const O=_.length;let z=0,L;if(R<0?R=-R>O?0:O+R:R=R>O?O:R,P=P>0?P:0,I.length<1e4)L=Array.from(I),L.unshift(R,P),_.splice(...L);else for(P&&_.splice(R,P);z<I.length;)L=I.slice(z,z+1e4),L.unshift(R,0),_.splice(...L),z+=1e4,R+=1e4}function push(_,R){return _.length>0?(splice(_,_.length,0,R),_):R}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(_){const R={};let P=-1;for(;++P<_.length;)syntaxExtension(R,_[P]);return R}function syntaxExtension(_,R){let P;for(P in R){const O=(hasOwnProperty.call(_,P)?_[P]:void 0)||(_[P]={}),z=R[P];let L;if(z)for(L in z){hasOwnProperty.call(O,L)||(O[L]=[]);const F=z[L];constructs(O[L],Array.isArray(F)?F:F?[F]:[])}}}function constructs(_,R){let P=-1;const I=[];for(;++P<R.length;)(R[P].add==="after"?_:I).push(R[P]);splice(_,0,0,I)}function decodeNumericCharacterReference(_,R){const P=Number.parseInt(_,R);return P<9||P===11||P>13&&P<32||P>126&&P<160||P>55295&&P<57344||P>64975&&P<65008||(P&65535)===65535||(P&65535)===65534||P>1114111?"":String.fromCodePoint(P)}function normalizeIdentifier(_){return _.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(_){return _!==null&&(_<32||_===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(_){return _!==null&&_<-2}function markdownLineEndingOrSpace(_){return _!==null&&(_<0||_===32)}function markdownSpace(_){return _===-2||_===-1||_===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(_){return R;function R(P){return P!==null&&P>-1&&_.test(String.fromCharCode(P))}}function normalizeUri(_){const R=[];let P=-1,I=0,O=0;for(;++P<_.length;){const z=_.charCodeAt(P);let L="";if(z===37&&asciiAlphanumeric(_.charCodeAt(P+1))&&asciiAlphanumeric(_.charCodeAt(P+2)))O=2;else if(z<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(z))||(L=String.fromCharCode(z));else if(z>55295&&z<57344){const F=_.charCodeAt(P+1);z<56320&&F>56319&&F<57344?(L=String.fromCharCode(z,F),O=1):L=""}else L=String.fromCharCode(z);L&&(R.push(_.slice(I,P),encodeURIComponent(L)),I=P+O+1,L=""),O&&(P+=O,O=0)}return R.join("")+_.slice(I)}function factorySpace(_,R,P,I){const O=I?I-1:Number.POSITIVE_INFINITY;let z=0;return L;function L(U){return markdownSpace(U)?(_.enter(P),F(U)):R(U)}function F(U){return markdownSpace(U)&&z++<O?(_.consume(U),F):(_.exit(P),R(U))}}const content$1={tokenize:initializeContent};function initializeContent(_){const R=_.attempt(this.parser.constructs.contentInitial,I,O);let P;return R;function I(F){if(F===null){_.consume(F);return}return _.enter("lineEnding"),_.consume(F),_.exit("lineEnding"),factorySpace(_,R,"linePrefix")}function O(F){return _.enter("paragraph"),z(F)}function z(F){const U=_.enter("chunkText",{contentType:"text",previous:P});return P&&(P.next=U),P=U,L(F)}function L(F){if(F===null){_.exit("chunkText"),_.exit("paragraph"),_.consume(F);return}return markdownLineEnding(F)?(_.consume(F),_.exit("chunkText"),z):(_.consume(F),L)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(_){const R=this,P=[];let I=0,O,z,L;return F;function F(le){if(I<P.length){const ce=P[I];return R.containerState=ce[1],_.attempt(ce[0].continuation,U,V)(le)}return V(le)}function U(le){if(I++,R.containerState._closeFlow){R.containerState._closeFlow=void 0,O&&se();const ce=R.events.length;let fe=ce,de;for(;fe--;)if(R.events[fe][0]==="exit"&&R.events[fe][1].type==="chunkFlow"){de=R.events[fe][1].end;break}ae(I);let he=ce;for(;he<R.events.length;)R.events[he][1].end={...de},he++;return splice(R.events,fe+1,0,R.events.slice(ce)),R.events.length=he,V(le)}return F(le)}function V(le){if(I===P.length){if(!O)return Y(le);if(O.currentConstruct&&O.currentConstruct.concrete)return ee(le);R.interrupt=!!(O.currentConstruct&&!O._gfmTableDynamicInterruptHack)}return R.containerState={},_.check(containerConstruct,q,W)(le)}function q(le){return O&&se(),ae(I),Y(le)}function W(le){return R.parser.lazy[R.now().line]=I!==P.length,L=R.now().offset,ee(le)}function Y(le){return R.containerState={},_.attempt(containerConstruct,Q,ee)(le)}function Q(le){return I++,P.push([R.currentConstruct,R.containerState]),Y(le)}function ee(le){if(le===null){O&&se(),ae(0),_.consume(le);return}return O=O||R.parser.flow(R.now()),_.enter("chunkFlow",{_tokenizer:O,contentType:"flow",previous:z}),te(le)}function te(le){if(le===null){ie(_.exit("chunkFlow"),!0),ae(0),_.consume(le);return}return markdownLineEnding(le)?(_.consume(le),ie(_.exit("chunkFlow")),I=0,R.interrupt=void 0,F):(_.consume(le),te)}function ie(le,ce){const fe=R.sliceStream(le);if(ce&&fe.push(null),le.previous=z,z&&(z.next=le),z=le,O.defineSkip(le.start),O.write(fe),R.parser.lazy[le.start.line]){let de=O.events.length;for(;de--;)if(O.events[de][1].start.offset<L&&(!O.events[de][1].end||O.events[de][1].end.offset>L))return;const he=R.events.length;let pe=he,ge,be;for(;pe--;)if(R.events[pe][0]==="exit"&&R.events[pe][1].type==="chunkFlow"){if(ge){be=R.events[pe][1].end;break}ge=!0}for(ae(I),de=he;de<R.events.length;)R.events[de][1].end={...be},de++;splice(R.events,pe+1,0,R.events.slice(he)),R.events.length=de}}function ae(le){let ce=P.length;for(;ce-- >le;){const fe=P[ce];R.containerState=fe[1],fe[0].exit.call(R,_)}P.length=le}function se(){O.write([null]),z=void 0,O=void 0,R.containerState._closeFlow=void 0}}function tokenizeContainer(_,R,P){return factorySpace(_,_.attempt(this.parser.constructs.document,R,P),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(_){if(_===null||markdownLineEndingOrSpace(_)||unicodeWhitespace(_))return 1;if(unicodePunctuation(_))return 2}function resolveAll(_,R,P){const I=[];let O=-1;for(;++O<_.length;){const z=_[O].resolveAll;z&&!I.includes(z)&&(R=z(R,P),I.push(z))}return R}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(_,R){let P=-1,I,O,z,L,F,U,V,q;for(;++P<_.length;)if(_[P][0]==="enter"&&_[P][1].type==="attentionSequence"&&_[P][1]._close){for(I=P;I--;)if(_[I][0]==="exit"&&_[I][1].type==="attentionSequence"&&_[I][1]._open&&R.sliceSerialize(_[I][1]).charCodeAt(0)===R.sliceSerialize(_[P][1]).charCodeAt(0)){if((_[I][1]._close||_[P][1]._open)&&(_[P][1].end.offset-_[P][1].start.offset)%3&&!((_[I][1].end.offset-_[I][1].start.offset+_[P][1].end.offset-_[P][1].start.offset)%3))continue;U=_[I][1].end.offset-_[I][1].start.offset>1&&_[P][1].end.offset-_[P][1].start.offset>1?2:1;const W={..._[I][1].end},Y={..._[P][1].start};movePoint(W,-U),movePoint(Y,U),L={type:U>1?"strongSequence":"emphasisSequence",start:W,end:{..._[I][1].end}},F={type:U>1?"strongSequence":"emphasisSequence",start:{..._[P][1].start},end:Y},z={type:U>1?"strongText":"emphasisText",start:{..._[I][1].end},end:{..._[P][1].start}},O={type:U>1?"strong":"emphasis",start:{...L.start},end:{...F.end}},_[I][1].end={...L.start},_[P][1].start={...F.end},V=[],_[I][1].end.offset-_[I][1].start.offset&&(V=push(V,[["enter",_[I][1],R],["exit",_[I][1],R]])),V=push(V,[["enter",O,R],["enter",L,R],["exit",L,R],["enter",z,R]]),V=push(V,resolveAll(R.parser.constructs.insideSpan.null,_.slice(I+1,P),R)),V=push(V,[["exit",z,R],["enter",F,R],["exit",F,R],["exit",O,R]]),_[P][1].end.offset-_[P][1].start.offset?(q=2,V=push(V,[["enter",_[P][1],R],["exit",_[P][1],R]])):q=0,splice(_,I-1,P-I+3,V),P=I+V.length-q-2;break}}for(P=-1;++P<_.length;)_[P][1].type==="attentionSequence"&&(_[P][1].type="data");return _}function tokenizeAttention(_,R){const P=this.parser.constructs.attentionMarkers.null,I=this.previous,O=classifyCharacter(I);let z;return L;function L(U){return z=U,_.enter("attentionSequence"),F(U)}function F(U){if(U===z)return _.consume(U),F;const V=_.exit("attentionSequence"),q=classifyCharacter(U),W=!q||q===2&&O||P.includes(U),Y=!O||O===2&&q||P.includes(I);return V._open=!!(z===42?W:W&&(O||!Y)),V._close=!!(z===42?Y:Y&&(q||!W)),R(U)}}function movePoint(_,R){_.column+=R,_.offset+=R,_._bufferIndex+=R}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(_,R,P){let I=0;return O;function O(Q){return _.enter("autolink"),_.enter("autolinkMarker"),_.consume(Q),_.exit("autolinkMarker"),_.enter("autolinkProtocol"),z}function z(Q){return asciiAlpha(Q)?(_.consume(Q),L):Q===64?P(Q):V(Q)}function L(Q){return Q===43||Q===45||Q===46||asciiAlphanumeric(Q)?(I=1,F(Q)):V(Q)}function F(Q){return Q===58?(_.consume(Q),I=0,U):(Q===43||Q===45||Q===46||asciiAlphanumeric(Q))&&I++<32?(_.consume(Q),F):(I=0,V(Q))}function U(Q){return Q===62?(_.exit("autolinkProtocol"),_.enter("autolinkMarker"),_.consume(Q),_.exit("autolinkMarker"),_.exit("autolink"),R):Q===null||Q===32||Q===60||asciiControl(Q)?P(Q):(_.consume(Q),U)}function V(Q){return Q===64?(_.consume(Q),q):asciiAtext(Q)?(_.consume(Q),V):P(Q)}function q(Q){return asciiAlphanumeric(Q)?W(Q):P(Q)}function W(Q){return Q===46?(_.consume(Q),I=0,q):Q===62?(_.exit("autolinkProtocol").type="autolinkEmail",_.enter("autolinkMarker"),_.consume(Q),_.exit("autolinkMarker"),_.exit("autolink"),R):Y(Q)}function Y(Q){if((Q===45||asciiAlphanumeric(Q))&&I++<63){const ee=Q===45?Y:W;return _.consume(Q),ee}return P(Q)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(_,R,P){return I;function I(z){return markdownSpace(z)?factorySpace(_,O,"linePrefix")(z):O(z)}function O(z){return z===null||markdownLineEnding(z)?R(z):P(z)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(_,R,P){const I=this;return O;function O(L){if(L===62){const F=I.containerState;return F.open||(_.enter("blockQuote",{_container:!0}),F.open=!0),_.enter("blockQuotePrefix"),_.enter("blockQuoteMarker"),_.consume(L),_.exit("blockQuoteMarker"),z}return P(L)}function z(L){return markdownSpace(L)?(_.enter("blockQuotePrefixWhitespace"),_.consume(L),_.exit("blockQuotePrefixWhitespace"),_.exit("blockQuotePrefix"),R):(_.exit("blockQuotePrefix"),R(L))}}function tokenizeBlockQuoteContinuation(_,R,P){const I=this;return O;function O(L){return markdownSpace(L)?factorySpace(_,z,"linePrefix",I.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):z(L)}function z(L){return _.attempt(blockQuote,R,P)(L)}}function exit(_){_.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(_,R,P){return I;function I(z){return _.enter("characterEscape"),_.enter("escapeMarker"),_.consume(z),_.exit("escapeMarker"),O}function O(z){return asciiPunctuation(z)?(_.enter("characterEscapeValue"),_.consume(z),_.exit("characterEscapeValue"),_.exit("characterEscape"),R):P(z)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(_,R,P){const I=this;let O=0,z,L;return F;function F(W){return _.enter("characterReference"),_.enter("characterReferenceMarker"),_.consume(W),_.exit("characterReferenceMarker"),U}function U(W){return W===35?(_.enter("characterReferenceMarkerNumeric"),_.consume(W),_.exit("characterReferenceMarkerNumeric"),V):(_.enter("characterReferenceValue"),z=31,L=asciiAlphanumeric,q(W))}function V(W){return W===88||W===120?(_.enter("characterReferenceMarkerHexadecimal"),_.consume(W),_.exit("characterReferenceMarkerHexadecimal"),_.enter("characterReferenceValue"),z=6,L=asciiHexDigit,q):(_.enter("characterReferenceValue"),z=7,L=asciiDigit,q(W))}function q(W){if(W===59&&O){const Y=_.exit("characterReferenceValue");return L===asciiAlphanumeric&&!decodeNamedCharacterReference(I.sliceSerialize(Y))?P(W):(_.enter("characterReferenceMarker"),_.consume(W),_.exit("characterReferenceMarker"),_.exit("characterReference"),R)}return L(W)&&O++<z?(_.consume(W),q):P(W)}}const nonLazyContinuation$1={partial:!0,tokenize:tokenizeNonLazyContinuation$1},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(_,R,P){const I=this,O={partial:!0,tokenize:fe};let z=0,L=0,F;return U;function U(de){return V(de)}function V(de){const he=I.events[I.events.length-1];return z=he&&he[1].type==="linePrefix"?he[2].sliceSerialize(he[1],!0).length:0,F=de,_.enter("codeFenced"),_.enter("codeFencedFence"),_.enter("codeFencedFenceSequence"),q(de)}function q(de){return de===F?(L++,_.consume(de),q):L<3?P(de):(_.exit("codeFencedFenceSequence"),markdownSpace(de)?factorySpace(_,W,"whitespace")(de):W(de))}function W(de){return de===null||markdownLineEnding(de)?(_.exit("codeFencedFence"),I.interrupt?R(de):_.check(nonLazyContinuation$1,te,ce)(de)):(_.enter("codeFencedFenceInfo"),_.enter("chunkString",{contentType:"string"}),Y(de))}function Y(de){return de===null||markdownLineEnding(de)?(_.exit("chunkString"),_.exit("codeFencedFenceInfo"),W(de)):markdownSpace(de)?(_.exit("chunkString"),_.exit("codeFencedFenceInfo"),factorySpace(_,Q,"whitespace")(de)):de===96&&de===F?P(de):(_.consume(de),Y)}function Q(de){return de===null||markdownLineEnding(de)?W(de):(_.enter("codeFencedFenceMeta"),_.enter("chunkString",{contentType:"string"}),ee(de))}function ee(de){return de===null||markdownLineEnding(de)?(_.exit("chunkString"),_.exit("codeFencedFenceMeta"),W(de)):de===96&&de===F?P(de):(_.consume(de),ee)}function te(de){return _.attempt(O,ce,ie)(de)}function ie(de){return _.enter("lineEnding"),_.consume(de),_.exit("lineEnding"),ae}function ae(de){return z>0&&markdownSpace(de)?factorySpace(_,se,"linePrefix",z+1)(de):se(de)}function se(de){return de===null||markdownLineEnding(de)?_.check(nonLazyContinuation$1,te,ce)(de):(_.enter("codeFlowValue"),le(de))}function le(de){return de===null||markdownLineEnding(de)?(_.exit("codeFlowValue"),se(de)):(_.consume(de),le)}function ce(de){return _.exit("codeFenced"),R(de)}function fe(de,he,pe){let ge=0;return be;function be(Ce){return de.enter("lineEnding"),de.consume(Ce),de.exit("lineEnding"),xe}function xe(Ce){return de.enter("codeFencedFence"),markdownSpace(Ce)?factorySpace(de,_e,"linePrefix",I.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ce):_e(Ce)}function _e(Ce){return Ce===F?(de.enter("codeFencedFenceSequence"),Se(Ce)):pe(Ce)}function Se(Ce){return Ce===F?(ge++,de.consume(Ce),Se):ge>=L?(de.exit("codeFencedFenceSequence"),markdownSpace(Ce)?factorySpace(de,me,"whitespace")(Ce):me(Ce)):pe(Ce)}function me(Ce){return Ce===null||markdownLineEnding(Ce)?(de.exit("codeFencedFence"),he(Ce)):pe(Ce)}}}function tokenizeNonLazyContinuation$1(_,R,P){const I=this;return O;function O(L){return L===null?P(L):(_.enter("lineEnding"),_.consume(L),_.exit("lineEnding"),z)}function z(L){return I.parser.lazy[I.now().line]?P(L):R(L)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(_,R,P){const I=this;return O;function O(V){return _.enter("codeIndented"),factorySpace(_,z,"linePrefix",5)(V)}function z(V){const q=I.events[I.events.length-1];return q&&q[1].type==="linePrefix"&&q[2].sliceSerialize(q[1],!0).length>=4?L(V):P(V)}function L(V){return V===null?U(V):markdownLineEnding(V)?_.attempt(furtherStart,L,U)(V):(_.enter("codeFlowValue"),F(V))}function F(V){return V===null||markdownLineEnding(V)?(_.exit("codeFlowValue"),L(V)):(_.consume(V),F)}function U(V){return _.exit("codeIndented"),R(V)}}function tokenizeFurtherStart(_,R,P){const I=this;return O;function O(L){return I.parser.lazy[I.now().line]?P(L):markdownLineEnding(L)?(_.enter("lineEnding"),_.consume(L),_.exit("lineEnding"),O):factorySpace(_,z,"linePrefix",5)(L)}function z(L){const F=I.events[I.events.length-1];return F&&F[1].type==="linePrefix"&&F[2].sliceSerialize(F[1],!0).length>=4?R(L):markdownLineEnding(L)?O(L):P(L)}}const codeText={name:"codeText",previous:previous$1,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(_){let R=_.length-4,P=3,I,O;if((_[P][1].type==="lineEnding"||_[P][1].type==="space")&&(_[R][1].type==="lineEnding"||_[R][1].type==="space")){for(I=P;++I<R;)if(_[I][1].type==="codeTextData"){_[P][1].type="codeTextPadding",_[R][1].type="codeTextPadding",P+=2,R-=2;break}}for(I=P-1,R++;++I<=R;)O===void 0?I!==R&&_[I][1].type!=="lineEnding"&&(O=I):(I===R||_[I][1].type==="lineEnding")&&(_[O][1].type="codeTextData",I!==O+2&&(_[O][1].end=_[I-1][1].end,_.splice(O+2,I-O-2),R-=I-O-2,I=O+2),O=void 0);return _}function previous$1(_){return _!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(_,R,P){let I=0,O,z;return L;function L(W){return _.enter("codeText"),_.enter("codeTextSequence"),F(W)}function F(W){return W===96?(_.consume(W),I++,F):(_.exit("codeTextSequence"),U(W))}function U(W){return W===null?P(W):W===32?(_.enter("space"),_.consume(W),_.exit("space"),U):W===96?(z=_.enter("codeTextSequence"),O=0,q(W)):markdownLineEnding(W)?(_.enter("lineEnding"),_.consume(W),_.exit("lineEnding"),U):(_.enter("codeTextData"),V(W))}function V(W){return W===null||W===32||W===96||markdownLineEnding(W)?(_.exit("codeTextData"),U(W)):(_.consume(W),V)}function q(W){return W===96?(_.consume(W),O++,q):O===I?(_.exit("codeTextSequence"),_.exit("codeText"),R(W)):(z.type="codeTextData",V(W))}}class SpliceBuffer{constructor(R){this.left=R?[...R]:[],this.right=[]}get(R){if(R<0||R>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+R+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return R<this.left.length?this.left[R]:this.right[this.right.length-R+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(R,P){const I=P??Number.POSITIVE_INFINITY;return I<this.left.length?this.left.slice(R,I):R>this.left.length?this.right.slice(this.right.length-I+this.left.length,this.right.length-R+this.left.length).reverse():this.left.slice(R).concat(this.right.slice(this.right.length-I+this.left.length).reverse())}splice(R,P,I){const O=P||0;this.setCursor(Math.trunc(R));const z=this.right.splice(this.right.length-O,Number.POSITIVE_INFINITY);return I&&chunkedPush(this.left,I),z.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(R){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(R)}pushMany(R){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,R)}unshift(R){this.setCursor(0),this.right.push(R)}unshiftMany(R){this.setCursor(0),chunkedPush(this.right,R.reverse())}setCursor(R){if(!(R===this.left.length||R>this.left.length&&this.right.length===0||R<0&&this.left.length===0))if(R<this.left.length){const P=this.left.splice(R,Number.POSITIVE_INFINITY);chunkedPush(this.right,P.reverse())}else{const P=this.right.splice(this.left.length+this.right.length-R,Number.POSITIVE_INFINITY);chunkedPush(this.left,P.reverse())}}}function chunkedPush(_,R){let P=0;if(R.length<1e4)_.push(...R);else for(;P<R.length;)_.push(...R.slice(P,P+1e4)),P+=1e4}function subtokenize(_){const R={};let P=-1,I,O,z,L,F,U,V;const q=new SpliceBuffer(_);for(;++P<q.length;){for(;P in R;)P=R[P];if(I=q.get(P),P&&I[1].type==="chunkFlow"&&q.get(P-1)[1].type==="listItemPrefix"&&(U=I[1]._tokenizer.events,z=0,z<U.length&&U[z][1].type==="lineEndingBlank"&&(z+=2),z<U.length&&U[z][1].type==="content"))for(;++z<U.length&&U[z][1].type!=="content";)U[z][1].type==="chunkText"&&(U[z][1]._isInFirstContentOfListItem=!0,z++);if(I[0]==="enter")I[1].contentType&&(Object.assign(R,subcontent(q,P)),P=R[P],V=!0);else if(I[1]._container){for(z=P,O=void 0;z--;)if(L=q.get(z),L[1].type==="lineEnding"||L[1].type==="lineEndingBlank")L[0]==="enter"&&(O&&(q.get(O)[1].type="lineEndingBlank"),L[1].type="lineEnding",O=z);else if(!(L[1].type==="linePrefix"||L[1].type==="listItemIndent"))break;O&&(I[1].end={...q.get(O)[1].start},F=q.slice(O,P),F.unshift(I),q.splice(O,P-O+1,F))}}return splice(_,0,Number.POSITIVE_INFINITY,q.slice(0)),!V}function subcontent(_,R){const P=_.get(R)[1],I=_.get(R)[2];let O=R-1;const z=[];let L=P._tokenizer;L||(L=I.parser[P.contentType](P.start),P._contentTypeTextTrailing&&(L._contentTypeTextTrailing=!0));const F=L.events,U=[],V={};let q,W,Y=-1,Q=P,ee=0,te=0;const ie=[te];for(;Q;){for(;_.get(++O)[1]!==Q;);z.push(O),Q._tokenizer||(q=I.sliceStream(Q),Q.next||q.push(null),W&&L.defineSkip(Q.start),Q._isInFirstContentOfListItem&&(L._gfmTasklistFirstContentOfListItem=!0),L.write(q),Q._isInFirstContentOfListItem&&(L._gfmTasklistFirstContentOfListItem=void 0)),W=Q,Q=Q.next}for(Q=P;++Y<F.length;)F[Y][0]==="exit"&&F[Y-1][0]==="enter"&&F[Y][1].type===F[Y-1][1].type&&F[Y][1].start.line!==F[Y][1].end.line&&(te=Y+1,ie.push(te),Q._tokenizer=void 0,Q.previous=void 0,Q=Q.next);for(L.events=[],Q?(Q._tokenizer=void 0,Q.previous=void 0):ie.pop(),Y=ie.length;Y--;){const ae=F.slice(ie[Y],ie[Y+1]),se=z.pop();U.push([se,se+ae.length-1]),_.splice(se,2,ae)}for(U.reverse(),Y=-1;++Y<U.length;)V[ee+U[Y][0]]=ee+U[Y][1],ee+=U[Y][1]-U[Y][0]-1;return V}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(_){return subtokenize(_),_}function tokenizeContent(_,R){let P;return I;function I(F){return _.enter("content"),P=_.enter("chunkContent",{contentType:"content"}),O(F)}function O(F){return F===null?z(F):markdownLineEnding(F)?_.check(continuationConstruct,L,z)(F):(_.consume(F),O)}function z(F){return _.exit("chunkContent"),_.exit("content"),R(F)}function L(F){return _.consume(F),_.exit("chunkContent"),P.next=_.enter("chunkContent",{contentType:"content",previous:P}),P=P.next,O}}function tokenizeContinuation(_,R,P){const I=this;return O;function O(L){return _.exit("chunkContent"),_.enter("lineEnding"),_.consume(L),_.exit("lineEnding"),factorySpace(_,z,"linePrefix")}function z(L){if(L===null||markdownLineEnding(L))return P(L);const F=I.events[I.events.length-1];return!I.parser.constructs.disable.null.includes("codeIndented")&&F&&F[1].type==="linePrefix"&&F[2].sliceSerialize(F[1],!0).length>=4?R(L):_.interrupt(I.parser.constructs.flow,P,R)(L)}}function factoryDestination(_,R,P,I,O,z,L,F,U){const V=U||Number.POSITIVE_INFINITY;let q=0;return W;function W(ae){return ae===60?(_.enter(I),_.enter(O),_.enter(z),_.consume(ae),_.exit(z),Y):ae===null||ae===32||ae===41||asciiControl(ae)?P(ae):(_.enter(I),_.enter(L),_.enter(F),_.enter("chunkString",{contentType:"string"}),te(ae))}function Y(ae){return ae===62?(_.enter(z),_.consume(ae),_.exit(z),_.exit(O),_.exit(I),R):(_.enter(F),_.enter("chunkString",{contentType:"string"}),Q(ae))}function Q(ae){return ae===62?(_.exit("chunkString"),_.exit(F),Y(ae)):ae===null||ae===60||markdownLineEnding(ae)?P(ae):(_.consume(ae),ae===92?ee:Q)}function ee(ae){return ae===60||ae===62||ae===92?(_.consume(ae),Q):Q(ae)}function te(ae){return!q&&(ae===null||ae===41||markdownLineEndingOrSpace(ae))?(_.exit("chunkString"),_.exit(F),_.exit(L),_.exit(I),R(ae)):q<V&&ae===40?(_.consume(ae),q++,te):ae===41?(_.consume(ae),q--,te):ae===null||ae===32||ae===40||asciiControl(ae)?P(ae):(_.consume(ae),ae===92?ie:te)}function ie(ae){return ae===40||ae===41||ae===92?(_.consume(ae),te):te(ae)}}function factoryLabel(_,R,P,I,O,z){const L=this;let F=0,U;return V;function V(Q){return _.enter(I),_.enter(O),_.consume(Q),_.exit(O),_.enter(z),q}function q(Q){return F>999||Q===null||Q===91||Q===93&&!U||Q===94&&!F&&"_hiddenFootnoteSupport"in L.parser.constructs?P(Q):Q===93?(_.exit(z),_.enter(O),_.consume(Q),_.exit(O),_.exit(I),R):markdownLineEnding(Q)?(_.enter("lineEnding"),_.consume(Q),_.exit("lineEnding"),q):(_.enter("chunkString",{contentType:"string"}),W(Q))}function W(Q){return Q===null||Q===91||Q===93||markdownLineEnding(Q)||F++>999?(_.exit("chunkString"),q(Q)):(_.consume(Q),U||(U=!markdownSpace(Q)),Q===92?Y:W)}function Y(Q){return Q===91||Q===92||Q===93?(_.consume(Q),F++,W):W(Q)}}function factoryTitle(_,R,P,I,O,z){let L;return F;function F(Y){return Y===34||Y===39||Y===40?(_.enter(I),_.enter(O),_.consume(Y),_.exit(O),L=Y===40?41:Y,U):P(Y)}function U(Y){return Y===L?(_.enter(O),_.consume(Y),_.exit(O),_.exit(I),R):(_.enter(z),V(Y))}function V(Y){return Y===L?(_.exit(z),U(L)):Y===null?P(Y):markdownLineEnding(Y)?(_.enter("lineEnding"),_.consume(Y),_.exit("lineEnding"),factorySpace(_,V,"linePrefix")):(_.enter("chunkString",{contentType:"string"}),q(Y))}function q(Y){return Y===L||Y===null||markdownLineEnding(Y)?(_.exit("chunkString"),V(Y)):(_.consume(Y),Y===92?W:q)}function W(Y){return Y===L||Y===92?(_.consume(Y),q):q(Y)}}function factoryWhitespace(_,R){let P;return I;function I(O){return markdownLineEnding(O)?(_.enter("lineEnding"),_.consume(O),_.exit("lineEnding"),P=!0,I):markdownSpace(O)?factorySpace(_,I,P?"linePrefix":"lineSuffix")(O):R(O)}}const definition={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(_,R,P){const I=this;let O;return z;function z(Q){return _.enter("definition"),L(Q)}function L(Q){return factoryLabel.call(I,_,F,P,"definitionLabel","definitionLabelMarker","definitionLabelString")(Q)}function F(Q){return O=normalizeIdentifier(I.sliceSerialize(I.events[I.events.length-1][1]).slice(1,-1)),Q===58?(_.enter("definitionMarker"),_.consume(Q),_.exit("definitionMarker"),U):P(Q)}function U(Q){return markdownLineEndingOrSpace(Q)?factoryWhitespace(_,V)(Q):V(Q)}function V(Q){return factoryDestination(_,q,P,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(Q)}function q(Q){return _.attempt(titleBefore,W,W)(Q)}function W(Q){return markdownSpace(Q)?factorySpace(_,Y,"whitespace")(Q):Y(Q)}function Y(Q){return Q===null||markdownLineEnding(Q)?(_.exit("definition"),I.parser.defined.push(O),R(Q)):P(Q)}}function tokenizeTitleBefore(_,R,P){return I;function I(F){return markdownLineEndingOrSpace(F)?factoryWhitespace(_,O)(F):P(F)}function O(F){return factoryTitle(_,z,P,"definitionTitle","definitionTitleMarker","definitionTitleString")(F)}function z(F){return markdownSpace(F)?factorySpace(_,L,"whitespace")(F):L(F)}function L(F){return F===null||markdownLineEnding(F)?R(F):P(F)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(_,R,P){return I;function I(z){return _.enter("hardBreakEscape"),_.consume(z),O}function O(z){return markdownLineEnding(z)?(_.exit("hardBreakEscape"),R(z)):P(z)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(_,R){let P=_.length-2,I=3,O,z;return _[I][1].type==="whitespace"&&(I+=2),P-2>I&&_[P][1].type==="whitespace"&&(P-=2),_[P][1].type==="atxHeadingSequence"&&(I===P-1||P-4>I&&_[P-2][1].type==="whitespace")&&(P-=I+1===P?2:4),P>I&&(O={type:"atxHeadingText",start:_[I][1].start,end:_[P][1].end},z={type:"chunkText",start:_[I][1].start,end:_[P][1].end,contentType:"text"},splice(_,I,P-I+1,[["enter",O,R],["enter",z,R],["exit",z,R],["exit",O,R]])),_}function tokenizeHeadingAtx(_,R,P){let I=0;return O;function O(q){return _.enter("atxHeading"),z(q)}function z(q){return _.enter("atxHeadingSequence"),L(q)}function L(q){return q===35&&I++<6?(_.consume(q),L):q===null||markdownLineEndingOrSpace(q)?(_.exit("atxHeadingSequence"),F(q)):P(q)}function F(q){return q===35?(_.enter("atxHeadingSequence"),U(q)):q===null||markdownLineEnding(q)?(_.exit("atxHeading"),R(q)):markdownSpace(q)?factorySpace(_,F,"whitespace")(q):(_.enter("atxHeadingText"),V(q))}function U(q){return q===35?(_.consume(q),U):(_.exit("atxHeadingSequence"),F(q))}function V(q){return q===null||q===35||markdownLineEndingOrSpace(q)?(_.exit("atxHeadingText"),F(q)):(_.consume(q),V)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(_){let R=_.length;for(;R--&&!(_[R][0]==="enter"&&_[R][1].type==="htmlFlow"););return R>1&&_[R-2][1].type==="linePrefix"&&(_[R][1].start=_[R-2][1].start,_[R+1][1].start=_[R-2][1].start,_.splice(R-2,2)),_}function tokenizeHtmlFlow(_,R,P){const I=this;let O,z,L,F,U;return V;function V(Ee){return q(Ee)}function q(Ee){return _.enter("htmlFlow"),_.enter("htmlFlowData"),_.consume(Ee),W}function W(Ee){return Ee===33?(_.consume(Ee),Y):Ee===47?(_.consume(Ee),z=!0,te):Ee===63?(_.consume(Ee),O=3,I.interrupt?R:Ae):asciiAlpha(Ee)?(_.consume(Ee),L=String.fromCharCode(Ee),ie):P(Ee)}function Y(Ee){return Ee===45?(_.consume(Ee),O=2,Q):Ee===91?(_.consume(Ee),O=5,F=0,ee):asciiAlpha(Ee)?(_.consume(Ee),O=4,I.interrupt?R:Ae):P(Ee)}function Q(Ee){return Ee===45?(_.consume(Ee),I.interrupt?R:Ae):P(Ee)}function ee(Ee){const ze="CDATA[";return Ee===ze.charCodeAt(F++)?(_.consume(Ee),F===ze.length?I.interrupt?R:_e:ee):P(Ee)}function te(Ee){return asciiAlpha(Ee)?(_.consume(Ee),L=String.fromCharCode(Ee),ie):P(Ee)}function ie(Ee){if(Ee===null||Ee===47||Ee===62||markdownLineEndingOrSpace(Ee)){const ze=Ee===47,je=L.toLowerCase();return!ze&&!z&&htmlRawNames.includes(je)?(O=1,I.interrupt?R(Ee):_e(Ee)):htmlBlockNames.includes(L.toLowerCase())?(O=6,ze?(_.consume(Ee),ae):I.interrupt?R(Ee):_e(Ee)):(O=7,I.interrupt&&!I.parser.lazy[I.now().line]?P(Ee):z?se(Ee):le(Ee))}return Ee===45||asciiAlphanumeric(Ee)?(_.consume(Ee),L+=String.fromCharCode(Ee),ie):P(Ee)}function ae(Ee){return Ee===62?(_.consume(Ee),I.interrupt?R:_e):P(Ee)}function se(Ee){return markdownSpace(Ee)?(_.consume(Ee),se):be(Ee)}function le(Ee){return Ee===47?(_.consume(Ee),be):Ee===58||Ee===95||asciiAlpha(Ee)?(_.consume(Ee),ce):markdownSpace(Ee)?(_.consume(Ee),le):be(Ee)}function ce(Ee){return Ee===45||Ee===46||Ee===58||Ee===95||asciiAlphanumeric(Ee)?(_.consume(Ee),ce):fe(Ee)}function fe(Ee){return Ee===61?(_.consume(Ee),de):markdownSpace(Ee)?(_.consume(Ee),fe):le(Ee)}function de(Ee){return Ee===null||Ee===60||Ee===61||Ee===62||Ee===96?P(Ee):Ee===34||Ee===39?(_.consume(Ee),U=Ee,he):markdownSpace(Ee)?(_.consume(Ee),de):pe(Ee)}function he(Ee){return Ee===U?(_.consume(Ee),U=null,ge):Ee===null||markdownLineEnding(Ee)?P(Ee):(_.consume(Ee),he)}function pe(Ee){return Ee===null||Ee===34||Ee===39||Ee===47||Ee===60||Ee===61||Ee===62||Ee===96||markdownLineEndingOrSpace(Ee)?fe(Ee):(_.consume(Ee),pe)}function ge(Ee){return Ee===47||Ee===62||markdownSpace(Ee)?le(Ee):P(Ee)}function be(Ee){return Ee===62?(_.consume(Ee),xe):P(Ee)}function xe(Ee){return Ee===null||markdownLineEnding(Ee)?_e(Ee):markdownSpace(Ee)?(_.consume(Ee),xe):P(Ee)}function _e(Ee){return Ee===45&&O===2?(_.consume(Ee),Te):Ee===60&&O===1?(_.consume(Ee),Re):Ee===62&&O===4?(_.consume(Ee),we):Ee===63&&O===3?(_.consume(Ee),Ae):Ee===93&&O===5?(_.consume(Ee),Me):markdownLineEnding(Ee)&&(O===6||O===7)?(_.exit("htmlFlowData"),_.check(blankLineBefore,ke,Se)(Ee)):Ee===null||markdownLineEnding(Ee)?(_.exit("htmlFlowData"),Se(Ee)):(_.consume(Ee),_e)}function Se(Ee){return _.check(nonLazyContinuationStart,me,ke)(Ee)}function me(Ee){return _.enter("lineEnding"),_.consume(Ee),_.exit("lineEnding"),Ce}function Ce(Ee){return Ee===null||markdownLineEnding(Ee)?Se(Ee):(_.enter("htmlFlowData"),_e(Ee))}function Te(Ee){return Ee===45?(_.consume(Ee),Ae):_e(Ee)}function Re(Ee){return Ee===47?(_.consume(Ee),L="",Pe):_e(Ee)}function Pe(Ee){if(Ee===62){const ze=L.toLowerCase();return htmlRawNames.includes(ze)?(_.consume(Ee),we):_e(Ee)}return asciiAlpha(Ee)&&L.length<8?(_.consume(Ee),L+=String.fromCharCode(Ee),Pe):_e(Ee)}function Me(Ee){return Ee===93?(_.consume(Ee),Ae):_e(Ee)}function Ae(Ee){return Ee===62?(_.consume(Ee),we):Ee===45&&O===2?(_.consume(Ee),Ae):_e(Ee)}function we(Ee){return Ee===null||markdownLineEnding(Ee)?(_.exit("htmlFlowData"),ke(Ee)):(_.consume(Ee),we)}function ke(Ee){return _.exit("htmlFlow"),R(Ee)}}function tokenizeNonLazyContinuationStart(_,R,P){const I=this;return O;function O(L){return markdownLineEnding(L)?(_.enter("lineEnding"),_.consume(L),_.exit("lineEnding"),z):P(L)}function z(L){return I.parser.lazy[I.now().line]?P(L):R(L)}}function tokenizeBlankLineBefore(_,R,P){return I;function I(O){return _.enter("lineEnding"),_.consume(O),_.exit("lineEnding"),_.attempt(blankLine,R,P)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(_,R,P){const I=this;let O,z,L;return F;function F(Ae){return _.enter("htmlText"),_.enter("htmlTextData"),_.consume(Ae),U}function U(Ae){return Ae===33?(_.consume(Ae),V):Ae===47?(_.consume(Ae),fe):Ae===63?(_.consume(Ae),le):asciiAlpha(Ae)?(_.consume(Ae),pe):P(Ae)}function V(Ae){return Ae===45?(_.consume(Ae),q):Ae===91?(_.consume(Ae),z=0,ee):asciiAlpha(Ae)?(_.consume(Ae),se):P(Ae)}function q(Ae){return Ae===45?(_.consume(Ae),Q):P(Ae)}function W(Ae){return Ae===null?P(Ae):Ae===45?(_.consume(Ae),Y):markdownLineEnding(Ae)?(L=W,Re(Ae)):(_.consume(Ae),W)}function Y(Ae){return Ae===45?(_.consume(Ae),Q):W(Ae)}function Q(Ae){return Ae===62?Te(Ae):Ae===45?Y(Ae):W(Ae)}function ee(Ae){const we="CDATA[";return Ae===we.charCodeAt(z++)?(_.consume(Ae),z===we.length?te:ee):P(Ae)}function te(Ae){return Ae===null?P(Ae):Ae===93?(_.consume(Ae),ie):markdownLineEnding(Ae)?(L=te,Re(Ae)):(_.consume(Ae),te)}function ie(Ae){return Ae===93?(_.consume(Ae),ae):te(Ae)}function ae(Ae){return Ae===62?Te(Ae):Ae===93?(_.consume(Ae),ae):te(Ae)}function se(Ae){return Ae===null||Ae===62?Te(Ae):markdownLineEnding(Ae)?(L=se,Re(Ae)):(_.consume(Ae),se)}function le(Ae){return Ae===null?P(Ae):Ae===63?(_.consume(Ae),ce):markdownLineEnding(Ae)?(L=le,Re(Ae)):(_.consume(Ae),le)}function ce(Ae){return Ae===62?Te(Ae):le(Ae)}function fe(Ae){return asciiAlpha(Ae)?(_.consume(Ae),de):P(Ae)}function de(Ae){return Ae===45||asciiAlphanumeric(Ae)?(_.consume(Ae),de):he(Ae)}function he(Ae){return markdownLineEnding(Ae)?(L=he,Re(Ae)):markdownSpace(Ae)?(_.consume(Ae),he):Te(Ae)}function pe(Ae){return Ae===45||asciiAlphanumeric(Ae)?(_.consume(Ae),pe):Ae===47||Ae===62||markdownLineEndingOrSpace(Ae)?ge(Ae):P(Ae)}function ge(Ae){return Ae===47?(_.consume(Ae),Te):Ae===58||Ae===95||asciiAlpha(Ae)?(_.consume(Ae),be):markdownLineEnding(Ae)?(L=ge,Re(Ae)):markdownSpace(Ae)?(_.consume(Ae),ge):Te(Ae)}function be(Ae){return Ae===45||Ae===46||Ae===58||Ae===95||asciiAlphanumeric(Ae)?(_.consume(Ae),be):xe(Ae)}function xe(Ae){return Ae===61?(_.consume(Ae),_e):markdownLineEnding(Ae)?(L=xe,Re(Ae)):markdownSpace(Ae)?(_.consume(Ae),xe):ge(Ae)}function _e(Ae){return Ae===null||Ae===60||Ae===61||Ae===62||Ae===96?P(Ae):Ae===34||Ae===39?(_.consume(Ae),O=Ae,Se):markdownLineEnding(Ae)?(L=_e,Re(Ae)):markdownSpace(Ae)?(_.consume(Ae),_e):(_.consume(Ae),me)}function Se(Ae){return Ae===O?(_.consume(Ae),O=void 0,Ce):Ae===null?P(Ae):markdownLineEnding(Ae)?(L=Se,Re(Ae)):(_.consume(Ae),Se)}function me(Ae){return Ae===null||Ae===34||Ae===39||Ae===60||Ae===61||Ae===96?P(Ae):Ae===47||Ae===62||markdownLineEndingOrSpace(Ae)?ge(Ae):(_.consume(Ae),me)}function Ce(Ae){return Ae===47||Ae===62||markdownLineEndingOrSpace(Ae)?ge(Ae):P(Ae)}function Te(Ae){return Ae===62?(_.consume(Ae),_.exit("htmlTextData"),_.exit("htmlText"),R):P(Ae)}function Re(Ae){return _.exit("htmlTextData"),_.enter("lineEnding"),_.consume(Ae),_.exit("lineEnding"),Pe}function Pe(Ae){return markdownSpace(Ae)?factorySpace(_,Me,"linePrefix",I.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ae):Me(Ae)}function Me(Ae){return _.enter("htmlTextData"),L(Ae)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(_){let R=-1;const P=[];for(;++R<_.length;){const I=_[R][1];if(P.push(_[R]),I.type==="labelImage"||I.type==="labelLink"||I.type==="labelEnd"){const O=I.type==="labelImage"?4:2;I.type="data",R+=O}}return _.length!==P.length&&splice(_,0,_.length,P),_}function resolveToLabelEnd(_,R){let P=_.length,I=0,O,z,L,F;for(;P--;)if(O=_[P][1],z){if(O.type==="link"||O.type==="labelLink"&&O._inactive)break;_[P][0]==="enter"&&O.type==="labelLink"&&(O._inactive=!0)}else if(L){if(_[P][0]==="enter"&&(O.type==="labelImage"||O.type==="labelLink")&&!O._balanced&&(z=P,O.type!=="labelLink")){I=2;break}}else O.type==="labelEnd"&&(L=P);const U={type:_[z][1].type==="labelLink"?"link":"image",start:{..._[z][1].start},end:{..._[_.length-1][1].end}},V={type:"label",start:{..._[z][1].start},end:{..._[L][1].end}},q={type:"labelText",start:{..._[z+I+2][1].end},end:{..._[L-2][1].start}};return F=[["enter",U,R],["enter",V,R]],F=push(F,_.slice(z+1,z+I+3)),F=push(F,[["enter",q,R]]),F=push(F,resolveAll(R.parser.constructs.insideSpan.null,_.slice(z+I+4,L-3),R)),F=push(F,[["exit",q,R],_[L-2],_[L-1],["exit",V,R]]),F=push(F,_.slice(L+1)),F=push(F,[["exit",U,R]]),splice(_,z,_.length,F),_}function tokenizeLabelEnd(_,R,P){const I=this;let O=I.events.length,z,L;for(;O--;)if((I.events[O][1].type==="labelImage"||I.events[O][1].type==="labelLink")&&!I.events[O][1]._balanced){z=I.events[O][1];break}return F;function F(Y){return z?z._inactive?W(Y):(L=I.parser.defined.includes(normalizeIdentifier(I.sliceSerialize({start:z.end,end:I.now()}))),_.enter("labelEnd"),_.enter("labelMarker"),_.consume(Y),_.exit("labelMarker"),_.exit("labelEnd"),U):P(Y)}function U(Y){return Y===40?_.attempt(resourceConstruct,q,L?q:W)(Y):Y===91?_.attempt(referenceFullConstruct,q,L?V:W)(Y):L?q(Y):W(Y)}function V(Y){return _.attempt(referenceCollapsedConstruct,q,W)(Y)}function q(Y){return R(Y)}function W(Y){return z._balanced=!0,P(Y)}}function tokenizeResource(_,R,P){return I;function I(W){return _.enter("resource"),_.enter("resourceMarker"),_.consume(W),_.exit("resourceMarker"),O}function O(W){return markdownLineEndingOrSpace(W)?factoryWhitespace(_,z)(W):z(W)}function z(W){return W===41?q(W):factoryDestination(_,L,F,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(W)}function L(W){return markdownLineEndingOrSpace(W)?factoryWhitespace(_,U)(W):q(W)}function F(W){return P(W)}function U(W){return W===34||W===39||W===40?factoryTitle(_,V,P,"resourceTitle","resourceTitleMarker","resourceTitleString")(W):q(W)}function V(W){return markdownLineEndingOrSpace(W)?factoryWhitespace(_,q)(W):q(W)}function q(W){return W===41?(_.enter("resourceMarker"),_.consume(W),_.exit("resourceMarker"),_.exit("resource"),R):P(W)}}function tokenizeReferenceFull(_,R,P){const I=this;return O;function O(F){return factoryLabel.call(I,_,z,L,"reference","referenceMarker","referenceString")(F)}function z(F){return I.parser.defined.includes(normalizeIdentifier(I.sliceSerialize(I.events[I.events.length-1][1]).slice(1,-1)))?R(F):P(F)}function L(F){return P(F)}}function tokenizeReferenceCollapsed(_,R,P){return I;function I(z){return _.enter("reference"),_.enter("referenceMarker"),_.consume(z),_.exit("referenceMarker"),O}function O(z){return z===93?(_.enter("referenceMarker"),_.consume(z),_.exit("referenceMarker"),_.exit("reference"),R):P(z)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(_,R,P){const I=this;return O;function O(F){return _.enter("labelImage"),_.enter("labelImageMarker"),_.consume(F),_.exit("labelImageMarker"),z}function z(F){return F===91?(_.enter("labelMarker"),_.consume(F),_.exit("labelMarker"),_.exit("labelImage"),L):P(F)}function L(F){return F===94&&"_hiddenFootnoteSupport"in I.parser.constructs?P(F):R(F)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(_,R,P){const I=this;return O;function O(L){return _.enter("labelLink"),_.enter("labelMarker"),_.consume(L),_.exit("labelMarker"),_.exit("labelLink"),z}function z(L){return L===94&&"_hiddenFootnoteSupport"in I.parser.constructs?P(L):R(L)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(_,R){return P;function P(I){return _.enter("lineEnding"),_.consume(I),_.exit("lineEnding"),factorySpace(_,R,"linePrefix")}}const thematicBreak$1={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(_,R,P){let I=0,O;return z;function z(V){return _.enter("thematicBreak"),L(V)}function L(V){return O=V,F(V)}function F(V){return V===O?(_.enter("thematicBreakSequence"),U(V)):I>=3&&(V===null||markdownLineEnding(V))?(_.exit("thematicBreak"),R(V)):P(V)}function U(V){return V===O?(_.consume(V),I++,U):(_.exit("thematicBreakSequence"),markdownSpace(V)?factorySpace(_,F,"whitespace")(V):F(V))}}const list$1={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent};function tokenizeListStart(_,R,P){const I=this,O=I.events[I.events.length-1];let z=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,L=0;return F;function F(Q){const ee=I.containerState.type||(Q===42||Q===43||Q===45?"listUnordered":"listOrdered");if(ee==="listUnordered"?!I.containerState.marker||Q===I.containerState.marker:asciiDigit(Q)){if(I.containerState.type||(I.containerState.type=ee,_.enter(ee,{_container:!0})),ee==="listUnordered")return _.enter("listItemPrefix"),Q===42||Q===45?_.check(thematicBreak$1,P,V)(Q):V(Q);if(!I.interrupt||Q===49)return _.enter("listItemPrefix"),_.enter("listItemValue"),U(Q)}return P(Q)}function U(Q){return asciiDigit(Q)&&++L<10?(_.consume(Q),U):(!I.interrupt||L<2)&&(I.containerState.marker?Q===I.containerState.marker:Q===41||Q===46)?(_.exit("listItemValue"),V(Q)):P(Q)}function V(Q){return _.enter("listItemMarker"),_.consume(Q),_.exit("listItemMarker"),I.containerState.marker=I.containerState.marker||Q,_.check(blankLine,I.interrupt?P:q,_.attempt(listItemPrefixWhitespaceConstruct,Y,W))}function q(Q){return I.containerState.initialBlankLine=!0,z++,Y(Q)}function W(Q){return markdownSpace(Q)?(_.enter("listItemPrefixWhitespace"),_.consume(Q),_.exit("listItemPrefixWhitespace"),Y):P(Q)}function Y(Q){return I.containerState.size=z+I.sliceSerialize(_.exit("listItemPrefix"),!0).length,R(Q)}}function tokenizeListContinuation(_,R,P){const I=this;return I.containerState._closeFlow=void 0,_.check(blankLine,O,z);function O(F){return I.containerState.furtherBlankLines=I.containerState.furtherBlankLines||I.containerState.initialBlankLine,factorySpace(_,R,"listItemIndent",I.containerState.size+1)(F)}function z(F){return I.containerState.furtherBlankLines||!markdownSpace(F)?(I.containerState.furtherBlankLines=void 0,I.containerState.initialBlankLine=void 0,L(F)):(I.containerState.furtherBlankLines=void 0,I.containerState.initialBlankLine=void 0,_.attempt(indentConstruct,R,L)(F))}function L(F){return I.containerState._closeFlow=!0,I.interrupt=void 0,factorySpace(_,_.attempt(list$1,R,P),"linePrefix",I.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F)}}function tokenizeIndent(_,R,P){const I=this;return factorySpace(_,O,"listItemIndent",I.containerState.size+1);function O(z){const L=I.events[I.events.length-1];return L&&L[1].type==="listItemIndent"&&L[2].sliceSerialize(L[1],!0).length===I.containerState.size?R(z):P(z)}}function tokenizeListEnd(_){_.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(_,R,P){const I=this;return factorySpace(_,O,"listItemPrefixWhitespace",I.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function O(z){const L=I.events[I.events.length-1];return!markdownSpace(z)&&L&&L[1].type==="listItemPrefixWhitespace"?R(z):P(z)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(_,R){let P=_.length,I,O,z;for(;P--;)if(_[P][0]==="enter"){if(_[P][1].type==="content"){I=P;break}_[P][1].type==="paragraph"&&(O=P)}else _[P][1].type==="content"&&_.splice(P,1),!z&&_[P][1].type==="definition"&&(z=P);const L={type:"setextHeading",start:{..._[I][1].start},end:{..._[_.length-1][1].end}};return _[O][1].type="setextHeadingText",z?(_.splice(O,0,["enter",L,R]),_.splice(z+1,0,["exit",_[I][1],R]),_[I][1].end={..._[z][1].end}):_[I][1]=L,_.push(["exit",L,R]),_}function tokenizeSetextUnderline(_,R,P){const I=this;let O;return z;function z(V){let q=I.events.length,W;for(;q--;)if(I.events[q][1].type!=="lineEnding"&&I.events[q][1].type!=="linePrefix"&&I.events[q][1].type!=="content"){W=I.events[q][1].type==="paragraph";break}return!I.parser.lazy[I.now().line]&&(I.interrupt||W)?(_.enter("setextHeadingLine"),O=V,L(V)):P(V)}function L(V){return _.enter("setextHeadingLineSequence"),F(V)}function F(V){return V===O?(_.consume(V),F):(_.exit("setextHeadingLineSequence"),markdownSpace(V)?factorySpace(_,U,"lineSuffix")(V):U(V))}function U(V){return V===null||markdownLineEnding(V)?(_.exit("setextHeadingLine"),R(V)):P(V)}}const flow$1={tokenize:initializeFlow};function initializeFlow(_){const R=this,P=_.attempt(blankLine,I,_.attempt(this.parser.constructs.flowInitial,O,factorySpace(_,_.attempt(this.parser.constructs.flow,O,_.attempt(content,O)),"linePrefix")));return P;function I(z){if(z===null){_.consume(z);return}return _.enter("lineEndingBlank"),_.consume(z),_.exit("lineEndingBlank"),R.currentConstruct=void 0,P}function O(z){if(z===null){_.consume(z);return}return _.enter("lineEnding"),_.consume(z),_.exit("lineEnding"),R.currentConstruct=void 0,P}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$5=initializeFactory("text");function initializeFactory(_){return{resolveAll:createResolver(_==="text"?resolveAllLineSuffixes:void 0),tokenize:R};function R(P){const I=this,O=this.parser.constructs[_],z=P.attempt(O,L,F);return L;function L(q){return V(q)?z(q):F(q)}function F(q){if(q===null){P.consume(q);return}return P.enter("data"),P.consume(q),U}function U(q){return V(q)?(P.exit("data"),z(q)):(P.consume(q),U)}function V(q){if(q===null)return!0;const W=O[q];let Y=-1;if(W)for(;++Y<W.length;){const Q=W[Y];if(!Q.previous||Q.previous.call(I,I.previous))return!0}return!1}}}function createResolver(_){return R;function R(P,I){let O=-1,z;for(;++O<=P.length;)z===void 0?P[O]&&P[O][1].type==="data"&&(z=O,O++):(!P[O]||P[O][1].type!=="data")&&(O!==z+2&&(P[z][1].end=P[O-1][1].end,P.splice(z+2,O-z-2),O=z+2),z=void 0);return _?_(P,I):P}}function resolveAllLineSuffixes(_,R){let P=0;for(;++P<=_.length;)if((P===_.length||_[P][1].type==="lineEnding")&&_[P-1][1].type==="data"){const I=_[P-1][1],O=R.sliceStream(I);let z=O.length,L=-1,F=0,U;for(;z--;){const V=O[z];if(typeof V=="string"){for(L=V.length;V.charCodeAt(L-1)===32;)F++,L--;if(L)break;L=-1}else if(V===-2)U=!0,F++;else if(V!==-1){z++;break}}if(R._contentTypeTextTrailing&&P===_.length&&(F=0),F){const V={type:P===_.length||U||F<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:z?L:I.start._bufferIndex+L,_index:I.start._index+z,line:I.end.line,column:I.end.column-F,offset:I.end.offset-F},end:{...I.end}};I.end={...V.start},I.start.offset===I.end.offset?Object.assign(I,V):(_.splice(P,0,["enter",V,R],["exit",V,R]),P+=2)}P++}return _}const document$1={42:list$1,43:list$1,45:list$1,48:list$1,49:list$1,50:list$1,51:list$1,52:list$1,53:list$1,54:list$1,55:list$1,56:list$1,57:list$1,62:blockQuote},contentInitial={91:definition},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$1,45:[setextUnderline,thematicBreak$1],60:htmlFlow,61:setextUnderline,95:thematicBreak$1,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$4={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$4},Symbol.toStringTag,{value:"Module"}));function createTokenizer(_,R,P){let I={_bufferIndex:-1,_index:0,line:P&&P.line||1,column:P&&P.column||1,offset:P&&P.offset||0};const O={},z=[];let L=[],F=[];const U={attempt:he(fe),check:he(de),consume:se,enter:le,exit:ce,interrupt:he(de,{interrupt:!0})},V={code:null,containerState:{},defineSkip:te,events:[],now:ee,parser:_,previous:null,sliceSerialize:Y,sliceStream:Q,write:W};let q=R.tokenize.call(V,U);return R.resolveAll&&z.push(R),V;function W(xe){return L=push(L,xe),ie(),L[L.length-1]!==null?[]:(pe(R,0),V.events=resolveAll(z,V.events,V),V.events)}function Y(xe,_e){return serializeChunks(Q(xe),_e)}function Q(xe){return sliceChunks(L,xe)}function ee(){const{_bufferIndex:xe,_index:_e,line:Se,column:me,offset:Ce}=I;return{_bufferIndex:xe,_index:_e,line:Se,column:me,offset:Ce}}function te(xe){O[xe.line]=xe.column,be()}function ie(){let xe;for(;I._index<L.length;){const _e=L[I._index];if(typeof _e=="string")for(xe=I._index,I._bufferIndex<0&&(I._bufferIndex=0);I._index===xe&&I._bufferIndex<_e.length;)ae(_e.charCodeAt(I._bufferIndex));else ae(_e)}}function ae(xe){q=q(xe)}function se(xe){markdownLineEnding(xe)?(I.line++,I.column=1,I.offset+=xe===-3?2:1,be()):xe!==-1&&(I.column++,I.offset++),I._bufferIndex<0?I._index++:(I._bufferIndex++,I._bufferIndex===L[I._index].length&&(I._bufferIndex=-1,I._index++)),V.previous=xe}function le(xe,_e){const Se=_e||{};return Se.type=xe,Se.start=ee(),V.events.push(["enter",Se,V]),F.push(Se),Se}function ce(xe){const _e=F.pop();return _e.end=ee(),V.events.push(["exit",_e,V]),_e}function fe(xe,_e){pe(xe,_e.from)}function de(xe,_e){_e.restore()}function he(xe,_e){return Se;function Se(me,Ce,Te){let Re,Pe,Me,Ae;return Array.isArray(me)?ke(me):"tokenize"in me?ke([me]):we(me);function we(Ke){return He;function He(Ze){const Le=Ze!==null&&Ke[Ze],Xe=Ze!==null&&Ke.null,Ye=[...Array.isArray(Le)?Le:Le?[Le]:[],...Array.isArray(Xe)?Xe:Xe?[Xe]:[]];return ke(Ye)(Ze)}}function ke(Ke){return Re=Ke,Pe=0,Ke.length===0?Te:Ee(Ke[Pe])}function Ee(Ke){return He;function He(Ze){return Ae=ge(),Me=Ke,Ke.partial||(V.currentConstruct=Ke),Ke.name&&V.parser.constructs.disable.null.includes(Ke.name)?je():Ke.tokenize.call(_e?Object.assign(Object.create(V),_e):V,U,ze,je)(Ze)}}function ze(Ke){return xe(Me,Ae),Ce}function je(Ke){return Ae.restore(),++Pe<Re.length?Ee(Re[Pe]):Te}}}function pe(xe,_e){xe.resolveAll&&!z.includes(xe)&&z.push(xe),xe.resolve&&splice(V.events,_e,V.events.length-_e,xe.resolve(V.events.slice(_e),V)),xe.resolveTo&&(V.events=xe.resolveTo(V.events,V))}function ge(){const xe=ee(),_e=V.previous,Se=V.currentConstruct,me=V.events.length,Ce=Array.from(F);return{from:me,restore:Te};function Te(){I=xe,V.previous=_e,V.currentConstruct=Se,V.events.length=me,F=Ce,be()}}function be(){I.line in O&&I.column<2&&(I.column=O[I.line],I.offset+=O[I.line]-1)}}function sliceChunks(_,R){const P=R.start._index,I=R.start._bufferIndex,O=R.end._index,z=R.end._bufferIndex;let L;if(P===O)L=[_[P].slice(I,z)];else{if(L=_.slice(P,O),I>-1){const F=L[0];typeof F=="string"?L[0]=F.slice(I):L.shift()}z>0&&L.push(_[O].slice(0,z))}return L}function serializeChunks(_,R){let P=-1;const I=[];let O;for(;++P<_.length;){const z=_[P];let L;if(typeof z=="string")L=z;else switch(z){case-5:{L="\r";break}case-4:{L=`
`;break}case-3:{L=`\r
`;break}case-2:{L=R?" ":"	";break}case-1:{if(!R&&O)continue;L=" ";break}default:L=String.fromCharCode(z)}O=z===-2,I.push(L)}return I.join("")}function parse(_){const I={constructs:combineExtensions([defaultConstructs,...(_||{}).extensions||[]]),content:O(content$1),defined:[],document:O(document$2),flow:O(flow$1),lazy:{},string:O(string$1),text:O(text$5)};return I;function O(z){return L;function L(F){return createTokenizer(I,z,F)}}}function postprocess(_){for(;!subtokenize(_););return _}const search$1=/[\0\t\n\r]/g;function preprocess(){let _=1,R="",P=!0,I;return O;function O(z,L,F){const U=[];let V,q,W,Y,Q;for(z=R+(typeof z=="string"?z.toString():new TextDecoder(L||void 0).decode(z)),W=0,R="",P&&(z.charCodeAt(0)===65279&&W++,P=void 0);W<z.length;){if(search$1.lastIndex=W,V=search$1.exec(z),Y=V&&V.index!==void 0?V.index:z.length,Q=z.charCodeAt(Y),!V){R=z.slice(W);break}if(Q===10&&W===Y&&I)U.push(-3),I=void 0;else switch(I&&(U.push(-5),I=void 0),W<Y&&(U.push(z.slice(W,Y)),_+=Y-W),Q){case 0:{U.push(65533),_++;break}case 9:{for(q=Math.ceil(_/4)*4,U.push(-2);_++<q;)U.push(-1);break}case 10:{U.push(-4),_=1;break}default:I=!0,_=1}W=Y+1}return F&&(I&&U.push(-5),R&&U.push(R),U.push(null)),U}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(_){return _.replace(characterEscapeOrReference,decode)}function decode(_,R,P){if(R)return R;if(P.charCodeAt(0)===35){const O=P.charCodeAt(1),z=O===120||O===88;return decodeNumericCharacterReference(P.slice(z?2:1),z?16:10)}return decodeNamedCharacterReference(P)||_}const own$2={}.hasOwnProperty;function fromMarkdown(_,R,P){return typeof R!="string"&&(P=R,R=void 0),compiler(P)(postprocess(parse(P).document().write(preprocess()(_,R,!0))))}function compiler(_){const R={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:z(Be),autolinkProtocol:ge,autolinkEmail:ge,atxHeading:z(Ge),blockQuote:z(Xe),characterEscape:ge,characterReference:ge,codeFenced:z(Ye),codeFencedFenceInfo:L,codeFencedFenceMeta:L,codeIndented:z(Ye,L),codeText:z(Ve,L),codeTextData:ge,data:ge,codeFlowValue:ge,definition:z(dt),definitionDestinationString:L,definitionLabelString:L,definitionTitleString:L,emphasis:z(ye),hardBreakEscape:z(Fe),hardBreakTrailing:z(Fe),htmlFlow:z(Ie,L),htmlFlowData:ge,htmlText:z(Ie,L),htmlTextData:ge,image:z(Ne),label:L,link:z(Be),listItem:z(lt),listItemValue:Y,listOrdered:z(at,W),listUnordered:z(at),paragraph:z(We),reference:Ee,referenceString:L,resourceDestinationString:L,resourceTitleString:L,setextHeading:z(Ge),strong:z(ht),thematicBreak:z(ft)},exit:{atxHeading:U(),atxHeadingSequence:fe,autolink:U(),autolinkEmail:Le,autolinkProtocol:Ze,blockQuote:U(),characterEscapeValue:be,characterReferenceMarkerHexadecimal:je,characterReferenceMarkerNumeric:je,characterReferenceValue:Ke,characterReference:He,codeFenced:U(ie),codeFencedFence:te,codeFencedFenceInfo:Q,codeFencedFenceMeta:ee,codeFlowValue:be,codeIndented:U(ae),codeText:U(Ce),codeTextData:be,data:be,definition:U(),definitionDestinationString:ce,definitionLabelString:se,definitionTitleString:le,emphasis:U(),hardBreakEscape:U(_e),hardBreakTrailing:U(_e),htmlFlow:U(Se),htmlFlowData:be,htmlText:U(me),htmlTextData:be,image:U(Re),label:Me,labelText:Pe,lineEnding:xe,link:U(Te),listItem:U(),listOrdered:U(),listUnordered:U(),paragraph:U(),referenceString:ze,resourceDestinationString:Ae,resourceTitleString:we,resource:ke,setextHeading:U(pe),setextHeadingLineSequence:he,setextHeadingText:de,strong:U(),thematicBreak:U()}};configure(R,(_||{}).mdastExtensions||[]);const P={};return I;function I(Oe){let tt={type:"root",children:[]};const st={stack:[tt],tokenStack:[],config:R,enter:F,exit:V,buffer:L,resume:q,data:P},mt=[];let gt=-1;for(;++gt<Oe.length;)if(Oe[gt][1].type==="listOrdered"||Oe[gt][1].type==="listUnordered")if(Oe[gt][0]==="enter")mt.push(gt);else{const Tt=mt.pop();gt=O(Oe,Tt,gt)}for(gt=-1;++gt<Oe.length;){const Tt=R[Oe[gt][0]];own$2.call(Tt,Oe[gt][1].type)&&Tt[Oe[gt][1].type].call(Object.assign({sliceSerialize:Oe[gt][2].sliceSerialize},st),Oe[gt][1])}if(st.tokenStack.length>0){const Tt=st.tokenStack[st.tokenStack.length-1];(Tt[1]||defaultOnError).call(st,void 0,Tt[0])}for(tt.position={start:point(Oe.length>0?Oe[0][1].start:{line:1,column:1,offset:0}),end:point(Oe.length>0?Oe[Oe.length-2][1].end:{line:1,column:1,offset:0})},gt=-1;++gt<R.transforms.length;)tt=R.transforms[gt](tt)||tt;return tt}function O(Oe,tt,st){let mt=tt-1,gt=-1,Tt=!1,Et,_t,vt,wt;for(;++mt<=st;){const xt=Oe[mt];switch(xt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xt[0]==="enter"?gt++:gt--,wt=void 0;break}case"lineEndingBlank":{xt[0]==="enter"&&(Et&&!wt&&!gt&&!vt&&(vt=mt),wt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:wt=void 0}if(!gt&&xt[0]==="enter"&&xt[1].type==="listItemPrefix"||gt===-1&&xt[0]==="exit"&&(xt[1].type==="listUnordered"||xt[1].type==="listOrdered")){if(Et){let Xt=mt;for(_t=void 0;Xt--;){const Kt=Oe[Xt];if(Kt[1].type==="lineEnding"||Kt[1].type==="lineEndingBlank"){if(Kt[0]==="exit")continue;_t&&(Oe[_t][1].type="lineEndingBlank",Tt=!0),Kt[1].type="lineEnding",_t=Xt}else if(!(Kt[1].type==="linePrefix"||Kt[1].type==="blockQuotePrefix"||Kt[1].type==="blockQuotePrefixWhitespace"||Kt[1].type==="blockQuoteMarker"||Kt[1].type==="listItemIndent"))break}vt&&(!_t||vt<_t)&&(Et._spread=!0),Et.end=Object.assign({},_t?Oe[_t][1].start:xt[1].end),Oe.splice(_t||mt,0,["exit",Et,xt[2]]),mt++,st++}if(xt[1].type==="listItemPrefix"){const Xt={type:"listItem",_spread:!1,start:Object.assign({},xt[1].start),end:void 0};Et=Xt,Oe.splice(mt,0,["enter",Xt,xt[2]]),mt++,st++,vt=void 0,wt=!0}}}return Oe[tt][1]._spread=Tt,st}function z(Oe,tt){return st;function st(mt){F.call(this,Oe(mt),mt),tt&&tt.call(this,mt)}}function L(){this.stack.push({type:"fragment",children:[]})}function F(Oe,tt,st){this.stack[this.stack.length-1].children.push(Oe),this.stack.push(Oe),this.tokenStack.push([tt,st||void 0]),Oe.position={start:point(tt.start),end:void 0}}function U(Oe){return tt;function tt(st){Oe&&Oe.call(this,st),V.call(this,st)}}function V(Oe,tt){const st=this.stack.pop(),mt=this.tokenStack.pop();if(mt)mt[0].type!==Oe.type&&(tt?tt.call(this,Oe,mt[0]):(mt[1]||defaultOnError).call(this,Oe,mt[0]));else throw new Error("Cannot close `"+Oe.type+"` ("+stringifyPosition({start:Oe.start,end:Oe.end})+"): its not open");st.position.end=point(Oe.end)}function q(){return toString$1(this.stack.pop())}function W(){this.data.expectingFirstListItemValue=!0}function Y(Oe){if(this.data.expectingFirstListItemValue){const tt=this.stack[this.stack.length-2];tt.start=Number.parseInt(this.sliceSerialize(Oe),10),this.data.expectingFirstListItemValue=void 0}}function Q(){const Oe=this.resume(),tt=this.stack[this.stack.length-1];tt.lang=Oe}function ee(){const Oe=this.resume(),tt=this.stack[this.stack.length-1];tt.meta=Oe}function te(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function ie(){const Oe=this.resume(),tt=this.stack[this.stack.length-1];tt.value=Oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function ae(){const Oe=this.resume(),tt=this.stack[this.stack.length-1];tt.value=Oe.replace(/(\r?\n|\r)$/g,"")}function se(Oe){const tt=this.resume(),st=this.stack[this.stack.length-1];st.label=tt,st.identifier=normalizeIdentifier(this.sliceSerialize(Oe)).toLowerCase()}function le(){const Oe=this.resume(),tt=this.stack[this.stack.length-1];tt.title=Oe}function ce(){const Oe=this.resume(),tt=this.stack[this.stack.length-1];tt.url=Oe}function fe(Oe){const tt=this.stack[this.stack.length-1];if(!tt.depth){const st=this.sliceSerialize(Oe).length;tt.depth=st}}function de(){this.data.setextHeadingSlurpLineEnding=!0}function he(Oe){const tt=this.stack[this.stack.length-1];tt.depth=this.sliceSerialize(Oe).codePointAt(0)===61?1:2}function pe(){this.data.setextHeadingSlurpLineEnding=void 0}function ge(Oe){const st=this.stack[this.stack.length-1].children;let mt=st[st.length-1];(!mt||mt.type!=="text")&&(mt=ut(),mt.position={start:point(Oe.start),end:void 0},st.push(mt)),this.stack.push(mt)}function be(Oe){const tt=this.stack.pop();tt.value+=this.sliceSerialize(Oe),tt.position.end=point(Oe.end)}function xe(Oe){const tt=this.stack[this.stack.length-1];if(this.data.atHardBreak){const st=tt.children[tt.children.length-1];st.position.end=point(Oe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&R.canContainEols.includes(tt.type)&&(ge.call(this,Oe),be.call(this,Oe))}function _e(){this.data.atHardBreak=!0}function Se(){const Oe=this.resume(),tt=this.stack[this.stack.length-1];tt.value=Oe}function me(){const Oe=this.resume(),tt=this.stack[this.stack.length-1];tt.value=Oe}function Ce(){const Oe=this.resume(),tt=this.stack[this.stack.length-1];tt.value=Oe}function Te(){const Oe=this.stack[this.stack.length-1];if(this.data.inReference){const tt=this.data.referenceType||"shortcut";Oe.type+="Reference",Oe.referenceType=tt,delete Oe.url,delete Oe.title}else delete Oe.identifier,delete Oe.label;this.data.referenceType=void 0}function Re(){const Oe=this.stack[this.stack.length-1];if(this.data.inReference){const tt=this.data.referenceType||"shortcut";Oe.type+="Reference",Oe.referenceType=tt,delete Oe.url,delete Oe.title}else delete Oe.identifier,delete Oe.label;this.data.referenceType=void 0}function Pe(Oe){const tt=this.sliceSerialize(Oe),st=this.stack[this.stack.length-2];st.label=decodeString(tt),st.identifier=normalizeIdentifier(tt).toLowerCase()}function Me(){const Oe=this.stack[this.stack.length-1],tt=this.resume(),st=this.stack[this.stack.length-1];if(this.data.inReference=!0,st.type==="link"){const mt=Oe.children;st.children=mt}else st.alt=tt}function Ae(){const Oe=this.resume(),tt=this.stack[this.stack.length-1];tt.url=Oe}function we(){const Oe=this.resume(),tt=this.stack[this.stack.length-1];tt.title=Oe}function ke(){this.data.inReference=void 0}function Ee(){this.data.referenceType="collapsed"}function ze(Oe){const tt=this.resume(),st=this.stack[this.stack.length-1];st.label=tt,st.identifier=normalizeIdentifier(this.sliceSerialize(Oe)).toLowerCase(),this.data.referenceType="full"}function je(Oe){this.data.characterReferenceType=Oe.type}function Ke(Oe){const tt=this.sliceSerialize(Oe),st=this.data.characterReferenceType;let mt;st?(mt=decodeNumericCharacterReference(tt,st==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):mt=decodeNamedCharacterReference(tt);const gt=this.stack[this.stack.length-1];gt.value+=mt}function He(Oe){const tt=this.stack.pop();tt.position.end=point(Oe.end)}function Ze(Oe){be.call(this,Oe);const tt=this.stack[this.stack.length-1];tt.url=this.sliceSerialize(Oe)}function Le(Oe){be.call(this,Oe);const tt=this.stack[this.stack.length-1];tt.url="mailto:"+this.sliceSerialize(Oe)}function Xe(){return{type:"blockquote",children:[]}}function Ye(){return{type:"code",lang:null,meta:null,value:""}}function Ve(){return{type:"inlineCode",value:""}}function dt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ye(){return{type:"emphasis",children:[]}}function Ge(){return{type:"heading",depth:0,children:[]}}function Fe(){return{type:"break"}}function Ie(){return{type:"html",value:""}}function Ne(){return{type:"image",title:null,url:"",alt:null}}function Be(){return{type:"link",title:null,url:"",children:[]}}function at(Oe){return{type:"list",ordered:Oe.type==="listOrdered",start:null,spread:Oe._spread,children:[]}}function lt(Oe){return{type:"listItem",spread:Oe._spread,checked:null,children:[]}}function We(){return{type:"paragraph",children:[]}}function ht(){return{type:"strong",children:[]}}function ut(){return{type:"text",value:""}}function ft(){return{type:"thematicBreak"}}}function point(_){return{line:_.line,column:_.column,offset:_.offset}}function configure(_,R){let P=-1;for(;++P<R.length;){const I=R[P];Array.isArray(I)?configure(_,I):extension(_,I)}}function extension(_,R){let P;for(P in R)if(own$2.call(R,P))switch(P){case"canContainEols":{const I=R[P];I&&_[P].push(...I);break}case"transforms":{const I=R[P];I&&_[P].push(...I);break}case"enter":case"exit":{const I=R[P];I&&Object.assign(_[P],I);break}}}function defaultOnError(_,R){throw _?new Error("Cannot close `"+_.type+"` ("+stringifyPosition({start:_.start,end:_.end})+"): a different token (`"+R.type+"`, "+stringifyPosition({start:R.start,end:R.end})+") is open"):new Error("Cannot close document, a token (`"+R.type+"`, "+stringifyPosition({start:R.start,end:R.end})+") is still open")}function remarkParse(_){const R=this;R.parser=P;function P(I){return fromMarkdown(I,{...R.data("settings"),..._,extensions:R.data("micromarkExtensions")||[],mdastExtensions:R.data("fromMarkdownExtensions")||[]})}}function blockquote(_,R){const P={type:"element",tagName:"blockquote",properties:{},children:_.wrap(_.all(R),!0)};return _.patch(R,P),_.applyData(R,P)}function hardBreak(_,R){const P={type:"element",tagName:"br",properties:{},children:[]};return _.patch(R,P),[_.applyData(R,P),{type:"text",value:`
`}]}function code(_,R){const P=R.value?R.value+`
`:"",I={},O=R.lang?R.lang.split(/\s+/):[];O.length>0&&(I.className=["language-"+O[0]]);let z={type:"element",tagName:"code",properties:I,children:[{type:"text",value:P}]};return R.meta&&(z.data={meta:R.meta}),_.patch(R,z),z=_.applyData(R,z),z={type:"element",tagName:"pre",properties:{},children:[z]},_.patch(R,z),z}function strikethrough(_,R){const P={type:"element",tagName:"del",properties:{},children:_.all(R)};return _.patch(R,P),_.applyData(R,P)}function emphasis(_,R){const P={type:"element",tagName:"em",properties:{},children:_.all(R)};return _.patch(R,P),_.applyData(R,P)}function footnoteReference(_,R){const P=typeof _.options.clobberPrefix=="string"?_.options.clobberPrefix:"user-content-",I=String(R.identifier).toUpperCase(),O=normalizeUri(I.toLowerCase()),z=_.footnoteOrder.indexOf(I);let L,F=_.footnoteCounts.get(I);F===void 0?(F=0,_.footnoteOrder.push(I),L=_.footnoteOrder.length):L=z+1,F+=1,_.footnoteCounts.set(I,F);const U={type:"element",tagName:"a",properties:{href:"#"+P+"fn-"+O,id:P+"fnref-"+O+(F>1?"-"+F:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(L)}]};_.patch(R,U);const V={type:"element",tagName:"sup",properties:{},children:[U]};return _.patch(R,V),_.applyData(R,V)}function heading(_,R){const P={type:"element",tagName:"h"+R.depth,properties:{},children:_.all(R)};return _.patch(R,P),_.applyData(R,P)}function html(_,R){if(_.options.allowDangerousHtml){const P={type:"raw",value:R.value};return _.patch(R,P),_.applyData(R,P)}}function revert(_,R){const P=R.referenceType;let I="]";if(P==="collapsed"?I+="[]":P==="full"&&(I+="["+(R.label||R.identifier)+"]"),R.type==="imageReference")return[{type:"text",value:"!["+R.alt+I}];const O=_.all(R),z=O[0];z&&z.type==="text"?z.value="["+z.value:O.unshift({type:"text",value:"["});const L=O[O.length-1];return L&&L.type==="text"?L.value+=I:O.push({type:"text",value:I}),O}function imageReference(_,R){const P=String(R.identifier).toUpperCase(),I=_.definitionById.get(P);if(!I)return revert(_,R);const O={src:normalizeUri(I.url||""),alt:R.alt};I.title!==null&&I.title!==void 0&&(O.title=I.title);const z={type:"element",tagName:"img",properties:O,children:[]};return _.patch(R,z),_.applyData(R,z)}function image(_,R){const P={src:normalizeUri(R.url)};R.alt!==null&&R.alt!==void 0&&(P.alt=R.alt),R.title!==null&&R.title!==void 0&&(P.title=R.title);const I={type:"element",tagName:"img",properties:P,children:[]};return _.patch(R,I),_.applyData(R,I)}function inlineCode(_,R){const P={type:"text",value:R.value.replace(/\r?\n|\r/g," ")};_.patch(R,P);const I={type:"element",tagName:"code",properties:{},children:[P]};return _.patch(R,I),_.applyData(R,I)}function linkReference(_,R){const P=String(R.identifier).toUpperCase(),I=_.definitionById.get(P);if(!I)return revert(_,R);const O={href:normalizeUri(I.url||"")};I.title!==null&&I.title!==void 0&&(O.title=I.title);const z={type:"element",tagName:"a",properties:O,children:_.all(R)};return _.patch(R,z),_.applyData(R,z)}function link(_,R){const P={href:normalizeUri(R.url)};R.title!==null&&R.title!==void 0&&(P.title=R.title);const I={type:"element",tagName:"a",properties:P,children:_.all(R)};return _.patch(R,I),_.applyData(R,I)}function listItem(_,R,P){const I=_.all(R),O=P?listLoose(P):listItemLoose(R),z={},L=[];if(typeof R.checked=="boolean"){const q=I[0];let W;q&&q.type==="element"&&q.tagName==="p"?W=q:(W={type:"element",tagName:"p",properties:{},children:[]},I.unshift(W)),W.children.length>0&&W.children.unshift({type:"text",value:" "}),W.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:R.checked,disabled:!0},children:[]}),z.className=["task-list-item"]}let F=-1;for(;++F<I.length;){const q=I[F];(O||F!==0||q.type!=="element"||q.tagName!=="p")&&L.push({type:"text",value:`
`}),q.type==="element"&&q.tagName==="p"&&!O?L.push(...q.children):L.push(q)}const U=I[I.length-1];U&&(O||U.type!=="element"||U.tagName!=="p")&&L.push({type:"text",value:`
`});const V={type:"element",tagName:"li",properties:z,children:L};return _.patch(R,V),_.applyData(R,V)}function listLoose(_){let R=!1;if(_.type==="list"){R=_.spread||!1;const P=_.children;let I=-1;for(;!R&&++I<P.length;)R=listItemLoose(P[I])}return R}function listItemLoose(_){const R=_.spread;return R??_.children.length>1}function list(_,R){const P={},I=_.all(R);let O=-1;for(typeof R.start=="number"&&R.start!==1&&(P.start=R.start);++O<I.length;){const L=I[O];if(L.type==="element"&&L.tagName==="li"&&L.properties&&Array.isArray(L.properties.className)&&L.properties.className.includes("task-list-item")){P.className=["contains-task-list"];break}}const z={type:"element",tagName:R.ordered?"ol":"ul",properties:P,children:_.wrap(I,!0)};return _.patch(R,z),_.applyData(R,z)}function paragraph(_,R){const P={type:"element",tagName:"p",properties:{},children:_.all(R)};return _.patch(R,P),_.applyData(R,P)}function root$1(_,R){const P={type:"root",children:_.wrap(_.all(R))};return _.patch(R,P),_.applyData(R,P)}function strong(_,R){const P={type:"element",tagName:"strong",properties:{},children:_.all(R)};return _.patch(R,P),_.applyData(R,P)}function table(_,R){const P=_.all(R),I=P.shift(),O=[];if(I){const L={type:"element",tagName:"thead",properties:{},children:_.wrap([I],!0)};_.patch(R.children[0],L),O.push(L)}if(P.length>0){const L={type:"element",tagName:"tbody",properties:{},children:_.wrap(P,!0)},F=pointStart(R.children[1]),U=pointEnd(R.children[R.children.length-1]);F&&U&&(L.position={start:F,end:U}),O.push(L)}const z={type:"element",tagName:"table",properties:{},children:_.wrap(O,!0)};return _.patch(R,z),_.applyData(R,z)}function tableRow(_,R,P){const I=P?P.children:void 0,z=(I?I.indexOf(R):1)===0?"th":"td",L=P&&P.type==="table"?P.align:void 0,F=L?L.length:R.children.length;let U=-1;const V=[];for(;++U<F;){const W=R.children[U],Y={},Q=L?L[U]:void 0;Q&&(Y.align=Q);let ee={type:"element",tagName:z,properties:Y,children:[]};W&&(ee.children=_.all(W),_.patch(W,ee),ee=_.applyData(W,ee)),V.push(ee)}const q={type:"element",tagName:"tr",properties:{},children:_.wrap(V,!0)};return _.patch(R,q),_.applyData(R,q)}function tableCell(_,R){const P={type:"element",tagName:"td",properties:{},children:_.all(R)};return _.patch(R,P),_.applyData(R,P)}const tab=9,space=32;function trimLines(_){const R=String(_),P=/\r?\n|\r/g;let I=P.exec(R),O=0;const z=[];for(;I;)z.push(trimLine(R.slice(O,I.index),O>0,!0),I[0]),O=I.index+I[0].length,I=P.exec(R);return z.push(trimLine(R.slice(O),O>0,!1)),z.join("")}function trimLine(_,R,P){let I=0,O=_.length;if(R){let z=_.codePointAt(I);for(;z===tab||z===space;)I++,z=_.codePointAt(I)}if(P){let z=_.codePointAt(O-1);for(;z===tab||z===space;)O--,z=_.codePointAt(O-1)}return O>I?_.slice(I,O):""}function text$3(_,R){const P={type:"text",value:trimLines(String(R.value))};return _.patch(R,P),_.applyData(R,P)}function thematicBreak(_,R){const P={type:"element",tagName:"hr",properties:{},children:[]};return _.patch(R,P),_.applyData(R,P)}const handlers={blockquote,break:hardBreak,code,delete:strikethrough,emphasis,footnoteReference,heading,html,imageReference,image,inlineCode,linkReference,link,listItem,list,paragraph,root:root$1,strong,table,tableCell,tableRow,text:text$3,thematicBreak,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(_,R)=>{const P=(O,z)=>(_.set(z,O),O),I=O=>{if(_.has(O))return _.get(O);const[z,L]=R[O];switch(z){case PRIMITIVE:case VOID:return P(L,O);case ARRAY:{const F=P([],O);for(const U of L)F.push(I(U));return F}case OBJECT:{const F=P({},O);for(const[U,V]of L)F[I(U)]=I(V);return F}case DATE:return P(new Date(L),O);case REGEXP:{const{source:F,flags:U}=L;return P(new RegExp(F,U),O)}case MAP:{const F=P(new Map,O);for(const[U,V]of L)F.set(I(U),I(V));return F}case SET:{const F=P(new Set,O);for(const U of L)F.add(I(U));return F}case ERROR:{const{name:F,message:U}=L;return P(new env[F](U),O)}case BIGINT:return P(BigInt(L),O);case"BigInt":return P(Object(BigInt(L)),O);case"ArrayBuffer":return P(new Uint8Array(L).buffer,L);case"DataView":{const{buffer:F}=new Uint8Array(L);return P(new DataView(F),L)}}return P(new env[z](L),O)};return I},deserialize=_=>deserializer(new Map,_)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=_=>{const R=typeof _;if(R!=="object"||!_)return[PRIMITIVE,R];const P=toString.call(_).slice(8,-1);switch(P){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,P]}return P.includes("Array")?[ARRAY,P]:P.includes("Error")?[ERROR,P]:[OBJECT,P]},shouldSkip=([_,R])=>_===PRIMITIVE&&(R==="function"||R==="symbol"),serializer=(_,R,P,I)=>{const O=(L,F)=>{const U=I.push(L)-1;return P.set(F,U),U},z=L=>{if(P.has(L))return P.get(L);let[F,U]=typeOf(L);switch(F){case PRIMITIVE:{let q=L;switch(U){case"bigint":F=BIGINT,q=L.toString();break;case"function":case"symbol":if(_)throw new TypeError("unable to serialize "+U);q=null;break;case"undefined":return O([VOID],L)}return O([F,q],L)}case ARRAY:{if(U){let Y=L;return U==="DataView"?Y=new Uint8Array(L.buffer):U==="ArrayBuffer"&&(Y=new Uint8Array(L)),O([U,[...Y]],L)}const q=[],W=O([F,q],L);for(const Y of L)q.push(z(Y));return W}case OBJECT:{if(U)switch(U){case"BigInt":return O([U,L.toString()],L);case"Boolean":case"Number":case"String":return O([U,L.valueOf()],L)}if(R&&"toJSON"in L)return z(L.toJSON());const q=[],W=O([F,q],L);for(const Y of keys(L))(_||!shouldSkip(typeOf(L[Y])))&&q.push([z(Y),z(L[Y])]);return W}case DATE:return O([F,L.toISOString()],L);case REGEXP:{const{source:q,flags:W}=L;return O([F,{source:q,flags:W}],L)}case MAP:{const q=[],W=O([F,q],L);for(const[Y,Q]of L)(_||!(shouldSkip(typeOf(Y))||shouldSkip(typeOf(Q))))&&q.push([z(Y),z(Q)]);return W}case SET:{const q=[],W=O([F,q],L);for(const Y of L)(_||!shouldSkip(typeOf(Y)))&&q.push(z(Y));return W}}const{message:V}=L;return O([F,{name:U,message:V}],L)};return z},serialize=(_,{json:R,lossy:P}={})=>{const I=[];return serializer(!(R||P),!!R,new Map,I)(_),I},structuredClone$1=typeof structuredClone=="function"?(_,R)=>R&&("json"in R||"lossy"in R)?deserialize(serialize(_,R)):structuredClone(_):(_,R)=>deserialize(serialize(_,R));function defaultFootnoteBackContent(_,R){const P=[{type:"text",value:""}];return R>1&&P.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(R)}]}),P}function defaultFootnoteBackLabel(_,R){return"Back to reference "+(_+1)+(R>1?"-"+R:"")}function footer(_){const R=typeof _.options.clobberPrefix=="string"?_.options.clobberPrefix:"user-content-",P=_.options.footnoteBackContent||defaultFootnoteBackContent,I=_.options.footnoteBackLabel||defaultFootnoteBackLabel,O=_.options.footnoteLabel||"Footnotes",z=_.options.footnoteLabelTagName||"h2",L=_.options.footnoteLabelProperties||{className:["sr-only"]},F=[];let U=-1;for(;++U<_.footnoteOrder.length;){const V=_.footnoteById.get(_.footnoteOrder[U]);if(!V)continue;const q=_.all(V),W=String(V.identifier).toUpperCase(),Y=normalizeUri(W.toLowerCase());let Q=0;const ee=[],te=_.footnoteCounts.get(W);for(;te!==void 0&&++Q<=te;){ee.length>0&&ee.push({type:"text",value:" "});let se=typeof P=="string"?P:P(U,Q);typeof se=="string"&&(se={type:"text",value:se}),ee.push({type:"element",tagName:"a",properties:{href:"#"+R+"fnref-"+Y+(Q>1?"-"+Q:""),dataFootnoteBackref:"",ariaLabel:typeof I=="string"?I:I(U,Q),className:["data-footnote-backref"]},children:Array.isArray(se)?se:[se]})}const ie=q[q.length-1];if(ie&&ie.type==="element"&&ie.tagName==="p"){const se=ie.children[ie.children.length-1];se&&se.type==="text"?se.value+=" ":ie.children.push({type:"text",value:" "}),ie.children.push(...ee)}else q.push(...ee);const ae={type:"element",tagName:"li",properties:{id:R+"fn-"+Y},children:_.wrap(q,!0)};_.patch(V,ae),F.push(ae)}if(F.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:z,properties:{...structuredClone$1(L),id:"footnote-label"},children:[{type:"text",value:O}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:_.wrap(F,!0)},{type:"text",value:`
`}]}}const convert=(function(_){if(_==null)return ok;if(typeof _=="function")return castFactory$1(_);if(typeof _=="object")return Array.isArray(_)?anyFactory$1(_):propertiesFactory(_);if(typeof _=="string")return typeFactory(_);throw new Error("Expected function, string, or object as test")});function anyFactory$1(_){const R=[];let P=-1;for(;++P<_.length;)R[P]=convert(_[P]);return castFactory$1(I);function I(...O){let z=-1;for(;++z<R.length;)if(R[z].apply(this,O))return!0;return!1}}function propertiesFactory(_){const R=_;return castFactory$1(P);function P(I){const O=I;let z;for(z in _)if(O[z]!==R[z])return!1;return!0}}function typeFactory(_){return castFactory$1(R);function R(P){return P&&P.type===_}}function castFactory$1(_){return R;function R(P,I,O){return!!(looksLikeANode(P)&&_.call(this,P,typeof I=="number"?I:void 0,O||void 0))}}function ok(){return!0}function looksLikeANode(_){return _!==null&&typeof _=="object"&&"type"in _}function color(_){return _}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(_,R,P,I){let O;typeof R=="function"&&typeof P!="function"?(I=P,P=R):O=R;const z=convert(O),L=I?-1:1;F(_,void 0,[])();function F(U,V,q){const W=U&&typeof U=="object"?U:{};if(typeof W.type=="string"){const Q=typeof W.tagName=="string"?W.tagName:typeof W.name=="string"?W.name:void 0;Object.defineProperty(Y,"name",{value:"node ("+(U.type+(Q?"<"+Q+">":""))+")"})}return Y;function Y(){let Q=empty,ee,te,ie;if((!R||z(U,V,q[q.length-1]||void 0))&&(Q=toResult(P(U,q)),Q[0]===EXIT))return Q;if("children"in U&&U.children){const ae=U;if(ae.children&&Q[0]!==SKIP)for(te=(I?ae.children.length:-1)+L,ie=q.concat(ae);te>-1&&te<ae.children.length;){const se=ae.children[te];if(ee=F(se,te,ie)(),ee[0]===EXIT)return ee;te=typeof ee[1]=="number"?ee[1]:te+L}}return Q}}}function toResult(_){return Array.isArray(_)?_:typeof _=="number"?[CONTINUE,_]:_==null?empty:[_]}function visit(_,R,P,I){let O,z,L;typeof R=="function"&&typeof P!="function"?(z=void 0,L=R,O=P):(z=R,L=P,O=I),visitParents(_,z,F,O);function F(U,V){const q=V[V.length-1],W=q?q.children.indexOf(U):void 0;return L(U,W,q)}}const own$1={}.hasOwnProperty,emptyOptions$2={};function createState(_,R){const P=R||emptyOptions$2,I=new Map,O=new Map,z=new Map,L={...handlers,...P.handlers},F={all:V,applyData,definitionById:I,footnoteById:O,footnoteCounts:z,footnoteOrder:[],handlers:L,one:U,options:P,patch,wrap:wrap$1};return visit(_,function(q){if(q.type==="definition"||q.type==="footnoteDefinition"){const W=q.type==="definition"?I:O,Y=String(q.identifier).toUpperCase();W.has(Y)||W.set(Y,q)}}),F;function U(q,W){const Y=q.type,Q=F.handlers[Y];if(own$1.call(F.handlers,Y)&&Q)return Q(F,q,W);if(F.options.passThrough&&F.options.passThrough.includes(Y)){if("children"in q){const{children:te,...ie}=q,ae=structuredClone$1(ie);return ae.children=F.all(q),ae}return structuredClone$1(q)}return(F.options.unknownHandler||defaultUnknownHandler)(F,q,W)}function V(q){const W=[];if("children"in q){const Y=q.children;let Q=-1;for(;++Q<Y.length;){const ee=F.one(Y[Q],q);if(ee){if(Q&&Y[Q-1].type==="break"&&(!Array.isArray(ee)&&ee.type==="text"&&(ee.value=trimMarkdownSpaceStart(ee.value)),!Array.isArray(ee)&&ee.type==="element")){const te=ee.children[0];te&&te.type==="text"&&(te.value=trimMarkdownSpaceStart(te.value))}Array.isArray(ee)?W.push(...ee):W.push(ee)}}}return W}}function patch(_,R){_.position&&(R.position=position$1(_))}function applyData(_,R){let P=R;if(_&&_.data){const I=_.data.hName,O=_.data.hChildren,z=_.data.hProperties;if(typeof I=="string")if(P.type==="element")P.tagName=I;else{const L="children"in P?P.children:[P];P={type:"element",tagName:I,properties:{},children:L}}P.type==="element"&&z&&Object.assign(P.properties,structuredClone$1(z)),"children"in P&&P.children&&O!==null&&O!==void 0&&(P.children=O)}return P}function defaultUnknownHandler(_,R){const P=R.data||{},I="value"in R&&!(own$1.call(P,"hProperties")||own$1.call(P,"hChildren"))?{type:"text",value:R.value}:{type:"element",tagName:"div",properties:{},children:_.all(R)};return _.patch(R,I),_.applyData(R,I)}function wrap$1(_,R){const P=[];let I=-1;for(R&&P.push({type:"text",value:`
`});++I<_.length;)I&&P.push({type:"text",value:`
`}),P.push(_[I]);return R&&_.length>0&&P.push({type:"text",value:`
`}),P}function trimMarkdownSpaceStart(_){let R=0,P=_.charCodeAt(R);for(;P===9||P===32;)R++,P=_.charCodeAt(R);return _.slice(R)}function toHast(_,R){const P=createState(_,R),I=P.one(_,void 0),O=footer(P),z=Array.isArray(I)?{type:"root",children:I}:I||{type:"root",children:[]};return O&&z.children.push({type:"text",value:`
`},O),z}function remarkRehype(_,R){return _&&"run"in _?async function(P,I){const O=toHast(P,{file:I,...R});await _.run(O,I)}:function(P,I){return toHast(P,{file:I,..._||R})}}function bail(_){if(_)throw _}var extend$1,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend$1;hasRequiredExtend=1;var _=Object.prototype.hasOwnProperty,R=Object.prototype.toString,P=Object.defineProperty,I=Object.getOwnPropertyDescriptor,O=function(V){return typeof Array.isArray=="function"?Array.isArray(V):R.call(V)==="[object Array]"},z=function(V){if(!V||R.call(V)!=="[object Object]")return!1;var q=_.call(V,"constructor"),W=V.constructor&&V.constructor.prototype&&_.call(V.constructor.prototype,"isPrototypeOf");if(V.constructor&&!q&&!W)return!1;var Y;for(Y in V);return typeof Y>"u"||_.call(V,Y)},L=function(V,q){P&&q.name==="__proto__"?P(V,q.name,{enumerable:!0,configurable:!0,value:q.newValue,writable:!0}):V[q.name]=q.newValue},F=function(V,q){if(q==="__proto__")if(_.call(V,q)){if(I)return I(V,q).value}else return;return V[q]};return extend$1=function U(){var V,q,W,Y,Q,ee,te=arguments[0],ie=1,ae=arguments.length,se=!1;for(typeof te=="boolean"&&(se=te,te=arguments[1]||{},ie=2),(te==null||typeof te!="object"&&typeof te!="function")&&(te={});ie<ae;++ie)if(V=arguments[ie],V!=null)for(q in V)W=F(te,q),Y=F(V,q),te!==Y&&(se&&Y&&(z(Y)||(Q=O(Y)))?(Q?(Q=!1,ee=W&&O(W)?W:[]):ee=W&&z(W)?W:{},L(te,{name:q,newValue:U(se,ee,Y)})):typeof Y<"u"&&L(te,{name:q,newValue:Y}));return te},extend$1}var extendExports=requireExtend();const extend=getDefaultExportFromCjs(extendExports);function isPlainObject(_){if(typeof _!="object"||_===null)return!1;const R=Object.getPrototypeOf(_);return(R===null||R===Object.prototype||Object.getPrototypeOf(R)===null)&&!(Symbol.toStringTag in _)&&!(Symbol.iterator in _)}function trough(){const _=[],R={run:P,use:I};return R;function P(...O){let z=-1;const L=O.pop();if(typeof L!="function")throw new TypeError("Expected function as last argument, not "+L);F(null,...O);function F(U,...V){const q=_[++z];let W=-1;if(U){L(U);return}for(;++W<O.length;)(V[W]===null||V[W]===void 0)&&(V[W]=O[W]);O=V,q?wrap(q,F)(...V):L(null,...V)}}function I(O){if(typeof O!="function")throw new TypeError("Expected `middelware` to be a function, not "+O);return _.push(O),R}}function wrap(_,R){let P;return I;function I(...L){const F=_.length>L.length;let U;F&&L.push(O);try{U=_.apply(this,L)}catch(V){const q=V;if(F&&P)throw q;return O(q)}F||(U&&U.then&&typeof U.then=="function"?U.then(z,O):U instanceof Error?O(U):z(U))}function O(L,...F){P||(P=!0,R(L,...F))}function z(L){O(null,L)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(_,R){if(R!==void 0&&typeof R!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(_);let P=0,I=-1,O=_.length,z;if(R===void 0||R.length===0||R.length>_.length){for(;O--;)if(_.codePointAt(O)===47){if(z){P=O+1;break}}else I<0&&(z=!0,I=O+1);return I<0?"":_.slice(P,I)}if(R===_)return"";let L=-1,F=R.length-1;for(;O--;)if(_.codePointAt(O)===47){if(z){P=O+1;break}}else L<0&&(z=!0,L=O+1),F>-1&&(_.codePointAt(O)===R.codePointAt(F--)?F<0&&(I=O):(F=-1,I=L));return P===I?I=L:I<0&&(I=_.length),_.slice(P,I)}function dirname(_){if(assertPath$1(_),_.length===0)return".";let R=-1,P=_.length,I;for(;--P;)if(_.codePointAt(P)===47){if(I){R=P;break}}else I||(I=!0);return R<0?_.codePointAt(0)===47?"/":".":R===1&&_.codePointAt(0)===47?"//":_.slice(0,R)}function extname(_){assertPath$1(_);let R=_.length,P=-1,I=0,O=-1,z=0,L;for(;R--;){const F=_.codePointAt(R);if(F===47){if(L){I=R+1;break}continue}P<0&&(L=!0,P=R+1),F===46?O<0?O=R:z!==1&&(z=1):O>-1&&(z=-1)}return O<0||P<0||z===0||z===1&&O===P-1&&O===I+1?"":_.slice(O,P)}function join(..._){let R=-1,P;for(;++R<_.length;)assertPath$1(_[R]),_[R]&&(P=P===void 0?_[R]:P+"/"+_[R]);return P===void 0?".":normalize(P)}function normalize(_){assertPath$1(_);const R=_.codePointAt(0)===47;let P=normalizeString(_,!R);return P.length===0&&!R&&(P="."),P.length>0&&_.codePointAt(_.length-1)===47&&(P+="/"),R?"/"+P:P}function normalizeString(_,R){let P="",I=0,O=-1,z=0,L=-1,F,U;for(;++L<=_.length;){if(L<_.length)F=_.codePointAt(L);else{if(F===47)break;F=47}if(F===47){if(!(O===L-1||z===1))if(O!==L-1&&z===2){if(P.length<2||I!==2||P.codePointAt(P.length-1)!==46||P.codePointAt(P.length-2)!==46){if(P.length>2){if(U=P.lastIndexOf("/"),U!==P.length-1){U<0?(P="",I=0):(P=P.slice(0,U),I=P.length-1-P.lastIndexOf("/")),O=L,z=0;continue}}else if(P.length>0){P="",I=0,O=L,z=0;continue}}R&&(P=P.length>0?P+"/..":"..",I=2)}else P.length>0?P+="/"+_.slice(O+1,L):P=_.slice(O+1,L),I=L-O-1;O=L,z=0}else F===46&&z>-1?z++:z=-1}return P}function assertPath$1(_){if(typeof _!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(_))}const minproc={cwd};function cwd(){return"/"}function isUrl(_){return!!(_!==null&&typeof _=="object"&&"href"in _&&_.href&&"protocol"in _&&_.protocol&&_.auth===void 0)}function urlToPath(_){if(typeof _=="string")_=new URL(_);else if(!isUrl(_)){const R=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+_+"`");throw R.code="ERR_INVALID_ARG_TYPE",R}if(_.protocol!=="file:"){const R=new TypeError("The URL must be of scheme file");throw R.code="ERR_INVALID_URL_SCHEME",R}return getPathFromURLPosix(_)}function getPathFromURLPosix(_){if(_.hostname!==""){const I=new TypeError('File URL host must be "localhost" or empty on darwin');throw I.code="ERR_INVALID_FILE_URL_HOST",I}const R=_.pathname;let P=-1;for(;++P<R.length;)if(R.codePointAt(P)===37&&R.codePointAt(P+1)===50){const I=R.codePointAt(P+2);if(I===70||I===102){const O=new TypeError("File URL path must not include encoded / characters");throw O.code="ERR_INVALID_FILE_URL_PATH",O}}return decodeURIComponent(R)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(R){let P;R?isUrl(R)?P={path:R}:typeof R=="string"||isUint8Array$1(R)?P={value:R}:P=R:P={},this.cwd="cwd"in P?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let I=-1;for(;++I<order.length;){const z=order[I];z in P&&P[z]!==void 0&&P[z]!==null&&(this[z]=z==="history"?[...P[z]]:P[z])}let O;for(O in P)order.includes(O)||(this[O]=P[O])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(R){assertNonEmpty(R,"basename"),assertPart(R,"basename"),this.path=minpath.join(this.dirname||"",R)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(R){assertPath(this.basename,"dirname"),this.path=minpath.join(R||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(R){if(assertPart(R,"extname"),assertPath(this.dirname,"extname"),R){if(R.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(R.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(R||""))}get path(){return this.history[this.history.length-1]}set path(R){isUrl(R)&&(R=urlToPath(R)),assertNonEmpty(R,"path"),this.path!==R&&this.history.push(R)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(R){assertNonEmpty(R,"stem"),assertPart(R,"stem"),this.path=minpath.join(this.dirname||"",R+(this.extname||""))}fail(R,P,I){const O=this.message(R,P,I);throw O.fatal=!0,O}info(R,P,I){const O=this.message(R,P,I);return O.fatal=void 0,O}message(R,P,I){const O=new VFileMessage(R,P,I);return this.path&&(O.name=this.path+":"+O.name,O.file=this.path),O.fatal=!1,this.messages.push(O),O}toString(R){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(R||void 0).decode(this.value)}}function assertPart(_,R){if(_&&_.includes(minpath.sep))throw new Error("`"+R+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(_,R){if(!_)throw new Error("`"+R+"` cannot be empty")}function assertPath(_,R){if(!_)throw new Error("Setting `"+R+"` requires `path` to be set too")}function isUint8Array$1(_){return!!(_&&typeof _=="object"&&"byteLength"in _&&"byteOffset"in _)}const CallableInstance=(function(_){const I=this.constructor.prototype,O=I[_],z=function(){return O.apply(z,arguments)};return Object.setPrototypeOf(z,I),z}),own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const R=new Processor;let P=-1;for(;++P<this.attachers.length;){const I=this.attachers[P];R.use(...I)}return R.data(extend(!0,{},this.namespace)),R}data(R,P){return typeof R=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[R]=P,this):own.call(this.namespace,R)&&this.namespace[R]||void 0:R?(assertUnfrozen("data",this.frozen),this.namespace=R,this):this.namespace}freeze(){if(this.frozen)return this;const R=this;for(;++this.freezeIndex<this.attachers.length;){const[P,...I]=this.attachers[this.freezeIndex];if(I[0]===!1)continue;I[0]===!0&&(I[0]=void 0);const O=P.call(R,...I);typeof O=="function"&&this.transformers.use(O)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(R){this.freeze();const P=vfile(R),I=this.parser||this.Parser;return assertParser("parse",I),I(String(P),P)}process(R,P){const I=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),P?O(void 0,P):new Promise(O);function O(z,L){const F=vfile(R),U=I.parse(F);I.run(U,F,function(q,W,Y){if(q||!W||!Y)return V(q);const Q=W,ee=I.stringify(Q,Y);looksLikeAValue(ee)?Y.value=ee:Y.result=ee,V(q,Y)});function V(q,W){q||!W?L(q):z?z(W):P(void 0,W)}}}processSync(R){let P=!1,I;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(R,O),assertDone("processSync","process",P),I;function O(z,L){P=!0,bail(z),I=L}}run(R,P,I){assertNode(R),this.freeze();const O=this.transformers;return!I&&typeof P=="function"&&(I=P,P=void 0),I?z(void 0,I):new Promise(z);function z(L,F){const U=vfile(P);O.run(R,U,V);function V(q,W,Y){const Q=W||R;q?F(q):L?L(Q):I(void 0,Q,Y)}}}runSync(R,P){let I=!1,O;return this.run(R,P,z),assertDone("runSync","run",I),O;function z(L,F){bail(L),O=F,I=!0}}stringify(R,P){this.freeze();const I=vfile(P),O=this.compiler||this.Compiler;return assertCompiler("stringify",O),assertNode(R),O(R,I)}use(R,...P){const I=this.attachers,O=this.namespace;if(assertUnfrozen("use",this.frozen),R!=null)if(typeof R=="function")U(R,P);else if(typeof R=="object")Array.isArray(R)?F(R):L(R);else throw new TypeError("Expected usable value, not `"+R+"`");return this;function z(V){if(typeof V=="function")U(V,[]);else if(typeof V=="object")if(Array.isArray(V)){const[q,...W]=V;U(q,W)}else L(V);else throw new TypeError("Expected usable value, not `"+V+"`")}function L(V){if(!("plugins"in V)&&!("settings"in V))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");F(V.plugins),V.settings&&(O.settings=extend(!0,O.settings,V.settings))}function F(V){let q=-1;if(V!=null)if(Array.isArray(V))for(;++q<V.length;){const W=V[q];z(W)}else throw new TypeError("Expected a list of plugins, not `"+V+"`")}function U(V,q){let W=-1,Y=-1;for(;++W<I.length;)if(I[W][0]===V){Y=W;break}if(Y===-1)I.push([V,...q]);else if(q.length>0){let[Q,...ee]=q;const te=I[Y][1];isPlainObject(te)&&isPlainObject(Q)&&(Q=extend(!0,te,Q)),I[Y]=[V,Q,...ee]}}}}const unified=new Processor().freeze();function assertParser(_,R){if(typeof R!="function")throw new TypeError("Cannot `"+_+"` without `parser`")}function assertCompiler(_,R){if(typeof R!="function")throw new TypeError("Cannot `"+_+"` without `compiler`")}function assertUnfrozen(_,R){if(R)throw new Error("Cannot call `"+_+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(_){if(!isPlainObject(_)||typeof _.type!="string")throw new TypeError("Expected node, got `"+_+"`")}function assertDone(_,R,P){if(!P)throw new Error("`"+_+"` finished async. Use `"+R+"` instead")}function vfile(_){return looksLikeAVFile(_)?_:new VFile(_)}function looksLikeAVFile(_){return!!(_&&typeof _=="object"&&"message"in _&&"messages"in _)}function looksLikeAValue(_){return typeof _=="string"||isUint8Array(_)}function isUint8Array(_){return!!(_&&typeof _=="object"&&"byteLength"in _&&"byteOffset"in _)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(_){const R=createProcessor(_),P=createFile(_);return post(R.runSync(R.parse(P),P),_)}function createProcessor(_){const R=_.rehypePlugins||emptyPlugins,P=_.remarkPlugins||emptyPlugins,I=_.remarkRehypeOptions?{..._.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(P).use(remarkRehype,I).use(R)}function createFile(_){const R=_.children||"",P=new VFile;return typeof R=="string"&&(P.value=R),P}function post(_,R){const P=R.allowedElements,I=R.allowElement,O=R.components,z=R.disallowedElements,L=R.skipHtml,F=R.unwrapDisallowed,U=R.urlTransform||defaultUrlTransform;for(const q of deprecations)Object.hasOwn(R,q.from)&&(""+q.from+(q.to?"use `"+q.to+"` instead":"remove it")+changelog+q.id,void 0);return visit(_,V),toJsxRuntime(_,{Fragment:jsxRuntimeExports.Fragment,components:O,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function V(q,W,Y){if(q.type==="raw"&&Y&&typeof W=="number")return L?Y.children.splice(W,1):Y.children[W]={type:"text",value:q.value},W;if(q.type==="element"){let Q;for(Q in urlAttributes)if(Object.hasOwn(urlAttributes,Q)&&Object.hasOwn(q.properties,Q)){const ee=q.properties[Q],te=urlAttributes[Q];(te===null||te.includes(q.tagName))&&(q.properties[Q]=U(String(ee||""),Q,q))}}if(q.type==="element"){let Q=P?!P.includes(q.tagName):z?z.includes(q.tagName):!1;if(!Q&&I&&typeof W=="number"&&(Q=!I(q,W,Y)),Q&&Y&&typeof W=="number")return F&&q.children?Y.children.splice(W,1,...q.children):Y.children.splice(W,1),W}}}function defaultUrlTransform(_){const R=_.indexOf(":"),P=_.indexOf("?"),I=_.indexOf("#"),O=_.indexOf("/");return R===-1||O!==-1&&R>O||P!==-1&&R>P||I!==-1&&R>I||safeProtocol.test(_.slice(0,R))?_:""}function longestStreak(_,R){const P=String(_);let I=P.indexOf(R),O=I,z=0,L=0;for(;I!==-1;)I===O?++z>L&&(L=z):z=1,O=I+R.length,I=P.indexOf(R,O);return L}function mathFromMarkdown(){return{enter:{mathFlow:_,mathFlowFenceMeta:R,mathText:z},exit:{mathFlow:O,mathFlowFence:I,mathFlowFenceMeta:P,mathFlowValue:F,mathText:L,mathTextData:F}};function _(U){const V={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[V]}},U)}function R(){this.buffer()}function P(){const U=this.resume(),V=this.stack[this.stack.length-1];V.type,V.meta=U}function I(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function O(U){const V=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),q=this.stack[this.stack.length-1];q.type,this.exit(U),q.value=V;const W=q.data.hChildren[0];W.type,W.tagName,W.children.push({type:"text",value:V}),this.data.mathFlowInside=void 0}function z(U){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},U),this.buffer()}function L(U){const V=this.resume(),q=this.stack[this.stack.length-1];q.type,this.exit(U),q.value=V,q.data.hChildren.push({type:"text",value:V})}function F(U){this.config.enter.data.call(this,U),this.config.exit.data.call(this,U)}}function mathToMarkdown(_){let R=(_||{}).singleDollarTextMath;return R==null&&(R=!0),I.peek=O,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:R?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:P,inlineMath:I}};function P(z,L,F,U){const V=z.value||"",q=F.createTracker(U),W="$".repeat(Math.max(longestStreak(V,"$")+1,2)),Y=F.enter("mathFlow");let Q=q.move(W);if(z.meta){const ee=F.enter("mathFlowMeta");Q+=q.move(F.safe(z.meta,{after:`
`,before:Q,encode:["$"],...q.current()})),ee()}return Q+=q.move(`
`),V&&(Q+=q.move(V+`
`)),Q+=q.move(W),Y(),Q}function I(z,L,F){let U=z.value||"",V=1;for(R||V++;new RegExp("(^|[^$])"+"\\$".repeat(V)+"([^$]|$)").test(U);)V++;const q="$".repeat(V);/[^ \r\n]/.test(U)&&(/^[ \r\n]/.test(U)&&/[ \r\n]$/.test(U)||/^\$|\$$/.test(U))&&(U=" "+U+" ");let W=-1;for(;++W<F.unsafe.length;){const Y=F.unsafe[W];if(!Y.atBreak)continue;const Q=F.compilePattern(Y);let ee;for(;ee=Q.exec(U);){let te=ee.index;U.codePointAt(te)===10&&U.codePointAt(te-1)===13&&te--,U=U.slice(0,te)+" "+U.slice(ee.index+1)}}return q+U+q}function O(){return"$"}}const mathFlow={tokenize:tokenizeMathFenced,concrete:!0,name:"mathFlow"},nonLazyContinuation={tokenize:tokenizeNonLazyContinuation,partial:!0};function tokenizeMathFenced(_,R,P){const I=this,O=I.events[I.events.length-1],z=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0;let L=0;return F;function F(se){return _.enter("mathFlow"),_.enter("mathFlowFence"),_.enter("mathFlowFenceSequence"),U(se)}function U(se){return se===36?(_.consume(se),L++,U):L<2?P(se):(_.exit("mathFlowFenceSequence"),factorySpace(_,V,"whitespace")(se))}function V(se){return se===null||markdownLineEnding(se)?W(se):(_.enter("mathFlowFenceMeta"),_.enter("chunkString",{contentType:"string"}),q(se))}function q(se){return se===null||markdownLineEnding(se)?(_.exit("chunkString"),_.exit("mathFlowFenceMeta"),W(se)):se===36?P(se):(_.consume(se),q)}function W(se){return _.exit("mathFlowFence"),I.interrupt?R(se):_.attempt(nonLazyContinuation,Y,ie)(se)}function Y(se){return _.attempt({tokenize:ae,partial:!0},ie,Q)(se)}function Q(se){return(z?factorySpace(_,ee,"linePrefix",z+1):ee)(se)}function ee(se){return se===null?ie(se):markdownLineEnding(se)?_.attempt(nonLazyContinuation,Y,ie)(se):(_.enter("mathFlowValue"),te(se))}function te(se){return se===null||markdownLineEnding(se)?(_.exit("mathFlowValue"),ee(se)):(_.consume(se),te)}function ie(se){return _.exit("mathFlow"),R(se)}function ae(se,le,ce){let fe=0;return factorySpace(se,de,"linePrefix",I.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function de(ge){return se.enter("mathFlowFence"),se.enter("mathFlowFenceSequence"),he(ge)}function he(ge){return ge===36?(fe++,se.consume(ge),he):fe<L?ce(ge):(se.exit("mathFlowFenceSequence"),factorySpace(se,pe,"whitespace")(ge))}function pe(ge){return ge===null||markdownLineEnding(ge)?(se.exit("mathFlowFence"),le(ge)):ce(ge)}}}function tokenizeNonLazyContinuation(_,R,P){const I=this;return O;function O(L){return L===null?R(L):(_.enter("lineEnding"),_.consume(L),_.exit("lineEnding"),z)}function z(L){return I.parser.lazy[I.now().line]?P(L):R(L)}}function mathText(_){let P=(_||{}).singleDollarTextMath;return P==null&&(P=!0),{tokenize:I,resolve:resolveMathText,previous,name:"mathText"};function I(O,z,L){let F=0,U,V;return q;function q(te){return O.enter("mathText"),O.enter("mathTextSequence"),W(te)}function W(te){return te===36?(O.consume(te),F++,W):F<2&&!P?L(te):(O.exit("mathTextSequence"),Y(te))}function Y(te){return te===null?L(te):te===36?(V=O.enter("mathTextSequence"),U=0,ee(te)):te===32?(O.enter("space"),O.consume(te),O.exit("space"),Y):markdownLineEnding(te)?(O.enter("lineEnding"),O.consume(te),O.exit("lineEnding"),Y):(O.enter("mathTextData"),Q(te))}function Q(te){return te===null||te===32||te===36||markdownLineEnding(te)?(O.exit("mathTextData"),Y(te)):(O.consume(te),Q)}function ee(te){return te===36?(O.consume(te),U++,ee):U===F?(O.exit("mathTextSequence"),O.exit("mathText"),z(te)):(V.type="mathTextData",Q(te))}}}function resolveMathText(_){let R=_.length-4,P=3,I,O;if((_[P][1].type==="lineEnding"||_[P][1].type==="space")&&(_[R][1].type==="lineEnding"||_[R][1].type==="space")){for(I=P;++I<R;)if(_[I][1].type==="mathTextData"){_[R][1].type="mathTextPadding",_[P][1].type="mathTextPadding",P+=2,R-=2;break}}for(I=P-1,R++;++I<=R;)O===void 0?I!==R&&_[I][1].type!=="lineEnding"&&(O=I):(I===R||_[I][1].type==="lineEnding")&&(_[O][1].type="mathTextData",I!==O+2&&(_[O][1].end=_[I-1][1].end,_.splice(O+2,I-O-2),R-=I-O-2,I=O+2),O=void 0);return _}function previous(_){return _!==36||this.events[this.events.length-1][1].type==="characterEscape"}function math$1(_){return{flow:{36:mathFlow},text:{36:mathText(_)}}}class SourceLocation{constructor(R,P,I){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=R,this.start=P,this.end=I}static range(R,P){return P?!R||!R.loc||!P.loc||R.loc.lexer!==P.loc.lexer?null:new SourceLocation(R.loc.lexer,R.loc.start,P.loc.end):R&&R.loc}}class Token{constructor(R,P){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=R,this.loc=P}range(R,P){return new Token(P,SourceLocation.range(this,R))}}class ParseError{constructor(R,P){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var I="KaTeX parse error: "+R,O,z,L=P&&P.loc;if(L&&L.start<=L.end){var F=L.lexer.input;O=L.start,z=L.end,O===F.length?I+=" at end of input: ":I+=" at position "+(O+1)+": ";var U=F.slice(O,z).replace(/[^]/g,"$&"),V;O>15?V=""+F.slice(O-15,O):V=F.slice(0,O);var q;z+15<F.length?q=F.slice(z,z+15)+"":q=F.slice(z),I+=V+U+q}var W=new Error(I);return W.name="ParseError",W.__proto__=ParseError.prototype,W.position=O,O!=null&&z!=null&&(W.length=z-O),W.rawMessage=R,W}}ParseError.prototype.__proto__=Error.prototype;var deflt=function _(R,P){return R===void 0?P:R},uppercase=/([A-Z])/g,hyphenate=function _(R){return R.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape(_){return String(_).replace(ESCAPE_REGEX,R=>ESCAPE_LOOKUP[R])}var getBaseElem=function _(R){return R.type==="ordgroup"||R.type==="color"?R.body.length===1?_(R.body[0]):R:R.type==="font"?_(R.body):R},isCharacterBox=function _(R){var P=getBaseElem(R);return P.type==="mathord"||P.type==="textord"||P.type==="atom"},assert=function _(R){if(!R)throw new Error("Expected non-null, but got "+String(R));return R},protocolFromUrl=function _(R){var P=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(R);return P?P[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(P[1])?null:P[1].toLowerCase():"_relative"},utils={deflt,escape,hyphenate,getBaseElem,isCharacterBox,protocolFromUrl},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:_=>"#"+_},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(_,R)=>(R.push(_),R)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:_=>Math.max(0,_),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:_=>Math.max(0,_),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:_=>Math.max(0,_),cli:"-e, --max-expand <n>",cliProcessor:_=>_==="Infinity"?1/0:parseInt(_)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(_){if(_.default)return _.default;var R=_.type,P=Array.isArray(R)?R[0]:R;if(typeof P!="string")return P.enum[0];switch(P){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Settings{constructor(R){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,R=R||{};for(var P in SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(P)){var I=SETTINGS_SCHEMA[P];this[P]=R[P]!==void 0?I.processor?I.processor(R[P]):R[P]:getDefaultValue(I)}}reportNonstrict(R,P,I){var O=this.strict;if(typeof O=="function"&&(O=O(R,P,I)),!(!O||O==="ignore")){if(O===!0||O==="error")throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+(P+" ["+R+"]"),I);O==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(P+" ["+R+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+O+"': "+P+" ["+R+"]"))}}useStrictBehavior(R,P,I){var O=this.strict;if(typeof O=="function")try{O=O(R,P,I)}catch{O="error"}return!O||O==="ignore"?!1:O===!0||O==="error"?!0:O==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(P+" ["+R+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+O+"': "+P+" ["+R+"]")),!1)}isTrusted(R){if(R.url&&!R.protocol){var P=utils.protocolFromUrl(R.url);if(P==null)return!1;R.protocol=P}var I=typeof this.trust=="function"?this.trust(R):this.trust;return!!I}}class Style{constructor(R,P,I){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=R,this.size=P,this.cramped=I}sup(){return styles[sup[this.id]]}sub(){return styles[sub[this.id]]}fracNum(){return styles[fracNum[this.id]]}fracDen(){return styles[fracDen[this.id]]}cramp(){return styles[cramp[this.id]]}text(){return styles[text$1[this.id]]}isTight(){return this.size>=2}}var D=0,Dc=1,T=2,Tc=3,S=4,Sc=5,SS=6,SSc=7,styles=[new Style(D,0,!1),new Style(Dc,0,!0),new Style(T,1,!1),new Style(Tc,1,!0),new Style(S,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S,Sc,S,Sc,SS,SSc,SS,SSc],sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T,Tc,S,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1=[D,Dc,T,Tc,T,Tc,T,Tc],Style$1={DISPLAY:styles[D],TEXT:styles[T],SCRIPT:styles[S],SCRIPTSCRIPT:styles[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(_){for(var R=0;R<scriptData.length;R++)for(var P=scriptData[R],I=0;I<P.blocks.length;I++){var O=P.blocks[I];if(_>=O[0]&&_<=O[1])return P.name}return null}var allBlocks=[];scriptData.forEach(_=>_.blocks.forEach(R=>allBlocks.push(...R)));function supportedCodepoint(_){for(var R=0;R<allBlocks.length;R+=2)if(_>=allBlocks[R]&&_<=allBlocks[R+1])return!0;return!1}var hLinePad=80,sqrtMain=function _(R,P){return"M95,"+(622+R+P)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+R/2.075+" -"+R+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+R)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+R)+" "+P+"h400000v"+(40+R)+"h-400000z"},sqrtSize1=function _(R,P){return"M263,"+(601+R+P)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+R/2.084+" -"+R+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+R)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+R)+" "+P+"h400000v"+(40+R)+"h-400000z"},sqrtSize2=function _(R,P){return"M983 "+(10+R+P)+`
l`+R/3.13+" -"+R+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+R)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+R)+" "+P+"h400000v"+(40+R)+"h-400000z"},sqrtSize3=function _(R,P){return"M424,"+(2398+R+P)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+R/4.223+" -"+R+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+R)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+R)+" "+P+`
h400000v`+(40+R)+"h-400000z"},sqrtSize4=function _(R,P){return"M473,"+(2713+R+P)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+R/5.298+" -"+R+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+R)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+R)+" "+P+"h400000v"+(40+R)+"H1017.7z"},phasePath=function _(R){var P=R/2;return"M400000 "+R+" H0 L"+P+" 0 l65 45 L145 "+(R-80)+" H400000z"},sqrtTall=function _(R,P,I){var O=I-54-P-R;return"M702 "+(R+P)+"H400000"+(40+R)+`
H742v`+O+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+P+"H400000v"+(40+R)+"H742z"},sqrtPath=function _(R,P,I){P=1e3*P;var O="";switch(R){case"sqrtMain":O=sqrtMain(P,hLinePad);break;case"sqrtSize1":O=sqrtSize1(P,hLinePad);break;case"sqrtSize2":O=sqrtSize2(P,hLinePad);break;case"sqrtSize3":O=sqrtSize3(P,hLinePad);break;case"sqrtSize4":O=sqrtSize4(P,hLinePad);break;case"sqrtTall":O=sqrtTall(P,hLinePad,I)}return O},innerPath=function _(R,P){switch(R){case"":return"M291 0 H417 V"+P+" H291z M291 0 H417 V"+P+" H291z";case"":return"M145 0 H188 V"+P+" H145z M145 0 H188 V"+P+" H145z";case"":return"M145 0 H188 V"+P+" H145z M145 0 H188 V"+P+" H145z"+("M367 0 H410 V"+P+" H367z M367 0 H410 V"+P+" H367z");case"":return"M457 0 H583 V"+P+" H457z M457 0 H583 V"+P+" H457z";case"":return"M319 0 H403 V"+P+" H319z M319 0 H403 V"+P+" H319z";case"":return"M263 0 H347 V"+P+" H263z M263 0 H347 V"+P+" H263z";case"":return"M384 0 H504 V"+P+" H384z M384 0 H504 V"+P+" H384z";case"":return"M312 0 H355 V"+P+" H312z M312 0 H355 V"+P+" H312z";case"":return"M257 0 H300 V"+P+" H257z M257 0 H300 V"+P+" H257z"+("M478 0 H521 V"+P+" H478z M478 0 H521 V"+P+" H478z");default:return""}},path={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tallDelim=function _(R,P){switch(R){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+P+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+P+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+P+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+P+" v1759 h84z";case"vert":return"M145 15 v585 v"+P+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-P+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+P+" v585 h43z";case"doublevert":return"M145 15 v585 v"+P+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-P+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+P+` v585 h43z
M367 15 v585 v`+P+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-P+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+P+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+P+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+P+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+P+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+P+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+P+` v602 h84z
M403 1759 V0 H319 V1759 v`+P+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+P+` v602 h84z
M347 1759 V0 h-84 V1759 v`+P+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(P+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(P+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(P+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(P+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let DocumentFragment$1=class{constructor(R){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=R,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(R){return this.classes.includes(R)}toNode(){for(var R=document.createDocumentFragment(),P=0;P<this.children.length;P++)R.appendChild(this.children[P].toNode());return R}toMarkup(){for(var R="",P=0;P<this.children.length;P++)R+=this.children[P].toMarkup();return R}toText(){var R=P=>P.toText();return this.children.map(R).join("")}};var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function setFontMetrics(_,R){fontMetricsData[_]=R}function getCharacterMetrics(_,R,P){if(!fontMetricsData[R])throw new Error("Font metrics not found for font: "+R+".");var I=_.charCodeAt(0),O=fontMetricsData[R][I];if(!O&&_[0]in extraCharacterMap&&(I=extraCharacterMap[_[0]].charCodeAt(0),O=fontMetricsData[R][I]),!O&&P==="text"&&supportedCodepoint(I)&&(O=fontMetricsData[R][77]),O)return{depth:O[0],height:O[1],italic:O[2],skew:O[3],width:O[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(_){var R;if(_>=5?R=0:_>=3?R=1:R=2,!fontMetricsBySizeIndex[R]){var P=fontMetricsBySizeIndex[R]={cssEmPerMu:sigmasAndXis.quad[R]/18};for(var I in sigmasAndXis)sigmasAndXis.hasOwnProperty(I)&&(P[I]=sigmasAndXis[I][R])}return fontMetricsBySizeIndex[R]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function _(R,P){return P.size<2?R:sizeStyleMap[R-1][P.size-1]};class Options{constructor(R){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=R.style,this.color=R.color,this.size=R.size||Options.BASESIZE,this.textSize=R.textSize||this.size,this.phantom=!!R.phantom,this.font=R.font||"",this.fontFamily=R.fontFamily||"",this.fontWeight=R.fontWeight||"",this.fontShape=R.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=R.maxSize,this.minRuleThickness=R.minRuleThickness,this._fontMetrics=void 0}extend(R){var P={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var I in R)R.hasOwnProperty(I)&&(P[I]=R[I]);return new Options(P)}havingStyle(R){return this.style===R?this:this.extend({style:R,size:sizeAtStyle(this.textSize,R)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(R){return this.size===R&&this.textSize===R?this:this.extend({style:this.style.text(),size:R,textSize:R,sizeMultiplier:sizeMultipliers[R-1]})}havingBaseStyle(R){R=R||this.style.text();var P=sizeAtStyle(Options.BASESIZE,R);return this.size===P&&this.textSize===Options.BASESIZE&&this.style===R?this:this.extend({style:R,size:P})}havingBaseSizing(){var R;switch(this.style.id){case 4:case 5:R=3;break;case 6:case 7:R=1;break;default:R=6}return this.extend({style:this.style.text(),size:R})}withColor(R){return this.extend({color:R})}withPhantom(){return this.extend({phantom:!0})}withFont(R){return this.extend({font:R})}withTextFontFamily(R){return this.extend({fontFamily:R,font:""})}withTextFontWeight(R){return this.extend({fontWeight:R,font:""})}withTextFontShape(R){return this.extend({fontShape:R,font:""})}sizingClasses(R){return R.size!==this.size?["sizing","reset-size"+R.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function _(R){return typeof R!="string"&&(R=R.unit),R in ptPerUnit||R in relativeUnit||R==="ex"},calculateSize=function _(R,P){var I;if(R.unit in ptPerUnit)I=ptPerUnit[R.unit]/P.fontMetrics().ptPerEm/P.sizeMultiplier;else if(R.unit==="mu")I=P.fontMetrics().cssEmPerMu;else{var O;if(P.style.isTight()?O=P.havingStyle(P.style.text()):O=P,R.unit==="ex")I=O.fontMetrics().xHeight;else if(R.unit==="em")I=O.fontMetrics().quad;else throw new ParseError("Invalid unit: '"+R.unit+"'");O!==P&&(I*=O.sizeMultiplier/P.sizeMultiplier)}return Math.min(R.number*I,P.maxSize)},makeEm=function _(R){return+R.toFixed(4)+"em"},createClass=function _(R){return R.filter(P=>P).join(" ")},initNode=function _(R,P,I){if(this.classes=R||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=I||{},P){P.style.isTight()&&this.classes.push("mtight");var O=P.getColor();O&&(this.style.color=O)}},toNode=function _(R){var P=document.createElement(R);P.className=createClass(this.classes);for(var I in this.style)this.style.hasOwnProperty(I)&&(P.style[I]=this.style[I]);for(var O in this.attributes)this.attributes.hasOwnProperty(O)&&P.setAttribute(O,this.attributes[O]);for(var z=0;z<this.children.length;z++)P.appendChild(this.children[z].toNode());return P},invalidAttributeNameRegex=/[\s"'>/=\x00-\x1f]/,toMarkup=function _(R){var P="<"+R;this.classes.length&&(P+=' class="'+utils.escape(createClass(this.classes))+'"');var I="";for(var O in this.style)this.style.hasOwnProperty(O)&&(I+=utils.hyphenate(O)+":"+this.style[O]+";");I&&(P+=' style="'+utils.escape(I)+'"');for(var z in this.attributes)if(this.attributes.hasOwnProperty(z)){if(invalidAttributeNameRegex.test(z))throw new ParseError("Invalid attribute name '"+z+"'");P+=" "+z+'="'+utils.escape(this.attributes[z])+'"'}P+=">";for(var L=0;L<this.children.length;L++)P+=this.children[L].toMarkup();return P+="</"+R+">",P};class Span{constructor(R,P,I,O){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,R,I,O),this.children=P||[]}setAttribute(R,P){this.attributes[R]=P}hasClass(R){return this.classes.includes(R)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor(R,P,I,O){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,P,O),this.children=I||[],this.setAttribute("href",R)}setAttribute(R,P){this.attributes[R]=P}hasClass(R){return this.classes.includes(R)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(R,P,I){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=P,this.src=R,this.classes=["mord"],this.style=I}hasClass(R){return this.classes.includes(R)}toNode(){var R=document.createElement("img");R.src=this.src,R.alt=this.alt,R.className="mord";for(var P in this.style)this.style.hasOwnProperty(P)&&(R.style[P]=this.style[P]);return R}toMarkup(){var R='<img src="'+utils.escape(this.src)+'"'+(' alt="'+utils.escape(this.alt)+'"'),P="";for(var I in this.style)this.style.hasOwnProperty(I)&&(P+=utils.hyphenate(I)+":"+this.style[I]+";");return P&&(R+=' style="'+utils.escape(P)+'"'),R+="'/>",R}}var iCombinations={:"",:"",:"",:""};class SymbolNode{constructor(R,P,I,O,z,L,F,U){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=R,this.height=P||0,this.depth=I||0,this.italic=O||0,this.skew=z||0,this.width=L||0,this.classes=F||[],this.style=U||{},this.maxFontSize=0;var V=scriptFromCodepoint(this.text.charCodeAt(0));V&&this.classes.push(V+"_fallback"),/[]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(R){return this.classes.includes(R)}toNode(){var R=document.createTextNode(this.text),P=null;this.italic>0&&(P=document.createElement("span"),P.style.marginRight=makeEm(this.italic)),this.classes.length>0&&(P=P||document.createElement("span"),P.className=createClass(this.classes));for(var I in this.style)this.style.hasOwnProperty(I)&&(P=P||document.createElement("span"),P.style[I]=this.style[I]);return P?(P.appendChild(R),P):R}toMarkup(){var R=!1,P="<span";this.classes.length&&(R=!0,P+=' class="',P+=utils.escape(createClass(this.classes)),P+='"');var I="";this.italic>0&&(I+="margin-right:"+this.italic+"em;");for(var O in this.style)this.style.hasOwnProperty(O)&&(I+=utils.hyphenate(O)+":"+this.style[O]+";");I&&(R=!0,P+=' style="'+utils.escape(I)+'"');var z=utils.escape(this.text);return R?(P+=">",P+=z,P+="</span>",P):z}}class SvgNode{constructor(R,P){this.children=void 0,this.attributes=void 0,this.children=R||[],this.attributes=P||{}}toNode(){var R="http://www.w3.org/2000/svg",P=document.createElementNS(R,"svg");for(var I in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,I)&&P.setAttribute(I,this.attributes[I]);for(var O=0;O<this.children.length;O++)P.appendChild(this.children[O].toNode());return P}toMarkup(){var R='<svg xmlns="http://www.w3.org/2000/svg"';for(var P in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,P)&&(R+=" "+P+'="'+utils.escape(this.attributes[P])+'"');R+=">";for(var I=0;I<this.children.length;I++)R+=this.children[I].toMarkup();return R+="</svg>",R}}class PathNode{constructor(R,P){this.pathName=void 0,this.alternate=void 0,this.pathName=R,this.alternate=P}toNode(){var R="http://www.w3.org/2000/svg",P=document.createElementNS(R,"path");return this.alternate?P.setAttribute("d",this.alternate):P.setAttribute("d",path[this.pathName]),P}toMarkup(){return this.alternate?'<path d="'+utils.escape(this.alternate)+'"/>':'<path d="'+utils.escape(path[this.pathName])+'"/>'}}class LineNode{constructor(R){this.attributes=void 0,this.attributes=R||{}}toNode(){var R="http://www.w3.org/2000/svg",P=document.createElementNS(R,"line");for(var I in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,I)&&P.setAttribute(I,this.attributes[I]);return P}toMarkup(){var R="<line";for(var P in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,P)&&(R+=" "+P+'="'+utils.escape(this.attributes[P])+'"');return R+="/>",R}}function assertSymbolDomNode(_){if(_ instanceof SymbolNode)return _;throw new Error("Expected symbolNode but got "+String(_)+".")}function assertSpan(_){if(_ instanceof Span)return _;throw new Error("Expected span<HtmlDomNode> but got "+String(_)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(_,R,P,I,O,z){symbols[_][O]={font:R,group:P,replace:I},z&&I&&(symbols[_][I]=symbols[_][O])}var math="math",text$2="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",inner="inner",mathord="mathord",op="op-token",open="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"","\\equiv",!0);defineSymbol(math,main,rel,"","\\prec",!0);defineSymbol(math,main,rel,"","\\succ",!0);defineSymbol(math,main,rel,"","\\sim",!0);defineSymbol(math,main,rel,"","\\perp");defineSymbol(math,main,rel,"","\\preceq",!0);defineSymbol(math,main,rel,"","\\succeq",!0);defineSymbol(math,main,rel,"","\\simeq",!0);defineSymbol(math,main,rel,"","\\mid",!0);defineSymbol(math,main,rel,"","\\ll",!0);defineSymbol(math,main,rel,"","\\gg",!0);defineSymbol(math,main,rel,"","\\asymp",!0);defineSymbol(math,main,rel,"","\\parallel");defineSymbol(math,main,rel,"","\\bowtie",!0);defineSymbol(math,main,rel,"","\\smile",!0);defineSymbol(math,main,rel,"","\\sqsubseteq",!0);defineSymbol(math,main,rel,"","\\sqsupseteq",!0);defineSymbol(math,main,rel,"","\\doteq",!0);defineSymbol(math,main,rel,"","\\frown",!0);defineSymbol(math,main,rel,"","\\ni",!0);defineSymbol(math,main,rel,"","\\propto",!0);defineSymbol(math,main,rel,"","\\vdash",!0);defineSymbol(math,main,rel,"","\\dashv",!0);defineSymbol(math,main,rel,"","\\owns");defineSymbol(math,main,punct,".","\\ldotp");defineSymbol(math,main,punct,"","\\cdotp");defineSymbol(math,main,textord,"#","\\#");defineSymbol(text$2,main,textord,"#","\\#");defineSymbol(math,main,textord,"&","\\&");defineSymbol(text$2,main,textord,"&","\\&");defineSymbol(math,main,textord,"","\\aleph",!0);defineSymbol(math,main,textord,"","\\forall",!0);defineSymbol(math,main,textord,"","\\hbar",!0);defineSymbol(math,main,textord,"","\\exists",!0);defineSymbol(math,main,textord,"","\\nabla",!0);defineSymbol(math,main,textord,"","\\flat",!0);defineSymbol(math,main,textord,"","\\ell",!0);defineSymbol(math,main,textord,"","\\natural",!0);defineSymbol(math,main,textord,"","\\clubsuit",!0);defineSymbol(math,main,textord,"","\\wp",!0);defineSymbol(math,main,textord,"","\\sharp",!0);defineSymbol(math,main,textord,"","\\diamondsuit",!0);defineSymbol(math,main,textord,"","\\Re",!0);defineSymbol(math,main,textord,"","\\heartsuit",!0);defineSymbol(math,main,textord,"","\\Im",!0);defineSymbol(math,main,textord,"","\\spadesuit",!0);defineSymbol(math,main,textord,"","\\S",!0);defineSymbol(text$2,main,textord,"","\\S");defineSymbol(math,main,textord,"","\\P",!0);defineSymbol(text$2,main,textord,"","\\P");defineSymbol(math,main,textord,"","\\dag");defineSymbol(text$2,main,textord,"","\\dag");defineSymbol(text$2,main,textord,"","\\textdagger");defineSymbol(math,main,textord,"","\\ddag");defineSymbol(text$2,main,textord,"","\\ddag");defineSymbol(text$2,main,textord,"","\\textdaggerdbl");defineSymbol(math,main,close,"","\\rmoustache",!0);defineSymbol(math,main,open,"","\\lmoustache",!0);defineSymbol(math,main,close,"","\\rgroup",!0);defineSymbol(math,main,open,"","\\lgroup",!0);defineSymbol(math,main,bin,"","\\mp",!0);defineSymbol(math,main,bin,"","\\ominus",!0);defineSymbol(math,main,bin,"","\\uplus",!0);defineSymbol(math,main,bin,"","\\sqcap",!0);defineSymbol(math,main,bin,"","\\ast");defineSymbol(math,main,bin,"","\\sqcup",!0);defineSymbol(math,main,bin,"","\\bigcirc",!0);defineSymbol(math,main,bin,"","\\bullet",!0);defineSymbol(math,main,bin,"","\\ddagger");defineSymbol(math,main,bin,"","\\wr",!0);defineSymbol(math,main,bin,"","\\amalg");defineSymbol(math,main,bin,"&","\\And");defineSymbol(math,main,rel,"","\\longleftarrow",!0);defineSymbol(math,main,rel,"","\\Leftarrow",!0);defineSymbol(math,main,rel,"","\\Longleftarrow",!0);defineSymbol(math,main,rel,"","\\longrightarrow",!0);defineSymbol(math,main,rel,"","\\Rightarrow",!0);defineSymbol(math,main,rel,"","\\Longrightarrow",!0);defineSymbol(math,main,rel,"","\\leftrightarrow",!0);defineSymbol(math,main,rel,"","\\longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\Leftrightarrow",!0);defineSymbol(math,main,rel,"","\\Longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\mapsto",!0);defineSymbol(math,main,rel,"","\\longmapsto",!0);defineSymbol(math,main,rel,"","\\nearrow",!0);defineSymbol(math,main,rel,"","\\hookleftarrow",!0);defineSymbol(math,main,rel,"","\\hookrightarrow",!0);defineSymbol(math,main,rel,"","\\searrow",!0);defineSymbol(math,main,rel,"","\\leftharpoonup",!0);defineSymbol(math,main,rel,"","\\rightharpoonup",!0);defineSymbol(math,main,rel,"","\\swarrow",!0);defineSymbol(math,main,rel,"","\\leftharpoondown",!0);defineSymbol(math,main,rel,"","\\rightharpoondown",!0);defineSymbol(math,main,rel,"","\\nwarrow",!0);defineSymbol(math,main,rel,"","\\rightleftharpoons",!0);defineSymbol(math,ams,rel,"","\\nless",!0);defineSymbol(math,ams,rel,"","\\@nleqslant");defineSymbol(math,ams,rel,"","\\@nleqq");defineSymbol(math,ams,rel,"","\\lneq",!0);defineSymbol(math,ams,rel,"","\\lneqq",!0);defineSymbol(math,ams,rel,"","\\@lvertneqq");defineSymbol(math,ams,rel,"","\\lnsim",!0);defineSymbol(math,ams,rel,"","\\lnapprox",!0);defineSymbol(math,ams,rel,"","\\nprec",!0);defineSymbol(math,ams,rel,"","\\npreceq",!0);defineSymbol(math,ams,rel,"","\\precnsim",!0);defineSymbol(math,ams,rel,"","\\precnapprox",!0);defineSymbol(math,ams,rel,"","\\nsim",!0);defineSymbol(math,ams,rel,"","\\@nshortmid");defineSymbol(math,ams,rel,"","\\nmid",!0);defineSymbol(math,ams,rel,"","\\nvdash",!0);defineSymbol(math,ams,rel,"","\\nvDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleleft");defineSymbol(math,ams,rel,"","\\ntrianglelefteq",!0);defineSymbol(math,ams,rel,"","\\subsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneq");defineSymbol(math,ams,rel,"","\\subsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneqq");defineSymbol(math,ams,rel,"","\\ngtr",!0);defineSymbol(math,ams,rel,"","\\@ngeqslant");defineSymbol(math,ams,rel,"","\\@ngeqq");defineSymbol(math,ams,rel,"","\\gneq",!0);defineSymbol(math,ams,rel,"","\\gneqq",!0);defineSymbol(math,ams,rel,"","\\@gvertneqq");defineSymbol(math,ams,rel,"","\\gnsim",!0);defineSymbol(math,ams,rel,"","\\gnapprox",!0);defineSymbol(math,ams,rel,"","\\nsucc",!0);defineSymbol(math,ams,rel,"","\\nsucceq",!0);defineSymbol(math,ams,rel,"","\\succnsim",!0);defineSymbol(math,ams,rel,"","\\succnapprox",!0);defineSymbol(math,ams,rel,"","\\ncong",!0);defineSymbol(math,ams,rel,"","\\@nshortparallel");defineSymbol(math,ams,rel,"","\\nparallel",!0);defineSymbol(math,ams,rel,"","\\nVDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleright");defineSymbol(math,ams,rel,"","\\ntrianglerighteq",!0);defineSymbol(math,ams,rel,"","\\@nsupseteqq");defineSymbol(math,ams,rel,"","\\supsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneq");defineSymbol(math,ams,rel,"","\\supsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneqq");defineSymbol(math,ams,rel,"","\\nVdash",!0);defineSymbol(math,ams,rel,"","\\precneqq",!0);defineSymbol(math,ams,rel,"","\\succneqq",!0);defineSymbol(math,ams,rel,"","\\@nsubseteqq");defineSymbol(math,ams,bin,"","\\unlhd");defineSymbol(math,ams,bin,"","\\unrhd");defineSymbol(math,ams,rel,"","\\nleftarrow",!0);defineSymbol(math,ams,rel,"","\\nrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftarrow",!0);defineSymbol(math,ams,rel,"","\\nRightarrow",!0);defineSymbol(math,ams,rel,"","\\nleftrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftrightarrow",!0);defineSymbol(math,ams,rel,"","\\vartriangle");defineSymbol(math,ams,textord,"","\\hslash");defineSymbol(math,ams,textord,"","\\triangledown");defineSymbol(math,ams,textord,"","\\lozenge");defineSymbol(math,ams,textord,"","\\circledS");defineSymbol(math,ams,textord,"","\\circledR");defineSymbol(text$2,ams,textord,"","\\circledR");defineSymbol(math,ams,textord,"","\\measuredangle",!0);defineSymbol(math,ams,textord,"","\\nexists");defineSymbol(math,ams,textord,"","\\mho");defineSymbol(math,ams,textord,"","\\Finv",!0);defineSymbol(math,ams,textord,"","\\Game",!0);defineSymbol(math,ams,textord,"","\\backprime");defineSymbol(math,ams,textord,"","\\blacktriangle");defineSymbol(math,ams,textord,"","\\blacktriangledown");defineSymbol(math,ams,textord,"","\\blacksquare");defineSymbol(math,ams,textord,"","\\blacklozenge");defineSymbol(math,ams,textord,"","\\bigstar");defineSymbol(math,ams,textord,"","\\sphericalangle",!0);defineSymbol(math,ams,textord,"","\\complement",!0);defineSymbol(math,ams,textord,"","\\eth",!0);defineSymbol(text$2,main,textord,"","");defineSymbol(math,ams,textord,"","\\diagup");defineSymbol(math,ams,textord,"","\\diagdown");defineSymbol(math,ams,textord,"","\\square");defineSymbol(math,ams,textord,"","\\Box");defineSymbol(math,ams,textord,"","\\Diamond");defineSymbol(math,ams,textord,"","\\yen",!0);defineSymbol(text$2,ams,textord,"","\\yen",!0);defineSymbol(math,ams,textord,"","\\checkmark",!0);defineSymbol(text$2,ams,textord,"","\\checkmark");defineSymbol(math,ams,textord,"","\\beth",!0);defineSymbol(math,ams,textord,"","\\daleth",!0);defineSymbol(math,ams,textord,"","\\gimel",!0);defineSymbol(math,ams,textord,"","\\digamma",!0);defineSymbol(math,ams,textord,"","\\varkappa");defineSymbol(math,ams,open,"","\\@ulcorner",!0);defineSymbol(math,ams,close,"","\\@urcorner",!0);defineSymbol(math,ams,open,"","\\@llcorner",!0);defineSymbol(math,ams,close,"","\\@lrcorner",!0);defineSymbol(math,ams,rel,"","\\leqq",!0);defineSymbol(math,ams,rel,"","\\leqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantless",!0);defineSymbol(math,ams,rel,"","\\lesssim",!0);defineSymbol(math,ams,rel,"","\\lessapprox",!0);defineSymbol(math,ams,rel,"","\\approxeq",!0);defineSymbol(math,ams,bin,"","\\lessdot");defineSymbol(math,ams,rel,"","\\lll",!0);defineSymbol(math,ams,rel,"","\\lessgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqqgtr",!0);defineSymbol(math,ams,rel,"","\\doteqdot");defineSymbol(math,ams,rel,"","\\risingdotseq",!0);defineSymbol(math,ams,rel,"","\\fallingdotseq",!0);defineSymbol(math,ams,rel,"","\\backsim",!0);defineSymbol(math,ams,rel,"","\\backsimeq",!0);defineSymbol(math,ams,rel,"","\\subseteqq",!0);defineSymbol(math,ams,rel,"","\\Subset",!0);defineSymbol(math,ams,rel,"","\\sqsubset",!0);defineSymbol(math,ams,rel,"","\\preccurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqprec",!0);defineSymbol(math,ams,rel,"","\\precsim",!0);defineSymbol(math,ams,rel,"","\\precapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleleft");defineSymbol(math,ams,rel,"","\\trianglelefteq");defineSymbol(math,ams,rel,"","\\vDash",!0);defineSymbol(math,ams,rel,"","\\Vvdash",!0);defineSymbol(math,ams,rel,"","\\smallsmile");defineSymbol(math,ams,rel,"","\\smallfrown");defineSymbol(math,ams,rel,"","\\bumpeq",!0);defineSymbol(math,ams,rel,"","\\Bumpeq",!0);defineSymbol(math,ams,rel,"","\\geqq",!0);defineSymbol(math,ams,rel,"","\\geqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantgtr",!0);defineSymbol(math,ams,rel,"","\\gtrsim",!0);defineSymbol(math,ams,rel,"","\\gtrapprox",!0);defineSymbol(math,ams,bin,"","\\gtrdot");defineSymbol(math,ams,rel,"","\\ggg",!0);defineSymbol(math,ams,rel,"","\\gtrless",!0);defineSymbol(math,ams,rel,"","\\gtreqless",!0);defineSymbol(math,ams,rel,"","\\gtreqqless",!0);defineSymbol(math,ams,rel,"","\\eqcirc",!0);defineSymbol(math,ams,rel,"","\\circeq",!0);defineSymbol(math,ams,rel,"","\\triangleq",!0);defineSymbol(math,ams,rel,"","\\thicksim");defineSymbol(math,ams,rel,"","\\thickapprox");defineSymbol(math,ams,rel,"","\\supseteqq",!0);defineSymbol(math,ams,rel,"","\\Supset",!0);defineSymbol(math,ams,rel,"","\\sqsupset",!0);defineSymbol(math,ams,rel,"","\\succcurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqsucc",!0);defineSymbol(math,ams,rel,"","\\succsim",!0);defineSymbol(math,ams,rel,"","\\succapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleright");defineSymbol(math,ams,rel,"","\\trianglerighteq");defineSymbol(math,ams,rel,"","\\Vdash",!0);defineSymbol(math,ams,rel,"","\\shortmid");defineSymbol(math,ams,rel,"","\\shortparallel");defineSymbol(math,ams,rel,"","\\between",!0);defineSymbol(math,ams,rel,"","\\pitchfork",!0);defineSymbol(math,ams,rel,"","\\varpropto");defineSymbol(math,ams,rel,"","\\blacktriangleleft");defineSymbol(math,ams,rel,"","\\therefore",!0);defineSymbol(math,ams,rel,"","\\backepsilon");defineSymbol(math,ams,rel,"","\\blacktriangleright");defineSymbol(math,ams,rel,"","\\because",!0);defineSymbol(math,ams,rel,"","\\llless");defineSymbol(math,ams,rel,"","\\gggtr");defineSymbol(math,ams,bin,"","\\lhd");defineSymbol(math,ams,bin,"","\\rhd");defineSymbol(math,ams,rel,"","\\eqsim",!0);defineSymbol(math,main,rel,"","\\Join");defineSymbol(math,ams,rel,"","\\Doteq",!0);defineSymbol(math,ams,bin,"","\\dotplus",!0);defineSymbol(math,ams,bin,"","\\smallsetminus");defineSymbol(math,ams,bin,"","\\Cap",!0);defineSymbol(math,ams,bin,"","\\Cup",!0);defineSymbol(math,ams,bin,"","\\doublebarwedge",!0);defineSymbol(math,ams,bin,"","\\boxminus",!0);defineSymbol(math,ams,bin,"","\\boxplus",!0);defineSymbol(math,ams,bin,"","\\divideontimes",!0);defineSymbol(math,ams,bin,"","\\ltimes",!0);defineSymbol(math,ams,bin,"","\\rtimes",!0);defineSymbol(math,ams,bin,"","\\leftthreetimes",!0);defineSymbol(math,ams,bin,"","\\rightthreetimes",!0);defineSymbol(math,ams,bin,"","\\curlywedge",!0);defineSymbol(math,ams,bin,"","\\curlyvee",!0);defineSymbol(math,ams,bin,"","\\circleddash",!0);defineSymbol(math,ams,bin,"","\\circledast",!0);defineSymbol(math,ams,bin,"","\\centerdot");defineSymbol(math,ams,bin,"","\\intercal",!0);defineSymbol(math,ams,bin,"","\\doublecap");defineSymbol(math,ams,bin,"","\\doublecup");defineSymbol(math,ams,bin,"","\\boxtimes",!0);defineSymbol(math,ams,rel,"","\\dashrightarrow",!0);defineSymbol(math,ams,rel,"","\\dashleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftleftarrows",!0);defineSymbol(math,ams,rel,"","\\leftrightarrows",!0);defineSymbol(math,ams,rel,"","\\Lleftarrow",!0);defineSymbol(math,ams,rel,"","\\twoheadleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowleft",!0);defineSymbol(math,ams,rel,"","\\leftrightharpoons",!0);defineSymbol(math,ams,rel,"","\\curvearrowleft",!0);defineSymbol(math,ams,rel,"","\\circlearrowleft",!0);defineSymbol(math,ams,rel,"","\\Lsh",!0);defineSymbol(math,ams,rel,"","\\upuparrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonleft",!0);defineSymbol(math,ams,rel,"","\\downharpoonleft",!0);defineSymbol(math,main,rel,"","\\origof",!0);defineSymbol(math,main,rel,"","\\imageof",!0);defineSymbol(math,ams,rel,"","\\multimap",!0);defineSymbol(math,ams,rel,"","\\leftrightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\rightrightarrows",!0);defineSymbol(math,ams,rel,"","\\rightleftarrows",!0);defineSymbol(math,ams,rel,"","\\twoheadrightarrow",!0);defineSymbol(math,ams,rel,"","\\rightarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowright",!0);defineSymbol(math,ams,rel,"","\\curvearrowright",!0);defineSymbol(math,ams,rel,"","\\circlearrowright",!0);defineSymbol(math,ams,rel,"","\\Rsh",!0);defineSymbol(math,ams,rel,"","\\downdownarrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonright",!0);defineSymbol(math,ams,rel,"","\\downharpoonright",!0);defineSymbol(math,ams,rel,"","\\rightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\leadsto");defineSymbol(math,ams,rel,"","\\Rrightarrow",!0);defineSymbol(math,ams,rel,"","\\restriction");defineSymbol(math,main,textord,"","`");defineSymbol(math,main,textord,"$","\\$");defineSymbol(text$2,main,textord,"$","\\$");defineSymbol(text$2,main,textord,"$","\\textdollar");defineSymbol(math,main,textord,"%","\\%");defineSymbol(text$2,main,textord,"%","\\%");defineSymbol(math,main,textord,"_","\\_");defineSymbol(text$2,main,textord,"_","\\_");defineSymbol(text$2,main,textord,"_","\\textunderscore");defineSymbol(math,main,textord,"","\\angle",!0);defineSymbol(math,main,textord,"","\\infty",!0);defineSymbol(math,main,textord,"","\\prime");defineSymbol(math,main,textord,"","\\triangle");defineSymbol(math,main,textord,"","\\Gamma",!0);defineSymbol(math,main,textord,"","\\Delta",!0);defineSymbol(math,main,textord,"","\\Theta",!0);defineSymbol(math,main,textord,"","\\Lambda",!0);defineSymbol(math,main,textord,"","\\Xi",!0);defineSymbol(math,main,textord,"","\\Pi",!0);defineSymbol(math,main,textord,"","\\Sigma",!0);defineSymbol(math,main,textord,"","\\Upsilon",!0);defineSymbol(math,main,textord,"","\\Phi",!0);defineSymbol(math,main,textord,"","\\Psi",!0);defineSymbol(math,main,textord,"","\\Omega",!0);defineSymbol(math,main,textord,"A","");defineSymbol(math,main,textord,"B","");defineSymbol(math,main,textord,"E","");defineSymbol(math,main,textord,"Z","");defineSymbol(math,main,textord,"H","");defineSymbol(math,main,textord,"I","");defineSymbol(math,main,textord,"K","");defineSymbol(math,main,textord,"M","");defineSymbol(math,main,textord,"N","");defineSymbol(math,main,textord,"O","");defineSymbol(math,main,textord,"P","");defineSymbol(math,main,textord,"T","");defineSymbol(math,main,textord,"X","");defineSymbol(math,main,textord,"","\\neg",!0);defineSymbol(math,main,textord,"","\\lnot");defineSymbol(math,main,textord,"","\\top");defineSymbol(math,main,textord,"","\\bot");defineSymbol(math,main,textord,"","\\emptyset");defineSymbol(math,ams,textord,"","\\varnothing");defineSymbol(math,main,mathord,"","\\alpha",!0);defineSymbol(math,main,mathord,"","\\beta",!0);defineSymbol(math,main,mathord,"","\\gamma",!0);defineSymbol(math,main,mathord,"","\\delta",!0);defineSymbol(math,main,mathord,"","\\epsilon",!0);defineSymbol(math,main,mathord,"","\\zeta",!0);defineSymbol(math,main,mathord,"","\\eta",!0);defineSymbol(math,main,mathord,"","\\theta",!0);defineSymbol(math,main,mathord,"","\\iota",!0);defineSymbol(math,main,mathord,"","\\kappa",!0);defineSymbol(math,main,mathord,"","\\lambda",!0);defineSymbol(math,main,mathord,"","\\mu",!0);defineSymbol(math,main,mathord,"","\\nu",!0);defineSymbol(math,main,mathord,"","\\xi",!0);defineSymbol(math,main,mathord,"","\\omicron",!0);defineSymbol(math,main,mathord,"","\\pi",!0);defineSymbol(math,main,mathord,"","\\rho",!0);defineSymbol(math,main,mathord,"","\\sigma",!0);defineSymbol(math,main,mathord,"","\\tau",!0);defineSymbol(math,main,mathord,"","\\upsilon",!0);defineSymbol(math,main,mathord,"","\\phi",!0);defineSymbol(math,main,mathord,"","\\chi",!0);defineSymbol(math,main,mathord,"","\\psi",!0);defineSymbol(math,main,mathord,"","\\omega",!0);defineSymbol(math,main,mathord,"","\\varepsilon",!0);defineSymbol(math,main,mathord,"","\\vartheta",!0);defineSymbol(math,main,mathord,"","\\varpi",!0);defineSymbol(math,main,mathord,"","\\varrho",!0);defineSymbol(math,main,mathord,"","\\varsigma",!0);defineSymbol(math,main,mathord,"","\\varphi",!0);defineSymbol(math,main,bin,"","*",!0);defineSymbol(math,main,bin,"+","+");defineSymbol(math,main,bin,"","-",!0);defineSymbol(math,main,bin,"","\\cdot",!0);defineSymbol(math,main,bin,"","\\circ",!0);defineSymbol(math,main,bin,"","\\div",!0);defineSymbol(math,main,bin,"","\\pm",!0);defineSymbol(math,main,bin,"","\\times",!0);defineSymbol(math,main,bin,"","\\cap",!0);defineSymbol(math,main,bin,"","\\cup",!0);defineSymbol(math,main,bin,"","\\setminus",!0);defineSymbol(math,main,bin,"","\\land");defineSymbol(math,main,bin,"","\\lor");defineSymbol(math,main,bin,"","\\wedge",!0);defineSymbol(math,main,bin,"","\\vee",!0);defineSymbol(math,main,textord,"","\\surd");defineSymbol(math,main,open,"","\\langle",!0);defineSymbol(math,main,open,"","\\lvert");defineSymbol(math,main,open,"","\\lVert");defineSymbol(math,main,close,"?","?");defineSymbol(math,main,close,"!","!");defineSymbol(math,main,close,"","\\rangle",!0);defineSymbol(math,main,close,"","\\rvert");defineSymbol(math,main,close,"","\\rVert");defineSymbol(math,main,rel,"=","=");defineSymbol(math,main,rel,":",":");defineSymbol(math,main,rel,"","\\approx",!0);defineSymbol(math,main,rel,"","\\cong",!0);defineSymbol(math,main,rel,"","\\ge");defineSymbol(math,main,rel,"","\\geq",!0);defineSymbol(math,main,rel,"","\\gets");defineSymbol(math,main,rel,">","\\gt",!0);defineSymbol(math,main,rel,"","\\in",!0);defineSymbol(math,main,rel,"","\\@not");defineSymbol(math,main,rel,"","\\subset",!0);defineSymbol(math,main,rel,"","\\supset",!0);defineSymbol(math,main,rel,"","\\subseteq",!0);defineSymbol(math,main,rel,"","\\supseteq",!0);defineSymbol(math,ams,rel,"","\\nsubseteq",!0);defineSymbol(math,ams,rel,"","\\nsupseteq",!0);defineSymbol(math,main,rel,"","\\models");defineSymbol(math,main,rel,"","\\leftarrow",!0);defineSymbol(math,main,rel,"","\\le");defineSymbol(math,main,rel,"","\\leq",!0);defineSymbol(math,main,rel,"<","\\lt",!0);defineSymbol(math,main,rel,"","\\rightarrow",!0);defineSymbol(math,main,rel,"","\\to");defineSymbol(math,ams,rel,"","\\ngeq",!0);defineSymbol(math,ams,rel,"","\\nleq",!0);defineSymbol(math,main,spacing,"","\\ ");defineSymbol(math,main,spacing,"","\\space");defineSymbol(math,main,spacing,"","\\nobreakspace");defineSymbol(text$2,main,spacing,"","\\ ");defineSymbol(text$2,main,spacing,""," ");defineSymbol(text$2,main,spacing,"","\\space");defineSymbol(text$2,main,spacing,"","\\nobreakspace");defineSymbol(math,main,spacing,null,"\\nobreak");defineSymbol(math,main,spacing,null,"\\allowbreak");defineSymbol(math,main,punct,",",",");defineSymbol(math,main,punct,";",";");defineSymbol(math,ams,bin,"","\\barwedge",!0);defineSymbol(math,ams,bin,"","\\veebar",!0);defineSymbol(math,main,bin,"","\\odot",!0);defineSymbol(math,main,bin,"","\\oplus",!0);defineSymbol(math,main,bin,"","\\otimes",!0);defineSymbol(math,main,textord,"","\\partial",!0);defineSymbol(math,main,bin,"","\\oslash",!0);defineSymbol(math,ams,bin,"","\\circledcirc",!0);defineSymbol(math,ams,bin,"","\\boxdot",!0);defineSymbol(math,main,bin,"","\\bigtriangleup");defineSymbol(math,main,bin,"","\\bigtriangledown");defineSymbol(math,main,bin,"","\\dagger");defineSymbol(math,main,bin,"","\\diamond");defineSymbol(math,main,bin,"","\\star");defineSymbol(math,main,bin,"","\\triangleleft");defineSymbol(math,main,bin,"","\\triangleright");defineSymbol(math,main,open,"{","\\{");defineSymbol(text$2,main,textord,"{","\\{");defineSymbol(text$2,main,textord,"{","\\textbraceleft");defineSymbol(math,main,close,"}","\\}");defineSymbol(text$2,main,textord,"}","\\}");defineSymbol(text$2,main,textord,"}","\\textbraceright");defineSymbol(math,main,open,"{","\\lbrace");defineSymbol(math,main,close,"}","\\rbrace");defineSymbol(math,main,open,"[","\\lbrack",!0);defineSymbol(text$2,main,textord,"[","\\lbrack",!0);defineSymbol(math,main,close,"]","\\rbrack",!0);defineSymbol(text$2,main,textord,"]","\\rbrack",!0);defineSymbol(math,main,open,"(","\\lparen",!0);defineSymbol(math,main,close,")","\\rparen",!0);defineSymbol(text$2,main,textord,"<","\\textless",!0);defineSymbol(text$2,main,textord,">","\\textgreater",!0);defineSymbol(math,main,open,"","\\lfloor",!0);defineSymbol(math,main,close,"","\\rfloor",!0);defineSymbol(math,main,open,"","\\lceil",!0);defineSymbol(math,main,close,"","\\rceil",!0);defineSymbol(math,main,textord,"\\","\\backslash");defineSymbol(math,main,textord,"","|");defineSymbol(math,main,textord,"","\\vert");defineSymbol(text$2,main,textord,"|","\\textbar",!0);defineSymbol(math,main,textord,"","\\|");defineSymbol(math,main,textord,"","\\Vert");defineSymbol(text$2,main,textord,"","\\textbardbl");defineSymbol(text$2,main,textord,"~","\\textasciitilde");defineSymbol(text$2,main,textord,"\\","\\textbackslash");defineSymbol(text$2,main,textord,"^","\\textasciicircum");defineSymbol(math,main,rel,"","\\uparrow",!0);defineSymbol(math,main,rel,"","\\Uparrow",!0);defineSymbol(math,main,rel,"","\\downarrow",!0);defineSymbol(math,main,rel,"","\\Downarrow",!0);defineSymbol(math,main,rel,"","\\updownarrow",!0);defineSymbol(math,main,rel,"","\\Updownarrow",!0);defineSymbol(math,main,op,"","\\coprod");defineSymbol(math,main,op,"","\\bigvee");defineSymbol(math,main,op,"","\\bigwedge");defineSymbol(math,main,op,"","\\biguplus");defineSymbol(math,main,op,"","\\bigcap");defineSymbol(math,main,op,"","\\bigcup");defineSymbol(math,main,op,"","\\int");defineSymbol(math,main,op,"","\\intop");defineSymbol(math,main,op,"","\\iint");defineSymbol(math,main,op,"","\\iiint");defineSymbol(math,main,op,"","\\prod");defineSymbol(math,main,op,"","\\sum");defineSymbol(math,main,op,"","\\bigotimes");defineSymbol(math,main,op,"","\\bigoplus");defineSymbol(math,main,op,"","\\bigodot");defineSymbol(math,main,op,"","\\oint");defineSymbol(math,main,op,"","\\oiint");defineSymbol(math,main,op,"","\\oiiint");defineSymbol(math,main,op,"","\\bigsqcup");defineSymbol(math,main,op,"","\\smallint");defineSymbol(text$2,main,inner,"","\\textellipsis");defineSymbol(math,main,inner,"","\\mathellipsis");defineSymbol(text$2,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\@cdots",!0);defineSymbol(math,main,inner,"","\\ddots",!0);defineSymbol(math,main,textord,"","\\varvdots");defineSymbol(text$2,main,textord,"","\\varvdots");defineSymbol(math,main,accent,"","\\acute");defineSymbol(math,main,accent,"","\\grave");defineSymbol(math,main,accent,"","\\ddot");defineSymbol(math,main,accent,"~","\\tilde");defineSymbol(math,main,accent,"","\\bar");defineSymbol(math,main,accent,"","\\breve");defineSymbol(math,main,accent,"","\\check");defineSymbol(math,main,accent,"^","\\hat");defineSymbol(math,main,accent,"","\\vec");defineSymbol(math,main,accent,"","\\dot");defineSymbol(math,main,accent,"","\\mathring");defineSymbol(math,main,mathord,"","\\@imath");defineSymbol(math,main,mathord,"","\\@jmath");defineSymbol(math,main,textord,"","");defineSymbol(math,main,textord,"","");defineSymbol(text$2,main,textord,"","\\i",!0);defineSymbol(text$2,main,textord,"","\\j",!0);defineSymbol(text$2,main,textord,"","\\ss",!0);defineSymbol(text$2,main,textord,"","\\ae",!0);defineSymbol(text$2,main,textord,"","\\oe",!0);defineSymbol(text$2,main,textord,"","\\o",!0);defineSymbol(text$2,main,textord,"","\\AE",!0);defineSymbol(text$2,main,textord,"","\\OE",!0);defineSymbol(text$2,main,textord,"","\\O",!0);defineSymbol(text$2,main,accent,"","\\'");defineSymbol(text$2,main,accent,"","\\`");defineSymbol(text$2,main,accent,"","\\^");defineSymbol(text$2,main,accent,"","\\~");defineSymbol(text$2,main,accent,"","\\=");defineSymbol(text$2,main,accent,"","\\u");defineSymbol(text$2,main,accent,"","\\.");defineSymbol(text$2,main,accent,"","\\c");defineSymbol(text$2,main,accent,"","\\r");defineSymbol(text$2,main,accent,"","\\v");defineSymbol(text$2,main,accent,"",'\\"');defineSymbol(text$2,main,accent,"","\\H");defineSymbol(text$2,main,accent,"","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text$2,main,textord,"","--",!0);defineSymbol(text$2,main,textord,"","\\textendash");defineSymbol(text$2,main,textord,"","---",!0);defineSymbol(text$2,main,textord,"","\\textemdash");defineSymbol(text$2,main,textord,"","`",!0);defineSymbol(text$2,main,textord,"","\\textquoteleft");defineSymbol(text$2,main,textord,"","'",!0);defineSymbol(text$2,main,textord,"","\\textquoteright");defineSymbol(text$2,main,textord,"","``",!0);defineSymbol(text$2,main,textord,"","\\textquotedblleft");defineSymbol(text$2,main,textord,"","''",!0);defineSymbol(text$2,main,textord,"","\\textquotedblright");defineSymbol(math,main,textord,"","\\degree",!0);defineSymbol(text$2,main,textord,"","\\degree");defineSymbol(text$2,main,textord,"","\\textdegree",!0);defineSymbol(math,main,textord,"","\\pounds");defineSymbol(math,main,textord,"","\\mathsterling",!0);defineSymbol(text$2,main,textord,"","\\pounds");defineSymbol(text$2,main,textord,"","\\textsterling",!0);defineSymbol(math,ams,textord,"","\\maltese");defineSymbol(text$2,ams,textord,"","\\maltese");var mathTextSymbols='0123456789/@."';for(var i=0;i<mathTextSymbols.length;i++){var ch=mathTextSymbols.charAt(i);defineSymbol(math,main,textord,ch,ch)}var textSymbols='0123456789!@*()-=+";:?/.,';for(var _i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text$2,main,textord,_ch,_ch)}var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var _i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text$2,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C","");defineSymbol(text$2,ams,textord,"C","");defineSymbol(math,ams,textord,"H","");defineSymbol(text$2,ams,textord,"H","");defineSymbol(math,ams,textord,"N","");defineSymbol(text$2,ams,textord,"N","");defineSymbol(math,ams,textord,"P","");defineSymbol(text$2,ams,textord,"P","");defineSymbol(math,ams,textord,"Q","");defineSymbol(text$2,ams,textord,"Q","");defineSymbol(math,ams,textord,"R","");defineSymbol(text$2,ams,textord,"R","");defineSymbol(math,ams,textord,"Z","");defineSymbol(text$2,ams,textord,"Z","");defineSymbol(math,main,mathord,"h","");defineSymbol(text$2,main,mathord,"h","");var wideChar="";for(var _i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56684+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar))}wideChar="";defineSymbol(math,main,mathord,"k",wideChar);defineSymbol(text$2,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar)}var extraLatin="";for(var _i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text$2,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function _(R,P){var I=R.charCodeAt(0),O=R.charCodeAt(1),z=(I-55296)*1024+(O-56320)+65536,L=P==="math"?0:1;if(119808<=z&&z<120484){var F=Math.floor((z-119808)/26);return[wideLatinLetterData[F][2],wideLatinLetterData[F][L]]}else if(120782<=z&&z<=120831){var U=Math.floor((z-120782)/10);return[wideNumeralData[U][2],wideNumeralData[U][L]]}else{if(z===120485||z===120486)return[wideLatinLetterData[0][2],wideLatinLetterData[0][L]];if(120486<z&&z<120782)return["",""];throw new ParseError("Unsupported character: "+R)}},lookupSymbol=function _(R,P,I){return symbols[I][R]&&symbols[I][R].replace&&(R=symbols[I][R].replace),{value:R,metrics:getCharacterMetrics(R,P,I)}},makeSymbol=function _(R,P,I,O,z){var L=lookupSymbol(R,P,I),F=L.metrics;R=L.value;var U;if(F){var V=F.italic;(I==="text"||O&&O.font==="mathit")&&(V=0),U=new SymbolNode(R,F.height,F.depth,V,F.skew,F.width,z)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+R+"' in style '"+P+"' and mode '"+I+"'")),U=new SymbolNode(R,0,0,0,0,0,z);if(O){U.maxFontSize=O.sizeMultiplier,O.style.isTight()&&U.classes.push("mtight");var q=O.getColor();q&&(U.style.color=q)}return U},mathsym=function _(R,P,I,O){return O===void 0&&(O=[]),I.font==="boldsymbol"&&lookupSymbol(R,"Main-Bold",P).metrics?makeSymbol(R,"Main-Bold",P,I,O.concat(["mathbf"])):R==="\\"||symbols[P][R].font==="main"?makeSymbol(R,"Main-Regular",P,I,O):makeSymbol(R,"AMS-Regular",P,I,O.concat(["amsrm"]))},boldsymbol=function _(R,P,I,O,z){return z!=="textord"&&lookupSymbol(R,"Math-BoldItalic",P).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function _(R,P,I){var O=R.mode,z=R.text,L=["mord"],F=O==="math"||O==="text"&&P.font,U=F?P.font:P.fontFamily,V="",q="";if(z.charCodeAt(0)===55349&&([V,q]=wideCharacterFont(z,O)),V.length>0)return makeSymbol(z,V,O,P,L.concat(q));if(U){var W,Y;if(U==="boldsymbol"){var Q=boldsymbol(z,O,P,L,I);W=Q.fontName,Y=[Q.fontClass]}else F?(W=fontMap[U].fontName,Y=[U]):(W=retrieveTextFontName(U,P.fontWeight,P.fontShape),Y=[U,P.fontWeight,P.fontShape]);if(lookupSymbol(z,W,O).metrics)return makeSymbol(z,W,O,P,L.concat(Y));if(ligatures.hasOwnProperty(z)&&W.slice(0,10)==="Typewriter"){for(var ee=[],te=0;te<z.length;te++)ee.push(makeSymbol(z[te],W,O,P,L.concat(Y)));return makeFragment(ee)}}if(I==="mathord")return makeSymbol(z,"Math-Italic",O,P,L.concat(["mathnormal"]));if(I==="textord"){var ie=symbols[O][z]&&symbols[O][z].font;if(ie==="ams"){var ae=retrieveTextFontName("amsrm",P.fontWeight,P.fontShape);return makeSymbol(z,ae,O,P,L.concat("amsrm",P.fontWeight,P.fontShape))}else if(ie==="main"||!ie){var se=retrieveTextFontName("textrm",P.fontWeight,P.fontShape);return makeSymbol(z,se,O,P,L.concat(P.fontWeight,P.fontShape))}else{var le=retrieveTextFontName(ie,P.fontWeight,P.fontShape);return makeSymbol(z,le,O,P,L.concat(le,P.fontWeight,P.fontShape))}}else throw new Error("unexpected type: "+I+" in makeOrd")},canCombine=(_,R)=>{if(createClass(_.classes)!==createClass(R.classes)||_.skew!==R.skew||_.maxFontSize!==R.maxFontSize)return!1;if(_.classes.length===1){var P=_.classes[0];if(P==="mbin"||P==="mord")return!1}for(var I in _.style)if(_.style.hasOwnProperty(I)&&_.style[I]!==R.style[I])return!1;for(var O in R.style)if(R.style.hasOwnProperty(O)&&_.style[O]!==R.style[O])return!1;return!0},tryCombineChars=_=>{for(var R=0;R<_.length-1;R++){var P=_[R],I=_[R+1];P instanceof SymbolNode&&I instanceof SymbolNode&&canCombine(P,I)&&(P.text+=I.text,P.height=Math.max(P.height,I.height),P.depth=Math.max(P.depth,I.depth),P.italic=I.italic,_.splice(R+1,1),R--)}return _},sizeElementFromChildren=function _(R){for(var P=0,I=0,O=0,z=0;z<R.children.length;z++){var L=R.children[z];L.height>P&&(P=L.height),L.depth>I&&(I=L.depth),L.maxFontSize>O&&(O=L.maxFontSize)}R.height=P,R.depth=I,R.maxFontSize=O},makeSpan$2=function _(R,P,I,O){var z=new Span(R,P,I,O);return sizeElementFromChildren(z),z},makeSvgSpan=(_,R,P,I)=>new Span(_,R,P,I),makeLineSpan=function _(R,P,I){var O=makeSpan$2([R],[],P);return O.height=Math.max(I||P.fontMetrics().defaultRuleThickness,P.minRuleThickness),O.style.borderBottomWidth=makeEm(O.height),O.maxFontSize=1,O},makeAnchor=function _(R,P,I,O){var z=new Anchor(R,P,I,O);return sizeElementFromChildren(z),z},makeFragment=function _(R){var P=new DocumentFragment$1(R);return sizeElementFromChildren(P),P},wrapFragment=function _(R,P){return R instanceof DocumentFragment$1?makeSpan$2([],[R],P):R},getVListChildrenAndDepth=function _(R){if(R.positionType==="individualShift"){for(var P=R.children,I=[P[0]],O=-P[0].shift-P[0].elem.depth,z=O,L=1;L<P.length;L++){var F=-P[L].shift-z-P[L].elem.depth,U=F-(P[L-1].elem.height+P[L-1].elem.depth);z=z+F,I.push({type:"kern",size:U}),I.push(P[L])}return{children:I,depth:O}}var V;if(R.positionType==="top"){for(var q=R.positionData,W=0;W<R.children.length;W++){var Y=R.children[W];q-=Y.type==="kern"?Y.size:Y.elem.height+Y.elem.depth}V=q}else if(R.positionType==="bottom")V=-R.positionData;else{var Q=R.children[0];if(Q.type!=="elem")throw new Error('First child must have type "elem".');if(R.positionType==="shift")V=-Q.elem.depth-R.positionData;else if(R.positionType==="firstBaseline")V=-Q.elem.depth;else throw new Error("Invalid positionType "+R.positionType+".")}return{children:R.children,depth:V}},makeVList=function _(R,P){for(var{children:I,depth:O}=getVListChildrenAndDepth(R),z=0,L=0;L<I.length;L++){var F=I[L];if(F.type==="elem"){var U=F.elem;z=Math.max(z,U.maxFontSize,U.height)}}z+=2;var V=makeSpan$2(["pstrut"],[]);V.style.height=makeEm(z);for(var q=[],W=O,Y=O,Q=O,ee=0;ee<I.length;ee++){var te=I[ee];if(te.type==="kern")Q+=te.size;else{var ie=te.elem,ae=te.wrapperClasses||[],se=te.wrapperStyle||{},le=makeSpan$2(ae,[V,ie],void 0,se);le.style.top=makeEm(-z-Q-ie.depth),te.marginLeft&&(le.style.marginLeft=te.marginLeft),te.marginRight&&(le.style.marginRight=te.marginRight),q.push(le),Q+=ie.height+ie.depth}W=Math.min(W,Q),Y=Math.max(Y,Q)}var ce=makeSpan$2(["vlist"],q);ce.style.height=makeEm(Y);var fe;if(W<0){var de=makeSpan$2([],[]),he=makeSpan$2(["vlist"],[de]);he.style.height=makeEm(-W);var pe=makeSpan$2(["vlist-s"],[new SymbolNode("")]);fe=[makeSpan$2(["vlist-r"],[ce,pe]),makeSpan$2(["vlist-r"],[he])]}else fe=[makeSpan$2(["vlist-r"],[ce])];var ge=makeSpan$2(["vlist-t"],fe);return fe.length===2&&ge.classes.push("vlist-t2"),ge.height=Y,ge.depth=-W,ge},makeGlue=(_,R)=>{var P=makeSpan$2(["mspace"],[],R),I=calculateSize(_,R);return P.style.marginRight=makeEm(I),P},retrieveTextFontName=function _(R,P,I){var O="";switch(R){case"amsrm":O="AMS";break;case"textrm":O="Main";break;case"textsf":O="SansSerif";break;case"texttt":O="Typewriter";break;default:O=R}var z;return P==="textbf"&&I==="textit"?z="BoldItalic":P==="textbf"?z="Bold":P==="textit"?z="Italic":z="Regular",O+"-"+z},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function _(R,P){var[I,O,z]=svgData[R],L=new PathNode(I),F=new SvgNode([L],{width:makeEm(O),height:makeEm(z),style:"width:"+makeEm(O),viewBox:"0 0 "+1e3*O+" "+1e3*z,preserveAspectRatio:"xMinYMin"}),U=makeSvgSpan(["overlay"],[F],P);return U.height=z,U.style.height=makeEm(z),U.style.width=makeEm(O),U},buildCommon={fontMap,makeSymbol,mathsym,makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan,makeAnchor,makeFragment,wrapFragment,makeVList,makeOrd,makeGlue,staticSvg,svgData,tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(_){for(var{type:R,names:P,props:I,handler:O,htmlBuilder:z,mathmlBuilder:L}=_,F={type:R,numArgs:I.numArgs,argTypes:I.argTypes,allowedInArgument:!!I.allowedInArgument,allowedInText:!!I.allowedInText,allowedInMath:I.allowedInMath===void 0?!0:I.allowedInMath,numOptionalArgs:I.numOptionalArgs||0,infix:!!I.infix,primitive:!!I.primitive,handler:O},U=0;U<P.length;++U)_functions[P[U]]=F;R&&(z&&(_htmlGroupBuilders[R]=z),L&&(_mathmlGroupBuilders[R]=L))}function defineFunctionBuilders(_){var{type:R,htmlBuilder:P,mathmlBuilder:I}=_;defineFunction({type:R,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:P,mathmlBuilder:I})}var normalizeArgument=function _(R){return R.type==="ordgroup"&&R.body.length===1?R.body[0]:R},ordargument=function _(R){return R.type==="ordgroup"?R.body:[R]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function _(R,P,I,O){O===void 0&&(O=[null,null]);for(var z=[],L=0;L<R.length;L++){var F=buildGroup$1(R[L],P);if(F instanceof DocumentFragment$1){var U=F.children;z.push(...U)}else z.push(F)}if(buildCommon.tryCombineChars(z),!I)return z;var V=P;if(R.length===1){var q=R[0];q.type==="sizing"?V=P.havingSize(q.size):q.type==="styling"&&(V=P.havingStyle(styleMap$1[q.style]))}var W=makeSpan$1([O[0]||"leftmost"],[],P),Y=makeSpan$1([O[1]||"rightmost"],[],P),Q=I==="root";return traverseNonSpaceNodes(z,(ee,te)=>{var ie=te.classes[0],ae=ee.classes[0];ie==="mbin"&&binRightCanceller.includes(ae)?te.classes[0]="mord":ae==="mbin"&&binLeftCanceller.includes(ie)&&(ee.classes[0]="mord")},{node:W},Y,Q),traverseNonSpaceNodes(z,(ee,te)=>{var ie=getTypeOfDomTree(te),ae=getTypeOfDomTree(ee),se=ie&&ae?ee.hasClass("mtight")?tightSpacings[ie][ae]:spacings[ie][ae]:null;if(se)return buildCommon.makeGlue(se,V)},{node:W},Y,Q),z},traverseNonSpaceNodes=function _(R,P,I,O,z){O&&R.push(O);for(var L=0;L<R.length;L++){var F=R[L],U=checkPartialGroup(F);if(U){_(U.children,P,I,null,z);continue}var V=!F.hasClass("mspace");if(V){var q=P(F,I.node);q&&(I.insertAfter?I.insertAfter(q):(R.unshift(q),L++))}V?I.node=F:z&&F.hasClass("newline")&&(I.node=makeSpan$1(["leftmost"])),I.insertAfter=(W=>Y=>{R.splice(W+1,0,Y),L++})(L)}O&&R.pop()},checkPartialGroup=function _(R){return R instanceof DocumentFragment$1||R instanceof Anchor||R instanceof Span&&R.hasClass("enclosing")?R:null},getOutermostNode=function _(R,P){var I=checkPartialGroup(R);if(I){var O=I.children;if(O.length){if(P==="right")return _(O[O.length-1],"right");if(P==="left")return _(O[0],"left")}}return R},getTypeOfDomTree=function _(R,P){return R?(P&&(R=getOutermostNode(R,P)),DomEnum[R.classes[0]]||null):null},makeNullDelimiter=function _(R,P){var I=["nulldelimiter"].concat(R.baseSizingClasses());return makeSpan$1(P.concat(I))},buildGroup$1=function _(R,P,I){if(!R)return makeSpan$1();if(_htmlGroupBuilders[R.type]){var O=_htmlGroupBuilders[R.type](R,P);if(I&&P.size!==I.size){O=makeSpan$1(P.sizingClasses(I),[O],P);var z=P.sizeMultiplier/I.sizeMultiplier;O.height*=z,O.depth*=z}return O}else throw new ParseError("Got group of unknown type: '"+R.type+"'")};function buildHTMLUnbreakable(_,R){var P=makeSpan$1(["base"],_,R),I=makeSpan$1(["strut"]);return I.style.height=makeEm(P.height+P.depth),P.depth&&(I.style.verticalAlign=makeEm(-P.depth)),P.children.unshift(I),P}function buildHTML(_,R){var P=null;_.length===1&&_[0].type==="tag"&&(P=_[0].tag,_=_[0].body);var I=buildExpression$1(_,R,"root"),O;I.length===2&&I[1].hasClass("tag")&&(O=I.pop());for(var z=[],L=[],F=0;F<I.length;F++)if(L.push(I[F]),I[F].hasClass("mbin")||I[F].hasClass("mrel")||I[F].hasClass("allowbreak")){for(var U=!1;F<I.length-1&&I[F+1].hasClass("mspace")&&!I[F+1].hasClass("newline");)F++,L.push(I[F]),I[F].hasClass("nobreak")&&(U=!0);U||(z.push(buildHTMLUnbreakable(L,R)),L=[])}else I[F].hasClass("newline")&&(L.pop(),L.length>0&&(z.push(buildHTMLUnbreakable(L,R)),L=[]),z.push(I[F]));L.length>0&&z.push(buildHTMLUnbreakable(L,R));var V;P?(V=buildHTMLUnbreakable(buildExpression$1(P,R,!0)),V.classes=["tag"],z.push(V)):O&&z.push(O);var q=makeSpan$1(["katex-html"],z);if(q.setAttribute("aria-hidden","true"),V){var W=V.children[0];W.style.height=makeEm(q.height+q.depth),q.depth&&(W.style.verticalAlign=makeEm(-q.depth))}return q}function newDocumentFragment(_){return new DocumentFragment$1(_)}class MathNode{constructor(R,P,I){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=R,this.attributes={},this.children=P||[],this.classes=I||[]}setAttribute(R,P){this.attributes[R]=P}getAttribute(R){return this.attributes[R]}toNode(){var R=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var P in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,P)&&R.setAttribute(P,this.attributes[P]);this.classes.length>0&&(R.className=createClass(this.classes));for(var I=0;I<this.children.length;I++)if(this.children[I]instanceof TextNode&&this.children[I+1]instanceof TextNode){for(var O=this.children[I].toText()+this.children[++I].toText();this.children[I+1]instanceof TextNode;)O+=this.children[++I].toText();R.appendChild(new TextNode(O).toNode())}else R.appendChild(this.children[I].toNode());return R}toMarkup(){var R="<"+this.type;for(var P in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,P)&&(R+=" "+P+'="',R+=utils.escape(this.attributes[P]),R+='"');this.classes.length>0&&(R+=' class ="'+utils.escape(createClass(this.classes))+'"'),R+=">";for(var I=0;I<this.children.length;I++)R+=this.children[I].toMarkup();return R+="</"+this.type+">",R}toText(){return this.children.map(R=>R.toText()).join("")}}class TextNode{constructor(R){this.text=void 0,this.text=R}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}}class SpaceNode{constructor(R){this.width=void 0,this.character=void 0,this.width=R,R>=.05555&&R<=.05556?this.character="":R>=.1666&&R<=.1667?this.character="":R>=.2222&&R<=.2223?this.character="":R>=.2777&&R<=.2778?this.character="":R>=-.05556&&R<=-.05555?this.character="":R>=-.1667&&R<=-.1666?this.character="":R>=-.2223&&R<=-.2222?this.character="":R>=-.2778&&R<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var R=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return R.setAttribute("width",makeEm(this.width)),R}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode,TextNode,SpaceNode,newDocumentFragment},makeText=function _(R,P,I){return symbols[P][R]&&symbols[P][R].replace&&R.charCodeAt(0)!==55349&&!(ligatures.hasOwnProperty(R)&&I&&(I.fontFamily&&I.fontFamily.slice(4,6)==="tt"||I.font&&I.font.slice(4,6)==="tt"))&&(R=symbols[P][R].replace),new mathMLTree.TextNode(R)},makeRow=function _(R){return R.length===1?R[0]:new mathMLTree.MathNode("mrow",R)},getVariant=function _(R,P){if(P.fontFamily==="texttt")return"monospace";if(P.fontFamily==="textsf")return P.fontShape==="textit"&&P.fontWeight==="textbf"?"sans-serif-bold-italic":P.fontShape==="textit"?"sans-serif-italic":P.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(P.fontShape==="textit"&&P.fontWeight==="textbf")return"bold-italic";if(P.fontShape==="textit")return"italic";if(P.fontWeight==="textbf")return"bold";var I=P.font;if(!I||I==="mathnormal")return null;var O=R.mode;if(I==="mathit")return"italic";if(I==="boldsymbol")return R.type==="textord"?"bold":"bold-italic";if(I==="mathbf")return"bold";if(I==="mathbb")return"double-struck";if(I==="mathsfit")return"sans-serif-italic";if(I==="mathfrak")return"fraktur";if(I==="mathscr"||I==="mathcal")return"script";if(I==="mathsf")return"sans-serif";if(I==="mathtt")return"monospace";var z=R.text;if(["\\imath","\\jmath"].includes(z))return null;symbols[O][z]&&symbols[O][z].replace&&(z=symbols[O][z].replace);var L=buildCommon.fontMap[I].fontName;return getCharacterMetrics(z,L,O)?buildCommon.fontMap[I].variant:null};function isNumberPunctuation(_){if(!_)return!1;if(_.type==="mi"&&_.children.length===1){var R=_.children[0];return R instanceof TextNode&&R.text==="."}else if(_.type==="mo"&&_.children.length===1&&_.getAttribute("separator")==="true"&&_.getAttribute("lspace")==="0em"&&_.getAttribute("rspace")==="0em"){var P=_.children[0];return P instanceof TextNode&&P.text===","}else return!1}var buildExpression2=function _(R,P,I){if(R.length===1){var O=buildGroup2(R[0],P);return I&&O instanceof MathNode&&O.type==="mo"&&(O.setAttribute("lspace","0em"),O.setAttribute("rspace","0em")),[O]}for(var z=[],L,F=0;F<R.length;F++){var U=buildGroup2(R[F],P);if(U instanceof MathNode&&L instanceof MathNode){if(U.type==="mtext"&&L.type==="mtext"&&U.getAttribute("mathvariant")===L.getAttribute("mathvariant")){L.children.push(...U.children);continue}else if(U.type==="mn"&&L.type==="mn"){L.children.push(...U.children);continue}else if(isNumberPunctuation(U)&&L.type==="mn"){L.children.push(...U.children);continue}else if(U.type==="mn"&&isNumberPunctuation(L))U.children=[...L.children,...U.children],z.pop();else if((U.type==="msup"||U.type==="msub")&&U.children.length>=1&&(L.type==="mn"||isNumberPunctuation(L))){var V=U.children[0];V instanceof MathNode&&V.type==="mn"&&(V.children=[...L.children,...V.children],z.pop())}else if(L.type==="mi"&&L.children.length===1){var q=L.children[0];if(q instanceof TextNode&&q.text===""&&(U.type==="mo"||U.type==="mi"||U.type==="mn")){var W=U.children[0];W instanceof TextNode&&W.text.length>0&&(W.text=W.text.slice(0,1)+""+W.text.slice(1),z.pop())}}}z.push(U),L=U}return z},buildExpressionRow=function _(R,P,I){return makeRow(buildExpression2(R,P,I))},buildGroup2=function _(R,P){if(!R)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[R.type]){var I=_mathmlGroupBuilders[R.type](R,P);return I}else throw new ParseError("Got group of unknown type: '"+R.type+"'")};function buildMathML(_,R,P,I,O){var z=buildExpression2(_,P),L;z.length===1&&z[0]instanceof MathNode&&["mrow","mtable"].includes(z[0].type)?L=z[0]:L=new mathMLTree.MathNode("mrow",z);var F=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(R)]);F.setAttribute("encoding","application/x-tex");var U=new mathMLTree.MathNode("semantics",[L,F]),V=new mathMLTree.MathNode("math",[U]);V.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),I&&V.setAttribute("display","block");var q=O?"katex":"katex-mathml";return buildCommon.makeSpan([q],[V])}var optionsFromSettings=function _(R){return new Options({style:R.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:R.maxSize,minRuleThickness:R.minRuleThickness})},displayWrap=function _(R,P){if(P.displayMode){var I=["katex-display"];P.leqno&&I.push("leqno"),P.fleqn&&I.push("fleqn"),R=buildCommon.makeSpan(I,[R])}return R},buildTree=function _(R,P,I){var O=optionsFromSettings(I),z;if(I.output==="mathml")return buildMathML(R,P,O,I.displayMode,!0);if(I.output==="html"){var L=buildHTML(R,O);z=buildCommon.makeSpan(["katex"],[L])}else{var F=buildMathML(R,P,O,I.displayMode,!1),U=buildHTML(R,O);z=buildCommon.makeSpan(["katex"],[F,U])}return displayWrap(z,I)},buildHTMLTree=function _(R,P,I){var O=optionsFromSettings(I),z=buildHTML(R,O),L=buildCommon.makeSpan(["katex"],[z]);return displayWrap(L,I)},stretchyCodePoint={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},mathMLnode=function _(R){var P=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[R.replace(/^\\/,"")])]);return P.setAttribute("stretchy","true"),P},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function _(R){return R.type==="ordgroup"?R.body.length:1},svgSpan=function _(R,P){function I(){var F=4e5,U=R.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(U)){var V=R,q=groupLength(V.base),W,Y,Q;if(q>5)U==="widehat"||U==="widecheck"?(W=420,F=2364,Q=.42,Y=U+"4"):(W=312,F=2340,Q=.34,Y="tilde4");else{var ee=[1,1,2,2,3,3][q];U==="widehat"||U==="widecheck"?(F=[0,1062,2364,2364,2364][ee],W=[0,239,300,360,420][ee],Q=[0,.24,.3,.3,.36,.42][ee],Y=U+ee):(F=[0,600,1033,2339,2340][ee],W=[0,260,286,306,312][ee],Q=[0,.26,.286,.3,.306,.34][ee],Y="tilde"+ee)}var te=new PathNode(Y),ie=new SvgNode([te],{width:"100%",height:makeEm(Q),viewBox:"0 0 "+F+" "+W,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[ie],P),minWidth:0,height:Q}}else{var ae=[],se=katexImagesData[U],[le,ce,fe]=se,de=fe/1e3,he=le.length,pe,ge;if(he===1){var be=se[3];pe=["hide-tail"],ge=[be]}else if(he===2)pe=["halfarrow-left","halfarrow-right"],ge=["xMinYMin","xMaxYMin"];else if(he===3)pe=["brace-left","brace-center","brace-right"],ge=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+he+" children.");for(var xe=0;xe<he;xe++){var _e=new PathNode(le[xe]),Se=new SvgNode([_e],{width:"400em",height:makeEm(de),viewBox:"0 0 "+F+" "+fe,preserveAspectRatio:ge[xe]+" slice"}),me=buildCommon.makeSvgSpan([pe[xe]],[Se],P);if(he===1)return{span:me,minWidth:ce,height:de};me.style.height=makeEm(de),ae.push(me)}return{span:buildCommon.makeSpan(["stretchy"],ae,P),minWidth:ce,height:de}}}var{span:O,minWidth:z,height:L}=I();return O.height=L,O.style.height=makeEm(L),z>0&&(O.style.minWidth=makeEm(z)),O},encloseSpan=function _(R,P,I,O,z){var L,F=R.height+R.depth+I+O;if(/fbox|color|angl/.test(P)){if(L=buildCommon.makeSpan(["stretchy",P],[],z),P==="fbox"){var U=z.color&&z.getColor();U&&(L.style.borderColor=U)}}else{var V=[];/^[bx]cancel$/.test(P)&&V.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(P)&&V.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var q=new SvgNode(V,{width:"100%",height:makeEm(F)});L=buildCommon.makeSvgSpan([],[q],z)}return L.height=F,L.style.height=makeEm(F),L},stretchy={encloseSpan,mathMLnode,svgSpan};function assertNodeType(_,R){if(!_||_.type!==R)throw new Error("Expected node of type "+R+", but got "+(_?"node of type "+_.type:String(_)));return _}function assertSymbolNodeType(_){var R=checkSymbolNodeType(_);if(!R)throw new Error("Expected node of symbol group type, but got "+(_?"node of type "+_.type:String(_)));return R}function checkSymbolNodeType(_){return _&&(_.type==="atom"||NON_ATOMS.hasOwnProperty(_.type))?_:null}var htmlBuilder$a=(_,R)=>{var P,I,O;_&&_.type==="supsub"?(I=assertNodeType(_.base,"accent"),P=I.base,_.base=P,O=assertSpan(buildGroup$1(_,R)),_.base=I):(I=assertNodeType(_,"accent"),P=I.base);var z=buildGroup$1(P,R.havingCrampedStyle()),L=I.isShifty&&utils.isCharacterBox(P),F=0;if(L){var U=utils.getBaseElem(P),V=buildGroup$1(U,R.havingCrampedStyle());F=assertSymbolDomNode(V).skew}var q=I.label==="\\c",W=q?z.height+z.depth:Math.min(z.height,R.fontMetrics().xHeight),Y;if(I.isStretchy)Y=stretchy.svgSpan(I,R),Y=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:z},{type:"elem",elem:Y,wrapperClasses:["svg-align"],wrapperStyle:F>0?{width:"calc(100% - "+makeEm(2*F)+")",marginLeft:makeEm(2*F)}:void 0}]},R);else{var Q,ee;I.label==="\\vec"?(Q=buildCommon.staticSvg("vec",R),ee=buildCommon.svgData.vec[1]):(Q=buildCommon.makeOrd({mode:I.mode,text:I.label},R,"textord"),Q=assertSymbolDomNode(Q),Q.italic=0,ee=Q.width,q&&(W+=Q.depth)),Y=buildCommon.makeSpan(["accent-body"],[Q]);var te=I.label==="\\textcircled";te&&(Y.classes.push("accent-full"),W=z.height);var ie=F;te||(ie-=ee/2),Y.style.left=makeEm(ie),I.label==="\\textcircled"&&(Y.style.top=".2em"),Y=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:z},{type:"kern",size:-W},{type:"elem",elem:Y}]},R)}var ae=buildCommon.makeSpan(["mord","accent"],[Y],R);return O?(O.children[0]=ae,O.height=Math.max(ae.height,O.height),O.classes[0]="mord",O):ae},mathmlBuilder$9=(_,R)=>{var P=_.isStretchy?stretchy.mathMLnode(_.label):new mathMLTree.MathNode("mo",[makeText(_.label,_.mode)]),I=new mathMLTree.MathNode("mover",[buildGroup2(_.base,R),P]);return I.setAttribute("accent","true"),I},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(_=>"\\"+_).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(_,R)=>{var P=normalizeArgument(R[0]),I=!NON_STRETCHY_ACCENT_REGEX.test(_.funcName),O=!I||_.funcName==="\\widehat"||_.funcName==="\\widetilde"||_.funcName==="\\widecheck";return{type:"accent",mode:_.parser.mode,label:_.funcName,isStretchy:I,isShifty:O,base:P}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(_,R)=>{var P=R[0],I=_.parser.mode;return I==="math"&&(_.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+_.funcName+" works only in text mode"),I="text"),{type:"accent",mode:I,label:_.funcName,isStretchy:!1,isShifty:!0,base:P}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(_,R)=>{var{parser:P,funcName:I}=_,O=R[0];return{type:"accentUnder",mode:P.mode,label:I,base:O}},htmlBuilder:(_,R)=>{var P=buildGroup$1(_.base,R),I=stretchy.svgSpan(_,R),O=_.label==="\\utilde"?.12:0,z=buildCommon.makeVList({positionType:"top",positionData:P.height,children:[{type:"elem",elem:I,wrapperClasses:["svg-align"]},{type:"kern",size:O},{type:"elem",elem:P}]},R);return buildCommon.makeSpan(["mord","accentunder"],[z],R)},mathmlBuilder:(_,R)=>{var P=stretchy.mathMLnode(_.label),I=new mathMLTree.MathNode("munder",[buildGroup2(_.base,R),P]);return I.setAttribute("accentunder","true"),I}});var paddedNode=_=>{var R=new mathMLTree.MathNode("mpadded",_?[_]:[]);return R.setAttribute("width","+0.6em"),R.setAttribute("lspace","0.3em"),R};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(_,R,P){var{parser:I,funcName:O}=_;return{type:"xArrow",mode:I.mode,label:O,body:R[0],below:P[0]}},htmlBuilder(_,R){var P=R.style,I=R.havingStyle(P.sup()),O=buildCommon.wrapFragment(buildGroup$1(_.body,I,R),R),z=_.label.slice(0,2)==="\\x"?"x":"cd";O.classes.push(z+"-arrow-pad");var L;_.below&&(I=R.havingStyle(P.sub()),L=buildCommon.wrapFragment(buildGroup$1(_.below,I,R),R),L.classes.push(z+"-arrow-pad"));var F=stretchy.svgSpan(_,R),U=-R.fontMetrics().axisHeight+.5*F.height,V=-R.fontMetrics().axisHeight-.5*F.height-.111;(O.depth>.25||_.label==="\\xleftequilibrium")&&(V-=O.depth);var q;if(L){var W=-R.fontMetrics().axisHeight+L.height+.5*F.height+.111;q=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:O,shift:V},{type:"elem",elem:F,shift:U},{type:"elem",elem:L,shift:W}]},R)}else q=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:O,shift:V},{type:"elem",elem:F,shift:U}]},R);return q.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[q],R)},mathmlBuilder(_,R){var P=stretchy.mathMLnode(_.label);P.setAttribute("minsize",_.label.charAt(0)==="x"?"1.75em":"3.0em");var I;if(_.body){var O=paddedNode(buildGroup2(_.body,R));if(_.below){var z=paddedNode(buildGroup2(_.below,R));I=new mathMLTree.MathNode("munderover",[P,z,O])}else I=new mathMLTree.MathNode("mover",[P,O])}else if(_.below){var L=paddedNode(buildGroup2(_.below,R));I=new mathMLTree.MathNode("munder",[P,L])}else I=paddedNode(),I=new mathMLTree.MathNode("mover",[P,I]);return I}});var makeSpan2=buildCommon.makeSpan;function htmlBuilder$9(_,R){var P=buildExpression$1(_.body,R,!0);return makeSpan2([_.mclass],P,R)}function mathmlBuilder$8(_,R){var P,I=buildExpression2(_.body,R);return _.mclass==="minner"?P=new mathMLTree.MathNode("mpadded",I):_.mclass==="mord"?_.isCharacterBox?(P=I[0],P.type="mi"):P=new mathMLTree.MathNode("mi",I):(_.isCharacterBox?(P=I[0],P.type="mo"):P=new mathMLTree.MathNode("mo",I),_.mclass==="mbin"?(P.attributes.lspace="0.22em",P.attributes.rspace="0.22em"):_.mclass==="mpunct"?(P.attributes.lspace="0em",P.attributes.rspace="0.17em"):_.mclass==="mopen"||_.mclass==="mclose"?(P.attributes.lspace="0em",P.attributes.rspace="0em"):_.mclass==="minner"&&(P.attributes.lspace="0.0556em",P.attributes.width="+0.1111em")),P}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(_,R){var{parser:P,funcName:I}=_,O=R[0];return{type:"mclass",mode:P.mode,mclass:"m"+I.slice(5),body:ordargument(O),isCharacterBox:utils.isCharacterBox(O)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});var binrelClass=_=>{var R=_.type==="ordgroup"&&_.body.length?_.body[0]:_;return R.type==="atom"&&(R.family==="bin"||R.family==="rel")?"m"+R.family:"mord"};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(_,R){var{parser:P}=_;return{type:"mclass",mode:P.mode,mclass:binrelClass(R[0]),body:ordargument(R[1]),isCharacterBox:utils.isCharacterBox(R[1])}}});defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(_,R){var{parser:P,funcName:I}=_,O=R[1],z=R[0],L;I!=="\\stackrel"?L=binrelClass(O):L="mrel";var F={type:"op",mode:O.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:I!=="\\stackrel",body:ordargument(O)},U={type:"supsub",mode:z.mode,base:F,sup:I==="\\underset"?null:z,sub:I==="\\underset"?z:null};return{type:"mclass",mode:P.mode,mclass:L,body:[U],isCharacterBox:utils.isCharacterBox(U)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});defineFunction({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(_,R){var{parser:P}=_;return{type:"pmb",mode:P.mode,mclass:binrelClass(R[0]),body:ordargument(R[0])}},htmlBuilder(_,R){var P=buildExpression$1(_.body,R,!0),I=buildCommon.makeSpan([_.mclass],P,R);return I.style.textShadow="0.02em 0.01em 0.04px",I},mathmlBuilder(_,R){var P=buildExpression2(_.body,R),I=new mathMLTree.MathNode("mstyle",P);return I.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),I}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=_=>_.type==="textord"&&_.text==="@",isLabelEnd=(_,R)=>(_.type==="mathord"||_.type==="atom")&&_.text===R;function cdArrow(_,R,P){var I=cdArrowFunctionName[_];switch(I){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return P.callFunction(I,[R[0]],[R[1]]);case"\\uparrow":case"\\downarrow":{var O=P.callFunction("\\\\cdleft",[R[0]],[]),z={type:"atom",text:I,mode:"math",family:"rel"},L=P.callFunction("\\Big",[z],[]),F=P.callFunction("\\\\cdright",[R[1]],[]),U={type:"ordgroup",mode:"math",body:[O,L,F]};return P.callFunction("\\\\cdparent",[U],[])}case"\\\\cdlongequal":return P.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var V={type:"textord",text:"\\Vert",mode:"math"};return P.callFunction("\\Big",[V],[])}default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(_){var R=[];for(_.gullet.beginGroup(),_.gullet.macros.set("\\cr","\\\\\\relax"),_.gullet.beginGroup();;){R.push(_.parseExpression(!1,"\\\\")),_.gullet.endGroup(),_.gullet.beginGroup();var P=_.fetch().text;if(P==="&"||P==="\\\\")_.consume();else if(P==="\\end"){R[R.length-1].length===0&&R.pop();break}else throw new ParseError("Expected \\\\ or \\cr or \\end",_.nextToken)}for(var I=[],O=[I],z=0;z<R.length;z++){for(var L=R[z],F=newCell(),U=0;U<L.length;U++)if(!isStartOfArrow(L[U]))F.body.push(L[U]);else{I.push(F),U+=1;var V=assertSymbolNodeType(L[U]).text,q=new Array(2);if(q[0]={type:"ordgroup",mode:"math",body:[]},q[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(V)>-1))if("<>AV".indexOf(V)>-1)for(var W=0;W<2;W++){for(var Y=!0,Q=U+1;Q<L.length;Q++){if(isLabelEnd(L[Q],V)){Y=!1,U=Q;break}if(isStartOfArrow(L[Q]))throw new ParseError("Missing a "+V+" character to complete a CD arrow.",L[Q]);q[W].body.push(L[Q])}if(Y)throw new ParseError("Missing a "+V+" character to complete a CD arrow.",L[U])}else throw new ParseError('Expected one of "<>AV=|." after @',L[U]);var ee=cdArrow(V,q,_),te={type:"styling",body:[ee],mode:"math",style:"display"};I.push(te),F=newCell()}z%2===0?I.push(F):I.shift(),I=[],O.push(I)}_.gullet.endGroup(),_.gullet.endGroup();var ie=new Array(O[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:O,arraystretch:1,addJot:!0,rowGaps:[null],cols:ie,colSeparationType:"CD",hLinesBeforeRow:new Array(O.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(_,R){var{parser:P,funcName:I}=_;return{type:"cdlabel",mode:P.mode,side:I.slice(4),label:R[0]}},htmlBuilder(_,R){var P=R.havingStyle(R.style.sup()),I=buildCommon.wrapFragment(buildGroup$1(_.label,P,R),R);return I.classes.push("cd-label-"+_.side),I.style.bottom=makeEm(.8-I.depth),I.height=0,I.depth=0,I},mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mrow",[buildGroup2(_.label,R)]);return P=new mathMLTree.MathNode("mpadded",[P]),P.setAttribute("width","0"),_.side==="left"&&P.setAttribute("lspace","-1width"),P.setAttribute("voffset","0.7em"),P=new mathMLTree.MathNode("mstyle",[P]),P.setAttribute("displaystyle","false"),P.setAttribute("scriptlevel","1"),P}});defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(_,R){var{parser:P}=_;return{type:"cdlabelparent",mode:P.mode,fragment:R[0]}},htmlBuilder(_,R){var P=buildCommon.wrapFragment(buildGroup$1(_.fragment,R),R);return P.classes.push("cd-vert-arrow"),P},mathmlBuilder(_,R){return new mathMLTree.MathNode("mrow",[buildGroup2(_.fragment,R)])}});defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(_,R){for(var{parser:P}=_,I=assertNodeType(R[0],"ordgroup"),O=I.body,z="",L=0;L<O.length;L++){var F=assertNodeType(O[L],"textord");z+=F.text}var U=parseInt(z),V;if(isNaN(U))throw new ParseError("\\@char has non-numeric argument "+z);if(U<0||U>=1114111)throw new ParseError("\\@char with invalid code point "+z);return U<=65535?V=String.fromCharCode(U):(U-=65536,V=String.fromCharCode((U>>10)+55296,(U&1023)+56320)),{type:"textord",mode:P.mode,text:V}}});var htmlBuilder$8=(_,R)=>{var P=buildExpression$1(_.body,R.withColor(_.color),!1);return buildCommon.makeFragment(P)},mathmlBuilder$7=(_,R)=>{var P=buildExpression2(_.body,R.withColor(_.color)),I=new mathMLTree.MathNode("mstyle",P);return I.setAttribute("mathcolor",_.color),I};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(_,R){var{parser:P}=_,I=assertNodeType(R[0],"color-token").color,O=R[1];return{type:"color",mode:P.mode,color:I,body:ordargument(O)}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(_,R){var{parser:P,breakOnTokenText:I}=_,O=assertNodeType(R[0],"color-token").color;P.gullet.macros.set("\\current@color",O);var z=P.parseExpression(!0,I);return{type:"color",mode:P.mode,color:O,body:z}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(_,R,P){var{parser:I}=_,O=I.gullet.future().text==="["?I.parseSizeGroup(!0):null,z=!I.settings.displayMode||!I.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:I.mode,newLine:z,size:O&&assertNodeType(O,"size").value}},htmlBuilder(_,R){var P=buildCommon.makeSpan(["mspace"],[],R);return _.newLine&&(P.classes.push("newline"),_.size&&(P.style.marginTop=makeEm(calculateSize(_.size,R)))),P},mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mspace");return _.newLine&&(P.setAttribute("linebreak","newline"),_.size&&P.setAttribute("height",makeEm(calculateSize(_.size,R)))),P}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=_=>{var R=_.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(R))throw new ParseError("Expected a control sequence",_);return R},getRHS=_=>{var R=_.gullet.popToken();return R.text==="="&&(R=_.gullet.popToken(),R.text===" "&&(R=_.gullet.popToken())),R},letCommand=(_,R,P,I)=>{var O=_.gullet.macros.get(P.text);O==null&&(P.noexpand=!0,O={tokens:[P],numArgs:0,unexpandable:!_.gullet.isExpandable(P.text)}),_.gullet.macros.set(R,O,I)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(_){var{parser:R,funcName:P}=_;R.consumeSpaces();var I=R.fetch();if(globalMap[I.text])return(P==="\\global"||P==="\\\\globallong")&&(I.text=globalMap[I.text]),assertNodeType(R.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",I)}});defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_){var{parser:R,funcName:P}=_,I=R.gullet.popToken(),O=I.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(O))throw new ParseError("Expected a control sequence",I);for(var z=0,L,F=[[]];R.gullet.future().text!=="{";)if(I=R.gullet.popToken(),I.text==="#"){if(R.gullet.future().text==="{"){L=R.gullet.future(),F[z].push("{");break}if(I=R.gullet.popToken(),!/^[1-9]$/.test(I.text))throw new ParseError('Invalid argument number "'+I.text+'"');if(parseInt(I.text)!==z+1)throw new ParseError('Argument number "'+I.text+'" out of order');z++,F.push([])}else{if(I.text==="EOF")throw new ParseError("Expected a macro definition");F[z].push(I.text)}var{tokens:U}=R.gullet.consumeArg();return L&&U.unshift(L),(P==="\\edef"||P==="\\xdef")&&(U=R.gullet.expandTokens(U),U.reverse()),R.gullet.macros.set(O,{tokens:U,numArgs:z,delimiters:F},P===globalMap[P]),{type:"internal",mode:R.mode}}});defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_){var{parser:R,funcName:P}=_,I=checkControlSequence(R.gullet.popToken());R.gullet.consumeSpaces();var O=getRHS(R);return letCommand(R,I,O,P==="\\\\globallet"),{type:"internal",mode:R.mode}}});defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_){var{parser:R,funcName:P}=_,I=checkControlSequence(R.gullet.popToken()),O=R.gullet.popToken(),z=R.gullet.popToken();return letCommand(R,I,z,P==="\\\\globalfuture"),R.gullet.pushToken(z),R.gullet.pushToken(O),{type:"internal",mode:R.mode}}});var getMetrics=function _(R,P,I){var O=symbols.math[R]&&symbols.math[R].replace,z=getCharacterMetrics(O||R,P,I);if(!z)throw new Error("Unsupported symbol "+R+" and font size "+P+".");return z},styleWrap=function _(R,P,I,O){var z=I.havingBaseStyle(P),L=buildCommon.makeSpan(O.concat(z.sizingClasses(I)),[R],I),F=z.sizeMultiplier/I.sizeMultiplier;return L.height*=F,L.depth*=F,L.maxFontSize=z.sizeMultiplier,L},centerSpan=function _(R,P,I){var O=P.havingBaseStyle(I),z=(1-P.sizeMultiplier/O.sizeMultiplier)*P.fontMetrics().axisHeight;R.classes.push("delimcenter"),R.style.top=makeEm(z),R.height-=z,R.depth+=z},makeSmallDelim=function _(R,P,I,O,z,L){var F=buildCommon.makeSymbol(R,"Main-Regular",z,O),U=styleWrap(F,P,O,L);return I&&centerSpan(U,O,P),U},mathrmSize=function _(R,P,I,O){return buildCommon.makeSymbol(R,"Size"+P+"-Regular",I,O)},makeLargeDelim=function _(R,P,I,O,z,L){var F=mathrmSize(R,P,z,O),U=styleWrap(buildCommon.makeSpan(["delimsizing","size"+P],[F],O),Style$1.TEXT,O,L);return I&&centerSpan(U,O,Style$1.TEXT),U},makeGlyphSpan=function _(R,P,I){var O;P==="Size1-Regular"?O="delim-size1":O="delim-size4";var z=buildCommon.makeSpan(["delimsizinginner",O],[buildCommon.makeSpan([],[buildCommon.makeSymbol(R,P,I)])]);return{type:"elem",elem:z}},makeInner=function _(R,P,I){var O=fontMetricsData["Size4-Regular"][R.charCodeAt(0)]?fontMetricsData["Size4-Regular"][R.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][R.charCodeAt(0)][4],z=new PathNode("inner",innerPath(R,Math.round(1e3*P))),L=new SvgNode([z],{width:makeEm(O),height:makeEm(P),style:"width:"+makeEm(O),viewBox:"0 0 "+1e3*O+" "+Math.round(1e3*P),preserveAspectRatio:"xMinYMin"}),F=buildCommon.makeSvgSpan([],[L],I);return F.height=P,F.style.height=makeEm(P),F.style.width=makeEm(O),{type:"elem",elem:F}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function _(R,P,I,O,z,L){var F,U,V,q,W="",Y=0;F=V=q=R,U=null;var Q="Size1-Regular";R==="\\uparrow"?V=q="":R==="\\Uparrow"?V=q="":R==="\\downarrow"?F=V="":R==="\\Downarrow"?F=V="":R==="\\updownarrow"?(F="\\uparrow",V="",q="\\downarrow"):R==="\\Updownarrow"?(F="\\Uparrow",V="",q="\\Downarrow"):verts.includes(R)?(V="",W="vert",Y=333):doubleVerts.includes(R)?(V="",W="doublevert",Y=556):R==="["||R==="\\lbrack"?(F="",V="",q="",Q="Size4-Regular",W="lbrack",Y=667):R==="]"||R==="\\rbrack"?(F="",V="",q="",Q="Size4-Regular",W="rbrack",Y=667):R==="\\lfloor"||R===""?(V=F="",q="",Q="Size4-Regular",W="lfloor",Y=667):R==="\\lceil"||R===""?(F="",V=q="",Q="Size4-Regular",W="lceil",Y=667):R==="\\rfloor"||R===""?(V=F="",q="",Q="Size4-Regular",W="rfloor",Y=667):R==="\\rceil"||R===""?(F="",V=q="",Q="Size4-Regular",W="rceil",Y=667):R==="("||R==="\\lparen"?(F="",V="",q="",Q="Size4-Regular",W="lparen",Y=875):R===")"||R==="\\rparen"?(F="",V="",q="",Q="Size4-Regular",W="rparen",Y=875):R==="\\{"||R==="\\lbrace"?(F="",U="",q="",V="",Q="Size4-Regular"):R==="\\}"||R==="\\rbrace"?(F="",U="",q="",V="",Q="Size4-Regular"):R==="\\lgroup"||R===""?(F="",q="",V="",Q="Size4-Regular"):R==="\\rgroup"||R===""?(F="",q="",V="",Q="Size4-Regular"):R==="\\lmoustache"||R===""?(F="",q="",V="",Q="Size4-Regular"):(R==="\\rmoustache"||R==="")&&(F="",q="",V="",Q="Size4-Regular");var ee=getMetrics(F,Q,z),te=ee.height+ee.depth,ie=getMetrics(V,Q,z),ae=ie.height+ie.depth,se=getMetrics(q,Q,z),le=se.height+se.depth,ce=0,fe=1;if(U!==null){var de=getMetrics(U,Q,z);ce=de.height+de.depth,fe=2}var he=te+le+ce,pe=Math.max(0,Math.ceil((P-he)/(fe*ae))),ge=he+pe*fe*ae,be=O.fontMetrics().axisHeight;I&&(be*=O.sizeMultiplier);var xe=ge/2-be,_e=[];if(W.length>0){var Se=ge-te-le,me=Math.round(ge*1e3),Ce=tallDelim(W,Math.round(Se*1e3)),Te=new PathNode(W,Ce),Re=(Y/1e3).toFixed(3)+"em",Pe=(me/1e3).toFixed(3)+"em",Me=new SvgNode([Te],{width:Re,height:Pe,viewBox:"0 0 "+Y+" "+me}),Ae=buildCommon.makeSvgSpan([],[Me],O);Ae.height=me/1e3,Ae.style.width=Re,Ae.style.height=Pe,_e.push({type:"elem",elem:Ae})}else{if(_e.push(makeGlyphSpan(q,Q,z)),_e.push(lap),U===null){var we=ge-te-le+2*lapInEms;_e.push(makeInner(V,we,O))}else{var ke=(ge-te-le-ce)/2+2*lapInEms;_e.push(makeInner(V,ke,O)),_e.push(lap),_e.push(makeGlyphSpan(U,Q,z)),_e.push(lap),_e.push(makeInner(V,ke,O))}_e.push(lap),_e.push(makeGlyphSpan(F,Q,z))}var Ee=O.havingBaseStyle(Style$1.TEXT),ze=buildCommon.makeVList({positionType:"bottom",positionData:xe,children:_e},Ee);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[ze],Ee),Style$1.TEXT,O,L)},vbPad=80,emPad=.08,sqrtSvg=function _(R,P,I,O,z){var L=sqrtPath(R,O,I),F=new PathNode(R,L),U=new SvgNode([F],{width:"400em",height:makeEm(P),viewBox:"0 0 400000 "+I,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[U],z)},makeSqrtImage=function _(R,P){var I=P.havingBaseSizing(),O=traverseSequence("\\surd",R*I.sizeMultiplier,stackLargeDelimiterSequence,I),z=I.sizeMultiplier,L=Math.max(0,P.minRuleThickness-P.fontMetrics().sqrtRuleThickness),F,U=0,V=0,q=0,W;return O.type==="small"?(q=1e3+1e3*L+vbPad,R<1?z=1:R<1.4&&(z=.7),U=(1+L+emPad)/z,V=(1+L)/z,F=sqrtSvg("sqrtMain",U,q,L,P),F.style.minWidth="0.853em",W=.833/z):O.type==="large"?(q=(1e3+vbPad)*sizeToMaxHeight[O.size],V=(sizeToMaxHeight[O.size]+L)/z,U=(sizeToMaxHeight[O.size]+L+emPad)/z,F=sqrtSvg("sqrtSize"+O.size,U,q,L,P),F.style.minWidth="1.02em",W=1/z):(U=R+L+emPad,V=R+L,q=Math.floor(1e3*R+L)+vbPad,F=sqrtSvg("sqrtTall",U,q,L,P),F.style.minWidth="0.742em",W=1.056),F.height=V,F.style.height=makeEm(U),{span:F,advanceWidth:W,ruleWidth:(P.fontMetrics().sqrtRuleThickness+L)*z}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function _(R,P,I,O,z){if(R==="<"||R==="\\lt"||R===""?R="\\langle":(R===">"||R==="\\gt"||R==="")&&(R="\\rangle"),stackLargeDelimiters.includes(R)||stackNeverDelimiters.includes(R))return makeLargeDelim(R,P,!1,I,O,z);if(stackAlwaysDelimiters.includes(R))return makeStackedDelim(R,sizeToMaxHeight[P],!1,I,O,z);throw new ParseError("Illegal delimiter: '"+R+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function _(R){if(R.type==="small")return"Main-Regular";if(R.type==="large")return"Size"+R.size+"-Regular";if(R.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+R.type+"' here.")},traverseSequence=function _(R,P,I,O){for(var z=Math.min(2,3-O.style.size),L=z;L<I.length&&I[L].type!=="stack";L++){var F=getMetrics(R,delimTypeToFont(I[L]),"math"),U=F.height+F.depth;if(I[L].type==="small"){var V=O.havingBaseStyle(I[L].style);U*=V.sizeMultiplier}if(U>P)return I[L]}return I[I.length-1]},makeCustomSizedDelim=function _(R,P,I,O,z,L){R==="<"||R==="\\lt"||R===""?R="\\langle":(R===">"||R==="\\gt"||R==="")&&(R="\\rangle");var F;stackNeverDelimiters.includes(R)?F=stackNeverDelimiterSequence:stackLargeDelimiters.includes(R)?F=stackLargeDelimiterSequence:F=stackAlwaysDelimiterSequence;var U=traverseSequence(R,P,F,O);return U.type==="small"?makeSmallDelim(R,U.style,I,O,z,L):U.type==="large"?makeLargeDelim(R,U.size,I,O,z,L):makeStackedDelim(R,P,I,O,z,L)},makeLeftRightDelim=function _(R,P,I,O,z,L){var F=O.fontMetrics().axisHeight*O.sizeMultiplier,U=901,V=5/O.fontMetrics().ptPerEm,q=Math.max(P-F,I+F),W=Math.max(q/500*U,2*q-V);return makeCustomSizedDelim(R,W,!0,O,z,L)},delimiter={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(_,R){var P=checkSymbolNodeType(_);if(P&&delimiters.includes(P.text))return P;throw P?new ParseError("Invalid delimiter '"+P.text+"' after '"+R.funcName+"'",_):new ParseError("Invalid delimiter type '"+_.type+"'",_)}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(_,R)=>{var P=checkDelimiter(R[0],_);return{type:"delimsizing",mode:_.parser.mode,size:delimiterSizes[_.funcName].size,mclass:delimiterSizes[_.funcName].mclass,delim:P.text}},htmlBuilder:(_,R)=>_.delim==="."?buildCommon.makeSpan([_.mclass]):delimiter.sizedDelim(_.delim,_.size,R,_.mode,[_.mclass]),mathmlBuilder:_=>{var R=[];_.delim!=="."&&R.push(makeText(_.delim,_.mode));var P=new mathMLTree.MathNode("mo",R);_.mclass==="mopen"||_.mclass==="mclose"?P.setAttribute("fence","true"):P.setAttribute("fence","false"),P.setAttribute("stretchy","true");var I=makeEm(delimiter.sizeToMaxHeight[_.size]);return P.setAttribute("minsize",I),P.setAttribute("maxsize",I),P}});function assertParsed(_){if(!_.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(_,R)=>{var P=_.parser.gullet.macros.get("\\current@color");if(P&&typeof P!="string")throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:_.parser.mode,delim:checkDelimiter(R[0],_).text,color:P}}});defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(_,R)=>{var P=checkDelimiter(R[0],_),I=_.parser;++I.leftrightDepth;var O=I.parseExpression(!1);--I.leftrightDepth,I.expect("\\right",!1);var z=assertNodeType(I.parseFunction(),"leftright-right");return{type:"leftright",mode:I.mode,body:O,left:P.text,right:z.delim,rightColor:z.color}},htmlBuilder:(_,R)=>{assertParsed(_);for(var P=buildExpression$1(_.body,R,!0,["mopen","mclose"]),I=0,O=0,z=!1,L=0;L<P.length;L++)P[L].isMiddle?z=!0:(I=Math.max(P[L].height,I),O=Math.max(P[L].depth,O));I*=R.sizeMultiplier,O*=R.sizeMultiplier;var F;if(_.left==="."?F=makeNullDelimiter(R,["mopen"]):F=delimiter.leftRightDelim(_.left,I,O,R,_.mode,["mopen"]),P.unshift(F),z)for(var U=1;U<P.length;U++){var V=P[U],q=V.isMiddle;q&&(P[U]=delimiter.leftRightDelim(q.delim,I,O,q.options,_.mode,[]))}var W;if(_.right===".")W=makeNullDelimiter(R,["mclose"]);else{var Y=_.rightColor?R.withColor(_.rightColor):R;W=delimiter.leftRightDelim(_.right,I,O,Y,_.mode,["mclose"])}return P.push(W),buildCommon.makeSpan(["minner"],P,R)},mathmlBuilder:(_,R)=>{assertParsed(_);var P=buildExpression2(_.body,R);if(_.left!=="."){var I=new mathMLTree.MathNode("mo",[makeText(_.left,_.mode)]);I.setAttribute("fence","true"),P.unshift(I)}if(_.right!=="."){var O=new mathMLTree.MathNode("mo",[makeText(_.right,_.mode)]);O.setAttribute("fence","true"),_.rightColor&&O.setAttribute("mathcolor",_.rightColor),P.push(O)}return makeRow(P)}});defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(_,R)=>{var P=checkDelimiter(R[0],_);if(!_.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",P);return{type:"middle",mode:_.parser.mode,delim:P.text}},htmlBuilder:(_,R)=>{var P;if(_.delim===".")P=makeNullDelimiter(R,[]);else{P=delimiter.sizedDelim(_.delim,1,R,_.mode,[]);var I={delim:_.delim,options:R};P.isMiddle=I}return P},mathmlBuilder:(_,R)=>{var P=_.delim==="\\vert"||_.delim==="|"?makeText("|","text"):makeText(_.delim,_.mode),I=new mathMLTree.MathNode("mo",[P]);return I.setAttribute("fence","true"),I.setAttribute("lspace","0.05em"),I.setAttribute("rspace","0.05em"),I}});var htmlBuilder$7=(_,R)=>{var P=buildCommon.wrapFragment(buildGroup$1(_.body,R),R),I=_.label.slice(1),O=R.sizeMultiplier,z,L=0,F=utils.isCharacterBox(_.body);if(I==="sout")z=buildCommon.makeSpan(["stretchy","sout"]),z.height=R.fontMetrics().defaultRuleThickness/O,L=-.5*R.fontMetrics().xHeight;else if(I==="phase"){var U=calculateSize({number:.6,unit:"pt"},R),V=calculateSize({number:.35,unit:"ex"},R),q=R.havingBaseSizing();O=O/q.sizeMultiplier;var W=P.height+P.depth+U+V;P.style.paddingLeft=makeEm(W/2+U);var Y=Math.floor(1e3*W*O),Q=phasePath(Y),ee=new SvgNode([new PathNode("phase",Q)],{width:"400em",height:makeEm(Y/1e3),viewBox:"0 0 400000 "+Y,preserveAspectRatio:"xMinYMin slice"});z=buildCommon.makeSvgSpan(["hide-tail"],[ee],R),z.style.height=makeEm(W),L=P.depth+U+V}else{/cancel/.test(I)?F||P.classes.push("cancel-pad"):I==="angl"?P.classes.push("anglpad"):P.classes.push("boxpad");var te=0,ie=0,ae=0;/box/.test(I)?(ae=Math.max(R.fontMetrics().fboxrule,R.minRuleThickness),te=R.fontMetrics().fboxsep+(I==="colorbox"?0:ae),ie=te):I==="angl"?(ae=Math.max(R.fontMetrics().defaultRuleThickness,R.minRuleThickness),te=4*ae,ie=Math.max(0,.25-P.depth)):(te=F?.2:0,ie=te),z=stretchy.encloseSpan(P,I,te,ie,R),/fbox|boxed|fcolorbox/.test(I)?(z.style.borderStyle="solid",z.style.borderWidth=makeEm(ae)):I==="angl"&&ae!==.049&&(z.style.borderTopWidth=makeEm(ae),z.style.borderRightWidth=makeEm(ae)),L=P.depth+ie,_.backgroundColor&&(z.style.backgroundColor=_.backgroundColor,_.borderColor&&(z.style.borderColor=_.borderColor))}var se;if(_.backgroundColor)se=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:z,shift:L},{type:"elem",elem:P,shift:0}]},R);else{var le=/cancel|phase/.test(I)?["svg-align"]:[];se=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:P,shift:0},{type:"elem",elem:z,shift:L,wrapperClasses:le}]},R)}return/cancel/.test(I)&&(se.height=P.height,se.depth=P.depth),/cancel/.test(I)&&!F?buildCommon.makeSpan(["mord","cancel-lap"],[se],R):buildCommon.makeSpan(["mord"],[se],R)},mathmlBuilder$6=(_,R)=>{var P=0,I=new mathMLTree.MathNode(_.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup2(_.body,R)]);switch(_.label){case"\\cancel":I.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":I.setAttribute("notation","downdiagonalstrike");break;case"\\phase":I.setAttribute("notation","phasorangle");break;case"\\sout":I.setAttribute("notation","horizontalstrike");break;case"\\fbox":I.setAttribute("notation","box");break;case"\\angl":I.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(P=R.fontMetrics().fboxsep*R.fontMetrics().ptPerEm,I.setAttribute("width","+"+2*P+"pt"),I.setAttribute("height","+"+2*P+"pt"),I.setAttribute("lspace",P+"pt"),I.setAttribute("voffset",P+"pt"),_.label==="\\fcolorbox"){var O=Math.max(R.fontMetrics().fboxrule,R.minRuleThickness);I.setAttribute("style","border: "+O+"em solid "+String(_.borderColor))}break;case"\\xcancel":I.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return _.backgroundColor&&I.setAttribute("mathbackground",_.backgroundColor),I};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(_,R,P){var{parser:I,funcName:O}=_,z=assertNodeType(R[0],"color-token").color,L=R[1];return{type:"enclose",mode:I.mode,label:O,backgroundColor:z,body:L}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(_,R,P){var{parser:I,funcName:O}=_,z=assertNodeType(R[0],"color-token").color,L=assertNodeType(R[1],"color-token").color,F=R[2];return{type:"enclose",mode:I.mode,label:O,backgroundColor:L,borderColor:z,body:F}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(_,R){var{parser:P}=_;return{type:"enclose",mode:P.mode,label:"\\fbox",body:R[0]}}});defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(_,R){var{parser:P,funcName:I}=_,O=R[0];return{type:"enclose",mode:P.mode,label:I,body:O}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(_,R){var{parser:P}=_;return{type:"enclose",mode:P.mode,label:"\\angl",body:R[0]}}});var _environments={};function defineEnvironment(_){for(var{type:R,names:P,props:I,handler:O,htmlBuilder:z,mathmlBuilder:L}=_,F={type:R,numArgs:I.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:O},U=0;U<P.length;++U)_environments[P[U]]=F;z&&(_htmlGroupBuilders[R]=z),L&&(_mathmlGroupBuilders[R]=L)}var _macros={};function defineMacro(_,R){_macros[_]=R}function getHLines(_){var R=[];_.consumeSpaces();var P=_.fetch().text;for(P==="\\relax"&&(_.consume(),_.consumeSpaces(),P=_.fetch().text);P==="\\hline"||P==="\\hdashline";)_.consume(),R.push(P==="\\hdashline"),_.consumeSpaces(),P=_.fetch().text;return R}var validateAmsEnvironmentContext=_=>{var R=_.parser.settings;if(!R.displayMode)throw new ParseError("{"+_.envName+"} can be used only in display mode.")};function getAutoTag(_){if(_.indexOf("ed")===-1)return _.indexOf("*")===-1}function parseArray(_,R,P){var{hskipBeforeAndAfter:I,addJot:O,cols:z,arraystretch:L,colSeparationType:F,autoTag:U,singleRow:V,emptySingleRow:q,maxNumCols:W,leqno:Y}=R;if(_.gullet.beginGroup(),V||_.gullet.macros.set("\\cr","\\\\\\relax"),!L){var Q=_.gullet.expandMacroAsText("\\arraystretch");if(Q==null)L=1;else if(L=parseFloat(Q),!L||L<0)throw new ParseError("Invalid \\arraystretch: "+Q)}_.gullet.beginGroup();var ee=[],te=[ee],ie=[],ae=[],se=U!=null?[]:void 0;function le(){U&&_.gullet.macros.set("\\@eqnsw","1",!0)}function ce(){se&&(_.gullet.macros.get("\\df@tag")?(se.push(_.subparse([new Token("\\df@tag")])),_.gullet.macros.set("\\df@tag",void 0,!0)):se.push(!!U&&_.gullet.macros.get("\\@eqnsw")==="1"))}for(le(),ae.push(getHLines(_));;){var fe=_.parseExpression(!1,V?"\\end":"\\\\");_.gullet.endGroup(),_.gullet.beginGroup(),fe={type:"ordgroup",mode:_.mode,body:fe},P&&(fe={type:"styling",mode:_.mode,style:P,body:[fe]}),ee.push(fe);var de=_.fetch().text;if(de==="&"){if(W&&ee.length===W){if(V||F)throw new ParseError("Too many tab characters: &",_.nextToken);_.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}_.consume()}else if(de==="\\end"){ce(),ee.length===1&&fe.type==="styling"&&fe.body[0].body.length===0&&(te.length>1||!q)&&te.pop(),ae.length<te.length+1&&ae.push([]);break}else if(de==="\\\\"){_.consume();var he=void 0;_.gullet.future().text!==" "&&(he=_.parseSizeGroup(!0)),ie.push(he?he.value:null),ce(),ae.push(getHLines(_)),ee=[],te.push(ee),le()}else throw new ParseError("Expected & or \\\\ or \\cr or \\end",_.nextToken)}return _.gullet.endGroup(),_.gullet.endGroup(),{type:"array",mode:_.mode,addJot:O,arraystretch:L,body:te,cols:z,rowGaps:ie,hskipBeforeAndAfter:I,hLinesBeforeRow:ae,colSeparationType:F,tags:se,leqno:Y}}function dCellStyle(_){return _.slice(0,1)==="d"?"display":"text"}var htmlBuilder$6=function _(R,P){var I,O,z=R.body.length,L=R.hLinesBeforeRow,F=0,U=new Array(z),V=[],q=Math.max(P.fontMetrics().arrayRuleWidth,P.minRuleThickness),W=1/P.fontMetrics().ptPerEm,Y=5*W;if(R.colSeparationType&&R.colSeparationType==="small"){var Q=P.havingStyle(Style$1.SCRIPT).sizeMultiplier;Y=.2778*(Q/P.sizeMultiplier)}var ee=R.colSeparationType==="CD"?calculateSize({number:3,unit:"ex"},P):12*W,te=3*W,ie=R.arraystretch*ee,ae=.7*ie,se=.3*ie,le=0;function ce(Ne){for(var Be=0;Be<Ne.length;++Be)Be>0&&(le+=.25),V.push({pos:le,isDashed:Ne[Be]})}for(ce(L[0]),I=0;I<R.body.length;++I){var fe=R.body[I],de=ae,he=se;F<fe.length&&(F=fe.length);var pe=new Array(fe.length);for(O=0;O<fe.length;++O){var ge=buildGroup$1(fe[O],P);he<ge.depth&&(he=ge.depth),de<ge.height&&(de=ge.height),pe[O]=ge}var be=R.rowGaps[I],xe=0;be&&(xe=calculateSize(be,P),xe>0&&(xe+=se,he<xe&&(he=xe),xe=0)),R.addJot&&(he+=te),pe.height=de,pe.depth=he,le+=de,pe.pos=le,le+=he+xe,U[I]=pe,ce(L[I+1])}var _e=le/2+P.fontMetrics().axisHeight,Se=R.cols||[],me=[],Ce,Te,Re=[];if(R.tags&&R.tags.some(Ne=>Ne))for(I=0;I<z;++I){var Pe=U[I],Me=Pe.pos-_e,Ae=R.tags[I],we=void 0;Ae===!0?we=buildCommon.makeSpan(["eqn-num"],[],P):Ae===!1?we=buildCommon.makeSpan([],[],P):we=buildCommon.makeSpan([],buildExpression$1(Ae,P,!0),P),we.depth=Pe.depth,we.height=Pe.height,Re.push({type:"elem",elem:we,shift:Me})}for(O=0,Te=0;O<F||Te<Se.length;++O,++Te){for(var ke=Se[Te]||{},Ee=!0;ke.type==="separator";){if(Ee||(Ce=buildCommon.makeSpan(["arraycolsep"],[]),Ce.style.width=makeEm(P.fontMetrics().doubleRuleSep),me.push(Ce)),ke.separator==="|"||ke.separator===":"){var ze=ke.separator==="|"?"solid":"dashed",je=buildCommon.makeSpan(["vertical-separator"],[],P);je.style.height=makeEm(le),je.style.borderRightWidth=makeEm(q),je.style.borderRightStyle=ze,je.style.margin="0 "+makeEm(-q/2);var Ke=le-_e;Ke&&(je.style.verticalAlign=makeEm(-Ke)),me.push(je)}else throw new ParseError("Invalid separator type: "+ke.separator);Te++,ke=Se[Te]||{},Ee=!1}if(!(O>=F)){var He=void 0;(O>0||R.hskipBeforeAndAfter)&&(He=utils.deflt(ke.pregap,Y),He!==0&&(Ce=buildCommon.makeSpan(["arraycolsep"],[]),Ce.style.width=makeEm(He),me.push(Ce)));var Ze=[];for(I=0;I<z;++I){var Le=U[I],Xe=Le[O];if(Xe){var Ye=Le.pos-_e;Xe.depth=Le.depth,Xe.height=Le.height,Ze.push({type:"elem",elem:Xe,shift:Ye})}}Ze=buildCommon.makeVList({positionType:"individualShift",children:Ze},P),Ze=buildCommon.makeSpan(["col-align-"+(ke.align||"c")],[Ze]),me.push(Ze),(O<F-1||R.hskipBeforeAndAfter)&&(He=utils.deflt(ke.postgap,Y),He!==0&&(Ce=buildCommon.makeSpan(["arraycolsep"],[]),Ce.style.width=makeEm(He),me.push(Ce)))}}if(U=buildCommon.makeSpan(["mtable"],me),V.length>0){for(var Ve=buildCommon.makeLineSpan("hline",P,q),dt=buildCommon.makeLineSpan("hdashline",P,q),ye=[{type:"elem",elem:U,shift:0}];V.length>0;){var Ge=V.pop(),Fe=Ge.pos-_e;Ge.isDashed?ye.push({type:"elem",elem:dt,shift:Fe}):ye.push({type:"elem",elem:Ve,shift:Fe})}U=buildCommon.makeVList({positionType:"individualShift",children:ye},P)}if(Re.length===0)return buildCommon.makeSpan(["mord"],[U],P);var Ie=buildCommon.makeVList({positionType:"individualShift",children:Re},P);return Ie=buildCommon.makeSpan(["tag"],[Ie],P),buildCommon.makeFragment([U,Ie])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$5=function _(R,P){for(var I=[],O=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),z=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),L=0;L<R.body.length;L++){for(var F=R.body[L],U=[],V=0;V<F.length;V++)U.push(new mathMLTree.MathNode("mtd",[buildGroup2(F[V],P)]));R.tags&&R.tags[L]&&(U.unshift(O),U.push(O),R.leqno?U.unshift(z):U.push(z)),I.push(new mathMLTree.MathNode("mtr",U))}var q=new mathMLTree.MathNode("mtable",I),W=R.arraystretch===.5?.1:.16+R.arraystretch-1+(R.addJot?.09:0);q.setAttribute("rowspacing",makeEm(W));var Y="",Q="";if(R.cols&&R.cols.length>0){var ee=R.cols,te="",ie=!1,ae=0,se=ee.length;ee[0].type==="separator"&&(Y+="top ",ae=1),ee[ee.length-1].type==="separator"&&(Y+="bottom ",se-=1);for(var le=ae;le<se;le++)ee[le].type==="align"?(Q+=alignMap[ee[le].align],ie&&(te+="none "),ie=!0):ee[le].type==="separator"&&ie&&(te+=ee[le].separator==="|"?"solid ":"dashed ",ie=!1);q.setAttribute("columnalign",Q.trim()),/[sd]/.test(te)&&q.setAttribute("columnlines",te.trim())}if(R.colSeparationType==="align"){for(var ce=R.cols||[],fe="",de=1;de<ce.length;de++)fe+=de%2?"0em ":"1em ";q.setAttribute("columnspacing",fe.trim())}else R.colSeparationType==="alignat"||R.colSeparationType==="gather"?q.setAttribute("columnspacing","0em"):R.colSeparationType==="small"?q.setAttribute("columnspacing","0.2778em"):R.colSeparationType==="CD"?q.setAttribute("columnspacing","0.5em"):q.setAttribute("columnspacing","1em");var he="",pe=R.hLinesBeforeRow;Y+=pe[0].length>0?"left ":"",Y+=pe[pe.length-1].length>0?"right ":"";for(var ge=1;ge<pe.length-1;ge++)he+=pe[ge].length===0?"none ":pe[ge][0]?"dashed ":"solid ";return/[sd]/.test(he)&&q.setAttribute("rowlines",he.trim()),Y!==""&&(q=new mathMLTree.MathNode("menclose",[q]),q.setAttribute("notation",Y.trim())),R.arraystretch&&R.arraystretch<1&&(q=new mathMLTree.MathNode("mstyle",[q]),q.setAttribute("scriptlevel","1")),q},alignedHandler=function _(R,P){R.envName.indexOf("ed")===-1&&validateAmsEnvironmentContext(R);var I=[],O=R.envName.indexOf("at")>-1?"alignat":"align",z=R.envName==="split",L=parseArray(R.parser,{cols:I,addJot:!0,autoTag:z?void 0:getAutoTag(R.envName),emptySingleRow:!0,colSeparationType:O,maxNumCols:z?2:void 0,leqno:R.parser.settings.leqno},"display"),F,U=0,V={type:"ordgroup",mode:R.mode,body:[]};if(P[0]&&P[0].type==="ordgroup"){for(var q="",W=0;W<P[0].body.length;W++){var Y=assertNodeType(P[0].body[W],"textord");q+=Y.text}F=Number(q),U=F*2}var Q=!U;L.body.forEach(function(ae){for(var se=1;se<ae.length;se+=2){var le=assertNodeType(ae[se],"styling"),ce=assertNodeType(le.body[0],"ordgroup");ce.body.unshift(V)}if(Q)U<ae.length&&(U=ae.length);else{var fe=ae.length/2;if(F<fe)throw new ParseError("Too many math in a row: "+("expected "+F+", but got "+fe),ae[0])}});for(var ee=0;ee<U;++ee){var te="r",ie=0;ee%2===1?te="l":ee>0&&Q&&(ie=1),I[ee]={type:"align",align:te,pregap:ie,postgap:0}}return L.colSeparationType=Q?"align":"alignat",L};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(_,R){var P=checkSymbolNodeType(R[0]),I=P?[R[0]]:assertNodeType(R[0],"ordgroup").body,O=I.map(function(L){var F=assertSymbolNodeType(L),U=F.text;if("lcr".indexOf(U)!==-1)return{type:"align",align:U};if(U==="|")return{type:"separator",separator:"|"};if(U===":")return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+U,L)}),z={cols:O,hskipBeforeAndAfter:!0,maxNumCols:O.length};return parseArray(_.parser,z,dCellStyle(_.envName))},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(_){var R={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[_.envName.replace("*","")],P="c",I={hskipBeforeAndAfter:!1,cols:[{type:"align",align:P}]};if(_.envName.charAt(_.envName.length-1)==="*"){var O=_.parser;if(O.consumeSpaces(),O.fetch().text==="["){if(O.consume(),O.consumeSpaces(),P=O.fetch().text,"lcr".indexOf(P)===-1)throw new ParseError("Expected l or c or r",O.nextToken);O.consume(),O.consumeSpaces(),O.expect("]"),O.consume(),I.cols=[{type:"align",align:P}]}}var z=parseArray(_.parser,I,dCellStyle(_.envName)),L=Math.max(0,...z.body.map(F=>F.length));return z.cols=new Array(L).fill({type:"align",align:P}),R?{type:"leftright",mode:_.mode,body:[z],left:R[0],right:R[1],rightColor:void 0}:z},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(_){var R={arraystretch:.5},P=parseArray(_.parser,R,"script");return P.colSeparationType="small",P},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(_,R){var P=checkSymbolNodeType(R[0]),I=P?[R[0]]:assertNodeType(R[0],"ordgroup").body,O=I.map(function(L){var F=assertSymbolNodeType(L),U=F.text;if("lc".indexOf(U)!==-1)return{type:"align",align:U};throw new ParseError("Unknown column alignment: "+U,L)});if(O.length>1)throw new ParseError("{subarray} can contain only one column");var z={cols:O,hskipBeforeAndAfter:!1,arraystretch:.5};if(z=parseArray(_.parser,z,"script"),z.body.length>0&&z.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return z},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(_){var R={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},P=parseArray(_.parser,R,dCellStyle(_.envName));return{type:"leftright",mode:_.mode,body:[P],left:_.envName.indexOf("r")>-1?".":"\\{",right:_.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(_){["gather","gather*"].includes(_.envName)&&validateAmsEnvironmentContext(_);var R={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(_.envName),emptySingleRow:!0,leqno:_.parser.settings.leqno};return parseArray(_.parser,R,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(_){validateAmsEnvironmentContext(_);var R={autoTag:getAutoTag(_.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:_.parser.settings.leqno};return parseArray(_.parser,R,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler(_){return validateAmsEnvironmentContext(_),parseCD(_.parser)},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineMacro("\\nonumber","\\gdef\\@eqnsw{0}");defineMacro("\\notag","\\nonumber");defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(_,R){throw new ParseError(_.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(_,R){var{parser:P,funcName:I}=_,O=R[0];if(O.type!=="ordgroup")throw new ParseError("Invalid environment name",O);for(var z="",L=0;L<O.body.length;++L)z+=assertNodeType(O.body[L],"textord").text;if(I==="\\begin"){if(!environments.hasOwnProperty(z))throw new ParseError("No such environment: "+z,O);var F=environments[z],{args:U,optArgs:V}=P.parseArguments("\\begin{"+z+"}",F),q={mode:P.mode,envName:z,parser:P},W=F.handler(q,U,V);P.expect("\\end",!1);var Y=P.nextToken,Q=assertNodeType(P.parseFunction(),"environment");if(Q.name!==z)throw new ParseError("Mismatch: \\begin{"+z+"} matched by \\end{"+Q.name+"}",Y);return W}return{type:"environment",mode:P.mode,name:z,nameGroup:O}}});var htmlBuilder$5=(_,R)=>{var P=_.font,I=R.withFont(P);return buildGroup$1(_.body,I)},mathmlBuilder$4=(_,R)=>{var P=_.font,I=R.withFont(P);return buildGroup2(_.body,I)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(_,R)=>{var{parser:P,funcName:I}=_,O=normalizeArgument(R[0]),z=I;return z in fontAliases&&(z=fontAliases[z]),{type:"font",mode:P.mode,font:z.slice(1),body:O}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(_,R)=>{var{parser:P}=_,I=R[0],O=utils.isCharacterBox(I);return{type:"mclass",mode:P.mode,mclass:binrelClass(I),body:[{type:"font",mode:P.mode,font:"boldsymbol",body:I}],isCharacterBox:O}}});defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(_,R)=>{var{parser:P,funcName:I,breakOnTokenText:O}=_,{mode:z}=P,L=P.parseExpression(!0,O),F="math"+I.slice(1);return{type:"font",mode:z,font:F,body:{type:"ordgroup",mode:P.mode,body:L}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(_,R)=>{var P=R;return _==="display"?P=P.id>=Style$1.SCRIPT.id?P.text():Style$1.DISPLAY:_==="text"&&P.size===Style$1.DISPLAY.size?P=Style$1.TEXT:_==="script"?P=Style$1.SCRIPT:_==="scriptscript"&&(P=Style$1.SCRIPTSCRIPT),P},htmlBuilder$4=(_,R)=>{var P=adjustStyle(_.size,R.style),I=P.fracNum(),O=P.fracDen(),z;z=R.havingStyle(I);var L=buildGroup$1(_.numer,z,R);if(_.continued){var F=8.5/R.fontMetrics().ptPerEm,U=3.5/R.fontMetrics().ptPerEm;L.height=L.height<F?F:L.height,L.depth=L.depth<U?U:L.depth}z=R.havingStyle(O);var V=buildGroup$1(_.denom,z,R),q,W,Y;_.hasBarLine?(_.barSize?(W=calculateSize(_.barSize,R),q=buildCommon.makeLineSpan("frac-line",R,W)):q=buildCommon.makeLineSpan("frac-line",R),W=q.height,Y=q.height):(q=null,W=0,Y=R.fontMetrics().defaultRuleThickness);var Q,ee,te;P.size===Style$1.DISPLAY.size||_.size==="display"?(Q=R.fontMetrics().num1,W>0?ee=3*Y:ee=7*Y,te=R.fontMetrics().denom1):(W>0?(Q=R.fontMetrics().num2,ee=Y):(Q=R.fontMetrics().num3,ee=3*Y),te=R.fontMetrics().denom2);var ie;if(q){var se=R.fontMetrics().axisHeight;Q-L.depth-(se+.5*W)<ee&&(Q+=ee-(Q-L.depth-(se+.5*W))),se-.5*W-(V.height-te)<ee&&(te+=ee-(se-.5*W-(V.height-te)));var le=-(se-.5*W);ie=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:V,shift:te},{type:"elem",elem:q,shift:le},{type:"elem",elem:L,shift:-Q}]},R)}else{var ae=Q-L.depth-(V.height-te);ae<ee&&(Q+=.5*(ee-ae),te+=.5*(ee-ae)),ie=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:V,shift:te},{type:"elem",elem:L,shift:-Q}]},R)}z=R.havingStyle(P),ie.height*=z.sizeMultiplier/R.sizeMultiplier,ie.depth*=z.sizeMultiplier/R.sizeMultiplier;var ce;P.size===Style$1.DISPLAY.size?ce=R.fontMetrics().delim1:P.size===Style$1.SCRIPTSCRIPT.size?ce=R.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:ce=R.fontMetrics().delim2;var fe,de;return _.leftDelim==null?fe=makeNullDelimiter(R,["mopen"]):fe=delimiter.customSizedDelim(_.leftDelim,ce,!0,R.havingStyle(P),_.mode,["mopen"]),_.continued?de=buildCommon.makeSpan([]):_.rightDelim==null?de=makeNullDelimiter(R,["mclose"]):de=delimiter.customSizedDelim(_.rightDelim,ce,!0,R.havingStyle(P),_.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(z.sizingClasses(R)),[fe,buildCommon.makeSpan(["mfrac"],[ie]),de],R)},mathmlBuilder$3=(_,R)=>{var P=new mathMLTree.MathNode("mfrac",[buildGroup2(_.numer,R),buildGroup2(_.denom,R)]);if(!_.hasBarLine)P.setAttribute("linethickness","0px");else if(_.barSize){var I=calculateSize(_.barSize,R);P.setAttribute("linethickness",makeEm(I))}var O=adjustStyle(_.size,R.style);if(O.size!==R.style.size){P=new mathMLTree.MathNode("mstyle",[P]);var z=O.size===Style$1.DISPLAY.size?"true":"false";P.setAttribute("displaystyle",z),P.setAttribute("scriptlevel","0")}if(_.leftDelim!=null||_.rightDelim!=null){var L=[];if(_.leftDelim!=null){var F=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(_.leftDelim.replace("\\",""))]);F.setAttribute("fence","true"),L.push(F)}if(L.push(P),_.rightDelim!=null){var U=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(_.rightDelim.replace("\\",""))]);U.setAttribute("fence","true"),L.push(U)}return makeRow(L)}return P};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(_,R)=>{var{parser:P,funcName:I}=_,O=R[0],z=R[1],L,F=null,U=null,V="auto";switch(I){case"\\dfrac":case"\\frac":case"\\tfrac":L=!0;break;case"\\\\atopfrac":L=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":L=!1,F="(",U=")";break;case"\\\\bracefrac":L=!1,F="\\{",U="\\}";break;case"\\\\brackfrac":L=!1,F="[",U="]";break;default:throw new Error("Unrecognized genfrac command")}switch(I){case"\\dfrac":case"\\dbinom":V="display";break;case"\\tfrac":case"\\tbinom":V="text";break}return{type:"genfrac",mode:P.mode,continued:!1,numer:O,denom:z,hasBarLine:L,leftDelim:F,rightDelim:U,size:V,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(_,R)=>{var{parser:P,funcName:I}=_,O=R[0],z=R[1];return{type:"genfrac",mode:P.mode,continued:!0,numer:O,denom:z,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(_){var{parser:R,funcName:P,token:I}=_,O;switch(P){case"\\over":O="\\frac";break;case"\\choose":O="\\binom";break;case"\\atop":O="\\\\atopfrac";break;case"\\brace":O="\\\\bracefrac";break;case"\\brack":O="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:R.mode,replaceWith:O,token:I}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function _(R){var P=null;return R.length>0&&(P=R,P=P==="."?null:P),P};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(_,R){var{parser:P}=_,I=R[4],O=R[5],z=normalizeArgument(R[0]),L=z.type==="atom"&&z.family==="open"?delimFromValue(z.text):null,F=normalizeArgument(R[1]),U=F.type==="atom"&&F.family==="close"?delimFromValue(F.text):null,V=assertNodeType(R[2],"size"),q,W=null;V.isBlank?q=!0:(W=V.value,q=W.number>0);var Y="auto",Q=R[3];if(Q.type==="ordgroup"){if(Q.body.length>0){var ee=assertNodeType(Q.body[0],"textord");Y=stylArray[Number(ee.text)]}}else Q=assertNodeType(Q,"textord"),Y=stylArray[Number(Q.text)];return{type:"genfrac",mode:P.mode,numer:I,denom:O,continued:!1,hasBarLine:q,barSize:W,leftDelim:L,rightDelim:U,size:Y}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(_,R){var{parser:P,funcName:I,token:O}=_;return{type:"infix",mode:P.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(R[0],"size").value,token:O}}});defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(_,R)=>{var{parser:P,funcName:I}=_,O=R[0],z=assert(assertNodeType(R[1],"infix").size),L=R[2],F=z.number>0;return{type:"genfrac",mode:P.mode,numer:O,denom:L,continued:!1,hasBarLine:F,barSize:z,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(_,R)=>{var P=R.style,I,O;_.type==="supsub"?(I=_.sup?buildGroup$1(_.sup,R.havingStyle(P.sup()),R):buildGroup$1(_.sub,R.havingStyle(P.sub()),R),O=assertNodeType(_.base,"horizBrace")):O=assertNodeType(_,"horizBrace");var z=buildGroup$1(O.base,R.havingBaseStyle(Style$1.DISPLAY)),L=stretchy.svgSpan(O,R),F;if(O.isOver?(F=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:z},{type:"kern",size:.1},{type:"elem",elem:L}]},R),F.children[0].children[0].children[1].classes.push("svg-align")):(F=buildCommon.makeVList({positionType:"bottom",positionData:z.depth+.1+L.height,children:[{type:"elem",elem:L},{type:"kern",size:.1},{type:"elem",elem:z}]},R),F.children[0].children[0].children[0].classes.push("svg-align")),I){var U=buildCommon.makeSpan(["mord",O.isOver?"mover":"munder"],[F],R);O.isOver?F=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:U},{type:"kern",size:.2},{type:"elem",elem:I}]},R):F=buildCommon.makeVList({positionType:"bottom",positionData:U.depth+.2+I.height+I.depth,children:[{type:"elem",elem:I},{type:"kern",size:.2},{type:"elem",elem:U}]},R)}return buildCommon.makeSpan(["mord",O.isOver?"mover":"munder"],[F],R)},mathmlBuilder$2=(_,R)=>{var P=stretchy.mathMLnode(_.label);return new mathMLTree.MathNode(_.isOver?"mover":"munder",[buildGroup2(_.base,R),P])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(_,R){var{parser:P,funcName:I}=_;return{type:"horizBrace",mode:P.mode,label:I,isOver:/^\\over/.test(I),base:R[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2});defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(_,R)=>{var{parser:P}=_,I=R[1],O=assertNodeType(R[0],"url").url;return P.settings.isTrusted({command:"\\href",url:O})?{type:"href",mode:P.mode,href:O,body:ordargument(I)}:P.formatUnsupportedCmd("\\href")},htmlBuilder:(_,R)=>{var P=buildExpression$1(_.body,R,!1);return buildCommon.makeAnchor(_.href,[],P,R)},mathmlBuilder:(_,R)=>{var P=buildExpressionRow(_.body,R);return P instanceof MathNode||(P=new MathNode("mrow",[P])),P.setAttribute("href",_.href),P}});defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(_,R)=>{var{parser:P}=_,I=assertNodeType(R[0],"url").url;if(!P.settings.isTrusted({command:"\\url",url:I}))return P.formatUnsupportedCmd("\\url");for(var O=[],z=0;z<I.length;z++){var L=I[z];L==="~"&&(L="\\textasciitilde"),O.push({type:"textord",mode:"text",text:L})}var F={type:"text",mode:P.mode,font:"\\texttt",body:O};return{type:"href",mode:P.mode,href:I,body:ordargument(F)}}});defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(_,R){var{parser:P}=_;return{type:"hbox",mode:P.mode,body:ordargument(R[0])}},htmlBuilder(_,R){var P=buildExpression$1(_.body,R,!1);return buildCommon.makeFragment(P)},mathmlBuilder(_,R){return new mathMLTree.MathNode("mrow",buildExpression2(_.body,R))}});defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(_,R)=>{var{parser:P,funcName:I,token:O}=_,z=assertNodeType(R[0],"raw").string,L=R[1];P.settings.strict&&P.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var F,U={};switch(I){case"\\htmlClass":U.class=z,F={command:"\\htmlClass",class:z};break;case"\\htmlId":U.id=z,F={command:"\\htmlId",id:z};break;case"\\htmlStyle":U.style=z,F={command:"\\htmlStyle",style:z};break;case"\\htmlData":{for(var V=z.split(","),q=0;q<V.length;q++){var W=V[q],Y=W.indexOf("=");if(Y<0)throw new ParseError("\\htmlData key/value '"+W+"' missing equals sign");var Q=W.slice(0,Y),ee=W.slice(Y+1);U["data-"+Q.trim()]=ee}F={command:"\\htmlData",attributes:U};break}default:throw new Error("Unrecognized html command")}return P.settings.isTrusted(F)?{type:"html",mode:P.mode,attributes:U,body:ordargument(L)}:P.formatUnsupportedCmd(I)},htmlBuilder:(_,R)=>{var P=buildExpression$1(_.body,R,!1),I=["enclosing"];_.attributes.class&&I.push(..._.attributes.class.trim().split(/\s+/));var O=buildCommon.makeSpan(I,P,R);for(var z in _.attributes)z!=="class"&&_.attributes.hasOwnProperty(z)&&O.setAttribute(z,_.attributes[z]);return O},mathmlBuilder:(_,R)=>buildExpressionRow(_.body,R)});defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(_,R)=>{var{parser:P}=_;return{type:"htmlmathml",mode:P.mode,html:ordargument(R[0]),mathml:ordargument(R[1])}},htmlBuilder:(_,R)=>{var P=buildExpression$1(_.html,R,!1);return buildCommon.makeFragment(P)},mathmlBuilder:(_,R)=>buildExpressionRow(_.mathml,R)});var sizeData=function _(R){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(R))return{number:+R,unit:"bp"};var P=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(R);if(!P)throw new ParseError("Invalid size: '"+R+"' in \\includegraphics");var I={number:+(P[1]+P[2]),unit:P[3]};if(!validUnit(I))throw new ParseError("Invalid unit: '"+I.unit+"' in \\includegraphics.");return I};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(_,R,P)=>{var{parser:I}=_,O={number:0,unit:"em"},z={number:.9,unit:"em"},L={number:0,unit:"em"},F="";if(P[0])for(var U=assertNodeType(P[0],"raw").string,V=U.split(","),q=0;q<V.length;q++){var W=V[q].split("=");if(W.length===2){var Y=W[1].trim();switch(W[0].trim()){case"alt":F=Y;break;case"width":O=sizeData(Y);break;case"height":z=sizeData(Y);break;case"totalheight":L=sizeData(Y);break;default:throw new ParseError("Invalid key: '"+W[0]+"' in \\includegraphics.")}}}var Q=assertNodeType(R[0],"url").url;return F===""&&(F=Q,F=F.replace(/^.*[\\/]/,""),F=F.substring(0,F.lastIndexOf("."))),I.settings.isTrusted({command:"\\includegraphics",url:Q})?{type:"includegraphics",mode:I.mode,alt:F,width:O,height:z,totalheight:L,src:Q}:I.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(_,R)=>{var P=calculateSize(_.height,R),I=0;_.totalheight.number>0&&(I=calculateSize(_.totalheight,R)-P);var O=0;_.width.number>0&&(O=calculateSize(_.width,R));var z={height:makeEm(P+I)};O>0&&(z.width=makeEm(O)),I>0&&(z.verticalAlign=makeEm(-I));var L=new Img(_.src,_.alt,z);return L.height=P,L.depth=I,L},mathmlBuilder:(_,R)=>{var P=new mathMLTree.MathNode("mglyph",[]);P.setAttribute("alt",_.alt);var I=calculateSize(_.height,R),O=0;if(_.totalheight.number>0&&(O=calculateSize(_.totalheight,R)-I,P.setAttribute("valign",makeEm(-O))),P.setAttribute("height",makeEm(I+O)),_.width.number>0){var z=calculateSize(_.width,R);P.setAttribute("width",makeEm(z))}return P.setAttribute("src",_.src),P}});defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(_,R){var{parser:P,funcName:I}=_,O=assertNodeType(R[0],"size");if(P.settings.strict){var z=I[1]==="m",L=O.value.unit==="mu";z?(L||P.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+I+" supports only mu units, "+("not "+O.value.unit+" units")),P.mode!=="math"&&P.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+I+" works only in math mode")):L&&P.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+I+" doesn't support mu units")}return{type:"kern",mode:P.mode,dimension:O.value}},htmlBuilder(_,R){return buildCommon.makeGlue(_.dimension,R)},mathmlBuilder(_,R){var P=calculateSize(_.dimension,R);return new mathMLTree.SpaceNode(P)}});defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(_,R)=>{var{parser:P,funcName:I}=_,O=R[0];return{type:"lap",mode:P.mode,alignment:I.slice(5),body:O}},htmlBuilder:(_,R)=>{var P;_.alignment==="clap"?(P=buildCommon.makeSpan([],[buildGroup$1(_.body,R)]),P=buildCommon.makeSpan(["inner"],[P],R)):P=buildCommon.makeSpan(["inner"],[buildGroup$1(_.body,R)]);var I=buildCommon.makeSpan(["fix"],[]),O=buildCommon.makeSpan([_.alignment],[P,I],R),z=buildCommon.makeSpan(["strut"]);return z.style.height=makeEm(O.height+O.depth),O.depth&&(z.style.verticalAlign=makeEm(-O.depth)),O.children.unshift(z),O=buildCommon.makeSpan(["thinbox"],[O],R),buildCommon.makeSpan(["mord","vbox"],[O],R)},mathmlBuilder:(_,R)=>{var P=new mathMLTree.MathNode("mpadded",[buildGroup2(_.body,R)]);if(_.alignment!=="rlap"){var I=_.alignment==="llap"?"-1":"-0.5";P.setAttribute("lspace",I+"width")}return P.setAttribute("width","0px"),P}});defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(_,R){var{funcName:P,parser:I}=_,O=I.mode;I.switchMode("math");var z=P==="\\("?"\\)":"$",L=I.parseExpression(!1,z);return I.expect(z),I.switchMode(O),{type:"styling",mode:I.mode,style:"text",body:L}}});defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(_,R){throw new ParseError("Mismatched "+_.funcName)}});var chooseMathStyle=(_,R)=>{switch(R.style.size){case Style$1.DISPLAY.size:return _.display;case Style$1.TEXT.size:return _.text;case Style$1.SCRIPT.size:return _.script;case Style$1.SCRIPTSCRIPT.size:return _.scriptscript;default:return _.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(_,R)=>{var{parser:P}=_;return{type:"mathchoice",mode:P.mode,display:ordargument(R[0]),text:ordargument(R[1]),script:ordargument(R[2]),scriptscript:ordargument(R[3])}},htmlBuilder:(_,R)=>{var P=chooseMathStyle(_,R),I=buildExpression$1(P,R,!1);return buildCommon.makeFragment(I)},mathmlBuilder:(_,R)=>{var P=chooseMathStyle(_,R);return buildExpressionRow(P,R)}});var assembleSupSub=(_,R,P,I,O,z,L)=>{_=buildCommon.makeSpan([],[_]);var F=P&&utils.isCharacterBox(P),U,V;if(R){var q=buildGroup$1(R,I.havingStyle(O.sup()),I);V={elem:q,kern:Math.max(I.fontMetrics().bigOpSpacing1,I.fontMetrics().bigOpSpacing3-q.depth)}}if(P){var W=buildGroup$1(P,I.havingStyle(O.sub()),I);U={elem:W,kern:Math.max(I.fontMetrics().bigOpSpacing2,I.fontMetrics().bigOpSpacing4-W.height)}}var Y;if(V&&U){var Q=I.fontMetrics().bigOpSpacing5+U.elem.height+U.elem.depth+U.kern+_.depth+L;Y=buildCommon.makeVList({positionType:"bottom",positionData:Q,children:[{type:"kern",size:I.fontMetrics().bigOpSpacing5},{type:"elem",elem:U.elem,marginLeft:makeEm(-z)},{type:"kern",size:U.kern},{type:"elem",elem:_},{type:"kern",size:V.kern},{type:"elem",elem:V.elem,marginLeft:makeEm(z)},{type:"kern",size:I.fontMetrics().bigOpSpacing5}]},I)}else if(U){var ee=_.height-L;Y=buildCommon.makeVList({positionType:"top",positionData:ee,children:[{type:"kern",size:I.fontMetrics().bigOpSpacing5},{type:"elem",elem:U.elem,marginLeft:makeEm(-z)},{type:"kern",size:U.kern},{type:"elem",elem:_}]},I)}else if(V){var te=_.depth+L;Y=buildCommon.makeVList({positionType:"bottom",positionData:te,children:[{type:"elem",elem:_},{type:"kern",size:V.kern},{type:"elem",elem:V.elem,marginLeft:makeEm(z)},{type:"kern",size:I.fontMetrics().bigOpSpacing5}]},I)}else return _;var ie=[Y];if(U&&z!==0&&!F){var ae=buildCommon.makeSpan(["mspace"],[],I);ae.style.marginRight=makeEm(z),ie.unshift(ae)}return buildCommon.makeSpan(["mop","op-limits"],ie,I)},noSuccessor=["\\smallint"],htmlBuilder$2=(_,R)=>{var P,I,O=!1,z;_.type==="supsub"?(P=_.sup,I=_.sub,z=assertNodeType(_.base,"op"),O=!0):z=assertNodeType(_,"op");var L=R.style,F=!1;L.size===Style$1.DISPLAY.size&&z.symbol&&!noSuccessor.includes(z.name)&&(F=!0);var U;if(z.symbol){var V=F?"Size2-Regular":"Size1-Regular",q="";if((z.name==="\\oiint"||z.name==="\\oiiint")&&(q=z.name.slice(1),z.name=q==="oiint"?"\\iint":"\\iiint"),U=buildCommon.makeSymbol(z.name,V,"math",R,["mop","op-symbol",F?"large-op":"small-op"]),q.length>0){var W=U.italic,Y=buildCommon.staticSvg(q+"Size"+(F?"2":"1"),R);U=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:U,shift:0},{type:"elem",elem:Y,shift:F?.08:0}]},R),z.name="\\"+q,U.classes.unshift("mop"),U.italic=W}}else if(z.body){var Q=buildExpression$1(z.body,R,!0);Q.length===1&&Q[0]instanceof SymbolNode?(U=Q[0],U.classes[0]="mop"):U=buildCommon.makeSpan(["mop"],Q,R)}else{for(var ee=[],te=1;te<z.name.length;te++)ee.push(buildCommon.mathsym(z.name[te],z.mode,R));U=buildCommon.makeSpan(["mop"],ee,R)}var ie=0,ae=0;return(U instanceof SymbolNode||z.name==="\\oiint"||z.name==="\\oiiint")&&!z.suppressBaseShift&&(ie=(U.height-U.depth)/2-R.fontMetrics().axisHeight,ae=U.italic),O?assembleSupSub(U,P,I,R,L,ae,ie):(ie&&(U.style.position="relative",U.style.top=makeEm(ie)),U)},mathmlBuilder$1=(_,R)=>{var P;if(_.symbol)P=new MathNode("mo",[makeText(_.name,_.mode)]),noSuccessor.includes(_.name)&&P.setAttribute("largeop","false");else if(_.body)P=new MathNode("mo",buildExpression2(_.body,R));else{P=new MathNode("mi",[new TextNode(_.name.slice(1))]);var I=new MathNode("mo",[makeText("","text")]);_.parentIsSupSub?P=new MathNode("mrow",[P,I]):P=newDocumentFragment([P,I])}return P},singleCharBigOps={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(_,R)=>{var{parser:P,funcName:I}=_,O=I;return O.length===1&&(O=singleCharBigOps[O]),{type:"op",mode:P.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:O}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(_,R)=>{var{parser:P}=_,I=R[0];return{type:"op",mode:P.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(I)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(_){var{parser:R,funcName:P}=_;return{type:"op",mode:R.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:P}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(_){var{parser:R,funcName:P}=_;return{type:"op",mode:R.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:P}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(_){var{parser:R,funcName:P}=_,I=P;return I.length===1&&(I=singleCharIntegrals[I]),{type:"op",mode:R.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:I}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(_,R)=>{var P,I,O=!1,z;_.type==="supsub"?(P=_.sup,I=_.sub,z=assertNodeType(_.base,"operatorname"),O=!0):z=assertNodeType(_,"operatorname");var L;if(z.body.length>0){for(var F=z.body.map(W=>{var Y=W.text;return typeof Y=="string"?{type:"textord",mode:W.mode,text:Y}:W}),U=buildExpression$1(F,R.withFont("mathrm"),!0),V=0;V<U.length;V++){var q=U[V];q instanceof SymbolNode&&(q.text=q.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}L=buildCommon.makeSpan(["mop"],U,R)}else L=buildCommon.makeSpan(["mop"],[],R);return O?assembleSupSub(L,P,I,R,R.style,0,0):L},mathmlBuilder2=(_,R)=>{for(var P=buildExpression2(_.body,R.withFont("mathrm")),I=!0,O=0;O<P.length;O++){var z=P[O];if(!(z instanceof mathMLTree.SpaceNode))if(z instanceof mathMLTree.MathNode)switch(z.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var L=z.children[0];z.children.length===1&&L instanceof mathMLTree.TextNode?L.text=L.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):I=!1;break}default:I=!1}else I=!1}if(I){var F=P.map(q=>q.toText()).join("");P=[new mathMLTree.TextNode(F)]}var U=new mathMLTree.MathNode("mi",P);U.setAttribute("mathvariant","normal");var V=new mathMLTree.MathNode("mo",[makeText("","text")]);return _.parentIsSupSub?new mathMLTree.MathNode("mrow",[U,V]):mathMLTree.newDocumentFragment([U,V])};defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(_,R)=>{var{parser:P,funcName:I}=_,O=R[0];return{type:"operatorname",mode:P.mode,body:ordargument(O),alwaysHandleSupSub:I==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder:mathmlBuilder2});defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");defineFunctionBuilders({type:"ordgroup",htmlBuilder(_,R){return _.semisimple?buildCommon.makeFragment(buildExpression$1(_.body,R,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(_.body,R,!0),R)},mathmlBuilder(_,R){return buildExpressionRow(_.body,R,!0)}});defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(_,R){var{parser:P}=_,I=R[0];return{type:"overline",mode:P.mode,body:I}},htmlBuilder(_,R){var P=buildGroup$1(_.body,R.havingCrampedStyle()),I=buildCommon.makeLineSpan("overline-line",R),O=R.fontMetrics().defaultRuleThickness,z=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P},{type:"kern",size:3*O},{type:"elem",elem:I},{type:"kern",size:O}]},R);return buildCommon.makeSpan(["mord","overline"],[z],R)},mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);P.setAttribute("stretchy","true");var I=new mathMLTree.MathNode("mover",[buildGroup2(_.body,R),P]);return I.setAttribute("accent","true"),I}});defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(_,R)=>{var{parser:P}=_,I=R[0];return{type:"phantom",mode:P.mode,body:ordargument(I)}},htmlBuilder:(_,R)=>{var P=buildExpression$1(_.body,R.withPhantom(),!1);return buildCommon.makeFragment(P)},mathmlBuilder:(_,R)=>{var P=buildExpression2(_.body,R);return new mathMLTree.MathNode("mphantom",P)}});defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(_,R)=>{var{parser:P}=_,I=R[0];return{type:"hphantom",mode:P.mode,body:I}},htmlBuilder:(_,R)=>{var P=buildCommon.makeSpan([],[buildGroup$1(_.body,R.withPhantom())]);if(P.height=0,P.depth=0,P.children)for(var I=0;I<P.children.length;I++)P.children[I].height=0,P.children[I].depth=0;return P=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P}]},R),buildCommon.makeSpan(["mord"],[P],R)},mathmlBuilder:(_,R)=>{var P=buildExpression2(ordargument(_.body),R),I=new mathMLTree.MathNode("mphantom",P),O=new mathMLTree.MathNode("mpadded",[I]);return O.setAttribute("height","0px"),O.setAttribute("depth","0px"),O}});defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(_,R)=>{var{parser:P}=_,I=R[0];return{type:"vphantom",mode:P.mode,body:I}},htmlBuilder:(_,R)=>{var P=buildCommon.makeSpan(["inner"],[buildGroup$1(_.body,R.withPhantom())]),I=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[P,I],R)},mathmlBuilder:(_,R)=>{var P=buildExpression2(ordargument(_.body),R),I=new mathMLTree.MathNode("mphantom",P),O=new mathMLTree.MathNode("mpadded",[I]);return O.setAttribute("width","0px"),O}});defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(_,R){var{parser:P}=_,I=assertNodeType(R[0],"size").value,O=R[1];return{type:"raisebox",mode:P.mode,dy:I,body:O}},htmlBuilder(_,R){var P=buildGroup$1(_.body,R),I=calculateSize(_.dy,R);return buildCommon.makeVList({positionType:"shift",positionData:-I,children:[{type:"elem",elem:P}]},R)},mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mpadded",[buildGroup2(_.body,R)]),I=_.dy.number+_.dy.unit;return P.setAttribute("voffset",I),P}});defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(_){var{parser:R}=_;return{type:"internal",mode:R.mode}}});defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(_,R,P){var{parser:I}=_,O=P[0],z=assertNodeType(R[0],"size"),L=assertNodeType(R[1],"size");return{type:"rule",mode:I.mode,shift:O&&assertNodeType(O,"size").value,width:z.value,height:L.value}},htmlBuilder(_,R){var P=buildCommon.makeSpan(["mord","rule"],[],R),I=calculateSize(_.width,R),O=calculateSize(_.height,R),z=_.shift?calculateSize(_.shift,R):0;return P.style.borderRightWidth=makeEm(I),P.style.borderTopWidth=makeEm(O),P.style.bottom=makeEm(z),P.width=I,P.height=O+z,P.depth=-z,P.maxFontSize=O*1.125*R.sizeMultiplier,P},mathmlBuilder(_,R){var P=calculateSize(_.width,R),I=calculateSize(_.height,R),O=_.shift?calculateSize(_.shift,R):0,z=R.color&&R.getColor()||"black",L=new mathMLTree.MathNode("mspace");L.setAttribute("mathbackground",z),L.setAttribute("width",makeEm(P)),L.setAttribute("height",makeEm(I));var F=new mathMLTree.MathNode("mpadded",[L]);return O>=0?F.setAttribute("height",makeEm(O)):(F.setAttribute("height",makeEm(O)),F.setAttribute("depth",makeEm(-O))),F.setAttribute("voffset",makeEm(O)),F}});function sizingGroup(_,R,P){for(var I=buildExpression$1(_,R,!1),O=R.sizeMultiplier/P.sizeMultiplier,z=0;z<I.length;z++){var L=I[z].classes.indexOf("sizing");L<0?Array.prototype.push.apply(I[z].classes,R.sizingClasses(P)):I[z].classes[L+1]==="reset-size"+R.size&&(I[z].classes[L+1]="reset-size"+P.size),I[z].height*=O,I[z].depth*=O}return buildCommon.makeFragment(I)}var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder2=(_,R)=>{var P=R.havingSize(_.size);return sizingGroup(_.body,P,R)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(_,R)=>{var{breakOnTokenText:P,funcName:I,parser:O}=_,z=O.parseExpression(!1,P);return{type:"sizing",mode:O.mode,size:sizeFuncs.indexOf(I)+1,body:z}},htmlBuilder:htmlBuilder2,mathmlBuilder:(_,R)=>{var P=R.havingSize(_.size),I=buildExpression2(_.body,P),O=new mathMLTree.MathNode("mstyle",I);return O.setAttribute("mathsize",makeEm(P.sizeMultiplier)),O}});defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(_,R,P)=>{var{parser:I}=_,O=!1,z=!1,L=P[0]&&assertNodeType(P[0],"ordgroup");if(L)for(var F="",U=0;U<L.body.length;++U){var V=L.body[U];if(F=V.text,F==="t")O=!0;else if(F==="b")z=!0;else{O=!1,z=!1;break}}else O=!0,z=!0;var q=R[0];return{type:"smash",mode:I.mode,body:q,smashHeight:O,smashDepth:z}},htmlBuilder:(_,R)=>{var P=buildCommon.makeSpan([],[buildGroup$1(_.body,R)]);if(!_.smashHeight&&!_.smashDepth)return P;if(_.smashHeight&&(P.height=0,P.children))for(var I=0;I<P.children.length;I++)P.children[I].height=0;if(_.smashDepth&&(P.depth=0,P.children))for(var O=0;O<P.children.length;O++)P.children[O].depth=0;var z=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P}]},R);return buildCommon.makeSpan(["mord"],[z],R)},mathmlBuilder:(_,R)=>{var P=new mathMLTree.MathNode("mpadded",[buildGroup2(_.body,R)]);return _.smashHeight&&P.setAttribute("height","0px"),_.smashDepth&&P.setAttribute("depth","0px"),P}});defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(_,R,P){var{parser:I}=_,O=P[0],z=R[0];return{type:"sqrt",mode:I.mode,body:z,index:O}},htmlBuilder(_,R){var P=buildGroup$1(_.body,R.havingCrampedStyle());P.height===0&&(P.height=R.fontMetrics().xHeight),P=buildCommon.wrapFragment(P,R);var I=R.fontMetrics(),O=I.defaultRuleThickness,z=O;R.style.id<Style$1.TEXT.id&&(z=R.fontMetrics().xHeight);var L=O+z/4,F=P.height+P.depth+L+O,{span:U,ruleWidth:V,advanceWidth:q}=delimiter.sqrtImage(F,R),W=U.height-V;W>P.height+P.depth+L&&(L=(L+W-P.height-P.depth)/2);var Y=U.height-P.height-L-V;P.style.paddingLeft=makeEm(q);var Q=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P,wrapperClasses:["svg-align"]},{type:"kern",size:-(P.height+Y)},{type:"elem",elem:U},{type:"kern",size:V}]},R);if(_.index){var ee=R.havingStyle(Style$1.SCRIPTSCRIPT),te=buildGroup$1(_.index,ee,R),ie=.6*(Q.height-Q.depth),ae=buildCommon.makeVList({positionType:"shift",positionData:-ie,children:[{type:"elem",elem:te}]},R),se=buildCommon.makeSpan(["root"],[ae]);return buildCommon.makeSpan(["mord","sqrt"],[se,Q],R)}else return buildCommon.makeSpan(["mord","sqrt"],[Q],R)},mathmlBuilder(_,R){var{body:P,index:I}=_;return I?new mathMLTree.MathNode("mroot",[buildGroup2(P,R),buildGroup2(I,R)]):new mathMLTree.MathNode("msqrt",[buildGroup2(P,R)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_,R){var{breakOnTokenText:P,funcName:I,parser:O}=_,z=O.parseExpression(!0,P),L=I.slice(1,I.length-5);return{type:"styling",mode:O.mode,style:L,body:z}},htmlBuilder(_,R){var P=styleMap[_.style],I=R.havingStyle(P).withFont("");return sizingGroup(_.body,I,R)},mathmlBuilder(_,R){var P=styleMap[_.style],I=R.havingStyle(P),O=buildExpression2(_.body,I),z=new mathMLTree.MathNode("mstyle",O),L={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},F=L[_.style];return z.setAttribute("scriptlevel",F[0]),z.setAttribute("displaystyle",F[1]),z}});var htmlBuilderDelegate=function _(R,P){var I=R.base;if(I)if(I.type==="op"){var O=I.limits&&(P.style.size===Style$1.DISPLAY.size||I.alwaysHandleSupSub);return O?htmlBuilder$2:null}else if(I.type==="operatorname"){var z=I.alwaysHandleSupSub&&(P.style.size===Style$1.DISPLAY.size||I.limits);return z?htmlBuilder$1:null}else{if(I.type==="accent")return utils.isCharacterBox(I.base)?htmlBuilder$a:null;if(I.type==="horizBrace"){var L=!R.sub;return L===I.isOver?htmlBuilder$3:null}else return null}else return null};defineFunctionBuilders({type:"supsub",htmlBuilder(_,R){var P=htmlBuilderDelegate(_,R);if(P)return P(_,R);var{base:I,sup:O,sub:z}=_,L=buildGroup$1(I,R),F,U,V=R.fontMetrics(),q=0,W=0,Y=I&&utils.isCharacterBox(I);if(O){var Q=R.havingStyle(R.style.sup());F=buildGroup$1(O,Q,R),Y||(q=L.height-Q.fontMetrics().supDrop*Q.sizeMultiplier/R.sizeMultiplier)}if(z){var ee=R.havingStyle(R.style.sub());U=buildGroup$1(z,ee,R),Y||(W=L.depth+ee.fontMetrics().subDrop*ee.sizeMultiplier/R.sizeMultiplier)}var te;R.style===Style$1.DISPLAY?te=V.sup1:R.style.cramped?te=V.sup3:te=V.sup2;var ie=R.sizeMultiplier,ae=makeEm(.5/V.ptPerEm/ie),se=null;if(U){var le=_.base&&_.base.type==="op"&&_.base.name&&(_.base.name==="\\oiint"||_.base.name==="\\oiiint");(L instanceof SymbolNode||le)&&(se=makeEm(-L.italic))}var ce;if(F&&U){q=Math.max(q,te,F.depth+.25*V.xHeight),W=Math.max(W,V.sub2);var fe=V.defaultRuleThickness,de=4*fe;if(q-F.depth-(U.height-W)<de){W=de-(q-F.depth)+U.height;var he=.8*V.xHeight-(q-F.depth);he>0&&(q+=he,W-=he)}var pe=[{type:"elem",elem:U,shift:W,marginRight:ae,marginLeft:se},{type:"elem",elem:F,shift:-q,marginRight:ae}];ce=buildCommon.makeVList({positionType:"individualShift",children:pe},R)}else if(U){W=Math.max(W,V.sub1,U.height-.8*V.xHeight);var ge=[{type:"elem",elem:U,marginLeft:se,marginRight:ae}];ce=buildCommon.makeVList({positionType:"shift",positionData:W,children:ge},R)}else if(F)q=Math.max(q,te,F.depth+.25*V.xHeight),ce=buildCommon.makeVList({positionType:"shift",positionData:-q,children:[{type:"elem",elem:F,marginRight:ae}]},R);else throw new Error("supsub must have either sup or sub.");var be=getTypeOfDomTree(L,"right")||"mord";return buildCommon.makeSpan([be],[L,buildCommon.makeSpan(["msupsub"],[ce])],R)},mathmlBuilder(_,R){var P=!1,I,O;_.base&&_.base.type==="horizBrace"&&(O=!!_.sup,O===_.base.isOver&&(P=!0,I=_.base.isOver)),_.base&&(_.base.type==="op"||_.base.type==="operatorname")&&(_.base.parentIsSupSub=!0);var z=[buildGroup2(_.base,R)];_.sub&&z.push(buildGroup2(_.sub,R)),_.sup&&z.push(buildGroup2(_.sup,R));var L;if(P)L=I?"mover":"munder";else if(_.sub)if(_.sup){var V=_.base;V&&V.type==="op"&&V.limits&&R.style===Style$1.DISPLAY||V&&V.type==="operatorname"&&V.alwaysHandleSupSub&&(R.style===Style$1.DISPLAY||V.limits)?L="munderover":L="msubsup"}else{var U=_.base;U&&U.type==="op"&&U.limits&&(R.style===Style$1.DISPLAY||U.alwaysHandleSupSub)||U&&U.type==="operatorname"&&U.alwaysHandleSupSub&&(U.limits||R.style===Style$1.DISPLAY)?L="munder":L="msub"}else{var F=_.base;F&&F.type==="op"&&F.limits&&(R.style===Style$1.DISPLAY||F.alwaysHandleSupSub)||F&&F.type==="operatorname"&&F.alwaysHandleSupSub&&(F.limits||R.style===Style$1.DISPLAY)?L="mover":L="msup"}return new mathMLTree.MathNode(L,z)}});defineFunctionBuilders({type:"atom",htmlBuilder(_,R){return buildCommon.mathsym(_.text,_.mode,R,["m"+_.family])},mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mo",[makeText(_.text,_.mode)]);if(_.family==="bin"){var I=getVariant(_,R);I==="bold-italic"&&P.setAttribute("mathvariant",I)}else _.family==="punct"?P.setAttribute("separator","true"):(_.family==="open"||_.family==="close")&&P.setAttribute("stretchy","false");return P}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder(_,R){return buildCommon.makeOrd(_,R,"mathord")},mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mi",[makeText(_.text,_.mode,R)]),I=getVariant(_,R)||"italic";return I!==defaultVariant[P.type]&&P.setAttribute("mathvariant",I),P}});defineFunctionBuilders({type:"textord",htmlBuilder(_,R){return buildCommon.makeOrd(_,R,"textord")},mathmlBuilder(_,R){var P=makeText(_.text,_.mode,R),I=getVariant(_,R)||"normal",O;return _.mode==="text"?O=new mathMLTree.MathNode("mtext",[P]):/[0-9]/.test(_.text)?O=new mathMLTree.MathNode("mn",[P]):_.text==="\\prime"?O=new mathMLTree.MathNode("mo",[P]):O=new mathMLTree.MathNode("mi",[P]),I!==defaultVariant[O.type]&&O.setAttribute("mathvariant",I),O}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(_,R){if(regularSpace.hasOwnProperty(_.text)){var P=regularSpace[_.text].className||"";if(_.mode==="text"){var I=buildCommon.makeOrd(_,R,"textord");return I.classes.push(P),I}else return buildCommon.makeSpan(["mspace",P],[buildCommon.mathsym(_.text,_.mode,R)],R)}else{if(cssSpace.hasOwnProperty(_.text))return buildCommon.makeSpan(["mspace",cssSpace[_.text]],[],R);throw new ParseError('Unknown type of space "'+_.text+'"')}},mathmlBuilder(_,R){var P;if(regularSpace.hasOwnProperty(_.text))P=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode("")]);else{if(cssSpace.hasOwnProperty(_.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+_.text+'"')}return P}});var pad=()=>{var _=new mathMLTree.MathNode("mtd",[]);return _.setAttribute("width","50%"),_};defineFunctionBuilders({type:"tag",mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(_.body,R)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(_.tag,R)])])]);return P.setAttribute("width","100%"),P}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(_,R)=>{var P=_.font;if(P){if(textFontFamilies[P])return R.withTextFontFamily(textFontFamilies[P]);if(textFontWeights[P])return R.withTextFontWeight(textFontWeights[P]);if(P==="\\emph")return R.fontShape==="textit"?R.withTextFontShape("textup"):R.withTextFontShape("textit")}else return R;return R.withTextFontShape(textFontShapes[P])};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(_,R){var{parser:P,funcName:I}=_,O=R[0];return{type:"text",mode:P.mode,body:ordargument(O),font:I}},htmlBuilder(_,R){var P=optionsWithFont(_,R),I=buildExpression$1(_.body,P,!0);return buildCommon.makeSpan(["mord","text"],I,P)},mathmlBuilder(_,R){var P=optionsWithFont(_,R);return buildExpressionRow(_.body,P)}});defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(_,R){var{parser:P}=_;return{type:"underline",mode:P.mode,body:R[0]}},htmlBuilder(_,R){var P=buildGroup$1(_.body,R),I=buildCommon.makeLineSpan("underline-line",R),O=R.fontMetrics().defaultRuleThickness,z=buildCommon.makeVList({positionType:"top",positionData:P.height,children:[{type:"kern",size:O},{type:"elem",elem:I},{type:"kern",size:3*O},{type:"elem",elem:P}]},R);return buildCommon.makeSpan(["mord","underline"],[z],R)},mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);P.setAttribute("stretchy","true");var I=new mathMLTree.MathNode("munder",[buildGroup2(_.body,R),P]);return I.setAttribute("accentunder","true"),I}});defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(_,R){var{parser:P}=_;return{type:"vcenter",mode:P.mode,body:R[0]}},htmlBuilder(_,R){var P=buildGroup$1(_.body,R),I=R.fontMetrics().axisHeight,O=.5*(P.height-I-(P.depth+I));return buildCommon.makeVList({positionType:"shift",positionData:O,children:[{type:"elem",elem:P}]},R)},mathmlBuilder(_,R){return new mathMLTree.MathNode("mpadded",[buildGroup2(_.body,R)],["vcenter"])}});defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(_,R,P){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(_,R){for(var P=makeVerb(_),I=[],O=R.havingStyle(R.style.text()),z=0;z<P.length;z++){var L=P[z];L==="~"&&(L="\\textasciitilde"),I.push(buildCommon.makeSymbol(L,"Typewriter-Regular",_.mode,O,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(O.sizingClasses(R)),buildCommon.tryCombineChars(I),O)},mathmlBuilder(_,R){var P=new mathMLTree.TextNode(makeVerb(_)),I=new mathMLTree.MathNode("mtext",[P]);return I.setAttribute("mathvariant","monospace"),I}});var makeVerb=_=>_.body.replace(/ /g,_.star?"":""),functions=_functions,spaceRegexString=`[ \r
	]`,controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\uD800-\uDFFF]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString=`\\\\(
|[ \r	]+
?)[ \r	]*`,combiningDiacriticalMarkString="[-]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+(controlSpaceRegexString+"|")+"([!-\\[\\]---]"+(combiningDiacriticalMarkString+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(combiningDiacriticalMarkString+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+controlWordWhitespaceRegexString)+("|"+controlSymbolRegexString+")");class Lexer{constructor(R,P){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=R,this.settings=P,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode(R,P){this.catcodes[R]=P}lex(){var R=this.input,P=this.tokenRegex.lastIndex;if(P===R.length)return new Token("EOF",new SourceLocation(this,P,P));var I=this.tokenRegex.exec(R);if(I===null||I.index!==P)throw new ParseError("Unexpected character: '"+R[P]+"'",new Token(R[P],new SourceLocation(this,P,P+1)));var O=I[6]||I[3]||(I[2]?"\\ ":" ");if(this.catcodes[O]===14){var z=R.indexOf(`
`,this.tokenRegex.lastIndex);return z===-1?(this.tokenRegex.lastIndex=R.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=z+1,this.lex()}return new Token(O,new SourceLocation(this,P,this.tokenRegex.lastIndex))}}class Namespace{constructor(R,P){R===void 0&&(R={}),P===void 0&&(P={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=P,this.builtins=R,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var R=this.undefStack.pop();for(var P in R)R.hasOwnProperty(P)&&(R[P]==null?delete this.current[P]:this.current[P]=R[P])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(R){return this.current.hasOwnProperty(R)||this.builtins.hasOwnProperty(R)}get(R){return this.current.hasOwnProperty(R)?this.current[R]:this.builtins[R]}set(R,P,I){if(I===void 0&&(I=!1),I){for(var O=0;O<this.undefStack.length;O++)delete this.undefStack[O][R];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][R]=P)}else{var z=this.undefStack[this.undefStack.length-1];z&&!z.hasOwnProperty(R)&&(z[R]=this.current[R])}P==null?delete this.current[R]:this.current[R]=P}}var macros=_macros;defineMacro("\\noexpand",function(_){var R=_.popToken();return _.isExpandable(R.text)&&(R.noexpand=!0,R.treatAsRelax=!0),{tokens:[R],numArgs:0}});defineMacro("\\expandafter",function(_){var R=_.popToken();return _.expandOnce(!0),{tokens:[R],numArgs:0}});defineMacro("\\@firstoftwo",function(_){var R=_.consumeArgs(2);return{tokens:R[0],numArgs:0}});defineMacro("\\@secondoftwo",function(_){var R=_.consumeArgs(2);return{tokens:R[1],numArgs:0}});defineMacro("\\@ifnextchar",function(_){var R=_.consumeArgs(3);_.consumeSpaces();var P=_.future();return R[0].length===1&&R[0][0].text===P.text?{tokens:R[1],numArgs:0}:{tokens:R[2],numArgs:0}});defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");defineMacro("\\TextOrMath",function(_){var R=_.consumeArgs(2);return _.mode==="text"?{tokens:R[0],numArgs:0}:{tokens:R[1],numArgs:0}});var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",function(_){var R=_.popToken(),P,I="";if(R.text==="'")P=8,R=_.popToken();else if(R.text==='"')P=16,R=_.popToken();else if(R.text==="`")if(R=_.popToken(),R.text[0]==="\\")I=R.text.charCodeAt(1);else{if(R.text==="EOF")throw new ParseError("\\char` missing argument");I=R.text.charCodeAt(0)}else P=10;if(P){if(I=digitToNumber[R.text],I==null||I>=P)throw new ParseError("Invalid base-"+P+" digit "+R.text);for(var O;(O=digitToNumber[_.future().text])!=null&&O<P;)I*=P,I+=O,_.popToken()}return"\\@char{"+I+"}"});var newcommand=(_,R,P,I)=>{var O=_.consumeArg().tokens;if(O.length!==1)throw new ParseError("\\newcommand's first argument must be a macro name");var z=O[0].text,L=_.isDefined(z);if(L&&!R)throw new ParseError("\\newcommand{"+z+"} attempting to redefine "+(z+"; use \\renewcommand"));if(!L&&!P)throw new ParseError("\\renewcommand{"+z+"} when command "+z+" does not yet exist; use \\newcommand");var F=0;if(O=_.consumeArg().tokens,O.length===1&&O[0].text==="["){for(var U="",V=_.expandNextToken();V.text!=="]"&&V.text!=="EOF";)U+=V.text,V=_.expandNextToken();if(!U.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+U);F=parseInt(U),O=_.consumeArg().tokens}return L&&I||_.macros.set(z,{tokens:O,numArgs:F}),""};defineMacro("\\newcommand",_=>newcommand(_,!1,!0,!1));defineMacro("\\renewcommand",_=>newcommand(_,!0,!1,!1));defineMacro("\\providecommand",_=>newcommand(_,!0,!0,!0));defineMacro("\\message",_=>{var R=_.consumeArgs(1)[0];return console.log(R.reverse().map(P=>P.text).join("")),""});defineMacro("\\errmessage",_=>{var R=_.consumeArgs(1)[0];return console.error(R.reverse().map(P=>P.text).join("")),""});defineMacro("\\show",_=>{var R=_.popToken(),P=R.text;return console.log(R,_.macros.get(P),functions[P],symbols.math[P],symbols.text[P]),""});defineMacro("\\bgroup","{");defineMacro("\\egroup","}");defineMacro("~","\\nobreakspace");defineMacro("\\lq","`");defineMacro("\\rq","'");defineMacro("\\aa","\\r a");defineMacro("\\AA","\\r A");defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");defineMacro("","\\mathscr{B}");defineMacro("","\\mathscr{E}");defineMacro("","\\mathscr{F}");defineMacro("","\\mathscr{H}");defineMacro("","\\mathscr{I}");defineMacro("","\\mathscr{L}");defineMacro("","\\mathscr{M}");defineMacro("","\\mathscr{R}");defineMacro("","\\mathfrak{C}");defineMacro("","\\mathfrak{H}");defineMacro("","\\mathfrak{Z}");defineMacro("\\Bbbk","\\Bbb{k}");defineMacro("","\\cdotp");defineMacro("\\llap","\\mathllap{\\textrm{#1}}");defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}");defineMacro("\\clap","\\mathclap{\\textrm{#1}}");defineMacro("\\mathstrut","\\vphantom{(}");defineMacro("\\underbar","\\underline{\\text{#1}}");defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");defineMacro("\\ne","\\neq");defineMacro("","\\neq");defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");defineMacro("","\\notin");defineMacro("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");defineMacro("","\\perp");defineMacro("","\\mathclose{!\\mkern-0.8mu!}");defineMacro("","\\notni");defineMacro("","\\ulcorner");defineMacro("","\\urcorner");defineMacro("","\\llcorner");defineMacro("","\\lrcorner");defineMacro("","\\copyright");defineMacro("","\\textregistered");defineMacro("","\\textregistered");defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');defineMacro("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");defineMacro("","\\vdots");defineMacro("\\varGamma","\\mathit{\\Gamma}");defineMacro("\\varDelta","\\mathit{\\Delta}");defineMacro("\\varTheta","\\mathit{\\Theta}");defineMacro("\\varLambda","\\mathit{\\Lambda}");defineMacro("\\varXi","\\mathit{\\Xi}");defineMacro("\\varPi","\\mathit{\\Pi}");defineMacro("\\varSigma","\\mathit{\\Sigma}");defineMacro("\\varUpsilon","\\mathit{\\Upsilon}");defineMacro("\\varPhi","\\mathit{\\Phi}");defineMacro("\\varPsi","\\mathit{\\Psi}");defineMacro("\\varOmega","\\mathit{\\Omega}");defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}");defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}");defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;");defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");defineMacro("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");defineMacro("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(_){var R="\\dotso",P=_.expandAfterFuture().text;return P in dotsByToken?R=dotsByToken[P]:(P.slice(0,4)==="\\not"||P in symbols.math&&["bin","rel"].includes(symbols.math[P].group))&&(R="\\dotsb"),R});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(_){var R=_.future().text;return R in spaceAfterDots?"\\ldots\\,":"\\ldots"});defineMacro("\\dotsc",function(_){var R=_.future().text;return R in spaceAfterDots&&R!==","?"\\ldots\\,":"\\ldots"});defineMacro("\\cdots",function(_){var R=_.future().text;return R in spaceAfterDots?"\\@cdots\\,":"\\@cdots"});defineMacro("\\dotsb","\\cdots");defineMacro("\\dotsm","\\cdots");defineMacro("\\dotsi","\\!\\cdots");defineMacro("\\dotsx","\\ldots\\,");defineMacro("\\DOTSI","\\relax");defineMacro("\\DOTSB","\\relax");defineMacro("\\DOTSX","\\relax");defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");defineMacro("\\,","\\tmspace+{3mu}{.1667em}");defineMacro("\\thinspace","\\,");defineMacro("\\>","\\mskip{4mu}");defineMacro("\\:","\\tmspace+{4mu}{.2222em}");defineMacro("\\medspace","\\:");defineMacro("\\;","\\tmspace+{5mu}{.2777em}");defineMacro("\\thickspace","\\;");defineMacro("\\!","\\tmspace-{3mu}{.1667em}");defineMacro("\\negthinspace","\\!");defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}");defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}");defineMacro("\\enspace","\\kern.5em ");defineMacro("\\enskip","\\hskip.5em\\relax");defineMacro("\\quad","\\hskip1em\\relax");defineMacro("\\qquad","\\hskip2em\\relax");defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren");defineMacro("\\tag@paren","\\tag@literal{({#1})}");defineMacro("\\tag@literal",_=>{if(_.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");defineMacro("\\newline","\\\\\\relax");defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"][84][1]-.7*fontMetricsData["Main-Regular"][65][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");defineMacro("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace");defineMacro("\\@hspace","\\hskip #1\\relax");defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");defineMacro("\\ordinarycolon",":");defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');defineMacro("","\\dblcolon");defineMacro("","\\eqcolon");defineMacro("","\\coloneqq");defineMacro("","\\eqqcolon");defineMacro("","\\Coloneqq");defineMacro("\\ratio","\\vcentcolon");defineMacro("\\coloncolon","\\dblcolon");defineMacro("\\colonequals","\\coloneqq");defineMacro("\\coloncolonequals","\\Coloneqq");defineMacro("\\equalscolon","\\eqqcolon");defineMacro("\\equalscoloncolon","\\Eqqcolon");defineMacro("\\colonminus","\\coloneq");defineMacro("\\coloncolonminus","\\Coloneq");defineMacro("\\minuscolon","\\eqcolon");defineMacro("\\minuscoloncolon","\\Eqcolon");defineMacro("\\coloncolonapprox","\\Colonapprox");defineMacro("\\coloncolonsim","\\Colonsim");defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{}");defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{}");defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{}");defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{}");defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");defineMacro("\\imath","\\html@mathml{\\@imath}{}");defineMacro("\\jmath","\\html@mathml{\\@jmath}{}");defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");defineMacro("","\\llbracket");defineMacro("","\\rrbracket");defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");defineMacro("","\\lBrace");defineMacro("","\\rBrace");defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");defineMacro("","\\minuso");defineMacro("\\darr","\\downarrow");defineMacro("\\dArr","\\Downarrow");defineMacro("\\Darr","\\Downarrow");defineMacro("\\lang","\\langle");defineMacro("\\rang","\\rangle");defineMacro("\\uarr","\\uparrow");defineMacro("\\uArr","\\Uparrow");defineMacro("\\Uarr","\\Uparrow");defineMacro("\\N","\\mathbb{N}");defineMacro("\\R","\\mathbb{R}");defineMacro("\\Z","\\mathbb{Z}");defineMacro("\\alef","\\aleph");defineMacro("\\alefsym","\\aleph");defineMacro("\\Alpha","\\mathrm{A}");defineMacro("\\Beta","\\mathrm{B}");defineMacro("\\bull","\\bullet");defineMacro("\\Chi","\\mathrm{X}");defineMacro("\\clubs","\\clubsuit");defineMacro("\\cnums","\\mathbb{C}");defineMacro("\\Complex","\\mathbb{C}");defineMacro("\\Dagger","\\ddagger");defineMacro("\\diamonds","\\diamondsuit");defineMacro("\\empty","\\emptyset");defineMacro("\\Epsilon","\\mathrm{E}");defineMacro("\\Eta","\\mathrm{H}");defineMacro("\\exist","\\exists");defineMacro("\\harr","\\leftrightarrow");defineMacro("\\hArr","\\Leftrightarrow");defineMacro("\\Harr","\\Leftrightarrow");defineMacro("\\hearts","\\heartsuit");defineMacro("\\image","\\Im");defineMacro("\\infin","\\infty");defineMacro("\\Iota","\\mathrm{I}");defineMacro("\\isin","\\in");defineMacro("\\Kappa","\\mathrm{K}");defineMacro("\\larr","\\leftarrow");defineMacro("\\lArr","\\Leftarrow");defineMacro("\\Larr","\\Leftarrow");defineMacro("\\lrarr","\\leftrightarrow");defineMacro("\\lrArr","\\Leftrightarrow");defineMacro("\\Lrarr","\\Leftrightarrow");defineMacro("\\Mu","\\mathrm{M}");defineMacro("\\natnums","\\mathbb{N}");defineMacro("\\Nu","\\mathrm{N}");defineMacro("\\Omicron","\\mathrm{O}");defineMacro("\\plusmn","\\pm");defineMacro("\\rarr","\\rightarrow");defineMacro("\\rArr","\\Rightarrow");defineMacro("\\Rarr","\\Rightarrow");defineMacro("\\real","\\Re");defineMacro("\\reals","\\mathbb{R}");defineMacro("\\Reals","\\mathbb{R}");defineMacro("\\Rho","\\mathrm{P}");defineMacro("\\sdot","\\cdot");defineMacro("\\sect","\\S");defineMacro("\\spades","\\spadesuit");defineMacro("\\sub","\\subset");defineMacro("\\sube","\\subseteq");defineMacro("\\supe","\\supseteq");defineMacro("\\Tau","\\mathrm{T}");defineMacro("\\thetasym","\\vartheta");defineMacro("\\weierp","\\wp");defineMacro("\\Zeta","\\mathrm{Z}");defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");defineMacro("\\bra","\\mathinner{\\langle{#1}|}");defineMacro("\\ket","\\mathinner{|{#1}\\rangle}");defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}");defineMacro("\\Bra","\\left\\langle#1\\right|");defineMacro("\\Ket","\\left|#1\\right\\rangle");var braketHelper=_=>R=>{var P=R.consumeArg().tokens,I=R.consumeArg().tokens,O=R.consumeArg().tokens,z=R.consumeArg().tokens,L=R.macros.get("|"),F=R.macros.get("\\|");R.macros.beginGroup();var U=W=>Y=>{_&&(Y.macros.set("|",L),O.length&&Y.macros.set("\\|",F));var Q=W;if(!W&&O.length){var ee=Y.future();ee.text==="|"&&(Y.popToken(),Q=!0)}return{tokens:Q?O:I,numArgs:0}};R.macros.set("|",U(!1)),O.length&&R.macros.set("\\|",U(!0));var V=R.consumeArg().tokens,q=R.expandTokens([...z,...V,...P]);return R.macros.endGroup(),{tokens:q.reverse(),numArgs:0}};defineMacro("\\bra@ket",braketHelper(!1));defineMacro("\\bra@set",braketHelper(!0));defineMacro("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");defineMacro("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");defineMacro("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");defineMacro("\\angln","{\\angl n}");defineMacro("\\blue","\\textcolor{##6495ed}{#1}");defineMacro("\\orange","\\textcolor{##ffa500}{#1}");defineMacro("\\pink","\\textcolor{##ff00af}{#1}");defineMacro("\\red","\\textcolor{##df0030}{#1}");defineMacro("\\green","\\textcolor{##28ae7b}{#1}");defineMacro("\\gray","\\textcolor{gray}{#1}");defineMacro("\\purple","\\textcolor{##9d38bd}{#1}");defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}");defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}");defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}");defineMacro("\\blueD","\\textcolor{##11accd}{#1}");defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}");defineMacro("\\tealA","\\textcolor{##94fff5}{#1}");defineMacro("\\tealB","\\textcolor{##26edd5}{#1}");defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}");defineMacro("\\tealD","\\textcolor{##01a995}{#1}");defineMacro("\\tealE","\\textcolor{##208170}{#1}");defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}");defineMacro("\\greenB","\\textcolor{##8af281}{#1}");defineMacro("\\greenC","\\textcolor{##74cf70}{#1}");defineMacro("\\greenD","\\textcolor{##1fab54}{#1}");defineMacro("\\greenE","\\textcolor{##0d923f}{#1}");defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}");defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}");defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}");defineMacro("\\goldD","\\textcolor{##e07d10}{#1}");defineMacro("\\goldE","\\textcolor{##a75a05}{#1}");defineMacro("\\redA","\\textcolor{##fca9a9}{#1}");defineMacro("\\redB","\\textcolor{##ff8482}{#1}");defineMacro("\\redC","\\textcolor{##f9685d}{#1}");defineMacro("\\redD","\\textcolor{##e84d39}{#1}");defineMacro("\\redE","\\textcolor{##bc2612}{#1}");defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}");defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}");defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}");defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}");defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}");defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}");defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}");defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}");defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}");defineMacro("\\purpleE","\\textcolor{##543b78}{#1}");defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}");defineMacro("\\mintB","\\textcolor{##edf2df}{#1}");defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}");defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}");defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}");defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}");defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}");defineMacro("\\grayE","\\textcolor{##babec2}{#1}");defineMacro("\\grayF","\\textcolor{##888d93}{#1}");defineMacro("\\grayG","\\textcolor{##626569}{#1}");defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}");defineMacro("\\grayI","\\textcolor{##21242c}{#1}");defineMacro("\\kaBlue","\\textcolor{##314453}{#1}");defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(R,P,I){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=P,this.expansionCount=0,this.feed(R),this.macros=new Namespace(macros,P.macros),this.mode=I,this.stack=[]}feed(R){this.lexer=new Lexer(R,this.settings)}switchMode(R){this.mode=R}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(R){this.stack.push(R)}pushTokens(R){this.stack.push(...R)}scanArgument(R){var P,I,O;if(R){if(this.consumeSpaces(),this.future().text!=="[")return null;P=this.popToken(),{tokens:O,end:I}=this.consumeArg(["]"])}else({tokens:O,start:P,end:I}=this.consumeArg());return this.pushToken(new Token("EOF",I.loc)),this.pushTokens(O),new Token("",SourceLocation.range(P,I))}consumeSpaces(){for(;;){var R=this.future();if(R.text===" ")this.stack.pop();else break}}consumeArg(R){var P=[],I=R&&R.length>0;I||this.consumeSpaces();var O=this.future(),z,L=0,F=0;do{if(z=this.popToken(),P.push(z),z.text==="{")++L;else if(z.text==="}"){if(--L,L===-1)throw new ParseError("Extra }",z)}else if(z.text==="EOF")throw new ParseError("Unexpected end of input in a macro argument, expected '"+(R&&I?R[F]:"}")+"'",z);if(R&&I)if((L===0||L===1&&R[F]==="{")&&z.text===R[F]){if(++F,F===R.length){P.splice(-F,F);break}}else F=0}while(L!==0||I);return O.text==="{"&&P[P.length-1].text==="}"&&(P.pop(),P.shift()),P.reverse(),{tokens:P,start:O,end:z}}consumeArgs(R,P){if(P){if(P.length!==R+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var I=P[0],O=0;O<I.length;O++){var z=this.popToken();if(I[O]!==z.text)throw new ParseError("Use of the macro doesn't match its definition",z)}}for(var L=[],F=0;F<R;F++)L.push(this.consumeArg(P&&P[F+1]).tokens);return L}countExpansion(R){if(this.expansionCount+=R,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(R){var P=this.popToken(),I=P.text,O=P.noexpand?null:this._getExpansion(I);if(O==null||R&&O.unexpandable){if(R&&O==null&&I[0]==="\\"&&!this.isDefined(I))throw new ParseError("Undefined control sequence: "+I);return this.pushToken(P),!1}this.countExpansion(1);var z=O.tokens,L=this.consumeArgs(O.numArgs,O.delimiters);if(O.numArgs){z=z.slice();for(var F=z.length-1;F>=0;--F){var U=z[F];if(U.text==="#"){if(F===0)throw new ParseError("Incomplete placeholder at end of macro body",U);if(U=z[--F],U.text==="#")z.splice(F+1,1);else if(/^[1-9]$/.test(U.text))z.splice(F,2,...L[+U.text-1]);else throw new ParseError("Not a valid argument number",U)}}}return this.pushTokens(z),z.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var R=this.stack.pop();return R.treatAsRelax&&(R.text="\\relax"),R}throw new Error}expandMacro(R){return this.macros.has(R)?this.expandTokens([new Token(R)]):void 0}expandTokens(R){var P=[],I=this.stack.length;for(this.pushTokens(R);this.stack.length>I;)if(this.expandOnce(!0)===!1){var O=this.stack.pop();O.treatAsRelax&&(O.noexpand=!1,O.treatAsRelax=!1),P.push(O)}return this.countExpansion(P.length),P}expandMacroAsText(R){var P=this.expandMacro(R);return P&&P.map(I=>I.text).join("")}_getExpansion(R){var P=this.macros.get(R);if(P==null)return P;if(R.length===1){var I=this.lexer.catcodes[R];if(I!=null&&I!==13)return}var O=typeof P=="function"?P(this):P;if(typeof O=="string"){var z=0;if(O.indexOf("#")!==-1)for(var L=O.replace(/##/g,"");L.indexOf("#"+(z+1))!==-1;)++z;for(var F=new Lexer(O,this.settings),U=[],V=F.lex();V.text!=="EOF";)U.push(V),V=F.lex();U.reverse();var q={tokens:U,numArgs:z};return q}return O}isDefined(R){return this.macros.has(R)||functions.hasOwnProperty(R)||symbols.math.hasOwnProperty(R)||symbols.text.hasOwnProperty(R)||implicitCommands.hasOwnProperty(R)}isExpandable(R){var P=this.macros.get(R);return P!=null?typeof P=="string"||typeof P=="function"||!P.unexpandable:functions.hasOwnProperty(R)&&!functions[R].primitive}}var unicodeSubRegEx=/^[]/,uSubsAndSups=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),unicodeAccents={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},unicodeSymbols={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Parser{constructor(R,P){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(R,P,this.mode),this.settings=P,this.leftrightDepth=0}expect(R,P){if(P===void 0&&(P=!0),this.fetch().text!==R)throw new ParseError("Expected '"+R+"', got '"+this.fetch().text+"'",this.fetch());P&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(R){this.mode=R,this.gullet.switchMode(R)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var R=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),R}finally{this.gullet.endGroups()}}subparse(R){var P=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(R);var I=this.parseExpression(!1);return this.expect("}"),this.nextToken=P,I}parseExpression(R,P){for(var I=[];;){this.mode==="math"&&this.consumeSpaces();var O=this.fetch();if(Parser.endOfExpression.indexOf(O.text)!==-1||P&&O.text===P||R&&functions[O.text]&&functions[O.text].infix)break;var z=this.parseAtom(P);if(z){if(z.type==="internal")continue}else break;I.push(z)}return this.mode==="text"&&this.formLigatures(I),this.handleInfixNodes(I)}handleInfixNodes(R){for(var P=-1,I,O=0;O<R.length;O++)if(R[O].type==="infix"){if(P!==-1)throw new ParseError("only one infix operator per group",R[O].token);P=O,I=R[O].replaceWith}if(P!==-1&&I){var z,L,F=R.slice(0,P),U=R.slice(P+1);F.length===1&&F[0].type==="ordgroup"?z=F[0]:z={type:"ordgroup",mode:this.mode,body:F},U.length===1&&U[0].type==="ordgroup"?L=U[0]:L={type:"ordgroup",mode:this.mode,body:U};var V;return I==="\\\\abovefrac"?V=this.callFunction(I,[z,R[P],L],[]):V=this.callFunction(I,[z,L],[]),[V]}else return R}handleSupSubscript(R){var P=this.fetch(),I=P.text;this.consume(),this.consumeSpaces();var O;do{var z;O=this.parseGroup(R)}while(((z=O)==null?void 0:z.type)==="internal");if(!O)throw new ParseError("Expected group after '"+I+"'",P);return O}formatUnsupportedCmd(R){for(var P=[],I=0;I<R.length;I++)P.push({type:"textord",mode:"text",text:R[I]});var O={type:"text",mode:this.mode,body:P},z={type:"color",mode:this.mode,color:this.settings.errorColor,body:[O]};return z}parseAtom(R){var P=this.parseGroup("atom",R);if(P?.type==="internal"||this.mode==="text")return P;for(var I,O;;){this.consumeSpaces();var z=this.fetch();if(z.text==="\\limits"||z.text==="\\nolimits"){if(P&&P.type==="op"){var L=z.text==="\\limits";P.limits=L,P.alwaysHandleSupSub=!0}else if(P&&P.type==="operatorname")P.alwaysHandleSupSub&&(P.limits=z.text==="\\limits");else throw new ParseError("Limit controls must follow a math operator",z);this.consume()}else if(z.text==="^"){if(I)throw new ParseError("Double superscript",z);I=this.handleSupSubscript("superscript")}else if(z.text==="_"){if(O)throw new ParseError("Double subscript",z);O=this.handleSupSubscript("subscript")}else if(z.text==="'"){if(I)throw new ParseError("Double superscript",z);var F={type:"textord",mode:this.mode,text:"\\prime"},U=[F];for(this.consume();this.fetch().text==="'";)U.push(F),this.consume();this.fetch().text==="^"&&U.push(this.handleSupSubscript("superscript")),I={type:"ordgroup",mode:this.mode,body:U}}else if(uSubsAndSups[z.text]){var V=unicodeSubRegEx.test(z.text),q=[];for(q.push(new Token(uSubsAndSups[z.text])),this.consume();;){var W=this.fetch().text;if(!uSubsAndSups[W]||unicodeSubRegEx.test(W)!==V)break;q.unshift(new Token(uSubsAndSups[W])),this.consume()}var Y=this.subparse(q);V?O={type:"ordgroup",mode:"math",body:Y}:I={type:"ordgroup",mode:"math",body:Y}}else break}return I||O?{type:"supsub",mode:this.mode,base:P,sup:I,sub:O}:P}parseFunction(R,P){var I=this.fetch(),O=I.text,z=functions[O];if(!z)return null;if(this.consume(),P&&P!=="atom"&&!z.allowedInArgument)throw new ParseError("Got function '"+O+"' with no arguments"+(P?" as "+P:""),I);if(this.mode==="text"&&!z.allowedInText)throw new ParseError("Can't use function '"+O+"' in text mode",I);if(this.mode==="math"&&z.allowedInMath===!1)throw new ParseError("Can't use function '"+O+"' in math mode",I);var{args:L,optArgs:F}=this.parseArguments(O,z);return this.callFunction(O,L,F,I,R)}callFunction(R,P,I,O,z){var L={funcName:R,parser:this,token:O,breakOnTokenText:z},F=functions[R];if(F&&F.handler)return F.handler(L,P,I);throw new ParseError("No function handler for "+R)}parseArguments(R,P){var I=P.numArgs+P.numOptionalArgs;if(I===0)return{args:[],optArgs:[]};for(var O=[],z=[],L=0;L<I;L++){var F=P.argTypes&&P.argTypes[L],U=L<P.numOptionalArgs;(P.primitive&&F==null||P.type==="sqrt"&&L===1&&z[0]==null)&&(F="primitive");var V=this.parseGroupOfType("argument to '"+R+"'",F,U);if(U)z.push(V);else if(V!=null)O.push(V);else throw new ParseError("Null argument, please report this as a bug")}return{args:O,optArgs:z}}parseGroupOfType(R,P,I){switch(P){case"color":return this.parseColorGroup(I);case"size":return this.parseSizeGroup(I);case"url":return this.parseUrlGroup(I);case"math":case"text":return this.parseArgumentGroup(I,P);case"hbox":{var O=this.parseArgumentGroup(I,"text");return O!=null?{type:"styling",mode:O.mode,body:[O],style:"text"}:null}case"raw":{var z=this.parseStringGroup("raw",I);return z!=null?{type:"raw",mode:"text",string:z.text}:null}case"primitive":{if(I)throw new ParseError("A primitive argument cannot be optional");var L=this.parseGroup(R);if(L==null)throw new ParseError("Expected group as "+R,this.fetch());return L}case"original":case null:case void 0:return this.parseArgumentGroup(I);default:throw new ParseError("Unknown group type as "+R,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(R,P){var I=this.gullet.scanArgument(P);if(I==null)return null;for(var O="",z;(z=this.fetch()).text!=="EOF";)O+=z.text,this.consume();return this.consume(),I.text=O,I}parseRegexGroup(R,P){for(var I=this.fetch(),O=I,z="",L;(L=this.fetch()).text!=="EOF"&&R.test(z+L.text);)O=L,z+=O.text,this.consume();if(z==="")throw new ParseError("Invalid "+P+": '"+I.text+"'",I);return I.range(O,z)}parseColorGroup(R){var P=this.parseStringGroup("color",R);if(P==null)return null;var I=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(P.text);if(!I)throw new ParseError("Invalid color: '"+P.text+"'",P);var O=I[0];return/^[0-9a-f]{6}$/i.test(O)&&(O="#"+O),{type:"color-token",mode:this.mode,color:O}}parseSizeGroup(R){var P,I=!1;if(this.gullet.consumeSpaces(),!R&&this.gullet.future().text!=="{"?P=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):P=this.parseStringGroup("size",R),!P)return null;!R&&P.text.length===0&&(P.text="0pt",I=!0);var O=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(P.text);if(!O)throw new ParseError("Invalid size: '"+P.text+"'",P);var z={number:+(O[1]+O[2]),unit:O[3]};if(!validUnit(z))throw new ParseError("Invalid unit: '"+z.unit+"'",P);return{type:"size",mode:this.mode,value:z,isBlank:I}}parseUrlGroup(R){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var P=this.parseStringGroup("url",R);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),P==null)return null;var I=P.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:I}}parseArgumentGroup(R,P){var I=this.gullet.scanArgument(R);if(I==null)return null;var O=this.mode;P&&this.switchMode(P),this.gullet.beginGroup();var z=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var L={type:"ordgroup",mode:this.mode,loc:I.loc,body:z};return P&&this.switchMode(O),L}parseGroup(R,P){var I=this.fetch(),O=I.text,z;if(O==="{"||O==="\\begingroup"){this.consume();var L=O==="{"?"}":"\\endgroup";this.gullet.beginGroup();var F=this.parseExpression(!1,L),U=this.fetch();this.expect(L),this.gullet.endGroup(),z={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(I,U),body:F,semisimple:O==="\\begingroup"||void 0}}else if(z=this.parseFunction(P,R)||this.parseSymbol(),z==null&&O[0]==="\\"&&!implicitCommands.hasOwnProperty(O)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+O,I);z=this.formatUnsupportedCmd(O),this.consume()}return z}formLigatures(R){for(var P=R.length-1,I=0;I<P;++I){var O=R[I],z=O.text;z==="-"&&R[I+1].text==="-"&&(I+1<P&&R[I+2].text==="-"?(R.splice(I,3,{type:"textord",mode:"text",loc:SourceLocation.range(O,R[I+2]),text:"---"}),P-=2):(R.splice(I,2,{type:"textord",mode:"text",loc:SourceLocation.range(O,R[I+1]),text:"--"}),P-=1)),(z==="'"||z==="`")&&R[I+1].text===z&&(R.splice(I,2,{type:"textord",mode:"text",loc:SourceLocation.range(O,R[I+1]),text:z+z}),P-=1)}}parseSymbol(){var R=this.fetch(),P=R.text;if(/^\\verb[^a-zA-Z]/.test(P)){this.consume();var I=P.slice(5),O=I.charAt(0)==="*";if(O&&(I=I.slice(1)),I.length<2||I.charAt(0)!==I.slice(-1))throw new ParseError(`\\verb assertion failed --
                    please report what input caused this bug`);return I=I.slice(1,-1),{type:"verb",mode:"text",body:I,star:O}}unicodeSymbols.hasOwnProperty(P[0])&&!symbols[this.mode][P[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+P[0]+'" used in math mode',R),P=unicodeSymbols[P[0]]+P.slice(1));var z=combiningDiacriticalMarksEndRegex.exec(P);z&&(P=P.substring(0,z.index),P==="i"?P="":P==="j"&&(P=""));var L;if(symbols[this.mode][P]){this.settings.strict&&this.mode==="math"&&extraLatin.indexOf(P)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+P[0]+'" used in math mode',R);var F=symbols[this.mode][P].group,U=SourceLocation.range(R),V;if(ATOMS.hasOwnProperty(F)){var q=F;V={type:"atom",mode:this.mode,family:q,loc:U,text:P}}else V={type:F,mode:this.mode,loc:U,text:P};L=V}else if(P.charCodeAt(0)>=128)this.settings.strict&&(supportedCodepoint(P.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+P[0]+'" used in math mode',R):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+P[0]+'"'+(" ("+P.charCodeAt(0)+")"),R)),L={type:"textord",mode:"text",loc:SourceLocation.range(R),text:P};else return null;if(this.consume(),z)for(var W=0;W<z[0].length;W++){var Y=z[0][W];if(!unicodeAccents[Y])throw new ParseError("Unknown accent ' "+Y+"'",R);var Q=unicodeAccents[Y][this.mode]||unicodeAccents[Y].text;if(!Q)throw new ParseError("Accent "+Y+" unsupported in "+this.mode+" mode",R);L={type:"accent",mode:this.mode,loc:SourceLocation.range(R),label:Q,isStretchy:!1,isShifty:!0,base:L}}return L}}Parser.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function _(R,P){if(!(typeof R=="string"||R instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var I=new Parser(R,P);delete I.gullet.macros.current["\\df@tag"];var O=I.parse();if(delete I.gullet.macros.current["\\current@color"],delete I.gullet.macros.current["\\color"],I.gullet.macros.get("\\df@tag")){if(!P.displayMode)throw new ParseError("\\tag works only in display equations");O=[{type:"tag",mode:"text",body:O,tag:I.subparse([new Token("\\df@tag")])}]}return O},render=function _(R,P,I){P.textContent="";var O=renderToDomTree(R,I).toNode();P.appendChild(O)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function _(R,P){var I=renderToDomTree(R,P).toMarkup();return I},generateParseTree=function _(R,P){var I=new Settings(P);return parseTree(R,I)},renderError=function _(R,P,I){if(I.throwOnError||!(R instanceof ParseError))throw R;var O=buildCommon.makeSpan(["katex-error"],[new SymbolNode(P)]);return O.setAttribute("title",R.toString()),O.setAttribute("style","color:"+I.errorColor),O},renderToDomTree=function _(R,P){var I=new Settings(P);try{var O=parseTree(R,I);return buildTree(O,R,I)}catch(z){return renderError(z,R,I)}},renderToHTMLTree=function _(R,P){var I=new Settings(P);try{var O=parseTree(R,I);return buildHTMLTree(O,R,I)}catch(z){return renderError(z,R,I)}},version="0.16.27",__domTree={Span,Anchor,SymbolNode,SvgNode,PathNode,LineNode},katex={version,render,renderToString,ParseError,SETTINGS_SCHEMA,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineFunction:defineFunction,__defineMacro:defineMacro,__domTree};const emptyOptions$1={};function remarkMath(_){const R=this,P=_||emptyOptions$1,I=R.data(),O=I.micromarkExtensions||(I.micromarkExtensions=[]),z=I.fromMarkdownExtensions||(I.fromMarkdownExtensions=[]),L=I.toMarkdownExtensions||(I.toMarkdownExtensions=[]);O.push(math$1(P)),z.push(mathFromMarkdown()),L.push(mathToMarkdown(P))}const search=/[#.]/g;function parseSelector(_,R){const P=_||"",I={};let O=0,z,L;for(;O<P.length;){search.lastIndex=O;const F=search.exec(P),U=P.slice(O,F?F.index:P.length);U&&(z?z==="#"?I.id=U:Array.isArray(I.className)?I.className.push(U):I.className=[U]:L=U,O+=U.length),F&&(z=F[0],O++)}return{type:"element",tagName:L||R||"div",properties:I,children:[]}}function createH(_,R,P){const I=P?createAdjustMap(P):void 0;function O(z,L,...F){let U;if(z==null){U={type:"root",children:[]};const V=L;F.unshift(V)}else{U=parseSelector(z,R);const V=U.tagName.toLowerCase(),q=I?I.get(V):void 0;if(U.tagName=q||V,isChild(L))F.unshift(L);else for(const[W,Y]of Object.entries(L))addProperty(_,U.properties,W,Y)}for(const V of F)addChild(U.children,V);return U.type==="element"&&U.tagName==="template"&&(U.content={type:"root",children:U.children},U.children=[]),U}return O}function isChild(_){if(_===null||typeof _!="object"||Array.isArray(_))return!0;if(typeof _.type!="string")return!1;const R=_,P=Object.keys(_);for(const I of P){const O=R[I];if(O&&typeof O=="object"){if(!Array.isArray(O))return!0;const z=O;for(const L of z)if(typeof L!="number"&&typeof L!="string")return!0}}return!!("children"in _&&Array.isArray(_.children))}function addProperty(_,R,P,I){const O=find(_,P);let z;if(I!=null){if(typeof I=="number"){if(Number.isNaN(I))return;z=I}else typeof I=="boolean"?z=I:typeof I=="string"?O.spaceSeparated?z=parse$1(I):O.commaSeparated?z=parse$2(I):O.commaOrSpaceSeparated?z=parse$1(parse$2(I).join(" ")):z=parsePrimitive(O,O.property,I):Array.isArray(I)?z=[...I]:z=O.property==="style"?style(I):String(I);if(Array.isArray(z)){const L=[];for(const F of z)L.push(parsePrimitive(O,O.property,F));z=L}O.property==="className"&&Array.isArray(R.className)&&(z=R.className.concat(z)),R[O.property]=z}}function addChild(_,R){if(R!=null)if(typeof R=="number"||typeof R=="string")_.push({type:"text",value:String(R)});else if(Array.isArray(R))for(const P of R)addChild(_,P);else if(typeof R=="object"&&"type"in R)R.type==="root"?addChild(_,R.children):_.push(R);else throw new Error("Expected node, nodes, or string, got `"+R+"`")}function parsePrimitive(_,R,P){if(typeof P=="string"){if(_.number&&P&&!Number.isNaN(Number(P)))return Number(P);if((_.boolean||_.overloadedBoolean)&&(P===""||normalize$1(P)===normalize$1(R)))return!0}return P}function style(_){const R=[];for(const[P,I]of Object.entries(_))R.push([P,I].join(": "));return R.join("; ")}function createAdjustMap(_){const R=new Map;for(const P of _)R.set(P.toLowerCase(),P);return R}const svgCaseSensitiveTagNames=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],h=createH(html$1,"div"),s=createH(svg,"g",svgCaseSensitiveTagNames),webNamespaces={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function fromDom(_,R){return transform(_,{})||{type:"root",children:[]}}function transform(_,R){const P=one(_,R);return P&&R.afterTransform&&R.afterTransform(_,P),P}function one(_,R){switch(_.nodeType){case 1:return element$1(_,R);case 3:return text(_);case 8:return comment(_);case 9:return root(_,R);case 10:return doctype();case 11:return root(_,R);default:return}}function root(_,R){return{type:"root",children:all(_,R)}}function doctype(){return{type:"doctype"}}function text(_){return{type:"text",value:_.nodeValue||""}}function comment(_){return{type:"comment",value:_.nodeValue||""}}function element$1(_,R){const P=_.namespaceURI,I=P===webNamespaces.svg?s:h,O=P===webNamespaces.html?_.tagName.toLowerCase():_.tagName,z=P===webNamespaces.html&&O==="template"?_.content:_,L=_.getAttributeNames(),F={};let U=-1;for(;++U<L.length;)F[L[U]]=_.getAttribute(L[U])||"";return I(O,F,all(z,R))}function all(_,R){const P=_.childNodes,I=[];let O=-1;for(;++O<P.length;){const z=transform(P[O],R);z!==void 0&&I.push(z)}return I}new DOMParser;function fromHtmlIsomorphic(_,R){const P=parseFragment(_);return fromDom(P)}function parseFragment(_){const R=document.createElement("template");return R.innerHTML=_,R.content}const findAfter=(function(_,R,P){const I=convert(P);if(!_||!_.type||!_.children)throw new Error("Expected parent node");if(typeof R=="number"){if(R<0||R===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(R=_.children.indexOf(R),R<0)throw new Error("Expected child node or index");for(;++R<_.children.length;)if(I(_.children[R],R,_))return _.children[R]}),convertElement=(function(_){if(_==null)return element;if(typeof _=="string")return tagNameFactory(_);if(typeof _=="object")return anyFactory(_);if(typeof _=="function")return castFactory(_);throw new Error("Expected function, string, or array as `test`")});function anyFactory(_){const R=[];let P=-1;for(;++P<_.length;)R[P]=convertElement(_[P]);return castFactory(I);function I(...O){let z=-1;for(;++z<R.length;)if(R[z].apply(this,O))return!0;return!1}}function tagNameFactory(_){return castFactory(R);function R(P){return P.tagName===_}}function castFactory(_){return R;function R(P,I,O){return!!(looksLikeAnElement(P)&&_.call(this,P,typeof I=="number"?I:void 0,O||void 0))}}function element(_){return!!(_&&typeof _=="object"&&"type"in _&&_.type==="element"&&"tagName"in _&&typeof _.tagName=="string")}function looksLikeAnElement(_){return _!==null&&typeof _=="object"&&"type"in _&&"tagName"in _}const searchLineFeeds=/\n/g,searchTabOrSpaces=/[\t ]+/g,br=convertElement("br"),cell=convertElement(isCell),p=convertElement("p"),row=convertElement("tr"),notRendered=convertElement(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",hidden,closedDialog]),blockOrCaption=convertElement(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function toText(_,R){const P=R||{},I="children"in _?_.children:[],O=blockOrCaption(_),z=inferWhitespace(_,{whitespace:P.whitespace||"normal"}),L=[];(_.type==="text"||_.type==="comment")&&L.push(...collectText(_,{breakBefore:!0,breakAfter:!0}));let F=-1;for(;++F<I.length;)L.push(...renderedTextCollection(I[F],_,{whitespace:z,breakBefore:F?void 0:O,breakAfter:F<I.length-1?br(I[F+1]):O}));const U=[];let V;for(F=-1;++F<L.length;){const q=L[F];typeof q=="number"?V!==void 0&&q>V&&(V=q):q&&(V!==void 0&&V>-1&&U.push(`
`.repeat(V)||" "),V=-1,U.push(q))}return U.join("")}function renderedTextCollection(_,R,P){return _.type==="element"?collectElement(_,R,P):_.type==="text"?P.whitespace==="normal"?collectText(_,P):collectPreText(_):[]}function collectElement(_,R,P){const I=inferWhitespace(_,P),O=_.children||[];let z=-1,L=[];if(notRendered(_))return L;let F,U;for(br(_)||row(_)&&findAfter(R,_,row)?U=`
`:p(_)?(F=2,U=2):blockOrCaption(_)&&(F=1,U=1);++z<O.length;)L=L.concat(renderedTextCollection(O[z],_,{whitespace:I,breakBefore:z?void 0:F,breakAfter:z<O.length-1?br(O[z+1]):U}));return cell(_)&&findAfter(R,_,cell)&&L.push("	"),F&&L.unshift(F),U&&L.push(U),L}function collectText(_,R){const P=String(_.value),I=[],O=[];let z=0;for(;z<=P.length;){searchLineFeeds.lastIndex=z;const U=searchLineFeeds.exec(P),V=U&&"index"in U?U.index:P.length;I.push(trimAndCollapseSpacesAndTabs(P.slice(z,V).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),z===0?R.breakBefore:!0,V===P.length?R.breakAfter:!0)),z=V+1}let L=-1,F;for(;++L<I.length;)I[L].charCodeAt(I[L].length-1)===8203||L<I.length-1&&I[L+1].charCodeAt(0)===8203?(O.push(I[L]),F=void 0):I[L]?(typeof F=="number"&&O.push(F),O.push(I[L]),F=0):(L===0||L===I.length-1)&&O.push(0);return O}function collectPreText(_){return[String(_.value)]}function trimAndCollapseSpacesAndTabs(_,R,P){const I=[];let O=0,z;for(;O<_.length;){searchTabOrSpaces.lastIndex=O;const L=searchTabOrSpaces.exec(_);z=L?L.index:_.length,!O&&!z&&L&&!R&&I.push(""),O!==z&&I.push(_.slice(O,z)),O=L?z+L[0].length:z}return O!==z&&!P&&I.push(""),I.join(" ")}function inferWhitespace(_,R){if(_.type==="element"){const P=_.properties||{};switch(_.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return P.wrap?"pre-wrap":"pre";case"td":case"th":return P.noWrap?"nowrap":R.whitespace;case"textarea":return"pre-wrap"}}return R.whitespace}function hidden(_){return!!(_.properties||{}).hidden}function isCell(_){return _.tagName==="td"||_.tagName==="th"}function closedDialog(_){return _.tagName==="dialog"&&!(_.properties||{}).open}const emptyOptions={},emptyClasses=[];function rehypeKatex(_){const R=_||emptyOptions;return function(P,I){visitParents(P,"element",function(O,z){const L=Array.isArray(O.properties.className)?O.properties.className:emptyClasses,F=L.includes("language-math"),U=L.includes("math-display"),V=L.includes("math-inline");let q=U;if(!F&&!U&&!V)return;let W=z[z.length-1],Y=O;if(O.tagName==="code"&&F&&W&&W.type==="element"&&W.tagName==="pre"&&(Y=W,W=z[z.length-2],q=!0),!W)return;const Q=toText(Y,{whitespace:"pre"});let ee;try{ee=katex.renderToString(Q,{...R,displayMode:q,throwOnError:!0})}catch(ie){const ae=ie,se=ae.name.toLowerCase();I.message("Could not render math with KaTeX",{ancestors:[...z,O],cause:ae,place:O.position,ruleId:se,source:"rehype-katex"});try{ee=katex.renderToString(Q,{...R,displayMode:q,strict:"ignore",throwOnError:!1})}catch{ee=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(R.errorColor||"#cc0000"),title:String(ie)},children:[{type:"text",value:Q}]}]}}typeof ee=="string"&&(ee=fromHtmlIsomorphic(ee).children);const te=W.children.indexOf(Y);return W.children.splice(te,1,...ee),SKIP})}}function MarkdownPage({content:_}){return jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto p-8 prose-container",children:[jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkMath],rehypePlugins:[rehypeKatex],children:_}),jsxRuntimeExports.jsx("style",{children:`
        .prose-container { line-height: 1.6; }
        .prose-container h1 { font-size: 2rem; font-weight: 700; margin: 0 0 1.5rem; border-bottom: 2px solid hsl(var(--border)); padding-bottom: 0.5rem; }
        .prose-container h2 { font-size: 1.5rem; font-weight: 600; margin: 2rem 0 1rem; border-bottom: 1px solid hsl(var(--border)); padding-bottom: 0.25rem; }
        .prose-container h3 { font-size: 1.25rem; font-weight: 600; margin: 1.5rem 0 0.75rem; }
        .prose-container h4 { font-size: 1.1rem; font-weight: 600; margin: 1.25rem 0 0.5rem; color: hsl(var(--muted-foreground)); }
        .prose-container p { margin: 0.75rem 0; }
        .prose-container ul, .prose-container ol { margin: 0.5rem 0; padding-left: 1.5rem; }
        .prose-container li { margin: 0.25rem 0; }
        .prose-container a { color: hsl(var(--primary)); text-decoration: underline; text-underline-offset: 2px; }
        .prose-container a:hover { color: hsl(var(--primary) / 0.8); }
        .prose-container code { background: hsl(var(--muted)); padding: 0.125rem 0.25rem; border-radius: 0.25rem; font-size: 0.875em; }
        .prose-container pre { background: hsl(var(--muted)); padding: 0.75rem; border-radius: 0.375rem; overflow-x: auto; margin: 0.75rem 0; }
        .prose-container pre code { background: none; padding: 0; }
        .prose-container .katex-display { text-align: center; margin: 1rem 0; }
      `})]})}const docsIndex=`# EHT Simulator Documentation

## EHT Model

- [Model Description](#/docs/eht/model) - Cell representation, forces, geometry, and cell cycle
- [Statistics](#/docs/eht/statistics) - Computed metrics and their definitions
`,ehtModel=`# EHT Model Description

The **Epithelial-to-Hematopoietic Transition (EHT)** model simulates cell dynamics in epithelial tissue, particularly focusing on cells undergoing transition processes like EMT (Epithelial-to-Mesenchymal Transition).

## Cell Representation

Each cell consists of three points:

- **X** = (x, y): Nucleus position
- **A** = (A_x, A_y): Apical point (top attachment)
- **B** = (B_x, B_y): Basal point (bottom attachment)

## Forces

The model uses an overdamped dynamics system where forces drive cell motion. The total force on each cell component determines its velocity.

### 1. Cell-Cell Repulsion

Soft repulsion between overlapping cell nuclei:

$$F_{rep} = -k_{rep} \\frac{R_{ij} - d}{d \\cdot R_{ij}^2} \\cdot \\hat{r}_{ij}$$

where:
- $d$ = distance between nuclei
- $R_{ij} = R_i^{soft} + R_j^{soft}$ (sum of soft radii)
- $k_{rep}$ = repulsion stiffness
- Active when $d < R_{ij}$

### 2. Apical-Nucleus Spring

Connects nucleus X to apical point A:

$$F_{AX} = 2 k_{AX} \\frac{|AX| - \\ell_{AX}}{|AX| \\cdot \\ell_{AX}^2} \\cdot \\widehat{AX}$$

where:
- $\\ell_{AX} = \\eta_A + R$ (rest length = cytoskeleton length + cell radius)
- $k_{AX}$ = apical-nucleus stiffness

### 3. Basal-Nucleus Spring

Connects nucleus X to basal point B:

$$F_{BX} = 2 k_{BX} \\frac{|BX| - \\ell_{BX}}{|BX| \\cdot \\ell_{BX}^2} \\cdot \\widehat{BX}$$

where:
- $\\ell_{BX} = \\eta_B + R$ (rest length)
- $k_{BX}$ = basal-nucleus stiffness

### 4. Straightness Constraint

Penalizes deviation from straight A-X-B alignment:

$$E_{straight} = k_S \\frac{(X-A) \\cdot (X-B)}{|X-A| \\cdot |X-B|}$$

This energy term encourages the cell to maintain a straight configuration.

### 5. Apical Junction Springs

Connects apical points of neighboring cells:

$$F_{AA} = \\frac{k_{AA}}{4} \\frac{d - \\ell_0}{d} \\cdot \\hat{r}_{ij}$$

where:
- $d$ = distance between apical points
- $\\ell_0$ = rest length (stored per link)

## Geometry

The basal membrane can be:
- **Straight line**: When perimeter = 0
- **Elliptical curve**: Defined by perimeter and aspect ratio

Cells attach their basal points (B) to this curve and apical points (A) form a connected strip via apical links.

## Cell Cycle

Cells progress through phases:
1. **G1**: Normal growth
2. **G2**: Pre-mitosis (moving toward apical surface)
3. **Mitosis**: Division in progress
4. **Division**: Ready to divide (triggers division logic)

## EMT Events

Cells undergoing EMT lose properties over time:
- **time_A**: Lose apical adhesion
- **time_B**: Lose basal adhesion
- **time_S**: Lose straightness constraint
- **time_P**: Start polarized running behavior
`,ehtStatistics=`# EHT Statistics

Statistics are computed per cell and then aggregated (mean or fraction) over cell groups. Groups include individual cell types (e.g., \`control\`, \`emt\`) and \`all\`. **Note:** Pair combinations (e.g., \`control+emt\`) are not computed.

## Cell Groups

Statistics are computed for the following groups:

- **\`all\`**: All cells, excluding boundary control cells (see Boundary Cell Handling below)
- **Individual cell types**: One group per cell type defined in parameters (e.g., \`control\`, \`emt\`, \`counter_control\`)

## Boundary Cell Handling

When \`full_circle = false\`:
- The leftmost and rightmost 10% of control cells (based on arc length along the basal curve) are identified as **boundary cells**
- These cells are reclassified as \`control_boundary\` for statistics purposes
- \`control_boundary\` cells are:
  - Excluded from the \`all\` group
  - Excluded from the \`control\` group
  - Not included as a separate statistics group (no plots generated)
- This exclusion helps remove edge effects from statistical analysis

When \`full_circle = true\`:
- No boundary detection is performed
- All control cells remain in the \`control\` group

## Geometric Quantities

For each cell with nucleus **X**, apical point **A**, and basal point **B**:

- **a**: Projection of X onto the apical line strip (formed by connected apical points)
- **b**: Projection of X onto the basal curve

## Statistics Definitions

### ab_distance

**Apical-Basal Distance**

$$\\text{ab\\_distance} = |A - B|$$

The Euclidean distance between the apical and basal points. Measures the cell's vertical extent.

### AX

**Apical-Nucleus Distance**

$$AX = |A - X|$$

Distance from the apical point to the nucleus.

### BX

**Basal-Nucleus Distance**

$$BX = |B - X|$$

Distance from the basal point to the nucleus.

### ax

**Nucleus to Apical Strip Distance**

$$ax = |X - a|$$

Distance from the nucleus to its projection onto the apical line strip. Measures how far the nucleus is from the apical surface.

### bx

**Nucleus to Basal Curve Distance**

$$bx = |X - b|$$

Distance from the nucleus to its projection onto the basal curve. Measures how far the nucleus is from the basal membrane.

### x

**Position on Basal-Apical Scale**

$$x = \\frac{(X - b) \\cdot (a - b)}{|a - b|^2}$$

Normalized position of the nucleus between basal (x=0) and apical (x=1) projections:
- x = 0: Nucleus at basal level
- x = 1: Nucleus at apical level
- x < 0: Below basal
- x > 1: Above apical

### below_basal

**Fraction Below Basal Layer**

$$\\text{below\\_basal} = \\begin{cases} 1 & \\text{if } x < 0 \\\\ 0 & \\text{otherwise} \\end{cases}$$

Binary indicator (0 or 1) for whether the cell's nucleus is below the basal layer. Aggregated as fraction over cell group.

### above_apical

**Fraction Above Apical Layer**

$$\\text{above\\_apical} = \\begin{cases} 1 & \\text{if } x > 1 \\\\ 0 & \\text{otherwise} \\end{cases}$$

Binary indicator for whether the cell's nucleus is above the apical layer. Aggregated as fraction over cell group.

### below_control_cells

**Fraction Below Lowest Control Cell**

$$\\text{below\\_control\\_cells} = \\begin{cases} 1 & \\text{if } bx < \\min_{c \\in \\text{control (non-boundary)}} bx_c \\\\ 0 & \\text{otherwise} \\end{cases}$$

Binary indicator for whether the cell's basal distance (bx) is less than the minimum bx among all non-boundary control cells. This identifies cells that have migrated below the control cell population. **Note:** Boundary control cells are excluded when computing the minimum control cell bx.

## Output Format

Statistics are exported with the naming convention \`{statistic}_{group}\`.

**Examples with 2 cell types (control, emt):**
- \`ab_distance_all\`: Mean AB distance across all non-boundary cells
- \`x_control\`: Mean x position for control cells (excluding boundary)
- \`below_basal_emt\`: Fraction of emt cells below basal layer
- \`below_control_cells_emt\`: Fraction of emt cells below the lowest control cell

**Total statistics count:**
- For N cell types: \`9 metrics  (N + 1) groups\`
- Example: 2 cell types  27 statistics (9  3 groups: all, control, emt)
- Example: 3 cell types  36 statistics (9  4 groups: all, control, emt, counter_control)
`;function AppContent(){const{currentParams:_,setParams:R,setModel:P}=useModel();reactExports.useEffect(()=>{const F=decodeParamsFromUrl();F&&(P(F.modelName),R(F.params),clearUrlParams())},[P,R]);const[I,O]=reactExports.useState({parameterRanges:[],timeSamples:{...DEFAULT_TIME_SAMPLES},seedsPerConfig:1}),z=reactExports.useMemo(()=>({params:_,...I}),[_,I]),L=reactExports.useCallback(F=>{R(F.params),O({parameterRanges:F.parameterRanges,timeSamples:F.timeSamples,seedsPerConfig:F.seedsPerConfig})},[R]);return jsxRuntimeExports.jsx(AppLayout,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("section",{children:jsxRuntimeExports.jsx(SingleSimulationTab,{})}),jsxRuntimeExports.jsx("section",{children:jsxRuntimeExports.jsx(ParameterConfigView,{config:z,onConfigChange:L})}),jsxRuntimeExports.jsx("section",{className:"lg:col-span-2",children:jsxRuntimeExports.jsx(BatchTab,{config:z,onConfigChange:L})})]})})}function App(){return jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsx(ModelProvider,{children:jsxRuntimeExports.jsx(MessagesProvider,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(AppContent,{})}),jsxRuntimeExports.jsx(Route,{path:"/docs",element:jsxRuntimeExports.jsx(MarkdownPage,{content:docsIndex})}),jsxRuntimeExports.jsx(Route,{path:"/docs/eht/model",element:jsxRuntimeExports.jsx(MarkdownPage,{content:ehtModel})}),jsxRuntimeExports.jsx(Route,{path:"/docs/eht/statistics",element:jsxRuntimeExports.jsx(MarkdownPage,{content:ehtStatistics})})]})})})})}console.log("[Main] Registering global for debug");window.EHT_REGISTRY=modelRegistry;clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{RenderGroup as $,AbstractRenderer as A,BufferUsage as B,Container as C,DOMAdapter as D,ExtensionType as E,TexturePool as F,GpuProgram as G,FilterEffect as H,Sprite as I,getAttributeInfoFromFormat as J,unsafeEvalSupported as K,GlobalResourceRegistry as L,Matrix as M,uid as N,Rectangle as O,Point as P,SystemRunner as Q,RendererType as R,Shader as S,Ticker as T,UPDATE_PRIORITY as U,multiplyColors as V,UPDATE_VISIBLE as W,UPDATE_COLOR as X,UPDATE_BLEND as Y,TextureStyle as Z,Color$1 as _,GlProgram as a,getLocalBounds as a0,VERSION as a1,deprecation as a2,v8_0_0 as a3,RendererInitHook as a4,Geometry as a5,checkMaxIfStatementsInShader as a6,compileHighShaderGlProgram as a7,colorBitGl as a8,generateTextureBatchBitGl as a9,roundPixelsBitGl as aa,getBatchSamplersUniformGroup as ab,fontStringFromTextStyle as ac,CanvasTextMetrics as ad,ImageSource as ae,getCanvasFillStyle as af,TextStyle as ag,lru as ah,Cache as ai,BatchableGraphics as aj,getAdjustedBlendModeBlend as ak,ViewableBuffer as al,Graphics as am,updateQuadBounds as an,CanvasTextGenerator as ao,GraphicsContextSystem as ap,EventEmitter as b,STENCIL_MODES as c,Buffer$1 as d,extensions as e,fastCopy as f,getTextureBatchBindGroup as g,BindGroup as h,createIdFromString as i,CLEAR as j,CanvasSource as k,TextureSource as l,UniformGroup as m,CanvasPool as n,compileHighShaderGpuProgram as o,colorBit as p,generateTextureBatchBit as q,removeItems as r,roundPixelsBit as s,Texture as t,TextureMatrix as u,DefaultBatcher as v,warn$1 as w,BigPool as x,getGlobalBounds as y,Bounds as z};
//# sourceMappingURL=index-BU1ry0fx.js.map
