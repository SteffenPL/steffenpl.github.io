const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-BID_lnER.js","assets/webworkerAll-DNWdHLm0.js","assets/colorToUniform-BTP9sIPI.js","assets/WebGPURenderer-DSaYULO0.js","assets/SharedSystems-hMZH6tz9.js","assets/WebGLRenderer-D6ShxdHV.js"])))=>i.map(i=>d[i]);
function _mergeNamespaces(_,R){for(var P=0;P<R.length;P++){const O=R[P];if(typeof O!="string"&&!Array.isArray(O)){for(const I in O)if(I!=="default"&&!(I in _)){const L=Object.getOwnPropertyDescriptor(O,I);L&&Object.defineProperty(_,I,L.get?L:{enumerable:!0,get:()=>O[I]})}}}return Object.freeze(Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}))}(function(){const R=document.createElement("link").relList;if(R&&R.supports&&R.supports("modulepreload"))return;for(const I of document.querySelectorAll('link[rel="modulepreload"]'))O(I);new MutationObserver(I=>{for(const L of I)if(L.type==="childList")for(const z of L.addedNodes)z.tagName==="LINK"&&z.rel==="modulepreload"&&O(z)}).observe(document,{childList:!0,subtree:!0});function P(I){const L={};return I.integrity&&(L.integrity=I.integrity),I.referrerPolicy&&(L.referrerPolicy=I.referrerPolicy),I.crossOrigin==="use-credentials"?L.credentials="include":I.crossOrigin==="anonymous"?L.credentials="omit":L.credentials="same-origin",L}function O(I){if(I.ep)return;I.ep=!0;const L=P(I);fetch(I.href,L)}})();function getDefaultExportFromCjs(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}function getAugmentedNamespace(_){if(Object.prototype.hasOwnProperty.call(_,"__esModule"))return _;var R=_.default;if(typeof R=="function"){var P=function O(){var I=!1;try{I=this instanceof O}catch{}return I?Reflect.construct(R,arguments,this.constructor):R.apply(this,arguments)};P.prototype=R.prototype}else P={};return Object.defineProperty(P,"__esModule",{value:!0}),Object.keys(_).forEach(function(O){var I=Object.getOwnPropertyDescriptor(_,O);Object.defineProperty(P,O,I.get?I:{enumerable:!0,get:function(){return _[O]}})}),P}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var _=Symbol.for("react.transitional.element"),R=Symbol.for("react.fragment");function P(O,I,L){var z=null;if(L!==void 0&&(z=""+L),I.key!==void 0&&(z=""+I.key),"key"in I){L={};for(var F in I)F!=="key"&&(L[F]=I[F])}else L=I;return I=L.ref,{$$typeof:_,type:O,key:z,ref:I!==void 0?I:null,props:L}}return reactJsxRuntime_production.Fragment=R,reactJsxRuntime_production.jsx=P,reactJsxRuntime_production.jsxs=P,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var _=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),z=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),V=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),Q=Symbol.iterator;function J(Ee){return Ee===null||typeof Ee!="object"?null:(Ee=Q&&Ee[Q]||Ee["@@iterator"],typeof Ee=="function"?Ee:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,ie={};function se(Ee,ke,xe){this.props=Ee,this.context=ke,this.refs=ie,this.updater=xe||te}se.prototype.isReactComponent={},se.prototype.setState=function(Ee,ke){if(typeof Ee!="object"&&typeof Ee!="function"&&Ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ee,ke,"setState")},se.prototype.forceUpdate=function(Ee){this.updater.enqueueForceUpdate(this,Ee,"forceUpdate")};function oe(){}oe.prototype=se.prototype;function ce(Ee,ke,xe){this.props=Ee,this.context=ke,this.refs=ie,this.updater=xe||te}var ue=ce.prototype=new oe;ue.constructor=ce,ne(ue,se.prototype),ue.isPureReactComponent=!0;var me=Array.isArray;function he(){}var fe={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function pe(Ee,ke,xe){var ze=xe.ref;return{$$typeof:_,type:Ee,key:ke,ref:ze!==void 0?ze:null,props:xe}}function be(Ee,ke){return pe(Ee.type,ke,Ee.props)}function ye(Ee){return typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===_}function we(Ee){var ke={"=":"=0",":":"=2"};return"$"+Ee.replace(/[=:]/g,function(xe){return ke[xe]})}var ve=/\/+/g;function Ae(Ee,ke){return typeof Ee=="object"&&Ee!==null&&Ee.key!=null?we(""+Ee.key):ke.toString(36)}function Ce(Ee){switch(Ee.status){case"fulfilled":return Ee.value;case"rejected":throw Ee.reason;default:switch(typeof Ee.status=="string"?Ee.then(he,he):(Ee.status="pending",Ee.then(function(ke){Ee.status==="pending"&&(Ee.status="fulfilled",Ee.value=ke)},function(ke){Ee.status==="pending"&&(Ee.status="rejected",Ee.reason=ke)})),Ee.status){case"fulfilled":return Ee.value;case"rejected":throw Ee.reason}}throw Ee}function _e(Ee,ke,xe,ze,Ze){var Ye=typeof Ee;(Ye==="undefined"||Ye==="boolean")&&(Ee=null);var Ie=!1;if(Ee===null)Ie=!0;else switch(Ye){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(Ee.$$typeof){case _:case R:Ie=!0;break;case Z:return Ie=Ee._init,_e(Ie(Ee._payload),ke,xe,ze,Ze)}}if(Ie)return Ze=Ze(Ee),Ie=ze===""?"."+Ae(Ee,0):ze,me(Ze)?(xe="",Ie!=null&&(xe=Ie.replace(ve,"$&/")+"/"),_e(Ze,ke,xe,"",function(Ve){return Ve})):Ze!=null&&(ye(Ze)&&(Ze=be(Ze,xe+(Ze.key==null||Ee&&Ee.key===Ze.key?"":(""+Ze.key).replace(ve,"$&/")+"/")+Ie)),ke.push(Ze)),1;Ie=0;var Ge=ze===""?".":ze+":";if(me(Ee))for(var Oe=0;Oe<Ee.length;Oe++)ze=Ee[Oe],Ye=Ge+Ae(ze,Oe),Ie+=_e(ze,ke,xe,Ye,Ze);else if(Oe=J(Ee),typeof Oe=="function")for(Ee=Oe.call(Ee),Oe=0;!(ze=Ee.next()).done;)ze=ze.value,Ye=Ge+Ae(ze,Oe++),Ie+=_e(ze,ke,xe,Ye,Ze);else if(Ye==="object"){if(typeof Ee.then=="function")return _e(Ce(Ee),ke,xe,ze,Ze);throw ke=String(Ee),Error("Objects are not valid as a React child (found: "+(ke==="[object Object]"?"object with keys {"+Object.keys(Ee).join(", ")+"}":ke)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Re(Ee,ke,xe){if(Ee==null)return Ee;var ze=[],Ze=0;return _e(Ee,ze,"","",function(Ye){return ke.call(xe,Ye,Ze++)}),ze}function Me(Ee){if(Ee._status===-1){var ke=Ee._result;ke=ke(),ke.then(function(xe){(Ee._status===0||Ee._status===-1)&&(Ee._status=1,Ee._result=xe)},function(xe){(Ee._status===0||Ee._status===-1)&&(Ee._status=2,Ee._result=xe)}),Ee._status===-1&&(Ee._status=0,Ee._result=ke)}if(Ee._status===1)return Ee._result.default;throw Ee._result}var $e=typeof reportError=="function"?reportError:function(Ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ke=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Ee=="object"&&Ee!==null&&typeof Ee.message=="string"?String(Ee.message):String(Ee),error:Ee});if(!window.dispatchEvent(ke))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Ee);return}console.error(Ee)},Se={map:Re,forEach:function(Ee,ke,xe){Re(Ee,function(){ke.apply(this,arguments)},xe)},count:function(Ee){var ke=0;return Re(Ee,function(){ke++}),ke},toArray:function(Ee){return Re(Ee,function(ke){return ke})||[]},only:function(Ee){if(!ye(Ee))throw Error("React.Children.only expected to receive a single React element child.");return Ee}};return react_production.Activity=Y,react_production.Children=Se,react_production.Component=se,react_production.Fragment=P,react_production.Profiler=I,react_production.PureComponent=ce,react_production.StrictMode=O,react_production.Suspense=G,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Ee){return fe.H.useMemoCache(Ee)}},react_production.cache=function(Ee){return function(){return Ee.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(Ee,ke,xe){if(Ee==null)throw Error("The argument must be a React element, but you passed "+Ee+".");var ze=ne({},Ee.props),Ze=Ee.key;if(ke!=null)for(Ye in ke.key!==void 0&&(Ze=""+ke.key),ke)!de.call(ke,Ye)||Ye==="key"||Ye==="__self"||Ye==="__source"||Ye==="ref"&&ke.ref===void 0||(ze[Ye]=ke[Ye]);var Ye=arguments.length-2;if(Ye===1)ze.children=xe;else if(1<Ye){for(var Ie=Array(Ye),Ge=0;Ge<Ye;Ge++)Ie[Ge]=arguments[Ge+2];ze.children=Ie}return pe(Ee.type,Ze,ze)},react_production.createContext=function(Ee){return Ee={$$typeof:z,_currentValue:Ee,_currentValue2:Ee,_threadCount:0,Provider:null,Consumer:null},Ee.Provider=Ee,Ee.Consumer={$$typeof:L,_context:Ee},Ee},react_production.createElement=function(Ee,ke,xe){var ze,Ze={},Ye=null;if(ke!=null)for(ze in ke.key!==void 0&&(Ye=""+ke.key),ke)de.call(ke,ze)&&ze!=="key"&&ze!=="__self"&&ze!=="__source"&&(Ze[ze]=ke[ze]);var Ie=arguments.length-2;if(Ie===1)Ze.children=xe;else if(1<Ie){for(var Ge=Array(Ie),Oe=0;Oe<Ie;Oe++)Ge[Oe]=arguments[Oe+2];Ze.children=Ge}if(Ee&&Ee.defaultProps)for(ze in Ie=Ee.defaultProps,Ie)Ze[ze]===void 0&&(Ze[ze]=Ie[ze]);return pe(Ee,Ye,Ze)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Ee){return{$$typeof:F,render:Ee}},react_production.isValidElement=ye,react_production.lazy=function(Ee){return{$$typeof:Z,_payload:{_status:-1,_result:Ee},_init:Me}},react_production.memo=function(Ee,ke){return{$$typeof:V,type:Ee,compare:ke===void 0?null:ke}},react_production.startTransition=function(Ee){var ke=fe.T,xe={};fe.T=xe;try{var ze=Ee(),Ze=fe.S;Ze!==null&&Ze(xe,ze),typeof ze=="object"&&ze!==null&&typeof ze.then=="function"&&ze.then(he,$e)}catch(Ye){$e(Ye)}finally{ke!==null&&xe.types!==null&&(ke.types=xe.types),fe.T=ke}},react_production.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},react_production.use=function(Ee){return fe.H.use(Ee)},react_production.useActionState=function(Ee,ke,xe){return fe.H.useActionState(Ee,ke,xe)},react_production.useCallback=function(Ee,ke){return fe.H.useCallback(Ee,ke)},react_production.useContext=function(Ee){return fe.H.useContext(Ee)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Ee,ke){return fe.H.useDeferredValue(Ee,ke)},react_production.useEffect=function(Ee,ke){return fe.H.useEffect(Ee,ke)},react_production.useEffectEvent=function(Ee){return fe.H.useEffectEvent(Ee)},react_production.useId=function(){return fe.H.useId()},react_production.useImperativeHandle=function(Ee,ke,xe){return fe.H.useImperativeHandle(Ee,ke,xe)},react_production.useInsertionEffect=function(Ee,ke){return fe.H.useInsertionEffect(Ee,ke)},react_production.useLayoutEffect=function(Ee,ke){return fe.H.useLayoutEffect(Ee,ke)},react_production.useMemo=function(Ee,ke){return fe.H.useMemo(Ee,ke)},react_production.useOptimistic=function(Ee,ke){return fe.H.useOptimistic(Ee,ke)},react_production.useReducer=function(Ee,ke,xe){return fe.H.useReducer(Ee,ke,xe)},react_production.useRef=function(Ee){return fe.H.useRef(Ee)},react_production.useState=function(Ee){return fe.H.useState(Ee)},react_production.useSyncExternalStore=function(Ee,ke,xe){return fe.H.useSyncExternalStore(Ee,ke,xe)},react_production.useTransition=function(){return fe.H.useTransition()},react_production.version="19.2.3",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React4=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(_){function R(_e,Re){var Me=_e.length;_e.push(Re);e:for(;0<Me;){var $e=Me-1>>>1,Se=_e[$e];if(0<I(Se,Re))_e[$e]=Re,_e[Me]=Se,Me=$e;else break e}}function P(_e){return _e.length===0?null:_e[0]}function O(_e){if(_e.length===0)return null;var Re=_e[0],Me=_e.pop();if(Me!==Re){_e[0]=Me;e:for(var $e=0,Se=_e.length,Ee=Se>>>1;$e<Ee;){var ke=2*($e+1)-1,xe=_e[ke],ze=ke+1,Ze=_e[ze];if(0>I(xe,Me))ze<Se&&0>I(Ze,xe)?(_e[$e]=Ze,_e[ze]=Me,$e=ze):(_e[$e]=xe,_e[ke]=Me,$e=ke);else if(ze<Se&&0>I(Ze,Me))_e[$e]=Ze,_e[ze]=Me,$e=ze;else break e}}return Re}function I(_e,Re){var Me=_e.sortIndex-Re.sortIndex;return Me!==0?Me:_e.id-Re.id}if(_.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var L=performance;_.unstable_now=function(){return L.now()}}else{var z=Date,F=z.now();_.unstable_now=function(){return z.now()-F}}var G=[],V=[],Z=1,Y=null,Q=3,J=!1,te=!1,ne=!1,ie=!1,se=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function ue(_e){for(var Re=P(V);Re!==null;){if(Re.callback===null)O(V);else if(Re.startTime<=_e)O(V),Re.sortIndex=Re.expirationTime,R(G,Re);else break;Re=P(V)}}function me(_e){if(ne=!1,ue(_e),!te)if(P(G)!==null)te=!0,he||(he=!0,we());else{var Re=P(V);Re!==null&&Ce(me,Re.startTime-_e)}}var he=!1,fe=-1,de=5,pe=-1;function be(){return ie?!0:!(_.unstable_now()-pe<de)}function ye(){if(ie=!1,he){var _e=_.unstable_now();pe=_e;var Re=!0;try{e:{te=!1,ne&&(ne=!1,oe(fe),fe=-1),J=!0;var Me=Q;try{t:{for(ue(_e),Y=P(G);Y!==null&&!(Y.expirationTime>_e&&be());){var $e=Y.callback;if(typeof $e=="function"){Y.callback=null,Q=Y.priorityLevel;var Se=$e(Y.expirationTime<=_e);if(_e=_.unstable_now(),typeof Se=="function"){Y.callback=Se,ue(_e),Re=!0;break t}Y===P(G)&&O(G),ue(_e)}else O(G);Y=P(G)}if(Y!==null)Re=!0;else{var Ee=P(V);Ee!==null&&Ce(me,Ee.startTime-_e),Re=!1}}break e}finally{Y=null,Q=Me,J=!1}Re=void 0}}finally{Re?we():he=!1}}}var we;if(typeof ce=="function")we=function(){ce(ye)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Ae=ve.port2;ve.port1.onmessage=ye,we=function(){Ae.postMessage(null)}}else we=function(){se(ye,0)};function Ce(_e,Re){fe=se(function(){_e(_.unstable_now())},Re)}_.unstable_IdlePriority=5,_.unstable_ImmediatePriority=1,_.unstable_LowPriority=4,_.unstable_NormalPriority=3,_.unstable_Profiling=null,_.unstable_UserBlockingPriority=2,_.unstable_cancelCallback=function(_e){_e.callback=null},_.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<_e?Math.floor(1e3/_e):5},_.unstable_getCurrentPriorityLevel=function(){return Q},_.unstable_next=function(_e){switch(Q){case 1:case 2:case 3:var Re=3;break;default:Re=Q}var Me=Q;Q=Re;try{return _e()}finally{Q=Me}},_.unstable_requestPaint=function(){ie=!0},_.unstable_runWithPriority=function(_e,Re){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var Me=Q;Q=_e;try{return Re()}finally{Q=Me}},_.unstable_scheduleCallback=function(_e,Re,Me){var $e=_.unstable_now();switch(typeof Me=="object"&&Me!==null?(Me=Me.delay,Me=typeof Me=="number"&&0<Me?$e+Me:$e):Me=$e,_e){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=Me+Se,_e={id:Z++,callback:Re,priorityLevel:_e,startTime:Me,expirationTime:Se,sortIndex:-1},Me>$e?(_e.sortIndex=Me,R(V,_e),P(G)===null&&_e===P(V)&&(ne?(oe(fe),fe=-1):ne=!0,Ce(me,Me-$e))):(_e.sortIndex=Se,R(G,_e),te||J||(te=!0,he||(he=!0,we()))),_e},_.unstable_shouldYield=be,_.unstable_wrapCallback=function(_e){var Re=Q;return function(){var Me=Q;Q=Re;try{return _e.apply(this,arguments)}finally{Q=Me}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var _=requireReact();function R(G){var V="https://react.dev/errors/"+G;if(1<arguments.length){V+="?args[]="+encodeURIComponent(arguments[1]);for(var Z=2;Z<arguments.length;Z++)V+="&args[]="+encodeURIComponent(arguments[Z])}return"Minified React error #"+G+"; visit "+V+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function P(){}var O={d:{f:P,r:function(){throw Error(R(522))},D:P,C:P,L:P,m:P,X:P,S:P,M:P},p:0,findDOMNode:null},I=Symbol.for("react.portal");function L(G,V,Z){var Y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:Y==null?null:""+Y,children:G,containerInfo:V,implementation:Z}}var z=_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function F(G,V){if(G==="font")return"";if(typeof V=="string")return V==="use-credentials"?V:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,reactDom_production.createPortal=function(G,V){var Z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V||V.nodeType!==1&&V.nodeType!==9&&V.nodeType!==11)throw Error(R(299));return L(G,V,null,Z)},reactDom_production.flushSync=function(G){var V=z.T,Z=O.p;try{if(z.T=null,O.p=2,G)return G()}finally{z.T=V,O.p=Z,O.d.f()}},reactDom_production.preconnect=function(G,V){typeof G=="string"&&(V?(V=V.crossOrigin,V=typeof V=="string"?V==="use-credentials"?V:"":void 0):V=null,O.d.C(G,V))},reactDom_production.prefetchDNS=function(G){typeof G=="string"&&O.d.D(G)},reactDom_production.preinit=function(G,V){if(typeof G=="string"&&V&&typeof V.as=="string"){var Z=V.as,Y=F(Z,V.crossOrigin),Q=typeof V.integrity=="string"?V.integrity:void 0,J=typeof V.fetchPriority=="string"?V.fetchPriority:void 0;Z==="style"?O.d.S(G,typeof V.precedence=="string"?V.precedence:void 0,{crossOrigin:Y,integrity:Q,fetchPriority:J}):Z==="script"&&O.d.X(G,{crossOrigin:Y,integrity:Q,fetchPriority:J,nonce:typeof V.nonce=="string"?V.nonce:void 0})}},reactDom_production.preinitModule=function(G,V){if(typeof G=="string")if(typeof V=="object"&&V!==null){if(V.as==null||V.as==="script"){var Z=F(V.as,V.crossOrigin);O.d.M(G,{crossOrigin:Z,integrity:typeof V.integrity=="string"?V.integrity:void 0,nonce:typeof V.nonce=="string"?V.nonce:void 0})}}else V==null&&O.d.M(G)},reactDom_production.preload=function(G,V){if(typeof G=="string"&&typeof V=="object"&&V!==null&&typeof V.as=="string"){var Z=V.as,Y=F(Z,V.crossOrigin);O.d.L(G,Z,{crossOrigin:Y,integrity:typeof V.integrity=="string"?V.integrity:void 0,nonce:typeof V.nonce=="string"?V.nonce:void 0,type:typeof V.type=="string"?V.type:void 0,fetchPriority:typeof V.fetchPriority=="string"?V.fetchPriority:void 0,referrerPolicy:typeof V.referrerPolicy=="string"?V.referrerPolicy:void 0,imageSrcSet:typeof V.imageSrcSet=="string"?V.imageSrcSet:void 0,imageSizes:typeof V.imageSizes=="string"?V.imageSizes:void 0,media:typeof V.media=="string"?V.media:void 0})}},reactDom_production.preloadModule=function(G,V){if(typeof G=="string")if(V){var Z=F(V.as,V.crossOrigin);O.d.m(G,{as:typeof V.as=="string"&&V.as!=="script"?V.as:void 0,crossOrigin:Z,integrity:typeof V.integrity=="string"?V.integrity:void 0})}else O.d.m(G)},reactDom_production.requestFormReset=function(G){O.d.r(G)},reactDom_production.unstable_batchedUpdates=function(G,V){return G(V)},reactDom_production.useFormState=function(G,V,Z){return z.H.useFormState(G,V,Z)},reactDom_production.useFormStatus=function(){return z.H.useHostTransitionStatus()},reactDom_production.version="19.2.3",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function _(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(R){console.error(R)}}return _(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var _=requireScheduler(),R=requireReact(),P=requireReactDom();function O(U){var q="https://react.dev/errors/"+U;if(1<arguments.length){q+="?args[]="+encodeURIComponent(arguments[1]);for(var W=2;W<arguments.length;W++)q+="&args[]="+encodeURIComponent(arguments[W])}return"Minified React error #"+U+"; visit "+q+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function I(U){return!(!U||U.nodeType!==1&&U.nodeType!==9&&U.nodeType!==11)}function L(U){var q=U,W=U;if(U.alternate)for(;q.return;)q=q.return;else{U=q;do q=U,(q.flags&4098)!==0&&(W=q.return),U=q.return;while(U)}return q.tag===3?W:null}function z(U){if(U.tag===13){var q=U.memoizedState;if(q===null&&(U=U.alternate,U!==null&&(q=U.memoizedState)),q!==null)return q.dehydrated}return null}function F(U){if(U.tag===31){var q=U.memoizedState;if(q===null&&(U=U.alternate,U!==null&&(q=U.memoizedState)),q!==null)return q.dehydrated}return null}function G(U){if(L(U)!==U)throw Error(O(188))}function V(U){var q=U.alternate;if(!q){if(q=L(U),q===null)throw Error(O(188));return q!==U?null:U}for(var W=U,ee=q;;){var ae=W.return;if(ae===null)break;var le=ae.alternate;if(le===null){if(ee=ae.return,ee!==null){W=ee;continue}break}if(ae.child===le.child){for(le=ae.child;le;){if(le===W)return G(ae),U;if(le===ee)return G(ae),q;le=le.sibling}throw Error(O(188))}if(W.return!==ee.return)W=ae,ee=le;else{for(var ge=!1,Te=ae.child;Te;){if(Te===W){ge=!0,W=ae,ee=le;break}if(Te===ee){ge=!0,ee=ae,W=le;break}Te=Te.sibling}if(!ge){for(Te=le.child;Te;){if(Te===W){ge=!0,W=le,ee=ae;break}if(Te===ee){ge=!0,ee=le,W=ae;break}Te=Te.sibling}if(!ge)throw Error(O(189))}}if(W.alternate!==ee)throw Error(O(190))}if(W.tag!==3)throw Error(O(188));return W.stateNode.current===W?U:q}function Z(U){var q=U.tag;if(q===5||q===26||q===27||q===6)return U;for(U=U.child;U!==null;){if(q=Z(U),q!==null)return q;U=U.sibling}return null}var Y=Object.assign,Q=Symbol.for("react.element"),J=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function we(U){return U===null||typeof U!="object"?null:(U=ye&&U[ye]||U["@@iterator"],typeof U=="function"?U:null)}var ve=Symbol.for("react.client.reference");function Ae(U){if(U==null)return null;if(typeof U=="function")return U.$$typeof===ve?null:U.displayName||U.name||null;if(typeof U=="string")return U;switch(U){case ne:return"Fragment";case se:return"Profiler";case ie:return"StrictMode";case me:return"Suspense";case he:return"SuspenseList";case pe:return"Activity"}if(typeof U=="object")switch(U.$$typeof){case te:return"Portal";case ce:return U.displayName||"Context";case oe:return(U._context.displayName||"Context")+".Consumer";case ue:var q=U.render;return U=U.displayName,U||(U=q.displayName||q.name||"",U=U!==""?"ForwardRef("+U+")":"ForwardRef"),U;case fe:return q=U.displayName||null,q!==null?q:Ae(U.type)||"Memo";case de:q=U._payload,U=U._init;try{return Ae(U(q))}catch{}}return null}var Ce=Array.isArray,_e=R.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re=P.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},$e=[],Se=-1;function Ee(U){return{current:U}}function ke(U){0>Se||(U.current=$e[Se],$e[Se]=null,Se--)}function xe(U,q){Se++,$e[Se]=U.current,U.current=q}var ze=Ee(null),Ze=Ee(null),Ye=Ee(null),Ie=Ee(null);function Ge(U,q){switch(xe(Ye,q),xe(Ze,U),xe(ze,null),q.nodeType){case 9:case 11:U=(U=q.documentElement)&&(U=U.namespaceURI)?Hh(U):0;break;default:if(U=q.tagName,q=q.namespaceURI)q=Hh(q),U=Uh(q,U);else switch(U){case"svg":U=1;break;case"math":U=2;break;default:U=0}}ke(ze),xe(ze,U)}function Oe(){ke(ze),ke(Ze),ke(Ye)}function Ve(U){U.memoizedState!==null&&xe(Ie,U);var q=ze.current,W=Uh(q,U.type);q!==W&&(xe(Ze,U),xe(ze,W))}function Ue(U){Ze.current===U&&(ke(ze),ke(Ze)),Ie.current===U&&(ke(Ie),Pa._currentValue=Me)}var De,nt;function Je(U){if(De===void 0)try{throw Error()}catch(W){var q=W.stack.trim().match(/\n( *(at )?)/);De=q&&q[1]||"",nt=-1<W.stack.indexOf(`
    at`)?" (<anonymous>)":-1<W.stack.indexOf("@")?"@unknown:0:0":""}return`
`+De+U+nt}var rt=!1;function at(U,q){if(!U||rt)return"";rt=!0;var W=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var ee={DetermineComponentFrameRoot:function(){try{if(q){var Qe=function(){throw Error()};if(Object.defineProperty(Qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Qe,[])}catch(qe){var He=qe}Reflect.construct(U,[],Qe)}else{try{Qe.call()}catch(qe){He=qe}U.call(Qe.prototype)}}else{try{throw Error()}catch(qe){He=qe}(Qe=U())&&typeof Qe.catch=="function"&&Qe.catch(function(){})}}catch(qe){if(qe&&He&&typeof qe.stack=="string")return[qe.stack,He.stack]}return[null,null]}};ee.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var ae=Object.getOwnPropertyDescriptor(ee.DetermineComponentFrameRoot,"name");ae&&ae.configurable&&Object.defineProperty(ee.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var le=ee.DetermineComponentFrameRoot(),ge=le[0],Te=le[1];if(ge&&Te){var Ne=ge.split(`
`),Be=Te.split(`
`);for(ae=ee=0;ee<Ne.length&&!Ne[ee].includes("DetermineComponentFrameRoot");)ee++;for(;ae<Be.length&&!Be[ae].includes("DetermineComponentFrameRoot");)ae++;if(ee===Ne.length||ae===Be.length)for(ee=Ne.length-1,ae=Be.length-1;1<=ee&&0<=ae&&Ne[ee]!==Be[ae];)ae--;for(;1<=ee&&0<=ae;ee--,ae--)if(Ne[ee]!==Be[ae]){if(ee!==1||ae!==1)do if(ee--,ae--,0>ae||Ne[ee]!==Be[ae]){var Xe=`
`+Ne[ee].replace(" at new "," at ");return U.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",U.displayName)),Xe}while(1<=ee&&0<=ae);break}}}finally{rt=!1,Error.prepareStackTrace=W}return(W=U?U.displayName||U.name:"")?Je(W):""}function dt(U,q){switch(U.tag){case 26:case 27:case 5:return Je(U.type);case 16:return Je("Lazy");case 13:return U.child!==q&&q!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return at(U.type,!1);case 11:return at(U.type.render,!1);case 1:return at(U.type,!0);case 31:return Je("Activity");default:return""}}function ot(U){try{var q="",W=null;do q+=dt(U,W),W=U,U=U.return;while(U);return q}catch(ee){return`
Error generating stack: `+ee.message+`
`+ee.stack}}var et=Object.prototype.hasOwnProperty,Et=_.unstable_scheduleCallback,At=_.unstable_cancelCallback,Ct=_.unstable_shouldYield,Gt=_.unstable_requestPaint,pt=_.unstable_now,bt=_.unstable_getCurrentPriorityLevel,Fe=_.unstable_ImmediatePriority,Ke=_.unstable_UserBlockingPriority,tt=_.unstable_NormalPriority,lt=_.unstable_LowPriority,mt=_.unstable_IdlePriority,Nt=_.log,jt=_.unstable_setDisableYieldValue,kt=null,xt=null;function Ft(U){if(typeof Nt=="function"&&jt(U),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(kt,U)}catch{}}var Pt=Math.clz32?Math.clz32:Ad,hr=Math.log,Dn=Math.LN2;function Ad(U){return U>>>=0,U===0?32:31-(hr(U)/Dn|0)|0}var ja=256,Ba=262144,Fa=4194304;function jr(U){var q=U&42;if(q!==0)return q;switch(U&-U){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return U&261888;case 262144:case 524288:case 1048576:case 2097152:return U&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return U&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return U}}function Ha(U,q,W){var ee=U.pendingLanes;if(ee===0)return 0;var ae=0,le=U.suspendedLanes,ge=U.pingedLanes;U=U.warmLanes;var Te=ee&134217727;return Te!==0?(ee=Te&~le,ee!==0?ae=jr(ee):(ge&=Te,ge!==0?ae=jr(ge):W||(W=Te&~U,W!==0&&(ae=jr(W))))):(Te=ee&~le,Te!==0?ae=jr(Te):ge!==0?ae=jr(ge):W||(W=ee&~U,W!==0&&(ae=jr(W)))),ae===0?0:q!==0&&q!==ae&&(q&le)===0&&(le=ae&-ae,W=q&-q,le>=W||le===32&&(W&4194048)!==0)?q:ae}function Gi(U,q){return(U.pendingLanes&~(U.suspendedLanes&~U.pingedLanes)&q)===0}function Rd(U,q){switch(U){case 1:case 2:case 4:case 8:case 64:return q+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return q+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bc(){var U=Fa;return Fa<<=1,(Fa&62914560)===0&&(Fa=4194304),U}function ns(U){for(var q=[],W=0;31>W;W++)q.push(U);return q}function Vi(U,q){U.pendingLanes|=q,q!==268435456&&(U.suspendedLanes=0,U.pingedLanes=0,U.warmLanes=0)}function Md(U,q,W,ee,ae,le){var ge=U.pendingLanes;U.pendingLanes=W,U.suspendedLanes=0,U.pingedLanes=0,U.warmLanes=0,U.expiredLanes&=W,U.entangledLanes&=W,U.errorRecoveryDisabledLanes&=W,U.shellSuspendCounter=0;var Te=U.entanglements,Ne=U.expirationTimes,Be=U.hiddenUpdates;for(W=ge&~W;0<W;){var Xe=31-Pt(W),Qe=1<<Xe;Te[Xe]=0,Ne[Xe]=-1;var He=Be[Xe];if(He!==null)for(Be[Xe]=null,Xe=0;Xe<He.length;Xe++){var qe=He[Xe];qe!==null&&(qe.lane&=-536870913)}W&=~Qe}ee!==0&&xc(U,ee,0),le!==0&&ae===0&&U.tag!==0&&(U.suspendedLanes|=le&~(ge&~q))}function xc(U,q,W){U.pendingLanes|=q,U.suspendedLanes&=~q;var ee=31-Pt(q);U.entangledLanes|=q,U.entanglements[ee]=U.entanglements[ee]|1073741824|W&261930}function _c(U,q){var W=U.entangledLanes|=q;for(U=U.entanglements;W;){var ee=31-Pt(W),ae=1<<ee;ae&q|U[ee]&q&&(U[ee]|=q),W&=~ae}}function vc(U,q){var W=q&-q;return W=(W&42)!==0?1:rs(W),(W&(U.suspendedLanes|q))!==0?0:W}function rs(U){switch(U){case 2:U=1;break;case 8:U=4;break;case 32:U=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:U=128;break;case 268435456:U=134217728;break;default:U=0}return U}function is(U){return U&=-U,2<U?8<U?(U&134217727)!==0?32:268435456:8:2}function wc(){var U=Re.p;return U!==0?U:(U=window.event,U===void 0?32:dd(U.type))}function Ec(U,q){var W=Re.p;try{return Re.p=U,q()}finally{Re.p=W}}var dr=Math.random().toString(36).slice(2),rn="__reactFiber$"+dr,fn="__reactProps$"+dr,ri="__reactContainer$"+dr,as="__reactEvents$"+dr,$d="__reactListeners$"+dr,kd="__reactHandles$"+dr,Cc="__reactResources$"+dr,qi="__reactMarker$"+dr;function os(U){delete U[rn],delete U[fn],delete U[as],delete U[$d],delete U[kd]}function ii(U){var q=U[rn];if(q)return q;for(var W=U.parentNode;W;){if(q=W[ri]||W[rn]){if(W=q.alternate,q.child!==null||W!==null&&W.child!==null)for(U=Wh(U);U!==null;){if(W=U[rn])return W;U=Wh(U)}return q}U=W,W=U.parentNode}return null}function ai(U){if(U=U[rn]||U[ri]){var q=U.tag;if(q===5||q===6||q===13||q===31||q===26||q===27||q===3)return U}return null}function Zi(U){var q=U.tag;if(q===5||q===26||q===27||q===6)return U.stateNode;throw Error(O(33))}function oi(U){var q=U[Cc];return q||(q=U[Cc]={hoistableStyles:new Map,hoistableScripts:new Map}),q}function tn(U){U[qi]=!0}var Ac=new Set,Rc={};function Br(U,q){si(U,q),si(U+"Capture",q)}function si(U,q){for(Rc[U]=q,U=0;U<q.length;U++)Ac.add(q[U])}var Nd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mc={},$c={};function Pd(U){return et.call($c,U)?!0:et.call(Mc,U)?!1:Nd.test(U)?$c[U]=!0:(Mc[U]=!0,!1)}function Ua(U,q,W){if(Pd(q))if(W===null)U.removeAttribute(q);else{switch(typeof W){case"undefined":case"function":case"symbol":U.removeAttribute(q);return;case"boolean":var ee=q.toLowerCase().slice(0,5);if(ee!=="data-"&&ee!=="aria-"){U.removeAttribute(q);return}}U.setAttribute(q,""+W)}}function Ga(U,q,W){if(W===null)U.removeAttribute(q);else{switch(typeof W){case"undefined":case"function":case"symbol":case"boolean":U.removeAttribute(q);return}U.setAttribute(q,""+W)}}function Vn(U,q,W,ee){if(ee===null)U.removeAttribute(W);else{switch(typeof ee){case"undefined":case"function":case"symbol":case"boolean":U.removeAttribute(W);return}U.setAttributeNS(q,W,""+ee)}}function Tn(U){switch(typeof U){case"bigint":case"boolean":case"number":case"string":case"undefined":return U;case"object":return U;default:return""}}function kc(U){var q=U.type;return(U=U.nodeName)&&U.toLowerCase()==="input"&&(q==="checkbox"||q==="radio")}function Od(U,q,W){var ee=Object.getOwnPropertyDescriptor(U.constructor.prototype,q);if(!U.hasOwnProperty(q)&&typeof ee<"u"&&typeof ee.get=="function"&&typeof ee.set=="function"){var ae=ee.get,le=ee.set;return Object.defineProperty(U,q,{configurable:!0,get:function(){return ae.call(this)},set:function(ge){W=""+ge,le.call(this,ge)}}),Object.defineProperty(U,q,{enumerable:ee.enumerable}),{getValue:function(){return W},setValue:function(ge){W=""+ge},stopTracking:function(){U._valueTracker=null,delete U[q]}}}}function ss(U){if(!U._valueTracker){var q=kc(U)?"checked":"value";U._valueTracker=Od(U,q,""+U[q])}}function Nc(U){if(!U)return!1;var q=U._valueTracker;if(!q)return!0;var W=q.getValue(),ee="";return U&&(ee=kc(U)?U.checked?"true":"false":U.value),U=ee,U!==W?(q.setValue(U),!0):!1}function Va(U){if(U=U||(typeof document<"u"?document:void 0),typeof U>"u")return null;try{return U.activeElement||U.body}catch{return U.body}}var Id=/[\n"\\]/g;function An(U){return U.replace(Id,function(q){return"\\"+q.charCodeAt(0).toString(16)+" "})}function ls(U,q,W,ee,ae,le,ge,Te){U.name="",ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?U.type=ge:U.removeAttribute("type"),q!=null?ge==="number"?(q===0&&U.value===""||U.value!=q)&&(U.value=""+Tn(q)):U.value!==""+Tn(q)&&(U.value=""+Tn(q)):ge!=="submit"&&ge!=="reset"||U.removeAttribute("value"),q!=null?cs(U,ge,Tn(q)):W!=null?cs(U,ge,Tn(W)):ee!=null&&U.removeAttribute("value"),ae==null&&le!=null&&(U.defaultChecked=!!le),ae!=null&&(U.checked=ae&&typeof ae!="function"&&typeof ae!="symbol"),Te!=null&&typeof Te!="function"&&typeof Te!="symbol"&&typeof Te!="boolean"?U.name=""+Tn(Te):U.removeAttribute("name")}function Pc(U,q,W,ee,ae,le,ge,Te){if(le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"&&(U.type=le),q!=null||W!=null){if(!(le!=="submit"&&le!=="reset"||q!=null)){ss(U);return}W=W!=null?""+Tn(W):"",q=q!=null?""+Tn(q):W,Te||q===U.value||(U.value=q),U.defaultValue=q}ee=ee??ae,ee=typeof ee!="function"&&typeof ee!="symbol"&&!!ee,U.checked=Te?U.checked:!!ee,U.defaultChecked=!!ee,ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"&&(U.name=ge),ss(U)}function cs(U,q,W){q==="number"&&Va(U.ownerDocument)===U||U.defaultValue===""+W||(U.defaultValue=""+W)}function li(U,q,W,ee){if(U=U.options,q){q={};for(var ae=0;ae<W.length;ae++)q["$"+W[ae]]=!0;for(W=0;W<U.length;W++)ae=q.hasOwnProperty("$"+U[W].value),U[W].selected!==ae&&(U[W].selected=ae),ae&&ee&&(U[W].defaultSelected=!0)}else{for(W=""+Tn(W),q=null,ae=0;ae<U.length;ae++){if(U[ae].value===W){U[ae].selected=!0,ee&&(U[ae].defaultSelected=!0);return}q!==null||U[ae].disabled||(q=U[ae])}q!==null&&(q.selected=!0)}}function Oc(U,q,W){if(q!=null&&(q=""+Tn(q),q!==U.value&&(U.value=q),W==null)){U.defaultValue!==q&&(U.defaultValue=q);return}U.defaultValue=W!=null?""+Tn(W):""}function Ic(U,q,W,ee){if(q==null){if(ee!=null){if(W!=null)throw Error(O(92));if(Ce(ee)){if(1<ee.length)throw Error(O(93));ee=ee[0]}W=ee}W==null&&(W=""),q=W}W=Tn(q),U.defaultValue=W,ee=U.textContent,ee===W&&ee!==""&&ee!==null&&(U.value=ee),ss(U)}function ci(U,q){if(q){var W=U.firstChild;if(W&&W===U.lastChild&&W.nodeType===3){W.nodeValue=q;return}}U.textContent=q}var Dd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lc(U,q,W){var ee=q.indexOf("--")===0;W==null||typeof W=="boolean"||W===""?ee?U.setProperty(q,""):q==="float"?U.cssFloat="":U[q]="":ee?U.setProperty(q,W):typeof W!="number"||W===0||Dd.has(q)?q==="float"?U.cssFloat=W:U[q]=(""+W).trim():U[q]=W+"px"}function zc(U,q,W){if(q!=null&&typeof q!="object")throw Error(O(62));if(U=U.style,W!=null){for(var ee in W)!W.hasOwnProperty(ee)||q!=null&&q.hasOwnProperty(ee)||(ee.indexOf("--")===0?U.setProperty(ee,""):ee==="float"?U.cssFloat="":U[ee]="");for(var ae in q)ee=q[ae],q.hasOwnProperty(ae)&&W[ae]!==ee&&Lc(U,ae,ee)}else for(var le in q)q.hasOwnProperty(le)&&Lc(U,le,q[le])}function us(U){if(U.indexOf("-")===-1)return!1;switch(U){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ld=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(U){return zd.test(""+U)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":U}function qn(){}var fs=null;function hs(U){return U=U.target||U.srcElement||window,U.correspondingUseElement&&(U=U.correspondingUseElement),U.nodeType===3?U.parentNode:U}var ui=null,fi=null;function jc(U){var q=ai(U);if(q&&(U=q.stateNode)){var W=U[fn]||null;e:switch(U=q.stateNode,q.type){case"input":if(ls(U,W.value,W.defaultValue,W.defaultValue,W.checked,W.defaultChecked,W.type,W.name),q=W.name,W.type==="radio"&&q!=null){for(W=U;W.parentNode;)W=W.parentNode;for(W=W.querySelectorAll('input[name="'+An(""+q)+'"][type="radio"]'),q=0;q<W.length;q++){var ee=W[q];if(ee!==U&&ee.form===U.form){var ae=ee[fn]||null;if(!ae)throw Error(O(90));ls(ee,ae.value,ae.defaultValue,ae.defaultValue,ae.checked,ae.defaultChecked,ae.type,ae.name)}}for(q=0;q<W.length;q++)ee=W[q],ee.form===U.form&&Nc(ee)}break e;case"textarea":Oc(U,W.value,W.defaultValue);break e;case"select":q=W.value,q!=null&&li(U,!!W.multiple,q,!1)}}}var ds=!1;function Bc(U,q,W){if(ds)return U(q,W);ds=!0;try{var ee=U(q);return ee}finally{if(ds=!1,(ui!==null||fi!==null)&&(Oo(),ui&&(q=ui,U=fi,fi=ui=null,jc(q),U)))for(q=0;q<U.length;q++)jc(U[q])}}function Yi(U,q){var W=U.stateNode;if(W===null)return null;var ee=W[fn]||null;if(ee===null)return null;W=ee[q];e:switch(q){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ee=!ee.disabled)||(U=U.type,ee=!(U==="button"||U==="input"||U==="select"||U==="textarea")),U=!ee;break e;default:U=!1}if(U)return null;if(W&&typeof W!="function")throw Error(O(231,q,typeof W));return W}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=!1;if(Wn)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){ms=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{ms=!1}var mr=null,ps=null,Za=null;function Fc(){if(Za)return Za;var U,q=ps,W=q.length,ee,ae="value"in mr?mr.value:mr.textContent,le=ae.length;for(U=0;U<W&&q[U]===ae[U];U++);var ge=W-U;for(ee=1;ee<=ge&&q[W-ee]===ae[le-ee];ee++);return Za=ae.slice(U,1<ee?1-ee:void 0)}function Ya(U){var q=U.keyCode;return"charCode"in U?(U=U.charCode,U===0&&q===13&&(U=13)):U=q,U===10&&(U=13),32<=U||U===13?U:0}function Xa(){return!0}function Hc(){return!1}function hn(U){function q(W,ee,ae,le,ge){this._reactName=W,this._targetInst=ae,this.type=ee,this.nativeEvent=le,this.target=ge,this.currentTarget=null;for(var Te in U)U.hasOwnProperty(Te)&&(W=U[Te],this[Te]=W?W(le):le[Te]);return this.isDefaultPrevented=(le.defaultPrevented!=null?le.defaultPrevented:le.returnValue===!1)?Xa:Hc,this.isPropagationStopped=Hc,this}return Y(q.prototype,{preventDefault:function(){this.defaultPrevented=!0;var W=this.nativeEvent;W&&(W.preventDefault?W.preventDefault():typeof W.returnValue!="unknown"&&(W.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var W=this.nativeEvent;W&&(W.stopPropagation?W.stopPropagation():typeof W.cancelBubble!="unknown"&&(W.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),q}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(U){return U.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=hn(Fr),Wi=Y({},Fr,{view:0,detail:0}),jd=hn(Wi),gs,ys,Ki,Ka=Y({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(U){return U.relatedTarget===void 0?U.fromElement===U.srcElement?U.toElement:U.fromElement:U.relatedTarget},movementX:function(U){return"movementX"in U?U.movementX:(U!==Ki&&(Ki&&U.type==="mousemove"?(gs=U.screenX-Ki.screenX,ys=U.screenY-Ki.screenY):ys=gs=0,Ki=U),gs)},movementY:function(U){return"movementY"in U?U.movementY:ys}}),Uc=hn(Ka),Bd=Y({},Ka,{dataTransfer:0}),Fd=hn(Bd),Hd=Y({},Wi,{relatedTarget:0}),bs=hn(Hd),Ud=Y({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gd=hn(Ud),Vd=Y({},Fr,{clipboardData:function(U){return"clipboardData"in U?U.clipboardData:window.clipboardData}}),qd=hn(Vd),Zd=Y({},Fr,{data:0}),Gc=hn(Zd),Yd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kd(U){var q=this.nativeEvent;return q.getModifierState?q.getModifierState(U):(U=Wd[U])?!!q[U]:!1}function xs(){return Kd}var Qd=Y({},Wi,{key:function(U){if(U.key){var q=Yd[U.key]||U.key;if(q!=="Unidentified")return q}return U.type==="keypress"?(U=Ya(U),U===13?"Enter":String.fromCharCode(U)):U.type==="keydown"||U.type==="keyup"?Xd[U.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(U){return U.type==="keypress"?Ya(U):0},keyCode:function(U){return U.type==="keydown"||U.type==="keyup"?U.keyCode:0},which:function(U){return U.type==="keypress"?Ya(U):U.type==="keydown"||U.type==="keyup"?U.keyCode:0}}),Jd=hn(Qd),em=Y({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vc=hn(em),tm=Y({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),nm=hn(tm),rm=Y({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),im=hn(rm),am=Y({},Ka,{deltaX:function(U){return"deltaX"in U?U.deltaX:"wheelDeltaX"in U?-U.wheelDeltaX:0},deltaY:function(U){return"deltaY"in U?U.deltaY:"wheelDeltaY"in U?-U.wheelDeltaY:"wheelDelta"in U?-U.wheelDelta:0},deltaZ:0,deltaMode:0}),om=hn(am),sm=Y({},Fr,{newState:0,oldState:0}),lm=hn(sm),cm=[9,13,27,32],_s=Wn&&"CompositionEvent"in window,Qi=null;Wn&&"documentMode"in document&&(Qi=document.documentMode);var um=Wn&&"TextEvent"in window&&!Qi,qc=Wn&&(!_s||Qi&&8<Qi&&11>=Qi),Zc=" ",Yc=!1;function Xc(U,q){switch(U){case"keyup":return cm.indexOf(q.keyCode)!==-1;case"keydown":return q.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wc(U){return U=U.detail,typeof U=="object"&&"data"in U?U.data:null}var hi=!1;function fm(U,q){switch(U){case"compositionend":return Wc(q);case"keypress":return q.which!==32?null:(Yc=!0,Zc);case"textInput":return U=q.data,U===Zc&&Yc?null:U;default:return null}}function hm(U,q){if(hi)return U==="compositionend"||!_s&&Xc(U,q)?(U=Fc(),Za=ps=mr=null,hi=!1,U):null;switch(U){case"paste":return null;case"keypress":if(!(q.ctrlKey||q.altKey||q.metaKey)||q.ctrlKey&&q.altKey){if(q.char&&1<q.char.length)return q.char;if(q.which)return String.fromCharCode(q.which)}return null;case"compositionend":return qc&&q.locale!=="ko"?null:q.data;default:return null}}var dm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kc(U){var q=U&&U.nodeName&&U.nodeName.toLowerCase();return q==="input"?!!dm[U.type]:q==="textarea"}function Qc(U,q,W,ee){ui?fi?fi.push(ee):fi=[ee]:ui=ee,q=Fo(q,"onChange"),0<q.length&&(W=new Wa("onChange","change",null,W,ee),U.push({event:W,listeners:q}))}var Ji=null,ea=null;function mm(U){Dh(U,0)}function Qa(U){var q=Zi(U);if(Nc(q))return U}function Jc(U,q){if(U==="change")return q}var eu=!1;if(Wn){var vs;if(Wn){var Ss="oninput"in document;if(!Ss){var tu=document.createElement("div");tu.setAttribute("oninput","return;"),Ss=typeof tu.oninput=="function"}vs=Ss}else vs=!1;eu=vs&&(!document.documentMode||9<document.documentMode)}function nu(){Ji&&(Ji.detachEvent("onpropertychange",ru),ea=Ji=null)}function ru(U){if(U.propertyName==="value"&&Qa(ea)){var q=[];Qc(q,ea,U,hs(U)),Bc(mm,q)}}function pm(U,q,W){U==="focusin"?(nu(),Ji=q,ea=W,Ji.attachEvent("onpropertychange",ru)):U==="focusout"&&nu()}function gm(U){if(U==="selectionchange"||U==="keyup"||U==="keydown")return Qa(ea)}function ym(U,q){if(U==="click")return Qa(q)}function bm(U,q){if(U==="input"||U==="change")return Qa(q)}function xm(U,q){return U===q&&(U!==0||1/U===1/q)||U!==U&&q!==q}var bn=typeof Object.is=="function"?Object.is:xm;function ta(U,q){if(bn(U,q))return!0;if(typeof U!="object"||U===null||typeof q!="object"||q===null)return!1;var W=Object.keys(U),ee=Object.keys(q);if(W.length!==ee.length)return!1;for(ee=0;ee<W.length;ee++){var ae=W[ee];if(!et.call(q,ae)||!bn(U[ae],q[ae]))return!1}return!0}function iu(U){for(;U&&U.firstChild;)U=U.firstChild;return U}function au(U,q){var W=iu(U);U=0;for(var ee;W;){if(W.nodeType===3){if(ee=U+W.textContent.length,U<=q&&ee>=q)return{node:W,offset:q-U};U=ee}e:{for(;W;){if(W.nextSibling){W=W.nextSibling;break e}W=W.parentNode}W=void 0}W=iu(W)}}function ou(U,q){return U&&q?U===q?!0:U&&U.nodeType===3?!1:q&&q.nodeType===3?ou(U,q.parentNode):"contains"in U?U.contains(q):U.compareDocumentPosition?!!(U.compareDocumentPosition(q)&16):!1:!1}function su(U){U=U!=null&&U.ownerDocument!=null&&U.ownerDocument.defaultView!=null?U.ownerDocument.defaultView:window;for(var q=Va(U.document);q instanceof U.HTMLIFrameElement;){try{var W=typeof q.contentWindow.location.href=="string"}catch{W=!1}if(W)U=q.contentWindow;else break;q=Va(U.document)}return q}function ws(U){var q=U&&U.nodeName&&U.nodeName.toLowerCase();return q&&(q==="input"&&(U.type==="text"||U.type==="search"||U.type==="tel"||U.type==="url"||U.type==="password")||q==="textarea"||U.contentEditable==="true")}var _m=Wn&&"documentMode"in document&&11>=document.documentMode,di=null,Es=null,na=null,Cs=!1;function lu(U,q,W){var ee=W.window===W?W.document:W.nodeType===9?W:W.ownerDocument;Cs||di==null||di!==Va(ee)||(ee=di,"selectionStart"in ee&&ws(ee)?ee={start:ee.selectionStart,end:ee.selectionEnd}:(ee=(ee.ownerDocument&&ee.ownerDocument.defaultView||window).getSelection(),ee={anchorNode:ee.anchorNode,anchorOffset:ee.anchorOffset,focusNode:ee.focusNode,focusOffset:ee.focusOffset}),na&&ta(na,ee)||(na=ee,ee=Fo(Es,"onSelect"),0<ee.length&&(q=new Wa("onSelect","select",null,q,W),U.push({event:q,listeners:ee}),q.target=di)))}function Hr(U,q){var W={};return W[U.toLowerCase()]=q.toLowerCase(),W["Webkit"+U]="webkit"+q,W["Moz"+U]="moz"+q,W}var mi={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},Ts={},cu={};Wn&&(cu=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function Ur(U){if(Ts[U])return Ts[U];if(!mi[U])return U;var q=mi[U],W;for(W in q)if(q.hasOwnProperty(W)&&W in cu)return Ts[U]=q[W];return U}var uu=Ur("animationend"),fu=Ur("animationiteration"),hu=Ur("animationstart"),vm=Ur("transitionrun"),Sm=Ur("transitionstart"),wm=Ur("transitioncancel"),du=Ur("transitionend"),mu=new Map,As="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");As.push("scrollEnd");function Ln(U,q){mu.set(U,q),Br(q,[U])}var Ja=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Rn=[],gi=0,Rs=0;function eo(){for(var U=gi,q=Rs=gi=0;q<U;){var W=Rn[q];Rn[q++]=null;var ee=Rn[q];Rn[q++]=null;var ae=Rn[q];Rn[q++]=null;var le=Rn[q];if(Rn[q++]=null,ee!==null&&ae!==null){var ge=ee.pending;ge===null?ae.next=ae:(ae.next=ge.next,ge.next=ae),ee.pending=ae}le!==0&&pu(W,ae,le)}}function to(U,q,W,ee){Rn[gi++]=U,Rn[gi++]=q,Rn[gi++]=W,Rn[gi++]=ee,Rs|=ee,U.lanes|=ee,U=U.alternate,U!==null&&(U.lanes|=ee)}function Ms(U,q,W,ee){return to(U,q,W,ee),no(U)}function Gr(U,q){return to(U,null,null,q),no(U)}function pu(U,q,W){U.lanes|=W;var ee=U.alternate;ee!==null&&(ee.lanes|=W);for(var ae=!1,le=U.return;le!==null;)le.childLanes|=W,ee=le.alternate,ee!==null&&(ee.childLanes|=W),le.tag===22&&(U=le.stateNode,U===null||U._visibility&1||(ae=!0)),U=le,le=le.return;return U.tag===3?(le=U.stateNode,ae&&q!==null&&(ae=31-Pt(W),U=le.hiddenUpdates,ee=U[ae],ee===null?U[ae]=[q]:ee.push(q),q.lane=W|536870912),le):null}function no(U){if(50<Ca)throw Ca=0,zl=null,Error(O(185));for(var q=U.return;q!==null;)U=q,q=U.return;return U.tag===3?U.stateNode:null}var yi={};function Em(U,q,W,ee){this.tag=U,this.key=W,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=q,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ee,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(U,q,W,ee){return new Em(U,q,W,ee)}function $s(U){return U=U.prototype,!(!U||!U.isReactComponent)}function Kn(U,q){var W=U.alternate;return W===null?(W=xn(U.tag,q,U.key,U.mode),W.elementType=U.elementType,W.type=U.type,W.stateNode=U.stateNode,W.alternate=U,U.alternate=W):(W.pendingProps=q,W.type=U.type,W.flags=0,W.subtreeFlags=0,W.deletions=null),W.flags=U.flags&65011712,W.childLanes=U.childLanes,W.lanes=U.lanes,W.child=U.child,W.memoizedProps=U.memoizedProps,W.memoizedState=U.memoizedState,W.updateQueue=U.updateQueue,q=U.dependencies,W.dependencies=q===null?null:{lanes:q.lanes,firstContext:q.firstContext},W.sibling=U.sibling,W.index=U.index,W.ref=U.ref,W.refCleanup=U.refCleanup,W}function gu(U,q){U.flags&=65011714;var W=U.alternate;return W===null?(U.childLanes=0,U.lanes=q,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=W.childLanes,U.lanes=W.lanes,U.child=W.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=W.memoizedProps,U.memoizedState=W.memoizedState,U.updateQueue=W.updateQueue,U.type=W.type,q=W.dependencies,U.dependencies=q===null?null:{lanes:q.lanes,firstContext:q.firstContext}),U}function ro(U,q,W,ee,ae,le){var ge=0;if(ee=U,typeof U=="function")$s(U)&&(ge=1);else if(typeof U=="string")ge=N0(U,W,ze.current)?26:U==="html"||U==="head"||U==="body"?27:5;else e:switch(U){case pe:return U=xn(31,W,q,ae),U.elementType=pe,U.lanes=le,U;case ne:return Vr(W.children,ae,le,q);case ie:ge=8,ae|=24;break;case se:return U=xn(12,W,q,ae|2),U.elementType=se,U.lanes=le,U;case me:return U=xn(13,W,q,ae),U.elementType=me,U.lanes=le,U;case he:return U=xn(19,W,q,ae),U.elementType=he,U.lanes=le,U;default:if(typeof U=="object"&&U!==null)switch(U.$$typeof){case ce:ge=10;break e;case oe:ge=9;break e;case ue:ge=11;break e;case fe:ge=14;break e;case de:ge=16,ee=null;break e}ge=29,W=Error(O(130,U===null?"null":typeof U,"")),ee=null}return q=xn(ge,W,q,ae),q.elementType=U,q.type=ee,q.lanes=le,q}function Vr(U,q,W,ee){return U=xn(7,U,ee,q),U.lanes=W,U}function ks(U,q,W){return U=xn(6,U,null,q),U.lanes=W,U}function yu(U){var q=xn(18,null,null,0);return q.stateNode=U,q}function Ns(U,q,W){return q=xn(4,U.children!==null?U.children:[],U.key,q),q.lanes=W,q.stateNode={containerInfo:U.containerInfo,pendingChildren:null,implementation:U.implementation},q}var bu=new WeakMap;function Mn(U,q){if(typeof U=="object"&&U!==null){var W=bu.get(U);return W!==void 0?W:(q={value:U,source:q,stack:ot(q)},bu.set(U,q),q)}return{value:U,source:q,stack:ot(q)}}var bi=[],xi=0,io=null,ra=0,$n=[],kn=0,pr=null,Bn=1,Fn="";function Qn(U,q){bi[xi++]=ra,bi[xi++]=io,io=U,ra=q}function xu(U,q,W){$n[kn++]=Bn,$n[kn++]=Fn,$n[kn++]=pr,pr=U;var ee=Bn;U=Fn;var ae=32-Pt(ee)-1;ee&=~(1<<ae),W+=1;var le=32-Pt(q)+ae;if(30<le){var ge=ae-ae%5;le=(ee&(1<<ge)-1).toString(32),ee>>=ge,ae-=ge,Bn=1<<32-Pt(q)+ae|W<<ae|ee,Fn=le+U}else Bn=1<<le|W<<ae|ee,Fn=U}function Ps(U){U.return!==null&&(Qn(U,1),xu(U,1,0))}function Os(U){for(;U===io;)io=bi[--xi],bi[xi]=null,ra=bi[--xi],bi[xi]=null;for(;U===pr;)pr=$n[--kn],$n[kn]=null,Fn=$n[--kn],$n[kn]=null,Bn=$n[--kn],$n[kn]=null}function _u(U,q){$n[kn++]=Bn,$n[kn++]=Fn,$n[kn++]=pr,Bn=q.id,Fn=q.overflow,pr=U}var an=null,Ht=null,Tt=!1,gr=null,Nn=!1,Is=Error(O(519));function yr(U){var q=Error(O(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ia(Mn(q,U)),Is}function vu(U){var q=U.stateNode,W=U.type,ee=U.memoizedProps;switch(q[rn]=U,q[fn]=ee,W){case"dialog":vt("cancel",q),vt("close",q);break;case"iframe":case"object":case"embed":vt("load",q);break;case"video":case"audio":for(W=0;W<Aa.length;W++)vt(Aa[W],q);break;case"source":vt("error",q);break;case"img":case"image":case"link":vt("error",q),vt("load",q);break;case"details":vt("toggle",q);break;case"input":vt("invalid",q),Pc(q,ee.value,ee.defaultValue,ee.checked,ee.defaultChecked,ee.type,ee.name,!0);break;case"select":vt("invalid",q);break;case"textarea":vt("invalid",q),Ic(q,ee.value,ee.defaultValue,ee.children)}W=ee.children,typeof W!="string"&&typeof W!="number"&&typeof W!="bigint"||q.textContent===""+W||ee.suppressHydrationWarning===!0||Bh(q.textContent,W)?(ee.popover!=null&&(vt("beforetoggle",q),vt("toggle",q)),ee.onScroll!=null&&vt("scroll",q),ee.onScrollEnd!=null&&vt("scrollend",q),ee.onClick!=null&&(q.onclick=qn),q=!0):q=!1,q||yr(U,!0)}function Su(U){for(an=U.return;an;)switch(an.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:an=an.return}}function vi(U){if(U!==an)return!1;if(!Tt)return Su(U),Tt=!0,!1;var q=U.tag,W;if((W=q!==3&&q!==27)&&((W=q===5)&&(W=U.type,W=!(W!=="form"&&W!=="button")||Jl(U.type,U.memoizedProps)),W=!W),W&&Ht&&yr(U),Su(U),q===13){if(U=U.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(O(317));Ht=Xh(U)}else if(q===31){if(U=U.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(O(317));Ht=Xh(U)}else q===27?(q=Ht,Pr(U.type)?(U=ic,ic=null,Ht=U):Ht=q):Ht=an?On(U.stateNode.nextSibling):null;return!0}function qr(){Ht=an=null,Tt=!1}function Ds(){var U=gr;return U!==null&&(gn===null?gn=U:gn.push.apply(gn,U),gr=null),U}function ia(U){gr===null?gr=[U]:gr.push(U)}var Ls=Ee(null),Zr=null,Jn=null;function xr(U,q,W){xe(Ls,q._currentValue),q._currentValue=W}function er(U){U._currentValue=Ls.current,ke(Ls)}function zs(U,q,W){for(;U!==null;){var ee=U.alternate;if((U.childLanes&q)!==q?(U.childLanes|=q,ee!==null&&(ee.childLanes|=q)):ee!==null&&(ee.childLanes&q)!==q&&(ee.childLanes|=q),U===W)break;U=U.return}}function js(U,q,W,ee){var ae=U.child;for(ae!==null&&(ae.return=U);ae!==null;){var le=ae.dependencies;if(le!==null){var ge=ae.child;le=le.firstContext;e:for(;le!==null;){var Te=le;le=ae;for(var Ne=0;Ne<q.length;Ne++)if(Te.context===q[Ne]){le.lanes|=W,Te=le.alternate,Te!==null&&(Te.lanes|=W),zs(le.return,W,U),ee||(ge=null);break e}le=Te.next}}else if(ae.tag===18){if(ge=ae.return,ge===null)throw Error(O(341));ge.lanes|=W,le=ge.alternate,le!==null&&(le.lanes|=W),zs(ge,W,U),ge=null}else ge=ae.child;if(ge!==null)ge.return=ae;else for(ge=ae;ge!==null;){if(ge===U){ge=null;break}if(ae=ge.sibling,ae!==null){ae.return=ge.return,ge=ae;break}ge=ge.return}ae=ge}}function Si(U,q,W,ee){U=null;for(var ae=q,le=!1;ae!==null;){if(!le){if((ae.flags&524288)!==0)le=!0;else if((ae.flags&262144)!==0)break}if(ae.tag===10){var ge=ae.alternate;if(ge===null)throw Error(O(387));if(ge=ge.memoizedProps,ge!==null){var Te=ae.type;bn(ae.pendingProps.value,ge.value)||(U!==null?U.push(Te):U=[Te])}}else if(ae===Ie.current){if(ge=ae.alternate,ge===null)throw Error(O(387));ge.memoizedState.memoizedState!==ae.memoizedState.memoizedState&&(U!==null?U.push(Pa):U=[Pa])}ae=ae.return}U!==null&&js(q,U,W,ee),q.flags|=262144}function ao(U){for(U=U.firstContext;U!==null;){if(!bn(U.context._currentValue,U.memoizedValue))return!0;U=U.next}return!1}function Yr(U){Zr=U,Jn=null,U=U.dependencies,U!==null&&(U.firstContext=null)}function on(U){return wu(Zr,U)}function oo(U,q){return Zr===null&&Yr(U),wu(U,q)}function wu(U,q){var W=q._currentValue;if(q={context:q,memoizedValue:W,next:null},Jn===null){if(U===null)throw Error(O(308));Jn=q,U.dependencies={lanes:0,firstContext:q},U.flags|=524288}else Jn=Jn.next=q;return W}var Cm=typeof AbortController<"u"?AbortController:function(){var U=[],q=this.signal={aborted:!1,addEventListener:function(W,ee){U.push(ee)}};this.abort=function(){q.aborted=!0,U.forEach(function(W){return W()})}},Tm=_.unstable_scheduleCallback,Am=_.unstable_NormalPriority,Wt={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bs(){return{controller:new Cm,data:new Map,refCount:0}}function aa(U){U.refCount--,U.refCount===0&&Tm(Am,function(){U.controller.abort()})}var oa=null,Fs=0,wi=0,Ei=null;function Rm(U,q){if(oa===null){var W=oa=[];Fs=0,wi=Gl(),Ei={status:"pending",value:void 0,then:function(ee){W.push(ee)}}}return Fs++,q.then(Eu,Eu),q}function Eu(){if(--Fs===0&&oa!==null){Ei!==null&&(Ei.status="fulfilled");var U=oa;oa=null,wi=0,Ei=null;for(var q=0;q<U.length;q++)(0,U[q])()}}function Mm(U,q){var W=[],ee={status:"pending",value:null,reason:null,then:function(ae){W.push(ae)}};return U.then(function(){ee.status="fulfilled",ee.value=q;for(var ae=0;ae<W.length;ae++)(0,W[ae])(q)},function(ae){for(ee.status="rejected",ee.reason=ae,ae=0;ae<W.length;ae++)(0,W[ae])(void 0)}),ee}var Cu=_e.S;_e.S=function(U,q){uh=pt(),typeof q=="object"&&q!==null&&typeof q.then=="function"&&Rm(U,q),Cu!==null&&Cu(U,q)};var Xr=Ee(null);function Hs(){var U=Xr.current;return U!==null?U:Bt.pooledCache}function so(U,q){q===null?xe(Xr,Xr.current):xe(Xr,q.pool)}function Tu(){var U=Hs();return U===null?null:{parent:Wt._currentValue,pool:U}}var Ci=Error(O(460)),Us=Error(O(474)),lo=Error(O(542)),co={then:function(){}};function Au(U){return U=U.status,U==="fulfilled"||U==="rejected"}function Ru(U,q,W){switch(W=U[W],W===void 0?U.push(q):W!==q&&(q.then(qn,qn),q=W),q.status){case"fulfilled":return q.value;case"rejected":throw U=q.reason,$u(U),U;default:if(typeof q.status=="string")q.then(qn,qn);else{if(U=Bt,U!==null&&100<U.shellSuspendCounter)throw Error(O(482));U=q,U.status="pending",U.then(function(ee){if(q.status==="pending"){var ae=q;ae.status="fulfilled",ae.value=ee}},function(ee){if(q.status==="pending"){var ae=q;ae.status="rejected",ae.reason=ee}})}switch(q.status){case"fulfilled":return q.value;case"rejected":throw U=q.reason,$u(U),U}throw Kr=q,Ci}}function Wr(U){try{var q=U._init;return q(U._payload)}catch(W){throw W!==null&&typeof W=="object"&&typeof W.then=="function"?(Kr=W,Ci):W}}var Kr=null;function Mu(){if(Kr===null)throw Error(O(459));var U=Kr;return Kr=null,U}function $u(U){if(U===Ci||U===lo)throw Error(O(483))}var Ti=null,sa=0;function uo(U){var q=sa;return sa+=1,Ti===null&&(Ti=[]),Ru(Ti,U,q)}function la(U,q){q=q.props.ref,U.ref=q!==void 0?q:null}function fo(U,q){throw q.$$typeof===Q?Error(O(525)):(U=Object.prototype.toString.call(q),Error(O(31,U==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":U)))}function ku(U){function q(Le,Pe){if(U){var je=Le.deletions;je===null?(Le.deletions=[Pe],Le.flags|=16):je.push(Pe)}}function W(Le,Pe){if(!U)return null;for(;Pe!==null;)q(Le,Pe),Pe=Pe.sibling;return null}function ee(Le){for(var Pe=new Map;Le!==null;)Le.key!==null?Pe.set(Le.key,Le):Pe.set(Le.index,Le),Le=Le.sibling;return Pe}function ae(Le,Pe){return Le=Kn(Le,Pe),Le.index=0,Le.sibling=null,Le}function le(Le,Pe,je){return Le.index=je,U?(je=Le.alternate,je!==null?(je=je.index,je<Pe?(Le.flags|=67108866,Pe):je):(Le.flags|=67108866,Pe)):(Le.flags|=1048576,Pe)}function ge(Le){return U&&Le.alternate===null&&(Le.flags|=67108866),Le}function Te(Le,Pe,je,We){return Pe===null||Pe.tag!==6?(Pe=ks(je,Le.mode,We),Pe.return=Le,Pe):(Pe=ae(Pe,je),Pe.return=Le,Pe)}function Ne(Le,Pe,je,We){var ft=je.type;return ft===ne?Xe(Le,Pe,je.props.children,We,je.key):Pe!==null&&(Pe.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===de&&Wr(ft)===Pe.type)?(Pe=ae(Pe,je.props),la(Pe,je),Pe.return=Le,Pe):(Pe=ro(je.type,je.key,je.props,null,Le.mode,We),la(Pe,je),Pe.return=Le,Pe)}function Be(Le,Pe,je,We){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==je.containerInfo||Pe.stateNode.implementation!==je.implementation?(Pe=Ns(je,Le.mode,We),Pe.return=Le,Pe):(Pe=ae(Pe,je.children||[]),Pe.return=Le,Pe)}function Xe(Le,Pe,je,We,ft){return Pe===null||Pe.tag!==7?(Pe=Vr(je,Le.mode,We,ft),Pe.return=Le,Pe):(Pe=ae(Pe,je),Pe.return=Le,Pe)}function Qe(Le,Pe,je){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Pe=ks(""+Pe,Le.mode,je),Pe.return=Le,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case J:return je=ro(Pe.type,Pe.key,Pe.props,null,Le.mode,je),la(je,Pe),je.return=Le,je;case te:return Pe=Ns(Pe,Le.mode,je),Pe.return=Le,Pe;case de:return Pe=Wr(Pe),Qe(Le,Pe,je)}if(Ce(Pe)||we(Pe))return Pe=Vr(Pe,Le.mode,je,null),Pe.return=Le,Pe;if(typeof Pe.then=="function")return Qe(Le,uo(Pe),je);if(Pe.$$typeof===ce)return Qe(Le,oo(Le,Pe),je);fo(Le,Pe)}return null}function He(Le,Pe,je,We){var ft=Pe!==null?Pe.key:null;if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return ft!==null?null:Te(Le,Pe,""+je,We);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case J:return je.key===ft?Ne(Le,Pe,je,We):null;case te:return je.key===ft?Be(Le,Pe,je,We):null;case de:return je=Wr(je),He(Le,Pe,je,We)}if(Ce(je)||we(je))return ft!==null?null:Xe(Le,Pe,je,We,null);if(typeof je.then=="function")return He(Le,Pe,uo(je),We);if(je.$$typeof===ce)return He(Le,Pe,oo(Le,je),We);fo(Le,je)}return null}function qe(Le,Pe,je,We,ft){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return Le=Le.get(je)||null,Te(Pe,Le,""+We,ft);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case J:return Le=Le.get(We.key===null?je:We.key)||null,Ne(Pe,Le,We,ft);case te:return Le=Le.get(We.key===null?je:We.key)||null,Be(Pe,Le,We,ft);case de:return We=Wr(We),qe(Le,Pe,je,We,ft)}if(Ce(We)||we(We))return Le=Le.get(je)||null,Xe(Pe,Le,We,ft,null);if(typeof We.then=="function")return qe(Le,Pe,je,uo(We),ft);if(We.$$typeof===ce)return qe(Le,Pe,je,oo(Pe,We),ft);fo(Pe,We)}return null}function st(Le,Pe,je,We){for(var ft=null,Rt=null,ct=Pe,yt=Pe=0,wt=null;ct!==null&&yt<je.length;yt++){ct.index>yt?(wt=ct,ct=null):wt=ct.sibling;var Mt=He(Le,ct,je[yt],We);if(Mt===null){ct===null&&(ct=wt);break}U&&ct&&Mt.alternate===null&&q(Le,ct),Pe=le(Mt,Pe,yt),Rt===null?ft=Mt:Rt.sibling=Mt,Rt=Mt,ct=wt}if(yt===je.length)return W(Le,ct),Tt&&Qn(Le,yt),ft;if(ct===null){for(;yt<je.length;yt++)ct=Qe(Le,je[yt],We),ct!==null&&(Pe=le(ct,Pe,yt),Rt===null?ft=ct:Rt.sibling=ct,Rt=ct);return Tt&&Qn(Le,yt),ft}for(ct=ee(ct);yt<je.length;yt++)wt=qe(ct,Le,yt,je[yt],We),wt!==null&&(U&&wt.alternate!==null&&ct.delete(wt.key===null?yt:wt.key),Pe=le(wt,Pe,yt),Rt===null?ft=wt:Rt.sibling=wt,Rt=wt);return U&&ct.forEach(function(zr){return q(Le,zr)}),Tt&&Qn(Le,yt),ft}function ht(Le,Pe,je,We){if(je==null)throw Error(O(151));for(var ft=null,Rt=null,ct=Pe,yt=Pe=0,wt=null,Mt=je.next();ct!==null&&!Mt.done;yt++,Mt=je.next()){ct.index>yt?(wt=ct,ct=null):wt=ct.sibling;var zr=He(Le,ct,Mt.value,We);if(zr===null){ct===null&&(ct=wt);break}U&&ct&&zr.alternate===null&&q(Le,ct),Pe=le(zr,Pe,yt),Rt===null?ft=zr:Rt.sibling=zr,Rt=zr,ct=wt}if(Mt.done)return W(Le,ct),Tt&&Qn(Le,yt),ft;if(ct===null){for(;!Mt.done;yt++,Mt=je.next())Mt=Qe(Le,Mt.value,We),Mt!==null&&(Pe=le(Mt,Pe,yt),Rt===null?ft=Mt:Rt.sibling=Mt,Rt=Mt);return Tt&&Qn(Le,yt),ft}for(ct=ee(ct);!Mt.done;yt++,Mt=je.next())Mt=qe(ct,Le,yt,Mt.value,We),Mt!==null&&(U&&Mt.alternate!==null&&ct.delete(Mt.key===null?yt:Mt.key),Pe=le(Mt,Pe,yt),Rt===null?ft=Mt:Rt.sibling=Mt,Rt=Mt);return U&&ct.forEach(function(U0){return q(Le,U0)}),Tt&&Qn(Le,yt),ft}function zt(Le,Pe,je,We){if(typeof je=="object"&&je!==null&&je.type===ne&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case J:e:{for(var ft=je.key;Pe!==null;){if(Pe.key===ft){if(ft=je.type,ft===ne){if(Pe.tag===7){W(Le,Pe.sibling),We=ae(Pe,je.props.children),We.return=Le,Le=We;break e}}else if(Pe.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===de&&Wr(ft)===Pe.type){W(Le,Pe.sibling),We=ae(Pe,je.props),la(We,je),We.return=Le,Le=We;break e}W(Le,Pe);break}else q(Le,Pe);Pe=Pe.sibling}je.type===ne?(We=Vr(je.props.children,Le.mode,We,je.key),We.return=Le,Le=We):(We=ro(je.type,je.key,je.props,null,Le.mode,We),la(We,je),We.return=Le,Le=We)}return ge(Le);case te:e:{for(ft=je.key;Pe!==null;){if(Pe.key===ft)if(Pe.tag===4&&Pe.stateNode.containerInfo===je.containerInfo&&Pe.stateNode.implementation===je.implementation){W(Le,Pe.sibling),We=ae(Pe,je.children||[]),We.return=Le,Le=We;break e}else{W(Le,Pe);break}else q(Le,Pe);Pe=Pe.sibling}We=Ns(je,Le.mode,We),We.return=Le,Le=We}return ge(Le);case de:return je=Wr(je),zt(Le,Pe,je,We)}if(Ce(je))return st(Le,Pe,je,We);if(we(je)){if(ft=we(je),typeof ft!="function")throw Error(O(150));return je=ft.call(je),ht(Le,Pe,je,We)}if(typeof je.then=="function")return zt(Le,Pe,uo(je),We);if(je.$$typeof===ce)return zt(Le,Pe,oo(Le,je),We);fo(Le,je)}return typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint"?(je=""+je,Pe!==null&&Pe.tag===6?(W(Le,Pe.sibling),We=ae(Pe,je),We.return=Le,Le=We):(W(Le,Pe),We=ks(je,Le.mode,We),We.return=Le,Le=We),ge(Le)):W(Le,Pe)}return function(Le,Pe,je,We){try{sa=0;var ft=zt(Le,Pe,je,We);return Ti=null,ft}catch(ct){if(ct===Ci||ct===lo)throw ct;var Rt=xn(29,ct,null,Le.mode);return Rt.lanes=We,Rt.return=Le,Rt}}}var Qr=ku(!0),Nu=ku(!1),_r=!1;function Gs(U){U.updateQueue={baseState:U.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vs(U,q){U=U.updateQueue,q.updateQueue===U&&(q.updateQueue={baseState:U.baseState,firstBaseUpdate:U.firstBaseUpdate,lastBaseUpdate:U.lastBaseUpdate,shared:U.shared,callbacks:null})}function vr(U){return{lane:U,tag:0,payload:null,callback:null,next:null}}function Sr(U,q,W){var ee=U.updateQueue;if(ee===null)return null;if(ee=ee.shared,($t&2)!==0){var ae=ee.pending;return ae===null?q.next=q:(q.next=ae.next,ae.next=q),ee.pending=q,q=no(U),pu(U,null,W),q}return to(U,ee,q,W),no(U)}function ca(U,q,W){if(q=q.updateQueue,q!==null&&(q=q.shared,(W&4194048)!==0)){var ee=q.lanes;ee&=U.pendingLanes,W|=ee,q.lanes=W,_c(U,W)}}function qs(U,q){var W=U.updateQueue,ee=U.alternate;if(ee!==null&&(ee=ee.updateQueue,W===ee)){var ae=null,le=null;if(W=W.firstBaseUpdate,W!==null){do{var ge={lane:W.lane,tag:W.tag,payload:W.payload,callback:null,next:null};le===null?ae=le=ge:le=le.next=ge,W=W.next}while(W!==null);le===null?ae=le=q:le=le.next=q}else ae=le=q;W={baseState:ee.baseState,firstBaseUpdate:ae,lastBaseUpdate:le,shared:ee.shared,callbacks:ee.callbacks},U.updateQueue=W;return}U=W.lastBaseUpdate,U===null?W.firstBaseUpdate=q:U.next=q,W.lastBaseUpdate=q}var Zs=!1;function ua(){if(Zs){var U=Ei;if(U!==null)throw U}}function fa(U,q,W,ee){Zs=!1;var ae=U.updateQueue;_r=!1;var le=ae.firstBaseUpdate,ge=ae.lastBaseUpdate,Te=ae.shared.pending;if(Te!==null){ae.shared.pending=null;var Ne=Te,Be=Ne.next;Ne.next=null,ge===null?le=Be:ge.next=Be,ge=Ne;var Xe=U.alternate;Xe!==null&&(Xe=Xe.updateQueue,Te=Xe.lastBaseUpdate,Te!==ge&&(Te===null?Xe.firstBaseUpdate=Be:Te.next=Be,Xe.lastBaseUpdate=Ne))}if(le!==null){var Qe=ae.baseState;ge=0,Xe=Be=Ne=null,Te=le;do{var He=Te.lane&-536870913,qe=He!==Te.lane;if(qe?(St&He)===He:(ee&He)===He){He!==0&&He===wi&&(Zs=!0),Xe!==null&&(Xe=Xe.next={lane:0,tag:Te.tag,payload:Te.payload,callback:null,next:null});e:{var st=U,ht=Te;He=q;var zt=W;switch(ht.tag){case 1:if(st=ht.payload,typeof st=="function"){Qe=st.call(zt,Qe,He);break e}Qe=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ht.payload,He=typeof st=="function"?st.call(zt,Qe,He):st,He==null)break e;Qe=Y({},Qe,He);break e;case 2:_r=!0}}He=Te.callback,He!==null&&(U.flags|=64,qe&&(U.flags|=8192),qe=ae.callbacks,qe===null?ae.callbacks=[He]:qe.push(He))}else qe={lane:He,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null},Xe===null?(Be=Xe=qe,Ne=Qe):Xe=Xe.next=qe,ge|=He;if(Te=Te.next,Te===null){if(Te=ae.shared.pending,Te===null)break;qe=Te,Te=qe.next,qe.next=null,ae.lastBaseUpdate=qe,ae.shared.pending=null}}while(!0);Xe===null&&(Ne=Qe),ae.baseState=Ne,ae.firstBaseUpdate=Be,ae.lastBaseUpdate=Xe,le===null&&(ae.shared.lanes=0),Ar|=ge,U.lanes=ge,U.memoizedState=Qe}}function Pu(U,q){if(typeof U!="function")throw Error(O(191,U));U.call(q)}function Ou(U,q){var W=U.callbacks;if(W!==null)for(U.callbacks=null,U=0;U<W.length;U++)Pu(W[U],q)}var Ai=Ee(null),ho=Ee(0);function Iu(U,q){U=cr,xe(ho,U),xe(Ai,q),cr=U|q.baseLanes}function Ys(){xe(ho,cr),xe(Ai,Ai.current)}function Xs(){cr=ho.current,ke(Ai),ke(ho)}var _n=Ee(null),Pn=null;function wr(U){var q=U.alternate;xe(Yt,Yt.current&1),xe(_n,U),Pn===null&&(q===null||Ai.current!==null||q.memoizedState!==null)&&(Pn=U)}function Ws(U){xe(Yt,Yt.current),xe(_n,U),Pn===null&&(Pn=U)}function Du(U){U.tag===22?(xe(Yt,Yt.current),xe(_n,U),Pn===null&&(Pn=U)):Er()}function Er(){xe(Yt,Yt.current),xe(_n,_n.current)}function vn(U){ke(_n),Pn===U&&(Pn=null),ke(Yt)}var Yt=Ee(0);function mo(U){for(var q=U;q!==null;){if(q.tag===13){var W=q.memoizedState;if(W!==null&&(W=W.dehydrated,W===null||nc(W)||rc(W)))return q}else if(q.tag===19&&(q.memoizedProps.revealOrder==="forwards"||q.memoizedProps.revealOrder==="backwards"||q.memoizedProps.revealOrder==="unstable_legacy-backwards"||q.memoizedProps.revealOrder==="together")){if((q.flags&128)!==0)return q}else if(q.child!==null){q.child.return=q,q=q.child;continue}if(q===U)break;for(;q.sibling===null;){if(q.return===null||q.return===U)return null;q=q.return}q.sibling.return=q.return,q=q.sibling}return null}var tr=0,gt=null,Dt=null,Kt=null,po=!1,Ri=!1,Jr=!1,go=0,ha=0,Mi=null,$m=0;function qt(){throw Error(O(321))}function Ks(U,q){if(q===null)return!1;for(var W=0;W<q.length&&W<U.length;W++)if(!bn(U[W],q[W]))return!1;return!0}function Qs(U,q,W,ee,ae,le){return tr=le,gt=q,q.memoizedState=null,q.updateQueue=null,q.lanes=0,_e.H=U===null||U.memoizedState===null?_f:dl,Jr=!1,le=W(ee,ae),Jr=!1,Ri&&(le=zu(q,W,ee,ae)),Lu(U),le}function Lu(U){_e.H=pa;var q=Dt!==null&&Dt.next!==null;if(tr=0,Kt=Dt=gt=null,po=!1,ha=0,Mi=null,q)throw Error(O(300));U===null||Qt||(U=U.dependencies,U!==null&&ao(U)&&(Qt=!0))}function zu(U,q,W,ee){gt=U;var ae=0;do{if(Ri&&(Mi=null),ha=0,Ri=!1,25<=ae)throw Error(O(301));if(ae+=1,Kt=Dt=null,U.updateQueue!=null){var le=U.updateQueue;le.lastEffect=null,le.events=null,le.stores=null,le.memoCache!=null&&(le.memoCache.index=0)}_e.H=vf,le=q(W,ee)}while(Ri);return le}function km(){var U=_e.H,q=U.useState()[0];return q=typeof q.then=="function"?da(q):q,U=U.useState()[0],(Dt!==null?Dt.memoizedState:null)!==U&&(gt.flags|=1024),q}function Js(){var U=go!==0;return go=0,U}function el(U,q,W){q.updateQueue=U.updateQueue,q.flags&=-2053,U.lanes&=~W}function tl(U){if(po){for(U=U.memoizedState;U!==null;){var q=U.queue;q!==null&&(q.pending=null),U=U.next}po=!1}tr=0,Kt=Dt=gt=null,Ri=!1,ha=go=0,Mi=null}function un(){var U={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?gt.memoizedState=Kt=U:Kt=Kt.next=U,Kt}function Xt(){if(Dt===null){var U=gt.alternate;U=U!==null?U.memoizedState:null}else U=Dt.next;var q=Kt===null?gt.memoizedState:Kt.next;if(q!==null)Kt=q,Dt=U;else{if(U===null)throw gt.alternate===null?Error(O(467)):Error(O(310));Dt=U,U={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Kt===null?gt.memoizedState=Kt=U:Kt=Kt.next=U}return Kt}function yo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function da(U){var q=ha;return ha+=1,Mi===null&&(Mi=[]),U=Ru(Mi,U,q),q=gt,(Kt===null?q.memoizedState:Kt.next)===null&&(q=q.alternate,_e.H=q===null||q.memoizedState===null?_f:dl),U}function bo(U){if(U!==null&&typeof U=="object"){if(typeof U.then=="function")return da(U);if(U.$$typeof===ce)return on(U)}throw Error(O(438,String(U)))}function nl(U){var q=null,W=gt.updateQueue;if(W!==null&&(q=W.memoCache),q==null){var ee=gt.alternate;ee!==null&&(ee=ee.updateQueue,ee!==null&&(ee=ee.memoCache,ee!=null&&(q={data:ee.data.map(function(ae){return ae.slice()}),index:0})))}if(q==null&&(q={data:[],index:0}),W===null&&(W=yo(),gt.updateQueue=W),W.memoCache=q,W=q.data[q.index],W===void 0)for(W=q.data[q.index]=Array(U),ee=0;ee<U;ee++)W[ee]=be;return q.index++,W}function nr(U,q){return typeof q=="function"?q(U):q}function xo(U){var q=Xt();return rl(q,Dt,U)}function rl(U,q,W){var ee=U.queue;if(ee===null)throw Error(O(311));ee.lastRenderedReducer=W;var ae=U.baseQueue,le=ee.pending;if(le!==null){if(ae!==null){var ge=ae.next;ae.next=le.next,le.next=ge}q.baseQueue=ae=le,ee.pending=null}if(le=U.baseState,ae===null)U.memoizedState=le;else{q=ae.next;var Te=ge=null,Ne=null,Be=q,Xe=!1;do{var Qe=Be.lane&-536870913;if(Qe!==Be.lane?(St&Qe)===Qe:(tr&Qe)===Qe){var He=Be.revertLane;if(He===0)Ne!==null&&(Ne=Ne.next={lane:0,revertLane:0,gesture:null,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),Qe===wi&&(Xe=!0);else if((tr&He)===He){Be=Be.next,He===wi&&(Xe=!0);continue}else Qe={lane:0,revertLane:Be.revertLane,gesture:null,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},Ne===null?(Te=Ne=Qe,ge=le):Ne=Ne.next=Qe,gt.lanes|=He,Ar|=He;Qe=Be.action,Jr&&W(le,Qe),le=Be.hasEagerState?Be.eagerState:W(le,Qe)}else He={lane:Qe,revertLane:Be.revertLane,gesture:Be.gesture,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},Ne===null?(Te=Ne=He,ge=le):Ne=Ne.next=He,gt.lanes|=Qe,Ar|=Qe;Be=Be.next}while(Be!==null&&Be!==q);if(Ne===null?ge=le:Ne.next=Te,!bn(le,U.memoizedState)&&(Qt=!0,Xe&&(W=Ei,W!==null)))throw W;U.memoizedState=le,U.baseState=ge,U.baseQueue=Ne,ee.lastRenderedState=le}return ae===null&&(ee.lanes=0),[U.memoizedState,ee.dispatch]}function il(U){var q=Xt(),W=q.queue;if(W===null)throw Error(O(311));W.lastRenderedReducer=U;var ee=W.dispatch,ae=W.pending,le=q.memoizedState;if(ae!==null){W.pending=null;var ge=ae=ae.next;do le=U(le,ge.action),ge=ge.next;while(ge!==ae);bn(le,q.memoizedState)||(Qt=!0),q.memoizedState=le,q.baseQueue===null&&(q.baseState=le),W.lastRenderedState=le}return[le,ee]}function ju(U,q,W){var ee=gt,ae=Xt(),le=Tt;if(le){if(W===void 0)throw Error(O(407));W=W()}else W=q();var ge=!bn((Dt||ae).memoizedState,W);if(ge&&(ae.memoizedState=W,Qt=!0),ae=ae.queue,sl(Hu.bind(null,ee,ae,U),[U]),ae.getSnapshot!==q||ge||Kt!==null&&Kt.memoizedState.tag&1){if(ee.flags|=2048,$i(9,{destroy:void 0},Fu.bind(null,ee,ae,W,q),null),Bt===null)throw Error(O(349));le||(tr&127)!==0||Bu(ee,q,W)}return W}function Bu(U,q,W){U.flags|=16384,U={getSnapshot:q,value:W},q=gt.updateQueue,q===null?(q=yo(),gt.updateQueue=q,q.stores=[U]):(W=q.stores,W===null?q.stores=[U]:W.push(U))}function Fu(U,q,W,ee){q.value=W,q.getSnapshot=ee,Uu(q)&&Gu(U)}function Hu(U,q,W){return W(function(){Uu(q)&&Gu(U)})}function Uu(U){var q=U.getSnapshot;U=U.value;try{var W=q();return!bn(U,W)}catch{return!0}}function Gu(U){var q=Gr(U,2);q!==null&&yn(q,U,2)}function al(U){var q=un();if(typeof U=="function"){var W=U;if(U=W(),Jr){Ft(!0);try{W()}finally{Ft(!1)}}}return q.memoizedState=q.baseState=U,q.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:U},q}function Vu(U,q,W,ee){return U.baseState=W,rl(U,Dt,typeof ee=="function"?ee:nr)}function Nm(U,q,W,ee,ae){if(So(U))throw Error(O(485));if(U=q.action,U!==null){var le={payload:ae,action:U,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ge){le.listeners.push(ge)}};_e.T!==null?W(!0):le.isTransition=!1,ee(le),W=q.pending,W===null?(le.next=q.pending=le,qu(q,le)):(le.next=W.next,q.pending=W.next=le)}}function qu(U,q){var W=q.action,ee=q.payload,ae=U.state;if(q.isTransition){var le=_e.T,ge={};_e.T=ge;try{var Te=W(ae,ee),Ne=_e.S;Ne!==null&&Ne(ge,Te),Zu(U,q,Te)}catch(Be){ol(U,q,Be)}finally{le!==null&&ge.types!==null&&(le.types=ge.types),_e.T=le}}else try{le=W(ae,ee),Zu(U,q,le)}catch(Be){ol(U,q,Be)}}function Zu(U,q,W){W!==null&&typeof W=="object"&&typeof W.then=="function"?W.then(function(ee){Yu(U,q,ee)},function(ee){return ol(U,q,ee)}):Yu(U,q,W)}function Yu(U,q,W){q.status="fulfilled",q.value=W,Xu(q),U.state=W,q=U.pending,q!==null&&(W=q.next,W===q?U.pending=null:(W=W.next,q.next=W,qu(U,W)))}function ol(U,q,W){var ee=U.pending;if(U.pending=null,ee!==null){ee=ee.next;do q.status="rejected",q.reason=W,Xu(q),q=q.next;while(q!==ee)}U.action=null}function Xu(U){U=U.listeners;for(var q=0;q<U.length;q++)(0,U[q])()}function Wu(U,q){return q}function Ku(U,q){if(Tt){var W=Bt.formState;if(W!==null){e:{var ee=gt;if(Tt){if(Ht){t:{for(var ae=Ht,le=Nn;ae.nodeType!==8;){if(!le){ae=null;break t}if(ae=On(ae.nextSibling),ae===null){ae=null;break t}}le=ae.data,ae=le==="F!"||le==="F"?ae:null}if(ae){Ht=On(ae.nextSibling),ee=ae.data==="F!";break e}}yr(ee)}ee=!1}ee&&(q=W[0])}}return W=un(),W.memoizedState=W.baseState=q,ee={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wu,lastRenderedState:q},W.queue=ee,W=yf.bind(null,gt,ee),ee.dispatch=W,ee=al(!1),le=hl.bind(null,gt,!1,ee.queue),ee=un(),ae={state:q,dispatch:null,action:U,pending:null},ee.queue=ae,W=Nm.bind(null,gt,ae,le,W),ae.dispatch=W,ee.memoizedState=U,[q,W,!1]}function Qu(U){var q=Xt();return Ju(q,Dt,U)}function Ju(U,q,W){if(q=rl(U,q,Wu)[0],U=xo(nr)[0],typeof q=="object"&&q!==null&&typeof q.then=="function")try{var ee=da(q)}catch(ge){throw ge===Ci?lo:ge}else ee=q;q=Xt();var ae=q.queue,le=ae.dispatch;return W!==q.memoizedState&&(gt.flags|=2048,$i(9,{destroy:void 0},Pm.bind(null,ae,W),null)),[ee,le,U]}function Pm(U,q){U.action=q}function ef(U){var q=Xt(),W=Dt;if(W!==null)return Ju(q,W,U);Xt(),q=q.memoizedState,W=Xt();var ee=W.queue.dispatch;return W.memoizedState=U,[q,ee,!1]}function $i(U,q,W,ee){return U={tag:U,create:W,deps:ee,inst:q,next:null},q=gt.updateQueue,q===null&&(q=yo(),gt.updateQueue=q),W=q.lastEffect,W===null?q.lastEffect=U.next=U:(ee=W.next,W.next=U,U.next=ee,q.lastEffect=U),U}function tf(){return Xt().memoizedState}function _o(U,q,W,ee){var ae=un();gt.flags|=U,ae.memoizedState=$i(1|q,{destroy:void 0},W,ee===void 0?null:ee)}function vo(U,q,W,ee){var ae=Xt();ee=ee===void 0?null:ee;var le=ae.memoizedState.inst;Dt!==null&&ee!==null&&Ks(ee,Dt.memoizedState.deps)?ae.memoizedState=$i(q,le,W,ee):(gt.flags|=U,ae.memoizedState=$i(1|q,le,W,ee))}function nf(U,q){_o(8390656,8,U,q)}function sl(U,q){vo(2048,8,U,q)}function Om(U){gt.flags|=4;var q=gt.updateQueue;if(q===null)q=yo(),gt.updateQueue=q,q.events=[U];else{var W=q.events;W===null?q.events=[U]:W.push(U)}}function rf(U){var q=Xt().memoizedState;return Om({ref:q,nextImpl:U}),function(){if(($t&2)!==0)throw Error(O(440));return q.impl.apply(void 0,arguments)}}function af(U,q){return vo(4,2,U,q)}function of(U,q){return vo(4,4,U,q)}function sf(U,q){if(typeof q=="function"){U=U();var W=q(U);return function(){typeof W=="function"?W():q(null)}}if(q!=null)return U=U(),q.current=U,function(){q.current=null}}function lf(U,q,W){W=W!=null?W.concat([U]):null,vo(4,4,sf.bind(null,q,U),W)}function ll(){}function cf(U,q){var W=Xt();q=q===void 0?null:q;var ee=W.memoizedState;return q!==null&&Ks(q,ee[1])?ee[0]:(W.memoizedState=[U,q],U)}function uf(U,q){var W=Xt();q=q===void 0?null:q;var ee=W.memoizedState;if(q!==null&&Ks(q,ee[1]))return ee[0];if(ee=U(),Jr){Ft(!0);try{U()}finally{Ft(!1)}}return W.memoizedState=[ee,q],ee}function cl(U,q,W){return W===void 0||(tr&1073741824)!==0&&(St&261930)===0?U.memoizedState=q:(U.memoizedState=W,U=hh(),gt.lanes|=U,Ar|=U,W)}function ff(U,q,W,ee){return bn(W,q)?W:Ai.current!==null?(U=cl(U,W,ee),bn(U,q)||(Qt=!0),U):(tr&42)===0||(tr&1073741824)!==0&&(St&261930)===0?(Qt=!0,U.memoizedState=W):(U=hh(),gt.lanes|=U,Ar|=U,q)}function hf(U,q,W,ee,ae){var le=Re.p;Re.p=le!==0&&8>le?le:8;var ge=_e.T,Te={};_e.T=Te,hl(U,!1,q,W);try{var Ne=ae(),Be=_e.S;if(Be!==null&&Be(Te,Ne),Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var Xe=Mm(Ne,ee);ma(U,q,Xe,En(U))}else ma(U,q,ee,En(U))}catch(Qe){ma(U,q,{then:function(){},status:"rejected",reason:Qe},En())}finally{Re.p=le,ge!==null&&Te.types!==null&&(ge.types=Te.types),_e.T=ge}}function Im(){}function ul(U,q,W,ee){if(U.tag!==5)throw Error(O(476));var ae=df(U).queue;hf(U,ae,q,Me,W===null?Im:function(){return mf(U),W(ee)})}function df(U){var q=U.memoizedState;if(q!==null)return q;q={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:Me},next:null};var W={};return q.next={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:W},next:null},U.memoizedState=q,U=U.alternate,U!==null&&(U.memoizedState=q),q}function mf(U){var q=df(U);q.next===null&&(q=U.alternate.memoizedState),ma(U,q.next.queue,{},En())}function fl(){return on(Pa)}function pf(){return Xt().memoizedState}function gf(){return Xt().memoizedState}function Dm(U){for(var q=U.return;q!==null;){switch(q.tag){case 24:case 3:var W=En();U=vr(W);var ee=Sr(q,U,W);ee!==null&&(yn(ee,q,W),ca(ee,q,W)),q={cache:Bs()},U.payload=q;return}q=q.return}}function Lm(U,q,W){var ee=En();W={lane:ee,revertLane:0,gesture:null,action:W,hasEagerState:!1,eagerState:null,next:null},So(U)?bf(q,W):(W=Ms(U,q,W,ee),W!==null&&(yn(W,U,ee),xf(W,q,ee)))}function yf(U,q,W){var ee=En();ma(U,q,W,ee)}function ma(U,q,W,ee){var ae={lane:ee,revertLane:0,gesture:null,action:W,hasEagerState:!1,eagerState:null,next:null};if(So(U))bf(q,ae);else{var le=U.alternate;if(U.lanes===0&&(le===null||le.lanes===0)&&(le=q.lastRenderedReducer,le!==null))try{var ge=q.lastRenderedState,Te=le(ge,W);if(ae.hasEagerState=!0,ae.eagerState=Te,bn(Te,ge))return to(U,q,ae,0),Bt===null&&eo(),!1}catch{}if(W=Ms(U,q,ae,ee),W!==null)return yn(W,U,ee),xf(W,q,ee),!0}return!1}function hl(U,q,W,ee){if(ee={lane:2,revertLane:Gl(),gesture:null,action:ee,hasEagerState:!1,eagerState:null,next:null},So(U)){if(q)throw Error(O(479))}else q=Ms(U,W,ee,2),q!==null&&yn(q,U,2)}function So(U){var q=U.alternate;return U===gt||q!==null&&q===gt}function bf(U,q){Ri=po=!0;var W=U.pending;W===null?q.next=q:(q.next=W.next,W.next=q),U.pending=q}function xf(U,q,W){if((W&4194048)!==0){var ee=q.lanes;ee&=U.pendingLanes,W|=ee,q.lanes=W,_c(U,W)}}var pa={readContext:on,use:bo,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt};pa.useEffectEvent=qt;var _f={readContext:on,use:bo,useCallback:function(U,q){return un().memoizedState=[U,q===void 0?null:q],U},useContext:on,useEffect:nf,useImperativeHandle:function(U,q,W){W=W!=null?W.concat([U]):null,_o(4194308,4,sf.bind(null,q,U),W)},useLayoutEffect:function(U,q){return _o(4194308,4,U,q)},useInsertionEffect:function(U,q){_o(4,2,U,q)},useMemo:function(U,q){var W=un();q=q===void 0?null:q;var ee=U();if(Jr){Ft(!0);try{U()}finally{Ft(!1)}}return W.memoizedState=[ee,q],ee},useReducer:function(U,q,W){var ee=un();if(W!==void 0){var ae=W(q);if(Jr){Ft(!0);try{W(q)}finally{Ft(!1)}}}else ae=q;return ee.memoizedState=ee.baseState=ae,U={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U,lastRenderedState:ae},ee.queue=U,U=U.dispatch=Lm.bind(null,gt,U),[ee.memoizedState,U]},useRef:function(U){var q=un();return U={current:U},q.memoizedState=U},useState:function(U){U=al(U);var q=U.queue,W=yf.bind(null,gt,q);return q.dispatch=W,[U.memoizedState,W]},useDebugValue:ll,useDeferredValue:function(U,q){var W=un();return cl(W,U,q)},useTransition:function(){var U=al(!1);return U=hf.bind(null,gt,U.queue,!0,!1),un().memoizedState=U,[!1,U]},useSyncExternalStore:function(U,q,W){var ee=gt,ae=un();if(Tt){if(W===void 0)throw Error(O(407));W=W()}else{if(W=q(),Bt===null)throw Error(O(349));(St&127)!==0||Bu(ee,q,W)}ae.memoizedState=W;var le={value:W,getSnapshot:q};return ae.queue=le,nf(Hu.bind(null,ee,le,U),[U]),ee.flags|=2048,$i(9,{destroy:void 0},Fu.bind(null,ee,le,W,q),null),W},useId:function(){var U=un(),q=Bt.identifierPrefix;if(Tt){var W=Fn,ee=Bn;W=(ee&~(1<<32-Pt(ee)-1)).toString(32)+W,q="_"+q+"R_"+W,W=go++,0<W&&(q+="H"+W.toString(32)),q+="_"}else W=$m++,q="_"+q+"r_"+W.toString(32)+"_";return U.memoizedState=q},useHostTransitionStatus:fl,useFormState:Ku,useActionState:Ku,useOptimistic:function(U){var q=un();q.memoizedState=q.baseState=U;var W={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return q.queue=W,q=hl.bind(null,gt,!0,W),W.dispatch=q,[U,q]},useMemoCache:nl,useCacheRefresh:function(){return un().memoizedState=Dm.bind(null,gt)},useEffectEvent:function(U){var q=un(),W={impl:U};return q.memoizedState=W,function(){if(($t&2)!==0)throw Error(O(440));return W.impl.apply(void 0,arguments)}}},dl={readContext:on,use:bo,useCallback:cf,useContext:on,useEffect:sl,useImperativeHandle:lf,useInsertionEffect:af,useLayoutEffect:of,useMemo:uf,useReducer:xo,useRef:tf,useState:function(){return xo(nr)},useDebugValue:ll,useDeferredValue:function(U,q){var W=Xt();return ff(W,Dt.memoizedState,U,q)},useTransition:function(){var U=xo(nr)[0],q=Xt().memoizedState;return[typeof U=="boolean"?U:da(U),q]},useSyncExternalStore:ju,useId:pf,useHostTransitionStatus:fl,useFormState:Qu,useActionState:Qu,useOptimistic:function(U,q){var W=Xt();return Vu(W,Dt,U,q)},useMemoCache:nl,useCacheRefresh:gf};dl.useEffectEvent=rf;var vf={readContext:on,use:bo,useCallback:cf,useContext:on,useEffect:sl,useImperativeHandle:lf,useInsertionEffect:af,useLayoutEffect:of,useMemo:uf,useReducer:il,useRef:tf,useState:function(){return il(nr)},useDebugValue:ll,useDeferredValue:function(U,q){var W=Xt();return Dt===null?cl(W,U,q):ff(W,Dt.memoizedState,U,q)},useTransition:function(){var U=il(nr)[0],q=Xt().memoizedState;return[typeof U=="boolean"?U:da(U),q]},useSyncExternalStore:ju,useId:pf,useHostTransitionStatus:fl,useFormState:ef,useActionState:ef,useOptimistic:function(U,q){var W=Xt();return Dt!==null?Vu(W,Dt,U,q):(W.baseState=U,[U,W.queue.dispatch])},useMemoCache:nl,useCacheRefresh:gf};vf.useEffectEvent=rf;function ml(U,q,W,ee){q=U.memoizedState,W=W(ee,q),W=W==null?q:Y({},q,W),U.memoizedState=W,U.lanes===0&&(U.updateQueue.baseState=W)}var pl={enqueueSetState:function(U,q,W){U=U._reactInternals;var ee=En(),ae=vr(ee);ae.payload=q,W!=null&&(ae.callback=W),q=Sr(U,ae,ee),q!==null&&(yn(q,U,ee),ca(q,U,ee))},enqueueReplaceState:function(U,q,W){U=U._reactInternals;var ee=En(),ae=vr(ee);ae.tag=1,ae.payload=q,W!=null&&(ae.callback=W),q=Sr(U,ae,ee),q!==null&&(yn(q,U,ee),ca(q,U,ee))},enqueueForceUpdate:function(U,q){U=U._reactInternals;var W=En(),ee=vr(W);ee.tag=2,q!=null&&(ee.callback=q),q=Sr(U,ee,W),q!==null&&(yn(q,U,W),ca(q,U,W))}};function Sf(U,q,W,ee,ae,le,ge){return U=U.stateNode,typeof U.shouldComponentUpdate=="function"?U.shouldComponentUpdate(ee,le,ge):q.prototype&&q.prototype.isPureReactComponent?!ta(W,ee)||!ta(ae,le):!0}function wf(U,q,W,ee){U=q.state,typeof q.componentWillReceiveProps=="function"&&q.componentWillReceiveProps(W,ee),typeof q.UNSAFE_componentWillReceiveProps=="function"&&q.UNSAFE_componentWillReceiveProps(W,ee),q.state!==U&&pl.enqueueReplaceState(q,q.state,null)}function ei(U,q){var W=q;if("ref"in q){W={};for(var ee in q)ee!=="ref"&&(W[ee]=q[ee])}if(U=U.defaultProps){W===q&&(W=Y({},W));for(var ae in U)W[ae]===void 0&&(W[ae]=U[ae])}return W}function Ef(U){Ja(U)}function Cf(U){console.error(U)}function Tf(U){Ja(U)}function wo(U,q){try{var W=U.onUncaughtError;W(q.value,{componentStack:q.stack})}catch(ee){setTimeout(function(){throw ee})}}function Af(U,q,W){try{var ee=U.onCaughtError;ee(W.value,{componentStack:W.stack,errorBoundary:q.tag===1?q.stateNode:null})}catch(ae){setTimeout(function(){throw ae})}}function gl(U,q,W){return W=vr(W),W.tag=3,W.payload={element:null},W.callback=function(){wo(U,q)},W}function Rf(U){return U=vr(U),U.tag=3,U}function Mf(U,q,W,ee){var ae=W.type.getDerivedStateFromError;if(typeof ae=="function"){var le=ee.value;U.payload=function(){return ae(le)},U.callback=function(){Af(q,W,ee)}}var ge=W.stateNode;ge!==null&&typeof ge.componentDidCatch=="function"&&(U.callback=function(){Af(q,W,ee),typeof ae!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var Te=ee.stack;this.componentDidCatch(ee.value,{componentStack:Te!==null?Te:""})})}function zm(U,q,W,ee,ae){if(W.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){if(q=W.alternate,q!==null&&Si(q,W,ae,!0),W=_n.current,W!==null){switch(W.tag){case 31:case 13:return Pn===null?Io():W.alternate===null&&Zt===0&&(Zt=3),W.flags&=-257,W.flags|=65536,W.lanes=ae,ee===co?W.flags|=16384:(q=W.updateQueue,q===null?W.updateQueue=new Set([ee]):q.add(ee),Fl(U,ee,ae)),!1;case 22:return W.flags|=65536,ee===co?W.flags|=16384:(q=W.updateQueue,q===null?(q={transitions:null,markerInstances:null,retryQueue:new Set([ee])},W.updateQueue=q):(W=q.retryQueue,W===null?q.retryQueue=new Set([ee]):W.add(ee)),Fl(U,ee,ae)),!1}throw Error(O(435,W.tag))}return Fl(U,ee,ae),Io(),!1}if(Tt)return q=_n.current,q!==null?((q.flags&65536)===0&&(q.flags|=256),q.flags|=65536,q.lanes=ae,ee!==Is&&(U=Error(O(422),{cause:ee}),ia(Mn(U,W)))):(ee!==Is&&(q=Error(O(423),{cause:ee}),ia(Mn(q,W))),U=U.current.alternate,U.flags|=65536,ae&=-ae,U.lanes|=ae,ee=Mn(ee,W),ae=gl(U.stateNode,ee,ae),qs(U,ae),Zt!==4&&(Zt=2)),!1;var le=Error(O(520),{cause:ee});if(le=Mn(le,W),Ea===null?Ea=[le]:Ea.push(le),Zt!==4&&(Zt=2),q===null)return!0;ee=Mn(ee,W),W=q;do{switch(W.tag){case 3:return W.flags|=65536,U=ae&-ae,W.lanes|=U,U=gl(W.stateNode,ee,U),qs(W,U),!1;case 1:if(q=W.type,le=W.stateNode,(W.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Rr===null||!Rr.has(le))))return W.flags|=65536,ae&=-ae,W.lanes|=ae,ae=Rf(ae),Mf(ae,U,W,ee),qs(W,ae),!1}W=W.return}while(W!==null);return!1}var yl=Error(O(461)),Qt=!1;function sn(U,q,W,ee){q.child=U===null?Nu(q,null,W,ee):Qr(q,U.child,W,ee)}function $f(U,q,W,ee,ae){W=W.render;var le=q.ref;if("ref"in ee){var ge={};for(var Te in ee)Te!=="ref"&&(ge[Te]=ee[Te])}else ge=ee;return Yr(q),ee=Qs(U,q,W,ge,le,ae),Te=Js(),U!==null&&!Qt?(el(U,q,ae),rr(U,q,ae)):(Tt&&Te&&Ps(q),q.flags|=1,sn(U,q,ee,ae),q.child)}function kf(U,q,W,ee,ae){if(U===null){var le=W.type;return typeof le=="function"&&!$s(le)&&le.defaultProps===void 0&&W.compare===null?(q.tag=15,q.type=le,Nf(U,q,le,ee,ae)):(U=ro(W.type,null,ee,q,q.mode,ae),U.ref=q.ref,U.return=q,q.child=U)}if(le=U.child,!Cl(U,ae)){var ge=le.memoizedProps;if(W=W.compare,W=W!==null?W:ta,W(ge,ee)&&U.ref===q.ref)return rr(U,q,ae)}return q.flags|=1,U=Kn(le,ee),U.ref=q.ref,U.return=q,q.child=U}function Nf(U,q,W,ee,ae){if(U!==null){var le=U.memoizedProps;if(ta(le,ee)&&U.ref===q.ref)if(Qt=!1,q.pendingProps=ee=le,Cl(U,ae))(U.flags&131072)!==0&&(Qt=!0);else return q.lanes=U.lanes,rr(U,q,ae)}return bl(U,q,W,ee,ae)}function Pf(U,q,W,ee){var ae=ee.children,le=U!==null?U.memoizedState:null;if(U===null&&q.stateNode===null&&(q.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),ee.mode==="hidden"){if((q.flags&128)!==0){if(le=le!==null?le.baseLanes|W:W,U!==null){for(ee=q.child=U.child,ae=0;ee!==null;)ae=ae|ee.lanes|ee.childLanes,ee=ee.sibling;ee=ae&~le}else ee=0,q.child=null;return Of(U,q,le,W,ee)}if((W&536870912)!==0)q.memoizedState={baseLanes:0,cachePool:null},U!==null&&so(q,le!==null?le.cachePool:null),le!==null?Iu(q,le):Ys(),Du(q);else return ee=q.lanes=536870912,Of(U,q,le!==null?le.baseLanes|W:W,W,ee)}else le!==null?(so(q,le.cachePool),Iu(q,le),Er(),q.memoizedState=null):(U!==null&&so(q,null),Ys(),Er());return sn(U,q,ae,W),q.child}function ga(U,q){return U!==null&&U.tag===22||q.stateNode!==null||(q.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),q.sibling}function Of(U,q,W,ee,ae){var le=Hs();return le=le===null?null:{parent:Wt._currentValue,pool:le},q.memoizedState={baseLanes:W,cachePool:le},U!==null&&so(q,null),Ys(),Du(q),U!==null&&Si(U,q,ee,!0),q.childLanes=ae,null}function Eo(U,q){return q=To({mode:q.mode,children:q.children},U.mode),q.ref=U.ref,U.child=q,q.return=U,q}function If(U,q,W){return Qr(q,U.child,null,W),U=Eo(q,q.pendingProps),U.flags|=2,vn(q),q.memoizedState=null,U}function jm(U,q,W){var ee=q.pendingProps,ae=(q.flags&128)!==0;if(q.flags&=-129,U===null){if(Tt){if(ee.mode==="hidden")return U=Eo(q,ee),q.lanes=536870912,ga(null,U);if(Ws(q),(U=Ht)?(U=Yh(U,Nn),U=U!==null&&U.data==="&"?U:null,U!==null&&(q.memoizedState={dehydrated:U,treeContext:pr!==null?{id:Bn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},W=yu(U),W.return=q,q.child=W,an=q,Ht=null)):U=null,U===null)throw yr(q);return q.lanes=536870912,null}return Eo(q,ee)}var le=U.memoizedState;if(le!==null){var ge=le.dehydrated;if(Ws(q),ae)if(q.flags&256)q.flags&=-257,q=If(U,q,W);else if(q.memoizedState!==null)q.child=U.child,q.flags|=128,q=null;else throw Error(O(558));else if(Qt||Si(U,q,W,!1),ae=(W&U.childLanes)!==0,Qt||ae){if(ee=Bt,ee!==null&&(ge=vc(ee,W),ge!==0&&ge!==le.retryLane))throw le.retryLane=ge,Gr(U,ge),yn(ee,U,ge),yl;Io(),q=If(U,q,W)}else U=le.treeContext,Ht=On(ge.nextSibling),an=q,Tt=!0,gr=null,Nn=!1,U!==null&&_u(q,U),q=Eo(q,ee),q.flags|=4096;return q}return U=Kn(U.child,{mode:ee.mode,children:ee.children}),U.ref=q.ref,q.child=U,U.return=q,U}function Co(U,q){var W=q.ref;if(W===null)U!==null&&U.ref!==null&&(q.flags|=4194816);else{if(typeof W!="function"&&typeof W!="object")throw Error(O(284));(U===null||U.ref!==W)&&(q.flags|=4194816)}}function bl(U,q,W,ee,ae){return Yr(q),W=Qs(U,q,W,ee,void 0,ae),ee=Js(),U!==null&&!Qt?(el(U,q,ae),rr(U,q,ae)):(Tt&&ee&&Ps(q),q.flags|=1,sn(U,q,W,ae),q.child)}function Df(U,q,W,ee,ae,le){return Yr(q),q.updateQueue=null,W=zu(q,ee,W,ae),Lu(U),ee=Js(),U!==null&&!Qt?(el(U,q,le),rr(U,q,le)):(Tt&&ee&&Ps(q),q.flags|=1,sn(U,q,W,le),q.child)}function Lf(U,q,W,ee,ae){if(Yr(q),q.stateNode===null){var le=yi,ge=W.contextType;typeof ge=="object"&&ge!==null&&(le=on(ge)),le=new W(ee,le),q.memoizedState=le.state!==null&&le.state!==void 0?le.state:null,le.updater=pl,q.stateNode=le,le._reactInternals=q,le=q.stateNode,le.props=ee,le.state=q.memoizedState,le.refs={},Gs(q),ge=W.contextType,le.context=typeof ge=="object"&&ge!==null?on(ge):yi,le.state=q.memoizedState,ge=W.getDerivedStateFromProps,typeof ge=="function"&&(ml(q,W,ge,ee),le.state=q.memoizedState),typeof W.getDerivedStateFromProps=="function"||typeof le.getSnapshotBeforeUpdate=="function"||typeof le.UNSAFE_componentWillMount!="function"&&typeof le.componentWillMount!="function"||(ge=le.state,typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount(),ge!==le.state&&pl.enqueueReplaceState(le,le.state,null),fa(q,ee,le,ae),ua(),le.state=q.memoizedState),typeof le.componentDidMount=="function"&&(q.flags|=4194308),ee=!0}else if(U===null){le=q.stateNode;var Te=q.memoizedProps,Ne=ei(W,Te);le.props=Ne;var Be=le.context,Xe=W.contextType;ge=yi,typeof Xe=="object"&&Xe!==null&&(ge=on(Xe));var Qe=W.getDerivedStateFromProps;Xe=typeof Qe=="function"||typeof le.getSnapshotBeforeUpdate=="function",Te=q.pendingProps!==Te,Xe||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Te||Be!==ge)&&wf(q,le,ee,ge),_r=!1;var He=q.memoizedState;le.state=He,fa(q,ee,le,ae),ua(),Be=q.memoizedState,Te||He!==Be||_r?(typeof Qe=="function"&&(ml(q,W,Qe,ee),Be=q.memoizedState),(Ne=_r||Sf(q,W,Ne,ee,He,Be,ge))?(Xe||typeof le.UNSAFE_componentWillMount!="function"&&typeof le.componentWillMount!="function"||(typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount()),typeof le.componentDidMount=="function"&&(q.flags|=4194308)):(typeof le.componentDidMount=="function"&&(q.flags|=4194308),q.memoizedProps=ee,q.memoizedState=Be),le.props=ee,le.state=Be,le.context=ge,ee=Ne):(typeof le.componentDidMount=="function"&&(q.flags|=4194308),ee=!1)}else{le=q.stateNode,Vs(U,q),ge=q.memoizedProps,Xe=ei(W,ge),le.props=Xe,Qe=q.pendingProps,He=le.context,Be=W.contextType,Ne=yi,typeof Be=="object"&&Be!==null&&(Ne=on(Be)),Te=W.getDerivedStateFromProps,(Be=typeof Te=="function"||typeof le.getSnapshotBeforeUpdate=="function")||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(ge!==Qe||He!==Ne)&&wf(q,le,ee,Ne),_r=!1,He=q.memoizedState,le.state=He,fa(q,ee,le,ae),ua();var qe=q.memoizedState;ge!==Qe||He!==qe||_r||U!==null&&U.dependencies!==null&&ao(U.dependencies)?(typeof Te=="function"&&(ml(q,W,Te,ee),qe=q.memoizedState),(Xe=_r||Sf(q,W,Xe,ee,He,qe,Ne)||U!==null&&U.dependencies!==null&&ao(U.dependencies))?(Be||typeof le.UNSAFE_componentWillUpdate!="function"&&typeof le.componentWillUpdate!="function"||(typeof le.componentWillUpdate=="function"&&le.componentWillUpdate(ee,qe,Ne),typeof le.UNSAFE_componentWillUpdate=="function"&&le.UNSAFE_componentWillUpdate(ee,qe,Ne)),typeof le.componentDidUpdate=="function"&&(q.flags|=4),typeof le.getSnapshotBeforeUpdate=="function"&&(q.flags|=1024)):(typeof le.componentDidUpdate!="function"||ge===U.memoizedProps&&He===U.memoizedState||(q.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||ge===U.memoizedProps&&He===U.memoizedState||(q.flags|=1024),q.memoizedProps=ee,q.memoizedState=qe),le.props=ee,le.state=qe,le.context=Ne,ee=Xe):(typeof le.componentDidUpdate!="function"||ge===U.memoizedProps&&He===U.memoizedState||(q.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||ge===U.memoizedProps&&He===U.memoizedState||(q.flags|=1024),ee=!1)}return le=ee,Co(U,q),ee=(q.flags&128)!==0,le||ee?(le=q.stateNode,W=ee&&typeof W.getDerivedStateFromError!="function"?null:le.render(),q.flags|=1,U!==null&&ee?(q.child=Qr(q,U.child,null,ae),q.child=Qr(q,null,W,ae)):sn(U,q,W,ae),q.memoizedState=le.state,U=q.child):U=rr(U,q,ae),U}function zf(U,q,W,ee){return qr(),q.flags|=256,sn(U,q,W,ee),q.child}var xl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _l(U){return{baseLanes:U,cachePool:Tu()}}function vl(U,q,W){return U=U!==null?U.childLanes&~W:0,q&&(U|=wn),U}function jf(U,q,W){var ee=q.pendingProps,ae=!1,le=(q.flags&128)!==0,ge;if((ge=le)||(ge=U!==null&&U.memoizedState===null?!1:(Yt.current&2)!==0),ge&&(ae=!0,q.flags&=-129),ge=(q.flags&32)!==0,q.flags&=-33,U===null){if(Tt){if(ae?wr(q):Er(),(U=Ht)?(U=Yh(U,Nn),U=U!==null&&U.data!=="&"?U:null,U!==null&&(q.memoizedState={dehydrated:U,treeContext:pr!==null?{id:Bn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},W=yu(U),W.return=q,q.child=W,an=q,Ht=null)):U=null,U===null)throw yr(q);return rc(U)?q.lanes=32:q.lanes=536870912,null}var Te=ee.children;return ee=ee.fallback,ae?(Er(),ae=q.mode,Te=To({mode:"hidden",children:Te},ae),ee=Vr(ee,ae,W,null),Te.return=q,ee.return=q,Te.sibling=ee,q.child=Te,ee=q.child,ee.memoizedState=_l(W),ee.childLanes=vl(U,ge,W),q.memoizedState=xl,ga(null,ee)):(wr(q),Sl(q,Te))}var Ne=U.memoizedState;if(Ne!==null&&(Te=Ne.dehydrated,Te!==null)){if(le)q.flags&256?(wr(q),q.flags&=-257,q=wl(U,q,W)):q.memoizedState!==null?(Er(),q.child=U.child,q.flags|=128,q=null):(Er(),Te=ee.fallback,ae=q.mode,ee=To({mode:"visible",children:ee.children},ae),Te=Vr(Te,ae,W,null),Te.flags|=2,ee.return=q,Te.return=q,ee.sibling=Te,q.child=ee,Qr(q,U.child,null,W),ee=q.child,ee.memoizedState=_l(W),ee.childLanes=vl(U,ge,W),q.memoizedState=xl,q=ga(null,ee));else if(wr(q),rc(Te)){if(ge=Te.nextSibling&&Te.nextSibling.dataset,ge)var Be=ge.dgst;ge=Be,ee=Error(O(419)),ee.stack="",ee.digest=ge,ia({value:ee,source:null,stack:null}),q=wl(U,q,W)}else if(Qt||Si(U,q,W,!1),ge=(W&U.childLanes)!==0,Qt||ge){if(ge=Bt,ge!==null&&(ee=vc(ge,W),ee!==0&&ee!==Ne.retryLane))throw Ne.retryLane=ee,Gr(U,ee),yn(ge,U,ee),yl;nc(Te)||Io(),q=wl(U,q,W)}else nc(Te)?(q.flags|=192,q.child=U.child,q=null):(U=Ne.treeContext,Ht=On(Te.nextSibling),an=q,Tt=!0,gr=null,Nn=!1,U!==null&&_u(q,U),q=Sl(q,ee.children),q.flags|=4096);return q}return ae?(Er(),Te=ee.fallback,ae=q.mode,Ne=U.child,Be=Ne.sibling,ee=Kn(Ne,{mode:"hidden",children:ee.children}),ee.subtreeFlags=Ne.subtreeFlags&65011712,Be!==null?Te=Kn(Be,Te):(Te=Vr(Te,ae,W,null),Te.flags|=2),Te.return=q,ee.return=q,ee.sibling=Te,q.child=ee,ga(null,ee),ee=q.child,Te=U.child.memoizedState,Te===null?Te=_l(W):(ae=Te.cachePool,ae!==null?(Ne=Wt._currentValue,ae=ae.parent!==Ne?{parent:Ne,pool:Ne}:ae):ae=Tu(),Te={baseLanes:Te.baseLanes|W,cachePool:ae}),ee.memoizedState=Te,ee.childLanes=vl(U,ge,W),q.memoizedState=xl,ga(U.child,ee)):(wr(q),W=U.child,U=W.sibling,W=Kn(W,{mode:"visible",children:ee.children}),W.return=q,W.sibling=null,U!==null&&(ge=q.deletions,ge===null?(q.deletions=[U],q.flags|=16):ge.push(U)),q.child=W,q.memoizedState=null,W)}function Sl(U,q){return q=To({mode:"visible",children:q},U.mode),q.return=U,U.child=q}function To(U,q){return U=xn(22,U,null,q),U.lanes=0,U}function wl(U,q,W){return Qr(q,U.child,null,W),U=Sl(q,q.pendingProps.children),U.flags|=2,q.memoizedState=null,U}function Bf(U,q,W){U.lanes|=q;var ee=U.alternate;ee!==null&&(ee.lanes|=q),zs(U.return,q,W)}function El(U,q,W,ee,ae,le){var ge=U.memoizedState;ge===null?U.memoizedState={isBackwards:q,rendering:null,renderingStartTime:0,last:ee,tail:W,tailMode:ae,treeForkCount:le}:(ge.isBackwards=q,ge.rendering=null,ge.renderingStartTime=0,ge.last=ee,ge.tail=W,ge.tailMode=ae,ge.treeForkCount=le)}function Ff(U,q,W){var ee=q.pendingProps,ae=ee.revealOrder,le=ee.tail;ee=ee.children;var ge=Yt.current,Te=(ge&2)!==0;if(Te?(ge=ge&1|2,q.flags|=128):ge&=1,xe(Yt,ge),sn(U,q,ee,W),ee=Tt?ra:0,!Te&&U!==null&&(U.flags&128)!==0)e:for(U=q.child;U!==null;){if(U.tag===13)U.memoizedState!==null&&Bf(U,W,q);else if(U.tag===19)Bf(U,W,q);else if(U.child!==null){U.child.return=U,U=U.child;continue}if(U===q)break e;for(;U.sibling===null;){if(U.return===null||U.return===q)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}switch(ae){case"forwards":for(W=q.child,ae=null;W!==null;)U=W.alternate,U!==null&&mo(U)===null&&(ae=W),W=W.sibling;W=ae,W===null?(ae=q.child,q.child=null):(ae=W.sibling,W.sibling=null),El(q,!1,ae,W,le,ee);break;case"backwards":case"unstable_legacy-backwards":for(W=null,ae=q.child,q.child=null;ae!==null;){if(U=ae.alternate,U!==null&&mo(U)===null){q.child=ae;break}U=ae.sibling,ae.sibling=W,W=ae,ae=U}El(q,!0,W,null,le,ee);break;case"together":El(q,!1,null,null,void 0,ee);break;default:q.memoizedState=null}return q.child}function rr(U,q,W){if(U!==null&&(q.dependencies=U.dependencies),Ar|=q.lanes,(W&q.childLanes)===0)if(U!==null){if(Si(U,q,W,!1),(W&q.childLanes)===0)return null}else return null;if(U!==null&&q.child!==U.child)throw Error(O(153));if(q.child!==null){for(U=q.child,W=Kn(U,U.pendingProps),q.child=W,W.return=q;U.sibling!==null;)U=U.sibling,W=W.sibling=Kn(U,U.pendingProps),W.return=q;W.sibling=null}return q.child}function Cl(U,q){return(U.lanes&q)!==0?!0:(U=U.dependencies,!!(U!==null&&ao(U)))}function Bm(U,q,W){switch(q.tag){case 3:Ge(q,q.stateNode.containerInfo),xr(q,Wt,U.memoizedState.cache),qr();break;case 27:case 5:Ve(q);break;case 4:Ge(q,q.stateNode.containerInfo);break;case 10:xr(q,q.type,q.memoizedProps.value);break;case 31:if(q.memoizedState!==null)return q.flags|=128,Ws(q),null;break;case 13:var ee=q.memoizedState;if(ee!==null)return ee.dehydrated!==null?(wr(q),q.flags|=128,null):(W&q.child.childLanes)!==0?jf(U,q,W):(wr(q),U=rr(U,q,W),U!==null?U.sibling:null);wr(q);break;case 19:var ae=(U.flags&128)!==0;if(ee=(W&q.childLanes)!==0,ee||(Si(U,q,W,!1),ee=(W&q.childLanes)!==0),ae){if(ee)return Ff(U,q,W);q.flags|=128}if(ae=q.memoizedState,ae!==null&&(ae.rendering=null,ae.tail=null,ae.lastEffect=null),xe(Yt,Yt.current),ee)break;return null;case 22:return q.lanes=0,Pf(U,q,W,q.pendingProps);case 24:xr(q,Wt,U.memoizedState.cache)}return rr(U,q,W)}function Hf(U,q,W){if(U!==null)if(U.memoizedProps!==q.pendingProps)Qt=!0;else{if(!Cl(U,W)&&(q.flags&128)===0)return Qt=!1,Bm(U,q,W);Qt=(U.flags&131072)!==0}else Qt=!1,Tt&&(q.flags&1048576)!==0&&xu(q,ra,q.index);switch(q.lanes=0,q.tag){case 16:e:{var ee=q.pendingProps;if(U=Wr(q.elementType),q.type=U,typeof U=="function")$s(U)?(ee=ei(U,ee),q.tag=1,q=Lf(null,q,U,ee,W)):(q.tag=0,q=bl(null,q,U,ee,W));else{if(U!=null){var ae=U.$$typeof;if(ae===ue){q.tag=11,q=$f(null,q,U,ee,W);break e}else if(ae===fe){q.tag=14,q=kf(null,q,U,ee,W);break e}}throw q=Ae(U)||U,Error(O(306,q,""))}}return q;case 0:return bl(U,q,q.type,q.pendingProps,W);case 1:return ee=q.type,ae=ei(ee,q.pendingProps),Lf(U,q,ee,ae,W);case 3:e:{if(Ge(q,q.stateNode.containerInfo),U===null)throw Error(O(387));ee=q.pendingProps;var le=q.memoizedState;ae=le.element,Vs(U,q),fa(q,ee,null,W);var ge=q.memoizedState;if(ee=ge.cache,xr(q,Wt,ee),ee!==le.cache&&js(q,[Wt],W,!0),ua(),ee=ge.element,le.isDehydrated)if(le={element:ee,isDehydrated:!1,cache:ge.cache},q.updateQueue.baseState=le,q.memoizedState=le,q.flags&256){q=zf(U,q,ee,W);break e}else if(ee!==ae){ae=Mn(Error(O(424)),q),ia(ae),q=zf(U,q,ee,W);break e}else for(U=q.stateNode.containerInfo,U.nodeType===9?U=U.body:U=U.nodeName==="HTML"?U.ownerDocument.body:U,Ht=On(U.firstChild),an=q,Tt=!0,gr=null,Nn=!0,W=Nu(q,null,ee,W),q.child=W;W;)W.flags=W.flags&-3|4096,W=W.sibling;else{if(qr(),ee===ae){q=rr(U,q,W);break e}sn(U,q,ee,W)}q=q.child}return q;case 26:return Co(U,q),U===null?(W=ed(q.type,null,q.pendingProps,null))?q.memoizedState=W:Tt||(W=q.type,U=q.pendingProps,ee=Ho(Ye.current).createElement(W),ee[rn]=q,ee[fn]=U,ln(ee,W,U),tn(ee),q.stateNode=ee):q.memoizedState=ed(q.type,U.memoizedProps,q.pendingProps,U.memoizedState),null;case 27:return Ve(q),U===null&&Tt&&(ee=q.stateNode=Kh(q.type,q.pendingProps,Ye.current),an=q,Nn=!0,ae=Ht,Pr(q.type)?(ic=ae,Ht=On(ee.firstChild)):Ht=ae),sn(U,q,q.pendingProps.children,W),Co(U,q),U===null&&(q.flags|=4194304),q.child;case 5:return U===null&&Tt&&((ae=ee=Ht)&&(ee=b0(ee,q.type,q.pendingProps,Nn),ee!==null?(q.stateNode=ee,an=q,Ht=On(ee.firstChild),Nn=!1,ae=!0):ae=!1),ae||yr(q)),Ve(q),ae=q.type,le=q.pendingProps,ge=U!==null?U.memoizedProps:null,ee=le.children,Jl(ae,le)?ee=null:ge!==null&&Jl(ae,ge)&&(q.flags|=32),q.memoizedState!==null&&(ae=Qs(U,q,km,null,null,W),Pa._currentValue=ae),Co(U,q),sn(U,q,ee,W),q.child;case 6:return U===null&&Tt&&((U=W=Ht)&&(W=_0(W,q.pendingProps,Nn),W!==null?(q.stateNode=W,an=q,Ht=null,U=!0):U=!1),U||yr(q)),null;case 13:return jf(U,q,W);case 4:return Ge(q,q.stateNode.containerInfo),ee=q.pendingProps,U===null?q.child=Qr(q,null,ee,W):sn(U,q,ee,W),q.child;case 11:return $f(U,q,q.type,q.pendingProps,W);case 7:return sn(U,q,q.pendingProps,W),q.child;case 8:return sn(U,q,q.pendingProps.children,W),q.child;case 12:return sn(U,q,q.pendingProps.children,W),q.child;case 10:return ee=q.pendingProps,xr(q,q.type,ee.value),sn(U,q,ee.children,W),q.child;case 9:return ae=q.type._context,ee=q.pendingProps.children,Yr(q),ae=on(ae),ee=ee(ae),q.flags|=1,sn(U,q,ee,W),q.child;case 14:return kf(U,q,q.type,q.pendingProps,W);case 15:return Nf(U,q,q.type,q.pendingProps,W);case 19:return Ff(U,q,W);case 31:return jm(U,q,W);case 22:return Pf(U,q,W,q.pendingProps);case 24:return Yr(q),ee=on(Wt),U===null?(ae=Hs(),ae===null&&(ae=Bt,le=Bs(),ae.pooledCache=le,le.refCount++,le!==null&&(ae.pooledCacheLanes|=W),ae=le),q.memoizedState={parent:ee,cache:ae},Gs(q),xr(q,Wt,ae)):((U.lanes&W)!==0&&(Vs(U,q),fa(q,null,null,W),ua()),ae=U.memoizedState,le=q.memoizedState,ae.parent!==ee?(ae={parent:ee,cache:ee},q.memoizedState=ae,q.lanes===0&&(q.memoizedState=q.updateQueue.baseState=ae),xr(q,Wt,ee)):(ee=le.cache,xr(q,Wt,ee),ee!==ae.cache&&js(q,[Wt],W,!0))),sn(U,q,q.pendingProps.children,W),q.child;case 29:throw q.pendingProps}throw Error(O(156,q.tag))}function ir(U){U.flags|=4}function Tl(U,q,W,ee,ae){if((q=(U.mode&32)!==0)&&(q=!1),q){if(U.flags|=16777216,(ae&335544128)===ae)if(U.stateNode.complete)U.flags|=8192;else if(gh())U.flags|=8192;else throw Kr=co,Us}else U.flags&=-16777217}function Uf(U,q){if(q.type!=="stylesheet"||(q.state.loading&4)!==0)U.flags&=-16777217;else if(U.flags|=16777216,!od(q))if(gh())U.flags|=8192;else throw Kr=co,Us}function Ao(U,q){q!==null&&(U.flags|=4),U.flags&16384&&(q=U.tag!==22?bc():536870912,U.lanes|=q,Oi|=q)}function ya(U,q){if(!Tt)switch(U.tailMode){case"hidden":q=U.tail;for(var W=null;q!==null;)q.alternate!==null&&(W=q),q=q.sibling;W===null?U.tail=null:W.sibling=null;break;case"collapsed":W=U.tail;for(var ee=null;W!==null;)W.alternate!==null&&(ee=W),W=W.sibling;ee===null?q||U.tail===null?U.tail=null:U.tail.sibling=null:ee.sibling=null}}function Ut(U){var q=U.alternate!==null&&U.alternate.child===U.child,W=0,ee=0;if(q)for(var ae=U.child;ae!==null;)W|=ae.lanes|ae.childLanes,ee|=ae.subtreeFlags&65011712,ee|=ae.flags&65011712,ae.return=U,ae=ae.sibling;else for(ae=U.child;ae!==null;)W|=ae.lanes|ae.childLanes,ee|=ae.subtreeFlags,ee|=ae.flags,ae.return=U,ae=ae.sibling;return U.subtreeFlags|=ee,U.childLanes=W,q}function Fm(U,q,W){var ee=q.pendingProps;switch(Os(q),q.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(q),null;case 1:return Ut(q),null;case 3:return W=q.stateNode,ee=null,U!==null&&(ee=U.memoizedState.cache),q.memoizedState.cache!==ee&&(q.flags|=2048),er(Wt),Oe(),W.pendingContext&&(W.context=W.pendingContext,W.pendingContext=null),(U===null||U.child===null)&&(vi(q)?ir(q):U===null||U.memoizedState.isDehydrated&&(q.flags&256)===0||(q.flags|=1024,Ds())),Ut(q),null;case 26:var ae=q.type,le=q.memoizedState;return U===null?(ir(q),le!==null?(Ut(q),Uf(q,le)):(Ut(q),Tl(q,ae,null,ee,W))):le?le!==U.memoizedState?(ir(q),Ut(q),Uf(q,le)):(Ut(q),q.flags&=-16777217):(U=U.memoizedProps,U!==ee&&ir(q),Ut(q),Tl(q,ae,U,ee,W)),null;case 27:if(Ue(q),W=Ye.current,ae=q.type,U!==null&&q.stateNode!=null)U.memoizedProps!==ee&&ir(q);else{if(!ee){if(q.stateNode===null)throw Error(O(166));return Ut(q),null}U=ze.current,vi(q)?vu(q):(U=Kh(ae,ee,W),q.stateNode=U,ir(q))}return Ut(q),null;case 5:if(Ue(q),ae=q.type,U!==null&&q.stateNode!=null)U.memoizedProps!==ee&&ir(q);else{if(!ee){if(q.stateNode===null)throw Error(O(166));return Ut(q),null}if(le=ze.current,vi(q))vu(q);else{var ge=Ho(Ye.current);switch(le){case 1:le=ge.createElementNS("http://www.w3.org/2000/svg",ae);break;case 2:le=ge.createElementNS("http://www.w3.org/1998/Math/MathML",ae);break;default:switch(ae){case"svg":le=ge.createElementNS("http://www.w3.org/2000/svg",ae);break;case"math":le=ge.createElementNS("http://www.w3.org/1998/Math/MathML",ae);break;case"script":le=ge.createElement("div"),le.innerHTML="<script><\/script>",le=le.removeChild(le.firstChild);break;case"select":le=typeof ee.is=="string"?ge.createElement("select",{is:ee.is}):ge.createElement("select"),ee.multiple?le.multiple=!0:ee.size&&(le.size=ee.size);break;default:le=typeof ee.is=="string"?ge.createElement(ae,{is:ee.is}):ge.createElement(ae)}}le[rn]=q,le[fn]=ee;e:for(ge=q.child;ge!==null;){if(ge.tag===5||ge.tag===6)le.appendChild(ge.stateNode);else if(ge.tag!==4&&ge.tag!==27&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===q)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===q)break e;ge=ge.return}ge.sibling.return=ge.return,ge=ge.sibling}q.stateNode=le;e:switch(ln(le,ae,ee),ae){case"button":case"input":case"select":case"textarea":ee=!!ee.autoFocus;break e;case"img":ee=!0;break e;default:ee=!1}ee&&ir(q)}}return Ut(q),Tl(q,q.type,U===null?null:U.memoizedProps,q.pendingProps,W),null;case 6:if(U&&q.stateNode!=null)U.memoizedProps!==ee&&ir(q);else{if(typeof ee!="string"&&q.stateNode===null)throw Error(O(166));if(U=Ye.current,vi(q)){if(U=q.stateNode,W=q.memoizedProps,ee=null,ae=an,ae!==null)switch(ae.tag){case 27:case 5:ee=ae.memoizedProps}U[rn]=q,U=!!(U.nodeValue===W||ee!==null&&ee.suppressHydrationWarning===!0||Bh(U.nodeValue,W)),U||yr(q,!0)}else U=Ho(U).createTextNode(ee),U[rn]=q,q.stateNode=U}return Ut(q),null;case 31:if(W=q.memoizedState,U===null||U.memoizedState!==null){if(ee=vi(q),W!==null){if(U===null){if(!ee)throw Error(O(318));if(U=q.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(O(557));U[rn]=q}else qr(),(q.flags&128)===0&&(q.memoizedState=null),q.flags|=4;Ut(q),U=!1}else W=Ds(),U!==null&&U.memoizedState!==null&&(U.memoizedState.hydrationErrors=W),U=!0;if(!U)return q.flags&256?(vn(q),q):(vn(q),null);if((q.flags&128)!==0)throw Error(O(558))}return Ut(q),null;case 13:if(ee=q.memoizedState,U===null||U.memoizedState!==null&&U.memoizedState.dehydrated!==null){if(ae=vi(q),ee!==null&&ee.dehydrated!==null){if(U===null){if(!ae)throw Error(O(318));if(ae=q.memoizedState,ae=ae!==null?ae.dehydrated:null,!ae)throw Error(O(317));ae[rn]=q}else qr(),(q.flags&128)===0&&(q.memoizedState=null),q.flags|=4;Ut(q),ae=!1}else ae=Ds(),U!==null&&U.memoizedState!==null&&(U.memoizedState.hydrationErrors=ae),ae=!0;if(!ae)return q.flags&256?(vn(q),q):(vn(q),null)}return vn(q),(q.flags&128)!==0?(q.lanes=W,q):(W=ee!==null,U=U!==null&&U.memoizedState!==null,W&&(ee=q.child,ae=null,ee.alternate!==null&&ee.alternate.memoizedState!==null&&ee.alternate.memoizedState.cachePool!==null&&(ae=ee.alternate.memoizedState.cachePool.pool),le=null,ee.memoizedState!==null&&ee.memoizedState.cachePool!==null&&(le=ee.memoizedState.cachePool.pool),le!==ae&&(ee.flags|=2048)),W!==U&&W&&(q.child.flags|=8192),Ao(q,q.updateQueue),Ut(q),null);case 4:return Oe(),U===null&&Yl(q.stateNode.containerInfo),Ut(q),null;case 10:return er(q.type),Ut(q),null;case 19:if(ke(Yt),ee=q.memoizedState,ee===null)return Ut(q),null;if(ae=(q.flags&128)!==0,le=ee.rendering,le===null)if(ae)ya(ee,!1);else{if(Zt!==0||U!==null&&(U.flags&128)!==0)for(U=q.child;U!==null;){if(le=mo(U),le!==null){for(q.flags|=128,ya(ee,!1),U=le.updateQueue,q.updateQueue=U,Ao(q,U),q.subtreeFlags=0,U=W,W=q.child;W!==null;)gu(W,U),W=W.sibling;return xe(Yt,Yt.current&1|2),Tt&&Qn(q,ee.treeForkCount),q.child}U=U.sibling}ee.tail!==null&&pt()>No&&(q.flags|=128,ae=!0,ya(ee,!1),q.lanes=4194304)}else{if(!ae)if(U=mo(le),U!==null){if(q.flags|=128,ae=!0,U=U.updateQueue,q.updateQueue=U,Ao(q,U),ya(ee,!0),ee.tail===null&&ee.tailMode==="hidden"&&!le.alternate&&!Tt)return Ut(q),null}else 2*pt()-ee.renderingStartTime>No&&W!==536870912&&(q.flags|=128,ae=!0,ya(ee,!1),q.lanes=4194304);ee.isBackwards?(le.sibling=q.child,q.child=le):(U=ee.last,U!==null?U.sibling=le:q.child=le,ee.last=le)}return ee.tail!==null?(U=ee.tail,ee.rendering=U,ee.tail=U.sibling,ee.renderingStartTime=pt(),U.sibling=null,W=Yt.current,xe(Yt,ae?W&1|2:W&1),Tt&&Qn(q,ee.treeForkCount),U):(Ut(q),null);case 22:case 23:return vn(q),Xs(),ee=q.memoizedState!==null,U!==null?U.memoizedState!==null!==ee&&(q.flags|=8192):ee&&(q.flags|=8192),ee?(W&536870912)!==0&&(q.flags&128)===0&&(Ut(q),q.subtreeFlags&6&&(q.flags|=8192)):Ut(q),W=q.updateQueue,W!==null&&Ao(q,W.retryQueue),W=null,U!==null&&U.memoizedState!==null&&U.memoizedState.cachePool!==null&&(W=U.memoizedState.cachePool.pool),ee=null,q.memoizedState!==null&&q.memoizedState.cachePool!==null&&(ee=q.memoizedState.cachePool.pool),ee!==W&&(q.flags|=2048),U!==null&&ke(Xr),null;case 24:return W=null,U!==null&&(W=U.memoizedState.cache),q.memoizedState.cache!==W&&(q.flags|=2048),er(Wt),Ut(q),null;case 25:return null;case 30:return null}throw Error(O(156,q.tag))}function Hm(U,q){switch(Os(q),q.tag){case 1:return U=q.flags,U&65536?(q.flags=U&-65537|128,q):null;case 3:return er(Wt),Oe(),U=q.flags,(U&65536)!==0&&(U&128)===0?(q.flags=U&-65537|128,q):null;case 26:case 27:case 5:return Ue(q),null;case 31:if(q.memoizedState!==null){if(vn(q),q.alternate===null)throw Error(O(340));qr()}return U=q.flags,U&65536?(q.flags=U&-65537|128,q):null;case 13:if(vn(q),U=q.memoizedState,U!==null&&U.dehydrated!==null){if(q.alternate===null)throw Error(O(340));qr()}return U=q.flags,U&65536?(q.flags=U&-65537|128,q):null;case 19:return ke(Yt),null;case 4:return Oe(),null;case 10:return er(q.type),null;case 22:case 23:return vn(q),Xs(),U!==null&&ke(Xr),U=q.flags,U&65536?(q.flags=U&-65537|128,q):null;case 24:return er(Wt),null;case 25:return null;default:return null}}function Gf(U,q){switch(Os(q),q.tag){case 3:er(Wt),Oe();break;case 26:case 27:case 5:Ue(q);break;case 4:Oe();break;case 31:q.memoizedState!==null&&vn(q);break;case 13:vn(q);break;case 19:ke(Yt);break;case 10:er(q.type);break;case 22:case 23:vn(q),Xs(),U!==null&&ke(Xr);break;case 24:er(Wt)}}function ba(U,q){try{var W=q.updateQueue,ee=W!==null?W.lastEffect:null;if(ee!==null){var ae=ee.next;W=ae;do{if((W.tag&U)===U){ee=void 0;var le=W.create,ge=W.inst;ee=le(),ge.destroy=ee}W=W.next}while(W!==ae)}}catch(Te){It(q,q.return,Te)}}function Cr(U,q,W){try{var ee=q.updateQueue,ae=ee!==null?ee.lastEffect:null;if(ae!==null){var le=ae.next;ee=le;do{if((ee.tag&U)===U){var ge=ee.inst,Te=ge.destroy;if(Te!==void 0){ge.destroy=void 0,ae=q;var Ne=W,Be=Te;try{Be()}catch(Xe){It(ae,Ne,Xe)}}}ee=ee.next}while(ee!==le)}}catch(Xe){It(q,q.return,Xe)}}function Vf(U){var q=U.updateQueue;if(q!==null){var W=U.stateNode;try{Ou(q,W)}catch(ee){It(U,U.return,ee)}}}function qf(U,q,W){W.props=ei(U.type,U.memoizedProps),W.state=U.memoizedState;try{W.componentWillUnmount()}catch(ee){It(U,q,ee)}}function xa(U,q){try{var W=U.ref;if(W!==null){switch(U.tag){case 26:case 27:case 5:var ee=U.stateNode;break;case 30:ee=U.stateNode;break;default:ee=U.stateNode}typeof W=="function"?U.refCleanup=W(ee):W.current=ee}}catch(ae){It(U,q,ae)}}function Hn(U,q){var W=U.ref,ee=U.refCleanup;if(W!==null)if(typeof ee=="function")try{ee()}catch(ae){It(U,q,ae)}finally{U.refCleanup=null,U=U.alternate,U!=null&&(U.refCleanup=null)}else if(typeof W=="function")try{W(null)}catch(ae){It(U,q,ae)}else W.current=null}function Zf(U){var q=U.type,W=U.memoizedProps,ee=U.stateNode;try{e:switch(q){case"button":case"input":case"select":case"textarea":W.autoFocus&&ee.focus();break e;case"img":W.src?ee.src=W.src:W.srcSet&&(ee.srcset=W.srcSet)}}catch(ae){It(U,U.return,ae)}}function Al(U,q,W){try{var ee=U.stateNode;f0(ee,U.type,W,q),ee[fn]=q}catch(ae){It(U,U.return,ae)}}function Yf(U){return U.tag===5||U.tag===3||U.tag===26||U.tag===27&&Pr(U.type)||U.tag===4}function Rl(U){e:for(;;){for(;U.sibling===null;){if(U.return===null||Yf(U.return))return null;U=U.return}for(U.sibling.return=U.return,U=U.sibling;U.tag!==5&&U.tag!==6&&U.tag!==18;){if(U.tag===27&&Pr(U.type)||U.flags&2||U.child===null||U.tag===4)continue e;U.child.return=U,U=U.child}if(!(U.flags&2))return U.stateNode}}function Ml(U,q,W){var ee=U.tag;if(ee===5||ee===6)U=U.stateNode,q?(W.nodeType===9?W.body:W.nodeName==="HTML"?W.ownerDocument.body:W).insertBefore(U,q):(q=W.nodeType===9?W.body:W.nodeName==="HTML"?W.ownerDocument.body:W,q.appendChild(U),W=W._reactRootContainer,W!=null||q.onclick!==null||(q.onclick=qn));else if(ee!==4&&(ee===27&&Pr(U.type)&&(W=U.stateNode,q=null),U=U.child,U!==null))for(Ml(U,q,W),U=U.sibling;U!==null;)Ml(U,q,W),U=U.sibling}function Ro(U,q,W){var ee=U.tag;if(ee===5||ee===6)U=U.stateNode,q?W.insertBefore(U,q):W.appendChild(U);else if(ee!==4&&(ee===27&&Pr(U.type)&&(W=U.stateNode),U=U.child,U!==null))for(Ro(U,q,W),U=U.sibling;U!==null;)Ro(U,q,W),U=U.sibling}function Xf(U){var q=U.stateNode,W=U.memoizedProps;try{for(var ee=U.type,ae=q.attributes;ae.length;)q.removeAttributeNode(ae[0]);ln(q,ee,W),q[rn]=U,q[fn]=W}catch(le){It(U,U.return,le)}}var ar=!1,Jt=!1,$l=!1,Wf=typeof WeakSet=="function"?WeakSet:Set,nn=null;function Um(U,q){if(U=U.containerInfo,Kl=Xo,U=su(U),ws(U)){if("selectionStart"in U)var W={start:U.selectionStart,end:U.selectionEnd};else e:{W=(W=U.ownerDocument)&&W.defaultView||window;var ee=W.getSelection&&W.getSelection();if(ee&&ee.rangeCount!==0){W=ee.anchorNode;var ae=ee.anchorOffset,le=ee.focusNode;ee=ee.focusOffset;try{W.nodeType,le.nodeType}catch{W=null;break e}var ge=0,Te=-1,Ne=-1,Be=0,Xe=0,Qe=U,He=null;t:for(;;){for(var qe;Qe!==W||ae!==0&&Qe.nodeType!==3||(Te=ge+ae),Qe!==le||ee!==0&&Qe.nodeType!==3||(Ne=ge+ee),Qe.nodeType===3&&(ge+=Qe.nodeValue.length),(qe=Qe.firstChild)!==null;)He=Qe,Qe=qe;for(;;){if(Qe===U)break t;if(He===W&&++Be===ae&&(Te=ge),He===le&&++Xe===ee&&(Ne=ge),(qe=Qe.nextSibling)!==null)break;Qe=He,He=Qe.parentNode}Qe=qe}W=Te===-1||Ne===-1?null:{start:Te,end:Ne}}else W=null}W=W||{start:0,end:0}}else W=null;for(Ql={focusedElem:U,selectionRange:W},Xo=!1,nn=q;nn!==null;)if(q=nn,U=q.child,(q.subtreeFlags&1028)!==0&&U!==null)U.return=q,nn=U;else for(;nn!==null;){switch(q=nn,le=q.alternate,U=q.flags,q.tag){case 0:if((U&4)!==0&&(U=q.updateQueue,U=U!==null?U.events:null,U!==null))for(W=0;W<U.length;W++)ae=U[W],ae.ref.impl=ae.nextImpl;break;case 11:case 15:break;case 1:if((U&1024)!==0&&le!==null){U=void 0,W=q,ae=le.memoizedProps,le=le.memoizedState,ee=W.stateNode;try{var st=ei(W.type,ae);U=ee.getSnapshotBeforeUpdate(st,le),ee.__reactInternalSnapshotBeforeUpdate=U}catch(ht){It(W,W.return,ht)}}break;case 3:if((U&1024)!==0){if(U=q.stateNode.containerInfo,W=U.nodeType,W===9)tc(U);else if(W===1)switch(U.nodeName){case"HEAD":case"HTML":case"BODY":tc(U);break;default:U.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((U&1024)!==0)throw Error(O(163))}if(U=q.sibling,U!==null){U.return=q.return,nn=U;break}nn=q.return}}function Kf(U,q,W){var ee=W.flags;switch(W.tag){case 0:case 11:case 15:sr(U,W),ee&4&&ba(5,W);break;case 1:if(sr(U,W),ee&4)if(U=W.stateNode,q===null)try{U.componentDidMount()}catch(ge){It(W,W.return,ge)}else{var ae=ei(W.type,q.memoizedProps);q=q.memoizedState;try{U.componentDidUpdate(ae,q,U.__reactInternalSnapshotBeforeUpdate)}catch(ge){It(W,W.return,ge)}}ee&64&&Vf(W),ee&512&&xa(W,W.return);break;case 3:if(sr(U,W),ee&64&&(U=W.updateQueue,U!==null)){if(q=null,W.child!==null)switch(W.child.tag){case 27:case 5:q=W.child.stateNode;break;case 1:q=W.child.stateNode}try{Ou(U,q)}catch(ge){It(W,W.return,ge)}}break;case 27:q===null&&ee&4&&Xf(W);case 26:case 5:sr(U,W),q===null&&ee&4&&Zf(W),ee&512&&xa(W,W.return);break;case 12:sr(U,W);break;case 31:sr(U,W),ee&4&&eh(U,W);break;case 13:sr(U,W),ee&4&&th(U,W),ee&64&&(U=W.memoizedState,U!==null&&(U=U.dehydrated,U!==null&&(W=Qm.bind(null,W),v0(U,W))));break;case 22:if(ee=W.memoizedState!==null||ar,!ee){q=q!==null&&q.memoizedState!==null||Jt,ae=ar;var le=Jt;ar=ee,(Jt=q)&&!le?lr(U,W,(W.subtreeFlags&8772)!==0):sr(U,W),ar=ae,Jt=le}break;case 30:break;default:sr(U,W)}}function Qf(U){var q=U.alternate;q!==null&&(U.alternate=null,Qf(q)),U.child=null,U.deletions=null,U.sibling=null,U.tag===5&&(q=U.stateNode,q!==null&&os(q)),U.stateNode=null,U.return=null,U.dependencies=null,U.memoizedProps=null,U.memoizedState=null,U.pendingProps=null,U.stateNode=null,U.updateQueue=null}var Vt=null,dn=!1;function or(U,q,W){for(W=W.child;W!==null;)Jf(U,q,W),W=W.sibling}function Jf(U,q,W){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(kt,W)}catch{}switch(W.tag){case 26:Jt||Hn(W,q),or(U,q,W),W.memoizedState?W.memoizedState.count--:W.stateNode&&(W=W.stateNode,W.parentNode.removeChild(W));break;case 27:Jt||Hn(W,q);var ee=Vt,ae=dn;Pr(W.type)&&(Vt=W.stateNode,dn=!1),or(U,q,W),Ma(W.stateNode),Vt=ee,dn=ae;break;case 5:Jt||Hn(W,q);case 6:if(ee=Vt,ae=dn,Vt=null,or(U,q,W),Vt=ee,dn=ae,Vt!==null)if(dn)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(W.stateNode)}catch(le){It(W,q,le)}else try{Vt.removeChild(W.stateNode)}catch(le){It(W,q,le)}break;case 18:Vt!==null&&(dn?(U=Vt,qh(U.nodeType===9?U.body:U.nodeName==="HTML"?U.ownerDocument.body:U,W.stateNode),Hi(U)):qh(Vt,W.stateNode));break;case 4:ee=Vt,ae=dn,Vt=W.stateNode.containerInfo,dn=!0,or(U,q,W),Vt=ee,dn=ae;break;case 0:case 11:case 14:case 15:Cr(2,W,q),Jt||Cr(4,W,q),or(U,q,W);break;case 1:Jt||(Hn(W,q),ee=W.stateNode,typeof ee.componentWillUnmount=="function"&&qf(W,q,ee)),or(U,q,W);break;case 21:or(U,q,W);break;case 22:Jt=(ee=Jt)||W.memoizedState!==null,or(U,q,W),Jt=ee;break;default:or(U,q,W)}}function eh(U,q){if(q.memoizedState===null&&(U=q.alternate,U!==null&&(U=U.memoizedState,U!==null))){U=U.dehydrated;try{Hi(U)}catch(W){It(q,q.return,W)}}}function th(U,q){if(q.memoizedState===null&&(U=q.alternate,U!==null&&(U=U.memoizedState,U!==null&&(U=U.dehydrated,U!==null))))try{Hi(U)}catch(W){It(q,q.return,W)}}function Gm(U){switch(U.tag){case 31:case 13:case 19:var q=U.stateNode;return q===null&&(q=U.stateNode=new Wf),q;case 22:return U=U.stateNode,q=U._retryCache,q===null&&(q=U._retryCache=new Wf),q;default:throw Error(O(435,U.tag))}}function Mo(U,q){var W=Gm(U);q.forEach(function(ee){if(!W.has(ee)){W.add(ee);var ae=Jm.bind(null,U,ee);ee.then(ae,ae)}})}function mn(U,q){var W=q.deletions;if(W!==null)for(var ee=0;ee<W.length;ee++){var ae=W[ee],le=U,ge=q,Te=ge;e:for(;Te!==null;){switch(Te.tag){case 27:if(Pr(Te.type)){Vt=Te.stateNode,dn=!1;break e}break;case 5:Vt=Te.stateNode,dn=!1;break e;case 3:case 4:Vt=Te.stateNode.containerInfo,dn=!0;break e}Te=Te.return}if(Vt===null)throw Error(O(160));Jf(le,ge,ae),Vt=null,dn=!1,le=ae.alternate,le!==null&&(le.return=null),ae.return=null}if(q.subtreeFlags&13886)for(q=q.child;q!==null;)nh(q,U),q=q.sibling}var zn=null;function nh(U,q){var W=U.alternate,ee=U.flags;switch(U.tag){case 0:case 11:case 14:case 15:mn(q,U),pn(U),ee&4&&(Cr(3,U,U.return),ba(3,U),Cr(5,U,U.return));break;case 1:mn(q,U),pn(U),ee&512&&(Jt||W===null||Hn(W,W.return)),ee&64&&ar&&(U=U.updateQueue,U!==null&&(ee=U.callbacks,ee!==null&&(W=U.shared.hiddenCallbacks,U.shared.hiddenCallbacks=W===null?ee:W.concat(ee))));break;case 26:var ae=zn;if(mn(q,U),pn(U),ee&512&&(Jt||W===null||Hn(W,W.return)),ee&4){var le=W!==null?W.memoizedState:null;if(ee=U.memoizedState,W===null)if(ee===null)if(U.stateNode===null){e:{ee=U.type,W=U.memoizedProps,ae=ae.ownerDocument||ae;t:switch(ee){case"title":le=ae.getElementsByTagName("title")[0],(!le||le[qi]||le[rn]||le.namespaceURI==="http://www.w3.org/2000/svg"||le.hasAttribute("itemprop"))&&(le=ae.createElement(ee),ae.head.insertBefore(le,ae.querySelector("head > title"))),ln(le,ee,W),le[rn]=U,tn(le),ee=le;break e;case"link":var ge=rd("link","href",ae).get(ee+(W.href||""));if(ge){for(var Te=0;Te<ge.length;Te++)if(le=ge[Te],le.getAttribute("href")===(W.href==null||W.href===""?null:W.href)&&le.getAttribute("rel")===(W.rel==null?null:W.rel)&&le.getAttribute("title")===(W.title==null?null:W.title)&&le.getAttribute("crossorigin")===(W.crossOrigin==null?null:W.crossOrigin)){ge.splice(Te,1);break t}}le=ae.createElement(ee),ln(le,ee,W),ae.head.appendChild(le);break;case"meta":if(ge=rd("meta","content",ae).get(ee+(W.content||""))){for(Te=0;Te<ge.length;Te++)if(le=ge[Te],le.getAttribute("content")===(W.content==null?null:""+W.content)&&le.getAttribute("name")===(W.name==null?null:W.name)&&le.getAttribute("property")===(W.property==null?null:W.property)&&le.getAttribute("http-equiv")===(W.httpEquiv==null?null:W.httpEquiv)&&le.getAttribute("charset")===(W.charSet==null?null:W.charSet)){ge.splice(Te,1);break t}}le=ae.createElement(ee),ln(le,ee,W),ae.head.appendChild(le);break;default:throw Error(O(468,ee))}le[rn]=U,tn(le),ee=le}U.stateNode=ee}else ad(ae,U.type,U.stateNode);else U.stateNode=nd(ae,ee,U.memoizedProps);else le!==ee?(le===null?W.stateNode!==null&&(W=W.stateNode,W.parentNode.removeChild(W)):le.count--,ee===null?ad(ae,U.type,U.stateNode):nd(ae,ee,U.memoizedProps)):ee===null&&U.stateNode!==null&&Al(U,U.memoizedProps,W.memoizedProps)}break;case 27:mn(q,U),pn(U),ee&512&&(Jt||W===null||Hn(W,W.return)),W!==null&&ee&4&&Al(U,U.memoizedProps,W.memoizedProps);break;case 5:if(mn(q,U),pn(U),ee&512&&(Jt||W===null||Hn(W,W.return)),U.flags&32){ae=U.stateNode;try{ci(ae,"")}catch(st){It(U,U.return,st)}}ee&4&&U.stateNode!=null&&(ae=U.memoizedProps,Al(U,ae,W!==null?W.memoizedProps:ae)),ee&1024&&($l=!0);break;case 6:if(mn(q,U),pn(U),ee&4){if(U.stateNode===null)throw Error(O(162));ee=U.memoizedProps,W=U.stateNode;try{W.nodeValue=ee}catch(st){It(U,U.return,st)}}break;case 3:if(Vo=null,ae=zn,zn=Uo(q.containerInfo),mn(q,U),zn=ae,pn(U),ee&4&&W!==null&&W.memoizedState.isDehydrated)try{Hi(q.containerInfo)}catch(st){It(U,U.return,st)}$l&&($l=!1,rh(U));break;case 4:ee=zn,zn=Uo(U.stateNode.containerInfo),mn(q,U),pn(U),zn=ee;break;case 12:mn(q,U),pn(U);break;case 31:mn(q,U),pn(U),ee&4&&(ee=U.updateQueue,ee!==null&&(U.updateQueue=null,Mo(U,ee)));break;case 13:mn(q,U),pn(U),U.child.flags&8192&&U.memoizedState!==null!=(W!==null&&W.memoizedState!==null)&&(ko=pt()),ee&4&&(ee=U.updateQueue,ee!==null&&(U.updateQueue=null,Mo(U,ee)));break;case 22:ae=U.memoizedState!==null;var Ne=W!==null&&W.memoizedState!==null,Be=ar,Xe=Jt;if(ar=Be||ae,Jt=Xe||Ne,mn(q,U),Jt=Xe,ar=Be,pn(U),ee&8192)e:for(q=U.stateNode,q._visibility=ae?q._visibility&-2:q._visibility|1,ae&&(W===null||Ne||ar||Jt||ti(U)),W=null,q=U;;){if(q.tag===5||q.tag===26){if(W===null){Ne=W=q;try{if(le=Ne.stateNode,ae)ge=le.style,typeof ge.setProperty=="function"?ge.setProperty("display","none","important"):ge.display="none";else{Te=Ne.stateNode;var Qe=Ne.memoizedProps.style,He=Qe!=null&&Qe.hasOwnProperty("display")?Qe.display:null;Te.style.display=He==null||typeof He=="boolean"?"":(""+He).trim()}}catch(st){It(Ne,Ne.return,st)}}}else if(q.tag===6){if(W===null){Ne=q;try{Ne.stateNode.nodeValue=ae?"":Ne.memoizedProps}catch(st){It(Ne,Ne.return,st)}}}else if(q.tag===18){if(W===null){Ne=q;try{var qe=Ne.stateNode;ae?Zh(qe,!0):Zh(Ne.stateNode,!1)}catch(st){It(Ne,Ne.return,st)}}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===U)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===U)break e;for(;q.sibling===null;){if(q.return===null||q.return===U)break e;W===q&&(W=null),q=q.return}W===q&&(W=null),q.sibling.return=q.return,q=q.sibling}ee&4&&(ee=U.updateQueue,ee!==null&&(W=ee.retryQueue,W!==null&&(ee.retryQueue=null,Mo(U,W))));break;case 19:mn(q,U),pn(U),ee&4&&(ee=U.updateQueue,ee!==null&&(U.updateQueue=null,Mo(U,ee)));break;case 30:break;case 21:break;default:mn(q,U),pn(U)}}function pn(U){var q=U.flags;if(q&2){try{for(var W,ee=U.return;ee!==null;){if(Yf(ee)){W=ee;break}ee=ee.return}if(W==null)throw Error(O(160));switch(W.tag){case 27:var ae=W.stateNode,le=Rl(U);Ro(U,le,ae);break;case 5:var ge=W.stateNode;W.flags&32&&(ci(ge,""),W.flags&=-33);var Te=Rl(U);Ro(U,Te,ge);break;case 3:case 4:var Ne=W.stateNode.containerInfo,Be=Rl(U);Ml(U,Be,Ne);break;default:throw Error(O(161))}}catch(Xe){It(U,U.return,Xe)}U.flags&=-3}q&4096&&(U.flags&=-4097)}function rh(U){if(U.subtreeFlags&1024)for(U=U.child;U!==null;){var q=U;rh(q),q.tag===5&&q.flags&1024&&q.stateNode.reset(),U=U.sibling}}function sr(U,q){if(q.subtreeFlags&8772)for(q=q.child;q!==null;)Kf(U,q.alternate,q),q=q.sibling}function ti(U){for(U=U.child;U!==null;){var q=U;switch(q.tag){case 0:case 11:case 14:case 15:Cr(4,q,q.return),ti(q);break;case 1:Hn(q,q.return);var W=q.stateNode;typeof W.componentWillUnmount=="function"&&qf(q,q.return,W),ti(q);break;case 27:Ma(q.stateNode);case 26:case 5:Hn(q,q.return),ti(q);break;case 22:q.memoizedState===null&&ti(q);break;case 30:ti(q);break;default:ti(q)}U=U.sibling}}function lr(U,q,W){for(W=W&&(q.subtreeFlags&8772)!==0,q=q.child;q!==null;){var ee=q.alternate,ae=U,le=q,ge=le.flags;switch(le.tag){case 0:case 11:case 15:lr(ae,le,W),ba(4,le);break;case 1:if(lr(ae,le,W),ee=le,ae=ee.stateNode,typeof ae.componentDidMount=="function")try{ae.componentDidMount()}catch(Be){It(ee,ee.return,Be)}if(ee=le,ae=ee.updateQueue,ae!==null){var Te=ee.stateNode;try{var Ne=ae.shared.hiddenCallbacks;if(Ne!==null)for(ae.shared.hiddenCallbacks=null,ae=0;ae<Ne.length;ae++)Pu(Ne[ae],Te)}catch(Be){It(ee,ee.return,Be)}}W&&ge&64&&Vf(le),xa(le,le.return);break;case 27:Xf(le);case 26:case 5:lr(ae,le,W),W&&ee===null&&ge&4&&Zf(le),xa(le,le.return);break;case 12:lr(ae,le,W);break;case 31:lr(ae,le,W),W&&ge&4&&eh(ae,le);break;case 13:lr(ae,le,W),W&&ge&4&&th(ae,le);break;case 22:le.memoizedState===null&&lr(ae,le,W),xa(le,le.return);break;case 30:break;default:lr(ae,le,W)}q=q.sibling}}function kl(U,q){var W=null;U!==null&&U.memoizedState!==null&&U.memoizedState.cachePool!==null&&(W=U.memoizedState.cachePool.pool),U=null,q.memoizedState!==null&&q.memoizedState.cachePool!==null&&(U=q.memoizedState.cachePool.pool),U!==W&&(U!=null&&U.refCount++,W!=null&&aa(W))}function Nl(U,q){U=null,q.alternate!==null&&(U=q.alternate.memoizedState.cache),q=q.memoizedState.cache,q!==U&&(q.refCount++,U!=null&&aa(U))}function jn(U,q,W,ee){if(q.subtreeFlags&10256)for(q=q.child;q!==null;)ih(U,q,W,ee),q=q.sibling}function ih(U,q,W,ee){var ae=q.flags;switch(q.tag){case 0:case 11:case 15:jn(U,q,W,ee),ae&2048&&ba(9,q);break;case 1:jn(U,q,W,ee);break;case 3:jn(U,q,W,ee),ae&2048&&(U=null,q.alternate!==null&&(U=q.alternate.memoizedState.cache),q=q.memoizedState.cache,q!==U&&(q.refCount++,U!=null&&aa(U)));break;case 12:if(ae&2048){jn(U,q,W,ee),U=q.stateNode;try{var le=q.memoizedProps,ge=le.id,Te=le.onPostCommit;typeof Te=="function"&&Te(ge,q.alternate===null?"mount":"update",U.passiveEffectDuration,-0)}catch(Ne){It(q,q.return,Ne)}}else jn(U,q,W,ee);break;case 31:jn(U,q,W,ee);break;case 13:jn(U,q,W,ee);break;case 23:break;case 22:le=q.stateNode,ge=q.alternate,q.memoizedState!==null?le._visibility&2?jn(U,q,W,ee):va(U,q):le._visibility&2?jn(U,q,W,ee):(le._visibility|=2,ki(U,q,W,ee,(q.subtreeFlags&10256)!==0||!1)),ae&2048&&kl(ge,q);break;case 24:jn(U,q,W,ee),ae&2048&&Nl(q.alternate,q);break;default:jn(U,q,W,ee)}}function ki(U,q,W,ee,ae){for(ae=ae&&((q.subtreeFlags&10256)!==0||!1),q=q.child;q!==null;){var le=U,ge=q,Te=W,Ne=ee,Be=ge.flags;switch(ge.tag){case 0:case 11:case 15:ki(le,ge,Te,Ne,ae),ba(8,ge);break;case 23:break;case 22:var Xe=ge.stateNode;ge.memoizedState!==null?Xe._visibility&2?ki(le,ge,Te,Ne,ae):va(le,ge):(Xe._visibility|=2,ki(le,ge,Te,Ne,ae)),ae&&Be&2048&&kl(ge.alternate,ge);break;case 24:ki(le,ge,Te,Ne,ae),ae&&Be&2048&&Nl(ge.alternate,ge);break;default:ki(le,ge,Te,Ne,ae)}q=q.sibling}}function va(U,q){if(q.subtreeFlags&10256)for(q=q.child;q!==null;){var W=U,ee=q,ae=ee.flags;switch(ee.tag){case 22:va(W,ee),ae&2048&&kl(ee.alternate,ee);break;case 24:va(W,ee),ae&2048&&Nl(ee.alternate,ee);break;default:va(W,ee)}q=q.sibling}}var Sa=8192;function Ni(U,q,W){if(U.subtreeFlags&Sa)for(U=U.child;U!==null;)ah(U,q,W),U=U.sibling}function ah(U,q,W){switch(U.tag){case 26:Ni(U,q,W),U.flags&Sa&&U.memoizedState!==null&&P0(W,zn,U.memoizedState,U.memoizedProps);break;case 5:Ni(U,q,W);break;case 3:case 4:var ee=zn;zn=Uo(U.stateNode.containerInfo),Ni(U,q,W),zn=ee;break;case 22:U.memoizedState===null&&(ee=U.alternate,ee!==null&&ee.memoizedState!==null?(ee=Sa,Sa=16777216,Ni(U,q,W),Sa=ee):Ni(U,q,W));break;default:Ni(U,q,W)}}function oh(U){var q=U.alternate;if(q!==null&&(U=q.child,U!==null)){q.child=null;do q=U.sibling,U.sibling=null,U=q;while(U!==null)}}function wa(U){var q=U.deletions;if((U.flags&16)!==0){if(q!==null)for(var W=0;W<q.length;W++){var ee=q[W];nn=ee,lh(ee,U)}oh(U)}if(U.subtreeFlags&10256)for(U=U.child;U!==null;)sh(U),U=U.sibling}function sh(U){switch(U.tag){case 0:case 11:case 15:wa(U),U.flags&2048&&Cr(9,U,U.return);break;case 3:wa(U);break;case 12:wa(U);break;case 22:var q=U.stateNode;U.memoizedState!==null&&q._visibility&2&&(U.return===null||U.return.tag!==13)?(q._visibility&=-3,$o(U)):wa(U);break;default:wa(U)}}function $o(U){var q=U.deletions;if((U.flags&16)!==0){if(q!==null)for(var W=0;W<q.length;W++){var ee=q[W];nn=ee,lh(ee,U)}oh(U)}for(U=U.child;U!==null;){switch(q=U,q.tag){case 0:case 11:case 15:Cr(8,q,q.return),$o(q);break;case 22:W=q.stateNode,W._visibility&2&&(W._visibility&=-3,$o(q));break;default:$o(q)}U=U.sibling}}function lh(U,q){for(;nn!==null;){var W=nn;switch(W.tag){case 0:case 11:case 15:Cr(8,W,q);break;case 23:case 22:if(W.memoizedState!==null&&W.memoizedState.cachePool!==null){var ee=W.memoizedState.cachePool.pool;ee!=null&&ee.refCount++}break;case 24:aa(W.memoizedState.cache)}if(ee=W.child,ee!==null)ee.return=W,nn=ee;else e:for(W=U;nn!==null;){ee=nn;var ae=ee.sibling,le=ee.return;if(Qf(ee),ee===W){nn=null;break e}if(ae!==null){ae.return=le,nn=ae;break e}nn=le}}}var Vm={getCacheForType:function(U){var q=on(Wt),W=q.data.get(U);return W===void 0&&(W=U(),q.data.set(U,W)),W},cacheSignal:function(){return on(Wt).controller.signal}},qm=typeof WeakMap=="function"?WeakMap:Map,$t=0,Bt=null,_t=null,St=0,Ot=0,Sn=null,Tr=!1,Pi=!1,Pl=!1,cr=0,Zt=0,Ar=0,ni=0,Ol=0,wn=0,Oi=0,Ea=null,gn=null,Il=!1,ko=0,uh=0,No=1/0,Po=null,Rr=null,en=0,Mr=null,Ii=null,ur=0,Dl=0,Ll=null,fh=null,Ca=0,zl=null;function En(){return($t&2)!==0&&St!==0?St&-St:_e.T!==null?Gl():wc()}function hh(){if(wn===0)if((St&536870912)===0||Tt){var U=Ba;Ba<<=1,(Ba&3932160)===0&&(Ba=262144),wn=U}else wn=536870912;return U=_n.current,U!==null&&(U.flags|=32),wn}function yn(U,q,W){(U===Bt&&(Ot===2||Ot===9)||U.cancelPendingCommit!==null)&&(Di(U,0),$r(U,St,wn,!1)),Vi(U,W),(($t&2)===0||U!==Bt)&&(U===Bt&&(($t&2)===0&&(ni|=W),Zt===4&&$r(U,St,wn,!1)),Un(U))}function dh(U,q,W){if(($t&6)!==0)throw Error(O(327));var ee=!W&&(q&127)===0&&(q&U.expiredLanes)===0||Gi(U,q),ae=ee?Xm(U,q):Bl(U,q,!0),le=ee;do{if(ae===0){Pi&&!ee&&$r(U,q,0,!1);break}else{if(W=U.current.alternate,le&&!Zm(W)){ae=Bl(U,q,!1),le=!1;continue}if(ae===2){if(le=q,U.errorRecoveryDisabledLanes&le)var ge=0;else ge=U.pendingLanes&-536870913,ge=ge!==0?ge:ge&536870912?536870912:0;if(ge!==0){q=ge;e:{var Te=U;ae=Ea;var Ne=Te.current.memoizedState.isDehydrated;if(Ne&&(Di(Te,ge).flags|=256),ge=Bl(Te,ge,!1),ge!==2){if(Pl&&!Ne){Te.errorRecoveryDisabledLanes|=le,ni|=le,ae=4;break e}le=gn,gn=ae,le!==null&&(gn===null?gn=le:gn.push.apply(gn,le))}ae=ge}if(le=!1,ae!==2)continue}}if(ae===1){Di(U,0),$r(U,q,0,!0);break}e:{switch(ee=U,le=ae,le){case 0:case 1:throw Error(O(345));case 4:if((q&4194048)!==q)break;case 6:$r(ee,q,wn,!Tr);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(O(329))}if((q&62914560)===q&&(ae=ko+300-pt(),10<ae)){if($r(ee,q,wn,!Tr),Ha(ee,0,!0)!==0)break e;ur=q,ee.timeoutHandle=Gh(mh.bind(null,ee,W,gn,Po,Il,q,wn,ni,Oi,Tr,le,"Throttled",-0,0),ae);break e}mh(ee,W,gn,Po,Il,q,wn,ni,Oi,Tr,le,null,-0,0)}}break}while(!0);Un(U)}function mh(U,q,W,ee,ae,le,ge,Te,Ne,Be,Xe,Qe,He,qe){if(U.timeoutHandle=-1,Qe=q.subtreeFlags,Qe&8192||(Qe&16785408)===16785408){Qe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},ah(q,le,Qe);var st=(le&62914560)===le?ko-pt():(le&4194048)===le?uh-pt():0;if(st=O0(Qe,st),st!==null){ur=le,U.cancelPendingCommit=st(Sh.bind(null,U,q,le,W,ee,ae,ge,Te,Ne,Xe,Qe,null,He,qe)),$r(U,le,ge,!Be);return}}Sh(U,q,le,W,ee,ae,ge,Te,Ne)}function Zm(U){for(var q=U;;){var W=q.tag;if((W===0||W===11||W===15)&&q.flags&16384&&(W=q.updateQueue,W!==null&&(W=W.stores,W!==null)))for(var ee=0;ee<W.length;ee++){var ae=W[ee],le=ae.getSnapshot;ae=ae.value;try{if(!bn(le(),ae))return!1}catch{return!1}}if(W=q.child,q.subtreeFlags&16384&&W!==null)W.return=q,q=W;else{if(q===U)break;for(;q.sibling===null;){if(q.return===null||q.return===U)return!0;q=q.return}q.sibling.return=q.return,q=q.sibling}}return!0}function $r(U,q,W,ee){q&=~Ol,q&=~ni,U.suspendedLanes|=q,U.pingedLanes&=~q,ee&&(U.warmLanes|=q),ee=U.expirationTimes;for(var ae=q;0<ae;){var le=31-Pt(ae),ge=1<<le;ee[le]=-1,ae&=~ge}W!==0&&xc(U,W,q)}function Oo(){return($t&6)===0?(Ta(0),!1):!0}function jl(){if(_t!==null){if(Ot===0)var U=_t.return;else U=_t,Jn=Zr=null,tl(U),Ti=null,sa=0,U=_t;for(;U!==null;)Gf(U.alternate,U),U=U.return;_t=null}}function Di(U,q){var W=U.timeoutHandle;W!==-1&&(U.timeoutHandle=-1,m0(W)),W=U.cancelPendingCommit,W!==null&&(U.cancelPendingCommit=null,W()),ur=0,jl(),Bt=U,_t=W=Kn(U.current,null),St=q,Ot=0,Sn=null,Tr=!1,Pi=Gi(U,q),Pl=!1,Oi=wn=Ol=ni=Ar=Zt=0,gn=Ea=null,Il=!1,(q&8)!==0&&(q|=q&32);var ee=U.entangledLanes;if(ee!==0)for(U=U.entanglements,ee&=q;0<ee;){var ae=31-Pt(ee),le=1<<ae;q|=U[ae],ee&=~le}return cr=q,eo(),W}function ph(U,q){gt=null,_e.H=pa,q===Ci||q===lo?(q=Mu(),Ot=3):q===Us?(q=Mu(),Ot=4):Ot=q===yl?8:q!==null&&typeof q=="object"&&typeof q.then=="function"?6:1,Sn=q,_t===null&&(Zt=1,wo(U,Mn(q,U.current)))}function gh(){var U=_n.current;return U===null?!0:(St&4194048)===St?Pn===null:(St&62914560)===St||(St&536870912)!==0?U===Pn:!1}function yh(){var U=_e.H;return _e.H=pa,U===null?pa:U}function bh(){var U=_e.A;return _e.A=Vm,U}function Io(){Zt=4,Tr||(St&4194048)!==St&&_n.current!==null||(Pi=!0),(Ar&134217727)===0&&(ni&134217727)===0||Bt===null||$r(Bt,St,wn,!1)}function Bl(U,q,W){var ee=$t;$t|=2;var ae=yh(),le=bh();(Bt!==U||St!==q)&&(Po=null,Di(U,q)),q=!1;var ge=Zt;e:do try{if(Ot!==0&&_t!==null){var Te=_t,Ne=Sn;switch(Ot){case 8:jl(),ge=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(q=!0);var Be=Ot;if(Ot=0,Sn=null,Li(U,Te,Ne,Be),W&&Pi){ge=0;break e}break;default:Be=Ot,Ot=0,Sn=null,Li(U,Te,Ne,Be)}}Ym(),ge=Zt;break}catch(Xe){ph(U,Xe)}while(!0);return q&&U.shellSuspendCounter++,Jn=Zr=null,$t=ee,_e.H=ae,_e.A=le,_t===null&&(Bt=null,St=0,eo()),ge}function Ym(){for(;_t!==null;)xh(_t)}function Xm(U,q){var W=$t;$t|=2;var ee=yh(),ae=bh();Bt!==U||St!==q?(Po=null,No=pt()+500,Di(U,q)):Pi=Gi(U,q);e:do try{if(Ot!==0&&_t!==null){q=_t;var le=Sn;t:switch(Ot){case 1:Ot=0,Sn=null,Li(U,q,le,1);break;case 2:case 9:if(Au(le)){Ot=0,Sn=null,_h(q);break}q=function(){Ot!==2&&Ot!==9||Bt!==U||(Ot=7),Un(U)},le.then(q,q);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:Au(le)?(Ot=0,Sn=null,_h(q)):(Ot=0,Sn=null,Li(U,q,le,7));break;case 5:var ge=null;switch(_t.tag){case 26:ge=_t.memoizedState;case 5:case 27:var Te=_t;if(ge?od(ge):Te.stateNode.complete){Ot=0,Sn=null;var Ne=Te.sibling;if(Ne!==null)_t=Ne;else{var Be=Te.return;Be!==null?(_t=Be,Do(Be)):_t=null}break t}}Ot=0,Sn=null,Li(U,q,le,5);break;case 6:Ot=0,Sn=null,Li(U,q,le,6);break;case 8:jl(),Zt=6;break e;default:throw Error(O(462))}}Wm();break}catch(Xe){ph(U,Xe)}while(!0);return Jn=Zr=null,_e.H=ee,_e.A=ae,$t=W,_t!==null?0:(Bt=null,St=0,eo(),Zt)}function Wm(){for(;_t!==null&&!Ct();)xh(_t)}function xh(U){var q=Hf(U.alternate,U,cr);U.memoizedProps=U.pendingProps,q===null?Do(U):_t=q}function _h(U){var q=U,W=q.alternate;switch(q.tag){case 15:case 0:q=Df(W,q,q.pendingProps,q.type,void 0,St);break;case 11:q=Df(W,q,q.pendingProps,q.type.render,q.ref,St);break;case 5:tl(q);default:Gf(W,q),q=_t=gu(q,cr),q=Hf(W,q,cr)}U.memoizedProps=U.pendingProps,q===null?Do(U):_t=q}function Li(U,q,W,ee){Jn=Zr=null,tl(q),Ti=null,sa=0;var ae=q.return;try{if(zm(U,ae,q,W,St)){Zt=1,wo(U,Mn(W,U.current)),_t=null;return}}catch(le){if(ae!==null)throw _t=ae,le;Zt=1,wo(U,Mn(W,U.current)),_t=null;return}q.flags&32768?(Tt||ee===1?U=!0:Pi||(St&536870912)!==0?U=!1:(Tr=U=!0,(ee===2||ee===9||ee===3||ee===6)&&(ee=_n.current,ee!==null&&ee.tag===13&&(ee.flags|=16384))),vh(q,U)):Do(q)}function Do(U){var q=U;do{if((q.flags&32768)!==0){vh(q,Tr);return}U=q.return;var W=Fm(q.alternate,q,cr);if(W!==null){_t=W;return}if(q=q.sibling,q!==null){_t=q;return}_t=q=U}while(q!==null);Zt===0&&(Zt=5)}function vh(U,q){do{var W=Hm(U.alternate,U);if(W!==null){W.flags&=32767,_t=W;return}if(W=U.return,W!==null&&(W.flags|=32768,W.subtreeFlags=0,W.deletions=null),!q&&(U=U.sibling,U!==null)){_t=U;return}_t=U=W}while(U!==null);Zt=6,_t=null}function Sh(U,q,W,ee,ae,le,ge,Te,Ne){U.cancelPendingCommit=null;do Lo();while(en!==0);if(($t&6)!==0)throw Error(O(327));if(q!==null){if(q===U.current)throw Error(O(177));if(le=q.lanes|q.childLanes,le|=Rs,Md(U,W,le,ge,Te,Ne),U===Bt&&(_t=Bt=null,St=0),Ii=q,Mr=U,ur=W,Dl=le,Ll=ae,fh=ee,(q.subtreeFlags&10256)!==0||(q.flags&10256)!==0?(U.callbackNode=null,U.callbackPriority=0,e0(tt,function(){return Ah(),null})):(U.callbackNode=null,U.callbackPriority=0),ee=(q.flags&13878)!==0,(q.subtreeFlags&13878)!==0||ee){ee=_e.T,_e.T=null,ae=Re.p,Re.p=2,ge=$t,$t|=4;try{Um(U,q,W)}finally{$t=ge,Re.p=ae,_e.T=ee}}en=1,wh(),Eh(),Ch()}}function wh(){if(en===1){en=0;var U=Mr,q=Ii,W=(q.flags&13878)!==0;if((q.subtreeFlags&13878)!==0||W){W=_e.T,_e.T=null;var ee=Re.p;Re.p=2;var ae=$t;$t|=4;try{nh(q,U);var le=Ql,ge=su(U.containerInfo),Te=le.focusedElem,Ne=le.selectionRange;if(ge!==Te&&Te&&Te.ownerDocument&&ou(Te.ownerDocument.documentElement,Te)){if(Ne!==null&&ws(Te)){var Be=Ne.start,Xe=Ne.end;if(Xe===void 0&&(Xe=Be),"selectionStart"in Te)Te.selectionStart=Be,Te.selectionEnd=Math.min(Xe,Te.value.length);else{var Qe=Te.ownerDocument||document,He=Qe&&Qe.defaultView||window;if(He.getSelection){var qe=He.getSelection(),st=Te.textContent.length,ht=Math.min(Ne.start,st),zt=Ne.end===void 0?ht:Math.min(Ne.end,st);!qe.extend&&ht>zt&&(ge=zt,zt=ht,ht=ge);var Le=au(Te,ht),Pe=au(Te,zt);if(Le&&Pe&&(qe.rangeCount!==1||qe.anchorNode!==Le.node||qe.anchorOffset!==Le.offset||qe.focusNode!==Pe.node||qe.focusOffset!==Pe.offset)){var je=Qe.createRange();je.setStart(Le.node,Le.offset),qe.removeAllRanges(),ht>zt?(qe.addRange(je),qe.extend(Pe.node,Pe.offset)):(je.setEnd(Pe.node,Pe.offset),qe.addRange(je))}}}}for(Qe=[],qe=Te;qe=qe.parentNode;)qe.nodeType===1&&Qe.push({element:qe,left:qe.scrollLeft,top:qe.scrollTop});for(typeof Te.focus=="function"&&Te.focus(),Te=0;Te<Qe.length;Te++){var We=Qe[Te];We.element.scrollLeft=We.left,We.element.scrollTop=We.top}}Xo=!!Kl,Ql=Kl=null}finally{$t=ae,Re.p=ee,_e.T=W}}U.current=q,en=2}}function Eh(){if(en===2){en=0;var U=Mr,q=Ii,W=(q.flags&8772)!==0;if((q.subtreeFlags&8772)!==0||W){W=_e.T,_e.T=null;var ee=Re.p;Re.p=2;var ae=$t;$t|=4;try{Kf(U,q.alternate,q)}finally{$t=ae,Re.p=ee,_e.T=W}}en=3}}function Ch(){if(en===4||en===3){en=0,Gt();var U=Mr,q=Ii,W=ur,ee=fh;(q.subtreeFlags&10256)!==0||(q.flags&10256)!==0?en=5:(en=0,Ii=Mr=null,Th(U,U.pendingLanes));var ae=U.pendingLanes;if(ae===0&&(Rr=null),is(W),q=q.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(kt,q,void 0,(q.current.flags&128)===128)}catch{}if(ee!==null){q=_e.T,ae=Re.p,Re.p=2,_e.T=null;try{for(var le=U.onRecoverableError,ge=0;ge<ee.length;ge++){var Te=ee[ge];le(Te.value,{componentStack:Te.stack})}}finally{_e.T=q,Re.p=ae}}(ur&3)!==0&&Lo(),Un(U),ae=U.pendingLanes,(W&261930)!==0&&(ae&42)!==0?U===zl?Ca++:(Ca=0,zl=U):Ca=0,Ta(0)}}function Th(U,q){(U.pooledCacheLanes&=q)===0&&(q=U.pooledCache,q!=null&&(U.pooledCache=null,aa(q)))}function Lo(){return wh(),Eh(),Ch(),Ah()}function Ah(){if(en!==5)return!1;var U=Mr,q=Dl;Dl=0;var W=is(ur),ee=_e.T,ae=Re.p;try{Re.p=32>W?32:W,_e.T=null,W=Ll,Ll=null;var le=Mr,ge=ur;if(en=0,Ii=Mr=null,ur=0,($t&6)!==0)throw Error(O(331));var Te=$t;if($t|=4,sh(le.current),ih(le,le.current,ge,W),$t=Te,Ta(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(kt,le)}catch{}return!0}finally{Re.p=ae,_e.T=ee,Th(U,q)}}function Rh(U,q,W){q=Mn(W,q),q=gl(U.stateNode,q,2),U=Sr(U,q,2),U!==null&&(Vi(U,2),Un(U))}function It(U,q,W){if(U.tag===3)Rh(U,U,W);else for(;q!==null;){if(q.tag===3){Rh(q,U,W);break}else if(q.tag===1){var ee=q.stateNode;if(typeof q.type.getDerivedStateFromError=="function"||typeof ee.componentDidCatch=="function"&&(Rr===null||!Rr.has(ee))){U=Mn(W,U),W=Rf(2),ee=Sr(q,W,2),ee!==null&&(Mf(W,ee,q,U),Vi(ee,2),Un(ee));break}}q=q.return}}function Fl(U,q,W){var ee=U.pingCache;if(ee===null){ee=U.pingCache=new qm;var ae=new Set;ee.set(q,ae)}else ae=ee.get(q),ae===void 0&&(ae=new Set,ee.set(q,ae));ae.has(W)||(Pl=!0,ae.add(W),U=Km.bind(null,U,q,W),q.then(U,U))}function Km(U,q,W){var ee=U.pingCache;ee!==null&&ee.delete(q),U.pingedLanes|=U.suspendedLanes&W,U.warmLanes&=~W,Bt===U&&(St&W)===W&&(Zt===4||Zt===3&&(St&62914560)===St&&300>pt()-ko?($t&2)===0&&Di(U,0):Ol|=W,Oi===St&&(Oi=0)),Un(U)}function Mh(U,q){q===0&&(q=bc()),U=Gr(U,q),U!==null&&(Vi(U,q),Un(U))}function Qm(U){var q=U.memoizedState,W=0;q!==null&&(W=q.retryLane),Mh(U,W)}function Jm(U,q){var W=0;switch(U.tag){case 31:case 13:var ee=U.stateNode,ae=U.memoizedState;ae!==null&&(W=ae.retryLane);break;case 19:ee=U.stateNode;break;case 22:ee=U.stateNode._retryCache;break;default:throw Error(O(314))}ee!==null&&ee.delete(q),Mh(U,W)}function e0(U,q){return Et(U,q)}var zo=null,zi=null,Hl=!1,jo=!1,Ul=!1,Nr=0;function Un(U){U!==zi&&U.next===null&&(zi===null?zo=zi=U:zi=zi.next=U),jo=!0,Hl||(Hl=!0,r0())}function Ta(U,q){if(!Ul&&jo){Ul=!0;do for(var W=!1,ee=zo;ee!==null;){if(U!==0){var ae=ee.pendingLanes;if(ae===0)var le=0;else{var ge=ee.suspendedLanes,Te=ee.pingedLanes;le=(1<<31-Pt(42|U)+1)-1,le&=ae&~(ge&~Te),le=le&201326741?le&201326741|1:le?le|2:0}le!==0&&(W=!0,Ph(ee,le))}else le=St,le=Ha(ee,ee===Bt?le:0,ee.cancelPendingCommit!==null||ee.timeoutHandle!==-1),(le&3)===0||Gi(ee,le)||(W=!0,Ph(ee,le));ee=ee.next}while(W);Ul=!1}}function n0(){$h()}function $h(){jo=Hl=!1;var U=0;Nr!==0&&d0()&&(U=Nr);for(var q=pt(),W=null,ee=zo;ee!==null;){var ae=ee.next,le=kh(ee,q);le===0?(ee.next=null,W===null?zo=ae:W.next=ae,ae===null&&(zi=W)):(W=ee,(U!==0||(le&3)!==0)&&(jo=!0)),ee=ae}en!==0&&en!==5||Ta(U),Nr!==0&&(Nr=0)}function kh(U,q){for(var W=U.suspendedLanes,ee=U.pingedLanes,ae=U.expirationTimes,le=U.pendingLanes&-62914561;0<le;){var ge=31-Pt(le),Te=1<<ge,Ne=ae[ge];Ne===-1?((Te&W)===0||(Te&ee)!==0)&&(ae[ge]=Rd(Te,q)):Ne<=q&&(U.expiredLanes|=Te),le&=~Te}if(q=Bt,W=St,W=Ha(U,U===q?W:0,U.cancelPendingCommit!==null||U.timeoutHandle!==-1),ee=U.callbackNode,W===0||U===q&&(Ot===2||Ot===9)||U.cancelPendingCommit!==null)return ee!==null&&ee!==null&&At(ee),U.callbackNode=null,U.callbackPriority=0;if((W&3)===0||Gi(U,W)){if(q=W&-W,q===U.callbackPriority)return q;switch(ee!==null&&At(ee),is(W)){case 2:case 8:W=Ke;break;case 32:W=tt;break;case 268435456:W=mt;break;default:W=tt}return ee=Nh.bind(null,U),W=Et(W,ee),U.callbackPriority=q,U.callbackNode=W,q}return ee!==null&&ee!==null&&At(ee),U.callbackPriority=2,U.callbackNode=null,2}function Nh(U,q){if(en!==0&&en!==5)return U.callbackNode=null,U.callbackPriority=0,null;var W=U.callbackNode;if(Lo()&&U.callbackNode!==W)return null;var ee=St;return ee=Ha(U,U===Bt?ee:0,U.cancelPendingCommit!==null||U.timeoutHandle!==-1),ee===0?null:(dh(U,ee,q),kh(U,pt()),U.callbackNode!=null&&U.callbackNode===W?Nh.bind(null,U):null)}function Ph(U,q){if(Lo())return null;dh(U,q,!0)}function r0(){p0(function(){($t&6)!==0?Et(Fe,n0):$h()})}function Gl(){if(Nr===0){var U=wi;U===0&&(U=ja,ja<<=1,(ja&261888)===0&&(ja=256)),Nr=U}return Nr}function Oh(U){return U==null||typeof U=="symbol"||typeof U=="boolean"?null:typeof U=="function"?U:qa(""+U)}function Ih(U,q){var W=q.ownerDocument.createElement("input");return W.name=q.name,W.value=q.value,U.id&&W.setAttribute("form",U.id),q.parentNode.insertBefore(W,q),U=new FormData(U),W.parentNode.removeChild(W),U}function i0(U,q,W,ee,ae){if(q==="submit"&&W&&W.stateNode===ae){var le=Oh((ae[fn]||null).action),ge=ee.submitter;ge&&(q=(q=ge[fn]||null)?Oh(q.formAction):ge.getAttribute("formAction"),q!==null&&(le=q,ge=null));var Te=new Wa("action","action",null,ee,ae);U.push({event:Te,listeners:[{instance:null,listener:function(){if(ee.defaultPrevented){if(Nr!==0){var Ne=ge?Ih(ae,ge):new FormData(ae);ul(W,{pending:!0,data:Ne,method:ae.method,action:le},null,Ne)}}else typeof le=="function"&&(Te.preventDefault(),Ne=ge?Ih(ae,ge):new FormData(ae),ul(W,{pending:!0,data:Ne,method:ae.method,action:le},le,Ne))},currentTarget:ae}]})}}for(var Vl=0;Vl<As.length;Vl++){var ql=As[Vl],a0=ql.toLowerCase(),o0=ql[0].toUpperCase()+ql.slice(1);Ln(a0,"on"+o0)}Ln(uu,"onAnimationEnd"),Ln(fu,"onAnimationIteration"),Ln(hu,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(vm,"onTransitionRun"),Ln(Sm,"onTransitionStart"),Ln(wm,"onTransitionCancel"),Ln(du,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Br("onBeforeInput",["compositionend","keypress","textInput","paste"]),Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Aa));function Dh(U,q){q=(q&4)!==0;for(var W=0;W<U.length;W++){var ee=U[W],ae=ee.event;ee=ee.listeners;e:{var le=void 0;if(q)for(var ge=ee.length-1;0<=ge;ge--){var Te=ee[ge],Ne=Te.instance,Be=Te.currentTarget;if(Te=Te.listener,Ne!==le&&ae.isPropagationStopped())break e;le=Te,ae.currentTarget=Be;try{le(ae)}catch(Xe){Ja(Xe)}ae.currentTarget=null,le=Ne}else for(ge=0;ge<ee.length;ge++){if(Te=ee[ge],Ne=Te.instance,Be=Te.currentTarget,Te=Te.listener,Ne!==le&&ae.isPropagationStopped())break e;le=Te,ae.currentTarget=Be;try{le(ae)}catch(Xe){Ja(Xe)}ae.currentTarget=null,le=Ne}}}}function vt(U,q){var W=q[as];W===void 0&&(W=q[as]=new Set);var ee=U+"__bubble";W.has(ee)||(Lh(q,U,2,!1),W.add(ee))}function Zl(U,q,W){var ee=0;q&&(ee|=4),Lh(W,U,ee,q)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function Yl(U){if(!U[Bo]){U[Bo]=!0,Ac.forEach(function(W){W!=="selectionchange"&&(s0.has(W)||Zl(W,!1,U),Zl(W,!0,U))});var q=U.nodeType===9?U:U.ownerDocument;q===null||q[Bo]||(q[Bo]=!0,Zl("selectionchange",!1,q))}}function Lh(U,q,W,ee){switch(dd(q)){case 2:var ae=L0;break;case 8:ae=z0;break;default:ae=cc}W=ae.bind(null,q,W,U),ae=void 0,!ms||q!=="touchstart"&&q!=="touchmove"&&q!=="wheel"||(ae=!0),ee?ae!==void 0?U.addEventListener(q,W,{capture:!0,passive:ae}):U.addEventListener(q,W,!0):ae!==void 0?U.addEventListener(q,W,{passive:ae}):U.addEventListener(q,W,!1)}function Xl(U,q,W,ee,ae){var le=ee;if((q&1)===0&&(q&2)===0&&ee!==null)e:for(;;){if(ee===null)return;var ge=ee.tag;if(ge===3||ge===4){var Te=ee.stateNode.containerInfo;if(Te===ae)break;if(ge===4)for(ge=ee.return;ge!==null;){var Ne=ge.tag;if((Ne===3||Ne===4)&&ge.stateNode.containerInfo===ae)return;ge=ge.return}for(;Te!==null;){if(ge=ii(Te),ge===null)return;if(Ne=ge.tag,Ne===5||Ne===6||Ne===26||Ne===27){ee=le=ge;continue e}Te=Te.parentNode}}ee=ee.return}Bc(function(){var Be=le,Xe=hs(W),Qe=[];e:{var He=mu.get(U);if(He!==void 0){var qe=Wa,st=U;switch(U){case"keypress":if(Ya(W)===0)break e;case"keydown":case"keyup":qe=Jd;break;case"focusin":st="focus",qe=bs;break;case"focusout":st="blur",qe=bs;break;case"beforeblur":case"afterblur":qe=bs;break;case"click":if(W.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=Fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=nm;break;case uu:case fu:case hu:qe=Gd;break;case du:qe=im;break;case"scroll":case"scrollend":qe=jd;break;case"wheel":qe=om;break;case"copy":case"cut":case"paste":qe=qd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=Vc;break;case"toggle":case"beforetoggle":qe=lm}var ht=(q&4)!==0,zt=!ht&&(U==="scroll"||U==="scrollend"),Le=ht?He!==null?He+"Capture":null:He;ht=[];for(var Pe=Be,je;Pe!==null;){var We=Pe;if(je=We.stateNode,We=We.tag,We!==5&&We!==26&&We!==27||je===null||Le===null||(We=Yi(Pe,Le),We!=null&&ht.push(Ra(Pe,We,je))),zt)break;Pe=Pe.return}0<ht.length&&(He=new qe(He,st,null,W,Xe),Qe.push({event:He,listeners:ht}))}}if((q&7)===0){e:{if(He=U==="mouseover"||U==="pointerover",qe=U==="mouseout"||U==="pointerout",He&&W!==fs&&(st=W.relatedTarget||W.fromElement)&&(ii(st)||st[ri]))break e;if((qe||He)&&(He=Xe.window===Xe?Xe:(He=Xe.ownerDocument)?He.defaultView||He.parentWindow:window,qe?(st=W.relatedTarget||W.toElement,qe=Be,st=st?ii(st):null,st!==null&&(zt=L(st),ht=st.tag,st!==zt||ht!==5&&ht!==27&&ht!==6)&&(st=null)):(qe=null,st=Be),qe!==st)){if(ht=Uc,We="onMouseLeave",Le="onMouseEnter",Pe="mouse",(U==="pointerout"||U==="pointerover")&&(ht=Vc,We="onPointerLeave",Le="onPointerEnter",Pe="pointer"),zt=qe==null?He:Zi(qe),je=st==null?He:Zi(st),He=new ht(We,Pe+"leave",qe,W,Xe),He.target=zt,He.relatedTarget=je,We=null,ii(Xe)===Be&&(ht=new ht(Le,Pe+"enter",st,W,Xe),ht.target=je,ht.relatedTarget=zt,We=ht),zt=We,qe&&st)t:{for(ht=l0,Le=qe,Pe=st,je=0,We=Le;We;We=ht(We))je++;We=0;for(var ft=Pe;ft;ft=ht(ft))We++;for(;0<je-We;)Le=ht(Le),je--;for(;0<We-je;)Pe=ht(Pe),We--;for(;je--;){if(Le===Pe||Pe!==null&&Le===Pe.alternate){ht=Le;break t}Le=ht(Le),Pe=ht(Pe)}ht=null}else ht=null;qe!==null&&zh(Qe,He,qe,ht,!1),st!==null&&zt!==null&&zh(Qe,zt,st,ht,!0)}}e:{if(He=Be?Zi(Be):window,qe=He.nodeName&&He.nodeName.toLowerCase(),qe==="select"||qe==="input"&&He.type==="file")var Rt=Jc;else if(Kc(He))if(eu)Rt=bm;else{Rt=gm;var ct=pm}else qe=He.nodeName,!qe||qe.toLowerCase()!=="input"||He.type!=="checkbox"&&He.type!=="radio"?Be&&us(Be.elementType)&&(Rt=Jc):Rt=ym;if(Rt&&(Rt=Rt(U,Be))){Qc(Qe,Rt,W,Xe);break e}ct&&ct(U,He,Be),U==="focusout"&&Be&&He.type==="number"&&Be.memoizedProps.value!=null&&cs(He,"number",He.value)}switch(ct=Be?Zi(Be):window,U){case"focusin":(Kc(ct)||ct.contentEditable==="true")&&(di=ct,Es=Be,na=null);break;case"focusout":na=Es=di=null;break;case"mousedown":Cs=!0;break;case"contextmenu":case"mouseup":case"dragend":Cs=!1,lu(Qe,W,Xe);break;case"selectionchange":if(_m)break;case"keydown":case"keyup":lu(Qe,W,Xe)}var yt;if(_s)e:{switch(U){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else hi?Xc(U,W)&&(wt="onCompositionEnd"):U==="keydown"&&W.keyCode===229&&(wt="onCompositionStart");wt&&(qc&&W.locale!=="ko"&&(hi||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&hi&&(yt=Fc()):(mr=Xe,ps="value"in mr?mr.value:mr.textContent,hi=!0)),ct=Fo(Be,wt),0<ct.length&&(wt=new Gc(wt,U,null,W,Xe),Qe.push({event:wt,listeners:ct}),yt?wt.data=yt:(yt=Wc(W),yt!==null&&(wt.data=yt)))),(yt=um?fm(U,W):hm(U,W))&&(wt=Fo(Be,"onBeforeInput"),0<wt.length&&(ct=new Gc("onBeforeInput","beforeinput",null,W,Xe),Qe.push({event:ct,listeners:wt}),ct.data=yt)),i0(Qe,U,Be,W,Xe)}Dh(Qe,q)})}function Ra(U,q,W){return{instance:U,listener:q,currentTarget:W}}function Fo(U,q){for(var W=q+"Capture",ee=[];U!==null;){var ae=U,le=ae.stateNode;if(ae=ae.tag,ae!==5&&ae!==26&&ae!==27||le===null||(ae=Yi(U,W),ae!=null&&ee.unshift(Ra(U,ae,le)),ae=Yi(U,q),ae!=null&&ee.push(Ra(U,ae,le))),U.tag===3)return ee;U=U.return}return[]}function l0(U){if(U===null)return null;do U=U.return;while(U&&U.tag!==5&&U.tag!==27);return U||null}function zh(U,q,W,ee,ae){for(var le=q._reactName,ge=[];W!==null&&W!==ee;){var Te=W,Ne=Te.alternate,Be=Te.stateNode;if(Te=Te.tag,Ne!==null&&Ne===ee)break;Te!==5&&Te!==26&&Te!==27||Be===null||(Ne=Be,ae?(Be=Yi(W,le),Be!=null&&ge.unshift(Ra(W,Be,Ne))):ae||(Be=Yi(W,le),Be!=null&&ge.push(Ra(W,Be,Ne)))),W=W.return}ge.length!==0&&U.push({event:q,listeners:ge})}var c0=/\r\n?/g,u0=/\u0000|\uFFFD/g;function jh(U){return(typeof U=="string"?U:""+U).replace(c0,`
`).replace(u0,"")}function Bh(U,q){return q=jh(q),jh(U)===q}function Lt(U,q,W,ee,ae,le){switch(W){case"children":typeof ee=="string"?q==="body"||q==="textarea"&&ee===""||ci(U,ee):(typeof ee=="number"||typeof ee=="bigint")&&q!=="body"&&ci(U,""+ee);break;case"className":Ga(U,"class",ee);break;case"tabIndex":Ga(U,"tabindex",ee);break;case"dir":case"role":case"viewBox":case"width":case"height":Ga(U,W,ee);break;case"style":zc(U,ee,le);break;case"data":if(q!=="object"){Ga(U,"data",ee);break}case"src":case"href":if(ee===""&&(q!=="a"||W!=="href")){U.removeAttribute(W);break}if(ee==null||typeof ee=="function"||typeof ee=="symbol"||typeof ee=="boolean"){U.removeAttribute(W);break}ee=qa(""+ee),U.setAttribute(W,ee);break;case"action":case"formAction":if(typeof ee=="function"){U.setAttribute(W,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof le=="function"&&(W==="formAction"?(q!=="input"&&Lt(U,q,"name",ae.name,ae,null),Lt(U,q,"formEncType",ae.formEncType,ae,null),Lt(U,q,"formMethod",ae.formMethod,ae,null),Lt(U,q,"formTarget",ae.formTarget,ae,null)):(Lt(U,q,"encType",ae.encType,ae,null),Lt(U,q,"method",ae.method,ae,null),Lt(U,q,"target",ae.target,ae,null)));if(ee==null||typeof ee=="symbol"||typeof ee=="boolean"){U.removeAttribute(W);break}ee=qa(""+ee),U.setAttribute(W,ee);break;case"onClick":ee!=null&&(U.onclick=qn);break;case"onScroll":ee!=null&&vt("scroll",U);break;case"onScrollEnd":ee!=null&&vt("scrollend",U);break;case"dangerouslySetInnerHTML":if(ee!=null){if(typeof ee!="object"||!("__html"in ee))throw Error(O(61));if(W=ee.__html,W!=null){if(ae.children!=null)throw Error(O(60));U.innerHTML=W}}break;case"multiple":U.multiple=ee&&typeof ee!="function"&&typeof ee!="symbol";break;case"muted":U.muted=ee&&typeof ee!="function"&&typeof ee!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(ee==null||typeof ee=="function"||typeof ee=="boolean"||typeof ee=="symbol"){U.removeAttribute("xlink:href");break}W=qa(""+ee),U.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",W);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":ee!=null&&typeof ee!="function"&&typeof ee!="symbol"?U.setAttribute(W,""+ee):U.removeAttribute(W);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":ee&&typeof ee!="function"&&typeof ee!="symbol"?U.setAttribute(W,""):U.removeAttribute(W);break;case"capture":case"download":ee===!0?U.setAttribute(W,""):ee!==!1&&ee!=null&&typeof ee!="function"&&typeof ee!="symbol"?U.setAttribute(W,ee):U.removeAttribute(W);break;case"cols":case"rows":case"size":case"span":ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&!isNaN(ee)&&1<=ee?U.setAttribute(W,ee):U.removeAttribute(W);break;case"rowSpan":case"start":ee==null||typeof ee=="function"||typeof ee=="symbol"||isNaN(ee)?U.removeAttribute(W):U.setAttribute(W,ee);break;case"popover":vt("beforetoggle",U),vt("toggle",U),Ua(U,"popover",ee);break;case"xlinkActuate":Vn(U,"http://www.w3.org/1999/xlink","xlink:actuate",ee);break;case"xlinkArcrole":Vn(U,"http://www.w3.org/1999/xlink","xlink:arcrole",ee);break;case"xlinkRole":Vn(U,"http://www.w3.org/1999/xlink","xlink:role",ee);break;case"xlinkShow":Vn(U,"http://www.w3.org/1999/xlink","xlink:show",ee);break;case"xlinkTitle":Vn(U,"http://www.w3.org/1999/xlink","xlink:title",ee);break;case"xlinkType":Vn(U,"http://www.w3.org/1999/xlink","xlink:type",ee);break;case"xmlBase":Vn(U,"http://www.w3.org/XML/1998/namespace","xml:base",ee);break;case"xmlLang":Vn(U,"http://www.w3.org/XML/1998/namespace","xml:lang",ee);break;case"xmlSpace":Vn(U,"http://www.w3.org/XML/1998/namespace","xml:space",ee);break;case"is":Ua(U,"is",ee);break;case"innerText":case"textContent":break;default:(!(2<W.length)||W[0]!=="o"&&W[0]!=="O"||W[1]!=="n"&&W[1]!=="N")&&(W=Ld.get(W)||W,Ua(U,W,ee))}}function Wl(U,q,W,ee,ae,le){switch(W){case"style":zc(U,ee,le);break;case"dangerouslySetInnerHTML":if(ee!=null){if(typeof ee!="object"||!("__html"in ee))throw Error(O(61));if(W=ee.__html,W!=null){if(ae.children!=null)throw Error(O(60));U.innerHTML=W}}break;case"children":typeof ee=="string"?ci(U,ee):(typeof ee=="number"||typeof ee=="bigint")&&ci(U,""+ee);break;case"onScroll":ee!=null&&vt("scroll",U);break;case"onScrollEnd":ee!=null&&vt("scrollend",U);break;case"onClick":ee!=null&&(U.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rc.hasOwnProperty(W))e:{if(W[0]==="o"&&W[1]==="n"&&(ae=W.endsWith("Capture"),q=W.slice(2,ae?W.length-7:void 0),le=U[fn]||null,le=le!=null?le[W]:null,typeof le=="function"&&U.removeEventListener(q,le,ae),typeof ee=="function")){typeof le!="function"&&le!==null&&(W in U?U[W]=null:U.hasAttribute(W)&&U.removeAttribute(W)),U.addEventListener(q,ee,ae);break e}W in U?U[W]=ee:ee===!0?U.setAttribute(W,""):Ua(U,W,ee)}}}function ln(U,q,W){switch(q){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",U),vt("load",U);var ee=!1,ae=!1,le;for(le in W)if(W.hasOwnProperty(le)){var ge=W[le];if(ge!=null)switch(le){case"src":ee=!0;break;case"srcSet":ae=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(O(137,q));default:Lt(U,q,le,ge,W,null)}}ae&&Lt(U,q,"srcSet",W.srcSet,W,null),ee&&Lt(U,q,"src",W.src,W,null);return;case"input":vt("invalid",U);var Te=le=ge=ae=null,Ne=null,Be=null;for(ee in W)if(W.hasOwnProperty(ee)){var Xe=W[ee];if(Xe!=null)switch(ee){case"name":ae=Xe;break;case"type":ge=Xe;break;case"checked":Ne=Xe;break;case"defaultChecked":Be=Xe;break;case"value":le=Xe;break;case"defaultValue":Te=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(O(137,q));break;default:Lt(U,q,ee,Xe,W,null)}}Pc(U,le,Te,Ne,Be,ge,ae,!1);return;case"select":vt("invalid",U),ee=ge=le=null;for(ae in W)if(W.hasOwnProperty(ae)&&(Te=W[ae],Te!=null))switch(ae){case"value":le=Te;break;case"defaultValue":ge=Te;break;case"multiple":ee=Te;default:Lt(U,q,ae,Te,W,null)}q=le,W=ge,U.multiple=!!ee,q!=null?li(U,!!ee,q,!1):W!=null&&li(U,!!ee,W,!0);return;case"textarea":vt("invalid",U),le=ae=ee=null;for(ge in W)if(W.hasOwnProperty(ge)&&(Te=W[ge],Te!=null))switch(ge){case"value":ee=Te;break;case"defaultValue":ae=Te;break;case"children":le=Te;break;case"dangerouslySetInnerHTML":if(Te!=null)throw Error(O(91));break;default:Lt(U,q,ge,Te,W,null)}Ic(U,ee,ae,le);return;case"option":for(Ne in W)W.hasOwnProperty(Ne)&&(ee=W[Ne],ee!=null)&&(Ne==="selected"?U.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":Lt(U,q,Ne,ee,W,null));return;case"dialog":vt("beforetoggle",U),vt("toggle",U),vt("cancel",U),vt("close",U);break;case"iframe":case"object":vt("load",U);break;case"video":case"audio":for(ee=0;ee<Aa.length;ee++)vt(Aa[ee],U);break;case"image":vt("error",U),vt("load",U);break;case"details":vt("toggle",U);break;case"embed":case"source":case"link":vt("error",U),vt("load",U);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Be in W)if(W.hasOwnProperty(Be)&&(ee=W[Be],ee!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":throw Error(O(137,q));default:Lt(U,q,Be,ee,W,null)}return;default:if(us(q)){for(Xe in W)W.hasOwnProperty(Xe)&&(ee=W[Xe],ee!==void 0&&Wl(U,q,Xe,ee,W,void 0));return}}for(Te in W)W.hasOwnProperty(Te)&&(ee=W[Te],ee!=null&&Lt(U,q,Te,ee,W,null))}function f0(U,q,W,ee){switch(q){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var ae=null,le=null,ge=null,Te=null,Ne=null,Be=null,Xe=null;for(qe in W){var Qe=W[qe];if(W.hasOwnProperty(qe)&&Qe!=null)switch(qe){case"checked":break;case"value":break;case"defaultValue":Ne=Qe;default:ee.hasOwnProperty(qe)||Lt(U,q,qe,null,ee,Qe)}}for(var He in ee){var qe=ee[He];if(Qe=W[He],ee.hasOwnProperty(He)&&(qe!=null||Qe!=null))switch(He){case"type":le=qe;break;case"name":ae=qe;break;case"checked":Be=qe;break;case"defaultChecked":Xe=qe;break;case"value":ge=qe;break;case"defaultValue":Te=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(O(137,q));break;default:qe!==Qe&&Lt(U,q,He,qe,ee,Qe)}}ls(U,ge,Te,Ne,Be,Xe,le,ae);return;case"select":qe=ge=Te=He=null;for(le in W)if(Ne=W[le],W.hasOwnProperty(le)&&Ne!=null)switch(le){case"value":break;case"multiple":qe=Ne;default:ee.hasOwnProperty(le)||Lt(U,q,le,null,ee,Ne)}for(ae in ee)if(le=ee[ae],Ne=W[ae],ee.hasOwnProperty(ae)&&(le!=null||Ne!=null))switch(ae){case"value":He=le;break;case"defaultValue":Te=le;break;case"multiple":ge=le;default:le!==Ne&&Lt(U,q,ae,le,ee,Ne)}q=Te,W=ge,ee=qe,He!=null?li(U,!!W,He,!1):!!ee!=!!W&&(q!=null?li(U,!!W,q,!0):li(U,!!W,W?[]:"",!1));return;case"textarea":qe=He=null;for(Te in W)if(ae=W[Te],W.hasOwnProperty(Te)&&ae!=null&&!ee.hasOwnProperty(Te))switch(Te){case"value":break;case"children":break;default:Lt(U,q,Te,null,ee,ae)}for(ge in ee)if(ae=ee[ge],le=W[ge],ee.hasOwnProperty(ge)&&(ae!=null||le!=null))switch(ge){case"value":He=ae;break;case"defaultValue":qe=ae;break;case"children":break;case"dangerouslySetInnerHTML":if(ae!=null)throw Error(O(91));break;default:ae!==le&&Lt(U,q,ge,ae,ee,le)}Oc(U,He,qe);return;case"option":for(var st in W)He=W[st],W.hasOwnProperty(st)&&He!=null&&!ee.hasOwnProperty(st)&&(st==="selected"?U.selected=!1:Lt(U,q,st,null,ee,He));for(Ne in ee)He=ee[Ne],qe=W[Ne],ee.hasOwnProperty(Ne)&&He!==qe&&(He!=null||qe!=null)&&(Ne==="selected"?U.selected=He&&typeof He!="function"&&typeof He!="symbol":Lt(U,q,Ne,He,ee,qe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in W)He=W[ht],W.hasOwnProperty(ht)&&He!=null&&!ee.hasOwnProperty(ht)&&Lt(U,q,ht,null,ee,He);for(Be in ee)if(He=ee[Be],qe=W[Be],ee.hasOwnProperty(Be)&&He!==qe&&(He!=null||qe!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(O(137,q));break;default:Lt(U,q,Be,He,ee,qe)}return;default:if(us(q)){for(var zt in W)He=W[zt],W.hasOwnProperty(zt)&&He!==void 0&&!ee.hasOwnProperty(zt)&&Wl(U,q,zt,void 0,ee,He);for(Xe in ee)He=ee[Xe],qe=W[Xe],!ee.hasOwnProperty(Xe)||He===qe||He===void 0&&qe===void 0||Wl(U,q,Xe,He,ee,qe);return}}for(var Le in W)He=W[Le],W.hasOwnProperty(Le)&&He!=null&&!ee.hasOwnProperty(Le)&&Lt(U,q,Le,null,ee,He);for(Qe in ee)He=ee[Qe],qe=W[Qe],!ee.hasOwnProperty(Qe)||He===qe||He==null&&qe==null||Lt(U,q,Qe,He,ee,qe)}function Fh(U){switch(U){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function h0(){if(typeof performance.getEntriesByType=="function"){for(var U=0,q=0,W=performance.getEntriesByType("resource"),ee=0;ee<W.length;ee++){var ae=W[ee],le=ae.transferSize,ge=ae.initiatorType,Te=ae.duration;if(le&&Te&&Fh(ge)){for(ge=0,Te=ae.responseEnd,ee+=1;ee<W.length;ee++){var Ne=W[ee],Be=Ne.startTime;if(Be>Te)break;var Xe=Ne.transferSize,Qe=Ne.initiatorType;Xe&&Fh(Qe)&&(Ne=Ne.responseEnd,ge+=Xe*(Ne<Te?1:(Te-Be)/(Ne-Be)))}if(--ee,q+=8*(le+ge)/(ae.duration/1e3),U++,10<U)break}}if(0<U)return q/U/1e6}return navigator.connection&&(U=navigator.connection.downlink,typeof U=="number")?U:5}var Kl=null,Ql=null;function Ho(U){return U.nodeType===9?U:U.ownerDocument}function Hh(U){switch(U){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uh(U,q){if(U===0)switch(q){case"svg":return 1;case"math":return 2;default:return 0}return U===1&&q==="foreignObject"?0:U}function Jl(U,q){return U==="textarea"||U==="noscript"||typeof q.children=="string"||typeof q.children=="number"||typeof q.children=="bigint"||typeof q.dangerouslySetInnerHTML=="object"&&q.dangerouslySetInnerHTML!==null&&q.dangerouslySetInnerHTML.__html!=null}var ec=null;function d0(){var U=window.event;return U&&U.type==="popstate"?U===ec?!1:(ec=U,!0):(ec=null,!1)}var Gh=typeof setTimeout=="function"?setTimeout:void 0,m0=typeof clearTimeout=="function"?clearTimeout:void 0,Vh=typeof Promise=="function"?Promise:void 0,p0=typeof queueMicrotask=="function"?queueMicrotask:typeof Vh<"u"?function(U){return Vh.resolve(null).then(U).catch(g0)}:Gh;function g0(U){setTimeout(function(){throw U})}function Pr(U){return U==="head"}function qh(U,q){var W=q,ee=0;do{var ae=W.nextSibling;if(U.removeChild(W),ae&&ae.nodeType===8)if(W=ae.data,W==="/$"||W==="/&"){if(ee===0){U.removeChild(ae),Hi(q);return}ee--}else if(W==="$"||W==="$?"||W==="$~"||W==="$!"||W==="&")ee++;else if(W==="html")Ma(U.ownerDocument.documentElement);else if(W==="head"){W=U.ownerDocument.head,Ma(W);for(var le=W.firstChild;le;){var ge=le.nextSibling,Te=le.nodeName;le[qi]||Te==="SCRIPT"||Te==="STYLE"||Te==="LINK"&&le.rel.toLowerCase()==="stylesheet"||W.removeChild(le),le=ge}}else W==="body"&&Ma(U.ownerDocument.body);W=ae}while(W);Hi(q)}function Zh(U,q){var W=U;U=0;do{var ee=W.nextSibling;if(W.nodeType===1?q?(W._stashedDisplay=W.style.display,W.style.display="none"):(W.style.display=W._stashedDisplay||"",W.getAttribute("style")===""&&W.removeAttribute("style")):W.nodeType===3&&(q?(W._stashedText=W.nodeValue,W.nodeValue=""):W.nodeValue=W._stashedText||""),ee&&ee.nodeType===8)if(W=ee.data,W==="/$"){if(U===0)break;U--}else W!=="$"&&W!=="$?"&&W!=="$~"&&W!=="$!"||U++;W=ee}while(W)}function tc(U){var q=U.firstChild;for(q&&q.nodeType===10&&(q=q.nextSibling);q;){var W=q;switch(q=q.nextSibling,W.nodeName){case"HTML":case"HEAD":case"BODY":tc(W),os(W);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(W.rel.toLowerCase()==="stylesheet")continue}U.removeChild(W)}}function b0(U,q,W,ee){for(;U.nodeType===1;){var ae=W;if(U.nodeName.toLowerCase()!==q.toLowerCase()){if(!ee&&(U.nodeName!=="INPUT"||U.type!=="hidden"))break}else if(ee){if(!U[qi])switch(q){case"meta":if(!U.hasAttribute("itemprop"))break;return U;case"link":if(le=U.getAttribute("rel"),le==="stylesheet"&&U.hasAttribute("data-precedence"))break;if(le!==ae.rel||U.getAttribute("href")!==(ae.href==null||ae.href===""?null:ae.href)||U.getAttribute("crossorigin")!==(ae.crossOrigin==null?null:ae.crossOrigin)||U.getAttribute("title")!==(ae.title==null?null:ae.title))break;return U;case"style":if(U.hasAttribute("data-precedence"))break;return U;case"script":if(le=U.getAttribute("src"),(le!==(ae.src==null?null:ae.src)||U.getAttribute("type")!==(ae.type==null?null:ae.type)||U.getAttribute("crossorigin")!==(ae.crossOrigin==null?null:ae.crossOrigin))&&le&&U.hasAttribute("async")&&!U.hasAttribute("itemprop"))break;return U;default:return U}}else if(q==="input"&&U.type==="hidden"){var le=ae.name==null?null:""+ae.name;if(ae.type==="hidden"&&U.getAttribute("name")===le)return U}else return U;if(U=On(U.nextSibling),U===null)break}return null}function _0(U,q,W){if(q==="")return null;for(;U.nodeType!==3;)if((U.nodeType!==1||U.nodeName!=="INPUT"||U.type!=="hidden")&&!W||(U=On(U.nextSibling),U===null))return null;return U}function Yh(U,q){for(;U.nodeType!==8;)if((U.nodeType!==1||U.nodeName!=="INPUT"||U.type!=="hidden")&&!q||(U=On(U.nextSibling),U===null))return null;return U}function nc(U){return U.data==="$?"||U.data==="$~"}function rc(U){return U.data==="$!"||U.data==="$?"&&U.ownerDocument.readyState!=="loading"}function v0(U,q){var W=U.ownerDocument;if(U.data==="$~")U._reactRetry=q;else if(U.data!=="$?"||W.readyState!=="loading")q();else{var ee=function(){q(),W.removeEventListener("DOMContentLoaded",ee)};W.addEventListener("DOMContentLoaded",ee),U._reactRetry=ee}}function On(U){for(;U!=null;U=U.nextSibling){var q=U.nodeType;if(q===1||q===3)break;if(q===8){if(q=U.data,q==="$"||q==="$!"||q==="$?"||q==="$~"||q==="&"||q==="F!"||q==="F")break;if(q==="/$"||q==="/&")return null}}return U}var ic=null;function Xh(U){U=U.nextSibling;for(var q=0;U;){if(U.nodeType===8){var W=U.data;if(W==="/$"||W==="/&"){if(q===0)return On(U.nextSibling);q--}else W!=="$"&&W!=="$!"&&W!=="$?"&&W!=="$~"&&W!=="&"||q++}U=U.nextSibling}return null}function Wh(U){U=U.previousSibling;for(var q=0;U;){if(U.nodeType===8){var W=U.data;if(W==="$"||W==="$!"||W==="$?"||W==="$~"||W==="&"){if(q===0)return U;q--}else W!=="/$"&&W!=="/&"||q++}U=U.previousSibling}return null}function Kh(U,q,W){switch(q=Ho(W),U){case"html":if(U=q.documentElement,!U)throw Error(O(452));return U;case"head":if(U=q.head,!U)throw Error(O(453));return U;case"body":if(U=q.body,!U)throw Error(O(454));return U;default:throw Error(O(451))}}function Ma(U){for(var q=U.attributes;q.length;)U.removeAttributeNode(q[0]);os(U)}var In=new Map,Qh=new Set;function Uo(U){return typeof U.getRootNode=="function"?U.getRootNode():U.nodeType===9?U:U.ownerDocument}var fr=Re.d;Re.d={f:S0,r:w0,D:E0,C:C0,L:T0,m:A0,X:M0,S:R0,M:$0};function S0(){var U=fr.f(),q=Oo();return U||q}function w0(U){var q=ai(U);q!==null&&q.tag===5&&q.type==="form"?mf(q):fr.r(U)}var ji=typeof document>"u"?null:document;function Jh(U,q,W){var ee=ji;if(ee&&typeof q=="string"&&q){var ae=An(q);ae='link[rel="'+U+'"][href="'+ae+'"]',typeof W=="string"&&(ae+='[crossorigin="'+W+'"]'),Qh.has(ae)||(Qh.add(ae),U={rel:U,crossOrigin:W,href:q},ee.querySelector(ae)===null&&(q=ee.createElement("link"),ln(q,"link",U),tn(q),ee.head.appendChild(q)))}}function E0(U){fr.D(U),Jh("dns-prefetch",U,null)}function C0(U,q){fr.C(U,q),Jh("preconnect",U,q)}function T0(U,q,W){fr.L(U,q,W);var ee=ji;if(ee&&U&&q){var ae='link[rel="preload"][as="'+An(q)+'"]';q==="image"&&W&&W.imageSrcSet?(ae+='[imagesrcset="'+An(W.imageSrcSet)+'"]',typeof W.imageSizes=="string"&&(ae+='[imagesizes="'+An(W.imageSizes)+'"]')):ae+='[href="'+An(U)+'"]';var le=ae;switch(q){case"style":le=Bi(U);break;case"script":le=Fi(U)}In.has(le)||(U=Y({rel:"preload",href:q==="image"&&W&&W.imageSrcSet?void 0:U,as:q},W),In.set(le,U),ee.querySelector(ae)!==null||q==="style"&&ee.querySelector($a(le))||q==="script"&&ee.querySelector(Na(le))||(q=ee.createElement("link"),ln(q,"link",U),tn(q),ee.head.appendChild(q)))}}function A0(U,q){fr.m(U,q);var W=ji;if(W&&U){var ee=q&&typeof q.as=="string"?q.as:"script",ae='link[rel="modulepreload"][as="'+An(ee)+'"][href="'+An(U)+'"]',le=ae;switch(ee){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":le=Fi(U)}if(!In.has(le)&&(U=Y({rel:"modulepreload",href:U},q),In.set(le,U),W.querySelector(ae)===null)){switch(ee){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(W.querySelector(Na(le)))return}ee=W.createElement("link"),ln(ee,"link",U),tn(ee),W.head.appendChild(ee)}}}function R0(U,q,W){fr.S(U,q,W);var ee=ji;if(ee&&U){var ae=oi(ee).hoistableStyles,le=Bi(U);q=q||"default";var ge=ae.get(le);if(!ge){var Te={loading:0,preload:null};if(ge=ee.querySelector($a(le)))Te.loading=5;else{U=Y({rel:"stylesheet",href:U,"data-precedence":q},W),(W=In.get(le))&&ac(U,W);var Ne=ge=ee.createElement("link");tn(Ne),ln(Ne,"link",U),Ne._p=new Promise(function(Be,Xe){Ne.onload=Be,Ne.onerror=Xe}),Ne.addEventListener("load",function(){Te.loading|=1}),Ne.addEventListener("error",function(){Te.loading|=2}),Te.loading|=4,Go(ge,q,ee)}ge={type:"stylesheet",instance:ge,count:1,state:Te},ae.set(le,ge)}}}function M0(U,q){fr.X(U,q);var W=ji;if(W&&U){var ee=oi(W).hoistableScripts,ae=Fi(U),le=ee.get(ae);le||(le=W.querySelector(Na(ae)),le||(U=Y({src:U,async:!0},q),(q=In.get(ae))&&oc(U,q),le=W.createElement("script"),tn(le),ln(le,"link",U),W.head.appendChild(le)),le={type:"script",instance:le,count:1,state:null},ee.set(ae,le))}}function $0(U,q){fr.M(U,q);var W=ji;if(W&&U){var ee=oi(W).hoistableScripts,ae=Fi(U),le=ee.get(ae);le||(le=W.querySelector(Na(ae)),le||(U=Y({src:U,async:!0,type:"module"},q),(q=In.get(ae))&&oc(U,q),le=W.createElement("script"),tn(le),ln(le,"link",U),W.head.appendChild(le)),le={type:"script",instance:le,count:1,state:null},ee.set(ae,le))}}function ed(U,q,W,ee){var ae=(ae=Ye.current)?Uo(ae):null;if(!ae)throw Error(O(446));switch(U){case"meta":case"title":return null;case"style":return typeof W.precedence=="string"&&typeof W.href=="string"?(q=Bi(W.href),W=oi(ae).hoistableStyles,ee=W.get(q),ee||(ee={type:"style",instance:null,count:0,state:null},W.set(q,ee)),ee):{type:"void",instance:null,count:0,state:null};case"link":if(W.rel==="stylesheet"&&typeof W.href=="string"&&typeof W.precedence=="string"){U=Bi(W.href);var le=oi(ae).hoistableStyles,ge=le.get(U);if(ge||(ae=ae.ownerDocument||ae,ge={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},le.set(U,ge),(le=ae.querySelector($a(U)))&&!le._p&&(ge.instance=le,ge.state.loading=5),In.has(U)||(W={rel:"preload",as:"style",href:W.href,crossOrigin:W.crossOrigin,integrity:W.integrity,media:W.media,hrefLang:W.hrefLang,referrerPolicy:W.referrerPolicy},In.set(U,W),le||k0(ae,U,W,ge.state))),q&&ee===null)throw Error(O(528,""));return ge}if(q&&ee!==null)throw Error(O(529,""));return null;case"script":return q=W.async,W=W.src,typeof W=="string"&&q&&typeof q!="function"&&typeof q!="symbol"?(q=Fi(W),W=oi(ae).hoistableScripts,ee=W.get(q),ee||(ee={type:"script",instance:null,count:0,state:null},W.set(q,ee)),ee):{type:"void",instance:null,count:0,state:null};default:throw Error(O(444,U))}}function Bi(U){return'href="'+An(U)+'"'}function $a(U){return'link[rel="stylesheet"]['+U+"]"}function td(U){return Y({},U,{"data-precedence":U.precedence,precedence:null})}function k0(U,q,W,ee){U.querySelector('link[rel="preload"][as="style"]['+q+"]")?ee.loading=1:(q=U.createElement("link"),ee.preload=q,q.addEventListener("load",function(){return ee.loading|=1}),q.addEventListener("error",function(){return ee.loading|=2}),ln(q,"link",W),tn(q),U.head.appendChild(q))}function Fi(U){return'[src="'+An(U)+'"]'}function Na(U){return"script[async]"+U}function nd(U,q,W){if(q.count++,q.instance===null)switch(q.type){case"style":var ee=U.querySelector('style[data-href~="'+An(W.href)+'"]');if(ee)return q.instance=ee,tn(ee),ee;var ae=Y({},W,{"data-href":W.href,"data-precedence":W.precedence,href:null,precedence:null});return ee=(U.ownerDocument||U).createElement("style"),tn(ee),ln(ee,"style",ae),Go(ee,W.precedence,U),q.instance=ee;case"stylesheet":ae=Bi(W.href);var le=U.querySelector($a(ae));if(le)return q.state.loading|=4,q.instance=le,tn(le),le;ee=td(W),(ae=In.get(ae))&&ac(ee,ae),le=(U.ownerDocument||U).createElement("link"),tn(le);var ge=le;return ge._p=new Promise(function(Te,Ne){ge.onload=Te,ge.onerror=Ne}),ln(le,"link",ee),q.state.loading|=4,Go(le,W.precedence,U),q.instance=le;case"script":return le=Fi(W.src),(ae=U.querySelector(Na(le)))?(q.instance=ae,tn(ae),ae):(ee=W,(ae=In.get(le))&&(ee=Y({},W),oc(ee,ae)),U=U.ownerDocument||U,ae=U.createElement("script"),tn(ae),ln(ae,"link",ee),U.head.appendChild(ae),q.instance=ae);case"void":return null;default:throw Error(O(443,q.type))}else q.type==="stylesheet"&&(q.state.loading&4)===0&&(ee=q.instance,q.state.loading|=4,Go(ee,W.precedence,U));return q.instance}function Go(U,q,W){for(var ee=W.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),ae=ee.length?ee[ee.length-1]:null,le=ae,ge=0;ge<ee.length;ge++){var Te=ee[ge];if(Te.dataset.precedence===q)le=Te;else if(le!==ae)break}le?le.parentNode.insertBefore(U,le.nextSibling):(q=W.nodeType===9?W.head:W,q.insertBefore(U,q.firstChild))}function ac(U,q){U.crossOrigin==null&&(U.crossOrigin=q.crossOrigin),U.referrerPolicy==null&&(U.referrerPolicy=q.referrerPolicy),U.title==null&&(U.title=q.title)}function oc(U,q){U.crossOrigin==null&&(U.crossOrigin=q.crossOrigin),U.referrerPolicy==null&&(U.referrerPolicy=q.referrerPolicy),U.integrity==null&&(U.integrity=q.integrity)}var Vo=null;function rd(U,q,W){if(Vo===null){var ee=new Map,ae=Vo=new Map;ae.set(W,ee)}else ae=Vo,ee=ae.get(W),ee||(ee=new Map,ae.set(W,ee));if(ee.has(U))return ee;for(ee.set(U,null),W=W.getElementsByTagName(U),ae=0;ae<W.length;ae++){var le=W[ae];if(!(le[qi]||le[rn]||U==="link"&&le.getAttribute("rel")==="stylesheet")&&le.namespaceURI!=="http://www.w3.org/2000/svg"){var ge=le.getAttribute(q)||"";ge=U+ge;var Te=ee.get(ge);Te?Te.push(le):ee.set(ge,[le])}}return ee}function ad(U,q,W){U=U.ownerDocument||U,U.head.insertBefore(W,q==="title"?U.querySelector("head > title"):null)}function N0(U,q,W){if(W===1||q.itemProp!=null)return!1;switch(U){case"meta":case"title":return!0;case"style":if(typeof q.precedence!="string"||typeof q.href!="string"||q.href==="")break;return!0;case"link":if(typeof q.rel!="string"||typeof q.href!="string"||q.href===""||q.onLoad||q.onError)break;return q.rel==="stylesheet"?(U=q.disabled,typeof q.precedence=="string"&&U==null):!0;case"script":if(q.async&&typeof q.async!="function"&&typeof q.async!="symbol"&&!q.onLoad&&!q.onError&&q.src&&typeof q.src=="string")return!0}return!1}function od(U){return!(U.type==="stylesheet"&&(U.state.loading&3)===0)}function P0(U,q,W,ee){if(W.type==="stylesheet"&&(typeof ee.media!="string"||matchMedia(ee.media).matches!==!1)&&(W.state.loading&4)===0){if(W.instance===null){var ae=Bi(ee.href),le=q.querySelector($a(ae));if(le){q=le._p,q!==null&&typeof q=="object"&&typeof q.then=="function"&&(U.count++,U=qo.bind(U),q.then(U,U)),W.state.loading|=4,W.instance=le,tn(le);return}le=q.ownerDocument||q,ee=td(ee),(ae=In.get(ae))&&ac(ee,ae),le=le.createElement("link"),tn(le);var ge=le;ge._p=new Promise(function(Te,Ne){ge.onload=Te,ge.onerror=Ne}),ln(le,"link",ee),W.instance=le}U.stylesheets===null&&(U.stylesheets=new Map),U.stylesheets.set(W,q),(q=W.state.preload)&&(W.state.loading&3)===0&&(U.count++,W=qo.bind(U),q.addEventListener("load",W),q.addEventListener("error",W))}}var sc=0;function O0(U,q){return U.stylesheets&&U.count===0&&Yo(U,U.stylesheets),0<U.count||0<U.imgCount?function(W){var ee=setTimeout(function(){if(U.stylesheets&&Yo(U,U.stylesheets),U.unsuspend){var le=U.unsuspend;U.unsuspend=null,le()}},6e4+q);0<U.imgBytes&&sc===0&&(sc=62500*h0());var ae=setTimeout(function(){if(U.waitingForImages=!1,U.count===0&&(U.stylesheets&&Yo(U,U.stylesheets),U.unsuspend)){var le=U.unsuspend;U.unsuspend=null,le()}},(U.imgBytes>sc?50:800)+q);return U.unsuspend=W,function(){U.unsuspend=null,clearTimeout(ee),clearTimeout(ae)}}:null}function qo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yo(this,this.stylesheets);else if(this.unsuspend){var U=this.unsuspend;this.unsuspend=null,U()}}}var Zo=null;function Yo(U,q){U.stylesheets=null,U.unsuspend!==null&&(U.count++,Zo=new Map,q.forEach(I0,U),Zo=null,qo.call(U))}function I0(U,q){if(!(q.state.loading&4)){var W=Zo.get(U);if(W)var ee=W.get(null);else{W=new Map,Zo.set(U,W);for(var ae=U.querySelectorAll("link[data-precedence],style[data-precedence]"),le=0;le<ae.length;le++){var ge=ae[le];(ge.nodeName==="LINK"||ge.getAttribute("media")!=="not all")&&(W.set(ge.dataset.precedence,ge),ee=ge)}ee&&W.set(null,ee)}ae=q.instance,ge=ae.getAttribute("data-precedence"),le=W.get(ge)||ee,le===ee&&W.set(null,ae),W.set(ge,ae),this.count++,ee=qo.bind(this),ae.addEventListener("load",ee),ae.addEventListener("error",ee),le?le.parentNode.insertBefore(ae,le.nextSibling):(U=U.nodeType===9?U.head:U,U.insertBefore(ae,U.firstChild)),q.state.loading|=4}}var Pa={$$typeof:ce,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function D0(U,q,W,ee,ae,le,ge,Te,Ne){this.tag=1,this.containerInfo=U,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.hiddenUpdates=ns(null),this.identifierPrefix=ee,this.onUncaughtError=ae,this.onCaughtError=le,this.onRecoverableError=ge,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ne,this.incompleteTransitions=new Map}function sd(U,q,W,ee,ae,le,ge,Te,Ne,Be,Xe,Qe){return U=new D0(U,q,W,ge,Ne,Be,Xe,Qe,Te),q=1,le===!0&&(q|=24),le=xn(3,null,null,q),U.current=le,le.stateNode=U,q=Bs(),q.refCount++,U.pooledCache=q,q.refCount++,le.memoizedState={element:ee,isDehydrated:W,cache:q},Gs(le),U}function ld(U){return U?(U=yi,U):yi}function cd(U,q,W,ee,ae,le){ae=ld(ae),ee.context===null?ee.context=ae:ee.pendingContext=ae,ee=vr(q),ee.payload={element:W},le=le===void 0?null:le,le!==null&&(ee.callback=le),W=Sr(U,ee,q),W!==null&&(yn(W,U,q),ca(W,U,q))}function ud(U,q){if(U=U.memoizedState,U!==null&&U.dehydrated!==null){var W=U.retryLane;U.retryLane=W!==0&&W<q?W:q}}function lc(U,q){ud(U,q),(U=U.alternate)&&ud(U,q)}function fd(U){if(U.tag===13||U.tag===31){var q=Gr(U,67108864);q!==null&&yn(q,U,67108864),lc(U,67108864)}}function hd(U){if(U.tag===13||U.tag===31){var q=En();q=rs(q);var W=Gr(U,q);W!==null&&yn(W,U,q),lc(U,q)}}var Xo=!0;function L0(U,q,W,ee){var ae=_e.T;_e.T=null;var le=Re.p;try{Re.p=2,cc(U,q,W,ee)}finally{Re.p=le,_e.T=ae}}function z0(U,q,W,ee){var ae=_e.T;_e.T=null;var le=Re.p;try{Re.p=8,cc(U,q,W,ee)}finally{Re.p=le,_e.T=ae}}function cc(U,q,W,ee){if(Xo){var ae=uc(ee);if(ae===null)Xl(U,q,ee,Wo,W),md(U,ee);else if(B0(ae,U,q,W,ee))ee.stopPropagation();else if(md(U,ee),q&4&&-1<j0.indexOf(U)){for(;ae!==null;){var le=ai(ae);if(le!==null)switch(le.tag){case 3:if(le=le.stateNode,le.current.memoizedState.isDehydrated){var ge=jr(le.pendingLanes);if(ge!==0){var Te=le;for(Te.pendingLanes|=2,Te.entangledLanes|=2;ge;){var Ne=1<<31-Pt(ge);Te.entanglements[1]|=Ne,ge&=~Ne}Un(le),($t&6)===0&&(No=pt()+500,Ta(0))}}break;case 31:case 13:Te=Gr(le,2),Te!==null&&yn(Te,le,2),Oo(),lc(le,2)}if(le=uc(ee),le===null&&Xl(U,q,ee,Wo,W),le===ae)break;ae=le}ae!==null&&ee.stopPropagation()}else Xl(U,q,ee,null,W)}}function uc(U){return U=hs(U),fc(U)}var Wo=null;function fc(U){if(Wo=null,U=ii(U),U!==null){var q=L(U);if(q===null)U=null;else{var W=q.tag;if(W===13){if(U=z(q),U!==null)return U;U=null}else if(W===31){if(U=F(q),U!==null)return U;U=null}else if(W===3){if(q.stateNode.current.memoizedState.isDehydrated)return q.tag===3?q.stateNode.containerInfo:null;U=null}else q!==U&&(U=null)}}return Wo=U,null}function dd(U){switch(U){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case Fe:return 2;case Ke:return 8;case tt:case lt:return 32;case mt:return 268435456;default:return 32}default:return 32}}var hc=!1,Or=null,Ir=null,Dr=null,Oa=new Map,Ia=new Map,Lr=[],j0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function md(U,q){switch(U){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Oa.delete(q.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(q.pointerId)}}function Da(U,q,W,ee,ae,le){return U===null||U.nativeEvent!==le?(U={blockedOn:q,domEventName:W,eventSystemFlags:ee,nativeEvent:le,targetContainers:[ae]},q!==null&&(q=ai(q),q!==null&&fd(q)),U):(U.eventSystemFlags|=ee,q=U.targetContainers,ae!==null&&q.indexOf(ae)===-1&&q.push(ae),U)}function B0(U,q,W,ee,ae){switch(q){case"focusin":return Or=Da(Or,U,q,W,ee,ae),!0;case"dragenter":return Ir=Da(Ir,U,q,W,ee,ae),!0;case"mouseover":return Dr=Da(Dr,U,q,W,ee,ae),!0;case"pointerover":var le=ae.pointerId;return Oa.set(le,Da(Oa.get(le)||null,U,q,W,ee,ae)),!0;case"gotpointercapture":return le=ae.pointerId,Ia.set(le,Da(Ia.get(le)||null,U,q,W,ee,ae)),!0}return!1}function pd(U){var q=ii(U.target);if(q!==null){var W=L(q);if(W!==null){if(q=W.tag,q===13){if(q=z(W),q!==null){U.blockedOn=q,Ec(U.priority,function(){hd(W)});return}}else if(q===31){if(q=F(W),q!==null){U.blockedOn=q,Ec(U.priority,function(){hd(W)});return}}else if(q===3&&W.stateNode.current.memoizedState.isDehydrated){U.blockedOn=W.tag===3?W.stateNode.containerInfo:null;return}}}U.blockedOn=null}function Ko(U){if(U.blockedOn!==null)return!1;for(var q=U.targetContainers;0<q.length;){var W=uc(U.nativeEvent);if(W===null){W=U.nativeEvent;var ee=new W.constructor(W.type,W);fs=ee,W.target.dispatchEvent(ee),fs=null}else return q=ai(W),q!==null&&fd(q),U.blockedOn=W,!1;q.shift()}return!0}function gd(U,q,W){Ko(U)&&W.delete(q)}function F0(){hc=!1,Or!==null&&Ko(Or)&&(Or=null),Ir!==null&&Ko(Ir)&&(Ir=null),Dr!==null&&Ko(Dr)&&(Dr=null),Oa.forEach(gd),Ia.forEach(gd)}function Qo(U,q){U.blockedOn===q&&(U.blockedOn=null,hc||(hc=!0,_.unstable_scheduleCallback(_.unstable_NormalPriority,F0)))}var Jo=null;function yd(U){Jo!==U&&(Jo=U,_.unstable_scheduleCallback(_.unstable_NormalPriority,function(){Jo===U&&(Jo=null);for(var q=0;q<U.length;q+=3){var W=U[q],ee=U[q+1],ae=U[q+2];if(typeof ee!="function"){if(fc(ee||W)===null)continue;break}var le=ai(W);le!==null&&(U.splice(q,3),q-=3,ul(le,{pending:!0,data:ae,method:W.method,action:ee},ee,ae))}}))}function Hi(U){function q(Ne){return Qo(Ne,U)}Or!==null&&Qo(Or,U),Ir!==null&&Qo(Ir,U),Dr!==null&&Qo(Dr,U),Oa.forEach(q),Ia.forEach(q);for(var W=0;W<Lr.length;W++){var ee=Lr[W];ee.blockedOn===U&&(ee.blockedOn=null)}for(;0<Lr.length&&(W=Lr[0],W.blockedOn===null);)pd(W),W.blockedOn===null&&Lr.shift();if(W=(U.ownerDocument||U).$$reactFormReplay,W!=null)for(ee=0;ee<W.length;ee+=3){var ae=W[ee],le=W[ee+1],ge=ae[fn]||null;if(typeof le=="function")ge||yd(W);else if(ge){var Te=null;if(le&&le.hasAttribute("formAction")){if(ae=le,ge=le[fn]||null)Te=ge.formAction;else if(fc(ae)!==null)continue}else Te=ge.action;typeof Te=="function"?W[ee+1]=Te:(W.splice(ee,3),ee-=3),yd(W)}}}function bd(){function U(le){le.canIntercept&&le.info==="react-transition"&&le.intercept({handler:function(){return new Promise(function(ge){return ae=ge})},focusReset:"manual",scroll:"manual"})}function q(){ae!==null&&(ae(),ae=null),ee||setTimeout(W,20)}function W(){if(!ee&&!navigation.transition){var le=navigation.currentEntry;le&&le.url!=null&&navigation.navigate(le.url,{state:le.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var ee=!1,ae=null;return navigation.addEventListener("navigate",U),navigation.addEventListener("navigatesuccess",q),navigation.addEventListener("navigateerror",q),setTimeout(W,100),function(){ee=!0,navigation.removeEventListener("navigate",U),navigation.removeEventListener("navigatesuccess",q),navigation.removeEventListener("navigateerror",q),ae!==null&&(ae(),ae=null)}}}function dc(U){this._internalRoot=U}es.prototype.render=dc.prototype.render=function(U){var q=this._internalRoot;if(q===null)throw Error(O(409));var W=q.current,ee=En();cd(W,ee,U,q,null,null)},es.prototype.unmount=dc.prototype.unmount=function(){var U=this._internalRoot;if(U!==null){this._internalRoot=null;var q=U.containerInfo;cd(U.current,2,null,U,null,null),Oo(),q[ri]=null}};function es(U){this._internalRoot=U}es.prototype.unstable_scheduleHydration=function(U){if(U){var q=wc();U={blockedOn:null,target:U,priority:q};for(var W=0;W<Lr.length&&q!==0&&q<Lr[W].priority;W++);Lr.splice(W,0,U),W===0&&pd(U)}};var xd=R.version;if(xd!=="19.2.3")throw Error(O(527,xd,"19.2.3"));Re.findDOMNode=function(U){var q=U._reactInternals;if(q===void 0)throw typeof U.render=="function"?Error(O(188)):(U=Object.keys(U).join(","),Error(O(268,U)));return U=V(q),U=U!==null?Z(U):null,U=U===null?null:U.stateNode,U};var H0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:_e,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ts.isDisabled&&ts.supportsFiber)try{kt=ts.inject(H0),xt=ts}catch{}}return reactDomClient_production.createRoot=function(U,q){if(!I(U))throw Error(O(299));var W=!1,ee="",ae=Ef,le=Cf,ge=Tf;return q!=null&&(q.unstable_strictMode===!0&&(W=!0),q.identifierPrefix!==void 0&&(ee=q.identifierPrefix),q.onUncaughtError!==void 0&&(ae=q.onUncaughtError),q.onCaughtError!==void 0&&(le=q.onCaughtError),q.onRecoverableError!==void 0&&(ge=q.onRecoverableError)),q=sd(U,1,!1,null,null,W,ee,null,ae,le,ge,bd),U[ri]=q.current,Yl(U),new dc(q)},reactDomClient_production.hydrateRoot=function(U,q,W){if(!I(U))throw Error(O(299));var ee=!1,ae="",le=Ef,ge=Cf,Te=Tf,Ne=null;return W!=null&&(W.unstable_strictMode===!0&&(ee=!0),W.identifierPrefix!==void 0&&(ae=W.identifierPrefix),W.onUncaughtError!==void 0&&(le=W.onUncaughtError),W.onCaughtError!==void 0&&(ge=W.onCaughtError),W.onRecoverableError!==void 0&&(Te=W.onRecoverableError),W.formState!==void 0&&(Ne=W.formState)),q=sd(U,1,!0,q,W??null,ee,ae,Ne,le,ge,Te,bd),q.context=ld(null),W=q.current,ee=En(),ee=rs(ee),ae=vr(ee),ae.callback=null,Sr(W,ae,ee),W=ee,q.current.lanes=W,Vi(q,W),Un(q),U[ri]=q.current,Yl(U),new es(q)},reactDomClient_production.version="19.2.3",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function _(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(R){console.error(R)}}return _(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();function parseVersion(_){const R=_.split(".").map(Number);return{major:R[0]||0,minor:R[1]||0,patch:R[2]||0}}function compareVersions(_,R){return _.major!==R.major?_.major-R.major:_.minor!==R.minor?_.minor-R.minor:_.patch-R.patch}function isCompatible(_,R){return _.major===R.major&&compareVersions(_,R)>=0}function formatVersion(_){return`${_.major}.${_.minor}.${_.patch}`}class ModelRegistry{models=new Map;defaultModelName=null;constructor(){console.log("[Registry] Initializing")}register(R){const P=parseVersion(R.version),O=formatVersion(P),I=R;if(!this.models.has(R.id))this.models.set(R.id,{latestModel:I,versions:new Map([[O,I]])}),console.log(`[Registry] Registered new model: ${R.id} (v${O})`);else{const L=this.models.get(R.id);L.versions.set(O,I);const z=parseVersion(L.latestModel.version);(P.major>z.major||P.major===z.major&&P.minor>z.minor||P.major===z.major&&P.minor===z.minor&&P.patch>z.patch)&&(L.latestModel=I,console.log(`[Registry] Updated model ${R.id} to version ${O}`))}}setDefault(R){if(!this.models.has(R))throw new Error(`Cannot set default: model "${R}" is not registered`);this.defaultModelName=R}get(R){return this.models.get(R)?.latestModel}getVersion(R,P){return this.models.get(R)?.versions.get(P)}getModelNames(){return Array.from(this.models.keys())}getVersions(R){const P=this.models.get(R);return P?Array.from(P.versions.keys()):[]}getDefault(){return this.defaultModelName?this.get(this.defaultModelName):void 0}getDefaultName(){return this.defaultModelName}findCompatibleModel(R){const P=this.models.get(R.model);if(!P)return;const O=parseVersion(R.version);let I,L;for(const[z,F]of P.versions){const G=parseVersion(z);isCompatible(G,O)&&(!L||G.minor>L.minor||G.minor===L.minor&&G.patch>L.patch)&&(I=F,L=G)}return I}has(R){return this.models.has(R)}getAll(){return Array.from(this.models.values()).map(R=>R.latestModel)}}const modelRegistry=new ModelRegistry;class Vector2{constructor(R=0,P=0){this.x=R,this.y=P}static from(R){return new Vector2(R.x,R.y)}static zero(){return new Vector2(0,0)}static fromAngle(R){return new Vector2(Math.cos(R),Math.sin(R))}add(R){return new Vector2(this.x+R.x,this.y+R.y)}sub(R){return new Vector2(this.x-R.x,this.y-R.y)}scale(R){return new Vector2(this.x*R,this.y*R)}mult(R){return this.scale(R)}div(R){return R===0?(console.warn("Vector2.div: division by zero"),this):new Vector2(this.x/R,this.y/R)}negate(){return new Vector2(-this.x,-this.y)}mag(){return Math.sqrt(this.x*this.x+this.y*this.y)}magSq(){return this.x*this.x+this.y*this.y}normalize(){const R=this.mag();return R===0?this:new Vector2(this.x/R,this.y/R)}setMag(R){return this.normalize().scale(R)}limit(R){return this.magSq()>R*R?this.normalize().scale(R):this}dot(R){return this.x*R.x+this.y*R.y}cross(R){return this.x*R.y-this.y*R.x}dist(R){const P=this.x-R.x,O=this.y-R.y;return Math.sqrt(P*P+O*O)}distSq(R){const P=this.x-R.x,O=this.y-R.y;return P*P+O*O}heading(){return Math.atan2(this.y,this.x)}rotate(R){const P=Math.cos(R),O=Math.sin(R);return new Vector2(this.x*P-this.y*O,this.x*O+this.y*P)}lerp(R,P){return new Vector2(this.x+(R.x-this.x)*P,this.y+(R.y-this.y)*P)}equals(R){return this.x===R.x&&this.y===R.y}approxEquals(R,P=1e-10){return Math.abs(this.x-R.x)<P&&Math.abs(this.y-R.y)<P}copy(){return new Vector2(this.x,this.y)}toObject(){return{x:this.x,y:this.y}}toString(){return`Vector2(${this.x}, ${this.y})`}toArray(){return[this.x,this.y]}}var alea$1={exports:{}},alea=alea$1.exports,hasRequiredAlea;function requireAlea(){return hasRequiredAlea||(hasRequiredAlea=1,(function(_){(function(R,P,O){function I(G){var V=this,Z=F();V.next=function(){var Y=2091639*V.s0+V.c*23283064365386963e-26;return V.s0=V.s1,V.s1=V.s2,V.s2=Y-(V.c=Y|0)},V.c=1,V.s0=Z(" "),V.s1=Z(" "),V.s2=Z(" "),V.s0-=Z(G),V.s0<0&&(V.s0+=1),V.s1-=Z(G),V.s1<0&&(V.s1+=1),V.s2-=Z(G),V.s2<0&&(V.s2+=1),Z=null}function L(G,V){return V.c=G.c,V.s0=G.s0,V.s1=G.s1,V.s2=G.s2,V}function z(G,V){var Z=new I(G),Y=V&&V.state,Q=Z.next;return Q.int32=function(){return Z.next()*4294967296|0},Q.double=function(){return Q()+(Q()*2097152|0)*11102230246251565e-32},Q.quick=Q,Y&&(typeof Y=="object"&&L(Y,Z),Q.state=function(){return L(Z,{})}),Q}function F(){var G=4022871197,V=function(Z){Z=String(Z);for(var Y=0;Y<Z.length;Y++){G+=Z.charCodeAt(Y);var Q=.02519603282416938*G;G=Q>>>0,Q-=G,Q*=G,G=Q>>>0,Q-=G,G+=Q*4294967296}return(G>>>0)*23283064365386963e-26};return V}P&&P.exports?P.exports=z:this.alea=z})(alea,_)})(alea$1)),alea$1.exports}var xor128$1={exports:{}},xor128=xor128$1.exports,hasRequiredXor128;function requireXor128(){return hasRequiredXor128||(hasRequiredXor128=1,(function(_){(function(R,P,O){function I(F){var G=this,V="";G.x=0,G.y=0,G.z=0,G.w=0,G.next=function(){var Y=G.x^G.x<<11;return G.x=G.y,G.y=G.z,G.z=G.w,G.w^=G.w>>>19^Y^Y>>>8},F===(F|0)?G.x=F:V+=F;for(var Z=0;Z<V.length+64;Z++)G.x^=V.charCodeAt(Z)|0,G.next()}function L(F,G){return G.x=F.x,G.y=F.y,G.z=F.z,G.w=F.w,G}function z(F,G){var V=new I(F),Z=G&&G.state,Y=function(){return(V.next()>>>0)/4294967296};return Y.double=function(){do var Q=V.next()>>>11,J=(V.next()>>>0)/4294967296,te=(Q+J)/(1<<21);while(te===0);return te},Y.int32=V.next,Y.quick=Y,Z&&(typeof Z=="object"&&L(Z,V),Y.state=function(){return L(V,{})}),Y}P&&P.exports?P.exports=z:this.xor128=z})(xor128,_)})(xor128$1)),xor128$1.exports}var xorwow$1={exports:{}},xorwow=xorwow$1.exports,hasRequiredXorwow;function requireXorwow(){return hasRequiredXorwow||(hasRequiredXorwow=1,(function(_){(function(R,P,O){function I(F){var G=this,V="";G.next=function(){var Y=G.x^G.x>>>2;return G.x=G.y,G.y=G.z,G.z=G.w,G.w=G.v,(G.d=G.d+362437|0)+(G.v=G.v^G.v<<4^(Y^Y<<1))|0},G.x=0,G.y=0,G.z=0,G.w=0,G.v=0,F===(F|0)?G.x=F:V+=F;for(var Z=0;Z<V.length+64;Z++)G.x^=V.charCodeAt(Z)|0,Z==V.length&&(G.d=G.x<<10^G.x>>>4),G.next()}function L(F,G){return G.x=F.x,G.y=F.y,G.z=F.z,G.w=F.w,G.v=F.v,G.d=F.d,G}function z(F,G){var V=new I(F),Z=G&&G.state,Y=function(){return(V.next()>>>0)/4294967296};return Y.double=function(){do var Q=V.next()>>>11,J=(V.next()>>>0)/4294967296,te=(Q+J)/(1<<21);while(te===0);return te},Y.int32=V.next,Y.quick=Y,Z&&(typeof Z=="object"&&L(Z,V),Y.state=function(){return L(V,{})}),Y}P&&P.exports?P.exports=z:this.xorwow=z})(xorwow,_)})(xorwow$1)),xorwow$1.exports}var xorshift7$1={exports:{}},xorshift7=xorshift7$1.exports,hasRequiredXorshift7;function requireXorshift7(){return hasRequiredXorshift7||(hasRequiredXorshift7=1,(function(_){(function(R,P,O){function I(F){var G=this;G.next=function(){var Z=G.x,Y=G.i,Q,J;return Q=Z[Y],Q^=Q>>>7,J=Q^Q<<24,Q=Z[Y+1&7],J^=Q^Q>>>10,Q=Z[Y+3&7],J^=Q^Q>>>3,Q=Z[Y+4&7],J^=Q^Q<<7,Q=Z[Y+7&7],Q=Q^Q<<13,J^=Q^Q<<9,Z[Y]=J,G.i=Y+1&7,J};function V(Z,Y){var Q,J=[];if(Y===(Y|0))J[0]=Y;else for(Y=""+Y,Q=0;Q<Y.length;++Q)J[Q&7]=J[Q&7]<<15^Y.charCodeAt(Q)+J[Q+1&7]<<13;for(;J.length<8;)J.push(0);for(Q=0;Q<8&&J[Q]===0;++Q);for(Q==8?J[7]=-1:J[Q],Z.x=J,Z.i=0,Q=256;Q>0;--Q)Z.next()}V(G,F)}function L(F,G){return G.x=F.x.slice(),G.i=F.i,G}function z(F,G){F==null&&(F=+new Date);var V=new I(F),Z=G&&G.state,Y=function(){return(V.next()>>>0)/4294967296};return Y.double=function(){do var Q=V.next()>>>11,J=(V.next()>>>0)/4294967296,te=(Q+J)/(1<<21);while(te===0);return te},Y.int32=V.next,Y.quick=Y,Z&&(Z.x&&L(Z,V),Y.state=function(){return L(V,{})}),Y}P&&P.exports?P.exports=z:this.xorshift7=z})(xorshift7,_)})(xorshift7$1)),xorshift7$1.exports}var xor4096$1={exports:{}},xor4096=xor4096$1.exports,hasRequiredXor4096;function requireXor4096(){return hasRequiredXor4096||(hasRequiredXor4096=1,(function(_){(function(R,P,O){function I(F){var G=this;G.next=function(){var Z=G.w,Y=G.X,Q=G.i,J,te;return G.w=Z=Z+1640531527|0,te=Y[Q+34&127],J=Y[Q=Q+1&127],te^=te<<13,J^=J<<17,te^=te>>>15,J^=J>>>12,te=Y[Q]=te^J,G.i=Q,te+(Z^Z>>>16)|0};function V(Z,Y){var Q,J,te,ne,ie,se=[],oe=128;for(Y===(Y|0)?(J=Y,Y=null):(Y=Y+"\0",J=0,oe=Math.max(oe,Y.length)),te=0,ne=-32;ne<oe;++ne)Y&&(J^=Y.charCodeAt((ne+32)%Y.length)),ne===0&&(ie=J),J^=J<<10,J^=J>>>15,J^=J<<4,J^=J>>>13,ne>=0&&(ie=ie+1640531527|0,Q=se[ne&127]^=J+ie,te=Q==0?te+1:0);for(te>=128&&(se[(Y&&Y.length||0)&127]=-1),te=127,ne=512;ne>0;--ne)J=se[te+34&127],Q=se[te=te+1&127],J^=J<<13,Q^=Q<<17,J^=J>>>15,Q^=Q>>>12,se[te]=J^Q;Z.w=ie,Z.X=se,Z.i=te}V(G,F)}function L(F,G){return G.i=F.i,G.w=F.w,G.X=F.X.slice(),G}function z(F,G){F==null&&(F=+new Date);var V=new I(F),Z=G&&G.state,Y=function(){return(V.next()>>>0)/4294967296};return Y.double=function(){do var Q=V.next()>>>11,J=(V.next()>>>0)/4294967296,te=(Q+J)/(1<<21);while(te===0);return te},Y.int32=V.next,Y.quick=Y,Z&&(Z.X&&L(Z,V),Y.state=function(){return L(V,{})}),Y}P&&P.exports?P.exports=z:this.xor4096=z})(xor4096,_)})(xor4096$1)),xor4096$1.exports}var tychei$1={exports:{}},tychei=tychei$1.exports,hasRequiredTychei;function requireTychei(){return hasRequiredTychei||(hasRequiredTychei=1,(function(_){(function(R,P,O){function I(F){var G=this,V="";G.next=function(){var Y=G.b,Q=G.c,J=G.d,te=G.a;return Y=Y<<25^Y>>>7^Q,Q=Q-J|0,J=J<<24^J>>>8^te,te=te-Y|0,G.b=Y=Y<<20^Y>>>12^Q,G.c=Q=Q-J|0,G.d=J<<16^Q>>>16^te,G.a=te-Y|0},G.a=0,G.b=0,G.c=-1640531527,G.d=1367130551,F===Math.floor(F)?(G.a=F/4294967296|0,G.b=F|0):V+=F;for(var Z=0;Z<V.length+20;Z++)G.b^=V.charCodeAt(Z)|0,G.next()}function L(F,G){return G.a=F.a,G.b=F.b,G.c=F.c,G.d=F.d,G}function z(F,G){var V=new I(F),Z=G&&G.state,Y=function(){return(V.next()>>>0)/4294967296};return Y.double=function(){do var Q=V.next()>>>11,J=(V.next()>>>0)/4294967296,te=(Q+J)/(1<<21);while(te===0);return te},Y.int32=V.next,Y.quick=Y,Z&&(typeof Z=="object"&&L(Z,V),Y.state=function(){return L(V,{})}),Y}P&&P.exports?P.exports=z:this.tychei=z})(tychei,_)})(tychei$1)),tychei$1.exports}var seedrandom$3={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var seedrandom$2=seedrandom$3.exports,hasRequiredSeedrandom$1;function requireSeedrandom$1(){return hasRequiredSeedrandom$1||(hasRequiredSeedrandom$1=1,(function(_){(function(R,P,O){var I=256,L=6,z=52,F="random",G=O.pow(I,L),V=O.pow(2,z),Z=V*2,Y=I-1,Q;function J(ue,me,he){var fe=[];me=me==!0?{entropy:!0}:me||{};var de=se(ie(me.entropy?[ue,ce(P)]:ue??oe(),3),fe),pe=new te(fe),be=function(){for(var ye=pe.g(L),we=G,ve=0;ye<V;)ye=(ye+ve)*I,we*=I,ve=pe.g(1);for(;ye>=Z;)ye/=2,we/=2,ve>>>=1;return(ye+ve)/we};return be.int32=function(){return pe.g(4)|0},be.quick=function(){return pe.g(4)/4294967296},be.double=be,se(ce(pe.S),P),(me.pass||he||function(ye,we,ve,Ae){return Ae&&(Ae.S&&ne(Ae,pe),ye.state=function(){return ne(pe,{})}),ve?(O[F]=ye,we):ye})(be,de,"global"in me?me.global:this==O,me.state)}function te(ue){var me,he=ue.length,fe=this,de=0,pe=fe.i=fe.j=0,be=fe.S=[];for(he||(ue=[he++]);de<I;)be[de]=de++;for(de=0;de<I;de++)be[de]=be[pe=Y&pe+ue[de%he]+(me=be[de])],be[pe]=me;(fe.g=function(ye){for(var we,ve=0,Ae=fe.i,Ce=fe.j,_e=fe.S;ye--;)we=_e[Ae=Y&Ae+1],ve=ve*I+_e[Y&(_e[Ae]=_e[Ce=Y&Ce+we])+(_e[Ce]=we)];return fe.i=Ae,fe.j=Ce,ve})(I)}function ne(ue,me){return me.i=ue.i,me.j=ue.j,me.S=ue.S.slice(),me}function ie(ue,me){var he=[],fe=typeof ue,de;if(me&&fe=="object")for(de in ue)try{he.push(ie(ue[de],me-1))}catch{}return he.length?he:fe=="string"?ue:ue+"\0"}function se(ue,me){for(var he=ue+"",fe,de=0;de<he.length;)me[Y&de]=Y&(fe^=me[Y&de]*19)+he.charCodeAt(de++);return ce(me)}function oe(){try{var ue;return Q&&(ue=Q.randomBytes)?ue=ue(I):(ue=new Uint8Array(I),(R.crypto||R.msCrypto).getRandomValues(ue)),ce(ue)}catch{var me=R.navigator,he=me&&me.plugins;return[+new Date,R,he,R.screen,ce(P)]}}function ce(ue){return String.fromCharCode.apply(0,ue)}if(se(O.random(),P),_.exports){_.exports=J;try{Q=require$$0}catch{}}else O["seed"+F]=J})(typeof self<"u"?self:seedrandom$2,[],Math)})(seedrandom$3)),seedrandom$3.exports}var seedrandom$1,hasRequiredSeedrandom;function requireSeedrandom(){if(hasRequiredSeedrandom)return seedrandom$1;hasRequiredSeedrandom=1;var _=requireAlea(),R=requireXor128(),P=requireXorwow(),O=requireXorshift7(),I=requireXor4096(),L=requireTychei(),z=requireSeedrandom$1();return z.alea=_,z.xor128=R,z.xorwow=P,z.xorshift7=O,z.xor4096=I,z.tychei=L,seedrandom$1=z,seedrandom$1}var seedrandomExports=requireSeedrandom();const seedrandom=getDefaultExportFromCjs(seedrandomExports);class SeededRandom{rng;constructor(R=0){this.rng=seedrandom(String(R))}reset(R){this.rng=seedrandom(String(R))}random(R,P){const O=this.rng();return R===void 0?O:P===void 0?O*R:R+O*(P-R)}randomInt(R,P){return Math.floor(P===void 0?this.random(R):this.random(R,P))}randomBool(R=.5){return this.rng()<R}gaussian(){let R,P;do R=this.rng(),P=this.rng();while(R===0);return Math.sqrt(-2*Math.log(R))*Math.cos(2*Math.PI*P)}randomGaussian(R=0,P=1){return R+P*this.gaussian()}choice(R){if(R.length===0)throw new Error("Cannot pick from empty array");return R[Math.floor(this.rng()*R.length)]}shuffle(R){for(let P=R.length-1;P>0;P--){const O=Math.floor(this.rng()*(P+1));[R[P],R[O]]=[R[O],R[P]]}return R}}function shapeCenter(_,R){return _===0&&R===0?new Vector2(0,0):R===0?new Vector2(0,0):new Vector2(0,1/R)}class BasalGeometry{curvedToCartesian(R,P){const O=this.getPointAtArcLength(R),I=this.getNormal(O);return O.add(I.scale(P))}}class StraightLineGeometry extends BasalGeometry{type="line";curvature_1=0;curvature_2=0;perimeter=1/0;projectPoint(R){return new Vector2(R.x,0)}getArcLength(R){return R.x}getPointAtArcLength(R){return new Vector2(R,0)}getNormal(R){return new Vector2(0,1)}}class CircularGeometry extends BasalGeometry{constructor(R,P){super(),this.curvature_1=R,this.curvature_2=P,this.radius=Math.abs(1/R),this.perimeter=2*Math.PI*this.radius,this.dir=-Math.sign(P),this.center=new Vector2(0,1/P)}type="circle";center;radius;perimeter;dir;projectPoint(R){const P=R.sub(this.center);return this.center.add(P.setMag(this.radius))}getArcLength(R){const P=R.sub(this.center);return Math.atan2(this.dir*P.x,this.dir*P.y)*this.radius}getPointAtArcLength(R){const P=R/this.radius;return new Vector2(this.center.x+this.dir*this.radius*Math.cos(P),this.center.y+this.dir*this.radius*Math.sin(P))}getNormal(R){return this.center.sub(R).setMag(Math.sign(this.curvature_2))}}class EllipticalGeometry extends BasalGeometry{constructor(R,P,O=360){super(),this.curvature_1=R,this.curvature_2=P,this.a=Math.abs(1/R),this.b=Math.abs(1/P),this.dir=-Math.sign(P),this.center=new Vector2(0,1/P),this.numPoints=O,this.points=this.discretizeCurve(),this.perimeter=this.points[this.points.length-1].arcLength}type="ellipse";center;a;b;dir;perimeter;points;numPoints;discretizeCurve(){const R=[];let P=0;for(let O=0;O<=this.numPoints;O++){const I=O/this.numPoints*2*Math.PI,L=this.center.x+this.dir*this.a*Math.cos(I),z=this.center.y+this.dir*this.b*Math.sin(I),F=new Vector2(L,z);if(O>0){const Q=R[O-1].position,J=F.dist(Q);P+=J}const G=F.sub(this.center).scale(this.dir),V=2*G.x/(this.a*this.a),Z=2*G.y/(this.b*this.b),Y=new Vector2(V,Z).setMag(Math.sign(this.curvature_2));R.push({position:F,arcLength:P,theta:I,normal:Y})}return R}findBracket(R,P){let O=0,I=this.points.length-1;for(;I-O>1;){const L=Math.floor((O+I)/2);P(this.points[L])<R?O=L:I=L}return[O,I]}interpolate(R,P,O,I){const L=I(R),z=I(P),F=(O-L)/(z-L);return{position:R.position.lerp(P.position,F),arcLength:R.arcLength+F*(P.arcLength-R.arcLength),theta:R.theta+F*(P.theta-R.theta),normal:R.normal.lerp(P.normal,F).normalize()}}projectPoint(R){let P=1/0,O=0;for(let J=0;J<this.points.length;J++){const te=R.distSq(this.points[J].position);te<P&&(P=te,O=J)}const I=O===0?this.points.length-1:O-1,L=O===this.points.length-1?0:O+1,z=this.points[O].position,F=this.points[I].position,G=this.points[L].position,V=this.projectOntoSegment(R,F,z),Z=R.distSq(V),Y=this.projectOntoSegment(R,z,G),Q=R.distSq(Y);return Z<Q?V:Y}projectOntoSegment(R,P,O){const I=O.sub(P),L=R.sub(P),z=I.magSq();if(z<1e-10)return P;const F=Math.max(0,Math.min(1,L.dot(I)/z));return P.add(I.scale(F))}getArcLength(R){const P=this.projectPoint(R);let O=1/0,I=0;for(let L=0;L<this.points.length;L++){const z=P.distSq(this.points[L].position);z<O&&(O=z,I=L)}return this.points[I].arcLength}getPointAtArcLength(R){const P=(R%this.perimeter+this.perimeter)%this.perimeter,[O,I]=this.findBracket(P,z=>z.arcLength);return this.interpolate(this.points[O],this.points[I],P,z=>z.arcLength).position}getNormal(R){let P=1/0,O=0;for(let I=0;I<this.points.length;I++){const L=R.distSq(this.points[I].position);L<P&&(P=L,O=I)}return this.points[O].normal}}function createBasalGeometry(_,R,P=360){return _===0&&R===0?new StraightLineGeometry:Math.abs(_-R)<1e-10?new CircularGeometry(_,R):new EllipticalGeometry(_,R,P)}var CellPhase=(_=>(_[_.G1=0]="G1",_[_.G2=1]="G2",_[_.Mitosis=2]="Mitosis",_[_.Division=3]="Division",_))(CellPhase||{});function createInitialEHTState(_="default"){return{cells:[],ap_links:[],ba_links:[],t:0,step_count:0,basalGeometry:new StraightLineGeometry,rngSeed:_}}function $constructor(_,R,P){function O(F,G){if(F._zod||Object.defineProperty(F,"_zod",{value:{def:G,constr:z,traits:new Set},enumerable:!1}),F._zod.traits.has(_))return;F._zod.traits.add(_),R(F,G);const V=z.prototype,Z=Object.keys(V);for(let Y=0;Y<Z.length;Y++){const Q=Z[Y];Q in F||(F[Q]=V[Q].bind(F))}}const I=P?.Parent??Object;class L extends I{}Object.defineProperty(L,"name",{value:_});function z(F){var G;const V=P?.Parent?new L:this;O(V,F),(G=V._zod).deferred??(G.deferred=[]);for(const Z of V._zod.deferred)Z();return V}return Object.defineProperty(z,"init",{value:O}),Object.defineProperty(z,Symbol.hasInstance,{value:F=>P?.Parent&&F instanceof P.Parent?!0:F?._zod?.traits?.has(_)}),Object.defineProperty(z,"name",{value:_}),z}class $ZodAsyncError extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class $ZodEncodeError extends Error{constructor(R){super(`Encountered unidirectional transform during encode: ${R}`),this.name="ZodEncodeError"}}const globalConfig={};function config(_){return globalConfig}function getEnumValues(_){const R=Object.values(_).filter(O=>typeof O=="number");return Object.entries(_).filter(([O,I])=>R.indexOf(+O)===-1).map(([O,I])=>I)}function jsonStringifyReplacer(_,R){return typeof R=="bigint"?R.toString():R}function cached(_){return{get value(){{const R=_();return Object.defineProperty(this,"value",{value:R}),R}}}}function nullish(_){return _==null}function cleanRegex(_){const R=_.startsWith("^")?1:0,P=_.endsWith("$")?_.length-1:_.length;return _.slice(R,P)}function floatSafeRemainder(_,R){const P=(_.toString().split(".")[1]||"").length,O=R.toString();let I=(O.split(".")[1]||"").length;if(I===0&&/\d?e-\d?/.test(O)){const G=O.match(/\d?e-(\d?)/);G?.[1]&&(I=Number.parseInt(G[1]))}const L=P>I?P:I,z=Number.parseInt(_.toFixed(L).replace(".","")),F=Number.parseInt(R.toFixed(L).replace(".",""));return z%F/10**L}const EVALUATING=Symbol("evaluating");function defineLazy(_,R,P){let O;Object.defineProperty(_,R,{get(){if(O!==EVALUATING)return O===void 0&&(O=EVALUATING,O=P()),O},set(I){Object.defineProperty(_,R,{value:I})},configurable:!0})}function assignProp(_,R,P){Object.defineProperty(_,R,{value:P,writable:!0,enumerable:!0,configurable:!0})}function mergeDefs(..._){const R={};for(const P of _){const O=Object.getOwnPropertyDescriptors(P);Object.assign(R,O)}return Object.defineProperties({},R)}function esc(_){return JSON.stringify(_)}function slugify(_){return _.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const captureStackTrace="captureStackTrace"in Error?Error.captureStackTrace:(..._)=>{};function isObject$2(_){return typeof _=="object"&&_!==null&&!Array.isArray(_)}const allowsEval=cached(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const _=Function;return new _(""),!0}catch{return!1}});function isPlainObject$2(_){if(isObject$2(_)===!1)return!1;const R=_.constructor;if(R===void 0||typeof R!="function")return!0;const P=R.prototype;return!(isObject$2(P)===!1||Object.prototype.hasOwnProperty.call(P,"isPrototypeOf")===!1)}function shallowClone(_){return isPlainObject$2(_)?{..._}:Array.isArray(_)?[..._]:_}const propertyKeyTypes=new Set(["string","number","symbol"]);function escapeRegex(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function clone(_,R,P){const O=new _._zod.constr(R??_._zod.def);return(!R||P?.parent)&&(O._zod.parent=_),O}function normalizeParams(_){const R=_;if(!R)return{};if(typeof R=="string")return{error:()=>R};if(R?.message!==void 0){if(R?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");R.error=R.message}return delete R.message,typeof R.error=="string"?{...R,error:()=>R.error}:R}function optionalKeys(_){return Object.keys(_).filter(R=>_[R]._zod.optin==="optional"&&_[R]._zod.optout==="optional")}const NUMBER_FORMAT_RANGES={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function pick(_,R){const P=_._zod.def,O=P.checks;if(O&&O.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const L=mergeDefs(_._zod.def,{get shape(){const z={};for(const F in R){if(!(F in P.shape))throw new Error(`Unrecognized key: "${F}"`);R[F]&&(z[F]=P.shape[F])}return assignProp(this,"shape",z),z},checks:[]});return clone(_,L)}function omit(_,R){const P=_._zod.def,O=P.checks;if(O&&O.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const L=mergeDefs(_._zod.def,{get shape(){const z={..._._zod.def.shape};for(const F in R){if(!(F in P.shape))throw new Error(`Unrecognized key: "${F}"`);R[F]&&delete z[F]}return assignProp(this,"shape",z),z},checks:[]});return clone(_,L)}function extend$3(_,R){if(!isPlainObject$2(R))throw new Error("Invalid input to extend: expected a plain object");const P=_._zod.def.checks;if(P&&P.length>0){const L=_._zod.def.shape;for(const z in R)if(Object.getOwnPropertyDescriptor(L,z)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const I=mergeDefs(_._zod.def,{get shape(){const L={..._._zod.def.shape,...R};return assignProp(this,"shape",L),L}});return clone(_,I)}function safeExtend(_,R){if(!isPlainObject$2(R))throw new Error("Invalid input to safeExtend: expected a plain object");const P=mergeDefs(_._zod.def,{get shape(){const O={..._._zod.def.shape,...R};return assignProp(this,"shape",O),O}});return clone(_,P)}function merge$3(_,R){const P=mergeDefs(_._zod.def,{get shape(){const O={..._._zod.def.shape,...R._zod.def.shape};return assignProp(this,"shape",O),O},get catchall(){return R._zod.def.catchall},checks:[]});return clone(_,P)}function partial(_,R,P){const I=R._zod.def.checks;if(I&&I.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const z=mergeDefs(R._zod.def,{get shape(){const F=R._zod.def.shape,G={...F};if(P)for(const V in P){if(!(V in F))throw new Error(`Unrecognized key: "${V}"`);P[V]&&(G[V]=_?new _({type:"optional",innerType:F[V]}):F[V])}else for(const V in F)G[V]=_?new _({type:"optional",innerType:F[V]}):F[V];return assignProp(this,"shape",G),G},checks:[]});return clone(R,z)}function required(_,R,P){const O=mergeDefs(R._zod.def,{get shape(){const I=R._zod.def.shape,L={...I};if(P)for(const z in P){if(!(z in L))throw new Error(`Unrecognized key: "${z}"`);P[z]&&(L[z]=new _({type:"nonoptional",innerType:I[z]}))}else for(const z in I)L[z]=new _({type:"nonoptional",innerType:I[z]});return assignProp(this,"shape",L),L}});return clone(R,O)}function aborted(_,R=0){if(_.aborted===!0)return!0;for(let P=R;P<_.issues.length;P++)if(_.issues[P]?.continue!==!0)return!0;return!1}function prefixIssues(_,R){return R.map(P=>{var O;return(O=P).path??(O.path=[]),P.path.unshift(_),P})}function unwrapMessage(_){return typeof _=="string"?_:_?.message}function finalizeIssue(_,R,P){const O={..._,path:_.path??[]};if(!_.message){const I=unwrapMessage(_.inst?._zod.def?.error?.(_))??unwrapMessage(R?.error?.(_))??unwrapMessage(P.customError?.(_))??unwrapMessage(P.localeError?.(_))??"Invalid input";O.message=I}return delete O.inst,delete O.continue,R?.reportInput||delete O.input,O}function getLengthableOrigin(_){return Array.isArray(_)?"array":typeof _=="string"?"string":"unknown"}function issue(..._){const[R,P,O]=_;return typeof R=="string"?{message:R,code:"custom",input:P,inst:O}:{...R}}const initializer$2=(_,R)=>{_.name="$ZodError",Object.defineProperty(_,"_zod",{value:_._zod,enumerable:!1}),Object.defineProperty(_,"issues",{value:R,enumerable:!1}),_.message=JSON.stringify(R,jsonStringifyReplacer,2),Object.defineProperty(_,"toString",{value:()=>_.message,enumerable:!1})},$ZodError=$constructor("$ZodError",initializer$2),$ZodRealError=$constructor("$ZodError",initializer$2,{Parent:Error});function flattenError(_,R=P=>P.message){const P={},O=[];for(const I of _.issues)I.path.length>0?(P[I.path[0]]=P[I.path[0]]||[],P[I.path[0]].push(R(I))):O.push(R(I));return{formErrors:O,fieldErrors:P}}function formatError(_,R=P=>P.message){const P={_errors:[]},O=I=>{for(const L of I.issues)if(L.code==="invalid_union"&&L.errors.length)L.errors.map(z=>O({issues:z}));else if(L.code==="invalid_key")O({issues:L.issues});else if(L.code==="invalid_element")O({issues:L.issues});else if(L.path.length===0)P._errors.push(R(L));else{let z=P,F=0;for(;F<L.path.length;){const G=L.path[F];F===L.path.length-1?(z[G]=z[G]||{_errors:[]},z[G]._errors.push(R(L))):z[G]=z[G]||{_errors:[]},z=z[G],F++}}};return O(_),P}const _parse=_=>(R,P,O,I)=>{const L=O?Object.assign(O,{async:!1}):{async:!1},z=R._zod.run({value:P,issues:[]},L);if(z instanceof Promise)throw new $ZodAsyncError;if(z.issues.length){const F=new(I?.Err??_)(z.issues.map(G=>finalizeIssue(G,L,config())));throw captureStackTrace(F,I?.callee),F}return z.value},_parseAsync=_=>async(R,P,O,I)=>{const L=O?Object.assign(O,{async:!0}):{async:!0};let z=R._zod.run({value:P,issues:[]},L);if(z instanceof Promise&&(z=await z),z.issues.length){const F=new(I?.Err??_)(z.issues.map(G=>finalizeIssue(G,L,config())));throw captureStackTrace(F,I?.callee),F}return z.value},_safeParse=_=>(R,P,O)=>{const I=O?{...O,async:!1}:{async:!1},L=R._zod.run({value:P,issues:[]},I);if(L instanceof Promise)throw new $ZodAsyncError;return L.issues.length?{success:!1,error:new(_??$ZodError)(L.issues.map(z=>finalizeIssue(z,I,config())))}:{success:!0,data:L.value}},safeParse$1=_safeParse($ZodRealError),_safeParseAsync=_=>async(R,P,O)=>{const I=O?Object.assign(O,{async:!0}):{async:!0};let L=R._zod.run({value:P,issues:[]},I);return L instanceof Promise&&(L=await L),L.issues.length?{success:!1,error:new _(L.issues.map(z=>finalizeIssue(z,I,config())))}:{success:!0,data:L.value}},safeParseAsync$1=_safeParseAsync($ZodRealError),_encode=_=>(R,P,O)=>{const I=O?Object.assign(O,{direction:"backward"}):{direction:"backward"};return _parse(_)(R,P,I)},_decode=_=>(R,P,O)=>_parse(_)(R,P,O),_encodeAsync=_=>async(R,P,O)=>{const I=O?Object.assign(O,{direction:"backward"}):{direction:"backward"};return _parseAsync(_)(R,P,I)},_decodeAsync=_=>async(R,P,O)=>_parseAsync(_)(R,P,O),_safeEncode=_=>(R,P,O)=>{const I=O?Object.assign(O,{direction:"backward"}):{direction:"backward"};return _safeParse(_)(R,P,I)},_safeDecode=_=>(R,P,O)=>_safeParse(_)(R,P,O),_safeEncodeAsync=_=>async(R,P,O)=>{const I=O?Object.assign(O,{direction:"backward"}):{direction:"backward"};return _safeParseAsync(_)(R,P,I)},_safeDecodeAsync=_=>async(R,P,O)=>_safeParseAsync(_)(R,P,O),cuid=/^[cC][^\s-]{8,}$/,cuid2=/^[0-9a-z]+$/,ulid=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,xid=/^[0-9a-vA-V]{20}$/,ksuid=/^[A-Za-z0-9]{27}$/,nanoid=/^[a-zA-Z0-9_-]{21}$/,duration$1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,guid=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,uuid=_=>_?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${_}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,email=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,_emoji$1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function emoji(){return new RegExp(_emoji$1,"u")}const ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,cidrv4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,cidrv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,base64url=/^[A-Za-z0-9_-]*$/,e164=/^\+[1-9]\d{6,14}$/,dateSource="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",date$3=new RegExp(`^${dateSource}$`);function timeSource(_){const R="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof _.precision=="number"?_.precision===-1?`${R}`:_.precision===0?`${R}:[0-5]\\d`:`${R}:[0-5]\\d\\.\\d{${_.precision}}`:`${R}(?::[0-5]\\d(?:\\.\\d+)?)?`}function time$2(_){return new RegExp(`^${timeSource(_)}$`)}function datetime$1(_){const R=timeSource({precision:_.precision}),P=["Z"];_.local&&P.push(""),_.offset&&P.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const O=`${R}(?:${P.join("|")})`;return new RegExp(`^${dateSource}T(?:${O})$`)}const string$4=_=>{const R=_?`[\\s\\S]{${_?.minimum??0},${_?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${R}$`)},integer=/^-?\d+$/,number$7=/^-?\d+(?:\.\d+)?$/,boolean$2=/^(?:true|false)$/i,lowercase=/^[^A-Z]*$/,uppercase$1=/^[^a-z]*$/,$ZodCheck=$constructor("$ZodCheck",(_,R)=>{var P;_._zod??(_._zod={}),_._zod.def=R,(P=_._zod).onattach??(P.onattach=[])}),numericOriginMap={number:"number",bigint:"bigint",object:"date"},$ZodCheckLessThan=$constructor("$ZodCheckLessThan",(_,R)=>{$ZodCheck.init(_,R);const P=numericOriginMap[typeof R.value];_._zod.onattach.push(O=>{const I=O._zod.bag,L=(R.inclusive?I.maximum:I.exclusiveMaximum)??Number.POSITIVE_INFINITY;R.value<L&&(R.inclusive?I.maximum=R.value:I.exclusiveMaximum=R.value)}),_._zod.check=O=>{(R.inclusive?O.value<=R.value:O.value<R.value)||O.issues.push({origin:P,code:"too_big",maximum:typeof R.value=="object"?R.value.getTime():R.value,input:O.value,inclusive:R.inclusive,inst:_,continue:!R.abort})}}),$ZodCheckGreaterThan=$constructor("$ZodCheckGreaterThan",(_,R)=>{$ZodCheck.init(_,R);const P=numericOriginMap[typeof R.value];_._zod.onattach.push(O=>{const I=O._zod.bag,L=(R.inclusive?I.minimum:I.exclusiveMinimum)??Number.NEGATIVE_INFINITY;R.value>L&&(R.inclusive?I.minimum=R.value:I.exclusiveMinimum=R.value)}),_._zod.check=O=>{(R.inclusive?O.value>=R.value:O.value>R.value)||O.issues.push({origin:P,code:"too_small",minimum:typeof R.value=="object"?R.value.getTime():R.value,input:O.value,inclusive:R.inclusive,inst:_,continue:!R.abort})}}),$ZodCheckMultipleOf=$constructor("$ZodCheckMultipleOf",(_,R)=>{$ZodCheck.init(_,R),_._zod.onattach.push(P=>{var O;(O=P._zod.bag).multipleOf??(O.multipleOf=R.value)}),_._zod.check=P=>{if(typeof P.value!=typeof R.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof P.value=="bigint"?P.value%R.value===BigInt(0):floatSafeRemainder(P.value,R.value)===0)||P.issues.push({origin:typeof P.value,code:"not_multiple_of",divisor:R.value,input:P.value,inst:_,continue:!R.abort})}}),$ZodCheckNumberFormat=$constructor("$ZodCheckNumberFormat",(_,R)=>{$ZodCheck.init(_,R),R.format=R.format||"float64";const P=R.format?.includes("int"),O=P?"int":"number",[I,L]=NUMBER_FORMAT_RANGES[R.format];_._zod.onattach.push(z=>{const F=z._zod.bag;F.format=R.format,F.minimum=I,F.maximum=L,P&&(F.pattern=integer)}),_._zod.check=z=>{const F=z.value;if(P){if(!Number.isInteger(F)){z.issues.push({expected:O,format:R.format,code:"invalid_type",continue:!1,input:F,inst:_});return}if(!Number.isSafeInteger(F)){F>0?z.issues.push({input:F,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:_,origin:O,inclusive:!0,continue:!R.abort}):z.issues.push({input:F,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:_,origin:O,inclusive:!0,continue:!R.abort});return}}F<I&&z.issues.push({origin:"number",input:F,code:"too_small",minimum:I,inclusive:!0,inst:_,continue:!R.abort}),F>L&&z.issues.push({origin:"number",input:F,code:"too_big",maximum:L,inclusive:!0,inst:_,continue:!R.abort})}}),$ZodCheckMaxLength=$constructor("$ZodCheckMaxLength",(_,R)=>{var P;$ZodCheck.init(_,R),(P=_._zod.def).when??(P.when=O=>{const I=O.value;return!nullish(I)&&I.length!==void 0}),_._zod.onattach.push(O=>{const I=O._zod.bag.maximum??Number.POSITIVE_INFINITY;R.maximum<I&&(O._zod.bag.maximum=R.maximum)}),_._zod.check=O=>{const I=O.value;if(I.length<=R.maximum)return;const z=getLengthableOrigin(I);O.issues.push({origin:z,code:"too_big",maximum:R.maximum,inclusive:!0,input:I,inst:_,continue:!R.abort})}}),$ZodCheckMinLength=$constructor("$ZodCheckMinLength",(_,R)=>{var P;$ZodCheck.init(_,R),(P=_._zod.def).when??(P.when=O=>{const I=O.value;return!nullish(I)&&I.length!==void 0}),_._zod.onattach.push(O=>{const I=O._zod.bag.minimum??Number.NEGATIVE_INFINITY;R.minimum>I&&(O._zod.bag.minimum=R.minimum)}),_._zod.check=O=>{const I=O.value;if(I.length>=R.minimum)return;const z=getLengthableOrigin(I);O.issues.push({origin:z,code:"too_small",minimum:R.minimum,inclusive:!0,input:I,inst:_,continue:!R.abort})}}),$ZodCheckLengthEquals=$constructor("$ZodCheckLengthEquals",(_,R)=>{var P;$ZodCheck.init(_,R),(P=_._zod.def).when??(P.when=O=>{const I=O.value;return!nullish(I)&&I.length!==void 0}),_._zod.onattach.push(O=>{const I=O._zod.bag;I.minimum=R.length,I.maximum=R.length,I.length=R.length}),_._zod.check=O=>{const I=O.value,L=I.length;if(L===R.length)return;const z=getLengthableOrigin(I),F=L>R.length;O.issues.push({origin:z,...F?{code:"too_big",maximum:R.length}:{code:"too_small",minimum:R.length},inclusive:!0,exact:!0,input:O.value,inst:_,continue:!R.abort})}}),$ZodCheckStringFormat=$constructor("$ZodCheckStringFormat",(_,R)=>{var P,O;$ZodCheck.init(_,R),_._zod.onattach.push(I=>{const L=I._zod.bag;L.format=R.format,R.pattern&&(L.patterns??(L.patterns=new Set),L.patterns.add(R.pattern))}),R.pattern?(P=_._zod).check??(P.check=I=>{R.pattern.lastIndex=0,!R.pattern.test(I.value)&&I.issues.push({origin:"string",code:"invalid_format",format:R.format,input:I.value,...R.pattern?{pattern:R.pattern.toString()}:{},inst:_,continue:!R.abort})}):(O=_._zod).check??(O.check=()=>{})}),$ZodCheckRegex=$constructor("$ZodCheckRegex",(_,R)=>{$ZodCheckStringFormat.init(_,R),_._zod.check=P=>{R.pattern.lastIndex=0,!R.pattern.test(P.value)&&P.issues.push({origin:"string",code:"invalid_format",format:"regex",input:P.value,pattern:R.pattern.toString(),inst:_,continue:!R.abort})}}),$ZodCheckLowerCase=$constructor("$ZodCheckLowerCase",(_,R)=>{R.pattern??(R.pattern=lowercase),$ZodCheckStringFormat.init(_,R)}),$ZodCheckUpperCase=$constructor("$ZodCheckUpperCase",(_,R)=>{R.pattern??(R.pattern=uppercase$1),$ZodCheckStringFormat.init(_,R)}),$ZodCheckIncludes=$constructor("$ZodCheckIncludes",(_,R)=>{$ZodCheck.init(_,R);const P=escapeRegex(R.includes),O=new RegExp(typeof R.position=="number"?`^.{${R.position}}${P}`:P);R.pattern=O,_._zod.onattach.push(I=>{const L=I._zod.bag;L.patterns??(L.patterns=new Set),L.patterns.add(O)}),_._zod.check=I=>{I.value.includes(R.includes,R.position)||I.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:R.includes,input:I.value,inst:_,continue:!R.abort})}}),$ZodCheckStartsWith=$constructor("$ZodCheckStartsWith",(_,R)=>{$ZodCheck.init(_,R);const P=new RegExp(`^${escapeRegex(R.prefix)}.*`);R.pattern??(R.pattern=P),_._zod.onattach.push(O=>{const I=O._zod.bag;I.patterns??(I.patterns=new Set),I.patterns.add(P)}),_._zod.check=O=>{O.value.startsWith(R.prefix)||O.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:R.prefix,input:O.value,inst:_,continue:!R.abort})}}),$ZodCheckEndsWith=$constructor("$ZodCheckEndsWith",(_,R)=>{$ZodCheck.init(_,R);const P=new RegExp(`.*${escapeRegex(R.suffix)}$`);R.pattern??(R.pattern=P),_._zod.onattach.push(O=>{const I=O._zod.bag;I.patterns??(I.patterns=new Set),I.patterns.add(P)}),_._zod.check=O=>{O.value.endsWith(R.suffix)||O.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:R.suffix,input:O.value,inst:_,continue:!R.abort})}}),$ZodCheckOverwrite=$constructor("$ZodCheckOverwrite",(_,R)=>{$ZodCheck.init(_,R),_._zod.check=P=>{P.value=R.tx(P.value)}});class Doc{constructor(R=[]){this.content=[],this.indent=0,this&&(this.args=R)}indented(R){this.indent+=1,R(this),this.indent-=1}write(R){if(typeof R=="function"){R(this,{execution:"sync"}),R(this,{execution:"async"});return}const O=R.split(`
`).filter(z=>z),I=Math.min(...O.map(z=>z.length-z.trimStart().length)),L=O.map(z=>z.slice(I)).map(z=>" ".repeat(this.indent*2)+z);for(const z of L)this.content.push(z)}compile(){const R=Function,P=this?.args,I=[...(this?.content??[""]).map(L=>`  ${L}`)];return new R(...P,I.join(`
`))}}const version$1={major:4,minor:3,patch:5},$ZodType=$constructor("$ZodType",(_,R)=>{var P;_??(_={}),_._zod.def=R,_._zod.bag=_._zod.bag||{},_._zod.version=version$1;const O=[..._._zod.def.checks??[]];_._zod.traits.has("$ZodCheck")&&O.unshift(_);for(const I of O)for(const L of I._zod.onattach)L(_);if(O.length===0)(P=_._zod).deferred??(P.deferred=[]),_._zod.deferred?.push(()=>{_._zod.run=_._zod.parse});else{const I=(z,F,G)=>{let V=aborted(z),Z;for(const Y of F){if(Y._zod.def.when){if(!Y._zod.def.when(z))continue}else if(V)continue;const Q=z.issues.length,J=Y._zod.check(z);if(J instanceof Promise&&G?.async===!1)throw new $ZodAsyncError;if(Z||J instanceof Promise)Z=(Z??Promise.resolve()).then(async()=>{await J,z.issues.length!==Q&&(V||(V=aborted(z,Q)))});else{if(z.issues.length===Q)continue;V||(V=aborted(z,Q))}}return Z?Z.then(()=>z):z},L=(z,F,G)=>{if(aborted(z))return z.aborted=!0,z;const V=I(F,O,G);if(V instanceof Promise){if(G.async===!1)throw new $ZodAsyncError;return V.then(Z=>_._zod.parse(Z,G))}return _._zod.parse(V,G)};_._zod.run=(z,F)=>{if(F.skipChecks)return _._zod.parse(z,F);if(F.direction==="backward"){const V=_._zod.parse({value:z.value,issues:[]},{...F,skipChecks:!0});return V instanceof Promise?V.then(Z=>L(Z,z,F)):L(V,z,F)}const G=_._zod.parse(z,F);if(G instanceof Promise){if(F.async===!1)throw new $ZodAsyncError;return G.then(V=>I(V,O,F))}return I(G,O,F)}}defineLazy(_,"~standard",()=>({validate:I=>{try{const L=safeParse$1(_,I);return L.success?{value:L.data}:{issues:L.error?.issues}}catch{return safeParseAsync$1(_,I).then(z=>z.success?{value:z.data}:{issues:z.error?.issues})}},vendor:"zod",version:1}))}),$ZodString=$constructor("$ZodString",(_,R)=>{$ZodType.init(_,R),_._zod.pattern=[..._?._zod.bag?.patterns??[]].pop()??string$4(_._zod.bag),_._zod.parse=(P,O)=>{if(R.coerce)try{P.value=String(P.value)}catch{}return typeof P.value=="string"||P.issues.push({expected:"string",code:"invalid_type",input:P.value,inst:_}),P}}),$ZodStringFormat=$constructor("$ZodStringFormat",(_,R)=>{$ZodCheckStringFormat.init(_,R),$ZodString.init(_,R)}),$ZodGUID=$constructor("$ZodGUID",(_,R)=>{R.pattern??(R.pattern=guid),$ZodStringFormat.init(_,R)}),$ZodUUID=$constructor("$ZodUUID",(_,R)=>{if(R.version){const O={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[R.version];if(O===void 0)throw new Error(`Invalid UUID version: "${R.version}"`);R.pattern??(R.pattern=uuid(O))}else R.pattern??(R.pattern=uuid());$ZodStringFormat.init(_,R)}),$ZodEmail=$constructor("$ZodEmail",(_,R)=>{R.pattern??(R.pattern=email),$ZodStringFormat.init(_,R)}),$ZodURL=$constructor("$ZodURL",(_,R)=>{$ZodStringFormat.init(_,R),_._zod.check=P=>{try{const O=P.value.trim(),I=new URL(O);R.hostname&&(R.hostname.lastIndex=0,R.hostname.test(I.hostname)||P.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:R.hostname.source,input:P.value,inst:_,continue:!R.abort})),R.protocol&&(R.protocol.lastIndex=0,R.protocol.test(I.protocol.endsWith(":")?I.protocol.slice(0,-1):I.protocol)||P.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:R.protocol.source,input:P.value,inst:_,continue:!R.abort})),R.normalize?P.value=I.href:P.value=O;return}catch{P.issues.push({code:"invalid_format",format:"url",input:P.value,inst:_,continue:!R.abort})}}}),$ZodEmoji=$constructor("$ZodEmoji",(_,R)=>{R.pattern??(R.pattern=emoji()),$ZodStringFormat.init(_,R)}),$ZodNanoID=$constructor("$ZodNanoID",(_,R)=>{R.pattern??(R.pattern=nanoid),$ZodStringFormat.init(_,R)}),$ZodCUID=$constructor("$ZodCUID",(_,R)=>{R.pattern??(R.pattern=cuid),$ZodStringFormat.init(_,R)}),$ZodCUID2=$constructor("$ZodCUID2",(_,R)=>{R.pattern??(R.pattern=cuid2),$ZodStringFormat.init(_,R)}),$ZodULID=$constructor("$ZodULID",(_,R)=>{R.pattern??(R.pattern=ulid),$ZodStringFormat.init(_,R)}),$ZodXID=$constructor("$ZodXID",(_,R)=>{R.pattern??(R.pattern=xid),$ZodStringFormat.init(_,R)}),$ZodKSUID=$constructor("$ZodKSUID",(_,R)=>{R.pattern??(R.pattern=ksuid),$ZodStringFormat.init(_,R)}),$ZodISODateTime=$constructor("$ZodISODateTime",(_,R)=>{R.pattern??(R.pattern=datetime$1(R)),$ZodStringFormat.init(_,R)}),$ZodISODate=$constructor("$ZodISODate",(_,R)=>{R.pattern??(R.pattern=date$3),$ZodStringFormat.init(_,R)}),$ZodISOTime=$constructor("$ZodISOTime",(_,R)=>{R.pattern??(R.pattern=time$2(R)),$ZodStringFormat.init(_,R)}),$ZodISODuration=$constructor("$ZodISODuration",(_,R)=>{R.pattern??(R.pattern=duration$1),$ZodStringFormat.init(_,R)}),$ZodIPv4=$constructor("$ZodIPv4",(_,R)=>{R.pattern??(R.pattern=ipv4),$ZodStringFormat.init(_,R),_._zod.bag.format="ipv4"}),$ZodIPv6=$constructor("$ZodIPv6",(_,R)=>{R.pattern??(R.pattern=ipv6),$ZodStringFormat.init(_,R),_._zod.bag.format="ipv6",_._zod.check=P=>{try{new URL(`http://[${P.value}]`)}catch{P.issues.push({code:"invalid_format",format:"ipv6",input:P.value,inst:_,continue:!R.abort})}}}),$ZodCIDRv4=$constructor("$ZodCIDRv4",(_,R)=>{R.pattern??(R.pattern=cidrv4),$ZodStringFormat.init(_,R)}),$ZodCIDRv6=$constructor("$ZodCIDRv6",(_,R)=>{R.pattern??(R.pattern=cidrv6),$ZodStringFormat.init(_,R),_._zod.check=P=>{const O=P.value.split("/");try{if(O.length!==2)throw new Error;const[I,L]=O;if(!L)throw new Error;const z=Number(L);if(`${z}`!==L)throw new Error;if(z<0||z>128)throw new Error;new URL(`http://[${I}]`)}catch{P.issues.push({code:"invalid_format",format:"cidrv6",input:P.value,inst:_,continue:!R.abort})}}});function isValidBase64(_){if(_==="")return!0;if(_.length%4!==0)return!1;try{return atob(_),!0}catch{return!1}}const $ZodBase64=$constructor("$ZodBase64",(_,R)=>{R.pattern??(R.pattern=base64),$ZodStringFormat.init(_,R),_._zod.bag.contentEncoding="base64",_._zod.check=P=>{isValidBase64(P.value)||P.issues.push({code:"invalid_format",format:"base64",input:P.value,inst:_,continue:!R.abort})}});function isValidBase64URL(_){if(!base64url.test(_))return!1;const R=_.replace(/[-_]/g,O=>O==="-"?"+":"/"),P=R.padEnd(Math.ceil(R.length/4)*4,"=");return isValidBase64(P)}const $ZodBase64URL=$constructor("$ZodBase64URL",(_,R)=>{R.pattern??(R.pattern=base64url),$ZodStringFormat.init(_,R),_._zod.bag.contentEncoding="base64url",_._zod.check=P=>{isValidBase64URL(P.value)||P.issues.push({code:"invalid_format",format:"base64url",input:P.value,inst:_,continue:!R.abort})}}),$ZodE164=$constructor("$ZodE164",(_,R)=>{R.pattern??(R.pattern=e164),$ZodStringFormat.init(_,R)});function isValidJWT(_,R=null){try{const P=_.split(".");if(P.length!==3)return!1;const[O]=P;if(!O)return!1;const I=JSON.parse(atob(O));return!("typ"in I&&I?.typ!=="JWT"||!I.alg||R&&(!("alg"in I)||I.alg!==R))}catch{return!1}}const $ZodJWT=$constructor("$ZodJWT",(_,R)=>{$ZodStringFormat.init(_,R),_._zod.check=P=>{isValidJWT(P.value,R.alg)||P.issues.push({code:"invalid_format",format:"jwt",input:P.value,inst:_,continue:!R.abort})}}),$ZodNumber=$constructor("$ZodNumber",(_,R)=>{$ZodType.init(_,R),_._zod.pattern=_._zod.bag.pattern??number$7,_._zod.parse=(P,O)=>{if(R.coerce)try{P.value=Number(P.value)}catch{}const I=P.value;if(typeof I=="number"&&!Number.isNaN(I)&&Number.isFinite(I))return P;const L=typeof I=="number"?Number.isNaN(I)?"NaN":Number.isFinite(I)?void 0:"Infinity":void 0;return P.issues.push({expected:"number",code:"invalid_type",input:I,inst:_,...L?{received:L}:{}}),P}}),$ZodNumberFormat=$constructor("$ZodNumberFormat",(_,R)=>{$ZodCheckNumberFormat.init(_,R),$ZodNumber.init(_,R)}),$ZodBoolean=$constructor("$ZodBoolean",(_,R)=>{$ZodType.init(_,R),_._zod.pattern=boolean$2,_._zod.parse=(P,O)=>{if(R.coerce)try{P.value=!!P.value}catch{}const I=P.value;return typeof I=="boolean"||P.issues.push({expected:"boolean",code:"invalid_type",input:I,inst:_}),P}}),$ZodUnknown=$constructor("$ZodUnknown",(_,R)=>{$ZodType.init(_,R),_._zod.parse=P=>P}),$ZodNever=$constructor("$ZodNever",(_,R)=>{$ZodType.init(_,R),_._zod.parse=(P,O)=>(P.issues.push({expected:"never",code:"invalid_type",input:P.value,inst:_}),P)});function handleArrayResult(_,R,P){_.issues.length&&R.issues.push(...prefixIssues(P,_.issues)),R.value[P]=_.value}const $ZodArray=$constructor("$ZodArray",(_,R)=>{$ZodType.init(_,R),_._zod.parse=(P,O)=>{const I=P.value;if(!Array.isArray(I))return P.issues.push({expected:"array",code:"invalid_type",input:I,inst:_}),P;P.value=Array(I.length);const L=[];for(let z=0;z<I.length;z++){const F=I[z],G=R.element._zod.run({value:F,issues:[]},O);G instanceof Promise?L.push(G.then(V=>handleArrayResult(V,P,z))):handleArrayResult(G,P,z)}return L.length?Promise.all(L).then(()=>P):P}});function handlePropertyResult(_,R,P,O,I){if(_.issues.length){if(I&&!(P in O))return;R.issues.push(...prefixIssues(P,_.issues))}_.value===void 0?P in O&&(R.value[P]=void 0):R.value[P]=_.value}function normalizeDef(_){const R=Object.keys(_.shape);for(const O of R)if(!_.shape?.[O]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${O}": expected a Zod schema`);const P=optionalKeys(_.shape);return{..._,keys:R,keySet:new Set(R),numKeys:R.length,optionalKeys:new Set(P)}}function handleCatchall(_,R,P,O,I,L){const z=[],F=I.keySet,G=I.catchall._zod,V=G.def.type,Z=G.optout==="optional";for(const Y in R){if(F.has(Y))continue;if(V==="never"){z.push(Y);continue}const Q=G.run({value:R[Y],issues:[]},O);Q instanceof Promise?_.push(Q.then(J=>handlePropertyResult(J,P,Y,R,Z))):handlePropertyResult(Q,P,Y,R,Z)}return z.length&&P.issues.push({code:"unrecognized_keys",keys:z,input:R,inst:L}),_.length?Promise.all(_).then(()=>P):P}const $ZodObject=$constructor("$ZodObject",(_,R)=>{if($ZodType.init(_,R),!Object.getOwnPropertyDescriptor(R,"shape")?.get){const F=R.shape;Object.defineProperty(R,"shape",{get:()=>{const G={...F};return Object.defineProperty(R,"shape",{value:G}),G}})}const O=cached(()=>normalizeDef(R));defineLazy(_._zod,"propValues",()=>{const F=R.shape,G={};for(const V in F){const Z=F[V]._zod;if(Z.values){G[V]??(G[V]=new Set);for(const Y of Z.values)G[V].add(Y)}}return G});const I=isObject$2,L=R.catchall;let z;_._zod.parse=(F,G)=>{z??(z=O.value);const V=F.value;if(!I(V))return F.issues.push({expected:"object",code:"invalid_type",input:V,inst:_}),F;F.value={};const Z=[],Y=z.shape;for(const Q of z.keys){const J=Y[Q],te=J._zod.optout==="optional",ne=J._zod.run({value:V[Q],issues:[]},G);ne instanceof Promise?Z.push(ne.then(ie=>handlePropertyResult(ie,F,Q,V,te))):handlePropertyResult(ne,F,Q,V,te)}return L?handleCatchall(Z,V,F,G,O.value,_):Z.length?Promise.all(Z).then(()=>F):F}}),$ZodObjectJIT=$constructor("$ZodObjectJIT",(_,R)=>{$ZodObject.init(_,R);const P=_._zod.parse,O=cached(()=>normalizeDef(R)),I=Q=>{const J=new Doc(["shape","payload","ctx"]),te=O.value,ne=ce=>{const ue=esc(ce);return`shape[${ue}]._zod.run({ value: input[${ue}], issues: [] }, ctx)`};J.write("const input = payload.value;");const ie=Object.create(null);let se=0;for(const ce of te.keys)ie[ce]=`key_${se++}`;J.write("const newResult = {};");for(const ce of te.keys){const ue=ie[ce],me=esc(ce),fe=Q[ce]?._zod?.optout==="optional";J.write(`const ${ue} = ${ne(ce)};`),fe?J.write(`
        if (${ue}.issues.length) {
          if (${me} in input) {
            payload.issues = payload.issues.concat(${ue}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${me}, ...iss.path] : [${me}]
            })));
          }
        }
        
        if (${ue}.value === undefined) {
          if (${me} in input) {
            newResult[${me}] = undefined;
          }
        } else {
          newResult[${me}] = ${ue}.value;
        }
        
      `):J.write(`
        if (${ue}.issues.length) {
          payload.issues = payload.issues.concat(${ue}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${me}, ...iss.path] : [${me}]
          })));
        }
        
        if (${ue}.value === undefined) {
          if (${me} in input) {
            newResult[${me}] = undefined;
          }
        } else {
          newResult[${me}] = ${ue}.value;
        }
        
      `)}J.write("payload.value = newResult;"),J.write("return payload;");const oe=J.compile();return(ce,ue)=>oe(Q,ce,ue)};let L;const z=isObject$2,F=!globalConfig.jitless,V=F&&allowsEval.value,Z=R.catchall;let Y;_._zod.parse=(Q,J)=>{Y??(Y=O.value);const te=Q.value;return z(te)?F&&V&&J?.async===!1&&J.jitless!==!0?(L||(L=I(R.shape)),Q=L(Q,J),Z?handleCatchall([],te,Q,J,Y,_):Q):P(Q,J):(Q.issues.push({expected:"object",code:"invalid_type",input:te,inst:_}),Q)}});function handleUnionResults(_,R,P,O){for(const L of _)if(L.issues.length===0)return R.value=L.value,R;const I=_.filter(L=>!aborted(L));return I.length===1?(R.value=I[0].value,I[0]):(R.issues.push({code:"invalid_union",input:R.value,inst:P,errors:_.map(L=>L.issues.map(z=>finalizeIssue(z,O,config())))}),R)}const $ZodUnion=$constructor("$ZodUnion",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"optin",()=>R.options.some(I=>I._zod.optin==="optional")?"optional":void 0),defineLazy(_._zod,"optout",()=>R.options.some(I=>I._zod.optout==="optional")?"optional":void 0),defineLazy(_._zod,"values",()=>{if(R.options.every(I=>I._zod.values))return new Set(R.options.flatMap(I=>Array.from(I._zod.values)))}),defineLazy(_._zod,"pattern",()=>{if(R.options.every(I=>I._zod.pattern)){const I=R.options.map(L=>L._zod.pattern);return new RegExp(`^(${I.map(L=>cleanRegex(L.source)).join("|")})$`)}});const P=R.options.length===1,O=R.options[0]._zod.run;_._zod.parse=(I,L)=>{if(P)return O(I,L);let z=!1;const F=[];for(const G of R.options){const V=G._zod.run({value:I.value,issues:[]},L);if(V instanceof Promise)F.push(V),z=!0;else{if(V.issues.length===0)return V;F.push(V)}}return z?Promise.all(F).then(G=>handleUnionResults(G,I,_,L)):handleUnionResults(F,I,_,L)}}),$ZodIntersection=$constructor("$ZodIntersection",(_,R)=>{$ZodType.init(_,R),_._zod.parse=(P,O)=>{const I=P.value,L=R.left._zod.run({value:I,issues:[]},O),z=R.right._zod.run({value:I,issues:[]},O);return L instanceof Promise||z instanceof Promise?Promise.all([L,z]).then(([G,V])=>handleIntersectionResults(P,G,V)):handleIntersectionResults(P,L,z)}});function mergeValues(_,R){if(_===R)return{valid:!0,data:_};if(_ instanceof Date&&R instanceof Date&&+_==+R)return{valid:!0,data:_};if(isPlainObject$2(_)&&isPlainObject$2(R)){const P=Object.keys(R),O=Object.keys(_).filter(L=>P.indexOf(L)!==-1),I={..._,...R};for(const L of O){const z=mergeValues(_[L],R[L]);if(!z.valid)return{valid:!1,mergeErrorPath:[L,...z.mergeErrorPath]};I[L]=z.data}return{valid:!0,data:I}}if(Array.isArray(_)&&Array.isArray(R)){if(_.length!==R.length)return{valid:!1,mergeErrorPath:[]};const P=[];for(let O=0;O<_.length;O++){const I=_[O],L=R[O],z=mergeValues(I,L);if(!z.valid)return{valid:!1,mergeErrorPath:[O,...z.mergeErrorPath]};P.push(z.data)}return{valid:!0,data:P}}return{valid:!1,mergeErrorPath:[]}}function handleIntersectionResults(_,R,P){const O=new Map;let I;for(const F of R.issues)if(F.code==="unrecognized_keys"){I??(I=F);for(const G of F.keys)O.has(G)||O.set(G,{}),O.get(G).l=!0}else _.issues.push(F);for(const F of P.issues)if(F.code==="unrecognized_keys")for(const G of F.keys)O.has(G)||O.set(G,{}),O.get(G).r=!0;else _.issues.push(F);const L=[...O].filter(([,F])=>F.l&&F.r).map(([F])=>F);if(L.length&&I&&_.issues.push({...I,keys:L}),aborted(_))return _;const z=mergeValues(R.value,P.value);if(!z.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(z.mergeErrorPath)}`);return _.value=z.data,_}const $ZodTuple=$constructor("$ZodTuple",(_,R)=>{$ZodType.init(_,R);const P=R.items;_._zod.parse=(O,I)=>{const L=O.value;if(!Array.isArray(L))return O.issues.push({input:L,inst:_,expected:"tuple",code:"invalid_type"}),O;O.value=[];const z=[],F=[...P].reverse().findIndex(Z=>Z._zod.optin!=="optional"),G=F===-1?0:P.length-F;if(!R.rest){const Z=L.length>P.length,Y=L.length<G-1;if(Z||Y)return O.issues.push({...Z?{code:"too_big",maximum:P.length,inclusive:!0}:{code:"too_small",minimum:P.length},input:L,inst:_,origin:"array"}),O}let V=-1;for(const Z of P){if(V++,V>=L.length&&V>=G)continue;const Y=Z._zod.run({value:L[V],issues:[]},I);Y instanceof Promise?z.push(Y.then(Q=>handleTupleResult(Q,O,V))):handleTupleResult(Y,O,V)}if(R.rest){const Z=L.slice(P.length);for(const Y of Z){V++;const Q=R.rest._zod.run({value:Y,issues:[]},I);Q instanceof Promise?z.push(Q.then(J=>handleTupleResult(J,O,V))):handleTupleResult(Q,O,V)}}return z.length?Promise.all(z).then(()=>O):O}});function handleTupleResult(_,R,P){_.issues.length&&R.issues.push(...prefixIssues(P,_.issues)),R.value[P]=_.value}const $ZodRecord=$constructor("$ZodRecord",(_,R)=>{$ZodType.init(_,R),_._zod.parse=(P,O)=>{const I=P.value;if(!isPlainObject$2(I))return P.issues.push({expected:"record",code:"invalid_type",input:I,inst:_}),P;const L=[],z=R.keyType._zod.values;if(z){P.value={};const F=new Set;for(const V of z)if(typeof V=="string"||typeof V=="number"||typeof V=="symbol"){F.add(typeof V=="number"?V.toString():V);const Z=R.valueType._zod.run({value:I[V],issues:[]},O);Z instanceof Promise?L.push(Z.then(Y=>{Y.issues.length&&P.issues.push(...prefixIssues(V,Y.issues)),P.value[V]=Y.value})):(Z.issues.length&&P.issues.push(...prefixIssues(V,Z.issues)),P.value[V]=Z.value)}let G;for(const V in I)F.has(V)||(G=G??[],G.push(V));G&&G.length>0&&P.issues.push({code:"unrecognized_keys",input:I,inst:_,keys:G})}else{P.value={};for(const F of Reflect.ownKeys(I)){if(F==="__proto__")continue;let G=R.keyType._zod.run({value:F,issues:[]},O);if(G instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof F=="string"&&number$7.test(F)&&G.issues.length&&G.issues.some(Y=>Y.code==="invalid_type"&&Y.expected==="number")){const Y=R.keyType._zod.run({value:Number(F),issues:[]},O);if(Y instanceof Promise)throw new Error("Async schemas not supported in object keys currently");Y.issues.length===0&&(G=Y)}if(G.issues.length){R.mode==="loose"?P.value[F]=I[F]:P.issues.push({code:"invalid_key",origin:"record",issues:G.issues.map(Y=>finalizeIssue(Y,O,config())),input:F,path:[F],inst:_});continue}const Z=R.valueType._zod.run({value:I[F],issues:[]},O);Z instanceof Promise?L.push(Z.then(Y=>{Y.issues.length&&P.issues.push(...prefixIssues(F,Y.issues)),P.value[G.value]=Y.value})):(Z.issues.length&&P.issues.push(...prefixIssues(F,Z.issues)),P.value[G.value]=Z.value)}}return L.length?Promise.all(L).then(()=>P):P}}),$ZodEnum=$constructor("$ZodEnum",(_,R)=>{$ZodType.init(_,R);const P=getEnumValues(R.entries),O=new Set(P);_._zod.values=O,_._zod.pattern=new RegExp(`^(${P.filter(I=>propertyKeyTypes.has(typeof I)).map(I=>typeof I=="string"?escapeRegex(I):I.toString()).join("|")})$`),_._zod.parse=(I,L)=>{const z=I.value;return O.has(z)||I.issues.push({code:"invalid_value",values:P,input:z,inst:_}),I}}),$ZodLiteral=$constructor("$ZodLiteral",(_,R)=>{if($ZodType.init(_,R),R.values.length===0)throw new Error("Cannot create literal schema with no valid values");const P=new Set(R.values);_._zod.values=P,_._zod.pattern=new RegExp(`^(${R.values.map(O=>typeof O=="string"?escapeRegex(O):O?escapeRegex(O.toString()):String(O)).join("|")})$`),_._zod.parse=(O,I)=>{const L=O.value;return P.has(L)||O.issues.push({code:"invalid_value",values:R.values,input:L,inst:_}),O}}),$ZodTransform=$constructor("$ZodTransform",(_,R)=>{$ZodType.init(_,R),_._zod.parse=(P,O)=>{if(O.direction==="backward")throw new $ZodEncodeError(_.constructor.name);const I=R.transform(P.value,P);if(O.async)return(I instanceof Promise?I:Promise.resolve(I)).then(z=>(P.value=z,P));if(I instanceof Promise)throw new $ZodAsyncError;return P.value=I,P}});function handleOptionalResult(_,R){return _.issues.length&&R===void 0?{issues:[],value:void 0}:_}const $ZodOptional=$constructor("$ZodOptional",(_,R)=>{$ZodType.init(_,R),_._zod.optin="optional",_._zod.optout="optional",defineLazy(_._zod,"values",()=>R.innerType._zod.values?new Set([...R.innerType._zod.values,void 0]):void 0),defineLazy(_._zod,"pattern",()=>{const P=R.innerType._zod.pattern;return P?new RegExp(`^(${cleanRegex(P.source)})?$`):void 0}),_._zod.parse=(P,O)=>{if(R.innerType._zod.optin==="optional"){const I=R.innerType._zod.run(P,O);return I instanceof Promise?I.then(L=>handleOptionalResult(L,P.value)):handleOptionalResult(I,P.value)}return P.value===void 0?P:R.innerType._zod.run(P,O)}}),$ZodExactOptional=$constructor("$ZodExactOptional",(_,R)=>{$ZodOptional.init(_,R),defineLazy(_._zod,"values",()=>R.innerType._zod.values),defineLazy(_._zod,"pattern",()=>R.innerType._zod.pattern),_._zod.parse=(P,O)=>R.innerType._zod.run(P,O)}),$ZodNullable=$constructor("$ZodNullable",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"optin",()=>R.innerType._zod.optin),defineLazy(_._zod,"optout",()=>R.innerType._zod.optout),defineLazy(_._zod,"pattern",()=>{const P=R.innerType._zod.pattern;return P?new RegExp(`^(${cleanRegex(P.source)}|null)$`):void 0}),defineLazy(_._zod,"values",()=>R.innerType._zod.values?new Set([...R.innerType._zod.values,null]):void 0),_._zod.parse=(P,O)=>P.value===null?P:R.innerType._zod.run(P,O)}),$ZodDefault=$constructor("$ZodDefault",(_,R)=>{$ZodType.init(_,R),_._zod.optin="optional",defineLazy(_._zod,"values",()=>R.innerType._zod.values),_._zod.parse=(P,O)=>{if(O.direction==="backward")return R.innerType._zod.run(P,O);if(P.value===void 0)return P.value=R.defaultValue,P;const I=R.innerType._zod.run(P,O);return I instanceof Promise?I.then(L=>handleDefaultResult(L,R)):handleDefaultResult(I,R)}});function handleDefaultResult(_,R){return _.value===void 0&&(_.value=R.defaultValue),_}const $ZodPrefault=$constructor("$ZodPrefault",(_,R)=>{$ZodType.init(_,R),_._zod.optin="optional",defineLazy(_._zod,"values",()=>R.innerType._zod.values),_._zod.parse=(P,O)=>(O.direction==="backward"||P.value===void 0&&(P.value=R.defaultValue),R.innerType._zod.run(P,O))}),$ZodNonOptional=$constructor("$ZodNonOptional",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"values",()=>{const P=R.innerType._zod.values;return P?new Set([...P].filter(O=>O!==void 0)):void 0}),_._zod.parse=(P,O)=>{const I=R.innerType._zod.run(P,O);return I instanceof Promise?I.then(L=>handleNonOptionalResult(L,_)):handleNonOptionalResult(I,_)}});function handleNonOptionalResult(_,R){return!_.issues.length&&_.value===void 0&&_.issues.push({code:"invalid_type",expected:"nonoptional",input:_.value,inst:R}),_}const $ZodCatch=$constructor("$ZodCatch",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"optin",()=>R.innerType._zod.optin),defineLazy(_._zod,"optout",()=>R.innerType._zod.optout),defineLazy(_._zod,"values",()=>R.innerType._zod.values),_._zod.parse=(P,O)=>{if(O.direction==="backward")return R.innerType._zod.run(P,O);const I=R.innerType._zod.run(P,O);return I instanceof Promise?I.then(L=>(P.value=L.value,L.issues.length&&(P.value=R.catchValue({...P,error:{issues:L.issues.map(z=>finalizeIssue(z,O,config()))},input:P.value}),P.issues=[]),P)):(P.value=I.value,I.issues.length&&(P.value=R.catchValue({...P,error:{issues:I.issues.map(L=>finalizeIssue(L,O,config()))},input:P.value}),P.issues=[]),P)}}),$ZodPipe=$constructor("$ZodPipe",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"values",()=>R.in._zod.values),defineLazy(_._zod,"optin",()=>R.in._zod.optin),defineLazy(_._zod,"optout",()=>R.out._zod.optout),defineLazy(_._zod,"propValues",()=>R.in._zod.propValues),_._zod.parse=(P,O)=>{if(O.direction==="backward"){const L=R.out._zod.run(P,O);return L instanceof Promise?L.then(z=>handlePipeResult(z,R.in,O)):handlePipeResult(L,R.in,O)}const I=R.in._zod.run(P,O);return I instanceof Promise?I.then(L=>handlePipeResult(L,R.out,O)):handlePipeResult(I,R.out,O)}});function handlePipeResult(_,R,P){return _.issues.length?(_.aborted=!0,_):R._zod.run({value:_.value,issues:_.issues},P)}const $ZodReadonly=$constructor("$ZodReadonly",(_,R)=>{$ZodType.init(_,R),defineLazy(_._zod,"propValues",()=>R.innerType._zod.propValues),defineLazy(_._zod,"values",()=>R.innerType._zod.values),defineLazy(_._zod,"optin",()=>R.innerType?._zod?.optin),defineLazy(_._zod,"optout",()=>R.innerType?._zod?.optout),_._zod.parse=(P,O)=>{if(O.direction==="backward")return R.innerType._zod.run(P,O);const I=R.innerType._zod.run(P,O);return I instanceof Promise?I.then(handleReadonlyResult):handleReadonlyResult(I)}});function handleReadonlyResult(_){return _.value=Object.freeze(_.value),_}const $ZodCustom=$constructor("$ZodCustom",(_,R)=>{$ZodCheck.init(_,R),$ZodType.init(_,R),_._zod.parse=(P,O)=>P,_._zod.check=P=>{const O=P.value,I=R.fn(O);if(I instanceof Promise)return I.then(L=>handleRefineResult(L,P,O,_));handleRefineResult(I,P,O,_)}});function handleRefineResult(_,R,P,O){if(!_){const I={code:"custom",input:P,inst:O,path:[...O._zod.def.path??[]],continue:!O._zod.def.abort};O._zod.def.params&&(I.params=O._zod.def.params),R.issues.push(issue(I))}}var _a;class $ZodRegistry{constructor(){this._map=new WeakMap,this._idmap=new Map}add(R,...P){const O=P[0];return this._map.set(R,O),O&&typeof O=="object"&&"id"in O&&this._idmap.set(O.id,R),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(R){const P=this._map.get(R);return P&&typeof P=="object"&&"id"in P&&this._idmap.delete(P.id),this._map.delete(R),this}get(R){const P=R._zod.parent;if(P){const O={...this.get(P)??{}};delete O.id;const I={...O,...this._map.get(R)};return Object.keys(I).length?I:void 0}return this._map.get(R)}has(R){return this._map.has(R)}}function registry$1(){return new $ZodRegistry}(_a=globalThis).__zod_globalRegistry??(_a.__zod_globalRegistry=registry$1());const globalRegistry=globalThis.__zod_globalRegistry;function _string(_,R){return new _({type:"string",...normalizeParams(R)})}function _email(_,R){return new _({type:"string",format:"email",check:"string_format",abort:!1,...normalizeParams(R)})}function _guid(_,R){return new _({type:"string",format:"guid",check:"string_format",abort:!1,...normalizeParams(R)})}function _uuid(_,R){return new _({type:"string",format:"uuid",check:"string_format",abort:!1,...normalizeParams(R)})}function _uuidv4(_,R){return new _({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...normalizeParams(R)})}function _uuidv6(_,R){return new _({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...normalizeParams(R)})}function _uuidv7(_,R){return new _({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...normalizeParams(R)})}function _url(_,R){return new _({type:"string",format:"url",check:"string_format",abort:!1,...normalizeParams(R)})}function _emoji(_,R){return new _({type:"string",format:"emoji",check:"string_format",abort:!1,...normalizeParams(R)})}function _nanoid(_,R){return new _({type:"string",format:"nanoid",check:"string_format",abort:!1,...normalizeParams(R)})}function _cuid(_,R){return new _({type:"string",format:"cuid",check:"string_format",abort:!1,...normalizeParams(R)})}function _cuid2(_,R){return new _({type:"string",format:"cuid2",check:"string_format",abort:!1,...normalizeParams(R)})}function _ulid(_,R){return new _({type:"string",format:"ulid",check:"string_format",abort:!1,...normalizeParams(R)})}function _xid(_,R){return new _({type:"string",format:"xid",check:"string_format",abort:!1,...normalizeParams(R)})}function _ksuid(_,R){return new _({type:"string",format:"ksuid",check:"string_format",abort:!1,...normalizeParams(R)})}function _ipv4(_,R){return new _({type:"string",format:"ipv4",check:"string_format",abort:!1,...normalizeParams(R)})}function _ipv6(_,R){return new _({type:"string",format:"ipv6",check:"string_format",abort:!1,...normalizeParams(R)})}function _cidrv4(_,R){return new _({type:"string",format:"cidrv4",check:"string_format",abort:!1,...normalizeParams(R)})}function _cidrv6(_,R){return new _({type:"string",format:"cidrv6",check:"string_format",abort:!1,...normalizeParams(R)})}function _base64(_,R){return new _({type:"string",format:"base64",check:"string_format",abort:!1,...normalizeParams(R)})}function _base64url(_,R){return new _({type:"string",format:"base64url",check:"string_format",abort:!1,...normalizeParams(R)})}function _e164(_,R){return new _({type:"string",format:"e164",check:"string_format",abort:!1,...normalizeParams(R)})}function _jwt(_,R){return new _({type:"string",format:"jwt",check:"string_format",abort:!1,...normalizeParams(R)})}function _isoDateTime(_,R){return new _({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...normalizeParams(R)})}function _isoDate(_,R){return new _({type:"string",format:"date",check:"string_format",...normalizeParams(R)})}function _isoTime(_,R){return new _({type:"string",format:"time",check:"string_format",precision:null,...normalizeParams(R)})}function _isoDuration(_,R){return new _({type:"string",format:"duration",check:"string_format",...normalizeParams(R)})}function _number(_,R){return new _({type:"number",checks:[],...normalizeParams(R)})}function _int(_,R){return new _({type:"number",check:"number_format",abort:!1,format:"safeint",...normalizeParams(R)})}function _boolean(_,R){return new _({type:"boolean",...normalizeParams(R)})}function _unknown(_){return new _({type:"unknown"})}function _never(_,R){return new _({type:"never",...normalizeParams(R)})}function _lt(_,R){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(R),value:_,inclusive:!1})}function _lte(_,R){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(R),value:_,inclusive:!0})}function _gt(_,R){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(R),value:_,inclusive:!1})}function _gte(_,R){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(R),value:_,inclusive:!0})}function _multipleOf(_,R){return new $ZodCheckMultipleOf({check:"multiple_of",...normalizeParams(R),value:_})}function _maxLength(_,R){return new $ZodCheckMaxLength({check:"max_length",...normalizeParams(R),maximum:_})}function _minLength(_,R){return new $ZodCheckMinLength({check:"min_length",...normalizeParams(R),minimum:_})}function _length(_,R){return new $ZodCheckLengthEquals({check:"length_equals",...normalizeParams(R),length:_})}function _regex(_,R){return new $ZodCheckRegex({check:"string_format",format:"regex",...normalizeParams(R),pattern:_})}function _lowercase(_){return new $ZodCheckLowerCase({check:"string_format",format:"lowercase",...normalizeParams(_)})}function _uppercase(_){return new $ZodCheckUpperCase({check:"string_format",format:"uppercase",...normalizeParams(_)})}function _includes(_,R){return new $ZodCheckIncludes({check:"string_format",format:"includes",...normalizeParams(R),includes:_})}function _startsWith(_,R){return new $ZodCheckStartsWith({check:"string_format",format:"starts_with",...normalizeParams(R),prefix:_})}function _endsWith(_,R){return new $ZodCheckEndsWith({check:"string_format",format:"ends_with",...normalizeParams(R),suffix:_})}function _overwrite(_){return new $ZodCheckOverwrite({check:"overwrite",tx:_})}function _normalize(_){return _overwrite(R=>R.normalize(_))}function _trim(){return _overwrite(_=>_.trim())}function _toLowerCase(){return _overwrite(_=>_.toLowerCase())}function _toUpperCase(){return _overwrite(_=>_.toUpperCase())}function _slugify(){return _overwrite(_=>slugify(_))}function _array(_,R,P){return new _({type:"array",element:R,...normalizeParams(P)})}function _refine(_,R,P){return new _({type:"custom",check:"custom",fn:R,...normalizeParams(P)})}function _superRefine(_){const R=_check(P=>(P.addIssue=O=>{if(typeof O=="string")P.issues.push(issue(O,P.value,R._zod.def));else{const I=O;I.fatal&&(I.continue=!1),I.code??(I.code="custom"),I.input??(I.input=P.value),I.inst??(I.inst=R),I.continue??(I.continue=!R._zod.def.abort),P.issues.push(issue(I))}},_(P.value,P)));return R}function _check(_,R){const P=new $ZodCheck({check:"custom",...normalizeParams(R)});return P._zod.check=_,P}function initializeContext(_){let R=_?.target??"draft-2020-12";return R==="draft-4"&&(R="draft-04"),R==="draft-7"&&(R="draft-07"),{processors:_.processors??{},metadataRegistry:_?.metadata??globalRegistry,target:R,unrepresentable:_?.unrepresentable??"throw",override:_?.override??(()=>{}),io:_?.io??"output",counter:0,seen:new Map,cycles:_?.cycles??"ref",reused:_?.reused??"inline",external:_?.external??void 0}}function process$1(_,R,P={path:[],schemaPath:[]}){var O;const I=_._zod.def,L=R.seen.get(_);if(L)return L.count++,P.schemaPath.includes(_)&&(L.cycle=P.path),L.schema;const z={schema:{},count:1,cycle:void 0,path:P.path};R.seen.set(_,z);const F=_._zod.toJSONSchema?.();if(F)z.schema=F;else{const Z={...P,schemaPath:[...P.schemaPath,_],path:P.path};if(_._zod.processJSONSchema)_._zod.processJSONSchema(R,z.schema,Z);else{const Q=z.schema,J=R.processors[I.type];if(!J)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${I.type}`);J(_,R,Q,Z)}const Y=_._zod.parent;Y&&(z.ref||(z.ref=Y),process$1(Y,R,Z),R.seen.get(Y).isParent=!0)}const G=R.metadataRegistry.get(_);return G&&Object.assign(z.schema,G),R.io==="input"&&isTransforming(_)&&(delete z.schema.examples,delete z.schema.default),R.io==="input"&&z.schema._prefault&&((O=z.schema).default??(O.default=z.schema._prefault)),delete z.schema._prefault,R.seen.get(_).schema}function extractDefs(_,R){const P=_.seen.get(R);if(!P)throw new Error("Unprocessed schema. This is a bug in Zod.");const O=new Map;for(const z of _.seen.entries()){const F=_.metadataRegistry.get(z[0])?.id;if(F){const G=O.get(F);if(G&&G!==z[0])throw new Error(`Duplicate schema id "${F}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);O.set(F,z[0])}}const I=z=>{const F=_.target==="draft-2020-12"?"$defs":"definitions";if(_.external){const Y=_.external.registry.get(z[0])?.id,Q=_.external.uri??(te=>te);if(Y)return{ref:Q(Y)};const J=z[1].defId??z[1].schema.id??`schema${_.counter++}`;return z[1].defId=J,{defId:J,ref:`${Q("__shared")}#/${F}/${J}`}}if(z[1]===P)return{ref:"#"};const V=`#/${F}/`,Z=z[1].schema.id??`__schema${_.counter++}`;return{defId:Z,ref:V+Z}},L=z=>{if(z[1].schema.$ref)return;const F=z[1],{ref:G,defId:V}=I(z);F.def={...F.schema},V&&(F.defId=V);const Z=F.schema;for(const Y in Z)delete Z[Y];Z.$ref=G};if(_.cycles==="throw")for(const z of _.seen.entries()){const F=z[1];if(F.cycle)throw new Error(`Cycle detected: #/${F.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const z of _.seen.entries()){const F=z[1];if(R===z[0]){L(z);continue}if(_.external){const V=_.external.registry.get(z[0])?.id;if(R!==z[0]&&V){L(z);continue}}if(_.metadataRegistry.get(z[0])?.id){L(z);continue}if(F.cycle){L(z);continue}if(F.count>1&&_.reused==="ref"){L(z);continue}}}function finalize(_,R){const P=_.seen.get(R);if(!P)throw new Error("Unprocessed schema. This is a bug in Zod.");const O=z=>{const F=_.seen.get(z);if(F.ref===null)return;const G=F.def??F.schema,V={...G},Z=F.ref;if(F.ref=null,Z){O(Z);const Q=_.seen.get(Z),J=Q.schema;if(J.$ref&&(_.target==="draft-07"||_.target==="draft-04"||_.target==="openapi-3.0")?(G.allOf=G.allOf??[],G.allOf.push(J)):Object.assign(G,J),Object.assign(G,V),z._zod.parent===Z)for(const ne in G)ne==="$ref"||ne==="allOf"||ne in V||delete G[ne];if(J.$ref)for(const ne in G)ne==="$ref"||ne==="allOf"||ne in Q.def&&JSON.stringify(G[ne])===JSON.stringify(Q.def[ne])&&delete G[ne]}const Y=z._zod.parent;if(Y&&Y!==Z){O(Y);const Q=_.seen.get(Y);if(Q?.schema.$ref&&(G.$ref=Q.schema.$ref,Q.def))for(const J in G)J==="$ref"||J==="allOf"||J in Q.def&&JSON.stringify(G[J])===JSON.stringify(Q.def[J])&&delete G[J]}_.override({zodSchema:z,jsonSchema:G,path:F.path??[]})};for(const z of[..._.seen.entries()].reverse())O(z[0]);const I={};if(_.target==="draft-2020-12"?I.$schema="https://json-schema.org/draft/2020-12/schema":_.target==="draft-07"?I.$schema="http://json-schema.org/draft-07/schema#":_.target==="draft-04"?I.$schema="http://json-schema.org/draft-04/schema#":_.target,_.external?.uri){const z=_.external.registry.get(R)?.id;if(!z)throw new Error("Schema is missing an `id` property");I.$id=_.external.uri(z)}Object.assign(I,P.def??P.schema);const L=_.external?.defs??{};for(const z of _.seen.entries()){const F=z[1];F.def&&F.defId&&(L[F.defId]=F.def)}_.external||Object.keys(L).length>0&&(_.target==="draft-2020-12"?I.$defs=L:I.definitions=L);try{const z=JSON.parse(JSON.stringify(I));return Object.defineProperty(z,"~standard",{value:{...R["~standard"],jsonSchema:{input:createStandardJSONSchemaMethod(R,"input",_.processors),output:createStandardJSONSchemaMethod(R,"output",_.processors)}},enumerable:!1,writable:!1}),z}catch{throw new Error("Error converting schema to JSON.")}}function isTransforming(_,R){const P=R??{seen:new Set};if(P.seen.has(_))return!1;P.seen.add(_);const O=_._zod.def;if(O.type==="transform")return!0;if(O.type==="array")return isTransforming(O.element,P);if(O.type==="set")return isTransforming(O.valueType,P);if(O.type==="lazy")return isTransforming(O.getter(),P);if(O.type==="promise"||O.type==="optional"||O.type==="nonoptional"||O.type==="nullable"||O.type==="readonly"||O.type==="default"||O.type==="prefault")return isTransforming(O.innerType,P);if(O.type==="intersection")return isTransforming(O.left,P)||isTransforming(O.right,P);if(O.type==="record"||O.type==="map")return isTransforming(O.keyType,P)||isTransforming(O.valueType,P);if(O.type==="pipe")return isTransforming(O.in,P)||isTransforming(O.out,P);if(O.type==="object"){for(const I in O.shape)if(isTransforming(O.shape[I],P))return!0;return!1}if(O.type==="union"){for(const I of O.options)if(isTransforming(I,P))return!0;return!1}if(O.type==="tuple"){for(const I of O.items)if(isTransforming(I,P))return!0;return!!(O.rest&&isTransforming(O.rest,P))}return!1}const createToJSONSchemaMethod=(_,R={})=>P=>{const O=initializeContext({...P,processors:R});return process$1(_,O),extractDefs(O,_),finalize(O,_)},createStandardJSONSchemaMethod=(_,R,P={})=>O=>{const{libraryOptions:I,target:L}=O??{},z=initializeContext({...I??{},target:L,io:R,processors:P});return process$1(_,z),extractDefs(z,_),finalize(z,_)},formatMap={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},stringProcessor=(_,R,P,O)=>{const I=P;I.type="string";const{minimum:L,maximum:z,format:F,patterns:G,contentEncoding:V}=_._zod.bag;if(typeof L=="number"&&(I.minLength=L),typeof z=="number"&&(I.maxLength=z),F&&(I.format=formatMap[F]??F,I.format===""&&delete I.format,F==="time"&&delete I.format),V&&(I.contentEncoding=V),G&&G.size>0){const Z=[...G];Z.length===1?I.pattern=Z[0].source:Z.length>1&&(I.allOf=[...Z.map(Y=>({...R.target==="draft-07"||R.target==="draft-04"||R.target==="openapi-3.0"?{type:"string"}:{},pattern:Y.source}))])}},numberProcessor=(_,R,P,O)=>{const I=P,{minimum:L,maximum:z,format:F,multipleOf:G,exclusiveMaximum:V,exclusiveMinimum:Z}=_._zod.bag;typeof F=="string"&&F.includes("int")?I.type="integer":I.type="number",typeof Z=="number"&&(R.target==="draft-04"||R.target==="openapi-3.0"?(I.minimum=Z,I.exclusiveMinimum=!0):I.exclusiveMinimum=Z),typeof L=="number"&&(I.minimum=L,typeof Z=="number"&&R.target!=="draft-04"&&(Z>=L?delete I.minimum:delete I.exclusiveMinimum)),typeof V=="number"&&(R.target==="draft-04"||R.target==="openapi-3.0"?(I.maximum=V,I.exclusiveMaximum=!0):I.exclusiveMaximum=V),typeof z=="number"&&(I.maximum=z,typeof V=="number"&&R.target!=="draft-04"&&(V<=z?delete I.maximum:delete I.exclusiveMaximum)),typeof G=="number"&&(I.multipleOf=G)},booleanProcessor=(_,R,P,O)=>{P.type="boolean"},neverProcessor=(_,R,P,O)=>{P.not={}},unknownProcessor=(_,R,P,O)=>{},enumProcessor=(_,R,P,O)=>{const I=_._zod.def,L=getEnumValues(I.entries);L.every(z=>typeof z=="number")&&(P.type="number"),L.every(z=>typeof z=="string")&&(P.type="string"),P.enum=L},literalProcessor=(_,R,P,O)=>{const I=_._zod.def,L=[];for(const z of I.values)if(z===void 0){if(R.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof z=="bigint"){if(R.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");L.push(Number(z))}else L.push(z);if(L.length!==0)if(L.length===1){const z=L[0];P.type=z===null?"null":typeof z,R.target==="draft-04"||R.target==="openapi-3.0"?P.enum=[z]:P.const=z}else L.every(z=>typeof z=="number")&&(P.type="number"),L.every(z=>typeof z=="string")&&(P.type="string"),L.every(z=>typeof z=="boolean")&&(P.type="boolean"),L.every(z=>z===null)&&(P.type="null"),P.enum=L},customProcessor=(_,R,P,O)=>{if(R.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},transformProcessor=(_,R,P,O)=>{if(R.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},arrayProcessor=(_,R,P,O)=>{const I=P,L=_._zod.def,{minimum:z,maximum:F}=_._zod.bag;typeof z=="number"&&(I.minItems=z),typeof F=="number"&&(I.maxItems=F),I.type="array",I.items=process$1(L.element,R,{...O,path:[...O.path,"items"]})},objectProcessor=(_,R,P,O)=>{const I=P,L=_._zod.def;I.type="object",I.properties={};const z=L.shape;for(const V in z)I.properties[V]=process$1(z[V],R,{...O,path:[...O.path,"properties",V]});const F=new Set(Object.keys(z)),G=new Set([...F].filter(V=>{const Z=L.shape[V]._zod;return R.io==="input"?Z.optin===void 0:Z.optout===void 0}));G.size>0&&(I.required=Array.from(G)),L.catchall?._zod.def.type==="never"?I.additionalProperties=!1:L.catchall?L.catchall&&(I.additionalProperties=process$1(L.catchall,R,{...O,path:[...O.path,"additionalProperties"]})):R.io==="output"&&(I.additionalProperties=!1)},unionProcessor=(_,R,P,O)=>{const I=_._zod.def,L=I.inclusive===!1,z=I.options.map((F,G)=>process$1(F,R,{...O,path:[...O.path,L?"oneOf":"anyOf",G]}));L?P.oneOf=z:P.anyOf=z},intersectionProcessor=(_,R,P,O)=>{const I=_._zod.def,L=process$1(I.left,R,{...O,path:[...O.path,"allOf",0]}),z=process$1(I.right,R,{...O,path:[...O.path,"allOf",1]}),F=V=>"allOf"in V&&Object.keys(V).length===1,G=[...F(L)?L.allOf:[L],...F(z)?z.allOf:[z]];P.allOf=G},tupleProcessor=(_,R,P,O)=>{const I=P,L=_._zod.def;I.type="array";const z=R.target==="draft-2020-12"?"prefixItems":"items",F=R.target==="draft-2020-12"||R.target==="openapi-3.0"?"items":"additionalItems",G=L.items.map((Q,J)=>process$1(Q,R,{...O,path:[...O.path,z,J]})),V=L.rest?process$1(L.rest,R,{...O,path:[...O.path,F,...R.target==="openapi-3.0"?[L.items.length]:[]]}):null;R.target==="draft-2020-12"?(I.prefixItems=G,V&&(I.items=V)):R.target==="openapi-3.0"?(I.items={anyOf:G},V&&I.items.anyOf.push(V),I.minItems=G.length,V||(I.maxItems=G.length)):(I.items=G,V&&(I.additionalItems=V));const{minimum:Z,maximum:Y}=_._zod.bag;typeof Z=="number"&&(I.minItems=Z),typeof Y=="number"&&(I.maxItems=Y)},recordProcessor=(_,R,P,O)=>{const I=P,L=_._zod.def;I.type="object";const z=L.keyType,G=z._zod.bag?.patterns;if(L.mode==="loose"&&G&&G.size>0){const Z=process$1(L.valueType,R,{...O,path:[...O.path,"patternProperties","*"]});I.patternProperties={};for(const Y of G)I.patternProperties[Y.source]=Z}else(R.target==="draft-07"||R.target==="draft-2020-12")&&(I.propertyNames=process$1(L.keyType,R,{...O,path:[...O.path,"propertyNames"]})),I.additionalProperties=process$1(L.valueType,R,{...O,path:[...O.path,"additionalProperties"]});const V=z._zod.values;if(V){const Z=[...V].filter(Y=>typeof Y=="string"||typeof Y=="number");Z.length>0&&(I.required=Z)}},nullableProcessor=(_,R,P,O)=>{const I=_._zod.def,L=process$1(I.innerType,R,O),z=R.seen.get(_);R.target==="openapi-3.0"?(z.ref=I.innerType,P.nullable=!0):P.anyOf=[L,{type:"null"}]},nonoptionalProcessor=(_,R,P,O)=>{const I=_._zod.def;process$1(I.innerType,R,O);const L=R.seen.get(_);L.ref=I.innerType},defaultProcessor=(_,R,P,O)=>{const I=_._zod.def;process$1(I.innerType,R,O);const L=R.seen.get(_);L.ref=I.innerType,P.default=JSON.parse(JSON.stringify(I.defaultValue))},prefaultProcessor=(_,R,P,O)=>{const I=_._zod.def;process$1(I.innerType,R,O);const L=R.seen.get(_);L.ref=I.innerType,R.io==="input"&&(P._prefault=JSON.parse(JSON.stringify(I.defaultValue)))},catchProcessor=(_,R,P,O)=>{const I=_._zod.def;process$1(I.innerType,R,O);const L=R.seen.get(_);L.ref=I.innerType;let z;try{z=I.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}P.default=z},pipeProcessor=(_,R,P,O)=>{const I=_._zod.def,L=R.io==="input"?I.in._zod.def.type==="transform"?I.out:I.in:I.out;process$1(L,R,O);const z=R.seen.get(_);z.ref=L},readonlyProcessor=(_,R,P,O)=>{const I=_._zod.def;process$1(I.innerType,R,O);const L=R.seen.get(_);L.ref=I.innerType,P.readOnly=!0},optionalProcessor=(_,R,P,O)=>{const I=_._zod.def;process$1(I.innerType,R,O);const L=R.seen.get(_);L.ref=I.innerType},ZodISODateTime=$constructor("ZodISODateTime",(_,R)=>{$ZodISODateTime.init(_,R),ZodStringFormat.init(_,R)});function datetime(_){return _isoDateTime(ZodISODateTime,_)}const ZodISODate=$constructor("ZodISODate",(_,R)=>{$ZodISODate.init(_,R),ZodStringFormat.init(_,R)});function date$2(_){return _isoDate(ZodISODate,_)}const ZodISOTime=$constructor("ZodISOTime",(_,R)=>{$ZodISOTime.init(_,R),ZodStringFormat.init(_,R)});function time$1(_){return _isoTime(ZodISOTime,_)}const ZodISODuration=$constructor("ZodISODuration",(_,R)=>{$ZodISODuration.init(_,R),ZodStringFormat.init(_,R)});function duration(_){return _isoDuration(ZodISODuration,_)}const initializer$1=(_,R)=>{$ZodError.init(_,R),_.name="ZodError",Object.defineProperties(_,{format:{value:P=>formatError(_,P)},flatten:{value:P=>flattenError(_,P)},addIssue:{value:P=>{_.issues.push(P),_.message=JSON.stringify(_.issues,jsonStringifyReplacer,2)}},addIssues:{value:P=>{_.issues.push(...P),_.message=JSON.stringify(_.issues,jsonStringifyReplacer,2)}},isEmpty:{get(){return _.issues.length===0}}})},ZodRealError=$constructor("ZodError",initializer$1,{Parent:Error}),parse$7=_parse(ZodRealError),parseAsync=_parseAsync(ZodRealError),safeParse=_safeParse(ZodRealError),safeParseAsync=_safeParseAsync(ZodRealError),encode=_encode(ZodRealError),decode$1=_decode(ZodRealError),encodeAsync=_encodeAsync(ZodRealError),decodeAsync=_decodeAsync(ZodRealError),safeEncode=_safeEncode(ZodRealError),safeDecode=_safeDecode(ZodRealError),safeEncodeAsync=_safeEncodeAsync(ZodRealError),safeDecodeAsync=_safeDecodeAsync(ZodRealError),ZodType=$constructor("ZodType",(_,R)=>($ZodType.init(_,R),Object.assign(_["~standard"],{jsonSchema:{input:createStandardJSONSchemaMethod(_,"input"),output:createStandardJSONSchemaMethod(_,"output")}}),_.toJSONSchema=createToJSONSchemaMethod(_,{}),_.def=R,_.type=R.type,Object.defineProperty(_,"_def",{value:R}),_.check=(...P)=>_.clone(mergeDefs(R,{checks:[...R.checks??[],...P.map(O=>typeof O=="function"?{_zod:{check:O,def:{check:"custom"},onattach:[]}}:O)]}),{parent:!0}),_.with=_.check,_.clone=(P,O)=>clone(_,P,O),_.brand=()=>_,_.register=((P,O)=>(P.add(_,O),_)),_.parse=(P,O)=>parse$7(_,P,O,{callee:_.parse}),_.safeParse=(P,O)=>safeParse(_,P,O),_.parseAsync=async(P,O)=>parseAsync(_,P,O,{callee:_.parseAsync}),_.safeParseAsync=async(P,O)=>safeParseAsync(_,P,O),_.spa=_.safeParseAsync,_.encode=(P,O)=>encode(_,P,O),_.decode=(P,O)=>decode$1(_,P,O),_.encodeAsync=async(P,O)=>encodeAsync(_,P,O),_.decodeAsync=async(P,O)=>decodeAsync(_,P,O),_.safeEncode=(P,O)=>safeEncode(_,P,O),_.safeDecode=(P,O)=>safeDecode(_,P,O),_.safeEncodeAsync=async(P,O)=>safeEncodeAsync(_,P,O),_.safeDecodeAsync=async(P,O)=>safeDecodeAsync(_,P,O),_.refine=(P,O)=>_.check(refine(P,O)),_.superRefine=P=>_.check(superRefine(P)),_.overwrite=P=>_.check(_overwrite(P)),_.optional=()=>optional(_),_.exactOptional=()=>exactOptional(_),_.nullable=()=>nullable(_),_.nullish=()=>optional(nullable(_)),_.nonoptional=P=>nonoptional(_,P),_.array=()=>array$2(_),_.or=P=>union([_,P]),_.and=P=>intersection(_,P),_.transform=P=>pipe(_,transform$1(P)),_.default=P=>_default(_,P),_.prefault=P=>prefault(_,P),_.catch=P=>_catch(_,P),_.pipe=P=>pipe(_,P),_.readonly=()=>readonly(_),_.describe=P=>{const O=_.clone();return globalRegistry.add(O,{description:P}),O},Object.defineProperty(_,"description",{get(){return globalRegistry.get(_)?.description},configurable:!0}),_.meta=(...P)=>{if(P.length===0)return globalRegistry.get(_);const O=_.clone();return globalRegistry.add(O,P[0]),O},_.isOptional=()=>_.safeParse(void 0).success,_.isNullable=()=>_.safeParse(null).success,_.apply=P=>P(_),_)),_ZodString=$constructor("_ZodString",(_,R)=>{$ZodString.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,L)=>stringProcessor(_,O,I);const P=_._zod.bag;_.format=P.format??null,_.minLength=P.minimum??null,_.maxLength=P.maximum??null,_.regex=(...O)=>_.check(_regex(...O)),_.includes=(...O)=>_.check(_includes(...O)),_.startsWith=(...O)=>_.check(_startsWith(...O)),_.endsWith=(...O)=>_.check(_endsWith(...O)),_.min=(...O)=>_.check(_minLength(...O)),_.max=(...O)=>_.check(_maxLength(...O)),_.length=(...O)=>_.check(_length(...O)),_.nonempty=(...O)=>_.check(_minLength(1,...O)),_.lowercase=O=>_.check(_lowercase(O)),_.uppercase=O=>_.check(_uppercase(O)),_.trim=()=>_.check(_trim()),_.normalize=(...O)=>_.check(_normalize(...O)),_.toLowerCase=()=>_.check(_toLowerCase()),_.toUpperCase=()=>_.check(_toUpperCase()),_.slugify=()=>_.check(_slugify())}),ZodString=$constructor("ZodString",(_,R)=>{$ZodString.init(_,R),_ZodString.init(_,R),_.email=P=>_.check(_email(ZodEmail,P)),_.url=P=>_.check(_url(ZodURL,P)),_.jwt=P=>_.check(_jwt(ZodJWT,P)),_.emoji=P=>_.check(_emoji(ZodEmoji,P)),_.guid=P=>_.check(_guid(ZodGUID,P)),_.uuid=P=>_.check(_uuid(ZodUUID,P)),_.uuidv4=P=>_.check(_uuidv4(ZodUUID,P)),_.uuidv6=P=>_.check(_uuidv6(ZodUUID,P)),_.uuidv7=P=>_.check(_uuidv7(ZodUUID,P)),_.nanoid=P=>_.check(_nanoid(ZodNanoID,P)),_.guid=P=>_.check(_guid(ZodGUID,P)),_.cuid=P=>_.check(_cuid(ZodCUID,P)),_.cuid2=P=>_.check(_cuid2(ZodCUID2,P)),_.ulid=P=>_.check(_ulid(ZodULID,P)),_.base64=P=>_.check(_base64(ZodBase64,P)),_.base64url=P=>_.check(_base64url(ZodBase64URL,P)),_.xid=P=>_.check(_xid(ZodXID,P)),_.ksuid=P=>_.check(_ksuid(ZodKSUID,P)),_.ipv4=P=>_.check(_ipv4(ZodIPv4,P)),_.ipv6=P=>_.check(_ipv6(ZodIPv6,P)),_.cidrv4=P=>_.check(_cidrv4(ZodCIDRv4,P)),_.cidrv6=P=>_.check(_cidrv6(ZodCIDRv6,P)),_.e164=P=>_.check(_e164(ZodE164,P)),_.datetime=P=>_.check(datetime(P)),_.date=P=>_.check(date$2(P)),_.time=P=>_.check(time$1(P)),_.duration=P=>_.check(duration(P))});function string$3(_){return _string(ZodString,_)}const ZodStringFormat=$constructor("ZodStringFormat",(_,R)=>{$ZodStringFormat.init(_,R),_ZodString.init(_,R)}),ZodEmail=$constructor("ZodEmail",(_,R)=>{$ZodEmail.init(_,R),ZodStringFormat.init(_,R)}),ZodGUID=$constructor("ZodGUID",(_,R)=>{$ZodGUID.init(_,R),ZodStringFormat.init(_,R)}),ZodUUID=$constructor("ZodUUID",(_,R)=>{$ZodUUID.init(_,R),ZodStringFormat.init(_,R)}),ZodURL=$constructor("ZodURL",(_,R)=>{$ZodURL.init(_,R),ZodStringFormat.init(_,R)}),ZodEmoji=$constructor("ZodEmoji",(_,R)=>{$ZodEmoji.init(_,R),ZodStringFormat.init(_,R)}),ZodNanoID=$constructor("ZodNanoID",(_,R)=>{$ZodNanoID.init(_,R),ZodStringFormat.init(_,R)}),ZodCUID=$constructor("ZodCUID",(_,R)=>{$ZodCUID.init(_,R),ZodStringFormat.init(_,R)}),ZodCUID2=$constructor("ZodCUID2",(_,R)=>{$ZodCUID2.init(_,R),ZodStringFormat.init(_,R)}),ZodULID=$constructor("ZodULID",(_,R)=>{$ZodULID.init(_,R),ZodStringFormat.init(_,R)}),ZodXID=$constructor("ZodXID",(_,R)=>{$ZodXID.init(_,R),ZodStringFormat.init(_,R)}),ZodKSUID=$constructor("ZodKSUID",(_,R)=>{$ZodKSUID.init(_,R),ZodStringFormat.init(_,R)}),ZodIPv4=$constructor("ZodIPv4",(_,R)=>{$ZodIPv4.init(_,R),ZodStringFormat.init(_,R)}),ZodIPv6=$constructor("ZodIPv6",(_,R)=>{$ZodIPv6.init(_,R),ZodStringFormat.init(_,R)}),ZodCIDRv4=$constructor("ZodCIDRv4",(_,R)=>{$ZodCIDRv4.init(_,R),ZodStringFormat.init(_,R)}),ZodCIDRv6=$constructor("ZodCIDRv6",(_,R)=>{$ZodCIDRv6.init(_,R),ZodStringFormat.init(_,R)}),ZodBase64=$constructor("ZodBase64",(_,R)=>{$ZodBase64.init(_,R),ZodStringFormat.init(_,R)}),ZodBase64URL=$constructor("ZodBase64URL",(_,R)=>{$ZodBase64URL.init(_,R),ZodStringFormat.init(_,R)}),ZodE164=$constructor("ZodE164",(_,R)=>{$ZodE164.init(_,R),ZodStringFormat.init(_,R)}),ZodJWT=$constructor("ZodJWT",(_,R)=>{$ZodJWT.init(_,R),ZodStringFormat.init(_,R)}),ZodNumber=$constructor("ZodNumber",(_,R)=>{$ZodNumber.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,L)=>numberProcessor(_,O,I),_.gt=(O,I)=>_.check(_gt(O,I)),_.gte=(O,I)=>_.check(_gte(O,I)),_.min=(O,I)=>_.check(_gte(O,I)),_.lt=(O,I)=>_.check(_lt(O,I)),_.lte=(O,I)=>_.check(_lte(O,I)),_.max=(O,I)=>_.check(_lte(O,I)),_.int=O=>_.check(int(O)),_.safe=O=>_.check(int(O)),_.positive=O=>_.check(_gt(0,O)),_.nonnegative=O=>_.check(_gte(0,O)),_.negative=O=>_.check(_lt(0,O)),_.nonpositive=O=>_.check(_lte(0,O)),_.multipleOf=(O,I)=>_.check(_multipleOf(O,I)),_.step=(O,I)=>_.check(_multipleOf(O,I)),_.finite=()=>_;const P=_._zod.bag;_.minValue=Math.max(P.minimum??Number.NEGATIVE_INFINITY,P.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,_.maxValue=Math.min(P.maximum??Number.POSITIVE_INFINITY,P.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,_.isInt=(P.format??"").includes("int")||Number.isSafeInteger(P.multipleOf??.5),_.isFinite=!0,_.format=P.format??null});function number$6(_){return _number(ZodNumber,_)}const ZodNumberFormat=$constructor("ZodNumberFormat",(_,R)=>{$ZodNumberFormat.init(_,R),ZodNumber.init(_,R)});function int(_){return _int(ZodNumberFormat,_)}const ZodBoolean=$constructor("ZodBoolean",(_,R)=>{$ZodBoolean.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>booleanProcessor(_,P,O)});function boolean$1(_){return _boolean(ZodBoolean,_)}const ZodUnknown=$constructor("ZodUnknown",(_,R)=>{$ZodUnknown.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>unknownProcessor()});function unknown(){return _unknown(ZodUnknown)}const ZodNever=$constructor("ZodNever",(_,R)=>{$ZodNever.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>neverProcessor(_,P,O)});function never(_){return _never(ZodNever,_)}const ZodArray=$constructor("ZodArray",(_,R)=>{$ZodArray.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>arrayProcessor(_,P,O,I),_.element=R.element,_.min=(P,O)=>_.check(_minLength(P,O)),_.nonempty=P=>_.check(_minLength(1,P)),_.max=(P,O)=>_.check(_maxLength(P,O)),_.length=(P,O)=>_.check(_length(P,O)),_.unwrap=()=>_.element});function array$2(_,R){return _array(ZodArray,_,R)}const ZodObject=$constructor("ZodObject",(_,R)=>{$ZodObjectJIT.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>objectProcessor(_,P,O,I),defineLazy(_,"shape",()=>R.shape),_.keyof=()=>_enum(Object.keys(_._zod.def.shape)),_.catchall=P=>_.clone({..._._zod.def,catchall:P}),_.passthrough=()=>_.clone({..._._zod.def,catchall:unknown()}),_.loose=()=>_.clone({..._._zod.def,catchall:unknown()}),_.strict=()=>_.clone({..._._zod.def,catchall:never()}),_.strip=()=>_.clone({..._._zod.def,catchall:void 0}),_.extend=P=>extend$3(_,P),_.safeExtend=P=>safeExtend(_,P),_.merge=P=>merge$3(_,P),_.pick=P=>pick(_,P),_.omit=P=>omit(_,P),_.partial=(...P)=>partial(ZodOptional,_,P[0]),_.required=(...P)=>required(ZodNonOptional,_,P[0])});function object$1(_,R){const P={type:"object",shape:_??{},...normalizeParams(R)};return new ZodObject(P)}const ZodUnion=$constructor("ZodUnion",(_,R)=>{$ZodUnion.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>unionProcessor(_,P,O,I),_.options=R.options});function union(_,R){return new ZodUnion({type:"union",options:_,...normalizeParams(R)})}const ZodIntersection=$constructor("ZodIntersection",(_,R)=>{$ZodIntersection.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>intersectionProcessor(_,P,O,I)});function intersection(_,R){return new ZodIntersection({type:"intersection",left:_,right:R})}const ZodTuple=$constructor("ZodTuple",(_,R)=>{$ZodTuple.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>tupleProcessor(_,P,O,I),_.rest=P=>_.clone({..._._zod.def,rest:P})});function tuple(_,R,P){const O=R instanceof $ZodType,I=O?P:R,L=O?R:null;return new ZodTuple({type:"tuple",items:_,rest:L,...normalizeParams(I)})}const ZodRecord=$constructor("ZodRecord",(_,R)=>{$ZodRecord.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>recordProcessor(_,P,O,I),_.keyType=R.keyType,_.valueType=R.valueType});function record(_,R,P){return new ZodRecord({type:"record",keyType:_,valueType:R,...normalizeParams(P)})}const ZodEnum=$constructor("ZodEnum",(_,R)=>{$ZodEnum.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(O,I,L)=>enumProcessor(_,O,I),_.enum=R.entries,_.options=Object.values(R.entries);const P=new Set(Object.keys(R.entries));_.extract=(O,I)=>{const L={};for(const z of O)if(P.has(z))L[z]=R.entries[z];else throw new Error(`Key ${z} not found in enum`);return new ZodEnum({...R,checks:[],...normalizeParams(I),entries:L})},_.exclude=(O,I)=>{const L={...R.entries};for(const z of O)if(P.has(z))delete L[z];else throw new Error(`Key ${z} not found in enum`);return new ZodEnum({...R,checks:[],...normalizeParams(I),entries:L})}});function _enum(_,R){const P=Array.isArray(_)?Object.fromEntries(_.map(O=>[O,O])):_;return new ZodEnum({type:"enum",entries:P,...normalizeParams(R)})}const ZodLiteral=$constructor("ZodLiteral",(_,R)=>{$ZodLiteral.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>literalProcessor(_,P,O),_.values=new Set(R.values),Object.defineProperty(_,"value",{get(){if(R.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return R.values[0]}})});function literal(_,R){return new ZodLiteral({type:"literal",values:Array.isArray(_)?_:[_],...normalizeParams(R)})}const ZodTransform=$constructor("ZodTransform",(_,R)=>{$ZodTransform.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>transformProcessor(_,P),_._zod.parse=(P,O)=>{if(O.direction==="backward")throw new $ZodEncodeError(_.constructor.name);P.addIssue=L=>{if(typeof L=="string")P.issues.push(issue(L,P.value,R));else{const z=L;z.fatal&&(z.continue=!1),z.code??(z.code="custom"),z.input??(z.input=P.value),z.inst??(z.inst=_),P.issues.push(issue(z))}};const I=R.transform(P.value,P);return I instanceof Promise?I.then(L=>(P.value=L,P)):(P.value=I,P)}});function transform$1(_){return new ZodTransform({type:"transform",transform:_})}const ZodOptional=$constructor("ZodOptional",(_,R)=>{$ZodOptional.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>optionalProcessor(_,P,O,I),_.unwrap=()=>_._zod.def.innerType});function optional(_){return new ZodOptional({type:"optional",innerType:_})}const ZodExactOptional=$constructor("ZodExactOptional",(_,R)=>{$ZodExactOptional.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>optionalProcessor(_,P,O,I),_.unwrap=()=>_._zod.def.innerType});function exactOptional(_){return new ZodExactOptional({type:"optional",innerType:_})}const ZodNullable=$constructor("ZodNullable",(_,R)=>{$ZodNullable.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>nullableProcessor(_,P,O,I),_.unwrap=()=>_._zod.def.innerType});function nullable(_){return new ZodNullable({type:"nullable",innerType:_})}const ZodDefault=$constructor("ZodDefault",(_,R)=>{$ZodDefault.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>defaultProcessor(_,P,O,I),_.unwrap=()=>_._zod.def.innerType,_.removeDefault=_.unwrap});function _default(_,R){return new ZodDefault({type:"default",innerType:_,get defaultValue(){return typeof R=="function"?R():shallowClone(R)}})}const ZodPrefault=$constructor("ZodPrefault",(_,R)=>{$ZodPrefault.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>prefaultProcessor(_,P,O,I),_.unwrap=()=>_._zod.def.innerType});function prefault(_,R){return new ZodPrefault({type:"prefault",innerType:_,get defaultValue(){return typeof R=="function"?R():shallowClone(R)}})}const ZodNonOptional=$constructor("ZodNonOptional",(_,R)=>{$ZodNonOptional.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>nonoptionalProcessor(_,P,O,I),_.unwrap=()=>_._zod.def.innerType});function nonoptional(_,R){return new ZodNonOptional({type:"nonoptional",innerType:_,...normalizeParams(R)})}const ZodCatch=$constructor("ZodCatch",(_,R)=>{$ZodCatch.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>catchProcessor(_,P,O,I),_.unwrap=()=>_._zod.def.innerType,_.removeCatch=_.unwrap});function _catch(_,R){return new ZodCatch({type:"catch",innerType:_,catchValue:typeof R=="function"?R:()=>R})}const ZodPipe=$constructor("ZodPipe",(_,R)=>{$ZodPipe.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>pipeProcessor(_,P,O,I),_.in=R.in,_.out=R.out});function pipe(_,R){return new ZodPipe({type:"pipe",in:_,out:R})}const ZodReadonly=$constructor("ZodReadonly",(_,R)=>{$ZodReadonly.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>readonlyProcessor(_,P,O,I),_.unwrap=()=>_._zod.def.innerType});function readonly(_){return new ZodReadonly({type:"readonly",innerType:_})}const ZodCustom=$constructor("ZodCustom",(_,R)=>{$ZodCustom.init(_,R),ZodType.init(_,R),_._zod.processJSONSchema=(P,O,I)=>customProcessor(_,P)});function refine(_,R={}){return _refine(ZodCustom,_,R)}function superRefine(_){return _superRefine(_)}const metadataSchema$1=object$1({model:string$3(),version:string$3()}),rgbColorSchema=object$1({r:number$6().min(0).max(255),g:number$6().min(0).max(255),b:number$6().min(0).max(255)});object$1({min:number$6(),max:number$6()});const emtEventTimesSchema=object$1({time_A_start:number$6(),time_A_end:number$6(),time_B_start:number$6(),time_B_end:number$6(),time_S_start:number$6(),time_S_end:number$6(),time_P_start:number$6(),time_P_end:number$6()}),ehtCellTypeSchema=object$1({N_init:number$6().int().nonnegative(),location:string$3(),R_hard:number$6().positive(),R_hard_div:number$6().positive(),R_soft:number$6().positive(),color:rgbColorSchema,dur_G2:number$6().nonnegative(),dur_mitosis:number$6().nonnegative(),k_apical_junction:number$6().nonnegative(),k_cytos:number$6().nonnegative(),max_cytoskeleton_length:number$6().nonnegative(),run:number$6().min(0).max(1),running_speed:number$6().nonnegative(),running_mode:number$6().int().min(0).max(3),stiffness_apical_apical:number$6().nonnegative(),stiffness_apical_apical_div:number$6().nonnegative(),stiffness_nuclei_apical:number$6().nonnegative(),stiffness_nuclei_basal:number$6().nonnegative(),stiffness_repulsion:number$6().nonnegative(),stiffness_straightness:number$6().nonnegative(),lifespan_start:number$6(),lifespan_end:number$6(),INM:number$6().min(0).max(1),hetero:boolean$1(),events:emtEventTimesSchema,diffusion:number$6().nonnegative(),basal_damping_ratio:number$6().nonnegative(),max_basal_junction_dist:number$6().positive(),cytos_init:number$6().nonnegative(),basal_membrane_repulsion:number$6().nonnegative(),apical_junction_init:number$6().nonnegative()}),ehtGeneralParamsSchema=object$1({t_end:number$6().positive(),dt:number$6().positive(),random_seed:number$6().int(),full_circle:boolean$1(),w_init:number$6().positive(),h_init:number$6().positive(),mu:number$6().positive(),n_substeps:number$6().int().positive(),alg_dt:number$6().positive(),w_screen:number$6().positive(),h_screen:number$6().positive(),p_div_out:number$6().min(0).max(1),perimeter:number$6().positive(),aspect_ratio:number$6(),hard_sphere_nuclei:boolean$1()}),ehtCellPropertyParamsSchema=object$1({}),ehtCellTypesMapSchema=record(string$3(),ehtCellTypeSchema),ehtParamsSchema=object$1({metadata:metadataSchema$1,general:ehtGeneralParamsSchema,cell_prop:ehtCellPropertyParamsSchema,cell_types:ehtCellTypesMapSchema}),partialMetadataSchema=metadataSchema$1.partial(),partialEhtGeneralParamsSchema=ehtGeneralParamsSchema.partial(),partialEhtCellPropertyParamsSchema=ehtCellPropertyParamsSchema.partial(),partialEhtCellTypeSchema=ehtCellTypeSchema.partial();object$1({metadata:partialMetadataSchema.optional(),general:partialEhtGeneralParamsSchema.optional(),cell_prop:partialEhtCellPropertyParamsSchema.optional(),cell_types:record(string$3(),partialEhtCellTypeSchema).optional()});const __vite_glob_0_0=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 54
dt = 0.1
random_seed = 0
full_circle = false
w_init = 10
h_init = 8
mu = 0.2
n_substeps = 40
alg_dt = 0.05
w_screen = 15
h_screen = 0
p_div_out = 0.8
perimeter = 20
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 45
location = ""
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308

[cell_types.emt]
N_init = 0
location = "bottom"
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 0.5
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255

  [cell_types.emt.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_1=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 54
dt = 0.1
random_seed = 0
full_circle = false
w_init = 10
h_init = 8
mu = 0.2
n_substeps = 40
alg_dt = 0.05
w_screen = 15
h_screen = 0
p_div_out = 0.8
perimeter = 20
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 50
location = ""
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308

[cell_types.emt]
N_init = 1
location = "bottom"
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 1
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 0.666666666666666
cytos_init = 1.5
basal_membrane_repulsion = 0
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255

  [cell_types.emt.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_2=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 80
dt = 0.05
random_seed = 0
full_circle = false
w_init = 20
h_init = 2
mu = 0.1
n_substeps = 40
alg_dt = 0.01
w_screen = 30
h_screen = 0
p_div_out = 0.9
perimeter = 40
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 29
location = ""
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 5
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 4
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308

[cell_types.emt]
N_init = 1
location = "bottom"
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 5
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 5
stiffness_apical_apical_div = 10
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 4
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255

  [cell_types.emt.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_3=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 60
dt = 0.05
random_seed = 0
full_circle = false
w_init = 10
h_init = 5
mu = 0.2
n_substeps = 40
alg_dt = 0.01
w_screen = 15
h_screen = 0
p_div_out = 0.95
perimeter = 20
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 29
location = ""
R_hard = 0.4
R_hard_div = 0.9333333333333332
R_soft = 1.2
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 2
stiffness_apical_apical_div = 4
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 5.5
lifespan_end = 6.5
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 2
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308

[cell_types.emt]
N_init = 1
location = "bottom"
R_hard = 0.4
R_hard_div = 0.9333333333333332
R_soft = 1.2
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 1
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 2
stiffness_apical_apical_div = 4
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 5.5
lifespan_end = 6.5
INM = 0
hetero = true
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 2
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255

  [cell_types.emt.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 6
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`,__vite_glob_0_4=`cell_prop = { }
parameter_ranges = [ ]
seeds_per_config = 1

[metadata]
model = "EHT"
version = "1.0.0"

[general]
t_end = 80
dt = 0.05
random_seed = 0
full_circle = false
w_init = 20
h_init = 2
mu = 0.5
n_substeps = 40
alg_dt = 0.01
w_screen = 30
h_screen = 0
p_div_out = 0.9
perimeter = 40
aspect_ratio = 0
hard_sphere_nuclei = false

[cell_types.control]
N_init = 29
location = ""
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 0.01
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 8
stiffness_apical_apical_div = 16
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 1.2
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.control.color]
  r = 0
  g = 128
  b = 0

  [cell_types.control.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308

[cell_types.emt]
N_init = 1
location = "bottom"
R_hard = 0.3
R_hard_div = 0.7
R_soft = 1
dur_G2 = 0.5
dur_mitosis = 0.5
k_apical_junction = 0.01
k_cytos = 5
max_cytoskeleton_length = 0
run = 0
running_speed = 1
running_mode = 0
stiffness_apical_apical = 8
stiffness_apical_apical_div = 16
stiffness_nuclei_apical = 2
stiffness_nuclei_basal = 2
stiffness_repulsion = 4
stiffness_straightness = 15
lifespan_start = 10
lifespan_end = 21
INM = 1
hetero = false
diffusion = 0.1
basal_damping_ratio = 1
max_basal_junction_dist = 1.2
cytos_init = 1.5
basal_membrane_repulsion = 0.1
apical_junction_init = 0.333333333333333

  [cell_types.emt.color]
  r = 255
  g = 0
  b = 255

  [cell_types.emt.events]
  time_A_start = 1e+308
  time_A_end = 1e+308
  time_B_start = 1e+308
  time_B_end = 1e+308
  time_S_start = 1e+308
  time_S_end = 1e+308
  time_P_start = 1e+308
  time_P_end = 1e+308

[time_samples]
start = 0
end = 48
step = 12
`;var freeGlobal=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$4=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root$4.Symbol,objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty,nativeObjectToString$1=objectProto$d.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(_){var R=hasOwnProperty$b.call(_,symToStringTag$1),P=_[symToStringTag$1];try{_[symToStringTag$1]=void 0;var O=!0}catch{}var I=nativeObjectToString$1.call(_);return O&&(R?_[symToStringTag$1]=P:delete _[symToStringTag$1]),I}var objectProto$c=Object.prototype,nativeObjectToString=objectProto$c.toString;function objectToString$1(_){return nativeObjectToString.call(_)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(_){return _==null?_===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(_)?getRawTag(_):objectToString$1(_)}function isObjectLike(_){return _!=null&&typeof _=="object"}var isArray$1=Array.isArray;function isObject$1(_){var R=typeof _;return _!=null&&(R=="object"||R=="function")}function identity$9(_){return _}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(_){if(!isObject$1(_))return!1;var R=baseGetTag(_);return R==funcTag$2||R==genTag$1||R==asyncTag||R==proxyTag}var coreJsData=root$4["__core-js_shared__"],maskSrcKey=(function(){var _=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""})();function isMasked(_){return!!maskSrcKey&&maskSrcKey in _}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(_){if(_!=null){try{return funcToString$2.call(_)}catch{}try{return _+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$b=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$a=objectProto$b.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$a).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(_){if(!isObject$1(_)||isMasked(_))return!1;var R=isFunction$2(_)?reIsNative:reIsHostCtor;return R.test(toSource(_))}function getValue(_,R){return _?.[R]}function getNative(_,R){var P=getValue(_,R);return baseIsNative(P)?P:void 0}var WeakMap$1=getNative(root$4,"WeakMap"),objectCreate=Object.create,baseCreate=(function(){function _(){}return function(R){if(!isObject$1(R))return{};if(objectCreate)return objectCreate(R);_.prototype=R;var P=new _;return _.prototype=void 0,P}})();function apply$1(_,R,P){switch(P.length){case 0:return _.call(R);case 1:return _.call(R,P[0]);case 2:return _.call(R,P[0],P[1]);case 3:return _.call(R,P[0],P[1],P[2])}return _.apply(R,P)}function copyArray(_,R){var P=-1,O=_.length;for(R||(R=Array(O));++P<O;)R[P]=_[P];return R}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(_){var R=0,P=0;return function(){var O=nativeNow(),I=HOT_SPAN-(O-P);if(P=O,I>0){if(++R>=HOT_COUNT)return arguments[0]}else R=0;return _.apply(void 0,arguments)}}function constant$4(_){return function(){return _}}var defineProperty=(function(){try{var _=getNative(Object,"defineProperty");return _({},"",{}),_}catch{}})(),baseSetToString=defineProperty?function(_,R){return defineProperty(_,"toString",{configurable:!0,enumerable:!1,value:constant$4(R),writable:!0})}:identity$9,setToString=shortOut(baseSetToString);function arrayEach(_,R){for(var P=-1,O=_==null?0:_.length;++P<O&&R(_[P],P,_)!==!1;);return _}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(_,R){var P=typeof _;return R=R??MAX_SAFE_INTEGER$1,!!R&&(P=="number"||P!="symbol"&&reIsUint.test(_))&&_>-1&&_%1==0&&_<R}function baseAssignValue(_,R,P){R=="__proto__"&&defineProperty?defineProperty(_,R,{configurable:!0,enumerable:!0,value:P,writable:!0}):_[R]=P}function eq(_,R){return _===R||_!==_&&R!==R}var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty;function assignValue(_,R,P){var O=_[R];(!(hasOwnProperty$9.call(_,R)&&eq(O,P))||P===void 0&&!(R in _))&&baseAssignValue(_,R,P)}function copyObject(_,R,P,O){var I=!P;P||(P={});for(var L=-1,z=R.length;++L<z;){var F=R[L],G=void 0;G===void 0&&(G=_[F]),I?baseAssignValue(P,F,G):assignValue(P,F,G)}return P}var nativeMax=Math.max;function overRest(_,R,P){return R=nativeMax(R===void 0?_.length-1:R,0),function(){for(var O=arguments,I=-1,L=nativeMax(O.length-R,0),z=Array(L);++I<L;)z[I]=O[R+I];I=-1;for(var F=Array(R+1);++I<R;)F[I]=O[I];return F[R]=P(z),apply$1(_,this,F)}}function baseRest(_,R){return setToString(overRest(_,R,identity$9),_+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=MAX_SAFE_INTEGER}function isArrayLike(_){return _!=null&&isLength(_.length)&&!isFunction$2(_)}function isIterateeCall(_,R,P){if(!isObject$1(P))return!1;var O=typeof R;return(O=="number"?isArrayLike(P)&&isIndex(R,P.length):O=="string"&&R in P)?eq(P[R],_):!1}function createAssigner(_){return baseRest(function(R,P){var O=-1,I=P.length,L=I>1?P[I-1]:void 0,z=I>2?P[2]:void 0;for(L=_.length>3&&typeof L=="function"?(I--,L):void 0,z&&isIterateeCall(P[0],P[1],z)&&(L=I<3?void 0:L,I=1),R=Object(R);++O<I;){var F=P[O];F&&_(R,F,O,L)}return R})}var objectProto$9=Object.prototype;function isPrototype(_){var R=_&&_.constructor,P=typeof R=="function"&&R.prototype||objectProto$9;return _===P}function baseTimes(_,R){for(var P=-1,O=Array(_);++P<_;)O[P]=R(P);return O}var argsTag$2="[object Arguments]";function baseIsArguments(_){return isObjectLike(_)&&baseGetTag(_)==argsTag$2}var objectProto$8=Object.prototype,hasOwnProperty$8=objectProto$8.hasOwnProperty,propertyIsEnumerable$1=objectProto$8.propertyIsEnumerable,isArguments=baseIsArguments((function(){return arguments})())?baseIsArguments:function(_){return isObjectLike(_)&&hasOwnProperty$8.call(_,"callee")&&!propertyIsEnumerable$1.call(_,"callee")};function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$4.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$3="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$4]=typedArrayTags[numberTag$2]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$4]=typedArrayTags[stringTag$2]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(_){return isObjectLike(_)&&isLength(_.length)&&!!typedArrayTags[baseGetTag(_)]}function baseUnary(_){return function(R){return _(R)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=(function(){try{var _=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return _||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}})(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty;function arrayLikeKeys(_,R){var P=isArray$1(_),O=!P&&isArguments(_),I=!P&&!O&&isBuffer(_),L=!P&&!O&&!I&&isTypedArray(_),z=P||O||I||L,F=z?baseTimes(_.length,String):[],G=F.length;for(var V in _)(R||hasOwnProperty$7.call(_,V))&&!(z&&(V=="length"||I&&(V=="offset"||V=="parent")||L&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||isIndex(V,G)))&&F.push(V);return F}function overArg(_,R){return function(P){return _(R(P))}}var nativeKeys=overArg(Object.keys,Object),objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function baseKeys(_){if(!isPrototype(_))return nativeKeys(_);var R=[];for(var P in Object(_))hasOwnProperty$6.call(_,P)&&P!="constructor"&&R.push(P);return R}function keys$1(_){return isArrayLike(_)?arrayLikeKeys(_):baseKeys(_)}function nativeKeysIn(_){var R=[];if(_!=null)for(var P in Object(_))R.push(P);return R}var objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseKeysIn(_){if(!isObject$1(_))return nativeKeysIn(_);var R=isPrototype(_),P=[];for(var O in _)O=="constructor"&&(R||!hasOwnProperty$5.call(_,O))||P.push(O);return P}function keysIn(_){return isArrayLike(_)?arrayLikeKeys(_,!0):baseKeysIn(_)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(_){var R=this.has(_)&&delete this.__data__[_];return this.size-=R?1:0,R}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function hashGet(_){var R=this.__data__;if(nativeCreate){var P=R[_];return P===HASH_UNDEFINED$1?void 0:P}return hasOwnProperty$4.call(R,_)?R[_]:void 0}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function hashHas(_){var R=this.__data__;return nativeCreate?R[_]!==void 0:hasOwnProperty$3.call(R,_)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(_,R){var P=this.__data__;return this.size+=this.has(_)?0:1,P[_]=nativeCreate&&R===void 0?HASH_UNDEFINED:R,this}function Hash(_){var R=-1,P=_==null?0:_.length;for(this.clear();++R<P;){var O=_[R];this.set(O[0],O[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(_,R){for(var P=_.length;P--;)if(eq(_[P][0],R))return P;return-1}var arrayProto=Array.prototype,splice$1=arrayProto.splice;function listCacheDelete(_){var R=this.__data__,P=assocIndexOf(R,_);if(P<0)return!1;var O=R.length-1;return P==O?R.pop():splice$1.call(R,P,1),--this.size,!0}function listCacheGet(_){var R=this.__data__,P=assocIndexOf(R,_);return P<0?void 0:R[P][1]}function listCacheHas(_){return assocIndexOf(this.__data__,_)>-1}function listCacheSet(_,R){var P=this.__data__,O=assocIndexOf(P,_);return O<0?(++this.size,P.push([_,R])):P[O][1]=R,this}function ListCache(_){var R=-1,P=_==null?0:_.length;for(this.clear();++R<P;){var O=_[R];this.set(O[0],O[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$4,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(_){var R=typeof _;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?_!=="__proto__":_===null}function getMapData(_,R){var P=_.__data__;return isKeyable(R)?P[typeof R=="string"?"string":"hash"]:P.map}function mapCacheDelete(_){var R=getMapData(this,_).delete(_);return this.size-=R?1:0,R}function mapCacheGet(_){return getMapData(this,_).get(_)}function mapCacheHas(_){return getMapData(this,_).has(_)}function mapCacheSet(_,R){var P=getMapData(this,_),O=P.size;return P.set(_,R),this.size+=P.size==O?0:1,this}function MapCache(_){var R=-1,P=_==null?0:_.length;for(this.clear();++R<P;){var O=_[R];this.set(O[0],O[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function arrayPush(_,R){for(var P=-1,O=R.length,I=_.length;++P<O;)_[I+P]=R[P];return _}var getPrototype=overArg(Object.getPrototypeOf,Object),objectTag$2="[object Object]",funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$2=objectProto$2.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$1(_){if(!isObjectLike(_)||baseGetTag(_)!=objectTag$2)return!1;var R=getPrototype(_);if(R===null)return!0;var P=hasOwnProperty$2.call(R,"constructor")&&R.constructor;return typeof P=="function"&&P instanceof P&&funcToString.call(P)==objectCtorString}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(_){var R=this.__data__,P=R.delete(_);return this.size=R.size,P}function stackGet(_){return this.__data__.get(_)}function stackHas(_){return this.__data__.has(_)}var LARGE_ARRAY_SIZE=200;function stackSet(_,R){var P=this.__data__;if(P instanceof ListCache){var O=P.__data__;if(!Map$1||O.length<LARGE_ARRAY_SIZE-1)return O.push([_,R]),this.size=++P.size,this;P=this.__data__=new MapCache(O)}return P.set(_,R),this.size=P.size,this}function Stack(_){var R=this.__data__=new ListCache(_);this.size=R.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root$4.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(_,R){if(R)return _.slice();var P=_.length,O=allocUnsafe?allocUnsafe(P):new _.constructor(P);return _.copy(O),O}function arrayFilter(_,R){for(var P=-1,O=_==null?0:_.length,I=0,L=[];++P<O;){var z=_[P];R(z,P,_)&&(L[I++]=z)}return L}function stubArray(){return[]}var objectProto$1=Object.prototype,propertyIsEnumerable=objectProto$1.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(_){return _==null?[]:(_=Object(_),arrayFilter(nativeGetSymbols(_),function(R){return propertyIsEnumerable.call(_,R)}))}:stubArray;function baseGetAllKeys(_,R,P){var O=R(_);return isArray$1(_)?O:arrayPush(O,P(_))}function getAllKeys(_){return baseGetAllKeys(_,keys$1,getSymbols)}var DataView$1=getNative(root$4,"DataView"),Promise$1=getNative(root$4,"Promise"),Set$1=getNative(root$4,"Set"),mapTag$3="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$2||Map$1&&getTag(new Map$1)!=mapTag$3||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$3||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag$1)&&(getTag=function(_){var R=baseGetTag(_),P=R==objectTag$1?_.constructor:void 0,O=P?toSource(P):"";if(O)switch(O){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return R});var objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function initCloneArray(_){var R=_.length,P=new _.constructor(R);return R&&typeof _[0]=="string"&&hasOwnProperty$1.call(_,"index")&&(P.index=_.index,P.input=_.input),P}var Uint8Array$1=root$4.Uint8Array;function cloneArrayBuffer(_){var R=new _.constructor(_.byteLength);return new Uint8Array$1(R).set(new Uint8Array$1(_)),R}function cloneDataView(_,R){var P=cloneArrayBuffer(_.buffer);return new _.constructor(P,_.byteOffset,_.byteLength)}var reFlags=/\w*$/;function cloneRegExp(_){var R=new _.constructor(_.source,reFlags.exec(_));return R.lastIndex=_.lastIndex,R}var symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol(_){return symbolValueOf?Object(symbolValueOf.call(_)):{}}function cloneTypedArray(_,R){var P=R?cloneArrayBuffer(_.buffer):_.buffer;return new _.constructor(P,_.byteOffset,_.length)}var boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(_,R,P){var O=_.constructor;switch(R){case arrayBufferTag$1:return cloneArrayBuffer(_);case boolTag$1:case dateTag$1:return new O(+_);case dataViewTag$1:return cloneDataView(_);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(_,P);case mapTag$2:return new O;case numberTag$1:case stringTag$1:return new O(_);case regexpTag$1:return cloneRegExp(_);case setTag$2:return new O;case symbolTag$1:return cloneSymbol(_)}}function initCloneObject(_){return typeof _.constructor=="function"&&!isPrototype(_)?baseCreate(getPrototype(_)):{}}var mapTag$1="[object Map]";function baseIsMap(_){return isObjectLike(_)&&getTag(_)==mapTag$1}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$1="[object Set]";function baseIsSet(_){return isObjectLike(_)&&getTag(_)==setTag$1}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG$1=1,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(_,R,P,O,I,L){var z,F=R&CLONE_DEEP_FLAG$1;if(z!==void 0)return z;if(!isObject$1(_))return _;var G=isArray$1(_);if(G)z=initCloneArray(_);else{var V=getTag(_),Z=V==funcTag||V==genTag;if(isBuffer(_))return cloneBuffer(_,F);if(V==objectTag||V==argsTag||Z&&!I)z=Z?{}:initCloneObject(_);else{if(!cloneableTags[V])return I?_:{};z=initCloneByTag(_,V,F)}}L||(L=new Stack);var Y=L.get(_);if(Y)return Y;L.set(_,z),isSet(_)?_.forEach(function(te){z.add(baseClone(te,R,P,te,_,L))}):isMap(_)&&_.forEach(function(te,ne){z.set(ne,baseClone(te,R,P,ne,_,L))});var Q=getAllKeys,J=G?void 0:Q(_);return arrayEach(J||_,function(te,ne){J&&(ne=te,te=_[ne]),assignValue(z,ne,baseClone(te,R,P,ne,_,L))}),z}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(_){return baseClone(_,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function createBaseFor(_){return function(R,P,O){for(var I=-1,L=Object(R),z=O(R),F=z.length;F--;){var G=z[++I];if(P(L[G],G,L)===!1)break}return R}}var baseFor=createBaseFor();function assignMergeValue(_,R,P){(P!==void 0&&!eq(_[R],P)||P===void 0&&!(R in _))&&baseAssignValue(_,R,P)}function isArrayLikeObject(_){return isObjectLike(_)&&isArrayLike(_)}function safeGet(_,R){if(!(R==="constructor"&&typeof _[R]=="function")&&R!="__proto__")return _[R]}function toPlainObject(_){return copyObject(_,keysIn(_))}function baseMergeDeep(_,R,P,O,I,L,z){var F=safeGet(_,P),G=safeGet(R,P),V=z.get(G);if(V){assignMergeValue(_,P,V);return}var Z=L?L(F,G,P+"",_,R,z):void 0,Y=Z===void 0;if(Y){var Q=isArray$1(G),J=!Q&&isBuffer(G),te=!Q&&!J&&isTypedArray(G);Z=G,Q||J||te?isArray$1(F)?Z=F:isArrayLikeObject(F)?Z=copyArray(F):J?(Y=!1,Z=cloneBuffer(G,!0)):te?(Y=!1,Z=cloneTypedArray(G,!0)):Z=[]:isPlainObject$1(G)||isArguments(G)?(Z=F,isArguments(F)?Z=toPlainObject(F):(!isObject$1(F)||isFunction$2(F))&&(Z=initCloneObject(G))):Y=!1}Y&&(z.set(G,Z),I(Z,G,O,L,z),z.delete(G)),assignMergeValue(_,P,Z)}function baseMerge(_,R,P,O,I){_!==R&&baseFor(R,function(L,z){if(I||(I=new Stack),isObject$1(L))baseMergeDeep(_,R,z,P,baseMerge,O,I);else{var F=O?O(safeGet(_,z),L,z+"",_,R,I):void 0;F===void 0&&(F=L),assignMergeValue(_,z,F)}},keysIn)}var mergeWith=createAssigner(function(_,R,P,O){baseMerge(_,R,P,O)}),merge$2=createAssigner(function(_,R,P){baseMerge(_,R,P)}),toml={},parse$6={exports:{}},tomlParser={exports:{}},parser,hasRequiredParser;function requireParser(){if(hasRequiredParser)return parser;hasRequiredParser=1;const _=1114112;class R extends Error{constructor(L,z,F){super("[ParserError] "+L,z,F),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,R)}}class P{constructor(L){this.parser=L,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}}class O{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new P(this.parseStart)}parse(L){if(L.length===0||L.length==null)return;this._buf=String(L),this.ii=-1,this.char=-1;let z;for(;z===!1||this.nextChar();)z=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=_;let L;do L=this.state.parser,this.runOne();while(this.state.parser!==L);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(L){if(typeof L!="function")throw new R("Tried to set state to non-existent state: "+JSON.stringify(L));this.state.parser=L}goto(L){return this.next(L),this.runOne()}call(L,z){z&&this.next(z),this.stack.push(this.state),this.state=new P(L)}callNow(L,z){return this.call(L,z),this.runOne()}return(L){if(this.stack.length===0)throw this.error(new R("Stack underflow"));L===void 0&&(L=this.state.buf),this.state=this.stack.pop(),this.state.returned=L}returnNow(L){return this.return(L),this.runOne()}consume(){if(this.char===_)throw this.error(new R("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(L){return L.line=this.line,L.col=this.col,L.pos=this.pos,L}parseStart(){throw new R("Must declare a parseStart method")}}return O.END=_,O.Error=R,parser=O,parser}var createDatetime,hasRequiredCreateDatetime;function requireCreateDatetime(){return hasRequiredCreateDatetime||(hasRequiredCreateDatetime=1,createDatetime=_=>{const R=new Date(_);if(isNaN(R))throw new TypeError("Invalid Datetime");return R}),createDatetime}var formatNum,hasRequiredFormatNum;function requireFormatNum(){return hasRequiredFormatNum||(hasRequiredFormatNum=1,formatNum=(_,R)=>{for(R=String(R);R.length<_;)R="0"+R;return R}),formatNum}var createDatetimeFloat,hasRequiredCreateDatetimeFloat;function requireCreateDatetimeFloat(){if(hasRequiredCreateDatetimeFloat)return createDatetimeFloat;hasRequiredCreateDatetimeFloat=1;const _=requireFormatNum();class R extends Date{constructor(O){super(O+"Z"),this.isFloating=!0}toISOString(){const O=`${this.getUTCFullYear()}-${_(2,this.getUTCMonth()+1)}-${_(2,this.getUTCDate())}`,I=`${_(2,this.getUTCHours())}:${_(2,this.getUTCMinutes())}:${_(2,this.getUTCSeconds())}.${_(3,this.getUTCMilliseconds())}`;return`${O}T${I}`}}return createDatetimeFloat=P=>{const O=new R(P);if(isNaN(O))throw new TypeError("Invalid Datetime");return O},createDatetimeFloat}var createDate,hasRequiredCreateDate;function requireCreateDate(){if(hasRequiredCreateDate)return createDate;hasRequiredCreateDate=1;const _=requireFormatNum(),R=globalThis.Date;class P extends R{constructor(I){super(I),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${_(2,this.getUTCMonth()+1)}-${_(2,this.getUTCDate())}`}}return createDate=O=>{const I=new P(O);if(isNaN(I))throw new TypeError("Invalid Datetime");return I},createDate}var createTime,hasRequiredCreateTime;function requireCreateTime(){if(hasRequiredCreateTime)return createTime;hasRequiredCreateTime=1;const _=requireFormatNum();class R extends Date{constructor(O){super(`0000-01-01T${O}Z`),this.isTime=!0}toISOString(){return`${_(2,this.getUTCHours())}:${_(2,this.getUTCMinutes())}:${_(2,this.getUTCSeconds())}.${_(3,this.getUTCMilliseconds())}`}}return createTime=P=>{const O=new R(P);if(isNaN(O))throw new TypeError("Invalid Datetime");return O},createTime}var hasRequiredTomlParser;function requireTomlParser(){if(hasRequiredTomlParser)return tomlParser.exports;hasRequiredTomlParser=1,tomlParser.exports=makeParserClass(requireParser()),tomlParser.exports.makeParserClass=makeParserClass;class TomlError extends Error{constructor(R){super(R),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=_=>{const R=new TomlError(_.message);return R.code=_.code,R.wrapped=_,R},tomlParser.exports.TomlError=TomlError;const createDateTime=requireCreateDatetime(),createDateTimeFloat=requireCreateDatetimeFloat(),createDate=requireCreateDate(),createTime=requireCreateTime(),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(_){return _>=CHAR_0&&_<=CHAR_9}function isHexit(_){return _>=CHAR_A&&_<=CHAR_F||_>=CHAR_a&&_<=CHAR_f||_>=CHAR_0&&_<=CHAR_9}function isBit(_){return _===CHAR_1||_===CHAR_0}function isOctit(_){return _>=CHAR_0&&_<=CHAR_7}function isAlphaNumQuoteHyphen(_){return _>=CHAR_A&&_<=CHAR_Z||_>=CHAR_a&&_<=CHAR_z||_>=CHAR_0&&_<=CHAR_9||_===CHAR_APOS||_===CHAR_QUOT||_===CHAR_LOWBAR||_===CHAR_HYPHEN}function isAlphaNumHyphen(_){return _>=CHAR_A&&_<=CHAR_Z||_>=CHAR_a&&_<=CHAR_z||_>=CHAR_0&&_<=CHAR_9||_===CHAR_LOWBAR||_===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(_,R){return hasOwnProperty.call(_,R)?!0:(R==="__proto__"&&defineProperty(_,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(_){return _===null||typeof _!="object"?!1:_[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(_){return _===null||typeof _!="object"?!1:_[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(_){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:_}})}function isInlineList(_){return _===null||typeof _!="object"?!1:_[_type]===INLINE_LIST}const LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(_){return _===null||typeof _!="object"?!1:_[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(_){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor(R){try{this.value=globalThis.BigInt.asIntN(64,R)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer(_){let R=Number(_);return Object.is(R,-0)&&(R=0),globalThis.BigInt&&!Number.isSafeInteger(R)?new BoxedBigInt(_):Object.defineProperties(new Number(R),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${_}]`}})}function isInteger(_){return _===null||typeof _!="object"?!1:_[_type]===INTEGER}const FLOAT=Symbol("float");function Float(_){return Object.defineProperties(new Number(_),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${_}]`}})}function isFloat(_){return _===null||typeof _!="object"?!1:_[_type]===FLOAT}function tomlType(_){const R=typeof _;if(R==="object"){if(_===null)return"null";if(_ instanceof Date)return"datetime";if(_type in _)switch(_[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return R}function makeParserClass(_){class R extends _{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===_.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===_.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===_.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(O){let I=this.ctx,L=O.key.pop();for(let z of O.key){if(hasKey(I,z)&&(!isTable(I[z])||I[z][_declared]))throw this.error(new TomlError("Can't redefine existing key"));I=I[z]=I[z]||Table()}if(hasKey(I,L))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(O.value)||isFloat(O.value)?I[L]=O.value.valueOf():I[L]=O.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(O){return this.state.resultTable?this.state.resultTable.push(O):this.state.resultTable=[O],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(O){return this.returnNow({key:this.state.resultTable,value:O})}parseComment(){do if(this.char===_.END||this.char===CTRL_J)return this.return();while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(O){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,O)&&(!isTable(this.ctx[O])||this.ctx[O][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[O]=this.ctx[O]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,O))this.ctx=this.ctx[O]=Table();else if(isTable(this.ctx[O]))this.ctx=this.ctx[O];else if(isList(this.ctx[O]))this.ctx=this.ctx[O][this.ctx[O].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(O){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,O)||(this.ctx[O]=List()),isInlineList(this.ctx[O]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[O])){const I=Table();this.ctx[O].push(I),this.ctx=I}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,O))this.ctx=this.ctx[O]=Table();else{if(isInlineList(this.ctx[O]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[O]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[O]))this.ctx=this.ctx[O][this.ctx[O].length-1];else if(isTable(this.ctx[O]))this.ctx=this.ctx[O];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(O){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===_.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(O){return this.returnNow(O)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===_.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===_.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(O){return this.state.buf+=O,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===_.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let O="\\u00";return this.char<16&&(O+="0"),O+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${O} instead`))}recordMultiEscapeReplacement(O){return this.state.buf+=O,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(O){try{const I=parseInt(O,16);if(I>=SURROGATE_FIRST&&I<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(I))}catch(I){throw this.error(TomlError.wrap(I))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const O=Integer(this.state.buf);if(O.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(O)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const O=Integer(this.state.buf);if(O.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(O)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const O=Integer(this.state.buf);if(O.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(O)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const O=Integer(this.state.buf);if(O.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(O)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===_.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(O){if(this.state.resultArr){const I=this.state.resultArr[_contentType],L=tomlType(O);if(I!==L)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${I} and ${L}`))}else this.state.resultArr=InlineList(tomlType(O));return isFloat(O)||isInteger(O)?this.state.resultArr.push(O.valueOf()):this.state.resultArr.push(O),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===_.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(O){let I=this.state.resultTable,L=O.key.pop();for(let z of O.key){if(hasKey(I,z)&&(!isTable(I[z])||I[z][_declared]))throw this.error(new TomlError("Can't redefine existing key"));I=I[z]=I[z]||Table()}if(hasKey(I,L))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(O.value)||isFloat(O.value)?I[L]=O.value.valueOf():I[L]=O.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===_.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}return R}return tomlParser.exports}var parsePrettyError,hasRequiredParsePrettyError;function requireParsePrettyError(){if(hasRequiredParsePrettyError)return parsePrettyError;hasRequiredParsePrettyError=1,parsePrettyError=_;function _(R,P){if(R.pos==null||R.line==null)return R;let O=R.message;if(O+=` at row ${R.line+1}, col ${R.col+1}, pos ${R.pos}:
`,P&&P.split){const I=P.split(/\n/),L=String(Math.min(I.length,R.line+3)).length;let z=" ";for(;z.length<L;)z+=" ";for(let F=Math.max(0,R.line-1);F<Math.min(I.length,R.line+2);++F){let G=String(F+1);if(G.length<L&&(G=" "+G),R.line===F){O+=G+"> "+I[F]+`
`,O+=z+"  ";for(let V=0;V<R.col;++V)O+=" ";O+=`^
`}else O+=G+": "+I[F]+`
`}}return R.message=O+`
`,R}return parsePrettyError}var parseString_1,hasRequiredParseString;function requireParseString(){if(hasRequiredParseString)return parseString_1;hasRequiredParseString=1,parseString_1=P;const _=requireTomlParser(),R=requireParsePrettyError();function P(O){globalThis.Buffer&&globalThis.Buffer.isBuffer(O)&&(O=O.toString("utf8"));const I=new _;try{return I.parse(O),I.finish()}catch(L){throw R(L,O)}}return parseString_1}var parseAsync_1,hasRequiredParseAsync;function requireParseAsync(){if(hasRequiredParseAsync)return parseAsync_1;hasRequiredParseAsync=1,parseAsync_1=P;const _=requireTomlParser(),R=requireParsePrettyError();function P(O,I){I||(I={});const L=0,z=I.blocksize||40960,F=new _;return new Promise((V,Z)=>{setImmediate(G,L,z,V,Z)});function G(V,Z,Y,Q){if(V>=O.length)try{return Y(F.finish())}catch(J){return Q(R(J,O))}try{F.parse(O.slice(V,V+Z)),setImmediate(G,V+Z,Z,Y,Q)}catch(J){Q(R(J,O))}}}return parseAsync_1}var parseStream_1,hasRequiredParseStream;function requireParseStream(){if(hasRequiredParseStream)return parseStream_1;hasRequiredParseStream=1,parseStream_1=P;const _=require$$0,R=requireTomlParser();function P(L){return L?O(L):I()}function O(L){const z=new R;return L.setEncoding("utf8"),new Promise((F,G)=>{let V,Z=!1,Y=!1;function Q(){if(Z=!0,!V)try{F(z.finish())}catch(ne){G(ne)}}function J(ne){Y=!0,G(ne)}L.once("end",Q),L.once("error",J),te();function te(){V=!0;let ne;for(;(ne=L.read())!==null;)try{z.parse(ne)}catch(ie){return J(ie)}if(V=!1,Z)return Q();Y||L.once("readable",te)}})}function I(){const L=new R;return new _.Transform({objectMode:!0,transform(z,F,G){try{L.parse(z.toString(F))}catch(V){this.emit("error",V)}G()},flush(z){try{this.push(L.finish())}catch(F){this.emit("error",F)}z()}})}return parseStream_1}var hasRequiredParse;function requireParse(){return hasRequiredParse||(hasRequiredParse=1,parse$6.exports=requireParseString(),parse$6.exports.async=requireParseAsync(),parse$6.exports.stream=requireParseStream(),parse$6.exports.prettyError=requireParsePrettyError()),parse$6.exports}var stringify$2={exports:{}},hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify$2.exports;hasRequiredStringify=1,stringify$2.exports=_,stringify$2.exports.value=ie;function _(ve){if(ve===null)throw R("null");if(ve===void 0)throw R("undefined");if(typeof ve!="object")throw R(typeof ve);if(typeof ve.toJSON=="function"&&(ve=ve.toJSON()),ve==null)return null;const Ae=G(ve);if(Ae!=="table")throw R(Ae);return z("","",ve)}function R(ve){return new Error("Can only stringify objects, not "+ve)}function P(){return new Error("Array values can't have mixed types")}function O(ve){return Object.keys(ve).filter(Ae=>F(ve[Ae]))}function I(ve){return Object.keys(ve).filter(Ae=>!F(ve[Ae]))}function L(ve){let Ae=Array.isArray(ve)?[]:Object.prototype.hasOwnProperty.call(ve,"__proto__")?{["__proto__"]:void 0}:{};for(let Ce of Object.keys(ve))ve[Ce]&&typeof ve[Ce].toJSON=="function"&&!("toISOString"in ve[Ce])?Ae[Ce]=ve[Ce].toJSON():Ae[Ce]=ve[Ce];return Ae}function z(ve,Ae,Ce){Ce=L(Ce);var _e,Re;_e=O(Ce),Re=I(Ce);var Me=[],$e=Ae||"";_e.forEach(Ee=>{var ke=G(Ce[Ee]);ke!=="undefined"&&ke!=="null"&&Me.push($e+V(Ee)+" = "+ne(Ce[Ee],!0))}),Me.length>0&&Me.push("");var Se=ve&&_e.length>0?Ae+"  ":"";return Re.forEach(Ee=>{Me.push(be(ve,Se,Ee,Ce[Ee]))}),Me.join(`
`)}function F(ve){switch(G(ve)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return ve.length===0||G(ve[0])!=="table";case"table":return Object.keys(ve).length===0;default:return!1}}function G(ve){return ve===void 0?"undefined":ve===null?"null":typeof ve=="bigint"||Number.isInteger(ve)&&!Object.is(ve,-0)?"integer":typeof ve=="number"?"float":typeof ve=="boolean"?"boolean":typeof ve=="string"?"string":"toISOString"in ve?isNaN(ve)?"undefined":"datetime":Array.isArray(ve)?"array":"table"}function V(ve){var Ae=String(ve);return/^[-A-Za-z0-9_]+$/.test(Ae)?Ae:Z(Ae)}function Z(ve){return'"'+J(ve).replace(/"/g,'\\"')+'"'}function Y(ve){return"'"+ve+"'"}function Q(ve,Ae){for(;Ae.length<ve;)Ae="0"+Ae;return Ae}function J(ve){return ve.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,Ae=>"\\u"+Q(4,Ae.codePointAt(0).toString(16)))}function te(ve){let Ae=ve.split(/\n/).map(Ce=>J(Ce).replace(/"(?="")/g,'\\"')).join(`
`);return Ae.slice(-1)==='"'&&(Ae+=`\\
`),`"""
`+Ae+'"""'}function ne(ve,Ae){let Ce=G(ve);return Ce==="string"&&(Ae&&/\n/.test(ve)?Ce="string-multiline":!/[\b\t\n\f\r']/.test(ve)&&/"/.test(ve)&&(Ce="string-literal")),ie(ve,Ce)}function ie(ve,Ae){switch(Ae||(Ae=G(ve)),Ae){case"string-multiline":return te(ve);case"string":return Z(ve);case"string-literal":return Y(ve);case"integer":return se(ve);case"float":return oe(ve);case"boolean":return ce(ve);case"datetime":return ue(ve);case"array":return de(ve.filter(Ce=>G(Ce)!=="null"&&G(Ce)!=="undefined"&&G(Ce)!=="nan"));case"table":return pe(ve);default:throw R(Ae)}}function se(ve){return String(ve).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function oe(ve){if(ve===1/0)return"inf";if(ve===-1/0)return"-inf";if(Object.is(ve,NaN))return"nan";if(Object.is(ve,-0))return"-0.0";var Ae=String(ve).split("."),Ce=Ae[0],_e=Ae[1]||0;return se(Ce)+"."+_e}function ce(ve){return String(ve)}function ue(ve){return ve.toISOString()}function me(ve){return ve==="float"||ve==="integer"}function he(ve){var Ae=G(ve[0]);return ve.every(Ce=>G(Ce)===Ae)?Ae:ve.every(Ce=>me(G(Ce)))?"float":"mixed"}function fe(ve){const Ae=he(ve);if(Ae==="mixed")throw P();return Ae}function de(ve){ve=L(ve);const Ae=fe(ve);var Ce="[",_e=ve.map(Re=>ie(Re,Ae));return _e.join(", ").length>60||/\n/.test(_e)?Ce+=`
  `+_e.join(`,
  `)+`
`:Ce+=" "+_e.join(", ")+(_e.length>0?" ":""),Ce+"]"}function pe(ve){ve=L(ve);var Ae=[];return Object.keys(ve).forEach(Ce=>{Ae.push(V(Ce)+" = "+ne(ve[Ce],!1))}),"{ "+Ae.join(", ")+(Ae.length>0?" ":"")+"}"}function be(ve,Ae,Ce,_e){var Re=G(_e);if(Re==="array")return ye(ve,Ae,Ce,_e);if(Re==="table")return we(ve,Ae,Ce,_e);throw R(Re)}function ye(ve,Ae,Ce,_e){_e=L(_e),fe(_e);var Re=G(_e[0]);if(Re!=="table")throw R(Re);var Me=ve+V(Ce),$e="";return _e.forEach(Se=>{$e.length>0&&($e+=`
`),$e+=Ae+"[["+Me+`]]
`,$e+=z(Me+".",Ae,Se)}),$e}function we(ve,Ae,Ce,_e){var Re=ve+V(Ce),Me="";return O(_e).length>0&&(Me+=Ae+"["+Re+`]
`),Me+z(Re+".",Ae,_e)}return stringify$2.exports}var hasRequiredToml;function requireToml(){return hasRequiredToml||(hasRequiredToml=1,toml.parse=requireParse(),toml.stringify=requireStringify()),toml}var tomlExports=requireToml();const TOML=getDefaultExportFromCjs(tomlExports),DEFAULT_CONTROL_CELL={N_init:25,location:"",R_hard:.4,R_hard_div:.7,R_soft:1.2,color:{r:30,g:100,b:20},dur_G2:.5,dur_mitosis:.5,k_apical_junction:5,k_cytos:5,max_cytoskeleton_length:.5,run:0,running_speed:1,running_mode:0,stiffness_apical_apical:2,stiffness_apical_apical_div:4,stiffness_nuclei_apical:3,stiffness_nuclei_basal:2,stiffness_repulsion:2,stiffness_straightness:5,lifespan_start:5.5,lifespan_end:6.5,INM:0,hetero:!1,events:{time_A_start:1/0,time_A_end:1/0,time_B_start:1/0,time_B_end:1/0,time_S_start:1/0,time_S_end:1/0,time_P_start:1/0,time_P_end:1/0},diffusion:.2,basal_damping_ratio:1,max_basal_junction_dist:4,cytos_init:0,basal_membrane_repulsion:0,apical_junction_init:0},DEFAULT_EMT_CELL={N_init:5,location:"bottom",R_hard:.4,R_hard_div:.7,R_soft:1.2,color:{r:128,g:0,b:128},dur_G2:.5,dur_mitosis:.5,k_apical_junction:1,k_cytos:5,max_cytoskeleton_length:.5,run:0,running_speed:1,running_mode:0,stiffness_apical_apical:2,stiffness_apical_apical_div:4,stiffness_nuclei_apical:3,stiffness_nuclei_basal:2,stiffness_repulsion:4,stiffness_straightness:2,lifespan_start:5.5,lifespan_end:6.5,INM:0,hetero:!0,events:{time_A_start:3,time_A_end:12,time_B_start:3,time_B_end:12,time_S_start:1/0,time_S_end:1/0,time_P_start:1/0,time_P_end:1/0},diffusion:.2,basal_damping_ratio:1,max_basal_junction_dist:4,cytos_init:0,basal_membrane_repulsion:0,apical_junction_init:0},DEFAULT_EHT_PARAMS={metadata:{model:"EHT",version:"1.0.0"},general:{t_end:48,dt:.1,random_seed:0,full_circle:!0,w_init:80,h_init:5,mu:.2,n_substeps:30,alg_dt:.01,w_screen:50,h_screen:25,p_div_out:1,perimeter:105,aspect_ratio:1,hard_sphere_nuclei:!0},cell_prop:{},cell_types:{control:DEFAULT_CONTROL_CELL,emt:DEFAULT_EMT_CELL}};function mergePresetWithDefaults(_){const R=cloneDeep(DEFAULT_EHT_PARAMS);if(_.general&&(R.general={...R.general,..._.general}),_.metadata&&(R.metadata={...R.metadata,..._.metadata}),_.cell_types){for(const[P,O]of Object.entries(_.cell_types))if(O){const I=R.cell_types[P]??cloneDeep(DEFAULT_CONTROL_CELL);R.cell_types[P]=merge$2(I,O)}}return R}let presetModules={};try{presetModules=Object.assign({"./presets/chick-embryo-control.toml":__vite_glob_0_0,"./presets/chick-embryo-single-emt.toml":__vite_glob_0_1,"./presets/cuboidal.toml":__vite_glob_0_2,"./presets/gastrulation-control.toml":__vite_glob_0_3,"./presets/pseudo-stratified.toml":__vite_glob_0_4})}catch{presetModules={}}function parsePresets(){const _=[];for(const[R,P]of Object.entries(presetModules)){const O=R.split("/").pop()?.replace(".toml","")??"",I=O.replace(/-/g,"_");try{const L=TOML.parse(P),z=L.label??O;delete L.label,_.push({key:I,label:z,params:L})}catch(L){console.error(`Failed to parse preset ${R}:`,L)}}return _.sort((R,P)=>R.label.localeCompare(P.label))}const loadedPresets=parsePresets(),EHT_PRESETS=[{key:"default",label:"Default",create:()=>cloneDeep(DEFAULT_EHT_PARAMS)},...loadedPresets.map(_=>({key:_.key,label:_.label,create:()=>mergePresetWithDefaults(_.params)}))];function projectOntoSegment(_,R,P){const O=P.sub(R),I=_.sub(R),L=O.magSq();if(L<1e-10)return R;const z=Math.max(0,Math.min(1,I.dot(O)/L));return R.add(O.scale(z))}function getBasalGeometry(_){if(typeof _.basalGeometry?.projectPoint=="function")return _.basalGeometry;const R=_.geometry?.curvature_1??_.basalGeometry?.curvature_1??0,P=_.geometry?.curvature_2??_.basalGeometry?.curvature_2??0;return createBasalGeometry(R,P,360)}function projectOntoApicalStrip(_,R){const{cells:P,ap_links:O}=R;if(O.length===0)return _;const I=O[0],L=Vector2.from(P[I.l].A),z=Vector2.from(P[I.r].A);let F=projectOntoSegment(_,L,z),G=_.distSq(F);for(let V=1;V<O.length;V++){const Z=O[V],Y=Vector2.from(P[Z.l].A),Q=Vector2.from(P[Z.r].A),J=projectOntoSegment(_,Y,Q),te=_.distSq(J);te<G&&(G=te,F=J)}return F}function projectOntoBasalCurve(_,R){return getBasalGeometry(R).projectPoint(_)}function computeCellMetrics(_,R){const P=_.cells,O=[];let I=1/0;for(const z of P){const F=Vector2.from(z.pos),G=Vector2.from(z.A),V=Vector2.from(z.B),Z=projectOntoApicalStrip(F,_),Y=projectOntoBasalCurve(F,_),Q=G.dist(F),J=V.dist(F),te=F.dist(Z),ne=F.dist(Y);z.typeIndex==="control"&&ne<I&&(I=ne);const ie=Z.sub(Y),se=ie.magSq();let oe=.5;se>1e-10&&(oe=F.sub(Y).dot(ie)/se);const ce=oe<0,ue=oe>1;O.push({cell:z,X:F,A:G,B:V,a:Z,b:Y,AX:Q,BX:J,ax:te,bx:ne,x:oe,below_basal:ce,above_apical:ue,below_control_cells:!1})}const L=I<1/0;for(const z of O)z.below_control_cells=L&&z.bx<I;return O}function generateCellGroups(_){const R=Object.keys(_.cell_types),P=[];P.push("all");for(const O of R)P.push(O);for(let O=0;O<R.length;O++)for(let I=O+1;I<R.length;I++)P.push(`${R[O]}+${R[I]}`);return P}function filterByGroup(_,R){if(R==="all")return _;if(R.includes("+")){const P=R.split("+");return _.filter(O=>P.includes(O.cell.typeIndex))}return _.filter(P=>P.cell.typeIndex===R)}function aggregateMetrics(_){if(_.length===0)return{ab_distance:0,AX:0,BX:0,ax:0,bx:0,x:0,below_basal:0,above_apical:0,below_control_cells:0};const R=O=>O.reduce((I,L)=>I+L,0)/O.length,P=O=>O.filter(I=>I).length/O.length;return{ab_distance:R(_.map(O=>O.A.dist(O.B))),AX:R(_.map(O=>O.AX)),BX:R(_.map(O=>O.BX)),ax:R(_.map(O=>O.ax)),bx:R(_.map(O=>O.bx)),x:R(_.map(O=>O.x)),below_basal:P(_.map(O=>O.below_basal)),above_apical:P(_.map(O=>O.above_apical)),below_control_cells:P(_.map(O=>O.below_control_cells))}}function computeEHTStatistics(_,R){const P={};if(!R){const O=_.cells.length>0?_.cells.reduce((I,L)=>I+Vector2.from(L.A).dist(Vector2.from(L.B)),0)/_.cells.length:0;return P.ab_distance_all=O,P}try{const O=computeCellMetrics(_,R),I=generateCellGroups(R);for(const L of I){const z=filterByGroup(O,L),F=aggregateMetrics(z);for(const[G,V]of Object.entries(F))P[`${G}_${L}`]=V}}catch(O){console.error("Failed to compute EHT statistics",O)}return P}function exportCellMetrics(_,R){return computeCellMetrics(_).map((O,I)=>({cell_id:I,cell_type:O.cell.typeIndex,X_x:O.X.x,X_y:O.X.y,A_x:O.A.x,A_y:O.A.y,B_x:O.B.x,B_y:O.B.y,a_x:O.a.x,a_y:O.a.y,b_x:O.b.x,b_y:O.b.y,ab_distance:O.A.dist(O.B),AX:O.AX,BX:O.BX,ax:O.ax,bx:O.bx,x:O.x,below_basal:O.below_basal?1:0,above_apical:O.above_apical?1:0,below_control_cells:O.below_control_cells?1:0}))}function generateEHTStatistics(_){const R=[],P=generateCellGroups(_),O=[{id:"ab_distance",label:"AB Distance",description:"Apical-basal distance"},{id:"AX",label:"AX Distance",description:"Distance from A to X"},{id:"BX",label:"BX Distance",description:"Distance from B to X"},{id:"ax",label:"ax Distance",description:"Distance from X to apical projection"},{id:"bx",label:"bx Distance",description:"Distance from X to basal projection"},{id:"x",label:"x Position",description:"Position on basal-apical scale (0-1)"},{id:"below_basal",label:"Below Basal",description:"Fraction of cells below basal layer"},{id:"above_apical",label:"Above Apical",description:"Fraction of cells above apical layer"},{id:"below_control_cells",label:"Below Control Cells",description:"Fraction of cells below the lowest control cell"}];for(const I of P)for(const L of O)R.push({id:`${L.id}_${I}`,label:`${L.label} (${I})`,description:`${L.description} for ${I} cells`,compute:z=>computeEHTStatistics(z,_)[`${L.id}_${I}`]||0});return R}generateEHTStatistics({metadata:{},general:{},cell_prop:{},cell_types:{control:{}}});function generateEHTBatchParameters(_){const R=[];R.push({path:"general.t_end",label:"t_end (End time)"},{path:"general.dt",label:"dt (Time step)"},{path:"general.random_seed",label:"Random seed",isInteger:!0},{path:"general.w_init",label:"w_init (Initial width)"},{path:"general.h_init",label:"h_init (Initial height)"},{path:"general.mu",label:"mu (Friction)"},{path:"general.n_substeps",label:"n_substeps",isInteger:!0},{path:"general.alg_dt",label:"alg_dt (Algorithm dt)"},{path:"general.p_div_out",label:"p_div_out (Division probability)"},{path:"general.perimeter",label:"Perimeter"},{path:"general.aspect_ratio",label:"Aspect ratio"});for(const[P,O]of Object.entries(_.cell_types)){const I=`cell_types.${P}`,L=P;R.push({path:`${I}.N_init`,label:`${L}: N_init`,isInteger:!0},{path:`${I}.location`,label:`${L}: location`},{path:`${I}.R_hard`,label:`${L}: R_hard`},{path:`${I}.R_hard_div`,label:`${L}: R_hard_div`},{path:`${I}.R_soft`,label:`${L}: R_soft`},{path:`${I}.dur_G2`,label:`${L}: dur_G2`},{path:`${I}.dur_mitosis`,label:`${L}: dur_mitosis`},{path:`${I}.k_apical_junction`,label:`${L}: k_apical_junction`},{path:`${I}.k_cytos`,label:`${L}: k_cytos`},{path:`${I}.max_cytoskeleton_length`,label:`${L}: max_cytos_length`},{path:`${I}.run`,label:`${L}: run probability`},{path:`${I}.running_speed`,label:`${L}: running_speed`},{path:`${I}.running_mode`,label:`${L}: running_mode`,isInteger:!0},{path:`${I}.stiffness_apical_apical`,label:`${L}: stiff_apical_apical`},{path:`${I}.stiffness_apical_apical_div`,label:`${L}: stiff_apical_apical_div`},{path:`${I}.stiffness_nuclei_apical`,label:`${L}: stiff_nuclei_apical`},{path:`${I}.stiffness_nuclei_basal`,label:`${L}: stiff_nuclei_basal`},{path:`${I}.stiffness_repulsion`,label:`${L}: stiff_repulsion`},{path:`${I}.stiffness_straightness`,label:`${L}: stiff_straightness`},{path:`${I}.lifespan_start`,label:`${L}: lifespan start`},{path:`${I}.lifespan_end`,label:`${L}: lifespan end`},{path:`${I}.INM`,label:`${L}: INM probability`},{path:`${I}.diffusion`,label:`${L}: diffusion`},{path:`${I}.basal_damping_ratio`,label:`${L}: basal_damping_ratio`},{path:`${I}.max_basal_junction_dist`,label:`${L}: max_basal_junction_dist`},{path:`${I}.cytos_init`,label:`${L}: cytos_init`},{path:`${I}.basal_membrane_repulsion`,label:`${L}: basal_membrane_repulsion`},{path:`${I}.apical_junction_init`,label:`${L}: apical_junction_init`},{path:`${I}.events.time_A_start`,label:`${L}: time_A start`},{path:`${I}.events.time_A_end`,label:`${L}: time_A end`},{path:`${I}.events.time_B_start`,label:`${L}: time_B start`},{path:`${I}.events.time_B_end`,label:`${L}: time_B end`},{path:`${I}.events.time_S_start`,label:`${L}: time_S start`},{path:`${I}.events.time_S_end`,label:`${L}: time_S end`},{path:`${I}.events.time_P_start`,label:`${L}: time_P start`},{path:`${I}.events.time_P_end`,label:`${L}: time_P end`})}return R}const EHT_BATCH_PARAMETERS=[{path:"general.perimeter",label:"Perimeter"},{path:"general.aspect_ratio",label:"Aspect ratio"},{path:"general.random_seed",label:"Random seed",isInteger:!0},{path:"general.t_end",label:"t_end (End time)"},{path:"cell_types.control.diffusion",label:"control: diffusion"},{path:"cell_types.control.max_basal_junction_dist",label:"control: max_basal_junction_dist"},{path:"cell_types.control.apical_junction_init",label:"control: apical_junction_init"}];function r$1(_){var R,P,O="";if(typeof _=="string"||typeof _=="number")O+=_;else if(typeof _=="object")if(Array.isArray(_)){var I=_.length;for(R=0;R<I;R++)_[R]&&(P=r$1(_[R]))&&(O&&(O+=" "),O+=P)}else for(P in _)_[P]&&(O&&(O+=" "),O+=P);return O}function clsx(){for(var _,R,P=0,O="",I=arguments.length;P<I;P++)(_=arguments[P])&&(R=r$1(_))&&(O&&(O+=" "),O+=R);return O}const concatArrays=(_,R)=>{const P=new Array(_.length+R.length);for(let O=0;O<_.length;O++)P[O]=_[O];for(let O=0;O<R.length;O++)P[_.length+O]=R[O];return P},createClassValidatorObject=(_,R)=>({classGroupId:_,validator:R}),createClassPartObject=(_=new Map,R=null,P)=>({nextPart:_,validators:R,classGroupId:P}),CLASS_PART_SEPARATOR="-",EMPTY_CONFLICTS=[],ARBITRARY_PROPERTY_PREFIX="arbitrary..",createClassGroupUtils=_=>{const R=createClassMap(_),{conflictingClassGroups:P,conflictingClassGroupModifiers:O}=_;return{getClassGroupId:z=>{if(z.startsWith("[")&&z.endsWith("]"))return getGroupIdForArbitraryProperty(z);const F=z.split(CLASS_PART_SEPARATOR),G=F[0]===""&&F.length>1?1:0;return getGroupRecursive(F,G,R)},getConflictingClassGroupIds:(z,F)=>{if(F){const G=O[z],V=P[z];return G?V?concatArrays(V,G):G:V||EMPTY_CONFLICTS}return P[z]||EMPTY_CONFLICTS}}},getGroupRecursive=(_,R,P)=>{if(_.length-R===0)return P.classGroupId;const I=_[R],L=P.nextPart.get(I);if(L){const V=getGroupRecursive(_,R+1,L);if(V)return V}const z=P.validators;if(z===null)return;const F=R===0?_.join(CLASS_PART_SEPARATOR):_.slice(R).join(CLASS_PART_SEPARATOR),G=z.length;for(let V=0;V<G;V++){const Z=z[V];if(Z.validator(F))return Z.classGroupId}},getGroupIdForArbitraryProperty=_=>_.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const R=_.slice(1,-1),P=R.indexOf(":"),O=R.slice(0,P);return O?ARBITRARY_PROPERTY_PREFIX+O:void 0})(),createClassMap=_=>{const{theme:R,classGroups:P}=_;return processClassGroups(P,R)},processClassGroups=(_,R)=>{const P=createClassPartObject();for(const O in _){const I=_[O];processClassesRecursively(I,P,O,R)}return P},processClassesRecursively=(_,R,P,O)=>{const I=_.length;for(let L=0;L<I;L++){const z=_[L];processClassDefinition(z,R,P,O)}},processClassDefinition=(_,R,P,O)=>{if(typeof _=="string"){processStringDefinition(_,R,P);return}if(typeof _=="function"){processFunctionDefinition(_,R,P,O);return}processObjectDefinition(_,R,P,O)},processStringDefinition=(_,R,P)=>{const O=_===""?R:getPart(R,_);O.classGroupId=P},processFunctionDefinition=(_,R,P,O)=>{if(isThemeGetter(_)){processClassesRecursively(_(O),R,P,O);return}R.validators===null&&(R.validators=[]),R.validators.push(createClassValidatorObject(P,_))},processObjectDefinition=(_,R,P,O)=>{const I=Object.entries(_),L=I.length;for(let z=0;z<L;z++){const[F,G]=I[z];processClassesRecursively(G,getPart(R,F),P,O)}},getPart=(_,R)=>{let P=_;const O=R.split(CLASS_PART_SEPARATOR),I=O.length;for(let L=0;L<I;L++){const z=O[L];let F=P.nextPart.get(z);F||(F=createClassPartObject(),P.nextPart.set(z,F)),P=F}return P},isThemeGetter=_=>"isThemeGetter"in _&&_.isThemeGetter===!0,createLruCache=_=>{if(_<1)return{get:()=>{},set:()=>{}};let R=0,P=Object.create(null),O=Object.create(null);const I=(L,z)=>{P[L]=z,R++,R>_&&(R=0,O=P,P=Object.create(null))};return{get(L){let z=P[L];if(z!==void 0)return z;if((z=O[L])!==void 0)return I(L,z),z},set(L,z){L in P?P[L]=z:I(L,z)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",EMPTY_MODIFIERS=[],createResultObject=(_,R,P,O,I)=>({modifiers:_,hasImportantModifier:R,baseClassName:P,maybePostfixModifierPosition:O,isExternal:I}),createParseClassName=_=>{const{prefix:R,experimentalParseClassName:P}=_;let O=I=>{const L=[];let z=0,F=0,G=0,V;const Z=I.length;for(let ne=0;ne<Z;ne++){const ie=I[ne];if(z===0&&F===0){if(ie===MODIFIER_SEPARATOR){L.push(I.slice(G,ne)),G=ne+1;continue}if(ie==="/"){V=ne;continue}}ie==="["?z++:ie==="]"?z--:ie==="("?F++:ie===")"&&F--}const Y=L.length===0?I:I.slice(G);let Q=Y,J=!1;Y.endsWith(IMPORTANT_MODIFIER)?(Q=Y.slice(0,-1),J=!0):Y.startsWith(IMPORTANT_MODIFIER)&&(Q=Y.slice(1),J=!0);const te=V&&V>G?V-G:void 0;return createResultObject(L,J,Q,te)};if(R){const I=R+MODIFIER_SEPARATOR,L=O;O=z=>z.startsWith(I)?L(z.slice(I.length)):createResultObject(EMPTY_MODIFIERS,!1,z,void 0,!0)}if(P){const I=O;O=L=>P({className:L,parseClassName:I})}return O},createSortModifiers=_=>{const R=new Map;return _.orderSensitiveModifiers.forEach((P,O)=>{R.set(P,1e6+O)}),P=>{const O=[];let I=[];for(let L=0;L<P.length;L++){const z=P[L],F=z[0]==="[",G=R.has(z);F||G?(I.length>0&&(I.sort(),O.push(...I),I=[]),O.push(z)):I.push(z)}return I.length>0&&(I.sort(),O.push(...I)),O}},createConfigUtils=_=>({cache:createLruCache(_.cacheSize),parseClassName:createParseClassName(_),sortModifiers:createSortModifiers(_),...createClassGroupUtils(_)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(_,R)=>{const{parseClassName:P,getClassGroupId:O,getConflictingClassGroupIds:I,sortModifiers:L}=R,z=[],F=_.trim().split(SPLIT_CLASSES_REGEX);let G="";for(let V=F.length-1;V>=0;V-=1){const Z=F[V],{isExternal:Y,modifiers:Q,hasImportantModifier:J,baseClassName:te,maybePostfixModifierPosition:ne}=P(Z);if(Y){G=Z+(G.length>0?" "+G:G);continue}let ie=!!ne,se=O(ie?te.substring(0,ne):te);if(!se){if(!ie){G=Z+(G.length>0?" "+G:G);continue}if(se=O(te),!se){G=Z+(G.length>0?" "+G:G);continue}ie=!1}const oe=Q.length===0?"":Q.length===1?Q[0]:L(Q).join(":"),ce=J?oe+IMPORTANT_MODIFIER:oe,ue=ce+se;if(z.indexOf(ue)>-1)continue;z.push(ue);const me=I(se,ie);for(let he=0;he<me.length;++he){const fe=me[he];z.push(ce+fe)}G=Z+(G.length>0?" "+G:G)}return G},twJoin=(..._)=>{let R=0,P,O,I="";for(;R<_.length;)(P=_[R++])&&(O=toValue(P))&&(I&&(I+=" "),I+=O);return I},toValue=_=>{if(typeof _=="string")return _;let R,P="";for(let O=0;O<_.length;O++)_[O]&&(R=toValue(_[O]))&&(P&&(P+=" "),P+=R);return P},createTailwindMerge=(_,...R)=>{let P,O,I,L;const z=G=>{const V=R.reduce((Z,Y)=>Y(Z),_());return P=createConfigUtils(V),O=P.cache.get,I=P.cache.set,L=F,F(G)},F=G=>{const V=O(G);if(V)return V;const Z=mergeClassList(G,P);return I(G,Z),Z};return L=z,(...G)=>L(twJoin(...G))},fallbackThemeArr=[],fromTheme=_=>{const R=P=>P[_]||fallbackThemeArr;return R.isThemeGetter=!0,R},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=_=>fractionRegex.test(_),isNumber$1=_=>!!_&&!Number.isNaN(Number(_)),isInteger=_=>!!_&&Number.isInteger(Number(_)),isPercent=_=>_.endsWith("%")&&isNumber$1(_.slice(0,-1)),isTshirtSize=_=>tshirtUnitRegex.test(_),isAny=()=>!0,isLengthOnly=_=>lengthUnitRegex.test(_)&&!colorFunctionRegex.test(_),isNever=()=>!1,isShadow=_=>shadowRegex.test(_),isImage=_=>imageRegex.test(_),isAnyNonArbitrary=_=>!isArbitraryValue(_)&&!isArbitraryVariable(_),isArbitrarySize=_=>getIsArbitraryValue(_,isLabelSize,isNever),isArbitraryValue=_=>arbitraryValueRegex.test(_),isArbitraryLength=_=>getIsArbitraryValue(_,isLabelLength,isLengthOnly),isArbitraryNumber=_=>getIsArbitraryValue(_,isLabelNumber,isNumber$1),isArbitraryPosition=_=>getIsArbitraryValue(_,isLabelPosition,isNever),isArbitraryImage=_=>getIsArbitraryValue(_,isLabelImage,isImage),isArbitraryShadow=_=>getIsArbitraryValue(_,isLabelShadow,isShadow),isArbitraryVariable=_=>arbitraryVariableRegex.test(_),isArbitraryVariableLength=_=>getIsArbitraryVariable(_,isLabelLength),isArbitraryVariableFamilyName=_=>getIsArbitraryVariable(_,isLabelFamilyName),isArbitraryVariablePosition=_=>getIsArbitraryVariable(_,isLabelPosition),isArbitraryVariableSize=_=>getIsArbitraryVariable(_,isLabelSize),isArbitraryVariableImage=_=>getIsArbitraryVariable(_,isLabelImage),isArbitraryVariableShadow=_=>getIsArbitraryVariable(_,isLabelShadow,!0),getIsArbitraryValue=(_,R,P)=>{const O=arbitraryValueRegex.exec(_);return O?O[1]?R(O[1]):P(O[2]):!1},getIsArbitraryVariable=(_,R,P=!1)=>{const O=arbitraryVariableRegex.exec(_);return O?O[1]?R(O[1]):P:!1},isLabelPosition=_=>_==="position"||_==="percentage",isLabelImage=_=>_==="image"||_==="url",isLabelSize=_=>_==="length"||_==="size"||_==="bg-size",isLabelLength=_=>_==="length",isLabelNumber=_=>_==="number",isLabelFamilyName=_=>_==="family-name",isLabelShadow=_=>_==="shadow",getDefaultConfig=()=>{const _=fromTheme("color"),R=fromTheme("font"),P=fromTheme("text"),O=fromTheme("font-weight"),I=fromTheme("tracking"),L=fromTheme("leading"),z=fromTheme("breakpoint"),F=fromTheme("container"),G=fromTheme("spacing"),V=fromTheme("radius"),Z=fromTheme("shadow"),Y=fromTheme("inset-shadow"),Q=fromTheme("text-shadow"),J=fromTheme("drop-shadow"),te=fromTheme("blur"),ne=fromTheme("perspective"),ie=fromTheme("aspect"),se=fromTheme("ease"),oe=fromTheme("animate"),ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],me=()=>[...ue(),isArbitraryVariable,isArbitraryValue],he=()=>["auto","hidden","clip","visible","scroll"],fe=()=>["auto","contain","none"],de=()=>[isArbitraryVariable,isArbitraryValue,G],pe=()=>[isFraction,"full","auto",...de()],be=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],ye=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],we=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],ve=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],Ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ce=()=>["start","end","center","stretch","center-safe","end-safe"],_e=()=>["auto",...de()],Re=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...de()],Me=()=>[_,isArbitraryVariable,isArbitraryValue],$e=()=>[...ue(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],Se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Ee=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],ke=()=>[isPercent,isArbitraryVariableLength,isArbitraryLength],xe=()=>["","none","full",V,isArbitraryVariable,isArbitraryValue],ze=()=>["",isNumber$1,isArbitraryVariableLength,isArbitraryLength],Ze=()=>["solid","dashed","dotted","double"],Ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ie=()=>[isNumber$1,isPercent,isArbitraryVariablePosition,isArbitraryPosition],Ge=()=>["","none",te,isArbitraryVariable,isArbitraryValue],Oe=()=>["none",isNumber$1,isArbitraryVariable,isArbitraryValue],Ve=()=>["none",isNumber$1,isArbitraryVariable,isArbitraryValue],Ue=()=>[isNumber$1,isArbitraryVariable,isArbitraryValue],De=()=>[isFraction,"full",...de()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber$1],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,ie]}],container:["container"],columns:[{columns:[isNumber$1,isArbitraryValue,isArbitraryVariable,F]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:me()}],overflow:[{overflow:he()}],"overflow-x":[{"overflow-x":he()}],"overflow-y":[{"overflow-y":he()}],overscroll:[{overscroll:fe()}],"overscroll-x":[{"overscroll-x":fe()}],"overscroll-y":[{"overscroll-y":fe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:pe()}],"inset-x":[{"inset-x":pe()}],"inset-y":[{"inset-y":pe()}],start:[{start:pe()}],end:[{end:pe()}],top:[{top:pe()}],right:[{right:pe()}],bottom:[{bottom:pe()}],left:[{left:pe()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",F,...de()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber$1,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":be()}],"col-start-end":[{col:ye()}],"col-start":[{"col-start":we()}],"col-end":[{"col-end":we()}],"grid-rows":[{"grid-rows":be()}],"row-start-end":[{row:ye()}],"row-start":[{"row-start":we()}],"row-end":[{"row-end":we()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ve()}],"auto-rows":[{"auto-rows":ve()}],gap:[{gap:de()}],"gap-x":[{"gap-x":de()}],"gap-y":[{"gap-y":de()}],"justify-content":[{justify:[...Ae(),"normal"]}],"justify-items":[{"justify-items":[...Ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ce()]}],"align-content":[{content:["normal",...Ae()]}],"align-items":[{items:[...Ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ae()}],"place-items":[{"place-items":[...Ce(),"baseline"]}],"place-self":[{"place-self":["auto",...Ce()]}],p:[{p:de()}],px:[{px:de()}],py:[{py:de()}],ps:[{ps:de()}],pe:[{pe:de()}],pt:[{pt:de()}],pr:[{pr:de()}],pb:[{pb:de()}],pl:[{pl:de()}],m:[{m:_e()}],mx:[{mx:_e()}],my:[{my:_e()}],ms:[{ms:_e()}],me:[{me:_e()}],mt:[{mt:_e()}],mr:[{mr:_e()}],mb:[{mb:_e()}],ml:[{ml:_e()}],"space-x":[{"space-x":de()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":de()}],"space-y-reverse":["space-y-reverse"],size:[{size:Re()}],w:[{w:[F,"screen",...Re()]}],"min-w":[{"min-w":[F,"screen","none",...Re()]}],"max-w":[{"max-w":[F,"screen","none","prose",{screen:[z]},...Re()]}],h:[{h:["screen","lh",...Re()]}],"min-h":[{"min-h":["screen","lh","none",...Re()]}],"max-h":[{"max-h":["screen","lh",...Re()]}],"font-size":[{text:["base",P,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[O,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,R]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[I,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber$1,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[L,...de()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Me()}],"text-color":[{text:Me()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ze(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber$1,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:Me()}],"underline-offset":[{"underline-offset":[isNumber$1,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:de()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$e()}],"bg-repeat":[{bg:Se()}],"bg-size":[{bg:Ee()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:Me()}],"gradient-from-pos":[{from:ke()}],"gradient-via-pos":[{via:ke()}],"gradient-to-pos":[{to:ke()}],"gradient-from":[{from:Me()}],"gradient-via":[{via:Me()}],"gradient-to":[{to:Me()}],rounded:[{rounded:xe()}],"rounded-s":[{"rounded-s":xe()}],"rounded-e":[{"rounded-e":xe()}],"rounded-t":[{"rounded-t":xe()}],"rounded-r":[{"rounded-r":xe()}],"rounded-b":[{"rounded-b":xe()}],"rounded-l":[{"rounded-l":xe()}],"rounded-ss":[{"rounded-ss":xe()}],"rounded-se":[{"rounded-se":xe()}],"rounded-ee":[{"rounded-ee":xe()}],"rounded-es":[{"rounded-es":xe()}],"rounded-tl":[{"rounded-tl":xe()}],"rounded-tr":[{"rounded-tr":xe()}],"rounded-br":[{"rounded-br":xe()}],"rounded-bl":[{"rounded-bl":xe()}],"border-w":[{border:ze()}],"border-w-x":[{"border-x":ze()}],"border-w-y":[{"border-y":ze()}],"border-w-s":[{"border-s":ze()}],"border-w-e":[{"border-e":ze()}],"border-w-t":[{"border-t":ze()}],"border-w-r":[{"border-r":ze()}],"border-w-b":[{"border-b":ze()}],"border-w-l":[{"border-l":ze()}],"divide-x":[{"divide-x":ze()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ze()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ze(),"hidden","none"]}],"divide-style":[{divide:[...Ze(),"hidden","none"]}],"border-color":[{border:Me()}],"border-color-x":[{"border-x":Me()}],"border-color-y":[{"border-y":Me()}],"border-color-s":[{"border-s":Me()}],"border-color-e":[{"border-e":Me()}],"border-color-t":[{"border-t":Me()}],"border-color-r":[{"border-r":Me()}],"border-color-b":[{"border-b":Me()}],"border-color-l":[{"border-l":Me()}],"divide-color":[{divide:Me()}],"outline-style":[{outline:[...Ze(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber$1,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:Me()}],shadow:[{shadow:["","none",Z,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:Me()}],"inset-shadow":[{"inset-shadow":["none",Y,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":Me()}],"ring-w":[{ring:ze()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Me()}],"ring-offset-w":[{"ring-offset":[isNumber$1,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":Me()}],"inset-ring-w":[{"inset-ring":ze()}],"inset-ring-color":[{"inset-ring":Me()}],"text-shadow":[{"text-shadow":["none",Q,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":Me()}],opacity:[{opacity:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...Ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber$1]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ie()}],"mask-image-linear-from-color":[{"mask-linear-from":Me()}],"mask-image-linear-to-color":[{"mask-linear-to":Me()}],"mask-image-t-from-pos":[{"mask-t-from":Ie()}],"mask-image-t-to-pos":[{"mask-t-to":Ie()}],"mask-image-t-from-color":[{"mask-t-from":Me()}],"mask-image-t-to-color":[{"mask-t-to":Me()}],"mask-image-r-from-pos":[{"mask-r-from":Ie()}],"mask-image-r-to-pos":[{"mask-r-to":Ie()}],"mask-image-r-from-color":[{"mask-r-from":Me()}],"mask-image-r-to-color":[{"mask-r-to":Me()}],"mask-image-b-from-pos":[{"mask-b-from":Ie()}],"mask-image-b-to-pos":[{"mask-b-to":Ie()}],"mask-image-b-from-color":[{"mask-b-from":Me()}],"mask-image-b-to-color":[{"mask-b-to":Me()}],"mask-image-l-from-pos":[{"mask-l-from":Ie()}],"mask-image-l-to-pos":[{"mask-l-to":Ie()}],"mask-image-l-from-color":[{"mask-l-from":Me()}],"mask-image-l-to-color":[{"mask-l-to":Me()}],"mask-image-x-from-pos":[{"mask-x-from":Ie()}],"mask-image-x-to-pos":[{"mask-x-to":Ie()}],"mask-image-x-from-color":[{"mask-x-from":Me()}],"mask-image-x-to-color":[{"mask-x-to":Me()}],"mask-image-y-from-pos":[{"mask-y-from":Ie()}],"mask-image-y-to-pos":[{"mask-y-to":Ie()}],"mask-image-y-from-color":[{"mask-y-from":Me()}],"mask-image-y-to-color":[{"mask-y-to":Me()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ie()}],"mask-image-radial-from-color":[{"mask-radial-from":Me()}],"mask-image-radial-to-color":[{"mask-radial-to":Me()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ue()}],"mask-image-conic-pos":[{"mask-conic":[isNumber$1]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ie()}],"mask-image-conic-from-color":[{"mask-conic-from":Me()}],"mask-image-conic-to-color":[{"mask-conic-to":Me()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$e()}],"mask-repeat":[{mask:Se()}],"mask-size":[{mask:Ee()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:Ge()}],brightness:[{brightness:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",J,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":Me()}],grayscale:[{grayscale:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":Ge()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":de()}],"border-spacing-x":[{"border-spacing-x":de()}],"border-spacing-y":[{"border-spacing-y":de()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber$1,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",se,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",oe,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[ne,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":me()}],rotate:[{rotate:Oe()}],"rotate-x":[{"rotate-x":Oe()}],"rotate-y":[{"rotate-y":Oe()}],"rotate-z":[{"rotate-z":Oe()}],scale:[{scale:Ve()}],"scale-x":[{"scale-x":Ve()}],"scale-y":[{"scale-y":Ve()}],"scale-z":[{"scale-z":Ve()}],"scale-3d":["scale-3d"],skew:[{skew:Ue()}],"skew-x":[{"skew-x":Ue()}],"skew-y":[{"skew-y":Ue()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:me()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:De()}],"translate-x":[{"translate-x":De()}],"translate-y":[{"translate-y":De()}],"translate-z":[{"translate-z":De()}],"translate-none":["translate-none"],accent:[{accent:Me()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Me()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":de()}],"scroll-mx":[{"scroll-mx":de()}],"scroll-my":[{"scroll-my":de()}],"scroll-ms":[{"scroll-ms":de()}],"scroll-me":[{"scroll-me":de()}],"scroll-mt":[{"scroll-mt":de()}],"scroll-mr":[{"scroll-mr":de()}],"scroll-mb":[{"scroll-mb":de()}],"scroll-ml":[{"scroll-ml":de()}],"scroll-p":[{"scroll-p":de()}],"scroll-px":[{"scroll-px":de()}],"scroll-py":[{"scroll-py":de()}],"scroll-ps":[{"scroll-ps":de()}],"scroll-pe":[{"scroll-pe":de()}],"scroll-pt":[{"scroll-pt":de()}],"scroll-pr":[{"scroll-pr":de()}],"scroll-pb":[{"scroll-pb":de()}],"scroll-pl":[{"scroll-pl":de()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...Me()]}],"stroke-w":[{stroke:[isNumber$1,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...Me()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(..._){return twMerge(clsx(_))}const Input=reactExports.forwardRef(({className:_,type:R,...P},O)=>jsxRuntimeExports.jsx("input",{type:R,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",_),ref:O,...P}));Input.displayName="Input";var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);function setRef(_,R){if(typeof _=="function")return _(R);_!=null&&(_.current=R)}function composeRefs(..._){return R=>{let P=!1;const O=_.map(I=>{const L=setRef(I,R);return!P&&typeof L=="function"&&(P=!0),L});if(P)return()=>{for(let I=0;I<O.length;I++){const L=O[I];typeof L=="function"?L():setRef(_[I],null)}}}}function useComposedRefs(..._){return reactExports.useCallback(composeRefs(..._),_)}var REACT_LAZY_TYPE=Symbol.for("react.lazy"),use=React4[" use ".trim().toString()];function isPromiseLike(_){return typeof _=="object"&&_!==null&&"then"in _}function isLazyComponent(_){return _!=null&&typeof _=="object"&&"$$typeof"in _&&_.$$typeof===REACT_LAZY_TYPE&&"_payload"in _&&isPromiseLike(_._payload)}function createSlot$3(_){const R=createSlotClone$3(_),P=reactExports.forwardRef((O,I)=>{let{children:L,...z}=O;isLazyComponent(L)&&typeof use=="function"&&(L=use(L._payload));const F=reactExports.Children.toArray(L),G=F.find(isSlottable$3);if(G){const V=G.props.children,Z=F.map(Y=>Y===G?reactExports.Children.count(V)>1?reactExports.Children.only(null):reactExports.isValidElement(V)?V.props.children:null:Y);return jsxRuntimeExports.jsx(R,{...z,ref:I,children:reactExports.isValidElement(V)?reactExports.cloneElement(V,void 0,Z):null})}return jsxRuntimeExports.jsx(R,{...z,ref:I,children:L})});return P.displayName=`${_}.Slot`,P}var Slot$1=createSlot$3("Slot");function createSlotClone$3(_){const R=reactExports.forwardRef((P,O)=>{let{children:I,...L}=P;if(isLazyComponent(I)&&typeof use=="function"&&(I=use(I._payload)),reactExports.isValidElement(I)){const z=getElementRef$4(I),F=mergeProps$3(L,I.props);return I.type!==reactExports.Fragment&&(F.ref=O?composeRefs(O,z):z),reactExports.cloneElement(I,F)}return reactExports.Children.count(I)>1?reactExports.Children.only(null):null});return R.displayName=`${_}.SlotClone`,R}var SLOTTABLE_IDENTIFIER$3=Symbol("radix.slottable");function isSlottable$3(_){return reactExports.isValidElement(_)&&typeof _.type=="function"&&"__radixId"in _.type&&_.type.__radixId===SLOTTABLE_IDENTIFIER$3}function mergeProps$3(_,R){const P={...R};for(const O in R){const I=_[O],L=R[O];/^on[A-Z]/.test(O)?I&&L?P[O]=(...F)=>{const G=L(...F);return I(...F),G}:I&&(P[O]=I):O==="style"?P[O]={...I,...L}:O==="className"&&(P[O]=[I,L].filter(Boolean).join(" "))}return{..._,...P}}function getElementRef$4(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning;return P?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning,P?_.props.ref:_.props.ref||_.ref)}var NODES$3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$3=NODES$3.reduce((_,R)=>{const P=createSlot$3(`Primitive.${R}`),O=reactExports.forwardRef((I,L)=>{const{asChild:z,...F}=I,G=z?P:R;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(G,{...F,ref:L})});return O.displayName=`Primitive.${R}`,{..._,[R]:O}},{}),NAME$4="Label",Label$2=reactExports.forwardRef((_,R)=>jsxRuntimeExports.jsx(Primitive$3.label,{..._,ref:R,onMouseDown:P=>{P.target.closest("button, input, select, textarea")||(_.onMouseDown?.(P),!P.defaultPrevented&&P.detail>1&&P.preventDefault())}}));Label$2.displayName=NAME$4;var Root$7=Label$2;const falsyToString=_=>typeof _=="boolean"?`${_}`:_===0?"0":_,cx=clsx,cva=(_,R)=>P=>{var O;if(R?.variants==null)return cx(_,P?.class,P?.className);const{variants:I,defaultVariants:L}=R,z=Object.keys(I).map(V=>{const Z=P?.[V],Y=L?.[V];if(Z===null)return null;const Q=falsyToString(Z)||falsyToString(Y);return I[V][Q]}),F=P&&Object.entries(P).reduce((V,Z)=>{let[Y,Q]=Z;return Q===void 0||(V[Y]=Q),V},{}),G=R==null||(O=R.compoundVariants)===null||O===void 0?void 0:O.reduce((V,Z)=>{let{class:Y,className:Q,...J}=Z;return Object.entries(J).every(te=>{let[ne,ie]=te;return Array.isArray(ie)?ie.includes({...L,...F}[ne]):{...L,...F}[ne]===ie})?[...V,Y,Q]:V},[]);return cx(_,z,G,P?.class,P?.className)},labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label$1=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(Root$7,{ref:P,className:cn(labelVariants(),_),...R}));Label$1.displayName=Root$7.displayName;function NumberInput({label:_,value:R,onChange:P,disabled:O,min:I,max:L,step:z=.1}){const F=G=>{const V=parseFloat(G.target.value);if(!isNaN(V)){let Z=V;I!==void 0&&(Z=Math.max(I,Z)),L!==void 0&&(Z=Math.min(L,Z)),P(Z)}};return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs w-32 shrink-0",children:_}),jsxRuntimeExports.jsx(Input,{type:"number",value:R,onChange:F,disabled:O,min:I,max:L,step:z,className:"h-7 text-xs w-24"})]})}function IntegerInput({label:_,value:R,onChange:P,disabled:O,min:I,max:L}){const z=F=>{const G=parseInt(F.target.value,10);if(!isNaN(G)){let V=G;I!==void 0&&(V=Math.max(I,V)),L!==void 0&&(V=Math.min(L,V)),P(V)}};return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs w-32 shrink-0",children:_}),jsxRuntimeExports.jsx(Input,{type:"number",value:R,onChange:z,disabled:O,min:I,max:L,step:1,className:"h-7 text-xs w-24"})]})}function createContextScope$1(_,R=[]){let P=[];function O(L,z){const F=reactExports.createContext(z),G=P.length;P=[...P,z];const V=Y=>{const{scope:Q,children:J,...te}=Y,ne=Q?.[_]?.[G]||F,ie=reactExports.useMemo(()=>te,Object.values(te));return jsxRuntimeExports.jsx(ne.Provider,{value:ie,children:J})};V.displayName=L+"Provider";function Z(Y,Q){const J=Q?.[_]?.[G]||F,te=reactExports.useContext(J);if(te)return te;if(z!==void 0)return z;throw new Error(`\`${Y}\` must be used within \`${L}\``)}return[V,Z]}const I=()=>{const L=P.map(z=>reactExports.createContext(z));return function(F){const G=F?.[_]||L;return reactExports.useMemo(()=>({[`__scope${_}`]:{...F,[_]:G}}),[F,G])}};return I.scopeName=_,[O,composeContextScopes$1(I,...R)]}function composeContextScopes$1(..._){const R=_[0];if(_.length===1)return R;const P=()=>{const O=_.map(I=>({useScope:I(),scopeName:I.scopeName}));return function(L){const z=O.reduce((F,{useScope:G,scopeName:V})=>{const Y=G(L)[`__scope${V}`];return{...F,...Y}},{});return reactExports.useMemo(()=>({[`__scope${R.scopeName}`]:z}),[z])}};return P.scopeName=R.scopeName,P}function composeEventHandlers$1(_,R,{checkForDefaultPrevented:P=!0}={}){return function(I){if(_?.(I),P===!1||!I.defaultPrevented)return R?.(I)}}var useLayoutEffect2=globalThis?.document?reactExports.useLayoutEffect:()=>{},useInsertionEffect=React4[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:_,defaultProp:R,onChange:P=()=>{},caller:O}){const[I,L,z]=useUncontrolledState({defaultProp:R,onChange:P}),F=_!==void 0,G=F?_:I;{const Z=reactExports.useRef(_!==void 0);reactExports.useEffect(()=>{const Y=Z.current;Y!==F&&console.warn(`${O} is changing from ${Y?"controlled":"uncontrolled"} to ${F?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),Z.current=F},[F,O])}const V=reactExports.useCallback(Z=>{if(F){const Y=isFunction$1(Z)?Z(_):Z;Y!==_&&z.current?.(Y)}else L(Z)},[F,_,L,z]);return[G,V]}function useUncontrolledState({defaultProp:_,onChange:R}){const[P,O]=reactExports.useState(_),I=reactExports.useRef(P),L=reactExports.useRef(R);return useInsertionEffect(()=>{L.current=R},[R]),reactExports.useEffect(()=>{I.current!==P&&(L.current?.(P),I.current=P)},[P,I]),[P,O,L]}function isFunction$1(_){return typeof _=="function"}function usePrevious(_){const R=reactExports.useRef({value:_,previous:_});return reactExports.useMemo(()=>(R.current.value!==_&&(R.current.previous=R.current.value,R.current.value=_),R.current.previous),[_])}function useSize(_){const[R,P]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(_){P({width:_.offsetWidth,height:_.offsetHeight});const O=new ResizeObserver(I=>{if(!Array.isArray(I)||!I.length)return;const L=I[0];let z,F;if("borderBoxSize"in L){const G=L.borderBoxSize,V=Array.isArray(G)?G[0]:G;z=V.inlineSize,F=V.blockSize}else z=_.offsetWidth,F=_.offsetHeight;P({width:z,height:F})});return O.observe(_,{box:"border-box"}),()=>O.unobserve(_)}else P(void 0)},[_]),R}function useStateMachine$1(_,R){return reactExports.useReducer((P,O)=>R[P][O]??P,_)}var Presence=_=>{const{present:R,children:P}=_,O=usePresence(R),I=typeof P=="function"?P({present:O.isPresent}):reactExports.Children.only(P),L=useComposedRefs(O.ref,getElementRef$3(I));return typeof P=="function"||O.isPresent?reactExports.cloneElement(I,{ref:L}):null};Presence.displayName="Presence";function usePresence(_){const[R,P]=reactExports.useState(),O=reactExports.useRef(null),I=reactExports.useRef(_),L=reactExports.useRef("none"),z=_?"mounted":"unmounted",[F,G]=useStateMachine$1(z,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const V=getAnimationName(O.current);L.current=F==="mounted"?V:"none"},[F]),useLayoutEffect2(()=>{const V=O.current,Z=I.current;if(Z!==_){const Q=L.current,J=getAnimationName(V);_?G("MOUNT"):J==="none"||V?.display==="none"?G("UNMOUNT"):G(Z&&Q!==J?"ANIMATION_OUT":"UNMOUNT"),I.current=_}},[_,G]),useLayoutEffect2(()=>{if(R){let V;const Z=R.ownerDocument.defaultView??window,Y=J=>{const ne=getAnimationName(O.current).includes(CSS.escape(J.animationName));if(J.target===R&&ne&&(G("ANIMATION_END"),!I.current)){const ie=R.style.animationFillMode;R.style.animationFillMode="forwards",V=Z.setTimeout(()=>{R.style.animationFillMode==="forwards"&&(R.style.animationFillMode=ie)})}},Q=J=>{J.target===R&&(L.current=getAnimationName(O.current))};return R.addEventListener("animationstart",Q),R.addEventListener("animationcancel",Y),R.addEventListener("animationend",Y),()=>{Z.clearTimeout(V),R.removeEventListener("animationstart",Q),R.removeEventListener("animationcancel",Y),R.removeEventListener("animationend",Y)}}else G("ANIMATION_END")},[R,G]),{isPresent:["mounted","unmountSuspended"].includes(F),ref:reactExports.useCallback(V=>{O.current=V?getComputedStyle(V):null,P(V)},[])}}function getAnimationName(_){return _?.animationName||"none"}function getElementRef$3(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning;return P?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning,P?_.props.ref:_.props.ref||_.ref)}function createSlot$2(_){const R=createSlotClone$2(_),P=reactExports.forwardRef((O,I)=>{const{children:L,...z}=O,F=reactExports.Children.toArray(L),G=F.find(isSlottable$2);if(G){const V=G.props.children,Z=F.map(Y=>Y===G?reactExports.Children.count(V)>1?reactExports.Children.only(null):reactExports.isValidElement(V)?V.props.children:null:Y);return jsxRuntimeExports.jsx(R,{...z,ref:I,children:reactExports.isValidElement(V)?reactExports.cloneElement(V,void 0,Z):null})}return jsxRuntimeExports.jsx(R,{...z,ref:I,children:L})});return P.displayName=`${_}.Slot`,P}function createSlotClone$2(_){const R=reactExports.forwardRef((P,O)=>{const{children:I,...L}=P;if(reactExports.isValidElement(I)){const z=getElementRef$2(I),F=mergeProps$2(L,I.props);return I.type!==reactExports.Fragment&&(F.ref=O?composeRefs(O,z):z),reactExports.cloneElement(I,F)}return reactExports.Children.count(I)>1?reactExports.Children.only(null):null});return R.displayName=`${_}.SlotClone`,R}var SLOTTABLE_IDENTIFIER$2=Symbol("radix.slottable");function isSlottable$2(_){return reactExports.isValidElement(_)&&typeof _.type=="function"&&"__radixId"in _.type&&_.type.__radixId===SLOTTABLE_IDENTIFIER$2}function mergeProps$2(_,R){const P={...R};for(const O in R){const I=_[O],L=R[O];/^on[A-Z]/.test(O)?I&&L?P[O]=(...F)=>{const G=L(...F);return I(...F),G}:I&&(P[O]=I):O==="style"?P[O]={...I,...L}:O==="className"&&(P[O]=[I,L].filter(Boolean).join(" "))}return{..._,...P}}function getElementRef$2(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning;return P?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning,P?_.props.ref:_.props.ref||_.ref)}var NODES$2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$2=NODES$2.reduce((_,R)=>{const P=createSlot$2(`Primitive.${R}`),O=reactExports.forwardRef((I,L)=>{const{asChild:z,...F}=I,G=z?P:R;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(G,{...F,ref:L})});return O.displayName=`Primitive.${R}`,{..._,[R]:O}},{});function dispatchDiscreteCustomEvent(_,R){_&&reactDomExports.flushSync(()=>_.dispatchEvent(R))}var CHECKBOX_NAME="Checkbox",[createCheckboxContext]=createContextScope$1(CHECKBOX_NAME),[CheckboxProviderImpl,useCheckboxContext]=createCheckboxContext(CHECKBOX_NAME);function CheckboxProvider(_){const{__scopeCheckbox:R,checked:P,children:O,defaultChecked:I,disabled:L,form:z,name:F,onCheckedChange:G,required:V,value:Z="on",internal_do_not_use_render:Y}=_,[Q,J]=useControllableState({prop:P,defaultProp:I??!1,onChange:G,caller:CHECKBOX_NAME}),[te,ne]=reactExports.useState(null),[ie,se]=reactExports.useState(null),oe=reactExports.useRef(!1),ce=te?!!z||!!te.closest("form"):!0,ue={checked:Q,disabled:L,setChecked:J,control:te,setControl:ne,name:F,form:z,value:Z,hasConsumerStoppedPropagationRef:oe,required:V,defaultChecked:isIndeterminate(I)?!1:I,isFormControl:ce,bubbleInput:ie,setBubbleInput:se};return jsxRuntimeExports.jsx(CheckboxProviderImpl,{scope:R,...ue,children:isFunction(Y)?Y(ue):O})}var TRIGGER_NAME$4="CheckboxTrigger",CheckboxTrigger=reactExports.forwardRef(({__scopeCheckbox:_,onKeyDown:R,onClick:P,...O},I)=>{const{control:L,value:z,disabled:F,checked:G,required:V,setControl:Z,setChecked:Y,hasConsumerStoppedPropagationRef:Q,isFormControl:J,bubbleInput:te}=useCheckboxContext(TRIGGER_NAME$4,_),ne=useComposedRefs(I,Z),ie=reactExports.useRef(G);return reactExports.useEffect(()=>{const se=L?.form;if(se){const oe=()=>Y(ie.current);return se.addEventListener("reset",oe),()=>se.removeEventListener("reset",oe)}},[L,Y]),jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"checkbox","aria-checked":isIndeterminate(G)?"mixed":G,"aria-required":V,"data-state":getState$2(G),"data-disabled":F?"":void 0,disabled:F,value:z,...O,ref:ne,onKeyDown:composeEventHandlers$1(R,se=>{se.key==="Enter"&&se.preventDefault()}),onClick:composeEventHandlers$1(P,se=>{Y(oe=>isIndeterminate(oe)?!0:!oe),te&&J&&(Q.current=se.isPropagationStopped(),Q.current||se.stopPropagation())})})});CheckboxTrigger.displayName=TRIGGER_NAME$4;var Checkbox$1=reactExports.forwardRef((_,R)=>{const{__scopeCheckbox:P,name:O,checked:I,defaultChecked:L,required:z,disabled:F,value:G,onCheckedChange:V,form:Z,...Y}=_;return jsxRuntimeExports.jsx(CheckboxProvider,{__scopeCheckbox:P,checked:I,defaultChecked:L,disabled:F,required:z,onCheckedChange:V,name:O,form:Z,value:G,internal_do_not_use_render:({isFormControl:Q})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckboxTrigger,{...Y,ref:R,__scopeCheckbox:P}),Q&&jsxRuntimeExports.jsx(CheckboxBubbleInput,{__scopeCheckbox:P})]})})});Checkbox$1.displayName=CHECKBOX_NAME;var INDICATOR_NAME$1="CheckboxIndicator",CheckboxIndicator=reactExports.forwardRef((_,R)=>{const{__scopeCheckbox:P,forceMount:O,...I}=_,L=useCheckboxContext(INDICATOR_NAME$1,P);return jsxRuntimeExports.jsx(Presence,{present:O||isIndeterminate(L.checked)||L.checked===!0,children:jsxRuntimeExports.jsx(Primitive$2.span,{"data-state":getState$2(L.checked),"data-disabled":L.disabled?"":void 0,...I,ref:R,style:{pointerEvents:"none",..._.style}})})});CheckboxIndicator.displayName=INDICATOR_NAME$1;var BUBBLE_INPUT_NAME$2="CheckboxBubbleInput",CheckboxBubbleInput=reactExports.forwardRef(({__scopeCheckbox:_,...R},P)=>{const{control:O,hasConsumerStoppedPropagationRef:I,checked:L,defaultChecked:z,required:F,disabled:G,name:V,value:Z,form:Y,bubbleInput:Q,setBubbleInput:J}=useCheckboxContext(BUBBLE_INPUT_NAME$2,_),te=useComposedRefs(P,J),ne=usePrevious(L),ie=useSize(O);reactExports.useEffect(()=>{const oe=Q;if(!oe)return;const ce=window.HTMLInputElement.prototype,me=Object.getOwnPropertyDescriptor(ce,"checked").set,he=!I.current;if(ne!==L&&me){const fe=new Event("click",{bubbles:he});oe.indeterminate=isIndeterminate(L),me.call(oe,isIndeterminate(L)?!1:L),oe.dispatchEvent(fe)}},[Q,ne,L,I]);const se=reactExports.useRef(isIndeterminate(L)?!1:L);return jsxRuntimeExports.jsx(Primitive$2.input,{type:"checkbox","aria-hidden":!0,defaultChecked:z??se.current,required:F,disabled:G,name:V,value:Z,form:Y,...R,tabIndex:-1,ref:te,style:{...R.style,...ie,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});CheckboxBubbleInput.displayName=BUBBLE_INPUT_NAME$2;function isFunction(_){return typeof _=="function"}function isIndeterminate(_){return _==="indeterminate"}function getState$2(_){return isIndeterminate(_)?"indeterminate":_?"checked":"unchecked"}const toKebabCase=_=>_.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=_=>_.replace(/^([A-Z])|[\s-_]+(\w)/g,(R,P,O)=>O?O.toUpperCase():P.toLowerCase()),toPascalCase=_=>{const R=toCamelCase(_);return R.charAt(0).toUpperCase()+R.slice(1)},mergeClasses=(..._)=>_.filter((R,P,O)=>!!R&&R.trim()!==""&&O.indexOf(R)===P).join(" ").trim(),hasA11yProp=_=>{for(const R in _)if(R.startsWith("aria-")||R==="role"||R==="title")return!0};var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon$1=reactExports.forwardRef(({color:_="currentColor",size:R=24,strokeWidth:P=2,absoluteStrokeWidth:O,className:I="",children:L,iconNode:z,...F},G)=>reactExports.createElement("svg",{ref:G,...defaultAttributes,width:R,height:R,stroke:_,strokeWidth:O?Number(P)*24/Number(R):P,className:mergeClasses("lucide",I),...!L&&!hasA11yProp(F)&&{"aria-hidden":"true"},...F},[...z.map(([V,Z])=>reactExports.createElement(V,Z)),...Array.isArray(L)?L:[L]]));const createLucideIcon=(_,R)=>{const P=reactExports.forwardRef(({className:O,...I},L)=>reactExports.createElement(Icon$1,{ref:L,iconNode:R,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(_))}`,`lucide-${_}`,O),...I}));return P.displayName=toPascalCase(_),P};const __iconNode$n=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ArrowUpDown=createLucideIcon("arrow-up-down",__iconNode$n);const __iconNode$m=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Camera=createLucideIcon("camera",__iconNode$m);const __iconNode$l=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$l);const __iconNode$k=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$k);const __iconNode$j=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ChevronUp=createLucideIcon("chevron-up",__iconNode$j);const __iconNode$i=[["path",{d:"M11 14h10",key:"1w8e9d"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v1.344",key:"1e62lh"}],["path",{d:"m17 18 4-4-4-4",key:"z2g111"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 1.793-1.113",key:"bjbb7m"}],["rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",key:"ublpy"}]],ClipboardPaste=createLucideIcon("clipboard-paste",__iconNode$i);const __iconNode$h=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Copy=createLucideIcon("copy",__iconNode$h);const __iconNode$g=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon("download",__iconNode$g);const __iconNode$f=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],FileDown=createLucideIcon("file-down",__iconNode$f);const __iconNode$e=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],FileSpreadsheet=createLucideIcon("file-spreadsheet",__iconNode$e);const __iconNode$d=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Link2=createLucideIcon("link-2",__iconNode$d);const __iconNode$c=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$c);const __iconNode$b=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Moon=createLucideIcon("moon",__iconNode$b);const __iconNode$a=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Pause=createLucideIcon("pause",__iconNode$a);const __iconNode$9=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Play=createLucideIcon("play",__iconNode$9);const __iconNode$8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$8);const __iconNode$7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RotateCcw=createLucideIcon("rotate-ccw",__iconNode$7);const __iconNode$6=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],SkipForward=createLucideIcon("skip-forward",__iconNode$6);const __iconNode$5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Square=createLucideIcon("square",__iconNode$5);const __iconNode$4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sun=createLucideIcon("sun",__iconNode$4);const __iconNode$3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash2=createLucideIcon("trash-2",__iconNode$3);const __iconNode$2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Upload=createLucideIcon("upload",__iconNode$2);const __iconNode$1=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Video=createLucideIcon("video",__iconNode$1);const __iconNode=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode),Checkbox=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(Checkbox$1,{ref:P,className:cn("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",_),...R,children:jsxRuntimeExports.jsx(CheckboxIndicator,{className:cn("flex items-center justify-center text-current"),children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}));Checkbox.displayName=Checkbox$1.displayName;function BoolInput({label:_,value:R,onChange:P,disabled:O}){return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs w-32 shrink-0",children:_}),jsxRuntimeExports.jsx(Checkbox,{checked:R,onCheckedChange:I=>P(I===!0),disabled:O})]})}function clamp$1(_,[R,P]){return Math.min(P,Math.max(R,_))}function createSlot$1(_){const R=createSlotClone$1(_),P=reactExports.forwardRef((O,I)=>{const{children:L,...z}=O,F=reactExports.Children.toArray(L),G=F.find(isSlottable$1);if(G){const V=G.props.children,Z=F.map(Y=>Y===G?reactExports.Children.count(V)>1?reactExports.Children.only(null):reactExports.isValidElement(V)?V.props.children:null:Y);return jsxRuntimeExports.jsx(R,{...z,ref:I,children:reactExports.isValidElement(V)?reactExports.cloneElement(V,void 0,Z):null})}return jsxRuntimeExports.jsx(R,{...z,ref:I,children:L})});return P.displayName=`${_}.Slot`,P}function createSlotClone$1(_){const R=reactExports.forwardRef((P,O)=>{const{children:I,...L}=P;if(reactExports.isValidElement(I)){const z=getElementRef$1(I),F=mergeProps$1(L,I.props);return I.type!==reactExports.Fragment&&(F.ref=O?composeRefs(O,z):z),reactExports.cloneElement(I,F)}return reactExports.Children.count(I)>1?reactExports.Children.only(null):null});return R.displayName=`${_}.SlotClone`,R}var SLOTTABLE_IDENTIFIER$1=Symbol("radix.slottable");function isSlottable$1(_){return reactExports.isValidElement(_)&&typeof _.type=="function"&&"__radixId"in _.type&&_.type.__radixId===SLOTTABLE_IDENTIFIER$1}function mergeProps$1(_,R){const P={...R};for(const O in R){const I=_[O],L=R[O];/^on[A-Z]/.test(O)?I&&L?P[O]=(...F)=>{const G=L(...F);return I(...F),G}:I&&(P[O]=I):O==="style"?P[O]={...I,...L}:O==="className"&&(P[O]=[I,L].filter(Boolean).join(" "))}return{..._,...P}}function getElementRef$1(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning;return P?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning,P?_.props.ref:_.props.ref||_.ref)}function createCollection(_){const R=_+"CollectionProvider",[P,O]=createContextScope$1(R),[I,L]=P(R,{collectionRef:{current:null},itemMap:new Map}),z=ne=>{const{scope:ie,children:se}=ne,oe=React.useRef(null),ce=React.useRef(new Map).current;return jsxRuntimeExports.jsx(I,{scope:ie,itemMap:ce,collectionRef:oe,children:se})};z.displayName=R;const F=_+"CollectionSlot",G=createSlot$1(F),V=React.forwardRef((ne,ie)=>{const{scope:se,children:oe}=ne,ce=L(F,se),ue=useComposedRefs(ie,ce.collectionRef);return jsxRuntimeExports.jsx(G,{ref:ue,children:oe})});V.displayName=F;const Z=_+"CollectionItemSlot",Y="data-radix-collection-item",Q=createSlot$1(Z),J=React.forwardRef((ne,ie)=>{const{scope:se,children:oe,...ce}=ne,ue=React.useRef(null),me=useComposedRefs(ie,ue),he=L(Z,se);return React.useEffect(()=>(he.itemMap.set(ue,{ref:ue,...ce}),()=>{he.itemMap.delete(ue)})),jsxRuntimeExports.jsx(Q,{[Y]:"",ref:me,children:oe})});J.displayName=Z;function te(ne){const ie=L(_+"CollectionConsumer",ne);return React.useCallback(()=>{const oe=ie.collectionRef.current;if(!oe)return[];const ce=Array.from(oe.querySelectorAll(`[${Y}]`));return Array.from(ie.itemMap.values()).sort((he,fe)=>ce.indexOf(he.ref.current)-ce.indexOf(fe.ref.current))},[ie.collectionRef,ie.itemMap])}return[{Provider:z,Slot:V,ItemSlot:J},te,O]}var DirectionContext=reactExports.createContext(void 0);function useDirection(_){const R=reactExports.useContext(DirectionContext);return _||R||"ltr"}function useCallbackRef$1(_){const R=reactExports.useRef(_);return reactExports.useEffect(()=>{R.current=_}),reactExports.useMemo(()=>(...P)=>R.current?.(...P),[])}function useEscapeKeydown(_,R=globalThis?.document){const P=useCallbackRef$1(_);reactExports.useEffect(()=>{const O=I=>{I.key==="Escape"&&P(I)};return R.addEventListener("keydown",O,{capture:!0}),()=>R.removeEventListener("keydown",O,{capture:!0})},[P,R])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((_,R)=>{const{disableOutsidePointerEvents:P=!1,onEscapeKeyDown:O,onPointerDownOutside:I,onFocusOutside:L,onInteractOutside:z,onDismiss:F,...G}=_,V=reactExports.useContext(DismissableLayerContext),[Z,Y]=reactExports.useState(null),Q=Z?.ownerDocument??globalThis?.document,[,J]=reactExports.useState({}),te=useComposedRefs(R,fe=>Y(fe)),ne=Array.from(V.layers),[ie]=[...V.layersWithOutsidePointerEventsDisabled].slice(-1),se=ne.indexOf(ie),oe=Z?ne.indexOf(Z):-1,ce=V.layersWithOutsidePointerEventsDisabled.size>0,ue=oe>=se,me=usePointerDownOutside(fe=>{const de=fe.target,pe=[...V.branches].some(be=>be.contains(de));!ue||pe||(I?.(fe),z?.(fe),fe.defaultPrevented||F?.())},Q),he=useFocusOutside(fe=>{const de=fe.target;[...V.branches].some(be=>be.contains(de))||(L?.(fe),z?.(fe),fe.defaultPrevented||F?.())},Q);return useEscapeKeydown(fe=>{oe===V.layers.size-1&&(O?.(fe),!fe.defaultPrevented&&F&&(fe.preventDefault(),F()))},Q),reactExports.useEffect(()=>{if(Z)return P&&(V.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=Q.body.style.pointerEvents,Q.body.style.pointerEvents="none"),V.layersWithOutsidePointerEventsDisabled.add(Z)),V.layers.add(Z),dispatchUpdate(),()=>{P&&V.layersWithOutsidePointerEventsDisabled.size===1&&(Q.body.style.pointerEvents=originalBodyPointerEvents)}},[Z,Q,P,V]),reactExports.useEffect(()=>()=>{Z&&(V.layers.delete(Z),V.layersWithOutsidePointerEventsDisabled.delete(Z),dispatchUpdate())},[Z,V]),reactExports.useEffect(()=>{const fe=()=>J({});return document.addEventListener(CONTEXT_UPDATE,fe),()=>document.removeEventListener(CONTEXT_UPDATE,fe)},[]),jsxRuntimeExports.jsx(Primitive$2.div,{...G,ref:te,style:{pointerEvents:ce?ue?"auto":"none":void 0,..._.style},onFocusCapture:composeEventHandlers$1(_.onFocusCapture,he.onFocusCapture),onBlurCapture:composeEventHandlers$1(_.onBlurCapture,he.onBlurCapture),onPointerDownCapture:composeEventHandlers$1(_.onPointerDownCapture,me.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((_,R)=>{const P=reactExports.useContext(DismissableLayerContext),O=reactExports.useRef(null),I=useComposedRefs(R,O);return reactExports.useEffect(()=>{const L=O.current;if(L)return P.branches.add(L),()=>{P.branches.delete(L)}},[P.branches]),jsxRuntimeExports.jsx(Primitive$2.div,{..._,ref:I})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(_,R=globalThis?.document){const P=useCallbackRef$1(_),O=reactExports.useRef(!1),I=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const L=F=>{if(F.target&&!O.current){let G=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,P,V,{discrete:!0})};const V={originalEvent:F};F.pointerType==="touch"?(R.removeEventListener("click",I.current),I.current=G,R.addEventListener("click",I.current,{once:!0})):G()}else R.removeEventListener("click",I.current);O.current=!1},z=window.setTimeout(()=>{R.addEventListener("pointerdown",L)},0);return()=>{window.clearTimeout(z),R.removeEventListener("pointerdown",L),R.removeEventListener("click",I.current)}},[R,P]),{onPointerDownCapture:()=>O.current=!0}}function useFocusOutside(_,R=globalThis?.document){const P=useCallbackRef$1(_),O=reactExports.useRef(!1);return reactExports.useEffect(()=>{const I=L=>{L.target&&!O.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,P,{originalEvent:L},{discrete:!1})};return R.addEventListener("focusin",I),()=>R.removeEventListener("focusin",I)},[R,P]),{onFocusCapture:()=>O.current=!0,onBlurCapture:()=>O.current=!1}}function dispatchUpdate(){const _=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(_)}function handleAndDispatchCustomEvent(_,R,P,{discrete:O}){const I=P.originalEvent.target,L=new CustomEvent(_,{bubbles:!1,cancelable:!0,detail:P});R&&I.addEventListener(_,R,{once:!0}),O?dispatchDiscreteCustomEvent(I,L):I.dispatchEvent(L)}var count$3=0;function useFocusGuards(){reactExports.useEffect(()=>{const _=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",_[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",_[1]??createFocusGuard()),count$3++,()=>{count$3===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(R=>R.remove()),count$3--}},[])}function createFocusGuard(){const _=document.createElement("span");return _.setAttribute("data-radix-focus-guard",""),_.tabIndex=0,_.style.outline="none",_.style.opacity="0",_.style.position="fixed",_.style.pointerEvents="none",_}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((_,R)=>{const{loop:P=!1,trapped:O=!1,onMountAutoFocus:I,onUnmountAutoFocus:L,...z}=_,[F,G]=reactExports.useState(null),V=useCallbackRef$1(I),Z=useCallbackRef$1(L),Y=reactExports.useRef(null),Q=useComposedRefs(R,ne=>G(ne)),J=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(O){let ne=function(ce){if(J.paused||!F)return;const ue=ce.target;F.contains(ue)?Y.current=ue:focus(Y.current,{select:!0})},ie=function(ce){if(J.paused||!F)return;const ue=ce.relatedTarget;ue!==null&&(F.contains(ue)||focus(Y.current,{select:!0}))},se=function(ce){if(document.activeElement===document.body)for(const me of ce)me.removedNodes.length>0&&focus(F)};document.addEventListener("focusin",ne),document.addEventListener("focusout",ie);const oe=new MutationObserver(se);return F&&oe.observe(F,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",ne),document.removeEventListener("focusout",ie),oe.disconnect()}}},[O,F,J.paused]),reactExports.useEffect(()=>{if(F){focusScopesStack.add(J);const ne=document.activeElement;if(!F.contains(ne)){const se=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);F.addEventListener(AUTOFOCUS_ON_MOUNT,V),F.dispatchEvent(se),se.defaultPrevented||(focusFirst$1(removeLinks(getTabbableCandidates(F)),{select:!0}),document.activeElement===ne&&focus(F))}return()=>{F.removeEventListener(AUTOFOCUS_ON_MOUNT,V),setTimeout(()=>{const se=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);F.addEventListener(AUTOFOCUS_ON_UNMOUNT,Z),F.dispatchEvent(se),se.defaultPrevented||focus(ne??document.body,{select:!0}),F.removeEventListener(AUTOFOCUS_ON_UNMOUNT,Z),focusScopesStack.remove(J)},0)}}},[F,V,Z,J]);const te=reactExports.useCallback(ne=>{if(!P&&!O||J.paused)return;const ie=ne.key==="Tab"&&!ne.altKey&&!ne.ctrlKey&&!ne.metaKey,se=document.activeElement;if(ie&&se){const oe=ne.currentTarget,[ce,ue]=getTabbableEdges(oe);ce&&ue?!ne.shiftKey&&se===ue?(ne.preventDefault(),P&&focus(ce,{select:!0})):ne.shiftKey&&se===ce&&(ne.preventDefault(),P&&focus(ue,{select:!0})):se===oe&&ne.preventDefault()}},[P,O,J.paused]);return jsxRuntimeExports.jsx(Primitive$2.div,{tabIndex:-1,...z,ref:Q,onKeyDown:te})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$1(_,{select:R=!1}={}){const P=document.activeElement;for(const O of _)if(focus(O,{select:R}),document.activeElement!==P)return}function getTabbableEdges(_){const R=getTabbableCandidates(_),P=findVisible(R,_),O=findVisible(R.reverse(),_);return[P,O]}function getTabbableCandidates(_){const R=[],P=document.createTreeWalker(_,NodeFilter.SHOW_ELEMENT,{acceptNode:O=>{const I=O.tagName==="INPUT"&&O.type==="hidden";return O.disabled||O.hidden||I?NodeFilter.FILTER_SKIP:O.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;P.nextNode();)R.push(P.currentNode);return R}function findVisible(_,R){for(const P of _)if(!isHidden(P,{upTo:R}))return P}function isHidden(_,{upTo:R}){if(getComputedStyle(_).visibility==="hidden")return!0;for(;_;){if(R!==void 0&&_===R)return!1;if(getComputedStyle(_).display==="none")return!0;_=_.parentElement}return!1}function isSelectableInput(_){return _ instanceof HTMLInputElement&&"select"in _}function focus(_,{select:R=!1}={}){if(_&&_.focus){const P=document.activeElement;_.focus({preventScroll:!0}),_!==P&&isSelectableInput(_)&&R&&_.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let _=[];return{add(R){const P=_[0];R!==P&&P?.pause(),_=arrayRemove(_,R),_.unshift(R)},remove(R){_=arrayRemove(_,R),_[0]?.resume()}}}function arrayRemove(_,R){const P=[..._],O=P.indexOf(R);return O!==-1&&P.splice(O,1),P}function removeLinks(_){return _.filter(R=>R.tagName!=="A")}var useReactId=React4[" useId ".trim().toString()]||(()=>{}),count$2=0;function useId(_){const[R,P]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{P(O=>O??String(count$2++))},[_]),R?`radix-${R}`:""}const sides=["top","right","bottom","left"],min$2=Math.min,max$1=Math.max,round$1=Math.round,floor=Math.floor,createCoords=_=>({x:_,y:_}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(_,R,P){return max$1(_,min$2(R,P))}function evaluate(_,R){return typeof _=="function"?_(R):_}function getSide(_){return _.split("-")[0]}function getAlignment(_){return _.split("-")[1]}function getOppositeAxis(_){return _==="x"?"y":"x"}function getAxisLength(_){return _==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(_){return yAxisSides.has(getSide(_))?"y":"x"}function getAlignmentAxis(_){return getOppositeAxis(getSideAxis(_))}function getAlignmentSides(_,R,P){P===void 0&&(P=!1);const O=getAlignment(_),I=getAlignmentAxis(_),L=getAxisLength(I);let z=I==="x"?O===(P?"end":"start")?"right":"left":O==="start"?"bottom":"top";return R.reference[L]>R.floating[L]&&(z=getOppositePlacement(z)),[z,getOppositePlacement(z)]}function getExpandedPlacements(_){const R=getOppositePlacement(_);return[getOppositeAlignmentPlacement(_),R,getOppositeAlignmentPlacement(R)]}function getOppositeAlignmentPlacement(_){return _.replace(/start|end/g,R=>oppositeAlignmentMap[R])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(_,R,P){switch(_){case"top":case"bottom":return P?R?rlPlacement:lrPlacement:R?lrPlacement:rlPlacement;case"left":case"right":return R?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(_,R,P,O){const I=getAlignment(_);let L=getSideList(getSide(_),P==="start",O);return I&&(L=L.map(z=>z+"-"+I),R&&(L=L.concat(L.map(getOppositeAlignmentPlacement)))),L}function getOppositePlacement(_){return _.replace(/left|right|bottom|top/g,R=>oppositeSideMap[R])}function expandPaddingObject(_){return{top:0,right:0,bottom:0,left:0,..._}}function getPaddingObject(_){return typeof _!="number"?expandPaddingObject(_):{top:_,right:_,bottom:_,left:_}}function rectToClientRect(_){const{x:R,y:P,width:O,height:I}=_;return{width:O,height:I,top:P,left:R,right:R+O,bottom:P+I,x:R,y:P}}function computeCoordsFromPlacement(_,R,P){let{reference:O,floating:I}=_;const L=getSideAxis(R),z=getAlignmentAxis(R),F=getAxisLength(z),G=getSide(R),V=L==="y",Z=O.x+O.width/2-I.width/2,Y=O.y+O.height/2-I.height/2,Q=O[F]/2-I[F]/2;let J;switch(G){case"top":J={x:Z,y:O.y-I.height};break;case"bottom":J={x:Z,y:O.y+O.height};break;case"right":J={x:O.x+O.width,y:Y};break;case"left":J={x:O.x-I.width,y:Y};break;default:J={x:O.x,y:O.y}}switch(getAlignment(R)){case"start":J[z]-=Q*(P&&V?-1:1);break;case"end":J[z]+=Q*(P&&V?-1:1);break}return J}const computePosition$1=async(_,R,P)=>{const{placement:O="bottom",strategy:I="absolute",middleware:L=[],platform:z}=P,F=L.filter(Boolean),G=await(z.isRTL==null?void 0:z.isRTL(R));let V=await z.getElementRects({reference:_,floating:R,strategy:I}),{x:Z,y:Y}=computeCoordsFromPlacement(V,O,G),Q=O,J={},te=0;for(let ne=0;ne<F.length;ne++){const{name:ie,fn:se}=F[ne],{x:oe,y:ce,data:ue,reset:me}=await se({x:Z,y:Y,initialPlacement:O,placement:Q,strategy:I,middlewareData:J,rects:V,platform:z,elements:{reference:_,floating:R}});Z=oe??Z,Y=ce??Y,J={...J,[ie]:{...J[ie],...ue}},me&&te<=50&&(te++,typeof me=="object"&&(me.placement&&(Q=me.placement),me.rects&&(V=me.rects===!0?await z.getElementRects({reference:_,floating:R,strategy:I}):me.rects),{x:Z,y:Y}=computeCoordsFromPlacement(V,Q,G)),ne=-1)}return{x:Z,y:Y,placement:Q,strategy:I,middlewareData:J}};async function detectOverflow(_,R){var P;R===void 0&&(R={});const{x:O,y:I,platform:L,rects:z,elements:F,strategy:G}=_,{boundary:V="clippingAncestors",rootBoundary:Z="viewport",elementContext:Y="floating",altBoundary:Q=!1,padding:J=0}=evaluate(R,_),te=getPaddingObject(J),ie=F[Q?Y==="floating"?"reference":"floating":Y],se=rectToClientRect(await L.getClippingRect({element:(P=await(L.isElement==null?void 0:L.isElement(ie)))==null||P?ie:ie.contextElement||await(L.getDocumentElement==null?void 0:L.getDocumentElement(F.floating)),boundary:V,rootBoundary:Z,strategy:G})),oe=Y==="floating"?{x:O,y:I,width:z.floating.width,height:z.floating.height}:z.reference,ce=await(L.getOffsetParent==null?void 0:L.getOffsetParent(F.floating)),ue=await(L.isElement==null?void 0:L.isElement(ce))?await(L.getScale==null?void 0:L.getScale(ce))||{x:1,y:1}:{x:1,y:1},me=rectToClientRect(L.convertOffsetParentRelativeRectToViewportRelativeRect?await L.convertOffsetParentRelativeRectToViewportRelativeRect({elements:F,rect:oe,offsetParent:ce,strategy:G}):oe);return{top:(se.top-me.top+te.top)/ue.y,bottom:(me.bottom-se.bottom+te.bottom)/ue.y,left:(se.left-me.left+te.left)/ue.x,right:(me.right-se.right+te.right)/ue.x}}const arrow$3=_=>({name:"arrow",options:_,async fn(R){const{x:P,y:O,placement:I,rects:L,platform:z,elements:F,middlewareData:G}=R,{element:V,padding:Z=0}=evaluate(_,R)||{};if(V==null)return{};const Y=getPaddingObject(Z),Q={x:P,y:O},J=getAlignmentAxis(I),te=getAxisLength(J),ne=await z.getDimensions(V),ie=J==="y",se=ie?"top":"left",oe=ie?"bottom":"right",ce=ie?"clientHeight":"clientWidth",ue=L.reference[te]+L.reference[J]-Q[J]-L.floating[te],me=Q[J]-L.reference[J],he=await(z.getOffsetParent==null?void 0:z.getOffsetParent(V));let fe=he?he[ce]:0;(!fe||!await(z.isElement==null?void 0:z.isElement(he)))&&(fe=F.floating[ce]||L.floating[te]);const de=ue/2-me/2,pe=fe/2-ne[te]/2-1,be=min$2(Y[se],pe),ye=min$2(Y[oe],pe),we=be,ve=fe-ne[te]-ye,Ae=fe/2-ne[te]/2+de,Ce=clamp(we,Ae,ve),_e=!G.arrow&&getAlignment(I)!=null&&Ae!==Ce&&L.reference[te]/2-(Ae<we?be:ye)-ne[te]/2<0,Re=_e?Ae<we?Ae-we:Ae-ve:0;return{[J]:Q[J]+Re,data:{[J]:Ce,centerOffset:Ae-Ce-Re,..._e&&{alignmentOffset:Re}},reset:_e}}}),flip$3=function(_){return _===void 0&&(_={}),{name:"flip",options:_,async fn(R){var P,O;const{placement:I,middlewareData:L,rects:z,initialPlacement:F,platform:G,elements:V}=R,{mainAxis:Z=!0,crossAxis:Y=!0,fallbackPlacements:Q,fallbackStrategy:J="bestFit",fallbackAxisSideDirection:te="none",flipAlignment:ne=!0,...ie}=evaluate(_,R);if((P=L.arrow)!=null&&P.alignmentOffset)return{};const se=getSide(I),oe=getSideAxis(F),ce=getSide(F)===F,ue=await(G.isRTL==null?void 0:G.isRTL(V.floating)),me=Q||(ce||!ne?[getOppositePlacement(F)]:getExpandedPlacements(F)),he=te!=="none";!Q&&he&&me.push(...getOppositeAxisPlacements(F,ne,te,ue));const fe=[F,...me],de=await detectOverflow(R,ie),pe=[];let be=((O=L.flip)==null?void 0:O.overflows)||[];if(Z&&pe.push(de[se]),Y){const Ae=getAlignmentSides(I,z,ue);pe.push(de[Ae[0]],de[Ae[1]])}if(be=[...be,{placement:I,overflows:pe}],!pe.every(Ae=>Ae<=0)){var ye,we;const Ae=(((ye=L.flip)==null?void 0:ye.index)||0)+1,Ce=fe[Ae];if(Ce&&(!(Y==="alignment"?oe!==getSideAxis(Ce):!1)||be.every(Me=>getSideAxis(Me.placement)===oe?Me.overflows[0]>0:!0)))return{data:{index:Ae,overflows:be},reset:{placement:Ce}};let _e=(we=be.filter(Re=>Re.overflows[0]<=0).sort((Re,Me)=>Re.overflows[1]-Me.overflows[1])[0])==null?void 0:we.placement;if(!_e)switch(J){case"bestFit":{var ve;const Re=(ve=be.filter(Me=>{if(he){const $e=getSideAxis(Me.placement);return $e===oe||$e==="y"}return!0}).map(Me=>[Me.placement,Me.overflows.filter($e=>$e>0).reduce(($e,Se)=>$e+Se,0)]).sort((Me,$e)=>Me[1]-$e[1])[0])==null?void 0:ve[0];Re&&(_e=Re);break}case"initialPlacement":_e=F;break}if(I!==_e)return{reset:{placement:_e}}}return{}}}};function getSideOffsets(_,R){return{top:_.top-R.height,right:_.right-R.width,bottom:_.bottom-R.height,left:_.left-R.width}}function isAnySideFullyClipped(_){return sides.some(R=>_[R]>=0)}const hide$2=function(_){return _===void 0&&(_={}),{name:"hide",options:_,async fn(R){const{rects:P}=R,{strategy:O="referenceHidden",...I}=evaluate(_,R);switch(O){case"referenceHidden":{const L=await detectOverflow(R,{...I,elementContext:"reference"}),z=getSideOffsets(L,P.reference);return{data:{referenceHiddenOffsets:z,referenceHidden:isAnySideFullyClipped(z)}}}case"escaped":{const L=await detectOverflow(R,{...I,altBoundary:!0}),z=getSideOffsets(L,P.floating);return{data:{escapedOffsets:z,escaped:isAnySideFullyClipped(z)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(_,R){const{placement:P,platform:O,elements:I}=_,L=await(O.isRTL==null?void 0:O.isRTL(I.floating)),z=getSide(P),F=getAlignment(P),G=getSideAxis(P)==="y",V=originSides.has(z)?-1:1,Z=L&&G?-1:1,Y=evaluate(R,_);let{mainAxis:Q,crossAxis:J,alignmentAxis:te}=typeof Y=="number"?{mainAxis:Y,crossAxis:0,alignmentAxis:null}:{mainAxis:Y.mainAxis||0,crossAxis:Y.crossAxis||0,alignmentAxis:Y.alignmentAxis};return F&&typeof te=="number"&&(J=F==="end"?te*-1:te),G?{x:J*Z,y:Q*V}:{x:Q*V,y:J*Z}}const offset$3=function(_){return _===void 0&&(_=0),{name:"offset",options:_,async fn(R){var P,O;const{x:I,y:L,placement:z,middlewareData:F}=R,G=await convertValueToCoords(R,_);return z===((P=F.offset)==null?void 0:P.placement)&&(O=F.arrow)!=null&&O.alignmentOffset?{}:{x:I+G.x,y:L+G.y,data:{...G,placement:z}}}}},shift$2=function(_){return _===void 0&&(_={}),{name:"shift",options:_,async fn(R){const{x:P,y:O,placement:I}=R,{mainAxis:L=!0,crossAxis:z=!1,limiter:F={fn:ie=>{let{x:se,y:oe}=ie;return{x:se,y:oe}}},...G}=evaluate(_,R),V={x:P,y:O},Z=await detectOverflow(R,G),Y=getSideAxis(getSide(I)),Q=getOppositeAxis(Y);let J=V[Q],te=V[Y];if(L){const ie=Q==="y"?"top":"left",se=Q==="y"?"bottom":"right",oe=J+Z[ie],ce=J-Z[se];J=clamp(oe,J,ce)}if(z){const ie=Y==="y"?"top":"left",se=Y==="y"?"bottom":"right",oe=te+Z[ie],ce=te-Z[se];te=clamp(oe,te,ce)}const ne=F.fn({...R,[Q]:J,[Y]:te});return{...ne,data:{x:ne.x-P,y:ne.y-O,enabled:{[Q]:L,[Y]:z}}}}}},limitShift$2=function(_){return _===void 0&&(_={}),{options:_,fn(R){const{x:P,y:O,placement:I,rects:L,middlewareData:z}=R,{offset:F=0,mainAxis:G=!0,crossAxis:V=!0}=evaluate(_,R),Z={x:P,y:O},Y=getSideAxis(I),Q=getOppositeAxis(Y);let J=Z[Q],te=Z[Y];const ne=evaluate(F,R),ie=typeof ne=="number"?{mainAxis:ne,crossAxis:0}:{mainAxis:0,crossAxis:0,...ne};if(G){const ce=Q==="y"?"height":"width",ue=L.reference[Q]-L.floating[ce]+ie.mainAxis,me=L.reference[Q]+L.reference[ce]-ie.mainAxis;J<ue?J=ue:J>me&&(J=me)}if(V){var se,oe;const ce=Q==="y"?"width":"height",ue=originSides.has(getSide(I)),me=L.reference[Y]-L.floating[ce]+(ue&&((se=z.offset)==null?void 0:se[Y])||0)+(ue?0:ie.crossAxis),he=L.reference[Y]+L.reference[ce]+(ue?0:((oe=z.offset)==null?void 0:oe[Y])||0)-(ue?ie.crossAxis:0);te<me?te=me:te>he&&(te=he)}return{[Q]:J,[Y]:te}}}},size$2=function(_){return _===void 0&&(_={}),{name:"size",options:_,async fn(R){var P,O;const{placement:I,rects:L,platform:z,elements:F}=R,{apply:G=()=>{},...V}=evaluate(_,R),Z=await detectOverflow(R,V),Y=getSide(I),Q=getAlignment(I),J=getSideAxis(I)==="y",{width:te,height:ne}=L.floating;let ie,se;Y==="top"||Y==="bottom"?(ie=Y,se=Q===(await(z.isRTL==null?void 0:z.isRTL(F.floating))?"start":"end")?"left":"right"):(se=Y,ie=Q==="end"?"top":"bottom");const oe=ne-Z.top-Z.bottom,ce=te-Z.left-Z.right,ue=min$2(ne-Z[ie],oe),me=min$2(te-Z[se],ce),he=!R.middlewareData.shift;let fe=ue,de=me;if((P=R.middlewareData.shift)!=null&&P.enabled.x&&(de=ce),(O=R.middlewareData.shift)!=null&&O.enabled.y&&(fe=oe),he&&!Q){const be=max$1(Z.left,0),ye=max$1(Z.right,0),we=max$1(Z.top,0),ve=max$1(Z.bottom,0);J?de=te-2*(be!==0||ye!==0?be+ye:max$1(Z.left,Z.right)):fe=ne-2*(we!==0||ve!==0?we+ve:max$1(Z.top,Z.bottom))}await G({...R,availableWidth:de,availableHeight:fe});const pe=await z.getDimensions(F.floating);return te!==pe.width||ne!==pe.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(_){return isNode(_)?(_.nodeName||"").toLowerCase():"#document"}function getWindow(_){var R;return(_==null||(R=_.ownerDocument)==null?void 0:R.defaultView)||window}function getDocumentElement(_){var R;return(R=(isNode(_)?_.ownerDocument:_.document)||window.document)==null?void 0:R.documentElement}function isNode(_){return hasWindow()?_ instanceof Node||_ instanceof getWindow(_).Node:!1}function isElement(_){return hasWindow()?_ instanceof Element||_ instanceof getWindow(_).Element:!1}function isHTMLElement(_){return hasWindow()?_ instanceof HTMLElement||_ instanceof getWindow(_).HTMLElement:!1}function isShadowRoot(_){return!hasWindow()||typeof ShadowRoot>"u"?!1:_ instanceof ShadowRoot||_ instanceof getWindow(_).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(_){const{overflow:R,overflowX:P,overflowY:O,display:I}=getComputedStyle$1(_);return/auto|scroll|overlay|hidden|clip/.test(R+O+P)&&!invalidOverflowDisplayValues.has(I)}const tableElements$1=new Set(["table","td","th"]);function isTableElement(_){return tableElements$1.has(getNodeName(_))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(_){return topLayerSelectors.some(R=>{try{return _.matches(R)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(_){const R=isWebKit(),P=isElement(_)?getComputedStyle$1(_):_;return transformProperties.some(O=>P[O]?P[O]!=="none":!1)||(P.containerType?P.containerType!=="normal":!1)||!R&&(P.backdropFilter?P.backdropFilter!=="none":!1)||!R&&(P.filter?P.filter!=="none":!1)||willChangeValues.some(O=>(P.willChange||"").includes(O))||containValues.some(O=>(P.contain||"").includes(O))}function getContainingBlock(_){let R=getParentNode(_);for(;isHTMLElement(R)&&!isLastTraversableNode(R);){if(isContainingBlock(R))return R;if(isTopLayer(R))return null;R=getParentNode(R)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(_){return lastTraversableNodeNames.has(getNodeName(_))}function getComputedStyle$1(_){return getWindow(_).getComputedStyle(_)}function getNodeScroll(_){return isElement(_)?{scrollLeft:_.scrollLeft,scrollTop:_.scrollTop}:{scrollLeft:_.scrollX,scrollTop:_.scrollY}}function getParentNode(_){if(getNodeName(_)==="html")return _;const R=_.assignedSlot||_.parentNode||isShadowRoot(_)&&_.host||getDocumentElement(_);return isShadowRoot(R)?R.host:R}function getNearestOverflowAncestor(_){const R=getParentNode(_);return isLastTraversableNode(R)?_.ownerDocument?_.ownerDocument.body:_.body:isHTMLElement(R)&&isOverflowElement(R)?R:getNearestOverflowAncestor(R)}function getOverflowAncestors(_,R,P){var O;R===void 0&&(R=[]),P===void 0&&(P=!0);const I=getNearestOverflowAncestor(_),L=I===((O=_.ownerDocument)==null?void 0:O.body),z=getWindow(I);if(L){const F=getFrameElement(z);return R.concat(z,z.visualViewport||[],isOverflowElement(I)?I:[],F&&P?getOverflowAncestors(F):[])}return R.concat(I,getOverflowAncestors(I,[],P))}function getFrameElement(_){return _.parent&&Object.getPrototypeOf(_.parent)?_.frameElement:null}function getCssDimensions(_){const R=getComputedStyle$1(_);let P=parseFloat(R.width)||0,O=parseFloat(R.height)||0;const I=isHTMLElement(_),L=I?_.offsetWidth:P,z=I?_.offsetHeight:O,F=round$1(P)!==L||round$1(O)!==z;return F&&(P=L,O=z),{width:P,height:O,$:F}}function unwrapElement(_){return isElement(_)?_:_.contextElement}function getScale(_){const R=unwrapElement(_);if(!isHTMLElement(R))return createCoords(1);const P=R.getBoundingClientRect(),{width:O,height:I,$:L}=getCssDimensions(R);let z=(L?round$1(P.width):P.width)/O,F=(L?round$1(P.height):P.height)/I;return(!z||!Number.isFinite(z))&&(z=1),(!F||!Number.isFinite(F))&&(F=1),{x:z,y:F}}const noOffsets=createCoords(0);function getVisualOffsets(_){const R=getWindow(_);return!isWebKit()||!R.visualViewport?noOffsets:{x:R.visualViewport.offsetLeft,y:R.visualViewport.offsetTop}}function shouldAddVisualOffsets(_,R,P){return R===void 0&&(R=!1),!P||R&&P!==getWindow(_)?!1:R}function getBoundingClientRect(_,R,P,O){R===void 0&&(R=!1),P===void 0&&(P=!1);const I=_.getBoundingClientRect(),L=unwrapElement(_);let z=createCoords(1);R&&(O?isElement(O)&&(z=getScale(O)):z=getScale(_));const F=shouldAddVisualOffsets(L,P,O)?getVisualOffsets(L):createCoords(0);let G=(I.left+F.x)/z.x,V=(I.top+F.y)/z.y,Z=I.width/z.x,Y=I.height/z.y;if(L){const Q=getWindow(L),J=O&&isElement(O)?getWindow(O):O;let te=Q,ne=getFrameElement(te);for(;ne&&O&&J!==te;){const ie=getScale(ne),se=ne.getBoundingClientRect(),oe=getComputedStyle$1(ne),ce=se.left+(ne.clientLeft+parseFloat(oe.paddingLeft))*ie.x,ue=se.top+(ne.clientTop+parseFloat(oe.paddingTop))*ie.y;G*=ie.x,V*=ie.y,Z*=ie.x,Y*=ie.y,G+=ce,V+=ue,te=getWindow(ne),ne=getFrameElement(te)}}return rectToClientRect({width:Z,height:Y,x:G,y:V})}function getWindowScrollBarX(_,R){const P=getNodeScroll(_).scrollLeft;return R?R.left+P:getBoundingClientRect(getDocumentElement(_)).left+P}function getHTMLOffset(_,R){const P=_.getBoundingClientRect(),O=P.left+R.scrollLeft-getWindowScrollBarX(_,P),I=P.top+R.scrollTop;return{x:O,y:I}}function convertOffsetParentRelativeRectToViewportRelativeRect(_){let{elements:R,rect:P,offsetParent:O,strategy:I}=_;const L=I==="fixed",z=getDocumentElement(O),F=R?isTopLayer(R.floating):!1;if(O===z||F&&L)return P;let G={scrollLeft:0,scrollTop:0},V=createCoords(1);const Z=createCoords(0),Y=isHTMLElement(O);if((Y||!Y&&!L)&&((getNodeName(O)!=="body"||isOverflowElement(z))&&(G=getNodeScroll(O)),isHTMLElement(O))){const J=getBoundingClientRect(O);V=getScale(O),Z.x=J.x+O.clientLeft,Z.y=J.y+O.clientTop}const Q=z&&!Y&&!L?getHTMLOffset(z,G):createCoords(0);return{width:P.width*V.x,height:P.height*V.y,x:P.x*V.x-G.scrollLeft*V.x+Z.x+Q.x,y:P.y*V.y-G.scrollTop*V.y+Z.y+Q.y}}function getClientRects(_){return Array.from(_.getClientRects())}function getDocumentRect(_){const R=getDocumentElement(_),P=getNodeScroll(_),O=_.ownerDocument.body,I=max$1(R.scrollWidth,R.clientWidth,O.scrollWidth,O.clientWidth),L=max$1(R.scrollHeight,R.clientHeight,O.scrollHeight,O.clientHeight);let z=-P.scrollLeft+getWindowScrollBarX(_);const F=-P.scrollTop;return getComputedStyle$1(O).direction==="rtl"&&(z+=max$1(R.clientWidth,O.clientWidth)-I),{width:I,height:L,x:z,y:F}}const SCROLLBAR_MAX=25;function getViewportRect(_,R){const P=getWindow(_),O=getDocumentElement(_),I=P.visualViewport;let L=O.clientWidth,z=O.clientHeight,F=0,G=0;if(I){L=I.width,z=I.height;const Z=isWebKit();(!Z||Z&&R==="fixed")&&(F=I.offsetLeft,G=I.offsetTop)}const V=getWindowScrollBarX(O);if(V<=0){const Z=O.ownerDocument,Y=Z.body,Q=getComputedStyle(Y),J=Z.compatMode==="CSS1Compat"&&parseFloat(Q.marginLeft)+parseFloat(Q.marginRight)||0,te=Math.abs(O.clientWidth-Y.clientWidth-J);te<=SCROLLBAR_MAX&&(L-=te)}else V<=SCROLLBAR_MAX&&(L+=V);return{width:L,height:z,x:F,y:G}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(_,R){const P=getBoundingClientRect(_,!0,R==="fixed"),O=P.top+_.clientTop,I=P.left+_.clientLeft,L=isHTMLElement(_)?getScale(_):createCoords(1),z=_.clientWidth*L.x,F=_.clientHeight*L.y,G=I*L.x,V=O*L.y;return{width:z,height:F,x:G,y:V}}function getClientRectFromClippingAncestor(_,R,P){let O;if(R==="viewport")O=getViewportRect(_,P);else if(R==="document")O=getDocumentRect(getDocumentElement(_));else if(isElement(R))O=getInnerBoundingClientRect(R,P);else{const I=getVisualOffsets(_);O={x:R.x-I.x,y:R.y-I.y,width:R.width,height:R.height}}return rectToClientRect(O)}function hasFixedPositionAncestor(_,R){const P=getParentNode(_);return P===R||!isElement(P)||isLastTraversableNode(P)?!1:getComputedStyle$1(P).position==="fixed"||hasFixedPositionAncestor(P,R)}function getClippingElementAncestors(_,R){const P=R.get(_);if(P)return P;let O=getOverflowAncestors(_,[],!1).filter(F=>isElement(F)&&getNodeName(F)!=="body"),I=null;const L=getComputedStyle$1(_).position==="fixed";let z=L?getParentNode(_):_;for(;isElement(z)&&!isLastTraversableNode(z);){const F=getComputedStyle$1(z),G=isContainingBlock(z);!G&&F.position==="fixed"&&(I=null),(L?!G&&!I:!G&&F.position==="static"&&!!I&&absoluteOrFixed.has(I.position)||isOverflowElement(z)&&!G&&hasFixedPositionAncestor(_,z))?O=O.filter(Z=>Z!==z):I=F,z=getParentNode(z)}return R.set(_,O),O}function getClippingRect(_){let{element:R,boundary:P,rootBoundary:O,strategy:I}=_;const z=[...P==="clippingAncestors"?isTopLayer(R)?[]:getClippingElementAncestors(R,this._c):[].concat(P),O],F=z[0],G=z.reduce((V,Z)=>{const Y=getClientRectFromClippingAncestor(R,Z,I);return V.top=max$1(Y.top,V.top),V.right=min$2(Y.right,V.right),V.bottom=min$2(Y.bottom,V.bottom),V.left=max$1(Y.left,V.left),V},getClientRectFromClippingAncestor(R,F,I));return{width:G.right-G.left,height:G.bottom-G.top,x:G.left,y:G.top}}function getDimensions(_){const{width:R,height:P}=getCssDimensions(_);return{width:R,height:P}}function getRectRelativeToOffsetParent(_,R,P){const O=isHTMLElement(R),I=getDocumentElement(R),L=P==="fixed",z=getBoundingClientRect(_,!0,L,R);let F={scrollLeft:0,scrollTop:0};const G=createCoords(0);function V(){G.x=getWindowScrollBarX(I)}if(O||!O&&!L)if((getNodeName(R)!=="body"||isOverflowElement(I))&&(F=getNodeScroll(R)),O){const J=getBoundingClientRect(R,!0,L,R);G.x=J.x+R.clientLeft,G.y=J.y+R.clientTop}else I&&V();L&&!O&&I&&V();const Z=I&&!O&&!L?getHTMLOffset(I,F):createCoords(0),Y=z.left+F.scrollLeft-G.x-Z.x,Q=z.top+F.scrollTop-G.y-Z.y;return{x:Y,y:Q,width:z.width,height:z.height}}function isStaticPositioned(_){return getComputedStyle$1(_).position==="static"}function getTrueOffsetParent(_,R){if(!isHTMLElement(_)||getComputedStyle$1(_).position==="fixed")return null;if(R)return R(_);let P=_.offsetParent;return getDocumentElement(_)===P&&(P=P.ownerDocument.body),P}function getOffsetParent(_,R){const P=getWindow(_);if(isTopLayer(_))return P;if(!isHTMLElement(_)){let I=getParentNode(_);for(;I&&!isLastTraversableNode(I);){if(isElement(I)&&!isStaticPositioned(I))return I;I=getParentNode(I)}return P}let O=getTrueOffsetParent(_,R);for(;O&&isTableElement(O)&&isStaticPositioned(O);)O=getTrueOffsetParent(O,R);return O&&isLastTraversableNode(O)&&isStaticPositioned(O)&&!isContainingBlock(O)?P:O||getContainingBlock(_)||P}const getElementRects=async function(_){const R=this.getOffsetParent||getOffsetParent,P=this.getDimensions,O=await P(_.floating);return{reference:getRectRelativeToOffsetParent(_.reference,await R(_.floating),_.strategy),floating:{x:0,y:0,width:O.width,height:O.height}}};function isRTL(_){return getComputedStyle$1(_).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(_,R){return _.x===R.x&&_.y===R.y&&_.width===R.width&&_.height===R.height}function observeMove(_,R){let P=null,O;const I=getDocumentElement(_);function L(){var F;clearTimeout(O),(F=P)==null||F.disconnect(),P=null}function z(F,G){F===void 0&&(F=!1),G===void 0&&(G=1),L();const V=_.getBoundingClientRect(),{left:Z,top:Y,width:Q,height:J}=V;if(F||R(),!Q||!J)return;const te=floor(Y),ne=floor(I.clientWidth-(Z+Q)),ie=floor(I.clientHeight-(Y+J)),se=floor(Z),ce={rootMargin:-te+"px "+-ne+"px "+-ie+"px "+-se+"px",threshold:max$1(0,min$2(1,G))||1};let ue=!0;function me(he){const fe=he[0].intersectionRatio;if(fe!==G){if(!ue)return z();fe?z(!1,fe):O=setTimeout(()=>{z(!1,1e-7)},1e3)}fe===1&&!rectsAreEqual(V,_.getBoundingClientRect())&&z(),ue=!1}try{P=new IntersectionObserver(me,{...ce,root:I.ownerDocument})}catch{P=new IntersectionObserver(me,ce)}P.observe(_)}return z(!0),L}function autoUpdate(_,R,P,O){O===void 0&&(O={});const{ancestorScroll:I=!0,ancestorResize:L=!0,elementResize:z=typeof ResizeObserver=="function",layoutShift:F=typeof IntersectionObserver=="function",animationFrame:G=!1}=O,V=unwrapElement(_),Z=I||L?[...V?getOverflowAncestors(V):[],...getOverflowAncestors(R)]:[];Z.forEach(se=>{I&&se.addEventListener("scroll",P,{passive:!0}),L&&se.addEventListener("resize",P)});const Y=V&&F?observeMove(V,P):null;let Q=-1,J=null;z&&(J=new ResizeObserver(se=>{let[oe]=se;oe&&oe.target===V&&J&&(J.unobserve(R),cancelAnimationFrame(Q),Q=requestAnimationFrame(()=>{var ce;(ce=J)==null||ce.observe(R)})),P()}),V&&!G&&J.observe(V),J.observe(R));let te,ne=G?getBoundingClientRect(_):null;G&&ie();function ie(){const se=getBoundingClientRect(_);ne&&!rectsAreEqual(ne,se)&&P(),ne=se,te=requestAnimationFrame(ie)}return P(),()=>{var se;Z.forEach(oe=>{I&&oe.removeEventListener("scroll",P),L&&oe.removeEventListener("resize",P)}),Y?.(),(se=J)==null||se.disconnect(),J=null,G&&cancelAnimationFrame(te)}}const offset$2=offset$3,shift$1=shift$2,flip$2=flip$3,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(_,R,P)=>{const O=new Map,I={platform,...P},L={...I.platform,_c:O};return computePosition$1(_,R,{...I,platform:L})};var isClient=typeof document<"u",noop$3=function _(){},index$1=isClient?reactExports.useLayoutEffect:noop$3;function deepEqual(_,R){if(_===R)return!0;if(typeof _!=typeof R)return!1;if(typeof _=="function"&&_.toString()===R.toString())return!0;let P,O,I;if(_&&R&&typeof _=="object"){if(Array.isArray(_)){if(P=_.length,P!==R.length)return!1;for(O=P;O--!==0;)if(!deepEqual(_[O],R[O]))return!1;return!0}if(I=Object.keys(_),P=I.length,P!==Object.keys(R).length)return!1;for(O=P;O--!==0;)if(!{}.hasOwnProperty.call(R,I[O]))return!1;for(O=P;O--!==0;){const L=I[O];if(!(L==="_owner"&&_.$$typeof)&&!deepEqual(_[L],R[L]))return!1}return!0}return _!==_&&R!==R}function getDPR(_){return typeof window>"u"?1:(_.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(_,R){const P=getDPR(_);return Math.round(R*P)/P}function useLatestRef(_){const R=reactExports.useRef(_);return index$1(()=>{R.current=_}),R}function useFloating(_){_===void 0&&(_={});const{placement:R="bottom",strategy:P="absolute",middleware:O=[],platform:I,elements:{reference:L,floating:z}={},transform:F=!0,whileElementsMounted:G,open:V}=_,[Z,Y]=reactExports.useState({x:0,y:0,strategy:P,placement:R,middlewareData:{},isPositioned:!1}),[Q,J]=reactExports.useState(O);deepEqual(Q,O)||J(O);const[te,ne]=reactExports.useState(null),[ie,se]=reactExports.useState(null),oe=reactExports.useCallback(Me=>{Me!==he.current&&(he.current=Me,ne(Me))},[]),ce=reactExports.useCallback(Me=>{Me!==fe.current&&(fe.current=Me,se(Me))},[]),ue=L||te,me=z||ie,he=reactExports.useRef(null),fe=reactExports.useRef(null),de=reactExports.useRef(Z),pe=G!=null,be=useLatestRef(G),ye=useLatestRef(I),we=useLatestRef(V),ve=reactExports.useCallback(()=>{if(!he.current||!fe.current)return;const Me={placement:R,strategy:P,middleware:Q};ye.current&&(Me.platform=ye.current),computePosition(he.current,fe.current,Me).then($e=>{const Se={...$e,isPositioned:we.current!==!1};Ae.current&&!deepEqual(de.current,Se)&&(de.current=Se,reactDomExports.flushSync(()=>{Y(Se)}))})},[Q,R,P,ye,we]);index$1(()=>{V===!1&&de.current.isPositioned&&(de.current.isPositioned=!1,Y(Me=>({...Me,isPositioned:!1})))},[V]);const Ae=reactExports.useRef(!1);index$1(()=>(Ae.current=!0,()=>{Ae.current=!1}),[]),index$1(()=>{if(ue&&(he.current=ue),me&&(fe.current=me),ue&&me){if(be.current)return be.current(ue,me,ve);ve()}},[ue,me,ve,be,pe]);const Ce=reactExports.useMemo(()=>({reference:he,floating:fe,setReference:oe,setFloating:ce}),[oe,ce]),_e=reactExports.useMemo(()=>({reference:ue,floating:me}),[ue,me]),Re=reactExports.useMemo(()=>{const Me={position:P,left:0,top:0};if(!_e.floating)return Me;const $e=roundByDPR(_e.floating,Z.x),Se=roundByDPR(_e.floating,Z.y);return F?{...Me,transform:"translate("+$e+"px, "+Se+"px)",...getDPR(_e.floating)>=1.5&&{willChange:"transform"}}:{position:P,left:$e,top:Se}},[P,F,_e.floating,Z.x,Z.y]);return reactExports.useMemo(()=>({...Z,update:ve,refs:Ce,elements:_e,floatingStyles:Re}),[Z,ve,Ce,_e,Re])}const arrow$1=_=>{function R(P){return{}.hasOwnProperty.call(P,"current")}return{name:"arrow",options:_,fn(P){const{element:O,padding:I}=typeof _=="function"?_(P):_;return O&&R(O)?O.current!=null?arrow$2({element:O.current,padding:I}).fn(P):{}:O?arrow$2({element:O,padding:I}).fn(P):{}}}},offset$1=(_,R)=>({...offset$2(_),options:[_,R]}),shift=(_,R)=>({...shift$1(_),options:[_,R]}),limitShift=(_,R)=>({...limitShift$1(_),options:[_,R]}),flip$1=(_,R)=>({...flip$2(_),options:[_,R]}),size=(_,R)=>({...size$1(_),options:[_,R]}),hide=(_,R)=>({...hide$1(_),options:[_,R]}),arrow=(_,R)=>({...arrow$1(_),options:[_,R]});var NAME$3="Arrow",Arrow$1=reactExports.forwardRef((_,R)=>{const{children:P,width:O=10,height:I=5,...L}=_;return jsxRuntimeExports.jsx(Primitive$2.svg,{...L,ref:R,width:O,height:I,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:_.asChild?P:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$3;var Root$6=Arrow$1,POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope$1(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=_=>{const{__scopePopper:R,children:P}=_,[O,I]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:R,anchor:O,onAnchorChange:I,children:P})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME="PopperAnchor",PopperAnchor=reactExports.forwardRef((_,R)=>{const{__scopePopper:P,virtualRef:O,...I}=_,L=usePopperContext(ANCHOR_NAME,P),z=reactExports.useRef(null),F=useComposedRefs(R,z),G=reactExports.useRef(null);return reactExports.useEffect(()=>{const V=G.current;G.current=O?.current||z.current,V!==G.current&&L.onAnchorChange(G.current)}),O?null:jsxRuntimeExports.jsx(Primitive$2.div,{...I,ref:F})});PopperAnchor.displayName=ANCHOR_NAME;var CONTENT_NAME$4="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$4),PopperContent=reactExports.forwardRef((_,R)=>{const{__scopePopper:P,side:O="bottom",sideOffset:I=0,align:L="center",alignOffset:z=0,arrowPadding:F=0,avoidCollisions:G=!0,collisionBoundary:V=[],collisionPadding:Z=0,sticky:Y="partial",hideWhenDetached:Q=!1,updatePositionStrategy:J="optimized",onPlaced:te,...ne}=_,ie=usePopperContext(CONTENT_NAME$4,P),[se,oe]=reactExports.useState(null),ce=useComposedRefs(R,Ie=>oe(Ie)),[ue,me]=reactExports.useState(null),he=useSize(ue),fe=he?.width??0,de=he?.height??0,pe=O+(L!=="center"?"-"+L:""),be=typeof Z=="number"?Z:{top:0,right:0,bottom:0,left:0,...Z},ye=Array.isArray(V)?V:[V],we=ye.length>0,ve={padding:be,boundary:ye.filter(isNotNull),altBoundary:we},{refs:Ae,floatingStyles:Ce,placement:_e,isPositioned:Re,middlewareData:Me}=useFloating({strategy:"fixed",placement:pe,whileElementsMounted:(...Ie)=>autoUpdate(...Ie,{animationFrame:J==="always"}),elements:{reference:ie.anchor},middleware:[offset$1({mainAxis:I+de,alignmentAxis:z}),G&&shift({mainAxis:!0,crossAxis:!1,limiter:Y==="partial"?limitShift():void 0,...ve}),G&&flip$1({...ve}),size({...ve,apply:({elements:Ie,rects:Ge,availableWidth:Oe,availableHeight:Ve})=>{const{width:Ue,height:De}=Ge.reference,nt=Ie.floating.style;nt.setProperty("--radix-popper-available-width",`${Oe}px`),nt.setProperty("--radix-popper-available-height",`${Ve}px`),nt.setProperty("--radix-popper-anchor-width",`${Ue}px`),nt.setProperty("--radix-popper-anchor-height",`${De}px`)}}),ue&&arrow({element:ue,padding:F}),transformOrigin({arrowWidth:fe,arrowHeight:de}),Q&&hide({strategy:"referenceHidden",...ve})]}),[$e,Se]=getSideAndAlignFromPlacement(_e),Ee=useCallbackRef$1(te);useLayoutEffect2(()=>{Re&&Ee?.()},[Re,Ee]);const ke=Me.arrow?.x,xe=Me.arrow?.y,ze=Me.arrow?.centerOffset!==0,[Ze,Ye]=reactExports.useState();return useLayoutEffect2(()=>{se&&Ye(window.getComputedStyle(se).zIndex)},[se]),jsxRuntimeExports.jsx("div",{ref:Ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ce,transform:Re?Ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ze,"--radix-popper-transform-origin":[Me.transformOrigin?.x,Me.transformOrigin?.y].join(" "),...Me.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:_.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:P,placedSide:$e,onArrowChange:me,arrowX:ke,arrowY:xe,shouldHideArrow:ze,children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-side":$e,"data-align":Se,...ne,ref:ce,style:{...ne.style,animation:Re?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$4;var ARROW_NAME$1="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function _(R,P){const{__scopePopper:O,...I}=R,L=useContentContext(ARROW_NAME$1,O),z=OPPOSITE_SIDE[L.placedSide];return jsxRuntimeExports.jsx("span",{ref:L.onArrowChange,style:{position:"absolute",left:L.arrowX,top:L.arrowY,[z]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[L.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[L.placedSide],visibility:L.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$6,{...I,ref:P,style:{...I.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$1;function isNotNull(_){return _!==null}var transformOrigin=_=>({name:"transformOrigin",options:_,fn(R){const{placement:P,rects:O,middlewareData:I}=R,z=I.arrow?.centerOffset!==0,F=z?0:_.arrowWidth,G=z?0:_.arrowHeight,[V,Z]=getSideAndAlignFromPlacement(P),Y={start:"0%",center:"50%",end:"100%"}[Z],Q=(I.arrow?.x??0)+F/2,J=(I.arrow?.y??0)+G/2;let te="",ne="";return V==="bottom"?(te=z?Y:`${Q}px`,ne=`${-G}px`):V==="top"?(te=z?Y:`${Q}px`,ne=`${O.floating.height+G}px`):V==="right"?(te=`${-G}px`,ne=z?Y:`${J}px`):V==="left"&&(te=`${O.floating.width+G}px`,ne=z?Y:`${J}px`),{data:{x:te,y:ne}}}});function getSideAndAlignFromPlacement(_){const[R,P="center"]=_.split("-");return[R,P]}var Root2$2=Popper,Anchor$1=PopperAnchor,Content$2=PopperContent,Arrow=PopperArrow,PORTAL_NAME$1="Portal",Portal$1=reactExports.forwardRef((_,R)=>{const{container:P,...O}=_,[I,L]=reactExports.useState(!1);useLayoutEffect2(()=>L(!0),[]);const z=P||I&&globalThis?.document?.body;return z?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$2.div,{...O,ref:R}),z):null});Portal$1.displayName=PORTAL_NAME$1;function createSlot(_){const R=createSlotClone(_),P=reactExports.forwardRef((O,I)=>{const{children:L,...z}=O,F=reactExports.Children.toArray(L),G=F.find(isSlottable);if(G){const V=G.props.children,Z=F.map(Y=>Y===G?reactExports.Children.count(V)>1?reactExports.Children.only(null):reactExports.isValidElement(V)?V.props.children:null:Y);return jsxRuntimeExports.jsx(R,{...z,ref:I,children:reactExports.isValidElement(V)?reactExports.cloneElement(V,void 0,Z):null})}return jsxRuntimeExports.jsx(R,{...z,ref:I,children:L})});return P.displayName=`${_}.Slot`,P}function createSlotClone(_){const R=reactExports.forwardRef((P,O)=>{const{children:I,...L}=P;if(reactExports.isValidElement(I)){const z=getElementRef(I),F=mergeProps(L,I.props);return I.type!==reactExports.Fragment&&(F.ref=O?composeRefs(O,z):z),reactExports.cloneElement(I,F)}return reactExports.Children.count(I)>1?reactExports.Children.only(null):null});return R.displayName=`${_}.SlotClone`,R}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(_){return reactExports.isValidElement(_)&&typeof _.type=="function"&&"__radixId"in _.type&&_.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(_,R){const P={...R};for(const O in R){const I=_[O],L=R[O];/^on[A-Z]/.test(O)?I&&L?P[O]=(...F)=>{const G=L(...F);return I(...F),G}:I&&(P[O]=I):O==="style"?P[O]={...I,...L}:O==="className"&&(P[O]=[I,L].filter(Boolean).join(" "))}return{..._,...P}}function getElementRef(_){let R=Object.getOwnPropertyDescriptor(_.props,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning;return P?_.ref:(R=Object.getOwnPropertyDescriptor(_,"ref")?.get,P=R&&"isReactWarning"in R&&R.isReactWarning,P?_.props.ref:_.props.ref||_.ref)}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME$2="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((_,R)=>jsxRuntimeExports.jsx(Primitive$2.span,{..._,ref:R,style:{...VISUALLY_HIDDEN_STYLES,..._.style}}));VisuallyHidden.displayName=NAME$2;var getDefaultParent=function(_){if(typeof document>"u")return null;var R=Array.isArray(_)?_[0]:_;return R.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(_){return _&&(_.host||unwrapHost(_.parentNode))},correctTargets=function(_,R){return R.map(function(P){if(_.contains(P))return P;var O=unwrapHost(P);return O&&_.contains(O)?O:(console.error("aria-hidden",P,"in not contained inside",_,". Doing nothing"),null)}).filter(function(P){return!!P})},applyAttributeToOthers=function(_,R,P,O){var I=correctTargets(R,Array.isArray(_)?_:[_]);markerMap[P]||(markerMap[P]=new WeakMap);var L=markerMap[P],z=[],F=new Set,G=new Set(I),V=function(Y){!Y||F.has(Y)||(F.add(Y),V(Y.parentNode))};I.forEach(V);var Z=function(Y){!Y||G.has(Y)||Array.prototype.forEach.call(Y.children,function(Q){if(F.has(Q))Z(Q);else try{var J=Q.getAttribute(O),te=J!==null&&J!=="false",ne=(counterMap.get(Q)||0)+1,ie=(L.get(Q)||0)+1;counterMap.set(Q,ne),L.set(Q,ie),z.push(Q),ne===1&&te&&uncontrolledNodes.set(Q,!0),ie===1&&Q.setAttribute(P,"true"),te||Q.setAttribute(O,"true")}catch(se){console.error("aria-hidden: cannot operate on ",Q,se)}})};return Z(R),F.clear(),lockCount++,function(){z.forEach(function(Y){var Q=counterMap.get(Y)-1,J=L.get(Y)-1;counterMap.set(Y,Q),L.set(Y,J),Q||(uncontrolledNodes.has(Y)||Y.removeAttribute(O),uncontrolledNodes.delete(Y)),J||Y.removeAttribute(P)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(_,R,P){P===void 0&&(P="data-aria-hidden");var O=Array.from(Array.isArray(_)?_:[_]),I=getDefaultParent(_);return I?(O.push.apply(O,Array.from(I.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(O,I,P,"aria-hidden")):function(){return null}},__assign=function(){return __assign=Object.assign||function(R){for(var P,O=1,I=arguments.length;O<I;O++){P=arguments[O];for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(R[L]=P[L])}return R},__assign.apply(this,arguments)};function __rest(_,R){var P={};for(var O in _)Object.prototype.hasOwnProperty.call(_,O)&&R.indexOf(O)<0&&(P[O]=_[O]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var I=0,O=Object.getOwnPropertySymbols(_);I<O.length;I++)R.indexOf(O[I])<0&&Object.prototype.propertyIsEnumerable.call(_,O[I])&&(P[O[I]]=_[O[I]]);return P}function __spreadArray(_,R,P){if(P||arguments.length===2)for(var O=0,I=R.length,L;O<I;O++)(L||!(O in R))&&(L||(L=Array.prototype.slice.call(R,0,O)),L[O]=R[O]);return _.concat(L||Array.prototype.slice.call(R))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(_,R){return typeof _=="function"?_(R):_&&(_.current=R),_}function useCallbackRef(_,R){var P=reactExports.useState(function(){return{value:_,callback:R,facade:{get current(){return P.value},set current(O){var I=P.value;I!==O&&(P.value=O,P.callback(O,I))}}}})[0];return P.callback=R,P.facade}var useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(_,R){var P=useCallbackRef(null,function(O){return _.forEach(function(I){return assignRef(I,O)})});return useIsomorphicLayoutEffect$1(function(){var O=currentValues.get(P);if(O){var I=new Set(O),L=new Set(_),z=P.current;I.forEach(function(F){L.has(F)||assignRef(F,null)}),L.forEach(function(F){I.has(F)||assignRef(F,z)})}currentValues.set(P,_)},[_]),P}function ItoI(_){return _}function innerCreateMedium(_,R){R===void 0&&(R=ItoI);var P=[],O=!1,I={read:function(){if(O)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return P.length?P[P.length-1]:_},useMedium:function(L){var z=R(L,O);return P.push(z),function(){P=P.filter(function(F){return F!==z})}},assignSyncMedium:function(L){for(O=!0;P.length;){var z=P;P=[],z.forEach(L)}P={push:function(F){return L(F)},filter:function(){return P}}},assignMedium:function(L){O=!0;var z=[];if(P.length){var F=P;P=[],F.forEach(L),z=P}var G=function(){var Z=z;z=[],Z.forEach(L)},V=function(){return Promise.resolve().then(G)};V(),P={push:function(Z){z.push(Z),V()},filter:function(Z){return z=z.filter(Z),P}}}};return I}function createSidecarMedium(_){_===void 0&&(_={});var R=innerCreateMedium(null);return R.options=__assign({async:!0,ssr:!1},_),R}var SideCar$1=function(_){var R=_.sideCar,P=__rest(_,["sideCar"]);if(!R)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var O=R.read();if(!O)throw new Error("Sidecar medium not found");return reactExports.createElement(O,__assign({},P))};SideCar$1.isSideCarExport=!0;function exportSidecar(_,R){return _.useMedium(R),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(_,R){var P=reactExports.useRef(null),O=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),I=O[0],L=O[1],z=_.forwardProps,F=_.children,G=_.className,V=_.removeScrollBar,Z=_.enabled,Y=_.shards,Q=_.sideCar,J=_.noRelative,te=_.noIsolation,ne=_.inert,ie=_.allowPinchZoom,se=_.as,oe=se===void 0?"div":se,ce=_.gapMode,ue=__rest(_,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),me=Q,he=useMergeRefs([P,R]),fe=__assign(__assign({},ue),I);return reactExports.createElement(reactExports.Fragment,null,Z&&reactExports.createElement(me,{sideCar:effectCar,removeScrollBar:V,shards:Y,noRelative:J,noIsolation:te,inert:ne,setCallbacks:L,allowPinchZoom:!!ie,lockRef:P,gapMode:ce}),z?reactExports.cloneElement(reactExports.Children.only(F),__assign(__assign({},fe),{ref:he})):reactExports.createElement(oe,__assign({},fe,{className:G,ref:he}),F))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var _=document.createElement("style");_.type="text/css";var R=getNonce();return R&&_.setAttribute("nonce",R),_}function injectStyles(_,R){_.styleSheet?_.styleSheet.cssText=R:_.appendChild(document.createTextNode(R))}function insertStyleTag(_){var R=document.head||document.getElementsByTagName("head")[0];R.appendChild(_)}var stylesheetSingleton=function(){var _=0,R=null;return{add:function(P){_==0&&(R=makeStyleTag())&&(injectStyles(R,P),insertStyleTag(R)),_++},remove:function(){_--,!_&&R&&(R.parentNode&&R.parentNode.removeChild(R),R=null)}}},styleHookSingleton=function(){var _=stylesheetSingleton();return function(R,P){reactExports.useEffect(function(){return _.add(R),function(){_.remove()}},[R&&P])}},styleSingleton=function(){var _=styleHookSingleton(),R=function(P){var O=P.styles,I=P.dynamic;return _(O,I),null};return R},zeroGap={left:0,top:0,right:0,gap:0},parse$5=function(_){return parseInt(_||"",10)||0},getOffset=function(_){var R=window.getComputedStyle(document.body),P=R[_==="padding"?"paddingLeft":"marginLeft"],O=R[_==="padding"?"paddingTop":"marginTop"],I=R[_==="padding"?"paddingRight":"marginRight"];return[parse$5(P),parse$5(O),parse$5(I)]},getGapWidth=function(_){if(_===void 0&&(_="margin"),typeof window>"u")return zeroGap;var R=getOffset(_),P=document.documentElement.clientWidth,O=window.innerWidth;return{left:R[0],top:R[1],right:R[2],gap:Math.max(0,O-P+R[2]-R[0])}},Style$2=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(_,R,P,O){var I=_.left,L=_.top,z=_.right,F=_.gap;return P===void 0&&(P="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(O,`;
   padding-right: `).concat(F,"px ").concat(O,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(O,`;
    overscroll-behavior: contain;
    `).concat([R&&"position: relative ".concat(O,";"),P==="margin"&&`
    padding-left: `.concat(I,`px;
    padding-top: `).concat(L,`px;
    padding-right: `).concat(z,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(F,"px ").concat(O,`;
    `),P==="padding"&&"padding-right: ".concat(F,"px ").concat(O,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(F,"px ").concat(O,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(F,"px ").concat(O,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(O,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(O,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(F,`px;
  }
`)},getCurrentUseCounter=function(){var _=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(_)?_:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var _=getCurrentUseCounter()-1;_<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,_.toString())}},[])},RemoveScrollBar=function(_){var R=_.noRelative,P=_.noImportant,O=_.gapMode,I=O===void 0?"margin":O;useLockAttribute();var L=reactExports.useMemo(function(){return getGapWidth(I)},[I]);return reactExports.createElement(Style$2,{styles:getStyles(L,!R,I,P?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(_){return _.tagName==="TEXTAREA"},elementCanBeScrolled=function(_,R){if(!(_ instanceof Element))return!1;var P=window.getComputedStyle(_);return P[R]!=="hidden"&&!(P.overflowY===P.overflowX&&!alwaysContainsScroll(_)&&P[R]==="visible")},elementCouldBeVScrolled=function(_){return elementCanBeScrolled(_,"overflowY")},elementCouldBeHScrolled=function(_){return elementCanBeScrolled(_,"overflowX")},locationCouldBeScrolled=function(_,R){var P=R.ownerDocument,O=R;do{typeof ShadowRoot<"u"&&O instanceof ShadowRoot&&(O=O.host);var I=elementCouldBeScrolled(_,O);if(I){var L=getScrollVariables(_,O),z=L[1],F=L[2];if(z>F)return!0}O=O.parentNode}while(O&&O!==P.body);return!1},getVScrollVariables=function(_){var R=_.scrollTop,P=_.scrollHeight,O=_.clientHeight;return[R,P,O]},getHScrollVariables=function(_){var R=_.scrollLeft,P=_.scrollWidth,O=_.clientWidth;return[R,P,O]},elementCouldBeScrolled=function(_,R){return _==="v"?elementCouldBeVScrolled(R):elementCouldBeHScrolled(R)},getScrollVariables=function(_,R){return _==="v"?getVScrollVariables(R):getHScrollVariables(R)},getDirectionFactor=function(_,R){return _==="h"&&R==="rtl"?-1:1},handleScroll=function(_,R,P,O,I){var L=getDirectionFactor(_,window.getComputedStyle(R).direction),z=L*O,F=P.target,G=R.contains(F),V=!1,Z=z>0,Y=0,Q=0;do{if(!F)break;var J=getScrollVariables(_,F),te=J[0],ne=J[1],ie=J[2],se=ne-ie-L*te;(te||se)&&elementCouldBeScrolled(_,F)&&(Y+=se,Q+=te);var oe=F.parentNode;F=oe&&oe.nodeType===Node.DOCUMENT_FRAGMENT_NODE?oe.host:oe}while(!G&&F!==document.body||G&&(R.contains(F)||R===F));return(Z&&Math.abs(Y)<1||!Z&&Math.abs(Q)<1)&&(V=!0),V},getTouchXY=function(_){return"changedTouches"in _?[_.changedTouches[0].clientX,_.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(_){return[_.deltaX,_.deltaY]},extractRef=function(_){return _&&"current"in _?_.current:_},deltaCompare=function(_,R){return _[0]===R[0]&&_[1]===R[1]},generateStyle=function(_){return`
  .block-interactivity-`.concat(_,` {pointer-events: none;}
  .allow-interactivity-`).concat(_,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(_){var R=reactExports.useRef([]),P=reactExports.useRef([0,0]),O=reactExports.useRef(),I=reactExports.useState(idCounter++)[0],L=reactExports.useState(styleSingleton)[0],z=reactExports.useRef(_);reactExports.useEffect(function(){z.current=_},[_]),reactExports.useEffect(function(){if(_.inert){document.body.classList.add("block-interactivity-".concat(I));var ne=__spreadArray([_.lockRef.current],(_.shards||[]).map(extractRef),!0).filter(Boolean);return ne.forEach(function(ie){return ie.classList.add("allow-interactivity-".concat(I))}),function(){document.body.classList.remove("block-interactivity-".concat(I)),ne.forEach(function(ie){return ie.classList.remove("allow-interactivity-".concat(I))})}}},[_.inert,_.lockRef.current,_.shards]);var F=reactExports.useCallback(function(ne,ie){if("touches"in ne&&ne.touches.length===2||ne.type==="wheel"&&ne.ctrlKey)return!z.current.allowPinchZoom;var se=getTouchXY(ne),oe=P.current,ce="deltaX"in ne?ne.deltaX:oe[0]-se[0],ue="deltaY"in ne?ne.deltaY:oe[1]-se[1],me,he=ne.target,fe=Math.abs(ce)>Math.abs(ue)?"h":"v";if("touches"in ne&&fe==="h"&&he.type==="range")return!1;var de=window.getSelection(),pe=de&&de.anchorNode,be=pe?pe===he||pe.contains(he):!1;if(be)return!1;var ye=locationCouldBeScrolled(fe,he);if(!ye)return!0;if(ye?me=fe:(me=fe==="v"?"h":"v",ye=locationCouldBeScrolled(fe,he)),!ye)return!1;if(!O.current&&"changedTouches"in ne&&(ce||ue)&&(O.current=me),!me)return!0;var we=O.current||me;return handleScroll(we,ie,ne,we==="h"?ce:ue)},[]),G=reactExports.useCallback(function(ne){var ie=ne;if(!(!lockStack.length||lockStack[lockStack.length-1]!==L)){var se="deltaY"in ie?getDeltaXY(ie):getTouchXY(ie),oe=R.current.filter(function(me){return me.name===ie.type&&(me.target===ie.target||ie.target===me.shadowParent)&&deltaCompare(me.delta,se)})[0];if(oe&&oe.should){ie.cancelable&&ie.preventDefault();return}if(!oe){var ce=(z.current.shards||[]).map(extractRef).filter(Boolean).filter(function(me){return me.contains(ie.target)}),ue=ce.length>0?F(ie,ce[0]):!z.current.noIsolation;ue&&ie.cancelable&&ie.preventDefault()}}},[]),V=reactExports.useCallback(function(ne,ie,se,oe){var ce={name:ne,delta:ie,target:se,should:oe,shadowParent:getOutermostShadowParent(se)};R.current.push(ce),setTimeout(function(){R.current=R.current.filter(function(ue){return ue!==ce})},1)},[]),Z=reactExports.useCallback(function(ne){P.current=getTouchXY(ne),O.current=void 0},[]),Y=reactExports.useCallback(function(ne){V(ne.type,getDeltaXY(ne),ne.target,F(ne,_.lockRef.current))},[]),Q=reactExports.useCallback(function(ne){V(ne.type,getTouchXY(ne),ne.target,F(ne,_.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(L),_.setCallbacks({onScrollCapture:Y,onWheelCapture:Y,onTouchMoveCapture:Q}),document.addEventListener("wheel",G,nonPassive),document.addEventListener("touchmove",G,nonPassive),document.addEventListener("touchstart",Z,nonPassive),function(){lockStack=lockStack.filter(function(ne){return ne!==L}),document.removeEventListener("wheel",G,nonPassive),document.removeEventListener("touchmove",G,nonPassive),document.removeEventListener("touchstart",Z,nonPassive)}},[]);var J=_.removeScrollBar,te=_.inert;return reactExports.createElement(reactExports.Fragment,null,te?reactExports.createElement(L,{styles:generateStyle(I)}):null,J?reactExports.createElement(RemoveScrollBar,{noRelative:_.noRelative,gapMode:_.gapMode}):null)}function getOutermostShadowParent(_){for(var R=null;_!==null;)_ instanceof ShadowRoot&&(R=_.host,_=_.host),_=_.parentNode;return R}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(_,R){return reactExports.createElement(RemoveScroll,__assign({},_,{ref:R,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection(SELECT_NAME),[createSelectContext]=createContextScope$1(SELECT_NAME,[createCollectionScope$3,createPopperScope]),usePopperScope=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=_=>{const{__scopeSelect:R,children:P,open:O,defaultOpen:I,onOpenChange:L,value:z,defaultValue:F,onValueChange:G,dir:V,name:Z,autoComplete:Y,disabled:Q,required:J,form:te}=_,ne=usePopperScope(R),[ie,se]=reactExports.useState(null),[oe,ce]=reactExports.useState(null),[ue,me]=reactExports.useState(!1),he=useDirection(V),[fe,de]=useControllableState({prop:O,defaultProp:I??!1,onChange:L,caller:SELECT_NAME}),[pe,be]=useControllableState({prop:z,defaultProp:F,onChange:G,caller:SELECT_NAME}),ye=reactExports.useRef(null),we=ie?te||!!ie.closest("form"):!0,[ve,Ae]=reactExports.useState(new Set),Ce=Array.from(ve).map(_e=>_e.props.value).join(";");return jsxRuntimeExports.jsx(Root2$2,{...ne,children:jsxRuntimeExports.jsxs(SelectProvider,{required:J,scope:R,trigger:ie,onTriggerChange:se,valueNode:oe,onValueNodeChange:ce,valueNodeHasChildren:ue,onValueNodeHasChildrenChange:me,contentId:useId(),value:pe,onValueChange:be,open:fe,onOpenChange:de,dir:he,triggerPointerDownPosRef:ye,disabled:Q,children:[jsxRuntimeExports.jsx(Collection$3.Provider,{scope:R,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:_.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(_e=>{Ae(Re=>new Set(Re).add(_e))},[]),onNativeOptionRemove:reactExports.useCallback(_e=>{Ae(Re=>{const Me=new Set(Re);return Me.delete(_e),Me})},[]),children:P})}),we?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:J,tabIndex:-1,name:Z,autoComplete:Y,value:pe,onChange:_e=>be(_e.target.value),disabled:Q,form:te,children:[pe===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(ve)]},Ce):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$3="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,disabled:O=!1,...I}=_,L=usePopperScope(P),z=useSelectContext(TRIGGER_NAME$3,P),F=z.disabled||O,G=useComposedRefs(R,z.onTriggerChange),V=useCollection$3(P),Z=reactExports.useRef("touch"),[Y,Q,J]=useTypeaheadSearch(ne=>{const ie=V().filter(ce=>!ce.disabled),se=ie.find(ce=>ce.value===z.value),oe=findNextItem(ie,ne,se);oe!==void 0&&z.onValueChange(oe.value)}),te=ne=>{F||(z.onOpenChange(!0),J()),ne&&(z.triggerPointerDownPosRef.current={x:Math.round(ne.pageX),y:Math.round(ne.pageY)})};return jsxRuntimeExports.jsx(Anchor$1,{asChild:!0,...L,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"combobox","aria-controls":z.contentId,"aria-expanded":z.open,"aria-required":z.required,"aria-autocomplete":"none",dir:z.dir,"data-state":z.open?"open":"closed",disabled:F,"data-disabled":F?"":void 0,"data-placeholder":shouldShowPlaceholder(z.value)?"":void 0,...I,ref:G,onClick:composeEventHandlers$1(I.onClick,ne=>{ne.currentTarget.focus(),Z.current!=="mouse"&&te(ne)}),onPointerDown:composeEventHandlers$1(I.onPointerDown,ne=>{Z.current=ne.pointerType;const ie=ne.target;ie.hasPointerCapture(ne.pointerId)&&ie.releasePointerCapture(ne.pointerId),ne.button===0&&ne.ctrlKey===!1&&ne.pointerType==="mouse"&&(te(ne),ne.preventDefault())}),onKeyDown:composeEventHandlers$1(I.onKeyDown,ne=>{const ie=Y.current!=="";!(ne.ctrlKey||ne.altKey||ne.metaKey)&&ne.key.length===1&&Q(ne.key),!(ie&&ne.key===" ")&&OPEN_KEYS.includes(ne.key)&&(te(),ne.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$3;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,className:O,style:I,children:L,placeholder:z="",...F}=_,G=useSelectContext(VALUE_NAME,P),{onValueNodeHasChildrenChange:V}=G,Z=L!==void 0,Y=useComposedRefs(R,G.onValueNodeChange);return useLayoutEffect2(()=>{V(Z)},[V,Z]),jsxRuntimeExports.jsx(Primitive$2.span,{...F,ref:Y,style:{pointerEvents:"none"},children:shouldShowPlaceholder(G.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:z}):L})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,children:O,...I}=_;return jsxRuntimeExports.jsx(Primitive$2.span,{"aria-hidden":!0,...I,ref:R,children:O||""})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME="SelectPortal",SelectPortal=_=>jsxRuntimeExports.jsx(Portal$1,{asChild:!0,..._});SelectPortal.displayName=PORTAL_NAME;var CONTENT_NAME$3="SelectContent",SelectContent$1=reactExports.forwardRef((_,R)=>{const P=useSelectContext(CONTENT_NAME$3,_.__scopeSelect),[O,I]=reactExports.useState();if(useLayoutEffect2(()=>{I(new DocumentFragment)},[]),!P.open){const L=O;return L?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:_.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$3.Slot,{scope:_.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:_.children})})}),L):null}return jsxRuntimeExports.jsx(SelectContentImpl,{..._,ref:R})});SelectContent$1.displayName=CONTENT_NAME$3;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$3),CONTENT_IMPL_NAME="SelectContentImpl",Slot=createSlot("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,position:O="item-aligned",onCloseAutoFocus:I,onEscapeKeyDown:L,onPointerDownOutside:z,side:F,sideOffset:G,align:V,alignOffset:Z,arrowPadding:Y,collisionBoundary:Q,collisionPadding:J,sticky:te,hideWhenDetached:ne,avoidCollisions:ie,...se}=_,oe=useSelectContext(CONTENT_NAME$3,P),[ce,ue]=reactExports.useState(null),[me,he]=reactExports.useState(null),fe=useComposedRefs(R,Ie=>ue(Ie)),[de,pe]=reactExports.useState(null),[be,ye]=reactExports.useState(null),we=useCollection$3(P),[ve,Ae]=reactExports.useState(!1),Ce=reactExports.useRef(!1);reactExports.useEffect(()=>{if(ce)return hideOthers(ce)},[ce]),useFocusGuards();const _e=reactExports.useCallback(Ie=>{const[Ge,...Oe]=we().map(De=>De.ref.current),[Ve]=Oe.slice(-1),Ue=document.activeElement;for(const De of Ie)if(De===Ue||(De?.scrollIntoView({block:"nearest"}),De===Ge&&me&&(me.scrollTop=0),De===Ve&&me&&(me.scrollTop=me.scrollHeight),De?.focus(),document.activeElement!==Ue))return},[we,me]),Re=reactExports.useCallback(()=>_e([de,ce]),[_e,de,ce]);reactExports.useEffect(()=>{ve&&Re()},[ve,Re]);const{onOpenChange:Me,triggerPointerDownPosRef:$e}=oe;reactExports.useEffect(()=>{if(ce){let Ie={x:0,y:0};const Ge=Ve=>{Ie={x:Math.abs(Math.round(Ve.pageX)-($e.current?.x??0)),y:Math.abs(Math.round(Ve.pageY)-($e.current?.y??0))}},Oe=Ve=>{Ie.x<=10&&Ie.y<=10?Ve.preventDefault():ce.contains(Ve.target)||Me(!1),document.removeEventListener("pointermove",Ge),$e.current=null};return $e.current!==null&&(document.addEventListener("pointermove",Ge),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ge),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[ce,Me,$e]),reactExports.useEffect(()=>{const Ie=()=>Me(!1);return window.addEventListener("blur",Ie),window.addEventListener("resize",Ie),()=>{window.removeEventListener("blur",Ie),window.removeEventListener("resize",Ie)}},[Me]);const[Se,Ee]=useTypeaheadSearch(Ie=>{const Ge=we().filter(Ue=>!Ue.disabled),Oe=Ge.find(Ue=>Ue.ref.current===document.activeElement),Ve=findNextItem(Ge,Ie,Oe);Ve&&setTimeout(()=>Ve.ref.current.focus())}),ke=reactExports.useCallback((Ie,Ge,Oe)=>{const Ve=!Ce.current&&!Oe;(oe.value!==void 0&&oe.value===Ge||Ve)&&(pe(Ie),Ve&&(Ce.current=!0))},[oe.value]),xe=reactExports.useCallback(()=>ce?.focus(),[ce]),ze=reactExports.useCallback((Ie,Ge,Oe)=>{const Ve=!Ce.current&&!Oe;(oe.value!==void 0&&oe.value===Ge||Ve)&&ye(Ie)},[oe.value]),Ze=O==="popper"?SelectPopperPosition:SelectItemAlignedPosition,Ye=Ze===SelectPopperPosition?{side:F,sideOffset:G,align:V,alignOffset:Z,arrowPadding:Y,collisionBoundary:Q,collisionPadding:J,sticky:te,hideWhenDetached:ne,avoidCollisions:ie}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:P,content:ce,viewport:me,onViewportChange:he,itemRefCallback:ke,selectedItem:de,onItemLeave:xe,itemTextRefCallback:ze,focusSelectedItem:Re,selectedItemText:be,position:O,isPositioned:ve,searchRef:Se,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:oe.open,onMountAutoFocus:Ie=>{Ie.preventDefault()},onUnmountAutoFocus:composeEventHandlers$1(I,Ie=>{oe.trigger?.focus({preventScroll:!0}),Ie.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:L,onPointerDownOutside:z,onFocusOutside:Ie=>Ie.preventDefault(),onDismiss:()=>oe.onOpenChange(!1),children:jsxRuntimeExports.jsx(Ze,{role:"listbox",id:oe.contentId,"data-state":oe.open?"open":"closed",dir:oe.dir,onContextMenu:Ie=>Ie.preventDefault(),...se,...Ye,onPlaced:()=>Ae(!0),ref:fe,style:{display:"flex",flexDirection:"column",outline:"none",...se.style},onKeyDown:composeEventHandlers$1(se.onKeyDown,Ie=>{const Ge=Ie.ctrlKey||Ie.altKey||Ie.metaKey;if(Ie.key==="Tab"&&Ie.preventDefault(),!Ge&&Ie.key.length===1&&Ee(Ie.key),["ArrowUp","ArrowDown","Home","End"].includes(Ie.key)){let Ve=we().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);if(["ArrowUp","End"].includes(Ie.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ie.key)){const Ue=Ie.target,De=Ve.indexOf(Ue);Ve=Ve.slice(De+1)}setTimeout(()=>_e(Ve)),Ie.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,onPlaced:O,...I}=_,L=useSelectContext(CONTENT_NAME$3,P),z=useSelectContentContext(CONTENT_NAME$3,P),[F,G]=reactExports.useState(null),[V,Z]=reactExports.useState(null),Y=useComposedRefs(R,fe=>Z(fe)),Q=useCollection$3(P),J=reactExports.useRef(!1),te=reactExports.useRef(!0),{viewport:ne,selectedItem:ie,selectedItemText:se,focusSelectedItem:oe}=z,ce=reactExports.useCallback(()=>{if(L.trigger&&L.valueNode&&F&&V&&ne&&ie&&se){const fe=L.trigger.getBoundingClientRect(),de=V.getBoundingClientRect(),pe=L.valueNode.getBoundingClientRect(),be=se.getBoundingClientRect();if(L.dir!=="rtl"){const Ue=be.left-de.left,De=pe.left-Ue,nt=fe.left-De,Je=fe.width+nt,rt=Math.max(Je,de.width),at=window.innerWidth-CONTENT_MARGIN,dt=clamp$1(De,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,at-rt)]);F.style.minWidth=Je+"px",F.style.left=dt+"px"}else{const Ue=de.right-be.right,De=window.innerWidth-pe.right-Ue,nt=window.innerWidth-fe.right-De,Je=fe.width+nt,rt=Math.max(Je,de.width),at=window.innerWidth-CONTENT_MARGIN,dt=clamp$1(De,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,at-rt)]);F.style.minWidth=Je+"px",F.style.right=dt+"px"}const ye=Q(),we=window.innerHeight-CONTENT_MARGIN*2,ve=ne.scrollHeight,Ae=window.getComputedStyle(V),Ce=parseInt(Ae.borderTopWidth,10),_e=parseInt(Ae.paddingTop,10),Re=parseInt(Ae.borderBottomWidth,10),Me=parseInt(Ae.paddingBottom,10),$e=Ce+_e+ve+Me+Re,Se=Math.min(ie.offsetHeight*5,$e),Ee=window.getComputedStyle(ne),ke=parseInt(Ee.paddingTop,10),xe=parseInt(Ee.paddingBottom,10),ze=fe.top+fe.height/2-CONTENT_MARGIN,Ze=we-ze,Ye=ie.offsetHeight/2,Ie=ie.offsetTop+Ye,Ge=Ce+_e+Ie,Oe=$e-Ge;if(Ge<=ze){const Ue=ye.length>0&&ie===ye[ye.length-1].ref.current;F.style.bottom="0px";const De=V.clientHeight-ne.offsetTop-ne.offsetHeight,nt=Math.max(Ze,Ye+(Ue?xe:0)+De+Re),Je=Ge+nt;F.style.height=Je+"px"}else{const Ue=ye.length>0&&ie===ye[0].ref.current;F.style.top="0px";const nt=Math.max(ze,Ce+ne.offsetTop+(Ue?ke:0)+Ye)+Oe;F.style.height=nt+"px",ne.scrollTop=Ge-ze+ne.offsetTop}F.style.margin=`${CONTENT_MARGIN}px 0`,F.style.minHeight=Se+"px",F.style.maxHeight=we+"px",O?.(),requestAnimationFrame(()=>J.current=!0)}},[Q,L.trigger,L.valueNode,F,V,ne,ie,se,L.dir,O]);useLayoutEffect2(()=>ce(),[ce]);const[ue,me]=reactExports.useState();useLayoutEffect2(()=>{V&&me(window.getComputedStyle(V).zIndex)},[V]);const he=reactExports.useCallback(fe=>{fe&&te.current===!0&&(ce(),oe?.(),te.current=!1)},[ce,oe]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:P,contentWrapper:F,shouldExpandOnScrollRef:J,onScrollButtonChange:he,children:jsxRuntimeExports.jsx("div",{ref:G,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:ue},children:jsxRuntimeExports.jsx(Primitive$2.div,{...I,ref:Y,style:{boxSizing:"border-box",maxHeight:"100%",...I.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,align:O="start",collisionPadding:I=CONTENT_MARGIN,...L}=_,z=usePopperScope(P);return jsxRuntimeExports.jsx(Content$2,{...z,...L,ref:R,align:O,collisionPadding:I,style:{boxSizing:"border-box",...L.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$3,{}),VIEWPORT_NAME$1="SelectViewport",SelectViewport=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,nonce:O,...I}=_,L=useSelectContentContext(VIEWPORT_NAME$1,P),z=useSelectViewportContext(VIEWPORT_NAME$1,P),F=useComposedRefs(R,L.onViewportChange),G=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:O}),jsxRuntimeExports.jsx(Collection$3.Slot,{scope:P,children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-radix-select-viewport":"",role:"presentation",...I,ref:F,style:{position:"relative",flex:1,overflow:"hidden auto",...I.style},onScroll:composeEventHandlers$1(I.onScroll,V=>{const Z=V.currentTarget,{contentWrapper:Y,shouldExpandOnScrollRef:Q}=z;if(Q?.current&&Y){const J=Math.abs(G.current-Z.scrollTop);if(J>0){const te=window.innerHeight-CONTENT_MARGIN*2,ne=parseFloat(Y.style.minHeight),ie=parseFloat(Y.style.height),se=Math.max(ne,ie);if(se<te){const oe=se+J,ce=Math.min(te,oe),ue=oe-ce;Y.style.height=ce+"px",Y.style.bottom==="0px"&&(Z.scrollTop=ue>0?ue:0,Y.style.justifyContent="flex-end")}}}G.current=Z.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME$1;var GROUP_NAME$1="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME$1),SelectGroup=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,...O}=_,I=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:P,id:I,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"group","aria-labelledby":I,...O,ref:R})})});SelectGroup.displayName=GROUP_NAME$1;var LABEL_NAME="SelectLabel",SelectLabel$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,...O}=_,I=useSelectGroupContext(LABEL_NAME,P);return jsxRuntimeExports.jsx(Primitive$2.div,{id:I.id,...O,ref:R})});SelectLabel$1.displayName=LABEL_NAME;var ITEM_NAME$2="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME$2),SelectItem$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,value:O,disabled:I=!1,textValue:L,...z}=_,F=useSelectContext(ITEM_NAME$2,P),G=useSelectContentContext(ITEM_NAME$2,P),V=F.value===O,[Z,Y]=reactExports.useState(L??""),[Q,J]=reactExports.useState(!1),te=useComposedRefs(R,oe=>G.itemRefCallback?.(oe,O,I)),ne=useId(),ie=reactExports.useRef("touch"),se=()=>{I||(F.onValueChange(O),F.onOpenChange(!1))};if(O==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:P,value:O,disabled:I,textId:ne,isSelected:V,onItemTextChange:reactExports.useCallback(oe=>{Y(ce=>ce||(oe?.textContent??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:P,value:O,disabled:I,textValue:Z,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"option","aria-labelledby":ne,"data-highlighted":Q?"":void 0,"aria-selected":V&&Q,"data-state":V?"checked":"unchecked","aria-disabled":I||void 0,"data-disabled":I?"":void 0,tabIndex:I?void 0:-1,...z,ref:te,onFocus:composeEventHandlers$1(z.onFocus,()=>J(!0)),onBlur:composeEventHandlers$1(z.onBlur,()=>J(!1)),onClick:composeEventHandlers$1(z.onClick,()=>{ie.current!=="mouse"&&se()}),onPointerUp:composeEventHandlers$1(z.onPointerUp,()=>{ie.current==="mouse"&&se()}),onPointerDown:composeEventHandlers$1(z.onPointerDown,oe=>{ie.current=oe.pointerType}),onPointerMove:composeEventHandlers$1(z.onPointerMove,oe=>{ie.current=oe.pointerType,I?G.onItemLeave?.():ie.current==="mouse"&&oe.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers$1(z.onPointerLeave,oe=>{oe.currentTarget===document.activeElement&&G.onItemLeave?.()}),onKeyDown:composeEventHandlers$1(z.onKeyDown,oe=>{G.searchRef?.current!==""&&oe.key===" "||(SELECTION_KEYS.includes(oe.key)&&se(),oe.key===" "&&oe.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME$2;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,className:O,style:I,...L}=_,z=useSelectContext(ITEM_TEXT_NAME,P),F=useSelectContentContext(ITEM_TEXT_NAME,P),G=useSelectItemContext(ITEM_TEXT_NAME,P),V=useSelectNativeOptionsContext(ITEM_TEXT_NAME,P),[Z,Y]=reactExports.useState(null),Q=useComposedRefs(R,se=>Y(se),G.onItemTextChange,se=>F.itemTextRefCallback?.(se,G.value,G.disabled)),J=Z?.textContent,te=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:G.value,disabled:G.disabled,children:J},G.value),[G.disabled,G.value,J]),{onNativeOptionAdd:ne,onNativeOptionRemove:ie}=V;return useLayoutEffect2(()=>(ne(te),()=>ie(te)),[ne,ie,te]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive$2.span,{id:G.textId,...L,ref:Q}),G.isSelected&&z.valueNode&&!z.valueNodeHasChildren?reactDomExports.createPortal(L.children,z.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,...O}=_;return useSelectItemContext(ITEM_INDICATOR_NAME,P).isSelected?jsxRuntimeExports.jsx(Primitive$2.span,{"aria-hidden":!0,...O,ref:R}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((_,R)=>{const P=useSelectContentContext(SCROLL_UP_BUTTON_NAME,_.__scopeSelect),O=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,_.__scopeSelect),[I,L]=reactExports.useState(!1),z=useComposedRefs(R,O.onScrollButtonChange);return useLayoutEffect2(()=>{if(P.viewport&&P.isPositioned){let F=function(){const V=G.scrollTop>0;L(V)};const G=P.viewport;return F(),G.addEventListener("scroll",F),()=>G.removeEventListener("scroll",F)}},[P.viewport,P.isPositioned]),I?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{..._,ref:z,onAutoScroll:()=>{const{viewport:F,selectedItem:G}=P;F&&G&&(F.scrollTop=F.scrollTop-G.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((_,R)=>{const P=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,_.__scopeSelect),O=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,_.__scopeSelect),[I,L]=reactExports.useState(!1),z=useComposedRefs(R,O.onScrollButtonChange);return useLayoutEffect2(()=>{if(P.viewport&&P.isPositioned){let F=function(){const V=G.scrollHeight-G.clientHeight,Z=Math.ceil(G.scrollTop)<V;L(Z)};const G=P.viewport;return F(),G.addEventListener("scroll",F),()=>G.removeEventListener("scroll",F)}},[P.viewport,P.isPositioned]),I?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{..._,ref:z,onAutoScroll:()=>{const{viewport:F,selectedItem:G}=P;F&&G&&(F.scrollTop=F.scrollTop+G.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,onAutoScroll:O,...I}=_,L=useSelectContentContext("SelectScrollButton",P),z=reactExports.useRef(null),F=useCollection$3(P),G=reactExports.useCallback(()=>{z.current!==null&&(window.clearInterval(z.current),z.current=null)},[]);return reactExports.useEffect(()=>()=>G(),[G]),useLayoutEffect2(()=>{F().find(Z=>Z.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[F]),jsxRuntimeExports.jsx(Primitive$2.div,{"aria-hidden":!0,...I,ref:R,style:{flexShrink:0,...I.style},onPointerDown:composeEventHandlers$1(I.onPointerDown,()=>{z.current===null&&(z.current=window.setInterval(O,50))}),onPointerMove:composeEventHandlers$1(I.onPointerMove,()=>{L.onItemLeave?.(),z.current===null&&(z.current=window.setInterval(O,50))}),onPointerLeave:composeEventHandlers$1(I.onPointerLeave,()=>{G()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator$1=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,...O}=_;return jsxRuntimeExports.jsx(Primitive$2.div,{"aria-hidden":!0,...O,ref:R})});SelectSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME="SelectArrow",SelectArrow=reactExports.forwardRef((_,R)=>{const{__scopeSelect:P,...O}=_,I=usePopperScope(P),L=useSelectContext(ARROW_NAME,P),z=useSelectContentContext(ARROW_NAME,P);return L.open&&z.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...I,...O,ref:R}):null});SelectArrow.displayName=ARROW_NAME;var BUBBLE_INPUT_NAME$1="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:_,value:R,...P},O)=>{const I=reactExports.useRef(null),L=useComposedRefs(O,I),z=usePrevious(R);return reactExports.useEffect(()=>{const F=I.current;if(!F)return;const G=window.HTMLSelectElement.prototype,Z=Object.getOwnPropertyDescriptor(G,"value").set;if(z!==R&&Z){const Y=new Event("change",{bubbles:!0});Z.call(F,R),F.dispatchEvent(Y)}},[z,R]),jsxRuntimeExports.jsx(Primitive$2.select,{...P,style:{...VISUALLY_HIDDEN_STYLES,...P.style},ref:L,defaultValue:R})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME$1;function shouldShowPlaceholder(_){return _===""||_===void 0}function useTypeaheadSearch(_){const R=useCallbackRef$1(_),P=reactExports.useRef(""),O=reactExports.useRef(0),I=reactExports.useCallback(z=>{const F=P.current+z;R(F),(function G(V){P.current=V,window.clearTimeout(O.current),V!==""&&(O.current=window.setTimeout(()=>G(""),1e3))})(F)},[R]),L=reactExports.useCallback(()=>{P.current="",window.clearTimeout(O.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(O.current),[]),[P,I,L]}function findNextItem(_,R,P){const I=R.length>1&&Array.from(R).every(V=>V===R[0])?R[0]:R,L=P?_.indexOf(P):-1;let z=wrapArray$1(_,Math.max(L,0));I.length===1&&(z=z.filter(V=>V!==P));const G=z.find(V=>V.textValue.toLowerCase().startsWith(I.toLowerCase()));return G!==P?G:void 0}function wrapArray$1(_,R){return _.map((P,O)=>_[(R+O)%_.length])}var Root2$1=Select$1,Trigger$2=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal=SelectPortal,Content2$1=SelectContent$1,Viewport$1=SelectViewport,Label=SelectLabel$1,Item$2=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator$2=SelectSeparator$1;const Select=Root2$1,SelectValue=Value,SelectTrigger=reactExports.forwardRef(({className:_,children:R,...P},O)=>jsxRuntimeExports.jsxs(Trigger$2,{ref:O,className:cn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",_),...P,children:[R,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=Trigger$2.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:P,className:cn("flex cursor-default items-center justify-center py-1",_),...R,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:P,className:cn("flex cursor-default items-center justify-center py-1",_),...R,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=reactExports.forwardRef(({className:_,children:R,position:P="popper",...O},I)=>jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsxs(Content2$1,{ref:I,className:cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden bg-secondary rounded-md border text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",P==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",_),position:P,...O,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport$1,{className:cn("p-1",P==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:R}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2$1.displayName;const SelectLabel=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(Label,{ref:P,className:cn("py-1.5 pl-8 pr-2 text-sm font-semibold",_),...R}));SelectLabel.displayName=Label.displayName;const SelectItem=reactExports.forwardRef(({className:_,children:R,...P},O)=>jsxRuntimeExports.jsxs(Item$2,{ref:O,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",_),...P,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:R})]}));SelectItem.displayName=Item$2.displayName;const SelectSeparator=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(Separator$2,{ref:P,className:cn("-mx-1 my-1 h-px bg-muted",_),...R}));SelectSeparator.displayName=Separator$2.displayName;function ComboBox({label:_,value:R,options:P,onChange:O,disabled:I,placeholder:L}){return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs w-32 shrink-0",children:_}),jsxRuntimeExports.jsxs(Select,{value:R,onValueChange:O,disabled:I,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 text-xs w-32",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:L??"Select..."})}),jsxRuntimeExports.jsx(SelectContent,{children:P.map(z=>jsxRuntimeExports.jsx(SelectItem,{value:z.value,className:"text-xs",children:z.label},z.value))})]})]})}function EHTParametersTab({params:_,onChange:R,disabled:P}){const O=(L,z)=>{const F=structuredClone(_);F.general[L]=z,R(F)},I=_.general;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"General"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(NumberInput,{label:"End Time (h)",value:I.t_end,onChange:L=>O("t_end",L),disabled:P,min:0}),jsxRuntimeExports.jsx(IntegerInput,{label:"Random Seed",value:I.random_seed,onChange:L=>O("random_seed",L),disabled:P}),jsxRuntimeExports.jsx(NumberInput,{label:"Out-of-plane Division Prob.",value:I.p_div_out,onChange:L=>O("p_div_out",L),disabled:P,min:0,max:1})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Geometry"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(BoolInput,{label:"Full Circle",value:I.full_circle,onChange:L=>O("full_circle",L),disabled:P}),jsxRuntimeExports.jsx(NumberInput,{label:"Initial Width",value:I.w_init,onChange:L=>O("w_init",L),disabled:P,min:0}),jsxRuntimeExports.jsx(NumberInput,{label:"Initial Height",value:I.h_init,onChange:L=>O("h_init",L),disabled:P,min:0}),jsxRuntimeExports.jsx(NumberInput,{label:"Perimeter",value:I.perimeter,onChange:L=>O("perimeter",L),disabled:P,min:1}),jsxRuntimeExports.jsx(NumberInput,{label:"Aspect (0=line, b/a)",value:I.aspect_ratio,onChange:L=>O("aspect_ratio",L),disabled:P})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Model Parameters"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(BoolInput,{label:"Hard Sphere Nuclei",value:I.hard_sphere_nuclei,onChange:L=>O("hard_sphere_nuclei",L),disabled:P}),jsxRuntimeExports.jsx(NumberInput,{label:"Friction (mu)",value:I.mu,onChange:L=>O("mu",L),disabled:P,min:0})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Display"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(IntegerInput,{label:"Screen Width",value:I.w_screen,onChange:L=>O("w_screen",L),disabled:P,min:10}),jsxRuntimeExports.jsx(IntegerInput,{label:"Screen Height",value:I.h_screen,onChange:L=>O("h_screen",L),disabled:P,min:10})]})]})]})}const buttonVariants=cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-play text-play-foreground hover:bg-play/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:_,variant:R,size:P,asChild:O=!1,...I},L)=>{const z=O?Slot$1:"button";return jsxRuntimeExports.jsx(z,{className:cn(buttonVariants({variant:R,size:P,className:_})),ref:L,...I})});Button.displayName="Button";const SECTIONS=[{key:"initial",label:"Initial Setup",fields:["N_init","location"]},{key:"geometry",label:"Geometry",fields:["R_hard","R_hard_div","R_soft"]},{key:"appearance",label:"Appearance",fields:["color"]},{key:"stiffness",label:"Stiffness",fields:["k_apical_junction","k_cytos","stiffness_apical_apical","stiffness_apical_apical_div","stiffness_nuclei_apical","stiffness_nuclei_basal","stiffness_repulsion","stiffness_straightness"]},{key:"division",label:"Division & Lifecycle",fields:["lifespan_start","lifespan_end","dur_G2","dur_mitosis","INM"]},{key:"cellTypeProps",label:"Cell-Type Properties",fields:["diffusion","basal_damping_ratio","max_basal_junction_dist","cytos_init","basal_membrane_repulsion","apical_junction_init","max_cytoskeleton_length"]},{key:"events",label:"EMT Events (time ranges)",fields:["hetero","events"]},{key:"running",label:"Running Behavior",fields:["run","running_speed","running_mode"]}];function CellTypeRow({label:_,tooltip:R,children:P}){return jsxRuntimeExports.jsxs("tr",{className:"border-b border-border/50 hover:bg-muted/30",children:[jsxRuntimeExports.jsx("td",{className:"py-1.5 px-2 text-xs font-medium w-36",title:R,children:_}),P]})}function NumberCell({value:_,onChange:R,disabled:P,step:O,min:I,max:L}){const z=F=>{const G=parseFloat(F.target.value);if(!isNaN(G)){let V=G;I!==void 0&&(V=Math.max(I,V)),L!==void 0&&(V=Math.min(L,V)),R(V)}};return jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsx(Input,{type:"number",value:_,onChange:z,disabled:P,step:O,min:I,max:L,className:"h-6 text-xs w-20"})})}function StringCell({value:_,onChange:R,disabled:P}){const O=I=>{R(I.target.value)};return jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsx(Input,{type:"text",value:_,onChange:O,disabled:P,className:"h-6 text-xs w-24"})})}function SplitRangeCell({valueStart:_,valueEnd:R,onChangeStart:P,onChangeEnd:O,disabled:I,label:L}){const z=isFinite(_),F=isFinite(R),G=J=>{L==="start"?P(J?0:1/0):O(J?1:1/0)},V=J=>{const te=parseFloat(J.target.value);J.target.value===""?L==="start"?P(1/0):O(1/0):isNaN(te)||(L==="start"?P(te):O(te))},Z=L==="start"?z:F,Y=L==="start"?_:R,Q=isFinite(Y)?Y:"";return jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Checkbox,{checked:Z,onCheckedChange:G,disabled:I,title:"Active (enabled when checked)"}),Z?jsxRuntimeExports.jsx(Input,{type:"number",value:Q,onChange:V,disabled:I,className:"h-6 text-xs w-20"}):jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground w-20",children:"-"})]})})}function BoolCell({value:_,onChange:R,disabled:P}){return jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsx(Checkbox,{checked:_,onCheckedChange:O=>R(O===!0),disabled:P})})}function rgbToHex$1(_){const R=_.r>1?_.r:Math.round(_.r*255),P=_.g>1?_.g:Math.round(_.g*255),O=_.b>1?_.b:Math.round(_.b*255);return`#${R.toString(16).padStart(2,"0")}${P.toString(16).padStart(2,"0")}${O.toString(16).padStart(2,"0")}`}function hexToRgb(_){const R=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(_);return R?{r:parseInt(R[1],16),g:parseInt(R[2],16),b:parseInt(R[3],16)}:{r:0,g:0,b:0}}function ColorCell({value:_,onChange:R,disabled:P}){const O=rgbToHex$1(_),I=L=>{const z=hexToRgb(L.target.value);R(z)};return jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsx(Input,{type:"color",value:O,onChange:I,disabled:P,className:"h-6 w-10 p-0.5 cursor-pointer"})})}function SectionHeader({section:_,cellTypeKeys:R,disabled:P,params:O,onChange:I}){const[L,z]=reactExports.useState({}),F=reactExports.useCallback(Y=>{if(Y===1/0)return"Infinity";if(Y===-1/0)return"-Infinity";if(typeof Y=="object"&&Y!==null){if(Array.isArray(Y))return Y.map(F);const Q={};for(const[J,te]of Object.entries(Y))Q[J]=F(te);return Q}return Y},[]),G=reactExports.useCallback(Y=>{if(Y==="Infinity")return 1/0;if(Y==="-Infinity")return-1/0;if(typeof Y=="object"&&Y!==null){if(Array.isArray(Y))return Y.map(G);const Q={};for(const[J,te]of Object.entries(Y))Q[J]=G(te);return Q}return Y},[]),V=reactExports.useCallback(async Y=>{const Q=O.cell_types[Y],J={};for(const ne of _.fields)J[ne]=F(structuredClone(Q[ne]));const te=JSON.stringify({section:_.key,cellType:Y,data:J},null,2);await navigator.clipboard.writeText(te)},[O.cell_types,_,F]),Z=reactExports.useCallback(async Y=>{try{const Q=await navigator.clipboard.readText(),J=JSON.parse(Q);if(J.section!==_.key||!J.data){z(ie=>({...ie,[Y]:"error"})),setTimeout(()=>z(ie=>({...ie,[Y]:"idle"})),2e3);return}const te=structuredClone(O),ne=te.cell_types[Y];for(const ie of _.fields)ie in J.data&&(ne[ie]=G(structuredClone(J.data[ie])));I(te),z(ie=>({...ie,[Y]:"success"})),setTimeout(()=>z(ie=>({...ie,[Y]:"idle"})),2e3)}catch{z(Q=>({...Q,[Y]:"error"})),setTimeout(()=>z(Q=>({...Q,[Y]:"idle"})),2e3)}},[O,_,I,G]);return jsxRuntimeExports.jsxs("tr",{className:"bg-muted/50",children:[jsxRuntimeExports.jsx("td",{className:"py-1 px-2",children:jsxRuntimeExports.jsx("span",{className:"text-xs font-semibold text-muted-foreground",children:_.label})}),R.map(Y=>jsxRuntimeExports.jsx("td",{className:"py-1 px-1",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-0.5",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>V(Y),disabled:P,className:"h-5 w-5",title:`Copy ${_.label} from ${Y}`,children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>Z(Y),disabled:P,className:`h-5 w-5 ${L[Y]==="success"?"text-green-500":L[Y]==="error"?"text-red-500":""}`,title:`Paste ${_.label} to ${Y}`,children:jsxRuntimeExports.jsx(ClipboardPaste,{className:"h-3 w-3"})})]})},Y))]})}function EHTCellTypesTab({params:_,onChange:R,disabled:P}){const[O,I]=reactExports.useState(""),L=Object.keys(_.cell_types),z=(te,ne,ie)=>{const se=structuredClone(_);se.cell_types[te][ne]=ie,R(se)},F=(te,ne,ie)=>{const se=structuredClone(_);se.cell_types[te].events[`${ne}_start`]=ie,R(se)},G=(te,ne,ie)=>{const se=structuredClone(_);se.cell_types[te].events[`${ne}_end`]=ie,R(se)},V=reactExports.useCallback(te=>{const ne=structuredClone(_);let ie=1,se=`type_${ie}`;for(;ne.cell_types[se];)ie++,se=`type_${ie}`;if(te&&_.cell_types[te]){const oe=_.cell_types[te],ce={...structuredClone(oe),N_init:0,color:{r:Math.floor(Math.random()*200)+50,g:Math.floor(Math.random()*200)+50,b:Math.floor(Math.random()*200)+50}};ne.cell_types[se]=ce}else{const oe={...structuredClone(DEFAULT_CONTROL_CELL),N_init:0,location:"",color:{r:Math.floor(Math.random()*200)+50,g:Math.floor(Math.random()*200)+50,b:Math.floor(Math.random()*200)+50}};ne.cell_types[se]=oe}R(ne)},[_,R]),Z=te=>{if(L.length<=1)return;const ne=structuredClone(_);delete ne.cell_types[te],R(ne)},Y=(te,ne)=>{if(!ne.trim()||ne===te||_.cell_types[ne])return;const ie=structuredClone(_);ie.cell_types[ne]=ie.cell_types[te],delete ie.cell_types[te],R(ie)},Q=te=>_.cell_types[te],J=reactExports.useCallback(()=>{V(O==="__new__"?void 0:O),I("__new__")},[V,O]);return jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto overflow-y-auto max-h-[600px]",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-end items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"Copy from:"}),jsxRuntimeExports.jsxs(Select,{value:O||"__new__",onValueChange:I,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 w-28 text-xs",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"(new)"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"__new__",children:"(new)"}),L.map(te=>jsxRuntimeExports.jsx(SelectItem,{value:te,children:te},te))]})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:J,disabled:P,className:"gap-1",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),"Add Cell Type"]})]}),jsxRuntimeExports.jsxs("table",{className:"min-w-full text-xs",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b-2 border-border",children:[jsxRuntimeExports.jsx("th",{className:"py-2 px-2 text-left font-semibold",children:"Parameter"}),L.map(te=>jsxRuntimeExports.jsx("th",{className:"py-2 px-1 text-left",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Input,{defaultValue:te,onBlur:ne=>Y(te,ne.target.value),onKeyDown:ne=>{ne.key==="Enter"&&(Y(te,ne.currentTarget.value),ne.currentTarget.blur())},disabled:P,className:"h-6 text-xs font-semibold w-24"}),L.length>1&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:()=>Z(te),disabled:P,className:"h-6 w-6 text-muted-foreground hover:text-destructive",children:jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3"})})]})},te))]})}),jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[0],cellTypeKeys:L,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"N Init",tooltip:"Initial number of cells of this type",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).N_init,onChange:ne=>z(te,"N_init",Math.round(ne)),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Location",tooltip:'Predefined location along basal membrane: "top", "bottom", "rest" or numeric value in [-1, 1]',children:L.map(te=>jsxRuntimeExports.jsx(StringCell,{value:Q(te).location,onChange:ne=>z(te,"location",ne),disabled:P},te))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[1],cellTypeKeys:L,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"R Hard",tooltip:"Hard sphere radius",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).R_hard,onChange:ne=>z(te,"R_hard",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"R Hard (div)",tooltip:"Hard sphere radius during division",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).R_hard_div,onChange:ne=>z(te,"R_hard_div",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"R Soft",tooltip:"Soft interaction radius",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).R_soft,onChange:ne=>z(te,"R_soft",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[2],cellTypeKeys:L,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Color",children:L.map(te=>jsxRuntimeExports.jsx(ColorCell,{value:Q(te).color,onChange:ne=>z(te,"color",ne),disabled:P},te))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[3],cellTypeKeys:L,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"k Apical Junction",tooltip:"Apical junction spring constant",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).k_apical_junction,onChange:ne=>z(te,"k_apical_junction",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"k Cytos",tooltip:"Cytoskeleton relaxation rate",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).k_cytos,onChange:ne=>z(te,"k_cytos",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff Apical-Apical",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).stiffness_apical_apical,onChange:ne=>z(te,"stiffness_apical_apical",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff A-A (div)",tooltip:"Apical-Apical stiffness during division",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).stiffness_apical_apical_div,onChange:ne=>z(te,"stiffness_apical_apical_div",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff Nuclei-Apical",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).stiffness_nuclei_apical,onChange:ne=>z(te,"stiffness_nuclei_apical",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff Nuclei-Basal",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).stiffness_nuclei_basal,onChange:ne=>z(te,"stiffness_nuclei_basal",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff Repulsion",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).stiffness_repulsion,onChange:ne=>z(te,"stiffness_repulsion",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Stiff Straightness",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).stiffness_straightness,onChange:ne=>z(te,"stiffness_straightness",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[4],cellTypeKeys:L,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Lifespan (start)",children:L.map(te=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Q(te).lifespan_start,valueEnd:Q(te).lifespan_end,onChangeStart:ne=>z(te,"lifespan_start",ne),onChangeEnd:ne=>z(te,"lifespan_end",ne),disabled:P,label:"start"},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Lifespan (end)",children:L.map(te=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Q(te).lifespan_start,valueEnd:Q(te).lifespan_end,onChangeStart:ne=>z(te,"lifespan_start",ne),onChangeEnd:ne=>z(te,"lifespan_end",ne),disabled:P,label:"end"},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"G2 Duration",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).dur_G2,onChange:ne=>z(te,"dur_G2",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Mitosis Duration",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).dur_mitosis,onChange:ne=>z(te,"dur_mitosis",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"INM",tooltip:"Interkinetic nuclear migration probability",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).INM,onChange:ne=>z(te,"INM",ne),disabled:P,min:0,max:1},te))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[5],cellTypeKeys:L,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Diffusion",tooltip:"Diffusion coefficient",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).diffusion,onChange:ne=>z(te,"diffusion",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Basal Damping",tooltip:"Basal damping ratio",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).basal_damping_ratio,onChange:ne=>z(te,"basal_damping_ratio",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Max Basal Junc Dist",tooltip:"Maximum basal junction distance",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).max_basal_junction_dist,onChange:ne=>z(te,"max_basal_junction_dist",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Cytos Init",tooltip:"Initial cytoskeleton length",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).cytos_init,onChange:ne=>z(te,"cytos_init",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Basal Repulsion",tooltip:"Basal membrane repulsion strength",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).basal_membrane_repulsion,onChange:ne=>z(te,"basal_membrane_repulsion",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Apical Junc Init",tooltip:"Initial apical junction distance",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).apical_junction_init,onChange:ne=>z(te,"apical_junction_init",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Max Cytos Length",tooltip:"Maximum cytoskeleton length",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).max_cytoskeleton_length,onChange:ne=>z(te,"max_cytoskeleton_length",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[6],cellTypeKeys:L,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Heterogeneous",children:L.map(te=>jsxRuntimeExports.jsx(BoolCell,{value:Q(te).hetero,onChange:ne=>z(te,"hetero",ne),disabled:P},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time A start",children:L.map(te=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Q(te).events.time_A_start,valueEnd:Q(te).events.time_A_end,onChangeStart:ne=>F(te,"time_A",ne),onChangeEnd:ne=>G(te,"time_A",ne),disabled:P,label:"start"},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time A end",children:L.map(te=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Q(te).events.time_A_start,valueEnd:Q(te).events.time_A_end,onChangeStart:ne=>F(te,"time_A",ne),onChangeEnd:ne=>G(te,"time_A",ne),disabled:P,label:"end"},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time B start",children:L.map(te=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Q(te).events.time_B_start,valueEnd:Q(te).events.time_B_end,onChangeStart:ne=>F(te,"time_B",ne),onChangeEnd:ne=>G(te,"time_B",ne),disabled:P,label:"start"},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time B end",children:L.map(te=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Q(te).events.time_B_start,valueEnd:Q(te).events.time_B_end,onChangeStart:ne=>F(te,"time_B",ne),onChangeEnd:ne=>G(te,"time_B",ne),disabled:P,label:"end"},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time S start",children:L.map(te=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Q(te).events.time_S_start,valueEnd:Q(te).events.time_S_end,onChangeStart:ne=>F(te,"time_S",ne),onChangeEnd:ne=>G(te,"time_S",ne),disabled:P,label:"start"},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time S end",children:L.map(te=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Q(te).events.time_S_start,valueEnd:Q(te).events.time_S_end,onChangeStart:ne=>F(te,"time_S",ne),onChangeEnd:ne=>G(te,"time_S",ne),disabled:P,label:"end"},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time P start",children:L.map(te=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Q(te).events.time_P_start,valueEnd:Q(te).events.time_P_end,onChangeStart:ne=>F(te,"time_P",ne),onChangeEnd:ne=>G(te,"time_P",ne),disabled:P,label:"start"},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Time P end",children:L.map(te=>jsxRuntimeExports.jsx(SplitRangeCell,{valueStart:Q(te).events.time_P_start,valueEnd:Q(te).events.time_P_end,onChangeStart:ne=>F(te,"time_P",ne),onChangeEnd:ne=>G(te,"time_P",ne),disabled:P,label:"end"},te))}),jsxRuntimeExports.jsx(SectionHeader,{section:SECTIONS[7],cellTypeKeys:L,disabled:P,params:_,onChange:R}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Run Probability",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).run,onChange:ne=>z(te,"run",ne),disabled:P,min:0,max:1},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Running Speed",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).running_speed,onChange:ne=>z(te,"running_speed",ne),disabled:P,min:0},te))}),jsxRuntimeExports.jsx(CellTypeRow,{label:"Running Mode",tooltip:"0: none, 1: after extrusion, 2: retain length, 3: immediate",children:L.map(te=>jsxRuntimeExports.jsx(NumberCell,{value:Q(te).running_mode,onChange:ne=>z(te,"running_mode",Math.round(ne)),disabled:P,min:0,max:3},te))})]})]})]})}function EHTSimulationTab({params:_,onChange:R,disabled:P}){const O=(L,z)=>{const F=structuredClone(_);F.general[L]=z,R(F)},I=_.general;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Time Stepping"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(NumberInput,{label:"Time Step (dt)",value:I.dt,onChange:L=>O("dt",L),disabled:P,step:.01,min:.001}),jsxRuntimeExports.jsx(NumberInput,{label:"Algo Time Step",value:I.alg_dt,onChange:L=>O("alg_dt",L),disabled:P,step:.001,min:1e-4}),jsxRuntimeExports.jsx(IntegerInput,{label:"Substeps",value:I.n_substeps,onChange:L=>O("n_substeps",L),disabled:P,min:1})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-muted/50 rounded-md text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1",children:"Notes:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-0.5",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"dt"}),": Output time step (visualization/export interval)"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"alg_dt"}),": Internal algorithm time step for physics"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"n_substeps"}),": Number of physics steps per output step"]}),jsxRuntimeExports.jsx("li",{children:"Effective physics dt = alg_dt, run n_substeps times per dt"})]})]})]})}function EHTWarningBanner({params:_,onChange:R,disabled:P}){const O=_.general,{totalNInit:I,avgMaxBasalJunctionDist:L}=reactExports.useMemo(()=>{const G=Object.values(_.cell_types),V=G.reduce((Q,J)=>Q+J.N_init,0),Z=G.reduce((Q,J)=>Q+J.N_init*J.max_basal_junction_dist,0),Y=V>0?Z/V:G.length>0?G.reduce((Q,J)=>Q+J.max_basal_junction_dist,0)/G.length:4;return{totalNInit:V,avgMaxBasalJunctionDist:Y}},[_.cell_types]),z=reactExports.useMemo(()=>{if(O.perimeter>0&&O.full_circle){const G=I*L;if(G<=O.perimeter)return{message:`Perimeter constraint violated: total cells (${I})  avg max_basal_junction_dist (${L.toFixed(1)}) = ${G.toFixed(1)}  perimeter (${O.perimeter.toFixed(1)}). Cells may not cover the membrane.`,maxCoverage:G}}return null},[I,O.perimeter,O.full_circle,L]),F=reactExports.useCallback(()=>{if(!R||!z)return;const G=O.perimeter+5,V=z.maxCoverage;if(V<=0)return;const Z=G/V,Y=structuredClone(_);for(const Q of Object.keys(Y.cell_types))Y.cell_types[Q].max_basal_junction_dist*=Z;R(Y)},[R,z,_,O.perimeter]);return z?jsxRuntimeExports.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-md text-xs text-yellow-600 dark:text-yellow-400 flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"flex-1",children:z.message}),R&&jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:F,disabled:P,className:"shrink-0 text-xs h-6 px-2",children:"Fix"})]}):null}const ehtUI={WarningBanner:EHTWarningBanner,ParametersTab:EHTParametersTab,CellTypesTab:EHTCellTypesTab,SimulationTab:EHTSimulationTab};function ramanujanPerimeter(_,R){if(_===0&&R===0)return 0;if(_===R)return 2*Math.PI*_;const P=_+R,O=_-R,I=O*O/(P*P);return Math.PI*P*(1+3*I/(10+Math.sqrt(4-3*I)))}function computeEllipseFromPerimeter(_,R){if(R===0)return{a:1/0,b:1/0,curvature_1:0,curvature_2:0};const P=Math.sign(R),O=Math.abs(R),I=1,L=O,z=ramanujanPerimeter(I,L),F=_/z,G=F*I,V=F*L,Z=G>0?P/G:0,Y=V>0?P/V:0;return{a:G,b:V,curvature_1:Z,curvature_2:Y}}function createCell(_,R,P,O,I,L,z){const{basalPoint:F,apicalPoint:G,nucleusPosition:V}=O,Z=_.general.h_init,Y=P.random(I.lifespan_start,I.lifespan_end),Q=R.cells.length>0?Math.max(...R.cells.map(J=>J.id))+1:0;if(z===void 0){const J=R.t-P.random(0,Y);let te=P.random(I.events.time_A_start,I.events.time_A_end),ne=P.random(I.events.time_B_start,I.events.time_B_end),ie=P.random(I.events.time_S_start,I.events.time_S_end);const se=P.random()<=I.run?ne:1/0;return I.hetero&&(P.random()>.7&&(te=1/0),P.random()>.7&&(ne=1/0),P.random()>.7&&(ie=1/0)),{id:Q,typeIndex:L,pos:V.toObject(),A:G.toObject(),B:F.toObject(),R_soft:I.R_soft,R_hard:I.R_hard,eta_A:Z/2,eta_B:Z/2,has_A:!0,has_B:!0,phase:CellPhase.G1,birth_time:J,division_time:J+Y,is_running:!1,running_mode:I.running_mode,has_inm:P.random()<=I.INM,time_A:te,time_B:ne,time_S:ie,time_P:se,stiffness_apical_apical:I.stiffness_apical_apical,stiffness_straightness:I.stiffness_straightness,stiffness_nuclei_apical:I.stiffness_nuclei_apical,stiffness_nuclei_basal:I.stiffness_nuclei_basal}}else return{id:Q,typeIndex:L,pos:V.toObject(),A:G.toObject(),B:F.toObject(),R_soft:I.R_soft,R_hard:I.R_hard,eta_A:z.eta_A,eta_B:z.eta_B,has_A:z.has_A,has_B:z.has_B,phase:CellPhase.G1,birth_time:R.t,division_time:R.t+Y,is_running:z.is_running,running_mode:z.running_mode,has_inm:z.has_inm,time_A:z.time_A,time_B:z.time_B,time_S:z.time_S,time_P:z.time_P,stiffness_apical_apical:I.stiffness_apical_apical,stiffness_straightness:z.stiffness_straightness,stiffness_nuclei_apical:z.stiffness_nuclei_apical,stiffness_nuclei_basal:z.stiffness_nuclei_basal}}function getCellType(_,R){return _.cell_types[R.typeIndex]||_.cell_types.control}function updateCellPhase(_,R,P){const O=_.division_time,I=O-R.dur_G2-R.dur_mitosis,L=O-R.dur_mitosis;P<I?_.phase=CellPhase.G1:P<L?_.phase=CellPhase.G2:P<O?_.phase=CellPhase.Mitosis:_.phase=CellPhase.Division}function initializeEHTSimulation(_,R,P){const O=_.general,I=computeEllipseFromPerimeter(O.perimeter,O.aspect_ratio);R.geometry={curvature_1:I.curvature_1,curvature_2:I.curvature_2};const{curvature_1:L,curvature_2:z}=R.geometry;R.basalGeometry=createBasalGeometry(L,z,360);const F=Object.entries(_.cell_types),G=F.reduce((oe,[,ce])=>oe+ce.N_init,0),V=[];for(let oe=0;oe<G;oe++)V.push([-1+2*oe/G,""]);F.sort((oe,ce)=>{const ue=oe[1].location!==""?1:0;return(ce[1].location!==""?1:0)-ue});for(const[oe,ce]of F)if(ce.location!==""){let ue;ce.location==="top"?ue=1:ce.location==="bottom"?ue=0:(ue=parseFloat(ce.location),(isNaN(ue)||ue<-1||ue>1)&&(ue=0)),V.sort((he,fe)=>Math.min(Math.abs(he[0]-ue),Math.abs(he[0]+2-ue))-Math.min(Math.abs(fe[0]-ue),Math.abs(fe[0]+2-ue)));let me=0;for(let he=0;he<V.length&&me<ce.N_init;he++)V[he][1]===""&&(V[he]=[V[he][0],oe],me++)}V.sort((oe,ce)=>oe[0]-ce[0]);let Z=0;for(let oe=0;oe<V.length;oe++)if(V[oe][1]==="")for(;Z<F.length;){const[ce,ue]=F[Z];if(V.filter(he=>he[1]===ce).length<ue.N_init){V[oe]=[V[oe][0],ce];break}else Z++}V.sort((oe,ce)=>oe[0]-ce[0]);const Y=L===0&&z===0,Q=Y?O.w_init*4:ramanujanPerimeter(Math.abs(1/L),Math.abs(1/z)),J=O.full_circle?Q:O.w_init,te=O.h_init,ne=O.aspect_ratio<0?-1:1,ie=[],se=[];for(let oe=0;oe<G;oe++){const ce=Y?V[oe][0]*(J/2):V[oe][0]*(J/2)+Q/4,ue=R.basalGeometry.getPointAtArcLength(ce),me=R.basalGeometry.getNormal(ue).scale(ne),he=ue.add(me.scale(te)),fe=P.random(te/3,2*te/3),de=ue.add(me.scale(fe));ie.push({basalPoint:ue,apicalPoint:he,nucleusPosition:de}),se.push(V[oe][1])}R.cells=[];for(let oe=0;oe<ie.length;oe++){const ce=se[oe],ue=_.cell_types[ce];if(!ue){console.warn("No cell type found for key",ce);continue}const me=createCell(_,R,P,ie[oe],ue,ce);R.cells.push(me)}for(let oe=0;oe<R.cells.length-1;oe++){const ce=_.cell_types[R.cells[oe].typeIndex],ue=_.cell_types[R.cells[oe+1].typeIndex],me=(ce.apical_junction_init+ue.apical_junction_init)/2;R.ap_links.push({l:oe,r:oe+1,rl:me}),R.ba_links.push({l:oe,r:oe+1})}if(O.full_circle&&R.cells.length>2){const oe=R.cells.length-1,ce=_.cell_types[R.cells[oe].typeIndex],ue=_.cell_types[R.cells[0].typeIndex],me=(ce.apical_junction_init+ue.apical_junction_init)/2;R.ap_links.push({l:oe,r:0,rl:me}),R.ba_links.push({l:oe,r:0})}}function zeroForces(){return{f:Vector2.zero(),fA:Vector2.zero(),fB:Vector2.zero()}}function calcRepulsionForces(_,R,P){const O=_.cells,I=O.length;for(let L=0;L<I;L++){const z=O[L],F=getCellType(R,z),G=Vector2.from(z.pos);for(let V=0;V<L;V++){const Z=O[V],Y=getCellType(R,Z),J=Vector2.from(Z.pos).sub(G),te=J.mag(),ne=z.R_soft+Z.R_soft,ie=F.stiffness_repulsion+Y.stiffness_repulsion;if(te<ne&&te>ne/20){const se=-ie*(ne-te)/(te*ne*ne),oe=J.scale(se);P[L].f=P[L].f.add(oe),P[V].f=P[V].f.sub(oe)}}}}function calcApicalNucleiForces(_,R,P){const O=_.cells,I=R.general.hard_sphere_nuclei;for(let L=0;L<O.length;L++){const z=O[L],F=Vector2.from(z.pos),G=Vector2.from(z.A),V=F.sub(G),Z=V.mag();if(Z>0){const Y=I?z.R_hard:z.R_soft,Q=z.eta_A+Y,te=2*z.stiffness_nuclei_apical*(Z-Q)/(Z*Q*Q),ne=V.scale(te);P[L].f=P[L].f.sub(ne),P[L].fA=P[L].fA.add(ne)}}}function calcBasalNucleiForces(_,R,P){const O=_.cells,I=R.general.hard_sphere_nuclei;for(let L=0;L<O.length;L++){const z=O[L],F=Vector2.from(z.pos),G=Vector2.from(z.B),V=F.sub(G),Z=V.mag();if(Z>0){const Y=I?z.R_hard:z.R_soft,Q=z.eta_B+Y,te=2*z.stiffness_nuclei_basal*(Z-Q)/(Z*Q*Q),ne=V.scale(te);P[L].f=P[L].f.sub(ne),P[L].fB=P[L].fB.add(ne)}}}function calcStraightnessForces(_,R,P){const O=_.cells;for(let I=0;I<O.length;I++){const L=O[I],z=Vector2.from(L.pos),F=Vector2.from(L.A),G=Vector2.from(L.B),V=z.sub(F),Z=z.sub(G),Y=V.mag(),Q=Z.mag(),J=V.dot(Z);if(J!==0&&Y>0&&Q>0){const te=L.stiffness_straightness/(Y*Q),ne=Z.scale(-1).add(V.scale(J/(Y*Y))).scale(te),ie=V.scale(-1).add(Z.scale(J/(Q*Q))).scale(te);P[I].fA=P[I].fA.sub(ne),P[I].f=P[I].f.add(ne),P[I].f=P[I].f.add(ie),P[I].fB=P[I].fB.sub(ie)}}}function calcApicalJunctionForces(_,R,P){const O=_.cells,I=_.ap_links;for(const L of I){const z=O[L.l],F=O[L.r],G=Vector2.from(z.A),V=Vector2.from(F.A),Z=G.sub(V),Y=Z.mag();if(Y>1e-6){const Q=.5*(z.stiffness_apical_apical+F.stiffness_apical_apical),J=Z.scale(.25*Q*(Y-L.rl)/Y);P[L.l].fA=P[L.l].fA.sub(J),P[L.r].fA=P[L.r].fA.add(J)}}}function calcAllForces(_,R){const P=_.cells.map(()=>zeroForces());return calcRepulsionForces(_,R,P),calcApicalNucleiForces(_,R,P),calcBasalNucleiForces(_,R,P),calcStraightnessForces(_,R,P),calcApicalJunctionForces(_,R,P),P}function projectHardSphereConstraints(_,R){const P=_.cells,O=P.length;for(let I=0;I<O;I++){const L=P[I];for(let z=0;z<I;z++){const F=P[z],G=L.R_hard+F.R_hard,V=Vector2.from(L.pos),Z=Vector2.from(F.pos),Y=V.dist(Z)-G;if(Y<0&&Y!==-G){const J=V.sub(Z).scale(.5*Y/(Y+G));L.pos.x-=J.x,L.pos.y-=J.y,F.pos.x+=J.x,F.pos.y+=J.y}}}}function projectBasalOrderingConstraints(_,R){const P=_.cells,O=_.ba_links;for(const I of O){const L=P[I.l],z=P[I.r];if(!L.has_B||!z.has_B)continue;const F=Vector2.from(L.B),G=Vector2.from(z.B),V=F.add(G).scale(.5),Z=_.basalGeometry.projectPoint(V),Y=_.basalGeometry.getNormal(Z),Q=new Vector2(Y.y,-Y.x),J=F.sub(V).dot(Q),te=G.sub(V).dot(Q);if(J>=te){const ie=(J-te)/2;L.B.x-=ie*Q.x,L.B.y-=ie*Q.y,z.B.x+=ie*Q.x,z.B.y+=ie*Q.y}}}function projectMaxBasalDistanceConstraints(_,R){const P=_.cells,O=_.ba_links;for(const I of O){const L=P[I.l],z=P[I.r],F=getCellType(R,L),G=getCellType(R,z),V=(F.max_basal_junction_dist+G.max_basal_junction_dist)/2,Z=Vector2.from(L.B),Y=Vector2.from(z.B),Q=Z.dist(Y);if(Q>V){const J=Q-V,ne=Y.sub(Z).normalize().scale(J/2);L.B.x+=ne.x,L.B.y+=ne.y,z.B.x-=ne.x,z.B.y-=ne.y}}}function projectBasalCurveConstraints(_,R){const P=_.cells;for(const O of P){if(!O.has_B)continue;const I=Vector2.from(O.B),L=_.basalGeometry.projectPoint(I);O.B.x=L.x,O.B.y=L.y}}function applyAllConstraints(_,R){projectHardSphereConstraints(_),projectBasalOrderingConstraints(_),projectMaxBasalDistanceConstraints(_,R),projectBasalCurveConstraints(_)}function processLoseApicalAdhesion(_,R){const P=_.cells[R];P.has_A=!1,P.stiffness_nuclei_apical*=.1;const O=[];let I={l:0,r:0,rl:0};for(let L=0;L<_.ap_links.length;L++){const z=_.ap_links[L];z.l===R&&(O.push(L),I.r=z.r),z.r===R&&(O.push(L),I.l=z.l)}if(O.length===1)_.ap_links.splice(O[0],1);else if(O.length===2){O.sort((F,G)=>G-F),_.ap_links.splice(O[0],1),_.ap_links.splice(O[1],1);const L=_.cells[I.l],z=_.cells[I.r];I.rl=Vector2.from(L.A).dist(Vector2.from(z.A)),_.ap_links.push(I)}}function processLoseBasalAdhesion(_,R){const P=_.cells[R];P.has_B=!1,P.stiffness_nuclei_basal*=.1;const O=[];let I={l:0,r:0};for(let L=0;L<_.ba_links.length;L++){const z=_.ba_links[L];z.l===R&&(O.push(L),I.r=z.r),z.r===R&&(O.push(L),I.l=z.l)}O.length===1?_.ba_links.splice(O[0],1):O.length===2&&(O.sort((L,z)=>z-L),_.ba_links.splice(O[0],1),_.ba_links.splice(O[1],1),_.ba_links.push(I))}function processLoseStraightness(_,R){const P=_.cells[R];P.stiffness_straightness=1}function processStartRunning(_,R){const P=_.cells[R];P.running_mode=3}function updateRunningState(_,R){if(_.has_B){_.is_running=!1;return}const P=Vector2.from(_.B),O=R.basalGeometry.projectPoint(P),I=R.basalGeometry.getNormal(O),z=P.sub(O).dot(I),F=z<-2,G=_.running_mode>=3||z>0&&_.running_mode>=1;_.is_running=F&&G}function processEMTEvents(_,R,P){const O=_.t;for(let I=0;I<_.cells.length;I++){const L=_.cells[I];O<=L.time_A&&O+P>L.time_A&&processLoseApicalAdhesion(_,I),O<=L.time_B&&O+P>L.time_B&&(console.log("Event B"),processLoseBasalAdhesion(_,I)),O<=L.time_S&&O+P>L.time_S&&processLoseStraightness(_,I),(L.time_P>L.time_B&&O<=L.time_P&&O+P>L.time_P||L.time_P<=L.time_B&&O<=L.time_B&&O+P>L.time_B)&&processStartRunning(_,I),updateRunningState(L,_)}}function processCellDivisions(_,R,P){let O=0;for(let I=0;I<_.cells.length;I++){const L=_.cells[I];if(L.phase!==CellPhase.Division)continue;const z=getCellType(R,L),F={basalPoint:Vector2.from(L.B),apicalPoint:Vector2.from(L.A),nucleusPosition:Vector2.from(L.pos)};if(L.typeIndex==="emt"){const G=createCell(R,_,P,F,z,L.typeIndex,L);G.id=L.id,_.cells[I]=G}else if(P.random()<R.general.p_div_out){const V=createCell(R,_,P,F,z,L.typeIndex,L);V.id=L.id,_.cells[I]=V}else{O++;const V=createCell(R,_,P,F,z,L.typeIndex,L);V.id=L.id,_.cells[I]=V;const Z=createCell(R,_,P,F,z,L.typeIndex,V),Y=.005*V.R_soft,Q=Vector2.from(V.B),J=_.basalGeometry.projectPoint(Q),te=_.basalGeometry.getNormal(J),ne=new Vector2(te.y,-te.x);V.pos.x-=Y*ne.x,V.pos.y-=Y*ne.y,Z.pos.x+=Y*ne.x,Z.pos.y+=Y*ne.y,V.A.x-=Y*ne.x,V.A.y-=Y*ne.y,Z.A.x+=Y*ne.x,Z.A.y+=Y*ne.y,V.B.x-=Y*ne.x,V.B.y-=Y*ne.y,Z.B.x+=Y*ne.x,Z.B.y+=Y*ne.y;const ie=_.cells.length;_.cells.push(Z),updateApicalLinksAfterDivision(_,R,I,ie),updateBasalLinksAfterDivision(_,R,I,ie)}}return O}function updateApicalLinksAfterDivision(_,R,P,O){for(const L of _.ap_links)L.l===P&&(L.l=O);const I=getCellType(R,_.cells[P]);_.ap_links.push({l:P,r:O,rl:I.apical_junction_init})}function updateBasalLinksAfterDivision(_,R,P,O){for(const I of _.ba_links)I.l===P&&(I.l=O);_.ba_links.push({l:P,r:O})}function updateCytoskeleton(_,R,P){for(const O of _.cells){const I=getCellType(R,O),L=Vector2.from(O.pos),z=Vector2.from(O.A),F=Vector2.from(O.B),G=L.dist(z),V=L.dist(F);let Z=0,Y=0;switch(O.phase+(O.has_inm?0:10)){case CellPhase.G2:case CellPhase.Mitosis:const te=z.dist(F);Z=0,Y=Math.max(0,te-2*O.R_soft);break;default:Z=Math.max(0,G-O.R_soft),Y=Math.max(0,V-O.R_soft)}O.phase===CellPhase.G2&&(O.stiffness_apical_apical=I.stiffness_apical_apical_div),O.phase===CellPhase.Mitosis&&(O.R_hard=I.R_hard_div),O.has_A||(Z=0),O.has_B||(Y=0);const J=Math.exp(-P*I.k_cytos);if(O.eta_A=J*(O.eta_A-Z)+Z,O.has_B?O.eta_B=J*(O.eta_B-Y)+Y:O.running_mode>=2&&O.B.y>0?O.eta_B=Vector2.from(O.B).dist(L)-O.R_soft:O.eta_B=J*(O.eta_B-Y)+Y,!O.is_running||O.has_B){const te=I.max_cytoskeleton_length,ne=O.eta_A+O.eta_B-te;if(te>0&&ne>1){const ie=O.eta_A+O.eta_B,se=O.eta_A*te/ie,oe=O.eta_B*te/ie;O.eta_A=J*(O.eta_A-se)+se,O.eta_B=J*(O.eta_B-oe)+oe}}}}function updateApicalJunctions(_,R,P){for(const O of _.ap_links){const I=_.cells[O.l],L=_.cells[O.r],z=getCellType(R,I),F=getCellType(R,L),G=.5*z.k_apical_junction+.5*F.k_apical_junction;O.rl=O.rl*Math.exp(-P*G)}}function integrateForces(_,R,P,O,I){const L=R.general.mu,z=Math.sqrt(I);for(let F=0;F<_.cells.length;F++){const G=_.cells[F],V=getCellType(R,G),Z=P[F],Y=V.diffusion;if(G.pos.x+=z*Y*O.gaussian(),G.pos.y+=z*Y*O.gaussian(),G.pos.x+=I*Z.f.x/L,G.pos.y+=I*Z.f.y/L,G.A.x+=I*Z.fA.x/L,G.A.y+=I*Z.fA.y/L,G.is_running){const Q=Vector2.from(G.B),J=Vector2.from(G.pos);if(Q.dist(J)<5){const te=Q.sub(J).normalize();G.B.x+=I*te.x*V.running_speed,G.B.y+=I*te.y*V.running_speed}}else G.B.x+=I*Z.fB.x/L,G.B.y+=I*Z.fB.y/L}}function performTimestep(_,R,P){const O=R.general,I=O.dt;for(const F of _.cells){const G=getCellType(R,F);updateCellPhase(F,G,_.t)}const L=processCellDivisions(_,R,P);processEMTEvents(_,R,I),updateCytoskeleton(_,R,I),updateApicalJunctions(_,R,I);const z=I/O.n_substeps;for(let F=0;F<O.n_substeps;F++){_.t+=z;const G=calcAllForces(_,R);integrateForces(_,R,G,P,z),applyAllConstraints(_,R)}return _.step_count++,L}const scriptRel="modulepreload",assetsURL=function(_){return"/internal/eht/"+_},seen={},__vitePreload=function _(R,P,O){let I=Promise.resolve();if(P&&P.length>0){let G=function(V){return Promise.all(V.map(Z=>Promise.resolve(Z).then(Y=>({status:"fulfilled",value:Y}),Y=>({status:"rejected",reason:Y}))))};document.getElementsByTagName("link");const z=document.querySelector("meta[property=csp-nonce]"),F=z?.nonce||z?.getAttribute("nonce");I=G(P.map(V=>{if(V=assetsURL(V),V in seen)return;seen[V]=!0;const Z=V.endsWith(".css"),Y=Z?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${V}"]${Y}`))return;const Q=document.createElement("link");if(Q.rel=Z?"stylesheet":scriptRel,Z||(Q.as="script"),Q.crossOrigin="",Q.href=V,F&&Q.setAttribute("nonce",F),document.head.appendChild(Q),Z)return new Promise((J,te)=>{Q.addEventListener("load",J),Q.addEventListener("error",()=>te(new Error(`Unable to preload CSS for ${V}`)))})}))}function L(z){const F=new Event("vite:preloadError",{cancelable:!0});if(F.payload=z,window.dispatchEvent(F),!F.defaultPrevented)throw z}return I.then(z=>{for(const F of z||[])F.status==="rejected"&&L(F.reason);return R().catch(L)})};var ExtensionType=(_=>(_.Application="application",_.WebGLPipes="webgl-pipes",_.WebGLPipesAdaptor="webgl-pipes-adaptor",_.WebGLSystem="webgl-system",_.WebGPUPipes="webgpu-pipes",_.WebGPUPipesAdaptor="webgpu-pipes-adaptor",_.WebGPUSystem="webgpu-system",_.CanvasSystem="canvas-system",_.CanvasPipesAdaptor="canvas-pipes-adaptor",_.CanvasPipes="canvas-pipes",_.Asset="asset",_.LoadParser="load-parser",_.ResolveParser="resolve-parser",_.CacheParser="cache-parser",_.DetectionParser="detection-parser",_.MaskEffect="mask-effect",_.BlendMode="blend-mode",_.TextureSource="texture-source",_.Environment="environment",_.ShapeBuilder="shape-builder",_.Batcher="batcher",_))(ExtensionType||{});const normalizeExtension=_=>{if(typeof _=="function"||typeof _=="object"&&_.extension){if(!_.extension)throw new Error("Extension class must have an extension object");_={...typeof _.extension!="object"?{type:_.extension}:_.extension,ref:_}}if(typeof _=="object")_={..._};else throw new Error("Invalid extension type");return typeof _.type=="string"&&(_.type=[_.type]),_},normalizeExtensionPriority=(_,R)=>normalizeExtension(_).priority??R,extensions={_addHandlers:{},_removeHandlers:{},_queue:{},remove(..._){return _.map(normalizeExtension).forEach(R=>{R.type.forEach(P=>this._removeHandlers[P]?.(R))}),this},add(..._){return _.map(normalizeExtension).forEach(R=>{R.type.forEach(P=>{const O=this._addHandlers,I=this._queue;O[P]?O[P]?.(R):(I[P]=I[P]||[],I[P]?.push(R))})}),this},handle(_,R,P){const O=this._addHandlers,I=this._removeHandlers;if(O[_]||I[_])throw new Error(`Extension type ${_} already has a handler`);O[_]=R,I[_]=P;const L=this._queue;return L[_]&&(L[_]?.forEach(z=>R(z)),delete L[_]),this},handleByMap(_,R){return this.handle(_,P=>{P.name&&(R[P.name]=P.ref)},P=>{P.name&&delete R[P.name]})},handleByNamedList(_,R,P=-1){return this.handle(_,O=>{R.findIndex(L=>L.name===O.name)>=0||(R.push({name:O.name,value:O.ref}),R.sort((L,z)=>normalizeExtensionPriority(z.value,P)-normalizeExtensionPriority(L.value,P)))},O=>{const I=R.findIndex(L=>L.name===O.name);I!==-1&&R.splice(I,1)})},handleByList(_,R,P=-1){return this.handle(_,O=>{R.includes(O.ref)||(R.push(O.ref),R.sort((I,L)=>normalizeExtensionPriority(L,P)-normalizeExtensionPriority(I,P)))},O=>{const I=R.indexOf(O.ref);I!==-1&&R.splice(I,1)})},mixin(_,...R){for(const P of R)Object.defineProperties(_.prototype,Object.getOwnPropertyDescriptors(P))}},browserExt={extension:{type:ExtensionType.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await __vitePreload(()=>import("./browserAll-BID_lnER.js"),__vite__mapDeps([0,1,2]))}},webworkerExt={extension:{type:ExtensionType.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await __vitePreload(()=>import("./webworkerAll-DNWdHLm0.js"),__vite__mapDeps([1,2]))}};class ObservablePoint{constructor(R,P,O){this._x=P||0,this._y=O||0,this._observer=R}clone(R){return new ObservablePoint(R??this._observer,this._x,this._y)}set(R=0,P=R){return(this._x!==R||this._y!==P)&&(this._x=R,this._y=P,this._observer._onUpdate(this)),this}copyFrom(R){return(this._x!==R.x||this._y!==R.y)&&(this._x=R.x,this._y=R.y,this._observer._onUpdate(this)),this}copyTo(R){return R.set(this._x,this._y),R}equals(R){return R.x===this._x&&R.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(R){this._x!==R&&(this._x=R,this._observer._onUpdate(this))}get y(){return this._y}set y(R){this._y!==R&&(this._y=R,this._observer._onUpdate(this))}}var eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,(function(_){var R=Object.prototype.hasOwnProperty,P="~";function O(){}Object.create&&(O.prototype=Object.create(null),new O().__proto__||(P=!1));function I(G,V,Z){this.fn=G,this.context=V,this.once=Z||!1}function L(G,V,Z,Y,Q){if(typeof Z!="function")throw new TypeError("The listener must be a function");var J=new I(Z,Y||G,Q),te=P?P+V:V;return G._events[te]?G._events[te].fn?G._events[te]=[G._events[te],J]:G._events[te].push(J):(G._events[te]=J,G._eventsCount++),G}function z(G,V){--G._eventsCount===0?G._events=new O:delete G._events[V]}function F(){this._events=new O,this._eventsCount=0}F.prototype.eventNames=function(){var V=[],Z,Y;if(this._eventsCount===0)return V;for(Y in Z=this._events)R.call(Z,Y)&&V.push(P?Y.slice(1):Y);return Object.getOwnPropertySymbols?V.concat(Object.getOwnPropertySymbols(Z)):V},F.prototype.listeners=function(V){var Z=P?P+V:V,Y=this._events[Z];if(!Y)return[];if(Y.fn)return[Y.fn];for(var Q=0,J=Y.length,te=new Array(J);Q<J;Q++)te[Q]=Y[Q].fn;return te},F.prototype.listenerCount=function(V){var Z=P?P+V:V,Y=this._events[Z];return Y?Y.fn?1:Y.length:0},F.prototype.emit=function(V,Z,Y,Q,J,te){var ne=P?P+V:V;if(!this._events[ne])return!1;var ie=this._events[ne],se=arguments.length,oe,ce;if(ie.fn){switch(ie.once&&this.removeListener(V,ie.fn,void 0,!0),se){case 1:return ie.fn.call(ie.context),!0;case 2:return ie.fn.call(ie.context,Z),!0;case 3:return ie.fn.call(ie.context,Z,Y),!0;case 4:return ie.fn.call(ie.context,Z,Y,Q),!0;case 5:return ie.fn.call(ie.context,Z,Y,Q,J),!0;case 6:return ie.fn.call(ie.context,Z,Y,Q,J,te),!0}for(ce=1,oe=new Array(se-1);ce<se;ce++)oe[ce-1]=arguments[ce];ie.fn.apply(ie.context,oe)}else{var ue=ie.length,me;for(ce=0;ce<ue;ce++)switch(ie[ce].once&&this.removeListener(V,ie[ce].fn,void 0,!0),se){case 1:ie[ce].fn.call(ie[ce].context);break;case 2:ie[ce].fn.call(ie[ce].context,Z);break;case 3:ie[ce].fn.call(ie[ce].context,Z,Y);break;case 4:ie[ce].fn.call(ie[ce].context,Z,Y,Q);break;default:if(!oe)for(me=1,oe=new Array(se-1);me<se;me++)oe[me-1]=arguments[me];ie[ce].fn.apply(ie[ce].context,oe)}}return!0},F.prototype.on=function(V,Z,Y){return L(this,V,Z,Y,!1)},F.prototype.once=function(V,Z,Y){return L(this,V,Z,Y,!0)},F.prototype.removeListener=function(V,Z,Y,Q){var J=P?P+V:V;if(!this._events[J])return this;if(!Z)return z(this,J),this;var te=this._events[J];if(te.fn)te.fn===Z&&(!Q||te.once)&&(!Y||te.context===Y)&&z(this,J);else{for(var ne=0,ie=[],se=te.length;ne<se;ne++)(te[ne].fn!==Z||Q&&!te[ne].once||Y&&te[ne].context!==Y)&&ie.push(te[ne]);ie.length?this._events[J]=ie.length===1?ie[0]:ie:z(this,J)}return this},F.prototype.removeAllListeners=function(V){var Z;return V?(Z=P?P+V:V,this._events[Z]&&z(this,Z)):(this._events=new O,this._eventsCount=0),this},F.prototype.off=F.prototype.removeListener,F.prototype.addListener=F.prototype.on,F.prefixed=P,F.EventEmitter=F,_.exports=F})(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports),PI_2=Math.PI*2,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180;class Point{constructor(R=0,P=0){this.x=0,this.y=0,this.x=R,this.y=P}clone(){return new Point(this.x,this.y)}copyFrom(R){return this.set(R.x,R.y),this}copyTo(R){return R.set(this.x,this.y),R}equals(R){return R.x===this.x&&R.y===this.y}set(R=0,P=R){return this.x=R,this.y=P,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return tempPoint.x=0,tempPoint.y=0,tempPoint}}const tempPoint=new Point;class Matrix{constructor(R=1,P=0,O=0,I=1,L=0,z=0){this.array=null,this.a=R,this.b=P,this.c=O,this.d=I,this.tx=L,this.ty=z}fromArray(R){this.a=R[0],this.b=R[1],this.c=R[3],this.d=R[4],this.tx=R[2],this.ty=R[5]}set(R,P,O,I,L,z){return this.a=R,this.b=P,this.c=O,this.d=I,this.tx=L,this.ty=z,this}toArray(R,P){this.array||(this.array=new Float32Array(9));const O=P||this.array;return R?(O[0]=this.a,O[1]=this.b,O[2]=0,O[3]=this.c,O[4]=this.d,O[5]=0,O[6]=this.tx,O[7]=this.ty,O[8]=1):(O[0]=this.a,O[1]=this.c,O[2]=this.tx,O[3]=this.b,O[4]=this.d,O[5]=this.ty,O[6]=0,O[7]=0,O[8]=1),O}apply(R,P){P=P||new Point;const O=R.x,I=R.y;return P.x=this.a*O+this.c*I+this.tx,P.y=this.b*O+this.d*I+this.ty,P}applyInverse(R,P){P=P||new Point;const O=this.a,I=this.b,L=this.c,z=this.d,F=this.tx,G=this.ty,V=1/(O*z+L*-I),Z=R.x,Y=R.y;return P.x=z*V*Z+-L*V*Y+(G*L-F*z)*V,P.y=O*V*Y+-I*V*Z+(-G*O+F*I)*V,P}translate(R,P){return this.tx+=R,this.ty+=P,this}scale(R,P){return this.a*=R,this.d*=P,this.c*=R,this.b*=P,this.tx*=R,this.ty*=P,this}rotate(R){const P=Math.cos(R),O=Math.sin(R),I=this.a,L=this.c,z=this.tx;return this.a=I*P-this.b*O,this.b=I*O+this.b*P,this.c=L*P-this.d*O,this.d=L*O+this.d*P,this.tx=z*P-this.ty*O,this.ty=z*O+this.ty*P,this}append(R){const P=this.a,O=this.b,I=this.c,L=this.d;return this.a=R.a*P+R.b*I,this.b=R.a*O+R.b*L,this.c=R.c*P+R.d*I,this.d=R.c*O+R.d*L,this.tx=R.tx*P+R.ty*I+this.tx,this.ty=R.tx*O+R.ty*L+this.ty,this}appendFrom(R,P){const O=R.a,I=R.b,L=R.c,z=R.d,F=R.tx,G=R.ty,V=P.a,Z=P.b,Y=P.c,Q=P.d;return this.a=O*V+I*Y,this.b=O*Z+I*Q,this.c=L*V+z*Y,this.d=L*Z+z*Q,this.tx=F*V+G*Y+P.tx,this.ty=F*Z+G*Q+P.ty,this}setTransform(R,P,O,I,L,z,F,G,V){return this.a=Math.cos(F+V)*L,this.b=Math.sin(F+V)*L,this.c=-Math.sin(F-G)*z,this.d=Math.cos(F-G)*z,this.tx=R-(O*this.a+I*this.c),this.ty=P-(O*this.b+I*this.d),this}prepend(R){const P=this.tx;if(R.a!==1||R.b!==0||R.c!==0||R.d!==1){const O=this.a,I=this.c;this.a=O*R.a+this.b*R.c,this.b=O*R.b+this.b*R.d,this.c=I*R.a+this.d*R.c,this.d=I*R.b+this.d*R.d}return this.tx=P*R.a+this.ty*R.c+R.tx,this.ty=P*R.b+this.ty*R.d+R.ty,this}decompose(R){const P=this.a,O=this.b,I=this.c,L=this.d,z=R.pivot,F=-Math.atan2(-I,L),G=Math.atan2(O,P),V=Math.abs(F+G);return V<1e-5||Math.abs(PI_2-V)<1e-5?(R.rotation=G,R.skew.x=R.skew.y=0):(R.rotation=0,R.skew.x=F,R.skew.y=G),R.scale.x=Math.sqrt(P*P+O*O),R.scale.y=Math.sqrt(I*I+L*L),R.position.x=this.tx+(z.x*P+z.y*I),R.position.y=this.ty+(z.x*O+z.y*L),R}invert(){const R=this.a,P=this.b,O=this.c,I=this.d,L=this.tx,z=R*I-P*O;return this.a=I/z,this.b=-P/z,this.c=-O/z,this.d=R/z,this.tx=(O*this.ty-I*L)/z,this.ty=-(R*this.ty-P*L)/z,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const R=new Matrix;return R.a=this.a,R.b=this.b,R.c=this.c,R.d=this.d,R.tx=this.tx,R.ty=this.ty,R}copyTo(R){return R.a=this.a,R.b=this.b,R.c=this.c,R.d=this.d,R.tx=this.tx,R.ty=this.ty,R}copyFrom(R){return this.a=R.a,this.b=R.b,this.c=R.c,this.d=R.d,this.tx=R.tx,this.ty=R.ty,this}equals(R){return R.a===this.a&&R.b===this.b&&R.c===this.c&&R.d===this.d&&R.tx===this.tx&&R.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return identityMatrix$1.identity()}static get shared(){return tempMatrix$3.identity()}}const tempMatrix$3=new Matrix,identityMatrix$1=new Matrix,ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign;function init$1(){for(let _=0;_<16;_++){const R=[];rotationCayley.push(R);for(let P=0;P<16;P++){const O=signum(ux[_]*ux[P]+vx[_]*uy[P]),I=signum(uy[_]*ux[P]+vy[_]*uy[P]),L=signum(ux[_]*vx[P]+vx[_]*vy[P]),z=signum(uy[_]*vx[P]+vy[_]*vy[P]);for(let F=0;F<16;F++)if(ux[F]===O&&uy[F]===I&&vx[F]===L&&vy[F]===z){R.push(F);break}}}for(let _=0;_<16;_++){const R=new Matrix;R.set(ux[_],uy[_],vx[_],vy[_],0,0),rotationMatrices.push(R)}}init$1();const groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:_=>ux[_],uY:_=>uy[_],vX:_=>vx[_],vY:_=>vy[_],inv:_=>_&8?_&15:-_&7,add:(_,R)=>rotationCayley[_][R],sub:(_,R)=>rotationCayley[_][groupD8.inv(R)],rotate180:_=>_^4,isVertical:_=>(_&3)===2,byDirection:(_,R)=>Math.abs(_)*2<=Math.abs(R)?R>=0?groupD8.S:groupD8.N:Math.abs(R)*2<=Math.abs(_)?_>0?groupD8.E:groupD8.W:R>0?_>0?groupD8.SE:groupD8.SW:_>0?groupD8.NE:groupD8.NW,matrixAppendRotationInv:(_,R,P=0,O=0)=>{const I=rotationMatrices[groupD8.inv(R)];I.tx=P,I.ty=O,_.append(I)},transformRectCoords:(_,R,P,O)=>{const{x:I,y:L,width:z,height:F}=_,{x:G,y:V,width:Z,height:Y}=R;return P===groupD8.E?(O.set(I+G,L+V,z,F),O):P===groupD8.S?O.set(Z-L-F+G,I+V,F,z):P===groupD8.W?O.set(Z-I-z+G,Y-L-F+V,z,F):P===groupD8.N?O.set(L+G,Y-I-z+V,F,z):O.set(I+G,L+V,z,F)}},tempPoints=[new Point,new Point,new Point,new Point];class Rectangle{constructor(R=0,P=0,O=0,I=0){this.type="rectangle",this.x=Number(R),this.y=Number(P),this.width=Number(O),this.height=Number(I)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Rectangle(0,0,0,0)}clone(){return new Rectangle(this.x,this.y,this.width,this.height)}copyFromBounds(R){return this.x=R.minX,this.y=R.minY,this.width=R.maxX-R.minX,this.height=R.maxY-R.minY,this}copyFrom(R){return this.x=R.x,this.y=R.y,this.width=R.width,this.height=R.height,this}copyTo(R){return R.copyFrom(this),R}contains(R,P){return this.width<=0||this.height<=0?!1:R>=this.x&&R<this.x+this.width&&P>=this.y&&P<this.y+this.height}strokeContains(R,P,O,I=.5){const{width:L,height:z}=this;if(L<=0||z<=0)return!1;const F=this.x,G=this.y,V=O*(1-I),Z=O-V,Y=F-V,Q=F+L+V,J=G-V,te=G+z+V,ne=F+Z,ie=F+L-Z,se=G+Z,oe=G+z-Z;return R>=Y&&R<=Q&&P>=J&&P<=te&&!(R>ne&&R<ie&&P>se&&P<oe)}intersects(R,P){if(!P){const de=this.x<R.x?R.x:this.x;if((this.right>R.right?R.right:this.right)<=de)return!1;const be=this.y<R.y?R.y:this.y;return(this.bottom>R.bottom?R.bottom:this.bottom)>be}const O=this.left,I=this.right,L=this.top,z=this.bottom;if(I<=O||z<=L)return!1;const F=tempPoints[0].set(R.left,R.top),G=tempPoints[1].set(R.left,R.bottom),V=tempPoints[2].set(R.right,R.top),Z=tempPoints[3].set(R.right,R.bottom);if(V.x<=F.x||G.y<=F.y)return!1;const Y=Math.sign(P.a*P.d-P.b*P.c);if(Y===0||(P.apply(F,F),P.apply(G,G),P.apply(V,V),P.apply(Z,Z),Math.max(F.x,G.x,V.x,Z.x)<=O||Math.min(F.x,G.x,V.x,Z.x)>=I||Math.max(F.y,G.y,V.y,Z.y)<=L||Math.min(F.y,G.y,V.y,Z.y)>=z))return!1;const Q=Y*(G.y-F.y),J=Y*(F.x-G.x),te=Q*O+J*L,ne=Q*I+J*L,ie=Q*O+J*z,se=Q*I+J*z;if(Math.max(te,ne,ie,se)<=Q*F.x+J*F.y||Math.min(te,ne,ie,se)>=Q*Z.x+J*Z.y)return!1;const oe=Y*(F.y-V.y),ce=Y*(V.x-F.x),ue=oe*O+ce*L,me=oe*I+ce*L,he=oe*O+ce*z,fe=oe*I+ce*z;return!(Math.max(ue,me,he,fe)<=oe*F.x+ce*F.y||Math.min(ue,me,he,fe)>=oe*Z.x+ce*Z.y)}pad(R=0,P=R){return this.x-=R,this.y-=P,this.width+=R*2,this.height+=P*2,this}fit(R){const P=Math.max(this.x,R.x),O=Math.min(this.x+this.width,R.x+R.width),I=Math.max(this.y,R.y),L=Math.min(this.y+this.height,R.y+R.height);return this.x=P,this.width=Math.max(O-P,0),this.y=I,this.height=Math.max(L-I,0),this}ceil(R=1,P=.001){const O=Math.ceil((this.x+this.width-P)*R)/R,I=Math.ceil((this.y+this.height-P)*R)/R;return this.x=Math.floor((this.x+P)*R)/R,this.y=Math.floor((this.y+P)*R)/R,this.width=O-this.x,this.height=I-this.y,this}scale(R,P=R){return this.x*=R,this.y*=P,this.width*=R,this.height*=P,this}enlarge(R){const P=Math.min(this.x,R.x),O=Math.max(this.x+this.width,R.x+R.width),I=Math.min(this.y,R.y),L=Math.max(this.y+this.height,R.y+R.height);return this.x=P,this.width=O-P,this.y=I,this.height=L-I,this}getBounds(R){return R||(R=new Rectangle),R.copyFrom(this),R}containsRect(R){if(this.width<=0||this.height<=0)return!1;const P=R.x,O=R.y,I=R.x+R.width,L=R.y+R.height;return P>=this.x&&P<this.x+this.width&&O>=this.y&&O<this.y+this.height&&I>=this.x&&I<this.x+this.width&&L>=this.y&&L<this.y+this.height}set(R,P,O,I){return this.x=R,this.y=P,this.width=O,this.height=I,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const uidCache={default:-1};function uid(_="default"){return uidCache[_]===void 0&&(uidCache[_]=-1),++uidCache[_]}const warnings$1=new Set,v8_0_0="8.0.0",v8_3_4="8.3.4",deprecationState={quiet:!1,noColor:!1},deprecation=(_,R,P=3)=>{if(deprecationState.quiet||warnings$1.has(R))return;let O=new Error().stack;const I=`${R}
Deprecated since v${_}`,L=typeof console.groupCollapsed=="function"&&!deprecationState.noColor;typeof O>"u"?console.warn("PixiJS Deprecation Warning: ",I):(O=O.split(`
`).splice(P).join(`
`),L?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",I),console.warn(O),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",I),console.warn(O))),warnings$1.add(R)};Object.defineProperties(deprecation,{quiet:{get:()=>deprecationState.quiet,set:_=>{deprecationState.quiet=_},enumerable:!0,configurable:!1},noColor:{get:()=>deprecationState.noColor,set:_=>{deprecationState.noColor=_},enumerable:!0,configurable:!1}});const NOOP=()=>{};function nextPow2(_){return _+=_===0?1:0,--_,_|=_>>>1,_|=_>>>2,_|=_>>>4,_|=_>>>8,_|=_>>>16,_+1}function isPow2(_){return!(_&_-1)&&!!_}function definedProps(_){const R={};for(const P in _)_[P]!==void 0&&(R[P]=_[P]);return R}const idHash$1=Object.create(null);function createResourceIdFromString(_){const R=idHash$1[_];return R===void 0&&(idHash$1[_]=uid("resource")),R}const _TextureStyle=class _d extends EventEmitter{constructor(R={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,R={..._d.defaultOptions,...R},this.addressMode=R.addressMode,this.addressModeU=R.addressModeU??this.addressModeU,this.addressModeV=R.addressModeV??this.addressModeV,this.addressModeW=R.addressModeW??this.addressModeW,this.scaleMode=R.scaleMode,this.magFilter=R.magFilter??this.magFilter,this.minFilter=R.minFilter??this.minFilter,this.mipmapFilter=R.mipmapFilter??this.mipmapFilter,this.lodMinClamp=R.lodMinClamp,this.lodMaxClamp=R.lodMaxClamp,this.compare=R.compare,this.maxAnisotropy=R.maxAnisotropy??1}set addressMode(R){this.addressModeU=R,this.addressModeV=R,this.addressModeW=R}get addressMode(){return this.addressModeU}set wrapMode(R){deprecation(v8_0_0,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=R}get wrapMode(){return this.addressMode}set scaleMode(R){this.magFilter=R,this.minFilter=R,this.mipmapFilter=R}get scaleMode(){return this.magFilter}set maxAnisotropy(R){this._maxAnisotropy=Math.min(R,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const R=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=createResourceIdFromString(R),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};_TextureStyle.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let TextureStyle=_TextureStyle;const _TextureSource=class vd extends EventEmitter{constructor(R={}){super(),this.options=R,this.uid=uid("textureSource"),this._resourceType="textureSource",this._resourceId=uid("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,R={...vd.defaultOptions,...R},this.label=R.label??"",this.resource=R.resource,this.autoGarbageCollect=R.autoGarbageCollect,this._resolution=R.resolution,R.width?this.pixelWidth=R.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,R.height?this.pixelHeight=R.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=R.format,this.dimension=R.dimensions,this.mipLevelCount=R.mipLevelCount,this.autoGenerateMipmaps=R.autoGenerateMipmaps,this.sampleCount=R.sampleCount,this.antialias=R.antialias,this.alphaMode=R.alphaMode,this.style=new TextureStyle(definedProps(R)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(R){this.style!==R&&(this._style?.off("change",this._onStyleChange,this),this._style=R,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(R){this._style.maxAnisotropy=R}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(R){this._style.addressMode=R}get repeatMode(){return this._style.addressMode}set repeatMode(R){this._style.addressMode=R}get magFilter(){return this._style.magFilter}set magFilter(R){this._style.magFilter=R}get minFilter(){return this._style.minFilter}set minFilter(R){this._style.minFilter=R}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(R){this._style.mipmapFilter=R}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(R){this._style.lodMinClamp=R}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(R){this._style.lodMaxClamp=R}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const R=this._resolution;if(this.resize(this.resourceWidth/R,this.resourceHeight/R))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=uid("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:R}=this;return R.naturalWidth||R.videoWidth||R.displayWidth||R.width}get resourceHeight(){const{resource:R}=this;return R.naturalHeight||R.videoHeight||R.displayHeight||R.height}get resolution(){return this._resolution}set resolution(R){this._resolution!==R&&(this._resolution=R,this.width=this.pixelWidth/R,this.height=this.pixelHeight/R)}resize(R,P,O){O||(O=this._resolution),R||(R=this.width),P||(P=this.height);const I=Math.round(R*O),L=Math.round(P*O);return this.width=I/O,this.height=L/O,this._resolution=O,this.pixelWidth===I&&this.pixelHeight===L?!1:(this._refreshPOT(),this.pixelWidth=I,this.pixelHeight=L,this.emit("resize",this),this._resourceId=uid("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(R){this._style.wrapMode=R}get wrapMode(){return this._style.wrapMode}set scaleMode(R){this._style.scaleMode=R}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=isPow2(this.pixelWidth)&&isPow2(this.pixelHeight)}static test(R){throw new Error("Unimplemented")}};_TextureSource.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let TextureSource=_TextureSource;class BufferImageSource extends TextureSource{constructor(R){const P=R.resource||new Float32Array(R.width*R.height*4);let O=R.format;O||(P instanceof Float32Array?O="rgba32float":P instanceof Int32Array||P instanceof Uint32Array?O="rgba32uint":P instanceof Int16Array||P instanceof Uint16Array?O="rgba16uint":(P instanceof Int8Array,O="bgra8unorm")),super({...R,resource:P,format:O}),this.uploadMethodId="buffer"}static test(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array}}BufferImageSource.extension=ExtensionType.TextureSource;const tempMat=new Matrix;class TextureMatrix{constructor(R,P){this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof P>"u"?this.clampMargin=R.width<10?0:.5:this.clampMargin=P,this.isSimple=!1,this.texture=R}get texture(){return this._texture}set texture(R){this.texture!==R&&(this._texture?.removeListener("update",this.update,this),this._texture=R,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(R,P){P===void 0&&(P=R);const O=this.mapCoord;for(let I=0;I<R.length;I+=2){const L=R[I],z=R[I+1];P[I]=L*O.a+z*O.c+O.tx,P[I+1]=L*O.b+z*O.d+O.ty}return P}update(){const R=this._texture;this._updateID++;const P=R.uvs;this.mapCoord.set(P.x1-P.x0,P.y1-P.y0,P.x3-P.x0,P.y3-P.y0,P.x0,P.y0);const O=R.orig,I=R.trim;I&&(tempMat.set(O.width/I.width,0,0,O.height/I.height,-I.x/I.width,-I.y/I.height),this.mapCoord.append(tempMat));const L=R.source,z=this.uClampFrame,F=this.clampMargin/L._resolution,G=this.clampOffset/L._resolution;return z[0]=(R.frame.x+F+G)/L.width,z[1]=(R.frame.y+F+G)/L.height,z[2]=(R.frame.x+R.frame.width-F+G)/L.width,z[3]=(R.frame.y+R.frame.height-F+G)/L.height,this.uClampOffset[0]=this.clampOffset/L.pixelWidth,this.uClampOffset[1]=this.clampOffset/L.pixelHeight,this.isSimple=R.frame.width===L.width&&R.frame.height===L.height&&R.rotate===0,!0}}class Texture extends EventEmitter{constructor({source:R,label:P,frame:O,orig:I,trim:L,defaultAnchor:z,defaultBorders:F,rotate:G,dynamic:V}={}){if(super(),this.uid=uid("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Rectangle,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=P,this.source=R?.source??new TextureSource,this.noFrame=!O,O)this.frame.copyFrom(O);else{const{width:Z,height:Y}=this._source;this.frame.width=Z,this.frame.height=Y}this.orig=I||this.frame,this.trim=L,this.rotate=G??0,this.defaultAnchor=z,this.defaultBorders=F,this.destroyed=!1,this.dynamic=V||!1,this.updateUvs()}set source(R){this._source&&this._source.off("resize",this.update,this),this._source=R,R.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new TextureMatrix(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:R,frame:P}=this,{width:O,height:I}=this._source,L=P.x/O,z=P.y/I,F=P.width/O,G=P.height/I;let V=this.rotate;if(V){const Z=F/2,Y=G/2,Q=L+Z,J=z+Y;V=groupD8.add(V,groupD8.NW),R.x0=Q+Z*groupD8.uX(V),R.y0=J+Y*groupD8.uY(V),V=groupD8.add(V,2),R.x1=Q+Z*groupD8.uX(V),R.y1=J+Y*groupD8.uY(V),V=groupD8.add(V,2),R.x2=Q+Z*groupD8.uX(V),R.y2=J+Y*groupD8.uY(V),V=groupD8.add(V,2),R.x3=Q+Z*groupD8.uX(V),R.y3=J+Y*groupD8.uY(V)}else R.x0=L,R.y0=z,R.x1=L+F,R.y1=z,R.x2=L+F,R.y2=z+G,R.x3=L,R.y3=z+G}destroy(R=!1){this._source&&(this._source.off("resize",this.update,this),R&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return deprecation(v8_0_0,"Texture.baseTexture is now Texture.source"),this._source}}Texture.EMPTY=new Texture({label:"EMPTY",source:new TextureSource({label:"EMPTY"})});Texture.EMPTY.destroy=NOOP;Texture.WHITE=new Texture({source:new BufferImageSource({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Texture.WHITE.destroy=NOOP;function updateQuadBounds(_,R,P){const{width:O,height:I}=P.orig,L=P.trim;if(L){const z=L.width,F=L.height;_.minX=L.x-R._x*O,_.maxX=_.minX+z,_.minY=L.y-R._y*I,_.maxY=_.minY+F}else _.minX=-R._x*O,_.maxX=_.minX+O,_.minY=-R._y*I,_.maxY=_.minY+I}const defaultMatrix=new Matrix;class Bounds{constructor(R=1/0,P=1/0,O=-1/0,I=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=defaultMatrix,this.minX=R,this.minY=P,this.maxX=O,this.maxY=I}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Rectangle);const R=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(R.x=0,R.y=0,R.width=0,R.height=0):R.copyFromBounds(this),R}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=defaultMatrix,this}set(R,P,O,I){this.minX=R,this.minY=P,this.maxX=O,this.maxY=I}addFrame(R,P,O,I,L){L||(L=this.matrix);const z=L.a,F=L.b,G=L.c,V=L.d,Z=L.tx,Y=L.ty;let Q=this.minX,J=this.minY,te=this.maxX,ne=this.maxY,ie=z*R+G*P+Z,se=F*R+V*P+Y;ie<Q&&(Q=ie),se<J&&(J=se),ie>te&&(te=ie),se>ne&&(ne=se),ie=z*O+G*P+Z,se=F*O+V*P+Y,ie<Q&&(Q=ie),se<J&&(J=se),ie>te&&(te=ie),se>ne&&(ne=se),ie=z*R+G*I+Z,se=F*R+V*I+Y,ie<Q&&(Q=ie),se<J&&(J=se),ie>te&&(te=ie),se>ne&&(ne=se),ie=z*O+G*I+Z,se=F*O+V*I+Y,ie<Q&&(Q=ie),se<J&&(J=se),ie>te&&(te=ie),se>ne&&(ne=se),this.minX=Q,this.minY=J,this.maxX=te,this.maxY=ne}addRect(R,P){this.addFrame(R.x,R.y,R.x+R.width,R.y+R.height,P)}addBounds(R,P){this.addFrame(R.minX,R.minY,R.maxX,R.maxY,P)}addBoundsMask(R){this.minX=this.minX>R.minX?this.minX:R.minX,this.minY=this.minY>R.minY?this.minY:R.minY,this.maxX=this.maxX<R.maxX?this.maxX:R.maxX,this.maxY=this.maxY<R.maxY?this.maxY:R.maxY}applyMatrix(R){const P=this.minX,O=this.minY,I=this.maxX,L=this.maxY,{a:z,b:F,c:G,d:V,tx:Z,ty:Y}=R;let Q=z*P+G*O+Z,J=F*P+V*O+Y;this.minX=Q,this.minY=J,this.maxX=Q,this.maxY=J,Q=z*I+G*O+Z,J=F*I+V*O+Y,this.minX=Q<this.minX?Q:this.minX,this.minY=J<this.minY?J:this.minY,this.maxX=Q>this.maxX?Q:this.maxX,this.maxY=J>this.maxY?J:this.maxY,Q=z*P+G*L+Z,J=F*P+V*L+Y,this.minX=Q<this.minX?Q:this.minX,this.minY=J<this.minY?J:this.minY,this.maxX=Q>this.maxX?Q:this.maxX,this.maxY=J>this.maxY?J:this.maxY,Q=z*I+G*L+Z,J=F*I+V*L+Y,this.minX=Q<this.minX?Q:this.minX,this.minY=J<this.minY?J:this.minY,this.maxX=Q>this.maxX?Q:this.maxX,this.maxY=J>this.maxY?J:this.maxY}fit(R){return this.minX<R.left&&(this.minX=R.left),this.maxX>R.right&&(this.maxX=R.right),this.minY<R.top&&(this.minY=R.top),this.maxY>R.bottom&&(this.maxY=R.bottom),this}fitBounds(R,P,O,I){return this.minX<R&&(this.minX=R),this.maxX>P&&(this.maxX=P),this.minY<O&&(this.minY=O),this.maxY>I&&(this.maxY=I),this}pad(R,P=R){return this.minX-=R,this.maxX+=R,this.minY-=P,this.maxY+=P,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Bounds(this.minX,this.minY,this.maxX,this.maxY)}scale(R,P=R){return this.minX*=R,this.minY*=P,this.maxX*=R,this.maxY*=P,this}get x(){return this.minX}set x(R){const P=this.maxX-this.minX;this.minX=R,this.maxX=R+P}get y(){return this.minY}set y(R){const P=this.maxY-this.minY;this.minY=R,this.maxY=R+P}get width(){return this.maxX-this.minX}set width(R){this.maxX=this.minX+R}get height(){return this.maxY-this.minY}set height(R){this.maxY=this.minY+R}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(R,P,O,I){let L=this.minX,z=this.minY,F=this.maxX,G=this.maxY;I||(I=this.matrix);const V=I.a,Z=I.b,Y=I.c,Q=I.d,J=I.tx,te=I.ty;for(let ne=P;ne<O;ne+=2){const ie=R[ne],se=R[ne+1],oe=V*ie+Y*se+J,ce=Z*ie+Q*se+te;L=oe<L?oe:L,z=ce<z?ce:z,F=oe>F?oe:F,G=ce>G?ce:G}this.minX=L,this.minY=z,this.maxX=F,this.maxY=G}containsPoint(R,P){return this.minX<=R&&this.minY<=P&&this.maxX>=R&&this.maxY>=P}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(R){return this.minX=R.minX,this.minY=R.minY,this.maxX=R.maxX,this.maxY=R.maxY,this}}var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(_){return typeof _=="string"?_.length>0:typeof _=="number"},n=function(_,R,P){return R===void 0&&(R=0),P===void 0&&(P=Math.pow(10,R)),Math.round(P*_)/P+0},e=function(_,R,P){return R===void 0&&(R=0),P===void 0&&(P=1),_>P?P:_>R?_:R},u=function(_){return(_=isFinite(_)?_%360:0)>0?_:_+360},a$1=function(_){return{r:e(_.r,0,255),g:e(_.g,0,255),b:e(_.b,0,255),a:e(_.a)}},o=function(_){return{r:n(_.r),g:n(_.g),b:n(_.b),a:n(_.a,3)}},i$1=/^#([0-9a-f]{3,8})$/i,s$2=function(_){var R=_.toString(16);return R.length<2?"0"+R:R},h$1=function(_){var R=_.r,P=_.g,O=_.b,I=_.a,L=Math.max(R,P,O),z=L-Math.min(R,P,O),F=z?L===R?(P-O)/z:L===P?2+(O-R)/z:4+(R-P)/z:0;return{h:60*(F<0?F+6:F),s:L?z/L*100:0,v:L/255*100,a:I}},b=function(_){var R=_.h,P=_.s,O=_.v,I=_.a;R=R/360*6,P/=100,O/=100;var L=Math.floor(R),z=O*(1-P),F=O*(1-(R-L)*P),G=O*(1-(1-R+L)*P),V=L%6;return{r:255*[O,F,z,z,G,O][V],g:255*[G,O,O,F,z,z][V],b:255*[z,z,G,O,O,F][V],a:I}},g=function(_){return{h:u(_.h),s:e(_.s,0,100),l:e(_.l,0,100),a:e(_.a)}},d=function(_){return{h:n(_.h),s:n(_.s),l:n(_.l),a:n(_.a,3)}},f=function(_){return b((P=(R=_).s,{h:R.h,s:(P*=((O=R.l)<50?O:100-O)/100)>0?2*P/(O+P)*100:0,v:O+P,a:R.a}));var R,P,O},c$3=function(_){return{h:(R=h$1(_)).h,s:(I=(200-(P=R.s))*(O=R.v)/100)>0&&I<200?P*O/100/(I<=100?I:200-I)*100:0,l:I/2,a:R.a};var R,P,O,I},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$1={string:[[function(_){var R=i$1.exec(_);return R?(_=R[1]).length<=4?{r:parseInt(_[0]+_[0],16),g:parseInt(_[1]+_[1],16),b:parseInt(_[2]+_[2],16),a:_.length===4?n(parseInt(_[3]+_[3],16)/255,2):1}:_.length===6||_.length===8?{r:parseInt(_.substr(0,2),16),g:parseInt(_.substr(2,2),16),b:parseInt(_.substr(4,2),16),a:_.length===8?n(parseInt(_.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(_){var R=v.exec(_)||m.exec(_);return R?R[2]!==R[4]||R[4]!==R[6]?null:a$1({r:Number(R[1])/(R[2]?100/255:1),g:Number(R[3])/(R[4]?100/255:1),b:Number(R[5])/(R[6]?100/255:1),a:R[7]===void 0?1:Number(R[7])/(R[8]?100:1)}):null},"rgb"],[function(_){var R=l.exec(_)||p$1.exec(_);if(!R)return null;var P,O,I=g({h:(P=R[1],O=R[2],O===void 0&&(O="deg"),Number(P)*(r[O]||1)),s:Number(R[3]),l:Number(R[4]),a:R[5]===void 0?1:Number(R[5])/(R[6]?100:1)});return f(I)},"hsl"]],object:[[function(_){var R=_.r,P=_.g,O=_.b,I=_.a,L=I===void 0?1:I;return t(R)&&t(P)&&t(O)?a$1({r:Number(R),g:Number(P),b:Number(O),a:Number(L)}):null},"rgb"],[function(_){var R=_.h,P=_.s,O=_.l,I=_.a,L=I===void 0?1:I;if(!t(R)||!t(P)||!t(O))return null;var z=g({h:Number(R),s:Number(P),l:Number(O),a:Number(L)});return f(z)},"hsl"],[function(_){var R=_.h,P=_.s,O=_.v,I=_.a,L=I===void 0?1:I;if(!t(R)||!t(P)||!t(O))return null;var z=(function(F){return{h:u(F.h),s:e(F.s,0,100),v:e(F.v,0,100),a:e(F.a)}})({h:Number(R),s:Number(P),v:Number(O),a:Number(L)});return b(z)},"hsv"]]},N=function(_,R){for(var P=0;P<R.length;P++){var O=R[P][0](_);if(O)return[O,R[P][1]]}return[null,void 0]},x$1=function(_){return typeof _=="string"?N(_.trim(),y$1.string):typeof _=="object"&&_!==null?N(_,y$1.object):[null,void 0]},M$1=function(_,R){var P=c$3(_);return{h:P.h,s:e(P.s+100*R,0,100),l:P.l,a:P.a}},H=function(_){return(299*_.r+587*_.g+114*_.b)/1e3/255},$=function(_,R){var P=c$3(_);return{h:P.h,s:P.s,l:e(P.l+100*R,0,100),a:P.a}},j=(function(){function _(R){this.parsed=x$1(R)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return _.prototype.isValid=function(){return this.parsed!==null},_.prototype.brightness=function(){return n(H(this.rgba),2)},_.prototype.isDark=function(){return H(this.rgba)<.5},_.prototype.isLight=function(){return H(this.rgba)>=.5},_.prototype.toHex=function(){return R=o(this.rgba),P=R.r,O=R.g,I=R.b,z=(L=R.a)<1?s$2(n(255*L)):"","#"+s$2(P)+s$2(O)+s$2(I)+z;var R,P,O,I,L,z},_.prototype.toRgb=function(){return o(this.rgba)},_.prototype.toRgbString=function(){return R=o(this.rgba),P=R.r,O=R.g,I=R.b,(L=R.a)<1?"rgba("+P+", "+O+", "+I+", "+L+")":"rgb("+P+", "+O+", "+I+")";var R,P,O,I,L},_.prototype.toHsl=function(){return d(c$3(this.rgba))},_.prototype.toHslString=function(){return R=d(c$3(this.rgba)),P=R.h,O=R.s,I=R.l,(L=R.a)<1?"hsla("+P+", "+O+"%, "+I+"%, "+L+")":"hsl("+P+", "+O+"%, "+I+"%)";var R,P,O,I,L},_.prototype.toHsv=function(){return R=h$1(this.rgba),{h:n(R.h),s:n(R.s),v:n(R.v),a:n(R.a,3)};var R},_.prototype.invert=function(){return w({r:255-(R=this.rgba).r,g:255-R.g,b:255-R.b,a:R.a});var R},_.prototype.saturate=function(R){return R===void 0&&(R=.1),w(M$1(this.rgba,R))},_.prototype.desaturate=function(R){return R===void 0&&(R=.1),w(M$1(this.rgba,-R))},_.prototype.grayscale=function(){return w(M$1(this.rgba,-1))},_.prototype.lighten=function(R){return R===void 0&&(R=.1),w($(this.rgba,R))},_.prototype.darken=function(R){return R===void 0&&(R=.1),w($(this.rgba,-R))},_.prototype.rotate=function(R){return R===void 0&&(R=15),this.hue(this.hue()+R)},_.prototype.alpha=function(R){return typeof R=="number"?w({r:(P=this.rgba).r,g:P.g,b:P.b,a:R}):n(this.rgba.a,3);var P},_.prototype.hue=function(R){var P=c$3(this.rgba);return typeof R=="number"?w({h:R,s:P.s,l:P.l,a:P.a}):n(P.h)},_.prototype.isEqual=function(R){return this.toHex()===w(R).toHex()},_})(),w=function(_){return _ instanceof j?_:new j(_)},S$1=[],k$1=function(_){_.forEach(function(R){S$1.indexOf(R)<0&&(R(j,y$1),S$1.push(R))})};function namesPlugin(_,R){var P={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},O={};for(var I in P)O[P[I]]=I;var L={};_.prototype.toName=function(z){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var F,G,V=O[this.toHex()];if(V)return V;if(z?.closest){var Z=this.toRgb(),Y=1/0,Q="black";if(!L.length)for(var J in P)L[J]=new _(P[J]).toRgb();for(var te in P){var ne=(F=Z,G=L[te],Math.pow(F.r-G.r,2)+Math.pow(F.g-G.g,2)+Math.pow(F.b-G.b,2));ne<Y&&(Y=ne,Q=te)}return Q}},R.string.push([function(z){var F=z.toLowerCase(),G=F==="transparent"?"#0000":P[F];return G?new _(G).toRgb():null},"name"])}k$1([namesPlugin]);const _Color=class La{constructor(R=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=R}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(R){return this.value=R,this}set value(R){if(R instanceof La)this._value=this._cloneSource(R._value),this._int=R._int,this._components.set(R._components);else{if(R===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,R))&&(this._value=this._cloneSource(R),this._normalize(this._value))}}get value(){return this._value}_cloneSource(R){return typeof R=="string"||typeof R=="number"||R instanceof Number||R===null?R:Array.isArray(R)||ArrayBuffer.isView(R)?R.slice(0):typeof R=="object"&&R!==null?{...R}:R}_isSourceEqual(R,P){const O=typeof R;if(O!==typeof P)return!1;if(O==="number"||O==="string"||R instanceof Number)return R===P;if(Array.isArray(R)&&Array.isArray(P)||ArrayBuffer.isView(R)&&ArrayBuffer.isView(P))return R.length!==P.length?!1:R.every((L,z)=>L===P[z]);if(R!==null&&P!==null){const L=Object.keys(R),z=Object.keys(P);return L.length!==z.length?!1:L.every(F=>R[F]===P[F])}return R===P}toRgba(){const[R,P,O,I]=this._components;return{r:R,g:P,b:O,a:I}}toRgb(){const[R,P,O]=this._components;return{r:R,g:P,b:O}}toRgbaString(){const[R,P,O]=this.toUint8RgbArray();return`rgba(${R},${P},${O},${this.alpha})`}toUint8RgbArray(R){const[P,O,I]=this._components;return this._arrayRgb||(this._arrayRgb=[]),R||(R=this._arrayRgb),R[0]=Math.round(P*255),R[1]=Math.round(O*255),R[2]=Math.round(I*255),R}toArray(R){this._arrayRgba||(this._arrayRgba=[]),R||(R=this._arrayRgba);const[P,O,I,L]=this._components;return R[0]=P,R[1]=O,R[2]=I,R[3]=L,R}toRgbArray(R){this._arrayRgb||(this._arrayRgb=[]),R||(R=this._arrayRgb);const[P,O,I]=this._components;return R[0]=P,R[1]=O,R[2]=I,R}toNumber(){return this._int}toBgrNumber(){const[R,P,O]=this.toUint8RgbArray();return(O<<16)+(P<<8)+R}toLittleEndianNumber(){const R=this._int;return(R>>16)+(R&65280)+((R&255)<<16)}multiply(R){const[P,O,I,L]=La._temp.setValue(R)._components;return this._components[0]*=P,this._components[1]*=O,this._components[2]*=I,this._components[3]*=L,this._refreshInt(),this._value=null,this}premultiply(R,P=!0){return P&&(this._components[0]*=R,this._components[1]*=R,this._components[2]*=R),this._components[3]=R,this._refreshInt(),this._value=null,this}toPremultiplied(R,P=!0){if(R===1)return(255<<24)+this._int;if(R===0)return P?0:this._int;let O=this._int>>16&255,I=this._int>>8&255,L=this._int&255;return P&&(O=O*R+.5|0,I=I*R+.5|0,L=L*R+.5|0),(R*255<<24)+(O<<16)+(I<<8)+L}toHex(){const R=this._int.toString(16);return`#${"000000".substring(0,6-R.length)+R}`}toHexa(){const P=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-P.length)+P}setAlpha(R){return this._components[3]=this._clamp(R),this}_normalize(R){let P,O,I,L;if((typeof R=="number"||R instanceof Number)&&R>=0&&R<=16777215){const z=R;P=(z>>16&255)/255,O=(z>>8&255)/255,I=(z&255)/255,L=1}else if((Array.isArray(R)||R instanceof Float32Array)&&R.length>=3&&R.length<=4)R=this._clamp(R),[P,O,I,L=1]=R;else if((R instanceof Uint8Array||R instanceof Uint8ClampedArray)&&R.length>=3&&R.length<=4)R=this._clamp(R,0,255),[P,O,I,L=255]=R,P/=255,O/=255,I/=255,L/=255;else if(typeof R=="string"||typeof R=="object"){if(typeof R=="string"){const F=La.HEX_PATTERN.exec(R);F&&(R=`#${F[2]}`)}const z=w(R);z.isValid()&&({r:P,g:O,b:I,a:L}=z.rgba,P/=255,O/=255,I/=255)}if(P!==void 0)this._components[0]=P,this._components[1]=O,this._components[2]=I,this._components[3]=L,this._refreshInt();else throw new Error(`Unable to convert color ${R}`)}_refreshInt(){this._clamp(this._components);const[R,P,O]=this._components;this._int=(R*255<<16)+(P*255<<8)+(O*255|0)}_clamp(R,P=0,O=1){return typeof R=="number"?Math.min(Math.max(R,P),O):(R.forEach((I,L)=>{R[L]=Math.min(Math.max(I,P),O)}),R)}static isColorLike(R){return typeof R=="number"||typeof R=="string"||R instanceof Number||R instanceof La||Array.isArray(R)||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Float32Array||R.r!==void 0&&R.g!==void 0&&R.b!==void 0||R.r!==void 0&&R.g!==void 0&&R.b!==void 0&&R.a!==void 0||R.h!==void 0&&R.s!==void 0&&R.l!==void 0||R.h!==void 0&&R.s!==void 0&&R.l!==void 0&&R.a!==void 0||R.h!==void 0&&R.s!==void 0&&R.v!==void 0||R.h!==void 0&&R.s!==void 0&&R.v!==void 0&&R.a!==void 0}};_Color.shared=new _Color;_Color._temp=new _Color;_Color.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Color$1=_Color;const cullingMixin={cullArea:null,cullable:!1,cullableChildren:!0};let warnCount=0;const maxWarnings=500;function warn$1(..._){warnCount!==maxWarnings&&(warnCount++,warnCount===maxWarnings?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",..._))}const GlobalResourceRegistry={_registeredResources:new Set,register(_){this._registeredResources.add(_)},unregister(_){this._registeredResources.delete(_)},release(){this._registeredResources.forEach(_=>_.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(_){return this._registeredResources.has(_)},reset(){this._registeredResources.clear()}};class Pool{constructor(R,P){this._pool=[],this._count=0,this._index=0,this._classType=R,P&&this.prepopulate(P)}prepopulate(R){for(let P=0;P<R;P++)this._pool[this._index++]=new this._classType;this._count+=R}get(R){let P;return this._index>0?P=this._pool[--this._index]:(P=new this._classType,this._count++),P.init?.(R),P}return(R){R.reset?.(),this._pool[this._index++]=R}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let R=0;R<this._index;R++)this._pool[R].destroy();this._pool.length=0,this._count=0,this._index=0}}class PoolGroupClass{constructor(){this._poolsByClass=new Map}prepopulate(R,P){this.getPool(R).prepopulate(P)}get(R,P){return this.getPool(R).get(P)}return(R){this.getPool(R.constructor).return(R)}getPool(R){return this._poolsByClass.has(R)||this._poolsByClass.set(R,new Pool(R)),this._poolsByClass.get(R)}stats(){const R={};return this._poolsByClass.forEach(P=>{const O=R[P._classType.name]?P._classType.name+P._classType.ID:P._classType.name;R[O]={free:P.totalFree,used:P.totalUsed,size:P.totalSize}}),R}clear(){this._poolsByClass.forEach(R=>R.clear()),this._poolsByClass.clear()}}const BigPool=new PoolGroupClass;GlobalResourceRegistry.register(BigPool);const cacheAsTextureMixin={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(_){typeof _=="boolean"&&_===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(_===!0?{}:_))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(_){deprecation("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(_)}};function removeItems(_,R,P){const O=_.length;let I;if(R>=O||P===0)return;P=R+P>O?O-R:P;const L=O-P;for(I=R;I<L;++I)_[I]=_[I+P];_.length=L}const childrenHelperMixin={allowChildren:!0,removeChildren(_=0,R){const P=R??this.children.length,O=P-_,I=[];if(O>0&&O<=P){for(let z=P-1;z>=_;z--){const F=this.children[z];F&&(I.push(F),F.parent=null)}removeItems(this.children,_,P);const L=this.renderGroup||this.parentRenderGroup;L&&L.removeChildren(I);for(let z=0;z<I.length;++z){const F=I[z];F.parentRenderLayer?.detach(F),this.emit("childRemoved",F,this,z),I[z].emit("removed",this)}return I.length>0&&this._didViewChangeTick++,I}else if(O===0&&this.children.length===0)return I;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(_){const R=this.getChildAt(_);return this.removeChild(R)},getChildAt(_){if(_<0||_>=this.children.length)throw new Error(`getChildAt: Index (${_}) does not exist.`);return this.children[_]},setChildIndex(_,R){if(R<0||R>=this.children.length)throw new Error(`The index ${R} supplied is out of bounds ${this.children.length}`);this.getChildIndex(_),this.addChildAt(_,R)},getChildIndex(_){const R=this.children.indexOf(_);if(R===-1)throw new Error("The supplied Container must be a child of the caller");return R},addChildAt(_,R){this.allowChildren||deprecation(v8_0_0,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:P}=this;if(R<0||R>P.length)throw new Error(`${_}addChildAt: The index ${R} supplied is out of bounds ${P.length}`);if(_.parent){const I=_.parent.children.indexOf(_);if(_.parent===this&&I===R)return _;I!==-1&&_.parent.children.splice(I,1)}R===P.length?P.push(_):P.splice(R,0,_),_.parent=this,_.didChange=!0,_._updateFlags=15;const O=this.renderGroup||this.parentRenderGroup;return O&&O.addChild(_),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",_,this,R),_.emit("added",this),_},swapChildren(_,R){if(_===R)return;const P=this.getChildIndex(_),O=this.getChildIndex(R);this.children[P]=R,this.children[O]=_;const I=this.renderGroup||this.parentRenderGroup;I&&(I.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(..._){return _.length===1?this.reparentChildAt(_[0],this.children.length):(_.forEach(R=>this.reparentChildAt(R,this.children.length)),_[0])},reparentChildAt(_,R){if(_.parent===this)return this.setChildIndex(_,R),_;const P=_.worldTransform.clone();_.removeFromParent(),this.addChildAt(_,R);const O=this.worldTransform.clone();return O.invert(),P.prepend(O),_.setFromMatrix(P),_},replaceChild(_,R){_.updateLocalTransform(),this.addChildAt(R,this.getChildIndex(_)),R.setFromMatrix(_.localTransform),R.updateLocalTransform(),this.removeChild(_)}},collectRenderablesMixin={collectRenderables(_,R,P){this.parentRenderLayer&&this.parentRenderLayer!==P||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(_,R,P):this.renderGroup?R.renderPipes.renderGroup.addRenderGroup(this.renderGroup,_):this.collectRenderablesWithEffects(_,R,P))},collectRenderablesSimple(_,R,P){const O=this.children,I=O.length;for(let L=0;L<I;L++)O[L].collectRenderables(_,R,P)},collectRenderablesWithEffects(_,R,P){const{renderPipes:O}=R;for(let I=0;I<this.effects.length;I++){const L=this.effects[I];O[L.pipe].push(L,this,_)}this.collectRenderablesSimple(_,R,P);for(let I=this.effects.length-1;I>=0;I--){const L=this.effects[I];O[L.pipe].pop(L,this,_)}}};class FilterEffect{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let R=0;R<this.filters.length;R++)this.filters[R].destroy();this.filters=null,this.filterArea=null}}class MaskEffectManagerClass{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(R=>{this.add({test:R.test,maskClass:R})}))}add(R){this._tests.push(R)}getMaskEffect(R){this._initialized||this.init();for(let P=0;P<this._tests.length;P++){const O=this._tests[P];if(O.test(R))return BigPool.get(O.maskClass,R)}return R}returnMaskEffect(R){BigPool.return(R)}}const MaskEffectManager=new MaskEffectManagerClass;extensions.handleByList(ExtensionType.MaskEffect,MaskEffectManager._effectClasses);const effectsMixin={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const _=this.renderGroup||this.parentRenderGroup;_&&(_.structureDidChange=!0)},addEffect(_){this.effects.indexOf(_)===-1&&(this.effects.push(_),this.effects.sort((P,O)=>P.priority-O.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(_){const R=this.effects.indexOf(_);R!==-1&&(this.effects.splice(R,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(_){const R=this._maskEffect;R?.mask!==_&&(R&&(this.removeEffect(R),MaskEffectManager.returnMaskEffect(R),this._maskEffect=null),_!=null&&(this._maskEffect=MaskEffectManager.getMaskEffect(_),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(_){this._maskOptions={...this._maskOptions,..._},_.mask&&(this.mask=_.mask),this._markStructureAsChanged()},set filters(_){!Array.isArray(_)&&_&&(_=[_]);const R=this._filterEffect||(this._filterEffect=new FilterEffect);_=_;const P=_?.length>0,O=R.filters?.length>0,I=P!==O;_=Array.isArray(_)?_.slice(0):_,R.filters=Object.freeze(_),I&&(P?this.addEffect(R):(this.removeEffect(R),R.filters=_??null))},get filters(){return this._filterEffect?.filters},set filterArea(_){this._filterEffect||(this._filterEffect=new FilterEffect),this._filterEffect.filterArea=_},get filterArea(){return this._filterEffect?.filterArea}},findMixin={label:null,get name(){return deprecation(v8_0_0,"Container.name property has been removed, use Container.label instead"),this.label},set name(_){deprecation(v8_0_0,"Container.name property has been removed, use Container.label instead"),this.label=_},getChildByName(_,R=!1){return this.getChildByLabel(_,R)},getChildByLabel(_,R=!1){const P=this.children;for(let O=0;O<P.length;O++){const I=P[O];if(I.label===_||_ instanceof RegExp&&_.test(I.label))return I}if(R)for(let O=0;O<P.length;O++){const L=P[O].getChildByLabel(_,!0);if(L)return L}return null},getChildrenByLabel(_,R=!1,P=[]){const O=this.children;for(let I=0;I<O.length;I++){const L=O[I];(L.label===_||_ instanceof RegExp&&_.test(L.label))&&P.push(L)}if(R)for(let I=0;I<O.length;I++)O[I].getChildrenByLabel(_,!0,P);return P}},matrixPool=BigPool.getPool(Matrix),boundsPool=BigPool.getPool(Bounds),tempMatrix$2=new Matrix,getFastGlobalBoundsMixin={getFastGlobalBounds(_,R){R||(R=new Bounds),R.clear(),this._getGlobalBoundsRecursive(!!_,R,this.parentRenderLayer),R.isValid||R.set(0,0,0,0);const P=this.renderGroup||this.parentRenderGroup;return R.applyMatrix(P.worldTransform),R},_getGlobalBoundsRecursive(_,R,P){let O=R;if(_&&this.parentRenderLayer&&this.parentRenderLayer!==P||this.localDisplayStatus!==7||!this.measurable)return;const I=!!this.effects.length;if((this.renderGroup||I)&&(O=boundsPool.get().clear()),this.boundsArea)R.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const z=this.bounds;O.addFrame(z.minX,z.minY,z.maxX,z.maxY,this.groupTransform)}const L=this.children;for(let z=0;z<L.length;z++)L[z]._getGlobalBoundsRecursive(_,O,P)}if(I){let L=!1;const z=this.renderGroup||this.parentRenderGroup;for(let F=0;F<this.effects.length;F++)this.effects[F].addBounds&&(L||(L=!0,O.applyMatrix(z.worldTransform)),this.effects[F].addBounds(O,!0));L&&O.applyMatrix(z.worldTransform.copyTo(tempMatrix$2).invert()),R.addBounds(O),boundsPool.return(O)}else this.renderGroup&&(R.addBounds(O,this.relativeGroupTransform),boundsPool.return(O))}};function getGlobalBounds(_,R,P){P.clear();let O,I;return _.parent?R?O=_.parent.worldTransform:(I=matrixPool.get().identity(),O=updateTransformBackwards(_,I)):O=Matrix.IDENTITY,_getGlobalBounds(_,P,O,R),I&&matrixPool.return(I),P.isValid||P.set(0,0,0,0),P}function _getGlobalBounds(_,R,P,O){if(!_.visible||!_.measurable)return;let I;O?I=_.worldTransform:(_.updateLocalTransform(),I=matrixPool.get(),I.appendFrom(_.localTransform,P));const L=R,z=!!_.effects.length;if(z&&(R=boundsPool.get().clear()),_.boundsArea)R.addRect(_.boundsArea,I);else{const F=_.bounds;F&&!F.isEmpty()&&(R.matrix=I,R.addBounds(F));for(let G=0;G<_.children.length;G++)_getGlobalBounds(_.children[G],R,I,O)}if(z){for(let F=0;F<_.effects.length;F++)_.effects[F].addBounds?.(R);L.addBounds(R,Matrix.IDENTITY),boundsPool.return(R)}O||matrixPool.return(I)}function updateTransformBackwards(_,R){const P=_.parent;return P&&(updateTransformBackwards(P,R),P.updateLocalTransform(),R.append(P.localTransform)),R}function multiplyHexColors(_,R){if(_===16777215||!R)return R;if(R===16777215||!_)return _;const P=_>>16&255,O=_>>8&255,I=_&255,L=R>>16&255,z=R>>8&255,F=R&255,G=P*L/255|0,V=O*z/255|0,Z=I*F/255|0;return(G<<16)+(V<<8)+Z}const WHITE_BGR=16777215;function multiplyColors(_,R){return _===WHITE_BGR?R:R===WHITE_BGR?_:multiplyHexColors(_,R)}function bgr2rgb(_){return((_&255)<<16)+(_&65280)+(_>>16&255)}const getGlobalMixin={getGlobalAlpha(_){if(_)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let R=this.alpha,P=this.parent;for(;P;)R*=P.alpha,P=P.parent;return R},getGlobalTransform(_=new Matrix,R){if(R)return _.copyFrom(this.worldTransform);this.updateLocalTransform();const P=updateTransformBackwards(this,matrixPool.get().identity());return _.appendFrom(this.localTransform,P),matrixPool.return(P),_},getGlobalTint(_){if(_)return this.renderGroup?bgr2rgb(this.renderGroup.worldColor):this.parentRenderGroup?bgr2rgb(multiplyColors(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let R=this.localColor,P=this.parent;for(;P;)R=multiplyColors(R,P.localColor),P=P.parent;return bgr2rgb(R)}};function getLocalBounds(_,R,P){return R.clear(),P||(P=Matrix.IDENTITY),_getLocalBounds(_,R,P,_,!0),R.isValid||R.set(0,0,0,0),R}function _getLocalBounds(_,R,P,O,I){let L;if(I)L=matrixPool.get(),L=P.copyTo(L);else{if(!_.visible||!_.measurable)return;_.updateLocalTransform();const G=_.localTransform;L=matrixPool.get(),L.appendFrom(G,P)}const z=R,F=!!_.effects.length;if(F&&(R=boundsPool.get().clear()),_.boundsArea)R.addRect(_.boundsArea,L);else{_.renderPipeId&&(R.matrix=L,R.addBounds(_.bounds));const G=_.children;for(let V=0;V<G.length;V++)_getLocalBounds(G[V],R,L,O,!1)}if(F){for(let G=0;G<_.effects.length;G++)_.effects[G].addLocalBounds?.(R,O);z.addBounds(R,Matrix.IDENTITY),boundsPool.return(R)}matrixPool.return(L)}function checkChildrenDidChange(_,R){const P=_.children;for(let O=0;O<P.length;O++){const I=P[O],L=I.uid,z=(I._didViewChangeTick&65535)<<16|I._didContainerChangeTick&65535,F=R.index;(R.data[F]!==L||R.data[F+1]!==z)&&(R.data[R.index]=L,R.data[R.index+1]=z,R.didChange=!0),R.index=F+2,I.children.length&&checkChildrenDidChange(I,R)}return R.didChange}const tempMatrix$1=new Matrix,measureMixin={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(_,R){const P=Math.sign(this.scale.x)||1;R!==0?this.scale.x=_/R*P:this.scale.x=P},_setHeight(_,R){const P=Math.sign(this.scale.y)||1;R!==0?this.scale.y=_/R*P:this.scale.y=P},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Bounds});const _=this._localBoundsCacheData;return _.index=1,_.didChange=!1,_.data[0]!==this._didViewChangeTick&&(_.didChange=!0,_.data[0]=this._didViewChangeTick),checkChildrenDidChange(this,_),_.didChange&&getLocalBounds(this,_.localBounds,tempMatrix$1),_.localBounds},getBounds(_,R){return getGlobalBounds(this,_,R||new Bounds)}},onRenderMixin={_onRender:null,set onRender(_){const R=this.renderGroup||this.parentRenderGroup;if(!_){this._onRender&&R?.removeOnRender(this),this._onRender=null;return}this._onRender||R?.addOnRender(this),this._onRender=_},get onRender(){return this._onRender}},sortMixin={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(_){this._zIndex!==_&&(this._zIndex=_,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(sortChildren))}};function sortChildren(_,R){return _._zIndex-R._zIndex}const toLocalGlobalMixin={getGlobalPosition(_=new Point,R=!1){return this.parent?this.parent.toGlobal(this._position,_,R):(_.x=this._position.x,_.y=this._position.y),_},toGlobal(_,R,P=!1){const O=this.getGlobalTransform(matrixPool.get(),P);return R=O.apply(_,R),matrixPool.return(O),R},toLocal(_,R,P,O){R&&(_=R.toGlobal(_,P,O));const I=this.getGlobalTransform(matrixPool.get(),O);return P=I.applyInverse(_,P),matrixPool.return(I),P}};class InstructionSet{constructor(){this.uid=uid("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(R){this.instructions[this.instructionSize++]=R}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let count$1=0;class TexturePoolClass{constructor(R){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=R||{},this.enableFullScreen=!1,this.textureStyle=new TextureStyle(this.textureOptions)}createTexture(R,P,O){const I=new TextureSource({...this.textureOptions,width:R,height:P,resolution:1,antialias:O,autoGarbageCollect:!1});return new Texture({source:I,label:`texturePool_${count$1++}`})}getOptimalTexture(R,P,O=1,I){let L=Math.ceil(R*O-1e-6),z=Math.ceil(P*O-1e-6);L=nextPow2(L),z=nextPow2(z);const F=(L<<17)+(z<<1)+(I?1:0);this._texturePool[F]||(this._texturePool[F]=[]);let G=this._texturePool[F].pop();return G||(G=this.createTexture(L,z,I)),G.source._resolution=O,G.source.width=L/O,G.source.height=z/O,G.source.pixelWidth=L,G.source.pixelHeight=z,G.frame.x=0,G.frame.y=0,G.frame.width=R,G.frame.height=P,G.updateUvs(),this._poolKeyHash[G.uid]=F,G}getSameSizeTexture(R,P=!1){const O=R.source;return this.getOptimalTexture(R.width,R.height,O._resolution,P)}returnTexture(R,P=!1){const O=this._poolKeyHash[R.uid];P&&(R.source.style=this.textureStyle),this._texturePool[O].push(R)}clear(R){if(R=R!==!1,R)for(const P in this._texturePool){const O=this._texturePool[P];if(O)for(let I=0;I<O.length;I++)O[I].destroy(!0)}this._texturePool={}}}const TexturePool=new TexturePoolClass;GlobalResourceRegistry.register(TexturePool);class RenderGroup{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Matrix,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new InstructionSet,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(R){this.root=R,R._onRender&&this.addOnRender(R),R.didChange=!0;const P=R.children;for(let O=0;O<P.length;O++){const I=P[O];I._updateFlags=15,this.addChild(I)}}enableCacheAsTexture(R={}){this.textureOptions=R,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(TexturePool.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const R=this._parentCacheAsTextureRenderGroup;R&&!R.textureNeedsUpdate&&R.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const R in this.childrenToUpdate){const P=this.childrenToUpdate[R];P.list.fill(null),P.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(R){R.renderGroupParent&&R.renderGroupParent._removeRenderGroupChild(R),R.renderGroupParent=this,this.renderGroupChildren.push(R)}_removeRenderGroupChild(R){const P=this.renderGroupChildren.indexOf(R);P>-1&&this.renderGroupChildren.splice(P,1),R.renderGroupParent=null}addChild(R){if(this.structureDidChange=!0,R.parentRenderGroup=this,R.updateTick=-1,R.parent===this.root?R.relativeRenderGroupDepth=1:R.relativeRenderGroupDepth=R.parent.relativeRenderGroupDepth+1,R.didChange=!0,this.onChildUpdate(R),R.renderGroup){this.addRenderGroupChild(R.renderGroup);return}R._onRender&&this.addOnRender(R);const P=R.children;for(let O=0;O<P.length;O++)this.addChild(P[O])}removeChild(R){if(this.structureDidChange=!0,R._onRender&&(R.renderGroup||this.removeOnRender(R)),R.parentRenderGroup=null,R.renderGroup){this._removeRenderGroupChild(R.renderGroup);return}const P=R.children;for(let O=0;O<P.length;O++)this.removeChild(P[O])}removeChildren(R){for(let P=0;P<R.length;P++)this.removeChild(R[P])}onChildUpdate(R){let P=this.childrenToUpdate[R.relativeRenderGroupDepth];P||(P=this.childrenToUpdate[R.relativeRenderGroupDepth]={index:0,list:[]}),P.list[P.index++]=R}updateRenderable(R){R.globalDisplayStatus<7||(this.instructionSet.renderPipes[R.renderPipeId].updateRenderable(R),R.didViewUpdate=!1)}onChildViewUpdate(R){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=R}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(R){this._onRenderContainers.push(R)}removeOnRender(R){this._onRenderContainers.splice(this._onRenderContainers.indexOf(R),1)}runOnRender(R){for(let P=0;P<this._onRenderContainers.length;P++)this._onRenderContainers[P]._onRender(R)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(R=[]){const P=this.root.children;for(let O=0;O<P.length;O++)this._getChildren(P[O],R);return R}_getChildren(R,P=[]){if(P.push(R),R.renderGroup)return P;const O=R.children;for(let I=0;I<O.length;I++)this._getChildren(O[I],P);return P}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Matrix),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Matrix),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const R=this._parentCacheAsTextureRenderGroup;return R?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Matrix),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(R.inverseWorldTransform).translate(-R._textureBounds.x,-R._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function assignWithIgnore(_,R,P={}){for(const O in R)!P[O]&&R[O]!==void 0&&(_[O]=R[O])}const defaultSkew=new ObservablePoint(null),defaultPivot=new ObservablePoint(null),defaultScale=new ObservablePoint(null,1,1),defaultOrigin=new ObservablePoint(null),UPDATE_COLOR=1,UPDATE_BLEND=2,UPDATE_VISIBLE=4;class Container extends EventEmitter{constructor(R={}){super(),this.uid=uid("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new Matrix,this.relativeGroupTransform=new Matrix,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new ObservablePoint(this,0,0),this._scale=defaultScale,this._pivot=defaultPivot,this._origin=defaultOrigin,this._skew=defaultSkew,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],assignWithIgnore(this,R,{children:!0,parent:!0,effects:!0}),R.children?.forEach(P=>this.addChild(P)),R.parent?.addChild(this)}static mixin(R){deprecation("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),extensions.mixin(Container,R)}set _didChangeId(R){this._didViewChangeTick=R>>12&4095,this._didContainerChangeTick=R&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...R){if(this.allowChildren||deprecation(v8_0_0,"addChild: Only Containers will be allowed to add children in v8.0.0"),R.length>1){for(let I=0;I<R.length;I++)this.addChild(R[I]);return R[0]}const P=R[0],O=this.renderGroup||this.parentRenderGroup;return P.parent===this?(this.children.splice(this.children.indexOf(P),1),this.children.push(P),O&&(O.structureDidChange=!0),P):(P.parent&&P.parent.removeChild(P),this.children.push(P),this.sortableChildren&&(this.sortDirty=!0),P.parent=this,P.didChange=!0,P._updateFlags=15,O&&O.addChild(P),this.emit("childAdded",P,this,this.children.length-1),P.emit("added",this),this._didViewChangeTick++,P._zIndex!==0&&P.depthOfChildModified(),P)}removeChild(...R){if(R.length>1){for(let I=0;I<R.length;I++)this.removeChild(R[I]);return R[0]}const P=R[0],O=this.children.indexOf(P);return O>-1&&(this._didViewChangeTick++,this.children.splice(O,1),this.renderGroup?this.renderGroup.removeChild(P):this.parentRenderGroup&&this.parentRenderGroup.removeChild(P),P.parentRenderLayer&&P.parentRenderLayer.detach(P),P.parent=null,this.emit("childRemoved",P,this,O),P.emit("removed",this)),P}_onUpdate(R){R&&R===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(R){!!this.renderGroup!==R&&(R?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const R=this.parentRenderGroup;R?.removeChild(this),this.renderGroup=BigPool.get(RenderGroup,this),this.groupTransform=Matrix.IDENTITY,R?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const R=this.parentRenderGroup;R?.removeChild(this),BigPool.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,R?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Matrix),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(R){this._position.x=R}get y(){return this._position.y}set y(R){this._position.y=R}get position(){return this._position}set position(R){this._position.copyFrom(R)}get rotation(){return this._rotation}set rotation(R){this._rotation!==R&&(this._rotation=R,this._onUpdate(this._skew))}get angle(){return this.rotation*RAD_TO_DEG}set angle(R){this.rotation=R*DEG_TO_RAD}get pivot(){return this._pivot===defaultPivot&&(this._pivot=new ObservablePoint(this,0,0)),this._pivot}set pivot(R){this._pivot===defaultPivot&&(this._pivot=new ObservablePoint(this,0,0),this._origin!==defaultOrigin&&warn$1("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof R=="number"?this._pivot.set(R):this._pivot.copyFrom(R)}get skew(){return this._skew===defaultSkew&&(this._skew=new ObservablePoint(this,0,0)),this._skew}set skew(R){this._skew===defaultSkew&&(this._skew=new ObservablePoint(this,0,0)),this._skew.copyFrom(R)}get scale(){return this._scale===defaultScale&&(this._scale=new ObservablePoint(this,1,1)),this._scale}set scale(R){this._scale===defaultScale&&(this._scale=new ObservablePoint(this,0,0)),typeof R=="string"&&(R=parseFloat(R)),typeof R=="number"?this._scale.set(R):this._scale.copyFrom(R)}get origin(){return this._origin===defaultOrigin&&(this._origin=new ObservablePoint(this,0,0)),this._origin}set origin(R){this._origin===defaultOrigin&&(this._origin=new ObservablePoint(this,0,0),this._pivot!==defaultPivot&&warn$1("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof R=="number"?this._origin.set(R):this._origin.copyFrom(R)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(R){const P=this.getLocalBounds().width;this._setWidth(R,P)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(R){const P=this.getLocalBounds().height;this._setHeight(R,P)}getSize(R){R||(R={});const P=this.getLocalBounds();return R.width=Math.abs(this.scale.x*P.width),R.height=Math.abs(this.scale.y*P.height),R}setSize(R,P){const O=this.getLocalBounds();typeof R=="object"?(P=R.height??R.width,R=R.width):P??(P=R),R!==void 0&&this._setWidth(R,O.width),P!==void 0&&this._setHeight(P,O.height)}_updateSkew(){const R=this._rotation,P=this._skew;this._cx=Math.cos(R+P._y),this._sx=Math.sin(R+P._y),this._cy=-Math.sin(R-P._x),this._sy=Math.cos(R-P._x)}updateTransform(R){return this.position.set(typeof R.x=="number"?R.x:this.position.x,typeof R.y=="number"?R.y:this.position.y),this.scale.set(typeof R.scaleX=="number"?R.scaleX||1:this.scale.x,typeof R.scaleY=="number"?R.scaleY||1:this.scale.y),this.rotation=typeof R.rotation=="number"?R.rotation:this.rotation,this.skew.set(typeof R.skewX=="number"?R.skewX:this.skew.x,typeof R.skewY=="number"?R.skewY:this.skew.y),this.pivot.set(typeof R.pivotX=="number"?R.pivotX:this.pivot.x,typeof R.pivotY=="number"?R.pivotY:this.pivot.y),this.origin.set(typeof R.originX=="number"?R.originX:this.origin.x,typeof R.originY=="number"?R.originY:this.origin.y),this}setFromMatrix(R){R.decompose(this)}updateLocalTransform(){const R=this._didContainerChangeTick;if(this._didLocalTransformChangeId===R)return;this._didLocalTransformChangeId=R;const P=this.localTransform,O=this._scale,I=this._pivot,L=this._origin,z=this._position,F=O._x,G=O._y,V=I._x,Z=I._y,Y=-L._x,Q=-L._y;P.a=this._cx*F,P.b=this._sx*F,P.c=this._cy*G,P.d=this._sy*G,P.tx=z._x-(V*P.a+Z*P.c)+(Y*P.a+Q*P.c)-Y,P.ty=z._y-(V*P.b+Z*P.d)+(Y*P.b+Q*P.d)-Q}set alpha(R){R!==this.localAlpha&&(this.localAlpha=R,this._updateFlags|=UPDATE_COLOR,this._onUpdate())}get alpha(){return this.localAlpha}set tint(R){const O=Color$1.shared.setValue(R??16777215).toBgrNumber();O!==this.localColor&&(this.localColor=O,this._updateFlags|=UPDATE_COLOR,this._onUpdate())}get tint(){return bgr2rgb(this.localColor)}set blendMode(R){this.localBlendMode!==R&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_BLEND,this.localBlendMode=R,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(R){const P=R?2:0;(this.localDisplayStatus&2)!==P&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(R){const P=R?0:4;(this.localDisplayStatus&4)!==P&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(R){const P=R?1:0;(this.localDisplayStatus&1)!==P&&(this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(R=!1){if(this.destroyed)return;this.destroyed=!0;let P;if(this.children.length&&(P=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof R=="boolean"?R:R?.children)&&P)for(let I=0;I<P.length;++I)P[I].destroy(R);this.renderGroup?.destroy(),this.renderGroup=null}}extensions.mixin(Container,childrenHelperMixin,getFastGlobalBoundsMixin,toLocalGlobalMixin,onRenderMixin,measureMixin,effectsMixin,findMixin,sortMixin,cullingMixin,cacheAsTextureMixin,getGlobalMixin,collectRenderablesMixin);class ViewContainer extends Container{constructor(R){super(R),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new Bounds(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(R){this._roundPixels=R?1:0}containsPoint(R){const P=this.bounds,{x:O,y:I}=R;return O>=P.minX&&O<=P.maxX&&I>=P.minY&&I<=P.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const R=this.renderGroup||this.parentRenderGroup;R&&R.onChildViewUpdate(this)}destroy(R){super.destroy(R),this._bounds=null;for(const P in this._gpuData)this._gpuData[P].destroy?.();this._gpuData=null}collectRenderablesSimple(R,P,O){const{renderPipes:I}=P;I.blendMode.pushBlendMode(this,this.groupBlendMode,R),I[this.renderPipeId].addRenderable(this,R),this.didViewUpdate=!1;const z=this.children,F=z.length;for(let G=0;G<F;G++)z[G].collectRenderables(R,P,O);I.blendMode.popBlendMode(R)}}class Sprite extends ViewContainer{constructor(R=Texture.EMPTY){R instanceof Texture&&(R={texture:R});const{texture:P=Texture.EMPTY,anchor:O,roundPixels:I,width:L,height:z,...F}=R;super({label:"Sprite",...F}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new ObservablePoint({_onUpdate:()=>{this.onViewUpdate()}}),O?this.anchor=O:P.defaultAnchor&&(this.anchor=P.defaultAnchor),this.texture=P,this.allowChildren=!1,this.roundPixels=I??!1,L!==void 0&&(this.width=L),z!==void 0&&(this.height=z)}static from(R,P=!1){return R instanceof Texture?new Sprite(R):new Sprite(Texture.from(R,P))}set texture(R){R||(R=Texture.EMPTY);const P=this._texture;P!==R&&(P&&P.dynamic&&P.off("update",this.onViewUpdate,this),R.dynamic&&R.on("update",this.onViewUpdate,this),this._texture=R,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return updateQuadBounds(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return deprecation("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const R=this._anchor,P=this._texture,O=this._bounds,{width:I,height:L}=P.orig;O.minX=-R._x*I,O.maxX=O.minX+I,O.minY=-R._y*L,O.maxY=O.minY+L}destroy(R=!1){if(super.destroy(R),typeof R=="boolean"?R:R?.texture){const O=typeof R=="boolean"?R:R?.textureSource;this._texture.destroy(O)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(R){typeof R=="number"?this._anchor.set(R):this._anchor.copyFrom(R)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(R){this._setWidth(R,this._texture.orig.width),this._width=R}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(R){this._setHeight(R,this._texture.orig.height),this._height=R}getSize(R){return R||(R={}),R.width=Math.abs(this.scale.x)*this._texture.orig.width,R.height=Math.abs(this.scale.y)*this._texture.orig.height,R}setSize(R,P){typeof R=="object"?(P=R.height??R.width,R=R.width):P??(P=R),R!==void 0&&this._setWidth(R,this._texture.orig.width),P!==void 0&&this._setHeight(P,this._texture.orig.height)}}const tempBounds=new Bounds;function addMaskBounds(_,R,P){const O=tempBounds;_.measurable=!0,getGlobalBounds(_,P,O),R.addBoundsMask(O),_.measurable=!1}function addMaskLocalBounds(_,R,P){const O=boundsPool.get();_.measurable=!0;const I=matrixPool.get().identity(),L=getMatrixRelativeToParent(_,P,I);getLocalBounds(_,O,L),_.measurable=!1,R.addBoundsMask(O),matrixPool.return(I),boundsPool.return(O)}function getMatrixRelativeToParent(_,R,P){return _?(_!==R&&(getMatrixRelativeToParent(_.parent,R,P),_.updateLocalTransform(),P.append(_.localTransform)),P):(warn$1("Mask bounds, renderable is not inside the root container"),P)}class AlphaMask{constructor(R){this.priority=0,this.inverse=!1,this.pipe="alphaMask",R?.mask&&this.init(R.mask)}init(R){this.mask=R,this.renderMaskToTexture=!(R instanceof Sprite),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(R,P){this.inverse||addMaskBounds(this.mask,R,P)}addLocalBounds(R,P){addMaskLocalBounds(this.mask,R,P)}containsPoint(R,P){const O=this.mask;return P(O,R)}destroy(){this.reset()}static test(R){return R instanceof Sprite}}AlphaMask.extension=ExtensionType.MaskEffect;class ColorMask{constructor(R){this.priority=0,this.pipe="colorMask",R?.mask&&this.init(R.mask)}init(R){this.mask=R}destroy(){}static test(R){return typeof R=="number"}}ColorMask.extension=ExtensionType.MaskEffect;class StencilMask{constructor(R){this.priority=0,this.pipe="stencilMask",R?.mask&&this.init(R.mask)}init(R){this.mask=R,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(R,P){addMaskBounds(this.mask,R,P)}addLocalBounds(R,P){addMaskLocalBounds(this.mask,R,P)}containsPoint(R,P){const O=this.mask;return P(O,R)}destroy(){this.reset()}static test(R){return R instanceof Container}}StencilMask.extension=ExtensionType.MaskEffect;const BrowserAdapter={createCanvas:(_,R)=>{const P=document.createElement("canvas");return P.width=_,P.height=R,P},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(_,R)=>fetch(_,R),parseXML:_=>new DOMParser().parseFromString(_,"text/xml")};let currentAdapter=BrowserAdapter;const DOMAdapter={get(){return currentAdapter},set(_){currentAdapter=_}};class CanvasSource extends TextureSource{constructor(R){R.resource||(R.resource=DOMAdapter.get().createCanvas()),R.width||(R.width=R.resource.width,R.autoDensity||(R.width/=R.resolution)),R.height||(R.height=R.resource.height,R.autoDensity||(R.height/=R.resolution)),super(R),this.uploadMethodId="image",this.autoDensity=R.autoDensity,this.resizeCanvas(),this.transparent=!!R.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(R=this.width,P=this.height,O=this._resolution){const I=super.resize(R,P,O);return I&&this.resizeCanvas(),I}static test(R){return globalThis.HTMLCanvasElement&&R instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&R instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}CanvasSource.extension=ExtensionType.TextureSource;class ImageSource extends TextureSource{constructor(R){super(R),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(R){return globalThis.HTMLImageElement&&R instanceof HTMLImageElement||typeof ImageBitmap<"u"&&R instanceof ImageBitmap||globalThis.VideoFrame&&R instanceof VideoFrame}}ImageSource.extension=ExtensionType.TextureSource;var UPDATE_PRIORITY=(_=>(_[_.INTERACTION=50]="INTERACTION",_[_.HIGH=25]="HIGH",_[_.NORMAL=0]="NORMAL",_[_.LOW=-25]="LOW",_[_.UTILITY=-50]="UTILITY",_))(UPDATE_PRIORITY||{});class TickerListener{constructor(R,P=null,O=0,I=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=R,this._context=P,this.priority=O,this._once=I}match(R,P=null){return this._fn===R&&this._context===P}emit(R){this._fn&&(this._context?this._fn.call(this._context,R):this._fn(R));const P=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),P}connect(R){this.previous=R,R.next&&(R.next.previous=this),this.next=R.next,R.next=this}destroy(R=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const P=this.next;return this.next=R?null:P,this.previous=null,P}}const _Ticker=class Cn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/Cn.targetFPMS,this.elapsedMS=1/Cn.targetFPMS,this._tick=R=>{this._requestId=null,this.started&&(this.update(R),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(R,P,O=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(R,P,O))}addOnce(R,P,O=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(R,P,O,!0))}_addListener(R){let P=this._head.next,O=this._head;if(!P)R.connect(O);else{for(;P;){if(R.priority>P.priority){R.connect(O);break}O=P,P=P.next}R.previous||R.connect(O)}return this._startIfPossible(),this}remove(R,P){let O=this._head.next;for(;O;)O.match(R,P)?O=O.destroy():O=O.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let R=0,P=this._head;for(;P=P.next;)R++;return R}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let R=this._head.next;for(;R;)R=R.destroy(!0);this._head.destroy(),this._head=null}}update(R=performance.now()){let P;if(R>this.lastTime){if(P=this.elapsedMS=R-this.lastTime,P>this._maxElapsedMS&&(P=this._maxElapsedMS),P*=this.speed,this._minElapsedMS){const L=R-this._lastFrame|0;if(L<this._minElapsedMS)return;this._lastFrame=R-L%this._minElapsedMS}this.deltaMS=P,this.deltaTime=this.deltaMS*Cn.targetFPMS;const O=this._head;let I=O.next;for(;I;)I=I.emit(this);O.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=R}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(R){const P=Math.min(this.maxFPS,R),O=Math.min(Math.max(0,P)/1e3,Cn.targetFPMS);this._maxElapsedMS=1/O}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(R){if(R===0)this._minElapsedMS=0;else{const P=Math.max(this.minFPS,R);this._minElapsedMS=1/(P/1e3)}}static get shared(){if(!Cn._shared){const R=Cn._shared=new Cn;R.autoStart=!0,R._protected=!0}return Cn._shared}static get system(){if(!Cn._system){const R=Cn._system=new Cn;R.autoStart=!0,R._protected=!0}return Cn._system}};_Ticker.targetFPMS=.06;let Ticker=_Ticker,promise;async function detectVideoAlphaMode(){return promise??(promise=(async()=>{const R=DOMAdapter.get().createCanvas(1,1).getContext("webgl");if(!R)return"premultiply-alpha-on-upload";const P=await new Promise(z=>{const F=document.createElement("video");F.onloadeddata=()=>z(F),F.onerror=()=>z(null),F.autoplay=!1,F.crossOrigin="anonymous",F.preload="auto",F.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",F.load()});if(!P)return"premultiply-alpha-on-upload";const O=R.createTexture();R.bindTexture(R.TEXTURE_2D,O);const I=R.createFramebuffer();R.bindFramebuffer(R.FRAMEBUFFER,I),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,O,0),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),R.pixelStorei(R.UNPACK_COLORSPACE_CONVERSION_WEBGL,R.NONE),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,P);const L=new Uint8Array(4);return R.readPixels(0,0,1,1,R.RGBA,R.UNSIGNED_BYTE,L),R.deleteFramebuffer(I),R.deleteTexture(O),R.getExtension("WEBGL_lose_context")?.loseContext(),L[0]<=L[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),promise}const _VideoSource=class Sd extends TextureSource{constructor(R){super(R),this.isReady=!1,this.uploadMethodId="video",R={...Sd.defaultOptions,...R},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=R.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=R.autoPlay!==!1,this.alphaMode=R.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),R.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const R=Ticker.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-R)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const R=this.resource,P=this.options;return(R.readyState===R.HAVE_ENOUGH_DATA||R.readyState===R.HAVE_FUTURE_DATA)&&R.width&&R.height&&(R.complete=!0),R.addEventListener("play",this._onPlayStart),R.addEventListener("pause",this._onPlayStop),R.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(P.preload||R.addEventListener("canplay",this._onCanPlay),R.addEventListener("canplaythrough",this._onCanPlayThrough),R.addEventListener("error",this._onError,!0)),this.alphaMode=await detectVideoAlphaMode(),this._load=new Promise((O,I)=>{this.isValid?O(this):(this._resolve=O,this._reject=I,P.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${P.preloadTimeoutMs}ms`))})),R.load())}),this._load}_onError(R){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",R),this._reject&&(this._reject(R),this._reject=null,this._resolve=null)}_isSourcePlaying(){const R=this.resource;return!R.paused&&!R.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const R=this.resource;this.isValid&&(this.isReady=!0,this.resize(R.videoWidth,R.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const R=this.resource;R&&(R.removeEventListener("play",this._onPlayStart),R.removeEventListener("pause",this._onPlayStop),R.removeEventListener("seeked",this._onSeeked),R.removeEventListener("canplay",this._onCanPlay),R.removeEventListener("canplaythrough",this._onCanPlayThrough),R.removeEventListener("error",this._onError,!0),R.pause(),R.src="",R.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(R){R!==this._autoUpdate&&(this._autoUpdate=R,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(R){R!==this._updateFPS&&(this._updateFPS=R,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Ticker.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Ticker.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Ticker.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(R){return globalThis.HTMLVideoElement&&R instanceof HTMLVideoElement}};_VideoSource.extension=ExtensionType.TextureSource;_VideoSource.defaultOptions={...TextureSource.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};_VideoSource.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let VideoSource=_VideoSource;const convertToList=(_,R,P=!1)=>(Array.isArray(_)||(_=[_]),R?_.map(O=>typeof O=="string"||P?R(O):O):_);class CacheClass{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(R){return this._cache.has(R)}get(R){const P=this._cache.get(R);return P||warn$1(`[Assets] Asset id ${R} was not found in the Cache`),P}set(R,P){const O=convertToList(R);let I;for(let G=0;G<this.parsers.length;G++){const V=this.parsers[G];if(V.test(P)){I=V.getCacheableAssets(O,P);break}}const L=new Map(Object.entries(I||{}));I||O.forEach(G=>{L.set(G,P)});const z=[...L.keys()],F={cacheKeys:z,keys:O};O.forEach(G=>{this._cacheMap.set(G,F)}),z.forEach(G=>{const V=I?I[G]:P;this._cache.has(G)&&this._cache.get(G)!==V&&warn$1("[Cache] already has key:",G),this._cache.set(G,L.get(G))})}remove(R){if(!this._cacheMap.has(R)){warn$1(`[Assets] Asset id ${R} was not found in the Cache`);return}const P=this._cacheMap.get(R);P.cacheKeys.forEach(I=>{this._cache.delete(I)}),P.keys.forEach(I=>{this._cacheMap.delete(I)})}get parsers(){return this._parsers}}const Cache=new CacheClass,sources=[];extensions.handleByList(ExtensionType.TextureSource,sources);function textureSourceFrom(_={}){const R=_&&_.resource,P=R?_.resource:_,O=R?_:{resource:_};for(let I=0;I<sources.length;I++){const L=sources[I];if(L.test(P))return new L(O)}throw new Error(`Could not find a source type for resource: ${O.resource}`)}function resourceToTexture(_={},R=!1){const P=_&&_.resource,O=P?_.resource:_,I=P?_:{resource:_};if(!R&&Cache.has(O))return Cache.get(O);const L=new Texture({source:textureSourceFrom(I)});return L.on("destroy",()=>{Cache.has(O)&&Cache.remove(O)}),R||Cache.set(O,L),L}function textureFrom(_,R=!1){return typeof _=="string"?Cache.get(_):_ instanceof TextureSource?new Texture({source:_}):resourceToTexture(_,R)}Texture.from=textureFrom;TextureSource.from=textureSourceFrom;extensions.add(AlphaMask,ColorMask,StencilMask,VideoSource,ImageSource,CanvasSource,BufferImageSource);var LoaderParserPriority=(_=>(_[_.Low=0]="Low",_[_.Normal=1]="Normal",_[_.High=2]="High",_))(LoaderParserPriority||{});function assertPath$2(_){if(typeof _!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(_)}`)}function removeUrlParams(_){return _.split("?")[0].split("#")[0]}function escapeRegExp(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function replaceAll(_,R,P){return _.replace(new RegExp(escapeRegExp(R),"g"),P)}function normalizeStringPosix(_,R){let P="",O=0,I=-1,L=0,z=-1;for(let F=0;F<=_.length;++F){if(F<_.length)z=_.charCodeAt(F);else{if(z===47)break;z=47}if(z===47){if(!(I===F-1||L===1))if(I!==F-1&&L===2){if(P.length<2||O!==2||P.charCodeAt(P.length-1)!==46||P.charCodeAt(P.length-2)!==46){if(P.length>2){const G=P.lastIndexOf("/");if(G!==P.length-1){G===-1?(P="",O=0):(P=P.slice(0,G),O=P.length-1-P.lastIndexOf("/")),I=F,L=0;continue}}else if(P.length===2||P.length===1){P="",O=0,I=F,L=0;continue}}}else P.length>0?P+=`/${_.slice(I+1,F)}`:P=_.slice(I+1,F),O=F-I-1;I=F,L=0}else z===46&&L!==-1?++L:L=-1}return P}const path$1={toPosix(_){return replaceAll(_,"\\","/")},isUrl(_){return/^https?:/.test(this.toPosix(_))},isDataUrl(_){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(_)},isBlobUrl(_){return _.startsWith("blob:")},hasProtocol(_){return/^[^/:]+:/.test(this.toPosix(_))},getProtocol(_){assertPath$2(_),_=this.toPosix(_);const R=/^file:\/\/\//.exec(_);if(R)return R[0];const P=/^[^/:]+:\/{0,2}/.exec(_);return P?P[0]:""},toAbsolute(_,R,P){if(assertPath$2(_),this.isDataUrl(_)||this.isBlobUrl(_))return _;const O=removeUrlParams(this.toPosix(R??DOMAdapter.get().getBaseUrl())),I=removeUrlParams(this.toPosix(P??this.rootname(O)));return _=this.toPosix(_),_.startsWith("/")?path$1.join(I,_.slice(1)):this.isAbsolute(_)?_:this.join(O,_)},normalize(_){if(assertPath$2(_),_.length===0)return".";if(this.isDataUrl(_)||this.isBlobUrl(_))return _;_=this.toPosix(_);let R="";const P=_.startsWith("/");this.hasProtocol(_)&&(R=this.rootname(_),_=_.slice(R.length));const O=_.endsWith("/");return _=normalizeStringPosix(_),_.length>0&&O&&(_+="/"),P?`/${_}`:R+_},isAbsolute(_){return assertPath$2(_),_=this.toPosix(_),this.hasProtocol(_)?!0:_.startsWith("/")},join(..._){if(_.length===0)return".";let R;for(let P=0;P<_.length;++P){const O=_[P];if(assertPath$2(O),O.length>0)if(R===void 0)R=O;else{const I=_[P-1]??"";this.joinExtensions.includes(this.extname(I).toLowerCase())?R+=`/../${O}`:R+=`/${O}`}}return R===void 0?".":this.normalize(R)},dirname(_){if(assertPath$2(_),_.length===0)return".";_=this.toPosix(_);let R=_.charCodeAt(0);const P=R===47;let O=-1,I=!0;const L=this.getProtocol(_),z=_;_=_.slice(L.length);for(let F=_.length-1;F>=1;--F)if(R=_.charCodeAt(F),R===47){if(!I){O=F;break}}else I=!1;return O===-1?P?"/":this.isUrl(z)?L+_:L:P&&O===1?"//":L+_.slice(0,O)},rootname(_){assertPath$2(_),_=this.toPosix(_);let R="";if(_.startsWith("/")?R="/":R=this.getProtocol(_),this.isUrl(_)){const P=_.indexOf("/",R.length);P!==-1?R=_.slice(0,P):R=_,R.endsWith("/")||(R+="/")}return R},basename(_,R){assertPath$2(_),R&&assertPath$2(R),_=removeUrlParams(this.toPosix(_));let P=0,O=-1,I=!0,L;if(R!==void 0&&R.length>0&&R.length<=_.length){if(R.length===_.length&&R===_)return"";let z=R.length-1,F=-1;for(L=_.length-1;L>=0;--L){const G=_.charCodeAt(L);if(G===47){if(!I){P=L+1;break}}else F===-1&&(I=!1,F=L+1),z>=0&&(G===R.charCodeAt(z)?--z===-1&&(O=L):(z=-1,O=F))}return P===O?O=F:O===-1&&(O=_.length),_.slice(P,O)}for(L=_.length-1;L>=0;--L)if(_.charCodeAt(L)===47){if(!I){P=L+1;break}}else O===-1&&(I=!1,O=L+1);return O===-1?"":_.slice(P,O)},extname(_){assertPath$2(_),_=removeUrlParams(this.toPosix(_));let R=-1,P=0,O=-1,I=!0,L=0;for(let z=_.length-1;z>=0;--z){const F=_.charCodeAt(z);if(F===47){if(!I){P=z+1;break}continue}O===-1&&(I=!1,O=z+1),F===46?R===-1?R=z:L!==1&&(L=1):R!==-1&&(L=-1)}return R===-1||O===-1||L===0||L===1&&R===O-1&&R===P+1?"":_.slice(R,O)},parse(_){assertPath$2(_);const R={root:"",dir:"",base:"",ext:"",name:""};if(_.length===0)return R;_=removeUrlParams(this.toPosix(_));let P=_.charCodeAt(0);const O=this.isAbsolute(_);let I;R.root=this.rootname(_),O||this.hasProtocol(_)?I=1:I=0;let L=-1,z=0,F=-1,G=!0,V=_.length-1,Z=0;for(;V>=I;--V){if(P=_.charCodeAt(V),P===47){if(!G){z=V+1;break}continue}F===-1&&(G=!1,F=V+1),P===46?L===-1?L=V:Z!==1&&(Z=1):L!==-1&&(Z=-1)}return L===-1||F===-1||Z===0||Z===1&&L===F-1&&L===z+1?F!==-1&&(z===0&&O?R.base=R.name=_.slice(1,F):R.base=R.name=_.slice(z,F)):(z===0&&O?(R.name=_.slice(1,L),R.base=_.slice(1,F)):(R.name=_.slice(z,L),R.base=_.slice(z,F)),R.ext=_.slice(L,F)),R.dir=this.dirname(_),R},sep:"/",delimiter:":",joinExtensions:[".html"]};function processX(_,R,P,O,I){const L=R[P];for(let z=0;z<L.length;z++){const F=L[z];P<R.length-1?processX(_.replace(O[P],F),R,P+1,O,I):I.push(_.replace(O[P],F))}}function createStringVariations(_){const R=/\{(.*?)\}/g,P=_.match(R),O=[];if(P){const I=[];P.forEach(L=>{const z=L.substring(1,L.length-1).split(",");I.push(z)}),processX(_,I,0,P,O)}else O.push(_);return O}const isSingleItem=_=>!Array.isArray(_);class Resolver{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(R,P)=>`${R}${this._bundleIdConnector}${P}`,extractAssetIdFromBundle:(R,P)=>P.replace(`${R}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(R){if(this._bundleIdConnector=R.connector??this._bundleIdConnector,this._createBundleAssetId=R.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=R.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...R){R.forEach(P=>{this._preferredOrder.push(P),P.priority||(P.priority=Object.keys(P.params))}),this._resolverHash={}}set basePath(R){this._basePath=R}get basePath(){return this._basePath}set rootPath(R){this._rootPath=R}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(R){if(typeof R=="string")this._defaultSearchParams=R;else{const P=R;this._defaultSearchParams=Object.keys(P).map(O=>`${encodeURIComponent(O)}=${encodeURIComponent(P[O])}`).join("&")}}getAlias(R){const{alias:P,src:O}=R;return convertToList(P||O,L=>typeof L=="string"?L:Array.isArray(L)?L.map(z=>z?.src??z):L?.src?L.src:L,!0)}addManifest(R){this._manifest&&warn$1("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=R,R.bundles.forEach(P=>{this.addBundle(P.name,P.assets)})}addBundle(R,P){const O=[];let I=P;Array.isArray(P)||(I=Object.entries(P).map(([L,z])=>typeof z=="string"||Array.isArray(z)?{alias:L,src:z}:{alias:L,...z})),I.forEach(L=>{const z=L.src,F=L.alias;let G;if(typeof F=="string"){const V=this._createBundleAssetId(R,F);O.push(V),G=[F,V]}else{const V=F.map(Z=>this._createBundleAssetId(R,Z));O.push(...V),G=[...F,...V]}this.add({...L,alias:G,src:z})}),this._bundles[R]=O}add(R){const P=[];Array.isArray(R)?P.push(...R):P.push(R);let O;O=L=>{this.hasKey(L)&&warn$1(`[Resolver] already has key: ${L} overwriting`)},convertToList(P).forEach(L=>{const{src:z}=L;let{data:F,format:G,loadParser:V,parser:Z}=L;const Y=convertToList(z).map(ne=>typeof ne=="string"?createStringVariations(ne):Array.isArray(ne)?ne:[ne]),Q=this.getAlias(L);Array.isArray(Q)?Q.forEach(O):O(Q);const J=[],te=ne=>({...this._parsers.find(se=>se.test(ne))?.parse(ne),src:ne});Y.forEach(ne=>{ne.forEach(ie=>{let se={};if(typeof ie!="object"?se=te(ie):(F=ie.data??F,G=ie.format??G,(ie.loadParser||ie.parser)&&(V=ie.loadParser??V,Z=ie.parser??Z),se={...te(ie.src),...ie}),!Q)throw new Error(`[Resolver] alias is undefined for this asset: ${se.src}`);se=this._buildResolvedAsset(se,{aliases:Q,data:F,format:G,loadParser:V,parser:Z,progressSize:L.progressSize}),J.push(se)})}),Q.forEach(ne=>{this._assetMap[ne]=J})})}resolveBundle(R){const P=isSingleItem(R);R=convertToList(R);const O={};return R.forEach(I=>{const L=this._bundles[I];if(L){const z=this.resolve(L),F={};for(const G in z){const V=z[G];F[this._extractAssetIdFromBundle(I,G)]=V}O[I]=F}}),P?O[R[0]]:O}resolveUrl(R){const P=this.resolve(R);if(typeof R!="string"){const O={};for(const I in P)O[I]=P[I].src;return O}return P.src}resolve(R){const P=isSingleItem(R);R=convertToList(R);const O={};return R.forEach(I=>{if(!this._resolverHash[I])if(this._assetMap[I]){let L=this._assetMap[I];const z=this._getPreferredOrder(L);z?.priority.forEach(F=>{z.params[F].forEach(G=>{const V=L.filter(Z=>Z[F]?Z[F]===G:!1);V.length&&(L=V)})}),this._resolverHash[I]=L[0]}else this._resolverHash[I]=this._buildResolvedAsset({alias:[I],src:I},{});O[I]=this._resolverHash[I]}),P?O[R[0]]:O}hasKey(R){return!!this._assetMap[R]}hasBundle(R){return!!this._bundles[R]}_getPreferredOrder(R){for(let P=0;P<R.length;P++){const O=R[P],I=this._preferredOrder.find(L=>L.params.format.includes(O.format));if(I)return I}return this._preferredOrder[0]}_appendDefaultSearchParams(R){if(!this._defaultSearchParams)return R;const P=/\?/.test(R)?"&":"?";return`${R}${P}${this._defaultSearchParams}`}_buildResolvedAsset(R,P){const{aliases:O,data:I,loadParser:L,parser:z,format:F,progressSize:G}=P;return(this._basePath||this._rootPath)&&(R.src=path$1.toAbsolute(R.src,this._basePath,this._rootPath)),R.alias=O??R.alias??[R.src],R.src=this._appendDefaultSearchParams(R.src),R.data={...I||{},...R.data},R.loadParser=L??R.loadParser,R.parser=z??R.parser,R.format=F??R.format??getUrlExtension(R.src),G!==void 0&&(R.progressSize=G),R}}Resolver.RETINA_PREFIX=/@([0-9\.]+)x/;function getUrlExtension(_){return _.split(".").pop().split("?").shift().split("#").shift()}const copySearchParams=(_,R)=>{const P=R.split("?")[1];return P&&(_+=`?${P}`),_},_Spritesheet=class za{constructor(R,P){this.linkedSheets=[];let O=R;R?.source instanceof TextureSource&&(O={texture:R,data:P});const{texture:I,data:L,cachePrefix:z=""}=O;this.cachePrefix=z,this._texture=I instanceof Texture?I:null,this.textureSource=I.source,this.textures={},this.animations={},this.data=L;const F=parseFloat(L.meta.scale);F?(this.resolution=F,I.source.resolution=this.resolution):this.resolution=I.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(R=>{this._callback=R,this._batchIndex=0,this._frameKeys.length<=za.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(R){let P=R;const O=za.BATCH_SIZE;for(;P-R<O&&P<this._frameKeys.length;){const I=this._frameKeys[P],L=this._frames[I],z=L.frame;if(z){let F=null,G=null;const V=L.trimmed!==!1&&L.sourceSize?L.sourceSize:L.frame,Z=new Rectangle(0,0,Math.floor(V.w)/this.resolution,Math.floor(V.h)/this.resolution);L.rotated?F=new Rectangle(Math.floor(z.x)/this.resolution,Math.floor(z.y)/this.resolution,Math.floor(z.h)/this.resolution,Math.floor(z.w)/this.resolution):F=new Rectangle(Math.floor(z.x)/this.resolution,Math.floor(z.y)/this.resolution,Math.floor(z.w)/this.resolution,Math.floor(z.h)/this.resolution),L.trimmed!==!1&&L.spriteSourceSize&&(G=new Rectangle(Math.floor(L.spriteSourceSize.x)/this.resolution,Math.floor(L.spriteSourceSize.y)/this.resolution,Math.floor(z.w)/this.resolution,Math.floor(z.h)/this.resolution)),this.textures[I]=new Texture({source:this.textureSource,frame:F,orig:Z,trim:G,rotate:L.rotated?2:0,defaultAnchor:L.anchor,defaultBorders:L.borders,label:I.toString()})}P++}}_processAnimations(){const R=this.data.animations||{};for(const P in R){this.animations[P]=[];for(let O=0;O<R[P].length;O++){const I=R[P][O];this.animations[P].push(this.textures[I])}}}_parseComplete(){const R=this._callback;this._callback=null,this._batchIndex=0,R.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*za.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*za.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(R=!1){for(const P in this.textures)this.textures[P].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,R&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};_Spritesheet.BATCH_SIZE=1e3;let Spritesheet=_Spritesheet;const validImages=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function getCacheableAssets(_,R,P){const O={};if(_.forEach(I=>{O[I]=R}),Object.keys(R.textures).forEach(I=>{O[`${R.cachePrefix}${I}`]=R.textures[I]}),!P){const I=path$1.dirname(_[0]);R.linkedSheets.forEach((L,z)=>{const F=getCacheableAssets([`${I}/${R.data.meta.related_multi_packs[z]}`],L,!0);Object.assign(O,F)})}return O}const spritesheetAsset={extension:ExtensionType.Asset,cache:{test:_=>_ instanceof Spritesheet,getCacheableAssets:(_,R)=>getCacheableAssets(_,R,!1)},resolver:{extension:{type:ExtensionType.ResolveParser,name:"resolveSpritesheet"},test:_=>{const P=_.split("?")[0].split("."),O=P.pop(),I=P.pop();return O==="json"&&validImages.includes(I)},parse:_=>{const R=_.split(".");return{resolution:parseFloat(Resolver.RETINA_PREFIX.exec(_)?.[1]??"1"),format:R[R.length-2],src:_}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Normal,name:"spritesheetLoader"},async testParse(_,R){return path$1.extname(R.src).toLowerCase()===".json"&&!!_.frames},async parse(_,R,P){const{texture:O,imageFilename:I,textureOptions:L,cachePrefix:z}=R?.data??{};let F=path$1.dirname(R.src);F&&F.lastIndexOf("/")!==F.length-1&&(F+="/");let G;if(O instanceof Texture)G=O;else{const Y=copySearchParams(F+(I??_.meta.image),R.src);G=(await P.load([{src:Y,data:L}]))[Y]}const V=new Spritesheet({texture:G.source,data:_,cachePrefix:z});await V.parse();const Z=_?.meta?.related_multi_packs;if(Array.isArray(Z)){const Y=[];for(const J of Z){if(typeof J!="string")continue;let te=F+J;R.data?.ignoreMultiPack||(te=copySearchParams(te,R.src),Y.push(P.load({src:te,data:{textureOptions:L,ignoreMultiPack:!0}})))}const Q=await Promise.all(Y);V.linkedSheets=Q,Q.forEach(J=>{J.linkedSheets=[V].concat(V.linkedSheets.filter(te=>te!==J))})}return V},async unload(_,R,P){await P.unload(_.textureSource._sourceOrigin),_.destroy(!1)}}};extensions.add(spritesheetAsset);const idCounts=Object.create(null),idHash=Object.create(null);function createIdFromString(_,R){let P=idHash[_];return P===void 0&&(idCounts[R]===void 0&&(idCounts[R]=1),idHash[_]=P=idCounts[R]++),P}let context;function getTestContext(){return(!context||context?.isContextLost())&&(context=DOMAdapter.get().createCanvas().getContext("webgl",{})),context}let maxFragmentPrecision;function getMaxFragmentPrecision(){if(!maxFragmentPrecision){maxFragmentPrecision="mediump";const _=getTestContext();_&&_.getShaderPrecisionFormat&&(maxFragmentPrecision=_.getShaderPrecisionFormat(_.FRAGMENT_SHADER,_.HIGH_FLOAT).precision?"highp":"mediump")}return maxFragmentPrecision}function addProgramDefines(_,R,P){return R?_:P?(_=_.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${_}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${_}
        `}function ensurePrecision(_,R,P){const O=P?R.maxSupportedFragmentPrecision:R.maxSupportedVertexPrecision;if(_.substring(0,9)!=="precision"){let I=P?R.requestedFragmentPrecision:R.requestedVertexPrecision;return I==="highp"&&O!=="highp"&&(I="mediump"),`precision ${I} float;
${_}`}else if(O!=="highp"&&_.substring(0,15)==="precision highp")return _.replace("precision highp","precision mediump");return _}function insertVersion(_,R){return R?`#version 300 es
${_}`:_}const fragmentNameCache={},VertexNameCache={};function setProgramName(_,{name:R="pixi-program"},P=!0){R=R.replace(/\s+/g,"-"),R+=P?"-fragment":"-vertex";const O=P?fragmentNameCache:VertexNameCache;return O[R]?(O[R]++,R+=`-${O[R]}`):O[R]=1,_.indexOf("#define SHADER_NAME")!==-1?_:`${`#define SHADER_NAME ${R}`}
${_}`}function stripVersion(_,R){return R?_.replace("#version 300 es",""):_}const processes={stripVersion,ensurePrecision,addProgramDefines,setProgramName,insertVersion},programCache$1=Object.create(null),_GlProgram=class mc{constructor(R){R={...mc.defaultOptions,...R};const P=R.fragment.indexOf("#version 300 es")!==-1,O={stripVersion:P,ensurePrecision:{requestedFragmentPrecision:R.preferredFragmentPrecision,requestedVertexPrecision:R.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:getMaxFragmentPrecision()},setProgramName:{name:R.name},addProgramDefines:P,insertVersion:P};let I=R.fragment,L=R.vertex;Object.keys(processes).forEach(z=>{const F=O[z];I=processes[z](I,F,!0),L=processes[z](L,F,!1)}),this.fragment=I,this.vertex=L,this.transformFeedbackVaryings=R.transformFeedbackVaryings,this._key=createIdFromString(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,programCache$1[this._cacheKey]=null}static from(R){const P=`${R.vertex}:${R.fragment}`;return programCache$1[P]||(programCache$1[P]=new mc(R),programCache$1[P]._cacheKey=P),programCache$1[P]}};_GlProgram.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let GlProgram=_GlProgram;const attributeFormatData={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function getAttributeInfoFromFormat(_){return attributeFormatData[_]??attributeFormatData.float32}const WGSL_TO_VERTEX_TYPES={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function extractAttributesFromGpuProgram({source:_,entryPoint:R}){const P={},O=_.indexOf(`fn ${R}`);if(O!==-1){const I=_.indexOf("->",O);if(I!==-1){const L=_.substring(O,I),z=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let F;for(;(F=z.exec(L))!==null;){const G=WGSL_TO_VERTEX_TYPES[F[3]]??"float32";P[F[2]]={location:parseInt(F[1],10),format:G,stride:getAttributeInfoFromFormat(G).stride,offset:0,instance:!1,start:0}}}}return P}function extractStructAndGroups(_){const R=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,P=/@group\((\d+)\)/,O=/@binding\((\d+)\)/,I=/var(<[^>]+>)? (\w+)/,L=/:\s*(\w+)/,z=/struct\s+(\w+)\s*{([^}]+)}/g,F=/(\w+)\s*:\s*([\w\<\>]+)/g,G=/struct\s+(\w+)/,V=_.match(R)?.map(Y=>({group:parseInt(Y.match(P)[1],10),binding:parseInt(Y.match(O)[1],10),name:Y.match(I)[2],isUniform:Y.match(I)[1]==="<uniform>",type:Y.match(L)[1]}));if(!V)return{groups:[],structs:[]};const Z=_.match(z)?.map(Y=>{const Q=Y.match(G)[1],J=Y.match(F).reduce((te,ne)=>{const[ie,se]=ne.split(":");return te[ie.trim()]=se.trim(),te},{});return J?{name:Q,members:J}:null}).filter(({name:Y})=>V.some(Q=>Q.type===Y))??[];return{groups:V,structs:Z}}var ShaderStage=(_=>(_[_.VERTEX=1]="VERTEX",_[_.FRAGMENT=2]="FRAGMENT",_[_.COMPUTE=4]="COMPUTE",_))(ShaderStage||{});function generateGpuLayoutGroups({groups:_}){const R=[];for(let P=0;P<_.length;P++){const O=_[P];R[O.group]||(R[O.group]=[]),O.isUniform?R[O.group].push({binding:O.binding,visibility:ShaderStage.VERTEX|ShaderStage.FRAGMENT,buffer:{type:"uniform"}}):O.type==="sampler"?R[O.group].push({binding:O.binding,visibility:ShaderStage.FRAGMENT,sampler:{type:"filtering"}}):O.type==="texture_2d"&&R[O.group].push({binding:O.binding,visibility:ShaderStage.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return R}function generateLayoutHash({groups:_}){const R=[];for(let P=0;P<_.length;P++){const O=_[P];R[O.group]||(R[O.group]={}),R[O.group][O.name]=O.binding}return R}function removeStructAndGroupDuplicates(_,R){const P=new Set,O=new Set,I=[..._.structs,...R.structs].filter(z=>P.has(z.name)?!1:(P.add(z.name),!0)),L=[..._.groups,...R.groups].filter(z=>{const F=`${z.name}-${z.binding}`;return O.has(F)?!1:(O.add(F),!0)});return{structs:I,groups:L}}const programCache=Object.create(null);class GpuProgram{constructor(R){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:P,vertex:O,layout:I,gpuLayout:L,name:z}=R;if(this.name=z,this.fragment=P,this.vertex=O,P.source===O.source){const F=extractStructAndGroups(P.source);this.structsAndGroups=F}else{const F=extractStructAndGroups(O.source),G=extractStructAndGroups(P.source);this.structsAndGroups=removeStructAndGroupDuplicates(F,G)}this.layout=I??generateLayoutHash(this.structsAndGroups),this.gpuLayout=L??generateGpuLayoutGroups(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:R,fragment:P}=this,O=R.source+P.source+R.entryPoint+P.entryPoint;this._layoutKey=createIdFromString(O,"program")}get attributeData(){return this._attributeData??(this._attributeData=extractAttributesFromGpuProgram(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,programCache[this._cacheKey]=null}static from(R){const P=`${R.vertex.source}:${R.fragment.source}:${R.fragment.entryPoint}:${R.vertex.entryPoint}`;return programCache[P]||(programCache[P]=new GpuProgram(R),programCache[P]._cacheKey=P),programCache[P]}}const UNIFORM_TYPES_VALUES=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],UNIFORM_TYPES_MAP=UNIFORM_TYPES_VALUES.reduce((_,R)=>(_[R]=!0,_),{});function getDefaultUniformValue(_,R){switch(_){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*R);case"vec3<f32>":return new Float32Array(3*R);case"vec4<f32>":return new Float32Array(4*R);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const _UniformGroup=class wd{constructor(R,P){this._touched=0,this.uid=uid("uniform"),this._resourceType="uniformGroup",this._resourceId=uid("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,P={...wd.defaultOptions,...P},this.uniformStructures=R;const O={};for(const I in R){const L=R[I];if(L.name=I,L.size=L.size??1,!UNIFORM_TYPES_MAP[L.type]){const z=L.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(z){const[,F,G]=z;throw new Error(`Uniform type ${L.type} is not supported. Use type: '${F}', size: ${G} instead.`)}throw new Error(`Uniform type ${L.type} is not supported. Supported uniform types are: ${UNIFORM_TYPES_VALUES.join(", ")}`)}L.value??(L.value=getDefaultUniformValue(L.type,L.size)),O[I]=L.value}this.uniforms=O,this._dirtyId=1,this.ubo=P.ubo,this.isStatic=P.isStatic,this._signature=createIdFromString(Object.keys(O).map(I=>`${I}-${R[I].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};_UniformGroup.defaultOptions={ubo:!1,isStatic:!1};let UniformGroup=_UniformGroup;class BindGroup{constructor(R){this.resources=Object.create(null),this._dirty=!0;let P=0;for(const O in R){const I=R[O];this.setResource(I,P++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const R=[];let P=0;for(const O in this.resources)R[P++]=this.resources[O]._resourceId;this._key=R.join("|")}setResource(R,P){const O=this.resources[P];R!==O&&(O&&R.off?.("change",this.onResourceChange,this),R.on?.("change",this.onResourceChange,this),this.resources[P]=R,this._dirty=!0)}getResource(R){return this.resources[R]}_touch(R){const P=this.resources;for(const O in P)P[O]._touched=R}destroy(){const R=this.resources;for(const P in R)R[P]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(R){if(this._dirty=!0,R.destroyed){const P=this.resources;for(const O in P)P[O]===R&&(P[O]=null)}else this._updateKey()}}var RendererType=(_=>(_[_.WEBGL=1]="WEBGL",_[_.WEBGPU=2]="WEBGPU",_[_.BOTH=3]="BOTH",_))(RendererType||{});class Shader extends EventEmitter{constructor(R){super(),this.uid=uid("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:P,glProgram:O,groups:I,resources:L,compatibleRenderers:z,groupMap:F}=R;this.gpuProgram=P,this.glProgram=O,z===void 0&&(z=0,P&&(z|=RendererType.WEBGPU),O&&(z|=RendererType.WEBGL)),this.compatibleRenderers=z;const G={};if(!L&&!I&&(L={}),L&&I)throw new Error("[Shader] Cannot have both resources and groups");if(!P&&I&&!F)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!P&&I&&F)for(const V in F)for(const Z in F[V]){const Y=F[V][Z];G[Y]={group:V,binding:Z,name:Y}}else if(P&&I&&!F){const V=P.structsAndGroups.groups;F={},V.forEach(Z=>{F[Z.group]=F[Z.group]||{},F[Z.group][Z.binding]=Z.name,G[Z.name]=Z})}else if(L){I={},F={},P&&P.structsAndGroups.groups.forEach(Y=>{F[Y.group]=F[Y.group]||{},F[Y.group][Y.binding]=Y.name,G[Y.name]=Y});let V=0;for(const Z in L)G[Z]||(I[99]||(I[99]=new BindGroup,this._ownedBindGroups.push(I[99])),G[Z]={group:99,binding:V,name:Z},F[99]=F[99]||{},F[99][V]=Z,V++);for(const Z in L){const Y=Z;let Q=L[Z];!Q.source&&!Q._resourceType&&(Q=new UniformGroup(Q));const J=G[Y];J&&(I[J.group]||(I[J.group]=new BindGroup,this._ownedBindGroups.push(I[J.group])),I[J.group].setResource(Q,J.binding))}}this.groups=I,this._uniformBindMap=F,this.resources=this._buildResourceAccessor(I,G)}addResource(R,P,O){var I,L;(I=this._uniformBindMap)[P]||(I[P]={}),(L=this._uniformBindMap[P])[O]||(L[O]=R),this.groups[P]||(this.groups[P]=new BindGroup,this._ownedBindGroups.push(this.groups[P]))}_buildResourceAccessor(R,P){const O={};for(const I in P){const L=P[I];Object.defineProperty(O,L.name,{get(){return R[L.group].getResource(L.binding)},set(z){R[L.group].setResource(z,L.binding)}})}return O}destroy(R=!1){this._destroyed||(this._destroyed=!0,this.emit("destroy",this),R&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(P=>{P.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(R){const{gpu:P,gl:O,...I}=R;let L,z;return P&&(L=GpuProgram.from(P)),O&&(z=GlProgram.from(O)),new Shader({gpuProgram:L,glProgram:z,...I})}}const environments$1=[];extensions.handleByNamedList(ExtensionType.Environment,environments$1);async function loadEnvironmentExtensions(_){if(!_)for(let R=0;R<environments$1.length;R++){const P=environments$1[R];if(P.value.test()){await P.value.load();return}}}let unsafeEval;function unsafeEvalSupported(){if(typeof unsafeEval=="boolean")return unsafeEval;try{unsafeEval=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{unsafeEval=!1}return unsafeEval}function earcut$1(_,R,P=2){const O=R&&R.length,I=O?R[0]*P:_.length;let L=linkedList(_,0,I,P,!0);const z=[];if(!L||L.next===L.prev)return z;let F,G,V;if(O&&(L=eliminateHoles(_,R,L,P)),_.length>80*P){F=_[0],G=_[1];let Z=F,Y=G;for(let Q=P;Q<I;Q+=P){const J=_[Q],te=_[Q+1];J<F&&(F=J),te<G&&(G=te),J>Z&&(Z=J),te>Y&&(Y=te)}V=Math.max(Z-F,Y-G),V=V!==0?32767/V:0}return earcutLinked(L,z,P,F,G,V,0),z}function linkedList(_,R,P,O,I){let L;if(I===signedArea(_,R,P,O)>0)for(let z=R;z<P;z+=O)L=insertNode(z/O|0,_[z],_[z+1],L);else for(let z=P-O;z>=R;z-=O)L=insertNode(z/O|0,_[z],_[z+1],L);return L&&equals(L,L.next)&&(removeNode(L),L=L.next),L}function filterPoints(_,R){if(!_)return _;R||(R=_);let P=_,O;do if(O=!1,!P.steiner&&(equals(P,P.next)||area(P.prev,P,P.next)===0)){if(removeNode(P),P=R=P.prev,P===P.next)break;O=!0}else P=P.next;while(O||P!==R);return R}function earcutLinked(_,R,P,O,I,L,z){if(!_)return;!z&&L&&indexCurve(_,O,I,L);let F=_;for(;_.prev!==_.next;){const G=_.prev,V=_.next;if(L?isEarHashed(_,O,I,L):isEar(_)){R.push(G.i,_.i,V.i),removeNode(_),_=V.next,F=V.next;continue}if(_=V,_===F){z?z===1?(_=cureLocalIntersections(filterPoints(_),R),earcutLinked(_,R,P,O,I,L,2)):z===2&&splitEarcut(_,R,P,O,I,L):earcutLinked(filterPoints(_),R,P,O,I,L,1);break}}}function isEar(_){const R=_.prev,P=_,O=_.next;if(area(R,P,O)>=0)return!1;const I=R.x,L=P.x,z=O.x,F=R.y,G=P.y,V=O.y,Z=Math.min(I,L,z),Y=Math.min(F,G,V),Q=Math.max(I,L,z),J=Math.max(F,G,V);let te=O.next;for(;te!==R;){if(te.x>=Z&&te.x<=Q&&te.y>=Y&&te.y<=J&&pointInTriangleExceptFirst(I,F,L,G,z,V,te.x,te.y)&&area(te.prev,te,te.next)>=0)return!1;te=te.next}return!0}function isEarHashed(_,R,P,O){const I=_.prev,L=_,z=_.next;if(area(I,L,z)>=0)return!1;const F=I.x,G=L.x,V=z.x,Z=I.y,Y=L.y,Q=z.y,J=Math.min(F,G,V),te=Math.min(Z,Y,Q),ne=Math.max(F,G,V),ie=Math.max(Z,Y,Q),se=zOrder(J,te,R,P,O),oe=zOrder(ne,ie,R,P,O);let ce=_.prevZ,ue=_.nextZ;for(;ce&&ce.z>=se&&ue&&ue.z<=oe;){if(ce.x>=J&&ce.x<=ne&&ce.y>=te&&ce.y<=ie&&ce!==I&&ce!==z&&pointInTriangleExceptFirst(F,Z,G,Y,V,Q,ce.x,ce.y)&&area(ce.prev,ce,ce.next)>=0||(ce=ce.prevZ,ue.x>=J&&ue.x<=ne&&ue.y>=te&&ue.y<=ie&&ue!==I&&ue!==z&&pointInTriangleExceptFirst(F,Z,G,Y,V,Q,ue.x,ue.y)&&area(ue.prev,ue,ue.next)>=0))return!1;ue=ue.nextZ}for(;ce&&ce.z>=se;){if(ce.x>=J&&ce.x<=ne&&ce.y>=te&&ce.y<=ie&&ce!==I&&ce!==z&&pointInTriangleExceptFirst(F,Z,G,Y,V,Q,ce.x,ce.y)&&area(ce.prev,ce,ce.next)>=0)return!1;ce=ce.prevZ}for(;ue&&ue.z<=oe;){if(ue.x>=J&&ue.x<=ne&&ue.y>=te&&ue.y<=ie&&ue!==I&&ue!==z&&pointInTriangleExceptFirst(F,Z,G,Y,V,Q,ue.x,ue.y)&&area(ue.prev,ue,ue.next)>=0)return!1;ue=ue.nextZ}return!0}function cureLocalIntersections(_,R){let P=_;do{const O=P.prev,I=P.next.next;!equals(O,I)&&intersects(O,P,P.next,I)&&locallyInside(O,I)&&locallyInside(I,O)&&(R.push(O.i,P.i,I.i),removeNode(P),removeNode(P.next),P=_=I),P=P.next}while(P!==_);return filterPoints(P)}function splitEarcut(_,R,P,O,I,L){let z=_;do{let F=z.next.next;for(;F!==z.prev;){if(z.i!==F.i&&isValidDiagonal(z,F)){let G=splitPolygon(z,F);z=filterPoints(z,z.next),G=filterPoints(G,G.next),earcutLinked(z,R,P,O,I,L,0),earcutLinked(G,R,P,O,I,L,0);return}F=F.next}z=z.next}while(z!==_)}function eliminateHoles(_,R,P,O){const I=[];for(let L=0,z=R.length;L<z;L++){const F=R[L]*O,G=L<z-1?R[L+1]*O:_.length,V=linkedList(_,F,G,O,!1);V===V.next&&(V.steiner=!0),I.push(getLeftmost(V))}I.sort(compareXYSlope);for(let L=0;L<I.length;L++)P=eliminateHole(I[L],P);return P}function compareXYSlope(_,R){let P=_.x-R.x;if(P===0&&(P=_.y-R.y,P===0)){const O=(_.next.y-_.y)/(_.next.x-_.x),I=(R.next.y-R.y)/(R.next.x-R.x);P=O-I}return P}function eliminateHole(_,R){const P=findHoleBridge(_,R);if(!P)return R;const O=splitPolygon(P,_);return filterPoints(O,O.next),filterPoints(P,P.next)}function findHoleBridge(_,R){let P=R;const O=_.x,I=_.y;let L=-1/0,z;if(equals(_,P))return P;do{if(equals(_,P.next))return P.next;if(I<=P.y&&I>=P.next.y&&P.next.y!==P.y){const Y=P.x+(I-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(Y<=O&&Y>L&&(L=Y,z=P.x<P.next.x?P:P.next,Y===O))return z}P=P.next}while(P!==R);if(!z)return null;const F=z,G=z.x,V=z.y;let Z=1/0;P=z;do{if(O>=P.x&&P.x>=G&&O!==P.x&&pointInTriangle(I<V?O:L,I,G,V,I<V?L:O,I,P.x,P.y)){const Y=Math.abs(I-P.y)/(O-P.x);locallyInside(P,_)&&(Y<Z||Y===Z&&(P.x>z.x||P.x===z.x&&sectorContainsSector(z,P)))&&(z=P,Z=Y)}P=P.next}while(P!==F);return z}function sectorContainsSector(_,R){return area(_.prev,_,R.prev)<0&&area(R.next,_,_.next)<0}function indexCurve(_,R,P,O){let I=_;do I.z===0&&(I.z=zOrder(I.x,I.y,R,P,O)),I.prevZ=I.prev,I.nextZ=I.next,I=I.next;while(I!==_);I.prevZ.nextZ=null,I.prevZ=null,sortLinked(I)}function sortLinked(_){let R,P=1;do{let O=_,I;_=null;let L=null;for(R=0;O;){R++;let z=O,F=0;for(let V=0;V<P&&(F++,z=z.nextZ,!!z);V++);let G=P;for(;F>0||G>0&&z;)F!==0&&(G===0||!z||O.z<=z.z)?(I=O,O=O.nextZ,F--):(I=z,z=z.nextZ,G--),L?L.nextZ=I:_=I,I.prevZ=L,L=I;O=z}L.nextZ=null,P*=2}while(R>1);return _}function zOrder(_,R,P,O,I){return _=(_-P)*I|0,R=(R-O)*I|0,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,_|R<<1}function getLeftmost(_){let R=_,P=_;do(R.x<P.x||R.x===P.x&&R.y<P.y)&&(P=R),R=R.next;while(R!==_);return P}function pointInTriangle(_,R,P,O,I,L,z,F){return(I-z)*(R-F)>=(_-z)*(L-F)&&(_-z)*(O-F)>=(P-z)*(R-F)&&(P-z)*(L-F)>=(I-z)*(O-F)}function pointInTriangleExceptFirst(_,R,P,O,I,L,z,F){return!(_===z&&R===F)&&pointInTriangle(_,R,P,O,I,L,z,F)}function isValidDiagonal(_,R){return _.next.i!==R.i&&_.prev.i!==R.i&&!intersectsPolygon(_,R)&&(locallyInside(_,R)&&locallyInside(R,_)&&middleInside(_,R)&&(area(_.prev,_,R.prev)||area(_,R.prev,R))||equals(_,R)&&area(_.prev,_,_.next)>0&&area(R.prev,R,R.next)>0)}function area(_,R,P){return(R.y-_.y)*(P.x-R.x)-(R.x-_.x)*(P.y-R.y)}function equals(_,R){return _.x===R.x&&_.y===R.y}function intersects(_,R,P,O){const I=sign$2(area(_,R,P)),L=sign$2(area(_,R,O)),z=sign$2(area(P,O,_)),F=sign$2(area(P,O,R));return!!(I!==L&&z!==F||I===0&&onSegment(_,P,R)||L===0&&onSegment(_,O,R)||z===0&&onSegment(P,_,O)||F===0&&onSegment(P,R,O))}function onSegment(_,R,P){return R.x<=Math.max(_.x,P.x)&&R.x>=Math.min(_.x,P.x)&&R.y<=Math.max(_.y,P.y)&&R.y>=Math.min(_.y,P.y)}function sign$2(_){return _>0?1:_<0?-1:0}function intersectsPolygon(_,R){let P=_;do{if(P.i!==_.i&&P.next.i!==_.i&&P.i!==R.i&&P.next.i!==R.i&&intersects(P,P.next,_,R))return!0;P=P.next}while(P!==_);return!1}function locallyInside(_,R){return area(_.prev,_,_.next)<0?area(_,R,_.next)>=0&&area(_,_.prev,R)>=0:area(_,R,_.prev)<0||area(_,_.next,R)<0}function middleInside(_,R){let P=_,O=!1;const I=(_.x+R.x)/2,L=(_.y+R.y)/2;do P.y>L!=P.next.y>L&&P.next.y!==P.y&&I<(P.next.x-P.x)*(L-P.y)/(P.next.y-P.y)+P.x&&(O=!O),P=P.next;while(P!==_);return O}function splitPolygon(_,R){const P=createNode(_.i,_.x,_.y),O=createNode(R.i,R.x,R.y),I=_.next,L=R.prev;return _.next=R,R.prev=_,P.next=I,I.prev=P,O.next=P,P.prev=O,L.next=O,O.prev=L,O}function insertNode(_,R,P,O){const I=createNode(_,R,P);return O?(I.next=O.next,I.prev=O,O.next.prev=I,O.next=I):(I.prev=I,I.next=I),I}function removeNode(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function createNode(_,R,P){return{i:_,x:R,y:P,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function signedArea(_,R,P,O){let I=0;for(let L=R,z=P-O;L<P;L+=O)I+=(_[z]-_[L])*(_[L+1]+_[z+1]),z=L;return I}const earcut=earcut$1.default||earcut$1;var CLEAR=(_=>(_[_.NONE=0]="NONE",_[_.COLOR=16384]="COLOR",_[_.STENCIL=1024]="STENCIL",_[_.DEPTH=256]="DEPTH",_[_.COLOR_DEPTH=16640]="COLOR_DEPTH",_[_.COLOR_STENCIL=17408]="COLOR_STENCIL",_[_.DEPTH_STENCIL=1280]="DEPTH_STENCIL",_[_.ALL=17664]="ALL",_))(CLEAR||{});class SystemRunner{constructor(R){this.items=[],this._name=R}emit(R,P,O,I,L,z,F,G){const{name:V,items:Z}=this;for(let Y=0,Q=Z.length;Y<Q;Y++)Z[Y][V](R,P,O,I,L,z,F,G);return this}add(R){return R[this._name]&&(this.remove(R),this.items.push(R)),this}remove(R){const P=this.items.indexOf(R);return P!==-1&&this.items.splice(P,1),this}contains(R){return this.items.indexOf(R)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const defaultRunners=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],_AbstractRenderer=class Ed extends EventEmitter{constructor(R){super(),this.uid=uid("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=R.type,this.name=R.name,this.config=R;const P=[...defaultRunners,...this.config.runners??[]];this._addRunners(...P),this._unsafeEvalCheck()}async init(R={}){const P=R.skipExtensionImports===!0?!0:R.manageImports===!1;await loadEnvironmentExtensions(P),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const O in this._systemsHash)R={...this._systemsHash[O].constructor.defaultOptions,...R};R={...Ed.defaultOptions,...R},this._roundPixels=R.roundPixels?1:0;for(let O=0;O<this.runners.init.items.length;O++)await this.runners.init.items[O].init(R);this._initOptions=R}render(R,P){let O=R;if(O instanceof Container&&(O={container:O},P&&(deprecation(v8_0_0,"passing a second argument is deprecated, please use render options instead"),O.target=P.renderTexture)),O.target||(O.target=this.view.renderTarget),O.target===this.view.renderTarget&&(this._lastObjectRendered=O.container,O.clearColor??(O.clearColor=this.background.colorRgba),O.clear??(O.clear=this.background.clearBeforeRender)),O.clearColor){const I=Array.isArray(O.clearColor)&&O.clearColor.length===4;O.clearColor=I?O.clearColor:Color$1.shared.setValue(O.clearColor).toArray()}O.transform||(O.container.updateLocalTransform(),O.transform=O.container.localTransform),O.container.visible&&(O.container.enableRenderGroup(),this.runners.prerender.emit(O),this.runners.renderStart.emit(O),this.runners.render.emit(O),this.runners.renderEnd.emit(O),this.runners.postrender.emit(O))}resize(R,P,O){const I=this.view.resolution;this.view.resize(R,P,O),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),O!==void 0&&O!==I&&this.runners.resolutionChange.emit(O)}clear(R={}){const P=this;R.target||(R.target=P.renderTarget.renderTarget),R.clearColor||(R.clearColor=this.background.colorRgba),R.clear??(R.clear=CLEAR.ALL);const{clear:O,clearColor:I,target:L}=R;Color$1.shared.setValue(I??this.background.colorRgba),P.renderTarget.clear(L,O,Color$1.shared.toArray())}get resolution(){return this.view.resolution}set resolution(R){this.view.resolution=R,this.runners.resolutionChange.emit(R)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...R){R.forEach(P=>{this.runners[P]=new SystemRunner(P)})}_addSystems(R){let P;for(P in R){const O=R[P];this._addSystem(O.value,O.name)}}_addSystem(R,P){const O=new R(this);if(this[P])throw new Error(`Whoops! The name "${P}" is already in use`);this[P]=O,this._systemsHash[P]=O;for(const I in this.runners)this.runners[I].add(O);return this}_addPipes(R,P){const O=P.reduce((I,L)=>(I[L.name]=L.value,I),{});R.forEach(I=>{const L=I.value,z=I.name,F=O[z];this.renderPipes[z]=new L(this,F?new F:null),this.runners.destroy.add(this.renderPipes[z])})}destroy(R=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(R),(R===!0||typeof R=="object"&&R.releaseGlobalResources)&&GlobalResourceRegistry.release(),Object.values(this.runners).forEach(P=>{P.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(R){return this.textureGenerator.generateTexture(R)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};_AbstractRenderer.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let AbstractRenderer=_AbstractRenderer,_isWebGLSupported;function isWebGLSupported(_){return _isWebGLSupported!==void 0||(_isWebGLSupported=(()=>{const R={stencil:!0,failIfMajorPerformanceCaveat:_??AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat};try{if(!DOMAdapter.get().getWebGLRenderingContext())return!1;let O=DOMAdapter.get().createCanvas().getContext("webgl",R);const I=!!O?.getContextAttributes()?.stencil;if(O){const L=O.getExtension("WEBGL_lose_context");L&&L.loseContext()}return O=null,I}catch{return!1}})()),_isWebGLSupported}let _isWebGPUSupported;async function isWebGPUSupported(_={}){return _isWebGPUSupported!==void 0||(_isWebGPUSupported=await(async()=>{const R=DOMAdapter.get().getNavigator().gpu;if(!R)return!1;try{return await(await R.requestAdapter(_)).requestDevice(),!0}catch{return!1}})()),_isWebGPUSupported}const renderPriority=["webgl","webgpu","canvas"];async function autoDetectRenderer(_){let R=[];_.preference?(R.push(_.preference),renderPriority.forEach(L=>{L!==_.preference&&R.push(L)})):R=renderPriority.slice();let P,O={};for(let L=0;L<R.length;L++){const z=R[L];if(z==="webgpu"&&await isWebGPUSupported()){const{WebGPURenderer:F}=await __vitePreload(async()=>{const{WebGPURenderer:G}=await import("./WebGPURenderer-DSaYULO0.js");return{WebGPURenderer:G}},__vite__mapDeps([3,2,4]));P=F,O={..._,..._.webgpu};break}else if(z==="webgl"&&isWebGLSupported(_.failIfMajorPerformanceCaveat??AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:F}=await __vitePreload(async()=>{const{WebGLRenderer:G}=await import("./WebGLRenderer-D6ShxdHV.js");return{WebGLRenderer:G}},__vite__mapDeps([5,2,4]));P=F,O={..._,..._.webgl};break}else if(z==="canvas")throw O={..._},new Error("CanvasRenderer is not yet implemented")}if(delete O.webgpu,delete O.webgl,!P)throw new Error("No available renderer for the current environment");const I=new P;return await I.init(O),I}const VERSION="8.14.3";class ApplicationInitHook{static init(){globalThis.__PIXI_APP_INIT__?.(this,VERSION)}static destroy(){}}ApplicationInitHook.extension=ExtensionType.Application;class RendererInitHook{constructor(R){this._renderer=R}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,VERSION)}destroy(){this._renderer=null}}RendererInitHook.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem],name:"initHook",priority:-10};const _Application=class pc{constructor(...R){this.stage=new Container,R[0]!==void 0&&deprecation(v8_0_0,"Application constructor options are deprecated, please use Application.init() instead.")}async init(R){R={...R},this.stage||(this.stage=new Container),this.renderer=await autoDetectRenderer(R),pc._plugins.forEach(P=>{P.init.call(this,R)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return deprecation(v8_0_0,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(R=!1,P=!1){const O=pc._plugins.slice(0);O.reverse(),O.forEach(I=>{I.destroy.call(this)}),this.stage.destroy(P),this.stage=null,this.renderer.destroy(R),this.renderer=null}};_Application._plugins=[];let Application=_Application;extensions.handleByList(ExtensionType.Application,Application._plugins);extensions.add(ApplicationInitHook);class LRU{constructor(R=0,P=0,O=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=R,this.resetTtl=O,this.size=0,this.ttl=P}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(R){if(this.has(R)){const P=this.items[R];delete this.items[R],this.size--,P.prev!==null&&(P.prev.next=P.next),P.next!==null&&(P.next.prev=P.prev),this.first===P&&(this.first=P.next),this.last===P&&(this.last=P.prev)}return this}entries(R=this.keys()){return R.map(P=>[P,this.get(P)])}evict(R=!1){if(R||this.size>0){const P=this.first;delete this.items[P.key],--this.size===0?(this.first=null,this.last=null):(this.first=P.next,this.first.prev=null)}return this}expiresAt(R){let P;return this.has(R)&&(P=this.items[R].expiry),P}get(R){const P=this.items[R];if(P!==void 0){if(this.ttl>0&&P.expiry<=Date.now()){this.delete(R);return}return this.moveToEnd(P),P.value}}has(R){return R in this.items}moveToEnd(R){this.last!==R&&(R.prev!==null&&(R.prev.next=R.next),R.next!==null&&(R.next.prev=R.prev),this.first===R&&(this.first=R.next),R.prev=this.last,R.next=null,this.last!==null&&(this.last.next=R),this.last=R,this.first===null&&(this.first=R))}keys(){const R=[];let P=this.first;for(;P!==null;)R.push(P.key),P=P.next;return R}setWithEvicted(R,P,O=this.resetTtl){let I=null;if(this.has(R))this.set(R,P,!0,O);else{this.max>0&&this.size===this.max&&(I={...this.first},this.evict(!0));let L=this.items[R]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:R,prev:this.last,next:null,value:P};++this.size===1?this.first=L:this.last.next=L,this.last=L}return I}set(R,P,O=!1,I=this.resetTtl){let L=this.items[R];return O||L!==void 0?(L.value=P,O===!1&&I&&(L.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.moveToEnd(L)):(this.max>0&&this.size===this.max&&this.evict(!0),L=this.items[R]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:R,prev:this.last,next:null,value:P},++this.size===1?this.first=L:this.last.next=L,this.last=L),this}values(R=this.keys()){return R.map(P=>this.get(P))}}function lru(_=1e3,R=0,P=!1){if(isNaN(_)||_<0)throw new TypeError("Invalid max value");if(isNaN(R)||R<0)throw new TypeError("Invalid ttl value");if(typeof P!="boolean")throw new TypeError("Invalid resetTtl value");return new LRU(_,R,P)}const genericFontFamilies=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function fontStringFromTextStyle(_){const R=typeof _.fontSize=="number"?`${_.fontSize}px`:_.fontSize;let P=_.fontFamily;Array.isArray(_.fontFamily)||(P=_.fontFamily.split(","));for(let O=P.length-1;O>=0;O--){let I=P[O].trim();!/([\"\'])[^\'\"]+\1/.test(I)&&!genericFontFamilies.includes(I)&&(I=`"${I}"`),P[O]=I}return`${_.fontStyle} ${_.fontVariant} ${_.fontWeight} ${R} ${P.join(",")}`}const contextSettings={willReadFrequently:!0},_CanvasTextMetrics=class ut{static get experimentalLetterSpacingSupported(){let R=ut._experimentalLetterSpacingSupported;if(R===void 0){const P=DOMAdapter.get().getCanvasRenderingContext2D().prototype;R=ut._experimentalLetterSpacingSupported="letterSpacing"in P||"textLetterSpacing"in P}return R}constructor(R,P,O,I,L,z,F,G,V){this.text=R,this.style=P,this.width=O,this.height=I,this.lines=L,this.lineWidths=z,this.lineHeight=F,this.maxLineWidth=G,this.fontProperties=V}static measureText(R=" ",P,O=ut._canvas,I=P.wordWrap){const L=`${R}-${P.styleKey}-wordWrap-${I}`;if(ut._measurementCache.has(L))return ut._measurementCache.get(L);const z=fontStringFromTextStyle(P),F=ut.measureFont(z);F.fontSize===0&&(F.fontSize=P.fontSize,F.ascent=P.fontSize);const G=ut.__context;G.font=z;const Z=(I?ut._wordWrap(R,P,O):R).split(/(?:\r\n|\r|\n)/),Y=new Array(Z.length);let Q=0;for(let oe=0;oe<Z.length;oe++){const ce=ut._measureText(Z[oe],P.letterSpacing,G);Y[oe]=ce,Q=Math.max(Q,ce)}const J=P._stroke?.width||0;let te=Q+J;P.dropShadow&&(te+=P.dropShadow.distance);const ne=P.lineHeight||F.fontSize;let ie=Math.max(ne,F.fontSize+J)+(Z.length-1)*(ne+P.leading);P.dropShadow&&(ie+=P.dropShadow.distance);const se=new ut(R,P,te,ie,Z,Y,ne+P.leading,Q,F);return ut._measurementCache.set(L,se),se}static _measureText(R,P,O){let I=!1;ut.experimentalLetterSpacingSupported&&(ut.experimentalLetterSpacing?(O.letterSpacing=`${P}px`,O.textLetterSpacing=`${P}px`,I=!0):(O.letterSpacing="0px",O.textLetterSpacing="0px"));const L=O.measureText(R);let z=L.width;const F=-L.actualBoundingBoxLeft;let V=L.actualBoundingBoxRight-F;if(z>0)if(I)z-=P,V-=P;else{const Z=(ut.graphemeSegmenter(R).length-1)*P;z+=Z,V+=Z}return Math.max(z,V)}static _wordWrap(R,P,O=ut._canvas){const I=O.getContext("2d",contextSettings);let L=0,z="",F="";const G=Object.create(null),{letterSpacing:V,whiteSpace:Z}=P,Y=ut._collapseSpaces(Z),Q=ut._collapseNewlines(Z);let J=!Y;const te=P.wordWrapWidth+V,ne=ut._tokenize(R);for(let ie=0;ie<ne.length;ie++){let se=ne[ie];if(ut._isNewline(se)){if(!Q){F+=ut._addLine(z),J=!Y,z="",L=0;continue}se=" "}if(Y){const ce=ut.isBreakingSpace(se),ue=ut.isBreakingSpace(z[z.length-1]);if(ce&&ue)continue}const oe=ut._getFromCache(se,V,G,I);if(oe>te)if(z!==""&&(F+=ut._addLine(z),z="",L=0),ut.canBreakWords(se,P.breakWords)){const ce=ut.wordWrapSplit(se);for(let ue=0;ue<ce.length;ue++){let me=ce[ue],he=me,fe=1;for(;ce[ue+fe];){const pe=ce[ue+fe];if(!ut.canBreakChars(he,pe,se,ue,P.breakWords))me+=pe;else break;he=pe,fe++}ue+=fe-1;const de=ut._getFromCache(me,V,G,I);de+L>te&&(F+=ut._addLine(z),J=!1,z="",L=0),z+=me,L+=de}}else{z.length>0&&(F+=ut._addLine(z),z="",L=0);const ce=ie===ne.length-1;F+=ut._addLine(se,!ce),J=!1,z="",L=0}else oe+L>te&&(J=!1,F+=ut._addLine(z),z="",L=0),(z.length>0||!ut.isBreakingSpace(se)||J)&&(z+=se,L+=oe)}return F+=ut._addLine(z,!1),F}static _addLine(R,P=!0){return R=ut._trimRight(R),R=P?`${R}
`:R,R}static _getFromCache(R,P,O,I){let L=O[R];return typeof L!="number"&&(L=ut._measureText(R,P,I)+P,O[R]=L),L}static _collapseSpaces(R){return R==="normal"||R==="pre-line"}static _collapseNewlines(R){return R==="normal"}static _trimRight(R){if(typeof R!="string")return"";for(let P=R.length-1;P>=0;P--){const O=R[P];if(!ut.isBreakingSpace(O))break;R=R.slice(0,-1)}return R}static _isNewline(R){return typeof R!="string"?!1:ut._newlines.includes(R.charCodeAt(0))}static isBreakingSpace(R,P){return typeof R!="string"?!1:ut._breakingSpaces.includes(R.charCodeAt(0))}static _tokenize(R){const P=[];let O="";if(typeof R!="string")return P;for(let I=0;I<R.length;I++){const L=R[I],z=R[I+1];if(ut.isBreakingSpace(L,z)||ut._isNewline(L)){O!==""&&(P.push(O),O=""),L==="\r"&&z===`
`?(P.push(`\r
`),I++):P.push(L);continue}O+=L}return O!==""&&P.push(O),P}static canBreakWords(R,P){return P}static canBreakChars(R,P,O,I,L){return!0}static wordWrapSplit(R){return ut.graphemeSegmenter(R)}static measureFont(R){if(ut._fonts[R])return ut._fonts[R];const P=ut._context;P.font=R;const O=P.measureText(ut.METRICS_STRING+ut.BASELINE_SYMBOL),I={ascent:O.actualBoundingBoxAscent,descent:O.actualBoundingBoxDescent,fontSize:O.actualBoundingBoxAscent+O.actualBoundingBoxDescent};return ut._fonts[R]=I,I}static clearMetrics(R=""){R?delete ut._fonts[R]:ut._fonts={}}static get _canvas(){if(!ut.__canvas){let R;try{const P=new OffscreenCanvas(0,0);if(P.getContext("2d",contextSettings)?.measureText)return ut.__canvas=P,P;R=DOMAdapter.get().createCanvas()}catch{R=DOMAdapter.get().createCanvas()}R.width=R.height=10,ut.__canvas=R}return ut.__canvas}static get _context(){return ut.__context||(ut.__context=ut._canvas.getContext("2d",contextSettings)),ut.__context}};_CanvasTextMetrics.METRICS_STRING="|q";_CanvasTextMetrics.BASELINE_SYMBOL="M";_CanvasTextMetrics.BASELINE_MULTIPLIER=1.4;_CanvasTextMetrics.HEIGHT_MULTIPLIER=2;_CanvasTextMetrics.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const _=new Intl.Segmenter;return R=>{const P=_.segment(R),O=[];let I=0;for(const L of P)O[I++]=L.segment;return O}}return _=>[..._]})();_CanvasTextMetrics.experimentalLetterSpacing=!1;_CanvasTextMetrics._fonts={};_CanvasTextMetrics._newlines=[10,13];_CanvasTextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];_CanvasTextMetrics._measurementCache=lru(1e3);let CanvasTextMetrics=_CanvasTextMetrics;const emptyColorStops=[{offset:0,color:"white"},{offset:1,color:"black"}],_FillGradient=class gc{constructor(...R){this.uid=uid("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let P=ensureGradientOptions(R);P={...P.type==="radial"?gc.defaultRadialOptions:gc.defaultLinearOptions,...definedProps(P)},this._textureSize=P.textureSize,this._wrapMode=P.wrapMode,P.type==="radial"?(this.center=P.center,this.outerCenter=P.outerCenter??this.center,this.innerRadius=P.innerRadius,this.outerRadius=P.outerRadius,this.scale=P.scale,this.rotation=P.rotation):(this.start=P.start,this.end=P.end),this.textureSpace=P.textureSpace,this.type=P.type,P.colorStops.forEach(I=>{this.addColorStop(I.offset,I.color)})}addColorStop(R,P){return this.colorStops.push({offset:R,color:Color$1.shared.setValue(P).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:R,y:P}=this.start,{x:O,y:I}=this.end,L=O-R,z=I-P;const F=L<0||z<0;if(this._wrapMode==="clamp-to-edge"){if(L<0){const ie=R;R=O,O=ie,L*=-1}if(z<0){const ie=P;P=I,I=ie,z*=-1}}const G=this.colorStops.length?this.colorStops:emptyColorStops,V=this._textureSize,{canvas:Z,context:Y}=getCanvas(V,1),Q=F?Y.createLinearGradient(this._textureSize,0,0,0):Y.createLinearGradient(0,0,this._textureSize,0);addColorStops(Q,G),Y.fillStyle=Q,Y.fillRect(0,0,V,1),this.texture=new Texture({source:new ImageSource({resource:Z,addressMode:this._wrapMode})});const J=Math.sqrt(L*L+z*z),te=Math.atan2(z,L),ne=new Matrix;ne.scale(J/V,1),ne.rotate(te),ne.translate(R,P),this.textureSpace==="local"&&ne.scale(V,V),this.transform=ne}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const R=this.colorStops.length?this.colorStops:emptyColorStops,P=this._textureSize,{canvas:O,context:I}=getCanvas(P,P),{x:L,y:z}=this.center,{x:F,y:G}=this.outerCenter,V=this.innerRadius,Z=this.outerRadius,Y=F-Z,Q=G-Z,J=P/(Z*2),te=(L-Y)*J,ne=(z-Q)*J,ie=I.createRadialGradient(te,ne,V*J,(F-Y)*J,(G-Q)*J,Z*J);addColorStops(ie,R),I.fillStyle=R[R.length-1].color,I.fillRect(0,0,P,P),I.fillStyle=ie,I.translate(te,ne),I.rotate(this.rotation),I.scale(1,this.scale),I.translate(-te,-ne),I.fillRect(0,0,P,P),this.texture=new Texture({source:new ImageSource({resource:O,addressMode:this._wrapMode})});const se=new Matrix;se.scale(1/J,1/J),se.translate(Y,Q),this.textureSpace==="local"&&se.scale(P,P),this.transform=se}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};_FillGradient.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};_FillGradient.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let FillGradient=_FillGradient;function addColorStops(_,R){for(let P=0;P<R.length;P++){const O=R[P];_.addColorStop(O.offset,O.color)}}function getCanvas(_,R){const P=DOMAdapter.get().createCanvas(_,R),O=P.getContext("2d");return{canvas:P,context:O}}function ensureGradientOptions(_){let R=_[0]??{};return(typeof R=="number"||_[1])&&(deprecation("8.5.2","use options object instead"),R={type:"linear",start:{x:_[0],y:_[1]},end:{x:_[2],y:_[3]},textureSpace:_[4],textureSize:_[5]??FillGradient.defaultLinearOptions.textureSize}),R}const repetitionMap={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class FillPattern{constructor(R,P){this.uid=uid("fillPattern"),this._tick=0,this.transform=new Matrix,this.texture=R,this.transform.scale(1/R.frame.width,1/R.frame.height),P&&(R.source.style.addressModeU=repetitionMap[P].addressModeU,R.source.style.addressModeV=repetitionMap[P].addressModeV)}setTransform(R){const P=this.texture;this.transform.copyFrom(R),this.transform.invert(),this.transform.scale(1/P.frame.width,1/P.frame.height),this._tick++}get texture(){return this._texture}set texture(R){this._texture!==R&&(this._texture=R,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var parseSvgPath,hasRequiredParseSvgPath;function requireParseSvgPath(){if(hasRequiredParseSvgPath)return parseSvgPath;hasRequiredParseSvgPath=1,parseSvgPath=P;var _={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},R=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function P(L){var z=[];return L.replace(R,function(F,G,V){var Z=G.toLowerCase();for(V=I(V),Z=="m"&&V.length>2&&(z.push([G].concat(V.splice(0,2))),Z="l",G=G=="m"?"l":"L");;){if(V.length==_[Z])return V.unshift(G),z.push(V);if(V.length<_[Z])throw new Error("malformed path data");z.push([G].concat(V.splice(0,_[Z])))}}),z}var O=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function I(L){var z=L.match(O);return z?z.map(Number):[]}return parseSvgPath}var parseSvgPathExports=requireParseSvgPath();const parse$4=getDefaultExportFromCjs(parseSvgPathExports);function parseSVGPath(_,R){const P=parse$4(_),O=[];let I=null,L=0,z=0;for(let F=0;F<P.length;F++){const G=P[F],V=G[0],Z=G;switch(V){case"M":L=Z[1],z=Z[2],R.moveTo(L,z);break;case"m":L+=Z[1],z+=Z[2],R.moveTo(L,z);break;case"H":L=Z[1],R.lineTo(L,z);break;case"h":L+=Z[1],R.lineTo(L,z);break;case"V":z=Z[1],R.lineTo(L,z);break;case"v":z+=Z[1],R.lineTo(L,z);break;case"L":L=Z[1],z=Z[2],R.lineTo(L,z);break;case"l":L+=Z[1],z+=Z[2],R.lineTo(L,z);break;case"C":L=Z[5],z=Z[6],R.bezierCurveTo(Z[1],Z[2],Z[3],Z[4],L,z);break;case"c":R.bezierCurveTo(L+Z[1],z+Z[2],L+Z[3],z+Z[4],L+Z[5],z+Z[6]),L+=Z[5],z+=Z[6];break;case"S":L=Z[3],z=Z[4],R.bezierCurveToShort(Z[1],Z[2],L,z);break;case"s":R.bezierCurveToShort(L+Z[1],z+Z[2],L+Z[3],z+Z[4]),L+=Z[3],z+=Z[4];break;case"Q":L=Z[3],z=Z[4],R.quadraticCurveTo(Z[1],Z[2],L,z);break;case"q":R.quadraticCurveTo(L+Z[1],z+Z[2],L+Z[3],z+Z[4]),L+=Z[3],z+=Z[4];break;case"T":L=Z[1],z=Z[2],R.quadraticCurveToShort(L,z);break;case"t":L+=Z[1],z+=Z[2],R.quadraticCurveToShort(L,z);break;case"A":L=Z[6],z=Z[7],R.arcToSvg(Z[1],Z[2],Z[3],Z[4],Z[5],L,z);break;case"a":L+=Z[6],z+=Z[7],R.arcToSvg(Z[1],Z[2],Z[3],Z[4],Z[5],L,z);break;case"Z":case"z":R.closePath(),O.length>0&&(I=O.pop(),I?(L=I.startX,z=I.startY):(L=0,z=0)),I=null;break;default:warn$1(`Unknown SVG path command: ${V}`)}V!=="Z"&&V!=="z"&&I===null&&(I={startX:L,startY:z},O.push(I))}return R}class Circle{constructor(R=0,P=0,O=0){this.type="circle",this.x=R,this.y=P,this.radius=O}clone(){return new Circle(this.x,this.y,this.radius)}contains(R,P){if(this.radius<=0)return!1;const O=this.radius*this.radius;let I=this.x-R,L=this.y-P;return I*=I,L*=L,I+L<=O}strokeContains(R,P,O,I=.5){if(this.radius===0)return!1;const L=this.x-R,z=this.y-P,F=this.radius,G=(1-I)*O,V=Math.sqrt(L*L+z*z);return V<=F+G&&V>F-(O-G)}getBounds(R){return R||(R=new Rectangle),R.x=this.x-this.radius,R.y=this.y-this.radius,R.width=this.radius*2,R.height=this.radius*2,R}copyFrom(R){return this.x=R.x,this.y=R.y,this.radius=R.radius,this}copyTo(R){return R.copyFrom(this),R}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Ellipse{constructor(R=0,P=0,O=0,I=0){this.type="ellipse",this.x=R,this.y=P,this.halfWidth=O,this.halfHeight=I}clone(){return new Ellipse(this.x,this.y,this.halfWidth,this.halfHeight)}contains(R,P){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let O=(R-this.x)/this.halfWidth,I=(P-this.y)/this.halfHeight;return O*=O,I*=I,O+I<=1}strokeContains(R,P,O,I=.5){const{halfWidth:L,halfHeight:z}=this;if(L<=0||z<=0)return!1;const F=O*(1-I),G=O-F,V=L-G,Z=z-G,Y=L+F,Q=z+F,J=R-this.x,te=P-this.y,ne=J*J/(V*V)+te*te/(Z*Z),ie=J*J/(Y*Y)+te*te/(Q*Q);return ne>1&&ie<=1}getBounds(R){return R||(R=new Rectangle),R.x=this.x-this.halfWidth,R.y=this.y-this.halfHeight,R.width=this.halfWidth*2,R.height=this.halfHeight*2,R}copyFrom(R){return this.x=R.x,this.y=R.y,this.halfWidth=R.halfWidth,this.halfHeight=R.halfHeight,this}copyTo(R){return R.copyFrom(this),R}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function squaredDistanceToLineSegment(_,R,P,O,I,L){const z=_-P,F=R-O,G=I-P,V=L-O,Z=z*G+F*V,Y=G*G+V*V;let Q=-1;Y!==0&&(Q=Z/Y);let J,te;Q<0?(J=P,te=O):Q>1?(J=I,te=L):(J=P+Q*G,te=O+Q*V);const ne=_-J,ie=R-te;return ne*ne+ie*ie}let tempRect$3,tempRect2;class Polygon{constructor(...R){this.type="polygon";let P=Array.isArray(R[0])?R[0]:R;if(typeof P[0]!="number"){const O=[];for(let I=0,L=P.length;I<L;I++)O.push(P[I].x,P[I].y);P=O}this.points=P,this.closePath=!0}isClockwise(){let R=0;const P=this.points,O=P.length;for(let I=0;I<O;I+=2){const L=P[I],z=P[I+1],F=P[(I+2)%O],G=P[(I+3)%O];R+=(F-L)*(G+z)}return R<0}containsPolygon(R){const P=this.getBounds(tempRect$3),O=R.getBounds(tempRect2);if(!P.containsRect(O))return!1;const I=R.points;for(let L=0;L<I.length;L+=2){const z=I[L],F=I[L+1];if(!this.contains(z,F))return!1}return!0}clone(){const R=this.points.slice(),P=new Polygon(R);return P.closePath=this.closePath,P}contains(R,P){let O=!1;const I=this.points.length/2;for(let L=0,z=I-1;L<I;z=L++){const F=this.points[L*2],G=this.points[L*2+1],V=this.points[z*2],Z=this.points[z*2+1];G>P!=Z>P&&R<(V-F)*((P-G)/(Z-G))+F&&(O=!O)}return O}strokeContains(R,P,O,I=.5){const L=O*O,z=L*(1-I),F=L-z,{points:G}=this,V=G.length-(this.closePath?0:2);for(let Z=0;Z<V;Z+=2){const Y=G[Z],Q=G[Z+1],J=G[(Z+2)%G.length],te=G[(Z+3)%G.length],ne=squaredDistanceToLineSegment(R,P,Y,Q,J,te),ie=Math.sign((J-Y)*(P-Q)-(te-Q)*(R-Y));if(ne<=(ie<0?F:z))return!0}return!1}getBounds(R){R||(R=new Rectangle);const P=this.points;let O=1/0,I=-1/0,L=1/0,z=-1/0;for(let F=0,G=P.length;F<G;F+=2){const V=P[F],Z=P[F+1];O=V<O?V:O,I=V>I?V:I,L=Z<L?Z:L,z=Z>z?Z:z}return R.x=O,R.width=I-O,R.y=L,R.height=z-L,R}copyFrom(R){return this.points=R.points.slice(),this.closePath=R.closePath,this}copyTo(R){return R.copyFrom(this),R}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((R,P)=>`${R}, ${P}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return deprecation("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return deprecation("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const isCornerWithinStroke=(_,R,P,O,I,L,z)=>{const F=_-P,G=R-O,V=Math.sqrt(F*F+G*G);return V>=I-L&&V<=I+z};class RoundedRectangle{constructor(R=0,P=0,O=0,I=0,L=20){this.type="roundedRectangle",this.x=R,this.y=P,this.width=O,this.height=I,this.radius=L}getBounds(R){return R||(R=new Rectangle),R.x=this.x,R.y=this.y,R.width=this.width,R.height=this.height,R}clone(){return new RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)}copyFrom(R){return this.x=R.x,this.y=R.y,this.width=R.width,this.height=R.height,this}copyTo(R){return R.copyFrom(this),R}contains(R,P){if(this.width<=0||this.height<=0)return!1;if(R>=this.x&&R<=this.x+this.width&&P>=this.y&&P<=this.y+this.height){const O=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(P>=this.y+O&&P<=this.y+this.height-O||R>=this.x+O&&R<=this.x+this.width-O)return!0;let I=R-(this.x+O),L=P-(this.y+O);const z=O*O;if(I*I+L*L<=z||(I=R-(this.x+this.width-O),I*I+L*L<=z)||(L=P-(this.y+this.height-O),I*I+L*L<=z)||(I=R-(this.x+O),I*I+L*L<=z))return!0}return!1}strokeContains(R,P,O,I=.5){const{x:L,y:z,width:F,height:G,radius:V}=this,Z=O*(1-I),Y=O-Z,Q=L+V,J=z+V,te=F-V*2,ne=G-V*2,ie=L+F,se=z+G;return(R>=L-Z&&R<=L+Y||R>=ie-Y&&R<=ie+Z)&&P>=J&&P<=J+ne||(P>=z-Z&&P<=z+Y||P>=se-Y&&P<=se+Z)&&R>=Q&&R<=Q+te?!0:R<Q&&P<J&&isCornerWithinStroke(R,P,Q,J,V,Y,Z)||R>ie-V&&P<J&&isCornerWithinStroke(R,P,ie-V,J,V,Y,Z)||R>ie-V&&P>se-V&&isCornerWithinStroke(R,P,ie-V,se-V,V,Y,Z)||R<Q&&P>se-V&&isCornerWithinStroke(R,P,Q,se-V,V,Y,Z)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const cachedGroups={};function getTextureBatchBindGroup(_,R,P){let O=2166136261;for(let I=0;I<R;I++)O^=_[I].uid,O=Math.imul(O,16777619),O>>>=0;return cachedGroups[O]||generateTextureBatchBindGroup(_,R,O,P)}function generateTextureBatchBindGroup(_,R,P,O){const I={};let L=0;for(let F=0;F<O;F++){const G=F<R?_[F]:Texture.EMPTY.source;I[L++]=G.source,I[L++]=G.style}const z=new BindGroup(I);return cachedGroups[P]=z,z}class ViewableBuffer{constructor(R){typeof R=="number"?this.rawBinaryData=new ArrayBuffer(R):R instanceof Uint8Array?this.rawBinaryData=R.buffer:this.rawBinaryData=R,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(R){return this[`${R}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(R){switch(R){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${R} isn't a valid view type`)}}}function fastCopy(_,R){const P=_.byteLength/8|0,O=new Float64Array(_,0,P);new Float64Array(R,0,P).set(O);const L=_.byteLength-P*8;if(L>0){const z=new Uint8Array(_,P*8,L);new Uint8Array(R,P*8,L).set(z)}}const BLEND_TO_NPM={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var STENCIL_MODES=(_=>(_[_.DISABLED=0]="DISABLED",_[_.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",_[_.MASK_ACTIVE=2]="MASK_ACTIVE",_[_.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",_[_.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",_[_.NONE=5]="NONE",_))(STENCIL_MODES||{});function getAdjustedBlendModeBlend(_,R){return R.alphaMode==="no-premultiply-alpha"&&BLEND_TO_NPM[_]||_}const fragTemplate=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function generateIfTestSrc(_){let R="";for(let P=0;P<_;++P)P>0&&(R+=`
else `),P<_-1&&(R+=`if(test == ${P}.0){}`);return R}function checkMaxIfStatementsInShader(_,R){if(_===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const P=R.createShader(R.FRAGMENT_SHADER);try{for(;;){const O=fragTemplate.replace(/%forloop%/gi,generateIfTestSrc(_));if(R.shaderSource(P,O),R.compileShader(P),!R.getShaderParameter(P,R.COMPILE_STATUS))_=_/2|0;else break}}finally{R.deleteShader(P)}return _}let maxTexturesPerBatchCache=null;function getMaxTexturesPerBatch(){if(maxTexturesPerBatchCache)return maxTexturesPerBatchCache;const _=getTestContext();return maxTexturesPerBatchCache=_.getParameter(_.MAX_TEXTURE_IMAGE_UNITS),maxTexturesPerBatchCache=checkMaxIfStatementsInShader(maxTexturesPerBatchCache,_),_.getExtension("WEBGL_lose_context")?.loseContext(),maxTexturesPerBatchCache}class BatchTextureArray{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let R=0;R<this.count;R++){const P=this.textures[R];this.textures[R]=null,this.ids[P.uid]=null}this.count=0}}class Batch{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new BatchTextureArray,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const batchPool=[];let batchPoolIndex=0;GlobalResourceRegistry.register({clear:()=>{if(batchPool.length>0)for(const _ of batchPool)_&&_.destroy();batchPool.length=0,batchPoolIndex=0}});function getBatchFromPool(){return batchPoolIndex>0?batchPool[--batchPoolIndex]:new Batch}function returnBatchToPool(_){batchPool[batchPoolIndex++]=_}let BATCH_TICK=0;const _Batcher=class Cd{constructor(R){this.uid=uid("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],R={...Cd.defaultOptions,...R},R.maxTextures||(deprecation("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),R.maxTextures=getMaxTexturesPerBatch());const{maxTextures:P,attributesInitialSize:O,indicesInitialSize:I}=R;this.attributeBuffer=new ViewableBuffer(O*4),this.indexBuffer=new Uint16Array(I),this.maxTextures=P}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let R=0;R<this.batchIndex;R++)returnBatchToPool(this.batches[R]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(R){this._elements[this.elementSize++]=R,R._indexStart=this.indexSize,R._attributeStart=this.attributeSize,R._batcher=this,this.indexSize+=R.indexSize,this.attributeSize+=R.attributeSize*this.vertexSize}checkAndUpdateTexture(R,P){const O=R._batch.textures.ids[P._source.uid];return!O&&O!==0?!1:(R._textureId=O,R.texture=P,!0)}updateElement(R){this.dirty=!0;const P=this.attributeBuffer;R.packAsQuad?this.packQuadAttributes(R,P.float32View,P.uint32View,R._attributeStart,R._textureId):this.packAttributes(R,P.float32View,P.uint32View,R._attributeStart,R._textureId)}break(R){const P=this._elements;if(!P[this.elementStart])return;let O=getBatchFromPool(),I=O.textures;I.clear();const L=P[this.elementStart];let z=getAdjustedBlendModeBlend(L.blendMode,L.texture._source),F=L.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const G=this.attributeBuffer.float32View,V=this.attributeBuffer.uint32View,Z=this.indexBuffer;let Y=this._batchIndexSize,Q=this._batchIndexStart,J="startBatch";const te=this.maxTextures;for(let ne=this.elementStart;ne<this.elementSize;++ne){const ie=P[ne];P[ne]=null;const oe=ie.texture._source,ce=getAdjustedBlendModeBlend(ie.blendMode,oe),ue=z!==ce||F!==ie.topology;if(oe._batchTick===BATCH_TICK&&!ue){ie._textureId=oe._textureBindLocation,Y+=ie.indexSize,ie.packAsQuad?(this.packQuadAttributes(ie,G,V,ie._attributeStart,ie._textureId),this.packQuadIndex(Z,ie._indexStart,ie._attributeStart/this.vertexSize)):(this.packAttributes(ie,G,V,ie._attributeStart,ie._textureId),this.packIndex(ie,Z,ie._indexStart,ie._attributeStart/this.vertexSize)),ie._batch=O;continue}oe._batchTick=BATCH_TICK,(I.count>=te||ue)&&(this._finishBatch(O,Q,Y-Q,I,z,F,R,J),J="renderBatch",Q=Y,z=ce,F=ie.topology,O=getBatchFromPool(),I=O.textures,I.clear(),++BATCH_TICK),ie._textureId=oe._textureBindLocation=I.count,I.ids[oe.uid]=I.count,I.textures[I.count++]=oe,ie._batch=O,Y+=ie.indexSize,ie.packAsQuad?(this.packQuadAttributes(ie,G,V,ie._attributeStart,ie._textureId),this.packQuadIndex(Z,ie._indexStart,ie._attributeStart/this.vertexSize)):(this.packAttributes(ie,G,V,ie._attributeStart,ie._textureId),this.packIndex(ie,Z,ie._indexStart,ie._attributeStart/this.vertexSize))}I.count>0&&(this._finishBatch(O,Q,Y-Q,I,z,F,R,J),Q=Y,++BATCH_TICK),this.elementStart=this.elementSize,this._batchIndexStart=Q,this._batchIndexSize=Y}_finishBatch(R,P,O,I,L,z,F,G){R.gpuBindGroup=null,R.bindGroup=null,R.action=G,R.batcher=this,R.textures=I,R.blendMode=L,R.topology=z,R.start=P,R.size=O,++BATCH_TICK,this.batches[this.batchIndex++]=R,F.add(R)}finish(R){this.break(R)}ensureAttributeBuffer(R){R*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(R*4)}ensureIndexBuffer(R){R<=this.indexBuffer.length||this._resizeIndexBuffer(R)}_resizeAttributeBuffer(R){const P=Math.max(R,this.attributeBuffer.size*2),O=new ViewableBuffer(P);fastCopy(this.attributeBuffer.rawBinaryData,O.rawBinaryData),this.attributeBuffer=O}_resizeIndexBuffer(R){const P=this.indexBuffer;let O=Math.max(R,P.length*1.5);O+=O%2;const I=O>65535?new Uint32Array(O):new Uint16Array(O);if(I.BYTES_PER_ELEMENT!==P.BYTES_PER_ELEMENT)for(let L=0;L<P.length;L++)I[L]=P[L];else fastCopy(P.buffer,I.buffer);this.indexBuffer=I}packQuadIndex(R,P,O){R[P]=O+0,R[P+1]=O+1,R[P+2]=O+2,R[P+3]=O+0,R[P+4]=O+2,R[P+5]=O+3}packIndex(R,P,O,I){const L=R.indices,z=R.indexSize,F=R.indexOffset,G=R.attributeOffset;for(let V=0;V<z;V++)P[O++]=I+L[V+F]-G}destroy(R={}){if(this.batches!==null){for(let P=0;P<this.batches.length;P++)returnBatchToPool(this.batches[P]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,R.shader&&(this.shader?.destroy(),this.shader=null);for(let P=0;P<this._elements.length;P++)this._elements[P]&&(this._elements[P]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};_Batcher.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let Batcher=_Batcher;var BufferUsage=(_=>(_[_.MAP_READ=1]="MAP_READ",_[_.MAP_WRITE=2]="MAP_WRITE",_[_.COPY_SRC=4]="COPY_SRC",_[_.COPY_DST=8]="COPY_DST",_[_.INDEX=16]="INDEX",_[_.VERTEX=32]="VERTEX",_[_.UNIFORM=64]="UNIFORM",_[_.STORAGE=128]="STORAGE",_[_.INDIRECT=256]="INDIRECT",_[_.QUERY_RESOLVE=512]="QUERY_RESOLVE",_[_.STATIC=1024]="STATIC",_))(BufferUsage||{});class Buffer extends EventEmitter{constructor(R){let{data:P,size:O}=R;const{usage:I,label:L,shrinkToFit:z}=R;super(),this.uid=uid("buffer"),this._resourceType="buffer",this._resourceId=uid("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,P instanceof Array&&(P=new Float32Array(P)),this._data=P,O??(O=P?.byteLength);const F=!!P;this.descriptor={size:O,usage:I,mappedAtCreation:F,label:L},this.shrinkToFit=z??!0}get data(){return this._data}set data(R){this.setDataWithSize(R,R.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&BufferUsage.STATIC)}set static(R){R?this.descriptor.usage|=BufferUsage.STATIC:this.descriptor.usage&=~BufferUsage.STATIC}setDataWithSize(R,P,O){if(this._updateID++,this._updateSize=P*R.BYTES_PER_ELEMENT,this._data===R){O&&this.emit("update",this);return}const I=this._data;if(this._data=R,this._dataInt32=null,!I||I.length!==R.length){!this.shrinkToFit&&I&&R.byteLength<I.byteLength?O&&this.emit("update",this):(this.descriptor.size=R.byteLength,this._resourceId=uid("resource"),this.emit("change",this));return}O&&this.emit("update",this)}update(R){this._updateSize=R??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function ensureIsBuffer(_,R){if(!(_ instanceof Buffer)){let P=R?BufferUsage.INDEX:BufferUsage.VERTEX;_ instanceof Array&&(R?(_=new Uint32Array(_),P=BufferUsage.INDEX|BufferUsage.COPY_DST):(_=new Float32Array(_),P=BufferUsage.VERTEX|BufferUsage.COPY_DST)),_=new Buffer({data:_,label:R?"index-mesh-buffer":"vertex-mesh-buffer",usage:P})}return _}function getGeometryBounds(_,R,P){const O=_.getAttribute(R);if(!O)return P.minX=0,P.minY=0,P.maxX=0,P.maxY=0,P;const I=O.buffer.data;let L=1/0,z=1/0,F=-1/0,G=-1/0;const V=I.BYTES_PER_ELEMENT,Z=(O.offset||0)/V,Y=(O.stride||8)/V;for(let Q=Z;Q<I.length;Q+=Y){const J=I[Q],te=I[Q+1];J>F&&(F=J),te>G&&(G=te),J<L&&(L=J),te<z&&(z=te)}return P.minX=L,P.minY=z,P.maxX=F,P.maxY=G,P}function ensureIsAttribute(_){return(_ instanceof Buffer||Array.isArray(_)||_.BYTES_PER_ELEMENT)&&(_={buffer:_}),_.buffer=ensureIsBuffer(_.buffer,!1),_}class Geometry extends EventEmitter{constructor(R={}){super(),this.uid=uid("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Bounds,this._boundsDirty=!0;const{attributes:P,indexBuffer:O,topology:I}=R;if(this.buffers=[],this.attributes={},P)for(const L in P)this.addAttribute(L,P[L]);this.instanceCount=R.instanceCount??1,O&&this.addIndex(O),this.topology=I||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(R){return this.attributes[R]}getIndex(){return this.indexBuffer}getBuffer(R){return this.getAttribute(R).buffer}getSize(){for(const R in this.attributes){const P=this.attributes[R];return P.buffer.data.length/(P.stride/4||P.size)}return 0}addAttribute(R,P){const O=ensureIsAttribute(P);this.buffers.indexOf(O.buffer)===-1&&(this.buffers.push(O.buffer),O.buffer.on("update",this.onBufferUpdate,this),O.buffer.on("change",this.onBufferUpdate,this)),this.attributes[R]=O}addIndex(R){this.indexBuffer=ensureIsBuffer(R,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,getGeometryBounds(this,"aPosition",this._bounds)):this._bounds}destroy(R=!1){this.emit("destroy",this),this.removeAllListeners(),R&&this.buffers.forEach(P=>P.destroy()),this.indexBuffer?.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const placeHolderBufferData=new Float32Array(1),placeHolderIndexData=new Uint32Array(1);class BatchGeometry extends Geometry{constructor(){const P=new Buffer({data:placeHolderBufferData,label:"attribute-batch-buffer",usage:BufferUsage.VERTEX|BufferUsage.COPY_DST,shrinkToFit:!1}),O=new Buffer({data:placeHolderIndexData,label:"index-batch-buffer",usage:BufferUsage.INDEX|BufferUsage.COPY_DST,shrinkToFit:!1}),I=24;super({attributes:{aPosition:{buffer:P,format:"float32x2",stride:I,offset:0},aUV:{buffer:P,format:"float32x2",stride:I,offset:8},aColor:{buffer:P,format:"unorm8x4",stride:I,offset:16},aTextureIdAndRound:{buffer:P,format:"uint16x2",stride:I,offset:20}},indexBuffer:O})}}function addBits(_,R,P){if(_)for(const O in _){const I=O.toLocaleLowerCase(),L=R[I];if(L){let z=_[O];O==="header"&&(z=z.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),P&&L.push(`//----${P}----//`),L.push(z)}else warn$1(`${O} placement hook does not exist in shader`)}}const findHooksRx=/\{\{(.*?)\}\}/g;function compileHooks(_){const R={};return(_.match(findHooksRx)?.map(O=>O.replace(/[{()}]/g,""))??[]).forEach(O=>{R[O]=[]}),R}function extractInputs(_,R){let P;const O=/@in\s+([^;]+);/g;for(;(P=O.exec(_))!==null;)R.push(P[1])}function compileInputs(_,R,P=!1){const O=[];extractInputs(R,O),_.forEach(F=>{F.header&&extractInputs(F.header,O)});const I=O;P&&I.sort();const L=I.map((F,G)=>`       @location(${G}) ${F},`).join(`
`);let z=R.replace(/@in\s+[^;]+;\s*/g,"");return z=z.replace("{{in}}",`
${L}
`),z}function extractOutputs(_,R){let P;const O=/@out\s+([^;]+);/g;for(;(P=O.exec(_))!==null;)R.push(P[1])}function extractVariableName(_){const P=/\b(\w+)\s*:/g.exec(_);return P?P[1]:""}function stripVariable(_){const R=/@.*?\s+/g;return _.replace(R,"")}function compileOutputs(_,R){const P=[];extractOutputs(R,P),_.forEach(G=>{G.header&&extractOutputs(G.header,P)});let O=0;const I=P.sort().map(G=>G.indexOf("builtin")>-1?G:`@location(${O++}) ${G}`).join(`,
`),L=P.sort().map(G=>`       var ${stripVariable(G)};`).join(`
`),z=`return VSOutput(
            ${P.sort().map(G=>` ${extractVariableName(G)}`).join(`,
`)});`;let F=R.replace(/@out\s+[^;]+;\s*/g,"");return F=F.replace("{{struct}}",`
${I}
`),F=F.replace("{{start}}",`
${L}
`),F=F.replace("{{return}}",`
${z}
`),F}function injectBits(_,R){let P=_;for(const O in R){const I=R[O];I.join(`
`).length?P=P.replace(`{{${O}}}`,`//-----${O} START-----//
${I.join(`
`)}
//----${O} FINISH----//`):P=P.replace(`{{${O}}}`,"")}return P}const cacheMap=Object.create(null),bitCacheMap=new Map;let CACHE_UID=0;function compileHighShader({template:_,bits:R}){const P=generateCacheId(_,R);if(cacheMap[P])return cacheMap[P];const{vertex:O,fragment:I}=compileInputsAndOutputs(_,R);return cacheMap[P]=compileBits(O,I,R),cacheMap[P]}function compileHighShaderGl({template:_,bits:R}){const P=generateCacheId(_,R);return cacheMap[P]||(cacheMap[P]=compileBits(_.vertex,_.fragment,R)),cacheMap[P]}function compileInputsAndOutputs(_,R){const P=R.map(z=>z.vertex).filter(z=>!!z),O=R.map(z=>z.fragment).filter(z=>!!z);let I=compileInputs(P,_.vertex,!0);I=compileOutputs(P,I);const L=compileInputs(O,_.fragment,!0);return{vertex:I,fragment:L}}function generateCacheId(_,R){return R.map(P=>(bitCacheMap.has(P)||bitCacheMap.set(P,CACHE_UID++),bitCacheMap.get(P))).sort((P,O)=>P-O).join("-")+_.vertex+_.fragment}function compileBits(_,R,P){const O=compileHooks(_),I=compileHooks(R);return P.forEach(L=>{addBits(L.vertex,O,L.name),addBits(L.fragment,I,L.name)}),{vertex:injectBits(_,O),fragment:injectBits(R,I)}}const vertexGPUTemplate=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,fragmentGPUTemplate=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,vertexGlTemplate=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,fragmentGlTemplate=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,globalUniformsBit={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},globalUniformsBitGl={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function compileHighShaderGpuProgram({bits:_,name:R}){const P=compileHighShader({template:{fragment:fragmentGPUTemplate,vertex:vertexGPUTemplate},bits:[globalUniformsBit,..._]});return GpuProgram.from({name:R,vertex:{source:P.vertex,entryPoint:"main"},fragment:{source:P.fragment,entryPoint:"main"}})}function compileHighShaderGlProgram({bits:_,name:R}){return new GlProgram({name:R,...compileHighShaderGl({template:{vertex:vertexGlTemplate,fragment:fragmentGlTemplate},bits:[globalUniformsBitGl,..._]})})}const colorBit={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},colorBitGl={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},textureBatchBitGpuCache={};function generateBindingSrc(_){const R=[];if(_===1)R.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),R.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let P=0;for(let O=0;O<_;O++)R.push(`@group(1) @binding(${P++}) var textureSource${O+1}: texture_2d<f32>;`),R.push(`@group(1) @binding(${P++}) var textureSampler${O+1}: sampler;`)}return R.join(`
`)}function generateSampleSrc(_){const R=[];if(_===1)R.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{R.push("switch vTextureId {");for(let P=0;P<_;P++)P===_-1?R.push("  default:{"):R.push(`  case ${P}:{`),R.push(`      outColor = textureSampleGrad(textureSource${P+1}, textureSampler${P+1}, vUV, uvDx, uvDy);`),R.push("      break;}");R.push("}")}return R.join(`
`)}function generateTextureBatchBit(_){return textureBatchBitGpuCache[_]||(textureBatchBitGpuCache[_]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${generateBindingSrc(_)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${generateSampleSrc(_)}
            `}}),textureBatchBitGpuCache[_]}const textureBatchBitGlCache={};function generateSampleGlSrc(_){const R=[];for(let P=0;P<_;P++)P>0&&R.push("else"),P<_-1&&R.push(`if(vTextureId < ${P}.5)`),R.push("{"),R.push(`	outColor = texture(uTextures[${P}], vUV);`),R.push("}");return R.join(`
`)}function generateTextureBatchBitGl(_){return textureBatchBitGlCache[_]||(textureBatchBitGlCache[_]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${_}];

            `,main:`

                ${generateSampleGlSrc(_)}
            `}}),textureBatchBitGlCache[_]}const roundPixelsBit={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},roundPixelsBitGl={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},batchSamplersUniformGroupHash={};function getBatchSamplersUniformGroup(_){let R=batchSamplersUniformGroupHash[_];if(R)return R;const P=new Int32Array(_);for(let O=0;O<_;O++)P[O]=O;return R=batchSamplersUniformGroupHash[_]=new UniformGroup({uTextures:{value:P,type:"i32",size:_}},{isStatic:!0}),R}class DefaultShader extends Shader{constructor(R){const P=compileHighShaderGlProgram({name:"batch",bits:[colorBitGl,generateTextureBatchBitGl(R),roundPixelsBitGl]}),O=compileHighShaderGpuProgram({name:"batch",bits:[colorBit,generateTextureBatchBit(R),roundPixelsBit]});super({glProgram:P,gpuProgram:O,resources:{batchSamplers:getBatchSamplersUniformGroup(R)}}),this.maxTextures=R}}let defaultShader=null;const _DefaultBatcher=class Td extends Batcher{constructor(R){super(R),this.geometry=new BatchGeometry,this.name=Td.extension.name,this.vertexSize=6,defaultShader??(defaultShader=new DefaultShader(R.maxTextures)),this.shader=defaultShader}packAttributes(R,P,O,I,L){const z=L<<16|R.roundPixels&65535,F=R.transform,G=F.a,V=F.b,Z=F.c,Y=F.d,Q=F.tx,J=F.ty,{positions:te,uvs:ne}=R,ie=R.color,se=R.attributeOffset,oe=se+R.attributeSize;for(let ce=se;ce<oe;ce++){const ue=ce*2,me=te[ue],he=te[ue+1];P[I++]=G*me+Z*he+Q,P[I++]=Y*he+V*me+J,P[I++]=ne[ue],P[I++]=ne[ue+1],O[I++]=ie,O[I++]=z}}packQuadAttributes(R,P,O,I,L){const z=R.texture,F=R.transform,G=F.a,V=F.b,Z=F.c,Y=F.d,Q=F.tx,J=F.ty,te=R.bounds,ne=te.maxX,ie=te.minX,se=te.maxY,oe=te.minY,ce=z.uvs,ue=R.color,me=L<<16|R.roundPixels&65535;P[I+0]=G*ie+Z*oe+Q,P[I+1]=Y*oe+V*ie+J,P[I+2]=ce.x0,P[I+3]=ce.y0,O[I+4]=ue,O[I+5]=me,P[I+6]=G*ne+Z*oe+Q,P[I+7]=Y*oe+V*ne+J,P[I+8]=ce.x1,P[I+9]=ce.y1,O[I+10]=ue,O[I+11]=me,P[I+12]=G*ne+Z*se+Q,P[I+13]=Y*se+V*ne+J,P[I+14]=ce.x2,P[I+15]=ce.y2,O[I+16]=ue,O[I+17]=me,P[I+18]=G*ie+Z*se+Q,P[I+19]=Y*se+V*ie+J,P[I+20]=ce.x3,P[I+21]=ce.y3,O[I+22]=ue,O[I+23]=me}_updateMaxTextures(R){this.shader.maxTextures!==R&&(defaultShader=new DefaultShader(R),this.shader=defaultShader)}destroy(){this.shader=null,super.destroy()}};_DefaultBatcher.extension={type:[ExtensionType.Batcher],name:"default"};let DefaultBatcher=_DefaultBatcher;function buildUvs(_,R,P,O,I,L,z,F=null){let G=0;P*=R,I*=L;const V=F.a,Z=F.b,Y=F.c,Q=F.d,J=F.tx,te=F.ty;for(;G<z;){const ne=_[P],ie=_[P+1];O[I]=V*ne+Y*ie+J,O[I+1]=Z*ne+Q*ie+te,I+=L,P+=R,G++}}function buildSimpleUvs(_,R,P,O){let I=0;for(R*=P;I<O;)_[R]=0,_[R+1]=0,R+=P,I++}function transformVertices(_,R,P,O,I){const L=R.a,z=R.b,F=R.c,G=R.d,V=R.tx,Z=R.ty;P||(P=0),O||(O=2),I||(I=_.length/O-P);let Y=P*O;for(let Q=0;Q<I;Q++){const J=_[Y],te=_[Y+1];_[Y]=L*J+F*te+V,_[Y+1]=z*J+G*te+Z,Y+=O}}const identityMatrix=new Matrix;class BatchableGraphics{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const R=this.baseColor,P=R>>16|R&65280|(R&255)<<16,O=this.renderable;return O?multiplyHexColors(P,O.groupColor)+(this.alpha*O.groupAlpha*255<<24):P+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||identityMatrix}copyTo(R){R.indexOffset=this.indexOffset,R.indexSize=this.indexSize,R.attributeOffset=this.attributeOffset,R.attributeSize=this.attributeSize,R.baseColor=this.baseColor,R.alpha=this.alpha,R.texture=this.texture,R.geometryData=this.geometryData,R.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const buildCircle={extension:{type:ExtensionType.ShapeBuilder,name:"circle"},build(_,R){let P,O,I,L,z,F;if(_.type==="circle"){const ue=_;if(z=F=ue.radius,z<=0)return!1;P=ue.x,O=ue.y,I=L=0}else if(_.type==="ellipse"){const ue=_;if(z=ue.halfWidth,F=ue.halfHeight,z<=0||F<=0)return!1;P=ue.x,O=ue.y,I=L=0}else{const ue=_,me=ue.width/2,he=ue.height/2;P=ue.x+me,O=ue.y+he,z=F=Math.max(0,Math.min(ue.radius,Math.min(me,he))),I=me-z,L=he-F}if(I<0||L<0)return!1;const G=Math.ceil(2.3*Math.sqrt(z+F)),V=G*8+(I?4:0)+(L?4:0);if(V===0)return!1;if(G===0)return R[0]=R[6]=P+I,R[1]=R[3]=O+L,R[2]=R[4]=P-I,R[5]=R[7]=O-L,!0;let Z=0,Y=G*4+(I?2:0)+2,Q=Y,J=V,te=I+z,ne=L,ie=P+te,se=P-te,oe=O+ne;if(R[Z++]=ie,R[Z++]=oe,R[--Y]=oe,R[--Y]=se,L){const ue=O-ne;R[Q++]=se,R[Q++]=ue,R[--J]=ue,R[--J]=ie}for(let ue=1;ue<G;ue++){const me=Math.PI/2*(ue/G),he=I+Math.cos(me)*z,fe=L+Math.sin(me)*F,de=P+he,pe=P-he,be=O+fe,ye=O-fe;R[Z++]=de,R[Z++]=be,R[--Y]=be,R[--Y]=pe,R[Q++]=pe,R[Q++]=ye,R[--J]=ye,R[--J]=de}te=I,ne=L+F,ie=P+te,se=P-te,oe=O+ne;const ce=O-ne;return R[Z++]=ie,R[Z++]=oe,R[--J]=ce,R[--J]=ie,I&&(R[Z++]=se,R[Z++]=oe,R[--J]=ce,R[--J]=se),!0},triangulate(_,R,P,O,I,L){if(_.length===0)return;let z=0,F=0;for(let Z=0;Z<_.length;Z+=2)z+=_[Z],F+=_[Z+1];z/=_.length/2,F/=_.length/2;let G=O;R[G*P]=z,R[G*P+1]=F;const V=G++;for(let Z=0;Z<_.length;Z+=2)R[G*P]=_[Z],R[G*P+1]=_[Z+1],Z>0&&(I[L++]=G,I[L++]=V,I[L++]=G-1),G++;I[L++]=V+1,I[L++]=V,I[L++]=G-1}},buildEllipse={...buildCircle,extension:{...buildCircle.extension,name:"ellipse"}},buildRoundedRectangle={...buildCircle,extension:{...buildCircle.extension,name:"roundedRectangle"}},closePointEps=1e-4,curveEps=1e-4;function getOrientationOfPoints(_){const R=_.length;if(R<6)return 1;let P=0;for(let O=0,I=_[R-2],L=_[R-1];O<R;O+=2){const z=_[O],F=_[O+1];P+=(z-I)*(F+L),I=z,L=F}return P<0?-1:1}function square(_,R,P,O,I,L,z,F){const G=_-P*I,V=R-O*I,Z=_+P*L,Y=R+O*L;let Q,J;z?(Q=O,J=-P):(Q=-O,J=P);const te=G+Q,ne=V+J,ie=Z+Q,se=Y+J;return F.push(te,ne),F.push(ie,se),2}function round(_,R,P,O,I,L,z,F){const G=P-_,V=O-R;let Z=Math.atan2(G,V),Y=Math.atan2(I-_,L-R);F&&Z<Y?Z+=Math.PI*2:!F&&Z>Y&&(Y+=Math.PI*2);let Q=Z;const J=Y-Z,te=Math.abs(J),ne=Math.sqrt(G*G+V*V),ie=(15*te*Math.sqrt(ne)/Math.PI>>0)+1,se=J/ie;if(Q+=se,F){z.push(_,R),z.push(P,O);for(let oe=1,ce=Q;oe<ie;oe++,ce+=se)z.push(_,R),z.push(_+Math.sin(ce)*ne,R+Math.cos(ce)*ne);z.push(_,R),z.push(I,L)}else{z.push(P,O),z.push(_,R);for(let oe=1,ce=Q;oe<ie;oe++,ce+=se)z.push(_+Math.sin(ce)*ne,R+Math.cos(ce)*ne),z.push(_,R);z.push(I,L),z.push(_,R)}return ie*2}function buildLine(_,R,P,O,I,L){const z=closePointEps;if(_.length===0)return;const F=R;let G=F.alignment;if(R.alignment!==.5){let $e=getOrientationOfPoints(_);G=(G-.5)*$e+.5}const V=new Point(_[0],_[1]),Z=new Point(_[_.length-2],_[_.length-1]),Y=O,Q=Math.abs(V.x-Z.x)<z&&Math.abs(V.y-Z.y)<z;if(Y){_=_.slice(),Q&&(_.pop(),_.pop(),Z.set(_[_.length-2],_[_.length-1]));const $e=(V.x+Z.x)*.5,Se=(Z.y+V.y)*.5;_.unshift($e,Se),_.push($e,Se)}const J=I,te=_.length/2;let ne=_.length;const ie=J.length/2,se=F.width/2,oe=se*se,ce=F.miterLimit*F.miterLimit;let ue=_[0],me=_[1],he=_[2],fe=_[3],de=0,pe=0,be=-(me-fe),ye=ue-he,we=0,ve=0,Ae=Math.sqrt(be*be+ye*ye);be/=Ae,ye/=Ae,be*=se,ye*=se;const Ce=G,_e=(1-Ce)*2,Re=Ce*2;Y||(F.cap==="round"?ne+=round(ue-be*(_e-Re)*.5,me-ye*(_e-Re)*.5,ue-be*_e,me-ye*_e,ue+be*Re,me+ye*Re,J,!0)+2:F.cap==="square"&&(ne+=square(ue,me,be,ye,_e,Re,!0,J))),J.push(ue-be*_e,me-ye*_e),J.push(ue+be*Re,me+ye*Re);for(let $e=1;$e<te-1;++$e){ue=_[($e-1)*2],me=_[($e-1)*2+1],he=_[$e*2],fe=_[$e*2+1],de=_[($e+1)*2],pe=_[($e+1)*2+1],be=-(me-fe),ye=ue-he,Ae=Math.sqrt(be*be+ye*ye),be/=Ae,ye/=Ae,be*=se,ye*=se,we=-(fe-pe),ve=he-de,Ae=Math.sqrt(we*we+ve*ve),we/=Ae,ve/=Ae,we*=se,ve*=se;const Se=he-ue,Ee=me-fe,ke=he-de,xe=pe-fe,ze=Se*ke+Ee*xe,Ze=Ee*ke-xe*Se,Ye=Ze<0;if(Math.abs(Ze)<.001*Math.abs(ze)){J.push(he-be*_e,fe-ye*_e),J.push(he+be*Re,fe+ye*Re),ze>=0&&(F.join==="round"?ne+=round(he,fe,he-be*_e,fe-ye*_e,he-we*_e,fe-ve*_e,J,!1)+4:ne+=2,J.push(he-we*Re,fe-ve*Re),J.push(he+we*_e,fe+ve*_e));continue}const Ie=(-be+ue)*(-ye+fe)-(-be+he)*(-ye+me),Ge=(-we+de)*(-ve+fe)-(-we+he)*(-ve+pe),Oe=(Se*Ge-ke*Ie)/Ze,Ve=(xe*Ie-Ee*Ge)/Ze,Ue=(Oe-he)*(Oe-he)+(Ve-fe)*(Ve-fe),De=he+(Oe-he)*_e,nt=fe+(Ve-fe)*_e,Je=he-(Oe-he)*Re,rt=fe-(Ve-fe)*Re,at=Math.min(Se*Se+Ee*Ee,ke*ke+xe*xe),dt=Ye?_e:Re,ot=at+dt*dt*oe;Ue<=ot?F.join==="bevel"||Ue/oe>ce?(Ye?(J.push(De,nt),J.push(he+be*Re,fe+ye*Re),J.push(De,nt),J.push(he+we*Re,fe+ve*Re)):(J.push(he-be*_e,fe-ye*_e),J.push(Je,rt),J.push(he-we*_e,fe-ve*_e),J.push(Je,rt)),ne+=2):F.join==="round"?Ye?(J.push(De,nt),J.push(he+be*Re,fe+ye*Re),ne+=round(he,fe,he+be*Re,fe+ye*Re,he+we*Re,fe+ve*Re,J,!0)+4,J.push(De,nt),J.push(he+we*Re,fe+ve*Re)):(J.push(he-be*_e,fe-ye*_e),J.push(Je,rt),ne+=round(he,fe,he-be*_e,fe-ye*_e,he-we*_e,fe-ve*_e,J,!1)+4,J.push(he-we*_e,fe-ve*_e),J.push(Je,rt)):(J.push(De,nt),J.push(Je,rt)):(J.push(he-be*_e,fe-ye*_e),J.push(he+be*Re,fe+ye*Re),F.join==="round"?Ye?ne+=round(he,fe,he+be*Re,fe+ye*Re,he+we*Re,fe+ve*Re,J,!0)+2:ne+=round(he,fe,he-be*_e,fe-ye*_e,he-we*_e,fe-ve*_e,J,!1)+2:F.join==="miter"&&Ue/oe<=ce&&(Ye?(J.push(Je,rt),J.push(Je,rt)):(J.push(De,nt),J.push(De,nt)),ne+=2),J.push(he-we*_e,fe-ve*_e),J.push(he+we*Re,fe+ve*Re),ne+=2)}ue=_[(te-2)*2],me=_[(te-2)*2+1],he=_[(te-1)*2],fe=_[(te-1)*2+1],be=-(me-fe),ye=ue-he,Ae=Math.sqrt(be*be+ye*ye),be/=Ae,ye/=Ae,be*=se,ye*=se,J.push(he-be*_e,fe-ye*_e),J.push(he+be*Re,fe+ye*Re),Y||(F.cap==="round"?ne+=round(he-be*(_e-Re)*.5,fe-ye*(_e-Re)*.5,he-be*_e,fe-ye*_e,he+be*Re,fe+ye*Re,J,!1)+2:F.cap==="square"&&(ne+=square(he,fe,be,ye,_e,Re,!1,J)));const Me=curveEps*curveEps;for(let $e=ie;$e<ne+ie-2;++$e)ue=J[$e*2],me=J[$e*2+1],he=J[($e+1)*2],fe=J[($e+1)*2+1],de=J[($e+2)*2],pe=J[($e+2)*2+1],!(Math.abs(ue*(fe-pe)+he*(pe-me)+de*(me-fe))<Me)&&L.push($e,$e+1,$e+2)}function buildPixelLine(_,R,P,O){const I=closePointEps;if(_.length===0)return;const L=_[0],z=_[1],F=_[_.length-2],G=_[_.length-1],V=R||Math.abs(L-F)<I&&Math.abs(z-G)<I,Z=P,Y=_.length/2,Q=Z.length/2;for(let J=0;J<Y;J++)Z.push(_[J*2]),Z.push(_[J*2+1]);for(let J=0;J<Y-1;J++)O.push(Q+J,Q+J+1);V&&O.push(Q+Y-1,Q)}function triangulateWithHoles(_,R,P,O,I,L,z){const F=earcut(_,R,2);if(!F)return;for(let V=0;V<F.length;V+=3)L[z++]=F[V]+I,L[z++]=F[V+1]+I,L[z++]=F[V+2]+I;let G=I*O;for(let V=0;V<_.length;V+=2)P[G]=_[V],P[G+1]=_[V+1],G+=O}const emptyArray=[],buildPolygon={extension:{type:ExtensionType.ShapeBuilder,name:"polygon"},build(_,R){for(let P=0;P<_.points.length;P++)R[P]=_.points[P];return!0},triangulate(_,R,P,O,I,L){triangulateWithHoles(_,emptyArray,R,P,O,I,L)}},buildRectangle={extension:{type:ExtensionType.ShapeBuilder,name:"rectangle"},build(_,R){const P=_,O=P.x,I=P.y,L=P.width,z=P.height;return L>0&&z>0?(R[0]=O,R[1]=I,R[2]=O+L,R[3]=I,R[4]=O+L,R[5]=I+z,R[6]=O,R[7]=I+z,!0):!1},triangulate(_,R,P,O,I,L){let z=0;O*=P,R[O+z]=_[0],R[O+z+1]=_[1],z+=P,R[O+z]=_[2],R[O+z+1]=_[3],z+=P,R[O+z]=_[6],R[O+z+1]=_[7],z+=P,R[O+z]=_[4],R[O+z+1]=_[5],z+=P;const F=O/P;I[L++]=F,I[L++]=F+1,I[L++]=F+2,I[L++]=F+1,I[L++]=F+3,I[L++]=F+2}},buildTriangle={extension:{type:ExtensionType.ShapeBuilder,name:"triangle"},build(_,R){return R[0]=_.x,R[1]=_.y,R[2]=_.x2,R[3]=_.y2,R[4]=_.x3,R[5]=_.y3,!0},triangulate(_,R,P,O,I,L){let z=0;O*=P,R[O+z]=_[0],R[O+z+1]=_[1],z+=P,R[O+z]=_[2],R[O+z+1]=_[3],z+=P,R[O+z]=_[4],R[O+z+1]=_[5];const F=O/P;I[L++]=F,I[L++]=F+1,I[L++]=F+2}},tempTextureMatrix$1=new Matrix,tempRect$2=new Rectangle;function generateTextureMatrix(_,R,P,O){const I=R.matrix?_.copyFrom(R.matrix).invert():_.identity();if(R.textureSpace==="local"){const z=P.getBounds(tempRect$2);R.width&&z.pad(R.width);const{x:F,y:G}=z,V=1/z.width,Z=1/z.height,Y=-F*V,Q=-G*Z,J=I.a,te=I.b,ne=I.c,ie=I.d;I.a*=V,I.b*=V,I.c*=Z,I.d*=Z,I.tx=Y*J+Q*ne+I.tx,I.ty=Y*te+Q*ie+I.ty}else I.translate(R.texture.frame.x,R.texture.frame.y),I.scale(1/R.texture.source.width,1/R.texture.source.height);const L=R.texture.source.style;return!(R.fill instanceof FillGradient)&&L.addressMode==="clamp-to-edge"&&(L.addressMode="repeat",L.update()),O&&I.append(tempTextureMatrix$1.copyFrom(O).invert()),I}const shapeBuilders={};extensions.handleByMap(ExtensionType.ShapeBuilder,shapeBuilders);extensions.add(buildRectangle,buildPolygon,buildTriangle,buildCircle,buildEllipse,buildRoundedRectangle);const tempRect$1=new Rectangle,tempTextureMatrix=new Matrix;function buildContextBatches(_,R){const{geometryData:P,batches:O}=R;O.length=0,P.indices.length=0,P.vertices.length=0,P.uvs.length=0;for(let I=0;I<_.instructions.length;I++){const L=_.instructions[I];if(L.action==="texture")addTextureToGeometryData(L.data,O,P);else if(L.action==="fill"||L.action==="stroke"){const z=L.action==="stroke",F=L.data.path.shapePath,G=L.data.style,V=L.data.hole;z&&V&&addShapePathToGeometryData(V.shapePath,G,!0,O,P),V&&(F.shapePrimitives[F.shapePrimitives.length-1].holes=V.shapePath.shapePrimitives),addShapePathToGeometryData(F,G,z,O,P)}}}function addTextureToGeometryData(_,R,P){const O=[],I=shapeBuilders.rectangle,L=tempRect$1;L.x=_.dx,L.y=_.dy,L.width=_.dw,L.height=_.dh;const z=_.transform;if(!I.build(L,O))return;const{vertices:F,uvs:G,indices:V}=P,Z=V.length,Y=F.length/2;z&&transformVertices(O,z),I.triangulate(O,F,2,Y,V,Z);const Q=_.image,J=Q.uvs;G.push(J.x0,J.y0,J.x1,J.y1,J.x3,J.y3,J.x2,J.y2);const te=BigPool.get(BatchableGraphics);te.indexOffset=Z,te.indexSize=V.length-Z,te.attributeOffset=Y,te.attributeSize=F.length/2-Y,te.baseColor=_.style,te.alpha=_.alpha,te.texture=Q,te.geometryData=P,R.push(te)}function addShapePathToGeometryData(_,R,P,O,I){const{vertices:L,uvs:z,indices:F}=I;_.shapePrimitives.forEach(({shape:G,transform:V,holes:Z})=>{const Y=[],Q=shapeBuilders[G.type];if(!Q.build(G,Y))return;const J=F.length,te=L.length/2;let ne="triangle-list";if(V&&transformVertices(Y,V),P){const ce=G.closePath??!0,ue=R;ue.pixelLine?(buildPixelLine(Y,ce,L,F),ne="line-list"):buildLine(Y,ue,!1,ce,L,F)}else if(Z){const ce=[],ue=Y.slice();getHoleArrays(Z).forEach(he=>{ce.push(ue.length/2),ue.push(...he)}),triangulateWithHoles(ue,ce,L,2,te,F,J)}else Q.triangulate(Y,L,2,te,F,J);const ie=z.length/2,se=R.texture;if(se!==Texture.WHITE){const ce=generateTextureMatrix(tempTextureMatrix,R,G,V);buildUvs(L,2,te,z,ie,2,L.length/2-te,ce)}else buildSimpleUvs(z,ie,2,L.length/2-te);const oe=BigPool.get(BatchableGraphics);oe.indexOffset=J,oe.indexSize=F.length-J,oe.attributeOffset=te,oe.attributeSize=L.length/2-te,oe.baseColor=R.color,oe.alpha=R.alpha,oe.texture=se,oe.geometryData=I,oe.topology=ne,O.push(oe)})}function getHoleArrays(_){const R=[];for(let P=0;P<_.length;P++){const O=_[P].shape,I=[];shapeBuilders[O.type].build(O,I)&&R.push(I)}return R}class GpuGraphicsContext{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class GraphicsContextRenderData{constructor(){this.instructions=new InstructionSet}init(R){const P=R.maxTextures;this.batcher?this.batcher._updateMaxTextures(P):this.batcher=new DefaultBatcher({maxTextures:P}),this.instructions.reset()}get geometry(){return deprecation(v8_3_4,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const _GraphicsContextSystem=class yc{constructor(R){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=R,R.renderableGC.addManagedHash(this,"_gpuContextHash"),R.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(R){yc.defaultOptions.bezierSmoothness=R?.bezierSmoothness??yc.defaultOptions.bezierSmoothness}getContextRenderData(R){return this._graphicsDataContextHash[R.uid]||this._initContextRenderData(R)}updateGpuContext(R){let P=this._gpuContextHash[R.uid]||this._initContext(R);if(R.dirty){P?this._cleanGraphicsContextData(R):P=this._initContext(R),buildContextBatches(R,P);const O=R.batchMode;R.customShader||O==="no-batch"?P.isBatchable=!1:O==="auto"?P.isBatchable=P.geometryData.vertices.length<400:P.isBatchable=!0,R.dirty=!1}return P}getGpuContext(R){return this._gpuContextHash[R.uid]||this._initContext(R)}_initContextRenderData(R){const P=BigPool.get(GraphicsContextRenderData,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:O,geometryData:I}=this._gpuContextHash[R.uid],L=I.vertices.length,z=I.indices.length;for(let Z=0;Z<O.length;Z++)O[Z].applyTransform=!1;const F=P.batcher;F.ensureAttributeBuffer(L),F.ensureIndexBuffer(z),F.begin();for(let Z=0;Z<O.length;Z++){const Y=O[Z];F.add(Y)}F.finish(P.instructions);const G=F.geometry;G.indexBuffer.setDataWithSize(F.indexBuffer,F.indexSize,!0),G.buffers[0].setDataWithSize(F.attributeBuffer.float32View,F.attributeSize,!0);const V=F.batches;for(let Z=0;Z<V.length;Z++){const Y=V[Z];Y.bindGroup=getTextureBatchBindGroup(Y.textures.textures,Y.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[R.uid]=P,P}_initContext(R){const P=new GpuGraphicsContext;return P.context=R,this._gpuContextHash[R.uid]=P,R.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[R.uid]}onGraphicsContextDestroy(R){this._cleanGraphicsContextData(R),R.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[R.uid]=null}_cleanGraphicsContextData(R){const P=this._gpuContextHash[R.uid];P.isBatchable||this._graphicsDataContextHash[R.uid]&&(BigPool.return(this.getContextRenderData(R)),this._graphicsDataContextHash[R.uid]=null),P.batches&&P.batches.forEach(O=>{BigPool.return(O)})}destroy(){for(const R in this._gpuContextHash)this._gpuContextHash[R]&&this.onGraphicsContextDestroy(this._gpuContextHash[R].context);this._gpuContextHash={},this._graphicsDataContextHash={},this._renderer=null}};_GraphicsContextSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem,ExtensionType.CanvasSystem],name:"graphicsContext"};_GraphicsContextSystem.defaultOptions={bezierSmoothness:.5};let GraphicsContextSystem=_GraphicsContextSystem;const RECURSION_LIMIT$1=8,FLT_EPSILON$1=11920929e-14,PATH_DISTANCE_EPSILON$1=1;function buildAdaptiveBezier(_,R,P,O,I,L,z,F,G,V){const Y=Math.min(.99,Math.max(0,V??GraphicsContextSystem.defaultOptions.bezierSmoothness));let Q=(PATH_DISTANCE_EPSILON$1-Y)/1;return Q*=Q,begin$1(R,P,O,I,L,z,F,G,_,Q),_}function begin$1(_,R,P,O,I,L,z,F,G,V){recursive$1(_,R,P,O,I,L,z,F,G,V,0),G.push(z,F)}function recursive$1(_,R,P,O,I,L,z,F,G,V,Z){if(Z>RECURSION_LIMIT$1)return;const Y=(_+P)/2,Q=(R+O)/2,J=(P+I)/2,te=(O+L)/2,ne=(I+z)/2,ie=(L+F)/2,se=(Y+J)/2,oe=(Q+te)/2,ce=(J+ne)/2,ue=(te+ie)/2,me=(se+ce)/2,he=(oe+ue)/2;if(Z>0){let fe=z-_,de=F-R;const pe=Math.abs((P-z)*de-(O-F)*fe),be=Math.abs((I-z)*de-(L-F)*fe);if(pe>FLT_EPSILON$1&&be>FLT_EPSILON$1){if((pe+be)*(pe+be)<=V*(fe*fe+de*de)){G.push(me,he);return}}else if(pe>FLT_EPSILON$1){if(pe*pe<=V*(fe*fe+de*de)){G.push(me,he);return}}else if(be>FLT_EPSILON$1){if(be*be<=V*(fe*fe+de*de)){G.push(me,he);return}}else if(fe=me-(_+z)/2,de=he-(R+F)/2,fe*fe+de*de<=V){G.push(me,he);return}}recursive$1(_,R,Y,Q,se,oe,me,he,G,V,Z+1),recursive$1(me,he,ce,ue,ne,ie,z,F,G,V,Z+1)}const RECURSION_LIMIT=8,FLT_EPSILON=11920929e-14,PATH_DISTANCE_EPSILON=1;function buildAdaptiveQuadratic(_,R,P,O,I,L,z,F){const V=Math.min(.99,Math.max(0,F??GraphicsContextSystem.defaultOptions.bezierSmoothness));let Z=(PATH_DISTANCE_EPSILON-V)/1;return Z*=Z,begin(R,P,O,I,L,z,_,Z),_}function begin(_,R,P,O,I,L,z,F){recursive(z,_,R,P,O,I,L,F,0),z.push(I,L)}function recursive(_,R,P,O,I,L,z,F,G){if(G>RECURSION_LIMIT)return;const V=(R+O)/2,Z=(P+I)/2,Y=(O+L)/2,Q=(I+z)/2,J=(V+Y)/2,te=(Z+Q)/2;let ne=L-R,ie=z-P;const se=Math.abs((O-L)*ie-(I-z)*ne);if(se>FLT_EPSILON){if(se*se<=F*(ne*ne+ie*ie)){_.push(J,te);return}}else if(ne=J-(R+L)/2,ie=te-(P+z)/2,ne*ne+ie*ie<=F){_.push(J,te);return}recursive(_,R,P,V,Z,J,te,F,G+1),recursive(_,J,te,Y,Q,L,z,F,G+1)}function buildArc(_,R,P,O,I,L,z,F){let G=Math.abs(I-L);(!z&&I>L||z&&L>I)&&(G=2*Math.PI-G),F||(F=Math.max(6,Math.floor(6*Math.pow(O,1/3)*(G/Math.PI)))),F=Math.max(F,3);let V=G/F,Z=I;V*=z?-1:1;for(let Y=0;Y<F+1;Y++){const Q=Math.cos(Z),J=Math.sin(Z),te=R+Q*O,ne=P+J*O;_.push(te,ne),Z+=V}}function buildArcTo(_,R,P,O,I,L){const z=_[_.length-2],G=_[_.length-1]-P,V=z-R,Z=I-P,Y=O-R,Q=Math.abs(G*Y-V*Z);if(Q<1e-8||L===0){(_[_.length-2]!==R||_[_.length-1]!==P)&&_.push(R,P);return}const J=G*G+V*V,te=Z*Z+Y*Y,ne=G*Z+V*Y,ie=L*Math.sqrt(J)/Q,se=L*Math.sqrt(te)/Q,oe=ie*ne/J,ce=se*ne/te,ue=ie*Y+se*V,me=ie*Z+se*G,he=V*(se+oe),fe=G*(se+oe),de=Y*(ie+ce),pe=Z*(ie+ce),be=Math.atan2(fe-me,he-ue),ye=Math.atan2(pe-me,de-ue);buildArc(_,ue+R,me+P,L,be,ye,V*Z>Y*G)}const TAU=Math.PI*2,out={centerX:0,centerY:0,ang1:0,ang2:0},mapToEllipse=({x:_,y:R},P,O,I,L,z,F,G)=>{_*=P,R*=O;const V=I*_-L*R,Z=L*_+I*R;return G.x=V+z,G.y=Z+F,G};function approxUnitArc(_,R){const P=R===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(R/4),O=R===1.5707963267948966?.551915024494:P,I=Math.cos(_),L=Math.sin(_),z=Math.cos(_+R),F=Math.sin(_+R);return[{x:I-L*O,y:L+I*O},{x:z+F*O,y:F-z*O},{x:z,y:F}]}const vectorAngle=(_,R,P,O)=>{const I=_*O-R*P<0?-1:1;let L=_*P+R*O;return L>1&&(L=1),L<-1&&(L=-1),I*Math.acos(L)},getArcCenter=(_,R,P,O,I,L,z,F,G,V,Z,Y,Q)=>{const J=Math.pow(I,2),te=Math.pow(L,2),ne=Math.pow(Z,2),ie=Math.pow(Y,2);let se=J*te-J*ie-te*ne;se<0&&(se=0),se/=J*ie+te*ne,se=Math.sqrt(se)*(z===F?-1:1);const oe=se*I/L*Y,ce=se*-L/I*Z,ue=V*oe-G*ce+(_+P)/2,me=G*oe+V*ce+(R+O)/2,he=(Z-oe)/I,fe=(Y-ce)/L,de=(-Z-oe)/I,pe=(-Y-ce)/L,be=vectorAngle(1,0,he,fe);let ye=vectorAngle(he,fe,de,pe);F===0&&ye>0&&(ye-=TAU),F===1&&ye<0&&(ye+=TAU),Q.centerX=ue,Q.centerY=me,Q.ang1=be,Q.ang2=ye};function buildArcToSvg(_,R,P,O,I,L,z,F=0,G=0,V=0){if(L===0||z===0)return;const Z=Math.sin(F*TAU/360),Y=Math.cos(F*TAU/360),Q=Y*(R-O)/2+Z*(P-I)/2,J=-Z*(R-O)/2+Y*(P-I)/2;if(Q===0&&J===0)return;L=Math.abs(L),z=Math.abs(z);const te=Math.pow(Q,2)/Math.pow(L,2)+Math.pow(J,2)/Math.pow(z,2);te>1&&(L*=Math.sqrt(te),z*=Math.sqrt(te)),getArcCenter(R,P,O,I,L,z,G,V,Z,Y,Q,J,out);let{ang1:ne,ang2:ie}=out;const{centerX:se,centerY:oe}=out;let ce=Math.abs(ie)/(TAU/4);Math.abs(1-ce)<1e-7&&(ce=1);const ue=Math.max(Math.ceil(ce),1);ie/=ue;let me=_[_.length-2],he=_[_.length-1];const fe={x:0,y:0};for(let de=0;de<ue;de++){const pe=approxUnitArc(ne,ie),{x:be,y:ye}=mapToEllipse(pe[0],L,z,Y,Z,se,oe,fe),{x:we,y:ve}=mapToEllipse(pe[1],L,z,Y,Z,se,oe,fe),{x:Ae,y:Ce}=mapToEllipse(pe[2],L,z,Y,Z,se,oe,fe);buildAdaptiveBezier(_,me,he,be,ye,we,ve,Ae,Ce),me=Ae,he=Ce,ne+=ie}}function roundedShapeArc(_,R,P){const O=(z,F)=>{const G=F.x-z.x,V=F.y-z.y,Z=Math.sqrt(G*G+V*V),Y=G/Z,Q=V/Z;return{len:Z,nx:Y,ny:Q}},I=(z,F)=>{z===0?_.moveTo(F.x,F.y):_.lineTo(F.x,F.y)};let L=R[R.length-1];for(let z=0;z<R.length;z++){const F=R[z%R.length],G=F.radius??P;if(G<=0){I(z,F),L=F;continue}const V=R[(z+1)%R.length],Z=O(F,L),Y=O(F,V);if(Z.len<1e-4||Y.len<1e-4){I(z,F),L=F;continue}let Q=Math.asin(Z.nx*Y.ny-Z.ny*Y.nx),J=1,te=!1;Z.nx*Y.nx-Z.ny*-Y.ny<0?Q<0?Q=Math.PI+Q:(Q=Math.PI-Q,J=-1,te=!0):Q>0&&(J=-1,te=!0);const ne=Q/2;let ie,se=Math.abs(Math.cos(ne)*G/Math.sin(ne));se>Math.min(Z.len/2,Y.len/2)?(se=Math.min(Z.len/2,Y.len/2),ie=Math.abs(se*Math.sin(ne)/Math.cos(ne))):ie=G;const oe=F.x+Y.nx*se+-Y.ny*ie*J,ce=F.y+Y.ny*se+Y.nx*ie*J,ue=Math.atan2(Z.ny,Z.nx)+Math.PI/2*J,me=Math.atan2(Y.ny,Y.nx)-Math.PI/2*J;z===0&&_.moveTo(oe+Math.cos(ue)*ie,ce+Math.sin(ue)*ie),_.arc(oe,ce,ie,ue,me,te),L=F}}function roundedShapeQuadraticCurve(_,R,P,O){const I=(F,G)=>Math.sqrt((F.x-G.x)**2+(F.y-G.y)**2),L=(F,G,V)=>({x:F.x+(G.x-F.x)*V,y:F.y+(G.y-F.y)*V}),z=R.length;for(let F=0;F<z;F++){const G=R[(F+1)%z],V=G.radius??P;if(V<=0){F===0?_.moveTo(G.x,G.y):_.lineTo(G.x,G.y);continue}const Z=R[F],Y=R[(F+2)%z],Q=I(Z,G);let J;if(Q<1e-4)J=G;else{const ie=Math.min(Q/2,V);J=L(G,Z,ie/Q)}const te=I(Y,G);let ne;if(te<1e-4)ne=G;else{const ie=Math.min(te/2,V);ne=L(G,Y,ie/te)}F===0?_.moveTo(J.x,J.y):_.lineTo(J.x,J.y),_.quadraticCurveTo(G.x,G.y,ne.x,ne.y,O)}}const tempRectangle=new Rectangle;class ShapePath{constructor(R){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Bounds,this._graphicsPath2D=R,this.signed=R.checkForHoles}moveTo(R,P){return this.startPoly(R,P),this}lineTo(R,P){this._ensurePoly();const O=this._currentPoly.points,I=O[O.length-2],L=O[O.length-1];return(I!==R||L!==P)&&O.push(R,P),this}arc(R,P,O,I,L,z){this._ensurePoly(!1);const F=this._currentPoly.points;return buildArc(F,R,P,O,I,L,z),this}arcTo(R,P,O,I,L){this._ensurePoly();const z=this._currentPoly.points;return buildArcTo(z,R,P,O,I,L),this}arcToSvg(R,P,O,I,L,z,F){const G=this._currentPoly.points;return buildArcToSvg(G,this._currentPoly.lastX,this._currentPoly.lastY,z,F,R,P,O,I,L),this}bezierCurveTo(R,P,O,I,L,z,F){this._ensurePoly();const G=this._currentPoly;return buildAdaptiveBezier(this._currentPoly.points,G.lastX,G.lastY,R,P,O,I,L,z,F),this}quadraticCurveTo(R,P,O,I,L){this._ensurePoly();const z=this._currentPoly;return buildAdaptiveQuadratic(this._currentPoly.points,z.lastX,z.lastY,R,P,O,I,L),this}closePath(){return this.endPoly(!0),this}addPath(R,P){this.endPoly(),P&&!P.isIdentity()&&(R=R.clone(!0),R.transform(P));const O=this.shapePrimitives,I=O.length;for(let L=0;L<R.instructions.length;L++){const z=R.instructions[L];this[z.action](...z.data)}if(R.checkForHoles&&O.length-I>1){let L=null;for(let z=I;z<O.length;z++){const F=O[z];if(F.shape.type==="polygon"){const G=F.shape,V=L?.shape;V&&V.containsPolygon(G)?(L.holes||(L.holes=[]),L.holes.push(F),O.copyWithin(z,z+1),O.length--,z--):L=F}}}return this}finish(R=!1){this.endPoly(R)}rect(R,P,O,I,L){return this.drawShape(new Rectangle(R,P,O,I),L),this}circle(R,P,O,I){return this.drawShape(new Circle(R,P,O),I),this}poly(R,P,O){const I=new Polygon(R);return I.closePath=P,this.drawShape(I,O),this}regularPoly(R,P,O,I,L=0,z){I=Math.max(I|0,3);const F=-1*Math.PI/2+L,G=Math.PI*2/I,V=[];for(let Z=0;Z<I;Z++){const Y=F-Z*G;V.push(R+O*Math.cos(Y),P+O*Math.sin(Y))}return this.poly(V,!0,z),this}roundPoly(R,P,O,I,L,z=0,F){if(I=Math.max(I|0,3),L<=0)return this.regularPoly(R,P,O,I,z);const G=O*Math.sin(Math.PI/I)-.001;L=Math.min(L,G);const V=-1*Math.PI/2+z,Z=Math.PI*2/I,Y=(I-2)*Math.PI/I/2;for(let Q=0;Q<I;Q++){const J=Q*Z+V,te=R+O*Math.cos(J),ne=P+O*Math.sin(J),ie=J+Math.PI+Y,se=J-Math.PI-Y,oe=te+L*Math.cos(ie),ce=ne+L*Math.sin(ie),ue=te+L*Math.cos(se),me=ne+L*Math.sin(se);Q===0?this.moveTo(oe,ce):this.lineTo(oe,ce),this.quadraticCurveTo(te,ne,ue,me,F)}return this.closePath()}roundShape(R,P,O=!1,I){return R.length<3?this:(O?roundedShapeQuadraticCurve(this,R,P,I):roundedShapeArc(this,R,P),this.closePath())}filletRect(R,P,O,I,L){if(L===0)return this.rect(R,P,O,I);const z=Math.min(O,I)/2,F=Math.min(z,Math.max(-z,L)),G=R+O,V=P+I,Z=F<0?-F:0,Y=Math.abs(F);return this.moveTo(R,P+Y).arcTo(R+Z,P+Z,R+Y,P,Y).lineTo(G-Y,P).arcTo(G-Z,P+Z,G,P+Y,Y).lineTo(G,V-Y).arcTo(G-Z,V-Z,R+O-Y,V,Y).lineTo(R+Y,V).arcTo(R+Z,V-Z,R,V-Y,Y).closePath()}chamferRect(R,P,O,I,L,z){if(L<=0)return this.rect(R,P,O,I);const F=Math.min(L,Math.min(O,I)/2),G=R+O,V=P+I,Z=[R+F,P,G-F,P,G,P+F,G,V-F,G-F,V,R+F,V,R,V-F,R,P+F];for(let Y=Z.length-1;Y>=2;Y-=2)Z[Y]===Z[Y-2]&&Z[Y-1]===Z[Y-3]&&Z.splice(Y-1,2);return this.poly(Z,!0,z)}ellipse(R,P,O,I,L){return this.drawShape(new Ellipse(R,P,O,I),L),this}roundRect(R,P,O,I,L,z){return this.drawShape(new RoundedRectangle(R,P,O,I,L),z),this}drawShape(R,P){return this.endPoly(),this.shapePrimitives.push({shape:R,transform:P}),this}startPoly(R,P){let O=this._currentPoly;return O&&this.endPoly(),O=new Polygon,O.points.push(R,P),this._currentPoly=O,this}endPoly(R=!1){const P=this._currentPoly;return P&&P.points.length>2&&(P.closePath=R,this.shapePrimitives.push({shape:P})),this._currentPoly=null,this}_ensurePoly(R=!0){if(!this._currentPoly&&(this._currentPoly=new Polygon,R)){const P=this.shapePrimitives[this.shapePrimitives.length-1];if(P){let O=P.shape.x,I=P.shape.y;if(P.transform&&!P.transform.isIdentity()){const L=P.transform,z=O;O=L.a*O+L.c*I+L.tx,I=L.b*z+L.d*I+L.ty}this._currentPoly.points.push(O,I)}else this._currentPoly.points.push(0,0)}}buildPath(){const R=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let P=0;P<R.instructions.length;P++){const O=R.instructions[P];this[O.action](...O.data)}this.finish()}get bounds(){const R=this._bounds;R.clear();const P=this.shapePrimitives;for(let O=0;O<P.length;O++){const I=P[O],L=I.shape.getBounds(tempRectangle);I.transform?R.addRect(L,I.transform):R.addRect(L)}return R}}class GraphicsPath{constructor(R,P=!1){this.instructions=[],this.uid=uid("graphicsPath"),this._dirty=!0,this.checkForHoles=P,typeof R=="string"?parseSVGPath(R,this):this.instructions=R?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new ShapePath(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(R,P){return R=R.clone(),this.instructions.push({action:"addPath",data:[R,P]}),this._dirty=!0,this}arc(...R){return this.instructions.push({action:"arc",data:R}),this._dirty=!0,this}arcTo(...R){return this.instructions.push({action:"arcTo",data:R}),this._dirty=!0,this}arcToSvg(...R){return this.instructions.push({action:"arcToSvg",data:R}),this._dirty=!0,this}bezierCurveTo(...R){return this.instructions.push({action:"bezierCurveTo",data:R}),this._dirty=!0,this}bezierCurveToShort(R,P,O,I,L){const z=this.instructions[this.instructions.length-1],F=this.getLastPoint(Point.shared);let G=0,V=0;if(!z||z.action!=="bezierCurveTo")G=F.x,V=F.y;else{G=z.data[2],V=z.data[3];const Z=F.x,Y=F.y;G=Z+(Z-G),V=Y+(Y-V)}return this.instructions.push({action:"bezierCurveTo",data:[G,V,R,P,O,I,L]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...R){return this.instructions.push({action:"ellipse",data:R}),this._dirty=!0,this}lineTo(...R){return this.instructions.push({action:"lineTo",data:R}),this._dirty=!0,this}moveTo(...R){return this.instructions.push({action:"moveTo",data:R}),this}quadraticCurveTo(...R){return this.instructions.push({action:"quadraticCurveTo",data:R}),this._dirty=!0,this}quadraticCurveToShort(R,P,O){const I=this.instructions[this.instructions.length-1],L=this.getLastPoint(Point.shared);let z=0,F=0;if(!I||I.action!=="quadraticCurveTo")z=L.x,F=L.y;else{z=I.data[0],F=I.data[1];const G=L.x,V=L.y;z=G+(G-z),F=V+(V-F)}return this.instructions.push({action:"quadraticCurveTo",data:[z,F,R,P,O]}),this._dirty=!0,this}rect(R,P,O,I,L){return this.instructions.push({action:"rect",data:[R,P,O,I,L]}),this._dirty=!0,this}circle(R,P,O,I){return this.instructions.push({action:"circle",data:[R,P,O,I]}),this._dirty=!0,this}roundRect(...R){return this.instructions.push({action:"roundRect",data:R}),this._dirty=!0,this}poly(...R){return this.instructions.push({action:"poly",data:R}),this._dirty=!0,this}regularPoly(...R){return this.instructions.push({action:"regularPoly",data:R}),this._dirty=!0,this}roundPoly(...R){return this.instructions.push({action:"roundPoly",data:R}),this._dirty=!0,this}roundShape(...R){return this.instructions.push({action:"roundShape",data:R}),this._dirty=!0,this}filletRect(...R){return this.instructions.push({action:"filletRect",data:R}),this._dirty=!0,this}chamferRect(...R){return this.instructions.push({action:"chamferRect",data:R}),this._dirty=!0,this}star(R,P,O,I,L,z,F){L||(L=I/2);const G=-1*Math.PI/2+z,V=O*2,Z=Math.PI*2/V,Y=[];for(let Q=0;Q<V;Q++){const J=Q%2?L:I,te=Q*Z+G;Y.push(R+J*Math.cos(te),P+J*Math.sin(te))}return this.poly(Y,!0,F),this}clone(R=!1){const P=new GraphicsPath;if(P.checkForHoles=this.checkForHoles,!R)P.instructions=this.instructions.slice();else for(let O=0;O<this.instructions.length;O++){const I=this.instructions[O];P.instructions.push({action:I.action,data:I.data.slice()})}return P}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(R){if(R.isIdentity())return this;const P=R.a,O=R.b,I=R.c,L=R.d,z=R.tx,F=R.ty;let G=0,V=0,Z=0,Y=0,Q=0,J=0,te=0,ne=0;for(let ie=0;ie<this.instructions.length;ie++){const se=this.instructions[ie],oe=se.data;switch(se.action){case"moveTo":case"lineTo":G=oe[0],V=oe[1],oe[0]=P*G+I*V+z,oe[1]=O*G+L*V+F;break;case"bezierCurveTo":Z=oe[0],Y=oe[1],Q=oe[2],J=oe[3],G=oe[4],V=oe[5],oe[0]=P*Z+I*Y+z,oe[1]=O*Z+L*Y+F,oe[2]=P*Q+I*J+z,oe[3]=O*Q+L*J+F,oe[4]=P*G+I*V+z,oe[5]=O*G+L*V+F;break;case"quadraticCurveTo":Z=oe[0],Y=oe[1],G=oe[2],V=oe[3],oe[0]=P*Z+I*Y+z,oe[1]=O*Z+L*Y+F,oe[2]=P*G+I*V+z,oe[3]=O*G+L*V+F;break;case"arcToSvg":G=oe[5],V=oe[6],te=oe[0],ne=oe[1],oe[0]=P*te+I*ne,oe[1]=O*te+L*ne,oe[5]=P*G+I*V+z,oe[6]=O*G+L*V+F;break;case"circle":oe[4]=adjustTransform(oe[3],R);break;case"rect":oe[4]=adjustTransform(oe[4],R);break;case"ellipse":oe[8]=adjustTransform(oe[8],R);break;case"roundRect":oe[5]=adjustTransform(oe[5],R);break;case"addPath":oe[0].transform(R);break;case"poly":oe[2]=adjustTransform(oe[2],R);break;default:warn$1("unknown transform action",se.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(R){let P=this.instructions.length-1,O=this.instructions[P];if(!O)return R.x=0,R.y=0,R;for(;O.action==="closePath";){if(P--,P<0)return R.x=0,R.y=0,R;O=this.instructions[P]}switch(O.action){case"moveTo":case"lineTo":R.x=O.data[0],R.y=O.data[1];break;case"quadraticCurveTo":R.x=O.data[2],R.y=O.data[3];break;case"bezierCurveTo":R.x=O.data[4],R.y=O.data[5];break;case"arc":case"arcToSvg":R.x=O.data[5],R.y=O.data[6];break;case"addPath":O.data[0].getLastPoint(R);break}return R}}function adjustTransform(_,R){return _?_.prepend(R):R.clone()}function parseSVGFloatAttribute(_,R,P){const O=_.getAttribute(R);return O?Number(O):P}function parseSVGDefinitions(_,R){const P=_.querySelectorAll("defs");for(let O=0;O<P.length;O++){const I=P[O];for(let L=0;L<I.children.length;L++){const z=I.children[L];switch(z.nodeName.toLowerCase()){case"lineargradient":R.defs[z.id]=parseLinearGradient(z);break;case"radialgradient":R.defs[z.id]=parseRadialGradient();break}}}}function parseLinearGradient(_){const R=parseSVGFloatAttribute(_,"x1",0),P=parseSVGFloatAttribute(_,"y1",0),O=parseSVGFloatAttribute(_,"x2",1),I=parseSVGFloatAttribute(_,"y2",0),L=_.getAttribute("gradientUnits")||"objectBoundingBox",z=new FillGradient(R,P,O,I,L==="objectBoundingBox"?"local":"global");for(let F=0;F<_.children.length;F++){const G=_.children[F],V=parseSVGFloatAttribute(G,"offset",0),Z=Color$1.shared.setValue(G.getAttribute("stop-color")).toNumber();z.addColorStop(V,Z)}return z}function parseRadialGradient(_){return warn$1("[SVG Parser] Radial gradients are not yet supported"),new FillGradient(0,0,1,0)}function extractSvgUrlId(_){const R=_.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return R?R[1]:""}const styleAttributes={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function parseSVGStyle(_,R){const P=_.getAttribute("style"),O={},I={},L={strokeStyle:O,fillStyle:I,useFill:!1,useStroke:!1};for(const z in styleAttributes){const F=_.getAttribute(z);F&&parseAttribute(R,L,z,F.trim())}if(P){const z=P.split(";");for(let F=0;F<z.length;F++){const G=z[F].trim(),[V,Z]=G.split(":");styleAttributes[V]&&parseAttribute(R,L,V,Z.trim())}}return{strokeStyle:L.useStroke?O:null,fillStyle:L.useFill?I:null,useFill:L.useFill,useStroke:L.useStroke}}function parseAttribute(_,R,P,O){switch(P){case"stroke":if(O!=="none"){if(O.startsWith("url(")){const I=extractSvgUrlId(O);R.strokeStyle.fill=_.defs[I]}else R.strokeStyle.color=Color$1.shared.setValue(O).toNumber();R.useStroke=!0}break;case"stroke-width":R.strokeStyle.width=Number(O);break;case"fill":if(O!=="none"){if(O.startsWith("url(")){const I=extractSvgUrlId(O);R.fillStyle.fill=_.defs[I]}else R.fillStyle.color=Color$1.shared.setValue(O).toNumber();R.useFill=!0}break;case"fill-opacity":R.fillStyle.alpha=Number(O);break;case"stroke-opacity":R.strokeStyle.alpha=Number(O);break;case"opacity":R.fillStyle.alpha=Number(O),R.strokeStyle.alpha=Number(O);break}}function checkForNestedPattern(_){if(_.length<=2)return!0;const R=_.map(F=>F.area).sort((F,G)=>G-F),[P,O]=R,I=R[R.length-1],L=P/O,z=O/I;return!(L>3&&z<2)}function extractSubpaths(_){return _.split(/(?=[Mm])/).filter(O=>O.trim().length>0)}function calculatePathArea(_){const R=_.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!R||R.length<4)return 0;const P=R.map(Number),O=[],I=[];for(let Z=0;Z<P.length;Z+=2)Z+1<P.length&&(O.push(P[Z]),I.push(P[Z+1]));if(O.length===0||I.length===0)return 0;const L=Math.min(...O),z=Math.max(...O),F=Math.min(...I),G=Math.max(...I);return(z-L)*(G-F)}function appendSVGPath(_,R){const P=new GraphicsPath(_,!1);for(const O of P.instructions)R.instructions.push(O)}function SVGParser(_,R){if(typeof _=="string"){const z=document.createElement("div");z.innerHTML=_.trim(),_=z.querySelector("svg")}const P={context:R,defs:{},path:new GraphicsPath};parseSVGDefinitions(_,P);const O=_.children,{fillStyle:I,strokeStyle:L}=parseSVGStyle(_,P);for(let z=0;z<O.length;z++){const F=O[z];F.nodeName.toLowerCase()!=="defs"&&renderChildren(F,P,I,L)}return R}function renderChildren(_,R,P,O){const I=_.children,{fillStyle:L,strokeStyle:z}=parseSVGStyle(_,R);L&&P?P={...P,...L}:L&&(P=L),z&&O?O={...O,...z}:z&&(O=z);const F=!P&&!O;F&&(P={color:0});let G,V,Z,Y,Q,J,te,ne,ie,se,oe,ce,ue,me,he,fe,de;switch(_.nodeName.toLowerCase()){case"path":{me=_.getAttribute("d");const pe=_.getAttribute("fill-rule"),be=extractSubpaths(me),ye=pe==="evenodd",we=be.length>1;if(ye&&we){const Ae=be.map(_e=>({path:_e,area:calculatePathArea(_e)}));if(Ae.sort((_e,Re)=>Re.area-_e.area),be.length>3||!checkForNestedPattern(Ae))for(let _e=0;_e<Ae.length;_e++){const Re=Ae[_e],Me=_e===0;R.context.beginPath();const $e=new GraphicsPath(void 0,!0);appendSVGPath(Re.path,$e),R.context.path($e),Me?(P&&R.context.fill(P),O&&R.context.stroke(O)):R.context.cut()}else for(let _e=0;_e<Ae.length;_e++){const Re=Ae[_e],Me=_e%2===1;R.context.beginPath();const $e=new GraphicsPath(void 0,!0);appendSVGPath(Re.path,$e),R.context.path($e),Me?R.context.cut():(P&&R.context.fill(P),O&&R.context.stroke(O))}}else{const Ae=pe?pe==="evenodd":!0;he=new GraphicsPath(me,Ae),R.context.path(he),P&&R.context.fill(P),O&&R.context.stroke(O)}break}case"circle":te=parseSVGFloatAttribute(_,"cx",0),ne=parseSVGFloatAttribute(_,"cy",0),ie=parseSVGFloatAttribute(_,"r",0),R.context.ellipse(te,ne,ie,ie),P&&R.context.fill(P),O&&R.context.stroke(O);break;case"rect":G=parseSVGFloatAttribute(_,"x",0),V=parseSVGFloatAttribute(_,"y",0),fe=parseSVGFloatAttribute(_,"width",0),de=parseSVGFloatAttribute(_,"height",0),se=parseSVGFloatAttribute(_,"rx",0),oe=parseSVGFloatAttribute(_,"ry",0),se||oe?R.context.roundRect(G,V,fe,de,se||oe):R.context.rect(G,V,fe,de),P&&R.context.fill(P),O&&R.context.stroke(O);break;case"ellipse":te=parseSVGFloatAttribute(_,"cx",0),ne=parseSVGFloatAttribute(_,"cy",0),se=parseSVGFloatAttribute(_,"rx",0),oe=parseSVGFloatAttribute(_,"ry",0),R.context.beginPath(),R.context.ellipse(te,ne,se,oe),P&&R.context.fill(P),O&&R.context.stroke(O);break;case"line":Z=parseSVGFloatAttribute(_,"x1",0),Y=parseSVGFloatAttribute(_,"y1",0),Q=parseSVGFloatAttribute(_,"x2",0),J=parseSVGFloatAttribute(_,"y2",0),R.context.beginPath(),R.context.moveTo(Z,Y),R.context.lineTo(Q,J),O&&R.context.stroke(O);break;case"polygon":ue=_.getAttribute("points"),ce=ue.match(/\d+/g).map(pe=>parseInt(pe,10)),R.context.poly(ce,!0),P&&R.context.fill(P),O&&R.context.stroke(O);break;case"polyline":ue=_.getAttribute("points"),ce=ue.match(/\d+/g).map(pe=>parseInt(pe,10)),R.context.poly(ce,!1),O&&R.context.stroke(O);break;case"g":case"svg":break;default:{warn$1(`[SVG parser] <${_.nodeName}> elements unsupported`);break}}F&&(P=null);for(let pe=0;pe<I.length;pe++)renderChildren(I[pe],R,P,O)}function isColorLike(_){return Color$1.isColorLike(_)}function isFillPattern(_){return _ instanceof FillPattern}function isFillGradient(_){return _ instanceof FillGradient}function isTexture(_){return _ instanceof Texture}function handleColorLike(_,R,P){const O=Color$1.shared.setValue(R??0);return _.color=O.toNumber(),_.alpha=O.alpha===1?P.alpha:O.alpha,_.texture=Texture.WHITE,{...P,..._}}function handleTexture(_,R,P){return _.texture=R,{...P,..._}}function handleFillPattern(_,R,P){return _.fill=R,_.color=16777215,_.texture=R.texture,_.matrix=R.transform,{...P,..._}}function handleFillGradient(_,R,P){return R.buildGradient(),_.fill=R,_.color=16777215,_.texture=R.texture,_.matrix=R.transform,_.textureSpace=R.textureSpace,{...P,..._}}function handleFillObject(_,R){const P={...R,..._},O=Color$1.shared.setValue(P.color);return P.alpha*=O.alpha,P.color=O.toNumber(),P}function toFillStyle(_,R){if(_==null)return null;const P={},O=_;return isColorLike(_)?handleColorLike(P,_,R):isTexture(_)?handleTexture(P,_,R):isFillPattern(_)?handleFillPattern(P,_,R):isFillGradient(_)?handleFillGradient(P,_,R):O.fill&&isFillPattern(O.fill)?handleFillPattern(O,O.fill,R):O.fill&&isFillGradient(O.fill)?handleFillGradient(O,O.fill,R):handleFillObject(O,R)}function toStrokeStyle(_,R){const{width:P,alignment:O,miterLimit:I,cap:L,join:z,pixelLine:F,...G}=R,V=toFillStyle(_,G);return V?{width:P,alignment:O,miterLimit:I,cap:L,join:z,pixelLine:F,...V}:null}const tmpPoint=new Point,tempMatrix=new Matrix,_GraphicsContext=class Gn extends EventEmitter{constructor(){super(...arguments),this.uid=uid("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new GraphicsPath,this._transform=new Matrix,this._fillStyle={...Gn.defaultFillStyle},this._strokeStyle={...Gn.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Bounds,this._boundsDirty=!0}clone(){const R=new Gn;return R.batchMode=this.batchMode,R.instructions=this.instructions.slice(),R._activePath=this._activePath.clone(),R._transform=this._transform.clone(),R._fillStyle={...this._fillStyle},R._strokeStyle={...this._strokeStyle},R._stateStack=this._stateStack.slice(),R._bounds=this._bounds.clone(),R._boundsDirty=!0,R}get fillStyle(){return this._fillStyle}set fillStyle(R){this._fillStyle=toFillStyle(R,Gn.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(R){this._strokeStyle=toStrokeStyle(R,Gn.defaultStrokeStyle)}setFillStyle(R){return this._fillStyle=toFillStyle(R,Gn.defaultFillStyle),this}setStrokeStyle(R){return this._strokeStyle=toFillStyle(R,Gn.defaultStrokeStyle),this}texture(R,P,O,I,L,z){return this.instructions.push({action:"texture",data:{image:R,dx:O||0,dy:I||0,dw:L||R.frame.width,dh:z||R.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:P?Color$1.shared.setValue(P).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new GraphicsPath,this}fill(R,P){let O;const I=this.instructions[this.instructions.length-1];return this._tick===0&&I?.action==="stroke"?O=I.data.path:O=this._activePath.clone(),O?(R!=null&&(P!==void 0&&typeof R=="number"&&(deprecation(v8_0_0,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),R={color:R,alpha:P}),this._fillStyle=toFillStyle(R,Gn.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:O}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:R,y:P}=this._activePath.getLastPoint(Point.shared);this._activePath.clear(),this._activePath.moveTo(R,P)}stroke(R){let P;const O=this.instructions[this.instructions.length-1];return this._tick===0&&O?.action==="fill"?P=O.data.path:P=this._activePath.clone(),P?(R!=null&&(this._strokeStyle=toStrokeStyle(R,Gn.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:P}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let R=0;R<2;R++){const P=this.instructions[this.instructions.length-1-R],O=this._activePath.clone();if(P&&(P.action==="stroke"||P.action==="fill"))if(P.data.hole)P.data.hole.addPath(O);else{P.data.hole=O;break}}return this._initNextPathLocation(),this}arc(R,P,O,I,L,z){this._tick++;const F=this._transform;return this._activePath.arc(F.a*R+F.c*P+F.tx,F.b*R+F.d*P+F.ty,O,I,L,z),this}arcTo(R,P,O,I,L){this._tick++;const z=this._transform;return this._activePath.arcTo(z.a*R+z.c*P+z.tx,z.b*R+z.d*P+z.ty,z.a*O+z.c*I+z.tx,z.b*O+z.d*I+z.ty,L),this}arcToSvg(R,P,O,I,L,z,F){this._tick++;const G=this._transform;return this._activePath.arcToSvg(R,P,O,I,L,G.a*z+G.c*F+G.tx,G.b*z+G.d*F+G.ty),this}bezierCurveTo(R,P,O,I,L,z,F){this._tick++;const G=this._transform;return this._activePath.bezierCurveTo(G.a*R+G.c*P+G.tx,G.b*R+G.d*P+G.ty,G.a*O+G.c*I+G.tx,G.b*O+G.d*I+G.ty,G.a*L+G.c*z+G.tx,G.b*L+G.d*z+G.ty,F),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(R,P,O,I){return this._tick++,this._activePath.ellipse(R,P,O,I,this._transform.clone()),this}circle(R,P,O){return this._tick++,this._activePath.circle(R,P,O,this._transform.clone()),this}path(R){return this._tick++,this._activePath.addPath(R,this._transform.clone()),this}lineTo(R,P){this._tick++;const O=this._transform;return this._activePath.lineTo(O.a*R+O.c*P+O.tx,O.b*R+O.d*P+O.ty),this}moveTo(R,P){this._tick++;const O=this._transform,I=this._activePath.instructions,L=O.a*R+O.c*P+O.tx,z=O.b*R+O.d*P+O.ty;return I.length===1&&I[0].action==="moveTo"?(I[0].data[0]=L,I[0].data[1]=z,this):(this._activePath.moveTo(L,z),this)}quadraticCurveTo(R,P,O,I,L){this._tick++;const z=this._transform;return this._activePath.quadraticCurveTo(z.a*R+z.c*P+z.tx,z.b*R+z.d*P+z.ty,z.a*O+z.c*I+z.tx,z.b*O+z.d*I+z.ty,L),this}rect(R,P,O,I){return this._tick++,this._activePath.rect(R,P,O,I,this._transform.clone()),this}roundRect(R,P,O,I,L){return this._tick++,this._activePath.roundRect(R,P,O,I,L,this._transform.clone()),this}poly(R,P){return this._tick++,this._activePath.poly(R,P,this._transform.clone()),this}regularPoly(R,P,O,I,L=0,z){return this._tick++,this._activePath.regularPoly(R,P,O,I,L,z),this}roundPoly(R,P,O,I,L,z){return this._tick++,this._activePath.roundPoly(R,P,O,I,L,z),this}roundShape(R,P,O,I){return this._tick++,this._activePath.roundShape(R,P,O,I),this}filletRect(R,P,O,I,L){return this._tick++,this._activePath.filletRect(R,P,O,I,L),this}chamferRect(R,P,O,I,L,z){return this._tick++,this._activePath.chamferRect(R,P,O,I,L,z),this}star(R,P,O,I,L=0,z=0){return this._tick++,this._activePath.star(R,P,O,I,L,z,this._transform.clone()),this}svg(R){return this._tick++,SVGParser(R,this),this}restore(){const R=this._stateStack.pop();return R&&(this._transform=R.transform,this._fillStyle=R.fillStyle,this._strokeStyle=R.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(R){return this._transform.rotate(R),this}scale(R,P=R){return this._transform.scale(R,P),this}setTransform(R,P,O,I,L,z){return R instanceof Matrix?(this._transform.set(R.a,R.b,R.c,R.d,R.tx,R.ty),this):(this._transform.set(R,P,O,I,L,z),this)}transform(R,P,O,I,L,z){return R instanceof Matrix?(this._transform.append(R),this):(tempMatrix.set(R,P,O,I,L,z),this._transform.append(tempMatrix),this)}translate(R,P=R){return this._transform.translate(R,P),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const R=this._bounds;R.clear();for(let P=0;P<this.instructions.length;P++){const O=this.instructions[P],I=O.action;if(I==="fill"){const L=O.data;R.addBounds(L.path.bounds)}else if(I==="texture"){const L=O.data;R.addFrame(L.dx,L.dy,L.dx+L.dw,L.dy+L.dh,L.transform)}if(I==="stroke"){const L=O.data,z=L.style.alignment,F=L.style.width*(1-z),G=L.path.bounds;R.addFrame(G.minX-F,G.minY-F,G.maxX+F,G.maxY+F)}}return R}containsPoint(R){if(!this.bounds.containsPoint(R.x,R.y))return!1;const P=this.instructions;let O=!1;for(let I=0;I<P.length;I++){const L=P[I],z=L.data,F=z.path;if(!L.action||!F)continue;const G=z.style,V=F.shapePath.shapePrimitives;for(let Z=0;Z<V.length;Z++){const Y=V[Z].shape;if(!G||!Y)continue;const Q=V[Z].transform,J=Q?Q.applyInverse(R,tmpPoint):R;if(L.action==="fill")O=Y.contains(J.x,J.y);else{const ne=G;O=Y.strokeContains(J.x,J.y,ne.width,ne.alignment)}const te=z.hole;if(te){const ne=te.shapePath?.shapePrimitives;if(ne)for(let ie=0;ie<ne.length;ie++)ne[ie].shape.contains(J.x,J.y)&&(O=!1)}if(O)return!0}}return O}destroy(R=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof R=="boolean"?R:R?.texture){const O=typeof R=="boolean"?R:R?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(O)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(O))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};_GraphicsContext.defaultFillStyle={color:16777215,alpha:1,texture:Texture.WHITE,matrix:null,fill:null,textureSpace:"local"};_GraphicsContext.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Texture.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let GraphicsContext=_GraphicsContext;const _TextStyle=class Ui extends EventEmitter{constructor(R={}){super(),this.uid=uid("textStyle"),this._tick=0,convertV7Tov8Style(R);const P={...Ui.defaultTextStyle,...R};for(const O in P){const I=O;this[I]=P[O]}this.update(),this._tick=0}get align(){return this._align}set align(R){this._align!==R&&(this._align=R,this.update())}get breakWords(){return this._breakWords}set breakWords(R){this._breakWords!==R&&(this._breakWords=R,this.update())}get dropShadow(){return this._dropShadow}set dropShadow(R){this._dropShadow!==R&&(R!==null&&typeof R=="object"?this._dropShadow=this._createProxy({...Ui.defaultDropShadow,...R}):this._dropShadow=R?this._createProxy({...Ui.defaultDropShadow}):null,this.update())}get fontFamily(){return this._fontFamily}set fontFamily(R){this._fontFamily!==R&&(this._fontFamily=R,this.update())}get fontSize(){return this._fontSize}set fontSize(R){this._fontSize!==R&&(typeof R=="string"?this._fontSize=parseInt(R,10):this._fontSize=R,this.update())}get fontStyle(){return this._fontStyle}set fontStyle(R){this._fontStyle!==R&&(this._fontStyle=R.toLowerCase(),this.update())}get fontVariant(){return this._fontVariant}set fontVariant(R){this._fontVariant!==R&&(this._fontVariant=R,this.update())}get fontWeight(){return this._fontWeight}set fontWeight(R){this._fontWeight!==R&&(this._fontWeight=R,this.update())}get leading(){return this._leading}set leading(R){this._leading!==R&&(this._leading=R,this.update())}get letterSpacing(){return this._letterSpacing}set letterSpacing(R){this._letterSpacing!==R&&(this._letterSpacing=R,this.update())}get lineHeight(){return this._lineHeight}set lineHeight(R){this._lineHeight!==R&&(this._lineHeight=R,this.update())}get padding(){return this._padding}set padding(R){this._padding!==R&&(this._padding=R,this.update())}get filters(){return this._filters}set filters(R){this._filters!==R&&(this._filters=Object.freeze(R),this.update())}get trim(){return this._trim}set trim(R){this._trim!==R&&(this._trim=R,this.update())}get textBaseline(){return this._textBaseline}set textBaseline(R){this._textBaseline!==R&&(this._textBaseline=R,this.update())}get whiteSpace(){return this._whiteSpace}set whiteSpace(R){this._whiteSpace!==R&&(this._whiteSpace=R,this.update())}get wordWrap(){return this._wordWrap}set wordWrap(R){this._wordWrap!==R&&(this._wordWrap=R,this.update())}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(R){this._wordWrapWidth!==R&&(this._wordWrapWidth=R,this.update())}get fill(){return this._originalFill}set fill(R){R!==this._originalFill&&(this._originalFill=R,this._isFillStyle(R)&&(this._originalFill=this._createProxy({...GraphicsContext.defaultFillStyle,...R},()=>{this._fill=toFillStyle({...this._originalFill},GraphicsContext.defaultFillStyle)})),this._fill=toFillStyle(R===0?"black":R,GraphicsContext.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(R){R!==this._originalStroke&&(this._originalStroke=R,this._isFillStyle(R)&&(this._originalStroke=this._createProxy({...GraphicsContext.defaultStrokeStyle,...R},()=>{this._stroke=toStrokeStyle({...this._originalStroke},GraphicsContext.defaultStrokeStyle)})),this._stroke=toStrokeStyle(R,GraphicsContext.defaultStrokeStyle),this.update())}update(){this._tick++,this.emit("update",this)}reset(){const R=Ui.defaultTextStyle;for(const P in R)this[P]=R[P]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new Ui({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let R=0;if(this._filters)for(let P=0;P<this._filters.length;P++)R+=this._filters[P].padding;return Math.max(this._padding,R)}destroy(R=!1){if(this.removeAllListeners(),typeof R=="boolean"?R:R?.texture){const O=typeof R=="boolean"?R:R?.textureSource;this._fill?.texture&&this._fill.texture.destroy(O),this._originalFill?.texture&&this._originalFill.texture.destroy(O),this._stroke?.texture&&this._stroke.texture.destroy(O),this._originalStroke?.texture&&this._originalStroke.texture.destroy(O)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(R,P){return new Proxy(R,{set:(O,I,L)=>(O[I]===L||(O[I]=L,P?.(I,L),this.update()),!0)})}_isFillStyle(R){return(R??null)!==null&&!(Color$1.isColorLike(R)||R instanceof FillGradient||R instanceof FillPattern)}};_TextStyle.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};_TextStyle.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let TextStyle=_TextStyle;function convertV7Tov8Style(_){const R=_;if(typeof R.dropShadow=="boolean"&&R.dropShadow){const P=TextStyle.defaultDropShadow;_.dropShadow={alpha:R.dropShadowAlpha??P.alpha,angle:R.dropShadowAngle??P.angle,blur:R.dropShadowBlur??P.blur,color:R.dropShadowColor??P.color,distance:R.dropShadowDistance??P.distance}}if(R.strokeThickness!==void 0){deprecation(v8_0_0,"strokeThickness is now a part of stroke");const P=R.stroke;let O={};if(Color$1.isColorLike(P))O.color=P;else if(P instanceof FillGradient||P instanceof FillPattern)O.fill=P;else if(Object.hasOwnProperty.call(P,"color")||Object.hasOwnProperty.call(P,"fill"))O=P;else throw new Error("Invalid stroke value.");_.stroke={...O,width:R.strokeThickness}}if(Array.isArray(R.fillGradientStops)){if(deprecation(v8_0_0,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(R.fill)||R.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");R.fill.length!==R.fillGradientStops.length&&warn$1("The number of fill colors must match the number of fill gradient stops.");const P=new FillGradient({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),O=R.fillGradientStops.slice(),I=R.fill.map(L=>Color$1.shared.setValue(L).toNumber());O.forEach((L,z)=>{P.addColorStop(L,I[z])}),_.fill={fill:P}}}class CanvasPoolClass{constructor(R){this._canvasPool=Object.create(null),this.canvasOptions=R||{},this.enableFullScreen=!1}_createCanvasAndContext(R,P){const O=DOMAdapter.get().createCanvas();O.width=R,O.height=P;const I=O.getContext("2d");return{canvas:O,context:I}}getOptimalCanvasAndContext(R,P,O=1){R=Math.ceil(R*O-1e-6),P=Math.ceil(P*O-1e-6),R=nextPow2(R),P=nextPow2(P);const I=(R<<17)+(P<<1);this._canvasPool[I]||(this._canvasPool[I]=[]);let L=this._canvasPool[I].pop();return L||(L=this._createCanvasAndContext(R,P)),L}returnCanvasAndContext(R){const P=R.canvas,{width:O,height:I}=P,L=(O<<17)+(I<<1);R.context.resetTransform(),R.context.clearRect(0,0,O,I),this._canvasPool[L].push(R)}clear(){this._canvasPool={}}}const CanvasPool=new CanvasPoolClass;GlobalResourceRegistry.register(CanvasPool);const PRECISION=1e5;function getCanvasFillStyle(_,R,P,O=0){if(_.texture===Texture.WHITE&&!_.fill)return Color$1.shared.setValue(_.color).setAlpha(_.alpha??1).toHexa();if(_.fill){if(_.fill instanceof FillPattern){const I=_.fill,L=R.createPattern(I.texture.source.resource,"repeat"),z=I.transform.copyTo(Matrix.shared);return z.scale(I.texture.frame.width,I.texture.frame.height),L.setTransform(z),L}else if(_.fill instanceof FillGradient){const I=_.fill,L=I.type==="linear",z=I.textureSpace==="local";let F=1,G=1;z&&P&&(F=P.width+O,G=P.height+O);let V,Z=!1;if(L){const{start:Y,end:Q}=I;V=R.createLinearGradient(Y.x*F,Y.y*G,Q.x*F,Q.y*G),Z=Math.abs(Q.x-Y.x)<Math.abs((Q.y-Y.y)*.1)}else{const{center:Y,innerRadius:Q,outerCenter:J,outerRadius:te}=I;V=R.createRadialGradient(Y.x*F,Y.y*G,Q*F,J.x*F,J.y*G,te*F)}if(Z&&z&&P){const Y=P.lineHeight/G;for(let Q=0;Q<P.lines.length;Q++){const J=(Q*P.lineHeight+O/2)/G;I.colorStops.forEach(te=>{const ne=J+te.offset*Y;V.addColorStop(Math.floor(ne*PRECISION)/PRECISION,Color$1.shared.setValue(te.color).toHex())})}}else I.colorStops.forEach(Y=>{V.addColorStop(Y.offset,Color$1.shared.setValue(Y.color).toHex())});return V}}else{const I=R.createPattern(_.texture.source.resource,"repeat"),L=_.matrix.copyTo(Matrix.shared);return L.scale(_.texture.frame.width,_.texture.frame.height),I.setTransform(L),I}return warn$1("FillStyle not recognised",_),"red"}class Graphics extends ViewContainer{constructor(R){R instanceof GraphicsContext&&(R={context:R});const{context:P,roundPixels:O,...I}=R||{};super({label:"Graphics",...I}),this.renderPipeId="graphics",P?this._context=P:this._context=this._ownedContext=new GraphicsContext,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=O??!1}set context(R){R!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=R,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(R){return this._context.containsPoint(R)}destroy(R){this._ownedContext&&!R?this._ownedContext.destroy(R):(R===!0||R?.context===!0)&&this._context.destroy(R),this._ownedContext=null,this._context=null,super.destroy(R)}_callContextMethod(R,P){return this.context[R](...P),this}setFillStyle(...R){return this._callContextMethod("setFillStyle",R)}setStrokeStyle(...R){return this._callContextMethod("setStrokeStyle",R)}fill(...R){return this._callContextMethod("fill",R)}stroke(...R){return this._callContextMethod("stroke",R)}texture(...R){return this._callContextMethod("texture",R)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...R){return this._callContextMethod("arc",R)}arcTo(...R){return this._callContextMethod("arcTo",R)}arcToSvg(...R){return this._callContextMethod("arcToSvg",R)}bezierCurveTo(...R){return this._callContextMethod("bezierCurveTo",R)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...R){return this._callContextMethod("ellipse",R)}circle(...R){return this._callContextMethod("circle",R)}path(...R){return this._callContextMethod("path",R)}lineTo(...R){return this._callContextMethod("lineTo",R)}moveTo(...R){return this._callContextMethod("moveTo",R)}quadraticCurveTo(...R){return this._callContextMethod("quadraticCurveTo",R)}rect(...R){return this._callContextMethod("rect",R)}roundRect(...R){return this._callContextMethod("roundRect",R)}poly(...R){return this._callContextMethod("poly",R)}regularPoly(...R){return this._callContextMethod("regularPoly",R)}roundPoly(...R){return this._callContextMethod("roundPoly",R)}roundShape(...R){return this._callContextMethod("roundShape",R)}filletRect(...R){return this._callContextMethod("filletRect",R)}chamferRect(...R){return this._callContextMethod("chamferRect",R)}star(...R){return this._callContextMethod("star",R)}svg(...R){return this._callContextMethod("svg",R)}restore(...R){return this._callContextMethod("restore",R)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...R){return this._callContextMethod("rotate",R)}scaleTransform(...R){return this._callContextMethod("scale",R)}setTransform(...R){return this._callContextMethod("setTransform",R)}transform(...R){return this._callContextMethod("transform",R)}translateTransform(...R){return this._callContextMethod("translate",R)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(R){this._context.fillStyle=R}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(R){this._context.strokeStyle=R}clone(R=!1){return R?new Graphics(this._context.clone()):(this._ownedContext=null,new Graphics(this._context))}lineStyle(R,P,O){deprecation(v8_0_0,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const I={};return R&&(I.width=R),P&&(I.color=P),O&&(I.alpha=O),this.context.strokeStyle=I,this}beginFill(R,P){deprecation(v8_0_0,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const O={};return R!==void 0&&(O.color=R),P!==void 0&&(O.alpha=P),this.context.fillStyle=O,this}endFill(){deprecation(v8_0_0,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const R=this.context.strokeStyle;return(R.width!==GraphicsContext.defaultStrokeStyle.width||R.color!==GraphicsContext.defaultStrokeStyle.color||R.alpha!==GraphicsContext.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...R){return deprecation(v8_0_0,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",R)}drawEllipse(...R){return deprecation(v8_0_0,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",R)}drawPolygon(...R){return deprecation(v8_0_0,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",R)}drawRect(...R){return deprecation(v8_0_0,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",R)}drawRoundedRect(...R){return deprecation(v8_0_0,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",R)}drawStar(...R){return deprecation(v8_0_0,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",R)}}class AbstractText extends ViewContainer{constructor(R,P){const{text:O,resolution:I,style:L,anchor:z,width:F,height:G,roundPixels:V,...Z}=R;super({...Z}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=P,this.text=O??"",this.style=L,this.resolution=I??null,this.allowChildren=!1,this._anchor=new ObservablePoint({_onUpdate:()=>{this.onViewUpdate()}}),z&&(this.anchor=z),this.roundPixels=V??!1,F!==void 0&&(this.width=F),G!==void 0&&(this.height=G)}get anchor(){return this._anchor}set anchor(R){typeof R=="number"?this._anchor.set(R):this._anchor.copyFrom(R)}set text(R){R=R.toString(),this._text!==R&&(this._text=R,this.onViewUpdate())}get text(){return this._text}set resolution(R){this._autoResolution=R===null,this._resolution=R,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(R){R||(R={}),this._style?.off("update",this.onViewUpdate,this),R instanceof this._styleClass?this._style=R:this._style=new this._styleClass(R),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(R){this._setWidth(R,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(R){this._setHeight(R,this.bounds.height)}getSize(R){return R||(R={}),R.width=Math.abs(this.scale.x)*this.bounds.width,R.height=Math.abs(this.scale.y)*this.bounds.height,R}setSize(R,P){typeof R=="object"?(P=R.height??R.width,R=R.width):P??(P=R),R!==void 0&&this._setWidth(R,this.bounds.width),P!==void 0&&this._setHeight(P,this.bounds.height)}containsPoint(R){const P=this.bounds.width,O=this.bounds.height,I=-P*this.anchor.x;let L=0;return R.x>=I&&R.x<=I+P&&(L=-O*this.anchor.y,R.y>=L&&R.y<=L+O)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(R=!1){super.destroy(R),this.owner=null,this._bounds=null,this._anchor=null,(typeof R=="boolean"?R:R?.style)&&this._style.destroy(R),this._style=null,this._text=null}get styleKey(){return`${this._text}:${this._style.styleKey}:${this._resolution}`}}function ensureTextOptions(_,R){let P=_[0]??{};return(typeof P=="string"||_[1])&&(deprecation(v8_0_0,`use new ${R}({ text: "hi!", style }) instead`),P={text:P,style:_[1]}),P}let _internalCanvas=null,_internalContext=null;function ensureInternalCanvas(_,R){_internalCanvas||(_internalCanvas=DOMAdapter.get().createCanvas(256,128),_internalContext=_internalCanvas.getContext("2d",{willReadFrequently:!0}),_internalContext.globalCompositeOperation="copy",_internalContext.globalAlpha=1),(_internalCanvas.width<_||_internalCanvas.height<R)&&(_internalCanvas.width=nextPow2(_),_internalCanvas.height=nextPow2(R))}function checkRow(_,R,P){for(let O=0,I=4*P*R;O<R;++O,I+=4)if(_[I+3]!==0)return!1;return!0}function checkColumn(_,R,P,O,I){const L=4*R;for(let z=O,F=O*L+4*P;z<=I;++z,F+=L)if(_[F+3]!==0)return!1;return!0}function getCanvasBoundingBox(..._){let R=_[0];R.canvas||(R={canvas:_[0],resolution:_[1]});const{canvas:P}=R,O=Math.min(R.resolution??1,1),I=R.width??P.width,L=R.height??P.height;let z=R.output;if(ensureInternalCanvas(I,L),!_internalContext)throw new TypeError("Failed to get canvas 2D context");_internalContext.drawImage(P,0,0,I,L,0,0,I*O,L*O);const G=_internalContext.getImageData(0,0,I,L).data;let V=0,Z=0,Y=I-1,Q=L-1;for(;Z<L&&checkRow(G,I,Z);)++Z;if(Z===L)return Rectangle.EMPTY;for(;checkRow(G,I,Q);)--Q;for(;checkColumn(G,I,V,Z,Q);)++V;for(;checkColumn(G,I,Y,Z,Q);)--Y;return++Y,++Q,_internalContext.globalCompositeOperation="source-over",_internalContext.strokeRect(V,Z,Y-V,Q-Z),_internalContext.globalCompositeOperation="copy",z??(z=new Rectangle),z.set(V/O,Z/O,(Y-V)/O,(Q-Z)/O),z}const tempRect=new Rectangle;class CanvasTextGeneratorClass{getCanvasAndContext(R){const{text:P,style:O,resolution:I=1}=R,L=O._getFinalPadding(),z=CanvasTextMetrics.measureText(P||" ",O),F=Math.ceil(Math.ceil(Math.max(1,z.width)+L*2)*I),G=Math.ceil(Math.ceil(Math.max(1,z.height)+L*2)*I),V=CanvasPool.getOptimalCanvasAndContext(F,G);this._renderTextToCanvas(P,O,L,I,V);const Z=O.trim?getCanvasBoundingBox({canvas:V.canvas,width:F,height:G,resolution:1,output:tempRect}):tempRect.set(0,0,F,G);return{canvasAndContext:V,frame:Z}}returnCanvasAndContext(R){CanvasPool.returnCanvasAndContext(R)}_renderTextToCanvas(R,P,O,I,L){const{canvas:z,context:F}=L,G=fontStringFromTextStyle(P),V=CanvasTextMetrics.measureText(R||" ",P),Z=V.lines,Y=V.lineHeight,Q=V.lineWidths,J=V.maxLineWidth,te=V.fontProperties,ne=z.height;if(F.resetTransform(),F.scale(I,I),F.textBaseline=P.textBaseline,P._stroke?.width){const ce=P._stroke;F.lineWidth=ce.width,F.miterLimit=ce.miterLimit,F.lineJoin=ce.join,F.lineCap=ce.cap}F.font=G;let ie,se;const oe=P.dropShadow?2:1;for(let ce=0;ce<oe;++ce){const ue=P.dropShadow&&ce===0,me=ue?Math.ceil(Math.max(1,ne)+O*2):0,he=me*I;if(ue){F.fillStyle="black",F.strokeStyle="black";const pe=P.dropShadow,be=pe.color,ye=pe.alpha;F.shadowColor=Color$1.shared.setValue(be).setAlpha(ye).toRgbaString();const we=pe.blur*I,ve=pe.distance*I;F.shadowBlur=we,F.shadowOffsetX=Math.cos(pe.angle)*ve,F.shadowOffsetY=Math.sin(pe.angle)*ve+he}else{if(F.fillStyle=P._fill?getCanvasFillStyle(P._fill,F,V,O*2):null,P._stroke?.width){const pe=P._stroke.width*.5+O*2;F.strokeStyle=getCanvasFillStyle(P._stroke,F,V,pe)}F.shadowColor="black"}let fe=(Y-te.fontSize)/2;Y-te.fontSize<0&&(fe=0);const de=P._stroke?.width??0;for(let pe=0;pe<Z.length;pe++)ie=de/2,se=de/2+pe*Y+te.ascent+fe,P.align==="right"?ie+=J-Q[pe]:P.align==="center"&&(ie+=(J-Q[pe])/2),P._stroke?.width&&this._drawLetterSpacing(Z[pe],P,L,ie+O,se+O-me,!0),P._fill!==void 0&&this._drawLetterSpacing(Z[pe],P,L,ie+O,se+O-me)}}_drawLetterSpacing(R,P,O,I,L,z=!1){const{context:F}=O,G=P.letterSpacing;let V=!1;if(CanvasTextMetrics.experimentalLetterSpacingSupported&&(CanvasTextMetrics.experimentalLetterSpacing?(F.letterSpacing=`${G}px`,F.textLetterSpacing=`${G}px`,V=!0):(F.letterSpacing="0px",F.textLetterSpacing="0px")),G===0||V){z?F.strokeText(R,I,L):F.fillText(R,I,L);return}let Z=I;const Y=CanvasTextMetrics.graphemeSegmenter(R);let Q=F.measureText(R).width,J=0;for(let te=0;te<Y.length;++te){const ne=Y[te];z?F.strokeText(ne,Z,L):F.fillText(ne,Z,L);let ie="";for(let se=te+1;se<Y.length;++se)ie+=Y[se];J=F.measureText(ie).width,Z+=Q-J+G,Q=J}}}const CanvasTextGenerator=new CanvasTextGeneratorClass;let Text$1=class extends AbstractText{constructor(...R){const P=ensureTextOptions(R,"Text");super(P,TextStyle),this.renderPipeId="text",P.textureStyle&&(this.textureStyle=P.textureStyle instanceof TextureStyle?P.textureStyle:new TextureStyle(P.textureStyle))}updateBounds(){const R=this._bounds,P=this._anchor;let O=0,I=0;if(this._style.trim){const{frame:L,canvasAndContext:z}=CanvasTextGenerator.getCanvasAndContext({text:this.text,style:this._style,resolution:1});CanvasTextGenerator.returnCanvasAndContext(z),O=L.width,I=L.height}else{const L=CanvasTextMetrics.measureText(this._text,this._style);O=L.width,I=L.height}R.minX=-P._x*O,R.maxX=R.minX+O,R.minY=-P._y*I,R.maxY=R.minY+I}};extensions.add(browserExt,webworkerExt);function getCurvatures(_,R){if(_?.geometry)return _.geometry;const P=computeEllipseFromPerimeter(R.general.perimeter,R.general.aspect_ratio);return{curvature_1:P.curvature_1,curvature_2:P.curvature_2}}const LIGHT_THEME$1={apicalPoint:9835540,basalPoint:0,apicalLink:6553600,basalLink:0,cytoskeleton:6566400,membrane:13421772},DARK_THEME$1={apicalPoint:16748431,basalPoint:16777215,apicalLink:16739179,basalLink:15658734,cytoskeleton:13935988,membrane:6710886};function rgbToHex(_,R,P){return _<<16|R<<8|P}function drawBasalCurve(_,R,P,O,I){if(R===0&&P===0){const L=O/2+5;_.moveTo(-L,0),_.lineTo(L,0),_.stroke({color:I.membrane,alpha:.5,width:.05})}else{const L=shapeCenter(R,P),z=R!==0?Math.abs(1/R):20,F=P!==0?Math.abs(1/P):20;_.ellipse(L.x,L.y,z,F),_.stroke({color:I.membrane,alpha:.5,width:.05})}}function drawCells$1(_,R,P,O){for(const I of R.cells){const z=(P.cell_types[I.typeIndex]??P.cell_types.control).color;_.circle(I.pos.x,I.pos.y,I.R_soft),_.fill({color:rgbToHex(z.r,z.g,z.b),alpha:.4}),_.circle(I.pos.x,I.pos.y,I.R_hard),_.fill({color:rgbToHex(z.r,z.g,z.b),alpha:1}),_.circle(I.A.x,I.A.y,.1),_.fill({color:O.apicalPoint,alpha:1}),_.circle(I.B.x,I.B.y,.1),_.fill({color:O.basalPoint,alpha:1}),_.moveTo(I.A.x,I.A.y),_.lineTo(I.pos.x,I.pos.y),_.lineTo(I.B.x,I.B.y),_.stroke({color:O.cytoskeleton,alpha:.5,width:.05})}}function drawApicalLinks(_,R,P){for(const O of R.ap_links){const I=R.cells[O.l],L=R.cells[O.r];I&&L&&(_.moveTo(I.A.x,I.A.y),_.lineTo(L.A.x,L.A.y))}_.stroke({color:P.apicalLink,alpha:1,width:.05})}function drawBasalLinks(_,R,P){for(const O of R.ba_links){const I=R.cells[O.l],L=R.cells[O.r];I&&L&&(_.moveTo(I.B.x,I.B.y),_.lineTo(L.B.x,L.B.y))}_.stroke({color:P.basalLink,alpha:1,width:.05})}function drawCellIds(_,R){const P=new TextStyle({fontFamily:"monospace",fontSize:10,fill:_.isDark?16777215:0,fontWeight:"bold"}),{width:O,height:I}=_.canvasSize,{x:L,y:z}=_.viewportCenter;for(const F of R.cells){const G=new Text$1({text:F.id.toString(),style:P});G.anchor.set(.5,.5);const V=O/2+(F.pos.x-L)*_.scale,Z=I/2-(F.pos.y-z)*_.scale;G.position.set(V,Z),_.uiContainer.addChild(G)}}const ehtRenderer={getBoundingBox(_,R){const{curvature_1:P,curvature_2:O}=getCurvatures(R,_),I=_.general.h_init,L=_.general.w_init,z=_.general.w_screen,F=_.general.h_screen;let G,V,Z,Y;if(P===0&&O===0){const oe=L/2+2;G=-oe,V=oe,Z=-2,Y=I+2}else{const oe=shapeCenter(P,O),ce=P!==0?Math.abs(1/P):20,ue=O!==0?Math.abs(1/O):20;G=oe.x-ce,V=oe.x+ce;const me=oe.y-ue,he=oe.y+ue;Z=Math.min(me,0)-2,Y=Math.max(he,I)+2}const Q=V-G,J=Y-Z,te=(G+V)/2,ne=(Z+Y)/2,ie=Math.max(Q,z),se=Math.max(J,F);return{minX:te-ie/2,maxX:te+ie/2,minY:ne-se/2,maxY:ne+se/2}},render(_,R,P){const O=_.isDark?DARK_THEME$1:LIGHT_THEME$1,I=_.graphics.cells,L=_.graphics.links,{curvature_1:z,curvature_2:F}=getCurvatures(R,P);drawBasalCurve(L,z,F,P.general.w_init,O),drawBasalLinks(L,R,O),drawApicalLinks(L,R,O),drawCells$1(I,R,P,O),_.renderOptions?.showCellIds&&drawCellIds(_,R)},getBackgroundColor(_){return _?1120295:16777215}};function getNeighborIds(_,R,P){const O=[];for(const I of R)I.l===_?O.push(I.r):I.r===_&&O.push(I.l);return O.map(I=>P[I]?.id??I).join(";")}function getSnapshot(_){const R=[];for(let P=0;P<_.cells.length;P++){const O=_.cells[P];R.push({id:O.id,typeIndex:O.typeIndex,t:_.t,step_count:_.step_count,pos_x:O.pos.x,pos_y:O.pos.y,A_x:O.A.x,A_y:O.A.y,B_x:O.B.x,B_y:O.B.y,has_A:O.has_A,has_B:O.has_B,phase:O.phase,age:_.t-O.birth_time,is_running:O.is_running,running_mode:O.running_mode,has_inm:O.has_inm,eta_A:O.eta_A,eta_B:O.eta_B,R_soft:O.R_soft,R_hard:O.R_hard,time_A:O.time_A,time_B:O.time_B,time_S:O.time_S,time_P:O.time_P,apical_neighbors:getNeighborIds(P,_.ap_links,_.cells),basal_neighbors:getNeighborIds(P,_.ba_links,_.cells),curvature_1:_.geometry?.curvature_1??0,curvature_2:_.geometry?.curvature_2??0})}return R}function loadSnapshot(_,R){if(_.length===0)return{cells:[],ap_links:[],ba_links:[],t:0,step_count:0,basalGeometry:createBasalGeometry(0,0,360),rngSeed:String(R.general.random_seed)};const P=_[0],O=Number(P.t),I=Number(P.step_count),L=Number(P.curvature_1),z=Number(P.curvature_2),F={cells:[],ap_links:[],ba_links:[],t:O,step_count:I,geometry:{curvature_1:L,curvature_2:z},basalGeometry:createBasalGeometry(L,z,360),rngSeed:String(R.general.random_seed)},G=new Map;for(let V=0;V<_.length;V++){const Z=_[V],Y=Number(Z.id);G.set(Y,V);const Q={id:Y,typeIndex:String(Z.typeIndex),pos:{x:Number(Z.pos_x),y:Number(Z.pos_y)},A:{x:Number(Z.A_x),y:Number(Z.A_y)},B:{x:Number(Z.B_x),y:Number(Z.B_y)},has_A:!!Z.has_A,has_B:!!Z.has_B,phase:Number(Z.phase),birth_time:O-Number(Z.age),division_time:0,is_running:!!Z.is_running,running_mode:Number(Z.running_mode),has_inm:!!Z.has_inm,eta_A:Number(Z.eta_A),eta_B:Number(Z.eta_B),R_soft:Number(Z.R_soft),R_hard:Number(Z.R_hard),time_A:Number(Z.time_A),time_B:Number(Z.time_B),time_S:Number(Z.time_S),time_P:Number(Z.time_P),stiffness_apical_apical:1,stiffness_straightness:Number(Z.time_S)<O?1:100,stiffness_nuclei_apical:Z.has_A?1:.1,stiffness_nuclei_basal:Z.has_B?1:.1},J=R.cell_types[Q.typeIndex]||R.cell_types.control;Q.stiffness_apical_apical=J.stiffness_apical_apical,Z.has_A?Q.stiffness_nuclei_apical=J.stiffness_nuclei_apical:Q.stiffness_nuclei_apical=J.stiffness_nuclei_apical*.1,Z.has_B?Q.stiffness_nuclei_basal=J.stiffness_nuclei_basal:Q.stiffness_nuclei_basal=J.stiffness_nuclei_basal*.1,Q.time_S&&O>Q.time_S?Q.stiffness_straightness=1:Q.stiffness_straightness=J.stiffness_straightness,Q.division_time=Q.birth_time+(J.lifespan_end+J.lifespan_start)/2,F.cells.push(Q)}for(let V=0;V<_.length;V++){const Z=_[V],Y=V,Q=String(Z.apical_neighbors||"").split(";").filter(te=>te!=="");for(const te of Q){const ne=Number(te),ie=G.get(ne);if(ie!==void 0&&ie>Y){const se=F.cells[Y],oe=F.cells[ie],ce=Math.sqrt(Math.pow(se.A.x-oe.A.x,2)+Math.pow(se.A.y-oe.A.y,2));F.ap_links.push({l:Y,r:ie,rl:ce})}}const J=String(Z.basal_neighbors||"").split(";").filter(te=>te!=="");for(const te of J){const ne=Number(te),ie=G.get(ne);ie!==void 0&&ie>Y&&F.ba_links.push({l:Y,r:ie})}}return F}const defaultEHTRenderOptions={showCellIds:!1,showScaleBar:!0};function EHTRenderOptionsPanel({options:_,onChange:R}){const[P,O]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>O(!P),className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:["Render Options",P?jsxRuntimeExports.jsx(ChevronUp,{size:14}):jsxRuntimeExports.jsx(ChevronDown,{size:14})]}),P&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 pl-1",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx(Checkbox,{checked:_.showCellIds,onCheckedChange:I=>R({..._,showCellIds:!!I})}),"Show Cell IDs"]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx(Checkbox,{checked:_.showScaleBar,onCheckedChange:I=>R({..._,showScaleBar:!!I})}),"Show Scale Bar"]})]})]})}const EHTModel={id:"EHT",name:"Epithelial-to-Hematopoietic Transition",version:"1.0.0",description:"Simulates cell mechanics, division, and EMT events in curved epithelial tissue.",defaultParams:DEFAULT_EHT_PARAMS,validateParams(_){return ehtParamsSchema.parse(_)},init:(_,R)=>{const P=R??String(_.general.random_seed),O=new SeededRandom(P),I=createInitialEHTState(P);return initializeEHTSimulation(_,I,O),I},step:(_,R,P)=>{const O=new SeededRandom(`${_.rngSeed}_step_${_.step_count}`);return performTimestep(_,P,O),_},getSnapshot:_=>getSnapshot(_),loadSnapshot:(_,R)=>loadSnapshot(_,R),exportCellMetrics:(_,R)=>exportCellMetrics(_),computeStats:(_,R)=>computeEHTStatistics(_,R),statistics:generateEHTStatistics(DEFAULT_EHT_PARAMS),generateStatistics:_=>generateEHTStatistics(_),generateBatchParameters:_=>generateEHTBatchParameters(_),batchParameters:EHT_BATCH_PARAMETERS,renderer:ehtRenderer,ui:ehtUI,renderOptions:{defaultOptions:defaultEHTRenderOptions,RenderOptionsPanel:EHTRenderOptionsPanel}},boundaryTypeSchema=_enum(["periodic","box","none"]),toyGeneralSchema=object$1({N:number$6().int().positive(),soft_radius:number$6().positive(),repulsion_strength:number$6().nonnegative(),running_speed:number$6().nonnegative(),tumble_speed:number$6().nonnegative(),running_duration:number$6().positive(),tumbling_duration:number$6().positive(),tumbling_period:number$6().positive(),boundary_type:boundaryTypeSchema,domain_size:tuple([number$6().positive(),number$6().positive()]),t_end:number$6().positive(),dt:number$6().positive(),random_seed:number$6().int(),mu:number$6().positive(),n_substeps:number$6().int().positive(),N_max:number$6().int().positive(),w_screen:number$6().positive(),h_screen:number$6().positive()}),metadataSchema=object$1({model:literal("Toy"),version:string$3()}),toyParamsSchema=object$1({metadata:metadataSchema,general:toyGeneralSchema}),DEFAULT_TOY_GENERAL={N:20,soft_radius:5,repulsion_strength:10,running_speed:2,tumble_speed:.5,running_duration:5,tumbling_duration:2,tumbling_period:.5,boundary_type:"box",domain_size:[100,100],t_end:60,dt:.1,random_seed:42,mu:1,n_substeps:1,w_screen:100,h_screen:100},DEFAULT_TOY_PARAMS={metadata:{model:"Toy",version:"1.0.0"},general:DEFAULT_TOY_GENERAL};function mean$1(_){return _.length===0?0:_.reduce((R,P)=>R+P,0)/_.length}const TOY_STATISTICS=[{id:"n_cells",label:"Cell Count",description:"Total number of cells",compute:_=>_.cells.length},{id:"running_fraction",label:"Running Fraction",description:"Fraction of cells currently in running phase",compute:_=>_.cells.filter(R=>R.phase==="running").length/(_.cells.length||1)},{id:"avg_x",label:"Avg X Position",description:"Average X position of all cells",compute:_=>mean$1(_.cells.map(R=>R.position.x))},{id:"avg_y",label:"Avg Y Position",description:"Average Y position of all cells",compute:_=>mean$1(_.cells.map(R=>R.position.y))}];function generateToyStatistics(_){return TOY_STATISTICS}function computeToyStatistics(_,R){const P={};for(const O of TOY_STATISTICS)P[O.id]=O.compute(_);return P}const BOUNDARY_OPTIONS=[{value:"periodic",label:"Periodic"},{value:"box",label:"Box"},{value:"none",label:"None"}];function ToyParametersTab({params:_,onChange:R,disabled:P}){const O=(z,F)=>{const G=structuredClone(_);G.general[z]=F,R(G)},I=(z,F)=>{const G=structuredClone(_);G.general.domain_size[z]=F,R(G)},L=_.general;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Cell Population"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(IntegerInput,{label:"Number of Cells",value:L.N,onChange:z=>O("N",z),disabled:P,min:1}),jsxRuntimeExports.jsx(NumberInput,{label:"Soft Radius",value:L.soft_radius,onChange:z=>O("soft_radius",z),disabled:P,step:.5,min:0}),jsxRuntimeExports.jsx(NumberInput,{label:"Repulsion",value:L.repulsion_strength,onChange:z=>O("repulsion_strength",z),disabled:P,step:1,min:0})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Movement"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(NumberInput,{label:"Running Speed",value:L.running_speed,onChange:z=>O("running_speed",z),disabled:P,step:.1,min:0}),jsxRuntimeExports.jsx(NumberInput,{label:"Tumble Speed",value:L.tumble_speed,onChange:z=>O("tumble_speed",z),disabled:P,step:.1,min:0}),jsxRuntimeExports.jsx(NumberInput,{label:"Run Duration",value:L.running_duration,onChange:z=>O("running_duration",z),disabled:P,step:.5,min:0}),jsxRuntimeExports.jsx(NumberInput,{label:"Tumble Duration",value:L.tumbling_duration,onChange:z=>O("tumbling_duration",z),disabled:P,step:.5,min:0}),jsxRuntimeExports.jsx(NumberInput,{label:"Tumble Period",value:L.tumbling_period,onChange:z=>O("tumbling_period",z),disabled:P,step:.1,min:0})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Domain"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(ComboBox,{label:"Boundary Type",value:L.boundary_type,options:BOUNDARY_OPTIONS,onChange:z=>O("boundary_type",z),disabled:P}),jsxRuntimeExports.jsx(NumberInput,{label:"Domain Width",value:L.domain_size[0],onChange:z=>I(0,z),disabled:P,step:10,min:1}),jsxRuntimeExports.jsx(NumberInput,{label:"Domain Height",value:L.domain_size[1],onChange:z=>I(1,z),disabled:P,step:10,min:1})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Physics"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 pl-2",children:jsxRuntimeExports.jsx(NumberInput,{label:"Friction (mu)",value:L.mu,onChange:z=>O("mu",z),disabled:P,step:.1,min:0})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"General"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(NumberInput,{label:"End Time",value:L.t_end,onChange:z=>O("t_end",z),disabled:P,step:1,min:0}),jsxRuntimeExports.jsx(IntegerInput,{label:"Random Seed",value:L.random_seed,onChange:z=>O("random_seed",z),disabled:P})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Display"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(IntegerInput,{label:"Screen Width",value:L.w_screen,onChange:z=>O("w_screen",z),disabled:P,min:10}),jsxRuntimeExports.jsx(IntegerInput,{label:"Screen Height",value:L.h_screen,onChange:z=>O("h_screen",z),disabled:P,min:10})]})]})]})}function ToySimulationTab({params:_,onChange:R,disabled:P}){const O=(L,z)=>{const F=structuredClone(_);F.general[L]=z,R(F)},I=_.general;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Time Stepping"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 pl-2",children:[jsxRuntimeExports.jsx(NumberInput,{label:"Time Step (dt)",value:I.dt,onChange:L=>O("dt",L),disabled:P,step:.01,min:.001}),jsxRuntimeExports.jsx(IntegerInput,{label:"Substeps",value:I.n_substeps,onChange:L=>O("n_substeps",L),disabled:P,min:1})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-muted/50 rounded-md text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1",children:"Notes:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-0.5",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"dt"}),": Time step for physics integration"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"n_substeps"}),": Number of physics steps per output step"]})]})]})]})}const toyUI={ParametersTab:ToyParametersTab,SimulationTab:ToySimulationTab},LIGHT_THEME={cellFill:4886745,cellStroke:2904706,polarityRunning:4766584,polarityTumbling:15567158,boundary:13421772},DARK_THEME={cellFill:6534125,cellStroke:9489908,polarityRunning:6869905,polarityTumbling:16503693,boundary:6710886};function drawBoundary(_,R,P){const{boundary_type:O,domain_size:I}=R.general,[L,z]=I;O!=="none"&&(_.rect(0,0,L,z),O==="periodic"?_.stroke({color:P.boundary,alpha:.5,width:.1}):_.stroke({color:P.boundary,alpha:.8,width:.15}))}function drawCells(_,R,P,O){const{soft_radius:I}=P.general;for(const L of R.cells){const F=L.phase==="running"?O.polarityRunning:O.polarityTumbling;_.circle(L.position.x,L.position.y,I),_.fill({color:O.cellFill,alpha:.6}),_.stroke({color:O.cellStroke,alpha:1,width:.05});const G=I*.8,V=L.position.x+L.polarity.x*G,Z=L.position.y+L.polarity.y*G;_.moveTo(L.position.x,L.position.y),_.lineTo(V,Z),_.stroke({color:F,alpha:1,width:.1});const Y=I*.3,Q=Math.atan2(L.polarity.y,L.polarity.x),J=Math.PI/6;_.moveTo(V,Z),_.lineTo(V-Y*Math.cos(Q-J),Z-Y*Math.sin(Q-J)),_.moveTo(V,Z),_.lineTo(V-Y*Math.cos(Q+J),Z-Y*Math.sin(Q+J)),_.stroke({color:F,alpha:1,width:.1})}}const toyRenderer={getBoundingBox(_,R){const[P,O]=_.general.domain_size,I=_.general.soft_radius*2;return{minX:-I,maxX:P+I,minY:-I,maxY:O+I}},render(_,R,P){const O=_.isDark?DARK_THEME:LIGHT_THEME,I=_.graphics.cells,L=_.graphics.links;drawBoundary(L,P,O),drawCells(I,R,P,O)},getBackgroundColor(_){return _?1120295:16777215}},ToyModel={id:"Toy",name:"Run & Tumble (Toy)",version:"1.0.0",description:"Simple run-and-tumble model for demonstration purposes.",defaultParams:DEFAULT_TOY_PARAMS,validateParams(_){return toyParamsSchema.parse(_)},init:(_,R)=>{const P=R??String(_.general.random_seed),O=new SeededRandom(P),{N:I,domain_size:L}=_.general,[z,F]=L,G=[];for(let V=0;V<I;V++){const Z=O.random(z),Y=O.random(F),Q=O.random(2*Math.PI),J=O.random()>.5?"running":"tumbling";G.push({id:V,position:new Vector2(Z,Y),prevPosition:new Vector2(Z,Y),polarity:new Vector2(Math.cos(Q),Math.sin(Q)),phase:J,phaseTime:0,timeSinceLastTumble:0})}return{t:0,cells:G,step_count:0,rngSeed:P}},step:(_,R,P)=>{const O=new SeededRandom(`${_.rngSeed}_step_${_.step_count}`),{soft_radius:I,repulsion_strength:L,running_speed:z,tumble_speed:F,mu:G,boundary_type:V,domain_size:Z,running_duration:Y,tumbling_duration:Q,tumbling_period:J}=P.general,[te,ne]=Z,ie=_.cells;for(const oe of ie)if(oe.phaseTime+=R,oe.phase==="running"){if(oe.phaseTime>=Y){oe.phase="tumbling",oe.phaseTime=0,oe.timeSinceLastTumble=0;const ce=O.random(2*Math.PI);oe.polarity=new Vector2(Math.cos(ce),Math.sin(ce))}}else{if(oe.timeSinceLastTumble+=R,oe.timeSinceLastTumble>=J){const ce=O.random(2*Math.PI);oe.polarity=new Vector2(Math.cos(ce),Math.sin(ce)),oe.timeSinceLastTumble=0}oe.phaseTime>=Q&&(oe.phase="running",oe.phaseTime=0)}const se=ie.map(()=>Vector2.zero());for(let oe=0;oe<ie.length;oe++)for(let ce=oe+1;ce<ie.length;ce++){const ue=ie[oe],me=ie[ce],he=ue.position.x-me.position.x,fe=ue.position.y-me.position.y,de=he*he+fe*fe,pe=I;if(de<pe*pe&&de>0){const be=Math.sqrt(de),ye=pe-be,we=L*ye*he/be,ve=L*ye*fe/be,Ae=new Vector2(we,ve);se[oe]=se[oe].add(Ae),se[ce]=se[ce].sub(Ae)}}for(let oe=0;oe<ie.length;oe++){const ce=ie[oe],ue=ce.phase==="running"?z:F,me=ce.polarity.mult(ue*G);se[oe]=se[oe].add(me)}for(let oe=0;oe<ie.length;oe++){const ce=ie[oe],ue=se[oe];ce.prevPosition=ce.position;const me=ue.x*R/G,he=ue.y*R/G;ce.position=new Vector2(ce.position.x+me,ce.position.y+he),V==="periodic"?ce.position=new Vector2((ce.position.x%te+te)%te,(ce.position.y%ne+ne)%ne):V==="box"&&(ce.position=new Vector2(Math.max(0,Math.min(te,ce.position.x)),Math.max(0,Math.min(ne,ce.position.y))))}return _.t+=R,_.step_count+=1,_},getSnapshot:_=>_.cells.map(R=>({id:R.id,t:_.t,pos_x:R.position.x,pos_y:R.position.y,phase:R.phase,pol_x:R.polarity.x,pol_y:R.polarity.y})),loadSnapshot:(_,R)=>{if(_.length===0)return{t:0,cells:[],step_count:0,rngSeed:String(R.general.random_seed)};const P=Number(_[0].t),O=_.map(L=>({id:Number(L.id),position:new Vector2(Number(L.pos_x),Number(L.pos_y)),prevPosition:new Vector2(Number(L.pos_x),Number(L.pos_y)),polarity:new Vector2(Number(L.pol_x),Number(L.pol_y)),phase:L.phase,phaseTime:0,timeSinceLastTumble:0})),I=Math.round(P/R.general.dt);return{t:P,cells:O,step_count:I,rngSeed:String(R.general.random_seed)}},computeStats:(_,R)=>computeToyStatistics(_),statistics:TOY_STATISTICS,generateStatistics:_=>generateToyStatistics(),renderer:toyRenderer,ui:toyUI};console.log("[Models] Loading index");modelRegistry.register(EHTModel);modelRegistry.register(ToyModel);modelRegistry.setDefault(EHTModel.id);var PopStateEventType="popstate";function createHashHistory(_={}){function R(I,L){let{pathname:z="/",search:F="",hash:G=""}=parsePath(I.location.hash.substring(1));return!z.startsWith("/")&&!z.startsWith(".")&&(z="/"+z),createLocation("",{pathname:z,search:F,hash:G},L.state&&L.state.usr||null,L.state&&L.state.key||"default")}function P(I,L){let z=I.document.querySelector("base"),F="";if(z&&z.getAttribute("href")){let G=I.location.href,V=G.indexOf("#");F=V===-1?G:G.slice(0,V)}return F+"#"+(typeof L=="string"?L:createPath(L))}function O(I,L){warning(I.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(L)})`)}return getUrlBasedHistory(R,P,O,_)}function invariant(_,R){if(_===!1||_===null||typeof _>"u")throw new Error(R)}function warning(_,R){if(!_){typeof console<"u"&&console.warn(R);try{throw new Error(R)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(_,R){return{usr:_.state,key:_.key,idx:R}}function createLocation(_,R,P=null,O){return{pathname:typeof _=="string"?_:_.pathname,search:"",hash:"",...typeof R=="string"?parsePath(R):R,state:P,key:R&&R.key||O||createKey()}}function createPath({pathname:_="/",search:R="",hash:P=""}){return R&&R!=="?"&&(_+=R.charAt(0)==="?"?R:"?"+R),P&&P!=="#"&&(_+=P.charAt(0)==="#"?P:"#"+P),_}function parsePath(_){let R={};if(_){let P=_.indexOf("#");P>=0&&(R.hash=_.substring(P),_=_.substring(0,P));let O=_.indexOf("?");O>=0&&(R.search=_.substring(O),_=_.substring(0,O)),_&&(R.pathname=_)}return R}function getUrlBasedHistory(_,R,P,O={}){let{window:I=document.defaultView,v5Compat:L=!1}=O,z=I.history,F="POP",G=null,V=Z();V==null&&(V=0,z.replaceState({...z.state,idx:V},""));function Z(){return(z.state||{idx:null}).idx}function Y(){F="POP";let ie=Z(),se=ie==null?null:ie-V;V=ie,G&&G({action:F,location:ne.location,delta:se})}function Q(ie,se){F="PUSH";let oe=createLocation(ne.location,ie,se);P&&P(oe,ie),V=Z()+1;let ce=getHistoryState(oe,V),ue=ne.createHref(oe);try{z.pushState(ce,"",ue)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;I.location.assign(ue)}L&&G&&G({action:F,location:ne.location,delta:1})}function J(ie,se){F="REPLACE";let oe=createLocation(ne.location,ie,se);P&&P(oe,ie),V=Z();let ce=getHistoryState(oe,V),ue=ne.createHref(oe);z.replaceState(ce,"",ue),L&&G&&G({action:F,location:ne.location,delta:0})}function te(ie){return createBrowserURLImpl(ie)}let ne={get action(){return F},get location(){return _(I,z)},listen(ie){if(G)throw new Error("A history only accepts one active listener");return I.addEventListener(PopStateEventType,Y),G=ie,()=>{I.removeEventListener(PopStateEventType,Y),G=null}},createHref(ie){return R(I,ie)},createURL:te,encodeLocation(ie){let se=te(ie);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:Q,replace:J,go(ie){return z.go(ie)}};return ne}function createBrowserURLImpl(_,R=!1){let P="http://localhost";typeof window<"u"&&(P=window.location.origin!=="null"?window.location.origin:window.location.href),invariant(P,"No window.location.(origin|href) available to create URL");let O=typeof _=="string"?_:createPath(_);return O=O.replace(/ $/,"%20"),!R&&O.startsWith("//")&&(O=P+O),new URL(O,P)}function matchRoutes(_,R,P="/"){return matchRoutesImpl(_,R,P,!1)}function matchRoutesImpl(_,R,P,O){let I=typeof R=="string"?parsePath(R):R,L=stripBasename(I.pathname||"/",P);if(L==null)return null;let z=flattenRoutes(_);rankRouteBranches(z);let F=null;for(let G=0;F==null&&G<z.length;++G){let V=decodePath(L);F=matchRouteBranch(z[G],V,O)}return F}function flattenRoutes(_,R=[],P=[],O="",I=!1){let L=(z,F,G=I,V)=>{let Z={relativePath:V===void 0?z.path||"":V,caseSensitive:z.caseSensitive===!0,childrenIndex:F,route:z};if(Z.relativePath.startsWith("/")){if(!Z.relativePath.startsWith(O)&&G)return;invariant(Z.relativePath.startsWith(O),`Absolute route path "${Z.relativePath}" nested under path "${O}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Z.relativePath=Z.relativePath.slice(O.length)}let Y=joinPaths([O,Z.relativePath]),Q=P.concat(Z);z.children&&z.children.length>0&&(invariant(z.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${Y}".`),flattenRoutes(z.children,R,Q,Y,G)),!(z.path==null&&!z.index)&&R.push({path:Y,score:computeScore(Y,z.index),routesMeta:Q})};return _.forEach((z,F)=>{if(z.path===""||!z.path?.includes("?"))L(z,F);else for(let G of explodeOptionalSegments(z.path))L(z,F,!0,G)}),R}function explodeOptionalSegments(_){let R=_.split("/");if(R.length===0)return[];let[P,...O]=R,I=P.endsWith("?"),L=P.replace(/\?$/,"");if(O.length===0)return I?[L,""]:[L];let z=explodeOptionalSegments(O.join("/")),F=[];return F.push(...z.map(G=>G===""?L:[L,G].join("/"))),I&&F.push(...z),F.map(G=>_.startsWith("/")&&G===""?"/":G)}function rankRouteBranches(_){_.sort((R,P)=>R.score!==P.score?P.score-R.score:compareIndexes(R.routesMeta.map(O=>O.childrenIndex),P.routesMeta.map(O=>O.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_=>_==="*";function computeScore(_,R){let P=_.split("/"),O=P.length;return P.some(isSplat)&&(O+=splatPenalty),R&&(O+=indexRouteValue),P.filter(I=>!isSplat(I)).reduce((I,L)=>I+(paramRe.test(L)?dynamicSegmentValue:L===""?emptySegmentValue:staticSegmentValue),O)}function compareIndexes(_,R){return _.length===R.length&&_.slice(0,-1).every((O,I)=>O===R[I])?_[_.length-1]-R[R.length-1]:0}function matchRouteBranch(_,R,P=!1){let{routesMeta:O}=_,I={},L="/",z=[];for(let F=0;F<O.length;++F){let G=O[F],V=F===O.length-1,Z=L==="/"?R:R.slice(L.length)||"/",Y=matchPath({path:G.relativePath,caseSensitive:G.caseSensitive,end:V},Z),Q=G.route;if(!Y&&V&&P&&!O[O.length-1].route.index&&(Y=matchPath({path:G.relativePath,caseSensitive:G.caseSensitive,end:!1},Z)),!Y)return null;Object.assign(I,Y.params),z.push({params:I,pathname:joinPaths([L,Y.pathname]),pathnameBase:normalizePathname(joinPaths([L,Y.pathnameBase])),route:Q}),Y.pathnameBase!=="/"&&(L=joinPaths([L,Y.pathnameBase]))}return z}function matchPath(_,R){typeof _=="string"&&(_={path:_,caseSensitive:!1,end:!0});let[P,O]=compilePath(_.path,_.caseSensitive,_.end),I=R.match(P);if(!I)return null;let L=I[0],z=L.replace(/(.)\/+$/,"$1"),F=I.slice(1);return{params:O.reduce((V,{paramName:Z,isOptional:Y},Q)=>{if(Z==="*"){let te=F[Q]||"";z=L.slice(0,L.length-te.length).replace(/(.)\/+$/,"$1")}const J=F[Q];return Y&&!J?V[Z]=void 0:V[Z]=(J||"").replace(/%2F/g,"/"),V},{}),pathname:L,pathnameBase:z,pattern:_}}function compilePath(_,R=!1,P=!0){warning(_==="*"||!_.endsWith("*")||_.endsWith("/*"),`Route path "${_}" will be treated as if it were "${_.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${_.replace(/\*$/,"/*")}".`);let O=[],I="^"+_.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(z,F,G)=>(O.push({paramName:F,isOptional:G!=null}),G?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return _.endsWith("*")?(O.push({paramName:"*"}),I+=_==="*"||_==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):P?I+="\\/*$":_!==""&&_!=="/"&&(I+="(?:(?=\\/|$))"),[new RegExp(I,R?void 0:"i"),O]}function decodePath(_){try{return _.split("/").map(R=>decodeURIComponent(R).replace(/\//g,"%2F")).join("/")}catch(R){return warning(!1,`The URL path "${_}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${R}).`),_}}function stripBasename(_,R){if(R==="/")return _;if(!_.toLowerCase().startsWith(R.toLowerCase()))return null;let P=R.endsWith("/")?R.length-1:R.length,O=_.charAt(P);return O&&O!=="/"?null:_.slice(P)||"/"}var ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=_=>ABSOLUTE_URL_REGEX.test(_);function resolvePath(_,R="/"){let{pathname:P,search:O="",hash:I=""}=typeof _=="string"?parsePath(_):_,L;if(P)if(isAbsoluteUrl(P))L=P;else{if(P.includes("//")){let z=P;P=P.replace(/\/\/+/g,"/"),warning(!1,`Pathnames cannot have embedded double slashes - normalizing ${z} -> ${P}`)}P.startsWith("/")?L=resolvePathname(P.substring(1),"/"):L=resolvePathname(P,R)}else L=R;return{pathname:L,search:normalizeSearch(O),hash:normalizeHash(I)}}function resolvePathname(_,R){let P=R.replace(/\/+$/,"").split("/");return _.split("/").forEach(I=>{I===".."?P.length>1&&P.pop():I!=="."&&P.push(I)}),P.length>1?P.join("/"):"/"}function getInvalidPathError(_,R,P,O){return`Cannot include a '${_}' character in a manually specified \`to.${R}\` field [${JSON.stringify(O)}].  Please separate it out to the \`to.${P}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(_){return _.filter((R,P)=>P===0||R.route.path&&R.route.path.length>0)}function getResolveToMatches(_){let R=getPathContributingMatches(_);return R.map((P,O)=>O===R.length-1?P.pathname:P.pathnameBase)}function resolveTo(_,R,P,O=!1){let I;typeof _=="string"?I=parsePath(_):(I={..._},invariant(!I.pathname||!I.pathname.includes("?"),getInvalidPathError("?","pathname","search",I)),invariant(!I.pathname||!I.pathname.includes("#"),getInvalidPathError("#","pathname","hash",I)),invariant(!I.search||!I.search.includes("#"),getInvalidPathError("#","search","hash",I)));let L=_===""||I.pathname==="",z=L?"/":I.pathname,F;if(z==null)F=P;else{let Y=R.length-1;if(!O&&z.startsWith("..")){let Q=z.split("/");for(;Q[0]==="..";)Q.shift(),Y-=1;I.pathname=Q.join("/")}F=Y>=0?R[Y]:"/"}let G=resolvePath(I,F),V=z&&z!=="/"&&z.endsWith("/"),Z=(L||z===".")&&P.endsWith("/");return!G.pathname.endsWith("/")&&(V||Z)&&(G.pathname+="/"),G}var joinPaths=_=>_.join("/").replace(/\/\/+/g,"/"),normalizePathname=_=>_.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_=>!_||_==="?"?"":_.startsWith("?")?_:"?"+_,normalizeHash=_=>!_||_==="#"?"":_.startsWith("#")?_:"#"+_,ErrorResponseImpl=class{constructor(_,R,P,O=!1){this.status=_,this.statusText=R||"",this.internal=O,P instanceof Error?(this.data=P.toString(),this.error=P):this.data=P}};function isRouteErrorResponse(_){return _!=null&&typeof _.status=="number"&&typeof _.statusText=="string"&&typeof _.internal=="boolean"&&"data"in _}function getRoutePattern(_){return _.map(R=>R.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function parseToInfo(_,R){let P=_;if(typeof P!="string"||!ABSOLUTE_URL_REGEX.test(P))return{absoluteURL:void 0,isExternal:!1,to:P};let O=P,I=!1;if(isBrowser)try{let L=new URL(window.location.href),z=P.startsWith("//")?new URL(L.protocol+P):new URL(P),F=stripBasename(z.pathname,R);z.origin===L.origin&&F!=null?P=F+z.search+z.hash:I=!0}catch{warning(!1,`<Link to="${P}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:O,isExternal:I,to:P}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var RSCRouterContext=reactExports.createContext(!1),ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";var ERROR_DIGEST_BASE="REACT_ROUTER_ERROR",ERROR_DIGEST_REDIRECT="REDIRECT",ERROR_DIGEST_ROUTE_ERROR_RESPONSE="ROUTE_ERROR_RESPONSE";function decodeRedirectErrorDigest(_){if(_.startsWith(`${ERROR_DIGEST_BASE}:${ERROR_DIGEST_REDIRECT}:{`))try{let R=JSON.parse(_.slice(28));if(typeof R=="object"&&R&&typeof R.status=="number"&&typeof R.statusText=="string"&&typeof R.location=="string"&&typeof R.reloadDocument=="boolean"&&typeof R.replace=="boolean")return R}catch{}}function decodeRouteErrorResponseDigest(_){if(_.startsWith(`${ERROR_DIGEST_BASE}:${ERROR_DIGEST_ROUTE_ERROR_RESPONSE}:{`))try{let R=JSON.parse(_.slice(40));if(typeof R=="object"&&R&&typeof R.status=="number"&&typeof R.statusText=="string")return new ErrorResponseImpl(R.status,R.statusText,R.data)}catch{}}function useHref(_,{relative:R}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:P,navigator:O}=reactExports.useContext(NavigationContext),{hash:I,pathname:L,search:z}=useResolvedPath(_,{relative:R}),F=L;return P!=="/"&&(F=L==="/"?P:joinPaths([P,L])),O.createHref({pathname:F,search:z,hash:I})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(_){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_)}function useNavigate(){let{isDataRoute:_}=reactExports.useContext(RouteContext);return _?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let _=reactExports.useContext(DataRouterContext),{basename:R,navigator:P}=reactExports.useContext(NavigationContext),{matches:O}=reactExports.useContext(RouteContext),{pathname:I}=useLocation(),L=JSON.stringify(getResolveToMatches(O)),z=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{z.current=!0}),reactExports.useCallback((G,V={})=>{if(warning(z.current,navigateEffectWarning),!z.current)return;if(typeof G=="number"){P.go(G);return}let Z=resolveTo(G,JSON.parse(L),I,V.relative==="path");_==null&&R!=="/"&&(Z.pathname=Z.pathname==="/"?R:joinPaths([R,Z.pathname])),(V.replace?P.replace:P.push)(Z,V.state,V)},[R,P,L,I,_])}reactExports.createContext(null);function useResolvedPath(_,{relative:R}={}){let{matches:P}=reactExports.useContext(RouteContext),{pathname:O}=useLocation(),I=JSON.stringify(getResolveToMatches(P));return reactExports.useMemo(()=>resolveTo(_,JSON.parse(I),O,R==="path"),[_,I,O,R])}function useRoutes(_,R){return useRoutesImpl(_,R)}function useRoutesImpl(_,R,P,O,I){invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:L}=reactExports.useContext(NavigationContext),{matches:z}=reactExports.useContext(RouteContext),F=z[z.length-1],G=F?F.params:{},V=F?F.pathname:"/",Z=F?F.pathnameBase:"/",Y=F&&F.route;{let oe=Y&&Y.path||"";warningOnce(V,!Y||oe.endsWith("*")||oe.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${V}" (under <Route path="${oe}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${oe}"> to <Route path="${oe==="/"?"*":`${oe}/*`}">.`)}let Q=useLocation(),J;if(R){let oe=typeof R=="string"?parsePath(R):R;invariant(Z==="/"||oe.pathname?.startsWith(Z),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${Z}" but pathname "${oe.pathname}" was given in the \`location\` prop.`),J=oe}else J=Q;let te=J.pathname||"/",ne=te;if(Z!=="/"){let oe=Z.replace(/^\//,"").split("/");ne="/"+te.replace(/^\//,"").split("/").slice(oe.length).join("/")}let ie=matchRoutes(_,{pathname:ne});warning(Y||ie!=null,`No routes matched location "${J.pathname}${J.search}${J.hash}" `),warning(ie==null||ie[ie.length-1].route.element!==void 0||ie[ie.length-1].route.Component!==void 0||ie[ie.length-1].route.lazy!==void 0,`Matched leaf route at location "${J.pathname}${J.search}${J.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let se=_renderMatches(ie&&ie.map(oe=>Object.assign({},oe,{params:Object.assign({},G,oe.params),pathname:joinPaths([Z,L.encodeLocation?L.encodeLocation(oe.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:oe.pathname]),pathnameBase:oe.pathnameBase==="/"?Z:joinPaths([Z,L.encodeLocation?L.encodeLocation(oe.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:oe.pathnameBase])})),z,P,O,I);return R&&se?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...J},navigationType:"POP"}},se):se}function DefaultErrorComponent(){let _=useRouteError(),R=isRouteErrorResponse(_)?`${_.status} ${_.statusText}`:_ instanceof Error?_.message:JSON.stringify(_),P=_ instanceof Error?_.stack:null,O="rgba(200,200,200, 0.5)",I={padding:"0.5rem",backgroundColor:O},L={padding:"2px 4px",backgroundColor:O},z=null;return console.error("Error handled by React Router default ErrorBoundary:",_),z=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:L},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:L},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},R),P?reactExports.createElement("pre",{style:I},P):null,z)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(_){super(_),this.state={location:_.location,revalidation:_.revalidation,error:_.error}}static getDerivedStateFromError(_){return{error:_}}static getDerivedStateFromProps(_,R){return R.location!==_.location||R.revalidation!=="idle"&&_.revalidation==="idle"?{error:_.error,location:_.location,revalidation:_.revalidation}:{error:_.error!==void 0?_.error:R.error,location:R.location,revalidation:_.revalidation||R.revalidation}}componentDidCatch(_,R){this.props.onError?this.props.onError(_,R):console.error("React Router caught the following error during render",_)}render(){let _=this.state.error;if(this.context&&typeof _=="object"&&_&&"digest"in _&&typeof _.digest=="string"){const P=decodeRouteErrorResponseDigest(_.digest);P&&(_=P)}let R=_!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:_,children:this.props.component})):this.props.children;return this.context?reactExports.createElement(RSCErrorHandler,{error:_},R):R}};RenderErrorBoundary.contextType=RSCRouterContext;var errorRedirectHandledMap=new WeakMap;function RSCErrorHandler({children:_,error:R}){let{basename:P}=reactExports.useContext(NavigationContext);if(typeof R=="object"&&R&&"digest"in R&&typeof R.digest=="string"){let O=decodeRedirectErrorDigest(R.digest);if(O){let I=errorRedirectHandledMap.get(R);if(I)throw I;let L=parseToInfo(O.location,P);if(isBrowser&&!errorRedirectHandledMap.get(R))if(L.isExternal||O.reloadDocument)window.location.href=L.absoluteURL||L.to;else{const z=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(L.to,{replace:O.replace}));throw errorRedirectHandledMap.set(R,z),z}return reactExports.createElement("meta",{httpEquiv:"refresh",content:`0;url=${L.absoluteURL||L.to}`})}}return _}function RenderedRoute({routeContext:_,match:R,children:P}){let O=reactExports.useContext(DataRouterContext);return O&&O.static&&O.staticContext&&(R.route.errorElement||R.route.ErrorBoundary)&&(O.staticContext._deepestRenderedBoundaryId=R.route.id),reactExports.createElement(RouteContext.Provider,{value:_},P)}function _renderMatches(_,R=[],P=null,O=null,I=null){if(_==null){if(!P)return null;if(P.errors)_=P.matches;else if(R.length===0&&!P.initialized&&P.matches.length>0)_=P.matches;else return null}let L=_,z=P?.errors;if(z!=null){let Z=L.findIndex(Y=>Y.route.id&&z?.[Y.route.id]!==void 0);invariant(Z>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(z).join(",")}`),L=L.slice(0,Math.min(L.length,Z+1))}let F=!1,G=-1;if(P)for(let Z=0;Z<L.length;Z++){let Y=L[Z];if((Y.route.HydrateFallback||Y.route.hydrateFallbackElement)&&(G=Z),Y.route.id){let{loaderData:Q,errors:J}=P,te=Y.route.loader&&!Q.hasOwnProperty(Y.route.id)&&(!J||J[Y.route.id]===void 0);if(Y.route.lazy||te){F=!0,G>=0?L=L.slice(0,G+1):L=[L[0]];break}}}let V=P&&O?(Z,Y)=>{O(Z,{location:P.location,params:P.matches?.[0]?.params??{},unstable_pattern:getRoutePattern(P.matches),errorInfo:Y})}:void 0;return L.reduceRight((Z,Y,Q)=>{let J,te=!1,ne=null,ie=null;P&&(J=z&&Y.route.id?z[Y.route.id]:void 0,ne=Y.route.errorElement||defaultErrorElement,F&&(G<0&&Q===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),te=!0,ie=null):G===Q&&(te=!0,ie=Y.route.hydrateFallbackElement||null)));let se=R.concat(L.slice(0,Q+1)),oe=()=>{let ce;return J?ce=ne:te?ce=ie:Y.route.Component?ce=reactExports.createElement(Y.route.Component,null):Y.route.element?ce=Y.route.element:ce=Z,reactExports.createElement(RenderedRoute,{match:Y,routeContext:{outlet:Z,matches:se,isDataRoute:P!=null},children:ce})};return P&&(Y.route.ErrorBoundary||Y.route.errorElement||Q===0)?reactExports.createElement(RenderErrorBoundary,{location:P.location,revalidation:P.revalidation,component:ne,error:J,children:oe(),routeContext:{outlet:null,matches:se,isDataRoute:!0},onError:V}):oe()},null)}function getDataRouterConsoleError(_){return`${_} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(_){let R=reactExports.useContext(DataRouterContext);return invariant(R,getDataRouterConsoleError(_)),R}function useDataRouterState(_){let R=reactExports.useContext(DataRouterStateContext);return invariant(R,getDataRouterConsoleError(_)),R}function useRouteContext(_){let R=reactExports.useContext(RouteContext);return invariant(R,getDataRouterConsoleError(_)),R}function useCurrentRouteId(_){let R=useRouteContext(_),P=R.matches[R.matches.length-1];return invariant(P.route.id,`${_} can only be used on routes that contain a unique "id"`),P.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let _=reactExports.useContext(RouteErrorContext),R=useDataRouterState("useRouteError"),P=useCurrentRouteId("useRouteError");return _!==void 0?_:R.errors?.[P]}function useNavigateStable(){let{router:_}=useDataRouterContext("useNavigate"),R=useCurrentRouteId("useNavigate"),P=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{P.current=!0}),reactExports.useCallback(async(I,L={})=>{warning(P.current,navigateEffectWarning),P.current&&(typeof I=="number"?await _.navigate(I):await _.navigate(I,{fromRouteId:R,...L}))},[_,R])}var alreadyWarned={};function warningOnce(_,R,P){!R&&!alreadyWarned[_]&&(alreadyWarned[_]=!0,warning(!1,P))}reactExports.memo(DataRoutes);function DataRoutes({routes:_,future:R,state:P,onError:O}){return useRoutesImpl(_,void 0,P,O,R)}function Route(_){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:_="/",children:R=null,location:P,navigationType:O="POP",navigator:I,static:L=!1,unstable_useTransitions:z}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let F=_.replace(/^\/*/,"/"),G=reactExports.useMemo(()=>({basename:F,navigator:I,static:L,unstable_useTransitions:z,future:{}}),[F,I,L,z]);typeof P=="string"&&(P=parsePath(P));let{pathname:V="/",search:Z="",hash:Y="",state:Q=null,key:J="default"}=P,te=reactExports.useMemo(()=>{let ne=stripBasename(V,F);return ne==null?null:{location:{pathname:ne,search:Z,hash:Y,state:Q,key:J},navigationType:O}},[F,V,Z,Y,Q,J,O]);return warning(te!=null,`<Router basename="${F}"> is not able to match the URL "${V}${Z}${Y}" because it does not start with the basename, so the <Router> won't render anything.`),te==null?null:reactExports.createElement(NavigationContext.Provider,{value:G},reactExports.createElement(LocationContext.Provider,{children:R,value:te}))}function Routes({children:_,location:R}){return useRoutes(createRoutesFromChildren(_),R)}function createRoutesFromChildren(_,R=[]){let P=[];return reactExports.Children.forEach(_,(O,I)=>{if(!reactExports.isValidElement(O))return;let L=[...R,I];if(O.type===reactExports.Fragment){P.push.apply(P,createRoutesFromChildren(O.props.children,L));return}invariant(O.type===Route,`[${typeof O.type=="string"?O.type:O.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!O.props.index||!O.props.children,"An index route cannot have child routes.");let z={id:O.props.id||L.join("-"),caseSensitive:O.props.caseSensitive,element:O.props.element,Component:O.props.Component,index:O.props.index,path:O.props.path,middleware:O.props.middleware,loader:O.props.loader,action:O.props.action,hydrateFallbackElement:O.props.hydrateFallbackElement,HydrateFallback:O.props.HydrateFallback,errorElement:O.props.errorElement,ErrorBoundary:O.props.ErrorBoundary,hasErrorBoundary:O.props.hasErrorBoundary===!0||O.props.ErrorBoundary!=null||O.props.errorElement!=null,shouldRevalidate:O.props.shouldRevalidate,handle:O.props.handle,lazy:O.props.lazy};O.props.children&&(z.children=createRoutesFromChildren(O.props.children,L)),P.push(z)}),P}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(_){return typeof HTMLElement<"u"&&_ instanceof HTMLElement}function isButtonElement(_){return isHtmlElement(_)&&_.tagName.toLowerCase()==="button"}function isFormElement(_){return isHtmlElement(_)&&_.tagName.toLowerCase()==="form"}function isInputElement(_){return isHtmlElement(_)&&_.tagName.toLowerCase()==="input"}function isModifiedEvent(_){return!!(_.metaKey||_.altKey||_.ctrlKey||_.shiftKey)}function shouldProcessLinkClick(_,R){return _.button===0&&(!R||R==="_self")&&!isModifiedEvent(_)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(_){return _!=null&&!supportedFormEncTypes.has(_)?(warning(!1,`"${_}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):_}function getFormSubmissionInfo(_,R){let P,O,I,L,z;if(isFormElement(_)){let F=_.getAttribute("action");O=F?stripBasename(F,R):null,P=_.getAttribute("method")||defaultMethod,I=getFormEncType(_.getAttribute("enctype"))||defaultEncType,L=new FormData(_)}else if(isButtonElement(_)||isInputElement(_)&&(_.type==="submit"||_.type==="image")){let F=_.form;if(F==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let G=_.getAttribute("formaction")||F.getAttribute("action");if(O=G?stripBasename(G,R):null,P=_.getAttribute("formmethod")||F.getAttribute("method")||defaultMethod,I=getFormEncType(_.getAttribute("formenctype"))||getFormEncType(F.getAttribute("enctype"))||defaultEncType,L=new FormData(F,_),!isFormDataSubmitterSupported()){let{name:V,type:Z,value:Y}=_;if(Z==="image"){let Q=V?`${V}.`:"";L.append(`${Q}x`,"0"),L.append(`${Q}y`,"0")}else V&&L.append(V,Y)}}else{if(isHtmlElement(_))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');P=defaultMethod,O=null,I=defaultEncType,z=_}return L&&I==="text/plain"&&(z=L,L=void 0),{action:O,method:P.toLowerCase(),encType:I,formData:L,body:z}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(_,R){if(_===!1||_===null||typeof _>"u")throw new Error(R)}function singleFetchUrl(_,R,P,O){let I=typeof _=="string"?new URL(_,typeof window>"u"?"server://singlefetch/":window.location.origin):_;return P?I.pathname.endsWith("/")?I.pathname=`${I.pathname}_.${O}`:I.pathname=`${I.pathname}.${O}`:I.pathname==="/"?I.pathname=`_root.${O}`:R&&stripBasename(I.pathname,R)==="/"?I.pathname=`${R.replace(/\/$/,"")}/_root.${O}`:I.pathname=`${I.pathname.replace(/\/$/,"")}.${O}`,I}async function loadRouteModule(_,R){if(_.id in R)return R[_.id];try{let P=await import(_.module);return R[_.id]=P,P}catch(P){return console.error(`Error loading route module \`${_.module}\`, reloading page...`),console.error(P),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(_){return _==null?!1:_.href==null?_.rel==="preload"&&typeof _.imageSrcSet=="string"&&typeof _.imageSizes=="string":typeof _.rel=="string"&&typeof _.href=="string"}async function getKeyedPrefetchLinks(_,R,P){let O=await Promise.all(_.map(async I=>{let L=R.routes[I.route.id];if(L){let z=await loadRouteModule(L,P);return z.links?z.links():[]}return[]}));return dedupeLinkDescriptors(O.flat(1).filter(isHtmlLinkDescriptor).filter(I=>I.rel==="stylesheet"||I.rel==="preload").map(I=>I.rel==="stylesheet"?{...I,rel:"prefetch",as:"style"}:{...I,rel:"prefetch"}))}function getNewMatchesForLinks(_,R,P,O,I,L){let z=(G,V)=>P[V]?G.route.id!==P[V].route.id:!0,F=(G,V)=>P[V].pathname!==G.pathname||P[V].route.path?.endsWith("*")&&P[V].params["*"]!==G.params["*"];return L==="assets"?R.filter((G,V)=>z(G,V)||F(G,V)):L==="data"?R.filter((G,V)=>{let Z=O.routes[G.route.id];if(!Z||!Z.hasLoader)return!1;if(z(G,V)||F(G,V))return!0;if(G.route.shouldRevalidate){let Y=G.route.shouldRevalidate({currentUrl:new URL(I.pathname+I.search+I.hash,window.origin),currentParams:P[0]?.params||{},nextUrl:new URL(_,window.origin),nextParams:G.params,defaultShouldRevalidate:!0});if(typeof Y=="boolean")return Y}return!0}):[]}function getModuleLinkHrefs(_,R,{includeHydrateFallback:P}={}){return dedupeHrefs(_.map(O=>{let I=R.routes[O.route.id];if(!I)return[];let L=[I.module];return I.clientActionModule&&(L=L.concat(I.clientActionModule)),I.clientLoaderModule&&(L=L.concat(I.clientLoaderModule)),P&&I.hydrateFallbackModule&&(L=L.concat(I.hydrateFallbackModule)),I.imports&&(L=L.concat(I.imports)),L}).flat(1))}function dedupeHrefs(_){return[...new Set(_)]}function sortKeys(_){let R={},P=Object.keys(_).sort();for(let O of P)R[O]=_[O];return R}function dedupeLinkDescriptors(_,R){let P=new Set;return new Set(R),_.reduce((O,I)=>{let L=JSON.stringify(sortKeys(I));return P.has(L)||(P.add(L),O.push({key:L,link:I})),O},[])}function useDataRouterContext2(){let _=reactExports.useContext(DataRouterContext);return invariant2(_,"You must render this element inside a <DataRouterContext.Provider> element"),_}function useDataRouterStateContext(){let _=reactExports.useContext(DataRouterStateContext);return invariant2(_,"You must render this element inside a <DataRouterStateContext.Provider> element"),_}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let _=reactExports.useContext(FrameworkContext);return invariant2(_,"You must render this element inside a <HydratedRouter> element"),_}function usePrefetchBehavior(_,R){let P=reactExports.useContext(FrameworkContext),[O,I]=reactExports.useState(!1),[L,z]=reactExports.useState(!1),{onFocus:F,onBlur:G,onMouseEnter:V,onMouseLeave:Z,onTouchStart:Y}=R,Q=reactExports.useRef(null);reactExports.useEffect(()=>{if(_==="render"&&z(!0),_==="viewport"){let ne=se=>{se.forEach(oe=>{z(oe.isIntersecting)})},ie=new IntersectionObserver(ne,{threshold:.5});return Q.current&&ie.observe(Q.current),()=>{ie.disconnect()}}},[_]),reactExports.useEffect(()=>{if(O){let ne=setTimeout(()=>{z(!0)},100);return()=>{clearTimeout(ne)}}},[O]);let J=()=>{I(!0)},te=()=>{I(!1),z(!1)};return P?_!=="intent"?[L,Q,{}]:[L,Q,{onFocus:composeEventHandlers(F,J),onBlur:composeEventHandlers(G,te),onMouseEnter:composeEventHandlers(V,J),onMouseLeave:composeEventHandlers(Z,te),onTouchStart:composeEventHandlers(Y,J)}]:[!1,Q,{}]}function composeEventHandlers(_,R){return P=>{_&&_(P),P.defaultPrevented||R(P)}}function PrefetchPageLinks({page:_,...R}){let{router:P}=useDataRouterContext2(),O=reactExports.useMemo(()=>matchRoutes(P.routes,_,P.basename),[P.routes,_,P.basename]);return O?reactExports.createElement(PrefetchPageLinksImpl,{page:_,matches:O,...R}):null}function useKeyedPrefetchLinks(_){let{manifest:R,routeModules:P}=useFrameworkContext(),[O,I]=reactExports.useState([]);return reactExports.useEffect(()=>{let L=!1;return getKeyedPrefetchLinks(_,R,P).then(z=>{L||I(z)}),()=>{L=!0}},[_,R,P]),O}function PrefetchPageLinksImpl({page:_,matches:R,...P}){let O=useLocation(),{future:I,manifest:L,routeModules:z}=useFrameworkContext(),{basename:F}=useDataRouterContext2(),{loaderData:G,matches:V}=useDataRouterStateContext(),Z=reactExports.useMemo(()=>getNewMatchesForLinks(_,R,V,L,O,"data"),[_,R,V,L,O]),Y=reactExports.useMemo(()=>getNewMatchesForLinks(_,R,V,L,O,"assets"),[_,R,V,L,O]),Q=reactExports.useMemo(()=>{if(_===O.pathname+O.search+O.hash)return[];let ne=new Set,ie=!1;if(R.forEach(oe=>{let ce=L.routes[oe.route.id];!ce||!ce.hasLoader||(!Z.some(ue=>ue.route.id===oe.route.id)&&oe.route.id in G&&z[oe.route.id]?.shouldRevalidate||ce.hasClientLoader?ie=!0:ne.add(oe.route.id))}),ne.size===0)return[];let se=singleFetchUrl(_,F,I.unstable_trailingSlashAwareDataRequests,"data");return ie&&ne.size>0&&se.searchParams.set("_routes",R.filter(oe=>ne.has(oe.route.id)).map(oe=>oe.route.id).join(",")),[se.pathname+se.search]},[F,I.unstable_trailingSlashAwareDataRequests,G,O,L,Z,R,_,z]),J=reactExports.useMemo(()=>getModuleLinkHrefs(Y,L),[Y,L]),te=useKeyedPrefetchLinks(Y);return reactExports.createElement(reactExports.Fragment,null,Q.map(ne=>reactExports.createElement("link",{key:ne,rel:"prefetch",as:"fetch",href:ne,...P})),J.map(ne=>reactExports.createElement("link",{key:ne,rel:"modulepreload",href:ne,...P})),te.map(({key:ne,link:ie})=>reactExports.createElement("link",{key:ne,nonce:P.nonce,...ie})))}function mergeRefs(..._){return R=>{_.forEach(P=>{typeof P=="function"?P(R):P!=null&&(P.current=R)})}}var isBrowser2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser2&&(window.__reactRouterVersion="7.12.0")}catch(_){}function HashRouter({basename:_,children:R,unstable_useTransitions:P,window:O}){let I=reactExports.useRef();I.current==null&&(I.current=createHashHistory({window:O,v5Compat:!0}));let L=I.current,[z,F]=reactExports.useState({action:L.action,location:L.location}),G=reactExports.useCallback(V=>{P===!1?F(V):reactExports.startTransition(()=>F(V))},[P]);return reactExports.useLayoutEffect(()=>L.listen(G),[L,G]),reactExports.createElement(Router,{basename:_,children:R,location:z.location,navigationType:z.action,navigator:L,unstable_useTransitions:P})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function _({onClick:R,discover:P="render",prefetch:O="none",relative:I,reloadDocument:L,replace:z,state:F,target:G,to:V,preventScrollReset:Z,viewTransition:Y,unstable_defaultShouldRevalidate:Q,...J},te){let{basename:ne,unstable_useTransitions:ie}=reactExports.useContext(NavigationContext),se=typeof V=="string"&&ABSOLUTE_URL_REGEX2.test(V),oe=parseToInfo(V,ne);V=oe.to;let ce=useHref(V,{relative:I}),[ue,me,he]=usePrefetchBehavior(O,J),fe=useLinkClickHandler(V,{replace:z,state:F,target:G,preventScrollReset:Z,relative:I,viewTransition:Y,unstable_defaultShouldRevalidate:Q,unstable_useTransitions:ie});function de(be){R&&R(be),be.defaultPrevented||fe(be)}let pe=reactExports.createElement("a",{...J,...he,href:oe.absoluteURL||ce,onClick:oe.isExternal||L?R:de,ref:mergeRefs(te,me),target:G,"data-discover":!se&&P==="render"?"true":void 0});return ue&&!se?reactExports.createElement(reactExports.Fragment,null,pe,reactExports.createElement(PrefetchPageLinks,{page:ce})):pe});Link$1.displayName="Link";var NavLink=reactExports.forwardRef(function _({"aria-current":R="page",caseSensitive:P=!1,className:O="",end:I=!1,style:L,to:z,viewTransition:F,children:G,...V},Z){let Y=useResolvedPath(z,{relative:V.relative}),Q=useLocation(),J=reactExports.useContext(DataRouterStateContext),{navigator:te,basename:ne}=reactExports.useContext(NavigationContext),ie=J!=null&&useViewTransitionState(Y)&&F===!0,se=te.encodeLocation?te.encodeLocation(Y).pathname:Y.pathname,oe=Q.pathname,ce=J&&J.navigation&&J.navigation.location?J.navigation.location.pathname:null;P||(oe=oe.toLowerCase(),ce=ce?ce.toLowerCase():null,se=se.toLowerCase()),ce&&ne&&(ce=stripBasename(ce,ne)||ce);const ue=se!=="/"&&se.endsWith("/")?se.length-1:se.length;let me=oe===se||!I&&oe.startsWith(se)&&oe.charAt(ue)==="/",he=ce!=null&&(ce===se||!I&&ce.startsWith(se)&&ce.charAt(se.length)==="/"),fe={isActive:me,isPending:he,isTransitioning:ie},de=me?R:void 0,pe;typeof O=="function"?pe=O(fe):pe=[O,me?"active":null,he?"pending":null,ie?"transitioning":null].filter(Boolean).join(" ");let be=typeof L=="function"?L(fe):L;return reactExports.createElement(Link$1,{...V,"aria-current":de,className:pe,ref:Z,style:be,to:z,viewTransition:F},typeof G=="function"?G(fe):G)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:_="render",fetcherKey:R,navigate:P,reloadDocument:O,replace:I,state:L,method:z=defaultMethod,action:F,onSubmit:G,relative:V,preventScrollReset:Z,viewTransition:Y,unstable_defaultShouldRevalidate:Q,...J},te)=>{let{unstable_useTransitions:ne}=reactExports.useContext(NavigationContext),ie=useSubmit(),se=useFormAction(F,{relative:V}),oe=z.toLowerCase()==="get"?"get":"post",ce=typeof F=="string"&&ABSOLUTE_URL_REGEX2.test(F),ue=me=>{if(G&&G(me),me.defaultPrevented)return;me.preventDefault();let he=me.nativeEvent.submitter,fe=he?.getAttribute("formmethod")||z,de=()=>ie(he||me.currentTarget,{fetcherKey:R,method:fe,navigate:P,replace:I,state:L,relative:V,preventScrollReset:Z,viewTransition:Y,unstable_defaultShouldRevalidate:Q});ne&&P!==!1?reactExports.startTransition(()=>de()):de()};return reactExports.createElement("form",{ref:te,method:oe,action:se,onSubmit:O?G:ue,...J,"data-discover":!ce&&_==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(_){return`${_} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(_){let R=reactExports.useContext(DataRouterContext);return invariant(R,getDataRouterConsoleError2(_)),R}function useLinkClickHandler(_,{target:R,replace:P,state:O,preventScrollReset:I,relative:L,viewTransition:z,unstable_defaultShouldRevalidate:F,unstable_useTransitions:G}={}){let V=useNavigate(),Z=useLocation(),Y=useResolvedPath(_,{relative:L});return reactExports.useCallback(Q=>{if(shouldProcessLinkClick(Q,R)){Q.preventDefault();let J=P!==void 0?P:createPath(Z)===createPath(Y),te=()=>V(_,{replace:J,state:O,preventScrollReset:I,relative:L,viewTransition:z,unstable_defaultShouldRevalidate:F});G?reactExports.startTransition(()=>te()):te()}},[Z,V,Y,P,O,R,_,I,L,z,F,G])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:_}=useDataRouterContext3("useSubmit"),{basename:R}=reactExports.useContext(NavigationContext),P=useRouteId(),O=_.fetch,I=_.navigate;return reactExports.useCallback(async(L,z={})=>{let{action:F,method:G,encType:V,formData:Z,body:Y}=getFormSubmissionInfo(L,R);if(z.navigate===!1){let Q=z.fetcherKey||getUniqueFetcherId();await O(Q,P,z.action||F,{unstable_defaultShouldRevalidate:z.unstable_defaultShouldRevalidate,preventScrollReset:z.preventScrollReset,formData:Z,body:Y,formMethod:z.method||G,formEncType:z.encType||V,flushSync:z.flushSync})}else await I(z.action||F,{unstable_defaultShouldRevalidate:z.unstable_defaultShouldRevalidate,preventScrollReset:z.preventScrollReset,formData:Z,body:Y,formMethod:z.method||G,formEncType:z.encType||V,replace:z.replace,state:z.state,fromRouteId:P,flushSync:z.flushSync,viewTransition:z.viewTransition})},[O,I,R,P])}function useFormAction(_,{relative:R}={}){let{basename:P}=reactExports.useContext(NavigationContext),O=reactExports.useContext(RouteContext);invariant(O,"useFormAction must be used inside a RouteContext");let[I]=O.matches.slice(-1),L={...useResolvedPath(_||".",{relative:R})},z=useLocation();if(_==null){L.search=z.search;let F=new URLSearchParams(L.search),G=F.getAll("index");if(G.some(Z=>Z==="")){F.delete("index"),G.filter(Y=>Y).forEach(Y=>F.append("index",Y));let Z=F.toString();L.search=Z?`?${Z}`:""}}return(!_||_===".")&&I.route.index&&(L.search=L.search?L.search.replace(/^\?/,"?index&"):"?index"),P!=="/"&&(L.pathname=L.pathname==="/"?P:joinPaths([P,L.pathname])),createPath(L)}function useViewTransitionState(_,{relative:R}={}){let P=reactExports.useContext(ViewTransitionContext);invariant(P!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:O}=useDataRouterContext3("useViewTransitionState"),I=useResolvedPath(_,{relative:R});if(!P.isTransitioning)return!1;let L=stripBasename(P.currentLocation.pathname,O)||P.currentLocation.pathname,z=stripBasename(P.nextLocation.pathname,O)||P.nextLocation.pathname;return matchPath(I.pathname,z)!=null||matchPath(I.pathname,L)!=null}const ModelContext=reactExports.createContext(void 0);function ModelProvider({children:_}){const R=modelRegistry.getModelNames(),P=modelRegistry.getDefault()||(R.length>0?modelRegistry.get(R[0]):void 0);if(!P)throw new Error("No models registered. Import @/models to register models.");const[O,I]=reactExports.useState(P),[L,z]=reactExports.useState(P.defaultParams),F=reactExports.useCallback(V=>{const Z=modelRegistry.get(V);Z?(I(Z),z(Z.defaultParams)):console.warn(`Model "${V}" not found in registry`)},[]),G=reactExports.useCallback(V=>{z(V)},[]);return jsxRuntimeExports.jsx(ModelContext.Provider,{value:{currentModel:O,currentParams:L,setModel:F,setParams:G,availableModels:R},children:_})}function useModel(){const _=reactExports.useContext(ModelContext);if(!_)throw new Error("useModel must be used within a ModelProvider");return _}function ModelSelector(){const{currentModel:_,setModel:R,availableModels:P}=useModel();return P.length<=1?null:jsxRuntimeExports.jsxs(Select,{value:_.id,onValueChange:R,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[180px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select model"})}),jsxRuntimeExports.jsx(SelectContent,{children:P.map(O=>{const I=modelRegistry.get(O),L=I?I.version:"",z=I?.name||O;return jsxRuntimeExports.jsxs(SelectItem,{value:O,children:[z," ",L&&`v${L}`]},O)})})]})}function Header$1({isDark:_,onToggleTheme:R}){return jsxRuntimeExports.jsx("header",{className:"border-b bg-card",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold",children:"Simulator"}),jsxRuntimeExports.jsx(ModelSelector,{}),jsxRuntimeExports.jsx(Link$1,{to:"/docs",className:"text-sm text-muted-foreground hover:text-foreground",children:"Documentation"})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:R,"aria-label":"Toggle theme",children:_?jsxRuntimeExports.jsx(Sun,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(Moon,{className:"h-5 w-5"})})]})})}const ThemeContext=reactExports.createContext(void 0);function ThemeProvider({children:_}){const[R,P]=reactExports.useState(()=>typeof window<"u"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1);reactExports.useEffect(()=>{document.documentElement.classList.toggle("dark",R)},[R]);const O=()=>P(I=>!I);return jsxRuntimeExports.jsx(ThemeContext.Provider,{value:{isDark:R,toggleTheme:O},children:_})}function useTheme(){const _=reactExports.useContext(ThemeContext);if(!_)throw new Error("useTheme must be used within a ThemeProvider");return _}const MessagesContext=reactExports.createContext(null);let messageIdCounter=0;function MessagesProvider({children:_}){const[R,P]=reactExports.useState([]),O=reactExports.useCallback((L,z="info")=>{const F={id:messageIdCounter++,type:z,text:L,timestamp:new Date};P(G=>[...G,F])},[]),I=reactExports.useCallback(()=>{P([])},[]);return jsxRuntimeExports.jsx(MessagesContext.Provider,{value:{messages:R,addMessage:O,clearMessages:I},children:_})}function AppLayoutInner({children:_}){const{isDark:R,toggleTheme:P}=useTheme();return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col bg-background text-foreground",children:[jsxRuntimeExports.jsx(Header$1,{isDark:R,onToggleTheme:P}),jsxRuntimeExports.jsx("main",{className:"flex-1 container mx-auto px-4 py-4",children:_})]})}function AppLayout({children:_}){return jsxRuntimeExports.jsx(ThemeProvider,{children:jsxRuntimeExports.jsx(AppLayoutInner,{children:_})})}class SimulationRenderer{app;mainContainer;cellsContainer;linksContainer;overlayContainer;uiContainer;isDark;renderOptions={};model=null;params=null;scale=1;centerX=0;centerY=0;constructor(R){this.isDark=R.isDark??!1,this.app=new Application,this.linksContainer=new Container,this.cellsContainer=new Container,this.overlayContainer=new Container,this.mainContainer=new Container,this.uiContainer=new Container,this.mainContainer.addChild(this.linksContainer),this.mainContainer.addChild(this.cellsContainer),this.mainContainer.addChild(this.overlayContainer)}async init(R){const P=this.model?.renderer.getBackgroundColor(this.isDark)??16777215;await this.app.init({canvas:R,width:R.width,height:R.height,backgroundColor:P,antialias:!0,resolution:window.devicePixelRatio||1,autoDensity:!0,preserveDrawingBuffer:!0}),this.app.stage.addChild(this.mainContainer),this.app.stage.addChild(this.uiContainer)}setModel(R){this.model=R;const P=R.renderer.getBackgroundColor(this.isDark);this.app.renderer&&(this.app.renderer.background.color=P)}setParams(R){this.params=R,this.updateViewport()}setDarkMode(R){if(this.isDark=R,this.model&&this.app.renderer){const P=this.model.renderer.getBackgroundColor(R);this.app.renderer.background.color=P}}setRenderOptions(R){this.renderOptions=R}resize(R,P){this.app.renderer&&(this.app.renderer.resize(R,P),this.updateViewport())}updateViewport(){if(!this.model||!this.params||!this.app.renderer)return;const R=this.app.renderer.width,P=this.app.renderer.height,O=this.model.renderer.getBoundingBox(this.params,void 0),I=.1,L=(O.maxX-O.minX)*(1+2*I),z=(O.maxY-O.minY)*(1+2*I);this.centerX=(O.minX+O.maxX)/2,this.centerY=(O.minY+O.maxY)/2;const F=R/L,G=P/z;this.scale=Math.min(F,G),this.mainContainer.scale.set(this.scale,-this.scale),this.mainContainer.position.set(R/2-this.centerX*this.scale,P/2+this.centerY*this.scale)}render(R){if(!this.model||!this.params)return;this.cellsContainer.removeChildren(),this.linksContainer.removeChildren(),this.overlayContainer.removeChildren(),this.uiContainer.removeChildren();const P=new Graphics,O=new Graphics,I=new Graphics;this.cellsContainer.addChild(P),this.linksContainer.addChild(O),this.overlayContainer.addChild(I);const L=this.app.renderer?.width??800,z=this.app.renderer?.height??600,F={graphics:{cells:P,links:O,overlay:I},uiContainer:this.uiContainer,isDark:this.isDark,scale:this.scale,viewportCenter:{x:this.centerX,y:this.centerY},canvasSize:{width:L,height:z},renderOptions:this.renderOptions};this.model.renderer.render(F,R,this.params),this.renderOptions.showScaleBar!==!1&&this.drawScaleBar()}drawScaleBar(){if(!this.app.renderer)return;const R=this.app.renderer.width,P=this.app.renderer.height,I=2*this.scale,L=20,z=R-L-I,F=P-L-10,G=this.isDark?11579600:6579300,V=this.isDark?11581695:5263520,Z=new Graphics;Z.moveTo(z,F),Z.lineTo(z+I,F),Z.stroke({color:G,alpha:1,width:2}),Z.moveTo(z,F-5),Z.lineTo(z,F+5),Z.moveTo(z+I,F-5),Z.lineTo(z+I,F+5),Z.stroke({color:G,alpha:1,width:2}),this.uiContainer.addChild(Z);const Y=new TextStyle({fontFamily:"monospace",fontSize:12,fill:V}),Q=new Text$1({text:"10 m",style:Y});Q.anchor.set(.5,0),Q.position.set(z+I/2,F+8),this.uiContainer.addChild(Q)}getApp(){return this.app}destroy(){this.app.destroy(!0)}}const SimulationCanvas=reactExports.forwardRef(({state:_,params:R,minHeight:P=350,aspectRatio:O=1,className:I,style:L,renderOptions:z={}},F)=>{const G=reactExports.useRef(null),V=reactExports.useRef(null),Z=reactExports.useRef(null),Y=reactExports.useRef(null),Q=reactExports.useRef([]),[J,te]=reactExports.useState(!1),[ne,ie]=reactExports.useState({width:800,height:P}),{isDark:se}=useTheme(),{currentModel:oe}=useModel();reactExports.useImperativeHandle(F,()=>({getScreenshot:()=>V.current?V.current.toDataURL("image/png"):null,startRecording:()=>{if(!V.current||Y.current)return;const ue=V.current.captureStream(30),me=MediaRecorder.isTypeSupported("video/webm;codecs=vp9")?"video/webm;codecs=vp9":"video/webm",he=new MediaRecorder(ue,{mimeType:me});Q.current=[],he.ondataavailable=fe=>{fe.data.size>0&&Q.current.push(fe.data)},Y.current=he,he.start(100)},stopRecording:()=>new Promise(ue=>{const me=Y.current;if(!me){ue(null);return}me.onstop=()=>{const he=new Blob(Q.current,{type:"video/webm"});Q.current=[],Y.current=null,ue(he)},me.stop()}),isRecording:()=>Y.current?.state==="recording"}),[]);const ce=reactExports.useCallback(()=>{if(G.current){const ue=G.current.getBoundingClientRect(),me=Math.floor(ue.width),he=Math.floor(me/O),fe=Math.max(P,he);me>0&&fe>0&&ie({width:me,height:fe})}},[P,O]);return reactExports.useEffect(()=>{const ue=G.current;if(!ue)return;ce();const me=new ResizeObserver(()=>{ce()});return me.observe(ue),window.addEventListener("resize",ce),()=>{me.disconnect(),window.removeEventListener("resize",ce)}},[ce]),reactExports.useEffect(()=>{const ue=V.current;if(!ue)return;let me=!0;return(async()=>{const fe=new SimulationRenderer({width:ne.width,height:ne.height,isDark:se});await fe.init(ue),me&&(Z.current=fe,fe.setModel(oe),fe.setParams(R),te(!0))})(),()=>{me=!1,Z.current&&(Z.current.destroy(),Z.current=null),te(!1)}},[]),reactExports.useEffect(()=>{Z.current&&J&&(Z.current.setParams(R),_&&Z.current.render(_))},[R,J,_]),reactExports.useEffect(()=>{Z.current&&J&&ne.width>0&&ne.height>0&&(Z.current.resize(ne.width,ne.height),_&&Z.current.render(_))},[ne.width,ne.height,J,_]),reactExports.useEffect(()=>{Z.current&&_&&J&&Z.current.render(_)},[_,J]),reactExports.useEffect(()=>{Z.current&&J&&(Z.current.setDarkMode(se),_&&Z.current.render(_))},[se,J,_]),reactExports.useEffect(()=>{Z.current&&J&&(Z.current.setModel(oe),Z.current.setParams(R),_&&Z.current.render(_))},[oe,J,_,R]),reactExports.useEffect(()=>{Z.current&&J&&(Z.current.setRenderOptions(z),_&&Z.current.render(_))},[z,J,_]),jsxRuntimeExports.jsx("div",{ref:G,className:I,style:{width:"100%",minHeight:`${P}px`,...L},children:jsxRuntimeExports.jsx("canvas",{ref:V,width:ne.width,height:ne.height,style:{display:"block",width:"100%",height:"100%"}})})});SimulationCanvas.displayName="SimulationCanvas";var PAGE_KEYS=["PageUp","PageDown"],ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},SLIDER_NAME="Slider",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(SLIDER_NAME),[createSliderContext]=createContextScope$1(SLIDER_NAME,[createCollectionScope$2]),[SliderProvider,useSliderContext]=createSliderContext(SLIDER_NAME),Slider$1=reactExports.forwardRef((_,R)=>{const{name:P,min:O=0,max:I=100,step:L=1,orientation:z="horizontal",disabled:F=!1,minStepsBetweenThumbs:G=0,defaultValue:V=[O],value:Z,onValueChange:Y=()=>{},onValueCommit:Q=()=>{},inverted:J=!1,form:te,...ne}=_,ie=reactExports.useRef(new Set),se=reactExports.useRef(0),ce=z==="horizontal"?SliderHorizontal:SliderVertical,[ue=[],me]=useControllableState({prop:Z,defaultProp:V,onChange:ye=>{[...ie.current][se.current]?.focus(),Y(ye)}}),he=reactExports.useRef(ue);function fe(ye){const we=getClosestValueIndex(ue,ye);be(ye,we)}function de(ye){be(ye,se.current)}function pe(){const ye=he.current[se.current];ue[se.current]!==ye&&Q(ue)}function be(ye,we,{commit:ve}={commit:!1}){const Ae=getDecimalCount(L),Ce=roundValue(Math.round((ye-O)/L)*L+O,Ae),_e=clamp$1(Ce,[O,I]);me((Re=[])=>{const Me=getNextSortedValues(Re,_e,we);if(hasMinStepsBetweenValues(Me,G*L)){se.current=Me.indexOf(_e);const $e=String(Me)!==String(Re);return $e&&ve&&Q(Me),$e?Me:Re}else return Re})}return jsxRuntimeExports.jsx(SliderProvider,{scope:_.__scopeSlider,name:P,disabled:F,min:O,max:I,valueIndexToChangeRef:se,thumbs:ie.current,values:ue,orientation:z,form:te,children:jsxRuntimeExports.jsx(Collection$2.Provider,{scope:_.__scopeSlider,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:_.__scopeSlider,children:jsxRuntimeExports.jsx(ce,{"aria-disabled":F,"data-disabled":F?"":void 0,...ne,ref:R,onPointerDown:composeEventHandlers$1(ne.onPointerDown,()=>{F||(he.current=ue)}),min:O,max:I,inverted:J,onSlideStart:F?void 0:fe,onSlideMove:F?void 0:de,onSlideEnd:F?void 0:pe,onHomeKeyDown:()=>!F&&be(O,0,{commit:!0}),onEndKeyDown:()=>!F&&be(I,ue.length-1,{commit:!0}),onStepKeyDown:({event:ye,direction:we})=>{if(!F){const Ce=PAGE_KEYS.includes(ye.key)||ye.shiftKey&&ARROW_KEYS.includes(ye.key)?10:1,_e=se.current,Re=ue[_e],Me=L*Ce*we;be(Re+Me,_e,{commit:!0})}}})})})})});Slider$1.displayName=SLIDER_NAME;var[SliderOrientationProvider,useSliderOrientationContext]=createSliderContext(SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SliderHorizontal=reactExports.forwardRef((_,R)=>{const{min:P,max:O,dir:I,inverted:L,onSlideStart:z,onSlideMove:F,onSlideEnd:G,onStepKeyDown:V,...Z}=_,[Y,Q]=reactExports.useState(null),J=useComposedRefs(R,ce=>Q(ce)),te=reactExports.useRef(void 0),ne=useDirection(I),ie=ne==="ltr",se=ie&&!L||!ie&&L;function oe(ce){const ue=te.current||Y.getBoundingClientRect(),me=[0,ue.width],fe=linearScale$1(me,se?[P,O]:[O,P]);return te.current=ue,fe(ce-ue.left)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:_.__scopeSlider,startEdge:se?"left":"right",endEdge:se?"right":"left",direction:se?1:-1,size:"width",children:jsxRuntimeExports.jsx(SliderImpl,{dir:ne,"data-orientation":"horizontal",...Z,ref:J,style:{...Z.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:ce=>{const ue=oe(ce.clientX);z?.(ue)},onSlideMove:ce=>{const ue=oe(ce.clientX);F?.(ue)},onSlideEnd:()=>{te.current=void 0,G?.()},onStepKeyDown:ce=>{const me=BACK_KEYS[se?"from-left":"from-right"].includes(ce.key);V?.({event:ce,direction:me?-1:1})}})})}),SliderVertical=reactExports.forwardRef((_,R)=>{const{min:P,max:O,inverted:I,onSlideStart:L,onSlideMove:z,onSlideEnd:F,onStepKeyDown:G,...V}=_,Z=reactExports.useRef(null),Y=useComposedRefs(R,Z),Q=reactExports.useRef(void 0),J=!I;function te(ne){const ie=Q.current||Z.current.getBoundingClientRect(),se=[0,ie.height],ce=linearScale$1(se,J?[O,P]:[P,O]);return Q.current=ie,ce(ne-ie.top)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:_.__scopeSlider,startEdge:J?"bottom":"top",endEdge:J?"top":"bottom",size:"height",direction:J?1:-1,children:jsxRuntimeExports.jsx(SliderImpl,{"data-orientation":"vertical",...V,ref:Y,style:{...V.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:ne=>{const ie=te(ne.clientY);L?.(ie)},onSlideMove:ne=>{const ie=te(ne.clientY);z?.(ie)},onSlideEnd:()=>{Q.current=void 0,F?.()},onStepKeyDown:ne=>{const se=BACK_KEYS[J?"from-bottom":"from-top"].includes(ne.key);G?.({event:ne,direction:se?-1:1})}})})}),SliderImpl=reactExports.forwardRef((_,R)=>{const{__scopeSlider:P,onSlideStart:O,onSlideMove:I,onSlideEnd:L,onHomeKeyDown:z,onEndKeyDown:F,onStepKeyDown:G,...V}=_,Z=useSliderContext(SLIDER_NAME,P);return jsxRuntimeExports.jsx(Primitive$2.span,{...V,ref:R,onKeyDown:composeEventHandlers$1(_.onKeyDown,Y=>{Y.key==="Home"?(z(Y),Y.preventDefault()):Y.key==="End"?(F(Y),Y.preventDefault()):PAGE_KEYS.concat(ARROW_KEYS).includes(Y.key)&&(G(Y),Y.preventDefault())}),onPointerDown:composeEventHandlers$1(_.onPointerDown,Y=>{const Q=Y.target;Q.setPointerCapture(Y.pointerId),Y.preventDefault(),Z.thumbs.has(Q)?Q.focus():O(Y)}),onPointerMove:composeEventHandlers$1(_.onPointerMove,Y=>{Y.target.hasPointerCapture(Y.pointerId)&&I(Y)}),onPointerUp:composeEventHandlers$1(_.onPointerUp,Y=>{const Q=Y.target;Q.hasPointerCapture(Y.pointerId)&&(Q.releasePointerCapture(Y.pointerId),L(Y))})})}),TRACK_NAME="SliderTrack",SliderTrack=reactExports.forwardRef((_,R)=>{const{__scopeSlider:P,...O}=_,I=useSliderContext(TRACK_NAME,P);return jsxRuntimeExports.jsx(Primitive$2.span,{"data-disabled":I.disabled?"":void 0,"data-orientation":I.orientation,...O,ref:R})});SliderTrack.displayName=TRACK_NAME;var RANGE_NAME="SliderRange",SliderRange=reactExports.forwardRef((_,R)=>{const{__scopeSlider:P,...O}=_,I=useSliderContext(RANGE_NAME,P),L=useSliderOrientationContext(RANGE_NAME,P),z=reactExports.useRef(null),F=useComposedRefs(R,z),G=I.values.length,V=I.values.map(Q=>convertValueToPercentage(Q,I.min,I.max)),Z=G>1?Math.min(...V):0,Y=100-Math.max(...V);return jsxRuntimeExports.jsx(Primitive$2.span,{"data-orientation":I.orientation,"data-disabled":I.disabled?"":void 0,...O,ref:F,style:{..._.style,[L.startEdge]:Z+"%",[L.endEdge]:Y+"%"}})});SliderRange.displayName=RANGE_NAME;var THUMB_NAME$1="SliderThumb",SliderThumb=reactExports.forwardRef((_,R)=>{const P=useCollection$2(_.__scopeSlider),[O,I]=reactExports.useState(null),L=useComposedRefs(R,F=>I(F)),z=reactExports.useMemo(()=>O?P().findIndex(F=>F.ref.current===O):-1,[P,O]);return jsxRuntimeExports.jsx(SliderThumbImpl,{..._,ref:L,index:z})}),SliderThumbImpl=reactExports.forwardRef((_,R)=>{const{__scopeSlider:P,index:O,name:I,...L}=_,z=useSliderContext(THUMB_NAME$1,P),F=useSliderOrientationContext(THUMB_NAME$1,P),[G,V]=reactExports.useState(null),Z=useComposedRefs(R,oe=>V(oe)),Y=G?z.form||!!G.closest("form"):!0,Q=useSize(G),J=z.values[O],te=J===void 0?0:convertValueToPercentage(J,z.min,z.max),ne=getLabel(O,z.values.length),ie=Q?.[F.size],se=ie?getThumbInBoundsOffset(ie,te,F.direction):0;return reactExports.useEffect(()=>{if(G)return z.thumbs.add(G),()=>{z.thumbs.delete(G)}},[G,z.thumbs]),jsxRuntimeExports.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[F.startEdge]:`calc(${te}% + ${se}px)`},children:[jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:_.__scopeSlider,children:jsxRuntimeExports.jsx(Primitive$2.span,{role:"slider","aria-label":_["aria-label"]||ne,"aria-valuemin":z.min,"aria-valuenow":J,"aria-valuemax":z.max,"aria-orientation":z.orientation,"data-orientation":z.orientation,"data-disabled":z.disabled?"":void 0,tabIndex:z.disabled?void 0:0,...L,ref:Z,style:J===void 0?{display:"none"}:_.style,onFocus:composeEventHandlers$1(_.onFocus,()=>{z.valueIndexToChangeRef.current=O})})}),Y&&jsxRuntimeExports.jsx(SliderBubbleInput,{name:I??(z.name?z.name+(z.values.length>1?"[]":""):void 0),form:z.form,value:J},O)]})});SliderThumb.displayName=THUMB_NAME$1;var BUBBLE_INPUT_NAME="RadioBubbleInput",SliderBubbleInput=reactExports.forwardRef(({__scopeSlider:_,value:R,...P},O)=>{const I=reactExports.useRef(null),L=useComposedRefs(I,O),z=usePrevious(R);return reactExports.useEffect(()=>{const F=I.current;if(!F)return;const G=window.HTMLInputElement.prototype,Z=Object.getOwnPropertyDescriptor(G,"value").set;if(z!==R&&Z){const Y=new Event("input",{bubbles:!0});Z.call(F,R),F.dispatchEvent(Y)}},[z,R]),jsxRuntimeExports.jsx(Primitive$2.input,{style:{display:"none"},...P,ref:L,defaultValue:R})});SliderBubbleInput.displayName=BUBBLE_INPUT_NAME;function getNextSortedValues(_=[],R,P){const O=[..._];return O[P]=R,O.sort((I,L)=>I-L)}function convertValueToPercentage(_,R,P){const L=100/(P-R)*(_-R);return clamp$1(L,[0,100])}function getLabel(_,R){return R>2?`Value ${_+1} of ${R}`:R===2?["Minimum","Maximum"][_]:void 0}function getClosestValueIndex(_,R){if(_.length===1)return 0;const P=_.map(I=>Math.abs(I-R)),O=Math.min(...P);return P.indexOf(O)}function getThumbInBoundsOffset(_,R,P){const O=_/2,L=linearScale$1([0,50],[0,O]);return(O-L(R)*P)*P}function getStepsBetweenValues(_){return _.slice(0,-1).map((R,P)=>_[P+1]-R)}function hasMinStepsBetweenValues(_,R){if(R>0){const P=getStepsBetweenValues(_);return Math.min(...P)>=R}return!0}function linearScale$1(_,R){return P=>{if(_[0]===_[1]||R[0]===R[1])return R[0];const O=(R[1]-R[0])/(_[1]-_[0]);return R[0]+O*(P-_[0])}}function getDecimalCount(_){return(String(_).split(".")[1]||"").length}function roundValue(_,R){const P=Math.pow(10,R);return Math.round(_*P)/P}var Root$5=Slider$1,Track=SliderTrack,Range=SliderRange,Thumb=SliderThumb;const Slider=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsxs(Root$5,{ref:P,className:cn("relative flex w-full touch-none select-none items-center",_),...R,children:[jsxRuntimeExports.jsx(Track,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:jsxRuntimeExports.jsx(Range,{className:"absolute h-full bg-primary"})}),jsxRuntimeExports.jsx(Thumb,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Slider.displayName=Root$5.displayName;function SimulationControls({isRunning:_,time:R,endTime:P,maxSimulatedTime:O,isCatchingUp:I,onStart:L,onPause:z,onReset:F,onStep:G,onSeek:V,paramChangeBehavior:Z,onParamChangeBehaviorChange:Y,onSaveScreenshot:Q,onSaveMovie:J,onExportCSV:te,isRecording:ne=!1,renderOptionsPanel:ie}){const se=P>0?O/P*100:0,oe=ce=>{const ue=ce[0];V(ue)};return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center",children:jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:[R.toFixed(2),"h / ",P,"h"]})}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 h-2 bg-muted/50 rounded-full pointer-events-none",style:{width:`${se}%`}}),jsxRuntimeExports.jsx(Slider,{value:[R],min:0,max:P,step:P/1e3,onValueChange:oe,disabled:I,className:"cursor-pointer"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[_||I?jsxRuntimeExports.jsxs(Button,{onClick:z,variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Pause,{className:"h-4 w-4 mr-1"}),"Pause"]}):jsxRuntimeExports.jsxs(Button,{onClick:L,size:"sm",children:[I?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-1 animate-spin"}):jsxRuntimeExports.jsx(Play,{className:"h-4 w-4 mr-1"}),"Start"]}),jsxRuntimeExports.jsxs(Button,{onClick:G,disabled:_||I,variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(SkipForward,{className:"h-4 w-4 mr-1"}),"Step"]}),jsxRuntimeExports.jsxs(Button,{onClick:F,variant:"outline",size:"sm",disabled:I,children:[jsxRuntimeExports.jsx(RotateCcw,{className:"h-4 w-4 mr-1"}),"Reset"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"On param change:"}),jsxRuntimeExports.jsxs(Select,{value:Z,onValueChange:ce=>Y(ce),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-7 w-28 text-xs",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"run",children:"Run"}),jsxRuntimeExports.jsx(SelectItem,{value:"init",children:"Init"}),jsxRuntimeExports.jsx(SelectItem,{value:"step",children:"One step"})]})]})]})]}),ie,jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-wrap items-center pt-1 border-t border-border/40",children:[Q&&jsxRuntimeExports.jsxs(Button,{onClick:Q,variant:"outline",size:"sm",className:"text-xs",children:[jsxRuntimeExports.jsx(Camera,{className:"h-3.5 w-3.5 mr-1"}),"Screenshot"]}),J&&jsxRuntimeExports.jsxs(Button,{onClick:J,variant:ne?"destructive":"outline",size:"sm",className:"text-xs",children:[jsxRuntimeExports.jsx(Video,{className:"h-3.5 w-3.5 mr-1"}),ne?"Stop Recording":"Record"]}),te&&jsxRuntimeExports.jsxs(Button,{onClick:te,variant:"outline",size:"sm",className:"text-xs",children:[jsxRuntimeExports.jsx(FileDown,{className:"h-3.5 w-3.5 mr-1"}),"Export CSV"]})]})]})}const Card=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx("div",{ref:P,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",_),...R}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx("div",{ref:P,className:cn("flex flex-col space-y-1.5 p-6",_),...R}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx("h3",{ref:P,className:cn("text-2xl font-semibold leading-none tracking-tight",_),...R}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx("p",{ref:P,className:cn("text-sm text-muted-foreground",_),...R}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx("div",{ref:P,className:cn("p-6 pt-0",_),...R}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx("div",{ref:P,className:cn("flex items-center p-6 pt-0",_),...R}));CardFooter.displayName="CardFooter";var NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$1=NODES$1.reduce((_,R)=>{const P=createSlot$3(`Primitive.${R}`),O=reactExports.forwardRef((I,L)=>{const{asChild:z,...F}=I,G=z?P:R;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(G,{...F,ref:L})});return O.displayName=`Primitive.${R}`,{..._,[R]:O}},{}),NAME$1="Separator",DEFAULT_ORIENTATION="horizontal",ORIENTATIONS=["horizontal","vertical"],Separator$1=reactExports.forwardRef((_,R)=>{const{decorative:P,orientation:O=DEFAULT_ORIENTATION,...I}=_,L=isValidOrientation(O)?O:DEFAULT_ORIENTATION,F=P?{role:"none"}:{"aria-orientation":L==="vertical"?L:void 0,role:"separator"};return jsxRuntimeExports.jsx(Primitive$1.div,{"data-orientation":L,...F,...I,ref:R})});Separator$1.displayName=NAME$1;function isValidOrientation(_){return ORIENTATIONS.includes(_)}var Root$4=Separator$1;const Separator=reactExports.forwardRef(({className:_,orientation:R="horizontal",decorative:P=!0,...O},I)=>jsxRuntimeExports.jsx(Root$4,{ref:I,decorative:P,orientation:R,className:cn("shrink-0 bg-border",R==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",_),...O}));Separator.displayName=Root$4.displayName;class SimulationEngine{model;state;params;snapshots=[];onSnapshot;snapshotInterval;constructor(R){this.model=R.model,this.params=R.params,this.onSnapshot=R.onSnapshot,this.snapshotInterval=R.snapshotInterval??1,this.init()}init(){this.state=this.model.init(this.params),this.snapshots=[],this.recordSnapshot()}step(){let R=1;const P=this.params;P.general&&typeof P.general.dt=="number"&&(R=P.general.dt),this.state=this.model.step(this.state,R,this.params);const O=this.state;(typeof O.step_count=="number"?O.step_count:this.snapshots.length)%this.snapshotInterval===0&&this.recordSnapshot()}isComplete(){const R=this.params,P=this.state;return R.general&&typeof R.general.t_end=="number"&&typeof P.t=="number"?P.t>=R.general.t_end:!1}getState(){return this.state}getParams(){return this.params}resetWithParams(R){this.params=R,this.init()}recordSnapshot(){const R=this.model.getSnapshot(this.state);this.snapshots.push(R),this.onSnapshot&&this.onSnapshot(R)}getStats(){return this.model.computeStats(this.state,this.params)}}function cloneState(_){return typeof _=="object"&&_!==null?structuredClone(_):_}function getStateTime(_){return _?.t??0}function useSimulation(_){const{model:R,params:P,autoInit:O=!0,paramChangeBehavior:I="init"}=_,[L,z]=reactExports.useState(P),[F,G]=reactExports.useState(null),[V,Z]=reactExports.useState(!1),[Y,Q]=reactExports.useState(!1),[J,te]=reactExports.useState(0),ne=reactExports.useRef(null),ie=reactExports.useRef(null),se=reactExports.useRef(!0),oe=reactExports.useRef([]),ce=reactExports.useRef(null);reactExports.useEffect(()=>{if(ne.current=new SimulationEngine({model:R,params:P}),O){ne.current.init();const we=ne.current.getState(),ve=cloneState(we);oe.current=[ve],te(0),G(ve)}return()=>{ie.current&&cancelAnimationFrame(ie.current)}},[]),reactExports.useEffect(()=>{if(se.current){se.current=!1;return}z(P),Z(!1),Q(!1),ce.current=null,ne.current=new SimulationEngine({model:R,params:P});const we=ne.current.getState(),ve=cloneState(we);if(oe.current=[ve],te(0),G(ve),I==="step"){ne.current.step();const Ae=cloneState(ne.current.getState());oe.current.push(Ae),te(1),G(Ae)}else I==="run"&&Z(!0)},[R,P,I]),reactExports.useEffect(()=>{if(!(V||Y)||!ne.current)return;let ve=performance.now();const Ae=40,Ce=0,_e=Re=>{if(!ne.current)return;if(Re-ve>=(Y?Ce:Ae)){if(ve=Re,Y&&ce.current!==null){const Se=oe.current;if((Se.length>0?getStateTime(Se[Se.length-1]):0)>=ce.current||ne.current.isComplete()){const ze=ce.current;let Ze=Se.length-1;for(let Ye=0;Ye<Se.length;Ye++)if(getStateTime(Se[Ye])>=ze){Ze=Ye;break}te(Ze),G(Se[Ze]),Q(!1),ce.current=null;return}ne.current.step();const ke=cloneState(ne.current.getState());oe.current.push(ke);const xe=oe.current.length-1;te(xe),G(ke)}else if(V){const Se=oe.current,Ee=J+1;if(Ee<Se.length)te(Ee),G(Se[Ee]);else if(ne.current.isComplete())Z(!1);else{ne.current.step();const ke=cloneState(ne.current.getState());oe.current.push(ke),te(oe.current.length-1),G(ke)}}}ie.current=requestAnimationFrame(_e)};return ie.current=requestAnimationFrame(_e),()=>{ie.current&&cancelAnimationFrame(ie.current)}},[V,Y,J]);const ue=reactExports.useCallback(()=>{Q(!1),ce.current=null,Z(!0)},[]),me=reactExports.useCallback(()=>{Z(!1),Q(!1),ce.current=null},[]),he=reactExports.useCallback(()=>{Z(!1),Q(!1),ce.current=null;const we=oe.current;we.length>0&&(te(0),G(we[0]))},[]),fe=reactExports.useCallback(()=>{if(!ne.current)return;const we=oe.current,ve=J+1;if(ve<we.length)te(ve),G(we[ve]);else if(!ne.current.isComplete()){ne.current.step();const Ae=cloneState(ne.current.getState());oe.current.push(Ae),te(oe.current.length-1),G(Ae)}},[J]),de=reactExports.useCallback(we=>{const ve=oe.current;if(ve.length===0)return;const Ce=L?.general?.t_end??1/0;we=Math.max(0,Math.min(we,Ce));const _e=getStateTime(ve[ve.length-1]);if(we<=_e){let Re=0,Me=1/0;for(let $e=0;$e<ve.length;$e++){const Se=getStateTime(ve[$e]),Ee=Math.abs(Se-we);if(Ee<Me&&(Me=Ee,Re=$e),Se>we)break}Z(!1),Q(!1),ce.current=null,te(Re),G(ve[Re])}else Z(!1),ce.current=we,Q(!0)},[L]),pe=reactExports.useCallback(we=>{if(Z(!1),Q(!1),ce.current=null,z(we),ne.current){ne.current.resetWithParams(we);const ve=cloneState(ne.current.getState());oe.current=[ve],te(0),G(ve)}},[]),be=oe.current,ye=be.length>0?getStateTime(be[be.length-1]):0;return{state:F,params:L,isRunning:V,isComplete:ne.current?.isComplete()??!1,time:F?.t??0,stepCount:F?.step_count??0,maxSimulatedTime:ye,isCatchingUp:Y,start:ue,pause:me,reset:he,step:fe,seekTo:de,setParams:pe,engine:ne.current}}function formatValue(_){return _==null?"-":typeof _=="boolean"?_?"true":"false":typeof _=="number"?Number.isInteger(_)?_.toString():_.toFixed(3):String(_)}function FrameStatsPanel({snapshot:_}){const[R,P]=reactExports.useState(!1),[O,I]=reactExports.useState("id"),[L,z]=reactExports.useState("asc"),F=reactExports.useMemo(()=>_.length===0?[]:Object.keys(_[0]),[_]),G=reactExports.useMemo(()=>{if(_.length===0)return[];const Y=[..._];return Y.sort((Q,J)=>{const te=Q[O],ne=J[O];let ie;return typeof te=="number"&&typeof ne=="number"?ie=te-ne:ie=String(te??"").localeCompare(String(ne??"")),L==="asc"?ie:-ie}),Y},[_,O,L]),V=Y=>{O===Y?z(Q=>Q==="asc"?"desc":"asc"):(I(Y),z("asc"))},Z=Y=>O!==Y?null:L==="asc"?jsxRuntimeExports.jsx(ChevronUp,{size:10}):jsxRuntimeExports.jsx(ChevronDown,{size:10});return _.length===0?null:jsxRuntimeExports.jsxs("div",{className:"border rounded-md bg-card",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>P(!R),className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium hover:bg-muted/50 transition-colors",children:[jsxRuntimeExports.jsx("span",{children:"Frame Data"}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs",children:[_.length," cells, ",F.length," columns"]}),R?jsxRuntimeExports.jsx(ChevronUp,{size:16}):jsxRuntimeExports.jsx(ChevronDown,{size:16})]})]}),R&&jsxRuntimeExports.jsx("div",{className:"border-t overflow-x-auto max-h-72",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-xs border-collapse",children:[jsxRuntimeExports.jsx("thead",{className:"bg-muted/30 sticky top-0 z-20",children:jsxRuntimeExports.jsx("tr",{children:F.map((Y,Q)=>jsxRuntimeExports.jsx("th",{className:`px-2 py-1.5 text-left font-medium text-muted-foreground whitespace-nowrap ${Q===0?"sticky left-0 z-30 bg-muted/80 border-r border-border/50":""}`,children:jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>V(Y),className:"flex items-center gap-1 hover:text-foreground transition-colors",children:[Y,jsxRuntimeExports.jsx(ArrowUpDown,{size:8,className:"opacity-50"}),Z(Y)]})},Y))})}),jsxRuntimeExports.jsx("tbody",{children:G.map((Y,Q)=>jsxRuntimeExports.jsx("tr",{className:"border-t border-border/50 hover:bg-muted/20",children:F.map((J,te)=>jsxRuntimeExports.jsx("td",{className:`px-2 py-1 font-mono whitespace-nowrap ${te===0?"sticky left-0 z-10 bg-card border-r border-border/50":""}`,children:formatValue(Y[J])},J))},Q))})]})})]})}function SingleSimulationTab(){const{currentModel:_}=useModel();return jsxRuntimeExports.jsx(SingleSimulationTabInner,{},_.name)}function SingleSimulationTabInner(){const[_,R]=reactExports.useState("run"),[P,O]=reactExports.useState(!1),{currentModel:I,currentParams:L}=useModel(),z=reactExports.useRef(null),F=I.renderOptions,[G,V]=reactExports.useState(()=>F?.defaultOptions??{});reactExports.useEffect(()=>{V(F?.defaultOptions??{})},[F]);const Z=F?.RenderOptionsPanel,Y=Z?jsxRuntimeExports.jsx(Z,{options:G,onChange:V}):null,{state:Q,isRunning:J,time:te,maxSimulatedTime:ne,isCatchingUp:ie,start:se,pause:oe,reset:ce,step:ue,seekTo:me}=useSimulation({model:I,params:L,paramChangeBehavior:_}),he=reactExports.useCallback(()=>{const be=z.current?.getScreenshot();if(be){const ye=document.createElement("a");ye.download=`simulation_${te.toFixed(2)}h.png`,ye.href=be,ye.click()}},[te]),fe=reactExports.useCallback(async()=>{if(P){O(!1);const be=await z.current?.stopRecording();if(be){const ye=document.createElement("a");ye.download=`simulation_${te.toFixed(2)}h.webm`,ye.href=URL.createObjectURL(be),ye.click(),URL.revokeObjectURL(ye.href)}}else z.current?.startRecording(),O(!0)},[P,te]),de=reactExports.useCallback(()=>{if(!Q)return;const be=I.getSnapshot(Q);if(be.length===0)return;const ye=Object.keys(be[0]),ve=[ye.join("	"),...be.map(_e=>ye.map(Re=>_e[Re]??"").join("	"))].join(`
`),Ae=new Blob([ve],{type:"text/tab-separated-values"}),Ce=document.createElement("a");Ce.download=`simulation_state_${te.toFixed(2)}h.tsv`,Ce.href=URL.createObjectURL(Ae),Ce.click(),URL.revokeObjectURL(Ce.href)},[Q,I,te]),pe=reactExports.useMemo(()=>{if(!Q)return[];const be=I.getSnapshot(Q);if(I.exportCellMetrics){const ye=I.exportCellMetrics(Q,L);return be.map((we,ve)=>{const Ae=ye[ve];if(!Ae)return we;const Ce=Object.keys(Ae).filter(Se=>Se!=="cell_id"&&Se!=="cell_type"),{id:_e,typeIndex:Re,...Me}=we,$e={};for(const Se of Ce)$e[Se]=Ae[Se];return{id:_e,typeIndex:Re,...$e,...Me}})}return be},[Q,I,L]);return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Card,{className:"overflow-hidden",children:jsxRuntimeExports.jsx(SimulationCanvas,{ref:z,state:Q,params:L,minHeight:350,renderOptions:G})}),jsxRuntimeExports.jsx(SimulationControls,{isRunning:J,time:te,endTime:L.general.t_end,maxSimulatedTime:ne,isCatchingUp:ie,onStart:se,onPause:oe,onReset:ce,onStep:ue,onSeek:me,paramChangeBehavior:_,onParamChangeBehaviorChange:R,onSaveScreenshot:he,onSaveMovie:fe,onExportCSV:de,isRecording:P,renderOptionsPanel:Y}),jsxRuntimeExports.jsx(FrameStatsPanel,{snapshot:pe})]})}function getNestedValue(_,R){const P=R.split(".");let O=_;for(const I of P){if(O==null||typeof O!="object")return;O=O[I]}return typeof O=="number"?O:void 0}function ParameterRangeList({ranges:_,onChange:R,baseParams:P,disabled:O}){const{currentModel:I}=useModel(),L=React.useMemo(()=>I.generateBatchParameters&&P?I.generateBatchParameters(P):I.batchParameters||[],[I,P]),z=new Set(_.map(Y=>Y.path)),F=L.filter(Y=>!z.has(Y.path)),G=Y=>{const Q=getNestedValue(P,Y)??0;R([..._,{path:Y,min:Q,max:Q,steps:3}])},V=Y=>{R(_.filter((Q,J)=>J!==Y))},Z=(Y,Q,J)=>{const te=[..._];Q==="path"?te[Y]={...te[Y],[Q]:J}:te[Y]={...te[Y],[Q]:Number(J)},R(te)};return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Parameter Ranges"}),jsxRuntimeExports.jsxs(Select,{onValueChange:G,disabled:O||F.length===0,children:[jsxRuntimeExports.jsxs(SelectTrigger,{className:"w-[200px] h-8",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-1"}),jsxRuntimeExports.jsx(SelectValue,{placeholder:"Add parameter"})]}),jsxRuntimeExports.jsx(SelectContent,{children:F.map(Y=>jsxRuntimeExports.jsx(SelectItem,{value:Y.path,children:Y.label},Y.path))})]})]}),_.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground py-4 text-center",children:"No parameter ranges defined. Add parameters to sweep."}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:_.map((Y,Q)=>{const J=L.find(se=>se.path===Y.path),te=getNestedValue(P,Y.path),ie=J?.isInteger??!1?1:.01;return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md bg-muted/50",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium flex-1 truncate",title:Y.path,children:J?.label??Y.path}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Base:"}),jsxRuntimeExports.jsx("span",{className:"w-16 h-7 text-xs flex items-center justify-center bg-muted rounded border text-muted-foreground",children:te??""})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Min:"}),jsxRuntimeExports.jsx(Input,{type:"number",value:Y.min,onChange:se=>Z(Q,"min",se.target.value),disabled:O,className:"w-16 h-7 text-xs",step:ie})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Max:"}),jsxRuntimeExports.jsx(Input,{type:"number",value:Y.max,onChange:se=>Z(Q,"max",se.target.value),disabled:O,className:"w-16 h-7 text-xs",step:ie})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Steps:"}),jsxRuntimeExports.jsx(Input,{type:"number",value:Y.steps,onChange:se=>Z(Q,"steps",se.target.value),disabled:O,className:"w-14 h-7 text-xs",min:1,step:1})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>V(Q),disabled:O,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]},Y.path)})})]})}function TimeSampleConfig({config:_,onChange:R,disabled:P}){const O=(L,z)=>{R({..._,[L]:parseFloat(z)||0})},I=Math.max(0,Math.floor((_.end-_.start)/_.step)+1);return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Time Samples"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"time-start",className:"text-xs text-muted-foreground",children:"Start (h)"}),jsxRuntimeExports.jsx(Input,{id:"time-start",type:"number",value:_.start,onChange:L=>O("start",L.target.value),disabled:P,className:"h-8",min:0,step:.01})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"time-end",className:"text-xs text-muted-foreground",children:"End (h)"}),jsxRuntimeExports.jsx(Input,{id:"time-end",type:"number",value:_.end,onChange:L=>O("end",L.target.value),disabled:P,className:"h-8",min:0,step:.01})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"time-step",className:"text-xs text-muted-foreground",children:"Step (h)"}),jsxRuntimeExports.jsx(Input,{id:"time-step",type:"number",value:_.step,onChange:L=>O("step",L.target.value),disabled:P,className:"h-8",min:.01,step:.01})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[I," time point",I!==1?"s":"",": ",_.start,"h",I>1&&`  ${_.end}h`]})]})}function useStateMachine(_,R){return reactExports.useReducer((P,O)=>R[P][O]??P,_)}var SCROLL_AREA_NAME="ScrollArea",[createScrollAreaContext]=createContextScope$1(SCROLL_AREA_NAME),[ScrollAreaProvider,useScrollAreaContext]=createScrollAreaContext(SCROLL_AREA_NAME),ScrollArea$1=reactExports.forwardRef((_,R)=>{const{__scopeScrollArea:P,type:O="hover",dir:I,scrollHideDelay:L=600,...z}=_,[F,G]=reactExports.useState(null),[V,Z]=reactExports.useState(null),[Y,Q]=reactExports.useState(null),[J,te]=reactExports.useState(null),[ne,ie]=reactExports.useState(null),[se,oe]=reactExports.useState(0),[ce,ue]=reactExports.useState(0),[me,he]=reactExports.useState(!1),[fe,de]=reactExports.useState(!1),pe=useComposedRefs(R,ye=>G(ye)),be=useDirection(I);return jsxRuntimeExports.jsx(ScrollAreaProvider,{scope:P,type:O,dir:be,scrollHideDelay:L,scrollArea:F,viewport:V,onViewportChange:Z,content:Y,onContentChange:Q,scrollbarX:J,onScrollbarXChange:te,scrollbarXEnabled:me,onScrollbarXEnabledChange:he,scrollbarY:ne,onScrollbarYChange:ie,scrollbarYEnabled:fe,onScrollbarYEnabledChange:de,onCornerWidthChange:oe,onCornerHeightChange:ue,children:jsxRuntimeExports.jsx(Primitive$2.div,{dir:be,...z,ref:pe,style:{position:"relative","--radix-scroll-area-corner-width":se+"px","--radix-scroll-area-corner-height":ce+"px",..._.style}})})});ScrollArea$1.displayName=SCROLL_AREA_NAME;var VIEWPORT_NAME="ScrollAreaViewport",ScrollAreaViewport=reactExports.forwardRef((_,R)=>{const{__scopeScrollArea:P,children:O,nonce:I,...L}=_,z=useScrollAreaContext(VIEWPORT_NAME,P),F=reactExports.useRef(null),G=useComposedRefs(R,F,z.onViewportChange);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:I}),jsxRuntimeExports.jsx(Primitive$2.div,{"data-radix-scroll-area-viewport":"",...L,ref:G,style:{overflowX:z.scrollbarXEnabled?"scroll":"hidden",overflowY:z.scrollbarYEnabled?"scroll":"hidden",..._.style},children:jsxRuntimeExports.jsx("div",{ref:z.onContentChange,style:{minWidth:"100%",display:"table"},children:O})})]})});ScrollAreaViewport.displayName=VIEWPORT_NAME;var SCROLLBAR_NAME="ScrollAreaScrollbar",ScrollAreaScrollbar=reactExports.forwardRef((_,R)=>{const{forceMount:P,...O}=_,I=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),{onScrollbarXEnabledChange:L,onScrollbarYEnabledChange:z}=I,F=_.orientation==="horizontal";return reactExports.useEffect(()=>(F?L(!0):z(!0),()=>{F?L(!1):z(!1)}),[F,L,z]),I.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...O,ref:R,forceMount:P}):I.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...O,ref:R,forceMount:P}):I.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...O,ref:R,forceMount:P}):I.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...O,ref:R}):null});ScrollAreaScrollbar.displayName=SCROLLBAR_NAME;var ScrollAreaScrollbarHover=reactExports.forwardRef((_,R)=>{const{forceMount:P,...O}=_,I=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),[L,z]=reactExports.useState(!1);return reactExports.useEffect(()=>{const F=I.scrollArea;let G=0;if(F){const V=()=>{window.clearTimeout(G),z(!0)},Z=()=>{G=window.setTimeout(()=>z(!1),I.scrollHideDelay)};return F.addEventListener("pointerenter",V),F.addEventListener("pointerleave",Z),()=>{window.clearTimeout(G),F.removeEventListener("pointerenter",V),F.removeEventListener("pointerleave",Z)}}},[I.scrollArea,I.scrollHideDelay]),jsxRuntimeExports.jsx(Presence,{present:P||L,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":L?"visible":"hidden",...O,ref:R})})}),ScrollAreaScrollbarScroll=reactExports.forwardRef((_,R)=>{const{forceMount:P,...O}=_,I=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),L=_.orientation==="horizontal",z=useDebounceCallback(()=>G("SCROLL_END"),100),[F,G]=useStateMachine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(F==="idle"){const V=window.setTimeout(()=>G("HIDE"),I.scrollHideDelay);return()=>window.clearTimeout(V)}},[F,I.scrollHideDelay,G]),reactExports.useEffect(()=>{const V=I.viewport,Z=L?"scrollLeft":"scrollTop";if(V){let Y=V[Z];const Q=()=>{const J=V[Z];Y!==J&&(G("SCROLL"),z()),Y=J};return V.addEventListener("scroll",Q),()=>V.removeEventListener("scroll",Q)}},[I.viewport,L,G,z]),jsxRuntimeExports.jsx(Presence,{present:P||F!=="hidden",children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":F==="hidden"?"hidden":"visible",...O,ref:R,onPointerEnter:composeEventHandlers$1(_.onPointerEnter,()=>G("POINTER_ENTER")),onPointerLeave:composeEventHandlers$1(_.onPointerLeave,()=>G("POINTER_LEAVE"))})})}),ScrollAreaScrollbarAuto=reactExports.forwardRef((_,R)=>{const P=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),{forceMount:O,...I}=_,[L,z]=reactExports.useState(!1),F=_.orientation==="horizontal",G=useDebounceCallback(()=>{if(P.viewport){const V=P.viewport.offsetWidth<P.viewport.scrollWidth,Z=P.viewport.offsetHeight<P.viewport.scrollHeight;z(F?V:Z)}},10);return useResizeObserver(P.viewport,G),useResizeObserver(P.content,G),jsxRuntimeExports.jsx(Presence,{present:O||L,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":L?"visible":"hidden",...I,ref:R})})}),ScrollAreaScrollbarVisible=reactExports.forwardRef((_,R)=>{const{orientation:P="vertical",...O}=_,I=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),L=reactExports.useRef(null),z=reactExports.useRef(0),[F,G]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),V=getThumbRatio(F.viewport,F.content),Z={...O,sizes:F,onSizesChange:G,hasThumb:V>0&&V<1,onThumbChange:Q=>L.current=Q,onThumbPointerUp:()=>z.current=0,onThumbPointerDown:Q=>z.current=Q};function Y(Q,J){return getScrollPositionFromPointer(Q,z.current,F,J)}return P==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...Z,ref:R,onThumbPositionChange:()=>{if(I.viewport&&L.current){const Q=I.viewport.scrollLeft,J=getThumbOffsetFromScroll(Q,F,I.dir);L.current.style.transform=`translate3d(${J}px, 0, 0)`}},onWheelScroll:Q=>{I.viewport&&(I.viewport.scrollLeft=Q)},onDragScroll:Q=>{I.viewport&&(I.viewport.scrollLeft=Y(Q,I.dir))}}):P==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...Z,ref:R,onThumbPositionChange:()=>{if(I.viewport&&L.current){const Q=I.viewport.scrollTop,J=getThumbOffsetFromScroll(Q,F);L.current.style.transform=`translate3d(0, ${J}px, 0)`}},onWheelScroll:Q=>{I.viewport&&(I.viewport.scrollTop=Q)},onDragScroll:Q=>{I.viewport&&(I.viewport.scrollTop=Y(Q))}}):null}),ScrollAreaScrollbarX=reactExports.forwardRef((_,R)=>{const{sizes:P,onSizesChange:O,...I}=_,L=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),[z,F]=reactExports.useState(),G=reactExports.useRef(null),V=useComposedRefs(R,G,L.onScrollbarXChange);return reactExports.useEffect(()=>{G.current&&F(getComputedStyle(G.current))},[G]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"horizontal",...I,ref:V,sizes:P,style:{bottom:0,left:L.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:L.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize(P)+"px",..._.style},onThumbPointerDown:Z=>_.onThumbPointerDown(Z.x),onDragScroll:Z=>_.onDragScroll(Z.x),onWheelScroll:(Z,Y)=>{if(L.viewport){const Q=L.viewport.scrollLeft+Z.deltaX;_.onWheelScroll(Q),isScrollingWithinScrollbarBounds(Q,Y)&&Z.preventDefault()}},onResize:()=>{G.current&&L.viewport&&z&&O({content:L.viewport.scrollWidth,viewport:L.viewport.offsetWidth,scrollbar:{size:G.current.clientWidth,paddingStart:toInt(z.paddingLeft),paddingEnd:toInt(z.paddingRight)}})}})}),ScrollAreaScrollbarY=reactExports.forwardRef((_,R)=>{const{sizes:P,onSizesChange:O,...I}=_,L=useScrollAreaContext(SCROLLBAR_NAME,_.__scopeScrollArea),[z,F]=reactExports.useState(),G=reactExports.useRef(null),V=useComposedRefs(R,G,L.onScrollbarYChange);return reactExports.useEffect(()=>{G.current&&F(getComputedStyle(G.current))},[G]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"vertical",...I,ref:V,sizes:P,style:{top:0,right:L.dir==="ltr"?0:void 0,left:L.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize(P)+"px",..._.style},onThumbPointerDown:Z=>_.onThumbPointerDown(Z.y),onDragScroll:Z=>_.onDragScroll(Z.y),onWheelScroll:(Z,Y)=>{if(L.viewport){const Q=L.viewport.scrollTop+Z.deltaY;_.onWheelScroll(Q),isScrollingWithinScrollbarBounds(Q,Y)&&Z.preventDefault()}},onResize:()=>{G.current&&L.viewport&&z&&O({content:L.viewport.scrollHeight,viewport:L.viewport.offsetHeight,scrollbar:{size:G.current.clientHeight,paddingStart:toInt(z.paddingTop),paddingEnd:toInt(z.paddingBottom)}})}})}),[ScrollbarProvider,useScrollbarContext]=createScrollAreaContext(SCROLLBAR_NAME),ScrollAreaScrollbarImpl=reactExports.forwardRef((_,R)=>{const{__scopeScrollArea:P,sizes:O,hasThumb:I,onThumbChange:L,onThumbPointerUp:z,onThumbPointerDown:F,onThumbPositionChange:G,onDragScroll:V,onWheelScroll:Z,onResize:Y,...Q}=_,J=useScrollAreaContext(SCROLLBAR_NAME,P),[te,ne]=reactExports.useState(null),ie=useComposedRefs(R,pe=>ne(pe)),se=reactExports.useRef(null),oe=reactExports.useRef(""),ce=J.viewport,ue=O.content-O.viewport,me=useCallbackRef$1(Z),he=useCallbackRef$1(G),fe=useDebounceCallback(Y,10);function de(pe){if(se.current){const be=pe.clientX-se.current.left,ye=pe.clientY-se.current.top;V({x:be,y:ye})}}return reactExports.useEffect(()=>{const pe=be=>{const ye=be.target;te?.contains(ye)&&me(be,ue)};return document.addEventListener("wheel",pe,{passive:!1}),()=>document.removeEventListener("wheel",pe,{passive:!1})},[ce,te,ue,me]),reactExports.useEffect(he,[O,he]),useResizeObserver(te,fe),useResizeObserver(J.content,fe),jsxRuntimeExports.jsx(ScrollbarProvider,{scope:P,scrollbar:te,hasThumb:I,onThumbChange:useCallbackRef$1(L),onThumbPointerUp:useCallbackRef$1(z),onThumbPositionChange:he,onThumbPointerDown:useCallbackRef$1(F),children:jsxRuntimeExports.jsx(Primitive$2.div,{...Q,ref:ie,style:{position:"absolute",...Q.style},onPointerDown:composeEventHandlers$1(_.onPointerDown,pe=>{pe.button===0&&(pe.target.setPointerCapture(pe.pointerId),se.current=te.getBoundingClientRect(),oe.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",J.viewport&&(J.viewport.style.scrollBehavior="auto"),de(pe))}),onPointerMove:composeEventHandlers$1(_.onPointerMove,de),onPointerUp:composeEventHandlers$1(_.onPointerUp,pe=>{const be=pe.target;be.hasPointerCapture(pe.pointerId)&&be.releasePointerCapture(pe.pointerId),document.body.style.webkitUserSelect=oe.current,J.viewport&&(J.viewport.style.scrollBehavior=""),se.current=null})})})}),THUMB_NAME="ScrollAreaThumb",ScrollAreaThumb=reactExports.forwardRef((_,R)=>{const{forceMount:P,...O}=_,I=useScrollbarContext(THUMB_NAME,_.__scopeScrollArea);return jsxRuntimeExports.jsx(Presence,{present:P||I.hasThumb,children:jsxRuntimeExports.jsx(ScrollAreaThumbImpl,{ref:R,...O})})}),ScrollAreaThumbImpl=reactExports.forwardRef((_,R)=>{const{__scopeScrollArea:P,style:O,...I}=_,L=useScrollAreaContext(THUMB_NAME,P),z=useScrollbarContext(THUMB_NAME,P),{onThumbPositionChange:F}=z,G=useComposedRefs(R,Y=>z.onThumbChange(Y)),V=reactExports.useRef(void 0),Z=useDebounceCallback(()=>{V.current&&(V.current(),V.current=void 0)},100);return reactExports.useEffect(()=>{const Y=L.viewport;if(Y){const Q=()=>{if(Z(),!V.current){const J=addUnlinkedScrollListener(Y,F);V.current=J,F()}};return F(),Y.addEventListener("scroll",Q),()=>Y.removeEventListener("scroll",Q)}},[L.viewport,Z,F]),jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":z.hasThumb?"visible":"hidden",...I,ref:G,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...O},onPointerDownCapture:composeEventHandlers$1(_.onPointerDownCapture,Y=>{const J=Y.target.getBoundingClientRect(),te=Y.clientX-J.left,ne=Y.clientY-J.top;z.onThumbPointerDown({x:te,y:ne})}),onPointerUp:composeEventHandlers$1(_.onPointerUp,z.onThumbPointerUp)})});ScrollAreaThumb.displayName=THUMB_NAME;var CORNER_NAME="ScrollAreaCorner",ScrollAreaCorner=reactExports.forwardRef((_,R)=>{const P=useScrollAreaContext(CORNER_NAME,_.__scopeScrollArea),O=!!(P.scrollbarX&&P.scrollbarY);return P.type!=="scroll"&&O?jsxRuntimeExports.jsx(ScrollAreaCornerImpl,{..._,ref:R}):null});ScrollAreaCorner.displayName=CORNER_NAME;var ScrollAreaCornerImpl=reactExports.forwardRef((_,R)=>{const{__scopeScrollArea:P,...O}=_,I=useScrollAreaContext(CORNER_NAME,P),[L,z]=reactExports.useState(0),[F,G]=reactExports.useState(0),V=!!(L&&F);return useResizeObserver(I.scrollbarX,()=>{const Z=I.scrollbarX?.offsetHeight||0;I.onCornerHeightChange(Z),G(Z)}),useResizeObserver(I.scrollbarY,()=>{const Z=I.scrollbarY?.offsetWidth||0;I.onCornerWidthChange(Z),z(Z)}),V?jsxRuntimeExports.jsx(Primitive$2.div,{...O,ref:R,style:{width:L,height:F,position:"absolute",right:I.dir==="ltr"?0:void 0,left:I.dir==="rtl"?0:void 0,bottom:0,..._.style}}):null});function toInt(_){return _?parseInt(_,10):0}function getThumbRatio(_,R){const P=_/R;return isNaN(P)?0:P}function getThumbSize(_){const R=getThumbRatio(_.viewport,_.content),P=_.scrollbar.paddingStart+_.scrollbar.paddingEnd,O=(_.scrollbar.size-P)*R;return Math.max(O,18)}function getScrollPositionFromPointer(_,R,P,O="ltr"){const I=getThumbSize(P),L=I/2,z=R||L,F=I-z,G=P.scrollbar.paddingStart+z,V=P.scrollbar.size-P.scrollbar.paddingEnd-F,Z=P.content-P.viewport,Y=O==="ltr"?[0,Z]:[Z*-1,0];return linearScale([G,V],Y)(_)}function getThumbOffsetFromScroll(_,R,P="ltr"){const O=getThumbSize(R),I=R.scrollbar.paddingStart+R.scrollbar.paddingEnd,L=R.scrollbar.size-I,z=R.content-R.viewport,F=L-O,G=P==="ltr"?[0,z]:[z*-1,0],V=clamp$1(_,G);return linearScale([0,z],[0,F])(V)}function linearScale(_,R){return P=>{if(_[0]===_[1]||R[0]===R[1])return R[0];const O=(R[1]-R[0])/(_[1]-_[0]);return R[0]+O*(P-_[0])}}function isScrollingWithinScrollbarBounds(_,R){return _>0&&_<R}var addUnlinkedScrollListener=(_,R=()=>{})=>{let P={left:_.scrollLeft,top:_.scrollTop},O=0;return(function I(){const L={left:_.scrollLeft,top:_.scrollTop},z=P.left!==L.left,F=P.top!==L.top;(z||F)&&R(),P=L,O=window.requestAnimationFrame(I)})(),()=>window.cancelAnimationFrame(O)};function useDebounceCallback(_,R){const P=useCallbackRef$1(_),O=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(O.current),[]),reactExports.useCallback(()=>{window.clearTimeout(O.current),O.current=window.setTimeout(P,R)},[P,R])}function useResizeObserver(_,R){const P=useCallbackRef$1(R);useLayoutEffect2(()=>{let O=0;if(_){const I=new ResizeObserver(()=>{cancelAnimationFrame(O),O=window.requestAnimationFrame(P)});return I.observe(_),()=>{window.cancelAnimationFrame(O),I.unobserve(_)}}},[_,P])}var Root$3=ScrollArea$1,Viewport=ScrollAreaViewport,Corner=ScrollAreaCorner;const ScrollArea=reactExports.forwardRef(({className:_,children:R,...P},O)=>jsxRuntimeExports.jsxs(Root$3,{ref:O,className:cn("relative overflow-hidden",_),...P,children:[jsxRuntimeExports.jsx(Viewport,{className:"h-full w-full rounded-[inherit]",children:R}),jsxRuntimeExports.jsx(ScrollBar,{}),jsxRuntimeExports.jsx(Corner,{})]}));ScrollArea.displayName=Root$3.displayName;const ScrollBar=reactExports.forwardRef(({className:_,orientation:R="vertical",...P},O)=>jsxRuntimeExports.jsx(ScrollAreaScrollbar,{ref:O,orientation:R,className:cn("flex touch-none select-none transition-colors",R==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",R==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",_),...P,children:jsxRuntimeExports.jsx(ScrollAreaThumb,{className:"relative flex-1 rounded-full bg-border"})}));ScrollBar.displayName=ScrollAreaScrollbar.displayName;function ResultsTable({columns:_,rows:R,onRunRow:P}){if(_.length===0||R.length===0)return jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No results to display. Run batch or compute statistics."});const O=!!P;return jsxRuntimeExports.jsx(ScrollArea,{className:"h-[300px] border rounded-md",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"sticky top-0 bg-muted",children:jsxRuntimeExports.jsxs("tr",{children:[O&&jsxRuntimeExports.jsx("th",{className:"text-left px-2 py-2 font-medium border-b whitespace-nowrap w-12",children:"Run"}),_.map((I,L)=>jsxRuntimeExports.jsx("th",{className:"text-left px-3 py-2 font-medium border-b whitespace-nowrap",children:I},L))]})}),jsxRuntimeExports.jsx("tbody",{children:R.map((I,L)=>jsxRuntimeExports.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/50",children:[O&&jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>P(L),title:"Open simulation with these parameters",children:jsxRuntimeExports.jsx(Play,{className:"h-3 w-3"})})}),I.map((z,F)=>jsxRuntimeExports.jsx("td",{className:"px-3 py-1.5 whitespace-nowrap font-mono text-xs",children:typeof z=="number"?z.toFixed(4):z},F))]},L))})]})})}function createContextScope(_,R=[]){let P=[];function O(L,z){const F=reactExports.createContext(z);F.displayName=L+"Context";const G=P.length;P=[...P,z];const V=Y=>{const{scope:Q,children:J,...te}=Y,ne=Q?.[_]?.[G]||F,ie=reactExports.useMemo(()=>te,Object.values(te));return jsxRuntimeExports.jsx(ne.Provider,{value:ie,children:J})};V.displayName=L+"Provider";function Z(Y,Q){const J=Q?.[_]?.[G]||F,te=reactExports.useContext(J);if(te)return te;if(z!==void 0)return z;throw new Error(`\`${Y}\` must be used within \`${L}\``)}return[V,Z]}const I=()=>{const L=P.map(z=>reactExports.createContext(z));return function(F){const G=F?.[_]||L;return reactExports.useMemo(()=>({[`__scope${_}`]:{...F,[_]:G}}),[F,G])}};return I.scopeName=_,[O,composeContextScopes(I,...R)]}function composeContextScopes(..._){const R=_[0];if(_.length===1)return R;const P=()=>{const O=_.map(I=>({useScope:I(),scopeName:I.scopeName}));return function(L){const z=O.reduce((F,{useScope:G,scopeName:V})=>{const Y=G(L)[`__scope${V}`];return{...F,...Y}},{});return reactExports.useMemo(()=>({[`__scope${R.scopeName}`]:z}),[z])}};return P.scopeName=R.scopeName,P}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((_,R)=>{const P=createSlot$3(`Primitive.${R}`),O=reactExports.forwardRef((I,L)=>{const{asChild:z,...F}=I,G=z?P:R;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(G,{...F,ref:L})});return O.displayName=`Primitive.${R}`,{..._,[R]:O}},{}),PROGRESS_NAME="Progress",DEFAULT_MAX=100,[createProgressContext]=createContextScope(PROGRESS_NAME),[ProgressProvider,useProgressContext]=createProgressContext(PROGRESS_NAME),Progress$1=reactExports.forwardRef((_,R)=>{const{__scopeProgress:P,value:O=null,max:I,getValueLabel:L=defaultGetValueLabel,...z}=_;(I||I===0)&&!isValidMaxNumber(I)&&console.error(getInvalidMaxError(`${I}`,"Progress"));const F=isValidMaxNumber(I)?I:DEFAULT_MAX;O!==null&&!isValidValueNumber(O,F)&&console.error(getInvalidValueError(`${O}`,"Progress"));const G=isValidValueNumber(O,F)?O:null,V=isNumber(G)?L(G,F):void 0;return jsxRuntimeExports.jsx(ProgressProvider,{scope:P,value:G,max:F,children:jsxRuntimeExports.jsx(Primitive.div,{"aria-valuemax":F,"aria-valuemin":0,"aria-valuenow":isNumber(G)?G:void 0,"aria-valuetext":V,role:"progressbar","data-state":getProgressState(G,F),"data-value":G??void 0,"data-max":F,...z,ref:R})})});Progress$1.displayName=PROGRESS_NAME;var INDICATOR_NAME="ProgressIndicator",ProgressIndicator=reactExports.forwardRef((_,R)=>{const{__scopeProgress:P,...O}=_,I=useProgressContext(INDICATOR_NAME,P);return jsxRuntimeExports.jsx(Primitive.div,{"data-state":getProgressState(I.value,I.max),"data-value":I.value??void 0,"data-max":I.max,...O,ref:R})});ProgressIndicator.displayName=INDICATOR_NAME;function defaultGetValueLabel(_,R){return`${Math.round(_/R*100)}%`}function getProgressState(_,R){return _==null?"indeterminate":_===R?"complete":"loading"}function isNumber(_){return typeof _=="number"}function isValidMaxNumber(_){return isNumber(_)&&!isNaN(_)&&_>0}function isValidValueNumber(_,R){return isNumber(_)&&!isNaN(_)&&_<=R&&_>=0}function getInvalidMaxError(_,R){return`Invalid prop \`max\` of value \`${_}\` supplied to \`${R}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DEFAULT_MAX}\`.`}function getInvalidValueError(_,R){return`Invalid prop \`value\` of value \`${_}\` supplied to \`${R}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DEFAULT_MAX} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Root$2=Progress$1,Indicator=ProgressIndicator;const Progress=reactExports.forwardRef(({className:_,value:R,...P},O)=>jsxRuntimeExports.jsx(Root$2,{ref:O,className:cn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",_),...P,children:jsxRuntimeExports.jsx(Indicator,{className:"h-full w-full flex-1 bg-play transition-all",style:{transform:`translateX(-${100-(R||0)}%)`}})}));Progress.displayName=Root$2.displayName;function ascending$1(_,R){return _==null||R==null?NaN:_<R?-1:_>R?1:_>=R?0:NaN}function descending(_,R){return _==null||R==null?NaN:R<_?-1:R>_?1:R>=_?0:NaN}function bisector(_){let R,P,O;_.length!==2?(R=ascending$1,P=(F,G)=>ascending$1(_(F),G),O=(F,G)=>_(F)-G):(R=_===ascending$1||_===descending?_:zero$3,P=_,O=_);function I(F,G,V=0,Z=F.length){if(V<Z){if(R(G,G)!==0)return Z;do{const Y=V+Z>>>1;P(F[Y],G)<0?V=Y+1:Z=Y}while(V<Z)}return V}function L(F,G,V=0,Z=F.length){if(V<Z){if(R(G,G)!==0)return Z;do{const Y=V+Z>>>1;P(F[Y],G)<=0?V=Y+1:Z=Y}while(V<Z)}return V}function z(F,G,V=0,Z=F.length){const Y=I(F,G,V,Z-1);return Y>V&&O(F[Y-1],G)>-O(F[Y],G)?Y-1:Y}return{left:I,center:z,right:L}}function zero$3(){return 0}function number$5(_){return _===null?NaN:+_}function*numbers(_,R){if(R===void 0)for(let P of _)P!=null&&(P=+P)>=P&&(yield P);else{let P=-1;for(let O of _)(O=R(O,++P,_))!=null&&(O=+O)>=O&&(yield O)}}const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right;bisector(number$5).center;function count(_,R){let P=0;for(let O of _)O!=null&&(O=+O)>=O&&++P;return P}function length$1(_){return _.length|0}function empty$3(_){return!(_>0)}function arrayify$1(_){return typeof _!="object"||"length"in _?_:Array.from(_)}function reducer(_){return R=>_(...R)}function cross(..._){const R=typeof _[_.length-1]=="function"&&reducer(_.pop());_=_.map(arrayify$1);const P=_.map(length$1),O=_.length-1,I=new Array(O+1).fill(0),L=[];if(O<0||P.some(empty$3))return L;for(;;){L.push(I.map((F,G)=>_[G][F]));let z=O;for(;++I[z]===P[z];){if(z===0)return R?L.map(R):L;I[z--]=0}}}function cumsum(_,R){var P=0;return Float64Array.from(_,O=>P+=+O||0)}function variance(_,R){let P=0,O,I=0,L=0;if(R===void 0)for(let z of _)z!=null&&(z=+z)>=z&&(O=z-I,I+=O/++P,L+=O*(z-I));else{let z=-1;for(let F of _)(F=R(F,++z,_))!=null&&(F=+F)>=F&&(O=F-I,I+=O/++P,L+=O*(F-I))}if(P>1)return L/(P-1)}function deviation(_,R){const P=variance(_,R);return P&&Math.sqrt(P)}function extent$1(_,R){let P,O;if(R===void 0)for(const I of _)I!=null&&(P===void 0?I>=I&&(P=O=I):(P>I&&(P=I),O<I&&(O=I)));else{let I=-1;for(let L of _)(L=R(L,++I,_))!=null&&(P===void 0?L>=L&&(P=O=L):(P>L&&(P=L),O<L&&(O=L)))}return[P,O]}class Adder{constructor(){this._partials=new Float64Array(32),this._n=0}add(R){const P=this._partials;let O=0;for(let I=0;I<this._n&&I<32;I++){const L=P[I],z=R+L,F=Math.abs(R)<Math.abs(L)?R-(z-L):L-(z-R);F&&(P[O++]=F),R=z}return P[O]=R,this._n=O+1,this}valueOf(){const R=this._partials;let P=this._n,O,I,L,z=0;if(P>0){for(z=R[--P];P>0&&(O=z,I=R[--P],z=O+I,L=I-(z-O),!L););P>0&&(L<0&&R[P-1]<0||L>0&&R[P-1]>0)&&(I=L*2,O=z+I,I==O-z&&(z=O))}return z}}class InternMap extends Map{constructor(R,P=keyof$1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:P}}),R!=null)for(const[O,I]of R)this.set(O,I)}get(R){return super.get(intern_get(this,R))}has(R){return super.has(intern_get(this,R))}set(R,P){return super.set(intern_set(this,R),P)}delete(R){return super.delete(intern_delete(this,R))}}class InternSet extends Set{constructor(R,P=keyof$1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:P}}),R!=null)for(const O of R)this.add(O)}has(R){return super.has(intern_get(this,R))}add(R){return super.add(intern_set(this,R))}delete(R){return super.delete(intern_delete(this,R))}}function intern_get({_intern:_,_key:R},P){const O=R(P);return _.has(O)?_.get(O):P}function intern_set({_intern:_,_key:R},P){const O=R(P);return _.has(O)?_.get(O):(_.set(O,P),P)}function intern_delete({_intern:_,_key:R},P){const O=R(P);return _.has(O)&&(P=_.get(O),_.delete(O)),P}function keyof$1(_){return _!==null&&typeof _=="object"?_.valueOf():_}function identity$8(_){return _}function group(_,...R){return nest(_,identity$8,identity$8,R)}function rollup(_,R,...P){return nest(_,identity$8,R,P)}function rollups(_,R,...P){return nest(_,Array.from,R,P)}function nest(_,R,P,O){return(function I(L,z){if(z>=O.length)return P(L);const F=new InternMap,G=O[z++];let V=-1;for(const Z of L){const Y=G(Z,++V,L),Q=F.get(Y);Q?Q.push(Z):F.set(Y,[Z])}for(const[Z,Y]of F)F.set(Z,I(Y,z));return R(F)})(_,0)}function permute(_,R){return Array.from(R,P=>_[P])}function sort$1(_,...R){if(typeof _[Symbol.iterator]!="function")throw new TypeError("values is not iterable");_=Array.from(_);let[P]=R;if(P&&P.length!==2||R.length>1){const O=Uint32Array.from(_,(I,L)=>L);return R.length>1?(R=R.map(I=>_.map(I)),O.sort((I,L)=>{for(const z of R){const F=ascendingDefined$1(z[I],z[L]);if(F)return F}})):(P=_.map(P),O.sort((I,L)=>ascendingDefined$1(P[I],P[L]))),permute(_,O)}return _.sort(compareDefined(P))}function compareDefined(_=ascending$1){if(_===ascending$1)return ascendingDefined$1;if(typeof _!="function")throw new TypeError("compare is not a function");return(R,P)=>{const O=_(R,P);return O||O===0?O:(_(P,P)===0)-(_(R,R)===0)}}function ascendingDefined$1(_,R){return(_==null||!(_>=_))-(R==null||!(R>=R))||(_<R?-1:_>R?1:0)}function groupSort(_,R,P){return(R.length!==2?sort$1(rollup(_,R,P),(([O,I],[L,z])=>ascending$1(I,z)||ascending$1(O,L))):sort$1(group(_,P),(([O,I],[L,z])=>R(I,z)||ascending$1(O,L)))).map(([O])=>O)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(_,R,P){const O=(R-_)/Math.max(0,P),I=Math.floor(Math.log10(O)),L=O/Math.pow(10,I),z=L>=e10?10:L>=e5?5:L>=e2?2:1;let F,G,V;return I<0?(V=Math.pow(10,-I)/z,F=Math.round(_*V),G=Math.round(R*V),F/V<_&&++F,G/V>R&&--G,V=-V):(V=Math.pow(10,I)*z,F=Math.round(_/V),G=Math.round(R/V),F*V<_&&++F,G*V>R&&--G),G<F&&.5<=P&&P<2?tickSpec(_,R,P*2):[F,G,V]}function ticks(_,R,P){if(R=+R,_=+_,P=+P,!(P>0))return[];if(_===R)return[_];const O=R<_,[I,L,z]=O?tickSpec(R,_,P):tickSpec(_,R,P);if(!(L>=I))return[];const F=L-I+1,G=new Array(F);if(O)if(z<0)for(let V=0;V<F;++V)G[V]=(L-V)/-z;else for(let V=0;V<F;++V)G[V]=(L-V)*z;else if(z<0)for(let V=0;V<F;++V)G[V]=(I+V)/-z;else for(let V=0;V<F;++V)G[V]=(I+V)*z;return G}function tickIncrement(_,R,P){return R=+R,_=+_,P=+P,tickSpec(_,R,P)[2]}function tickStep(_,R,P){R=+R,_=+_,P=+P;const O=R<_,I=O?tickIncrement(R,_,P):tickIncrement(_,R,P);return(O?-1:1)*(I<0?1/-I:I)}function thresholdSturges(_){return Math.max(1,Math.ceil(Math.log(count(_))/Math.LN2)+1)}function max(_,R){let P;if(R===void 0)for(const O of _)O!=null&&(P<O||P===void 0&&O>=O)&&(P=O);else{let O=-1;for(let I of _)(I=R(I,++O,_))!=null&&(P<I||P===void 0&&I>=I)&&(P=I)}return P}function maxIndex(_,R){let P,O=-1,I=-1;if(R===void 0)for(const L of _)++I,L!=null&&(P<L||P===void 0&&L>=L)&&(P=L,O=I);else for(let L of _)(L=R(L,++I,_))!=null&&(P<L||P===void 0&&L>=L)&&(P=L,O=I);return O}function min$1(_,R){let P;if(R===void 0)for(const O of _)O!=null&&(P>O||P===void 0&&O>=O)&&(P=O);else{let O=-1;for(let I of _)(I=R(I,++O,_))!=null&&(P>I||P===void 0&&I>=I)&&(P=I)}return P}function minIndex(_,R){let P,O=-1,I=-1;if(R===void 0)for(const L of _)++I,L!=null&&(P>L||P===void 0&&L>=L)&&(P=L,O=I);else for(let L of _)(L=R(L,++I,_))!=null&&(P>L||P===void 0&&L>=L)&&(P=L,O=I);return O}function quickselect(_,R,P=0,O=1/0,I){if(R=Math.floor(R),P=Math.floor(Math.max(0,P)),O=Math.floor(Math.min(_.length-1,O)),!(P<=R&&R<=O))return _;for(I=I===void 0?ascendingDefined$1:compareDefined(I);O>P;){if(O-P>600){const G=O-P+1,V=R-P+1,Z=Math.log(G),Y=.5*Math.exp(2*Z/3),Q=.5*Math.sqrt(Z*Y*(G-Y)/G)*(V-G/2<0?-1:1),J=Math.max(P,Math.floor(R-V*Y/G+Q)),te=Math.min(O,Math.floor(R+(G-V)*Y/G+Q));quickselect(_,R,J,te,I)}const L=_[R];let z=P,F=O;for(swap(_,P,R),I(_[O],L)>0&&swap(_,P,O);z<F;){for(swap(_,z,F),++z,--F;I(_[z],L)<0;)++z;for(;I(_[F],L)>0;)--F}I(_[P],L)===0?swap(_,P,F):(++F,swap(_,F,O)),F<=R&&(P=F+1),R<=F&&(O=F-1)}return _}function swap(_,R,P){const O=_[R];_[R]=_[P],_[P]=O}function greatest(_,R=ascending$1){let P,O=!1;if(R.length===1){let I;for(const L of _){const z=R(L);(O?ascending$1(z,I)>0:ascending$1(z,z)===0)&&(P=L,I=z,O=!0)}}else for(const I of _)(O?R(I,P)>0:R(I,I)===0)&&(P=I,O=!0);return P}function quantile$1(_,R,P){if(_=Float64Array.from(numbers(_,P)),!(!(O=_.length)||isNaN(R=+R))){if(R<=0||O<2)return min$1(_);if(R>=1)return max(_);var O,I=(O-1)*R,L=Math.floor(I),z=max(quickselect(_,L).subarray(0,L+1)),F=min$1(_.subarray(L+1));return z+(F-z)*(I-L)}}function quantileSorted(_,R,P=number$5){if(!(!(O=_.length)||isNaN(R=+R))){if(R<=0||O<2)return+P(_[0],0,_);if(R>=1)return+P(_[O-1],O-1,_);var O,I=(O-1)*R,L=Math.floor(I),z=+P(_[L],L,_),F=+P(_[L+1],L+1,_);return z+(F-z)*(I-L)}}function thresholdFreedmanDiaconis(_,R,P){const O=count(_),I=quantile$1(_,.75)-quantile$1(_,.25);return O&&I?Math.ceil((P-R)/(2*I*Math.pow(O,-1/3))):1}function thresholdScott(_,R,P){const O=count(_),I=deviation(_);return O&&I?Math.ceil((P-R)*Math.cbrt(O)/(3.49*I)):1}function mean(_,R){let P=0,O=0;if(R===void 0)for(let I of _)I!=null&&(I=+I)>=I&&(++P,O+=I);else{let I=-1;for(let L of _)(L=R(L,++I,_))!=null&&(L=+L)>=L&&(++P,O+=L)}if(P)return O/P}function median(_,R){return quantile$1(_,.5,R)}function*flatten(_){for(const R of _)yield*R}function merge$1(_){return Array.from(flatten(_))}function mode(_,R){const P=new InternMap;if(R===void 0)for(let L of _)L!=null&&L>=L&&P.set(L,(P.get(L)||0)+1);else{let L=-1;for(let z of _)(z=R(z,++L,_))!=null&&z>=z&&P.set(z,(P.get(z)||0)+1)}let O,I=0;for(const[L,z]of P)z>I&&(I=z,O=L);return O}function pairs(_,R=pair){const P=[];let O,I=!1;for(const L of _)I&&P.push(R(O,L)),O=L,I=!0;return P}function pair(_,R){return[_,R]}function range$1(_,R,P){_=+_,R=+R,P=(I=arguments.length)<2?(R=_,_=0,1):I<3?1:+P;for(var O=-1,I=Math.max(0,Math.ceil((R-_)/P))|0,L=new Array(I);++O<I;)L[O]=_+O*P;return L}function sum(_,R){let P=0;if(R===void 0)for(let O of _)(O=+O)&&(P+=O);else{let O=-1;for(let I of _)(I=+R(I,++O,_))&&(P+=I)}return P}function reverse(_){if(typeof _[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(_).reverse()}function identity$7(_){return _}var bottom=3,epsilon$3=1e-6;function translateX(_){return"translate("+_+",0)"}function number$4(_){return R=>+_(R)}function center(_,R){return R=Math.max(0,_.bandwidth()-R*2)/2,_.round()&&(R=Math.round(R)),P=>+_(P)+R}function entering(){return!this.__axis}function axis(_,R){var P=[],O=null,I=null,L=6,z=6,F=3,G=typeof window<"u"&&window.devicePixelRatio>1?0:.5,V=1,Z="y",Y=translateX;function Q(J){var te=O??(R.ticks?R.ticks.apply(R,P):R.domain()),ne=I??(R.tickFormat?R.tickFormat.apply(R,P):identity$7),ie=Math.max(L,0)+F,se=R.range(),oe=+se[0]+G,ce=+se[se.length-1]+G,ue=(R.bandwidth?center:number$4)(R.copy(),G),me=J.selection?J.selection():J,he=me.selectAll(".domain").data([null]),fe=me.selectAll(".tick").data(te,R).order(),de=fe.exit(),pe=fe.enter().append("g").attr("class","tick"),be=fe.select("line"),ye=fe.select("text");he=he.merge(he.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),fe=fe.merge(pe),be=be.merge(pe.append("line").attr("stroke","currentColor").attr(Z+"2",V*L)),ye=ye.merge(pe.append("text").attr("fill","currentColor").attr(Z,V*ie).attr("dy","0.71em")),J!==me&&(he=he.transition(J),fe=fe.transition(J),be=be.transition(J),ye=ye.transition(J),de=de.transition(J).attr("opacity",epsilon$3).attr("transform",function(we){return isFinite(we=ue(we))?Y(we+G):this.getAttribute("transform")}),pe.attr("opacity",epsilon$3).attr("transform",function(we){var ve=this.parentNode.__axis;return Y((ve&&isFinite(ve=ve(we))?ve:ue(we))+G)})),de.remove(),he.attr("d",z?"M"+oe+","+V*z+"V"+G+"H"+ce+"V"+V*z:"M"+oe+","+G+"H"+ce),fe.attr("opacity",1).attr("transform",function(we){return Y(ue(we)+G)}),be.attr(Z+"2",V*L),ye.attr(Z,V*ie).text(ne),me.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),me.each(function(){this.__axis=ue})}return Q.scale=function(J){return arguments.length?(R=J,Q):R},Q.ticks=function(){return P=Array.from(arguments),Q},Q.tickArguments=function(J){return arguments.length?(P=J==null?[]:Array.from(J),Q):P.slice()},Q.tickValues=function(J){return arguments.length?(O=J==null?null:Array.from(J),Q):O&&O.slice()},Q.tickFormat=function(J){return arguments.length?(I=J,Q):I},Q.tickSize=function(J){return arguments.length?(L=z=+J,Q):L},Q.tickSizeInner=function(J){return arguments.length?(L=+J,Q):L},Q.tickSizeOuter=function(J){return arguments.length?(z=+J,Q):z},Q.tickPadding=function(J){return arguments.length?(F=+J,Q):F},Q.offset=function(J){return arguments.length?(G=+J,Q):G},Q}function axisBottom(_){return axis(bottom,_)}var noop$2={value:()=>{}};function dispatch(){for(var _=0,R=arguments.length,P={},O;_<R;++_){if(!(O=arguments[_]+"")||O in P||/[\s.]/.test(O))throw new Error("illegal type: "+O);P[O]=[]}return new Dispatch(P)}function Dispatch(_){this._=_}function parseTypenames$1(_,R){return _.trim().split(/^|\s+/).map(function(P){var O="",I=P.indexOf(".");if(I>=0&&(O=P.slice(I+1),P=P.slice(0,I)),P&&!R.hasOwnProperty(P))throw new Error("unknown type: "+P);return{type:P,name:O}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(_,R){var P=this._,O=parseTypenames$1(_+"",P),I,L=-1,z=O.length;if(arguments.length<2){for(;++L<z;)if((I=(_=O[L]).type)&&(I=get$1(P[I],_.name)))return I;return}if(R!=null&&typeof R!="function")throw new Error("invalid callback: "+R);for(;++L<z;)if(I=(_=O[L]).type)P[I]=set$1(P[I],_.name,R);else if(R==null)for(I in P)P[I]=set$1(P[I],_.name,null);return this},copy:function(){var _={},R=this._;for(var P in R)_[P]=R[P].slice();return new Dispatch(_)},call:function(_,R){if((I=arguments.length-2)>0)for(var P=new Array(I),O=0,I,L;O<I;++O)P[O]=arguments[O+2];if(!this._.hasOwnProperty(_))throw new Error("unknown type: "+_);for(L=this._[_],O=0,I=L.length;O<I;++O)L[O].value.apply(R,P)},apply:function(_,R,P){if(!this._.hasOwnProperty(_))throw new Error("unknown type: "+_);for(var O=this._[_],I=0,L=O.length;I<L;++I)O[I].value.apply(R,P)}};function get$1(_,R){for(var P=0,O=_.length,I;P<O;++P)if((I=_[P]).name===R)return I.value}function set$1(_,R,P){for(var O=0,I=_.length;O<I;++O)if(_[O].name===R){_[O]=noop$2,_=_.slice(0,O).concat(_.slice(O+1));break}return P!=null&&_.push({name:R,value:P}),_}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(_){var R=_+="",P=R.indexOf(":");return P>=0&&(R=_.slice(0,P))!=="xmlns"&&(_=_.slice(P+1)),namespaces.hasOwnProperty(R)?{space:namespaces[R],local:_}:_}function creatorInherit(_){return function(){var R=this.ownerDocument,P=this.namespaceURI;return P===xhtml&&R.documentElement.namespaceURI===xhtml?R.createElement(_):R.createElementNS(P,_)}}function creatorFixed(_){return function(){return this.ownerDocument.createElementNS(_.space,_.local)}}function creator(_){var R=namespace(_);return(R.local?creatorFixed:creatorInherit)(R)}function none(){}function selector(_){return _==null?none:function(){return this.querySelector(_)}}function selection_select(_){typeof _!="function"&&(_=selector(_));for(var R=this._groups,P=R.length,O=new Array(P),I=0;I<P;++I)for(var L=R[I],z=L.length,F=O[I]=new Array(z),G,V,Z=0;Z<z;++Z)(G=L[Z])&&(V=_.call(G,G.__data__,Z,L))&&("__data__"in G&&(V.__data__=G.__data__),F[Z]=V);return new Selection$1(O,this._parents)}function array$1(_){return _==null?[]:Array.isArray(_)?_:Array.from(_)}function empty$2(){return[]}function selectorAll(_){return _==null?empty$2:function(){return this.querySelectorAll(_)}}function arrayAll(_){return function(){return array$1(_.apply(this,arguments))}}function selection_selectAll(_){typeof _=="function"?_=arrayAll(_):_=selectorAll(_);for(var R=this._groups,P=R.length,O=[],I=[],L=0;L<P;++L)for(var z=R[L],F=z.length,G,V=0;V<F;++V)(G=z[V])&&(O.push(_.call(G,G.__data__,V,z)),I.push(G));return new Selection$1(O,I)}function matcher(_){return function(){return this.matches(_)}}function childMatcher(_){return function(R){return R.matches(_)}}var find$1=Array.prototype.find;function childFind(_){return function(){return find$1.call(this.children,_)}}function childFirst(){return this.firstElementChild}function selection_selectChild(_){return this.select(_==null?childFirst:childFind(typeof _=="function"?_:childMatcher(_)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(_){return function(){return filter.call(this.children,_)}}function selection_selectChildren(_){return this.selectAll(_==null?children:childrenFilter(typeof _=="function"?_:childMatcher(_)))}function selection_filter(_){typeof _!="function"&&(_=matcher(_));for(var R=this._groups,P=R.length,O=new Array(P),I=0;I<P;++I)for(var L=R[I],z=L.length,F=O[I]=[],G,V=0;V<z;++V)(G=L[V])&&_.call(G,G.__data__,V,L)&&F.push(G);return new Selection$1(O,this._parents)}function sparse(_){return new Array(_.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(_,R){this.ownerDocument=_.ownerDocument,this.namespaceURI=_.namespaceURI,this._next=null,this._parent=_,this.__data__=R}EnterNode.prototype={constructor:EnterNode,appendChild:function(_){return this._parent.insertBefore(_,this._next)},insertBefore:function(_,R){return this._parent.insertBefore(_,R)},querySelector:function(_){return this._parent.querySelector(_)},querySelectorAll:function(_){return this._parent.querySelectorAll(_)}};function constant$3(_){return function(){return _}}function bindIndex(_,R,P,O,I,L){for(var z=0,F,G=R.length,V=L.length;z<V;++z)(F=R[z])?(F.__data__=L[z],O[z]=F):P[z]=new EnterNode(_,L[z]);for(;z<G;++z)(F=R[z])&&(I[z]=F)}function bindKey(_,R,P,O,I,L,z){var F,G,V=new Map,Z=R.length,Y=L.length,Q=new Array(Z),J;for(F=0;F<Z;++F)(G=R[F])&&(Q[F]=J=z.call(G,G.__data__,F,R)+"",V.has(J)?I[F]=G:V.set(J,G));for(F=0;F<Y;++F)J=z.call(_,L[F],F,L)+"",(G=V.get(J))?(O[F]=G,G.__data__=L[F],V.delete(J)):P[F]=new EnterNode(_,L[F]);for(F=0;F<Z;++F)(G=R[F])&&V.get(Q[F])===G&&(I[F]=G)}function datum(_){return _.__data__}function selection_data(_,R){if(!arguments.length)return Array.from(this,datum);var P=R?bindKey:bindIndex,O=this._parents,I=this._groups;typeof _!="function"&&(_=constant$3(_));for(var L=I.length,z=new Array(L),F=new Array(L),G=new Array(L),V=0;V<L;++V){var Z=O[V],Y=I[V],Q=Y.length,J=arraylike(_.call(Z,Z&&Z.__data__,V,O)),te=J.length,ne=F[V]=new Array(te),ie=z[V]=new Array(te),se=G[V]=new Array(Q);P(Z,Y,ne,ie,se,J,R);for(var oe=0,ce=0,ue,me;oe<te;++oe)if(ue=ne[oe]){for(oe>=ce&&(ce=oe+1);!(me=ie[ce])&&++ce<te;);ue._next=me||null}}return z=new Selection$1(z,O),z._enter=F,z._exit=G,z}function arraylike(_){return typeof _=="object"&&"length"in _?_:Array.from(_)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(_,R,P){var O=this.enter(),I=this,L=this.exit();return typeof _=="function"?(O=_(O),O&&(O=O.selection())):O=O.append(_+""),R!=null&&(I=R(I),I&&(I=I.selection())),P==null?L.remove():P(L),O&&I?O.merge(I).order():I}function selection_merge(_){for(var R=_.selection?_.selection():_,P=this._groups,O=R._groups,I=P.length,L=O.length,z=Math.min(I,L),F=new Array(I),G=0;G<z;++G)for(var V=P[G],Z=O[G],Y=V.length,Q=F[G]=new Array(Y),J,te=0;te<Y;++te)(J=V[te]||Z[te])&&(Q[te]=J);for(;G<I;++G)F[G]=P[G];return new Selection$1(F,this._parents)}function selection_order(){for(var _=this._groups,R=-1,P=_.length;++R<P;)for(var O=_[R],I=O.length-1,L=O[I],z;--I>=0;)(z=O[I])&&(L&&z.compareDocumentPosition(L)^4&&L.parentNode.insertBefore(z,L),L=z);return this}function selection_sort(_){_||(_=ascending);function R(Y,Q){return Y&&Q?_(Y.__data__,Q.__data__):!Y-!Q}for(var P=this._groups,O=P.length,I=new Array(O),L=0;L<O;++L){for(var z=P[L],F=z.length,G=I[L]=new Array(F),V,Z=0;Z<F;++Z)(V=z[Z])&&(G[Z]=V);G.sort(R)}return new Selection$1(I,this._parents).order()}function ascending(_,R){return _<R?-1:_>R?1:_>=R?0:NaN}function selection_call(){var _=arguments[0];return arguments[0]=this,_.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var _=this._groups,R=0,P=_.length;R<P;++R)for(var O=_[R],I=0,L=O.length;I<L;++I){var z=O[I];if(z)return z}return null}function selection_size(){let _=0;for(const R of this)++_;return _}function selection_empty(){return!this.node()}function selection_each(_){for(var R=this._groups,P=0,O=R.length;P<O;++P)for(var I=R[P],L=0,z=I.length,F;L<z;++L)(F=I[L])&&_.call(F,F.__data__,L,I);return this}function attrRemove$1(_){return function(){this.removeAttribute(_)}}function attrRemoveNS$1(_){return function(){this.removeAttributeNS(_.space,_.local)}}function attrConstant$1(_,R){return function(){this.setAttribute(_,R)}}function attrConstantNS$1(_,R){return function(){this.setAttributeNS(_.space,_.local,R)}}function attrFunction$1(_,R){return function(){var P=R.apply(this,arguments);P==null?this.removeAttribute(_):this.setAttribute(_,P)}}function attrFunctionNS$1(_,R){return function(){var P=R.apply(this,arguments);P==null?this.removeAttributeNS(_.space,_.local):this.setAttributeNS(_.space,_.local,P)}}function selection_attr(_,R){var P=namespace(_);if(arguments.length<2){var O=this.node();return P.local?O.getAttributeNS(P.space,P.local):O.getAttribute(P)}return this.each((R==null?P.local?attrRemoveNS$1:attrRemove$1:typeof R=="function"?P.local?attrFunctionNS$1:attrFunction$1:P.local?attrConstantNS$1:attrConstant$1)(P,R))}function defaultView(_){return _.ownerDocument&&_.ownerDocument.defaultView||_.document&&_||_.defaultView}function styleRemove$1(_){return function(){this.style.removeProperty(_)}}function styleConstant$1(_,R,P){return function(){this.style.setProperty(_,R,P)}}function styleFunction$1(_,R,P){return function(){var O=R.apply(this,arguments);O==null?this.style.removeProperty(_):this.style.setProperty(_,O,P)}}function selection_style(_,R,P){return arguments.length>1?this.each((R==null?styleRemove$1:typeof R=="function"?styleFunction$1:styleConstant$1)(_,R,P??"")):styleValue(this.node(),_)}function styleValue(_,R){return _.style.getPropertyValue(R)||defaultView(_).getComputedStyle(_,null).getPropertyValue(R)}function propertyRemove(_){return function(){delete this[_]}}function propertyConstant(_,R){return function(){this[_]=R}}function propertyFunction(_,R){return function(){var P=R.apply(this,arguments);P==null?delete this[_]:this[_]=P}}function selection_property(_,R){return arguments.length>1?this.each((R==null?propertyRemove:typeof R=="function"?propertyFunction:propertyConstant)(_,R)):this.node()[_]}function classArray(_){return _.trim().split(/^|\s+/)}function classList(_){return _.classList||new ClassList(_)}function ClassList(_){this._node=_,this._names=classArray(_.getAttribute("class")||"")}ClassList.prototype={add:function(_){var R=this._names.indexOf(_);R<0&&(this._names.push(_),this._node.setAttribute("class",this._names.join(" ")))},remove:function(_){var R=this._names.indexOf(_);R>=0&&(this._names.splice(R,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(_){return this._names.indexOf(_)>=0}};function classedAdd(_,R){for(var P=classList(_),O=-1,I=R.length;++O<I;)P.add(R[O])}function classedRemove(_,R){for(var P=classList(_),O=-1,I=R.length;++O<I;)P.remove(R[O])}function classedTrue(_){return function(){classedAdd(this,_)}}function classedFalse(_){return function(){classedRemove(this,_)}}function classedFunction(_,R){return function(){(R.apply(this,arguments)?classedAdd:classedRemove)(this,_)}}function selection_classed(_,R){var P=classArray(_+"");if(arguments.length<2){for(var O=classList(this.node()),I=-1,L=P.length;++I<L;)if(!O.contains(P[I]))return!1;return!0}return this.each((typeof R=="function"?classedFunction:R?classedTrue:classedFalse)(P,R))}function textRemove(){this.textContent=""}function textConstant$1(_){return function(){this.textContent=_}}function textFunction$1(_){return function(){var R=_.apply(this,arguments);this.textContent=R??""}}function selection_text(_){return arguments.length?this.each(_==null?textRemove:(typeof _=="function"?textFunction$1:textConstant$1)(_)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(_){return function(){this.innerHTML=_}}function htmlFunction(_){return function(){var R=_.apply(this,arguments);this.innerHTML=R??""}}function selection_html(_){return arguments.length?this.each(_==null?htmlRemove:(typeof _=="function"?htmlFunction:htmlConstant)(_)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(_){var R=typeof _=="function"?_:creator(_);return this.select(function(){return this.appendChild(R.apply(this,arguments))})}function constantNull(){return null}function selection_insert(_,R){var P=typeof _=="function"?_:creator(_),O=R==null?constantNull:typeof R=="function"?R:selector(R);return this.select(function(){return this.insertBefore(P.apply(this,arguments),O.apply(this,arguments)||null)})}function remove(){var _=this.parentNode;_&&_.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var _=this.cloneNode(!1),R=this.parentNode;return R?R.insertBefore(_,this.nextSibling):_}function selection_cloneDeep(){var _=this.cloneNode(!0),R=this.parentNode;return R?R.insertBefore(_,this.nextSibling):_}function selection_clone(_){return this.select(_?selection_cloneDeep:selection_cloneShallow)}function selection_datum(_){return arguments.length?this.property("__data__",_):this.node().__data__}function contextListener(_){return function(R){_.call(this,R,this.__data__)}}function parseTypenames(_){return _.trim().split(/^|\s+/).map(function(R){var P="",O=R.indexOf(".");return O>=0&&(P=R.slice(O+1),R=R.slice(0,O)),{type:R,name:P}})}function onRemove(_){return function(){var R=this.__on;if(R){for(var P=0,O=-1,I=R.length,L;P<I;++P)L=R[P],(!_.type||L.type===_.type)&&L.name===_.name?this.removeEventListener(L.type,L.listener,L.options):R[++O]=L;++O?R.length=O:delete this.__on}}}function onAdd(_,R,P){return function(){var O=this.__on,I,L=contextListener(R);if(O){for(var z=0,F=O.length;z<F;++z)if((I=O[z]).type===_.type&&I.name===_.name){this.removeEventListener(I.type,I.listener,I.options),this.addEventListener(I.type,I.listener=L,I.options=P),I.value=R;return}}this.addEventListener(_.type,L,P),I={type:_.type,name:_.name,value:R,listener:L,options:P},O?O.push(I):this.__on=[I]}}function selection_on(_,R,P){var O=parseTypenames(_+""),I,L=O.length,z;if(arguments.length<2){var F=this.node().__on;if(F){for(var G=0,V=F.length,Z;G<V;++G)for(I=0,Z=F[G];I<L;++I)if((z=O[I]).type===Z.type&&z.name===Z.name)return Z.value}return}for(F=R?onAdd:onRemove,I=0;I<L;++I)this.each(F(O[I],R,P));return this}function dispatchEvent(_,R,P){var O=defaultView(_),I=O.CustomEvent;typeof I=="function"?I=new I(R,P):(I=O.document.createEvent("Event"),P?(I.initEvent(R,P.bubbles,P.cancelable),I.detail=P.detail):I.initEvent(R,!1,!1)),_.dispatchEvent(I)}function dispatchConstant(_,R){return function(){return dispatchEvent(this,_,R)}}function dispatchFunction(_,R){return function(){return dispatchEvent(this,_,R.apply(this,arguments))}}function selection_dispatch(_,R){return this.each((typeof R=="function"?dispatchFunction:dispatchConstant)(_,R))}function*selection_iterator(){for(var _=this._groups,R=0,P=_.length;R<P;++R)for(var O=_[R],I=0,L=O.length,z;I<L;++I)(z=O[I])&&(yield z)}var root$3=[null];function Selection$1(_,R){this._groups=_,this._parents=R}function selection(){return new Selection$1([[document.documentElement]],root$3)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(_){return typeof _=="string"?new Selection$1([[document.querySelector(_)]],[document.documentElement]):new Selection$1([[_]],root$3)}function sourceEvent(_){let R;for(;R=_.sourceEvent;)_=R;return _}function pointof(_,R){if(_=sourceEvent(_),R===void 0&&(R=_.currentTarget),R){var P=R.ownerSVGElement||R;if(P.createSVGPoint){var O=P.createSVGPoint();return O.x=_.clientX,O.y=_.clientY,O=O.matrixTransform(R.getScreenCTM().inverse()),[O.x,O.y]}if(R.getBoundingClientRect){var I=R.getBoundingClientRect();return[_.clientX-I.left-R.clientLeft,_.clientY-I.top-R.clientTop]}}return[_.pageX,_.pageY]}function define(_,R,P){_.prototype=R.prototype=P,P.constructor=_}function extend$2(_,R){var P=Object.create(_.prototype);for(var O in R)P[O]=R[O];return P}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named$1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color$2,{copy(_){return Object.assign(new this.constructor,this,_)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$2(_){var R,P;return _=(_+"").trim().toLowerCase(),(R=reHex.exec(_))?(P=R[1].length,R=parseInt(R[1],16),P===6?rgbn(R):P===3?new Rgb(R>>8&15|R>>4&240,R>>4&15|R&240,(R&15)<<4|R&15,1):P===8?rgba(R>>24&255,R>>16&255,R>>8&255,(R&255)/255):P===4?rgba(R>>12&15|R>>8&240,R>>8&15|R>>4&240,R>>4&15|R&240,((R&15)<<4|R&15)/255):null):(R=reRgbInteger.exec(_))?new Rgb(R[1],R[2],R[3],1):(R=reRgbPercent.exec(_))?new Rgb(R[1]*255/100,R[2]*255/100,R[3]*255/100,1):(R=reRgbaInteger.exec(_))?rgba(R[1],R[2],R[3],R[4]):(R=reRgbaPercent.exec(_))?rgba(R[1]*255/100,R[2]*255/100,R[3]*255/100,R[4]):(R=reHslPercent.exec(_))?hsla(R[1],R[2]/100,R[3]/100,1):(R=reHslaPercent.exec(_))?hsla(R[1],R[2]/100,R[3]/100,R[4]):named$1.hasOwnProperty(_)?rgbn(named$1[_]):_==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(_){return new Rgb(_>>16&255,_>>8&255,_&255,1)}function rgba(_,R,P,O){return O<=0&&(_=R=P=NaN),new Rgb(_,R,P,O)}function rgbConvert(_){return _ instanceof Color||(_=color$2(_)),_?(_=_.rgb(),new Rgb(_.r,_.g,_.b,_.opacity)):new Rgb}function rgb(_,R,P,O){return arguments.length===1?rgbConvert(_):new Rgb(_,R,P,O??1)}function Rgb(_,R,P,O){this.r=+_,this.g=+R,this.b=+P,this.opacity=+O}define(Rgb,rgb,extend$2(Color,{brighter(_){return _=_==null?brighter:Math.pow(brighter,_),new Rgb(this.r*_,this.g*_,this.b*_,this.opacity)},darker(_){return _=_==null?darker:Math.pow(darker,_),new Rgb(this.r*_,this.g*_,this.b*_,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const _=clampa(this.opacity);return`${_===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${_===1?")":`, ${_})`}`}function clampa(_){return isNaN(_)?1:Math.max(0,Math.min(1,_))}function clampi(_){return Math.max(0,Math.min(255,Math.round(_)||0))}function hex(_){return _=clampi(_),(_<16?"0":"")+_.toString(16)}function hsla(_,R,P,O){return O<=0?_=R=P=NaN:P<=0||P>=1?_=R=NaN:R<=0&&(_=NaN),new Hsl(_,R,P,O)}function hslConvert(_){if(_ instanceof Hsl)return new Hsl(_.h,_.s,_.l,_.opacity);if(_ instanceof Color||(_=color$2(_)),!_)return new Hsl;if(_ instanceof Hsl)return _;_=_.rgb();var R=_.r/255,P=_.g/255,O=_.b/255,I=Math.min(R,P,O),L=Math.max(R,P,O),z=NaN,F=L-I,G=(L+I)/2;return F?(R===L?z=(P-O)/F+(P<O)*6:P===L?z=(O-R)/F+2:z=(R-P)/F+4,F/=G<.5?L+I:2-L-I,z*=60):F=G>0&&G<1?0:z,new Hsl(z,F,G,_.opacity)}function hsl$1(_,R,P,O){return arguments.length===1?hslConvert(_):new Hsl(_,R,P,O??1)}function Hsl(_,R,P,O){this.h=+_,this.s=+R,this.l=+P,this.opacity=+O}define(Hsl,hsl$1,extend$2(Color,{brighter(_){return _=_==null?brighter:Math.pow(brighter,_),new Hsl(this.h,this.s,this.l*_,this.opacity)},darker(_){return _=_==null?darker:Math.pow(darker,_),new Hsl(this.h,this.s,this.l*_,this.opacity)},rgb(){var _=this.h%360+(this.h<0)*360,R=isNaN(_)||isNaN(this.s)?0:this.s,P=this.l,O=P+(P<.5?P:1-P)*R,I=2*P-O;return new Rgb(hsl2rgb(_>=240?_-240:_+120,I,O),hsl2rgb(_,I,O),hsl2rgb(_<120?_+240:_-120,I,O),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const _=clampa(this.opacity);return`${_===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${_===1?")":`, ${_})`}`}}));function clamph(_){return _=(_||0)%360,_<0?_+360:_}function clampt(_){return Math.max(0,Math.min(1,_||0))}function hsl2rgb(_,R,P){return(_<60?R+(P-R)*_/60:_<180?P:_<240?R+(P-R)*(240-_)/60:R)*255}const radians$2=Math.PI/180,degrees$2=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0$1=4/29,t1$1=6/29,t2=3*t1$1*t1$1,t3=t1$1*t1$1*t1$1;function labConvert(_){if(_ instanceof Lab)return new Lab(_.l,_.a,_.b,_.opacity);if(_ instanceof Hcl)return hcl2lab(_);_ instanceof Rgb||(_=rgbConvert(_));var R=rgb2lrgb(_.r),P=rgb2lrgb(_.g),O=rgb2lrgb(_.b),I=xyz2lab((.2225045*R+.7168786*P+.0606169*O)/Yn),L,z;return R===P&&P===O?L=z=I:(L=xyz2lab((.4360747*R+.3850649*P+.1430804*O)/Xn),z=xyz2lab((.0139322*R+.0971045*P+.7141733*O)/Zn)),new Lab(116*I-16,500*(L-I),200*(I-z),_.opacity)}function lab$1(_,R,P,O){return arguments.length===1?labConvert(_):new Lab(_,R,P,O??1)}function Lab(_,R,P,O){this.l=+_,this.a=+R,this.b=+P,this.opacity=+O}define(Lab,lab$1,extend$2(Color,{brighter(_){return new Lab(this.l+K*(_??1),this.a,this.b,this.opacity)},darker(_){return new Lab(this.l-K*(_??1),this.a,this.b,this.opacity)},rgb(){var _=(this.l+16)/116,R=isNaN(this.a)?_:_+this.a/500,P=isNaN(this.b)?_:_-this.b/200;return R=Xn*lab2xyz(R),_=Yn*lab2xyz(_),P=Zn*lab2xyz(P),new Rgb(lrgb2rgb(3.1338561*R-1.6168667*_-.4906146*P),lrgb2rgb(-.9787684*R+1.9161415*_+.033454*P),lrgb2rgb(.0719453*R-.2289914*_+1.4052427*P),this.opacity)}}));function xyz2lab(_){return _>t3?Math.pow(_,1/3):_/t2+t0$1}function lab2xyz(_){return _>t1$1?_*_*_:t2*(_-t0$1)}function lrgb2rgb(_){return 255*(_<=.0031308?12.92*_:1.055*Math.pow(_,1/2.4)-.055)}function rgb2lrgb(_){return(_/=255)<=.04045?_/12.92:Math.pow((_+.055)/1.055,2.4)}function hclConvert(_){if(_ instanceof Hcl)return new Hcl(_.h,_.c,_.l,_.opacity);if(_ instanceof Lab||(_=labConvert(_)),_.a===0&&_.b===0)return new Hcl(NaN,0<_.l&&_.l<100?0:NaN,_.l,_.opacity);var R=Math.atan2(_.b,_.a)*degrees$2;return new Hcl(R<0?R+360:R,Math.sqrt(_.a*_.a+_.b*_.b),_.l,_.opacity)}function hcl$1(_,R,P,O){return arguments.length===1?hclConvert(_):new Hcl(_,R,P,O??1)}function Hcl(_,R,P,O){this.h=+_,this.c=+R,this.l=+P,this.opacity=+O}function hcl2lab(_){if(isNaN(_.h))return new Lab(_.l,0,0,_.opacity);var R=_.h*radians$2;return new Lab(_.l,Math.cos(R)*_.c,Math.sin(R)*_.c,_.opacity)}define(Hcl,hcl$1,extend$2(Color,{brighter(_){return new Hcl(this.h,this.c,this.l+K*(_??1),this.opacity)},darker(_){return new Hcl(this.h,this.c,this.l-K*(_??1),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));var A=-.14861,B=1.78277,C=-.29227,D$1=-.90649,E=1.97294,ED=E*D$1,EB=E*B,BC_DA=B*C-D$1*A;function cubehelixConvert(_){if(_ instanceof Cubehelix)return new Cubehelix(_.h,_.s,_.l,_.opacity);_ instanceof Rgb||(_=rgbConvert(_));var R=_.r/255,P=_.g/255,O=_.b/255,I=(BC_DA*O+ED*R-EB*P)/(BC_DA+ED-EB),L=O-I,z=(E*(P-I)-C*L)/D$1,F=Math.sqrt(z*z+L*L)/(E*I*(1-I)),G=F?Math.atan2(z,L)*degrees$2-120:NaN;return new Cubehelix(G<0?G+360:G,F,I,_.opacity)}function cubehelix$1(_,R,P,O){return arguments.length===1?cubehelixConvert(_):new Cubehelix(_,R,P,O??1)}function Cubehelix(_,R,P,O){this.h=+_,this.s=+R,this.l=+P,this.opacity=+O}define(Cubehelix,cubehelix$1,extend$2(Color,{brighter(_){return _=_==null?brighter:Math.pow(brighter,_),new Cubehelix(this.h,this.s,this.l*_,this.opacity)},darker(_){return _=_==null?darker:Math.pow(darker,_),new Cubehelix(this.h,this.s,this.l*_,this.opacity)},rgb(){var _=isNaN(this.h)?0:(this.h+120)*radians$2,R=+this.l,P=isNaN(this.s)?0:this.s*R*(1-R),O=Math.cos(_),I=Math.sin(_);return new Rgb(255*(R+P*(A*O+B*I)),255*(R+P*(C*O+D$1*I)),255*(R+P*(E*O)),this.opacity)}}));function basis(_,R,P,O,I){var L=_*_,z=L*_;return((1-3*_+3*L-z)*R+(4-6*L+3*z)*P+(1+3*_+3*L-3*z)*O+z*I)/6}function basis$1(_){var R=_.length-1;return function(P){var O=P<=0?P=0:P>=1?(P=1,R-1):Math.floor(P*R),I=_[O],L=_[O+1],z=O>0?_[O-1]:2*I-L,F=O<R-1?_[O+2]:2*L-I;return basis((P-O/R)*R,z,I,L,F)}}const constant$2=_=>()=>_;function linear$1(_,R){return function(P){return _+P*R}}function exponential(_,R,P){return _=Math.pow(_,P),R=Math.pow(R,P)-_,P=1/P,function(O){return Math.pow(_+O*R,P)}}function hue(_,R){var P=R-_;return P?linear$1(_,P>180||P<-180?P-360*Math.round(P/360):P):constant$2(isNaN(_)?R:_)}function gamma(_){return(_=+_)==1?nogamma:function(R,P){return P-R?exponential(R,P,_):constant$2(isNaN(R)?P:R)}}function nogamma(_,R){var P=R-_;return P?linear$1(_,P):constant$2(isNaN(_)?R:_)}const interpolateRgb=(function _(R){var P=gamma(R);function O(I,L){var z=P((I=rgb(I)).r,(L=rgb(L)).r),F=P(I.g,L.g),G=P(I.b,L.b),V=nogamma(I.opacity,L.opacity);return function(Z){return I.r=z(Z),I.g=F(Z),I.b=G(Z),I.opacity=V(Z),I+""}}return O.gamma=_,O})(1);function rgbSpline(_){return function(R){var P=R.length,O=new Array(P),I=new Array(P),L=new Array(P),z,F;for(z=0;z<P;++z)F=rgb(R[z]),O[z]=F.r||0,I[z]=F.g||0,L[z]=F.b||0;return O=_(O),I=_(I),L=_(L),F.opacity=1,function(G){return F.r=O(G),F.g=I(G),F.b=L(G),F+""}}}var rgbBasis=rgbSpline(basis$1);function numberArray(_,R){R||(R=[]);var P=_?Math.min(R.length,_.length):0,O=R.slice(),I;return function(L){for(I=0;I<P;++I)O[I]=_[I]*(1-L)+R[I]*L;return O}}function isNumberArray$1(_){return ArrayBuffer.isView(_)&&!(_ instanceof DataView)}function genericArray(_,R){var P=R?R.length:0,O=_?Math.min(P,_.length):0,I=new Array(O),L=new Array(P),z;for(z=0;z<O;++z)I[z]=interpolate$1(_[z],R[z]);for(;z<P;++z)L[z]=R[z];return function(F){for(z=0;z<O;++z)L[z]=I[z](F);return L}}function date$1(_,R){var P=new Date;return _=+_,R=+R,function(O){return P.setTime(_*(1-O)+R*O),P}}function interpolateNumber(_,R){return _=+_,R=+R,function(P){return _*(1-P)+R*P}}function object(_,R){var P={},O={},I;(_===null||typeof _!="object")&&(_={}),(R===null||typeof R!="object")&&(R={});for(I in R)I in _?P[I]=interpolate$1(_[I],R[I]):O[I]=R[I];return function(L){for(I in P)O[I]=P[I](L);return O}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero$2(_){return function(){return _}}function one$4(_){return function(R){return _(R)+""}}function interpolateString(_,R){var P=reA.lastIndex=reB.lastIndex=0,O,I,L,z=-1,F=[],G=[];for(_=_+"",R=R+"";(O=reA.exec(_))&&(I=reB.exec(R));)(L=I.index)>P&&(L=R.slice(P,L),F[z]?F[z]+=L:F[++z]=L),(O=O[0])===(I=I[0])?F[z]?F[z]+=I:F[++z]=I:(F[++z]=null,G.push({i:z,x:interpolateNumber(O,I)})),P=reB.lastIndex;return P<R.length&&(L=R.slice(P),F[z]?F[z]+=L:F[++z]=L),F.length<2?G[0]?one$4(G[0].x):zero$2(R):(R=G.length,function(V){for(var Z=0,Y;Z<R;++Z)F[(Y=G[Z]).i]=Y.x(V);return F.join("")})}function interpolate$1(_,R){var P=typeof R,O;return R==null||P==="boolean"?constant$2(R):(P==="number"?interpolateNumber:P==="string"?(O=color$2(R))?(R=O,interpolateRgb):interpolateString:R instanceof color$2?interpolateRgb:R instanceof Date?date$1:isNumberArray$1(R)?numberArray:Array.isArray(R)?genericArray:typeof R.valueOf!="function"&&typeof R.toString!="function"||isNaN(R)?object:interpolateNumber)(_,R)}function interpolateRound(_,R){return _=+_,R=+R,function(P){return Math.round(_*(1-P)+R*P)}}var degrees$1=180/Math.PI,identity$6={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(_,R,P,O,I,L){var z,F,G;return(z=Math.sqrt(_*_+R*R))&&(_/=z,R/=z),(G=_*P+R*O)&&(P-=_*G,O-=R*G),(F=Math.sqrt(P*P+O*O))&&(P/=F,O/=F,G/=F),_*O<R*P&&(_=-_,R=-R,G=-G,z=-z),{translateX:I,translateY:L,rotate:Math.atan2(R,_)*degrees$1,skewX:Math.atan(G)*degrees$1,scaleX:z,scaleY:F}}var svgNode;function parseCss(_){const R=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(_+"");return R.isIdentity?identity$6:decompose(R.a,R.b,R.c,R.d,R.e,R.f)}function parseSvg(_){return _==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",_),!(_=svgNode.transform.baseVal.consolidate()))?identity$6:(_=_.matrix,decompose(_.a,_.b,_.c,_.d,_.e,_.f))}function interpolateTransform(_,R,P,O){function I(V){return V.length?V.pop()+" ":""}function L(V,Z,Y,Q,J,te){if(V!==Y||Z!==Q){var ne=J.push("translate(",null,R,null,P);te.push({i:ne-4,x:interpolateNumber(V,Y)},{i:ne-2,x:interpolateNumber(Z,Q)})}else(Y||Q)&&J.push("translate("+Y+R+Q+P)}function z(V,Z,Y,Q){V!==Z?(V-Z>180?Z+=360:Z-V>180&&(V+=360),Q.push({i:Y.push(I(Y)+"rotate(",null,O)-2,x:interpolateNumber(V,Z)})):Z&&Y.push(I(Y)+"rotate("+Z+O)}function F(V,Z,Y,Q){V!==Z?Q.push({i:Y.push(I(Y)+"skewX(",null,O)-2,x:interpolateNumber(V,Z)}):Z&&Y.push(I(Y)+"skewX("+Z+O)}function G(V,Z,Y,Q,J,te){if(V!==Y||Z!==Q){var ne=J.push(I(J)+"scale(",null,",",null,")");te.push({i:ne-4,x:interpolateNumber(V,Y)},{i:ne-2,x:interpolateNumber(Z,Q)})}else(Y!==1||Q!==1)&&J.push(I(J)+"scale("+Y+","+Q+")")}return function(V,Z){var Y=[],Q=[];return V=_(V),Z=_(Z),L(V.translateX,V.translateY,Z.translateX,Z.translateY,Y,Q),z(V.rotate,Z.rotate,Y,Q),F(V.skewX,Z.skewX,Y,Q),G(V.scaleX,V.scaleY,Z.scaleX,Z.scaleY,Y,Q),V=Z=null,function(J){for(var te=-1,ne=Q.length,ie;++te<ne;)Y[(ie=Q[te]).i]=ie.x(J);return Y.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")");function hsl(_){return function(R,P){var O=_((R=hsl$1(R)).h,(P=hsl$1(P)).h),I=nogamma(R.s,P.s),L=nogamma(R.l,P.l),z=nogamma(R.opacity,P.opacity);return function(F){return R.h=O(F),R.s=I(F),R.l=L(F),R.opacity=z(F),R+""}}}const interpolateHsl=hsl(hue);function lab(_,R){var P=nogamma((_=lab$1(_)).l,(R=lab$1(R)).l),O=nogamma(_.a,R.a),I=nogamma(_.b,R.b),L=nogamma(_.opacity,R.opacity);return function(z){return _.l=P(z),_.a=O(z),_.b=I(z),_.opacity=L(z),_+""}}function hcl(_){return function(R,P){var O=_((R=hcl$1(R)).h,(P=hcl$1(P)).h),I=nogamma(R.c,P.c),L=nogamma(R.l,P.l),z=nogamma(R.opacity,P.opacity);return function(F){return R.h=O(F),R.c=I(F),R.l=L(F),R.opacity=z(F),R+""}}}const interpolateHcl=hcl(hue);function cubehelix(_){return(function R(P){P=+P;function O(I,L){var z=_((I=cubehelix$1(I)).h,(L=cubehelix$1(L)).h),F=nogamma(I.s,L.s),G=nogamma(I.l,L.l),V=nogamma(I.opacity,L.opacity);return function(Z){return I.h=z(Z),I.s=F(Z),I.l=G(Math.pow(Z,P)),I.opacity=V(Z),I+""}}return O.gamma=R,O})(1)}cubehelix(hue);var cubehelixLong=cubehelix(nogamma);function piecewise(_,R){R===void 0&&(R=_,_=interpolate$1);for(var P=0,O=R.length-1,I=R[0],L=new Array(O<0?0:O);P<O;)L[P]=_(I,I=R[++P]);return function(z){var F=Math.max(0,Math.min(O-1,Math.floor(z*=O)));return L[F](z-F)}}function quantize(_,R){for(var P=new Array(R),O=0;O<R;++O)P[O]=_(O/(R-1));return P}var frame$1=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(_){setTimeout(_,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(_,R,P){if(typeof _!="function")throw new TypeError("callback is not a function");P=(P==null?now():+P)+(R==null?0:+R),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=_,this._time=P,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(_,R,P){var O=new Timer;return O.restart(_,R,P),O}function timerFlush(){now(),++frame$1;for(var _=taskHead,R;_;)(R=clockNow-_._time)>=0&&_._call.call(void 0,R),_=_._next;--frame$1}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame$1=timeout$1=0;try{timerFlush()}finally{frame$1=0,nap(),clockNow=0}}function poke(){var _=clock.now(),R=_-clockLast;R>pokeDelay&&(clockSkew-=R,clockLast=_)}function nap(){for(var _,R=taskHead,P,O=1/0;R;)R._call?(O>R._time&&(O=R._time),_=R,R=R._next):(P=R._next,R._next=null,R=_?_._next=P:taskHead=P);taskTail=_,sleep(O)}function sleep(_){if(!frame$1){timeout$1&&(timeout$1=clearTimeout(timeout$1));var R=_-clockNow;R>24?(_<1/0&&(timeout$1=setTimeout(wake,_-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame$1=1,setFrame(wake))}}function timeout(_,R,P){var O=new Timer;return R=R==null?0:+R,O.restart(I=>{O.stop(),_(I+R)},R,P),O}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(_,R,P,O,I,L){var z=_.__transition;if(!z)_.__transition={};else if(P in z)return;create$2(_,P,{name:R,index:O,group:I,on:emptyOn,tween:emptyTween,time:L.time,delay:L.delay,duration:L.duration,ease:L.ease,timer:null,state:CREATED})}function init(_,R){var P=get(_,R);if(P.state>CREATED)throw new Error("too late; already scheduled");return P}function set(_,R){var P=get(_,R);if(P.state>STARTED)throw new Error("too late; already running");return P}function get(_,R){var P=_.__transition;if(!P||!(P=P[R]))throw new Error("transition not found");return P}function create$2(_,R,P){var O=_.__transition,I;O[R]=P,P.timer=timer(L,0,P.time);function L(V){P.state=SCHEDULED,P.timer.restart(z,P.delay,P.time),P.delay<=V&&z(V-P.delay)}function z(V){var Z,Y,Q,J;if(P.state!==SCHEDULED)return G();for(Z in O)if(J=O[Z],J.name===P.name){if(J.state===STARTED)return timeout(z);J.state===RUNNING?(J.state=ENDED,J.timer.stop(),J.on.call("interrupt",_,_.__data__,J.index,J.group),delete O[Z]):+Z<R&&(J.state=ENDED,J.timer.stop(),J.on.call("cancel",_,_.__data__,J.index,J.group),delete O[Z])}if(timeout(function(){P.state===STARTED&&(P.state=RUNNING,P.timer.restart(F,P.delay,P.time),F(V))}),P.state=STARTING,P.on.call("start",_,_.__data__,P.index,P.group),P.state===STARTING){for(P.state=STARTED,I=new Array(Q=P.tween.length),Z=0,Y=-1;Z<Q;++Z)(J=P.tween[Z].value.call(_,_.__data__,P.index,P.group))&&(I[++Y]=J);I.length=Y+1}}function F(V){for(var Z=V<P.duration?P.ease.call(null,V/P.duration):(P.timer.restart(G),P.state=ENDING,1),Y=-1,Q=I.length;++Y<Q;)I[Y].call(_,Z);P.state===ENDING&&(P.on.call("end",_,_.__data__,P.index,P.group),G())}function G(){P.state=ENDED,P.timer.stop(),delete O[R];for(var V in O)return;delete _.__transition}}function interrupt(_,R){var P=_.__transition,O,I,L=!0,z;if(P){R=R==null?null:R+"";for(z in P){if((O=P[z]).name!==R){L=!1;continue}I=O.state>STARTING&&O.state<ENDING,O.state=ENDED,O.timer.stop(),O.on.call(I?"interrupt":"cancel",_,_.__data__,O.index,O.group),delete P[z]}L&&delete _.__transition}}function selection_interrupt(_){return this.each(function(){interrupt(this,_)})}function tweenRemove(_,R){var P,O;return function(){var I=set(this,_),L=I.tween;if(L!==P){O=P=L;for(var z=0,F=O.length;z<F;++z)if(O[z].name===R){O=O.slice(),O.splice(z,1);break}}I.tween=O}}function tweenFunction(_,R,P){var O,I;if(typeof P!="function")throw new Error;return function(){var L=set(this,_),z=L.tween;if(z!==O){I=(O=z).slice();for(var F={name:R,value:P},G=0,V=I.length;G<V;++G)if(I[G].name===R){I[G]=F;break}G===V&&I.push(F)}L.tween=I}}function transition_tween(_,R){var P=this._id;if(_+="",arguments.length<2){for(var O=get(this.node(),P).tween,I=0,L=O.length,z;I<L;++I)if((z=O[I]).name===_)return z.value;return null}return this.each((R==null?tweenRemove:tweenFunction)(P,_,R))}function tweenValue(_,R,P){var O=_._id;return _.each(function(){var I=set(this,O);(I.value||(I.value={}))[R]=P.apply(this,arguments)}),function(I){return get(I,O).value[R]}}function interpolate(_,R){var P;return(typeof R=="number"?interpolateNumber:R instanceof color$2?interpolateRgb:(P=color$2(R))?(R=P,interpolateRgb):interpolateString)(_,R)}function attrRemove(_){return function(){this.removeAttribute(_)}}function attrRemoveNS(_){return function(){this.removeAttributeNS(_.space,_.local)}}function attrConstant(_,R,P){var O,I=P+"",L;return function(){var z=this.getAttribute(_);return z===I?null:z===O?L:L=R(O=z,P)}}function attrConstantNS(_,R,P){var O,I=P+"",L;return function(){var z=this.getAttributeNS(_.space,_.local);return z===I?null:z===O?L:L=R(O=z,P)}}function attrFunction(_,R,P){var O,I,L;return function(){var z,F=P(this),G;return F==null?void this.removeAttribute(_):(z=this.getAttribute(_),G=F+"",z===G?null:z===O&&G===I?L:(I=G,L=R(O=z,F)))}}function attrFunctionNS(_,R,P){var O,I,L;return function(){var z,F=P(this),G;return F==null?void this.removeAttributeNS(_.space,_.local):(z=this.getAttributeNS(_.space,_.local),G=F+"",z===G?null:z===O&&G===I?L:(I=G,L=R(O=z,F)))}}function transition_attr(_,R){var P=namespace(_),O=P==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(_,typeof R=="function"?(P.local?attrFunctionNS:attrFunction)(P,O,tweenValue(this,"attr."+_,R)):R==null?(P.local?attrRemoveNS:attrRemove)(P):(P.local?attrConstantNS:attrConstant)(P,O,R))}function attrInterpolate(_,R){return function(P){this.setAttribute(_,R.call(this,P))}}function attrInterpolateNS(_,R){return function(P){this.setAttributeNS(_.space,_.local,R.call(this,P))}}function attrTweenNS(_,R){var P,O;function I(){var L=R.apply(this,arguments);return L!==O&&(P=(O=L)&&attrInterpolateNS(_,L)),P}return I._value=R,I}function attrTween(_,R){var P,O;function I(){var L=R.apply(this,arguments);return L!==O&&(P=(O=L)&&attrInterpolate(_,L)),P}return I._value=R,I}function transition_attrTween(_,R){var P="attr."+_;if(arguments.length<2)return(P=this.tween(P))&&P._value;if(R==null)return this.tween(P,null);if(typeof R!="function")throw new Error;var O=namespace(_);return this.tween(P,(O.local?attrTweenNS:attrTween)(O,R))}function delayFunction(_,R){return function(){init(this,_).delay=+R.apply(this,arguments)}}function delayConstant(_,R){return R=+R,function(){init(this,_).delay=R}}function transition_delay(_){var R=this._id;return arguments.length?this.each((typeof _=="function"?delayFunction:delayConstant)(R,_)):get(this.node(),R).delay}function durationFunction(_,R){return function(){set(this,_).duration=+R.apply(this,arguments)}}function durationConstant(_,R){return R=+R,function(){set(this,_).duration=R}}function transition_duration(_){var R=this._id;return arguments.length?this.each((typeof _=="function"?durationFunction:durationConstant)(R,_)):get(this.node(),R).duration}function easeConstant(_,R){if(typeof R!="function")throw new Error;return function(){set(this,_).ease=R}}function transition_ease(_){var R=this._id;return arguments.length?this.each(easeConstant(R,_)):get(this.node(),R).ease}function easeVarying(_,R){return function(){var P=R.apply(this,arguments);if(typeof P!="function")throw new Error;set(this,_).ease=P}}function transition_easeVarying(_){if(typeof _!="function")throw new Error;return this.each(easeVarying(this._id,_))}function transition_filter(_){typeof _!="function"&&(_=matcher(_));for(var R=this._groups,P=R.length,O=new Array(P),I=0;I<P;++I)for(var L=R[I],z=L.length,F=O[I]=[],G,V=0;V<z;++V)(G=L[V])&&_.call(G,G.__data__,V,L)&&F.push(G);return new Transition(O,this._parents,this._name,this._id)}function transition_merge(_){if(_._id!==this._id)throw new Error;for(var R=this._groups,P=_._groups,O=R.length,I=P.length,L=Math.min(O,I),z=new Array(O),F=0;F<L;++F)for(var G=R[F],V=P[F],Z=G.length,Y=z[F]=new Array(Z),Q,J=0;J<Z;++J)(Q=G[J]||V[J])&&(Y[J]=Q);for(;F<O;++F)z[F]=R[F];return new Transition(z,this._parents,this._name,this._id)}function start(_){return(_+"").trim().split(/^|\s+/).every(function(R){var P=R.indexOf(".");return P>=0&&(R=R.slice(0,P)),!R||R==="start"})}function onFunction(_,R,P){var O,I,L=start(R)?init:set;return function(){var z=L(this,_),F=z.on;F!==O&&(I=(O=F).copy()).on(R,P),z.on=I}}function transition_on(_,R){var P=this._id;return arguments.length<2?get(this.node(),P).on.on(_):this.each(onFunction(P,_,R))}function removeFunction(_){return function(){var R=this.parentNode;for(var P in this.__transition)if(+P!==_)return;R&&R.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(_){var R=this._name,P=this._id;typeof _!="function"&&(_=selector(_));for(var O=this._groups,I=O.length,L=new Array(I),z=0;z<I;++z)for(var F=O[z],G=F.length,V=L[z]=new Array(G),Z,Y,Q=0;Q<G;++Q)(Z=F[Q])&&(Y=_.call(Z,Z.__data__,Q,F))&&("__data__"in Z&&(Y.__data__=Z.__data__),V[Q]=Y,schedule(V[Q],R,P,Q,V,get(Z,P)));return new Transition(L,this._parents,R,P)}function transition_selectAll(_){var R=this._name,P=this._id;typeof _!="function"&&(_=selectorAll(_));for(var O=this._groups,I=O.length,L=[],z=[],F=0;F<I;++F)for(var G=O[F],V=G.length,Z,Y=0;Y<V;++Y)if(Z=G[Y]){for(var Q=_.call(Z,Z.__data__,Y,G),J,te=get(Z,P),ne=0,ie=Q.length;ne<ie;++ne)(J=Q[ne])&&schedule(J,R,P,ne,Q,te);L.push(Q),z.push(Z)}return new Transition(L,z,R,P)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(_,R){var P,O,I;return function(){var L=styleValue(this,_),z=(this.style.removeProperty(_),styleValue(this,_));return L===z?null:L===P&&z===O?I:I=R(P=L,O=z)}}function styleRemove(_){return function(){this.style.removeProperty(_)}}function styleConstant(_,R,P){var O,I=P+"",L;return function(){var z=styleValue(this,_);return z===I?null:z===O?L:L=R(O=z,P)}}function styleFunction(_,R,P){var O,I,L;return function(){var z=styleValue(this,_),F=P(this),G=F+"";return F==null&&(G=F=(this.style.removeProperty(_),styleValue(this,_))),z===G?null:z===O&&G===I?L:(I=G,L=R(O=z,F))}}function styleMaybeRemove(_,R){var P,O,I,L="style."+R,z="end."+L,F;return function(){var G=set(this,_),V=G.on,Z=G.value[L]==null?F||(F=styleRemove(R)):void 0;(V!==P||I!==Z)&&(O=(P=V).copy()).on(z,I=Z),G.on=O}}function transition_style(_,R,P){var O=(_+="")=="transform"?interpolateTransformCss:interpolate;return R==null?this.styleTween(_,styleNull(_,O)).on("end.style."+_,styleRemove(_)):typeof R=="function"?this.styleTween(_,styleFunction(_,O,tweenValue(this,"style."+_,R))).each(styleMaybeRemove(this._id,_)):this.styleTween(_,styleConstant(_,O,R),P).on("end.style."+_,null)}function styleInterpolate(_,R,P){return function(O){this.style.setProperty(_,R.call(this,O),P)}}function styleTween(_,R,P){var O,I;function L(){var z=R.apply(this,arguments);return z!==I&&(O=(I=z)&&styleInterpolate(_,z,P)),O}return L._value=R,L}function transition_styleTween(_,R,P){var O="style."+(_+="");if(arguments.length<2)return(O=this.tween(O))&&O._value;if(R==null)return this.tween(O,null);if(typeof R!="function")throw new Error;return this.tween(O,styleTween(_,R,P??""))}function textConstant(_){return function(){this.textContent=_}}function textFunction(_){return function(){var R=_(this);this.textContent=R??""}}function transition_text(_){return this.tween("text",typeof _=="function"?textFunction(tweenValue(this,"text",_)):textConstant(_==null?"":_+""))}function textInterpolate(_){return function(R){this.textContent=_.call(this,R)}}function textTween(_){var R,P;function O(){var I=_.apply(this,arguments);return I!==P&&(R=(P=I)&&textInterpolate(I)),R}return O._value=_,O}function transition_textTween(_){var R="text";if(arguments.length<1)return(R=this.tween(R))&&R._value;if(_==null)return this.tween(R,null);if(typeof _!="function")throw new Error;return this.tween(R,textTween(_))}function transition_transition(){for(var _=this._name,R=this._id,P=newId(),O=this._groups,I=O.length,L=0;L<I;++L)for(var z=O[L],F=z.length,G,V=0;V<F;++V)if(G=z[V]){var Z=get(G,R);schedule(G,_,P,V,z,{time:Z.time+Z.delay+Z.duration,delay:0,duration:Z.duration,ease:Z.ease})}return new Transition(O,this._parents,_,P)}function transition_end(){var _,R,P=this,O=P._id,I=P.size();return new Promise(function(L,z){var F={value:z},G={value:function(){--I===0&&L()}};P.each(function(){var V=set(this,O),Z=V.on;Z!==_&&(R=(_=Z).copy(),R._.cancel.push(F),R._.interrupt.push(F),R._.end.push(G)),V.on=R}),I===0&&L()})}var id=0;function Transition(_,R,P,O){this._groups=_,this._parents=R,this._name=P,this._id=O}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(_){return((_*=2)<=1?_*_*_:(_-=2)*_*_+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit$1(_,R){for(var P;!(P=_.__transition)||!(P=P[R]);)if(!(_=_.parentNode))throw new Error(`transition ${R} not found`);return P}function selection_transition(_){var R,P;_ instanceof Transition?(R=_._id,_=_._name):(R=newId(),(P=defaultTiming).time=now(),_=_==null?null:_+"");for(var O=this._groups,I=O.length,L=0;L<I;++L)for(var z=O[L],F=z.length,G,V=0;V<F;++V)(G=z[V])&&schedule(G,_,R,V,z,P||inherit$1(G,R));return new Transition(O,this._parents,_,R)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const pi$3=Math.PI,tau$3=2*pi$3,epsilon$2=1e-6,tauEpsilon=tau$3-epsilon$2;function append$1(_){this._+=_[0];for(let R=1,P=_.length;R<P;++R)this._+=arguments[R]+_[R]}function appendRound$1(_){let R=Math.floor(_);if(!(R>=0))throw new Error(`invalid digits: ${_}`);if(R>15)return append$1;const P=10**R;return function(O){this._+=O[0];for(let I=1,L=O.length;I<L;++I)this._+=Math.round(arguments[I]*P)/P+O[I]}}class Path{constructor(R){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=R==null?append$1:appendRound$1(R)}moveTo(R,P){this._append`M${this._x0=this._x1=+R},${this._y0=this._y1=+P}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(R,P){this._append`L${this._x1=+R},${this._y1=+P}`}quadraticCurveTo(R,P,O,I){this._append`Q${+R},${+P},${this._x1=+O},${this._y1=+I}`}bezierCurveTo(R,P,O,I,L,z){this._append`C${+R},${+P},${+O},${+I},${this._x1=+L},${this._y1=+z}`}arcTo(R,P,O,I,L){if(R=+R,P=+P,O=+O,I=+I,L=+L,L<0)throw new Error(`negative radius: ${L}`);let z=this._x1,F=this._y1,G=O-R,V=I-P,Z=z-R,Y=F-P,Q=Z*Z+Y*Y;if(this._x1===null)this._append`M${this._x1=R},${this._y1=P}`;else if(Q>epsilon$2)if(!(Math.abs(Y*G-V*Z)>epsilon$2)||!L)this._append`L${this._x1=R},${this._y1=P}`;else{let J=O-z,te=I-F,ne=G*G+V*V,ie=J*J+te*te,se=Math.sqrt(ne),oe=Math.sqrt(Q),ce=L*Math.tan((pi$3-Math.acos((ne+Q-ie)/(2*se*oe)))/2),ue=ce/oe,me=ce/se;Math.abs(ue-1)>epsilon$2&&this._append`L${R+ue*Z},${P+ue*Y}`,this._append`A${L},${L},0,0,${+(Y*J>Z*te)},${this._x1=R+me*G},${this._y1=P+me*V}`}}arc(R,P,O,I,L,z){if(R=+R,P=+P,O=+O,z=!!z,O<0)throw new Error(`negative radius: ${O}`);let F=O*Math.cos(I),G=O*Math.sin(I),V=R+F,Z=P+G,Y=1^z,Q=z?I-L:L-I;this._x1===null?this._append`M${V},${Z}`:(Math.abs(this._x1-V)>epsilon$2||Math.abs(this._y1-Z)>epsilon$2)&&this._append`L${V},${Z}`,O&&(Q<0&&(Q=Q%tau$3+tau$3),Q>tauEpsilon?this._append`A${O},${O},0,1,${Y},${R-F},${P-G}A${O},${O},0,1,${Y},${this._x1=V},${this._y1=Z}`:Q>epsilon$2&&this._append`A${O},${O},0,${+(Q>=pi$3)},${Y},${this._x1=R+O*Math.cos(L)},${this._y1=P+O*Math.sin(L)}`)}rect(R,P,O,I){this._append`M${this._x0=this._x1=+R},${this._y0=this._y1=+P}h${O=+O}v${+I}h${-O}Z`}toString(){return this._}}function pathRound(_=3){return new Path(+_)}function formatDecimal(_){return Math.abs(_=Math.round(_))>=1e21?_.toLocaleString("en").replace(/,/g,""):_.toString(10)}function formatDecimalParts(_,R){if((P=(_=R?_.toExponential(R-1):_.toExponential()).indexOf("e"))<0)return null;var P,O=_.slice(0,P);return[O.length>1?O[0]+O.slice(2):O,+_.slice(P+1)]}function exponent(_){return _=formatDecimalParts(Math.abs(_)),_?_[1]:NaN}function formatGroup(_,R){return function(P,O){for(var I=P.length,L=[],z=0,F=_[0],G=0;I>0&&F>0&&(G+F+1>O&&(F=Math.max(1,O-G)),L.push(P.substring(I-=F,I+F)),!((G+=F+1)>O));)F=_[z=(z+1)%_.length];return L.reverse().join(R)}}function formatNumerals(_){return function(R){return R.replace(/[0-9]/g,function(P){return _[+P]})}}var re$2=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(_){if(!(R=re$2.exec(_)))throw new Error("invalid format: "+_);var R;return new FormatSpecifier({fill:R[1],align:R[2],sign:R[3],symbol:R[4],zero:R[5],width:R[6],comma:R[7],precision:R[8]&&R[8].slice(1),trim:R[9],type:R[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(_){this.fill=_.fill===void 0?" ":_.fill+"",this.align=_.align===void 0?">":_.align+"",this.sign=_.sign===void 0?"-":_.sign+"",this.symbol=_.symbol===void 0?"":_.symbol+"",this.zero=!!_.zero,this.width=_.width===void 0?void 0:+_.width,this.comma=!!_.comma,this.precision=_.precision===void 0?void 0:+_.precision,this.trim=!!_.trim,this.type=_.type===void 0?"":_.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(_){e:for(var R=_.length,P=1,O=-1,I;P<R;++P)switch(_[P]){case".":O=I=P;break;case"0":O===0&&(O=P),I=P;break;default:if(!+_[P])break e;O>0&&(O=0);break}return O>0?_.slice(0,O)+_.slice(I+1):_}var prefixExponent;function formatPrefixAuto(_,R){var P=formatDecimalParts(_,R);if(!P)return _+"";var O=P[0],I=P[1],L=I-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(I/3)))*3)+1,z=O.length;return L===z?O:L>z?O+new Array(L-z+1).join("0"):L>0?O.slice(0,L)+"."+O.slice(L):"0."+new Array(1-L).join("0")+formatDecimalParts(_,Math.max(0,R+L-1))[0]}function formatRounded(_,R){var P=formatDecimalParts(_,R);if(!P)return _+"";var O=P[0],I=P[1];return I<0?"0."+new Array(-I).join("0")+O:O.length>I+1?O.slice(0,I+1)+"."+O.slice(I+1):O+new Array(I-O.length+2).join("0")}const formatTypes={"%":(_,R)=>(_*100).toFixed(R),b:_=>Math.round(_).toString(2),c:_=>_+"",d:formatDecimal,e:(_,R)=>_.toExponential(R),f:(_,R)=>_.toFixed(R),g:(_,R)=>_.toPrecision(R),o:_=>Math.round(_).toString(8),p:(_,R)=>formatRounded(_*100,R),r:formatRounded,s:formatPrefixAuto,X:_=>Math.round(_).toString(16).toUpperCase(),x:_=>Math.round(_).toString(16)};function identity$5(_){return _}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(_){var R=_.grouping===void 0||_.thousands===void 0?identity$5:formatGroup(map$1.call(_.grouping,Number),_.thousands+""),P=_.currency===void 0?"":_.currency[0]+"",O=_.currency===void 0?"":_.currency[1]+"",I=_.decimal===void 0?".":_.decimal+"",L=_.numerals===void 0?identity$5:formatNumerals(map$1.call(_.numerals,String)),z=_.percent===void 0?"%":_.percent+"",F=_.minus===void 0?"":_.minus+"",G=_.nan===void 0?"NaN":_.nan+"";function V(Y){Y=formatSpecifier(Y);var Q=Y.fill,J=Y.align,te=Y.sign,ne=Y.symbol,ie=Y.zero,se=Y.width,oe=Y.comma,ce=Y.precision,ue=Y.trim,me=Y.type;me==="n"?(oe=!0,me="g"):formatTypes[me]||(ce===void 0&&(ce=12),ue=!0,me="g"),(ie||Q==="0"&&J==="=")&&(ie=!0,Q="0",J="=");var he=ne==="$"?P:ne==="#"&&/[boxX]/.test(me)?"0"+me.toLowerCase():"",fe=ne==="$"?O:/[%p]/.test(me)?z:"",de=formatTypes[me],pe=/[defgprs%]/.test(me);ce=ce===void 0?6:/[gprs]/.test(me)?Math.max(1,Math.min(21,ce)):Math.max(0,Math.min(20,ce));function be(ye){var we=he,ve=fe,Ae,Ce,_e;if(me==="c")ve=de(ye)+ve,ye="";else{ye=+ye;var Re=ye<0||1/ye<0;if(ye=isNaN(ye)?G:de(Math.abs(ye),ce),ue&&(ye=formatTrim(ye)),Re&&+ye==0&&te!=="+"&&(Re=!1),we=(Re?te==="("?te:F:te==="-"||te==="("?"":te)+we,ve=(me==="s"?prefixes[8+prefixExponent/3]:"")+ve+(Re&&te==="("?")":""),pe){for(Ae=-1,Ce=ye.length;++Ae<Ce;)if(_e=ye.charCodeAt(Ae),48>_e||_e>57){ve=(_e===46?I+ye.slice(Ae+1):ye.slice(Ae))+ve,ye=ye.slice(0,Ae);break}}}oe&&!ie&&(ye=R(ye,1/0));var Me=we.length+ye.length+ve.length,$e=Me<se?new Array(se-Me+1).join(Q):"";switch(oe&&ie&&(ye=R($e+ye,$e.length?se-ve.length:1/0),$e=""),J){case"<":ye=we+ye+ve+$e;break;case"=":ye=we+$e+ye+ve;break;case"^":ye=$e.slice(0,Me=$e.length>>1)+we+ye+ve+$e.slice(Me);break;default:ye=$e+we+ye+ve;break}return L(ye)}return be.toString=function(){return Y+""},be}function Z(Y,Q){var J=V((Y=formatSpecifier(Y),Y.type="f",Y)),te=Math.max(-8,Math.min(8,Math.floor(exponent(Q)/3)))*3,ne=Math.pow(10,-te),ie=prefixes[8+te/3];return function(se){return J(ne*se)+ie}}return{format:V,formatPrefix:Z}}var locale$1,format$1,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(_){return locale$1=formatLocale$1(_),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(_){return Math.max(0,-exponent(Math.abs(_)))}function precisionPrefix(_,R){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(R)/3)))*3-exponent(Math.abs(_)))}function precisionRound(_,R){return _=Math.abs(_),R=Math.abs(R)-_,Math.max(0,exponent(R)-exponent(_))+1}var epsilon$1=1e-6,epsilon2=1e-12,pi$2=Math.PI,halfPi=pi$2/2,quarterPi=pi$2/4,tau$2=pi$2*2,degrees=180/pi$2,radians$1=pi$2/180,abs=Math.abs,atan=Math.atan,atan2=Math.atan2,cos$1=Math.cos,exp=Math.exp,log$1=Math.log,pow$1=Math.pow,sin$1=Math.sin,sign$1=Math.sign||function(_){return _>0?1:_<0?-1:0},sqrt$1=Math.sqrt,tan=Math.tan;function acos(_){return _>1?0:_<-1?pi$2:Math.acos(_)}function asin(_){return _>1?halfPi:_<-1?-halfPi:Math.asin(_)}function noop$1(){}function streamGeometry(_,R){_&&streamGeometryType.hasOwnProperty(_.type)&&streamGeometryType[_.type](_,R)}var streamObjectType={Feature:function(_,R){streamGeometry(_.geometry,R)},FeatureCollection:function(_,R){for(var P=_.features,O=-1,I=P.length;++O<I;)streamGeometry(P[O].geometry,R)}},streamGeometryType={Sphere:function(_,R){R.sphere()},Point:function(_,R){_=_.coordinates,R.point(_[0],_[1],_[2])},MultiPoint:function(_,R){for(var P=_.coordinates,O=-1,I=P.length;++O<I;)_=P[O],R.point(_[0],_[1],_[2])},LineString:function(_,R){streamLine(_.coordinates,R,0)},MultiLineString:function(_,R){for(var P=_.coordinates,O=-1,I=P.length;++O<I;)streamLine(P[O],R,0)},Polygon:function(_,R){streamPolygon(_.coordinates,R)},MultiPolygon:function(_,R){for(var P=_.coordinates,O=-1,I=P.length;++O<I;)streamPolygon(P[O],R)},GeometryCollection:function(_,R){for(var P=_.geometries,O=-1,I=P.length;++O<I;)streamGeometry(P[O],R)}};function streamLine(_,R,P){var O=-1,I=_.length-P,L;for(R.lineStart();++O<I;)L=_[O],R.point(L[0],L[1],L[2]);R.lineEnd()}function streamPolygon(_,R){var P=-1,O=_.length;for(R.polygonStart();++P<O;)streamLine(_[P],R,1);R.polygonEnd()}function geoStream(_,R){_&&streamObjectType.hasOwnProperty(_.type)?streamObjectType[_.type](_,R):streamGeometry(_,R)}function spherical(_){return[atan2(_[1],_[0]),asin(_[2])]}function cartesian(_){var R=_[0],P=_[1],O=cos$1(P);return[O*cos$1(R),O*sin$1(R),sin$1(P)]}function cartesianDot(_,R){return _[0]*R[0]+_[1]*R[1]+_[2]*R[2]}function cartesianCross(_,R){return[_[1]*R[2]-_[2]*R[1],_[2]*R[0]-_[0]*R[2],_[0]*R[1]-_[1]*R[0]]}function cartesianAddInPlace(_,R){_[0]+=R[0],_[1]+=R[1],_[2]+=R[2]}function cartesianScale(_,R){return[_[0]*R,_[1]*R,_[2]*R]}function cartesianNormalizeInPlace(_){var R=sqrt$1(_[0]*_[0]+_[1]*_[1]+_[2]*_[2]);_[0]/=R,_[1]/=R,_[2]/=R}function compose(_,R){function P(O,I){return O=_(O,I),R(O[0],O[1])}return _.invert&&R.invert&&(P.invert=function(O,I){return O=R.invert(O,I),O&&_.invert(O[0],O[1])}),P}function rotationIdentity(_,R){return abs(_)>pi$2&&(_-=Math.round(_/tau$2)*tau$2),[_,R]}rotationIdentity.invert=rotationIdentity;function rotateRadians(_,R,P){return(_%=tau$2)?R||P?compose(rotationLambda(_),rotationPhiGamma(R,P)):rotationLambda(_):R||P?rotationPhiGamma(R,P):rotationIdentity}function forwardRotationLambda(_){return function(R,P){return R+=_,abs(R)>pi$2&&(R-=Math.round(R/tau$2)*tau$2),[R,P]}}function rotationLambda(_){var R=forwardRotationLambda(_);return R.invert=forwardRotationLambda(-_),R}function rotationPhiGamma(_,R){var P=cos$1(_),O=sin$1(_),I=cos$1(R),L=sin$1(R);function z(F,G){var V=cos$1(G),Z=cos$1(F)*V,Y=sin$1(F)*V,Q=sin$1(G),J=Q*P+Z*O;return[atan2(Y*I-J*L,Z*P-Q*O),asin(J*I+Y*L)]}return z.invert=function(F,G){var V=cos$1(G),Z=cos$1(F)*V,Y=sin$1(F)*V,Q=sin$1(G),J=Q*I-Y*L;return[atan2(Y*I+Q*L,Z*P+J*O),asin(J*P-Z*O)]},z}function rotation(_){_=rotateRadians(_[0]*radians$1,_[1]*radians$1,_.length>2?_[2]*radians$1:0);function R(P){return P=_(P[0]*radians$1,P[1]*radians$1),P[0]*=degrees,P[1]*=degrees,P}return R.invert=function(P){return P=_.invert(P[0]*radians$1,P[1]*radians$1),P[0]*=degrees,P[1]*=degrees,P},R}function circleStream(_,R,P,O,I,L){if(P){var z=cos$1(R),F=sin$1(R),G=O*P;I==null?(I=R+O*tau$2,L=R-G/2):(I=circleRadius(z,I),L=circleRadius(z,L),(O>0?I<L:I>L)&&(I+=O*tau$2));for(var V,Z=I;O>0?Z>L:Z<L;Z-=G)V=spherical([z,-F*cos$1(Z),-F*sin$1(Z)]),_.point(V[0],V[1])}}function circleRadius(_,R){R=cartesian(R),R[0]-=_,cartesianNormalizeInPlace(R);var P=acos(-R[1]);return((-R[2]<0?-P:P)+tau$2-epsilon$1)%tau$2}function clipBuffer(){var _=[],R;return{point:function(P,O,I){R.push([P,O,I])},lineStart:function(){_.push(R=[])},lineEnd:noop$1,rejoin:function(){_.length>1&&_.push(_.pop().concat(_.shift()))},result:function(){var P=_;return _=[],R=null,P}}}function pointEqual(_,R){return abs(_[0]-R[0])<epsilon$1&&abs(_[1]-R[1])<epsilon$1}function Intersection(_,R,P,O){this.x=_,this.z=R,this.o=P,this.e=O,this.v=!1,this.n=this.p=null}function clipRejoin(_,R,P,O,I){var L=[],z=[],F,G;if(_.forEach(function(te){if(!((ne=te.length-1)<=0)){var ne,ie=te[0],se=te[ne],oe;if(pointEqual(ie,se)){if(!ie[2]&&!se[2]){for(I.lineStart(),F=0;F<ne;++F)I.point((ie=te[F])[0],ie[1]);I.lineEnd();return}se[0]+=2*epsilon$1}L.push(oe=new Intersection(ie,te,null,!0)),z.push(oe.o=new Intersection(ie,null,oe,!1)),L.push(oe=new Intersection(se,te,null,!1)),z.push(oe.o=new Intersection(se,null,oe,!0))}}),!!L.length){for(z.sort(R),link$2(L),link$2(z),F=0,G=z.length;F<G;++F)z[F].e=P=!P;for(var V=L[0],Z,Y;;){for(var Q=V,J=!0;Q.v;)if((Q=Q.n)===V)return;Z=Q.z,I.lineStart();do{if(Q.v=Q.o.v=!0,Q.e){if(J)for(F=0,G=Z.length;F<G;++F)I.point((Y=Z[F])[0],Y[1]);else O(Q.x,Q.n.x,1,I);Q=Q.n}else{if(J)for(Z=Q.p.z,F=Z.length-1;F>=0;--F)I.point((Y=Z[F])[0],Y[1]);else O(Q.x,Q.p.x,-1,I);Q=Q.p}Q=Q.o,Z=Q.z,J=!J}while(!Q.v);I.lineEnd()}}}function link$2(_){if(R=_.length){for(var R,P=0,O=_[0],I;++P<R;)O.n=I=_[P],I.p=O,O=I;O.n=I=_[0],I.p=O}}function longitude(_){return abs(_[0])<=pi$2?_[0]:sign$1(_[0])*((abs(_[0])+pi$2)%tau$2-pi$2)}function polygonContains(_,R){var P=longitude(R),O=R[1],I=sin$1(O),L=[sin$1(P),-cos$1(P),0],z=0,F=0,G=new Adder;I===1?O=halfPi+epsilon$1:I===-1&&(O=-halfPi-epsilon$1);for(var V=0,Z=_.length;V<Z;++V)if(Q=(Y=_[V]).length)for(var Y,Q,J=Y[Q-1],te=longitude(J),ne=J[1]/2+quarterPi,ie=sin$1(ne),se=cos$1(ne),oe=0;oe<Q;++oe,te=ue,ie=he,se=fe,J=ce){var ce=Y[oe],ue=longitude(ce),me=ce[1]/2+quarterPi,he=sin$1(me),fe=cos$1(me),de=ue-te,pe=de>=0?1:-1,be=pe*de,ye=be>pi$2,we=ie*he;if(G.add(atan2(we*pe*sin$1(be),se*fe+we*cos$1(be))),z+=ye?de+pe*tau$2:de,ye^te>=P^ue>=P){var ve=cartesianCross(cartesian(J),cartesian(ce));cartesianNormalizeInPlace(ve);var Ae=cartesianCross(L,ve);cartesianNormalizeInPlace(Ae);var Ce=(ye^de>=0?-1:1)*asin(Ae[2]);(O>Ce||O===Ce&&(ve[0]||ve[1]))&&(F+=ye^de>=0?1:-1)}}return(z<-epsilon$1||z<epsilon$1&&G<-epsilon2)^F&1}function clip(_,R,P,O){return function(I){var L=R(I),z=clipBuffer(),F=R(z),G=!1,V,Z,Y,Q={point:J,lineStart:ne,lineEnd:ie,polygonStart:function(){Q.point=se,Q.lineStart=oe,Q.lineEnd=ce,Z=[],V=[]},polygonEnd:function(){Q.point=J,Q.lineStart=ne,Q.lineEnd=ie,Z=merge$1(Z);var ue=polygonContains(V,O);Z.length?(G||(I.polygonStart(),G=!0),clipRejoin(Z,compareIntersection,ue,P,I)):ue&&(G||(I.polygonStart(),G=!0),I.lineStart(),P(null,null,1,I),I.lineEnd()),G&&(I.polygonEnd(),G=!1),Z=V=null},sphere:function(){I.polygonStart(),I.lineStart(),P(null,null,1,I),I.lineEnd(),I.polygonEnd()}};function J(ue,me){_(ue,me)&&I.point(ue,me)}function te(ue,me){L.point(ue,me)}function ne(){Q.point=te,L.lineStart()}function ie(){Q.point=J,L.lineEnd()}function se(ue,me){Y.push([ue,me]),F.point(ue,me)}function oe(){F.lineStart(),Y=[]}function ce(){se(Y[0][0],Y[0][1]),F.lineEnd();var ue=F.clean(),me=z.result(),he,fe=me.length,de,pe,be;if(Y.pop(),V.push(Y),Y=null,!!fe){if(ue&1){if(pe=me[0],(de=pe.length-1)>0){for(G||(I.polygonStart(),G=!0),I.lineStart(),he=0;he<de;++he)I.point((be=pe[he])[0],be[1]);I.lineEnd()}return}fe>1&&ue&2&&me.push(me.pop().concat(me.shift())),Z.push(me.filter(validSegment))}}return Q}}function validSegment(_){return _.length>1}function compareIntersection(_,R){return((_=_.x)[0]<0?_[1]-halfPi-epsilon$1:halfPi-_[1])-((R=R.x)[0]<0?R[1]-halfPi-epsilon$1:halfPi-R[1])}const clipAntimeridian=clip(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-pi$2,-halfPi]);function clipAntimeridianLine(_){var R=NaN,P=NaN,O=NaN,I;return{lineStart:function(){_.lineStart(),I=1},point:function(L,z){var F=L>0?pi$2:-pi$2,G=abs(L-R);abs(G-pi$2)<epsilon$1?(_.point(R,P=(P+z)/2>0?halfPi:-halfPi),_.point(O,P),_.lineEnd(),_.lineStart(),_.point(F,P),_.point(L,P),I=0):O!==F&&G>=pi$2&&(abs(R-O)<epsilon$1&&(R-=O*epsilon$1),abs(L-F)<epsilon$1&&(L-=F*epsilon$1),P=clipAntimeridianIntersect(R,P,L,z),_.point(O,P),_.lineEnd(),_.lineStart(),_.point(F,P),I=0),_.point(R=L,P=z),O=F},lineEnd:function(){_.lineEnd(),R=P=NaN},clean:function(){return 2-I}}}function clipAntimeridianIntersect(_,R,P,O){var I,L,z=sin$1(_-P);return abs(z)>epsilon$1?atan((sin$1(R)*(L=cos$1(O))*sin$1(P)-sin$1(O)*(I=cos$1(R))*sin$1(_))/(I*L*z)):(R+O)/2}function clipAntimeridianInterpolate(_,R,P,O){var I;if(_==null)I=P*halfPi,O.point(-pi$2,I),O.point(0,I),O.point(pi$2,I),O.point(pi$2,0),O.point(pi$2,-I),O.point(0,-I),O.point(-pi$2,-I),O.point(-pi$2,0),O.point(-pi$2,I);else if(abs(_[0]-R[0])>epsilon$1){var L=_[0]<R[0]?pi$2:-pi$2;I=P*L/2,O.point(-L,I),O.point(0,I),O.point(L,I)}else O.point(R[0],R[1])}function clipCircle(_){var R=cos$1(_),P=2*radians$1,O=R>0,I=abs(R)>epsilon$1;function L(Z,Y,Q,J){circleStream(J,_,P,Q,Z,Y)}function z(Z,Y){return cos$1(Z)*cos$1(Y)>R}function F(Z){var Y,Q,J,te,ne;return{lineStart:function(){te=J=!1,ne=1},point:function(ie,se){var oe=[ie,se],ce,ue=z(ie,se),me=O?ue?0:V(ie,se):ue?V(ie+(ie<0?pi$2:-pi$2),se):0;if(!Y&&(te=J=ue)&&Z.lineStart(),ue!==J&&(ce=G(Y,oe),(!ce||pointEqual(Y,ce)||pointEqual(oe,ce))&&(oe[2]=1)),ue!==J)ne=0,ue?(Z.lineStart(),ce=G(oe,Y),Z.point(ce[0],ce[1])):(ce=G(Y,oe),Z.point(ce[0],ce[1],2),Z.lineEnd()),Y=ce;else if(I&&Y&&O^ue){var he;!(me&Q)&&(he=G(oe,Y,!0))&&(ne=0,O?(Z.lineStart(),Z.point(he[0][0],he[0][1]),Z.point(he[1][0],he[1][1]),Z.lineEnd()):(Z.point(he[1][0],he[1][1]),Z.lineEnd(),Z.lineStart(),Z.point(he[0][0],he[0][1],3)))}ue&&(!Y||!pointEqual(Y,oe))&&Z.point(oe[0],oe[1]),Y=oe,J=ue,Q=me},lineEnd:function(){J&&Z.lineEnd(),Y=null},clean:function(){return ne|(te&&J)<<1}}}function G(Z,Y,Q){var J=cartesian(Z),te=cartesian(Y),ne=[1,0,0],ie=cartesianCross(J,te),se=cartesianDot(ie,ie),oe=ie[0],ce=se-oe*oe;if(!ce)return!Q&&Z;var ue=R*se/ce,me=-R*oe/ce,he=cartesianCross(ne,ie),fe=cartesianScale(ne,ue),de=cartesianScale(ie,me);cartesianAddInPlace(fe,de);var pe=he,be=cartesianDot(fe,pe),ye=cartesianDot(pe,pe),we=be*be-ye*(cartesianDot(fe,fe)-1);if(!(we<0)){var ve=sqrt$1(we),Ae=cartesianScale(pe,(-be-ve)/ye);if(cartesianAddInPlace(Ae,fe),Ae=spherical(Ae),!Q)return Ae;var Ce=Z[0],_e=Y[0],Re=Z[1],Me=Y[1],$e;_e<Ce&&($e=Ce,Ce=_e,_e=$e);var Se=_e-Ce,Ee=abs(Se-pi$2)<epsilon$1,ke=Ee||Se<epsilon$1;if(!Ee&&Me<Re&&($e=Re,Re=Me,Me=$e),ke?Ee?Re+Me>0^Ae[1]<(abs(Ae[0]-Ce)<epsilon$1?Re:Me):Re<=Ae[1]&&Ae[1]<=Me:Se>pi$2^(Ce<=Ae[0]&&Ae[0]<=_e)){var xe=cartesianScale(pe,(-be+ve)/ye);return cartesianAddInPlace(xe,fe),[Ae,spherical(xe)]}}}function V(Z,Y){var Q=O?_:pi$2-_,J=0;return Z<-Q?J|=1:Z>Q&&(J|=2),Y<-Q?J|=4:Y>Q&&(J|=8),J}return clip(z,F,L,O?[0,-_]:[-pi$2,_-pi$2])}function clipLine(_,R,P,O,I,L){var z=_[0],F=_[1],G=R[0],V=R[1],Z=0,Y=1,Q=G-z,J=V-F,te;if(te=P-z,!(!Q&&te>0)){if(te/=Q,Q<0){if(te<Z)return;te<Y&&(Y=te)}else if(Q>0){if(te>Y)return;te>Z&&(Z=te)}if(te=I-z,!(!Q&&te<0)){if(te/=Q,Q<0){if(te>Y)return;te>Z&&(Z=te)}else if(Q>0){if(te<Z)return;te<Y&&(Y=te)}if(te=O-F,!(!J&&te>0)){if(te/=J,J<0){if(te<Z)return;te<Y&&(Y=te)}else if(J>0){if(te>Y)return;te>Z&&(Z=te)}if(te=L-F,!(!J&&te<0)){if(te/=J,J<0){if(te>Y)return;te>Z&&(Z=te)}else if(J>0){if(te<Z)return;te<Y&&(Y=te)}return Z>0&&(_[0]=z+Z*Q,_[1]=F+Z*J),Y<1&&(R[0]=z+Y*Q,R[1]=F+Y*J),!0}}}}}var clipMax=1e9,clipMin=-clipMax;function clipRectangle(_,R,P,O){function I(V,Z){return _<=V&&V<=P&&R<=Z&&Z<=O}function L(V,Z,Y,Q){var J=0,te=0;if(V==null||(J=z(V,Y))!==(te=z(Z,Y))||G(V,Z)<0^Y>0)do Q.point(J===0||J===3?_:P,J>1?O:R);while((J=(J+Y+4)%4)!==te);else Q.point(Z[0],Z[1])}function z(V,Z){return abs(V[0]-_)<epsilon$1?Z>0?0:3:abs(V[0]-P)<epsilon$1?Z>0?2:1:abs(V[1]-R)<epsilon$1?Z>0?1:0:Z>0?3:2}function F(V,Z){return G(V.x,Z.x)}function G(V,Z){var Y=z(V,1),Q=z(Z,1);return Y!==Q?Y-Q:Y===0?Z[1]-V[1]:Y===1?V[0]-Z[0]:Y===2?V[1]-Z[1]:Z[0]-V[0]}return function(V){var Z=V,Y=clipBuffer(),Q,J,te,ne,ie,se,oe,ce,ue,me,he,fe={point:de,lineStart:we,lineEnd:ve,polygonStart:be,polygonEnd:ye};function de(Ce,_e){I(Ce,_e)&&Z.point(Ce,_e)}function pe(){for(var Ce=0,_e=0,Re=J.length;_e<Re;++_e)for(var Me=J[_e],$e=1,Se=Me.length,Ee=Me[0],ke,xe,ze=Ee[0],Ze=Ee[1];$e<Se;++$e)ke=ze,xe=Ze,Ee=Me[$e],ze=Ee[0],Ze=Ee[1],xe<=O?Ze>O&&(ze-ke)*(O-xe)>(Ze-xe)*(_-ke)&&++Ce:Ze<=O&&(ze-ke)*(O-xe)<(Ze-xe)*(_-ke)&&--Ce;return Ce}function be(){Z=Y,Q=[],J=[],he=!0}function ye(){var Ce=pe(),_e=he&&Ce,Re=(Q=merge$1(Q)).length;(_e||Re)&&(V.polygonStart(),_e&&(V.lineStart(),L(null,null,1,V),V.lineEnd()),Re&&clipRejoin(Q,F,Ce,L,V),V.polygonEnd()),Z=V,Q=J=te=null}function we(){fe.point=Ae,J&&J.push(te=[]),me=!0,ue=!1,oe=ce=NaN}function ve(){Q&&(Ae(ne,ie),se&&ue&&Y.rejoin(),Q.push(Y.result())),fe.point=de,ue&&Z.lineEnd()}function Ae(Ce,_e){var Re=I(Ce,_e);if(J&&te.push([Ce,_e]),me)ne=Ce,ie=_e,se=Re,me=!1,Re&&(Z.lineStart(),Z.point(Ce,_e));else if(Re&&ue)Z.point(Ce,_e);else{var Me=[oe=Math.max(clipMin,Math.min(clipMax,oe)),ce=Math.max(clipMin,Math.min(clipMax,ce))],$e=[Ce=Math.max(clipMin,Math.min(clipMax,Ce)),_e=Math.max(clipMin,Math.min(clipMax,_e))];clipLine(Me,$e,_,R,P,O)?(ue||(Z.lineStart(),Z.point(Me[0],Me[1])),Z.point($e[0],$e[1]),Re||Z.lineEnd(),he=!1):Re&&(Z.lineStart(),Z.point(Ce,_e),he=!1)}oe=Ce,ce=_e,ue=Re}return fe}}const identity$4=_=>_;var areaSum=new Adder,areaRingSum=new Adder,x00$2,y00$2,x0$3,y0$3,areaStream={point:noop$1,lineStart:noop$1,lineEnd:noop$1,polygonStart:function(){areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){areaStream.lineStart=areaStream.lineEnd=areaStream.point=noop$1,areaSum.add(abs(areaRingSum)),areaRingSum=new Adder},result:function(){var _=areaSum/2;return areaSum=new Adder,_}};function areaRingStart(){areaStream.point=areaPointFirst}function areaPointFirst(_,R){areaStream.point=areaPoint,x00$2=x0$3=_,y00$2=y0$3=R}function areaPoint(_,R){areaRingSum.add(y0$3*_-x0$3*R),x0$3=_,y0$3=R}function areaRingEnd(){areaPoint(x00$2,y00$2)}var x0$2=1/0,y0$2=x0$2,x1=-x0$2,y1=x1,boundsStream={point:boundsPoint,lineStart:noop$1,lineEnd:noop$1,polygonStart:noop$1,polygonEnd:noop$1,result:function(){var _=[[x0$2,y0$2],[x1,y1]];return x1=y1=-(y0$2=x0$2=1/0),_}};function boundsPoint(_,R){_<x0$2&&(x0$2=_),_>x1&&(x1=_),R<y0$2&&(y0$2=R),R>y1&&(y1=R)}var X0=0,Y0=0,Z0=0,X1=0,Y1=0,Z1=0,X2=0,Y2=0,Z2=0,x00$1,y00$1,x0$1,y0$1,centroidStream={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.point=centroidPoint,centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd},result:function(){var _=Z2?[X2/Z2,Y2/Z2]:Z1?[X1/Z1,Y1/Z1]:Z0?[X0/Z0,Y0/Z0]:[NaN,NaN];return X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,_}};function centroidPoint(_,R){X0+=_,Y0+=R,++Z0}function centroidLineStart(){centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(_,R){centroidStream.point=centroidPointLine,centroidPoint(x0$1=_,y0$1=R)}function centroidPointLine(_,R){var P=_-x0$1,O=R-y0$1,I=sqrt$1(P*P+O*O);X1+=I*(x0$1+_)/2,Y1+=I*(y0$1+R)/2,Z1+=I,centroidPoint(x0$1=_,y0$1=R)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(_,R){centroidStream.point=centroidPointRing,centroidPoint(x00$1=x0$1=_,y00$1=y0$1=R)}function centroidPointRing(_,R){var P=_-x0$1,O=R-y0$1,I=sqrt$1(P*P+O*O);X1+=I*(x0$1+_)/2,Y1+=I*(y0$1+R)/2,Z1+=I,I=y0$1*_-x0$1*R,X2+=I*(x0$1+_),Y2+=I*(y0$1+R),Z2+=I*3,centroidPoint(x0$1=_,y0$1=R)}function PathContext(_){this._context=_}PathContext.prototype={_radius:4.5,pointRadius:function(_){return this._radius=_,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(_,R){switch(this._point){case 0:{this._context.moveTo(_,R),this._point=1;break}case 1:{this._context.lineTo(_,R);break}default:{this._context.moveTo(_+this._radius,R),this._context.arc(_,R,this._radius,0,tau$2);break}}},result:noop$1};var lengthSum=new Adder,lengthRing,x00,y00,x0,y0,lengthStream={point:noop$1,lineStart:function(){lengthStream.point=lengthPointFirst},lineEnd:function(){lengthRing&&lengthPoint(x00,y00),lengthStream.point=noop$1},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var _=+lengthSum;return lengthSum=new Adder,_}};function lengthPointFirst(_,R){lengthStream.point=lengthPoint,x00=x0=_,y00=y0=R}function lengthPoint(_,R){x0-=_,y0-=R,lengthSum.add(sqrt$1(x0*x0+y0*y0)),x0=_,y0=R}let cacheDigits,cacheAppend,cacheRadius,cacheCircle;class PathString{constructor(R){this._append=R==null?append:appendRound(R),this._radius=4.5,this._=""}pointRadius(R){return this._radius=+R,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(R,P){switch(this._point){case 0:{this._append`M${R},${P}`,this._point=1;break}case 1:{this._append`L${R},${P}`;break}default:{if(this._append`M${R},${P}`,this._radius!==cacheRadius||this._append!==cacheAppend){const O=this._radius,I=this._;this._="",this._append`m0,${O}a${O},${O} 0 1,1 0,${-2*O}a${O},${O} 0 1,1 0,${2*O}z`,cacheRadius=O,cacheAppend=this._append,cacheCircle=this._,this._=I}this._+=cacheCircle;break}}}result(){const R=this._;return this._="",R.length?R:null}}function append(_){let R=1;this._+=_[0];for(const P=_.length;R<P;++R)this._+=arguments[R]+_[R]}function appendRound(_){const R=Math.floor(_);if(!(R>=0))throw new RangeError(`invalid digits: ${_}`);if(R>15)return append;if(R!==cacheDigits){const P=10**R;cacheDigits=R,cacheAppend=function(I){let L=1;this._+=I[0];for(const z=I.length;L<z;++L)this._+=Math.round(arguments[L]*P)/P+I[L]}}return cacheAppend}function geoPath(_,R){let P=3,O=4.5,I,L;function z(F){return F&&(typeof O=="function"&&L.pointRadius(+O.apply(this,arguments)),geoStream(F,I(L))),L.result()}return z.area=function(F){return geoStream(F,I(areaStream)),areaStream.result()},z.measure=function(F){return geoStream(F,I(lengthStream)),lengthStream.result()},z.bounds=function(F){return geoStream(F,I(boundsStream)),boundsStream.result()},z.centroid=function(F){return geoStream(F,I(centroidStream)),centroidStream.result()},z.projection=function(F){return arguments.length?(I=F==null?(_=null,identity$4):(_=F).stream,z):_},z.context=function(F){return arguments.length?(L=F==null?(R=null,new PathString(P)):new PathContext(R=F),typeof O!="function"&&L.pointRadius(O),z):R},z.pointRadius=function(F){return arguments.length?(O=typeof F=="function"?F:(L.pointRadius(+F),+F),z):O},z.digits=function(F){if(!arguments.length)return P;if(F==null)P=null;else{const G=Math.floor(F);if(!(G>=0))throw new RangeError(`invalid digits: ${F}`);P=G}return R===null&&(L=new PathString(P)),z},z.projection(_).digits(P).context(R)}function geoTransform(_){return{stream:transformer$2(_)}}function transformer$2(_){return function(R){var P=new TransformStream;for(var O in _)P[O]=_[O];return P.stream=R,P}}function TransformStream(){}TransformStream.prototype={constructor:TransformStream,point:function(_,R){this.stream.point(_,R)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function fit(_,R,P){var O=_.clipExtent&&_.clipExtent();return _.scale(150).translate([0,0]),O!=null&&_.clipExtent(null),geoStream(P,_.stream(boundsStream)),R(boundsStream.result()),O!=null&&_.clipExtent(O),_}function fitExtent(_,R,P){return fit(_,function(O){var I=R[1][0]-R[0][0],L=R[1][1]-R[0][1],z=Math.min(I/(O[1][0]-O[0][0]),L/(O[1][1]-O[0][1])),F=+R[0][0]+(I-z*(O[1][0]+O[0][0]))/2,G=+R[0][1]+(L-z*(O[1][1]+O[0][1]))/2;_.scale(150*z).translate([F,G])},P)}function fitSize(_,R,P){return fitExtent(_,[[0,0],R],P)}function fitWidth(_,R,P){return fit(_,function(O){var I=+R,L=I/(O[1][0]-O[0][0]),z=(I-L*(O[1][0]+O[0][0]))/2,F=-L*O[0][1];_.scale(150*L).translate([z,F])},P)}function fitHeight(_,R,P){return fit(_,function(O){var I=+R,L=I/(O[1][1]-O[0][1]),z=-L*O[0][0],F=(I-L*(O[1][1]+O[0][1]))/2;_.scale(150*L).translate([z,F])},P)}var maxDepth=16,cosMinDistance=cos$1(30*radians$1);function resample(_,R){return+R?resample$1(_,R):resampleNone(_)}function resampleNone(_){return transformer$2({point:function(R,P){R=_(R,P),this.stream.point(R[0],R[1])}})}function resample$1(_,R){function P(O,I,L,z,F,G,V,Z,Y,Q,J,te,ne,ie){var se=V-O,oe=Z-I,ce=se*se+oe*oe;if(ce>4*R&&ne--){var ue=z+Q,me=F+J,he=G+te,fe=sqrt$1(ue*ue+me*me+he*he),de=asin(he/=fe),pe=abs(abs(he)-1)<epsilon$1||abs(L-Y)<epsilon$1?(L+Y)/2:atan2(me,ue),be=_(pe,de),ye=be[0],we=be[1],ve=ye-O,Ae=we-I,Ce=oe*ve-se*Ae;(Ce*Ce/ce>R||abs((se*ve+oe*Ae)/ce-.5)>.3||z*Q+F*J+G*te<cosMinDistance)&&(P(O,I,L,z,F,G,ye,we,pe,ue/=fe,me/=fe,he,ne,ie),ie.point(ye,we),P(ye,we,pe,ue,me,he,V,Z,Y,Q,J,te,ne,ie))}}return function(O){var I,L,z,F,G,V,Z,Y,Q,J,te,ne,ie={point:se,lineStart:oe,lineEnd:ue,polygonStart:function(){O.polygonStart(),ie.lineStart=me},polygonEnd:function(){O.polygonEnd(),ie.lineStart=oe}};function se(de,pe){de=_(de,pe),O.point(de[0],de[1])}function oe(){Y=NaN,ie.point=ce,O.lineStart()}function ce(de,pe){var be=cartesian([de,pe]),ye=_(de,pe);P(Y,Q,Z,J,te,ne,Y=ye[0],Q=ye[1],Z=de,J=be[0],te=be[1],ne=be[2],maxDepth,O),O.point(Y,Q)}function ue(){ie.point=se,O.lineEnd()}function me(){oe(),ie.point=he,ie.lineEnd=fe}function he(de,pe){ce(I=de,pe),L=Y,z=Q,F=J,G=te,V=ne,ie.point=ce}function fe(){P(Y,Q,Z,J,te,ne,L,z,I,F,G,V,maxDepth,O),ie.lineEnd=ue,ue()}return ie}}var transformRadians=transformer$2({point:function(_,R){this.stream.point(_*radians$1,R*radians$1)}});function transformRotate(_){return transformer$2({point:function(R,P){var O=_(R,P);return this.stream.point(O[0],O[1])}})}function scaleTranslate(_,R,P,O,I){function L(z,F){return z*=O,F*=I,[R+_*z,P-_*F]}return L.invert=function(z,F){return[(z-R)/_*O,(P-F)/_*I]},L}function scaleTranslateRotate(_,R,P,O,I,L){if(!L)return scaleTranslate(_,R,P,O,I);var z=cos$1(L),F=sin$1(L),G=z*_,V=F*_,Z=z/_,Y=F/_,Q=(F*P-z*R)/_,J=(F*R+z*P)/_;function te(ne,ie){return ne*=O,ie*=I,[G*ne-V*ie+R,P-V*ne-G*ie]}return te.invert=function(ne,ie){return[O*(Z*ne-Y*ie+Q),I*(J-Y*ne-Z*ie)]},te}function projection$1(_){return projectionMutator(function(){return _})()}function projectionMutator(_){var R,P=150,O=480,I=250,L=0,z=0,F=0,G=0,V=0,Z,Y=0,Q=1,J=1,te=null,ne=clipAntimeridian,ie=null,se,oe,ce,ue=identity$4,me=.5,he,fe,de,pe,be;function ye(Ce){return de(Ce[0]*radians$1,Ce[1]*radians$1)}function we(Ce){return Ce=de.invert(Ce[0],Ce[1]),Ce&&[Ce[0]*degrees,Ce[1]*degrees]}ye.stream=function(Ce){return pe&&be===Ce?pe:pe=transformRadians(transformRotate(Z)(ne(he(ue(be=Ce)))))},ye.preclip=function(Ce){return arguments.length?(ne=Ce,te=void 0,Ae()):ne},ye.postclip=function(Ce){return arguments.length?(ue=Ce,ie=se=oe=ce=null,Ae()):ue},ye.clipAngle=function(Ce){return arguments.length?(ne=+Ce?clipCircle(te=Ce*radians$1):(te=null,clipAntimeridian),Ae()):te*degrees},ye.clipExtent=function(Ce){return arguments.length?(ue=Ce==null?(ie=se=oe=ce=null,identity$4):clipRectangle(ie=+Ce[0][0],se=+Ce[0][1],oe=+Ce[1][0],ce=+Ce[1][1]),Ae()):ie==null?null:[[ie,se],[oe,ce]]},ye.scale=function(Ce){return arguments.length?(P=+Ce,ve()):P},ye.translate=function(Ce){return arguments.length?(O=+Ce[0],I=+Ce[1],ve()):[O,I]},ye.center=function(Ce){return arguments.length?(L=Ce[0]%360*radians$1,z=Ce[1]%360*radians$1,ve()):[L*degrees,z*degrees]},ye.rotate=function(Ce){return arguments.length?(F=Ce[0]%360*radians$1,G=Ce[1]%360*radians$1,V=Ce.length>2?Ce[2]%360*radians$1:0,ve()):[F*degrees,G*degrees,V*degrees]},ye.angle=function(Ce){return arguments.length?(Y=Ce%360*radians$1,ve()):Y*degrees},ye.reflectX=function(Ce){return arguments.length?(Q=Ce?-1:1,ve()):Q<0},ye.reflectY=function(Ce){return arguments.length?(J=Ce?-1:1,ve()):J<0},ye.precision=function(Ce){return arguments.length?(he=resample(fe,me=Ce*Ce),Ae()):sqrt$1(me)},ye.fitExtent=function(Ce,_e){return fitExtent(ye,Ce,_e)},ye.fitSize=function(Ce,_e){return fitSize(ye,Ce,_e)},ye.fitWidth=function(Ce,_e){return fitWidth(ye,Ce,_e)},ye.fitHeight=function(Ce,_e){return fitHeight(ye,Ce,_e)};function ve(){var Ce=scaleTranslateRotate(P,0,0,Q,J,Y).apply(null,R(L,z)),_e=scaleTranslateRotate(P,O-Ce[0],I-Ce[1],Q,J,Y);return Z=rotateRadians(F,G,V),fe=compose(R,_e),de=compose(Z,fe),he=resample(fe,me),Ae()}function Ae(){return pe=be=null,ye}return function(){return R=_.apply(this,arguments),ye.invert=R.invert&&we,ve()}}function conicProjection$1(_){var R=0,P=pi$2/3,O=projectionMutator(_),I=O(R,P);return I.parallels=function(L){return arguments.length?O(R=L[0]*radians$1,P=L[1]*radians$1):[R*degrees,P*degrees]},I}function cylindricalEqualAreaRaw(_){var R=cos$1(_);function P(O,I){return[O*R,sin$1(I)/R]}return P.invert=function(O,I){return[O/R,asin(I*R)]},P}function conicEqualAreaRaw(_,R){var P=sin$1(_),O=(P+sin$1(R))/2;if(abs(O)<epsilon$1)return cylindricalEqualAreaRaw(_);var I=1+P*(2*O-P),L=sqrt$1(I)/O;function z(F,G){var V=sqrt$1(I-2*O*sin$1(G))/O;return[V*sin$1(F*=O),L-V*cos$1(F)]}return z.invert=function(F,G){var V=L-G,Z=atan2(F,abs(V))*sign$1(V);return V*O<0&&(Z-=pi$2*sign$1(F)*sign$1(V)),[Z/O,asin((I-(F*F+V*V)*O*O)/(2*O))]},z}function geoConicEqualArea(){return conicProjection$1(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function geoAlbers(){return geoConicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function multiplex(_){var R=_.length;return{point:function(P,O){for(var I=-1;++I<R;)_[I].point(P,O)},sphere:function(){for(var P=-1;++P<R;)_[P].sphere()},lineStart:function(){for(var P=-1;++P<R;)_[P].lineStart()},lineEnd:function(){for(var P=-1;++P<R;)_[P].lineEnd()},polygonStart:function(){for(var P=-1;++P<R;)_[P].polygonStart()},polygonEnd:function(){for(var P=-1;++P<R;)_[P].polygonEnd()}}}function geoAlbersUsa(){var _,R,P=geoAlbers(),O,I=geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),L,z=geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),F,G,V={point:function(Q,J){G=[Q,J]}};function Z(Q){var J=Q[0],te=Q[1];return G=null,O.point(J,te),G||(L.point(J,te),G)||(F.point(J,te),G)}Z.invert=function(Q){var J=P.scale(),te=P.translate(),ne=(Q[0]-te[0])/J,ie=(Q[1]-te[1])/J;return(ie>=.12&&ie<.234&&ne>=-.425&&ne<-.214?I:ie>=.166&&ie<.234&&ne>=-.214&&ne<-.115?z:P).invert(Q)},Z.stream=function(Q){return _&&R===Q?_:_=multiplex([P.stream(R=Q),I.stream(Q),z.stream(Q)])},Z.precision=function(Q){return arguments.length?(P.precision(Q),I.precision(Q),z.precision(Q),Y()):P.precision()},Z.scale=function(Q){return arguments.length?(P.scale(Q),I.scale(Q*.35),z.scale(Q),Z.translate(P.translate())):P.scale()},Z.translate=function(Q){if(!arguments.length)return P.translate();var J=P.scale(),te=+Q[0],ne=+Q[1];return O=P.translate(Q).clipExtent([[te-.455*J,ne-.238*J],[te+.455*J,ne+.238*J]]).stream(V),L=I.translate([te-.307*J,ne+.201*J]).clipExtent([[te-.425*J+epsilon$1,ne+.12*J+epsilon$1],[te-.214*J-epsilon$1,ne+.234*J-epsilon$1]]).stream(V),F=z.translate([te-.205*J,ne+.212*J]).clipExtent([[te-.214*J+epsilon$1,ne+.166*J+epsilon$1],[te-.115*J-epsilon$1,ne+.234*J-epsilon$1]]).stream(V),Y()},Z.fitExtent=function(Q,J){return fitExtent(Z,Q,J)},Z.fitSize=function(Q,J){return fitSize(Z,Q,J)},Z.fitWidth=function(Q,J){return fitWidth(Z,Q,J)},Z.fitHeight=function(Q,J){return fitHeight(Z,Q,J)};function Y(){return _=R=null,Z}return Z.scale(1070)}function azimuthalRaw(_){return function(R,P){var O=cos$1(R),I=cos$1(P),L=_(O*I);return L===1/0?[2,0]:[L*I*sin$1(R),L*sin$1(P)]}}function azimuthalInvert(_){return function(R,P){var O=sqrt$1(R*R+P*P),I=_(O),L=sin$1(I),z=cos$1(I);return[atan2(R*L,O*z),asin(O&&P*L/O)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(_){return sqrt$1(2/(1+_))});azimuthalEqualAreaRaw.invert=azimuthalInvert(function(_){return 2*asin(_/2)});function geoAzimuthalEqualArea(){return projection$1(azimuthalEqualAreaRaw).scale(124.75).clipAngle(180-.001)}var azimuthalEquidistantRaw=azimuthalRaw(function(_){return(_=acos(_))&&_/sin$1(_)});azimuthalEquidistantRaw.invert=azimuthalInvert(function(_){return _});function geoAzimuthalEquidistant(){return projection$1(azimuthalEquidistantRaw).scale(79.4188).clipAngle(180-.001)}function mercatorRaw(_,R){return[_,log$1(tan((halfPi+R)/2))]}mercatorRaw.invert=function(_,R){return[_,2*atan(exp(R))-halfPi]};function geoMercator(){return mercatorProjection(mercatorRaw).scale(961/tau$2)}function mercatorProjection(_){var R=projection$1(_),P=R.center,O=R.scale,I=R.translate,L=R.clipExtent,z=null,F,G,V;R.scale=function(Y){return arguments.length?(O(Y),Z()):O()},R.translate=function(Y){return arguments.length?(I(Y),Z()):I()},R.center=function(Y){return arguments.length?(P(Y),Z()):P()},R.clipExtent=function(Y){return arguments.length?(Y==null?z=F=G=V=null:(z=+Y[0][0],F=+Y[0][1],G=+Y[1][0],V=+Y[1][1]),Z()):z==null?null:[[z,F],[G,V]]};function Z(){var Y=pi$2*O(),Q=R(rotation(R.rotate()).invert([0,0]));return L(z==null?[[Q[0]-Y,Q[1]-Y],[Q[0]+Y,Q[1]+Y]]:_===mercatorRaw?[[Math.max(Q[0]-Y,z),F],[Math.min(Q[0]+Y,G),V]]:[[z,Math.max(Q[1]-Y,F)],[G,Math.min(Q[1]+Y,V)]])}return Z()}function tany(_){return tan((halfPi+_)/2)}function conicConformalRaw(_,R){var P=cos$1(_),O=_===R?sin$1(_):log$1(P/cos$1(R))/log$1(tany(R)/tany(_)),I=P*pow$1(tany(_),O)/O;if(!O)return mercatorRaw;function L(z,F){I>0?F<-halfPi+epsilon$1&&(F=-halfPi+epsilon$1):F>halfPi-epsilon$1&&(F=halfPi-epsilon$1);var G=I/pow$1(tany(F),O);return[G*sin$1(O*z),I-G*cos$1(O*z)]}return L.invert=function(z,F){var G=I-F,V=sign$1(O)*sqrt$1(z*z+G*G),Z=atan2(z,abs(G))*sign$1(G);return G*O<0&&(Z-=pi$2*sign$1(z)*sign$1(G)),[Z/O,2*atan(pow$1(I/V,1/O))-halfPi]},L}function geoConicConformal(){return conicProjection$1(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(_,R){return[_,R]}equirectangularRaw.invert=equirectangularRaw;function geoEquirectangular(){return projection$1(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(_,R){var P=cos$1(_),O=_===R?sin$1(_):(P-cos$1(R))/(R-_),I=P/O+_;if(abs(O)<epsilon$1)return equirectangularRaw;function L(z,F){var G=I-F,V=O*z;return[G*sin$1(V),I-G*cos$1(V)]}return L.invert=function(z,F){var G=I-F,V=atan2(z,abs(G))*sign$1(G);return G*O<0&&(V-=pi$2*sign$1(z)*sign$1(G)),[V/O,I-sign$1(O)*sqrt$1(z*z+G*G)]},L}function geoConicEquidistant(){return conicProjection$1(conicEquidistantRaw).scale(131.154).center([0,13.9389])}var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=sqrt$1(3)/2,iterations=12;function equalEarthRaw(_,R){var P=asin(M*sin$1(R)),O=P*P,I=O*O*O;return[_*cos$1(P)/(M*(A1+3*A2*O+I*(7*A3+9*A4*O))),P*(A1+A2*O+I*(A3+A4*O))]}equalEarthRaw.invert=function(_,R){for(var P=R,O=P*P,I=O*O*O,L=0,z,F,G;L<iterations&&(F=P*(A1+A2*O+I*(A3+A4*O))-R,G=A1+3*A2*O+I*(7*A3+9*A4*O),P-=z=F/G,O=P*P,I=O*O*O,!(abs(z)<epsilon2));++L);return[M*_*(A1+3*A2*O+I*(7*A3+9*A4*O))/cos$1(P),asin(sin$1(P)/M)]};function geoEqualEarth(){return projection$1(equalEarthRaw).scale(177.158)}function gnomonicRaw(_,R){var P=cos$1(R),O=cos$1(_)*P;return[P*sin$1(_)/O,sin$1(R)/O]}gnomonicRaw.invert=azimuthalInvert(atan);function geoGnomonic(){return projection$1(gnomonicRaw).scale(144.049).clipAngle(60)}function orthographicRaw(_,R){return[cos$1(R)*sin$1(_),sin$1(R)]}orthographicRaw.invert=azimuthalInvert(asin);function geoOrthographic(){return projection$1(orthographicRaw).scale(249.5).clipAngle(90+epsilon$1)}function stereographicRaw(_,R){var P=cos$1(R),O=1+cos$1(_)*P;return[P*sin$1(_)/O,sin$1(R)/O]}stereographicRaw.invert=azimuthalInvert(function(_){return 2*atan(_)});function geoStereographic(){return projection$1(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(_,R){return[log$1(tan((halfPi+R)/2)),-_]}transverseMercatorRaw.invert=function(_,R){return[-R,2*atan(exp(_))-halfPi]};function geoTransverseMercator(){var _=mercatorProjection(transverseMercatorRaw),R=_.center,P=_.rotate;return _.center=function(O){return arguments.length?R([-O[1],O[0]]):(O=R(),[O[1],-O[0]])},_.rotate=function(O){return arguments.length?P([O[0],O[1],O.length>2?O[2]+90:90]):(O=P(),[O[0],O[1],O[2]-90])},P([0,0,90]).scale(159.155)}function initRange(_,R){switch(arguments.length){case 0:break;case 1:this.range(_);break;default:this.range(R).domain(_);break}return this}function initInterpolator(_,R){switch(arguments.length){case 0:break;case 1:{typeof _=="function"?this.interpolator(_):this.range(_);break}default:{this.domain(_),typeof R=="function"?this.interpolator(R):this.range(R);break}}return this}const implicit=Symbol("implicit");function ordinal(){var _=new InternMap,R=[],P=[],O=implicit;function I(L){let z=_.get(L);if(z===void 0){if(O!==implicit)return O;_.set(L,z=R.push(L)-1)}return P[z%P.length]}return I.domain=function(L){if(!arguments.length)return R.slice();R=[],_=new InternMap;for(const z of L)_.has(z)||_.set(z,R.push(z)-1);return I},I.range=function(L){return arguments.length?(P=Array.from(L),I):P.slice()},I.unknown=function(L){return arguments.length?(O=L,I):O},I.copy=function(){return ordinal(R,P).unknown(O)},initRange.apply(I,arguments),I}function band(){var _=ordinal().unknown(void 0),R=_.domain,P=_.range,O=0,I=1,L,z,F=!1,G=0,V=0,Z=.5;delete _.unknown;function Y(){var Q=R().length,J=I<O,te=J?I:O,ne=J?O:I;L=(ne-te)/Math.max(1,Q-G+V*2),F&&(L=Math.floor(L)),te+=(ne-te-L*(Q-G))*Z,z=L*(1-G),F&&(te=Math.round(te),z=Math.round(z));var ie=range$1(Q).map(function(se){return te+L*se});return P(J?ie.reverse():ie)}return _.domain=function(Q){return arguments.length?(R(Q),Y()):R()},_.range=function(Q){return arguments.length?([O,I]=Q,O=+O,I=+I,Y()):[O,I]},_.rangeRound=function(Q){return[O,I]=Q,O=+O,I=+I,F=!0,Y()},_.bandwidth=function(){return z},_.step=function(){return L},_.round=function(Q){return arguments.length?(F=!!Q,Y()):F},_.padding=function(Q){return arguments.length?(G=Math.min(1,V=+Q),Y()):G},_.paddingInner=function(Q){return arguments.length?(G=Math.min(1,Q),Y()):G},_.paddingOuter=function(Q){return arguments.length?(V=+Q,Y()):V},_.align=function(Q){return arguments.length?(Z=Math.max(0,Math.min(1,Q)),Y()):Z},_.copy=function(){return band(R(),[O,I]).round(F).paddingInner(G).paddingOuter(V).align(Z)},initRange.apply(Y(),arguments)}function pointish(_){var R=_.copy;return _.padding=_.paddingOuter,delete _.paddingInner,delete _.paddingOuter,_.copy=function(){return pointish(R())},_}function point$7(){return pointish(band.apply(null,arguments).paddingInner(1))}function constants(_){return function(){return _}}function number$3(_){return+_}var unit$1=[0,1];function identity$3(_){return _}function normalize$2(_,R){return(R-=_=+_)?function(P){return(P-_)/R}:constants(isNaN(R)?NaN:.5)}function clamper(_,R){var P;return _>R&&(P=_,_=R,R=P),function(O){return Math.max(_,Math.min(R,O))}}function bimap(_,R,P){var O=_[0],I=_[1],L=R[0],z=R[1];return I<O?(O=normalize$2(I,O),L=P(z,L)):(O=normalize$2(O,I),L=P(L,z)),function(F){return L(O(F))}}function polymap(_,R,P){var O=Math.min(_.length,R.length)-1,I=new Array(O),L=new Array(O),z=-1;for(_[O]<_[0]&&(_=_.slice().reverse(),R=R.slice().reverse());++z<O;)I[z]=normalize$2(_[z],_[z+1]),L[z]=P(R[z],R[z+1]);return function(F){var G=bisectRight(_,F,1,O)-1;return L[G](I[G](F))}}function copy$1(_,R){return R.domain(_.domain()).range(_.range()).interpolate(_.interpolate()).clamp(_.clamp()).unknown(_.unknown())}function transformer$1(){var _=unit$1,R=unit$1,P=interpolate$1,O,I,L,z=identity$3,F,G,V;function Z(){var Q=Math.min(_.length,R.length);return z!==identity$3&&(z=clamper(_[0],_[Q-1])),F=Q>2?polymap:bimap,G=V=null,Y}function Y(Q){return Q==null||isNaN(Q=+Q)?L:(G||(G=F(_.map(O),R,P)))(O(z(Q)))}return Y.invert=function(Q){return z(I((V||(V=F(R,_.map(O),interpolateNumber)))(Q)))},Y.domain=function(Q){return arguments.length?(_=Array.from(Q,number$3),Z()):_.slice()},Y.range=function(Q){return arguments.length?(R=Array.from(Q),Z()):R.slice()},Y.rangeRound=function(Q){return R=Array.from(Q),P=interpolateRound,Z()},Y.clamp=function(Q){return arguments.length?(z=Q?!0:identity$3,Z()):z!==identity$3},Y.interpolate=function(Q){return arguments.length?(P=Q,Z()):P},Y.unknown=function(Q){return arguments.length?(L=Q,Y):L},function(Q,J){return O=Q,I=J,Z()}}function continuous(){return transformer$1()(identity$3,identity$3)}function tickFormat(_,R,P,O){var I=tickStep(_,R,P),L;switch(O=formatSpecifier(O??",f"),O.type){case"s":{var z=Math.max(Math.abs(_),Math.abs(R));return O.precision==null&&!isNaN(L=precisionPrefix(I,z))&&(O.precision=L),formatPrefix(O,z)}case"":case"e":case"g":case"p":case"r":{O.precision==null&&!isNaN(L=precisionRound(I,Math.max(Math.abs(_),Math.abs(R))))&&(O.precision=L-(O.type==="e"));break}case"f":case"%":{O.precision==null&&!isNaN(L=precisionFixed(I))&&(O.precision=L-(O.type==="%")*2);break}}return format$1(O)}function linearish(_){var R=_.domain;return _.ticks=function(P){var O=R();return ticks(O[0],O[O.length-1],P??10)},_.tickFormat=function(P,O){var I=R();return tickFormat(I[0],I[I.length-1],P??10,O)},_.nice=function(P){P==null&&(P=10);var O=R(),I=0,L=O.length-1,z=O[I],F=O[L],G,V,Z=10;for(F<z&&(V=z,z=F,F=V,V=I,I=L,L=V);Z-- >0;){if(V=tickIncrement(z,F,P),V===G)return O[I]=z,O[L]=F,R(O);if(V>0)z=Math.floor(z/V)*V,F=Math.ceil(F/V)*V;else if(V<0)z=Math.ceil(z*V)/V,F=Math.floor(F*V)/V;else break;G=V}return _},_}function linear(){var _=continuous();return _.copy=function(){return copy$1(_,linear())},initRange.apply(_,arguments),linearish(_)}function identity$2(_){var R;function P(O){return O==null||isNaN(O=+O)?R:O}return P.invert=P,P.domain=P.range=function(O){return arguments.length?(_=Array.from(O,number$3),P):_.slice()},P.unknown=function(O){return arguments.length?(R=O,P):R},P.copy=function(){return identity$2(_).unknown(R)},_=arguments.length?Array.from(_,number$3):[0,1],linearish(P)}function nice(_,R){_=_.slice();var P=0,O=_.length-1,I=_[P],L=_[O],z;return L<I&&(z=P,P=O,O=z,z=I,I=L,L=z),_[P]=R.floor(I),_[O]=R.ceil(L),_}function transformLog$1(_){return Math.log(_)}function transformExp(_){return Math.exp(_)}function transformLogn(_){return-Math.log(-_)}function transformExpn(_){return-Math.exp(-_)}function pow10(_){return isFinite(_)?+("1e"+_):_<0?0:_}function powp(_){return _===10?pow10:_===Math.E?Math.exp:R=>Math.pow(_,R)}function logp(_){return _===Math.E?Math.log:_===10&&Math.log10||_===2&&Math.log2||(_=Math.log(_),R=>Math.log(R)/_)}function reflect(_){return(R,P)=>-_(-R,P)}function loggish(_){const R=_(transformLog$1,transformExp),P=R.domain;let O=10,I,L;function z(){return I=logp(O),L=powp(O),P()[0]<0?(I=reflect(I),L=reflect(L),_(transformLogn,transformExpn)):_(transformLog$1,transformExp),R}return R.base=function(F){return arguments.length?(O=+F,z()):O},R.domain=function(F){return arguments.length?(P(F),z()):P()},R.ticks=F=>{const G=P();let V=G[0],Z=G[G.length-1];const Y=Z<V;Y&&([V,Z]=[Z,V]);let Q=I(V),J=I(Z),te,ne;const ie=F==null?10:+F;let se=[];if(!(O%1)&&J-Q<ie){if(Q=Math.floor(Q),J=Math.ceil(J),V>0){for(;Q<=J;++Q)for(te=1;te<O;++te)if(ne=Q<0?te/L(-Q):te*L(Q),!(ne<V)){if(ne>Z)break;se.push(ne)}}else for(;Q<=J;++Q)for(te=O-1;te>=1;--te)if(ne=Q>0?te/L(-Q):te*L(Q),!(ne<V)){if(ne>Z)break;se.push(ne)}se.length*2<ie&&(se=ticks(V,Z,ie))}else se=ticks(Q,J,Math.min(J-Q,ie)).map(L);return Y?se.reverse():se},R.tickFormat=(F,G)=>{if(F==null&&(F=10),G==null&&(G=O===10?"s":","),typeof G!="function"&&(!(O%1)&&(G=formatSpecifier(G)).precision==null&&(G.trim=!0),G=format$1(G)),F===1/0)return G;const V=Math.max(1,O*F/R.ticks().length);return Z=>{let Y=Z/L(Math.round(I(Z)));return Y*O<O-.5&&(Y*=O),Y<=V?G(Z):""}},R.nice=()=>P(nice(P(),{floor:F=>L(Math.floor(I(F))),ceil:F=>L(Math.ceil(I(F)))})),R}function log(){const _=loggish(transformer$1()).domain([1,10]);return _.copy=()=>copy$1(_,log()).base(_.base()),initRange.apply(_,arguments),_}function transformSymlog$1(_){return function(R){return Math.sign(R)*Math.log1p(Math.abs(R/_))}}function transformSymexp(_){return function(R){return Math.sign(R)*Math.expm1(Math.abs(R))*_}}function symlogish(_){var R=1,P=_(transformSymlog$1(R),transformSymexp(R));return P.constant=function(O){return arguments.length?_(transformSymlog$1(R=+O),transformSymexp(R)):R},linearish(P)}function symlog(){var _=symlogish(transformer$1());return _.copy=function(){return copy$1(_,symlog()).constant(_.constant())},initRange.apply(_,arguments)}function transformPow$1(_){return function(R){return R<0?-Math.pow(-R,_):Math.pow(R,_)}}function transformSqrt$1(_){return _<0?-Math.sqrt(-_):Math.sqrt(_)}function transformSquare(_){return _<0?-_*_:_*_}function powish(_){var R=_(identity$3,identity$3),P=1;function O(){return P===1?_(identity$3,identity$3):P===.5?_(transformSqrt$1,transformSquare):_(transformPow$1(P),transformPow$1(1/P))}return R.exponent=function(I){return arguments.length?(P=+I,O()):P},linearish(R)}function pow(){var _=powish(transformer$1());return _.copy=function(){return copy$1(_,pow()).exponent(_.exponent())},initRange.apply(_,arguments),_}function quantile(){var _=[],R=[],P=[],O;function I(){var z=0,F=Math.max(1,R.length);for(P=new Array(F-1);++z<F;)P[z-1]=quantileSorted(_,z/F);return L}function L(z){return z==null||isNaN(z=+z)?O:R[bisectRight(P,z)]}return L.invertExtent=function(z){var F=R.indexOf(z);return F<0?[NaN,NaN]:[F>0?P[F-1]:_[0],F<P.length?P[F]:_[_.length-1]]},L.domain=function(z){if(!arguments.length)return _.slice();_=[];for(let F of z)F!=null&&!isNaN(F=+F)&&_.push(F);return _.sort(ascending$1),I()},L.range=function(z){return arguments.length?(R=Array.from(z),I()):R.slice()},L.unknown=function(z){return arguments.length?(O=z,L):O},L.quantiles=function(){return P.slice()},L.copy=function(){return quantile().domain(_).range(R).unknown(O)},initRange.apply(L,arguments)}function threshold(){var _=[.5],R=[0,1],P,O=1;function I(L){return L!=null&&L<=L?R[bisectRight(_,L,0,O)]:P}return I.domain=function(L){return arguments.length?(_=Array.from(L),O=Math.min(_.length,R.length-1),I):_.slice()},I.range=function(L){return arguments.length?(R=Array.from(L),O=Math.min(_.length,R.length-1),I):R.slice()},I.invertExtent=function(L){var z=R.indexOf(L);return[_[z-1],_[z]]},I.unknown=function(L){return arguments.length?(P=L,I):P},I.copy=function(){return threshold().domain(_).range(R).unknown(P)},initRange.apply(I,arguments)}const t0=new Date,t1=new Date;function timeInterval$1(_,R,P,O){function I(L){return _(L=arguments.length===0?new Date:new Date(+L)),L}return I.floor=L=>(_(L=new Date(+L)),L),I.ceil=L=>(_(L=new Date(L-1)),R(L,1),_(L),L),I.round=L=>{const z=I(L),F=I.ceil(L);return L-z<F-L?z:F},I.offset=(L,z)=>(R(L=new Date(+L),z==null?1:Math.floor(z)),L),I.range=(L,z,F)=>{const G=[];if(L=I.ceil(L),F=F==null?1:Math.floor(F),!(L<z)||!(F>0))return G;let V;do G.push(V=new Date(+L)),R(L,F),_(L);while(V<L&&L<z);return G},I.filter=L=>timeInterval$1(z=>{if(z>=z)for(;_(z),!L(z);)z.setTime(z-1)},(z,F)=>{if(z>=z)if(F<0)for(;++F<=0;)for(;R(z,-1),!L(z););else for(;--F>=0;)for(;R(z,1),!L(z););}),P&&(I.count=(L,z)=>(t0.setTime(+L),t1.setTime(+z),_(t0),_(t1),Math.floor(P(t0,t1))),I.every=L=>(L=Math.floor(L),!isFinite(L)||!(L>0)?null:L>1?I.filter(O?z=>O(z)%L===0:z=>I.count(0,z)%L===0):I)),I}const millisecond=timeInterval$1(()=>{},(_,R)=>{_.setTime(+_+R)},(_,R)=>R-_);millisecond.every=_=>(_=Math.floor(_),!isFinite(_)||!(_>0)?null:_>1?timeInterval$1(R=>{R.setTime(Math.floor(R/_)*_)},(R,P)=>{R.setTime(+R+P*_)},(R,P)=>(P-R)/_):millisecond);millisecond.range;const durationSecond$1=1e3,durationMinute$1=durationSecond$1*60,durationHour$1=durationMinute$1*60,durationDay$1=durationHour$1*24,durationWeek$1=durationDay$1*7,durationMonth$1=durationDay$1*30,durationYear$1=durationDay$1*365,second$1=timeInterval$1(_=>{_.setTime(_-_.getMilliseconds())},(_,R)=>{_.setTime(+_+R*durationSecond$1)},(_,R)=>(R-_)/durationSecond$1,_=>_.getUTCSeconds());second$1.range;const timeMinute=timeInterval$1(_=>{_.setTime(_-_.getMilliseconds()-_.getSeconds()*durationSecond$1)},(_,R)=>{_.setTime(+_+R*durationMinute$1)},(_,R)=>(R-_)/durationMinute$1,_=>_.getMinutes());timeMinute.range;const utcMinute=timeInterval$1(_=>{_.setUTCSeconds(0,0)},(_,R)=>{_.setTime(+_+R*durationMinute$1)},(_,R)=>(R-_)/durationMinute$1,_=>_.getUTCMinutes());utcMinute.range;const timeHour=timeInterval$1(_=>{_.setTime(_-_.getMilliseconds()-_.getSeconds()*durationSecond$1-_.getMinutes()*durationMinute$1)},(_,R)=>{_.setTime(+_+R*durationHour$1)},(_,R)=>(R-_)/durationHour$1,_=>_.getHours());timeHour.range;const utcHour=timeInterval$1(_=>{_.setUTCMinutes(0,0,0)},(_,R)=>{_.setTime(+_+R*durationHour$1)},(_,R)=>(R-_)/durationHour$1,_=>_.getUTCHours());utcHour.range;const timeDay=timeInterval$1(_=>_.setHours(0,0,0,0),(_,R)=>_.setDate(_.getDate()+R),(_,R)=>(R-_-(R.getTimezoneOffset()-_.getTimezoneOffset())*durationMinute$1)/durationDay$1,_=>_.getDate()-1);timeDay.range;const utcDay=timeInterval$1(_=>{_.setUTCHours(0,0,0,0)},(_,R)=>{_.setUTCDate(_.getUTCDate()+R)},(_,R)=>(R-_)/durationDay$1,_=>_.getUTCDate()-1);utcDay.range;const unixDay=timeInterval$1(_=>{_.setUTCHours(0,0,0,0)},(_,R)=>{_.setUTCDate(_.getUTCDate()+R)},(_,R)=>(R-_)/durationDay$1,_=>Math.floor(_/durationDay$1));unixDay.range;function timeWeekday(_){return timeInterval$1(R=>{R.setDate(R.getDate()-(R.getDay()+7-_)%7),R.setHours(0,0,0,0)},(R,P)=>{R.setDate(R.getDate()+P*7)},(R,P)=>(P-R-(P.getTimezoneOffset()-R.getTimezoneOffset())*durationMinute$1)/durationWeek$1)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(_){return timeInterval$1(R=>{R.setUTCDate(R.getUTCDate()-(R.getUTCDay()+7-_)%7),R.setUTCHours(0,0,0,0)},(R,P)=>{R.setUTCDate(R.getUTCDate()+P*7)},(R,P)=>(P-R)/durationWeek$1)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval$1(_=>{_.setDate(1),_.setHours(0,0,0,0)},(_,R)=>{_.setMonth(_.getMonth()+R)},(_,R)=>R.getMonth()-_.getMonth()+(R.getFullYear()-_.getFullYear())*12,_=>_.getMonth());timeMonth.range;const utcMonth=timeInterval$1(_=>{_.setUTCDate(1),_.setUTCHours(0,0,0,0)},(_,R)=>{_.setUTCMonth(_.getUTCMonth()+R)},(_,R)=>R.getUTCMonth()-_.getUTCMonth()+(R.getUTCFullYear()-_.getUTCFullYear())*12,_=>_.getUTCMonth());utcMonth.range;const timeYear=timeInterval$1(_=>{_.setMonth(0,1),_.setHours(0,0,0,0)},(_,R)=>{_.setFullYear(_.getFullYear()+R)},(_,R)=>R.getFullYear()-_.getFullYear(),_=>_.getFullYear());timeYear.every=_=>!isFinite(_=Math.floor(_))||!(_>0)?null:timeInterval$1(R=>{R.setFullYear(Math.floor(R.getFullYear()/_)*_),R.setMonth(0,1),R.setHours(0,0,0,0)},(R,P)=>{R.setFullYear(R.getFullYear()+P*_)});timeYear.range;const utcYear=timeInterval$1(_=>{_.setUTCMonth(0,1),_.setUTCHours(0,0,0,0)},(_,R)=>{_.setUTCFullYear(_.getUTCFullYear()+R)},(_,R)=>R.getUTCFullYear()-_.getUTCFullYear(),_=>_.getUTCFullYear());utcYear.every=_=>!isFinite(_=Math.floor(_))||!(_>0)?null:timeInterval$1(R=>{R.setUTCFullYear(Math.floor(R.getUTCFullYear()/_)*_),R.setUTCMonth(0,1),R.setUTCHours(0,0,0,0)},(R,P)=>{R.setUTCFullYear(R.getUTCFullYear()+P*_)});utcYear.range;function ticker(_,R,P,O,I,L){const z=[[second$1,1,durationSecond$1],[second$1,5,5*durationSecond$1],[second$1,15,15*durationSecond$1],[second$1,30,30*durationSecond$1],[L,1,durationMinute$1],[L,5,5*durationMinute$1],[L,15,15*durationMinute$1],[L,30,30*durationMinute$1],[I,1,durationHour$1],[I,3,3*durationHour$1],[I,6,6*durationHour$1],[I,12,12*durationHour$1],[O,1,durationDay$1],[O,2,2*durationDay$1],[P,1,durationWeek$1],[R,1,durationMonth$1],[R,3,3*durationMonth$1],[_,1,durationYear$1]];function F(V,Z,Y){const Q=Z<V;Q&&([V,Z]=[Z,V]);const J=Y&&typeof Y.range=="function"?Y:G(V,Z,Y),te=J?J.range(V,+Z+1):[];return Q?te.reverse():te}function G(V,Z,Y){const Q=Math.abs(Z-V)/Y,J=bisector(([,,ie])=>ie).right(z,Q);if(J===z.length)return _.every(tickStep(V/durationYear$1,Z/durationYear$1,Y));if(J===0)return millisecond.every(Math.max(tickStep(V,Z,Y),1));const[te,ne]=z[Q/z[J-1][2]<z[J][2]/Q?J-1:J];return te.every(ne)}return[F,G]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(_){if(0<=_.y&&_.y<100){var R=new Date(-1,_.m,_.d,_.H,_.M,_.S,_.L);return R.setFullYear(_.y),R}return new Date(_.y,_.m,_.d,_.H,_.M,_.S,_.L)}function utcDate(_){if(0<=_.y&&_.y<100){var R=new Date(Date.UTC(-1,_.m,_.d,_.H,_.M,_.S,_.L));return R.setUTCFullYear(_.y),R}return new Date(Date.UTC(_.y,_.m,_.d,_.H,_.M,_.S,_.L))}function newDate(_,R,P){return{y:_,m:R,d:P,H:0,M:0,S:0,L:0}}function formatLocale(_){var R=_.dateTime,P=_.date,O=_.time,I=_.periods,L=_.days,z=_.shortDays,F=_.months,G=_.shortMonths,V=formatRe(I),Z=formatLookup(I),Y=formatRe(L),Q=formatLookup(L),J=formatRe(z),te=formatLookup(z),ne=formatRe(F),ie=formatLookup(F),se=formatRe(G),oe=formatLookup(G),ce={a:Re,A:Me,b:$e,B:Se,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Ee,q:ke,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},ue={a:xe,A:ze,b:Ze,B:Ye,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Ie,q:Ge,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},me={a:be,A:ye,b:we,B:ve,c:Ae,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:pe,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Ce,X:_e,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};ce.x=he(P,ce),ce.X=he(O,ce),ce.c=he(R,ce),ue.x=he(P,ue),ue.X=he(O,ue),ue.c=he(R,ue);function he(Oe,Ve){return function(Ue){var De=[],nt=-1,Je=0,rt=Oe.length,at,dt,ot;for(Ue instanceof Date||(Ue=new Date(+Ue));++nt<rt;)Oe.charCodeAt(nt)===37&&(De.push(Oe.slice(Je,nt)),(dt=pads[at=Oe.charAt(++nt)])!=null?at=Oe.charAt(++nt):dt=at==="e"?" ":"0",(ot=Ve[at])&&(at=ot(Ue,dt)),De.push(at),Je=nt+1);return De.push(Oe.slice(Je,nt)),De.join("")}}function fe(Oe,Ve){return function(Ue){var De=newDate(1900,void 0,1),nt=de(De,Oe,Ue+="",0),Je,rt;if(nt!=Ue.length)return null;if("Q"in De)return new Date(De.Q);if("s"in De)return new Date(De.s*1e3+("L"in De?De.L:0));if(Ve&&!("Z"in De)&&(De.Z=0),"p"in De&&(De.H=De.H%12+De.p*12),De.m===void 0&&(De.m="q"in De?De.q:0),"V"in De){if(De.V<1||De.V>53)return null;"w"in De||(De.w=1),"Z"in De?(Je=utcDate(newDate(De.y,0,1)),rt=Je.getUTCDay(),Je=rt>4||rt===0?utcMonday.ceil(Je):utcMonday(Je),Je=utcDay.offset(Je,(De.V-1)*7),De.y=Je.getUTCFullYear(),De.m=Je.getUTCMonth(),De.d=Je.getUTCDate()+(De.w+6)%7):(Je=localDate(newDate(De.y,0,1)),rt=Je.getDay(),Je=rt>4||rt===0?timeMonday.ceil(Je):timeMonday(Je),Je=timeDay.offset(Je,(De.V-1)*7),De.y=Je.getFullYear(),De.m=Je.getMonth(),De.d=Je.getDate()+(De.w+6)%7)}else("W"in De||"U"in De)&&("w"in De||(De.w="u"in De?De.u%7:"W"in De?1:0),rt="Z"in De?utcDate(newDate(De.y,0,1)).getUTCDay():localDate(newDate(De.y,0,1)).getDay(),De.m=0,De.d="W"in De?(De.w+6)%7+De.W*7-(rt+5)%7:De.w+De.U*7-(rt+6)%7);return"Z"in De?(De.H+=De.Z/100|0,De.M+=De.Z%100,utcDate(De)):localDate(De)}}function de(Oe,Ve,Ue,De){for(var nt=0,Je=Ve.length,rt=Ue.length,at,dt;nt<Je;){if(De>=rt)return-1;if(at=Ve.charCodeAt(nt++),at===37){if(at=Ve.charAt(nt++),dt=me[at in pads?Ve.charAt(nt++):at],!dt||(De=dt(Oe,Ue,De))<0)return-1}else if(at!=Ue.charCodeAt(De++))return-1}return De}function pe(Oe,Ve,Ue){var De=V.exec(Ve.slice(Ue));return De?(Oe.p=Z.get(De[0].toLowerCase()),Ue+De[0].length):-1}function be(Oe,Ve,Ue){var De=J.exec(Ve.slice(Ue));return De?(Oe.w=te.get(De[0].toLowerCase()),Ue+De[0].length):-1}function ye(Oe,Ve,Ue){var De=Y.exec(Ve.slice(Ue));return De?(Oe.w=Q.get(De[0].toLowerCase()),Ue+De[0].length):-1}function we(Oe,Ve,Ue){var De=se.exec(Ve.slice(Ue));return De?(Oe.m=oe.get(De[0].toLowerCase()),Ue+De[0].length):-1}function ve(Oe,Ve,Ue){var De=ne.exec(Ve.slice(Ue));return De?(Oe.m=ie.get(De[0].toLowerCase()),Ue+De[0].length):-1}function Ae(Oe,Ve,Ue){return de(Oe,R,Ve,Ue)}function Ce(Oe,Ve,Ue){return de(Oe,P,Ve,Ue)}function _e(Oe,Ve,Ue){return de(Oe,O,Ve,Ue)}function Re(Oe){return z[Oe.getDay()]}function Me(Oe){return L[Oe.getDay()]}function $e(Oe){return G[Oe.getMonth()]}function Se(Oe){return F[Oe.getMonth()]}function Ee(Oe){return I[+(Oe.getHours()>=12)]}function ke(Oe){return 1+~~(Oe.getMonth()/3)}function xe(Oe){return z[Oe.getUTCDay()]}function ze(Oe){return L[Oe.getUTCDay()]}function Ze(Oe){return G[Oe.getUTCMonth()]}function Ye(Oe){return F[Oe.getUTCMonth()]}function Ie(Oe){return I[+(Oe.getUTCHours()>=12)]}function Ge(Oe){return 1+~~(Oe.getUTCMonth()/3)}return{format:function(Oe){var Ve=he(Oe+="",ce);return Ve.toString=function(){return Oe},Ve},parse:function(Oe){var Ve=fe(Oe+="",!1);return Ve.toString=function(){return Oe},Ve},utcFormat:function(Oe){var Ve=he(Oe+="",ue);return Ve.toString=function(){return Oe},Ve},utcParse:function(Oe){var Ve=fe(Oe+="",!0);return Ve.toString=function(){return Oe},Ve}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$2(_,R,P){var O=_<0?"-":"",I=(O?-_:_)+"",L=I.length;return O+(L<P?new Array(P-L+1).join(R)+I:I)}function requote(_){return _.replace(requoteRe,"\\$&")}function formatRe(_){return new RegExp("^(?:"+_.map(requote).join("|")+")","i")}function formatLookup(_){return new Map(_.map((R,P)=>[R.toLowerCase(),P]))}function parseWeekdayNumberSunday(_,R,P){var O=numberRe.exec(R.slice(P,P+1));return O?(_.w=+O[0],P+O[0].length):-1}function parseWeekdayNumberMonday(_,R,P){var O=numberRe.exec(R.slice(P,P+1));return O?(_.u=+O[0],P+O[0].length):-1}function parseWeekNumberSunday(_,R,P){var O=numberRe.exec(R.slice(P,P+2));return O?(_.U=+O[0],P+O[0].length):-1}function parseWeekNumberISO(_,R,P){var O=numberRe.exec(R.slice(P,P+2));return O?(_.V=+O[0],P+O[0].length):-1}function parseWeekNumberMonday(_,R,P){var O=numberRe.exec(R.slice(P,P+2));return O?(_.W=+O[0],P+O[0].length):-1}function parseFullYear(_,R,P){var O=numberRe.exec(R.slice(P,P+4));return O?(_.y=+O[0],P+O[0].length):-1}function parseYear(_,R,P){var O=numberRe.exec(R.slice(P,P+2));return O?(_.y=+O[0]+(+O[0]>68?1900:2e3),P+O[0].length):-1}function parseZone(_,R,P){var O=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(R.slice(P,P+6));return O?(_.Z=O[1]?0:-(O[2]+(O[3]||"00")),P+O[0].length):-1}function parseQuarter(_,R,P){var O=numberRe.exec(R.slice(P,P+1));return O?(_.q=O[0]*3-3,P+O[0].length):-1}function parseMonthNumber(_,R,P){var O=numberRe.exec(R.slice(P,P+2));return O?(_.m=O[0]-1,P+O[0].length):-1}function parseDayOfMonth(_,R,P){var O=numberRe.exec(R.slice(P,P+2));return O?(_.d=+O[0],P+O[0].length):-1}function parseDayOfYear(_,R,P){var O=numberRe.exec(R.slice(P,P+3));return O?(_.m=0,_.d=+O[0],P+O[0].length):-1}function parseHour24(_,R,P){var O=numberRe.exec(R.slice(P,P+2));return O?(_.H=+O[0],P+O[0].length):-1}function parseMinutes(_,R,P){var O=numberRe.exec(R.slice(P,P+2));return O?(_.M=+O[0],P+O[0].length):-1}function parseSeconds(_,R,P){var O=numberRe.exec(R.slice(P,P+2));return O?(_.S=+O[0],P+O[0].length):-1}function parseMilliseconds(_,R,P){var O=numberRe.exec(R.slice(P,P+3));return O?(_.L=+O[0],P+O[0].length):-1}function parseMicroseconds(_,R,P){var O=numberRe.exec(R.slice(P,P+6));return O?(_.L=Math.floor(O[0]/1e3),P+O[0].length):-1}function parseLiteralPercent(_,R,P){var O=percentRe.exec(R.slice(P,P+1));return O?P+O[0].length:-1}function parseUnixTimestamp(_,R,P){var O=numberRe.exec(R.slice(P));return O?(_.Q=+O[0],P+O[0].length):-1}function parseUnixTimestampSeconds(_,R,P){var O=numberRe.exec(R.slice(P));return O?(_.s=+O[0],P+O[0].length):-1}function formatDayOfMonth(_,R){return pad$2(_.getDate(),R,2)}function formatHour24(_,R){return pad$2(_.getHours(),R,2)}function formatHour12(_,R){return pad$2(_.getHours()%12||12,R,2)}function formatDayOfYear(_,R){return pad$2(1+timeDay.count(timeYear(_),_),R,3)}function formatMilliseconds(_,R){return pad$2(_.getMilliseconds(),R,3)}function formatMicroseconds(_,R){return formatMilliseconds(_,R)+"000"}function formatMonthNumber(_,R){return pad$2(_.getMonth()+1,R,2)}function formatMinutes(_,R){return pad$2(_.getMinutes(),R,2)}function formatSeconds(_,R){return pad$2(_.getSeconds(),R,2)}function formatWeekdayNumberMonday(_){var R=_.getDay();return R===0?7:R}function formatWeekNumberSunday(_,R){return pad$2(timeSunday.count(timeYear(_)-1,_),R,2)}function dISO(_){var R=_.getDay();return R>=4||R===0?timeThursday(_):timeThursday.ceil(_)}function formatWeekNumberISO(_,R){return _=dISO(_),pad$2(timeThursday.count(timeYear(_),_)+(timeYear(_).getDay()===4),R,2)}function formatWeekdayNumberSunday(_){return _.getDay()}function formatWeekNumberMonday(_,R){return pad$2(timeMonday.count(timeYear(_)-1,_),R,2)}function formatYear$1(_,R){return pad$2(_.getFullYear()%100,R,2)}function formatYearISO(_,R){return _=dISO(_),pad$2(_.getFullYear()%100,R,2)}function formatFullYear(_,R){return pad$2(_.getFullYear()%1e4,R,4)}function formatFullYearISO(_,R){var P=_.getDay();return _=P>=4||P===0?timeThursday(_):timeThursday.ceil(_),pad$2(_.getFullYear()%1e4,R,4)}function formatZone(_){var R=_.getTimezoneOffset();return(R>0?"-":(R*=-1,"+"))+pad$2(R/60|0,"0",2)+pad$2(R%60,"0",2)}function formatUTCDayOfMonth(_,R){return pad$2(_.getUTCDate(),R,2)}function formatUTCHour24(_,R){return pad$2(_.getUTCHours(),R,2)}function formatUTCHour12(_,R){return pad$2(_.getUTCHours()%12||12,R,2)}function formatUTCDayOfYear(_,R){return pad$2(1+utcDay.count(utcYear(_),_),R,3)}function formatUTCMilliseconds(_,R){return pad$2(_.getUTCMilliseconds(),R,3)}function formatUTCMicroseconds(_,R){return formatUTCMilliseconds(_,R)+"000"}function formatUTCMonthNumber(_,R){return pad$2(_.getUTCMonth()+1,R,2)}function formatUTCMinutes(_,R){return pad$2(_.getUTCMinutes(),R,2)}function formatUTCSeconds(_,R){return pad$2(_.getUTCSeconds(),R,2)}function formatUTCWeekdayNumberMonday(_){var R=_.getUTCDay();return R===0?7:R}function formatUTCWeekNumberSunday(_,R){return pad$2(utcSunday.count(utcYear(_)-1,_),R,2)}function UTCdISO(_){var R=_.getUTCDay();return R>=4||R===0?utcThursday(_):utcThursday.ceil(_)}function formatUTCWeekNumberISO(_,R){return _=UTCdISO(_),pad$2(utcThursday.count(utcYear(_),_)+(utcYear(_).getUTCDay()===4),R,2)}function formatUTCWeekdayNumberSunday(_){return _.getUTCDay()}function formatUTCWeekNumberMonday(_,R){return pad$2(utcMonday.count(utcYear(_)-1,_),R,2)}function formatUTCYear(_,R){return pad$2(_.getUTCFullYear()%100,R,2)}function formatUTCYearISO(_,R){return _=UTCdISO(_),pad$2(_.getUTCFullYear()%100,R,2)}function formatUTCFullYear(_,R){return pad$2(_.getUTCFullYear()%1e4,R,4)}function formatUTCFullYearISO(_,R){var P=_.getUTCDay();return _=P>=4||P===0?utcThursday(_):utcThursday.ceil(_),pad$2(_.getUTCFullYear()%1e4,R,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(_){return+_}function formatUnixTimestampSeconds(_){return Math.floor(+_/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(_){return locale=formatLocale(_),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(_){return new Date(_)}function number$2(_){return _ instanceof Date?+_:+new Date(+_)}function calendar(_,R,P,O,I,L,z,F,G,V){var Z=continuous(),Y=Z.invert,Q=Z.domain,J=V(".%L"),te=V(":%S"),ne=V("%I:%M"),ie=V("%I %p"),se=V("%a %d"),oe=V("%b %d"),ce=V("%B"),ue=V("%Y");function me(he){return(G(he)<he?J:F(he)<he?te:z(he)<he?ne:L(he)<he?ie:O(he)<he?I(he)<he?se:oe:P(he)<he?ce:ue)(he)}return Z.invert=function(he){return new Date(Y(he))},Z.domain=function(he){return arguments.length?Q(Array.from(he,number$2)):Q().map(date)},Z.ticks=function(he){var fe=Q();return _(fe[0],fe[fe.length-1],he??10)},Z.tickFormat=function(he,fe){return fe==null?me:V(fe)},Z.nice=function(he){var fe=Q();return(!he||typeof he.range!="function")&&(he=R(fe[0],fe[fe.length-1],he??10)),he?Q(nice(fe,he)):Z},Z.copy=function(){return copy$1(Z,calendar(_,R,P,O,I,L,z,F,G,V))},Z}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second$1,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second$1,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function copy(_,R){return R.domain(_.domain()).interpolator(_.interpolator()).clamp(_.clamp()).unknown(_.unknown())}function transformer(){var _=0,R=.5,P=1,O=1,I,L,z,F,G,V=identity$3,Z,Y=!1,Q;function J(ne){return isNaN(ne=+ne)?Q:(ne=.5+((ne=+Z(ne))-L)*(O*ne<O*L?F:G),V(Y?Math.max(0,Math.min(1,ne)):ne))}J.domain=function(ne){return arguments.length?([_,R,P]=ne,I=Z(_=+_),L=Z(R=+R),z=Z(P=+P),F=I===L?0:.5/(L-I),G=L===z?0:.5/(z-L),O=L<I?-1:1,J):[_,R,P]},J.clamp=function(ne){return arguments.length?(Y=!!ne,J):Y},J.interpolator=function(ne){return arguments.length?(V=ne,J):V};function te(ne){return function(ie){var se,oe,ce;return arguments.length?([se,oe,ce]=ie,V=piecewise(ne,[se,oe,ce]),J):[V(0),V(.5),V(1)]}}return J.range=te(interpolate$1),J.rangeRound=te(interpolateRound),J.unknown=function(ne){return arguments.length?(Q=ne,J):Q},function(ne){return Z=ne,I=ne(_),L=ne(R),z=ne(P),F=I===L?0:.5/(L-I),G=L===z?0:.5/(z-L),O=L<I?-1:1,J}}function diverging(){var _=linearish(transformer()(identity$3));return _.copy=function(){return copy(_,diverging())},initInterpolator.apply(_,arguments)}function divergingLog(){var _=loggish(transformer()).domain([.1,1,10]);return _.copy=function(){return copy(_,divergingLog()).base(_.base())},initInterpolator.apply(_,arguments)}function divergingSymlog(){var _=symlogish(transformer());return _.copy=function(){return copy(_,divergingSymlog()).constant(_.constant())},initInterpolator.apply(_,arguments)}function divergingPow(){var _=powish(transformer());return _.copy=function(){return copy(_,divergingPow()).exponent(_.exponent())},initInterpolator.apply(_,arguments)}function colors(_){for(var R=_.length/6|0,P=new Array(R),O=0;O<R;)P[O]="#"+_.slice(O*6,++O*6);return P}const schemeCategory10=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),schemeAccent=colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),schemeDark2=colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),schemeObservable10=colors("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),schemePaired=colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),schemePastel1=colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),schemePastel2=colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),schemeSet1=colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),schemeSet2=colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),schemeSet3=colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),schemeTableau10=colors("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ramp$1=_=>rgbBasis(_[_.length-1]);var scheme$q=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors);const interpolateBrBG=ramp$1(scheme$q);var scheme$p=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors);const interpolatePRGn=ramp$1(scheme$p);var scheme$o=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors);const interpolatePiYG=ramp$1(scheme$o);var scheme$n=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors);const interpolatePuOr=ramp$1(scheme$n);var scheme$m=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors);const interpolateRdBu=ramp$1(scheme$m);var scheme$l=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors);const interpolateRdGy=ramp$1(scheme$l);var scheme$k=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors);const interpolateRdYlBu=ramp$1(scheme$k);var scheme$j=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors);const interpolateRdYlGn=ramp$1(scheme$j);var scheme$i=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors);const interpolateSpectral=ramp$1(scheme$i);var scheme$h=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors);const interpolateBuGn=ramp$1(scheme$h);var scheme$g=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors);const interpolateBuPu=ramp$1(scheme$g);var scheme$f=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors);const interpolateGnBu=ramp$1(scheme$f);var scheme$e=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors);const interpolateOrRd=ramp$1(scheme$e);var scheme$d=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors);const interpolatePuBuGn=ramp$1(scheme$d);var scheme$c=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors);const interpolatePuBu=ramp$1(scheme$c);var scheme$b=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors);const interpolatePuRd=ramp$1(scheme$b);var scheme$a=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors);const interpolateRdPu=ramp$1(scheme$a);var scheme$9=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors);const interpolateYlGnBu=ramp$1(scheme$9);var scheme$8=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors);const interpolateYlGn=ramp$1(scheme$8);var scheme$7=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors);const interpolateYlOrBr=ramp$1(scheme$7);var scheme$6=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors);const interpolateYlOrRd=ramp$1(scheme$6);var scheme$5=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors);const interpolateBlues=ramp$1(scheme$5);var scheme$4=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors);const interpolateGreens=ramp$1(scheme$4);var scheme$3=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors);const interpolateGreys=ramp$1(scheme$3);var scheme$2=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors);const interpolatePurples=ramp$1(scheme$2);var scheme$1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors);const interpolateReds=ramp$1(scheme$1);var scheme=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors);const interpolateOranges=ramp$1(scheme);function interpolateCividis(_){return _=Math.max(0,Math.min(1,_)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-_*(35.34-_*(2381.73-_*(6402.7-_*(7024.72-_*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+_*(170.73+_*(52.82-_*(131.46-_*(176.58-_*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+_*(442.36-_*(2482.43-_*(6167.24-_*(6614.94-_*2475.67)))))))+")"}const interpolateCubehelixDefault=cubehelixLong(cubehelix$1(300,.5,0),cubehelix$1(-240,.5,1));var warm=cubehelixLong(cubehelix$1(-100,.75,.35),cubehelix$1(80,1.5,.8)),cool=cubehelixLong(cubehelix$1(260,.75,.35),cubehelix$1(80,1.5,.8)),c$2=cubehelix$1();function interpolateRainbow(_){(_<0||_>1)&&(_-=Math.floor(_));var R=Math.abs(_-.5);return c$2.h=360*_-100,c$2.s=1.5-1.5*R,c$2.l=.8-.9*R,c$2+""}var c$1=rgb(),pi_1_3=Math.PI/3,pi_2_3=Math.PI*2/3;function interpolateSinebow(_){var R;return _=(.5-_)*Math.PI,c$1.r=255*(R=Math.sin(_))*R,c$1.g=255*(R=Math.sin(_+pi_1_3))*R,c$1.b=255*(R=Math.sin(_+pi_2_3))*R,c$1+""}function interpolateTurbo(_){return _=Math.max(0,Math.min(1,_)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+_*(1172.33-_*(10793.56-_*(33300.12-_*(38394.49-_*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+_*(557.33+_*(1225.33-_*(3574.96-_*(1073.77+_*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+_*(3211.1-_*(15327.97-_*(27814-_*(22569.18-_*6838.66)))))))+")"}function ramp(_){var R=_.length;return function(P){return _[Math.max(0,Math.min(R-1,Math.floor(P*R)))]}}const interpolateViridis=ramp(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var magma=ramp(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function constant$1(_){return function(){return _}}const cos=Math.cos,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi$1=Math.PI,tau$1=2*pi$1;function withPath(_){let R=3;return _.digits=function(P){if(!arguments.length)return R;if(P==null)R=null;else{const O=Math.floor(P);if(!(O>=0))throw new RangeError(`invalid digits: ${P}`);R=O}return _},()=>new Path(R)}function array(_){return typeof _=="object"&&"length"in _?_:Array.from(_)}function Linear(_){this._context=_}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2;default:this._context.lineTo(_,R);break}}};function curveLinear(_){return new Linear(_)}function x(_){return _[0]}function y(_){return _[1]}function shapeLine(_,R){var P=constant$1(!0),O=null,I=curveLinear,L=null,z=withPath(F);_=typeof _=="function"?_:_===void 0?x:constant$1(_),R=typeof R=="function"?R:R===void 0?y:constant$1(R);function F(G){var V,Z=(G=array(G)).length,Y,Q=!1,J;for(O==null&&(L=I(J=z())),V=0;V<=Z;++V)!(V<Z&&P(Y=G[V],V,G))===Q&&((Q=!Q)?L.lineStart():L.lineEnd()),Q&&L.point(+_(Y,V,G),+R(Y,V,G));if(J)return L=null,J+""||null}return F.x=function(G){return arguments.length?(_=typeof G=="function"?G:constant$1(+G),F):_},F.y=function(G){return arguments.length?(R=typeof G=="function"?G:constant$1(+G),F):R},F.defined=function(G){return arguments.length?(P=typeof G=="function"?G:constant$1(!!G),F):P},F.curve=function(G){return arguments.length?(I=G,O!=null&&(L=I(O)),F):I},F.context=function(G){return arguments.length?(G==null?O=L=null:L=I(O=G),F):O},F}function shapeArea(_,R,P){var O=null,I=constant$1(!0),L=null,z=curveLinear,F=null,G=withPath(V);_=typeof _=="function"?_:_===void 0?x:constant$1(+_),R=typeof R=="function"?R:constant$1(R===void 0?0:+R),P=typeof P=="function"?P:P===void 0?y:constant$1(+P);function V(Y){var Q,J,te,ne=(Y=array(Y)).length,ie,se=!1,oe,ce=new Array(ne),ue=new Array(ne);for(L==null&&(F=z(oe=G())),Q=0;Q<=ne;++Q){if(!(Q<ne&&I(ie=Y[Q],Q,Y))===se)if(se=!se)J=Q,F.areaStart(),F.lineStart();else{for(F.lineEnd(),F.lineStart(),te=Q-1;te>=J;--te)F.point(ce[te],ue[te]);F.lineEnd(),F.areaEnd()}se&&(ce[Q]=+_(ie,Q,Y),ue[Q]=+R(ie,Q,Y),F.point(O?+O(ie,Q,Y):ce[Q],P?+P(ie,Q,Y):ue[Q]))}if(oe)return F=null,oe+""||null}function Z(){return shapeLine().defined(I).curve(z).context(L)}return V.x=function(Y){return arguments.length?(_=typeof Y=="function"?Y:constant$1(+Y),O=null,V):_},V.x0=function(Y){return arguments.length?(_=typeof Y=="function"?Y:constant$1(+Y),V):_},V.x1=function(Y){return arguments.length?(O=Y==null?null:typeof Y=="function"?Y:constant$1(+Y),V):O},V.y=function(Y){return arguments.length?(R=typeof Y=="function"?Y:constant$1(+Y),P=null,V):R},V.y0=function(Y){return arguments.length?(R=typeof Y=="function"?Y:constant$1(+Y),V):R},V.y1=function(Y){return arguments.length?(P=Y==null?null:typeof Y=="function"?Y:constant$1(+Y),V):P},V.lineX0=V.lineY0=function(){return Z().x(_).y(R)},V.lineY1=function(){return Z().x(_).y(P)},V.lineX1=function(){return Z().x(O).y(R)},V.defined=function(Y){return arguments.length?(I=typeof Y=="function"?Y:constant$1(!!Y),V):I},V.curve=function(Y){return arguments.length?(z=Y,L!=null&&(F=z(L)),V):z},V.context=function(Y){return arguments.length?(Y==null?L=F=null:F=z(L=Y),V):L},V}class Bump{constructor(R,P){this._context=R,this._x=P}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(R,P){switch(R=+R,P=+P,this._point){case 0:{this._point=1,this._line?this._context.lineTo(R,P):this._context.moveTo(R,P);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+R)/2,this._y0,this._x0,P,R,P):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+P)/2,R,this._y0,R,P);break}}this._x0=R,this._y0=P}}function bumpX(_){return new Bump(_,!0)}function bumpY(_){return new Bump(_,!1)}const sqrt3$3=sqrt(3),symbolAsterisk={draw(_,R){const P=sqrt(R+min(R/28,.75))*.59436,O=P/2,I=O*sqrt3$3;_.moveTo(0,P),_.lineTo(0,-P),_.moveTo(-I,-O),_.lineTo(I,O),_.moveTo(-I,O),_.lineTo(I,-O)}},symbolCircle={draw(_,R){const P=sqrt(R/pi$1);_.moveTo(P,0),_.arc(0,0,P,0,tau$1)}},symbolCross={draw(_,R){const P=sqrt(R/5)/2;_.moveTo(-3*P,-P),_.lineTo(-P,-P),_.lineTo(-P,-3*P),_.lineTo(P,-3*P),_.lineTo(P,-P),_.lineTo(3*P,-P),_.lineTo(3*P,P),_.lineTo(P,P),_.lineTo(P,3*P),_.lineTo(-P,3*P),_.lineTo(-P,P),_.lineTo(-3*P,P),_.closePath()}},tan30=sqrt(1/3),tan30_2=tan30*2,symbolDiamond={draw(_,R){const P=sqrt(R/tan30_2),O=P*tan30;_.moveTo(0,-P),_.lineTo(O,0),_.lineTo(0,P),_.lineTo(-O,0),_.closePath()}},symbolDiamond2={draw(_,R){const P=sqrt(R)*.62625;_.moveTo(0,-P),_.lineTo(P,0),_.lineTo(0,P),_.lineTo(-P,0),_.closePath()}},symbolPlus={draw(_,R){const P=sqrt(R-min(R/7,2))*.87559;_.moveTo(-P,0),_.lineTo(P,0),_.moveTo(0,P),_.lineTo(0,-P)}},symbolSquare={draw(_,R){const P=sqrt(R),O=-P/2;_.rect(O,O,P,P)}},symbolSquare2={draw(_,R){const P=sqrt(R)*.4431;_.moveTo(P,P),_.lineTo(P,-P),_.lineTo(-P,-P),_.lineTo(-P,P),_.closePath()}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(_,R){const P=sqrt(R*ka),O=kx*P,I=ky*P;_.moveTo(0,-P),_.lineTo(O,I);for(let L=1;L<5;++L){const z=tau$1*L/5,F=cos(z),G=sin(z);_.lineTo(G*P,-F*P),_.lineTo(F*O-G*I,G*O+F*I)}_.closePath()}},sqrt3$2=sqrt(3),symbolTriangle={draw(_,R){const P=-sqrt(R/(sqrt3$2*3));_.moveTo(0,P*2),_.lineTo(-sqrt3$2*P,-P),_.lineTo(sqrt3$2*P,-P),_.closePath()}},sqrt3$1=sqrt(3),symbolTriangle2={draw(_,R){const P=sqrt(R)*.6824,O=P/2,I=P*sqrt3$1/2;_.moveTo(0,-P),_.lineTo(I,O),_.lineTo(-I,O),_.closePath()}},c=-.5,s$1=sqrt(3)/2,k=1/sqrt(12),a=(k/2+1)*3,symbolWye={draw(_,R){const P=sqrt(R/a),O=P/2,I=P*k,L=O,z=P*k+P,F=-L,G=z;_.moveTo(O,I),_.lineTo(L,z),_.lineTo(F,G),_.lineTo(c*O-s$1*I,s$1*O+c*I),_.lineTo(c*L-s$1*z,s$1*L+c*z),_.lineTo(c*F-s$1*G,s$1*F+c*G),_.lineTo(c*O+s$1*I,c*I-s$1*O),_.lineTo(c*L+s$1*z,c*z-s$1*L),_.lineTo(c*F+s$1*G,c*G-s$1*F),_.closePath()}},symbolTimes={draw(_,R){const P=sqrt(R-min(R/6,1.7))*.6189;_.moveTo(-P,-P),_.lineTo(P,P),_.moveTo(-P,P),_.lineTo(P,-P)}},symbolsFill=[symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye],symbolsStroke=[symbolCircle,symbolPlus,symbolTimes,symbolTriangle2,symbolAsterisk,symbolSquare2,symbolDiamond2];function noop(){}function point$6(_,R,P){_._context.bezierCurveTo((2*_._x0+_._x1)/3,(2*_._y0+_._y1)/3,(_._x0+2*_._x1)/3,(_._y0+2*_._y1)/3,(_._x0+4*_._x1+R)/6,(_._y0+4*_._y1+P)/6)}function Basis(_){this._context=_}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$6(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$6(this,_,R);break}this._x0=this._x1,this._x1=_,this._y0=this._y1,this._y1=R}};function curveBasis(_){return new Basis(_)}function BasisClosed(_){this._context=_}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._x2=_,this._y2=R;break;case 1:this._point=2,this._x3=_,this._y3=R;break;case 2:this._point=3,this._x4=_,this._y4=R,this._context.moveTo((this._x0+4*this._x1+_)/6,(this._y0+4*this._y1+R)/6);break;default:point$6(this,_,R);break}this._x0=this._x1,this._x1=_,this._y0=this._y1,this._y1=R}};function curveBasisClosed(_){return new BasisClosed(_)}function BasisOpen(_){this._context=_}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var P=(this._x0+4*this._x1+_)/6,O=(this._y0+4*this._y1+R)/6;this._line?this._context.lineTo(P,O):this._context.moveTo(P,O);break;case 3:this._point=4;default:point$6(this,_,R);break}this._x0=this._x1,this._x1=_,this._y0=this._y1,this._y1=R}};function curveBasisOpen(_){return new BasisOpen(_)}function Bundle(_,R){this._basis=new Basis(_),this._beta=R}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var _=this._x,R=this._y,P=_.length-1;if(P>0)for(var O=_[0],I=R[0],L=_[P]-O,z=R[P]-I,F=-1,G;++F<=P;)G=F/P,this._basis.point(this._beta*_[F]+(1-this._beta)*(O+G*L),this._beta*R[F]+(1-this._beta)*(I+G*z));this._x=this._y=null,this._basis.lineEnd()},point:function(_,R){this._x.push(+_),this._y.push(+R)}};const curveBundle=(function _(R){function P(O){return R===1?new Basis(O):new Bundle(O,R)}return P.beta=function(O){return _(+O)},P})(.85);function point$5(_,R,P){_._context.bezierCurveTo(_._x1+_._k*(_._x2-_._x0),_._y1+_._k*(_._y2-_._y0),_._x2+_._k*(_._x1-R),_._y2+_._k*(_._y1-P),_._x2,_._y2)}function Cardinal(_,R){this._context=_,this._k=(1-R)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$5(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2,this._x1=_,this._y1=R;break;case 2:this._point=3;default:point$5(this,_,R);break}this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCardinal=(function _(R){function P(O){return new Cardinal(O,R)}return P.tension=function(O){return _(+O)},P})(0);function CardinalClosed(_,R){this._context=_,this._k=(1-R)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._x3=_,this._y3=R;break;case 1:this._point=2,this._context.moveTo(this._x4=_,this._y4=R);break;case 2:this._point=3,this._x5=_,this._y5=R;break;default:point$5(this,_,R);break}this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCardinalClosed=(function _(R){function P(O){return new CardinalClosed(O,R)}return P.tension=function(O){return _(+O)},P})(0);function CardinalOpen(_,R){this._context=_,this._k=(1-R)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$5(this,_,R);break}this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCardinalOpen=(function _(R){function P(O){return new CardinalOpen(O,R)}return P.tension=function(O){return _(+O)},P})(0);function point$4(_,R,P){var O=_._x1,I=_._y1,L=_._x2,z=_._y2;if(_._l01_a>epsilon){var F=2*_._l01_2a+3*_._l01_a*_._l12_a+_._l12_2a,G=3*_._l01_a*(_._l01_a+_._l12_a);O=(O*F-_._x0*_._l12_2a+_._x2*_._l01_2a)/G,I=(I*F-_._y0*_._l12_2a+_._y2*_._l01_2a)/G}if(_._l23_a>epsilon){var V=2*_._l23_2a+3*_._l23_a*_._l12_a+_._l12_2a,Z=3*_._l23_a*(_._l23_a+_._l12_a);L=(L*V+_._x1*_._l23_2a-R*_._l12_2a)/Z,z=(z*V+_._y1*_._l23_2a-P*_._l12_2a)/Z}_._context.bezierCurveTo(O,I,L,z,_._x2,_._y2)}function CatmullRom(_,R){this._context=_,this._alpha=R}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){if(_=+_,R=+R,this._point){var P=this._x2-_,O=this._y2-R;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(P*P+O*O,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2;break;case 2:this._point=3;default:point$4(this,_,R);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCatmullRom=(function _(R){function P(O){return R?new CatmullRom(O,R):new Cardinal(O,0)}return P.alpha=function(O){return _(+O)},P})(.5);function CatmullRomClosed(_,R){this._context=_,this._alpha=R}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(_,R){if(_=+_,R=+R,this._point){var P=this._x2-_,O=this._y2-R;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(P*P+O*O,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=_,this._y3=R;break;case 1:this._point=2,this._context.moveTo(this._x4=_,this._y4=R);break;case 2:this._point=3,this._x5=_,this._y5=R;break;default:point$4(this,_,R);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCatmullRomClosed=(function _(R){function P(O){return R?new CatmullRomClosed(O,R):new CardinalClosed(O,0)}return P.alpha=function(O){return _(+O)},P})(.5);function CatmullRomOpen(_,R){this._context=_,this._alpha=R}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){if(_=+_,R=+R,this._point){var P=this._x2-_,O=this._y2-R;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(P*P+O*O,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$4(this,_,R);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=_,this._y0=this._y1,this._y1=this._y2,this._y2=R}};const curveCatmullRomOpen=(function _(R){function P(O){return R?new CatmullRomOpen(O,R):new CardinalOpen(O,0)}return P.alpha=function(O){return _(+O)},P})(.5);function LinearClosed(_){this._context=_}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(_,R){_=+_,R=+R,this._point?this._context.lineTo(_,R):(this._point=1,this._context.moveTo(_,R))}};function curveLinearClosed(_){return new LinearClosed(_)}function sign(_){return _<0?-1:1}function slope3(_,R,P){var O=_._x1-_._x0,I=R-_._x1,L=(_._y1-_._y0)/(O||I<0&&-0),z=(P-_._y1)/(I||O<0&&-0),F=(L*I+z*O)/(O+I);return(sign(L)+sign(z))*Math.min(Math.abs(L),Math.abs(z),.5*Math.abs(F))||0}function slope2(_,R){var P=_._x1-_._x0;return P?(3*(_._y1-_._y0)/P-R)/2:R}function point$3(_,R,P){var O=_._x0,I=_._y0,L=_._x1,z=_._y1,F=(L-O)/3;_._context.bezierCurveTo(O+F,I+F*R,L-F,z-F*P,L,z)}function MonotoneX(_){this._context=_}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$3(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_,R){var P=NaN;if(_=+_,R=+R,!(_===this._x1&&R===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2;break;case 2:this._point=3,point$3(this,slope2(this,P=slope3(this,_,R)),P);break;default:point$3(this,this._t0,P=slope3(this,_,R));break}this._x0=this._x1,this._x1=_,this._y0=this._y1,this._y1=R,this._t0=P}}};function MonotoneY(_){this._context=new ReflectContext(_)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(_,R){MonotoneX.prototype.point.call(this,R,_)};function ReflectContext(_){this._context=_}ReflectContext.prototype={moveTo:function(_,R){this._context.moveTo(R,_)},closePath:function(){this._context.closePath()},lineTo:function(_,R){this._context.lineTo(R,_)},bezierCurveTo:function(_,R,P,O,I,L){this._context.bezierCurveTo(R,_,O,P,L,I)}};function monotoneX(_){return new MonotoneX(_)}function monotoneY(_){return new MonotoneY(_)}function Natural(_){this._context=_}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var _=this._x,R=this._y,P=_.length;if(P)if(this._line?this._context.lineTo(_[0],R[0]):this._context.moveTo(_[0],R[0]),P===2)this._context.lineTo(_[1],R[1]);else for(var O=controlPoints(_),I=controlPoints(R),L=0,z=1;z<P;++L,++z)this._context.bezierCurveTo(O[0][L],I[0][L],O[1][L],I[1][L],_[z],R[z]);(this._line||this._line!==0&&P===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(_,R){this._x.push(+_),this._y.push(+R)}};function controlPoints(_){var R,P=_.length-1,O,I=new Array(P),L=new Array(P),z=new Array(P);for(I[0]=0,L[0]=2,z[0]=_[0]+2*_[1],R=1;R<P-1;++R)I[R]=1,L[R]=4,z[R]=4*_[R]+2*_[R+1];for(I[P-1]=2,L[P-1]=7,z[P-1]=8*_[P-1]+_[P],R=1;R<P;++R)O=I[R]/L[R-1],L[R]-=O,z[R]-=O*z[R-1];for(I[P-1]=z[P-1]/L[P-1],R=P-2;R>=0;--R)I[R]=(z[R]-I[R+1])/L[R];for(L[P-1]=(_[P]+I[P-1])/2,R=0;R<P-1;++R)L[R]=2*_[R+1]-I[R+1];return[I,L]}function curveNatural(_){return new Natural(_)}function Step(_,R){this._context=_,this._t=R}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(_,R){switch(_=+_,R=+R,this._point){case 0:this._point=1,this._line?this._context.lineTo(_,R):this._context.moveTo(_,R);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,R),this._context.lineTo(_,R);else{var P=this._x*(1-this._t)+_*this._t;this._context.lineTo(P,this._y),this._context.lineTo(P,R)}break}}this._x=_,this._y=R}};function curveStep(_){return new Step(_,.5)}function stepBefore(_){return new Step(_,0)}function stepAfter(_){return new Step(_,1)}function Transform(_,R,P){this.k=_,this.x=R,this.y=P}Transform.prototype={constructor:Transform,scale:function(_){return _===1?this:new Transform(this.k*_,this.x,this.y)},translate:function(_,R){return _===0&R===0?this:new Transform(this.k,this.x+this.k*_,this.y+this.k*R)},apply:function(_){return[_[0]*this.k+this.x,_[1]*this.k+this.y]},applyX:function(_){return _*this.k+this.x},applyY:function(_){return _*this.k+this.y},invert:function(_){return[(_[0]-this.x)/this.k,(_[1]-this.y)/this.k]},invertX:function(_){return(_-this.x)/this.k},invertY:function(_){return(_-this.y)/this.k},rescaleX:function(_){return _.copy().domain(_.range().map(this.invertX,this).map(_.invert,_))},rescaleY:function(_){return _.copy().domain(_.range().map(this.invertY,this).map(_.invert,_))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;function defined(_){return _!=null&&!Number.isNaN(_)}function ascendingDefined(_,R){return+defined(R)-+defined(_)||ascending$1(_,R)}function descendingDefined(_,R){return+defined(R)-+defined(_)||descending(_,R)}function nonempty(_){return _!=null&&`${_}`!=""}function finite(_){return isFinite(_)?_:NaN}function positive(_){return _>0&&isFinite(_)?_:NaN}function negative(_){return _<0&&isFinite(_)?_:NaN}function format(_,R){if(_ instanceof Date||(_=new Date(+_)),isNaN(_))return typeof R=="function"?R(_):R;const P=_.getUTCHours(),O=_.getUTCMinutes(),I=_.getUTCSeconds(),L=_.getUTCMilliseconds();return`${formatYear(_.getUTCFullYear())}-${pad$1(_.getUTCMonth()+1,2)}-${pad$1(_.getUTCDate(),2)}${P||O||I||L?`T${pad$1(P,2)}:${pad$1(O,2)}${I||L?`:${pad$1(I,2)}${L?`.${pad$1(L,3)}`:""}`:""}Z`:""}`}function formatYear(_){return _<0?`-${pad$1(-_,6)}`:_>9999?`+${pad$1(_,6)}`:pad$1(_,4)}function pad$1(_,R){return`${_}`.padStart(R,"0")}const re$1=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function parse$3(_,R){return re$1.test(_+="")?new Date(_):typeof R=="function"?R(_):R}function orderof(_){if(_==null)return;const R=_[0],P=_[_.length-1];return descending(R,P)}const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,tickIntervals=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",durationSecond],["5 seconds",5*durationSecond],["15 seconds",15*durationSecond],["30 seconds",30*durationSecond],["minute",durationMinute],["5 minutes",5*durationMinute],["15 minutes",15*durationMinute],["30 minutes",30*durationMinute],["hour",durationHour],["3 hours",3*durationHour],["6 hours",6*durationHour],["12 hours",12*durationHour],["day",durationDay],["2 days",2*durationDay],["week",durationWeek],["2 weeks",2*durationWeek],["month",durationMonth],["3 months",3*durationMonth],["6 months",6*durationMonth],["year",durationYear],["2 years",2*durationYear],["5 years",5*durationYear],["10 years",10*durationYear],["20 years",20*durationYear],["50 years",50*durationYear],["100 years",100*durationYear]],durations=new Map([["second",durationSecond],["minute",durationMinute],["hour",durationHour],["day",durationDay],["monday",durationWeek],["tuesday",durationWeek],["wednesday",durationWeek],["thursday",durationWeek],["friday",durationWeek],["saturday",durationWeek],["sunday",durationWeek],["week",durationWeek],["month",durationMonth],["year",durationYear]]),timeIntervals=new Map([["second",second$1],["minute",timeMinute],["hour",timeHour],["day",timeDay],["monday",timeMonday],["tuesday",timeTuesday],["wednesday",timeWednesday],["thursday",timeThursday],["friday",timeFriday],["saturday",timeSaturday],["sunday",timeSunday],["week",timeSunday],["month",timeMonth],["year",timeYear]]),utcIntervals=new Map([["second",second$1],["minute",utcMinute],["hour",utcHour],["day",unixDay],["monday",utcMonday],["tuesday",utcTuesday],["wednesday",utcWednesday],["thursday",utcThursday],["friday",utcFriday],["saturday",utcSaturday],["sunday",utcSunday],["week",utcSunday],["month",utcMonth],["year",utcYear]]),intervalDuration=Symbol("intervalDuration"),intervalType=Symbol("intervalType");for(const[_,R]of timeIntervals)R[intervalDuration]=durations.get(_),R[intervalType]="time";for(const[_,R]of utcIntervals)R[intervalDuration]=durations.get(_),R[intervalType]="utc";const utcFormatIntervals=[["year",utcYear,"utc"],["month",utcMonth,"utc"],["day",unixDay,"utc",6*durationMonth],["hour",utcHour,"utc",3*durationDay],["minute",utcMinute,"utc",6*durationHour],["second",second$1,"utc",30*durationMinute]],timeFormatIntervals=[["year",timeYear,"time"],["month",timeMonth,"time"],["day",timeDay,"time",6*durationMonth],["hour",timeHour,"time",3*durationDay],["minute",timeMinute,"time",6*durationHour],["second",second$1,"time",30*durationMinute]],formatIntervals=[utcFormatIntervals[0],timeFormatIntervals[0],utcFormatIntervals[1],timeFormatIntervals[1],utcFormatIntervals[2],timeFormatIntervals[2],...utcFormatIntervals.slice(3)];function parseTimeInterval(_){let R=`${_}`.toLowerCase();R.endsWith("s")&&(R=R.slice(0,-1));let P=1;const O=/^(?:(\d+)\s+)/.exec(R);switch(O&&(R=R.slice(O[0].length),P=+O[1]),R){case"quarter":R="month",P*=3;break;case"half":R="month",P*=6;break}let I=utcIntervals.get(R);if(!I)throw new Error(`unknown interval: ${_}`);if(P>1&&!I.every)throw new Error(`non-periodic interval: ${R}`);return[R,P]}function timeInterval(_){return asInterval(parseTimeInterval(_),"time")}function utcInterval(_){return asInterval(parseTimeInterval(_),"utc")}function asInterval([_,R],P){let O=(P==="time"?timeIntervals:utcIntervals).get(_);return R>1&&(O=O.every(R),O[intervalDuration]=durations.get(_)*R,O[intervalType]=P),O}function generalizeTimeInterval(_,R){if(!(R>1))return;const P=_[intervalDuration];if(!tickIntervals.some(([,I])=>I===P)||P%durationDay===0&&durationDay<P&&P<durationMonth)return;const[O]=tickIntervals[bisector(([,I])=>Math.log(I)).center(tickIntervals,Math.log(P*R))];return(_[intervalType]==="time"?timeInterval:utcInterval)(O)}function formatTimeInterval(_,R,P){const O=R==="time"?timeFormat:utcFormat;if(P==null)return O(_==="year"?"%Y":_==="month"?"%Y-%m":_==="day"?"%Y-%m-%d":_==="hour"||_==="minute"?"%Y-%m-%dT%H:%M":_==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const I=getTimeTemplate(P);switch(_){case"millisecond":return formatConditional(O(".%L"),O(":%M:%S"),I);case"second":return formatConditional(O(":%S"),O("%-I:%M"),I);case"minute":return formatConditional(O("%-I:%M"),O("%p"),I);case"hour":return formatConditional(O("%-I %p"),O("%b %-d"),I);case"day":return formatConditional(O("%-d"),O("%b"),I);case"month":return formatConditional(O("%b"),O("%Y"),I);case"year":return O("%Y")}throw new Error("unable to format time ticks")}function getTimeTemplate(_){return _==="left"||_==="right"?(R,P)=>`
${R}
${P}`:_==="top"?(R,P)=>`${P}
${R}`:(R,P)=>`${R}
${P}`}function getFormatIntervals(_){return _==="time"?timeFormatIntervals:_==="utc"?utcFormatIntervals:formatIntervals}function inferTimeFormat(_,R,P){const O=max(pairs(R,(I,L)=>Math.abs(L-I)));if(O<1e3)return formatTimeInterval("millisecond","utc",P);for(const[I,L,z,F]of getFormatIntervals(_)){if(O>F||I==="hour"&&!O)break;if(R.every(G=>L.floor(G)>=G))return formatTimeInterval(I,z,P)}}function formatConditional(_,R,P){return(O,I,L)=>{const z=_(O,I),F=R(O,I),G=I-orderof(L);return I!==G&&L[G]!==void 0&&F===R(L[G],G)?z:P(z,F)}}const TypedArray=Object.getPrototypeOf(Uint8Array),objectToString=Object.prototype.toString;function isArray(_){return _ instanceof Array||_ instanceof TypedArray}function isNumberArray(_){return _ instanceof TypedArray&&!isBigIntArray(_)}function isNumberType(_){return _?.prototype instanceof TypedArray&&!isBigIntType(_)}function isBigIntArray(_){return _ instanceof BigInt64Array||_ instanceof BigUint64Array}function isBigIntType(_){return _===BigInt64Array||_===BigUint64Array}const reindex=Symbol("reindex");function valueof(_,R,P){const O=typeof R;return O==="string"?isArrowTable(_)?maybeTypedArrowify(_.getChild(R),P):maybeTypedMap(_,field(R),P):O==="function"?maybeTypedMap(_,R,P):O==="number"||R instanceof Date||O==="boolean"?map(_,constant(R),P):typeof R?.transform=="function"?maybeTypedArrayify(R.transform(_),P):maybeTake(maybeTypedArrayify(R,P),_?.[reindex])}function maybeTake(_,R){return _!=null&&R?take(_,R):_}function maybeTypedMap(_,R,P){return map(_,isNumberType(P)?(O,I)=>coerceNumber(R(O,I)):R,P)}function maybeTypedArrayify(_,R){return R===void 0?arrayify(_):isArrowVector(_)?maybeTypedArrowify(_,R):_ instanceof R?_:R.from(_,isNumberType(R)&&!isNumberArray(_)?coerceNumber:void 0)}function maybeTypedArrowify(_,R){return _==null?_:(R===void 0||R===Array)&&isArrowDateType(_.type)?coerceDates(vectorToArray(_)):maybeTypedArrayify(vectorToArray(_),R)}function vectorToArray(_){return _.nullCount?_.toJSON():_.toArray()}const singleton=[null],field=_=>R=>{const P=R[_];return P===void 0&&R.type==="Feature"?R.properties?.[_]:P},indexOf={transform:range},identity$1={transform:_=>_},one$3=()=>1,yes=()=>!0,string$2=_=>_==null?_:`${_}`,number$1=_=>_==null?_:+_,first=_=>_?_[0]:void 0,second=_=>_?_[1]:void 0,constant=_=>()=>_;function percentile(_){const R=+`${_}`.slice(1)/100;return(P,O)=>quantile$1(P,R,O)}function coerceNumbers(_){return isNumberArray(_)?_:map(_,coerceNumber,Float64Array)}function coerceNumber(_){return _==null?NaN:Number(_)}function coerceDates(_){return map(_,coerceDate)}function coerceDate(_){return _ instanceof Date&&!isNaN(_)?_:typeof _=="string"?parse$3(_):_==null||isNaN(_=Number(_))?void 0:new Date(_)}function maybeColorChannel(_,R){return _===void 0&&(_=R),_===null?[void 0,"none"]:isColor(_)?[void 0,_]:[_,void 0]}function maybeNumberChannel(_,R){return _===void 0&&(_=R),_===null||typeof _=="number"?[void 0,_]:[_,void 0]}function maybeKeyword(_,R,P){if(_!=null)return keyword(_,R,P)}function keyword(_,R,P){const O=`${_}`.toLowerCase();if(!P.includes(O))throw new Error(`invalid ${R}: ${_}`);return O}function dataify(_){return isArrowTable(_)?_:arrayify(_)}function arrayify(_){if(_==null||isArray(_))return _;if(isArrowVector(_))return maybeTypedArrowify(_);if(isGeoJSON(_))switch(_.type){case"FeatureCollection":return _.features;case"GeometryCollection":return _.geometries;default:return[_]}return Array.from(_)}function isGeoJSON(_){switch(_?.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function map(_,R,P=Array){return _==null?_:_ instanceof P?_.map(R):P.from(_,R)}function slice(_,R=Array){return _ instanceof R?_.slice():R.from(_)}function hasX({x:_,x1:R,x2:P}){return _!==void 0||R!==void 0||P!==void 0}function hasY({y:_,y1:R,y2:P}){return _!==void 0||R!==void 0||P!==void 0}function hasXY(_){return hasX(_)||hasY(_)||_.interval!==void 0}function isObject(_){return _?.toString===objectToString}function isScaleOptions(_){return isObject(_)&&(_.type!==void 0||_.domain!==void 0)}function isOptions(_){return isObject(_)&&typeof _.transform!="function"}function isDomainSort(_){return isOptions(_)&&_.value===void 0&&_.channel===void 0}function maybeZero(_,R,P,O=identity$1){return R===void 0&&P===void 0?(R=0,P=_===void 0?O:_):R===void 0?R=_===void 0?0:_:P===void 0&&(P=_===void 0?0:_),[R,P]}function maybeTuple(_,R){return _===void 0&&R===void 0?[first,second]:[_,R]}function maybeZ({z:_,fill:R,stroke:P}={}){return _===void 0&&([_]=maybeColorChannel(R)),_===void 0&&([_]=maybeColorChannel(P)),_}function lengthof(_){return isArray(_)?_.length:_?.numRows}function range(_){const R=lengthof(_),P=new Uint32Array(R);for(let O=0;O<R;++O)P[O]=O;return P}function take(_,R){return isArray(_)?map(R,P=>_[P],_.constructor):map(R,P=>_.at(P))}function subarray(_,R,P){return _.subarray?_.subarray(R,P):_.slice(R,P)}function keyof(_){return _!==null&&typeof _=="object"?_.valueOf():_}function maybeInput(_,R){if(R[_]!==void 0)return R[_];switch(_){case"x1":case"x2":_="x";break;case"y1":case"y2":_="y";break}return R[_]}function column(_){let R;return[{transform:()=>R,label:labelof(_)},P=>R=P]}function maybeColumn(_){return _==null?[_]:column(_)}function labelof(_,R){return typeof _=="string"?_:_&&_.label!==void 0?_.label:R}function mid(_,R){return{transform(P){const O=_.transform(P),I=R.transform(P);return isTemporal(O)||isTemporal(I)?map(O,(L,z)=>new Date((+O[z]+ +I[z])/2)):map(O,(L,z)=>(+O[z]+ +I[z])/2,Float64Array)},label:_.label}}function maybeApplyInterval(_,R){const P=maybeIntervalTransform(R?.interval,R?.type);return P?map(_,P):_}function maybeIntervalTransform(_,R){const P=maybeInterval(_,R);return P&&(O=>defined(O)?P.floor(O):O)}function maybeInterval(_,R){if(_!=null){if(typeof _=="number")return numberInterval(_);if(typeof _=="string")return(R==="time"?timeInterval:utcInterval)(_);if(typeof _.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof _.offset!="function")throw new Error("invalid interval; missing offset method");return _}}function numberInterval(_){_=+_,0<_&&_<1&&Number.isInteger(1/_)&&(_=-1/_);const R=Math.abs(_);return _<0?{floor:P=>Math.floor(P*R)/R,offset:(P,O=1)=>(P*R+Math.floor(O))/R,range:(P,O)=>range$1(Math.ceil(P*R),O*R).map(I=>I/R)}:{floor:P=>Math.floor(P/R)*R,offset:(P,O=1)=>P+R*Math.floor(O),range:(P,O)=>range$1(Math.ceil(P/R),O/R).map(I=>I*R)}}function maybeRangeInterval(_,R){if(_=maybeInterval(_,R),_&&typeof _.range!="function")throw new Error("invalid interval: missing range method");return _}function maybeNiceInterval(_,R){if(_=maybeRangeInterval(_,R),_&&typeof _.ceil!="function")throw new Error("invalid interval: missing ceil method");return _}function isTimeInterval(_){return isInterval(_)&&typeof _?.floor=="function"&&_.floor()instanceof Date}function isInterval(_){return typeof _?.range=="function"}function maybeValue(_){return _===void 0||isOptions(_)?_:{value:_}}function numberChannel(_){return _==null?null:{transform:R=>valueof(R,_,Float64Array),label:labelof(_)}}function isIterable(_){return _&&typeof _[Symbol.iterator]=="function"}function isTextual(_){for(const R of _)if(R!=null)return typeof R!="object"||R instanceof Date}function isOrdinal(_){for(const R of _){if(R==null)continue;const P=typeof R;return P==="string"||P==="boolean"}}function isTemporal(_){for(const R of _)if(R!=null)return R instanceof Date}function isTemporalString(_){for(const R of _)if(R!=null)return typeof R=="string"&&isNaN(R)&&parse$3(R)}function isNumericString(_){for(const R of _)if(R!=null){if(typeof R!="string")return!1;if(R.trim())return!isNaN(R)}}function isNumeric(_){for(const R of _)if(R!=null)return typeof R=="number"}function isEvery(_,R){let P;for(const O of _)if(O!=null){if(!R(O))return!1;P=!0}return P}const namedColors=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function isColor(_){return typeof _!="string"?!1:(_=_.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(_)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(_)||namedColors.has(_))}function isOpacity(_){return typeof _=="number"&&(0<=_&&_<=1||isNaN(_))}function isNoneish(_){return _==null||isNone(_)}function isNone(_){return/^\s*none\s*$/i.test(_)}function isRound(_){return/^\s*round\s*$/i.test(_)}function maybeAnchor$1(_,R){return maybeKeyword(_,R,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function maybeFrameAnchor(_="middle"){return maybeAnchor$1(_,"frameAnchor")}function inherit(_={},...R){let P=_;for(const O of R)for(const I in O)if(P[I]===void 0){const L=O[I];P===_?P={...P,[I]:L}:P[I]=L}return P}function named(_){console.warn("named iterables are deprecated; please use an object instead");const R=new Set;return Object.fromEntries(Array.from(_,P=>{const{name:O}=P;if(O==null)throw new Error("missing name");const I=`${O}`;if(I==="__proto__")throw new Error(`illegal name: ${I}`);if(R.has(I))throw new Error(`duplicate name: ${I}`);return R.add(I),[O,P]}))}function maybeNamed(_){return isIterable(_)?named(_):_}function maybeClip(_){return _===!0?_="frame":_===!1?_=null:!isGeoJSON(_)&&_!=null&&(_=keyword(_,"clip",["frame","sphere"]),_==="sphere"&&(_={type:"Sphere"})),_}function isArrowTable(_){return _&&typeof _.getChild=="function"&&typeof _.toArray=="function"&&_.schema&&Array.isArray(_.schema.fields)}function isArrowVector(_){return _&&typeof _.toArray=="function"&&_.type}function isArrowDateType(_){return _&&(_.typeId===8||_.typeId===10)&&_.unit===1}const position$2=Symbol("position"),color$1=Symbol("color"),radius=Symbol("radius"),length=Symbol("length"),opacity=Symbol("opacity"),symbol=Symbol("symbol"),projection=Symbol("projection"),registry=new Map([["x",position$2],["y",position$2],["fx",position$2],["fy",position$2],["r",radius],["color",color$1],["opacity",opacity],["symbol",symbol],["length",length],["projection",projection]]);function isPosition(_){return _===position$2||_===projection}function hasNumericRange(_){return _===position$2||_===radius||_===length||_===opacity}const sqrt3=Math.sqrt(3),sqrt4_3=2/sqrt3,symbolHexagon={draw(_,R){const P=Math.sqrt(R/Math.PI),O=P*sqrt4_3,I=O/2;_.moveTo(0,O),_.lineTo(P,I),_.lineTo(P,-I),_.lineTo(0,-O),_.lineTo(-P,-I),_.lineTo(-P,I),_.closePath()}},symbols$1=new Map([["asterisk",symbolAsterisk],["circle",symbolCircle],["cross",symbolCross],["diamond",symbolDiamond],["diamond2",symbolDiamond2],["hexagon",symbolHexagon],["plus",symbolPlus],["square",symbolSquare],["square2",symbolSquare2],["star",symbolStar],["times",symbolTimes],["triangle",symbolTriangle],["triangle2",symbolTriangle2],["wye",symbolWye]]);function isSymbolObject(_){return _&&typeof _.draw=="function"}function isSymbol(_){return isSymbolObject(_)?!0:typeof _!="string"?!1:symbols$1.has(_.toLowerCase())}function maybeSymbol(_){if(_==null||isSymbolObject(_))return _;const R=symbols$1.get(`${_}`.toLowerCase());if(R)return R;throw new Error(`invalid symbol: ${_}`)}function maybeSymbolChannel(_){if(_==null||isSymbolObject(_))return[void 0,_];if(typeof _=="string"){const R=symbols$1.get(`${_}`.toLowerCase());if(R)return[void 0,R]}return[_,void 0]}function basic({filter:_,sort:R,reverse:P,transform:O,initializer:I,...L}={},z){if(O===void 0&&(_!=null&&(O=filterTransform(_)),R!=null&&!isDomainSort(R)&&(O=composeTransform(O,sortTransform(R))),P&&(O=composeTransform(O,reverseTransform))),z!=null&&I!=null)throw new Error("transforms cannot be applied after initializers");return{...L,...(R===null||isDomainSort(R))&&{sort:R},transform:composeTransform(O,z)}}function initializer({filter:_,sort:R,reverse:P,initializer:O,...I}={},L){return O===void 0&&(_!=null&&(O=filterTransform(_)),R!=null&&!isDomainSort(R)&&(O=composeInitializer(O,sortTransform(R))),P&&(O=composeInitializer(O,reverseTransform))),{...I,...(R===null||isDomainSort(R))&&{sort:R},initializer:composeInitializer(O,L)}}function composeTransform(_,R){return _==null?R===null?void 0:R:R==null?_===null?void 0:_:function(P,O,I){return{data:P,facets:O}=_.call(this,P,O,I),R.call(this,dataify(P),O,I)}}function composeInitializer(_,R){return _==null?R===null?void 0:R:R==null?_===null?void 0:_:function(P,O,I,...L){let z,F,G,V,Z,Y;return{data:F=P,facets:G=O,channels:z}=_.call(this,P,O,I,...L),{data:Z=F,facets:Y=G,channels:V}=R.call(this,F,G,{...I,...z},...L),{data:Z,facets:Y,channels:{...z,...V}}}}function apply(_,R){return(_.initializer!=null?initializer:basic)(_,R)}function filterTransform(_){return(R,P)=>{const O=valueof(R,_);return{data:R,facets:P.map(I=>I.filter(L=>O[L]))}}}function reverseTransform(_,R){return{data:_,facets:R.map(P=>P.slice().reverse())}}function sort(_,{sort:R,...P}={}){return{...(isOptions(_)&&_.channel!==void 0?initializer:apply)(P,sortTransform(_)),sort:isDomainSort(R)?R:null}}function sortTransform(_){return(typeof _=="function"&&_.length!==1?sortData:sortValue)(_)}function sortData(_){return(R,P)=>{const O=isArray(R)?(I,L)=>_(R[I],R[L]):(I,L)=>_(R.get(I),R.get(L));return{data:R,facets:P.map(I=>I.slice().sort(O))}}}function sortValue(_){let R,P;({channel:R,value:_,order:P}={...maybeValue(_)});const O=R?.startsWith("-");if(O&&(R=R.slice(1)),P===void 0&&(P=O?descendingDefined:ascendingDefined),typeof P!="function")switch(`${P}`.toLowerCase()){case"ascending":P=ascendingDefined;break;case"descending":P=descendingDefined;break;default:throw new Error(`invalid order: ${P}`)}return(I,L,z)=>{let F;if(R===void 0)F=valueof(I,_);else{if(z===void 0)throw new Error("channel sort requires an initializer");if(F=z[R],!F)return{};F=F.value}const G=(V,Z)=>P(F[V],F[Z]);return{data:I,facets:L.map(V=>V.slice().sort(G))}}}function hasOutput(_,...R){for(const{name:P}of _)if(R.includes(P))return!0;return!1}function maybeOutputs(_,R,P=maybeOutput){const O=Object.entries(_);return R.title!=null&&_.title===void 0&&O.push(["title",reduceTitle]),R.href!=null&&_.href===void 0&&O.push(["href",reduceFirst]),O.filter(([,I])=>I!==void 0).map(([I,L])=>L===null?nullOutput(I):P(I,L,R))}function maybeOutput(_,R,P,O=maybeEvaluator){let I;isObject(R)&&"reduce"in R&&(I=R.scale,R=R.reduce);const L=O(_,R,P),[z,F]=column(L.label);let G;return{name:_,output:I===void 0?z:{value:z,scale:I},initialize(V){L.initialize(V),G=F([])},scope(V,Z){L.scope(V,Z)},reduce(V,Z){G.push(L.reduce(V,Z))}}}function nullOutput(_){return{name:_,initialize(){},scope(){},reduce(){}}}function maybeEvaluator(_,R,P,O=maybeReduce){const I=maybeInput(_,P),L=O(R,I);let z,F;return{label:labelof(L===reduceCount?null:I,L.label),initialize(G){z=I===void 0?G:valueof(G,I),L.scope==="data"&&(F=L.reduceIndex(range(G),z))},scope(G,V){L.scope===G&&(F=L.reduceIndex(V,z))},reduce(G,V){return L.scope==null?L.reduceIndex(G,z,V):L.reduceIndex(G,z,F,V)}}}function maybeGroup(_,R){return R?group(_,P=>R[P]):[[,_]]}function maybeReduce(_,R,P=invalidReduce){if(_==null)return P(_);if(typeof _.reduceIndex=="function")return _;if(typeof _.reduce=="function"&&isObject(_))return reduceReduce(_);if(typeof _=="function")return reduceFunction(_);if(/^p\d{2}$/i.test(_))return reduceAccessor(percentile(_));switch(`${_}`.toLowerCase()){case"first":return reduceFirst;case"last":return reduceLast;case"identity":return reduceIdentity;case"count":return reduceCount;case"distinct":return reduceDistinct;case"sum":return R==null?reduceCount:reduceSum;case"proportion":return reduceProportion(R,"data");case"proportion-facet":return reduceProportion(R,"facet");case"deviation":return reduceAccessor(deviation);case"min":return reduceAccessor(min$1);case"min-index":return reduceAccessor(minIndex);case"max":return reduceAccessor(max);case"max-index":return reduceAccessor(maxIndex);case"mean":return reduceMaybeTemporalAccessor(mean);case"median":return reduceMaybeTemporalAccessor(median);case"variance":return reduceAccessor(variance);case"mode":return reduceAccessor(mode)}return P(_)}function invalidReduce(_){throw new Error(`invalid reduce: ${_}`)}function maybeSubgroup(_,R){for(const P in R){const O=R[P];if(O!==void 0&&!_.some(I=>I.name===P))return O}}function maybeSort(_,R,P){if(R){const O=R.output.transform(),I=(L,z)=>ascendingDefined(O[L],O[z]);_.forEach(L=>L.sort(I))}P&&_.forEach(O=>O.reverse())}function reduceReduce(_){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{..._,reduceIndex:_.reduce.bind(_)}}function reduceFunction(_){return{reduceIndex(R,P,O){return _(take(P,R),O)}}}function reduceAccessor(_){return{reduceIndex(R,P){return _(R,O=>P[O])}}}function reduceMaybeTemporalAccessor(_){return{reduceIndex(R,P){const O=_(R,I=>P[I]);return isTemporal(P)?new Date(O):O}}}const reduceIdentity={reduceIndex(_,R){return take(R,_)}},reduceFirst={reduceIndex(_,R){return R[_[0]]}},reduceTitle={reduceIndex(_,R){const O=sort$1(rollup(_,L=>L.length,L=>R[L]),second),I=O.slice(-5).reverse();if(I.length<O.length){const L=O.slice(0,-4);I[4]=[` ${L.length.toLocaleString("en-US")} more`,sum(L,second)]}return I.map(([L,z])=>`${L} (${z.toLocaleString("en-US")})`).join(`
`)}},reduceLast={reduceIndex(_,R){return R[_[_.length-1]]}},reduceCount={label:"Frequency",reduceIndex(_){return _.length}},reduceDistinct={label:"Distinct",reduceIndex(_,R){const P=new InternSet;for(const O of _)P.add(R[O]);return P.size}},reduceSum=reduceAccessor(sum);function reduceProportion(_,R){return _==null?{scope:R,label:"Frequency",reduceIndex:(P,O,I=1)=>P.length/I}:{scope:R,reduceIndex:(P,O,I=1)=>sum(P,L=>O[L])/I}}const reduceZ={reduceIndex(_,R,{z:P}){return P}};function createChannel(_,{scale:R,type:P,value:O,filter:I,hint:L,label:z=labelof(O)},F){return L===void 0&&typeof O?.transform=="function"&&(L=O.hint),inferChannelScale(F,{scale:R,type:P,value:valueof(_,O),label:z,filter:I,hint:L})}function createChannels(_,R){return Object.fromEntries(Object.entries(_).map(([P,O])=>[P,createChannel(R,O,P)]))}function valueObject(_,R){const P=Object.fromEntries(Object.entries(_).map(([O,{scale:I,value:L}])=>{const z=I==null?null:R[I];return[O,z==null?L:map(L,z)]}));return P.channels=_,P}function inferChannelScale(_,R){const{scale:P,value:O}=R;if(P===!0||P==="auto")switch(_){case"fill":case"stroke":case"color":R.scale=P!==!0&&isEvery(O,isColor)?null:"color",R.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":R.scale=P!==!0&&isEvery(O,isOpacity)?null:"opacity",R.defaultScale="opacity";break;case"symbol":P!==!0&&isEvery(O,isSymbol)?(R.scale=null,R.value=map(O,maybeSymbol)):R.scale="symbol",R.defaultScale="symbol";break;default:R.scale=registry.has(_)?_:null;break}else if(P===!1)R.scale=null;else if(P!=null&&!registry.has(P))throw new Error(`unknown scale: ${P}`);return R}function channelDomain(_,R,P,O,I){const{order:L,reverse:z,reduce:F=!0,limit:G}=I;for(const V in I){if(!registry.has(V))continue;let{value:Z,order:Y=L,reverse:Q=z,reduce:J=F,limit:te=G}=maybeValue(I[V]);const ne=Z?.startsWith("-");if(ne&&(Z=Z.slice(1)),Y=Y===void 0?ne!==(Z==="width"||Z==="height")?descendingGroup:ascendingGroup:maybeOrder$1(Y),J==null||J===!1)continue;const ie=V==="fx"||V==="fy"?reindexFacetChannel(R,O[V]):findScaleChannel(P,V);if(!ie)throw new Error(`missing channel for scale: ${V}`);const se=ie.value,[oe=0,ce=1/0]=isIterable(te)?te:te<0?[te]:[0,te];if(Z==null)ie.domain=()=>{let ue=Array.from(new InternSet(se));return Q&&(ue=ue.reverse()),(oe!==0||ce!==1/0)&&(ue=ue.slice(oe,ce)),ue};else{const ue=Z==="data"?_:Z==="height"?difference(P,"y1","y2"):Z==="width"?difference(P,"x1","x2"):values(P,Z,Z==="y"?"y2":Z==="x"?"x2":void 0),me=maybeReduce(J===!0?"max":J,ue);ie.domain=()=>{let he=rollups(range(se),fe=>me.reduceIndex(fe,ue),fe=>se[fe]);return Y&&he.sort(Y),Q&&he.reverse(),(oe!==0||ce!==1/0)&&(he=he.slice(oe,ce)),he.map(first)}}}}function findScaleChannel(_,R){for(const P in _){const O=_[P];if(O.scale===R)return O}}function reindexFacetChannel(_,R){const P=_.original;if(P===_)return R;const O=R.value,I=R.value=[];for(let L=0;L<P.length;++L){const z=O[P[L][0]];for(const F of _[L])I[F]=z}return R}function difference(_,R,P){const O=values(_,R),I=values(_,P);return map(I,(L,z)=>Math.abs(L-O[z]),Float64Array)}function values(_,R,P){let O=_[R];if(!O&&P!==void 0&&(O=_[P]),O)return O.value;throw new Error(`missing channel: ${R}`)}function maybeOrder$1(_){if(_==null||typeof _=="function")return _;switch(`${_}`.toLowerCase()){case"ascending":return ascendingGroup;case"descending":return descendingGroup}throw new Error(`invalid order: ${_}`)}function ascendingGroup([_,R],[P,O]){return ascendingDefined(R,O)||ascendingDefined(_,P)}function descendingGroup([_,R],[P,O]){return descendingDefined(R,O)||ascendingDefined(_,P)}function getSource(_,R){let P=_[R];if(P){for(;P.source;)P=P.source;return P.source===null?null:P}}const categoricalSchemes=new Map([["accent",schemeAccent],["category10",schemeCategory10],["dark2",schemeDark2],["observable10",schemeObservable10],["paired",schemePaired],["pastel1",schemePastel1],["pastel2",schemePastel2],["set1",schemeSet1],["set2",schemeSet2],["set3",schemeSet3],["tableau10",schemeTableau10]]);function isCategoricalScheme(_){return _!=null&&categoricalSchemes.has(`${_}`.toLowerCase())}const ordinalSchemes=new Map([...categoricalSchemes,["brbg",scheme11(scheme$q,interpolateBrBG)],["prgn",scheme11(scheme$p,interpolatePRGn)],["piyg",scheme11(scheme$o,interpolatePiYG)],["puor",scheme11(scheme$n,interpolatePuOr)],["rdbu",scheme11(scheme$m,interpolateRdBu)],["rdgy",scheme11(scheme$l,interpolateRdGy)],["rdylbu",scheme11(scheme$k,interpolateRdYlBu)],["rdylgn",scheme11(scheme$j,interpolateRdYlGn)],["spectral",scheme11(scheme$i,interpolateSpectral)],["burd",scheme11r(scheme$m,interpolateRdBu)],["buylrd",scheme11r(scheme$k,interpolateRdYlBu)],["blues",scheme9(scheme$5,interpolateBlues)],["greens",scheme9(scheme$4,interpolateGreens)],["greys",scheme9(scheme$3,interpolateGreys)],["oranges",scheme9(scheme,interpolateOranges)],["purples",scheme9(scheme$2,interpolatePurples)],["reds",scheme9(scheme$1,interpolateReds)],["turbo",schemei(interpolateTurbo)],["viridis",schemei(interpolateViridis)],["magma",schemei(magma)],["inferno",schemei(inferno)],["plasma",schemei(plasma)],["cividis",schemei(interpolateCividis)],["cubehelix",schemei(interpolateCubehelixDefault)],["warm",schemei(warm)],["cool",schemei(cool)],["bugn",scheme9(scheme$h,interpolateBuGn)],["bupu",scheme9(scheme$g,interpolateBuPu)],["gnbu",scheme9(scheme$f,interpolateGnBu)],["orrd",scheme9(scheme$e,interpolateOrRd)],["pubu",scheme9(scheme$c,interpolatePuBu)],["pubugn",scheme9(scheme$d,interpolatePuBuGn)],["purd",scheme9(scheme$b,interpolatePuRd)],["rdpu",scheme9(scheme$a,interpolateRdPu)],["ylgn",scheme9(scheme$8,interpolateYlGn)],["ylgnbu",scheme9(scheme$9,interpolateYlGnBu)],["ylorbr",scheme9(scheme$7,interpolateYlOrBr)],["ylorrd",scheme9(scheme$6,interpolateYlOrRd)],["rainbow",schemeicyclical(interpolateRainbow)],["sinebow",schemeicyclical(interpolateSinebow)]]);function scheme9(_,R){return({length:P})=>P===1?[_[3][1]]:P===2?[_[3][1],_[3][2]]:(P=Math.max(3,Math.floor(P)),P>9?quantize(R,P):_[P])}function scheme11(_,R){return({length:P})=>P===2?[_[3][0],_[3][2]]:(P=Math.max(3,Math.floor(P)),P>11?quantize(R,P):_[P])}function scheme11r(_,R){return({length:P})=>P===2?[_[3][2],_[3][0]]:(P=Math.max(3,Math.floor(P)),P>11?quantize(O=>R(1-O),P):_[P].slice().reverse())}function schemei(_){return({length:R})=>quantize(_,Math.max(2,Math.floor(R)))}function schemeicyclical(_){return({length:R})=>quantize(_,Math.floor(R)+1).slice(0,-1)}function ordinalScheme(_){const R=`${_}`.toLowerCase();if(!ordinalSchemes.has(R))throw new Error(`unknown ordinal scheme: ${R}`);return ordinalSchemes.get(R)}function ordinalRange(_,R){const P=ordinalScheme(_),O=typeof P=="function"?P({length:R}):P;return O.length!==R?O.slice(0,R):O}function maybeBooleanRange(_,R="greys"){const P=new Set,[O,I]=ordinalRange(R,2);for(const L of _)if(L!=null)if(L===!0)P.add(I);else if(L===!1)P.add(O);else return;return[...P]}const quantitativeSchemes=new Map([["brbg",interpolateBrBG],["prgn",interpolatePRGn],["piyg",interpolatePiYG],["puor",interpolatePuOr],["rdbu",interpolateRdBu],["rdgy",interpolateRdGy],["rdylbu",interpolateRdYlBu],["rdylgn",interpolateRdYlGn],["spectral",interpolateSpectral],["burd",_=>interpolateRdBu(1-_)],["buylrd",_=>interpolateRdYlBu(1-_)],["blues",interpolateBlues],["greens",interpolateGreens],["greys",interpolateGreys],["purples",interpolatePurples],["reds",interpolateReds],["oranges",interpolateOranges],["turbo",interpolateTurbo],["viridis",interpolateViridis],["magma",magma],["inferno",inferno],["plasma",plasma],["cividis",interpolateCividis],["cubehelix",interpolateCubehelixDefault],["warm",warm],["cool",cool],["bugn",interpolateBuGn],["bupu",interpolateBuPu],["gnbu",interpolateGnBu],["orrd",interpolateOrRd],["pubugn",interpolatePuBuGn],["pubu",interpolatePuBu],["purd",interpolatePuRd],["rdpu",interpolateRdPu],["ylgnbu",interpolateYlGnBu],["ylgn",interpolateYlGn],["ylorbr",interpolateYlOrBr],["ylorrd",interpolateYlOrRd],["rainbow",interpolateRainbow],["sinebow",interpolateSinebow]]);function quantitativeScheme(_){const R=`${_}`.toLowerCase();if(!quantitativeSchemes.has(R))throw new Error(`unknown quantitative scheme: ${R}`);return quantitativeSchemes.get(R)}const divergingSchemes=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function isDivergingScheme(_){return _!=null&&divergingSchemes.has(`${_}`.toLowerCase())}const flip=_=>R=>_(1-R),unit=[0,1],interpolators=new Map([["number",interpolateNumber],["rgb",interpolateRgb],["hsl",interpolateHsl],["hcl",interpolateHcl],["lab",lab]]);function maybeInterpolator(_){const R=`${_}`.toLowerCase();if(!interpolators.has(R))throw new Error(`unknown interpolator: ${R}`);return interpolators.get(R)}function createScaleQ(_,R,P,{type:O,nice:I,clamp:L,zero:z,domain:F=inferAutoDomain(_,P),unknown:G,round:V,scheme:Z,interval:Y,range:Q=registry.get(_)===radius?inferRadialRange(P,F):registry.get(_)===length?inferLengthRange(P,F):registry.get(_)===opacity?unit:void 0,interpolate:J=registry.get(_)===color$1?Z==null&&Q!==void 0?interpolateRgb:quantitativeScheme(Z!==void 0?Z:O==="cyclical"?"rainbow":"turbo"):V?interpolateRound:interpolateNumber,reverse:te}){if(F=maybeRepeat(F),Y=maybeRangeInterval(Y,O),(O==="cyclical"||O==="sequential")&&(O="linear"),typeof J!="function"&&(J=maybeInterpolator(J)),te=!!te,Q!==void 0){const ne=F.length,ie=(Q=maybeRepeat(Q)).length;if(ne!==ie){if(J.length===1)throw new Error("invalid piecewise interpolator");J=piecewise(J,Q),Q=void 0}}if(J.length===1?(te&&(J=flip(J),te=!1),Q===void 0&&(Q=Float64Array.from(F,(ne,ie)=>ie/(F.length-1)),Q.length===2&&(Q=unit)),R.interpolate((Q===unit?constant:interpolatePiecewise)(J))):R.interpolate(J),z){const[ne,ie]=extent$1(F);(ne>0||ie<0)&&(F=slice(F),(orderof(F)||1)===Math.sign(ne)?F[0]=0:F[F.length-1]=0)}return te&&(F=reverse(F)),R.domain(F).unknown(G),I&&(R.nice(maybeNice(I,O)),F=R.domain()),Q!==void 0&&R.range(Q),L&&R.clamp(L),{type:O,domain:F,range:Q,scale:R,interpolate:J,interval:Y}}function maybeRepeat(_){return _=arrayify(_),_.length>=2?_:[_[0],_[0]]}function maybeNice(_,R){return _===!0?void 0:typeof _=="number"?_:maybeNiceInterval(_,R)}function createScaleLinear(_,R,P){return createScaleQ(_,linear(),R,P)}function createScaleSqrt(_,R,P){return createScalePow(_,R,{...P,exponent:.5})}function createScalePow(_,R,{exponent:P=1,...O}){return createScaleQ(_,pow().exponent(P),R,{...O,type:"pow"})}function createScaleLog(_,R,{base:P=10,domain:O=inferLogDomain(R),...I}){return createScaleQ(_,log().base(P),R,{...I,domain:O})}function createScaleSymlog(_,R,{constant:P=1,...O}){return createScaleQ(_,symlog().constant(P),R,O)}function createScaleQuantile(_,R,{range:P,quantiles:O=P===void 0?5:(P=[...P]).length,n:I=O,scheme:L="rdylbu",domain:z=inferQuantileDomain(R),unknown:F,interpolate:G,reverse:V}){return P===void 0&&(P=G!==void 0?quantize(G,I):registry.get(_)===color$1?ordinalRange(L,I):void 0),z.length>0&&(z=quantile(z,P===void 0?{length:I}:P).quantiles()),createScaleThreshold(_,R,{domain:z,range:P,reverse:V,unknown:F})}function createScaleQuantize(_,R,{range:P,n:O=P===void 0?5:(P=[...P]).length,scheme:I="rdylbu",domain:L=inferAutoDomain(_,R),unknown:z,interpolate:F,reverse:G}){const[V,Z]=extent$1(L);let Y;return P===void 0?(Y=ticks(V,Z,O),Y[0]<=V&&Y.splice(0,1),Y[Y.length-1]>=Z&&Y.pop(),O=Y.length+1,P=F!==void 0?quantize(F,O):registry.get(_)===color$1?ordinalRange(I,O):void 0):(Y=quantize(interpolateNumber(V,Z),O+1).slice(1,-1),V instanceof Date&&(Y=Y.map(Q=>new Date(Q)))),orderof(arrayify(L))<0&&Y.reverse(),createScaleThreshold(_,R,{domain:Y,range:P,reverse:G,unknown:z})}function createScaleThreshold(_,R,{domain:P=[0],unknown:O,scheme:I="rdylbu",interpolate:L,range:z=L!==void 0?quantize(L,P.length+1):registry.get(_)===color$1?ordinalRange(I,P.length+1):void 0,reverse:F}){P=arrayify(P);const G=orderof(P);if(!isNaN(G)&&!isOrdered(P,G))throw new Error(`the ${_} scale has a non-monotonic domain`);return F&&(z=reverse(z)),{type:"threshold",scale:threshold(G<0?reverse(P):P,z===void 0?[]:z).unknown(O),domain:P,range:z}}function isOrdered(_,R){for(let P=1,O=_.length,I=_[0];P<O;++P){const L=descending(I,I=_[P]);if(L!==0&&L!==R)return!1}return!0}function createScaleIdentity(_){return{type:"identity",scale:hasNumericRange(registry.get(_))?identity$2():R=>R}}function inferDomain$1(_,R=finite){return _.length?[min$1(_,({value:P})=>P===void 0?P:min$1(P,R)),max(_,({value:P})=>P===void 0?P:max(P,R))]:[0,1]}function inferAutoDomain(_,R){const P=registry.get(_);return(P===radius||P===opacity||P===length?inferZeroDomain:inferDomain$1)(R)}function inferZeroDomain(_){return[0,_.length?max(_,({value:R})=>R===void 0?R:max(R,finite)):1]}function inferRadialRange(_,R){const P=_.find(({radius:z})=>z!==void 0);if(P!==void 0)return[0,P.radius];const O=quantile$1(_,.5,({value:z})=>z===void 0?NaN:quantile$1(z,.25,positive)),I=R.map(z=>3*Math.sqrt(z/O)),L=30/max(I);return L<1?I.map(z=>z*L):I}function inferLengthRange(_,R){const P=median(_,({value:L})=>L===void 0?NaN:median(L,Math.abs)),O=R.map(L=>12*L/P),I=60/max(O);return I<1?O.map(L=>L*I):O}function inferLogDomain(_){for(const{value:R}of _)if(R!==void 0)for(let P of R){if(P>0)return inferDomain$1(_,positive);if(P<0)return inferDomain$1(_,negative)}return[1,10]}function inferQuantileDomain(_){const R=[];for(const{value:P}of _)if(P!==void 0)for(const O of P)R.push(O);return R}function interpolatePiecewise(_){return(R,P)=>O=>_(R+O*(P-R))}let warnings=0,lastMessage;function consumeWarnings(){const _=warnings;return warnings=0,lastMessage=void 0,_}function warn(_){_!==lastMessage&&(lastMessage=_,console.warn(_),++warnings)}function createScaleD(_,R,P,O,{type:I,nice:L,clamp:z,domain:F=inferDomain$1(O),unknown:G,pivot:V=0,scheme:Z,range:Y,symmetric:Q=!0,interpolate:J=registry.get(_)===color$1?Z==null&&Y!==void 0?interpolateRgb:quantitativeScheme(Z!==void 0?Z:"rdbu"):interpolateNumber,reverse:te}){V=+V,F=arrayify(F);let[ne,ie]=F;if(F.length>2&&warn(`Warning: the diverging ${_} scale domain contains extra elements.`),descending(ne,ie)<0&&([ne,ie]=[ie,ne],te=!te),ne=Math.min(ne,V),ie=Math.max(ie,V),typeof J!="function"&&(J=maybeInterpolator(J)),Y!==void 0&&(J=J.length===1?interpolatePiecewise(J)(...Y):piecewise(J,Y)),te&&(J=flip(J)),Q){const se=P.apply(V),oe=se-P.apply(ne),ce=P.apply(ie)-se;oe<ce?ne=P.invert(se-ce):oe>ce&&(ie=P.invert(se+oe))}return R.domain([ne,V,ie]).unknown(G).interpolator(J),z&&R.clamp(z),L&&R.nice(L),{type:I,domain:[ne,ie],pivot:V,interpolate:J,scale:R}}function createScaleDiverging(_,R,P){return createScaleD(_,diverging(),transformIdentity,R,P)}function createScaleDivergingSqrt(_,R,P){return createScaleDivergingPow(_,R,{...P,exponent:.5})}function createScaleDivergingPow(_,R,{exponent:P=1,...O}){return createScaleD(_,divergingPow().exponent(P=+P),transformPow(P),R,{...O,type:"diverging-pow"})}function createScaleDivergingLog(_,R,{base:P=10,pivot:O=1,domain:I=inferDomain$1(R,O<0?negative:positive),...L}){return createScaleD(_,divergingLog().base(P=+P),transformLog,R,{domain:I,pivot:O,...L})}function createScaleDivergingSymlog(_,R,{constant:P=1,...O}){return createScaleD(_,divergingSymlog().constant(P=+P),transformSymlog(P),R,O)}const transformIdentity={apply(_){return _},invert(_){return _}},transformLog={apply:Math.log,invert:Math.exp},transformSqrt={apply(_){return Math.sign(_)*Math.sqrt(Math.abs(_))},invert(_){return Math.sign(_)*(_*_)}};function transformPow(_){return _===.5?transformSqrt:{apply(R){return Math.sign(R)*Math.pow(Math.abs(R),_)},invert(R){return Math.sign(R)*Math.pow(Math.abs(R),1/_)}}}function transformSymlog(_){return{apply(R){return Math.sign(R)*Math.log1p(Math.abs(R/_))},invert(R){return Math.sign(R)*Math.expm1(Math.abs(R))*_}}}function createScaleT(_,R,P,O){return createScaleQ(_,R,P,O)}function createScaleTime(_,R,P){return createScaleT(_,time(),R,P)}function createScaleUtc(_,R,P){return createScaleT(_,utcTime(),R,P)}const ordinalImplicit=Symbol("ordinal");function createScaleO(_,R,P,{type:O,interval:I,domain:L,range:z,reverse:F,hint:G}){return I=maybeRangeInterval(I,O),L===void 0&&(L=inferDomain(P,I,_)),(O==="categorical"||O===ordinalImplicit)&&(O="ordinal"),F&&(L=reverse(L)),L=R.domain(L).domain(),z!==void 0&&(typeof z=="function"&&(z=z(L)),R.range(z)),{type:O,domain:L,range:z,scale:R,hint:G,interval:I}}function createScaleOrdinal(_,R,{type:P,interval:O,domain:I,range:L,scheme:z,unknown:F,...G}){O=maybeRangeInterval(O,P),I===void 0&&(I=inferDomain(R,O,_));let V;if(registry.get(_)===symbol)V=inferSymbolHint(R),L=L===void 0?inferSymbolRange(V):map(L,maybeSymbol);else if(registry.get(_)===color$1&&(L===void 0&&(P==="ordinal"||P===ordinalImplicit)&&(L=maybeBooleanRange(I,z),L!==void 0&&(z=void 0)),z===void 0&&L===void 0&&(z=P==="ordinal"?"turbo":"observable10"),z!==void 0))if(L!==void 0){const Z=quantitativeScheme(z),Y=L[0],Q=L[1]-L[0];L=({length:J})=>quantize(te=>Z(Y+Q*te),J)}else L=ordinalScheme(z);if(F===implicit)throw new Error(`implicit unknown on ${_} scale is not supported`);return createScaleO(_,ordinal().unknown(F),R,{...G,type:P,domain:I,range:L,hint:V})}function createScalePoint(_,R,{align:P=.5,padding:O=.5,...I}){return maybeRound(point$7().align(P).padding(O),R,I,_)}function createScaleBand(_,R,{align:P=.5,padding:O=.1,paddingInner:I=O,paddingOuter:L=_==="fx"||_==="fy"?0:O,...z}){return maybeRound(band().align(P).paddingInner(I).paddingOuter(L),R,z,_)}function maybeRound(_,R,P,O){let{round:I}=P;return I!==void 0&&_.round(I=!!I),_=createScaleO(O,_,R,P),_.round=I,_}function inferDomain(_,R,P){const O=new InternSet;for(const{value:I,domain:L}of _){if(L!==void 0)return L();if(I!==void 0)for(const z of I)O.add(z)}if(R!==void 0){const[I,L]=extent$1(O).map(R.floor,R);return R.range(I,R.offset(L))}if(O.size>1e4&&registry.get(P)===position$2)throw new Error(`implicit ordinal domain of ${P} scale has more than 10,000 values`);return sort$1(O,ascendingDefined)}function inferHint(_,R){let P;for(const{hint:O}of _){const I=O?.[R];if(I!==void 0){if(P===void 0)P=I;else if(P!==I)return}}return P}function inferSymbolHint(_){return{fill:inferHint(_,"fill"),stroke:inferHint(_,"stroke")}}function inferSymbolRange(_){return isNoneish(_.fill)?symbolsStroke:symbolsFill}function createScales(_,{label:R,inset:P=0,insetTop:O=P,insetRight:I=P,insetBottom:L=P,insetLeft:z=P,round:F,nice:G,clamp:V,zero:Z,align:Y,padding:Q,projection:J,facet:{label:te=R}={},...ne}={}){const ie={};for(const[se,oe]of _){const ce=ne[se],ue=createScale(se,oe,{round:registry.get(se)===position$2?F:void 0,nice:G,clamp:V,zero:Z,align:Y,padding:Q,projection:J,...ce});if(ue){let{label:me=se==="fx"||se==="fy"?te:R,percent:he,transform:fe,inset:de,insetTop:pe=de!==void 0?de:se==="y"?O:0,insetRight:be=de!==void 0?de:se==="x"?I:0,insetBottom:ye=de!==void 0?de:se==="y"?L:0,insetLeft:we=de!==void 0?de:se==="x"?z:0}=ce||{};if(fe==null)fe=void 0;else if(typeof fe!="function")throw new Error("invalid scale transform; not a function");ue.percent=!!he,ue.label=me===void 0?inferScaleLabel(oe,ue):me,ue.transform=fe,se==="x"||se==="fx"?(ue.insetLeft=+we,ue.insetRight=+be):(se==="y"||se==="fy")&&(ue.insetTop=+pe,ue.insetBottom=+ye),ie[se]=ue}}return ie}function createScaleFunctions(_){const R={},P={scales:R};for(const[O,I]of Object.entries(_)){const{scale:L,type:z,interval:F,label:G}=I;R[O]=exposeScale(I),P[O]=L,L.type=z,F!=null&&(L.interval=F),G!=null&&(L.label=G)}return P}function autoScaleRange(_,R){const{x:P,y:O,fx:I,fy:L}=_,z=I||L?outerDimensions(R):R;I&&autoScaleRangeX(I,z),L&&autoScaleRangeY(L,z);const F=I||L?innerDimensions(_,R):R;P&&autoScaleRangeX(P,F),O&&autoScaleRangeY(O,F)}function inferScaleLabel(_=[],R){let P;for(const{label:O}of _)if(O!==void 0){if(P===void 0)P=O;else if(P!==O)return}if(P!==void 0)return!isOrdinalScale(R)&&R.percent&&(P=`${P} (%)`),{inferred:!0,toString:()=>P}}function inferScaleOrder(_){return Math.sign(orderof(_.domain()))*Math.sign(orderof(_.range()))}function outerDimensions(_){const{marginTop:R,marginRight:P,marginBottom:O,marginLeft:I,width:L,height:z,facet:{marginTop:F,marginRight:G,marginBottom:V,marginLeft:Z}}=_;return{marginTop:Math.max(R,F),marginRight:Math.max(P,G),marginBottom:Math.max(O,V),marginLeft:Math.max(I,Z),width:L,height:z}}function innerDimensions({fx:_,fy:R},P){const{marginTop:O,marginRight:I,marginBottom:L,marginLeft:z,width:F,height:G}=outerDimensions(P);return{marginTop:O,marginRight:I,marginBottom:L,marginLeft:z,width:_?_.scale.bandwidth()+z+I:F,height:R?R.scale.bandwidth()+O+L:G,facet:{width:F,height:G}}}function autoScaleRangeX(_,R){if(_.range===void 0){const{insetLeft:P,insetRight:O}=_,{width:I,marginLeft:L=0,marginRight:z=0}=R,F=L+P,G=I-z-O;_.range=[F,Math.max(F,G)],isOrdinalScale(_)||(_.range=piecewiseRange(_)),_.scale.range(_.range)}autoScaleRound(_)}function autoScaleRangeY(_,R){if(_.range===void 0){const{insetTop:P,insetBottom:O}=_,{height:I,marginTop:L=0,marginBottom:z=0}=R,F=L+P,G=I-z-O;_.range=[Math.max(F,G),F],isOrdinalScale(_)?_.range.reverse():_.range=piecewiseRange(_),_.scale.range(_.range)}autoScaleRound(_)}function autoScaleRound(_){_.round===void 0&&isBandScale(_)&&roundError(_)<=30&&_.scale.round(!0)}function roundError({scale:_}){const R=_.domain().length,[P,O]=_.range(),I=_.paddingInner?_.paddingInner():1,L=_.paddingOuter?_.paddingOuter():_.padding(),z=R-I,F=Math.abs(O-P)/Math.max(1,z+L*2);return(F-Math.floor(F))*z}function piecewiseRange(_){const R=_.scale.domain().length+isThresholdScale(_);if(!(R>2))return _.range;const[P,O]=_.range;return Array.from({length:R},(I,L)=>P+L/(R-1)*(O-P))}function createScale(_,R=[],P={}){const O=inferScaleType(_,R,P);if(P.type===void 0&&P.domain===void 0&&P.range===void 0&&P.interval==null&&_!=="fx"&&_!=="fy"&&isOrdinalScale({type:O})){const I=R.map(({value:L})=>L).filter(L=>L!==void 0);I.some(isTemporal)?warn(`Warning: some data associated with the ${_} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${formatScaleType(O)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${_} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${_} scale to "${formatScaleType(O)}".`):I.some(isTemporalString)?warn(`Warning: some data associated with the ${_} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${formatScaleType(O)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${_} scale to "${formatScaleType(O)}".`):I.some(isNumericString)&&warn(`Warning: some data associated with the ${_} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${formatScaleType(O)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${_} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${_} scale to "${formatScaleType(O)}".`)}switch(P.type=O,O){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":P=coerceType(R,P,coerceNumbers);break;case"identity":switch(registry.get(_)){case position$2:P=coerceType(R,P,coerceNumbers);break;case symbol:P=coerceType(R,P,coerceSymbols);break}break;case"utc":case"time":P=coerceType(R,P,coerceDates);break}switch(O){case"diverging":return createScaleDiverging(_,R,P);case"diverging-sqrt":return createScaleDivergingSqrt(_,R,P);case"diverging-pow":return createScaleDivergingPow(_,R,P);case"diverging-log":return createScaleDivergingLog(_,R,P);case"diverging-symlog":return createScaleDivergingSymlog(_,R,P);case"categorical":case"ordinal":case ordinalImplicit:return createScaleOrdinal(_,R,P);case"cyclical":case"sequential":case"linear":return createScaleLinear(_,R,P);case"sqrt":return createScaleSqrt(_,R,P);case"threshold":return createScaleThreshold(_,R,P);case"quantile":return createScaleQuantile(_,R,P);case"quantize":return createScaleQuantize(_,R,P);case"pow":return createScalePow(_,R,P);case"log":return createScaleLog(_,R,P);case"symlog":return createScaleSymlog(_,R,P);case"utc":return createScaleUtc(_,R,P);case"time":return createScaleTime(_,R,P);case"point":return createScalePoint(_,R,P);case"band":return createScaleBand(_,R,P);case"identity":return createScaleIdentity(_);case void 0:return;default:throw new Error(`unknown scale type: ${O}`)}}function formatScaleType(_){return typeof _=="symbol"?_.description:_}function maybeScaleType(_){return typeof _=="string"?`${_}`.toLowerCase():_}const typeProjection={toString:()=>"projection"};function inferScaleType(_,R,{type:P,domain:O,range:I,scheme:L,pivot:z,projection:F}){if(P=maybeScaleType(P),_==="fx"||_==="fy")return"band";(_==="x"||_==="y")&&F!=null&&(P=typeProjection);for(const Z of R){const Y=maybeScaleType(Z.type);if(Y!==void 0){if(P===void 0)P=Y;else if(P!==Y)throw new Error(`scale incompatible with channel: ${P} !== ${Y}`)}}if(P===typeProjection)return;if(P!==void 0)return P;if(O===void 0&&!R.some(({value:Z})=>Z!==void 0))return;const G=registry.get(_);if(G===radius)return"sqrt";if(G===opacity||G===length)return"linear";if(G===symbol)return"ordinal";const V=(O??I)?.length;if(V<2||V>2)return asOrdinalType(G);if(O!==void 0){if(isOrdinal(O))return asOrdinalType(G);if(isTemporal(O))return"utc"}else{const Z=R.map(({value:Y})=>Y).filter(Y=>Y!==void 0);if(Z.some(isOrdinal))return asOrdinalType(G);if(Z.some(isTemporal))return"utc"}if(G===color$1){if(z!=null||isDivergingScheme(L))return"diverging";if(isCategoricalScheme(L))return"categorical"}return"linear"}function asOrdinalType(_){switch(_){case position$2:return"point";case color$1:return ordinalImplicit;default:return"ordinal"}}function isOrdinalScale({type:_}){return _==="ordinal"||_==="point"||_==="band"||_===ordinalImplicit}function isThresholdScale({type:_}){return _==="threshold"}function isBandScale({type:_}){return _==="point"||_==="band"}function isCollapsed(_){if(_===void 0)return!0;const R=_.domain(),P=_(R[0]);for(let O=1,I=R.length;O<I;++O)if(_(R[O])-P)return!1;return!0}function coerceType(_,{domain:R,...P},O){for(const I of _)I.value!==void 0&&(R===void 0&&(R=I.value?.domain),I.value=O(I.value));return{domain:R===void 0?R:O(R),...P}}function coerceSymbols(_){return map(_,maybeSymbol)}function exposeScales(_){return R=>{if(!registry.has(R=`${R}`))throw new Error(`unknown scale: ${R}`);return _[R]}}function exposeScale({scale:_,type:R,domain:P,range:O,interpolate:I,interval:L,transform:z,percent:F,pivot:G}){if(R==="identity")return{type:"identity",apply:Z=>Z,invert:Z=>Z};const V=_.unknown?_.unknown():void 0;return{type:R,domain:slice(P),...O!==void 0&&{range:slice(O)},...z!==void 0&&{transform:z},...F&&{percent:F},...V!==void 0&&{unknown:V},...L!==void 0&&{interval:L},...I!==void 0&&{interpolate:I},..._.clamp&&{clamp:_.clamp()},...G!==void 0&&{pivot:G,symmetric:!1},..._.base&&{base:_.base()},..._.exponent&&{exponent:_.exponent()},..._.constant&&{constant:_.constant()},..._.align&&{align:_.align(),round:_.round()},..._.padding&&(_.paddingInner?{paddingInner:_.paddingInner(),paddingOuter:_.paddingOuter()}:{padding:_.padding()}),..._.bandwidth&&{bandwidth:_.bandwidth(),step:_.step()},apply:Z=>_(Z),..._.invert&&{invert:Z=>_.invert(Z)}}}function createFacets(_,R){const{fx:P,fy:O}=createScales(_,R),I=P?.scale.domain(),L=O?.scale.domain();return I&&L?cross(I,L).map(([z,F],G)=>({x:z,y:F,i:G})):I?I.map((z,F)=>({x:z,i:F})):L?L.map((z,F)=>({y:z,i:F})):void 0}function recreateFacets(_,{x:R,y:P}){return R&&=facetIndex(R),P&&=facetIndex(P),_.filter(R&&P?O=>R.has(O.x)&&P.has(O.y):R?O=>R.has(O.x):O=>P.has(O.y)).sort(R&&P?(O,I)=>R.get(O.x)-R.get(I.x)||P.get(O.y)-P.get(I.y):R?(O,I)=>R.get(O.x)-R.get(I.x):(O,I)=>P.get(O.y)-P.get(I.y))}function facetGroups(_,{fx:R,fy:P}){const O=range(_),I=R?.value,L=P?.value;return R&&P?rollup(O,z=>(z.fx=I[z[0]],z.fy=L[z[0]],z),z=>I[z],z=>L[z]):R?rollup(O,z=>(z.fx=I[z[0]],z),z=>I[z]):rollup(O,z=>(z.fy=L[z[0]],z),z=>L[z])}function facetTranslator(_,R,{marginTop:P,marginLeft:O}){const I=_?({x:z})=>_(z)-O:()=>0,L=R?({y:z})=>R(z)-P:()=>0;return function(z){this.tagName==="svg"?(this.setAttribute("x",I(z)),this.setAttribute("y",L(z))):this.setAttribute("transform",`translate(${I(z)},${L(z)})`)}}function facetExclude(_){const R=[],P=new Uint32Array(sum(_,O=>O.length));for(const O of _){let I=0;for(const L of _)O!==L&&(P.set(L,I),I+=L.length);R.push(P.slice(0,I))}return R}const facetAnchors=new Map([["top",facetAnchorTop],["right",facetAnchorRight],["bottom",facetAnchorBottom],["left",facetAnchorLeft],["top-left",and(facetAnchorTop,facetAnchorLeft)],["top-right",and(facetAnchorTop,facetAnchorRight)],["bottom-left",and(facetAnchorBottom,facetAnchorLeft)],["bottom-right",and(facetAnchorBottom,facetAnchorRight)],["top-empty",facetAnchorTopEmpty],["right-empty",facetAnchorRightEmpty],["bottom-empty",facetAnchorBottomEmpty],["left-empty",facetAnchorLeftEmpty],["empty",facetAnchorEmpty]]);function maybeFacetAnchor(_){if(_==null)return null;const R=facetAnchors.get(`${_}`.toLowerCase());if(R)return R;throw new Error(`invalid facet anchor: ${_}`)}const indexCache=new WeakMap;function facetIndex(_){let R=indexCache.get(_);return R||indexCache.set(_,R=new InternMap(map(_,(P,O)=>[P,O]))),R}function facetIndexOf(_,R){return facetIndex(_).get(R)}function facetFind(_,R,P){return R=keyof(R),P=keyof(P),_.find(O=>Object.is(keyof(O.x),R)&&Object.is(keyof(O.y),P))}function facetEmpty(_,R,P){return facetFind(_,R,P)?.empty}function facetAnchorTop(_,{y:R},{y:P}){return R?facetIndexOf(R,P)===0:!0}function facetAnchorBottom(_,{y:R},{y:P}){return R?facetIndexOf(R,P)===R.length-1:!0}function facetAnchorLeft(_,{x:R},{x:P}){return R?facetIndexOf(R,P)===0:!0}function facetAnchorRight(_,{x:R},{x:P}){return R?facetIndexOf(R,P)===R.length-1:!0}function facetAnchorTopEmpty(_,{y:R},{x:P,y:O,empty:I}){if(I)return!1;if(!R)return;const L=facetIndexOf(R,O);if(L>0)return facetEmpty(_,P,R[L-1])}function facetAnchorBottomEmpty(_,{y:R},{x:P,y:O,empty:I}){if(I)return!1;if(!R)return;const L=facetIndexOf(R,O);if(L<R.length-1)return facetEmpty(_,P,R[L+1])}function facetAnchorLeftEmpty(_,{x:R},{x:P,y:O,empty:I}){if(I)return!1;if(!R)return;const L=facetIndexOf(R,P);if(L>0)return facetEmpty(_,R[L-1],O)}function facetAnchorRightEmpty(_,{x:R},{x:P,y:O,empty:I}){if(I)return!1;if(!R)return;const L=facetIndexOf(R,P);if(L<R.length-1)return facetEmpty(_,R[L+1],O)}function facetAnchorEmpty(_,R,{empty:P}){return P}function and(_,R){return function(){return _.apply(null,arguments)&&R.apply(null,arguments)}}function facetFilter(_,{channels:{fx:R,fy:P},groups:O}){return R&&P?_.map(({x:I,y:L})=>O.get(I)?.get(L)??[]):R?_.map(({x:I})=>O.get(I)??[]):_.map(({y:I})=>O.get(I)??[])}const pi=Math.PI,tau=2*pi,defaultAspectRatio=.618;function createProjection({projection:_,inset:R=0,insetTop:P=R,insetRight:O=R,insetBottom:I=R,insetLeft:L=R}={},z){if(_==null)return;if(typeof _.stream=="function")return _;let F,G,V="frame";if(isObject(_)){let me;if({type:_,domain:G,inset:me,insetTop:P=me!==void 0?me:P,insetRight:O=me!==void 0?me:O,insetBottom:I=me!==void 0?me:I,insetLeft:L=me!==void 0?me:L,clip:V=V,...F}=_,_==null)return}typeof _!="function"&&({type:_}=namedProjection(_));const{width:Z,height:Y,marginLeft:Q,marginRight:J,marginTop:te,marginBottom:ne}=z,ie=Z-Q-J-L-O,se=Y-te-ne-P-I;if(_=_?.({width:ie,height:se,clip:V,...F}),_==null)return;V=maybePostClip(V,Q,te,Z-J,Y-ne);let oe=Q+L,ce=te+P,ue;if(G!=null){const[[me,he],[fe,de]]=geoPath(_).bounds(G),pe=Math.min(ie/(fe-me),se/(de-he));pe>0?(oe-=(pe*(me+fe)-ie)/2,ce-=(pe*(he+de)-se)/2,ue=geoTransform({point(be,ye){this.stream.point(be*pe+oe,ye*pe+ce)}})):warn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return ue??=oe===0&&ce===0?identity():geoTransform({point(me,he){this.stream.point(me+oe,he+ce)}}),{stream:me=>_.stream(ue.stream(V(me)))}}function namedProjection(_){switch(`${_}`.toLowerCase()){case"albers-usa":return scaleProjection(geoAlbersUsa,.7463,.4673);case"albers":return conicProjection(geoAlbers,.7463,.4673);case"azimuthal-equal-area":return scaleProjection(geoAzimuthalEqualArea,4,4);case"azimuthal-equidistant":return scaleProjection(geoAzimuthalEquidistant,tau,tau);case"conic-conformal":return conicProjection(geoConicConformal,tau,tau);case"conic-equal-area":return conicProjection(geoConicEqualArea,6.1702,2.9781);case"conic-equidistant":return conicProjection(geoConicEquidistant,7.312,3.6282);case"equal-earth":return scaleProjection(geoEqualEarth,5.4133,2.6347);case"equirectangular":return scaleProjection(geoEquirectangular,tau,pi);case"gnomonic":return scaleProjection(geoGnomonic,3.4641,3.4641);case"identity":return{type:identity};case"reflect-y":return{type:reflectY};case"mercator":return scaleProjection(geoMercator,tau,tau);case"orthographic":return scaleProjection(geoOrthographic,2,2);case"stereographic":return scaleProjection(geoStereographic,2,2);case"transverse-mercator":return scaleProjection(geoTransverseMercator,tau,tau);default:throw new Error(`unknown projection type: ${_}`)}}function maybePostClip(_,R,P,O,I){if(_===!1||_==null||typeof _=="number")return L=>L;if(_===!0&&(_="frame"),`${_}`.toLowerCase()==="frame")return clipRectangle(R,P,O,I);throw new Error(`unknown projection clip type: ${_}`)}function scaleProjection(_,R,P){return{type:({width:O,height:I,rotate:L,precision:z=.15,clip:F})=>{const G=_();return z!=null&&G.precision?.(z),L!=null&&G.rotate?.(L),typeof F=="number"&&G.clipAngle?.(F),O!=null&&(G.scale(Math.min(O/R,I/P)),G.translate([O/2,I/2])),G},aspectRatio:P/R}}function conicProjection(_,R,P){const{type:O,aspectRatio:I}=scaleProjection(_,R,P);return{type:L=>{const{parallels:z,domain:F,width:G,height:V}=L,Z=O(L);return z!=null&&(Z.parallels(z),F===void 0&&G!=null&&Z.fitSize([G,V],{type:"Sphere"})),Z},aspectRatio:I}}const identity=constant({stream:_=>_}),reflectY=constant(geoTransform({point(_,R){this.stream.point(_,-R)}}));function project(_,R,P,O){const I=P[_],L=P[R],z=I.length,F=P[_]=new Float64Array(z).fill(NaN),G=P[R]=new Float64Array(z).fill(NaN);let V;const Z=O.stream({point(Y,Q){F[V]=Y,G[V]=Q}});for(V=0;V<z;++V)Z.point(I[V],L[V])}function hasProjection({projection:_}={}){return _==null?!1:typeof _.stream=="function"?!0:(isObject(_)&&(_=_.type),_!=null)}function projectionAspectRatio(_){if(typeof _?.stream=="function")return defaultAspectRatio;if(isObject(_)){let R,P;if({domain:R,type:_,...P}=_,R!=null&&_!=null){const O=typeof _=="string"?namedProjection(_).type:_,[[I,L],[z,F]]=geoPath(O({...P,width:100,height:100})).bounds(R),G=(F-L)/(z-I);return G&&isFinite(G)?G<.2?.2:G>5?5:G:defaultAspectRatio}}if(_!=null){if(typeof _!="function"){const{aspectRatio:R}=namedProjection(_);if(R)return R}return defaultAspectRatio}}function getGeometryChannels(_){const R=[],P=[],O={scale:"x",value:R},I={scale:"y",value:P},L={point(z,F){R.push(z),P.push(F)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const z of _.value)geoStream(z,L);return[O,I]}function xyProjection({x:_,y:R}){if(_||R)return _??=P=>P,R??=P=>P,geoTransform({point(P,O){this.stream.point(_(P),R(O))}})}function createContext(_={}){const{document:R=typeof window<"u"?window.document:void 0,clip:P}=_;return{document:R,clip:maybeClip(P)}}function create$1(_,{document:R}){return select(creator(_).call(R.documentElement))}const unset=Symbol("unset");function memoize1(_){return(_.length===1?memoize1Arg:memoize1Args)(_)}function memoize1Arg(_){let R,P=unset;return O=>(Object.is(P,O)||(P=O,R=_(O)),R)}function memoize1Args(_){let R,P;return(...O)=>((P?.length!==O.length||P.some((I,L)=>!Object.is(I,O[L])))&&(P=O,R=_(...O)),R)}const numberFormat=memoize1(_=>new Intl.NumberFormat(_));memoize1((_,R)=>new Intl.DateTimeFormat(_,{timeZone:"UTC",...R&&{month:R}}));memoize1((_,R)=>new Intl.DateTimeFormat(_,{timeZone:"UTC",...R&&{weekday:R}}));function formatNumber(_="en-US"){const R=numberFormat(_);return P=>P!=null&&!isNaN(P)?R.format(P):void 0}function formatIsoDate(_){return format(_,"Invalid Date")}function formatAuto(_="en-US"){const R=formatNumber(_);return P=>(P instanceof Date?formatIsoDate:typeof P=="number"?R:string$2)(P)}const formatDefault=formatAuto(),offset=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let nextClipId=0;function getClipId(){return`plot-clip-${++nextClipId}`}function styles$1(_,{title:R,href:P,ariaLabel:O,ariaDescription:I,ariaHidden:L,target:z,fill:F,fillOpacity:G,stroke:V,strokeWidth:Z,strokeOpacity:Y,strokeLinejoin:Q,strokeLinecap:J,strokeMiterlimit:te,strokeDasharray:ne,strokeDashoffset:ie,opacity:se,mixBlendMode:oe,imageFilter:ce,paintOrder:ue,pointerEvents:me,shapeRendering:he,channels:fe},{ariaLabel:de,fill:pe="currentColor",fillOpacity:be,stroke:ye="none",strokeOpacity:we,strokeWidth:ve,strokeLinecap:Ae,strokeLinejoin:Ce,strokeMiterlimit:_e,paintOrder:Re}){pe===null&&(F=null,G=null),ye===null&&(V=null,Y=null),isNoneish(pe)?!isNoneish(ye)&&(!isNoneish(F)||fe?.fill)&&(ye="none"):isNoneish(ye)&&(!isNoneish(V)||fe?.stroke)&&(pe="none");const[Me,$e]=maybeColorChannel(F,pe),[Se,Ee]=maybeNumberChannel(G,be),[ke,xe]=maybeColorChannel(V,ye),[ze,Ze]=maybeNumberChannel(Y,we),[Ye,Ie]=maybeNumberChannel(se);isNone(xe)||(Z===void 0&&(Z=ve),J===void 0&&(J=Ae),Q===void 0&&(Q=Ce),te===void 0&&!isRound(Q)&&(te=_e),!isNone($e)&&ue===void 0&&(ue=Re));const[Ge,Oe]=maybeNumberChannel(Z);return pe!==null&&(_.fill=impliedString($e,"currentColor"),_.fillOpacity=impliedNumber(Ee,1)),ye!==null&&(_.stroke=impliedString(xe,"none"),_.strokeWidth=impliedNumber(Oe,1),_.strokeOpacity=impliedNumber(Ze,1),_.strokeLinejoin=impliedString(Q,"miter"),_.strokeLinecap=impliedString(J,"butt"),_.strokeMiterlimit=impliedNumber(te,4),_.strokeDasharray=impliedString(ne,"none"),_.strokeDashoffset=impliedString(ie,"0")),_.target=string$2(z),_.ariaLabel=string$2(de),_.ariaDescription=string$2(I),_.ariaHidden=string$2(L),_.opacity=impliedNumber(Ie,1),_.mixBlendMode=impliedString(oe,"normal"),_.imageFilter=impliedString(ce,"none"),_.paintOrder=impliedString(ue,"normal"),_.pointerEvents=impliedString(me,"auto"),_.shapeRendering=impliedString(he,"auto"),{title:{value:R,optional:!0,filter:null},href:{value:P,optional:!0,filter:null},ariaLabel:{value:O,optional:!0,filter:null},fill:{value:Me,scale:"auto",optional:!0},fillOpacity:{value:Se,scale:"auto",optional:!0},stroke:{value:ke,scale:"auto",optional:!0},strokeOpacity:{value:ze,scale:"auto",optional:!0},strokeWidth:{value:Ge,optional:!0},opacity:{value:Ye,scale:"auto",optional:!0}}}function applyTitle(_,R){R&&_.filter(P=>nonempty(R[P])).append("title").call(applyText,R)}function applyTitleGroup(_,R){R&&_.filter(([P])=>nonempty(R[P])).append("title").call(applyTextGroup,R)}function applyText(_,R){R&&_.text(P=>formatDefault(R[P]))}function applyTextGroup(_,R){R&&_.text(([P])=>formatDefault(R[P]))}function applyChannelStyles(_,{target:R,tip:P},{ariaLabel:O,title:I,fill:L,fillOpacity:z,stroke:F,strokeOpacity:G,strokeWidth:V,opacity:Z,href:Y}){O&&applyAttr(_,"aria-label",Q=>O[Q]),L&&applyAttr(_,"fill",Q=>L[Q]),z&&applyAttr(_,"fill-opacity",Q=>z[Q]),F&&applyAttr(_,"stroke",Q=>F[Q]),G&&applyAttr(_,"stroke-opacity",Q=>G[Q]),V&&applyAttr(_,"stroke-width",Q=>V[Q]),Z&&applyAttr(_,"opacity",Q=>Z[Q]),Y&&applyHref(_,Q=>Y[Q],R),P||applyTitle(_,I)}function applyGroupedChannelStyles(_,{target:R,tip:P},{ariaLabel:O,title:I,fill:L,fillOpacity:z,stroke:F,strokeOpacity:G,strokeWidth:V,opacity:Z,href:Y}){O&&applyAttr(_,"aria-label",([Q])=>O[Q]),L&&applyAttr(_,"fill",([Q])=>L[Q]),z&&applyAttr(_,"fill-opacity",([Q])=>z[Q]),F&&applyAttr(_,"stroke",([Q])=>F[Q]),G&&applyAttr(_,"stroke-opacity",([Q])=>G[Q]),V&&applyAttr(_,"stroke-width",([Q])=>V[Q]),Z&&applyAttr(_,"opacity",([Q])=>Z[Q]),Y&&applyHref(_,([Q])=>Y[Q],R),P||applyTitleGroup(_,I)}function groupAesthetics({ariaLabel:_,title:R,fill:P,fillOpacity:O,stroke:I,strokeOpacity:L,strokeWidth:z,opacity:F,href:G},{tip:V}){return[_,V?void 0:R,P,O,I,L,z,F,G].filter(Z=>Z!==void 0)}function groupZ(_,R,P){const O=group(_,I=>R[I]);return P===void 0&&O.size>1+_.length>>1&&warn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),O.values()}function*groupIndex(_,R,P,O){const{z:I}=P,{z:L}=O,z=groupAesthetics(O,P),F=[...R,...z];for(const G of L?groupZ(_,L,I):[_]){let V,Z;e:for(const Y of G){for(const Q of F)if(!defined(Q[Y])){Z&&Z.push(-1);continue e}if(V===void 0){Z&&(yield Z),V=z.map(Q=>keyof(Q[Y])),Z=[Y];continue}Z.push(Y);for(let Q=0;Q<z.length;++Q)if(keyof(z[Q][Y])!==V[Q]){yield Z,V=z.map(te=>keyof(te[Y])),Z=[Y];continue e}}Z&&(yield Z)}}function applyClip(_,R,P,O){let I;const{clip:L=O.clip}=R;L==="frame"?(_=create$1("svg:g",O).each(function(){this.appendChild(_.node()),_.node=()=>this}),I=getFrameClip(O,P)):L&&(I=getGeoClip(L,O)),applyAttr(_,"aria-label",R.ariaLabel),applyAttr(_,"aria-description",R.ariaDescription),applyAttr(_,"aria-hidden",R.ariaHidden),applyAttr(_,"clip-path",I)}function memoizeClip(_){const R=new WeakMap;return(P,O)=>{let I=R.get(P);if(!I){const L=getClipId();select(P.ownerSVGElement).append("clipPath").attr("id",L).call(_,P,O),R.set(P,I=`url(#${L})`)}return I}}const getFrameClip=memoizeClip((_,R,P)=>{const{width:O,height:I,marginLeft:L,marginRight:z,marginTop:F,marginBottom:G}=P;_.append("rect").attr("x",L).attr("y",F).attr("width",O-z-L).attr("height",I-F-G)}),geoClipCache=new WeakMap,sphere={type:"Sphere"};function getGeoClip(_,R){let P,O;if((P=geoClipCache.get(R))||geoClipCache.set(R,P=new WeakMap),_.type==="Sphere"&&(_=sphere),!(O=P.get(_))){const I=getClipId();select(R.ownerSVGElement).append("clipPath").attr("id",I).append("path").attr("d",R.path()(_)),P.set(_,O=`url(#${I})`)}return O}function applyIndirectStyles(_,R,P,O){applyClip(_,R,P,O),applyAttr(_,"class",R.className),applyAttr(_,"fill",R.fill),applyAttr(_,"fill-opacity",R.fillOpacity),applyAttr(_,"stroke",R.stroke),applyAttr(_,"stroke-width",R.strokeWidth),applyAttr(_,"stroke-opacity",R.strokeOpacity),applyAttr(_,"stroke-linejoin",R.strokeLinejoin),applyAttr(_,"stroke-linecap",R.strokeLinecap),applyAttr(_,"stroke-miterlimit",R.strokeMiterlimit),applyAttr(_,"stroke-dasharray",R.strokeDasharray),applyAttr(_,"stroke-dashoffset",R.strokeDashoffset),applyAttr(_,"shape-rendering",R.shapeRendering),applyAttr(_,"filter",R.imageFilter),applyAttr(_,"paint-order",R.paintOrder);const{pointerEvents:I=O.pointerSticky===!1?"none":void 0}=R;applyAttr(_,"pointer-events",I)}function applyDirectStyles(_,R){applyStyle(_,"mix-blend-mode",R.mixBlendMode),applyAttr(_,"opacity",R.opacity)}function applyHref(_,R,P){_.each(function(O){const I=R(O);if(I!=null){const L=this.ownerDocument.createElementNS(namespaces.svg,"a");L.setAttribute("fill","inherit"),L.setAttributeNS(namespaces.xlink,"href",I),P!=null&&L.setAttribute("target",P),this.parentNode.insertBefore(L,this).appendChild(this)}})}function applyAttr(_,R,P){P!=null&&_.attr(R,P)}function applyStyle(_,R,P){P!=null&&_.style(R,P)}function applyTransform(_,R,{x:P,y:O},I=offset,L=offset){I+=R.dx,L+=R.dy,P?.bandwidth&&(I+=P.bandwidth()/2),O?.bandwidth&&(L+=O.bandwidth()/2),(I||L)&&_.attr("transform",`translate(${I},${L})`)}function impliedString(_,R){if((_=string$2(_))!==R)return _}function impliedNumber(_,R){if((_=number$1(_))!==R)return _}const validClassName=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function maybeClassName(_){if(_===void 0)return"plot-d6a7b5";if(_=`${_}`,!validClassName.test(_))throw new Error(`invalid class name: ${_}`);return _}function applyInlineStyles(_,R){if(typeof R=="string")_.property("style",R);else if(R!=null)for(const P of _)Object.assign(P.style,R)}function applyFrameAnchor({frameAnchor:_},{width:R,height:P,marginTop:O,marginRight:I,marginBottom:L,marginLeft:z}){return[/left$/.test(_)?z:/right$/.test(_)?R-I:(z+R-I)/2,/^top/.test(_)?O:/^bottom/.test(_)?P-L:(O+P-L)/2]}class Mark{constructor(R,P={},O={},I){const{facet:L="auto",facetAnchor:z,fx:F,fy:G,sort:V,dx:Z=0,dy:Y=0,margin:Q=0,marginTop:J=Q,marginRight:te=Q,marginBottom:ne=Q,marginLeft:ie=Q,className:se,clip:oe=I?.clip,channels:ce,tip:ue,render:me}=O;if(this.data=R,this.sort=isDomainSort(V)?V:null,this.initializer=initializer(O).initializer,this.transform=this.initializer?O.transform:basic(O).transform,L===null||L===!1?this.facet=null:(this.facet=keyword(L===!0?"include":L,"facet",["auto","include","exclude","super"]),this.fx=R===singleton&&typeof F=="string"?[F]:F,this.fy=R===singleton&&typeof G=="string"?[G]:G),this.facetAnchor=maybeFacetAnchor(z),P=maybeNamed(P),ce!==void 0&&(P={...maybeChannels(ce),...P}),I!==void 0&&(P={...styles$1(this,O,I),...P}),this.channels=Object.fromEntries(Object.entries(P).map(([he,fe])=>{if(isOptions(fe.value)){const{value:de,label:pe=fe.label,scale:be=fe.scale}=fe.value;fe={...fe,label:pe,scale:be,value:de}}if(R===singleton&&typeof fe.value=="string"){const{value:de}=fe;fe={...fe,value:[de]}}return[he,fe]}).filter(([he,{value:fe,optional:de}])=>{if(fe!=null)return!0;if(de)return!1;throw new Error(`missing channel value: ${he}`)})),this.dx=+Z,this.dy=+Y,this.marginTop=+J,this.marginRight=+te,this.marginBottom=+ne,this.marginLeft=+ie,this.clip=maybeClip(oe),this.tip=maybeTip(ue),this.className=string$2(se),this.facet==="super"){if(F||G)throw new Error("super-faceting cannot use fx or fy");for(const he in this.channels){const{scale:fe}=P[he];if(!(fe!=="x"&&fe!=="y"))throw new Error("super-faceting cannot use x or y")}}me!=null&&(this.render=composeRender(me,this.render))}initialize(R,P,O){let I=dataify(this.data);R===void 0&&I!=null&&(R=[range(I)]);const L=R;this.transform!=null&&({facets:R,data:I}=this.transform(I,R,O),I=dataify(I)),R!==void 0&&(R.original=L);const z=createChannels(this.channels,I);return this.sort!=null&&channelDomain(I,R,z,P,this.sort),{data:I,facets:R,channels:z}}filter(R,P,O){for(const I in P){const{filter:L=defined}=P[I];if(L!==null){const z=O[I];R=R.filter(F=>L(z[F]))}}return R}project(R,P,O){for(const I in R)if(R[I].scale==="x"&&/^x|x$/.test(I)){const L=I.replace(/^x|x$/,"y");L in R&&R[L].scale==="y"&&project(I,L,P,O.projection)}}scale(R,P,O){const I=valueObject(R,P);return O.projection&&this.project(R,I,O),I}}function marks(..._){return _.plot=Mark.prototype.plot,_}function composeRender(_,R){if(_==null)return R===null?void 0:R;if(R==null)return _===null?void 0:_;if(typeof _!="function")throw new TypeError(`invalid render transform: ${_}`);if(typeof R!="function")throw new TypeError(`invalid render transform: ${R}`);return function(P,O,I,L,z,F){return _.call(this,P,O,I,L,z,(G,V,Z,Y,Q)=>R.call(this,G,V,Z,Y,Q,F))}}function maybeChannels(_){return Object.fromEntries(Object.entries(maybeNamed(_)).map(([R,P])=>(P=typeof P=="string"?{value:P,label:R}:maybeValue(P),P.filter===void 0&&P.scale==null&&(P={...P,filter:null}),[R,P])))}function maybeTip(_){return _===!0?"xy":_===!1||_==null?null:typeof _=="string"?keyword(_,"tip",["x","y","xy"]):_}function withTip(_,R){return _?.tip===!0?{..._,tip:R}:isObject(_?.tip)&&_.tip.pointer===void 0?{..._,tip:{..._.tip,pointer:R}}:_}function createDimensions(_,R,P={}){let O=.5-offset,I=.5+offset,L=.5+offset,z=.5-offset;for(const{marginTop:ne,marginRight:ie,marginBottom:se,marginLeft:oe}of R)ne>O&&(O=ne),ie>I&&(I=ie),se>L&&(L=se),oe>z&&(z=oe);let{margin:F,marginTop:G=F!==void 0?F:O,marginRight:V=F!==void 0?F:I,marginBottom:Z=F!==void 0?F:L,marginLeft:Y=F!==void 0?F:z}=P;G=+G,V=+V,Z=+Z,Y=+Y;let{width:Q=640,height:J=autoHeight(_,P,{width:Q,marginTopDefault:O,marginRightDefault:I,marginBottomDefault:L,marginLeftDefault:z})+Math.max(0,G-O+Z-L)}=P;Q=+Q,J=+J;const te={width:Q,height:J,marginTop:G,marginRight:V,marginBottom:Z,marginLeft:Y};if(_.fx||_.fy){let{margin:ne,marginTop:ie=ne!==void 0?ne:G,marginRight:se=ne!==void 0?ne:V,marginBottom:oe=ne!==void 0?ne:Z,marginLeft:ce=ne!==void 0?ne:Y}=P.facet??{};ie=+ie,se=+se,oe=+oe,ce=+ce,te.facet={marginTop:ie,marginRight:se,marginBottom:oe,marginLeft:ce}}return te}function autoHeight({x:_,y:R,fy:P,fx:O},{projection:I,aspectRatio:L},{width:z,marginTopDefault:F,marginRightDefault:G,marginBottomDefault:V,marginLeftDefault:Z}){const Y=P&&P.scale.domain().length||1,Q=projectionAspectRatio(I);if(Q){const te=O?O.scale.domain().length:1,ne=(1.1*Y-.1)/(1.1*te-.1)*Q,ie=Math.max(.1,Math.min(10,ne));return Math.round((z-Z-G)*ie+F+V)}const J=R?isOrdinalScale(R)?R.scale.domain().length||1:Math.max(7,17/Y):1;if(L!=null){if(L=+L,!(isFinite(L)&&L>0))throw new Error(`invalid aspectRatio: ${L}`);const te=aspectRatioLength("y",R)/(aspectRatioLength("x",_)*L),ne=O?O.scale.bandwidth():1,ie=P?P.scale.bandwidth():1,se=ne*(z-Z-G)-_.insetLeft-_.insetRight;return(te*se+R.insetTop+R.insetBottom)/ie+F+V}return!!(R||P)*Math.max(1,Math.min(60,J*Y))*20+!!O*30+60}function aspectRatioLength(_,R){if(!R)throw new Error(`aspectRatio requires ${_} scale`);const{type:P,domain:O}=R;let I;switch(P){case"linear":case"utc":case"time":I=Number;break;case"pow":{const F=R.scale.exponent();I=G=>Math.pow(G,F);break}case"log":I=Math.log;break;case"point":case"band":return O.length;default:throw new Error(`unsupported ${_} scale for aspectRatio: ${P}`)}const[L,z]=extent$1(O);return Math.abs(I(z)-I(L))}const states=new WeakMap;function pointerK(_,R,{x:P,y:O,px:I,py:L,maxRadius:z=40,channels:F,render:G,...V}={}){return z=+z,I!=null&&(P??=null,F={...F,px:{value:I,scale:"x"}}),L!=null&&(O??=null,F={...F,py:{value:L,scale:"y"}}),{x:P,y:O,channels:F,...V,render:composeRender(function(Z,Y,Q,J,te,ne){te={...te,pointerSticky:!1};const ie=te.ownerSVGElement,{data:se}=te.getMarkState(this);let oe=states.get(ie);oe||states.set(ie,oe={sticky:!1,roots:[],renders:[]});let ce=oe.renders.push(xe)-1;const{x:ue,y:me,fx:he,fy:fe}=Y;let de=he?he(Z.fx)-J.marginLeft:0,pe=fe?fe(Z.fy)-J.marginTop:0;ue?.bandwidth&&(de+=ue.bandwidth()/2),me?.bandwidth&&(pe+=me.bandwidth()/2);const be=Z.fi!=null;let ye;if(be){let Ie=oe.facetStates;Ie||(oe.facetStates=Ie=new Map),ye=Ie.get(this),ye||Ie.set(this,ye=new Map)}const[we,ve]=applyFrameAnchor(this,J),{px:Ae,py:Ce}=Q,_e=Ae?Ie=>Ae[Ie]:anchorX$1(Q,we),Re=Ce?Ie=>Ce[Ie]:anchorY$1(Q,ve);let Me,$e,Se,Ee;function ke(Ie,Ge){if(be)if(Ee&&(Ee=cancelAnimationFrame(Ee)),Ie==null)ye.delete(Z.fi);else{ye.set(Z.fi,Ge),Ee=requestAnimationFrame(()=>{Ee=null;for(const[Oe,Ve]of ye)if(Ve<Ge||Ve===Ge&&Oe<Z.fi){Ie=null;break}xe(Ie)});return}xe(Ie)}function xe(Ie){if(Me===Ie&&Se===oe.sticky)return;Me=Ie,Se=te.pointerSticky=oe.sticky;const Ge=Me==null?[]:[Me];be&&(Ge.fx=Z.fx,Ge.fy=Z.fy,Ge.fi=Z.fi);const Oe=ne(Ge,Y,Q,J,te);if($e){if(be){const Ve=$e.parentNode,Ue=$e.getAttribute("transform"),De=Oe.getAttribute("transform");Ue?Oe.setAttribute("transform",Ue):Oe.removeAttribute("transform"),De?Ve.setAttribute("transform",De):Ve.removeAttribute("transform"),Oe.removeAttribute("aria-label"),Oe.removeAttribute("aria-description"),Oe.removeAttribute("aria-hidden")}$e.replaceWith(Oe)}if(oe.roots[ce]=$e=Oe,!(Me==null&&ye?.size>1)){const Ve=Me==null?null:isArray(se)?se[Me]:se.get(Me);te.dispatchValue(Ve)}return Oe}function ze(Ie){if(oe.sticky||Ie.pointerType==="mouse"&&Ie.buttons===1)return;let[Ge,Oe]=pointof(Ie);Ge-=de,Oe-=pe;const Ve=Ge<J.marginLeft||Ge>J.width-J.marginRight?1:_,Ue=Oe<J.marginTop||Oe>J.height-J.marginBottom?1:R;let De=null,nt=z*z;for(const Je of Z){const rt=Ve*(_e(Je)-Ge),at=Ue*(Re(Je)-Oe),dt=rt*rt+at*at;dt<=nt&&(De=Je,nt=dt)}if(De!=null&&(_!==1||R!==1)){const Je=_e(De)-Ge,rt=Re(De)-Oe;nt=Je*Je+rt*rt}ke(De,nt)}function Ze(Ie){Ie.pointerType==="mouse"&&Me!=null&&(oe.sticky&&oe.roots.some(Ge=>Ge?.contains(Ie.target))||(oe.sticky?(oe.sticky=!1,oe.renders.forEach(Ge=>Ge(null))):(oe.sticky=!0,xe(Me)),Ie.stopImmediatePropagation()))}function Ye(Ie){Ie.pointerType==="mouse"&&(oe.sticky||ke(null))}return ie.addEventListener("pointerenter",ze),ie.addEventListener("pointermove",ze),ie.addEventListener("pointerdown",Ze),ie.addEventListener("pointerleave",Ye),xe(null)},G)}}function pointer(_){return pointerK(1,1,_)}function pointerX(_){return pointerK(1,.01,_)}function pointerY(_){return pointerK(.01,1,_)}function anchorX$1({x1:_,x2:R,x:P=_},O){return _&&R?I=>(_[I]+R[I])/2:P?I=>P[I]:()=>O}function anchorY$1({y1:_,y2:R,y:P=_},O){return _&&R?I=>(_[I]+R[I])/2:P?I=>P[I]:()=>O}function inferFontVariant$2(_){return isOrdinalScale(_)&&_.interval===void 0?void 0:"tabular-nums"}function legendRamp(_,R){let{label:P=_.label,tickSize:O=6,width:I=240,height:L=44+O,marginTop:z=18,marginRight:F=0,marginBottom:G=16+O,marginLeft:V=0,style:Z,ticks:Y=(I-V-F)/64,tickFormat:Q,fontVariant:J=inferFontVariant$2(_),round:te=!0,opacity:ne,className:ie}=R;const se=createContext(R);ie=maybeClassName(ie),ne=maybeNumberChannel(ne)[1],Q===null&&(Q=()=>null);const oe=create$1("svg",se).attr("class",`${ie}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",I).attr("height",L).attr("viewBox",`0 0 ${I} ${L}`).call(we=>we.append("style").text(`:where(.${ie}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${ie}-ramp text) {
  white-space: pre;
}`)).call(applyInlineStyles,Z);let ce=we=>we.selectAll(".tick line").attr("y1",z+G-L),ue;const me=te?(we,ve)=>we.rangeRound(ve):(we,ve)=>we.range(ve),{type:he,domain:fe,range:de,interpolate:pe,scale:be,pivot:ye}=_;if(pe){const we=de===void 0?pe:piecewise(pe.length===1?interpolatePiecewise(pe):pe,de);ue=me(be.copy(),quantize(interpolateNumber(V,I-F),Math.min(fe.length+(ye!==void 0),de===void 0?1/0:de.length)));const ve=256,Ae=se.document.createElement("canvas");Ae.width=ve,Ae.height=1;const Ce=Ae.getContext("2d");for(let _e=0,Re=ve-1;_e<ve;++_e)Ce.fillStyle=we(_e/Re),Ce.fillRect(_e,0,1,1);oe.append("image").attr("opacity",ne).attr("x",V).attr("y",z).attr("width",I-V-F).attr("height",L-z-G).attr("preserveAspectRatio","none").attr("xlink:href",Ae.toDataURL())}else if(he==="threshold"){const we=fe,ve=Q===void 0?Ae=>Ae:typeof Q=="string"?format$1(Q):Q;ue=me(linear().domain([-1,de.length-1]),[V,I-F]),oe.append("g").attr("fill-opacity",ne).selectAll().data(de).enter().append("rect").attr("x",(Ae,Ce)=>ue(Ce-1)).attr("y",z).attr("width",(Ae,Ce)=>ue(Ce)-ue(Ce-1)).attr("height",L-z-G).attr("fill",Ae=>Ae),Y=map(we,(Ae,Ce)=>Ce),Q=Ae=>ve(we[Ae],Ae)}else ue=me(band().domain(fe),[V,I-F]),oe.append("g").attr("fill-opacity",ne).selectAll().data(fe).enter().append("rect").attr("x",ue).attr("y",z).attr("width",Math.max(0,ue.bandwidth()-1)).attr("height",L-z-G).attr("fill",be),ce=()=>{};return oe.append("g").attr("transform",`translate(0,${L-G})`).call(axisBottom(ue).ticks(Array.isArray(Y)?null:Y,typeof Q=="string"?Q:void 0).tickFormat(typeof Q=="function"?Q:void 0).tickSize(O).tickValues(Array.isArray(Y)?Y:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",impliedString(J,"normal")).call(ce).call(we=>we.select(".domain").remove()),P!==void 0&&oe.append("text").attr("x",V).attr("y",z-6).attr("fill","currentColor").attr("font-weight","bold").text(P),oe.node()}const radians=Math.PI/180;function markers(_,{marker:R,markerStart:P=R,markerMid:O=R,markerEnd:I=R}={}){_.markerStart=maybeMarker(P),_.markerMid=maybeMarker(O),_.markerEnd=maybeMarker(I)}function maybeMarker(_){if(_==null||_===!1)return null;if(_===!0)return markerCircleFill;if(typeof _=="function")return _;switch(`${_}`.toLowerCase()){case"none":return null;case"arrow":return markerArrow("auto");case"arrow-reverse":return markerArrow("auto-start-reverse");case"dot":return markerDot;case"circle":case"circle-fill":return markerCircleFill;case"circle-stroke":return markerCircleStroke;case"tick":return markerTick("auto");case"tick-x":return markerTick(90);case"tick-y":return markerTick(0)}throw new Error(`invalid marker: ${_}`)}function markerArrow(_){return(R,P)=>create$1("svg:marker",P).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",_).attr("fill","none").attr("stroke",R).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(O=>O.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function markerDot(_,R){return create$1("svg:marker",R).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",_).attr("stroke","none").call(P=>P.append("circle").attr("r",2.5)).node()}function markerCircleFill(_,R){return create$1("svg:marker",R).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",_).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(P=>P.append("circle").attr("r",3)).node()}function markerCircleStroke(_,R){return create$1("svg:marker",R).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",_).attr("stroke-width",1.5).call(P=>P.append("circle").attr("r",3)).node()}function markerTick(_){return(R,P)=>create$1("svg:marker",P).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",_).attr("stroke",R).call(O=>O.append("path").attr("d","M0,-3v6")).node()}let nextMarkerId=0;function applyMarkers(_,R,{stroke:P},O){return applyMarkersColor(_,R,P&&(I=>P[I]),null,O)}function applyGroupedMarkers(_,R,{stroke:P,z:O},I){return applyMarkersColor(_,R,P&&(([L])=>P[L]),O,I)}const START=1,END=2;function getGroupedOrientation(_,R){const P=new Uint8Array(R.length),O=_.data().filter(L=>L.length>1),I=O.length;for(let L=0,z=unset;L<I;++L){const F=O[L];if(F.length>1){const G=F[0];z!==(z=keyof(R[G]))&&(P[G]|=START)}}for(let L=I-1,z=unset;L>=0;--L){const F=O[L];if(F.length>1){const G=F[0];z!==(z=keyof(R[G]))&&(P[G]|=END)}}return([L])=>P[L]}function applyMarkersColor(_,{markerStart:R,markerMid:P,markerEnd:O,stroke:I},L=()=>I,z,F){if(!R&&!P&&!O)return;const G=new Map,V=z&&getGroupedOrientation(_,z);function Z(Y,Q,J){return function(te){if(J&&!J(te))return;const ne=L(te);let ie=G.get(Q);ie||G.set(Q,ie=new Map);let se=ie.get(ne);if(!se){const oe=this.parentNode.insertBefore(Q(ne,F),this),ce=`plot-marker-${++nextMarkerId}`;oe.setAttribute("id",ce),ie.set(ne,se=`url(#${ce})`)}this.setAttribute(Y,se)}}R&&_.each(Z("marker-start",R,V&&(Y=>V(Y)&START))),P&&V&&_.each(Z("marker-start",P,Y=>!(V(Y)&START))),P&&_.each(Z("marker-mid",P)),O&&_.each(Z("marker-end",O,V&&(Y=>V(Y)&END)))}function maybeInsetX({inset:_,insetLeft:R,insetRight:P,...O}={}){return[R,P]=maybeInset(_,R,P),{inset:_,insetLeft:R,insetRight:P,...O}}function maybeInsetY({inset:_,insetTop:R,insetBottom:P,...O}={}){return[R,P]=maybeInset(_,R,P),{inset:_,insetTop:R,insetBottom:P,...O}}function maybeInset(_,R,P){return _===void 0&&R===void 0&&P===void 0?offset?[1,0]:[.5,.5]:[R,P]}function maybeIntervalValue(_,{interval:R}){return _={...maybeValue(_)},_.interval=maybeInterval(_.interval===void 0?R:_.interval),_}function maybeIntervalK(_,R,P,O){const{[_]:I,[`${_}1`]:L,[`${_}2`]:z}=P,{value:F,interval:G}=maybeIntervalValue(I,P);if(F==null||G==null&&!O)return P;const V=labelof(I);if(G==null){let J;const te={transform:ne=>J||(J=valueof(ne,F)),label:V};return{...P,[_]:void 0,[`${_}1`]:L===void 0?te:L,[`${_}2`]:z===void 0&&!(L===z&&O)?te:z}}let Z,Y;function Q(J){return Y!==void 0&&J===Z?Y:Y=map(valueof(Z=J,F),te=>G.floor(te))}return R({...P,[_]:void 0,[`${_}1`]:L===void 0?{transform:Q,label:V}:L,[`${_}2`]:z===void 0?{transform:J=>Q(J).map(te=>G.offset(te)),label:V}:z})}function maybeIntervalMidK(_,R,P){const{[_]:O}=P,{value:I,interval:L}=maybeIntervalValue(O,P);return I==null||L==null?P:R({...P,[_]:{label:labelof(O),transform:z=>{const F=map(valueof(z,I),V=>L.floor(V)),G=F.map(V=>L.offset(V));return F.map(isTemporal(F)?(V,Z)=>V==null||isNaN(V=+V)||(Z=G[Z],Z==null)||isNaN(Z=+Z)?void 0:new Date((V+Z)/2):(V,Z)=>V==null||(Z=G[Z],Z==null)?NaN:(+V+ +Z)/2)}}})}function maybeIntervalX(_={}){return maybeIntervalK("x",maybeInsetX,_)}function maybeIntervalY(_={}){return maybeIntervalK("y",maybeInsetY,_)}function maybeIntervalMidX(_={}){return maybeIntervalMidK("x",maybeInsetX,_)}function maybeIntervalMidY(_={}){return maybeIntervalMidK("y",maybeInsetY,_)}const defaults$9={ariaLabel:"rule",fill:null,stroke:"currentColor"};class RuleX extends Mark{constructor(R,P={}){const{x:O,y1:I,y2:L,inset:z=0,insetTop:F=z,insetBottom:G=z}=P;super(R,{x:{value:O,scale:"x",optional:!0},y1:{value:I,scale:"y",optional:!0},y2:{value:L,scale:"y",optional:!0}},withTip(P,"x"),defaults$9),this.insetTop=number$1(F),this.insetBottom=number$1(G),markers(this,P)}render(R,P,O,I,L){const{x:z,y:F}=P,{x:G,y1:V,y2:Z}=O,{width:Y,height:Q,marginTop:J,marginRight:te,marginLeft:ne,marginBottom:ie}=I,{insetTop:se,insetBottom:oe}=this;return create$1("svg:g",L).call(applyIndirectStyles,this,I,L).call(applyTransform,this,{x:G&&z},offset,0).call(ce=>ce.selectAll().data(R).enter().append("line").call(applyDirectStyles,this).attr("x1",G?ue=>G[ue]:(ne+Y-te)/2).attr("x2",G?ue=>G[ue]:(ne+Y-te)/2).attr("y1",V&&!isCollapsed(F)?ue=>V[ue]+se:J+se).attr("y2",Z&&!isCollapsed(F)?F.bandwidth?ue=>Z[ue]+F.bandwidth()-oe:ue=>Z[ue]-oe:Q-ie-oe).call(applyChannelStyles,this,O).call(applyMarkers,this,O,L)).node()}}class RuleY extends Mark{constructor(R,P={}){const{x1:O,x2:I,y:L,inset:z=0,insetRight:F=z,insetLeft:G=z}=P;super(R,{y:{value:L,scale:"y",optional:!0},x1:{value:O,scale:"x",optional:!0},x2:{value:I,scale:"x",optional:!0}},withTip(P,"y"),defaults$9),this.insetRight=number$1(F),this.insetLeft=number$1(G),markers(this,P)}render(R,P,O,I,L){const{x:z,y:F}=P,{y:G,x1:V,x2:Z}=O,{width:Y,height:Q,marginTop:J,marginRight:te,marginLeft:ne,marginBottom:ie}=I,{insetLeft:se,insetRight:oe}=this;return create$1("svg:g",L).call(applyIndirectStyles,this,I,L).call(applyTransform,this,{y:G&&F},0,offset).call(ce=>ce.selectAll().data(R).enter().append("line").call(applyDirectStyles,this).attr("x1",V&&!isCollapsed(z)?ue=>V[ue]+se:ne+se).attr("x2",Z&&!isCollapsed(z)?z.bandwidth?ue=>Z[ue]+z.bandwidth()-oe:ue=>Z[ue]-oe:Y-te-oe).attr("y1",G?ue=>G[ue]:(J+Q-ie)/2).attr("y2",G?ue=>G[ue]:(J+Q-ie)/2).call(applyChannelStyles,this,O).call(applyMarkers,this,O,L)).node()}}function ruleX(_,R){let{x:P=identity$1,y:O,y1:I,y2:L,...z}=maybeIntervalY(R);return[I,L]=maybeOptionalZero(O,I,L),new RuleX(_,{...z,x:P,y1:I,y2:L})}function ruleY(_,R){let{y:P=identity$1,x:O,x1:I,x2:L,...z}=maybeIntervalX(R);return[I,L]=maybeOptionalZero(O,I,L),new RuleY(_,{...z,y:P,x1:I,x2:L})}function maybeOptionalZero(_,R,P){if(_==null){if(R===void 0){if(P!==void 0)return[0,P]}else if(P===void 0)return[0,R]}else{if(R===void 0)return P===void 0?[0,_]:[_,P];if(P===void 0)return[_,R]}return[R,P]}function template(_,...R){let P=R.length;for(let O=0,I=!0;O<P;++O)typeof R[O]!="function"&&(I&&(_=_.slice(),I=!1),_.splice(O,2,_[O]+R[O]+_[O+1]),R.splice(O,1),--O,--P);return O=>{let I=_[0];for(let L=0;L<P;++L)I+=R[L](O)+_[L+1];return I}}const defaults$8={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},softHyphen="";class Text extends Mark{constructor(R,P={}){const{x:O,y:I,text:L=isIterable(R)&&isTextual(R)?identity$1:indexOf,frameAnchor:z,textAnchor:F=/right$/i.test(z)?"end":/left$/i.test(z)?"start":"middle",lineAnchor:G=/^top/i.test(z)?"top":/^bottom/i.test(z)?"bottom":"middle",lineHeight:V=1,lineWidth:Z=1/0,textOverflow:Y,monospace:Q,fontFamily:J=Q?"ui-monospace, monospace":void 0,fontSize:te,fontStyle:ne,fontVariant:ie,fontWeight:se,rotate:oe}=P,[ce,ue]=maybeNumberChannel(oe,0),[me,he]=maybeFontSizeChannel(te);if(super(R,{x:{value:O,scale:"x",optional:!0},y:{value:I,scale:"y",optional:!0},fontSize:{value:me,optional:!0},rotate:{value:numberChannel(ce),optional:!0},text:{value:L,filter:nonempty,optional:!0}},P,defaults$8),this.rotate=ue,this.textAnchor=impliedString(F,"middle"),this.lineAnchor=keyword(G,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+V,this.lineWidth=+Z,this.textOverflow=maybeTextOverflow(Y),this.monospace=!!Q,this.fontFamily=string$2(J),this.fontSize=he,this.fontStyle=string$2(ne),this.fontVariant=string$2(ie),this.fontWeight=string$2(se),this.frameAnchor=maybeFrameAnchor(z),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${Z}`);this.splitLines=splitter(this),this.clipLine=clipper(this)}render(R,P,O,I,L){const{x:z,y:F}=P,{x:G,y:V,rotate:Z,text:Y,title:Q,fontSize:J}=O,{rotate:te}=this,[ne,ie]=applyFrameAnchor(this,I);return create$1("svg:g",L).call(applyIndirectStyles,this,I,L).call(applyIndirectTextStyles,this,Y,I).call(applyTransform,this,{x:G&&z,y:V&&F}).call(se=>se.selectAll().data(R).enter().append("text").call(applyDirectStyles,this).call(applyMultilineText,this,Y,Q).attr("transform",template`translate(${G?oe=>G[oe]:ne},${V?oe=>V[oe]:ie})${Z?oe=>` rotate(${Z[oe]})`:te?` rotate(${te})`:""}`).call(applyAttr,"font-size",J&&(oe=>J[oe])).call(applyChannelStyles,this,O)).node()}}function maybeTextOverflow(_){return _==null?null:keyword(_,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function applyMultilineText(_,R,P,O){if(!P)return;const{lineAnchor:I,lineHeight:L,textOverflow:z,splitLines:F,clipLine:G}=R;_.each(function(V){const Z=F(formatDefault(P[V])??"").map(G),Y=Z.length,Q=I==="top"?.71:I==="bottom"?1-Y:(164-Y*100)/200;if(Y>1){let J=0;for(let te=0;te<Y;++te){if(++J,!Z[te])continue;const ne=this.ownerDocument.createElementNS(namespaces.svg,"tspan");ne.setAttribute("x",0),te===J-1?ne.setAttribute("y",`${(Q+te)*L}em`):ne.setAttribute("dy",`${J*L}em`),ne.textContent=Z[te],this.appendChild(ne),J=0}}else Q&&this.setAttribute("y",`${Q*L}em`),this.textContent=Z[0];if(z&&!O&&Z[0]!==P[V]){const J=this.ownerDocument.createElementNS(namespaces.svg,"title");J.textContent=P[V],this.appendChild(J)}})}function text$7(_,{x:R,y:P,...O}={}){return O.frameAnchor===void 0&&([R,P]=maybeTuple(R,P)),new Text(_,{...O,x:R,y:P})}function textX(_,{x:R=identity$1,...P}={}){return new Text(_,maybeIntervalMidY({...P,x:R}))}function textY(_,{y:R=identity$1,...P}={}){return new Text(_,maybeIntervalMidX({...P,y:R}))}function applyIndirectTextStyles(_,R,P){applyAttr(_,"text-anchor",R.textAnchor),applyAttr(_,"font-family",R.fontFamily),applyAttr(_,"font-size",R.fontSize),applyAttr(_,"font-style",R.fontStyle),applyAttr(_,"font-variant",R.fontVariant===void 0?inferFontVariant$1(P):R.fontVariant),applyAttr(_,"font-weight",R.fontWeight)}function inferFontVariant$1(_){return _&&(isNumeric(_)||isTemporal(_))?"tabular-nums":void 0}const fontSizes=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function maybeFontSizeChannel(_){return _==null||typeof _=="number"?[void 0,_]:typeof _!="string"?[_,void 0]:(_=_.trim().toLowerCase(),fontSizes.has(_)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(_)?[void 0,_]:[_,void 0])}function lineWrap(_,R,P){const O=[];let I,L=0;for(const[z,F,G]of lineBreaks(_)){if(I===void 0&&(I=z),L>I&&P(_,I,F)>R&&(O.push(_.slice(I,L)+(_[L-1]===softHyphen?"-":"")),I=z),G){O.push(_.slice(I,F)),I=void 0;continue}L=F}return O}function*lineBreaks(_){let R=0,P=0;const O=_.length;for(;P<O;){let I=1;switch(_[P]){case softHyphen:case"-":++P,yield[R,P,!1],R=P;break;case" ":for(yield[R,P,!1];_[++P]===" ";);R=P;break;case"\r":_[P+1]===`
`&&++I;case`
`:yield[R,P,!0],P+=I,R=P;break;default:++P;break}}yield[R,P,!0]}const defaultWidthMap={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function defaultWidth(_,R=0,P=_.length){let O=0;for(let I=R;I<P;I=readCharacter(_,I))O+=defaultWidthMap[_[I]]??(isPictographic(_,I)?120:defaultWidthMap.e);return O}function monospaceWidth(_,R=0,P=_.length){let O=0;for(let I=R;I<P;I=readCharacter(_,I))O+=isPictographic(_,I)?126:63;return O}function splitter({monospace:_,lineWidth:R,textOverflow:P}){if(P!=null||R==1/0)return L=>L.split(/\r\n?|\n/g);const O=_?monospaceWidth:defaultWidth,I=R*100;return L=>lineWrap(L,I,O)}function clipper({monospace:_,lineWidth:R,textOverflow:P}){if(P==null||R==1/0)return L=>L;const O=_?monospaceWidth:defaultWidth,I=R*100;switch(P){case"clip-start":return L=>clipStart(L,I,O,"");case"clip-end":return L=>clipEnd(L,I,O,"");case"ellipsis-start":return L=>clipStart(L,I,O,ellipsis);case"ellipsis-middle":return L=>clipMiddle(L,I,O,ellipsis);case"ellipsis-end":return L=>clipEnd(L,I,O,ellipsis)}}const ellipsis="";function cut(_,R,P,O){const I=[];let L=0;for(let z=0,F=0,G=_.length;z<G;z=F){F=readCharacter(_,z);const V=P(_,z,F);if(L+V>R){for(L+=O;L>R&&z>0;)F=z,z=I.pop(),L-=P(_,z,F);return[z,R-L]}L+=V,I.push(z)}return[-1,0]}function clipEnd(_,R,P,O){_=_.trim();const I=P(O),[L]=cut(_,R,P,I);return L<0?_:_.slice(0,L).trimEnd()+O}function clipMiddle(_,R,P,O){_=_.trim();const I=P(_);if(I<=R)return _;const L=P(O)/2,[z,F]=cut(_,R/2,P,L),[G]=cut(_,I-R/2-F+L,P,-L);return G<0?O:_.slice(0,z).trimEnd()+O+_.slice(readCharacter(_,G)).trimStart()}function clipStart(_,R,P,O){_=_.trim();const I=P(_);if(I<=R)return _;const L=P(O),[z]=cut(_,I-R+L,P,-L);return z<0?O:O+_.slice(readCharacter(_,z)).trimStart()}const reCombiner=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,rePictographic=new RegExp("\\p{Extended_Pictographic}","uy");function readCharacter(_,R){return R+=isSurrogatePair(_,R)?2:1,isCombiner(_,R)&&(R=reCombiner.lastIndex),isZeroWidthJoiner(_,R)?readCharacter(_,R+1):R}function isAscii(_,R){return _.charCodeAt(R)<128}function isSurrogatePair(_,R){const P=_.charCodeAt(R);if(P>=55296&&P<56320){const O=_.charCodeAt(R+1);return O>=56320&&O<57344}return!1}function isZeroWidthJoiner(_,R){return _.charCodeAt(R)===8205}function isCombiner(_,R){return isAscii(_,R)?!1:(reCombiner.lastIndex=R,reCombiner.test(_))}function isPictographic(_,R){return isAscii(_,R)?!1:(rePictographic.lastIndex=R,rePictographic.test(_))}const defaults$7={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},defaultRadius=3.5,wingRatio=defaultRadius*5,shapeArrow={draw(_,R,P){const O=R*P/wingRatio;_.moveTo(0,0),_.lineTo(0,-R),_.moveTo(-O,O-R),_.lineTo(0,-R),_.lineTo(O,O-R)}},shapeSpike={draw(_,R,P){_.moveTo(-P,0),_.lineTo(0,-R),_.lineTo(P,0)}},shapes=new Map([["arrow",shapeArrow],["spike",shapeSpike]]);function isShapeObject(_){return _&&typeof _.draw=="function"}function maybeShape(_){if(isShapeObject(_))return _;const R=shapes.get(`${_}`.toLowerCase());if(R)return R;throw new Error(`invalid shape: ${_}`)}class Vector extends Mark{constructor(R,P={}){const{x:O,y:I,r:L=defaultRadius,length:z,rotate:F,shape:G=shapeArrow,anchor:V="middle",frameAnchor:Z}=P,[Y,Q]=maybeNumberChannel(z,12),[J,te]=maybeNumberChannel(F,0);super(R,{x:{value:O,scale:"x",optional:!0},y:{value:I,scale:"y",optional:!0},length:{value:Y,scale:"length",optional:!0},rotate:{value:J,optional:!0}},P,defaults$7),this.r=+L,this.length=Q,this.rotate=te,this.shape=maybeShape(G),this.anchor=keyword(V,"anchor",["start","middle","end"]),this.frameAnchor=maybeFrameAnchor(Z)}render(R,P,O,I,L){const{x:z,y:F}=P,{x:G,y:V,length:Z,rotate:Y}=O,{length:Q,rotate:J,anchor:te,shape:ne,r:ie}=this,[se,oe]=applyFrameAnchor(this,I);return create$1("svg:g",L).call(applyIndirectStyles,this,I,L).call(applyTransform,this,{x:G&&z,y:V&&F}).call(ce=>ce.selectAll().data(R).enter().append("path").call(applyDirectStyles,this).attr("transform",template`translate(${G?ue=>G[ue]:se},${V?ue=>V[ue]:oe})${Y?ue=>` rotate(${Y[ue]})`:J?` rotate(${J})`:""}${te==="start"?"":te==="end"?Z?ue=>` translate(0,${Z[ue]})`:` translate(0,${Q})`:Z?ue=>` translate(0,${Z[ue]/2})`:` translate(0,${Q/2})`}`).attr("d",Z?ue=>{const me=pathRound();return ne.draw(me,Z[ue],ie),me}:(()=>{const ue=pathRound();return ne.draw(ue,Q,ie),ue})()).call(applyChannelStyles,this,O)).node()}}function vectorX(_,R={}){const{x:P=identity$1,...O}=R;return new Vector(_,{...O,x:P})}function vectorY(_,R={}){const{y:P=identity$1,...O}=R;return new Vector(_,{...O,y:P})}function maybeData(_,R){return arguments.length<2&&!isIterable(_)&&(R=_,_=null),R===void 0&&(R={}),[_,R]}function maybeAnchor({anchor:_}={},R){return _===void 0?R[0]:keyword(_,"anchor",R)}function anchorY(_){return maybeAnchor(_,["left","right"])}function anchorFy(_){return maybeAnchor(_,["right","left"])}function anchorX(_){return maybeAnchor(_,["bottom","top"])}function anchorFx(_){return maybeAnchor(_,["top","bottom"])}function axisY(){const[_,R]=maybeData(...arguments);return axisKy("y",anchorY(R),_,R)}function axisFy(){const[_,R]=maybeData(...arguments);return axisKy("fy",anchorFy(R),_,R)}function axisX(){const[_,R]=maybeData(...arguments);return axisKx("x",anchorX(R),_,R)}function axisFx(){const[_,R]=maybeData(...arguments);return axisKx("fx",anchorFx(R),_,R)}function axisKy(_,R,P,{color:O="currentColor",opacity:I=1,stroke:L=O,strokeOpacity:z=I,strokeWidth:F=1,fill:G=O,fillOpacity:V=I,textAnchor:Z,textStroke:Y,textStrokeOpacity:Q,textStrokeWidth:J,tickSize:te=_==="y"?6:0,tickPadding:ne,tickRotate:ie,x:se,margin:oe,marginTop:ce=oe===void 0?20:oe,marginRight:ue=oe===void 0?R==="right"?40:0:oe,marginBottom:me=oe===void 0?20:oe,marginLeft:he=oe===void 0?R==="left"?40:0:oe,label:fe,labelAnchor:de,labelArrow:pe,labelOffset:be,ariaLabel:ye=`${_}-axis`,...we}){return te=number$1(te),ne=number$1(ne),ie=number$1(ie),de!==void 0&&(de=keyword(de,"labelAnchor",["center","top","bottom"])),pe=maybeLabelArrow(pe),marks(te&&!isNoneish(L)?axisTickKy(_,R,P,{stroke:L,strokeOpacity:z,strokeWidth:F,tickSize:te,tickPadding:ne,tickRotate:ie,x:se,ariaLabel:ye,...we}):null,isNoneish(G)?null:axisTextKy(_,R,P,{fill:G,fillOpacity:V,stroke:Y,strokeOpacity:Q,strokeWidth:J,textAnchor:Z,tickSize:te,tickPadding:ne,tickRotate:ie,x:se,marginTop:ce,marginRight:ue,marginBottom:me,marginLeft:he,ariaLabel:ye,...we}),!isNoneish(G)&&fe!==null?text$7([],labelOptions({fill:G,fillOpacity:V,...we},function(ve,Ae,Ce,_e,Re){const Me=_e[_],{marginTop:$e,marginRight:Se,marginBottom:Ee,marginLeft:ke}=_==="y"&&Re.inset||Re,xe=de??(Me.bandwidth?"center":"top"),ze=be??(R==="right"?Se:ke)-3;return xe==="center"?(this.textAnchor=void 0,this.lineAnchor=R==="right"?"bottom":"top",this.frameAnchor=R,this.rotate=-90):(this.textAnchor=R==="right"?"end":"start",this.lineAnchor=xe,this.frameAnchor=`${xe}-${R}`,this.rotate=0),this.dy=xe==="top"?3-$e:xe==="bottom"?Ee-3:0,this.dx=R==="right"?ze:-ze,this.ariaLabel=`${ye} label`,{facets:[[0]],channels:{text:{value:[formatAxisLabel(_,Me,{anchor:R,label:fe,labelAnchor:xe,labelArrow:pe})]}}}})):null)}function axisKx(_,R,P,{color:O="currentColor",opacity:I=1,stroke:L=O,strokeOpacity:z=I,strokeWidth:F=1,fill:G=O,fillOpacity:V=I,textAnchor:Z,textStroke:Y,textStrokeOpacity:Q,textStrokeWidth:J,tickSize:te=_==="x"?6:0,tickPadding:ne,tickRotate:ie,y:se,margin:oe,marginTop:ce=oe===void 0?R==="top"?30:0:oe,marginRight:ue=oe===void 0?20:oe,marginBottom:me=oe===void 0?R==="bottom"?30:0:oe,marginLeft:he=oe===void 0?20:oe,label:fe,labelAnchor:de,labelArrow:pe,labelOffset:be,ariaLabel:ye=`${_}-axis`,...we}){return te=number$1(te),ne=number$1(ne),ie=number$1(ie),de!==void 0&&(de=keyword(de,"labelAnchor",["center","left","right"])),pe=maybeLabelArrow(pe),marks(te&&!isNoneish(L)?axisTickKx(_,R,P,{stroke:L,strokeOpacity:z,strokeWidth:F,tickSize:te,tickPadding:ne,tickRotate:ie,y:se,ariaLabel:ye,...we}):null,isNoneish(G)?null:axisTextKx(_,R,P,{fill:G,fillOpacity:V,stroke:Y,strokeOpacity:Q,strokeWidth:J,textAnchor:Z,tickSize:te,tickPadding:ne,tickRotate:ie,y:se,marginTop:ce,marginRight:ue,marginBottom:me,marginLeft:he,ariaLabel:ye,...we}),!isNoneish(G)&&fe!==null?text$7([],labelOptions({fill:G,fillOpacity:V,...we},function(ve,Ae,Ce,_e,Re){const Me=_e[_],{marginTop:$e,marginRight:Se,marginBottom:Ee,marginLeft:ke}=_==="x"&&Re.inset||Re,xe=de??(Me.bandwidth?"center":"right"),ze=be??(R==="top"?$e:Ee)-3;return xe==="center"?(this.frameAnchor=R,this.textAnchor=void 0):(this.frameAnchor=`${R}-${xe}`,this.textAnchor=xe==="right"?"end":"start"),this.lineAnchor=R,this.dy=R==="top"?-ze:ze,this.dx=xe==="right"?Se-3:xe==="left"?3-ke:0,this.ariaLabel=`${ye} label`,{facets:[[0]],channels:{text:{value:[formatAxisLabel(_,Me,{anchor:R,label:fe,labelAnchor:xe,labelArrow:pe})]}}}})):null)}function axisTickKy(_,R,P,{strokeWidth:O=1,strokeLinecap:I=null,strokeLinejoin:L=null,facetAnchor:z=R+(_==="y"?"-empty":""),frameAnchor:F=R,tickSize:G,inset:V=0,insetLeft:Z=V,insetRight:Y=V,dx:Q=0,y:J=_==="y"?void 0:null,ariaLabel:te,...ne}){return axisMark(vectorY,_,P,{ariaLabel:`${te} tick`,ariaHidden:!0},{strokeWidth:O,strokeLinecap:I,strokeLinejoin:L,facetAnchor:z,frameAnchor:F,y:J,...ne,dx:R==="left"?+Q-offset+ +Z:+Q+offset-Y,anchor:"start",length:G,shape:R==="left"?shapeTickLeft:shapeTickRight})}function axisTickKx(_,R,P,{strokeWidth:O=1,strokeLinecap:I=null,strokeLinejoin:L=null,facetAnchor:z=R+(_==="x"?"-empty":""),frameAnchor:F=R,tickSize:G,inset:V=0,insetTop:Z=V,insetBottom:Y=V,dy:Q=0,x:J=_==="x"?void 0:null,ariaLabel:te,...ne}){return axisMark(vectorX,_,P,{ariaLabel:`${te} tick`,ariaHidden:!0},{strokeWidth:O,strokeLinejoin:L,strokeLinecap:I,facetAnchor:z,frameAnchor:F,x:J,...ne,dy:R==="bottom"?+Q-offset-Y:+Q+offset+ +Z,anchor:"start",length:G,shape:R==="bottom"?shapeTickBottom:shapeTickTop})}function axisTextKy(_,R,P,{facetAnchor:O=R+(_==="y"?"-empty":""),frameAnchor:I=R,tickSize:L,tickRotate:z=0,tickPadding:F=Math.max(3,9-L)+(Math.abs(z)>60?4*Math.cos(z*radians):0),text:G,textAnchor:V=Math.abs(z)>60?"middle":R==="left"?"end":"start",lineAnchor:Z=z>60?"top":z<-60?"bottom":"middle",fontVariant:Y,inset:Q=0,insetLeft:J=Q,insetRight:te=Q,dx:ne=0,ariaLabel:ie,y:se=_==="y"?void 0:null,...oe}){return axisMark(textY,_,P,{ariaLabel:`${ie} tick label`},{facetAnchor:O,frameAnchor:I,text:G,textAnchor:V,lineAnchor:Z,fontVariant:Y,rotate:z,y:se,...oe,dx:R==="left"?+ne-L-F+ +J:+ne+ +L+ +F-te},function(ce,ue,me,he,fe){Y===void 0&&(this.fontVariant=inferFontVariant(ce)),G===void 0&&(fe.text=inferTextChannel(ce,ue,me,he,R))})}function axisTextKx(_,R,P,{facetAnchor:O=R+(_==="x"?"-empty":""),frameAnchor:I=R,tickSize:L,tickRotate:z=0,tickPadding:F=Math.max(3,9-L)+(Math.abs(z)>=10?4*Math.cos(z*radians):0),text:G,textAnchor:V=Math.abs(z)>=10?z<0^R==="bottom"?"start":"end":"middle",lineAnchor:Z=Math.abs(z)>=10?"middle":R==="bottom"?"top":"bottom",fontVariant:Y,inset:Q=0,insetTop:J=Q,insetBottom:te=Q,dy:ne=0,x:ie=_==="x"?void 0:null,ariaLabel:se,...oe}){return axisMark(textX,_,P,{ariaLabel:`${se} tick label`},{facetAnchor:O,frameAnchor:I,text:G===void 0?null:G,textAnchor:V,lineAnchor:Z,fontVariant:Y,rotate:z,x:ie,...oe,dy:R==="bottom"?+ne+ +L+ +F-te:+ne-L-F+ +J},function(ce,ue,me,he,fe){Y===void 0&&(this.fontVariant=inferFontVariant(ce)),G===void 0&&(fe.text=inferTextChannel(ce,ue,me,he,R))})}function gridY(){const[_,R]=maybeData(...arguments);return gridKy("y",anchorY(R),_,R)}function gridFy(){const[_,R]=maybeData(...arguments);return gridKy("fy",anchorFy(R),_,R)}function gridX(){const[_,R]=maybeData(...arguments);return gridKx("x",anchorX(R),_,R)}function gridFx(){const[_,R]=maybeData(...arguments);return gridKx("fx",anchorFx(R),_,R)}function gridKy(_,R,P,{y:O=_==="y"?void 0:null,x:I=null,x1:L=R==="left"?I:null,x2:z=R==="right"?I:null,ariaLabel:F=`${_}-grid`,ariaHidden:G=!0,...V}){return axisMark(ruleY,_,P,{ariaLabel:F,ariaHidden:G},{y:O,x1:L,x2:z,...gridDefaults(V)})}function gridKx(_,R,P,{x:O=_==="x"?void 0:null,y:I=null,y1:L=R==="top"?I:null,y2:z=R==="bottom"?I:null,ariaLabel:F=`${_}-grid`,ariaHidden:G=!0,...V}){return axisMark(ruleX,_,P,{ariaLabel:F,ariaHidden:G},{x:O,y1:L,y2:z,...gridDefaults(V)})}function gridDefaults({color:_="currentColor",opacity:R=.1,stroke:P=_,strokeOpacity:O=R,strokeWidth:I=1,...L}){return{stroke:P,strokeOpacity:O,strokeWidth:I,...L}}function labelOptions({fill:_,fillOpacity:R,fontFamily:P,fontSize:O,fontStyle:I,fontVariant:L,fontWeight:z,monospace:F,pointerEvents:G,shapeRendering:V,clip:Z=!1},Y){return[,_]=maybeColorChannel(_),[,R]=maybeNumberChannel(R),{facet:"super",x:null,y:null,fill:_,fillOpacity:R,fontFamily:P,fontSize:O,fontStyle:I,fontVariant:L,fontWeight:z,monospace:F,pointerEvents:G,shapeRendering:V,clip:Z,initializer:Y}}function axisMark(_,R,P,O,I,L){let z;function F(Z,Y,Q,J,te,ne){const ie=Z==null&&(R==="fx"||R==="fy"),{[R]:se}=J;if(!se)throw new Error(`missing scale: ${R}`);const oe=se.domain();let{interval:ce,ticks:ue,tickFormat:me,tickSpacing:he=R==="x"?80:35}=I;if(typeof ue=="string"&&hasTemporalDomain(se)&&(ce=ue,ue=void 0),ue===void 0&&(ue=maybeRangeInterval(ce,se.type)??inferTickCount(se,he)),Z==null){if(isIterable(ue))Z=arrayify(ue);else if(isInterval(ue))Z=inclusiveRange(ue,...extent$1(oe));else if(se.interval){let de=se.interval;if(se.ticks){const[pe,be]=extent$1(oe),ye=(be-pe)/de[intervalDuration];de=generalizeTimeInterval(de,ye/ue)??de,Z=inclusiveRange(de,pe,be)}else{Z=oe;const pe=Z.length;de=generalizeTimeInterval(de,pe/ue)??de,de!==se.interval&&(Z=inclusiveRange(de,...extent$1(Z)))}if(de===se.interval){const pe=Math.round(Z.length/ue);pe>1&&(Z=Z.filter((be,ye)=>ye%pe===0))}}else se.ticks?Z=se.ticks(ue):Z=oe;if(!se.ticks&&Z.length&&Z!==oe){const de=new InternSet(oe);Z=Z.filter(pe=>de.has(pe)),Z.length||warn(`Warning: the ${R}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}R==="y"||R==="x"?Y=[range(Z)]:z[R]={scale:R,value:identity$1}}L?.call(this,se,Z,ue,me,z);const fe=Object.fromEntries(Object.entries(z).map(([de,pe])=>[de,{...pe,value:valueof(Z,pe.value)}]));return ie&&(Y=ne.filterFacets(Z,fe)),{data:Z,facets:Y,channels:fe}}const G=initializer(I).initializer,V=_(P,initializer({...I,initializer:F},G));return P==null?(z=V.channels,V.channels={}):z={},O!==void 0&&Object.assign(V,O),V.clip===void 0&&(V.clip=!1),V}function inferTickCount(_,R){const[P,O]=extent$1(_.range());return(O-P)/R}function inferTextChannel(_,R,P,O,I){return{value:inferTickFormat(_,R,P,O,I)}}function inferTickFormat(_,R,P,O,I){return typeof O=="function"&&!(_.type==="log"&&_.tickFormat)?O:O===void 0&&R&&isTemporal(R)?inferTimeFormat(_.type,R,I)??formatDefault:_.tickFormat?_.tickFormat(typeof P=="number"?P:null,O):typeof O=="string"&&_.domain().length>0?(isTemporal(_.domain())?utcFormat:format$1)(O):O===void 0?formatDefault:constant(O)}function inclusiveRange(_,R,P){return _.range(R,_.offset(_.floor(P)))}const shapeTickBottom={draw(_,R){_.moveTo(0,0),_.lineTo(0,R)}},shapeTickTop={draw(_,R){_.moveTo(0,0),_.lineTo(0,-R)}},shapeTickLeft={draw(_,R){_.moveTo(0,0),_.lineTo(-R,0)}},shapeTickRight={draw(_,R){_.moveTo(0,0),_.lineTo(R,0)}};function inferFontVariant(_){return _.bandwidth&&!_.interval?void 0:"tabular-nums"}function formatAxisLabel(_,R,{anchor:P,label:O=R.label,labelAnchor:I,labelArrow:L}={}){if(!(O==null||O.inferred&&hasTemporalDomain(R)&&/^(date|time|year)$/i.test(O))){if(O=String(O),L==="auto"&&(L=(!R.bandwidth||R.interval)&&!/[]/.test(O)),!L)return O;if(L===!0){const z=inferScaleOrder(R);z&&(L=/x$/.test(_)||I==="center"?/x$/.test(_)===z<0?"left":"right":z<0?"up":"down")}switch(L){case"left":return` ${O}`;case"right":return`${O} `;case"up":return P==="right"?`${O} `:` ${O}`;case"down":return P==="right"?`${O} `:` ${O}`}return O}}function maybeLabelArrow(_="auto"){return isNoneish(_)?!1:typeof _=="boolean"?_:keyword(_,"labelArrow",["auto","up","right","down","left"])}function hasTemporalDomain(_){return isTemporal(_.domain())}function maybeScale(_,R){if(R==null)return R;const P=_(R);if(!P)throw new Error(`scale not found: ${R}`);return P}function legendSwatches(_,{opacity:R,...P}={}){if(!isOrdinalScale(_)&&!isThresholdScale(_))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${_.type})`);return legendItems(_,P,(O,I,L,z)=>O.append("svg").attr("width",L).attr("height",z).attr("fill",I.scale).attr("fill-opacity",maybeNumberChannel(R)[1]).append("rect").attr("width","100%").attr("height","100%"))}function legendSymbols(_,{fill:R=_.hint?.fill!==void 0?_.hint.fill:"none",fillOpacity:P=1,stroke:O=_.hint?.stroke!==void 0?_.hint.stroke:isNoneish(R)?"currentColor":"none",strokeOpacity:I=1,strokeWidth:L=1.5,r:z=4.5,...F}={},G){const[V,Z]=maybeColorChannel(R),[Y,Q]=maybeColorChannel(O),J=maybeScale(G,V),te=maybeScale(G,Y),ne=z*z*Math.PI;return P=maybeNumberChannel(P)[1],I=maybeNumberChannel(I)[1],L=maybeNumberChannel(L)[1],legendItems(_,F,(ie,se,oe,ce)=>ie.append("svg").attr("viewBox","-8 -8 16 16").attr("width",oe).attr("height",ce).attr("fill",V==="color"?ue=>J.scale(ue):Z).attr("fill-opacity",P).attr("stroke",Y==="color"?ue=>te.scale(ue):Q).attr("stroke-opacity",I).attr("stroke-width",L).append("path").attr("d",ue=>{const me=pathRound();return _.scale(ue).draw(me,ne),me}))}function legendItems(_,R={},P){let{columns:O,tickFormat:I,fontVariant:L=inferFontVariant$2(_),swatchSize:z=15,swatchWidth:F=z,swatchHeight:G=z,marginLeft:V=0,className:Z,style:Y,width:Q}=R;const J=createContext(R);Z=maybeClassName(Z),I=inferTickFormat(_.scale,_.domain,void 0,I);const te=create$1("div",J).attr("class",`${Z}-swatches ${Z}-swatches-${O!=null?"columns":"wrap"}`);let ne;return O!=null?(ne=`:where(.${Z}-swatches-columns .${Z}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${Z}-swatches-columns .${Z}-swatch::before) {
  flex-shrink: 0;
}
:where(.${Z}-swatches-columns .${Z}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,te.style("columns",O).selectAll().data(_.domain).enter().append("div").attr("class",`${Z}-swatch`).call(P,_,F,G).call(ie=>ie.append("div").attr("class",`${Z}-swatch-label`).attr("title",I).text(I))):(ne=`:where(.${Z}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${Z}-swatches-wrap .${Z}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,te.selectAll().data(_.domain).enter().append("span").attr("class",`${Z}-swatch`).call(P,_,F,G).append(function(){return this.ownerDocument.createTextNode(I.apply(this,arguments))})),te.call(ie=>ie.insert("style","*").text(`:where(.${Z}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${Z}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${ne}`)).style("margin-left",V?`${+V}px`:null).style("width",Q===void 0?null:`${+Q}px`).style("font-variant",impliedString(L,"normal")).call(applyInlineStyles,Y).node()}const legendRegistry=new Map([["symbol",legendSymbols],["color",legendColor],["opacity",legendOpacity]]);function exposeLegends(_,R,P={}){return(O,I)=>{if(!legendRegistry.has(O))throw new Error(`unknown legend type: ${O}`);if(O in _)return legendRegistry.get(O)(_[O],legendOptions(R,P[O],I),L=>_[L])}}function legendOptions({className:_,...R},{label:P,ticks:O,tickFormat:I}={},L){return inherit(L,{className:_,...R},{label:P,ticks:O,tickFormat:I})}function legendColor(_,{legend:R=!0,...P}){if(R===!0&&(R=_.type==="ordinal"?"swatches":"ramp"),_.domain!==void 0)switch(`${R}`.toLowerCase()){case"swatches":return legendSwatches(_,P);case"ramp":return legendRamp(_,P);default:throw new Error(`unknown legend type: ${R}`)}}function legendOpacity({type:_,interpolate:R,...P},{legend:O=!0,color:I=rgb(0,0,0),...L}){if(!R)throw new Error(`${_} opacity scales are not supported`);if(O===!0&&(O="ramp"),`${O}`.toLowerCase()!=="ramp")throw new Error(`${O} opacity legends are not supported`);return legendColor({type:_,...P,interpolate:interpolateOpacity(I)},{legend:O,...L})}function interpolateOpacity(_){const{r:R,g:P,b:O}=rgb(_)||rgb(0,0,0);return I=>`rgba(${R},${P},${O},${I})`}function createLegends(_,R,P){const O=[];for(const[I,L]of legendRegistry){const z=P[I];if(z?.legend&&I in _){const F=L(_[I],legendOptions(R,_[I],z),G=>_[G]);F!=null&&O.push(F)}}return O}function maybeIdentityY(_={},R="y"){return hasY(_)?_:{..._,[R]:identity$1}}function exclusiveFacets(_,R){if(R.length===1)return{data:_,facets:R};const P=lengthof(_),O=new Uint8Array(P);let I=0;for(const F of R)for(const G of F)O[G]&&++I,O[G]=1;if(I===0)return{data:_,facets:R};_=slice(_);const L=_[reindex]=new Uint32Array(P+I);R=R.map(F=>slice(F,Uint32Array));let z=P;O.fill(0);for(const F of R)for(let G=0,V=F.length;G<V;++G){const Z=F[G];O[Z]?(F[G]=z,_[z]=_[Z],L[z]=Z,++z):L[Z]=Z,O[Z]=1}return{data:_,facets:R}}function stackY(_={},R={}){arguments.length===1&&([_,R]=mergeOptions$1(_));const{x1:P,x:O=P,y:I,...L}=R,[z,F,G,V]=stack(O,I,"x","y",_,L);return{...z,x1:P,x:F,y1:G,y2:V,y:mid(G,V)}}function maybeStackY({y:_,y1:R,y2:P,...O}={}){return O=withTip(O,"x"),R===void 0&&P===void 0?stackY({y:_,...O}):([R,P]=maybeZero(_,R,P),{...O,y1:R,y2:P})}function mergeOptions$1(_){const{offset:R,order:P,reverse:O,...I}=_;return[{offset:R,order:P,reverse:O},I]}const lengthy={length:!0};function stack(_,R=one$3,P,O,{offset:I,order:L,reverse:z},F){if(R===null)throw new Error(`stack requires ${O}`);const G=maybeZ(F),[V,Z]=maybeColumn(_),[Y,Q]=column(R),[J,te]=column(R);return Y.hint=J.hint=lengthy,I=maybeOffset(I),L=maybeOrder(L,I,O),[basic(F,(ne,ie,se)=>{({data:ne,facets:ie}=exclusiveFacets(ne,ie));const oe=_==null?void 0:Z(maybeApplyInterval(valueof(ne,_),se?.[P])),ce=valueof(ne,R,Float64Array),ue=valueof(ne,G),me=L&&L(ne,oe,ce,ue),he=lengthof(ne),fe=Q(new Float64Array(he)),de=te(new Float64Array(he)),pe=[];for(const be of ie){const ye=oe?Array.from(group(be,we=>oe[we]).values()):[be];if(me)for(const we of ye)we.sort(me);for(const we of ye){let ve=0,Ae=0;z&&we.reverse();for(const Ce of we){const _e=ce[Ce];_e<0?ve=de[Ce]=(fe[Ce]=ve)+_e:_e>0?Ae=de[Ce]=(fe[Ce]=Ae)+_e:de[Ce]=fe[Ce]=Ae}}pe.push(ye)}return I&&I(pe,fe,de,ue),{data:ne,facets:ie}}),V,Y,J]}function maybeOffset(_){if(_!=null){if(typeof _=="function")return _;switch(`${_}`.toLowerCase()){case"expand":case"normalize":return offsetExpand;case"center":case"silhouette":return offsetCenter;case"wiggle":return offsetWiggle}throw new Error(`unknown offset: ${_}`)}}function extent(_,R){let P=0,O=0;for(const I of _){const L=R[I];L<P&&(P=L),L>O&&(O=L)}return[P,O]}function offsetExpand(_,R,P){for(const O of _)for(const I of O){const[L,z]=extent(I,P);for(const F of I){const G=1/(z-L||1);R[F]=G*(R[F]-L),P[F]=G*(P[F]-L)}}}function offsetCenter(_,R,P){for(const O of _){for(const I of O){const[L,z]=extent(I,P);for(const F of I){const G=(z+L)/2;R[F]-=G,P[F]-=G}}offsetZero(O,R,P)}offsetCenterFacets(_,R,P)}function offsetWiggle(_,R,P,O){for(const I of _){const L=new InternMap;let z=0;for(const F of I){let G=-1;const V=F.map(J=>Math.abs(P[J]-R[J])),Z=F.map(J=>{G=O?O[J]:++G;const te=P[J]-R[J],ne=L.has(G)?te-L.get(G):0;return L.set(G,te),ne}),Y=[0,...cumsum(Z)];for(const J of F)R[J]+=z,P[J]+=z;const Q=sum(V);Q&&(z-=sum(V,(J,te)=>(Z[te]/2+Y[te])*J)/Q)}offsetZero(I,R,P)}offsetCenterFacets(_,R,P)}function offsetZero(_,R,P){const O=min$1(_,I=>min$1(I,L=>R[L]));for(const I of _)for(const L of I)R[L]-=O,P[L]-=O}function offsetCenterFacets(_,R,P){const O=_.length;if(O===1)return;const I=_.map(F=>F.flat()),L=I.map(F=>(min$1(F,G=>R[G])+max(F,G=>P[G]))/2),z=min$1(L);for(let F=0;F<O;F++){const G=z-L[F];for(const V of I[F])R[V]+=G,P[V]+=G}}function maybeOrder(_,R,P){if(_===void 0&&R===offsetWiggle)return orderInsideOut(ascendingDefined);if(_!=null){if(typeof _=="string"){const O=_.startsWith("-"),I=O?descendingDefined:ascendingDefined;switch((O?_.slice(1):_).toLowerCase()){case"value":case P:return orderY(I);case"z":return orderZ(I);case"sum":return orderSum(I);case"appearance":return orderAppearance(I);case"inside-out":return orderInsideOut(I)}return orderAccessor(field(_))}if(typeof _=="function")return(_.length===1?orderAccessor:orderComparator)(_);if(isArray(_))return orderGiven(_);throw new Error(`invalid order: ${_}`)}}function orderY(_){return(R,P,O)=>(I,L)=>_(O[I],O[L])}function orderZ(_){return(R,P,O,I)=>(L,z)=>_(I[L],I[z])}function orderSum(_){return orderZDomain(_,(R,P,O,I)=>groupSort(range(R),L=>sum(L,z=>O[z]),L=>I[L]))}function orderAppearance(_){return orderZDomain(_,(R,P,O,I)=>groupSort(range(R),L=>P[greatest(L,z=>O[z])],L=>I[L]))}function orderInsideOut(_){return orderZDomain(_,(R,P,O,I)=>{const L=range(R),z=groupSort(L,Y=>P[greatest(Y,Q=>O[Q])],Y=>I[Y]),F=rollup(L,Y=>sum(Y,Q=>O[Q]),Y=>I[Y]),G=[],V=[];let Z=0;for(const Y of z)Z<0?(Z+=F.get(Y),G.push(Y)):(Z-=F.get(Y),V.push(Y));return V.reverse().concat(G)})}function orderAccessor(_){return R=>{const P=valueof(R,_);return(O,I)=>ascendingDefined(P[O],P[I])}}function orderComparator(_){return R=>isArray(R)?(P,O)=>_(R[P],R[O]):(P,O)=>_(R.get(P),R.get(O))}function orderGiven(_){return orderZDomain(ascendingDefined,()=>_)}function orderZDomain(_,R){return(P,O,I,L)=>{if(!L)throw new Error("missing channel: z");const z=new InternMap(R(P,O,I,L).map((F,G)=>[F,G]));return(F,G)=>_(z.get(L[F]),z.get(L[G]))}}function rectInsets(_,{inset:R=0,insetTop:P=R,insetRight:O=R,insetBottom:I=R,insetLeft:L=R}={}){_.insetTop=number$1(P),_.insetRight=number$1(O),_.insetBottom=number$1(I),_.insetLeft=number$1(L)}function rectRadii(_,{r:R,rx:P,ry:O,rx1:I=R,ry1:L=R,rx2:z=R,ry2:F=R,rx1y1:G=I!==void 0?+I:L!==void 0?+L:0,rx1y2:V=I!==void 0?+I:F!==void 0?+F:0,rx2y1:Z=z!==void 0?+z:L!==void 0?+L:0,rx2y2:Y=z!==void 0?+z:F!==void 0?+F:0}={}){G||V||Z||Y?(_.rx1y1=G,_.rx1y2=V,_.rx2y1=Z,_.rx2y2=Y):(_.rx=impliedString(P,"auto"),_.ry=impliedString(O,"auto"))}function applyRoundedRect(_,R,P,O,I,L){const{rx1y1:z,rx1y2:F,rx2y1:G,rx2y2:V}=L;typeof R!="function"&&(R=constant(R)),typeof P!="function"&&(P=constant(P)),typeof O!="function"&&(O=constant(O)),typeof I!="function"&&(I=constant(I));const Z=Math.max(Math.abs(z+G),Math.abs(F+V)),Y=Math.max(Math.abs(z+F),Math.abs(G+V));_.attr("d",Q=>{const J=R(Q),te=P(Q),ne=O(Q),ie=I(Q),se=J>ne,oe=te>ie,ce=se?ne:J,ue=se?J:ne,me=oe?ie:te,he=oe?te:ie,fe=Math.min(1,(ue-ce)/Z,(he-me)/Y),de=fe*(se?oe?V:G:oe?F:z),pe=fe*(se?oe?F:z:oe?V:G),be=fe*(se?oe?z:F:oe?G:V),ye=fe*(se?oe?G:V:oe?z:F);return`M${ce},${me+biasY(de,ye)}A${de},${de} 0 0 ${de<0?0:1} ${ce+biasX(de,ye)},${me}H${ue-biasX(pe,be)}A${pe},${pe} 0 0 ${pe<0?0:1} ${ue},${me+biasY(pe,be)}V${he-biasY(be,pe)}A${be},${be} 0 0 ${be<0?0:1} ${ue-biasX(be,pe)},${he}H${ce+biasX(ye,de)}A${ye},${ye} 0 0 ${ye<0?0:1} ${ce},${he-biasY(ye,de)}Z`})}function biasX(_,R){return R<0?_:Math.abs(_)}function biasY(_,R){return R<0?Math.abs(_):_}const defaults$6={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},lineDefaults={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Frame extends Mark{constructor(R={}){const{anchor:P=null}=R;super(singleton,void 0,R,P==null?defaults$6:lineDefaults),this.anchor=maybeKeyword(P,"anchor",["top","right","bottom","left"]),rectInsets(this,R),P||rectRadii(this,R)}render(R,P,O,I,L){const{marginTop:z,marginRight:F,marginBottom:G,marginLeft:V,width:Z,height:Y}=I,{anchor:Q,insetTop:J,insetRight:te,insetBottom:ne,insetLeft:ie}=this,{rx:se,ry:oe,rx1y1:ce,rx1y2:ue,rx2y1:me,rx2y2:he}=this,fe=V+ie,de=Z-F-te,pe=z+J,be=Y-G-ne;return create$1(Q?"svg:line":ce||ue||me||he?"svg:path":"svg:rect",L).datum(0).call(applyIndirectStyles,this,I,L).call(applyDirectStyles,this).call(applyChannelStyles,this,O).call(applyTransform,this,{}).call(Q==="left"?ye=>ye.attr("x1",fe).attr("x2",fe).attr("y1",pe).attr("y2",be):Q==="right"?ye=>ye.attr("x1",de).attr("x2",de).attr("y1",pe).attr("y2",be):Q==="top"?ye=>ye.attr("x1",fe).attr("x2",de).attr("y1",pe).attr("y2",pe):Q==="bottom"?ye=>ye.attr("x1",fe).attr("x2",de).attr("y1",be).attr("y2",be):ce||ue||me||he?ye=>ye.call(applyRoundedRect,fe,pe,de,be,this):ye=>ye.attr("x",fe).attr("y",pe).attr("width",de-fe).attr("height",be-pe).attr("rx",se).attr("ry",oe)).node()}}function frame(_){return new Frame(_)}const defaults$5={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},ignoreChannels=new Set(["geometry","href","src","ariaLabel","scales"]);class Tip extends Mark{constructor(R,P={}){P.tip&&(P={...P,tip:!1}),P.title===void 0&&isIterable(R)&&isTextual(R)&&(P={...P,title:identity$1});const{x:O,y:I,x1:L,x2:z,y1:F,y2:G,anchor:V,preferredAnchor:Z="bottom",monospace:Y,fontFamily:Q=Y?"ui-monospace, monospace":void 0,fontSize:J,fontStyle:te,fontVariant:ne,fontWeight:ie,lineHeight:se=1,lineWidth:oe=20,frameAnchor:ce,format:ue,textAnchor:me="start",textOverflow:he,textPadding:fe=8,title:de,pointerSize:pe=12,pathFilter:be="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=P;super(R,{x:{value:L!=null&&z!=null?null:O,scale:"x",optional:!0},y:{value:F!=null&&G!=null?null:I,scale:"y",optional:!0},x1:{value:L,scale:"x",optional:z==null},y1:{value:F,scale:"y",optional:G==null},x2:{value:z,scale:"x",optional:L==null},y2:{value:G,scale:"y",optional:F==null},title:{value:de,optional:!0}},P,defaults$5),this.anchor=maybeAnchor$1(V,"anchor"),this.preferredAnchor=maybeAnchor$1(Z,"preferredAnchor"),this.frameAnchor=maybeFrameAnchor(ce),this.textAnchor=impliedString(me,"middle"),this.textPadding=+fe,this.pointerSize=+pe,this.pathFilter=string$2(be),this.lineHeight=+se,this.lineWidth=+oe,this.textOverflow=maybeTextOverflow(he),this.monospace=!!Y,this.fontFamily=string$2(Q),this.fontSize=number$1(J),this.fontStyle=string$2(te),this.fontVariant=string$2(ne),this.fontWeight=string$2(ie);for(const ye in defaults$5)ye in this.channels&&(this[ye]=defaults$5[ye]);this.splitLines=splitter(this),this.clipLine=clipper(this),this.format=typeof ue=="string"||typeof ue=="function"?{title:ue}:{...ue}}render(R,P,O,I,L){const z=this,{x:F,y:G,fx:V,fy:Z}=P,{ownerSVGElement:Y,document:Q}=L,{anchor:J,monospace:te,lineHeight:ne,lineWidth:ie}=this,{textPadding:se,pointerSize:oe,pathFilter:ce}=this,{marginTop:ue,marginLeft:me}=I,{x1:he,y1:fe,x2:de,y2:pe,x:be=he??de,y:ye=fe??pe}=O,we=V?V(R.fx)-me:0,ve=Z?Z(R.fy)-ue:0,[Ae,Ce]=applyFrameAnchor(this,I),_e=anchorX$1(O,Ae),Re=anchorY$1(O,Ce),Me=te?monospaceWidth:defaultWidth,$e=Me(ellipsis);let Se,Ee;"title"in O?(Se=getSourceChannels.call(this,{title:O.channels.title},P),Ee=formatTitle):(Se=getSourceChannels.call(this,O.channels,P),Ee=formatChannels);const ke=create$1("svg:g",L).call(applyIndirectStyles,this,I,L).call(applyIndirectTextStyles,this).call(applyTransform,this,{x:be&&F,y:ye&&G}).call(Ze=>Ze.selectAll().data(R).enter().append("g").attr("transform",Ye=>`translate(${Math.round(_e(Ye))},${Math.round(Re(Ye))})`).call(applyDirectStyles,this).call(Ye=>Ye.append("path").attr("filter",ce)).call(Ye=>Ye.append("text").each(function(Ie){const Ge=select(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const Oe=Ee.call(z,Ie,R,Se,P,O);if(typeof Oe=="string")for(const Ve of z.splitLines(Oe))xe(Ge,{value:z.clipLine(Ve)});else{const Ve=new Set;for(const Ue of Oe){const{label:De=""}=Ue;De&&Ve.has(De)||(Ve.add(De),xe(Ge,Ue))}}})));function xe(Ze,{label:Ye,value:Ie,color:Ge,opacity:Oe}){Ye??="",Ie??="";const Ve=Ge!=null||Oe!=null;let Ue,De=ie*100;const[nt]=cut(Ye,De,Me,$e);if(nt>=0)Ye=Ye.slice(0,nt).trimEnd()+ellipsis,Ue=Ie.trim(),Ie="";else{(Ye||!Ie&&!Ve)&&(Ie=" "+Ie);const[rt]=cut(Ie,De-Me(Ye),Me,$e);rt>=0&&(Ue=Ie.trim(),Ie=Ie.slice(0,rt).trimEnd()+ellipsis)}const Je=Ze.append("tspan").attr("x",0).attr("dy",`${ne}em`).text("");Ye&&Je.append("tspan").attr("font-weight","bold").text(Ye),Ie&&Je.append(()=>Q.createTextNode(Ie)),Ve&&Je.append("tspan").text(" ").attr("fill",Ge).attr("fill-opacity",Oe).style("user-select","none"),Ue&&Je.append("title").text(Ue)}function ze(){const{width:Ze,height:Ye}=I.facet??I;ke.selectChildren().each(function(Ie){let{x:Ge,width:Oe,height:Ve}=this.getBBox();Oe=Math.round(Oe),Ve=Math.round(Ve);let Ue=J;if(Ue===void 0){const Je=_e(Ie)+we,rt=Re(Ie)+ve,at=Je+Oe+oe+se*2<Ze,dt=Je-Oe-oe-se*2>0,ot=rt+Ve+oe+se*2<Ye,et=rt-Ve-oe-se*2>0;Ue=at&&dt?ot&&et?z.preferredAnchor:et?"bottom":"top":ot&&et?at?"left":"right":(at||dt)&&(ot||et)?`${et?"bottom":"top"}-${at?"left":"right"}`:z.preferredAnchor}const De=this.firstChild,nt=this.lastChild;if(De.setAttribute("d",getPath(Ue,oe,se,Oe,Ve)),Ge)for(const Je of nt.childNodes)Je.setAttribute("x",-Ge);nt.setAttribute("y",`${+getLineOffset(Ue,nt.childNodes.length,ne).toFixed(6)}em`),nt.setAttribute("transform",`translate(${getTextTranslate(Ue,oe,se,Oe,Ve)})`)}),ke.attr("visibility",null)}return R.length&&(ke.attr("visibility","hidden"),Y.isConnected?Promise.resolve().then(ze):typeof requestAnimationFrame<"u"&&requestAnimationFrame(ze)),ke.node()}}function tip(_,{x:R,y:P,...O}={}){return O.frameAnchor===void 0&&([R,P]=maybeTuple(R,P)),new Tip(_,{...O,x:R,y:P})}function getLineOffset(_,R,P){return/^top(?:-|$)/.test(_)?.94-P:-.29-R*P}function getTextTranslate(_,R,P,O,I){switch(_){case"middle":return[-O/2,I/2];case"top-left":return[P,R+P];case"top":return[-O/2,R/2+P];case"top-right":return[-O-P,R+P];case"right":return[-R/2-O-P,I/2];case"bottom-left":return[P,-R-P];case"bottom":return[-O/2,-R/2-P];case"bottom-right":return[-O-P,-R-P];case"left":return[P+R/2,I/2]}}function getPath(_,R,P,O,I){const L=O+P*2,z=I+P*2;switch(_){case"middle":return`M${-L/2},${-z/2}h${L}v${z}h${-L}z`;case"top-left":return`M0,0l${R},${R}h${L-R}v${z}h${-L}z`;case"top":return`M0,0l${R/2},${R/2}h${(L-R)/2}v${z}h${-L}v${-z}h${(L-R)/2}z`;case"top-right":return`M0,0l${-R},${R}h${R-L}v${z}h${L}z`;case"right":return`M0,0l${-R/2},${-R/2}v${R/2-z/2}h${-L}v${z}h${L}v${R/2-z/2}z`;case"bottom-left":return`M0,0l${R},${-R}h${L-R}v${-z}h${-L}z`;case"bottom":return`M0,0l${R/2},${-R/2}h${(L-R)/2}v${-z}h${-L}v${z}h${(L-R)/2}z`;case"bottom-right":return`M0,0l${-R},${-R}h${R-L}v${-z}h${L}z`;case"left":return`M0,0l${R/2},${-R/2}v${R/2-z/2}h${L}v${z}h${-L}v${R/2-z/2}z`}}function getSourceChannels(_,R){const P={};let O=this.format;O=maybeExpandPairedFormat(O,_,"x"),O=maybeExpandPairedFormat(O,_,"y"),this.format=O;for(const I in O){const L=O[I];if(!(L===null||L===!1))if(I==="fx"||I==="fy")P[I]=!0;else{const z=getSource(_,I);z&&(P[I]=z)}}for(const I in _){if(I in P||I in O||ignoreChannels.has(I)||(I==="x"||I==="y")&&_.geometry)continue;const L=getSource(_,I);if(L){if(L.scale==null&&L.defaultScale==="color")continue;P[I]=L}}this.facet&&(R.fx&&!("fx"in O)&&(P.fx=!0),R.fy&&!("fy"in O)&&(P.fy=!0));for(const I in P){const L=this.format[I];if(typeof L=="string"){const z=P[I]?.value??R[I]?.domain()??[];this.format[I]=(isTemporal(z)?utcFormat:format$1)(L)}else if(L===void 0||L===!0){const z=R[I];this.format[I]=z?.bandwidth?inferTickFormat(z,z.domain()):formatDefault}}return P}function maybeExpandPairedFormat(_,R,P){if(!(P in _))return _;const O=`${P}1`,I=`${P}2`;if((O in _||!(O in R))&&(I in _||!(I in R)))return _;const L=Object.entries(_),z=_[P];return L.splice(L.findIndex(([F])=>F===P)+1,0,[O,z],[I,z]),Object.fromEntries(L)}function formatTitle(_,R,{title:P}){return this.format.title(P.value[_],_)}function*formatChannels(_,R,P,O,I){for(const L in P){if(L==="fx"||L==="fy"){yield{label:formatLabel(O,P,L),value:this.format[L](R[L],_)};continue}if(L==="x1"&&"x2"in P||L==="y1"&&"y2"in P)continue;const z=P[L];if(L==="x2"&&"x1"in P)yield{label:formatPairLabel(O,P,"x"),value:formatPair(this.format.x2,P.x1,z,_)};else if(L==="y2"&&"y1"in P)yield{label:formatPairLabel(O,P,"y"),value:formatPair(this.format.y2,P.y1,z,_)};else{const F=z.value[_],G=z.scale;if(!defined(F)&&G==null)continue;yield{label:formatLabel(O,P,L),value:this.format[L](F,_),color:G==="color"?I[L][_]:null,opacity:G==="opacity"?I[L][_]:null}}}}function formatPair(_,R,P,O){return P.hint?.length?`${_(P.value[O]-R.value[O],O)}`:`${_(R.value[O],O)}${_(P.value[O],O)}`}function formatPairLabel(_,R,P){const O=formatLabel(_,R,`${P}1`,P),I=formatLabel(_,R,`${P}2`,P);return O===I?O:`${O}${I}`}function formatLabel(_,R,P,O=P){const I=R[P],L=_[I?.scale??P];return String(L?.label??I?.label??O)}function plot(_={}){const{facet:R,style:P,title:O,subtitle:I,caption:L,ariaLabel:z,ariaDescription:F}=_,G=maybeClassName(_.className),V=_.marks===void 0?[]:flatMarks(_.marks);V.push(...inferTips(V));const Z=maybeTopFacet(R,_),Y=new Map;for(const $e of V){const Se=maybeMarkFacet($e,Z,_);Se&&Y.set($e,Se)}const Q=new Map;Z&&addScaleChannels(Q,[Z],_),addScaleChannels(Q,Y,_);const J=flatMarks(inferAxes(V,Q,_));for(const $e of J){const Se=maybeMarkFacet($e,Z,_);Se&&Y.set($e,Se)}V.unshift(...J);let te=createFacets(Q,_);if(te!==void 0){const $e=Z?facetFilter(te,Z):void 0;for(const Ee of V){if(Ee.facet===null||Ee.facet==="super")continue;const ke=Y.get(Ee);ke!==void 0&&(ke.facetsIndex=Ee.fx!=null||Ee.fy!=null?facetFilter(te,ke):$e)}const Se=new Set;for(const{facetsIndex:Ee}of Y.values())Ee?.forEach((ke,xe)=>{ke?.length>0&&Se.add(xe)});te.forEach(0<Se.size&&Se.size<te.length?(Ee,ke)=>Ee.empty=!Se.has(ke):Ee=>Ee.empty=!1);for(const Ee of V)if(Ee.facet==="exclude"){const ke=Y.get(Ee);ke!==void 0&&(ke.facetsIndex=facetExclude(ke.facetsIndex))}}for(const $e of registry.keys())isScaleOptions(_[$e])&&$e!=="fx"&&$e!=="fy"&&Q.set($e,[]);const ne=new Map;for(const $e of V){if(ne.has($e))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:Se,channels:Ee}=Y.get($e)??{},{data:ke,facets:xe,channels:ze}=$e.initialize(Se,Ee,_);applyScaleTransforms(ze,_),ne.set($e,{data:ke,facets:xe,channels:ze})}const ie=createScales(addScaleChannels(Q,ne,_),_),se=createDimensions(ie,V,_);autoScaleRange(ie,se);const oe=createScaleFunctions(ie),{fx:ce,fy:ue}=oe,me=ce||ue?innerDimensions(ie,se):se,he=ce||ue?actualDimensions(oe,se):se,fe=createContext(_),de=fe.document,pe=creator("svg").call(de.documentElement);let be=pe;fe.ownerSVGElement=pe,fe.className=G,fe.projection=createProjection(_,me),fe.path=function(){return geoPath(this.projection??xyProjection(oe))},fe.filterFacets=($e,Se)=>facetFilter(te,{channels:Se,groups:facetGroups($e,Se)}),fe.getMarkState=$e=>{const Se=ne.get($e),Ee=Y.get($e);return{...Se,channels:{...Se.channels,...Ee?.channels}}},fe.dispatchValue=$e=>{be.value!==$e&&(be.value=$e,be.dispatchEvent(new fe.document.defaultView.Event("input",{bubbles:!0})))};const ye=new Set;for(const[$e,Se]of ne)if($e.initializer!=null){const Ee=$e.facet==="super"?he:me,ke=$e.initializer(Se.data,Se.facets,Se.channels,oe,Ee,fe);if(ke.data!==void 0&&(Se.data=ke.data),ke.facets!==void 0&&(Se.facets=ke.facets),ke.channels!==void 0){const{fx:xe,fy:ze,...Ze}=ke.channels;inferChannelScales(Ze),Object.assign(Se.channels,Ze);for(const Ye of Object.values(Ze)){const{scale:Ie}=Ye;Ie!=null&&!isPosition(registry.get(Ie))&&(applyScaleTransform(Ye,_),ye.add(Ie))}(xe!=null||ze!=null)&&Y.set($e,!0)}}if(ye.size){const $e=new Map;addScaleChannels($e,ne,_,xe=>ye.has(xe)),addScaleChannels(Q,ne,_,xe=>ye.has(xe));const Se=inheritScaleLabels(createScales($e,_),ie),{scales:Ee,...ke}=createScaleFunctions(Se);Object.assign(ie,Se),Object.assign(oe,ke),Object.assign(oe.scales,Ee)}let we,ve;te!==void 0&&(we={x:ce?.domain(),y:ue?.domain()},te=recreateFacets(te,we),ve=facetTranslator(ce,ue,se));for(const[$e,Se]of ne)Se.values=$e.scale(Se.channels,oe,fe);const{width:Ae,height:Ce}=se;select(pe).attr("class",G).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",Ae).attr("height",Ce).attr("viewBox",`0 0 ${Ae} ${Ce}`).attr("aria-label",z).attr("aria-description",F).call($e=>$e.append("style").text(`:where(.${G}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${G} text),
:where(.${G} tspan) {
  white-space: pre;
}`)).call(applyInlineStyles,P);for(const $e of V){const{channels:Se,values:Ee,facets:ke}=ne.get($e);if(te===void 0||$e.facet==="super"){let xe=null;if(ke&&(xe=ke[0],xe=$e.filter(xe,Se,Ee),xe.length===0))continue;const ze=$e.render(xe,oe,Ee,he,fe);if(ze==null)continue;pe.appendChild(ze)}else{let xe;for(const ze of te){if(!($e.facetAnchor?.(te,we,ze)??!ze.empty))continue;let Ze=null;if(ke){const Ie=Y.has($e);if(Ze=ke[Ie?ze.i:0],Ze=$e.filter(Ze,Se,Ee),Ze.length===0)continue;!Ie&&Ze===ke[0]&&(Ze=subarray(Ze)),Ze.fx=ze.x,Ze.fy=ze.y,Ze.fi=ze.i}const Ye=$e.render(Ze,oe,Ee,me,fe);if(Ye!=null){(xe??=select(pe).append("g")).append(()=>Ye).datum(ze);for(const Ie of["aria-label","aria-description","aria-hidden","transform"])Ye.hasAttribute(Ie)&&(xe.attr(Ie,Ye.getAttribute(Ie)),Ye.removeAttribute(Ie))}}xe?.selectChildren().each(ve)}}const _e=createLegends(ie,fe,_),{figure:Re=O!=null||I!=null||L!=null||_e.length>0}=_;Re&&(be=de.createElement("figure"),be.className=`${G}-figure`,be.style.maxWidth="initial",O!=null&&be.append(createTitleElement(de,O,"h2")),I!=null&&be.append(createTitleElement(de,I,"h3")),be.append(..._e,pe),L!=null&&be.append(createFigcaption(de,L)),"value"in pe&&(be.value=pe.value,delete pe.value)),be.scale=exposeScales(oe.scales),be.legend=exposeLegends(ie,fe,_);const Me=consumeWarnings();return Me>0&&select(pe).append("text").attr("x",Ae).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${Me.toLocaleString("en-US")} warning${Me===1?"":"s"}. Please check the console.`),be}function createTitleElement(_,R,P){if(R.ownerDocument)return R;const O=_.createElement(P);return O.append(R),O}function createFigcaption(_,R){const P=_.createElement("figcaption");return P.append(R),P}function flatMarks(_){return _.flat(1/0).filter(R=>R!=null).map(markify)}function markify(_){return typeof _.render=="function"?_:new Render(_)}class Render extends Mark{constructor(R){if(typeof R!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=R}render(){}}function applyScaleTransforms(_,R){for(const P in _)applyScaleTransform(_[P],R);return _}function applyScaleTransform(_,R){const{scale:P,transform:O=!0}=_;if(P==null||!O)return;const{type:I,percent:L,interval:z,transform:F=L?G=>G==null?NaN:G*100:maybeIntervalTransform(z,I)}=R[P]??{};F!=null&&(_.value=map(_.value,F),_.transform=!1)}function inferChannelScales(_){for(const R in _)inferChannelScale(R,_[R])}function addScaleChannels(_,R,P,O=yes){for(const{channels:I}of R.values())for(const L in I){const z=I[L],{scale:F}=z;if(F!=null&&O(F))if(F==="projection"){if(!hasProjection(P)){const G=P.x?.domain===void 0,V=P.y?.domain===void 0;if(G||V){const[Z,Y]=getGeometryChannels(z);G&&addScaleChannel(_,"x",Z),V&&addScaleChannel(_,"y",Y)}}}else addScaleChannel(_,F,z)}return _}function addScaleChannel(_,R,P){const O=_.get(R);O!==void 0?O.push(P):_.set(R,[P])}function maybeTopFacet(_,R){if(_==null)return;const{x:P,y:O}=_;if(P==null&&O==null)return;const I=dataify(_.data);if(I==null)throw new Error("missing facet data");const L={};P!=null&&(L.fx=createChannel(I,{value:P,scale:"fx"})),O!=null&&(L.fy=createChannel(I,{value:O,scale:"fy"})),applyScaleTransforms(L,R);const z=facetGroups(I,L);return{channels:L,groups:z,data:_.data}}function maybeMarkFacet(_,R,P){if(_.facet===null||_.facet==="super")return;const{fx:O,fy:I}=_;if(O!=null||I!=null){const G=dataify(_.data??O??I);if(G===void 0)throw new Error(`missing facet data in ${_.ariaLabel}`);if(G===null)return;const V={};return O!=null&&(V.fx=createChannel(G,{value:O,scale:"fx"})),I!=null&&(V.fy=createChannel(G,{value:I,scale:"fy"})),applyScaleTransforms(V,P),{channels:V,groups:facetGroups(G,V)}}if(R===void 0)return;const{channels:L,groups:z,data:F}=R;if(_.facet!=="auto"||_.data===F)return{channels:L,groups:z};F.length>0&&(z.size>1||z.size===1&&L.fx&&L.fy&&[...z][0][1].size>1)&&lengthof(dataify(_.data))===lengthof(F)&&warn(`Warning: the ${_.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function derive(_,R={}){return initializer({...R,x:null,y:null},(P,O,I,L,z,F)=>F.getMarkState(_))}function inferTips(_){const R=[];for(const P of _){let O=P.tip;if(O){O===!0?O={}:typeof O=="string"&&(O={pointer:O});let{pointer:I,preferredAnchor:L}=O;I=/^x$/i.test(I)?pointerX:/^y$/i.test(I)?pointerY:pointer,O=I(derive(P,O)),O.title=null,L===void 0&&(O.preferredAnchor=I===pointerY?"left":"bottom");const z=tip(P.data,O);z.facet=P.facet,z.facetAnchor=P.facetAnchor,R.push(z)}}return R}function inferAxes(_,R,P){let{projection:O,x:I={},y:L={},fx:z={},fy:F={},axis:G,grid:V,facet:Z={},facet:{axis:Y=G,grid:Q}=Z,x:{axis:J=G,grid:te=J===null?null:V}=I,y:{axis:ne=G,grid:ie=ne===null?null:V}=L,fx:{axis:se=Y,grid:oe=se===null?null:Q}=z,fy:{axis:ce=Y,grid:ue=ce===null?null:Q}=F}=P;(O||!isScaleOptions(I)&&!hasPositionChannel("x",_))&&(J=te=null),(O||!isScaleOptions(L)&&!hasPositionChannel("y",_))&&(ne=ie=null),R.has("fx")||(se=oe=null),R.has("fy")||(ce=ue=null),J===void 0&&(J=!hasAxis(_,"x")),ne===void 0&&(ne=!hasAxis(_,"y")),se===void 0&&(se=!hasAxis(_,"fx")),ce===void 0&&(ce=!hasAxis(_,"fy")),J===!0&&(J="bottom"),ne===!0&&(ne="left"),se===!0&&(se=J==="top"||J===null?"bottom":"top"),ce===!0&&(ce=ne==="right"||ne===null?"left":"right");const me=[];return maybeGrid(me,ue,gridFy,F),maybeAxis(me,ce,axisFy,"right","left",Z,F),maybeGrid(me,oe,gridFx,z),maybeAxis(me,se,axisFx,"top","bottom",Z,z),maybeGrid(me,ie,gridY,L),maybeAxis(me,ne,axisY,"left","right",P,L),maybeGrid(me,te,gridX,I),maybeAxis(me,J,axisX,"bottom","top",P,I),me}function maybeAxis(_,R,P,O,I,L,z){if(!R)return;const F=isBoth(R);z=axisOptions(F?O:R,L,z);const{line:G}=z;(P===axisY||P===axisX)&&G&&!isNone(G)&&_.push(frame(lineOptions(z))),_.push(P(z)),F&&_.push(P({...z,anchor:I,label:null}))}function maybeGrid(_,R,P,O){!R||isNone(R)||_.push(P(gridOptions(R,O)))}function isBoth(_){return/^\s*both\s*$/i.test(_)}function axisOptions(_,R,{line:P=R.line,ticks:O,tickSize:I,tickSpacing:L,tickPadding:z,tickFormat:F,tickRotate:G,fontVariant:V,ariaLabel:Z,ariaDescription:Y,label:Q=R.label,labelAnchor:J,labelArrow:te=R.labelArrow,labelOffset:ne}){return{anchor:_,line:P,ticks:O,tickSize:I,tickSpacing:L,tickPadding:z,tickFormat:F,tickRotate:G,fontVariant:V,ariaLabel:Z,ariaDescription:Y,label:Q,labelAnchor:J,labelArrow:te,labelOffset:ne}}function lineOptions(_){const{anchor:R,line:P}=_;return{anchor:R,facetAnchor:R+"-empty",stroke:P===!0?void 0:P}}function gridOptions(_,{stroke:R=isColor(_)?_:void 0,ticks:P=isGridTicks(_)?_:void 0,tickSpacing:O,ariaLabel:I,ariaDescription:L}){return{stroke:R,ticks:P,tickSpacing:O,ariaLabel:I,ariaDescription:L}}function isGridTicks(_){switch(typeof _){case"number":return!0;case"string":return!isColor(_)}return isIterable(_)||typeof _?.range=="function"}function hasAxis(_,R){const P=`${R}-axis `;return _.some(O=>O.ariaLabel?.startsWith(P))}function hasPositionChannel(_,R){for(const P of R)for(const O in P.channels){const{scale:I}=P.channels[O];if(I===_||I==="projection")return!0}return!1}function inheritScaleLabels(_,R){for(const P in _){const O=_[P],I=R[P];O.label===void 0&&I&&(O.label=I.label)}return _}function actualDimensions({fx:_,fy:R},P){const{marginTop:O,marginRight:I,marginBottom:L,marginLeft:z,width:F,height:G}=outerDimensions(P),V=_&&outerRange(_),Z=R&&outerRange(R);return{marginTop:R?Z[0]:O,marginRight:_?F-V[1]:I,marginBottom:R?G-Z[1]:L,marginLeft:_?V[0]:z,inset:{marginTop:P.marginTop,marginRight:P.marginRight,marginBottom:P.marginBottom,marginLeft:P.marginLeft},width:F,height:G}}function outerRange(_){const R=_.domain();if(R.length===0)return[0,_.bandwidth()];let P=_(R[0]),O=_(R[R.length-1]);return O<P&&([P,O]=[O,P]),[P,O+_.bandwidth()]}const curves=new Map([["basis",curveBasis],["basis-closed",curveBasisClosed],["basis-open",curveBasisOpen],["bundle",curveBundle],["bump-x",bumpX],["bump-y",bumpY],["cardinal",curveCardinal],["cardinal-closed",curveCardinalClosed],["cardinal-open",curveCardinalOpen],["catmull-rom",curveCatmullRom],["catmull-rom-closed",curveCatmullRomClosed],["catmull-rom-open",curveCatmullRomOpen],["linear",curveLinear],["linear-closed",curveLinearClosed],["monotone-x",monotoneX],["monotone-y",monotoneY],["natural",curveNatural],["step",curveStep],["step-after",stepAfter],["step-before",stepBefore]]);function maybeCurve(_=curveLinear,R){if(typeof _=="function")return _;const P=curves.get(`${_}`.toLowerCase());if(!P)throw new Error(`unknown curve: ${_}`);if(R!==void 0){if("beta"in P)return P.beta(R);if("tension"in P)return P.tension(R);if("alpha"in P)return P.alpha(R)}return P}function maybeCurveAuto(_=curveAuto,R){return typeof _!="function"&&`${_}`.toLowerCase()==="auto"?curveAuto:maybeCurve(_,R)}function curveAuto(_){return curveLinear(_)}function binX(_={y:"count"},R={}){[_,R]=mergeOptions(_,R);const{x:P,y:O}=R;return binn(maybeBinValue(P,R,identity$1),null,null,O,_,maybeInsetX(R))}function maybeDenseInterval(_,R,P={}){if(P?.interval==null)return P;const{reduce:O=reduceFirst}=P,I={filter:null};return P[R]!=null&&(I[R]=O),P[`${R}1`]!=null&&(I[`${R}1`]=O),P[`${R}2`]!=null&&(I[`${R}2`]=O),_(I,P)}function maybeDenseIntervalX(_={}){return maybeDenseInterval(binX,"y",withTip(_,"x"))}function binn(_,R,P,O,{data:I=reduceIdentity,filter:L=reduceCount,sort:z,reverse:F,...G}={},V={}){_=maybeBin(_),R=maybeBin(R),G=maybeBinOutputs(G,V),I=maybeBinReduce(I,identity$1),z=z==null?void 0:maybeBinOutput("sort",z,V),L=L==null?void 0:maybeBinEvaluator("filter",L,V),O!=null&&hasOutput(G,"y","y1","y2")&&(O=null);const[Z,Y]=maybeColumn(_),[Q,J]=maybeColumn(_),[te,ne]=maybeColumn(R),[ie,se]=maybeColumn(R),[oe,ce]=O!=null?[O,"y"]:[],[ue,me]=maybeColumn(oe),{x:he,y:fe,z:de,fill:pe,stroke:be,x1:ye,x2:we,y1:ve,y2:Ae,domain:Ce,cumulative:_e,thresholds:Re,interval:Me,...$e}=V,[Se,Ee]=maybeColumn(de),[ke]=maybeColorChannel(pe),[xe]=maybeColorChannel(be),[ze,Ze]=maybeColumn(ke),[Ye,Ie]=maybeColumn(xe);return{..."z"in V&&{z:Se||de},..."fill"in V&&{fill:ze||pe},..."stroke"in V&&{stroke:Ye||be},...basic($e,(Ge,Oe,Ve)=>{const Ue=maybeApplyInterval(valueof(Ge,oe),Ve?.[ce]),De=valueof(Ge,de),nt=valueof(Ge,ke),Je=valueof(Ge,xe),rt=maybeSubgroup(G,{z:De,fill:nt,stroke:Je}),at=[],dt=[],ot=Ue&&me([]),et=De&&Ee([]),Et=nt&&Ze([]),At=Je&&Ie([]),Ct=_&&Y([]),Gt=_&&J([]),pt=R&&ne([]),bt=R&&se([]),Fe=bing(_,R,Ge);let Ke=0;for(const tt of G)tt.initialize(Ge);z&&z.initialize(Ge),L&&L.initialize(Ge);for(const tt of Oe){const lt=[];for(const mt of G)mt.scope("facet",tt);z&&z.scope("facet",tt),L&&L.scope("facet",tt);for(const[mt,Nt]of maybeGroup(tt,rt))for(const[jt,kt]of maybeGroup(Nt,Ue))for(const[xt,Ft]of Fe(kt))if(rt&&(Ft.z=mt),!(L&&!L.reduce(xt,Ft))){lt.push(Ke++),dt.push(I.reduceIndex(xt,Ge,Ft)),Ue&&ot.push(jt),De&&et.push(rt===De?mt:De[(xt.length>0?xt:kt)[0]]),nt&&Et.push(rt===nt?mt:nt[(xt.length>0?xt:kt)[0]]),Je&&At.push(rt===Je?mt:Je[(xt.length>0?xt:kt)[0]]),Ct&&(Ct.push(Ft.x1),Gt.push(Ft.x2)),pt&&(pt.push(Ft.y1),bt.push(Ft.y2));for(const Pt of G)Pt.reduce(xt,Ft);z&&z.reduce(xt,Ft)}at.push(lt)}return maybeSort(at,z,F),{data:dt,facets:at}}),...!hasOutput(G,"x")&&(Z?{x1:Z,x2:Q,x:mid(Z,Q)}:{x:he,x1:ye,x2:we}),...!hasOutput(G,"y")&&(te?{y1:te,y2:ie,y:mid(te,ie)}:{y:fe,y1:ve,y2:Ae}),...ue&&{[ce]:ue},...Object.fromEntries(G.map(({name:Ge,output:Oe})=>[Ge,Oe]))}}function mergeOptions({cumulative:_,domain:R,thresholds:P,interval:O,...I},L){return[I,{cumulative:_,domain:R,thresholds:P,interval:O,...L}]}function maybeBinValue(_,{cumulative:R,domain:P,thresholds:O,interval:I},L){return _={...maybeValue(_)},_.domain===void 0&&(_.domain=P),_.cumulative===void 0&&(_.cumulative=R),_.thresholds===void 0&&(_.thresholds=O),_.interval===void 0&&(_.interval=I),_.value===void 0&&(_.value=L),_.thresholds=maybeThresholds(_.thresholds,_.interval),_}function maybeBin(_){if(_==null)return;const{value:R,cumulative:P,domain:O=extent$1,thresholds:I}=_,L=z=>{let F=valueof(z,R),G;if(isTemporal(F)||isTimeThresholds(I)){F=map(F,coerceDate,Float64Array);let[Z,Y]=typeof O=="function"?O(F):O,Q=typeof I=="function"&&!isInterval(I)?I(F,Z,Y):I;typeof Q=="number"&&(Q=utcTickInterval(Z,Y,Q)),isInterval(Q)&&(O===extent$1&&(Z=Q.floor(Z),Y=Q.offset(Q.floor(Y))),Q=Q.range(Z,Q.offset(Y))),G=Q}else{F=coerceNumbers(F);let[Z,Y]=typeof O=="function"?O(F):O,Q=typeof I=="function"&&!isInterval(I)?I(F,Z,Y):I;if(typeof Q=="number")if(O===extent$1){let J=tickIncrement(Z,Y,Q);if(isFinite(J))if(J>0){let te=Math.round(Z/J),ne=Math.round(Y/J);te*J<=Z||--te,ne*J>Y||++ne;let ie=ne-te+1;Q=new Float64Array(ie);for(let se=0;se<ie;++se)Q[se]=(te+se)*J}else if(J<0){J=-J;let te=Math.round(Z*J),ne=Math.round(Y*J);te/J<=Z||--te,ne/J>Y||++ne;let ie=ne-te+1;Q=new Float64Array(ie);for(let se=0;se<ie;++se)Q[se]=(te+se)/J}else Q=[Z];else Q=[Z]}else Q=ticks(Z,Y,Q);else isInterval(Q)&&(O===extent$1&&(Z=Q.floor(Z),Y=Q.offset(Q.floor(Y))),Q=Q.range(Z,Q.offset(Y)));G=Q}const V=[];if(G.length===1)V.push([G[0],G[0]]);else for(let Z=1;Z<G.length;++Z)V.push([G[Z-1],G[Z]]);return V.bin=(P<0?bin1cn:P>0?bin1cp:bin1)(V,G,F),V};return L.label=labelof(R),L}function maybeThresholds(_,R,P=thresholdAuto){if(_===void 0)return R===void 0?P:maybeRangeInterval(R);if(typeof _=="string"){switch(_.toLowerCase()){case"freedman-diaconis":return thresholdFreedmanDiaconis;case"scott":return thresholdScott;case"sturges":return thresholdSturges;case"auto":return thresholdAuto}return utcInterval(_)}return _}function maybeBinOutputs(_,R){return maybeOutputs(_,R,maybeBinOutput)}function maybeBinOutput(_,R,P){return maybeOutput(_,R,P,maybeBinEvaluator)}function maybeBinEvaluator(_,R,P){return maybeEvaluator(_,R,P,maybeBinReduce)}function maybeBinReduce(_,R){return maybeReduce(_,R,maybeBinReduceFallback)}function maybeBinReduceFallback(_){switch(`${_}`.toLowerCase()){case"x":return reduceX;case"x1":return reduceX1;case"x2":return reduceX2;case"y":return reduceY;case"y1":return reduceY1;case"y2":return reduceY2;case"z":return reduceZ}throw new Error(`invalid bin reduce: ${_}`)}function thresholdAuto(_,R,P){return Math.min(200,thresholdScott(_,R,P))}function isTimeThresholds(_){return isTimeInterval(_)||isIterable(_)&&isTemporal(_)}function bing(_,R,P){const O=_?.(P),I=R?.(P);return O&&I?function*(L){const z=O.bin(L);for(const[F,[G,V]]of O.entries()){const Z=I.bin(z[F]);for(const[Y,[Q,J]]of I.entries())yield[Z[Y],{data:P,x1:G,y1:Q,x2:V,y2:J}]}}:O?function*(L){const z=O.bin(L);for(const[F,[G,V]]of O.entries())yield[z[F],{data:P,x1:G,x2:V}]}:function*(L){const z=I.bin(L);for(const[F,[G,V]]of I.entries())yield[z[F],{data:P,y1:G,y2:V}]}}function bin1(_,R,P){return R=coerceNumbers(R),O=>{const I=_.map(()=>[]);for(const L of O)I[bisectRight(R,P[L])-1]?.push(L);return I}}function bin1cp(_,R,P){const O=bin1(_,R,P);return I=>{const L=O(I);for(let z=1,F=L.length;z<F;++z){const G=L[z-1],V=L[z];for(const Z of G)V.push(Z)}return L}}function bin1cn(_,R,P){const O=bin1(_,R,P);return I=>{const L=O(I);for(let z=L.length-2;z>=0;--z){const F=L[z+1],G=L[z];for(const V of F)G.push(V)}return L}}function mid1(_,R){const P=(+_+ +R)/2;return _ instanceof Date?new Date(P):P}const reduceX={reduceIndex(_,R,{x1:P,x2:O}){return mid1(P,O)}},reduceY={reduceIndex(_,R,{y1:P,y2:O}){return mid1(P,O)}},reduceX1={reduceIndex(_,R,{x1:P}){return P}},reduceX2={reduceIndex(_,R,{x2:P}){return P}},reduceY1={reduceIndex(_,R,{y1:P}){return P}},reduceY2={reduceIndex(_,R,{y2:P}){return P}},defaults$4={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Area extends Mark{constructor(R,P={}){const{x1:O,y1:I,x2:L,y2:z,z:F,curve:G,tension:V}=P;super(R,{x1:{value:O,scale:"x"},y1:{value:I,scale:"y"},x2:{value:L,scale:"x",optional:!0},y2:{value:z,scale:"y",optional:!0},z:{value:maybeZ(P),optional:!0}},P,defaults$4),this.z=F,this.curve=maybeCurve(G,V)}filter(R){return R}render(R,P,O,I,L){const{x1:z,y1:F,x2:G=z,y2:V=F}=O;return create$1("svg:g",L).call(applyIndirectStyles,this,I,L).call(applyTransform,this,P,0,0).call(Z=>Z.selectAll().data(groupIndex(R,[z,F,G,V],this,O)).enter().append("path").call(applyDirectStyles,this).call(applyGroupedChannelStyles,this,O).attr("d",shapeArea().curve(this.curve).defined(Y=>Y>=0).x0(Y=>z[Y]).y0(Y=>F[Y]).x1(Y=>G[Y]).y1(Y=>V[Y]))).node()}}function areaY(_,R){const{x:P=indexOf,...O}=maybeDenseIntervalX(R);return new Area(_,maybeStackY(maybeIdentityY({...O,x1:P,x2:void 0},P===indexOf?"y2":"y")))}const defaults$3={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Link extends Mark{constructor(R,P={}){const{x1:O,y1:I,x2:L,y2:z,curve:F,tension:G}=P;super(R,{x1:{value:O,scale:"x"},y1:{value:I,scale:"y"},x2:{value:L,scale:"x",optional:!0},y2:{value:z,scale:"y",optional:!0}},P,defaults$3),this.curve=maybeCurveAuto(F,G),markers(this,P)}project(R,P,O){this.curve!==curveAuto&&super.project(R,P,O)}render(R,P,O,I,L){const{x1:z,y1:F,x2:G=z,y2:V=F}=O,{curve:Z}=this;return create$1("svg:g",L).call(applyIndirectStyles,this,I,L).call(applyTransform,this,P).call(Y=>Y.selectAll().data(R).enter().append("path").call(applyDirectStyles,this).attr("d",Z===curveAuto&&L.projection?sphereLink(L.path(),z,F,G,V):Q=>{const J=pathRound(),te=Z(J);return te.lineStart(),te.point(z[Q],F[Q]),te.point(G[Q],V[Q]),te.lineEnd(),J}).call(applyChannelStyles,this,O).call(applyMarkers,this,O,L)).node()}}function sphereLink(_,R,P,O,I){return R=coerceNumbers(R),P=coerceNumbers(P),O=coerceNumbers(O),I=coerceNumbers(I),L=>_({type:"LineString",coordinates:[[R[L],P[L]],[O[L],I[L]]]})}function link$1(_,{x:R,x1:P,x2:O,y:I,y1:L,y2:z,...F}={}){return[P,O]=maybeSameValue(R,P,O),[L,z]=maybeSameValue(I,L,z),new Link(_,{...F,x1:P,x2:O,y1:L,y2:z})}function maybeSameValue(_,R,P){if(_===void 0){if(R===void 0){if(P!==void 0)return[P]}else if(P===void 0)return[R]}else{if(R===void 0)return P===void 0?[_]:[_,P];if(P===void 0)return[_,R]}return[R,P]}const barDefaults={ariaLabel:"bar"};class AbstractBar extends Mark{constructor(R,P,O={},I=barDefaults){super(R,P,O,I),rectInsets(this,O),rectRadii(this,O)}render(R,P,O,I,L){const{rx:z,ry:F,rx1y1:G,rx1y2:V,rx2y1:Z,rx2y2:Y}=this,Q=this._x(P,O,I),J=this._y(P,O,I),te=this._width(P,O,I),ne=this._height(P,O,I);return create$1("svg:g",L).call(applyIndirectStyles,this,I,L).call(this._transform,this,P).call(ie=>ie.selectAll().data(R).enter().call(G||V||Z||Y?se=>se.append("path").call(applyDirectStyles,this).call(applyRoundedRect,Q,J,add(Q,te),add(J,ne),this).call(applyChannelStyles,this,O):se=>se.append("rect").call(applyDirectStyles,this).attr("x",Q).attr("width",te).attr("y",J).attr("height",ne).call(applyAttr,"rx",z).call(applyAttr,"ry",F).call(applyChannelStyles,this,O))).node()}_x(R,{x:P},{marginLeft:O}){const{insetLeft:I}=this;return P?L=>P[L]+I:O+I}_y(R,{y:P},{marginTop:O}){const{insetTop:I}=this;return P?L=>P[L]+I:O+I}_width({x:R},{x:P},{marginRight:O,marginLeft:I,width:L}){const{insetLeft:z,insetRight:F}=this,G=P&&R?R.bandwidth():L-O-I;return Math.max(0,G-z-F)}_height({y:R},{y:P},{marginTop:O,marginBottom:I,height:L}){const{insetTop:z,insetBottom:F}=this,G=P&&R?R.bandwidth():L-O-I;return Math.max(0,G-z-F)}}function add(_,R){return typeof _=="function"&&typeof R=="function"?P=>_(P)+R(P):typeof _=="function"?P=>_(P)+R:typeof R=="function"?P=>_+R(P):_+R}class BarY extends AbstractBar{constructor(R,P={},O){const{x:I,y1:L,y2:z}=P;super(R,{y1:{value:L,scale:"y"},y2:{value:z,scale:"y"},x:{value:I,scale:"x",type:"band",optional:!0}},P,O)}_transform(R,P,{y:O}){R.call(applyTransform,P,{y:O},0,0)}_y({y:R},{y1:P,y2:O},{marginTop:I}){const{insetTop:L}=this;return isCollapsed(R)?I+L:z=>Math.min(P[z],O[z])+L}_height({y:R},{y1:P,y2:O},{marginTop:I,marginBottom:L,height:z}){const{insetTop:F,insetBottom:G}=this;return isCollapsed(R)?z-I-L-F-G:V=>Math.max(0,Math.abs(O[V]-P[V])-F-G)}}function barY(_,R={}){return hasXY(R)||(R={...R,x:indexOf,y2:identity$1}),new BarY(_,maybeStackY(maybeIntervalY(maybeIdentityY(R))))}const defaults$2={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function withDefaultSort(_){return _.sort===void 0&&_.reverse===void 0?sort({channel:"-r"},_):_}class Dot extends Mark{constructor(R,P={}){const{x:O,y:I,r:L,rotate:z,symbol:F=symbolCircle,frameAnchor:G}=P,[V,Z]=maybeNumberChannel(z,0),[Y,Q]=maybeSymbolChannel(F),[J,te]=maybeNumberChannel(L,Y==null?3:4.5);super(R,{x:{value:O,scale:"x",optional:!0},y:{value:I,scale:"y",optional:!0},r:{value:J,scale:"r",filter:positive,optional:!0},rotate:{value:V,optional:!0},symbol:{value:Y,scale:"auto",optional:!0}},withDefaultSort(P),defaults$2),this.r=te,this.rotate=Z,this.symbol=Q,this.frameAnchor=maybeFrameAnchor(G);const{channels:ne}=this,{symbol:ie}=ne;if(ie){const{fill:se,stroke:oe}=ne;ie.hint={fill:se?se.value===ie.value?"color":"currentColor":this.fill??"currentColor",stroke:oe?oe.value===ie.value?"color":"currentColor":this.stroke??"none"}}}render(R,P,O,I,L){const{x:z,y:F}=P,{x:G,y:V,r:Z,rotate:Y,symbol:Q}=O,{r:J,rotate:te,symbol:ne}=this,[ie,se]=applyFrameAnchor(this,I),oe=ne===symbolCircle,ce=Z?void 0:J*J*Math.PI;return negative(J)&&(R=[]),create$1("svg:g",L).call(applyIndirectStyles,this,I,L).call(applyTransform,this,{x:G&&z,y:V&&F}).call(ue=>ue.selectAll().data(R).enter().append(oe?"circle":"path").call(applyDirectStyles,this).call(oe?me=>{me.attr("cx",G?he=>G[he]:ie).attr("cy",V?he=>V[he]:se).attr("r",Z?he=>Z[he]:J)}:me=>{me.attr("transform",template`translate(${G?he=>G[he]:ie},${V?he=>V[he]:se})${Y?he=>` rotate(${Y[he]})`:te?` rotate(${te})`:""}`).attr("d",Z&&Q?he=>{const fe=pathRound();return Q[he].draw(fe,Z[he]*Z[he]*Math.PI),fe}:Z?he=>{const fe=pathRound();return ne.draw(fe,Z[he]*Z[he]*Math.PI),fe}:Q?he=>{const fe=pathRound();return Q[he].draw(fe,ce),fe}:(()=>{const he=pathRound();return ne.draw(he,ce),he})())}).call(applyChannelStyles,this,O)).node()}}function dot(_,{x:R,y:P,...O}={}){return O.frameAnchor===void 0&&([R,P]=maybeTuple(R,P)),new Dot(_,{...O,x:R,y:P})}const defaults$1={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Line extends Mark{constructor(R,P={}){const{x:O,y:I,z:L,curve:z,tension:F}=P;super(R,{x:{value:O,scale:"x"},y:{value:I,scale:"y"},z:{value:maybeZ(P),optional:!0}},P,defaults$1),this.z=L,this.curve=maybeCurveAuto(z,F),markers(this,P)}filter(R){return R}project(R,P,O){this.curve!==curveAuto&&super.project(R,P,O)}render(R,P,O,I,L){const{x:z,y:F}=O,{curve:G}=this;return create$1("svg:g",L).call(applyIndirectStyles,this,I,L).call(applyTransform,this,P).call(V=>V.selectAll().data(groupIndex(R,[z,F],this,O)).enter().append("path").call(applyDirectStyles,this).call(applyGroupedChannelStyles,this,O).call(applyGroupedMarkers,this,O,L).attr("d",G===curveAuto&&L.projection?sphereLine(L.path(),z,F):shapeLine().curve(G).defined(Z=>Z>=0).x(Z=>z[Z]).y(Z=>F[Z]))).node()}}function sphereLine(_,R,P){return R=coerceNumbers(R),P=coerceNumbers(P),O=>{let I=[];const L=[I];for(const z of O)z===-1?(I=[],L.push(I)):I.push([R[z],P[z]]);return _({type:"MultiLineString",coordinates:L})}}function line(_,{x:R,y:P,...O}={}){return[R,P]=maybeTuple(R,P),new Line(_,{...O,x:R,y:P})}const defaults={ariaLabel:"tick",fill:null,stroke:"currentColor"};class AbstractTick extends Mark{constructor(R,P,O){super(R,P,O,defaults),markers(this,O)}render(R,P,O,I,L){return create$1("svg:g",L).call(applyIndirectStyles,this,I,L).call(this._transform,this,P).call(z=>z.selectAll().data(R).enter().append("line").call(applyDirectStyles,this).attr("x1",this._x1(P,O,I)).attr("x2",this._x2(P,O,I)).attr("y1",this._y1(P,O,I)).attr("y2",this._y2(P,O,I)).call(applyChannelStyles,this,O).call(applyMarkers,this,O,L)).node()}}class TickX extends AbstractTick{constructor(R,P={}){const{x:O,y:I,inset:L=0,insetTop:z=L,insetBottom:F=L}=P;super(R,{x:{value:O,scale:"x"},y:{value:I,scale:"y",type:"band",optional:!0}},P),this.insetTop=number$1(z),this.insetBottom=number$1(F)}_transform(R,P,{x:O}){R.call(applyTransform,P,{x:O},offset,0)}_x1(R,{x:P}){return O=>P[O]}_x2(R,{x:P}){return O=>P[O]}_y1({y:R},{y:P},{marginTop:O}){const{insetTop:I}=this;return P&&R?L=>P[L]+I:O+I}_y2({y:R},{y:P},{height:O,marginBottom:I}){const{insetBottom:L}=this;return P&&R?z=>P[z]+R.bandwidth()-L:O-I-L}}function tickX(_,{x:R=identity$1,...P}={}){return new TickX(_,{...P,x:R})}Mark.prototype.plot=function({marks:_=[],...R}={}){return plot({...R,marks:[..._,this]})};function BatchPlot({data:_,dataWithCI:R,histogramData:P,xAxisLabel:O="Time (h)",yAxisLabel:I,plotType:L,width:z=640,height:F=400,yMin:G,yMax:V}){const Z=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!Z.current||L==="line"&&_.length===0||L==="line_ci"&&(!R||R.length===0)||L==="histogram"&&(!P||P.length===0))return;let Y,Q={legend:!0},J={label:O},te={label:I,domain:G!==void 0||V!==void 0?[G??0,V??void 0]:void 0};L==="histogram"&&P?(Y=[barY(P,{x:"group",y:"mean",fill:"group"}),link$1(P.flatMap(ie=>[{group:ie.group,y:ie.lower,y2:ie.upper}]),pointer({x:"group",y1:"y",y2:"y2",stroke:"#666",strokeWidth:2})),...P.flatMap(ie=>[tickX([ie],{x:"group",y:ie.lower,stroke:"#666"}),tickX([ie],{x:"group",y:ie.upper,stroke:"#666"})])],J={label:"Cell Group"},te={label:I,grid:!0,domain:G!==void 0||V!==void 0?[G??0,V??void 0]:[0,void 0]},Q={color:{legend:!0,label:"Cell Group",type:"ordinal"}}):L==="line_ci"&&R?(Y=[areaY(R,{x:"time",y1:"lower",y2:"upper",fill:"cell_group",fillOpacity:.2}),line(R,{x:"time",y:"mean",stroke:"cell_group",strokeWidth:2}),dot(R,{x:"time",y:"mean",fill:"cell_group",r:3})],Q={color:{legend:!0,label:"Cell Group",type:"ordinal"}}):_.some(se=>se.cell_group!==void 0)?(Y=[line(_,{x:"time",y:"value",stroke:"cell_group",strokeWidth:2}),dot(_,{x:"time",y:"value",fill:"cell_group",r:3})],Q={color:{legend:!0,label:"Cell Group",type:"ordinal"}}):Y=[line(_,{x:"time",y:"value",stroke:"steelblue",strokeWidth:2}),dot(_,{x:"time",y:"value",fill:"steelblue",r:3})];const ne=plot({width:z,height:F,marginLeft:60,marginBottom:40,marginRight:120,grid:!0,x:J,y:te,...Q,marks:Y});return Z.current.appendChild(ne),()=>{ne.remove()}},[_,R,P,O,I,L,z,F,G,V]),jsxRuntimeExports.jsx("div",{ref:Z})}function aggregateByTime(_,R,P){const O=_.indexOf("time_h"),I=_.indexOf(P);if(O===-1||I===-1)return[];const L=new Map;for(const F of R){const G=Number(F[O]),V=Number(F[I]);!isNaN(G)&&!isNaN(V)&&(L.has(G)||L.set(G,[]),L.get(G).push(V))}const z=[];for(const[F,G]of L.entries()){const V=G.reduce((Z,Y)=>Z+Y,0)/G.length;z.push({time:F,value:V})}return z.sort((F,G)=>F.time-G.time),z}function aggregateByXAxisWithCI(_,R,P,O){const I=_.indexOf(P),L=_.indexOf(O),z=_.indexOf("cell_group");if(I===-1||L===-1)return[];const F=new Map;for(const V of R){const Z=Number(V[I]),Y=Number(V[L]),Q=z!==-1?String(V[z]):"all";if(!isNaN(Z)&&!isNaN(Y)){const J=`${Z}_${Q}`;F.has(J)||F.set(J,{time:Z,cell_group:Q,values:[]}),F.get(J).values.push(Y)}}const G=[];for(const{time:V,cell_group:Z,values:Y}of F.values()){const Q=Y.length,J=Y.reduce((te,ne)=>te+ne,0)/Q;if(Q>1){const te=Y.reduce((oe,ce)=>oe+Math.pow(ce-J,2),0)/(Q-1),se=1.96*(Math.sqrt(te)/Math.sqrt(Q));G.push({time:V,mean:J,lower:J-se,upper:J+se,n:Q,cell_group:Z})}else G.push({time:V,mean:J,lower:J,upper:J,n:Q,cell_group:Z})}return G.sort((V,Z)=>V.time!==Z.time?V.time-Z.time:V.cell_group.localeCompare(Z.cell_group)),G}function aggregateForHistogram(_,R,P){const O=_.indexOf(P),I=_.indexOf("cell_group");if(O===-1)return[];const L=new Map;for(const F of R){const G=Number(F[O]),V=I!==-1?String(F[I]):"all";isNaN(G)||(L.has(V)||L.set(V,[]),L.get(V).push(G))}const z=[];for(const[F,G]of L.entries()){const V=G.length,Z=G.reduce((Y,Q)=>Y+Q,0)/V;if(V>1){const Y=G.reduce((ne,ie)=>ne+Math.pow(ie-Z,2),0)/(V-1),te=1.96*(Math.sqrt(Y)/Math.sqrt(V));z.push({group:F,mean:Z,lower:Z-te,upper:Z+te,n:V})}else z.push({group:F,mean:Z,lower:Z,upper:Z,n:V})}return z.sort((F,G)=>F.group.localeCompare(G.group)),z}function getTimeSamples(_){const R=[];for(let P=_.start;P<=_.end;P+=_.step)R.push(P);return R}function generateParameterConfigs(_,R,P){return _.length===0?[{}]:R==="grid"?generateGridConfigs(_):generateRandomConfigs(_,P??10)}function generateGridConfigs(_){const R=_.map(I=>{const L=[],z=I.steps>1?(I.max-I.min)/(I.steps-1):0;for(let F=0;F<I.steps;F++)L.push(I.min+F*z);return{path:I.path,values:L}}),P=[];function O(I,L){if(I===R.length){P.push({...L});return}const{path:z,values:F}=R[I];for(const G of F)L[z]=G,O(I+1,L)}return O(0,{}),P}function generateRandomConfigs(_,R){const P=[];for(let O=0;O<R;O++){const I={};for(const L of _)I[L.path]=L.min+Math.random()*(L.max-L.min);P.push(I)}return P}const DEFAULT_TIME_SAMPLES={start:0,end:48,step:12};function customMerge(_,R){if(R===void 0)return _;if(Array.isArray(R))return R;if(!(isPlainObject$1(_)&&isPlainObject$1(R)))return R}function mergeWithDefaults(_,R=DEFAULT_EHT_PARAMS){const P=structuredClone(R);if(_.general&&mergeWith(P.general,_.general,customMerge),_.cell_prop&&mergeWith(P.cell_prop,_.cell_prop,customMerge),_.cell_types)for(const[O,I]of Object.entries(_.cell_types))if(O in P.cell_types)mergeWith(P.cell_types[O],I,customMerge);else{const L=structuredClone(DEFAULT_CONTROL_CELL);mergeWith(L,I,customMerge),P.cell_types[O]=L}return P}function setNestedValue(_,R,P){const O=R.split(".");let I=_;for(let L=0;L<O.length-1;L++){const z=O[L];(!(z in I)||typeof I[z]!="object"||I[z]===null)&&(I[z]={}),I=I[z]}I[O[O.length-1]]=P}function replaceInfinityValues(_){if(_===null||typeof _!="object")return _===1/0?1e308:_===-1/0?-1e308:_;if(Array.isArray(_))return _.map(replaceInfinityValues);const R={};for(const[P,O]of Object.entries(_))R[P]=replaceInfinityValues(O);return R}function parseToml(_){return TOML.parse(_)}function parseTomlWithDefaults(_){const R=parseToml(_);return mergeWithDefaults(R)}function toToml(_){const R=replaceInfinityValues(structuredClone(_));return TOML.stringify(R)}function parseSimulationConfigToml(_){const R=TOML.parse(_);let P=[];R.parameter_ranges&&Array.isArray(R.parameter_ranges)&&(P=R.parameter_ranges.map(G=>{const V=G;return{path:String(V.path??""),min:Number(V.min??0),max:Number(V.max??0),steps:Number(V.steps??1)}}),delete R.parameter_ranges);let O={...DEFAULT_TIME_SAMPLES};if(R.time_samples&&typeof R.time_samples=="object"){const G=R.time_samples;O={start:Number(G.start??DEFAULT_TIME_SAMPLES.start),end:Number(G.end??DEFAULT_TIME_SAMPLES.end),step:Number(G.step??DEFAULT_TIME_SAMPLES.step)},delete R.time_samples}const I=R.seeds_per_config,L=typeof I=="number"&&!Number.isNaN(I)?I:1;return"seeds_per_config"in R&&delete R.seeds_per_config,{params:mergeWithDefaults(R),parameterRanges:P,timeSamples:O,seedsPerConfig:L}}function toSimulationConfigToml(_){const R=replaceInfinityValues(structuredClone(_.params));return R.parameter_ranges=_.parameterRanges??[],R.time_samples=_.timeSamples??DEFAULT_TIME_SAMPLES,R.seeds_per_config=_.seedsPerConfig??1,TOML.stringify(R)}const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(_){let R=_.length;for(;--R>=0;)_[R]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(_,R,P,O,I){this.static_tree=_,this.extra_bits=R,this.extra_base=P,this.elems=O,this.max_length=I,this.has_stree=_&&_.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(_,R){this.dyn_tree=_,this.max_code=0,this.stat_desc=R}const d_code=_=>_<256?_dist_code[_]:_dist_code[256+(_>>>7)],put_short=(_,R)=>{_.pending_buf[_.pending++]=R&255,_.pending_buf[_.pending++]=R>>>8&255},send_bits=(_,R,P)=>{_.bi_valid>Buf_size-P?(_.bi_buf|=R<<_.bi_valid&65535,put_short(_,_.bi_buf),_.bi_buf=R>>Buf_size-_.bi_valid,_.bi_valid+=P-Buf_size):(_.bi_buf|=R<<_.bi_valid&65535,_.bi_valid+=P)},send_code=(_,R,P)=>{send_bits(_,P[R*2],P[R*2+1])},bi_reverse=(_,R)=>{let P=0;do P|=_&1,_>>>=1,P<<=1;while(--R>0);return P>>>1},bi_flush=_=>{_.bi_valid===16?(put_short(_,_.bi_buf),_.bi_buf=0,_.bi_valid=0):_.bi_valid>=8&&(_.pending_buf[_.pending++]=_.bi_buf&255,_.bi_buf>>=8,_.bi_valid-=8)},gen_bitlen=(_,R)=>{const P=R.dyn_tree,O=R.max_code,I=R.stat_desc.static_tree,L=R.stat_desc.has_stree,z=R.stat_desc.extra_bits,F=R.stat_desc.extra_base,G=R.stat_desc.max_length;let V,Z,Y,Q,J,te,ne=0;for(Q=0;Q<=MAX_BITS$1;Q++)_.bl_count[Q]=0;for(P[_.heap[_.heap_max]*2+1]=0,V=_.heap_max+1;V<HEAP_SIZE$1;V++)Z=_.heap[V],Q=P[P[Z*2+1]*2+1]+1,Q>G&&(Q=G,ne++),P[Z*2+1]=Q,!(Z>O)&&(_.bl_count[Q]++,J=0,Z>=F&&(J=z[Z-F]),te=P[Z*2],_.opt_len+=te*(Q+J),L&&(_.static_len+=te*(I[Z*2+1]+J)));if(ne!==0){do{for(Q=G-1;_.bl_count[Q]===0;)Q--;_.bl_count[Q]--,_.bl_count[Q+1]+=2,_.bl_count[G]--,ne-=2}while(ne>0);for(Q=G;Q!==0;Q--)for(Z=_.bl_count[Q];Z!==0;)Y=_.heap[--V],!(Y>O)&&(P[Y*2+1]!==Q&&(_.opt_len+=(Q-P[Y*2+1])*P[Y*2],P[Y*2+1]=Q),Z--)}},gen_codes=(_,R,P)=>{const O=new Array(MAX_BITS$1+1);let I=0,L,z;for(L=1;L<=MAX_BITS$1;L++)I=I+P[L-1]<<1,O[L]=I;for(z=0;z<=R;z++){let F=_[z*2+1];F!==0&&(_[z*2]=bi_reverse(O[F]++,F))}},tr_static_init=()=>{let _,R,P,O,I;const L=new Array(MAX_BITS$1+1);for(P=0,O=0;O<LENGTH_CODES$1-1;O++)for(base_length[O]=P,_=0;_<1<<extra_lbits[O];_++)_length_code[P++]=O;for(_length_code[P-1]=O,I=0,O=0;O<16;O++)for(base_dist[O]=I,_=0;_<1<<extra_dbits[O];_++)_dist_code[I++]=O;for(I>>=7;O<D_CODES$1;O++)for(base_dist[O]=I<<7,_=0;_<1<<extra_dbits[O]-7;_++)_dist_code[256+I++]=O;for(R=0;R<=MAX_BITS$1;R++)L[R]=0;for(_=0;_<=143;)static_ltree[_*2+1]=8,_++,L[8]++;for(;_<=255;)static_ltree[_*2+1]=9,_++,L[9]++;for(;_<=279;)static_ltree[_*2+1]=7,_++,L[7]++;for(;_<=287;)static_ltree[_*2+1]=8,_++,L[8]++;for(gen_codes(static_ltree,L_CODES$1+1,L),_=0;_<D_CODES$1;_++)static_dtree[_*2+1]=5,static_dtree[_*2]=bi_reverse(_,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=_=>{let R;for(R=0;R<L_CODES$1;R++)_.dyn_ltree[R*2]=0;for(R=0;R<D_CODES$1;R++)_.dyn_dtree[R*2]=0;for(R=0;R<BL_CODES$1;R++)_.bl_tree[R*2]=0;_.dyn_ltree[END_BLOCK*2]=1,_.opt_len=_.static_len=0,_.sym_next=_.matches=0},bi_windup=_=>{_.bi_valid>8?put_short(_,_.bi_buf):_.bi_valid>0&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0},smaller=(_,R,P,O)=>{const I=R*2,L=P*2;return _[I]<_[L]||_[I]===_[L]&&O[R]<=O[P]},pqdownheap=(_,R,P)=>{const O=_.heap[P];let I=P<<1;for(;I<=_.heap_len&&(I<_.heap_len&&smaller(R,_.heap[I+1],_.heap[I],_.depth)&&I++,!smaller(R,O,_.heap[I],_.depth));)_.heap[P]=_.heap[I],P=I,I<<=1;_.heap[P]=O},compress_block=(_,R,P)=>{let O,I,L=0,z,F;if(_.sym_next!==0)do O=_.pending_buf[_.sym_buf+L++]&255,O+=(_.pending_buf[_.sym_buf+L++]&255)<<8,I=_.pending_buf[_.sym_buf+L++],O===0?send_code(_,I,R):(z=_length_code[I],send_code(_,z+LITERALS$1+1,R),F=extra_lbits[z],F!==0&&(I-=base_length[z],send_bits(_,I,F)),O--,z=d_code(O),send_code(_,z,P),F=extra_dbits[z],F!==0&&(O-=base_dist[z],send_bits(_,O,F)));while(L<_.sym_next);send_code(_,END_BLOCK,R)},build_tree=(_,R)=>{const P=R.dyn_tree,O=R.stat_desc.static_tree,I=R.stat_desc.has_stree,L=R.stat_desc.elems;let z,F,G=-1,V;for(_.heap_len=0,_.heap_max=HEAP_SIZE$1,z=0;z<L;z++)P[z*2]!==0?(_.heap[++_.heap_len]=G=z,_.depth[z]=0):P[z*2+1]=0;for(;_.heap_len<2;)V=_.heap[++_.heap_len]=G<2?++G:0,P[V*2]=1,_.depth[V]=0,_.opt_len--,I&&(_.static_len-=O[V*2+1]);for(R.max_code=G,z=_.heap_len>>1;z>=1;z--)pqdownheap(_,P,z);V=L;do z=_.heap[1],_.heap[1]=_.heap[_.heap_len--],pqdownheap(_,P,1),F=_.heap[1],_.heap[--_.heap_max]=z,_.heap[--_.heap_max]=F,P[V*2]=P[z*2]+P[F*2],_.depth[V]=(_.depth[z]>=_.depth[F]?_.depth[z]:_.depth[F])+1,P[z*2+1]=P[F*2+1]=V,_.heap[1]=V++,pqdownheap(_,P,1);while(_.heap_len>=2);_.heap[--_.heap_max]=_.heap[1],gen_bitlen(_,R),gen_codes(P,G,_.bl_count)},scan_tree=(_,R,P)=>{let O,I=-1,L,z=R[1],F=0,G=7,V=4;for(z===0&&(G=138,V=3),R[(P+1)*2+1]=65535,O=0;O<=P;O++)L=z,z=R[(O+1)*2+1],!(++F<G&&L===z)&&(F<V?_.bl_tree[L*2]+=F:L!==0?(L!==I&&_.bl_tree[L*2]++,_.bl_tree[REP_3_6*2]++):F<=10?_.bl_tree[REPZ_3_10*2]++:_.bl_tree[REPZ_11_138*2]++,F=0,I=L,z===0?(G=138,V=3):L===z?(G=6,V=3):(G=7,V=4))},send_tree=(_,R,P)=>{let O,I=-1,L,z=R[1],F=0,G=7,V=4;for(z===0&&(G=138,V=3),O=0;O<=P;O++)if(L=z,z=R[(O+1)*2+1],!(++F<G&&L===z)){if(F<V)do send_code(_,L,_.bl_tree);while(--F!==0);else L!==0?(L!==I&&(send_code(_,L,_.bl_tree),F--),send_code(_,REP_3_6,_.bl_tree),send_bits(_,F-3,2)):F<=10?(send_code(_,REPZ_3_10,_.bl_tree),send_bits(_,F-3,3)):(send_code(_,REPZ_11_138,_.bl_tree),send_bits(_,F-11,7));F=0,I=L,z===0?(G=138,V=3):L===z?(G=6,V=3):(G=7,V=4)}},build_bl_tree=_=>{let R;for(scan_tree(_,_.dyn_ltree,_.l_desc.max_code),scan_tree(_,_.dyn_dtree,_.d_desc.max_code),build_tree(_,_.bl_desc),R=BL_CODES$1-1;R>=3&&_.bl_tree[bl_order[R]*2+1]===0;R--);return _.opt_len+=3*(R+1)+5+5+4,R},send_all_trees=(_,R,P,O)=>{let I;for(send_bits(_,R-257,5),send_bits(_,P-1,5),send_bits(_,O-4,4),I=0;I<O;I++)send_bits(_,_.bl_tree[bl_order[I]*2+1],3);send_tree(_,_.dyn_ltree,R-1),send_tree(_,_.dyn_dtree,P-1)},detect_data_type=_=>{let R=4093624447,P;for(P=0;P<=31;P++,R>>>=1)if(R&1&&_.dyn_ltree[P*2]!==0)return Z_BINARY;if(_.dyn_ltree[18]!==0||_.dyn_ltree[20]!==0||_.dyn_ltree[26]!==0)return Z_TEXT;for(P=32;P<LITERALS$1;P++)if(_.dyn_ltree[P*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=_=>{static_init_done||(tr_static_init(),static_init_done=!0),_.l_desc=new TreeDesc(_.dyn_ltree,static_l_desc),_.d_desc=new TreeDesc(_.dyn_dtree,static_d_desc),_.bl_desc=new TreeDesc(_.bl_tree,static_bl_desc),_.bi_buf=0,_.bi_valid=0,init_block(_)},_tr_stored_block$1=(_,R,P,O)=>{send_bits(_,(STORED_BLOCK<<1)+(O?1:0),3),bi_windup(_),put_short(_,P),put_short(_,~P),P&&_.pending_buf.set(_.window.subarray(R,R+P),_.pending),_.pending+=P},_tr_align$1=_=>{send_bits(_,STATIC_TREES<<1,3),send_code(_,END_BLOCK,static_ltree),bi_flush(_)},_tr_flush_block$1=(_,R,P,O)=>{let I,L,z=0;_.level>0?(_.strm.data_type===Z_UNKNOWN$1&&(_.strm.data_type=detect_data_type(_)),build_tree(_,_.l_desc),build_tree(_,_.d_desc),z=build_bl_tree(_),I=_.opt_len+3+7>>>3,L=_.static_len+3+7>>>3,L<=I&&(I=L)):I=L=P+5,P+4<=I&&R!==-1?_tr_stored_block$1(_,R,P,O):_.strategy===Z_FIXED$1||L===I?(send_bits(_,(STATIC_TREES<<1)+(O?1:0),3),compress_block(_,static_ltree,static_dtree)):(send_bits(_,(DYN_TREES<<1)+(O?1:0),3),send_all_trees(_,_.l_desc.max_code+1,_.d_desc.max_code+1,z+1),compress_block(_,_.dyn_ltree,_.dyn_dtree)),init_block(_),O&&bi_windup(_)},_tr_tally$1=(_,R,P)=>(_.pending_buf[_.sym_buf+_.sym_next++]=R,_.pending_buf[_.sym_buf+_.sym_next++]=R>>8,_.pending_buf[_.sym_buf+_.sym_next++]=P,R===0?_.dyn_ltree[P*2]++:(_.matches++,R--,_.dyn_ltree[(_length_code[P]+LITERALS$1+1)*2]++,_.dyn_dtree[d_code(R)*2]++),_.sym_next===_.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(_,R,P,O)=>{let I=_&65535|0,L=_>>>16&65535|0,z=0;for(;P!==0;){z=P>2e3?2e3:P,P-=z;do I=I+R[O++]|0,L=L+I|0;while(--z);I%=65521,L%=65521}return I|L<<16|0};var adler32_1=adler32;const makeTable=()=>{let _,R=[];for(var P=0;P<256;P++){_=P;for(var O=0;O<8;O++)_=_&1?3988292384^_>>>1:_>>>1;R[P]=_}return R},crcTable=new Uint32Array(makeTable()),crc32=(_,R,P,O)=>{const I=crcTable,L=O+P;_^=-1;for(let z=O;z<L;z++)_=_>>>8^I[(_^R[z])&255];return _^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(_,R)=>(_.msg=messages[R],R),rank=_=>_*2-(_>4?9:0),zero=_=>{let R=_.length;for(;--R>=0;)_[R]=0},slide_hash=_=>{let R,P,O,I=_.w_size;R=_.hash_size,O=R;do P=_.head[--O],_.head[O]=P>=I?P-I:0;while(--R);R=I,O=R;do P=_.prev[--O],_.prev[O]=P>=I?P-I:0;while(--R)};let HASH_ZLIB=(_,R,P)=>(R<<_.hash_shift^P)&_.hash_mask,HASH=HASH_ZLIB;const flush_pending=_=>{const R=_.state;let P=R.pending;P>_.avail_out&&(P=_.avail_out),P!==0&&(_.output.set(R.pending_buf.subarray(R.pending_out,R.pending_out+P),_.next_out),_.next_out+=P,R.pending_out+=P,_.total_out+=P,_.avail_out-=P,R.pending-=P,R.pending===0&&(R.pending_out=0))},flush_block_only=(_,R)=>{_tr_flush_block(_,_.block_start>=0?_.block_start:-1,_.strstart-_.block_start,R),_.block_start=_.strstart,flush_pending(_.strm)},put_byte=(_,R)=>{_.pending_buf[_.pending++]=R},putShortMSB=(_,R)=>{_.pending_buf[_.pending++]=R>>>8&255,_.pending_buf[_.pending++]=R&255},read_buf=(_,R,P,O)=>{let I=_.avail_in;return I>O&&(I=O),I===0?0:(_.avail_in-=I,R.set(_.input.subarray(_.next_in,_.next_in+I),P),_.state.wrap===1?_.adler=adler32_1(_.adler,R,I,P):_.state.wrap===2&&(_.adler=crc32_1(_.adler,R,I,P)),_.next_in+=I,_.total_in+=I,I)},longest_match=(_,R)=>{let P=_.max_chain_length,O=_.strstart,I,L,z=_.prev_length,F=_.nice_match;const G=_.strstart>_.w_size-MIN_LOOKAHEAD?_.strstart-(_.w_size-MIN_LOOKAHEAD):0,V=_.window,Z=_.w_mask,Y=_.prev,Q=_.strstart+MAX_MATCH;let J=V[O+z-1],te=V[O+z];_.prev_length>=_.good_match&&(P>>=2),F>_.lookahead&&(F=_.lookahead);do if(I=R,!(V[I+z]!==te||V[I+z-1]!==J||V[I]!==V[O]||V[++I]!==V[O+1])){O+=2,I++;do;while(V[++O]===V[++I]&&V[++O]===V[++I]&&V[++O]===V[++I]&&V[++O]===V[++I]&&V[++O]===V[++I]&&V[++O]===V[++I]&&V[++O]===V[++I]&&V[++O]===V[++I]&&O<Q);if(L=MAX_MATCH-(Q-O),O=Q-MAX_MATCH,L>z){if(_.match_start=R,z=L,L>=F)break;J=V[O+z-1],te=V[O+z]}}while((R=Y[R&Z])>G&&--P!==0);return z<=_.lookahead?z:_.lookahead},fill_window=_=>{const R=_.w_size;let P,O,I;do{if(O=_.window_size-_.lookahead-_.strstart,_.strstart>=R+(R-MIN_LOOKAHEAD)&&(_.window.set(_.window.subarray(R,R+R-O),0),_.match_start-=R,_.strstart-=R,_.block_start-=R,_.insert>_.strstart&&(_.insert=_.strstart),slide_hash(_),O+=R),_.strm.avail_in===0)break;if(P=read_buf(_.strm,_.window,_.strstart+_.lookahead,O),_.lookahead+=P,_.lookahead+_.insert>=MIN_MATCH)for(I=_.strstart-_.insert,_.ins_h=_.window[I],_.ins_h=HASH(_,_.ins_h,_.window[I+1]);_.insert&&(_.ins_h=HASH(_,_.ins_h,_.window[I+MIN_MATCH-1]),_.prev[I&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=I,I++,_.insert--,!(_.lookahead+_.insert<MIN_MATCH)););}while(_.lookahead<MIN_LOOKAHEAD&&_.strm.avail_in!==0)},deflate_stored=(_,R)=>{let P=_.pending_buf_size-5>_.w_size?_.w_size:_.pending_buf_size-5,O,I,L,z=0,F=_.strm.avail_in;do{if(O=65535,L=_.bi_valid+42>>3,_.strm.avail_out<L||(L=_.strm.avail_out-L,I=_.strstart-_.block_start,O>I+_.strm.avail_in&&(O=I+_.strm.avail_in),O>L&&(O=L),O<P&&(O===0&&R!==Z_FINISH$3||R===Z_NO_FLUSH$2||O!==I+_.strm.avail_in)))break;z=R===Z_FINISH$3&&O===I+_.strm.avail_in?1:0,_tr_stored_block(_,0,0,z),_.pending_buf[_.pending-4]=O,_.pending_buf[_.pending-3]=O>>8,_.pending_buf[_.pending-2]=~O,_.pending_buf[_.pending-1]=~O>>8,flush_pending(_.strm),I&&(I>O&&(I=O),_.strm.output.set(_.window.subarray(_.block_start,_.block_start+I),_.strm.next_out),_.strm.next_out+=I,_.strm.avail_out-=I,_.strm.total_out+=I,_.block_start+=I,O-=I),O&&(read_buf(_.strm,_.strm.output,_.strm.next_out,O),_.strm.next_out+=O,_.strm.avail_out-=O,_.strm.total_out+=O)}while(z===0);return F-=_.strm.avail_in,F&&(F>=_.w_size?(_.matches=2,_.window.set(_.strm.input.subarray(_.strm.next_in-_.w_size,_.strm.next_in),0),_.strstart=_.w_size,_.insert=_.strstart):(_.window_size-_.strstart<=F&&(_.strstart-=_.w_size,_.window.set(_.window.subarray(_.w_size,_.w_size+_.strstart),0),_.matches<2&&_.matches++,_.insert>_.strstart&&(_.insert=_.strstart)),_.window.set(_.strm.input.subarray(_.strm.next_in-F,_.strm.next_in),_.strstart),_.strstart+=F,_.insert+=F>_.w_size-_.insert?_.w_size-_.insert:F),_.block_start=_.strstart),_.high_water<_.strstart&&(_.high_water=_.strstart),z?BS_FINISH_DONE:R!==Z_NO_FLUSH$2&&R!==Z_FINISH$3&&_.strm.avail_in===0&&_.strstart===_.block_start?BS_BLOCK_DONE:(L=_.window_size-_.strstart,_.strm.avail_in>L&&_.block_start>=_.w_size&&(_.block_start-=_.w_size,_.strstart-=_.w_size,_.window.set(_.window.subarray(_.w_size,_.w_size+_.strstart),0),_.matches<2&&_.matches++,L+=_.w_size,_.insert>_.strstart&&(_.insert=_.strstart)),L>_.strm.avail_in&&(L=_.strm.avail_in),L&&(read_buf(_.strm,_.window,_.strstart,L),_.strstart+=L,_.insert+=L>_.w_size-_.insert?_.w_size-_.insert:L),_.high_water<_.strstart&&(_.high_water=_.strstart),L=_.bi_valid+42>>3,L=_.pending_buf_size-L>65535?65535:_.pending_buf_size-L,P=L>_.w_size?_.w_size:L,I=_.strstart-_.block_start,(I>=P||(I||R===Z_FINISH$3)&&R!==Z_NO_FLUSH$2&&_.strm.avail_in===0&&I<=L)&&(O=I>L?L:I,z=R===Z_FINISH$3&&_.strm.avail_in===0&&O===I?1:0,_tr_stored_block(_,_.block_start,O,z),_.block_start+=O,flush_pending(_.strm)),z?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(_,R)=>{let P,O;for(;;){if(_.lookahead<MIN_LOOKAHEAD){if(fill_window(_),_.lookahead<MIN_LOOKAHEAD&&R===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_.lookahead===0)break}if(P=0,_.lookahead>=MIN_MATCH&&(_.ins_h=HASH(_,_.ins_h,_.window[_.strstart+MIN_MATCH-1]),P=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),P!==0&&_.strstart-P<=_.w_size-MIN_LOOKAHEAD&&(_.match_length=longest_match(_,P)),_.match_length>=MIN_MATCH)if(O=_tr_tally(_,_.strstart-_.match_start,_.match_length-MIN_MATCH),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=MIN_MATCH){_.match_length--;do _.strstart++,_.ins_h=HASH(_,_.ins_h,_.window[_.strstart+MIN_MATCH-1]),P=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart;while(--_.match_length!==0);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=HASH(_,_.ins_h,_.window[_.strstart+1]);else O=_tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(O&&(flush_block_only(_,!1),_.strm.avail_out===0))return BS_NEED_MORE}return _.insert=_.strstart<MIN_MATCH-1?_.strstart:MIN_MATCH-1,R===Z_FINISH$3?(flush_block_only(_,!0),_.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_.sym_next&&(flush_block_only(_,!1),_.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(_,R)=>{let P,O,I;for(;;){if(_.lookahead<MIN_LOOKAHEAD){if(fill_window(_),_.lookahead<MIN_LOOKAHEAD&&R===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_.lookahead===0)break}if(P=0,_.lookahead>=MIN_MATCH&&(_.ins_h=HASH(_,_.ins_h,_.window[_.strstart+MIN_MATCH-1]),P=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=MIN_MATCH-1,P!==0&&_.prev_length<_.max_lazy_match&&_.strstart-P<=_.w_size-MIN_LOOKAHEAD&&(_.match_length=longest_match(_,P),_.match_length<=5&&(_.strategy===Z_FILTERED||_.match_length===MIN_MATCH&&_.strstart-_.match_start>4096)&&(_.match_length=MIN_MATCH-1)),_.prev_length>=MIN_MATCH&&_.match_length<=_.prev_length){I=_.strstart+_.lookahead-MIN_MATCH,O=_tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-MIN_MATCH),_.lookahead-=_.prev_length-1,_.prev_length-=2;do++_.strstart<=I&&(_.ins_h=HASH(_,_.ins_h,_.window[_.strstart+MIN_MATCH-1]),P=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart);while(--_.prev_length!==0);if(_.match_available=0,_.match_length=MIN_MATCH-1,_.strstart++,O&&(flush_block_only(_,!1),_.strm.avail_out===0))return BS_NEED_MORE}else if(_.match_available){if(O=_tr_tally(_,0,_.window[_.strstart-1]),O&&flush_block_only(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return BS_NEED_MORE}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(O=_tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<MIN_MATCH-1?_.strstart:MIN_MATCH-1,R===Z_FINISH$3?(flush_block_only(_,!0),_.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_.sym_next&&(flush_block_only(_,!1),_.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(_,R)=>{let P,O,I,L;const z=_.window;for(;;){if(_.lookahead<=MAX_MATCH){if(fill_window(_),_.lookahead<=MAX_MATCH&&R===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_.lookahead===0)break}if(_.match_length=0,_.lookahead>=MIN_MATCH&&_.strstart>0&&(I=_.strstart-1,O=z[I],O===z[++I]&&O===z[++I]&&O===z[++I])){L=_.strstart+MAX_MATCH;do;while(O===z[++I]&&O===z[++I]&&O===z[++I]&&O===z[++I]&&O===z[++I]&&O===z[++I]&&O===z[++I]&&O===z[++I]&&I<L);_.match_length=MAX_MATCH-(L-I),_.match_length>_.lookahead&&(_.match_length=_.lookahead)}if(_.match_length>=MIN_MATCH?(P=_tr_tally(_,1,_.match_length-MIN_MATCH),_.lookahead-=_.match_length,_.strstart+=_.match_length,_.match_length=0):(P=_tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++),P&&(flush_block_only(_,!1),_.strm.avail_out===0))return BS_NEED_MORE}return _.insert=0,R===Z_FINISH$3?(flush_block_only(_,!0),_.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_.sym_next&&(flush_block_only(_,!1),_.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(_,R)=>{let P;for(;;){if(_.lookahead===0&&(fill_window(_),_.lookahead===0)){if(R===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(_.match_length=0,P=_tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++,P&&(flush_block_only(_,!1),_.strm.avail_out===0))return BS_NEED_MORE}return _.insert=0,R===Z_FINISH$3?(flush_block_only(_,!0),_.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_.sym_next&&(flush_block_only(_,!1),_.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(_,R,P,O,I){this.good_length=_,this.max_lazy=R,this.nice_length=P,this.max_chain=O,this.func=I}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=_=>{_.window_size=2*_.w_size,zero(_.head),_.max_lazy_match=configuration_table[_.level].max_lazy,_.good_match=configuration_table[_.level].good_length,_.nice_match=configuration_table[_.level].nice_length,_.max_chain_length=configuration_table[_.level].max_chain,_.strstart=0,_.block_start=0,_.lookahead=0,_.insert=0,_.match_length=_.prev_length=MIN_MATCH-1,_.match_available=0,_.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=_=>{if(!_)return 1;const R=_.state;return!R||R.strm!==_||R.status!==INIT_STATE&&R.status!==GZIP_STATE&&R.status!==EXTRA_STATE&&R.status!==NAME_STATE&&R.status!==COMMENT_STATE&&R.status!==HCRC_STATE&&R.status!==BUSY_STATE&&R.status!==FINISH_STATE?1:0},deflateResetKeep=_=>{if(deflateStateCheck(_))return err(_,Z_STREAM_ERROR$2);_.total_in=_.total_out=0,_.data_type=Z_UNKNOWN;const R=_.state;return R.pending=0,R.pending_out=0,R.wrap<0&&(R.wrap=-R.wrap),R.status=R.wrap===2?GZIP_STATE:R.wrap?INIT_STATE:BUSY_STATE,_.adler=R.wrap===2?0:1,R.last_flush=-2,_tr_init(R),Z_OK$3},deflateReset=_=>{const R=deflateResetKeep(_);return R===Z_OK$3&&lm_init(_.state),R},deflateSetHeader=(_,R)=>deflateStateCheck(_)||_.state.wrap!==2?Z_STREAM_ERROR$2:(_.state.gzhead=R,Z_OK$3),deflateInit2=(_,R,P,O,I,L)=>{if(!_)return Z_STREAM_ERROR$2;let z=1;if(R===Z_DEFAULT_COMPRESSION$1&&(R=6),O<0?(z=0,O=-O):O>15&&(z=2,O-=16),I<1||I>MAX_MEM_LEVEL||P!==Z_DEFLATED$2||O<8||O>15||R<0||R>9||L<0||L>Z_FIXED||O===8&&z!==1)return err(_,Z_STREAM_ERROR$2);O===8&&(O=9);const F=new DeflateState;return _.state=F,F.strm=_,F.status=INIT_STATE,F.wrap=z,F.gzhead=null,F.w_bits=O,F.w_size=1<<F.w_bits,F.w_mask=F.w_size-1,F.hash_bits=I+7,F.hash_size=1<<F.hash_bits,F.hash_mask=F.hash_size-1,F.hash_shift=~~((F.hash_bits+MIN_MATCH-1)/MIN_MATCH),F.window=new Uint8Array(F.w_size*2),F.head=new Uint16Array(F.hash_size),F.prev=new Uint16Array(F.w_size),F.lit_bufsize=1<<I+6,F.pending_buf_size=F.lit_bufsize*4,F.pending_buf=new Uint8Array(F.pending_buf_size),F.sym_buf=F.lit_bufsize,F.sym_end=(F.lit_bufsize-1)*3,F.level=R,F.strategy=L,F.method=P,deflateReset(_)},deflateInit=(_,R)=>deflateInit2(_,R,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(_,R)=>{if(deflateStateCheck(_)||R>Z_BLOCK$1||R<0)return _?err(_,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const P=_.state;if(!_.output||_.avail_in!==0&&!_.input||P.status===FINISH_STATE&&R!==Z_FINISH$3)return err(_,_.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const O=P.last_flush;if(P.last_flush=R,P.pending!==0){if(flush_pending(_),_.avail_out===0)return P.last_flush=-1,Z_OK$3}else if(_.avail_in===0&&rank(R)<=rank(O)&&R!==Z_FINISH$3)return err(_,Z_BUF_ERROR$1);if(P.status===FINISH_STATE&&_.avail_in!==0)return err(_,Z_BUF_ERROR$1);if(P.status===INIT_STATE&&P.wrap===0&&(P.status=BUSY_STATE),P.status===INIT_STATE){let I=Z_DEFLATED$2+(P.w_bits-8<<4)<<8,L=-1;if(P.strategy>=Z_HUFFMAN_ONLY||P.level<2?L=0:P.level<6?L=1:P.level===6?L=2:L=3,I|=L<<6,P.strstart!==0&&(I|=PRESET_DICT),I+=31-I%31,putShortMSB(P,I),P.strstart!==0&&(putShortMSB(P,_.adler>>>16),putShortMSB(P,_.adler&65535)),_.adler=1,P.status=BUSY_STATE,flush_pending(_),P.pending!==0)return P.last_flush=-1,Z_OK$3}if(P.status===GZIP_STATE){if(_.adler=0,put_byte(P,31),put_byte(P,139),put_byte(P,8),P.gzhead)put_byte(P,(P.gzhead.text?1:0)+(P.gzhead.hcrc?2:0)+(P.gzhead.extra?4:0)+(P.gzhead.name?8:0)+(P.gzhead.comment?16:0)),put_byte(P,P.gzhead.time&255),put_byte(P,P.gzhead.time>>8&255),put_byte(P,P.gzhead.time>>16&255),put_byte(P,P.gzhead.time>>24&255),put_byte(P,P.level===9?2:P.strategy>=Z_HUFFMAN_ONLY||P.level<2?4:0),put_byte(P,P.gzhead.os&255),P.gzhead.extra&&P.gzhead.extra.length&&(put_byte(P,P.gzhead.extra.length&255),put_byte(P,P.gzhead.extra.length>>8&255)),P.gzhead.hcrc&&(_.adler=crc32_1(_.adler,P.pending_buf,P.pending,0)),P.gzindex=0,P.status=EXTRA_STATE;else if(put_byte(P,0),put_byte(P,0),put_byte(P,0),put_byte(P,0),put_byte(P,0),put_byte(P,P.level===9?2:P.strategy>=Z_HUFFMAN_ONLY||P.level<2?4:0),put_byte(P,OS_CODE),P.status=BUSY_STATE,flush_pending(_),P.pending!==0)return P.last_flush=-1,Z_OK$3}if(P.status===EXTRA_STATE){if(P.gzhead.extra){let I=P.pending,L=(P.gzhead.extra.length&65535)-P.gzindex;for(;P.pending+L>P.pending_buf_size;){let F=P.pending_buf_size-P.pending;if(P.pending_buf.set(P.gzhead.extra.subarray(P.gzindex,P.gzindex+F),P.pending),P.pending=P.pending_buf_size,P.gzhead.hcrc&&P.pending>I&&(_.adler=crc32_1(_.adler,P.pending_buf,P.pending-I,I)),P.gzindex+=F,flush_pending(_),P.pending!==0)return P.last_flush=-1,Z_OK$3;I=0,L-=F}let z=new Uint8Array(P.gzhead.extra);P.pending_buf.set(z.subarray(P.gzindex,P.gzindex+L),P.pending),P.pending+=L,P.gzhead.hcrc&&P.pending>I&&(_.adler=crc32_1(_.adler,P.pending_buf,P.pending-I,I)),P.gzindex=0}P.status=NAME_STATE}if(P.status===NAME_STATE){if(P.gzhead.name){let I=P.pending,L;do{if(P.pending===P.pending_buf_size){if(P.gzhead.hcrc&&P.pending>I&&(_.adler=crc32_1(_.adler,P.pending_buf,P.pending-I,I)),flush_pending(_),P.pending!==0)return P.last_flush=-1,Z_OK$3;I=0}P.gzindex<P.gzhead.name.length?L=P.gzhead.name.charCodeAt(P.gzindex++)&255:L=0,put_byte(P,L)}while(L!==0);P.gzhead.hcrc&&P.pending>I&&(_.adler=crc32_1(_.adler,P.pending_buf,P.pending-I,I)),P.gzindex=0}P.status=COMMENT_STATE}if(P.status===COMMENT_STATE){if(P.gzhead.comment){let I=P.pending,L;do{if(P.pending===P.pending_buf_size){if(P.gzhead.hcrc&&P.pending>I&&(_.adler=crc32_1(_.adler,P.pending_buf,P.pending-I,I)),flush_pending(_),P.pending!==0)return P.last_flush=-1,Z_OK$3;I=0}P.gzindex<P.gzhead.comment.length?L=P.gzhead.comment.charCodeAt(P.gzindex++)&255:L=0,put_byte(P,L)}while(L!==0);P.gzhead.hcrc&&P.pending>I&&(_.adler=crc32_1(_.adler,P.pending_buf,P.pending-I,I))}P.status=HCRC_STATE}if(P.status===HCRC_STATE){if(P.gzhead.hcrc){if(P.pending+2>P.pending_buf_size&&(flush_pending(_),P.pending!==0))return P.last_flush=-1,Z_OK$3;put_byte(P,_.adler&255),put_byte(P,_.adler>>8&255),_.adler=0}if(P.status=BUSY_STATE,flush_pending(_),P.pending!==0)return P.last_flush=-1,Z_OK$3}if(_.avail_in!==0||P.lookahead!==0||R!==Z_NO_FLUSH$2&&P.status!==FINISH_STATE){let I=P.level===0?deflate_stored(P,R):P.strategy===Z_HUFFMAN_ONLY?deflate_huff(P,R):P.strategy===Z_RLE?deflate_rle(P,R):configuration_table[P.level].func(P,R);if((I===BS_FINISH_STARTED||I===BS_FINISH_DONE)&&(P.status=FINISH_STATE),I===BS_NEED_MORE||I===BS_FINISH_STARTED)return _.avail_out===0&&(P.last_flush=-1),Z_OK$3;if(I===BS_BLOCK_DONE&&(R===Z_PARTIAL_FLUSH?_tr_align(P):R!==Z_BLOCK$1&&(_tr_stored_block(P,0,0,!1),R===Z_FULL_FLUSH$1&&(zero(P.head),P.lookahead===0&&(P.strstart=0,P.block_start=0,P.insert=0))),flush_pending(_),_.avail_out===0))return P.last_flush=-1,Z_OK$3}return R!==Z_FINISH$3?Z_OK$3:P.wrap<=0?Z_STREAM_END$3:(P.wrap===2?(put_byte(P,_.adler&255),put_byte(P,_.adler>>8&255),put_byte(P,_.adler>>16&255),put_byte(P,_.adler>>24&255),put_byte(P,_.total_in&255),put_byte(P,_.total_in>>8&255),put_byte(P,_.total_in>>16&255),put_byte(P,_.total_in>>24&255)):(putShortMSB(P,_.adler>>>16),putShortMSB(P,_.adler&65535)),flush_pending(_),P.wrap>0&&(P.wrap=-P.wrap),P.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=_=>{if(deflateStateCheck(_))return Z_STREAM_ERROR$2;const R=_.state.status;return _.state=null,R===BUSY_STATE?err(_,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(_,R)=>{let P=R.length;if(deflateStateCheck(_))return Z_STREAM_ERROR$2;const O=_.state,I=O.wrap;if(I===2||I===1&&O.status!==INIT_STATE||O.lookahead)return Z_STREAM_ERROR$2;if(I===1&&(_.adler=adler32_1(_.adler,R,P,0)),O.wrap=0,P>=O.w_size){I===0&&(zero(O.head),O.strstart=0,O.block_start=0,O.insert=0);let G=new Uint8Array(O.w_size);G.set(R.subarray(P-O.w_size,P),0),R=G,P=O.w_size}const L=_.avail_in,z=_.next_in,F=_.input;for(_.avail_in=P,_.next_in=0,_.input=R,fill_window(O);O.lookahead>=MIN_MATCH;){let G=O.strstart,V=O.lookahead-(MIN_MATCH-1);do O.ins_h=HASH(O,O.ins_h,O.window[G+MIN_MATCH-1]),O.prev[G&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=G,G++;while(--V);O.strstart=G,O.lookahead=MIN_MATCH-1,fill_window(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=MIN_MATCH-1,O.match_available=0,_.next_in=z,_.input=F,_.avail_in=L,O.wrap=I,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(_,R)=>Object.prototype.hasOwnProperty.call(_,R);var assign=function(_){const R=Array.prototype.slice.call(arguments,1);for(;R.length;){const P=R.shift();if(P){if(typeof P!="object")throw new TypeError(P+"must be non-object");for(const O in P)_has(P,O)&&(_[O]=P[O])}}return _},flattenChunks=_=>{let R=0;for(let O=0,I=_.length;O<I;O++)R+=_[O].length;const P=new Uint8Array(R);for(let O=0,I=0,L=_.length;O<L;O++){let z=_[O];P.set(z,I),I+=z.length}return P},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(_){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let _=0;_<256;_++)_utf8len[_]=_>=252?6:_>=248?5:_>=240?4:_>=224?3:_>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=_=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(_);let R,P,O,I,L,z=_.length,F=0;for(I=0;I<z;I++)P=_.charCodeAt(I),(P&64512)===55296&&I+1<z&&(O=_.charCodeAt(I+1),(O&64512)===56320&&(P=65536+(P-55296<<10)+(O-56320),I++)),F+=P<128?1:P<2048?2:P<65536?3:4;for(R=new Uint8Array(F),L=0,I=0;L<F;I++)P=_.charCodeAt(I),(P&64512)===55296&&I+1<z&&(O=_.charCodeAt(I+1),(O&64512)===56320&&(P=65536+(P-55296<<10)+(O-56320),I++)),P<128?R[L++]=P:P<2048?(R[L++]=192|P>>>6,R[L++]=128|P&63):P<65536?(R[L++]=224|P>>>12,R[L++]=128|P>>>6&63,R[L++]=128|P&63):(R[L++]=240|P>>>18,R[L++]=128|P>>>12&63,R[L++]=128|P>>>6&63,R[L++]=128|P&63);return R};const buf2binstring=(_,R)=>{if(R<65534&&_.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,_.length===R?_:_.subarray(0,R));let P="";for(let O=0;O<R;O++)P+=String.fromCharCode(_[O]);return P};var buf2string=(_,R)=>{const P=R||_.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(_.subarray(0,R));let O,I;const L=new Array(P*2);for(I=0,O=0;O<P;){let z=_[O++];if(z<128){L[I++]=z;continue}let F=_utf8len[z];if(F>4){L[I++]=65533,O+=F-1;continue}for(z&=F===2?31:F===3?15:7;F>1&&O<P;)z=z<<6|_[O++]&63,F--;if(F>1){L[I++]=65533;continue}z<65536?L[I++]=z:(z-=65536,L[I++]=55296|z>>10&1023,L[I++]=56320|z&1023)}return buf2binstring(L,I)},utf8border=(_,R)=>{R=R||_.length,R>_.length&&(R=_.length);let P=R-1;for(;P>=0&&(_[P]&192)===128;)P--;return P<0||P===0?R:P+_utf8len[_[P]]>R?P:R},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(_){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},_||{});let R=this.options;R.raw&&R.windowBits>0?R.windowBits=-R.windowBits:R.gzip&&R.windowBits>0&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let P=deflate_1$2.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(P!==Z_OK$2)throw new Error(messages[P]);if(R.header&&deflate_1$2.deflateSetHeader(this.strm,R.header),R.dictionary){let O;if(typeof R.dictionary=="string"?O=strings.string2buf(R.dictionary):toString$1$1.call(R.dictionary)==="[object ArrayBuffer]"?O=new Uint8Array(R.dictionary):O=R.dictionary,P=deflate_1$2.deflateSetDictionary(this.strm,O),P!==Z_OK$2)throw new Error(messages[P]);this._dict_set=!0}}Deflate$1.prototype.push=function(_,R){const P=this.strm,O=this.options.chunkSize;let I,L;if(this.ended)return!1;for(R===~~R?L=R:L=R===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof _=="string"?P.input=strings.string2buf(_):toString$1$1.call(_)==="[object ArrayBuffer]"?P.input=new Uint8Array(_):P.input=_,P.next_in=0,P.avail_in=P.input.length;;){if(P.avail_out===0&&(P.output=new Uint8Array(O),P.next_out=0,P.avail_out=O),(L===Z_SYNC_FLUSH||L===Z_FULL_FLUSH)&&P.avail_out<=6){this.onData(P.output.subarray(0,P.next_out)),P.avail_out=0;continue}if(I=deflate_1$2.deflate(P,L),I===Z_STREAM_END$2)return P.next_out>0&&this.onData(P.output.subarray(0,P.next_out)),I=deflate_1$2.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===Z_OK$2;if(P.avail_out===0){this.onData(P.output);continue}if(L>0&&P.next_out>0){this.onData(P.output.subarray(0,P.next_out)),P.avail_out=0;continue}if(P.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(_){this.chunks.push(_)};Deflate$1.prototype.onEnd=function(_){_===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function deflate$1(_,R){const P=new Deflate$1(R);if(P.push(_,!0),P.err)throw P.msg||messages[P.err];return P.result}function deflateRaw$1(_,R){return R=R||{},R.raw=!0,deflate$1(_,R)}function gzip$1(_,R){return R=R||{},R.gzip=!0,deflate$1(_,R)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1};const BAD$1=16209,TYPE$1=16191;var inffast=function _(R,P){let O,I,L,z,F,G,V,Z,Y,Q,J,te,ne,ie,se,oe,ce,ue,me,he,fe,de,pe,be;const ye=R.state;O=R.next_in,pe=R.input,I=O+(R.avail_in-5),L=R.next_out,be=R.output,z=L-(P-R.avail_out),F=L+(R.avail_out-257),G=ye.dmax,V=ye.wsize,Z=ye.whave,Y=ye.wnext,Q=ye.window,J=ye.hold,te=ye.bits,ne=ye.lencode,ie=ye.distcode,se=(1<<ye.lenbits)-1,oe=(1<<ye.distbits)-1;e:do{te<15&&(J+=pe[O++]<<te,te+=8,J+=pe[O++]<<te,te+=8),ce=ne[J&se];t:for(;;){if(ue=ce>>>24,J>>>=ue,te-=ue,ue=ce>>>16&255,ue===0)be[L++]=ce&65535;else if(ue&16){me=ce&65535,ue&=15,ue&&(te<ue&&(J+=pe[O++]<<te,te+=8),me+=J&(1<<ue)-1,J>>>=ue,te-=ue),te<15&&(J+=pe[O++]<<te,te+=8,J+=pe[O++]<<te,te+=8),ce=ie[J&oe];n:for(;;){if(ue=ce>>>24,J>>>=ue,te-=ue,ue=ce>>>16&255,ue&16){if(he=ce&65535,ue&=15,te<ue&&(J+=pe[O++]<<te,te+=8,te<ue&&(J+=pe[O++]<<te,te+=8)),he+=J&(1<<ue)-1,he>G){R.msg="invalid distance too far back",ye.mode=BAD$1;break e}if(J>>>=ue,te-=ue,ue=L-z,he>ue){if(ue=he-ue,ue>Z&&ye.sane){R.msg="invalid distance too far back",ye.mode=BAD$1;break e}if(fe=0,de=Q,Y===0){if(fe+=V-ue,ue<me){me-=ue;do be[L++]=Q[fe++];while(--ue);fe=L-he,de=be}}else if(Y<ue){if(fe+=V+Y-ue,ue-=Y,ue<me){me-=ue;do be[L++]=Q[fe++];while(--ue);if(fe=0,Y<me){ue=Y,me-=ue;do be[L++]=Q[fe++];while(--ue);fe=L-he,de=be}}}else if(fe+=Y-ue,ue<me){me-=ue;do be[L++]=Q[fe++];while(--ue);fe=L-he,de=be}for(;me>2;)be[L++]=de[fe++],be[L++]=de[fe++],be[L++]=de[fe++],me-=3;me&&(be[L++]=de[fe++],me>1&&(be[L++]=de[fe++]))}else{fe=L-he;do be[L++]=be[fe++],be[L++]=be[fe++],be[L++]=be[fe++],me-=3;while(me>2);me&&(be[L++]=be[fe++],me>1&&(be[L++]=be[fe++]))}}else if((ue&64)===0){ce=ie[(ce&65535)+(J&(1<<ue)-1)];continue n}else{R.msg="invalid distance code",ye.mode=BAD$1;break e}break}}else if((ue&64)===0){ce=ne[(ce&65535)+(J&(1<<ue)-1)];continue t}else if(ue&32){ye.mode=TYPE$1;break e}else{R.msg="invalid literal/length code",ye.mode=BAD$1;break e}break}}while(O<I&&L<F);me=te>>3,O-=me,te-=me<<3,J&=(1<<te)-1,R.next_in=O,R.next_out=L,R.avail_in=O<I?5+(I-O):5-(O-I),R.avail_out=L<F?257+(F-L):257-(L-F),ye.hold=J,ye.bits=te};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(_,R,P,O,I,L,z,F)=>{const G=F.bits;let V=0,Z=0,Y=0,Q=0,J=0,te=0,ne=0,ie=0,se=0,oe=0,ce,ue,me,he,fe,de=null,pe;const be=new Uint16Array(MAXBITS+1),ye=new Uint16Array(MAXBITS+1);let we=null,ve,Ae,Ce;for(V=0;V<=MAXBITS;V++)be[V]=0;for(Z=0;Z<O;Z++)be[R[P+Z]]++;for(J=G,Q=MAXBITS;Q>=1&&be[Q]===0;Q--);if(J>Q&&(J=Q),Q===0)return I[L++]=1<<24|64<<16|0,I[L++]=1<<24|64<<16|0,F.bits=1,0;for(Y=1;Y<Q&&be[Y]===0;Y++);for(J<Y&&(J=Y),ie=1,V=1;V<=MAXBITS;V++)if(ie<<=1,ie-=be[V],ie<0)return-1;if(ie>0&&(_===CODES$1||Q!==1))return-1;for(ye[1]=0,V=1;V<MAXBITS;V++)ye[V+1]=ye[V]+be[V];for(Z=0;Z<O;Z++)R[P+Z]!==0&&(z[ye[R[P+Z]]++]=Z);if(_===CODES$1?(de=we=z,pe=20):_===LENS$1?(de=lbase,we=lext,pe=257):(de=dbase,we=dext,pe=0),oe=0,Z=0,V=Y,fe=L,te=J,ne=0,me=-1,se=1<<J,he=se-1,_===LENS$1&&se>ENOUGH_LENS$1||_===DISTS$1&&se>ENOUGH_DISTS$1)return 1;for(;;){ve=V-ne,z[Z]+1<pe?(Ae=0,Ce=z[Z]):z[Z]>=pe?(Ae=we[z[Z]-pe],Ce=de[z[Z]-pe]):(Ae=96,Ce=0),ce=1<<V-ne,ue=1<<te,Y=ue;do ue-=ce,I[fe+(oe>>ne)+ue]=ve<<24|Ae<<16|Ce|0;while(ue!==0);for(ce=1<<V-1;oe&ce;)ce>>=1;if(ce!==0?(oe&=ce-1,oe+=ce):oe=0,Z++,--be[V]===0){if(V===Q)break;V=R[P+z[Z]]}if(V>J&&(oe&he)!==me){for(ne===0&&(ne=J),fe+=Y,te=V-ne,ie=1<<te;te+ne<Q&&(ie-=be[te+ne],!(ie<=0));)te++,ie<<=1;if(se+=1<<te,_===LENS$1&&se>ENOUGH_LENS$1||_===DISTS$1&&se>ENOUGH_DISTS$1)return 1;me=oe&he,I[me]=J<<24|te<<16|fe-L|0}}return oe!==0&&(I[fe+oe]=V-ne<<24|64<<16|0),F.bits=J,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=_=>(_>>>24&255)+(_>>>8&65280)+((_&65280)<<8)+((_&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=_=>{if(!_)return 1;const R=_.state;return!R||R.strm!==_||R.mode<HEAD||R.mode>SYNC?1:0},inflateResetKeep=_=>{if(inflateStateCheck(_))return Z_STREAM_ERROR$1;const R=_.state;return _.total_in=_.total_out=R.total=0,_.msg="",R.wrap&&(_.adler=R.wrap&1),R.mode=HEAD,R.last=0,R.havedict=0,R.flags=-1,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new Int32Array(ENOUGH_LENS),R.distcode=R.distdyn=new Int32Array(ENOUGH_DISTS),R.sane=1,R.back=-1,Z_OK$1},inflateReset=_=>{if(inflateStateCheck(_))return Z_STREAM_ERROR$1;const R=_.state;return R.wsize=0,R.whave=0,R.wnext=0,inflateResetKeep(_)},inflateReset2=(_,R)=>{let P;if(inflateStateCheck(_))return Z_STREAM_ERROR$1;const O=_.state;return R<0?(P=0,R=-R):(P=(R>>4)+5,R<48&&(R&=15)),R&&(R<8||R>15)?Z_STREAM_ERROR$1:(O.window!==null&&O.wbits!==R&&(O.window=null),O.wrap=P,O.wbits=R,inflateReset(_))},inflateInit2=(_,R)=>{if(!_)return Z_STREAM_ERROR$1;const P=new InflateState;_.state=P,P.strm=_,P.window=null,P.mode=HEAD;const O=inflateReset2(_,R);return O!==Z_OK$1&&(_.state=null),O},inflateInit=_=>inflateInit2(_,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=_=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let R=0;for(;R<144;)_.lens[R++]=8;for(;R<256;)_.lens[R++]=9;for(;R<280;)_.lens[R++]=7;for(;R<288;)_.lens[R++]=8;for(inftrees(LENS,_.lens,0,288,lenfix,0,_.work,{bits:9}),R=0;R<32;)_.lens[R++]=5;inftrees(DISTS,_.lens,0,32,distfix,0,_.work,{bits:5}),virgin=!1}_.lencode=lenfix,_.lenbits=9,_.distcode=distfix,_.distbits=5},updatewindow=(_,R,P,O)=>{let I;const L=_.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new Uint8Array(L.wsize)),O>=L.wsize?(L.window.set(R.subarray(P-L.wsize,P),0),L.wnext=0,L.whave=L.wsize):(I=L.wsize-L.wnext,I>O&&(I=O),L.window.set(R.subarray(P-O,P-O+I),L.wnext),O-=I,O?(L.window.set(R.subarray(P-O,P),0),L.wnext=O,L.whave=L.wsize):(L.wnext+=I,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=I))),0},inflate$2=(_,R)=>{let P,O,I,L,z,F,G,V,Z,Y,Q,J,te,ne,ie=0,se,oe,ce,ue,me,he,fe,de;const pe=new Uint8Array(4);let be,ye;const we=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(_)||!_.output||!_.input&&_.avail_in!==0)return Z_STREAM_ERROR$1;P=_.state,P.mode===TYPE&&(P.mode=TYPEDO),z=_.next_out,I=_.output,G=_.avail_out,L=_.next_in,O=_.input,F=_.avail_in,V=P.hold,Z=P.bits,Y=F,Q=G,de=Z_OK$1;e:for(;;)switch(P.mode){case HEAD:if(P.wrap===0){P.mode=TYPEDO;break}for(;Z<16;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}if(P.wrap&2&&V===35615){P.wbits===0&&(P.wbits=15),P.check=0,pe[0]=V&255,pe[1]=V>>>8&255,P.check=crc32_1(P.check,pe,2,0),V=0,Z=0,P.mode=FLAGS;break}if(P.head&&(P.head.done=!1),!(P.wrap&1)||(((V&255)<<8)+(V>>8))%31){_.msg="incorrect header check",P.mode=BAD;break}if((V&15)!==Z_DEFLATED){_.msg="unknown compression method",P.mode=BAD;break}if(V>>>=4,Z-=4,fe=(V&15)+8,P.wbits===0&&(P.wbits=fe),fe>15||fe>P.wbits){_.msg="invalid window size",P.mode=BAD;break}P.dmax=1<<P.wbits,P.flags=0,_.adler=P.check=1,P.mode=V&512?DICTID:TYPE,V=0,Z=0;break;case FLAGS:for(;Z<16;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}if(P.flags=V,(P.flags&255)!==Z_DEFLATED){_.msg="unknown compression method",P.mode=BAD;break}if(P.flags&57344){_.msg="unknown header flags set",P.mode=BAD;break}P.head&&(P.head.text=V>>8&1),P.flags&512&&P.wrap&4&&(pe[0]=V&255,pe[1]=V>>>8&255,P.check=crc32_1(P.check,pe,2,0)),V=0,Z=0,P.mode=TIME;case TIME:for(;Z<32;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}P.head&&(P.head.time=V),P.flags&512&&P.wrap&4&&(pe[0]=V&255,pe[1]=V>>>8&255,pe[2]=V>>>16&255,pe[3]=V>>>24&255,P.check=crc32_1(P.check,pe,4,0)),V=0,Z=0,P.mode=OS;case OS:for(;Z<16;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}P.head&&(P.head.xflags=V&255,P.head.os=V>>8),P.flags&512&&P.wrap&4&&(pe[0]=V&255,pe[1]=V>>>8&255,P.check=crc32_1(P.check,pe,2,0)),V=0,Z=0,P.mode=EXLEN;case EXLEN:if(P.flags&1024){for(;Z<16;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}P.length=V,P.head&&(P.head.extra_len=V),P.flags&512&&P.wrap&4&&(pe[0]=V&255,pe[1]=V>>>8&255,P.check=crc32_1(P.check,pe,2,0)),V=0,Z=0}else P.head&&(P.head.extra=null);P.mode=EXTRA;case EXTRA:if(P.flags&1024&&(J=P.length,J>F&&(J=F),J&&(P.head&&(fe=P.head.extra_len-P.length,P.head.extra||(P.head.extra=new Uint8Array(P.head.extra_len)),P.head.extra.set(O.subarray(L,L+J),fe)),P.flags&512&&P.wrap&4&&(P.check=crc32_1(P.check,O,J,L)),F-=J,L+=J,P.length-=J),P.length))break e;P.length=0,P.mode=NAME;case NAME:if(P.flags&2048){if(F===0)break e;J=0;do fe=O[L+J++],P.head&&fe&&P.length<65536&&(P.head.name+=String.fromCharCode(fe));while(fe&&J<F);if(P.flags&512&&P.wrap&4&&(P.check=crc32_1(P.check,O,J,L)),F-=J,L+=J,fe)break e}else P.head&&(P.head.name=null);P.length=0,P.mode=COMMENT;case COMMENT:if(P.flags&4096){if(F===0)break e;J=0;do fe=O[L+J++],P.head&&fe&&P.length<65536&&(P.head.comment+=String.fromCharCode(fe));while(fe&&J<F);if(P.flags&512&&P.wrap&4&&(P.check=crc32_1(P.check,O,J,L)),F-=J,L+=J,fe)break e}else P.head&&(P.head.comment=null);P.mode=HCRC;case HCRC:if(P.flags&512){for(;Z<16;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}if(P.wrap&4&&V!==(P.check&65535)){_.msg="header crc mismatch",P.mode=BAD;break}V=0,Z=0}P.head&&(P.head.hcrc=P.flags>>9&1,P.head.done=!0),_.adler=P.check=0,P.mode=TYPE;break;case DICTID:for(;Z<32;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}_.adler=P.check=zswap32(V),V=0,Z=0,P.mode=DICT;case DICT:if(P.havedict===0)return _.next_out=z,_.avail_out=G,_.next_in=L,_.avail_in=F,P.hold=V,P.bits=Z,Z_NEED_DICT$1;_.adler=P.check=1,P.mode=TYPE;case TYPE:if(R===Z_BLOCK||R===Z_TREES)break e;case TYPEDO:if(P.last){V>>>=Z&7,Z-=Z&7,P.mode=CHECK;break}for(;Z<3;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}switch(P.last=V&1,V>>>=1,Z-=1,V&3){case 0:P.mode=STORED;break;case 1:if(fixedtables(P),P.mode=LEN_,R===Z_TREES){V>>>=2,Z-=2;break e}break;case 2:P.mode=TABLE;break;case 3:_.msg="invalid block type",P.mode=BAD}V>>>=2,Z-=2;break;case STORED:for(V>>>=Z&7,Z-=Z&7;Z<32;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}if((V&65535)!==(V>>>16^65535)){_.msg="invalid stored block lengths",P.mode=BAD;break}if(P.length=V&65535,V=0,Z=0,P.mode=COPY_,R===Z_TREES)break e;case COPY_:P.mode=COPY;case COPY:if(J=P.length,J){if(J>F&&(J=F),J>G&&(J=G),J===0)break e;I.set(O.subarray(L,L+J),z),F-=J,L+=J,G-=J,z+=J,P.length-=J;break}P.mode=TYPE;break;case TABLE:for(;Z<14;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}if(P.nlen=(V&31)+257,V>>>=5,Z-=5,P.ndist=(V&31)+1,V>>>=5,Z-=5,P.ncode=(V&15)+4,V>>>=4,Z-=4,P.nlen>286||P.ndist>30){_.msg="too many length or distance symbols",P.mode=BAD;break}P.have=0,P.mode=LENLENS;case LENLENS:for(;P.have<P.ncode;){for(;Z<3;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}P.lens[we[P.have++]]=V&7,V>>>=3,Z-=3}for(;P.have<19;)P.lens[we[P.have++]]=0;if(P.lencode=P.lendyn,P.lenbits=7,be={bits:P.lenbits},de=inftrees(CODES,P.lens,0,19,P.lencode,0,P.work,be),P.lenbits=be.bits,de){_.msg="invalid code lengths set",P.mode=BAD;break}P.have=0,P.mode=CODELENS;case CODELENS:for(;P.have<P.nlen+P.ndist;){for(;ie=P.lencode[V&(1<<P.lenbits)-1],se=ie>>>24,oe=ie>>>16&255,ce=ie&65535,!(se<=Z);){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}if(ce<16)V>>>=se,Z-=se,P.lens[P.have++]=ce;else{if(ce===16){for(ye=se+2;Z<ye;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}if(V>>>=se,Z-=se,P.have===0){_.msg="invalid bit length repeat",P.mode=BAD;break}fe=P.lens[P.have-1],J=3+(V&3),V>>>=2,Z-=2}else if(ce===17){for(ye=se+3;Z<ye;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}V>>>=se,Z-=se,fe=0,J=3+(V&7),V>>>=3,Z-=3}else{for(ye=se+7;Z<ye;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}V>>>=se,Z-=se,fe=0,J=11+(V&127),V>>>=7,Z-=7}if(P.have+J>P.nlen+P.ndist){_.msg="invalid bit length repeat",P.mode=BAD;break}for(;J--;)P.lens[P.have++]=fe}}if(P.mode===BAD)break;if(P.lens[256]===0){_.msg="invalid code -- missing end-of-block",P.mode=BAD;break}if(P.lenbits=9,be={bits:P.lenbits},de=inftrees(LENS,P.lens,0,P.nlen,P.lencode,0,P.work,be),P.lenbits=be.bits,de){_.msg="invalid literal/lengths set",P.mode=BAD;break}if(P.distbits=6,P.distcode=P.distdyn,be={bits:P.distbits},de=inftrees(DISTS,P.lens,P.nlen,P.ndist,P.distcode,0,P.work,be),P.distbits=be.bits,de){_.msg="invalid distances set",P.mode=BAD;break}if(P.mode=LEN_,R===Z_TREES)break e;case LEN_:P.mode=LEN;case LEN:if(F>=6&&G>=258){_.next_out=z,_.avail_out=G,_.next_in=L,_.avail_in=F,P.hold=V,P.bits=Z,inffast(_,Q),z=_.next_out,I=_.output,G=_.avail_out,L=_.next_in,O=_.input,F=_.avail_in,V=P.hold,Z=P.bits,P.mode===TYPE&&(P.back=-1);break}for(P.back=0;ie=P.lencode[V&(1<<P.lenbits)-1],se=ie>>>24,oe=ie>>>16&255,ce=ie&65535,!(se<=Z);){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}if(oe&&(oe&240)===0){for(ue=se,me=oe,he=ce;ie=P.lencode[he+((V&(1<<ue+me)-1)>>ue)],se=ie>>>24,oe=ie>>>16&255,ce=ie&65535,!(ue+se<=Z);){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}V>>>=ue,Z-=ue,P.back+=ue}if(V>>>=se,Z-=se,P.back+=se,P.length=ce,oe===0){P.mode=LIT;break}if(oe&32){P.back=-1,P.mode=TYPE;break}if(oe&64){_.msg="invalid literal/length code",P.mode=BAD;break}P.extra=oe&15,P.mode=LENEXT;case LENEXT:if(P.extra){for(ye=P.extra;Z<ye;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}P.length+=V&(1<<P.extra)-1,V>>>=P.extra,Z-=P.extra,P.back+=P.extra}P.was=P.length,P.mode=DIST;case DIST:for(;ie=P.distcode[V&(1<<P.distbits)-1],se=ie>>>24,oe=ie>>>16&255,ce=ie&65535,!(se<=Z);){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}if((oe&240)===0){for(ue=se,me=oe,he=ce;ie=P.distcode[he+((V&(1<<ue+me)-1)>>ue)],se=ie>>>24,oe=ie>>>16&255,ce=ie&65535,!(ue+se<=Z);){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}V>>>=ue,Z-=ue,P.back+=ue}if(V>>>=se,Z-=se,P.back+=se,oe&64){_.msg="invalid distance code",P.mode=BAD;break}P.offset=ce,P.extra=oe&15,P.mode=DISTEXT;case DISTEXT:if(P.extra){for(ye=P.extra;Z<ye;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}P.offset+=V&(1<<P.extra)-1,V>>>=P.extra,Z-=P.extra,P.back+=P.extra}if(P.offset>P.dmax){_.msg="invalid distance too far back",P.mode=BAD;break}P.mode=MATCH;case MATCH:if(G===0)break e;if(J=Q-G,P.offset>J){if(J=P.offset-J,J>P.whave&&P.sane){_.msg="invalid distance too far back",P.mode=BAD;break}J>P.wnext?(J-=P.wnext,te=P.wsize-J):te=P.wnext-J,J>P.length&&(J=P.length),ne=P.window}else ne=I,te=z-P.offset,J=P.length;J>G&&(J=G),G-=J,P.length-=J;do I[z++]=ne[te++];while(--J);P.length===0&&(P.mode=LEN);break;case LIT:if(G===0)break e;I[z++]=P.length,G--,P.mode=LEN;break;case CHECK:if(P.wrap){for(;Z<32;){if(F===0)break e;F--,V|=O[L++]<<Z,Z+=8}if(Q-=G,_.total_out+=Q,P.total+=Q,P.wrap&4&&Q&&(_.adler=P.check=P.flags?crc32_1(P.check,I,Q,z-Q):adler32_1(P.check,I,Q,z-Q)),Q=G,P.wrap&4&&(P.flags?V:zswap32(V))!==P.check){_.msg="incorrect data check",P.mode=BAD;break}V=0,Z=0}P.mode=LENGTH;case LENGTH:if(P.wrap&&P.flags){for(;Z<32;){if(F===0)break e;F--,V+=O[L++]<<Z,Z+=8}if(P.wrap&4&&V!==(P.total&4294967295)){_.msg="incorrect length check",P.mode=BAD;break}V=0,Z=0}P.mode=DONE;case DONE:de=Z_STREAM_END$1;break e;case BAD:de=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return _.next_out=z,_.avail_out=G,_.next_in=L,_.avail_in=F,P.hold=V,P.bits=Z,(P.wsize||Q!==_.avail_out&&P.mode<BAD&&(P.mode<CHECK||R!==Z_FINISH$1))&&updatewindow(_,_.output,_.next_out,Q-_.avail_out),Y-=_.avail_in,Q-=_.avail_out,_.total_in+=Y,_.total_out+=Q,P.total+=Q,P.wrap&4&&Q&&(_.adler=P.check=P.flags?crc32_1(P.check,I,Q,_.next_out-Q):adler32_1(P.check,I,Q,_.next_out-Q)),_.data_type=P.bits+(P.last?64:0)+(P.mode===TYPE?128:0)+(P.mode===LEN_||P.mode===COPY_?256:0),(Y===0&&Q===0||R===Z_FINISH$1)&&de===Z_OK$1&&(de=Z_BUF_ERROR),de},inflateEnd=_=>{if(inflateStateCheck(_))return Z_STREAM_ERROR$1;let R=_.state;return R.window&&(R.window=null),_.state=null,Z_OK$1},inflateGetHeader=(_,R)=>{if(inflateStateCheck(_))return Z_STREAM_ERROR$1;const P=_.state;return(P.wrap&2)===0?Z_STREAM_ERROR$1:(P.head=R,R.done=!1,Z_OK$1)},inflateSetDictionary=(_,R)=>{const P=R.length;let O,I,L;return inflateStateCheck(_)||(O=_.state,O.wrap!==0&&O.mode!==DICT)?Z_STREAM_ERROR$1:O.mode===DICT&&(I=1,I=adler32_1(I,R,P,0),I!==O.check)?Z_DATA_ERROR$1:(L=updatewindow(_,R,P,P),L?(O.mode=MEM,Z_MEM_ERROR$1):(O.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(_){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},_||{});const R=this.options;R.raw&&R.windowBits>=0&&R.windowBits<16&&(R.windowBits=-R.windowBits,R.windowBits===0&&(R.windowBits=-15)),R.windowBits>=0&&R.windowBits<16&&!(_&&_.windowBits)&&(R.windowBits+=32),R.windowBits>15&&R.windowBits<48&&(R.windowBits&15)===0&&(R.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let P=inflate_1$2.inflateInit2(this.strm,R.windowBits);if(P!==Z_OK)throw new Error(messages[P]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),R.dictionary&&(typeof R.dictionary=="string"?R.dictionary=strings.string2buf(R.dictionary):toString$2.call(R.dictionary)==="[object ArrayBuffer]"&&(R.dictionary=new Uint8Array(R.dictionary)),R.raw&&(P=inflate_1$2.inflateSetDictionary(this.strm,R.dictionary),P!==Z_OK)))throw new Error(messages[P])}Inflate$1.prototype.push=function(_,R){const P=this.strm,O=this.options.chunkSize,I=this.options.dictionary;let L,z,F;if(this.ended)return!1;for(R===~~R?z=R:z=R===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(_)==="[object ArrayBuffer]"?P.input=new Uint8Array(_):P.input=_,P.next_in=0,P.avail_in=P.input.length;;){for(P.avail_out===0&&(P.output=new Uint8Array(O),P.next_out=0,P.avail_out=O),L=inflate_1$2.inflate(P,z),L===Z_NEED_DICT&&I&&(L=inflate_1$2.inflateSetDictionary(P,I),L===Z_OK?L=inflate_1$2.inflate(P,z):L===Z_DATA_ERROR&&(L=Z_NEED_DICT));P.avail_in>0&&L===Z_STREAM_END&&P.state.wrap>0&&_[P.next_in]!==0;)inflate_1$2.inflateReset(P),L=inflate_1$2.inflate(P,z);switch(L){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(L),this.ended=!0,!1}if(F=P.avail_out,P.next_out&&(P.avail_out===0||L===Z_STREAM_END))if(this.options.to==="string"){let G=strings.utf8border(P.output,P.next_out),V=P.next_out-G,Z=strings.buf2string(P.output,G);P.next_out=V,P.avail_out=O-V,V&&P.output.set(P.output.subarray(G,G+V),0),this.onData(Z)}else this.onData(P.output.length===P.next_out?P.output:P.output.subarray(0,P.next_out));if(!(L===Z_OK&&F===0)){if(L===Z_STREAM_END)return L=inflate_1$2.inflateEnd(this.strm),this.onEnd(L),this.ended=!0,!0;if(P.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(_){this.chunks.push(_)};Inflate$1.prototype.onEnd=function(_){_===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function inflate$1(_,R){const P=new Inflate$1(R);if(P.push(_),P.err)throw P.msg||messages[P.err];return P.result}function inflateRaw$1(_,R){return R=R||{},R.raw=!0,inflate$1(_,R)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var Deflate_1=Deflate,deflate_1=deflate,deflateRaw_1=deflateRaw,gzip_1=gzip,Inflate_1=Inflate,inflate_1=inflate,inflateRaw_1=inflateRaw,ungzip_1=ungzip,constants_1=constants$2,pako={Deflate:Deflate_1,deflate:deflate_1,deflateRaw:deflateRaw_1,gzip:gzip_1,Inflate:Inflate_1,inflate:inflate_1,inflateRaw:inflateRaw_1,ungzip:ungzip_1,constants:constants_1};function encodeParamsToUrl(_,R){const P=toToml(R),O=pako.deflate(P),L=btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),z=new URL(window.location.origin+window.location.pathname);return z.searchParams.set("model",_),z.searchParams.set("config",L),z.toString()}function decodeParamsFromUrl(){const _=new URL(window.location.href),R=_.searchParams.get("model"),P=_.searchParams.get("config");if(!R||!P)return null;try{let O=P.replace(/-/g,"+").replace(/_/g,"/");for(;O.length%4;)O+="=";const I=atob(O),L=new Uint8Array(I.length);for(let G=0;G<I.length;G++)L[G]=I.charCodeAt(G);const z=pako.inflate(L,{to:"string"}),F=parseTomlWithDefaults(z);return{modelName:R,params:F}}catch(O){return console.error("Failed to decode URL params:",O),null}}function clearUrlParams(){const _=new URL(window.location.origin+window.location.pathname);window.history.replaceState({},"",_.toString())}function WorkerWrapper(_){return new Worker("/internal/eht/assets/simulation.worker-BQFUM4uL.js",{name:_?.name})}class WorkerPool{constructor(R=navigator.hardwareConcurrency||4){this.poolSize=R}workers=[];busyWorkers=new Set;taskQueue=[];pendingTasks=new Map;init(){for(let R=0;R<this.poolSize;R++){const P=new WorkerWrapper;P.onmessage=O=>{this.handleWorkerMessage(P,O.data)},P.onerror=O=>{console.error("Worker error:",O),this.handleWorkerError(P,O)},this.workers.push(P)}}getPoolSize(){return this.poolSize}submit(R,P,O,I,L,z){return new Promise((F,G)=>{const Z={request:{type:"run",modelName:R,baseParams:P,overrides:O,seed:I,timeSamples:L,runIndex:z},resolve:F,reject:G},Y=this.workers.find(Q=>!this.busyWorkers.has(Q));Y?this.executeTask(Y,Z):this.taskQueue.push(Z)})}executeTask(R,P){this.busyWorkers.add(R),this.pendingTasks.set(P.request.runIndex,P),R.postMessage(P.request)}handleWorkerMessage(R,P){const O=this.pendingTasks.get(P.runIndex);if(this.pendingTasks.delete(P.runIndex),this.busyWorkers.delete(R),O&&(P.type==="complete"&&P.snapshots?O.resolve(P.snapshots):P.type==="error"&&O.reject(new Error(P.error||"Unknown worker error"))),this.taskQueue.length>0){const I=this.taskQueue.shift();this.executeTask(R,I)}}handleWorkerError(R,P){if(this.busyWorkers.delete(R),console.error("Worker error:",P.message),this.taskQueue.length>0){const O=this.taskQueue.shift();this.executeTask(R,O)}}terminate(){for(const R of this.workers)R.terminate();this.workers=[],this.busyWorkers.clear(),this.taskQueue=[],this.pendingTasks.clear()}static isSupported(){return typeof Worker<"u"}}function runSingleSimulation(_,R,P,O,I,L,z){const F=structuredClone(R);for(const[Y,Q]of Object.entries(P))setNestedValue(F,Y,Q);F.general.random_seed=O;const G=new SimulationEngine({model:_,params:F});G.init();const V=[];let Z=0;if(I.length>0&&I[0]<=0){const Y=_.getSnapshot(G.getState()),Q={run_index:L,seed:O,time_h:0,sampled_params:P,data:Y};V.push(Q),z?.onSnapshot?.(Q),Z=1}for(;!G.isComplete()&&Z<I.length;){G.step();const Y=G.getState(),Q=Y.t??0;for(;Z<I.length&&Q>=I[Z];){const J=_.getSnapshot(Y),te={run_index:L,seed:O,time_h:I[Z],sampled_params:P,data:J};V.push(te),z?.onSnapshot?.(te),Z++}}return V}function yieldToUI(){return new Promise(_=>setTimeout(_,0))}async function runBatchSequential(_,R,P,O){const I=generateParameterConfigs(P.parameter_ranges,P.sampling_mode,P.random_sample_count),L=getTimeSamples(P.time_samples),z=I.length*P.seeds_per_config,F=[];let G=0;for(const Z of I)for(let Y=0;Y<P.seeds_per_config;Y++){const Q=R.general.random_seed+G;O?.onProgress?.({current_run:G,total_runs:z,current_config:Z,is_running:!0,is_complete:!1}),await yieldToUI();const J=runSingleSimulation(_,R,Z,Q,L,G,O);F.push(...J),G++}const V={config:P,snapshots:F,completed_runs:z,total_runs:z};return O?.onProgress?.({current_run:z,total_runs:z,current_config:{},is_running:!1,is_complete:!0}),O?.onComplete?.(V),V}async function runBatchParallel(_,R,P,O,I){const L=generateParameterConfigs(P.parameter_ranges,P.sampling_mode,P.random_sample_count),z=getTimeSamples(P.time_samples),F=L.length*P.seeds_per_config,G=[];let V=0;const Z=new WorkerPool(I);Z.init();try{const Q=[];let J=0;for(const ie of L)for(let se=0;se<P.seeds_per_config;se++){const oe=R.general.random_seed+J;Q.push({paramConfig:ie,seed:oe,runIndex:J}),J++}O?.onProgress?.({current_run:0,total_runs:F,current_config:{},is_running:!0,is_complete:!1});const te=Q.map(async ie=>{const se=await Z.submit(_.id,R,ie.paramConfig,ie.seed,z,ie.runIndex);V++,O?.onProgress?.({current_run:V,total_runs:F,current_config:ie.paramConfig,is_running:!0,is_complete:!1});for(const oe of se)O?.onSnapshot?.(oe);return se}),ne=await Promise.all(te);for(const ie of ne)G.push(...ie);G.sort((ie,se)=>ie.run_index!==se.run_index?ie.run_index-se.run_index:ie.time_h-se.time_h)}finally{Z.terminate()}const Y={config:P,snapshots:G,completed_runs:F,total_runs:F};return O?.onProgress?.({current_run:F,total_runs:F,current_config:{},is_running:!1,is_complete:!0}),O?.onComplete?.(Y),Y}async function runBatch(_,R,P,O){const I=O?.modelName??_.metadata?.model;if(!I)throw new Error("Model name not specified. Provide options.modelName or ensure params.metadata.model is set.");const L=modelRegistry.get(I);if(!L)throw new Error(`Model "${I}" not found in registry.`);return(O?.parallel??WorkerPool.isSupported())&&WorkerPool.isSupported()?runBatchParallel(L,_,R,P,O?.workerCount):runBatchSequential(L,_,R,P)}function computeTotalRuns(_,R){return generateParameterConfigs(_,"grid").length*R}var papaparse_min$1={exports:{}};var papaparse_min=papaparse_min$1.exports,hasRequiredPapaparse_min;function requirePapaparse_min(){return hasRequiredPapaparse_min||(hasRequiredPapaparse_min=1,(function(_,R){((P,O)=>{_.exports=O()})(papaparse_min,function P(){var O=typeof self<"u"?self:typeof window<"u"?window:O!==void 0?O:{},I,L=!O.document&&!!O.postMessage,z=O.IS_PAPA_WORKER||!1,F={},G=0,V={};function Z(de){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(pe){var be=me(pe);be.chunkSize=parseInt(be.chunkSize),pe.step||pe.chunk||(be.chunkSize=null),this._handle=new ne(be),(this._handle.streamer=this)._config=be}).call(this,de),this.parseChunk=function(pe,be){var ye=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<ye){let ve=this._config.newline;ve||(we=this._config.quoteChar||'"',ve=this._handle.guessLineEndings(pe,we)),pe=[...pe.split(ve).slice(ye)].join(ve)}this.isFirstChunk&&fe(this._config.beforeFirstChunk)&&(we=this._config.beforeFirstChunk(pe))!==void 0&&(pe=we),this.isFirstChunk=!1,this._halted=!1;var ye=this._partialLine+pe,we=(this._partialLine="",this._handle.parse(ye,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(pe=we.meta.cursor,ye=(this._finished||(this._partialLine=ye.substring(pe-this._baseIndex),this._baseIndex=pe),we&&we.data&&(this._rowCount+=we.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),z)O.postMessage({results:we,workerId:V.WORKER_ID,finished:ye});else if(fe(this._config.chunk)&&!be){if(this._config.chunk(we,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=we=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(we.data),this._completeResults.errors=this._completeResults.errors.concat(we.errors),this._completeResults.meta=we.meta),this._completed||!ye||!fe(this._config.complete)||we&&we.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ye||we&&we.meta.paused||this._nextChunk(),we}this._halted=!0},this._sendError=function(pe){fe(this._config.error)?this._config.error(pe):z&&this._config.error&&O.postMessage({workerId:V.WORKER_ID,error:pe,finished:!1})}}function Y(de){var pe;(de=de||{}).chunkSize||(de.chunkSize=V.RemoteChunkSize),Z.call(this,de),this._nextChunk=L?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(be){this._input=be,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(pe=new XMLHttpRequest,this._config.withCredentials&&(pe.withCredentials=this._config.withCredentials),L||(pe.onload=he(this._chunkLoaded,this),pe.onerror=he(this._chunkError,this)),pe.open(this._config.downloadRequestBody?"POST":"GET",this._input,!L),this._config.downloadRequestHeaders){var be,ye=this._config.downloadRequestHeaders;for(be in ye)pe.setRequestHeader(be,ye[be])}var we;this._config.chunkSize&&(we=this._start+this._config.chunkSize-1,pe.setRequestHeader("Range","bytes="+this._start+"-"+we));try{pe.send(this._config.downloadRequestBody)}catch(ve){this._chunkError(ve.message)}L&&pe.status===0&&this._chunkError()}},this._chunkLoaded=function(){pe.readyState===4&&(pe.status<200||400<=pe.status?this._chunkError():(this._start+=this._config.chunkSize||pe.responseText.length,this._finished=!this._config.chunkSize||this._start>=(be=>(be=be.getResponseHeader("Content-Range"))!==null?parseInt(be.substring(be.lastIndexOf("/")+1)):-1)(pe),this.parseChunk(pe.responseText)))},this._chunkError=function(be){be=pe.statusText||be,this._sendError(new Error(be))}}function Q(de){(de=de||{}).chunkSize||(de.chunkSize=V.LocalChunkSize),Z.call(this,de);var pe,be,ye=typeof FileReader<"u";this.stream=function(we){this._input=we,be=we.slice||we.webkitSlice||we.mozSlice,ye?((pe=new FileReader).onload=he(this._chunkLoaded,this),pe.onerror=he(this._chunkError,this)):pe=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var we=this._input,ve=(this._config.chunkSize&&(ve=Math.min(this._start+this._config.chunkSize,this._input.size),we=be.call(we,this._start,ve)),pe.readAsText(we,this._config.encoding));ye||this._chunkLoaded({target:{result:ve}})},this._chunkLoaded=function(we){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(we.target.result)},this._chunkError=function(){this._sendError(pe.error)}}function J(de){var pe;Z.call(this,de=de||{}),this.stream=function(be){return pe=be,this._nextChunk()},this._nextChunk=function(){var be,ye;if(!this._finished)return be=this._config.chunkSize,pe=be?(ye=pe.substring(0,be),pe.substring(be)):(ye=pe,""),this._finished=!pe,this.parseChunk(ye)}}function te(de){Z.call(this,de=de||{});var pe=[],be=!0,ye=!1;this.pause=function(){Z.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){Z.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(we){this._input=we,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){ye&&pe.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),pe.length?this.parseChunk(pe.shift()):be=!0},this._streamData=he(function(we){try{pe.push(typeof we=="string"?we:we.toString(this._config.encoding)),be&&(be=!1,this._checkIsFinished(),this.parseChunk(pe.shift()))}catch(ve){this._streamError(ve)}},this),this._streamError=he(function(we){this._streamCleanUp(),this._sendError(we)},this),this._streamEnd=he(function(){this._streamCleanUp(),ye=!0,this._streamData("")},this),this._streamCleanUp=he(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ne(de){var pe,be,ye,we,ve=Math.pow(2,53),Ae=-ve,Ce=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,_e=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Re=this,Me=0,$e=0,Se=!1,Ee=!1,ke=[],xe={data:[],errors:[],meta:{}};function ze(Ge){return de.skipEmptyLines==="greedy"?Ge.join("").trim()==="":Ge.length===1&&Ge[0].length===0}function Ze(){if(xe&&ye&&(Ie("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+V.DefaultDelimiter+"'"),ye=!1),de.skipEmptyLines&&(xe.data=xe.data.filter(function(Ue){return!ze(Ue)})),Ye()){let Ue=function(De,nt){fe(de.transformHeader)&&(De=de.transformHeader(De,nt)),ke.push(De)};if(xe)if(Array.isArray(xe.data[0])){for(var Ge=0;Ye()&&Ge<xe.data.length;Ge++)xe.data[Ge].forEach(Ue);xe.data.splice(0,1)}else xe.data.forEach(Ue)}function Oe(Ue,De){for(var nt=de.header?{}:[],Je=0;Je<Ue.length;Je++){var rt=Je,at=Ue[Je],at=((dt,ot)=>(et=>(de.dynamicTypingFunction&&de.dynamicTyping[et]===void 0&&(de.dynamicTyping[et]=de.dynamicTypingFunction(et)),(de.dynamicTyping[et]||de.dynamicTyping)===!0))(dt)?ot==="true"||ot==="TRUE"||ot!=="false"&&ot!=="FALSE"&&((et=>{if(Ce.test(et)&&(et=parseFloat(et),Ae<et&&et<ve))return 1})(ot)?parseFloat(ot):_e.test(ot)?new Date(ot):ot===""?null:ot):ot)(rt=de.header?Je>=ke.length?"__parsed_extra":ke[Je]:rt,at=de.transform?de.transform(at,rt):at);rt==="__parsed_extra"?(nt[rt]=nt[rt]||[],nt[rt].push(at)):nt[rt]=at}return de.header&&(Je>ke.length?Ie("FieldMismatch","TooManyFields","Too many fields: expected "+ke.length+" fields but parsed "+Je,$e+De):Je<ke.length&&Ie("FieldMismatch","TooFewFields","Too few fields: expected "+ke.length+" fields but parsed "+Je,$e+De)),nt}var Ve;xe&&(de.header||de.dynamicTyping||de.transform)&&(Ve=1,!xe.data.length||Array.isArray(xe.data[0])?(xe.data=xe.data.map(Oe),Ve=xe.data.length):xe.data=Oe(xe.data,0),de.header&&xe.meta&&(xe.meta.fields=ke),$e+=Ve)}function Ye(){return de.header&&ke.length===0}function Ie(Ge,Oe,Ve,Ue){Ge={type:Ge,code:Oe,message:Ve},Ue!==void 0&&(Ge.row=Ue),xe.errors.push(Ge)}fe(de.step)&&(we=de.step,de.step=function(Ge){xe=Ge,Ye()?Ze():(Ze(),xe.data.length!==0&&(Me+=Ge.data.length,de.preview&&Me>de.preview?be.abort():(xe.data=xe.data[0],we(xe,Re))))}),this.parse=function(Ge,Oe,Ve){var Ue=de.quoteChar||'"',Ue=(de.newline||(de.newline=this.guessLineEndings(Ge,Ue)),ye=!1,de.delimiter?fe(de.delimiter)&&(de.delimiter=de.delimiter(Ge),xe.meta.delimiter=de.delimiter):((Ue=((De,nt,Je,rt,at)=>{var dt,ot,et,Et;at=at||[",","	","|",";",V.RECORD_SEP,V.UNIT_SEP];for(var At=0;At<at.length;At++){for(var Ct,Gt=at[At],pt=0,bt=0,Fe=0,Ke=(et=void 0,new se({comments:rt,delimiter:Gt,newline:nt,preview:10}).parse(De)),tt=0;tt<Ke.data.length;tt++)Je&&ze(Ke.data[tt])?Fe++:(Ct=Ke.data[tt].length,bt+=Ct,et===void 0?et=Ct:0<Ct&&(pt+=Math.abs(Ct-et),et=Ct));0<Ke.data.length&&(bt/=Ke.data.length-Fe),(ot===void 0||pt<=ot)&&(Et===void 0||Et<bt)&&1.99<bt&&(ot=pt,dt=Gt,Et=bt)}return{successful:!!(de.delimiter=dt),bestDelimiter:dt}})(Ge,de.newline,de.skipEmptyLines,de.comments,de.delimitersToGuess)).successful?de.delimiter=Ue.bestDelimiter:(ye=!0,de.delimiter=V.DefaultDelimiter),xe.meta.delimiter=de.delimiter),me(de));return de.preview&&de.header&&Ue.preview++,pe=Ge,be=new se(Ue),xe=be.parse(pe,Oe,Ve),Ze(),Se?{meta:{paused:!0}}:xe||{meta:{paused:!1}}},this.paused=function(){return Se},this.pause=function(){Se=!0,be.abort(),pe=fe(de.chunk)?"":pe.substring(be.getCharIndex())},this.resume=function(){Re.streamer._halted?(Se=!1,Re.streamer.parseChunk(pe,!0)):setTimeout(Re.resume,3)},this.aborted=function(){return Ee},this.abort=function(){Ee=!0,be.abort(),xe.meta.aborted=!0,fe(de.complete)&&de.complete(xe),pe=""},this.guessLineEndings=function(De,Ue){De=De.substring(0,1048576);var Ue=new RegExp(ie(Ue)+"([^]*?)"+ie(Ue),"gm"),Ve=(De=De.replace(Ue,"")).split("\r"),Ue=De.split(`
`),De=1<Ue.length&&Ue[0].length<Ve[0].length;if(Ve.length===1||De)return`
`;for(var nt=0,Je=0;Je<Ve.length;Je++)Ve[Je][0]===`
`&&nt++;return nt>=Ve.length/2?`\r
`:"\r"}}function ie(de){return de.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function se(de){var pe=(de=de||{}).delimiter,be=de.newline,ye=de.comments,we=de.step,ve=de.preview,Ae=de.fastMode,Ce=null,_e=!1,Re=de.quoteChar==null?'"':de.quoteChar,Me=Re;if(de.escapeChar!==void 0&&(Me=de.escapeChar),(typeof pe!="string"||-1<V.BAD_DELIMITERS.indexOf(pe))&&(pe=","),ye===pe)throw new Error("Comment character same as delimiter");ye===!0?ye="#":(typeof ye!="string"||-1<V.BAD_DELIMITERS.indexOf(ye))&&(ye=!1),be!==`
`&&be!=="\r"&&be!==`\r
`&&(be=`
`);var $e=0,Se=!1;this.parse=function(Ee,ke,xe){if(typeof Ee!="string")throw new Error("Input must be a string");var ze=Ee.length,Ze=pe.length,Ye=be.length,Ie=ye.length,Ge=fe(we),Oe=[],Ve=[],Ue=[],De=$e=0;if(!Ee)return pt();if(Ae||Ae!==!1&&Ee.indexOf(Re)===-1){for(var nt=Ee.split(be),Je=0;Je<nt.length;Je++){if(Ue=nt[Je],$e+=Ue.length,Je!==nt.length-1)$e+=be.length;else if(xe)return pt();if(!ye||Ue.substring(0,Ie)!==ye){if(Ge){if(Oe=[],Et(Ue.split(pe)),bt(),Se)return pt()}else Et(Ue.split(pe));if(ve&&ve<=Je)return Oe=Oe.slice(0,ve),pt(!0)}}return pt()}for(var rt=Ee.indexOf(pe,$e),at=Ee.indexOf(be,$e),dt=new RegExp(ie(Me)+ie(Re),"g"),ot=Ee.indexOf(Re,$e);;)if(Ee[$e]===Re)for(ot=$e,$e++;;){if((ot=Ee.indexOf(Re,ot+1))===-1)return xe||Ve.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Oe.length,index:$e}),Ct();if(ot===ze-1)return Ct(Ee.substring($e,ot).replace(dt,Re));if(Re===Me&&Ee[ot+1]===Me)ot++;else if(Re===Me||ot===0||Ee[ot-1]!==Me){rt!==-1&&rt<ot+1&&(rt=Ee.indexOf(pe,ot+1));var et=At((at=at!==-1&&at<ot+1?Ee.indexOf(be,ot+1):at)===-1?rt:Math.min(rt,at));if(Ee.substr(ot+1+et,Ze)===pe){Ue.push(Ee.substring($e,ot).replace(dt,Re)),Ee[$e=ot+1+et+Ze]!==Re&&(ot=Ee.indexOf(Re,$e)),rt=Ee.indexOf(pe,$e),at=Ee.indexOf(be,$e);break}if(et=At(at),Ee.substring(ot+1+et,ot+1+et+Ye)===be){if(Ue.push(Ee.substring($e,ot).replace(dt,Re)),Gt(ot+1+et+Ye),rt=Ee.indexOf(pe,$e),ot=Ee.indexOf(Re,$e),Ge&&(bt(),Se))return pt();if(ve&&Oe.length>=ve)return pt(!0);break}Ve.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Oe.length,index:$e}),ot++}}else if(ye&&Ue.length===0&&Ee.substring($e,$e+Ie)===ye){if(at===-1)return pt();$e=at+Ye,at=Ee.indexOf(be,$e),rt=Ee.indexOf(pe,$e)}else if(rt!==-1&&(rt<at||at===-1))Ue.push(Ee.substring($e,rt)),$e=rt+Ze,rt=Ee.indexOf(pe,$e);else{if(at===-1)break;if(Ue.push(Ee.substring($e,at)),Gt(at+Ye),Ge&&(bt(),Se))return pt();if(ve&&Oe.length>=ve)return pt(!0)}return Ct();function Et(Fe){Oe.push(Fe),De=$e}function At(Fe){var Ke=0;return Ke=Fe!==-1&&(Fe=Ee.substring(ot+1,Fe))&&Fe.trim()===""?Fe.length:Ke}function Ct(Fe){return xe||(Fe===void 0&&(Fe=Ee.substring($e)),Ue.push(Fe),$e=ze,Et(Ue),Ge&&bt()),pt()}function Gt(Fe){$e=Fe,Et(Ue),Ue=[],at=Ee.indexOf(be,$e)}function pt(Fe){if(de.header&&!ke&&Oe.length&&!_e){var Ke=Oe[0],tt=Object.create(null),lt=new Set(Ke);let mt=!1;for(let Nt=0;Nt<Ke.length;Nt++){let jt=Ke[Nt];if(tt[jt=fe(de.transformHeader)?de.transformHeader(jt,Nt):jt]){let kt,xt=tt[jt];for(;kt=jt+"_"+xt,xt++,lt.has(kt););lt.add(kt),Ke[Nt]=kt,tt[jt]++,mt=!0,(Ce=Ce===null?{}:Ce)[kt]=jt}else tt[jt]=1,Ke[Nt]=jt;lt.add(jt)}mt&&console.warn("Duplicate headers found and renamed."),_e=!0}return{data:Oe,errors:Ve,meta:{delimiter:pe,linebreak:be,aborted:Se,truncated:!!Fe,cursor:De+(ke||0),renamedHeaders:Ce}}}function bt(){we(pt()),Oe=[],Ve=[]}},this.abort=function(){Se=!0},this.getCharIndex=function(){return $e}}function oe(de){var pe=de.data,be=F[pe.workerId],ye=!1;if(pe.error)be.userError(pe.error,pe.file);else if(pe.results&&pe.results.data){var we={abort:function(){ye=!0,ce(pe.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ue,resume:ue};if(fe(be.userStep)){for(var ve=0;ve<pe.results.data.length&&(be.userStep({data:pe.results.data[ve],errors:pe.results.errors,meta:pe.results.meta},we),!ye);ve++);delete pe.results}else fe(be.userChunk)&&(be.userChunk(pe.results,we,pe.file),delete pe.results)}pe.finished&&!ye&&ce(pe.workerId,pe.results)}function ce(de,pe){var be=F[de];fe(be.userComplete)&&be.userComplete(pe),be.terminate(),delete F[de]}function ue(){throw new Error("Not implemented.")}function me(de){if(typeof de!="object"||de===null)return de;var pe,be=Array.isArray(de)?[]:{};for(pe in de)be[pe]=me(de[pe]);return be}function he(de,pe){return function(){de.apply(pe,arguments)}}function fe(de){return typeof de=="function"}return V.parse=function(de,pe){var be=(pe=pe||{}).dynamicTyping||!1;if(fe(be)&&(pe.dynamicTypingFunction=be,be={}),pe.dynamicTyping=be,pe.transform=!!fe(pe.transform)&&pe.transform,!pe.worker||!V.WORKERS_SUPPORTED)return be=null,V.NODE_STREAM_INPUT,typeof de=="string"?(de=(ye=>ye.charCodeAt(0)!==65279?ye:ye.slice(1))(de),be=new(pe.download?Y:J)(pe)):de.readable===!0&&fe(de.read)&&fe(de.on)?be=new te(pe):(O.File&&de instanceof File||de instanceof Object)&&(be=new Q(pe)),be.stream(de);(be=(()=>{var ye;return!!V.WORKERS_SUPPORTED&&(ye=(()=>{var we=O.URL||O.webkitURL||null,ve=P.toString();return V.BLOB_URL||(V.BLOB_URL=we.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ve,")();"],{type:"text/javascript"})))})(),(ye=new O.Worker(ye)).onmessage=oe,ye.id=G++,F[ye.id]=ye)})()).userStep=pe.step,be.userChunk=pe.chunk,be.userComplete=pe.complete,be.userError=pe.error,pe.step=fe(pe.step),pe.chunk=fe(pe.chunk),pe.complete=fe(pe.complete),pe.error=fe(pe.error),delete pe.worker,be.postMessage({input:de,config:pe,workerId:be.id})},V.unparse=function(de,pe){var be=!1,ye=!0,we=",",ve=`\r
`,Ae='"',Ce=Ae+Ae,_e=!1,Re=null,Me=!1,$e=((()=>{if(typeof pe=="object"){if(typeof pe.delimiter!="string"||V.BAD_DELIMITERS.filter(function(ke){return pe.delimiter.indexOf(ke)!==-1}).length||(we=pe.delimiter),typeof pe.quotes!="boolean"&&typeof pe.quotes!="function"&&!Array.isArray(pe.quotes)||(be=pe.quotes),typeof pe.skipEmptyLines!="boolean"&&typeof pe.skipEmptyLines!="string"||(_e=pe.skipEmptyLines),typeof pe.newline=="string"&&(ve=pe.newline),typeof pe.quoteChar=="string"&&(Ae=pe.quoteChar),typeof pe.header=="boolean"&&(ye=pe.header),Array.isArray(pe.columns)){if(pe.columns.length===0)throw new Error("Option columns is empty");Re=pe.columns}pe.escapeChar!==void 0&&(Ce=pe.escapeChar+Ae),pe.escapeFormulae instanceof RegExp?Me=pe.escapeFormulae:typeof pe.escapeFormulae=="boolean"&&pe.escapeFormulae&&(Me=/^[=+\-@\t\r].*$/)}})(),new RegExp(ie(Ae),"g"));if(typeof de=="string"&&(de=JSON.parse(de)),Array.isArray(de)){if(!de.length||Array.isArray(de[0]))return Se(null,de,_e);if(typeof de[0]=="object")return Se(Re||Object.keys(de[0]),de,_e)}else if(typeof de=="object")return typeof de.data=="string"&&(de.data=JSON.parse(de.data)),Array.isArray(de.data)&&(de.fields||(de.fields=de.meta&&de.meta.fields||Re),de.fields||(de.fields=Array.isArray(de.data[0])?de.fields:typeof de.data[0]=="object"?Object.keys(de.data[0]):[]),Array.isArray(de.data[0])||typeof de.data[0]=="object"||(de.data=[de.data])),Se(de.fields||[],de.data||[],_e);throw new Error("Unable to serialize unrecognized input");function Se(ke,xe,ze){var Ze="",Ye=(typeof ke=="string"&&(ke=JSON.parse(ke)),typeof xe=="string"&&(xe=JSON.parse(xe)),Array.isArray(ke)&&0<ke.length),Ie=!Array.isArray(xe[0]);if(Ye&&ye){for(var Ge=0;Ge<ke.length;Ge++)0<Ge&&(Ze+=we),Ze+=Ee(ke[Ge],Ge);0<xe.length&&(Ze+=ve)}for(var Oe=0;Oe<xe.length;Oe++){var Ve=(Ye?ke:xe[Oe]).length,Ue=!1,De=Ye?Object.keys(xe[Oe]).length===0:xe[Oe].length===0;if(ze&&!Ye&&(Ue=ze==="greedy"?xe[Oe].join("").trim()==="":xe[Oe].length===1&&xe[Oe][0].length===0),ze==="greedy"&&Ye){for(var nt=[],Je=0;Je<Ve;Je++){var rt=Ie?ke[Je]:Je;nt.push(xe[Oe][rt])}Ue=nt.join("").trim()===""}if(!Ue){for(var at=0;at<Ve;at++){0<at&&!De&&(Ze+=we);var dt=Ye&&Ie?ke[at]:at;Ze+=Ee(xe[Oe][dt],at)}Oe<xe.length-1&&(!ze||0<Ve&&!De)&&(Ze+=ve)}}return Ze}function Ee(ke,xe){var ze,Ze;return ke==null?"":ke.constructor===Date?JSON.stringify(ke).slice(1,25):(Ze=!1,Me&&typeof ke=="string"&&Me.test(ke)&&(ke="'"+ke,Ze=!0),ze=ke.toString().replace($e,Ce),(Ze=Ze||be===!0||typeof be=="function"&&be(ke,xe)||Array.isArray(be)&&be[xe]||((Ye,Ie)=>{for(var Ge=0;Ge<Ie.length;Ge++)if(-1<Ye.indexOf(Ie[Ge]))return!0;return!1})(ze,V.BAD_DELIMITERS)||-1<ze.indexOf(we)||ze.charAt(0)===" "||ze.charAt(ze.length-1)===" ")?Ae+ze+Ae:ze)}},V.RECORD_SEP="",V.UNIT_SEP="",V.BYTE_ORDER_MARK="\uFEFF",V.BAD_DELIMITERS=["\r",`
`,'"',V.BYTE_ORDER_MARK],V.WORKERS_SUPPORTED=!L&&!!O.Worker,V.NODE_STREAM_INPUT=1,V.LocalChunkSize=10485760,V.RemoteChunkSize=5242880,V.DefaultDelimiter=",",V.Parser=se,V.ParserHandle=ne,V.NetworkStreamer=Y,V.FileStreamer=Q,V.StringStreamer=J,V.ReadableStreamStreamer=te,O.jQuery&&((I=O.jQuery).fn.parse=function(de){var pe=de.config||{},be=[];return this.each(function(ve){if(!(I(this).prop("tagName").toUpperCase()==="INPUT"&&I(this).attr("type").toLowerCase()==="file"&&O.FileReader)||!this.files||this.files.length===0)return!0;for(var Ae=0;Ae<this.files.length;Ae++)be.push({file:this.files[Ae],inputElem:this,instanceConfig:I.extend({},pe)})}),ye(),this;function ye(){if(be.length===0)fe(de.complete)&&de.complete();else{var ve,Ae,Ce,_e,Re=be[0];if(fe(de.before)){var Me=de.before(Re.file,Re.inputElem);if(typeof Me=="object"){if(Me.action==="abort")return ve="AbortError",Ae=Re.file,Ce=Re.inputElem,_e=Me.reason,void(fe(de.error)&&de.error({name:ve},Ae,Ce,_e));if(Me.action==="skip")return void we();typeof Me.config=="object"&&(Re.instanceConfig=I.extend(Re.instanceConfig,Me.config))}else if(Me==="skip")return void we()}var $e=Re.instanceConfig.complete;Re.instanceConfig.complete=function(Se){fe($e)&&$e(Se,Re.file,Re.inputElem),we()},V.parse(Re.file,Re.instanceConfig)}}function we(){be.splice(0,1),ye()}}),z&&(O.onmessage=function(de){de=de.data,V.WORKER_ID===void 0&&de&&(V.WORKER_ID=de.workerId),typeof de.input=="string"?O.postMessage({workerId:V.WORKER_ID,results:V.parse(de.input,de.config),finished:!0}):(O.File&&de.input instanceof File||de.input instanceof Object)&&(de=V.parse(de.input,de.config))&&O.postMessage({workerId:V.WORKER_ID,results:de,finished:!0})}),(Y.prototype=Object.create(Z.prototype)).constructor=Y,(Q.prototype=Object.create(Z.prototype)).constructor=Q,(J.prototype=Object.create(J.prototype)).constructor=J,(te.prototype=Object.create(Z.prototype)).constructor=te,V})})(papaparse_min$1)),papaparse_min$1.exports}var papaparse_minExports=requirePapaparse_min();const Papa=getDefaultExportFromCjs(papaparse_minExports),PATH_SEPARATOR="__";function pathToColumn(_){return"param"+PATH_SEPARATOR+_.replace(/\./g,PATH_SEPARATOR)}function columnToPath(_){return _.startsWith("param"+PATH_SEPARATOR)?_.slice(("param"+PATH_SEPARATOR).length).replace(new RegExp(PATH_SEPARATOR,"g"),"."):_}function batchSnapshotsToCSV(_){if(_.length===0)return"";const R=new Set;for(const F of _)for(const G of Object.keys(F.sampled_params))R.add(G);const P=Array.from(R).sort(),O=new Set;for(const F of _)F.data.length>0&&Object.keys(F.data[0]).forEach(G=>O.add(G));const I=Array.from(O).sort((F,G)=>F==="id"?-1:G==="id"?1:F.localeCompare(G)),L=[];for(const F of _)for(const G of F.data){const V={run_index:F.run_index,seed:F.seed,time_h:F.time_h,...G};for(const Z of P)V[pathToColumn(Z)]=F.sampled_params[Z]??"";L.push(V)}const z=["run_index","seed","time_h",...P.map(pathToColumn),...I];return Papa.unparse(L,{columns:z,delimiter:"	"})}function csvToBatchSnapshots(_){const R=Papa.parse(_,{header:!0,dynamicTyping:!1,skipEmptyLines:!0,delimiter:"	"});R.errors.length>0&&console.warn("CSV parse warnings:",R.errors);const P=new Map,O=R.meta.fields?.filter(F=>F.startsWith("param"+PATH_SEPARATOR))??[],I=new Set(["run_index","seed","time_h"]),L=R.meta.fields?.filter(F=>!I.has(F)&&!F.startsWith("param"+PATH_SEPARATOR))??[];for(const F of R.data){const G=parseInt(F.run_index,10),V=parseInt(F.seed,10),Z=parseFloat(F.time_h),Y=`${G}-${V}-${Z}`;if(!P.has(Y)){const te={};for(const ne of O){const ie=F[ne];ie!==""&&ie!==void 0&&(te[columnToPath(ne)]=parseFloat(ie))}P.set(Y,{run_index:G,seed:V,time_h:Z,sampled_params:te,data:[]})}const Q=P.get(Y),J={};for(const te of L){const ne=F[te],ie=Number(ne);!isNaN(ie)&&ne.trim()!==""?J[te]=ie:ne==="true"?J[te]=!0:ne==="false"?J[te]=!1:J[te]=ne}Q.data.push(J)}const z=Array.from(P.values());return z.sort((F,G)=>F.run_index!==G.run_index?F.run_index-G.run_index:F.time_h-G.time_h),z}function createBatchDataFromSnapshots(_){const R=new Set;for(const z of _)for(const F of Object.keys(z.sampled_params))R.add(F);const P=new Set;for(const z of _)P.add(z.time_h);const O=Array.from(P).sort((z,F)=>z-F),I=new Set;for(const z of _)I.add(`${z.run_index}-${z.seed}`);return{config:{parameter_ranges:Array.from(R).map(z=>({path:z,min:0,max:0,steps:0})),time_samples:{start:O[0]??0,end:O[O.length-1]??48,step:O.length>1?O[1]-O[0]:12},seeds_per_config:1,sampling_mode:"grid"},snapshots:_,completed_runs:I.size,total_runs:I.size}}function statisticsToCSV(_,R){const P=R.map(O=>{const I={};return _.forEach((L,z)=>{I[L]=O[z]}),I});return Papa.unparse(P,{columns:_,delimiter:"	"})}function downloadCSV(_,R){const P=new Blob([_],{type:"text/csv;charset=utf-8;"}),O=URL.createObjectURL(P),I=document.createElement("a");I.href=O,I.download=R,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(O)}function readFileAsText(_){return new Promise((R,P)=>{const O=new FileReader;O.onload=()=>R(O.result),O.onerror=()=>P(O.error),O.readAsText(_)})}function BatchTab({config:_,onConfigChange:R}){const{currentModel:P}=useModel(),[O,I]=reactExports.useState(null),[L,z]=reactExports.useState(null),[F,G]=reactExports.useState(!1),[V,Z]=reactExports.useState(null),Y=reactExports.useRef(!1),J=(P?.generateStatistics?P.generateStatistics(_.params):P?.statistics||[]).map(et=>et.id),[te,ne]=reactExports.useState("time_series"),[ie,se]=reactExports.useState([]),[oe,ce]=reactExports.useState([]),[ue,me]=reactExports.useState([]),[he,fe]=reactExports.useState("time_h"),[de,pe]=reactExports.useState(""),[be,ye]=reactExports.useState("line_ci"),[we,ve]=reactExports.useState(""),[Ae,Ce]=reactExports.useState(""),[_e,Re]=reactExports.useState(WorkerPool.isSupported()),Me=typeof navigator<"u"&&navigator.hardwareConcurrency||4,$e=reactExports.useRef(null),Se=computeTotalRuns(_.parameterRanges,_.seedsPerConfig),Ee=getTimeSamples(_.timeSamples),ke=Se*Ee.length,xe=reactExports.useCallback(async()=>{G(!0),Z(Date.now()),Y.current=!1;try{const et=await runBatch(_.params,{parameter_ranges:_.parameterRanges,time_samples:_.timeSamples,seeds_per_config:_.seedsPerConfig,sampling_mode:"grid"},{onProgress:Et=>{Y.current||z(Et)}},{parallel:_e,workerCount:Me});Y.current||(I(et),se([]),ce([]))}catch(et){console.error("Batch run failed:",et),alert("Batch run failed. Check console for details.")}finally{G(!1),z(null),Z(null)}},[_,_e,Me]),ze=reactExports.useCallback(()=>{Y.current=!0},[]),Ze=async et=>{const Et=et.target.files?.[0];if(Et){try{const At=await readFileAsText(Et),Ct=csvToBatchSnapshots(At),Gt=createBatchDataFromSnapshots(Ct);I(Gt),se([]),ce([])}catch(At){console.error("Failed to load batch CSV:",At),alert("Failed to load batch CSV. Check console for details.")}$e.current&&($e.current.value="")}},Ye=()=>{if(!O)return;const et=batchSnapshotsToCSV(O.snapshots);downloadCSV(et,"batch_snapshots.csv")},Ie=()=>{if(!O||J.length===0||!P)return;const et=new Set;for(const tt of O.snapshots)for(const lt of Object.keys(tt.sampled_params))et.add(lt);const Et=Array.from(et).sort();let At;if(te==="terminal"){const tt=new Map;for(const lt of O.snapshots){const mt=`${lt.run_index}-${lt.seed}`,Nt=tt.get(mt);(!Nt||lt.time_h>Nt.time_h)&&tt.set(mt,lt)}At=Array.from(tt.values())}else At=O.snapshots;const Ct=new Set,Gt=new Set;for(const tt of J){const lt=tt.lastIndexOf("_");if(lt>0){const mt=tt.substring(0,lt),Nt=tt.substring(lt+1);Gt.add(mt),Ct.add(Nt)}}const pt=Array.from(Ct).sort(),bt=Array.from(Gt).sort(),Fe=[...Et,"run_index","seed","time_h","cell_group",...bt],Ke=[];for(const tt of At){const lt=structuredClone(_.params);for(const[jt,kt]of Object.entries(tt.sampled_params))setNestedValue(lt,jt,kt);const mt=P.loadSnapshot(tt.data,lt),Nt=P.computeStats(mt,lt);for(const jt of pt){const kt=[...Et.map(xt=>tt.sampled_params[xt]??""),tt.run_index,tt.seed,tt.time_h,jt,...bt.map(xt=>{const Ft=`${xt}_${jt}`;return Nt[Ft]??0})];Ke.push(kt)}}se(Fe),ce(Ke),me(Et),!de&&bt.length>0&&pe(bt[0])},Ge=et=>{const Et=oe[et];if(!Et)return;const At=structuredClone(_.params);ue.forEach((bt,Fe)=>{const Ke=Et[Fe];Ke!==""&&Ke!==void 0&&setNestedValue(At,bt,Ke)});const Ct=ue.length+1,Gt=Et[Ct];typeof Gt=="number"&&(At.general.random_seed=Gt);const pt=encodeParamsToUrl(P.name,At);window.open(pt,"_blank")},Oe=()=>{if(ie.length===0||oe.length===0)return;const et=statisticsToCSV(ie,oe);downloadCSV(et,"batch_statistics.csv")},Ve=()=>{if(!O||!P)return;const et=new Set;for(const bt of O.snapshots)for(const Fe of Object.keys(bt.sampled_params))et.add(Fe);const Et=Array.from(et).sort();let At;if(te==="terminal"){const bt=new Map;for(const Fe of O.snapshots){const Ke=`${Fe.run_index}-${Fe.seed}`,tt=bt.get(Ke);(!tt||Fe.time_h>tt.time_h)&&bt.set(Ke,Fe)}At=Array.from(bt.values())}else At=O.snapshots;const Ct=[...Et,"run_index","seed","time_h","cell_id","cell_type","X_x","X_y","A_x","A_y","B_x","B_y","a_x","a_y","b_x","b_y","ab_distance","AX","BX","ax","bx","x","below_basal","above_apical","below_neighbours"],Gt=[];for(const bt of At){const Fe=structuredClone(_.params);for(const[Ke,tt]of Object.entries(bt.sampled_params))setNestedValue(Fe,Ke,tt);for(let Ke=0;Ke<bt.data.length;Ke++){const tt=bt.data[Ke],lt=[...Et.map(mt=>bt.sampled_params[mt]??""),bt.run_index,bt.seed,bt.time_h,Ke,tt.typeIndex||"",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];Gt.push(lt)}}const pt=statisticsToCSV(Ct,Gt);downloadCSV(pt,"batch_full_cell_data.csv")},Ue=L?L.current_run/L.total_runs*100:0,nt=(()=>{if(!L||!V||L.current_run===0)return null;const Et=(Date.now()-V)/L.current_run,At=L.total_runs-L.current_run,Ct=Et*At;if(Ct<1e3)return"< 1s";if(Ct<6e4)return`${Math.ceil(Ct/1e3)}s`;if(Ct<36e5){const bt=Math.floor(Ct/6e4),Fe=Math.ceil(Ct%6e4/1e3);return`${bt}m ${Fe}s`}const Gt=Math.floor(Ct/36e5),pt=Math.ceil(Ct%36e5/6e4);return`${Gt}h ${pt}m`})(),Je=ie.filter(et=>!["run_index","seed","time_h","cell_group"].includes(et)&&!et.includes(".")),rt=ie.filter(et=>et==="time_h"||et.includes(".")&&!["run_index","seed","cell_group"].includes(et));let at=[],dt=[],ot=[];return be==="histogram"&&de?ot=aggregateForHistogram(ie,oe,de):be==="line_ci"&&he&&de?dt=aggregateByXAxisWithCI(ie,oe,he,de):he&&de&&(at=aggregateByTime(ie,oe,de)),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Run New Batch"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Uses the shared parameters, ranges, seeds, and time samples configured in the Parameters panel."}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Parameter ranges"}),_.parameterRanges.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"No ranges defined."}):jsxRuntimeExports.jsx("ul",{className:"space-y-1 text-sm",children:_.parameterRanges.map(et=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-xs",children:et.path}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[et.min,"  ",et.max," (",et.steps," steps)"]})]},et.path))})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:["Time samples: ",_.timeSamples.start,"h  ",_.timeSamples.end,"h (step ",_.timeSamples.step,"h)"]}),jsxRuntimeExports.jsxs("p",{children:["Seeds per configuration: ",_.seedsPerConfig]}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground",children:["Total: ",Se," run",Se!==1?"s":"","  ",Ee.length," time point",Ee.length!==1?"s":""," = ",ke," snapshot",ke!==1?"s":""]})]}),WorkerPool.isSupported()&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:_e,onChange:et=>Re(et.target.checked),disabled:F,className:"rounded"}),"Parallel execution"]}),_e&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Me," workers)"]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:F?jsxRuntimeExports.jsxs(Button,{onClick:ze,variant:"destructive",size:"sm",children:[jsxRuntimeExports.jsx(Square,{className:"h-4 w-4 mr-1"}),"Stop"]}):jsxRuntimeExports.jsxs(Button,{onClick:xe,size:"sm",disabled:_.parameterRanges.length===0&&_.seedsPerConfig<=1,children:[jsxRuntimeExports.jsx(Play,{className:"h-4 w-4 mr-1"}),"Run Batch"]})}),F&&L&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Progress,{value:Ue,className:"h-2"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[L.current_run," / ",L.total_runs," runs",nt&&`  ~${nt} remaining`]})]})]})]}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"pt-4 space-y-3",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx("input",{ref:$e,type:"file",accept:".csv",onChange:Ze,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>$e.current?.click(),disabled:F,children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-1"}),"Load Batch CSV"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Ye,disabled:!O||F,children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-1"}),"Save Batch CSV"]}),O&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:[O.snapshots.length," snapshots loaded"]})]})})}),O&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Compute Statistics"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"All available statistics will be computed for all cell groups."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm",children:"Output:"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"outputMode",checked:te==="time_series",onChange:()=>ne("time_series"),disabled:F}),"Time Series"]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1 text-sm cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"outputMode",checked:te==="terminal",onChange:()=>ne("terminal"),disabled:F}),"Terminal Only"]})]}),jsxRuntimeExports.jsx(Button,{onClick:Ie,size:"sm",disabled:!P||F,children:"Compute"})]})]}),oe.length>0&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"pb-3 flex-row items-center justify-between",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Results"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Oe,children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"h-4 w-4 mr-1"}),"Export CSV"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Ve,children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"h-4 w-4 mr-1"}),"Export Full CSV"]})]})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(ResultsTable,{columns:ie,rows:oe,onRunRow:Ge}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[oe.length," row",oe.length!==1?"s":""]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium",children:"Visualization"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plot-type",className:"text-sm",children:"Plot Type"}),jsxRuntimeExports.jsxs("select",{id:"plot-type",value:be,onChange:et=>ye(et.target.value),className:"w-full h-9 px-3 rounded-md border border-input bg-background text-sm",children:[jsxRuntimeExports.jsx("option",{value:"line_ci",children:"Line + CI"}),jsxRuntimeExports.jsx("option",{value:"histogram",children:"Histogram"})]})]}),be!=="histogram"&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plot-x-axis",className:"text-sm",children:"X-Axis"}),jsxRuntimeExports.jsxs("select",{id:"plot-x-axis",value:he,onChange:et=>fe(et.target.value),className:"w-full h-9 px-3 rounded-md border border-input bg-background text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select x-axis..."}),rt.map(et=>jsxRuntimeExports.jsx("option",{value:et,children:et},et))]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plot-y-axis",className:"text-sm",children:"Y-Axis (Statistic)"}),jsxRuntimeExports.jsxs("select",{id:"plot-y-axis",value:de,onChange:et=>pe(et.target.value),className:"w-full h-9 px-3 rounded-md border border-input bg-background text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select statistic..."}),Je.map(et=>jsxRuntimeExports.jsx("option",{value:et,children:et},et))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-xs",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plot-y-min",className:"text-sm",children:"Y Min"}),jsxRuntimeExports.jsx("input",{id:"plot-y-min",type:"number",value:we,onChange:et=>ve(et.target.value),placeholder:"Auto",className:"w-full h-9 px-3 rounded-md border border-input bg-background text-sm"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plot-y-max",className:"text-sm",children:"Y Max"}),jsxRuntimeExports.jsx("input",{id:"plot-y-max",type:"number",value:Ae,onChange:et=>Ce(et.target.value),placeholder:"Auto",className:"w-full h-9 px-3 rounded-md border border-input bg-background text-sm"})]})]}),be==="histogram"&&de&&ot.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-4 border rounded-md p-4 bg-muted/30",children:jsxRuntimeExports.jsx(BatchPlot,{data:at,dataWithCI:dt,histogramData:ot,xAxisLabel:"Cell Group",yAxisLabel:de,plotType:be,width:640,height:400,yMin:we!==""?parseFloat(we):void 0,yMax:Ae!==""?parseFloat(Ae):void 0})}),be==="line_ci"&&he&&de&&dt.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-4 border rounded-md p-4 bg-muted/30",children:jsxRuntimeExports.jsx(BatchPlot,{data:at,dataWithCI:dt,histogramData:ot,xAxisLabel:he==="time_h"?"Time (h)":he,yAxisLabel:de,plotType:be,width:640,height:400,yMin:we!==""?parseFloat(we):void 0,yMax:Ae!==""?parseFloat(Ae):void 0})})]})]})]})]})}var COLLAPSIBLE_NAME="Collapsible",[createCollapsibleContext,createCollapsibleScope]=createContextScope$1(COLLAPSIBLE_NAME),[CollapsibleProvider,useCollapsibleContext]=createCollapsibleContext(COLLAPSIBLE_NAME),Collapsible=reactExports.forwardRef((_,R)=>{const{__scopeCollapsible:P,open:O,defaultOpen:I,disabled:L,onOpenChange:z,...F}=_,[G,V]=useControllableState({prop:O,defaultProp:I??!1,onChange:z,caller:COLLAPSIBLE_NAME});return jsxRuntimeExports.jsx(CollapsibleProvider,{scope:P,disabled:L,contentId:useId(),open:G,onOpenToggle:reactExports.useCallback(()=>V(Z=>!Z),[V]),children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":getState$1(G),"data-disabled":L?"":void 0,...F,ref:R})})});Collapsible.displayName=COLLAPSIBLE_NAME;var TRIGGER_NAME$2="CollapsibleTrigger",CollapsibleTrigger=reactExports.forwardRef((_,R)=>{const{__scopeCollapsible:P,...O}=_,I=useCollapsibleContext(TRIGGER_NAME$2,P);return jsxRuntimeExports.jsx(Primitive$2.button,{type:"button","aria-controls":I.contentId,"aria-expanded":I.open||!1,"data-state":getState$1(I.open),"data-disabled":I.disabled?"":void 0,disabled:I.disabled,...O,ref:R,onClick:composeEventHandlers$1(_.onClick,I.onOpenToggle)})});CollapsibleTrigger.displayName=TRIGGER_NAME$2;var CONTENT_NAME$2="CollapsibleContent",CollapsibleContent=reactExports.forwardRef((_,R)=>{const{forceMount:P,...O}=_,I=useCollapsibleContext(CONTENT_NAME$2,_.__scopeCollapsible);return jsxRuntimeExports.jsx(Presence,{present:P||I.open,children:({present:L})=>jsxRuntimeExports.jsx(CollapsibleContentImpl,{...O,ref:R,present:L})})});CollapsibleContent.displayName=CONTENT_NAME$2;var CollapsibleContentImpl=reactExports.forwardRef((_,R)=>{const{__scopeCollapsible:P,present:O,children:I,...L}=_,z=useCollapsibleContext(CONTENT_NAME$2,P),[F,G]=reactExports.useState(O),V=reactExports.useRef(null),Z=useComposedRefs(R,V),Y=reactExports.useRef(0),Q=Y.current,J=reactExports.useRef(0),te=J.current,ne=z.open||F,ie=reactExports.useRef(ne),se=reactExports.useRef(void 0);return reactExports.useEffect(()=>{const oe=requestAnimationFrame(()=>ie.current=!1);return()=>cancelAnimationFrame(oe)},[]),useLayoutEffect2(()=>{const oe=V.current;if(oe){se.current=se.current||{transitionDuration:oe.style.transitionDuration,animationName:oe.style.animationName},oe.style.transitionDuration="0s",oe.style.animationName="none";const ce=oe.getBoundingClientRect();Y.current=ce.height,J.current=ce.width,ie.current||(oe.style.transitionDuration=se.current.transitionDuration,oe.style.animationName=se.current.animationName),G(O)}},[z.open,O]),jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":getState$1(z.open),"data-disabled":z.disabled?"":void 0,id:z.contentId,hidden:!ne,...L,ref:Z,style:{"--radix-collapsible-content-height":Q?`${Q}px`:void 0,"--radix-collapsible-content-width":te?`${te}px`:void 0,..._.style},children:ne&&I})});function getState$1(_){return _?"open":"closed"}var Root$1=Collapsible,Trigger$1=CollapsibleTrigger,Content$1=CollapsibleContent,ACCORDION_NAME="Accordion",ACCORDION_KEYS=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(ACCORDION_NAME),[createAccordionContext]=createContextScope$1(ACCORDION_NAME,[createCollectionScope$1,createCollapsibleScope]),useCollapsibleScope=createCollapsibleScope(),Accordion=React.forwardRef((_,R)=>{const{type:P,...O}=_,I=O,L=O;return jsxRuntimeExports.jsx(Collection$1.Provider,{scope:_.__scopeAccordion,children:P==="multiple"?jsxRuntimeExports.jsx(AccordionImplMultiple,{...L,ref:R}):jsxRuntimeExports.jsx(AccordionImplSingle,{...I,ref:R})})});Accordion.displayName=ACCORDION_NAME;var[AccordionValueProvider,useAccordionValueContext]=createAccordionContext(ACCORDION_NAME),[AccordionCollapsibleProvider,useAccordionCollapsibleContext]=createAccordionContext(ACCORDION_NAME,{collapsible:!1}),AccordionImplSingle=React.forwardRef((_,R)=>{const{value:P,defaultValue:O,onValueChange:I=()=>{},collapsible:L=!1,...z}=_,[F,G]=useControllableState({prop:P,defaultProp:O??"",onChange:I,caller:ACCORDION_NAME});return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:_.__scopeAccordion,value:React.useMemo(()=>F?[F]:[],[F]),onItemOpen:G,onItemClose:React.useCallback(()=>L&&G(""),[L,G]),children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:_.__scopeAccordion,collapsible:L,children:jsxRuntimeExports.jsx(AccordionImpl,{...z,ref:R})})})}),AccordionImplMultiple=React.forwardRef((_,R)=>{const{value:P,defaultValue:O,onValueChange:I=()=>{},...L}=_,[z,F]=useControllableState({prop:P,defaultProp:O??[],onChange:I,caller:ACCORDION_NAME}),G=React.useCallback(Z=>F((Y=[])=>[...Y,Z]),[F]),V=React.useCallback(Z=>F((Y=[])=>Y.filter(Q=>Q!==Z)),[F]);return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:_.__scopeAccordion,value:z,onItemOpen:G,onItemClose:V,children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:_.__scopeAccordion,collapsible:!0,children:jsxRuntimeExports.jsx(AccordionImpl,{...L,ref:R})})})}),[AccordionImplProvider,useAccordionContext]=createAccordionContext(ACCORDION_NAME),AccordionImpl=React.forwardRef((_,R)=>{const{__scopeAccordion:P,disabled:O,dir:I,orientation:L="vertical",...z}=_,F=React.useRef(null),G=useComposedRefs(F,R),V=useCollection$1(P),Y=useDirection(I)==="ltr",Q=composeEventHandlers$1(_.onKeyDown,J=>{if(!ACCORDION_KEYS.includes(J.key))return;const te=J.target,ne=V().filter(de=>!de.ref.current?.disabled),ie=ne.findIndex(de=>de.ref.current===te),se=ne.length;if(ie===-1)return;J.preventDefault();let oe=ie;const ce=0,ue=se-1,me=()=>{oe=ie+1,oe>ue&&(oe=ce)},he=()=>{oe=ie-1,oe<ce&&(oe=ue)};switch(J.key){case"Home":oe=ce;break;case"End":oe=ue;break;case"ArrowRight":L==="horizontal"&&(Y?me():he());break;case"ArrowDown":L==="vertical"&&me();break;case"ArrowLeft":L==="horizontal"&&(Y?he():me());break;case"ArrowUp":L==="vertical"&&he();break}const fe=oe%se;ne[fe].ref.current?.focus()});return jsxRuntimeExports.jsx(AccordionImplProvider,{scope:P,disabled:O,direction:I,orientation:L,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:P,children:jsxRuntimeExports.jsx(Primitive$2.div,{...z,"data-orientation":L,ref:G,onKeyDown:O?void 0:Q})})})}),ITEM_NAME$1="AccordionItem",[AccordionItemProvider,useAccordionItemContext]=createAccordionContext(ITEM_NAME$1),AccordionItem$1=React.forwardRef((_,R)=>{const{__scopeAccordion:P,value:O,...I}=_,L=useAccordionContext(ITEM_NAME$1,P),z=useAccordionValueContext(ITEM_NAME$1,P),F=useCollapsibleScope(P),G=useId(),V=O&&z.value.includes(O)||!1,Z=L.disabled||_.disabled;return jsxRuntimeExports.jsx(AccordionItemProvider,{scope:P,open:V,disabled:Z,triggerId:G,children:jsxRuntimeExports.jsx(Root$1,{"data-orientation":L.orientation,"data-state":getState(V),...F,...I,ref:R,disabled:Z,open:V,onOpenChange:Y=>{Y?z.onItemOpen(O):z.onItemClose(O)}})})});AccordionItem$1.displayName=ITEM_NAME$1;var HEADER_NAME="AccordionHeader",AccordionHeader=React.forwardRef((_,R)=>{const{__scopeAccordion:P,...O}=_,I=useAccordionContext(ACCORDION_NAME,P),L=useAccordionItemContext(HEADER_NAME,P);return jsxRuntimeExports.jsx(Primitive$2.h3,{"data-orientation":I.orientation,"data-state":getState(L.open),"data-disabled":L.disabled?"":void 0,...O,ref:R})});AccordionHeader.displayName=HEADER_NAME;var TRIGGER_NAME$1="AccordionTrigger",AccordionTrigger$1=React.forwardRef((_,R)=>{const{__scopeAccordion:P,...O}=_,I=useAccordionContext(ACCORDION_NAME,P),L=useAccordionItemContext(TRIGGER_NAME$1,P),z=useAccordionCollapsibleContext(TRIGGER_NAME$1,P),F=useCollapsibleScope(P);return jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:P,children:jsxRuntimeExports.jsx(Trigger$1,{"aria-disabled":L.open&&!z.collapsible||void 0,"data-orientation":I.orientation,id:L.triggerId,...F,...O,ref:R})})});AccordionTrigger$1.displayName=TRIGGER_NAME$1;var CONTENT_NAME$1="AccordionContent",AccordionContent$1=React.forwardRef((_,R)=>{const{__scopeAccordion:P,...O}=_,I=useAccordionContext(ACCORDION_NAME,P),L=useAccordionItemContext(CONTENT_NAME$1,P),z=useCollapsibleScope(P);return jsxRuntimeExports.jsx(Content$1,{role:"region","aria-labelledby":L.triggerId,"data-orientation":I.orientation,...z,...O,ref:R,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",..._.style}})});AccordionContent$1.displayName=CONTENT_NAME$1;function getState(_){return _?"open":"closed"}var Item$1=AccordionItem$1,Header=AccordionHeader,Trigger2=AccordionTrigger$1,Content2=AccordionContent$1;const AccordionItem=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(Item$1,{ref:P,className:cn("border-b",_),...R}));AccordionItem.displayName="AccordionItem";const AccordionTrigger=reactExports.forwardRef(({className:_,children:R,...P},O)=>jsxRuntimeExports.jsx(Header,{className:"flex",children:jsxRuntimeExports.jsxs(Trigger2,{ref:O,className:cn("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",_),...P,children:[R,jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));AccordionTrigger.displayName=Trigger2.displayName;const AccordionContent=reactExports.forwardRef(({className:_,children:R,...P},O)=>jsxRuntimeExports.jsx(Content2,{ref:O,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...P,children:jsxRuntimeExports.jsx("div",{className:cn("pb-4 pt-0",_),children:R})}));AccordionContent.displayName=Content2.displayName;var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME="RovingFocusGroup",[Collection,useCollection,createCollectionScope]=createCollection(GROUP_NAME),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope$1(GROUP_NAME,[createCollectionScope]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME),RovingFocusGroup=reactExports.forwardRef((_,R)=>jsxRuntimeExports.jsx(Collection.Provider,{scope:_.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:_.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{..._,ref:R})})}));RovingFocusGroup.displayName=GROUP_NAME;var RovingFocusGroupImpl=reactExports.forwardRef((_,R)=>{const{__scopeRovingFocusGroup:P,orientation:O,loop:I=!1,dir:L,currentTabStopId:z,defaultCurrentTabStopId:F,onCurrentTabStopIdChange:G,onEntryFocus:V,preventScrollOnEntryFocus:Z=!1,...Y}=_,Q=reactExports.useRef(null),J=useComposedRefs(R,Q),te=useDirection(L),[ne,ie]=useControllableState({prop:z,defaultProp:F??null,onChange:G,caller:GROUP_NAME}),[se,oe]=reactExports.useState(!1),ce=useCallbackRef$1(V),ue=useCollection(P),me=reactExports.useRef(!1),[he,fe]=reactExports.useState(0);return reactExports.useEffect(()=>{const de=Q.current;if(de)return de.addEventListener(ENTRY_FOCUS,ce),()=>de.removeEventListener(ENTRY_FOCUS,ce)},[ce]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:P,orientation:O,dir:te,loop:I,currentTabStopId:ne,onItemFocus:reactExports.useCallback(de=>ie(de),[ie]),onItemShiftTab:reactExports.useCallback(()=>oe(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>fe(de=>de+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>fe(de=>de-1),[]),children:jsxRuntimeExports.jsx(Primitive$2.div,{tabIndex:se||he===0?-1:0,"data-orientation":O,...Y,ref:J,style:{outline:"none",..._.style},onMouseDown:composeEventHandlers$1(_.onMouseDown,()=>{me.current=!0}),onFocus:composeEventHandlers$1(_.onFocus,de=>{const pe=!me.current;if(de.target===de.currentTarget&&pe&&!se){const be=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(de.currentTarget.dispatchEvent(be),!be.defaultPrevented){const ye=ue().filter(_e=>_e.focusable),we=ye.find(_e=>_e.active),ve=ye.find(_e=>_e.id===ne),Ce=[we,ve,...ye].filter(Boolean).map(_e=>_e.ref.current);focusFirst(Ce,Z)}}me.current=!1}),onBlur:composeEventHandlers$1(_.onBlur,()=>oe(!1))})})}),ITEM_NAME="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((_,R)=>{const{__scopeRovingFocusGroup:P,focusable:O=!0,active:I=!1,tabStopId:L,children:z,...F}=_,G=useId(),V=L||G,Z=useRovingFocusContext(ITEM_NAME,P),Y=Z.currentTabStopId===V,Q=useCollection(P),{onFocusableItemAdd:J,onFocusableItemRemove:te,currentTabStopId:ne}=Z;return reactExports.useEffect(()=>{if(O)return J(),()=>te()},[O,J,te]),jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:P,id:V,focusable:O,active:I,children:jsxRuntimeExports.jsx(Primitive$2.span,{tabIndex:Y?0:-1,"data-orientation":Z.orientation,...F,ref:R,onMouseDown:composeEventHandlers$1(_.onMouseDown,ie=>{O?Z.onItemFocus(V):ie.preventDefault()}),onFocus:composeEventHandlers$1(_.onFocus,()=>Z.onItemFocus(V)),onKeyDown:composeEventHandlers$1(_.onKeyDown,ie=>{if(ie.key==="Tab"&&ie.shiftKey){Z.onItemShiftTab();return}if(ie.target!==ie.currentTarget)return;const se=getFocusIntent(ie,Z.orientation,Z.dir);if(se!==void 0){if(ie.metaKey||ie.ctrlKey||ie.altKey||ie.shiftKey)return;ie.preventDefault();let ce=Q().filter(ue=>ue.focusable).map(ue=>ue.ref.current);if(se==="last")ce.reverse();else if(se==="prev"||se==="next"){se==="prev"&&ce.reverse();const ue=ce.indexOf(ie.currentTarget);ce=Z.loop?wrapArray(ce,ue+1):ce.slice(ue+1)}setTimeout(()=>focusFirst(ce))}}),children:typeof z=="function"?z({isCurrentTabStop:Y,hasTabStop:ne!=null}):z})})});RovingFocusGroupItem.displayName=ITEM_NAME;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(_,R){return R!=="rtl"?_:_==="ArrowLeft"?"ArrowRight":_==="ArrowRight"?"ArrowLeft":_}function getFocusIntent(_,R,P){const O=getDirectionAwareKey(_.key,P);if(!(R==="vertical"&&["ArrowLeft","ArrowRight"].includes(O))&&!(R==="horizontal"&&["ArrowUp","ArrowDown"].includes(O)))return MAP_KEY_TO_FOCUS_INTENT[O]}function focusFirst(_,R=!1){const P=document.activeElement;for(const O of _)if(O===P||(O.focus({preventScroll:R}),document.activeElement!==P))return}function wrapArray(_,R){return _.map((P,O)=>_[(R+O)%_.length])}var Root=RovingFocusGroup,Item=RovingFocusGroupItem,TABS_NAME="Tabs",[createTabsContext]=createContextScope$1(TABS_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext(TABS_NAME),Tabs$1=reactExports.forwardRef((_,R)=>{const{__scopeTabs:P,value:O,onValueChange:I,defaultValue:L,orientation:z="horizontal",dir:F,activationMode:G="automatic",...V}=_,Z=useDirection(F),[Y,Q]=useControllableState({prop:O,onChange:I,defaultProp:L??"",caller:TABS_NAME});return jsxRuntimeExports.jsx(TabsProvider,{scope:P,baseId:useId(),value:Y,onValueChange:Q,orientation:z,dir:Z,activationMode:G,children:jsxRuntimeExports.jsx(Primitive$2.div,{dir:Z,"data-orientation":z,...V,ref:R})})});Tabs$1.displayName=TABS_NAME;var TAB_LIST_NAME="TabsList",TabsList$1=reactExports.forwardRef((_,R)=>{const{__scopeTabs:P,loop:O=!0,...I}=_,L=useTabsContext(TAB_LIST_NAME,P),z=useRovingFocusGroupScope(P);return jsxRuntimeExports.jsx(Root,{asChild:!0,...z,orientation:L.orientation,dir:L.dir,loop:O,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"tablist","aria-orientation":L.orientation,...I,ref:R})})});TabsList$1.displayName=TAB_LIST_NAME;var TRIGGER_NAME="TabsTrigger",TabsTrigger$1=reactExports.forwardRef((_,R)=>{const{__scopeTabs:P,value:O,disabled:I=!1,...L}=_,z=useTabsContext(TRIGGER_NAME,P),F=useRovingFocusGroupScope(P),G=makeTriggerId(z.baseId,O),V=makeContentId(z.baseId,O),Z=O===z.value;return jsxRuntimeExports.jsx(Item,{asChild:!0,...F,focusable:!I,active:Z,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"tab","aria-selected":Z,"aria-controls":V,"data-state":Z?"active":"inactive","data-disabled":I?"":void 0,disabled:I,id:G,...L,ref:R,onMouseDown:composeEventHandlers$1(_.onMouseDown,Y=>{!I&&Y.button===0&&Y.ctrlKey===!1?z.onValueChange(O):Y.preventDefault()}),onKeyDown:composeEventHandlers$1(_.onKeyDown,Y=>{[" ","Enter"].includes(Y.key)&&z.onValueChange(O)}),onFocus:composeEventHandlers$1(_.onFocus,()=>{const Y=z.activationMode!=="manual";!Z&&!I&&Y&&z.onValueChange(O)})})})});TabsTrigger$1.displayName=TRIGGER_NAME;var CONTENT_NAME="TabsContent",TabsContent$1=reactExports.forwardRef((_,R)=>{const{__scopeTabs:P,value:O,forceMount:I,children:L,...z}=_,F=useTabsContext(CONTENT_NAME,P),G=makeTriggerId(F.baseId,O),V=makeContentId(F.baseId,O),Z=O===F.value,Y=reactExports.useRef(Z);return reactExports.useEffect(()=>{const Q=requestAnimationFrame(()=>Y.current=!1);return()=>cancelAnimationFrame(Q)},[]),jsxRuntimeExports.jsx(Presence,{present:I||Z,children:({present:Q})=>jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":Z?"active":"inactive","data-orientation":F.orientation,role:"tabpanel","aria-labelledby":G,hidden:!Q,id:V,tabIndex:0,...z,ref:R,style:{..._.style,animationDuration:Y.current?"0s":void 0},children:Q&&L})})});TabsContent$1.displayName=CONTENT_NAME;function makeTriggerId(_,R){return`${_}-trigger-${R}`}function makeContentId(_,R){return`${_}-content-${R}`}var Root2=Tabs$1,List=TabsList$1,Trigger=TabsTrigger$1,Content=TabsContent$1;const Tabs=Root2,TabsList=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(List,{ref:P,className:cn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",_),...R}));TabsList.displayName=List.displayName;const TabsTrigger=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(Trigger,{ref:P,className:cn("m-1 inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all hover:bg-blue-500 hover:text-white disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-green-500 data-[state=active]:text-white data-[state=active]:shadow-sm",_),...R}));TabsTrigger.displayName=Trigger.displayName;const TabsContent=reactExports.forwardRef(({className:_,...R},P)=>jsxRuntimeExports.jsx(Content,{ref:P,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",_),...R}));TabsContent.displayName=Content.displayName;function ModelParameterPanel({params:_,onChange:R,disabled:P}){const{currentModel:O}=useModel(),I=O.ui?.WarningBanner,L=O.ui?.ParametersTab,z=O.ui?.CellTypesTab,F=O.ui?.SimulationTab,G=!!z,V=!!F;return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col",children:[I&&jsxRuntimeExports.jsx("div",{className:"shrink-0 p-2",children:jsxRuntimeExports.jsx(I,{params:_,onChange:R,disabled:P})}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"parameters",className:"flex-1 flex flex-col min-h-0",children:[jsxRuntimeExports.jsxs(TabsList,{className:"w-full justify-start shrink-0",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"parameters",children:"Parameters"}),G&&jsxRuntimeExports.jsx(TabsTrigger,{value:"celltypes",children:"Cell Types"}),V&&jsxRuntimeExports.jsx(TabsTrigger,{value:"simulation",children:"Simulation"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"parameters",className:"flex-1 overflow-hidden mt-0",children:jsxRuntimeExports.jsx(ScrollArea,{className:"h-full",children:jsxRuntimeExports.jsx("div",{className:"p-4 space-y-3",children:L?jsxRuntimeExports.jsx(L,{params:_,onChange:R,disabled:P}):jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"No parameter UI defined for this model."})})})}),G&&jsxRuntimeExports.jsx(TabsContent,{value:"celltypes",className:"flex-1 mt-0 overflow-auto",children:jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsx(z,{params:_,onChange:R,disabled:P})})}),V&&jsxRuntimeExports.jsx(TabsContent,{value:"simulation",className:"flex-1 overflow-hidden mt-0",children:jsxRuntimeExports.jsx(ScrollArea,{className:"h-full",children:jsxRuntimeExports.jsx("div",{className:"p-4 space-y-3",children:jsxRuntimeExports.jsx(F,{params:_,onChange:R,disabled:P})})})})]})]})}function parseNumber(_,R=0){if(_==null||_==="")return R;if(typeof _=="number")return _;const P=String(_).trim().toLowerCase();if(P==="inf"||P==="infinity")return 1/0;if(P==="-inf"||P==="-infinity")return-1/0;const O=parseFloat(P);return isNaN(O)?R:O}function parseInitDistr(_){const R={};if(!_)return R;const P=_.split(",");for(const O of P){const[I,L]=O.split(":").map(z=>z.trim());if(I&&L){const z=parseInt(L,10);isNaN(z)||(R[I]=(R[I]||0)+z)}}return R}function parseINMFromEventStart(_){if(typeof _=="number")return isFinite(_)?1:0;const R=String(_).trim();if(R.toLowerCase()==="inf"||R.toLowerCase()==="infinity")return 0;if(R==="0")return 1;if(R.startsWith("(")&&R.endsWith(")")){const O=R.slice(1,-1).split(",").map(I=>I.trim());for(const I of O){const L=I.match(/^([\d.]+)%\s*Inf$/i);if(L){const z=parseFloat(L[1]);if(!isNaN(z))return 1-z/100}}}return 1}function importLegacyXLSX(_){const R=structuredClone(DEFAULT_EHT_PARAMS),P=_.parameters;P["sim.t_end"]!==void 0&&(R.general.t_end=parseNumber(P["sim.t_end"],48)),P["sim.dt"]!==void 0&&(R.general.dt=parseNumber(P["sim.dt"],.1)),P["stat.random_seed"]!==void 0&&(R.general.random_seed=Math.floor(parseNumber(P["stat.random_seed"],0))),P["epi.prob_out_div"]!==void 0&&(R.general.p_div_out=parseNumber(P["epi.prob_out_div"],1)),P["epi.mu"]!==void 0&&(R.general.mu=parseNumber(P["epi.mu"],.2)),P["alg.n_substeps"]!==void 0&&(R.general.n_substeps=Math.floor(parseNumber(P["alg.n_substeps"],30))),P["alg.dt"]!==void 0&&(R.general.alg_dt=parseNumber(P["alg.dt"],.01)),P["epi.init_zone.size.x"]!==void 0&&(R.general.w_init=parseNumber(P["epi.init_zone.size.x"],80)),P["epi.init_zone.size.y"]!==void 0&&(R.general.h_init=parseNumber(P["epi.init_zone.size.y"],5)),parseNumber(P["epi.basal_curvature"],0)===0?(R.general.perimeter=R.general.w_init*2,R.general.aspect_ratio=0,R.general.full_circle=!1):(R.general.perimeter=R.general.w_init*2,R.general.aspect_ratio=1,R.general.full_circle=!0),R.general.w_screen=R.general.w_init*1.5,R.general.h_screen=0;const I=P["epi.init_apical_junction_dist"]!==void 0?parseNumber(P["epi.init_apical_junction_dist"],0):void 0,L=P["epi.init_basal_junction_dist"]!==void 0?parseNumber(P["epi.init_basal_junction_dist"],4):void 0,z=parseInitDistr(String(P["epi.init_distr"]||"")),F=parseNumber(P["epi.N_init"],0),G=Object.values(z).reduce((Q,J)=>Q+J,0),V=F>0&&G>0?F/G:1;R.cell_types={};const Z=_.cell_type,Y=Object.keys(Z.types);for(const Q of Y){const J=Z.types[Q],te=Q==="exp"?"emt":Q,ne=te==="control"?{r:0,g:128,b:0}:{r:255,g:0,b:255},ie=te==="emt"?"bottom":"",se=Math.round((z[Q]||0)*V),oe={...structuredClone(DEFAULT_CONTROL_CELL),N_init:se,location:ie,R_hard:parseNumber(J.R_hard,.3),R_hard_div:parseNumber(J.R_hard,.3)*.7/.3,R_soft:parseNumber(J.R_soft,1.2),color:ne,dur_G2:parseNumber(J.duration_G2,.5),dur_mitosis:parseNumber(J.duration_mitosis,.5),k_apical_junction:Math.abs(parseNumber(J.k_apical_junction,5)),k_cytos:parseNumber(J.k_cytoskeleton,5),max_cytoskeleton_length:parseNumber(J.max_cytoskeleton_length,0),run:0,running_speed:parseNumber(J.running_speed,1),running_mode:Math.floor(parseNumber(J.running_mode,0)),stiffness_apical_apical:parseNumber(J.stiffness_apical_apical,2),stiffness_apical_apical_div:parseNumber(J.stiffness_apical_apical,2)*2,stiffness_nuclei_apical:parseNumber(J.stiffness_nuclei_apical,3),stiffness_nuclei_basal:parseNumber(J.stiffness_nuclei_basal,2),stiffness_repulsion:parseNumber(J.stiffness_repulsion,2),stiffness_straightness:parseNumber(J.stiffness_straightness,5),lifespan_start:parseNumber(J["life_span.min"],5.5),lifespan_end:parseNumber(J["life_span.max"],6.5),INM:1,hetero:!1,events:{time_A_start:1/0,time_A_end:1/0,time_B_start:1/0,time_B_end:1/0,time_S_start:1/0,time_S_end:1/0,time_P_start:1/0,time_P_end:1/0},diffusion:parseNumber(J.diffusion,0)||DEFAULT_CONTROL_CELL.diffusion,basal_damping_ratio:parseNumber(J.basal_damping_ratio,0)||DEFAULT_CONTROL_CELL.basal_damping_ratio,max_basal_junction_dist:2*parseNumber(J.max_basal_junction_dist,.5)||(L?2*L:DEFAULT_CONTROL_CELL.max_basal_junction_dist),cytos_init:parseNumber(J.cytoskeleton_init,DEFAULT_CONTROL_CELL.cytos_init),basal_membrane_repulsion:parseNumber(J.basal_repulsion,DEFAULT_CONTROL_CELL.basal_membrane_repulsion),apical_junction_init:parseNumber(J.apical_junction_init,0)||I||DEFAULT_CONTROL_CELL.apical_junction_init};R.cell_types[te]=oe}if(_.special_cell_events)for(const Q of _.special_cell_events){const J=Q.cell_type==="exp"?"emt":Q.cell_type,te=R.cell_types[J];if(!te)continue;const ne=parseNumber(Q.sim_time_start,1/0),ie=parseNumber(Q.sim_time_end,1/0);switch(Q.name){case"loss_apical_adhesion":case"local_loss_apical_adhesion":te.events.time_A_start=ne,te.events.time_A_end=ie;break;case"loss_basal_adhesion":te.events.time_B_start=ne,te.events.time_B_end=ie;break}}if(_.cell_events)for(const Q of _.cell_events){const J=Q.cell_type==="exp"?"emt":Q.cell_type,te=R.cell_types[J];te&&(Q.name==="loss_polarity"&&Q.symbol==="stiffness_straightness"&&(te.events.time_S_start=parseNumber(Q.sim_time_start,1/0),te.events.time_S_end=parseNumber(Q.sim_time_end,1/0)),Q.name==="INM"&&(te.INM=parseINMFromEventStart(Q.sim_time_start)))}for(const Q of Object.values(R.cell_types))(isFinite(Q.events.time_A_start)||isFinite(Q.events.time_B_start)||isFinite(Q.events.time_S_start))&&(Q.hetero=!0);return R}async function parseXLSXFile(_){const R=await __vitePreload(()=>import("./xlsx-CebWqg3Z.js"),[]),P=await _.arrayBuffer(),O=R.read(P,{type:"array"}),I={parameters:{},cell_type:{parameters:[],types:{}}},L=O.Sheets.parameters;if(L){const V=R.utils.sheet_to_json(L);for(const Z of V)Z.key&&(I.parameters[Z.key]=Z.value)}const z=O.Sheets.cell_type;if(z){const V=R.utils.sheet_to_json(z);if(V.length>0){const Z=V[0],Y=Object.keys(Z).filter(Q=>Q!=="parameter");for(const Q of Y)I.cell_type.types[Q]={};for(const Q of V){const J=String(Q.parameter||"");if(J){I.cell_type.parameters.push(J);for(const te of Y)I.cell_type.types[te][J]=Q[te]}}}}const F=O.Sheets.cell_events;F&&(I.cell_events=R.utils.sheet_to_json(F));const G=O.Sheets.special_cell_events;return G&&(I.special_cell_events=R.utils.sheet_to_json(G)),I}async function importXLSXToParams(_){const R=await parseXLSXFile(_);return importLegacyXLSX(R)}function ParameterConfigView({config:_,onConfigChange:R,disabled:P}){const{currentModel:O}=useModel(),I=reactExports.useRef(null),L=reactExports.useRef(null),[z,F]=reactExports.useState(!1),[G,V]=reactExports.useState(!1),Z=EHT_PRESETS,Y=ue=>{const me=Z.find(fe=>fe.key===ue);if(!me)return;const he=me.create();R({..._,params:he})},Q=ue=>{R({..._,params:ue})},J=ue=>{R({..._,parameterRanges:ue})},te=ue=>{R({..._,timeSamples:ue})},ne=ue=>{const me=Math.max(1,parseInt(ue,10)||1);R({..._,seedsPerConfig:me})},ie=async ue=>{const me=ue.target.files?.[0];if(me){try{const he=await me.text(),fe=parseSimulationConfigToml(he);R(fe)}catch(he){console.error("Failed to parse TOML:",he),alert("Failed to parse TOML file. Check console for details.")}I.current&&(I.current.value="")}},se=()=>{const ue=toSimulationConfigToml(_),me=new Blob([ue],{type:"text/plain"}),he=URL.createObjectURL(me),fe=document.createElement("a");fe.href=he,fe.download="simulation_config.toml",document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),URL.revokeObjectURL(he)},oe=async ue=>{const me=ue.target.files?.[0];if(me){F(!0);try{const he=await importXLSXToParams(me);R({..._,params:he})}catch(he){console.error("Failed to import XLSX:",he),alert("Failed to import legacy XLSX file. Check console for details.")}finally{F(!1)}L.current&&(L.current.value="")}},ce=async()=>{const ue=encodeParamsToUrl(O.name,_.params);try{await navigator.clipboard.writeText(ue),V(!0),setTimeout(()=>V(!1),2e3)}catch(me){console.error("Failed to copy link:",me),prompt("Copy this link:",ue)}};return jsxRuntimeExports.jsxs(Card,{className:"h-full",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-base",children:"Parameters & Ranges"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx("input",{ref:I,type:"file",accept:".toml",onChange:ie,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>I.current?.click(),disabled:P,className:"flex-1",children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-2"}),"Load TOML"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:se,disabled:P,className:"flex-1",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Save TOML"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx("input",{ref:L,type:"file",accept:".xlsx,.xls",onChange:oe,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>L.current?.click(),disabled:P||z,className:"flex-1",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"h-4 w-4 mr-2"}),z?"Importing...":"Import Legacy XLSX"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:ce,disabled:P,className:"flex-1",children:[jsxRuntimeExports.jsx(Link2,{className:"h-4 w-4 mr-2"}),G?"Copied!":"Share Link"]})]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Select preset"}),jsxRuntimeExports.jsxs(Select,{onValueChange:Y,disabled:P,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Choose a preset"})}),jsxRuntimeExports.jsx(SelectContent,{children:Z.map(ue=>jsxRuntimeExports.jsx(SelectItem,{value:ue.key,children:ue.label},ue.key))})]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsx("div",{className:"h-[500px] border rounded-md overflow-hidden relative",children:jsxRuntimeExports.jsx(ModelParameterPanel,{params:_.params,onChange:Q,disabled:P})}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsx(ParameterRangeList,{ranges:_.parameterRanges,onChange:J,baseParams:_.params,disabled:P}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Batch Sampling"}),jsxRuntimeExports.jsx(TimeSampleConfig,{config:_.timeSamples,onChange:te,disabled:P}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"seeds",className:"text-xs text-muted-foreground",children:"Seeds per configuration"}),jsxRuntimeExports.jsx(Input,{id:"seeds",type:"number",min:1,step:1,value:_.seedsPerConfig,onChange:ue=>ne(ue.target.value),disabled:P,className:"h-8 w-32"})]})]})]})]})}function ok$1(){}function unreachable(){}function parse$2(_){const R=[],P=String(_||"");let O=P.indexOf(","),I=0,L=!1;for(;!L;){O===-1&&(O=P.length,L=!0);const z=P.slice(I,O).trim();(z||!L)&&R.push(z),I=O+1,O=P.indexOf(",",I)}return R}function stringify$1(_,R){const P={};return(_[_.length-1]===""?[..._,""]:_).join((P.padRight?" ":"")+","+(P.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$4={};function name(_,R){return(emptyOptions$4.jsx?nameReJsx:nameRe).test(_)}const re=/[ \t\n\f\r]/g;function whitespace(_){return typeof _=="object"?_.type==="text"?empty$1(_.value):!1:empty$1(_)}function empty$1(_){return _.replace(re,"")===""}class Schema{constructor(R,P,O){this.normal=P,this.property=R,O&&(this.space=O)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(_,R){const P={},O={};for(const I of _)Object.assign(P,I.property),Object.assign(O,I.normal);return new Schema(P,O,R)}function normalize$1(_){return _.toLowerCase()}class Info{constructor(R,P){this.attribute=P,this.property=R}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(R,P,O,I){let L=-1;if(super(R,P),mark(this,"space",I),typeof O=="number")for(;++L<checks.length;){const z=checks[L];mark(this,checks[L],(O&types[z])===types[z])}}}DefinedInfo.prototype.defined=!0;function mark(_,R,P){P&&(_[R]=P)}function create(_){const R={},P={};for(const[O,I]of Object.entries(_.properties)){const L=new DefinedInfo(O,_.transform(_.attributes||{},O),I,_.space);_.mustUseProperty&&_.mustUseProperty.includes(O)&&(L.mustUseProperty=!0),R[O]=L,P[normalize$1(O)]=O,P[normalize$1(L.attribute)]=O}return new Schema(R,P,_.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(_,R){return R==="role"?R:"aria-"+R.slice(4).toLowerCase()}});function caseSensitiveTransform(_,R){return R in _?_[R]:R}function caseInsensitiveTransform(_,R){return caseSensitiveTransform(_,R.toLowerCase())}const html$2=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(_,R){return"xlink:"+R.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(_,R){return"xml:"+R.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find(_,R){const P=normalize$1(R);let O=R,I=Info;if(P in _.normal)return _.property[_.normal[P]];if(P.length>4&&P.slice(0,4)==="data"&&valid.test(R)){if(R.charAt(4)==="-"){const L=R.slice(5).replace(dash,camelcase);O="data"+L.charAt(0).toUpperCase()+L.slice(1)}else{const L=R.slice(4);if(!dash.test(L)){let z=L.replace(cap$1,kebab);z.charAt(0)!=="-"&&(z="-"+z),R="data"+z}}I=DefinedInfo}return new I(O,R)}function kebab(_){return"-"+_.toLowerCase()}function camelcase(_){return _.charAt(1).toUpperCase()}const html$1=merge([aria,html$2,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function parse$1(_){const R=String(_||"").trim();return R?R.split(/[ \t\n\r\f]+/g):[]}function stringify(_){return _.join(" ").trim()}var cjs$2={},cjs$1,hasRequiredCjs$2;function requireCjs$2(){if(hasRequiredCjs$2)return cjs$1;hasRequiredCjs$2=1;var _=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,R=/\n/g,P=/^\s*/,O=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,I=/^:\s*/,L=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,z=/^[;\s]*/,F=/^\s+|\s+$/g,G=`
`,V="/",Z="*",Y="",Q="comment",J="declaration";function te(ie,se){if(typeof ie!="string")throw new TypeError("First argument must be a string");if(!ie)return[];se=se||{};var oe=1,ce=1;function ue(Ae){var Ce=Ae.match(R);Ce&&(oe+=Ce.length);var _e=Ae.lastIndexOf(G);ce=~_e?Ae.length-_e:ce+Ae.length}function me(){var Ae={line:oe,column:ce};return function(Ce){return Ce.position=new he(Ae),pe(),Ce}}function he(Ae){this.start=Ae,this.end={line:oe,column:ce},this.source=se.source}he.prototype.content=ie;function fe(Ae){var Ce=new Error(se.source+":"+oe+":"+ce+": "+Ae);if(Ce.reason=Ae,Ce.filename=se.source,Ce.line=oe,Ce.column=ce,Ce.source=ie,!se.silent)throw Ce}function de(Ae){var Ce=Ae.exec(ie);if(Ce){var _e=Ce[0];return ue(_e),ie=ie.slice(_e.length),Ce}}function pe(){de(P)}function be(Ae){var Ce;for(Ae=Ae||[];Ce=ye();)Ce!==!1&&Ae.push(Ce);return Ae}function ye(){var Ae=me();if(!(V!=ie.charAt(0)||Z!=ie.charAt(1))){for(var Ce=2;Y!=ie.charAt(Ce)&&(Z!=ie.charAt(Ce)||V!=ie.charAt(Ce+1));)++Ce;if(Ce+=2,Y===ie.charAt(Ce-1))return fe("End of comment missing");var _e=ie.slice(2,Ce-2);return ce+=2,ue(_e),ie=ie.slice(Ce),ce+=2,Ae({type:Q,comment:_e})}}function we(){var Ae=me(),Ce=de(O);if(Ce){if(ye(),!de(I))return fe("property missing ':'");var _e=de(L),Re=Ae({type:J,property:ne(Ce[0].replace(_,Y)),value:_e?ne(_e[0].replace(_,Y)):Y});return de(z),Re}}function ve(){var Ae=[];be(Ae);for(var Ce;Ce=we();)Ce!==!1&&(Ae.push(Ce),be(Ae));return Ae}return pe(),ve()}function ne(ie){return ie?ie.replace(F,Y):Y}return cjs$1=te,cjs$1}var hasRequiredCjs$1;function requireCjs$1(){if(hasRequiredCjs$1)return cjs$2;hasRequiredCjs$1=1;var _=cjs$2&&cjs$2.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(cjs$2,"__esModule",{value:!0}),cjs$2.default=P;const R=_(requireCjs$2());function P(O,I){let L=null;if(!O||typeof O!="string")return L;const z=(0,R.default)(O),F=typeof I=="function";return z.forEach(G=>{if(G.type!=="declaration")return;const{property:V,value:Z}=G;F?I(V,Z,G):Z&&(L=L||{},L[V]=Z)}),L}return cjs$2}var utilities={},hasRequiredUtilities;function requireUtilities(){if(hasRequiredUtilities)return utilities;hasRequiredUtilities=1,Object.defineProperty(utilities,"__esModule",{value:!0}),utilities.camelCase=void 0;var _=/^--[a-zA-Z0-9_-]+$/,R=/-([a-z])/g,P=/^[^-]+$/,O=/^-(webkit|moz|ms|o|khtml)-/,I=/^-(ms)-/,L=function(V){return!V||P.test(V)||_.test(V)},z=function(V,Z){return Z.toUpperCase()},F=function(V,Z){return"".concat(Z,"-")},G=function(V,Z){return Z===void 0&&(Z={}),L(V)?V:(V=V.toLowerCase(),Z.reactCompat?V=V.replace(I,F):V=V.replace(O,F),V.replace(R,z))};return utilities.camelCase=G,utilities}var cjs,hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var _=cjs&&cjs.__importDefault||function(I){return I&&I.__esModule?I:{default:I}},R=_(requireCjs$1()),P=requireUtilities();function O(I,L){var z={};return!I||typeof I!="string"||(0,R.default)(I,function(F,G){F&&G&&(z[(0,P.camelCase)(F,L)]=G)}),z}return O.default=O,cjs=O,cjs}var cjsExports=requireCjs();const styleToJs=getDefaultExportFromCjs(cjsExports),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(_){return R;function R(P){const O=P&&P.position&&P.position[_]||{};if(typeof O.line=="number"&&O.line>0&&typeof O.column=="number"&&O.column>0)return{line:O.line,column:O.column,offset:typeof O.offset=="number"&&O.offset>-1?O.offset:void 0}}}function position$1(_){const R=pointStart(_),P=pointEnd(_);if(R&&P)return{start:R,end:P}}function stringifyPosition(_){return!_||typeof _!="object"?"":"position"in _||"type"in _?position(_.position):"start"in _||"end"in _?position(_):"line"in _||"column"in _?point$1(_):""}function point$1(_){return index(_&&_.line)+":"+index(_&&_.column)}function position(_){return point$1(_&&_.start)+"-"+point$1(_&&_.end)}function index(_){return _&&typeof _=="number"?_:1}class VFileMessage extends Error{constructor(R,P,O){super(),typeof P=="string"&&(O=P,P=void 0);let I="",L={},z=!1;if(P&&("line"in P&&"column"in P?L={place:P}:"start"in P&&"end"in P?L={place:P}:"type"in P?L={ancestors:[P],place:P.position}:L={...P}),typeof R=="string"?I=R:!L.cause&&R&&(z=!0,I=R.message,L.cause=R),!L.ruleId&&!L.source&&typeof O=="string"){const G=O.indexOf(":");G===-1?L.ruleId=O:(L.source=O.slice(0,G),L.ruleId=O.slice(G+1))}if(!L.place&&L.ancestors&&L.ancestors){const G=L.ancestors[L.ancestors.length-1];G&&(L.place=G.position)}const F=L.place&&"start"in L.place?L.place.start:L.place;this.ancestors=L.ancestors||void 0,this.cause=L.cause||void 0,this.column=F?F.column:void 0,this.fatal=void 0,this.file="",this.message=I,this.line=F?F.line:void 0,this.name=stringifyPosition(L.place)||"1:1",this.place=L.place||void 0,this.reason=this.message,this.ruleId=L.ruleId||void 0,this.source=L.source||void 0,this.stack=z&&L.cause&&typeof L.cause.stack=="string"?L.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(_,R){if(!R||R.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const P=R.filePath||void 0;let O;if(R.development){if(typeof R.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");O=developmentCreate(P,R.jsxDEV)}else{if(typeof R.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof R.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");O=productionCreate(P,R.jsx,R.jsxs)}const I={Fragment:R.Fragment,ancestors:[],components:R.components||{},create:O,elementAttributeNameCase:R.elementAttributeNameCase||"react",evaluater:R.createEvaluater?R.createEvaluater():void 0,filePath:P,ignoreInvalidStyle:R.ignoreInvalidStyle||!1,passKeys:R.passKeys!==!1,passNode:R.passNode||!1,schema:R.space==="svg"?svg:html$1,stylePropertyNameCase:R.stylePropertyNameCase||"dom",tableCellAlignToStyle:R.tableCellAlignToStyle!==!1},L=one$2(I,_,void 0);return L&&typeof L!="string"?L:I.create(_,I.Fragment,{children:L||void 0},void 0)}function one$2(_,R,P){if(R.type==="element")return element$3(_,R,P);if(R.type==="mdxFlowExpression"||R.type==="mdxTextExpression")return mdxExpression(_,R);if(R.type==="mdxJsxFlowElement"||R.type==="mdxJsxTextElement")return mdxJsxElement(_,R,P);if(R.type==="mdxjsEsm")return mdxEsm(_,R);if(R.type==="root")return root$2(_,R,P);if(R.type==="text")return text$6(_,R)}function element$3(_,R,P){const O=_.schema;let I=O;R.tagName.toLowerCase()==="svg"&&O.space==="html"&&(I=svg,_.schema=I),_.ancestors.push(R);const L=findComponentFromName(_,R.tagName,!1),z=createElementProps(_,R);let F=createChildren(_,R);return tableElements.has(R.tagName)&&(F=F.filter(function(G){return typeof G=="string"?!whitespace(G):!0})),addNode(_,z,L,R),addChildren(z,F),_.ancestors.pop(),_.schema=O,_.create(R,L,z,P)}function mdxExpression(_,R){if(R.data&&R.data.estree&&_.evaluater){const O=R.data.estree.body[0];return O.type,_.evaluater.evaluateExpression(O.expression)}crashEstree(_,R.position)}function mdxEsm(_,R){if(R.data&&R.data.estree&&_.evaluater)return _.evaluater.evaluateProgram(R.data.estree);crashEstree(_,R.position)}function mdxJsxElement(_,R,P){const O=_.schema;let I=O;R.name==="svg"&&O.space==="html"&&(I=svg,_.schema=I),_.ancestors.push(R);const L=R.name===null?_.Fragment:findComponentFromName(_,R.name,!0),z=createJsxElementProps(_,R),F=createChildren(_,R);return addNode(_,z,L,R),addChildren(z,F),_.ancestors.pop(),_.schema=O,_.create(R,L,z,P)}function root$2(_,R,P){const O={};return addChildren(O,createChildren(_,R)),_.create(R,_.Fragment,O,P)}function text$6(_,R){return R.value}function addNode(_,R,P,O){typeof P!="string"&&P!==_.Fragment&&_.passNode&&(R.node=O)}function addChildren(_,R){if(R.length>0){const P=R.length>1?R:R[0];P&&(_.children=P)}}function productionCreate(_,R,P){return O;function O(I,L,z,F){const V=Array.isArray(z.children)?P:R;return F?V(L,z,F):V(L,z)}}function developmentCreate(_,R){return P;function P(O,I,L,z){const F=Array.isArray(L.children),G=pointStart(O);return R(I,L,z,F,{columnNumber:G?G.column-1:void 0,fileName:_,lineNumber:G?G.line:void 0},void 0)}}function createElementProps(_,R){const P={};let O,I;for(I in R.properties)if(I!=="children"&&own$3.call(R.properties,I)){const L=createProperty(_,I,R.properties[I]);if(L){const[z,F]=L;_.tableCellAlignToStyle&&z==="align"&&typeof F=="string"&&tableCellElement.has(R.tagName)?O=F:P[z]=F}}if(O){const L=P.style||(P.style={});L[_.stylePropertyNameCase==="css"?"text-align":"textAlign"]=O}return P}function createJsxElementProps(_,R){const P={};for(const O of R.attributes)if(O.type==="mdxJsxExpressionAttribute")if(O.data&&O.data.estree&&_.evaluater){const L=O.data.estree.body[0];L.type;const z=L.expression;z.type;const F=z.properties[0];F.type,Object.assign(P,_.evaluater.evaluateExpression(F.argument))}else crashEstree(_,R.position);else{const I=O.name;let L;if(O.value&&typeof O.value=="object")if(O.value.data&&O.value.data.estree&&_.evaluater){const F=O.value.data.estree.body[0];F.type,L=_.evaluater.evaluateExpression(F.expression)}else crashEstree(_,R.position);else L=O.value===null?!0:O.value;P[I]=L}return P}function createChildren(_,R){const P=[];let O=-1;const I=_.passKeys?new Map:emptyMap;for(;++O<R.children.length;){const L=R.children[O];let z;if(_.passKeys){const G=L.type==="element"?L.tagName:L.type==="mdxJsxFlowElement"||L.type==="mdxJsxTextElement"?L.name:void 0;if(G){const V=I.get(G)||0;z=G+"-"+V,I.set(G,V+1)}}const F=one$2(_,L,z);F!==void 0&&P.push(F)}return P}function createProperty(_,R,P){const O=find(_.schema,R);if(!(P==null||typeof P=="number"&&Number.isNaN(P))){if(Array.isArray(P)&&(P=O.commaSeparated?stringify$1(P):stringify(P)),O.property==="style"){let I=typeof P=="object"?P:parseStyle(_,String(P));return _.stylePropertyNameCase==="css"&&(I=transformStylesToCssCasing(I)),["style",I]}return[_.elementAttributeNameCase==="react"&&O.space?hastToReact[O.property]||O.property:O.attribute,P]}}function parseStyle(_,R){try{return styleToJs(R,{reactCompat:!0})}catch(P){if(_.ignoreInvalidStyle)return{};const O=P,I=new VFileMessage("Cannot parse `style` attribute",{ancestors:_.ancestors,cause:O,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw I.file=_.filePath||void 0,I.url=docs+"#cannot-parse-style-attribute",I}}function findComponentFromName(_,R,P){let O;if(!P)O={type:"Literal",value:R};else if(R.includes(".")){const I=R.split(".");let L=-1,z;for(;++L<I.length;){const F=name(I[L])?{type:"Identifier",name:I[L]}:{type:"Literal",value:I[L]};z=z?{type:"MemberExpression",object:z,property:F,computed:!!(L&&F.type==="Literal"),optional:!1}:F}O=z}else O=name(R)&&!/^[a-z]/.test(R)?{type:"Identifier",name:R}:{type:"Literal",value:R};if(O.type==="Literal"){const I=O.value;return own$3.call(_.components,I)?_.components[I]:I}if(_.evaluater)return _.evaluater.evaluateExpression(O);crashEstree(_)}function crashEstree(_,R){const P=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:_.ancestors,place:R,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw P.file=_.filePath||void 0,P.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",P}function transformStylesToCssCasing(_){const R={};let P;for(P in _)own$3.call(_,P)&&(R[transformStyleToCssCasing(P)]=_[P]);return R}function transformStyleToCssCasing(_){let R=_.replace(cap,toDash);return R.slice(0,3)==="ms-"&&(R="-"+R),R}function toDash(_){return"-"+_.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$3={};function toString$1(_,R){const P=emptyOptions$3,O=typeof P.includeImageAlt=="boolean"?P.includeImageAlt:!0,I=typeof P.includeHtml=="boolean"?P.includeHtml:!0;return one$1(_,O,I)}function one$1(_,R,P){if(node(_)){if("value"in _)return _.type==="html"&&!P?"":_.value;if(R&&"alt"in _&&_.alt)return _.alt;if("children"in _)return all$1(_.children,R,P)}return Array.isArray(_)?all$1(_,R,P):""}function all$1(_,R,P){const O=[];let I=-1;for(;++I<_.length;)O[I]=one$1(_[I],R,P);return O.join("")}function node(_){return!!(_&&typeof _=="object")}const element$2=document.createElement("i");function decodeNamedCharacterReference(_){const R="&"+_+";";element$2.innerHTML=R;const P=element$2.textContent;return P.charCodeAt(P.length-1)===59&&_!=="semi"||P===R?!1:P}function splice(_,R,P,O){const I=_.length;let L=0,z;if(R<0?R=-R>I?0:I+R:R=R>I?I:R,P=P>0?P:0,O.length<1e4)z=Array.from(O),z.unshift(R,P),_.splice(...z);else for(P&&_.splice(R,P);L<O.length;)z=O.slice(L,L+1e4),z.unshift(R,0),_.splice(...z),L+=1e4,R+=1e4}function push(_,R){return _.length>0?(splice(_,_.length,0,R),_):R}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(_){const R={};let P=-1;for(;++P<_.length;)syntaxExtension(R,_[P]);return R}function syntaxExtension(_,R){let P;for(P in R){const I=(hasOwnProperty.call(_,P)?_[P]:void 0)||(_[P]={}),L=R[P];let z;if(L)for(z in L){hasOwnProperty.call(I,z)||(I[z]=[]);const F=L[z];constructs(I[z],Array.isArray(F)?F:F?[F]:[])}}}function constructs(_,R){let P=-1;const O=[];for(;++P<R.length;)(R[P].add==="after"?_:O).push(R[P]);splice(_,0,0,O)}function decodeNumericCharacterReference(_,R){const P=Number.parseInt(_,R);return P<9||P===11||P>13&&P<32||P>126&&P<160||P>55295&&P<57344||P>64975&&P<65008||(P&65535)===65535||(P&65535)===65534||P>1114111?"":String.fromCodePoint(P)}function normalizeIdentifier(_){return _.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(_){return _!==null&&(_<32||_===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(_){return _!==null&&_<-2}function markdownLineEndingOrSpace(_){return _!==null&&(_<0||_===32)}function markdownSpace(_){return _===-2||_===-1||_===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(_){return R;function R(P){return P!==null&&P>-1&&_.test(String.fromCharCode(P))}}function normalizeUri(_){const R=[];let P=-1,O=0,I=0;for(;++P<_.length;){const L=_.charCodeAt(P);let z="";if(L===37&&asciiAlphanumeric(_.charCodeAt(P+1))&&asciiAlphanumeric(_.charCodeAt(P+2)))I=2;else if(L<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(L))||(z=String.fromCharCode(L));else if(L>55295&&L<57344){const F=_.charCodeAt(P+1);L<56320&&F>56319&&F<57344?(z=String.fromCharCode(L,F),I=1):z=""}else z=String.fromCharCode(L);z&&(R.push(_.slice(O,P),encodeURIComponent(z)),O=P+I+1,z=""),I&&(P+=I,I=0)}return R.join("")+_.slice(O)}function factorySpace(_,R,P,O){const I=O?O-1:Number.POSITIVE_INFINITY;let L=0;return z;function z(G){return markdownSpace(G)?(_.enter(P),F(G)):R(G)}function F(G){return markdownSpace(G)&&L++<I?(_.consume(G),F):(_.exit(P),R(G))}}const content$1={tokenize:initializeContent};function initializeContent(_){const R=_.attempt(this.parser.constructs.contentInitial,O,I);let P;return R;function O(F){if(F===null){_.consume(F);return}return _.enter("lineEnding"),_.consume(F),_.exit("lineEnding"),factorySpace(_,R,"linePrefix")}function I(F){return _.enter("paragraph"),L(F)}function L(F){const G=_.enter("chunkText",{contentType:"text",previous:P});return P&&(P.next=G),P=G,z(F)}function z(F){if(F===null){_.exit("chunkText"),_.exit("paragraph"),_.consume(F);return}return markdownLineEnding(F)?(_.consume(F),_.exit("chunkText"),L):(_.consume(F),z)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(_){const R=this,P=[];let O=0,I,L,z;return F;function F(ce){if(O<P.length){const ue=P[O];return R.containerState=ue[1],_.attempt(ue[0].continuation,G,V)(ce)}return V(ce)}function G(ce){if(O++,R.containerState._closeFlow){R.containerState._closeFlow=void 0,I&&oe();const ue=R.events.length;let me=ue,he;for(;me--;)if(R.events[me][0]==="exit"&&R.events[me][1].type==="chunkFlow"){he=R.events[me][1].end;break}se(O);let fe=ue;for(;fe<R.events.length;)R.events[fe][1].end={...he},fe++;return splice(R.events,me+1,0,R.events.slice(ue)),R.events.length=fe,V(ce)}return F(ce)}function V(ce){if(O===P.length){if(!I)return Q(ce);if(I.currentConstruct&&I.currentConstruct.concrete)return te(ce);R.interrupt=!!(I.currentConstruct&&!I._gfmTableDynamicInterruptHack)}return R.containerState={},_.check(containerConstruct,Z,Y)(ce)}function Z(ce){return I&&oe(),se(O),Q(ce)}function Y(ce){return R.parser.lazy[R.now().line]=O!==P.length,z=R.now().offset,te(ce)}function Q(ce){return R.containerState={},_.attempt(containerConstruct,J,te)(ce)}function J(ce){return O++,P.push([R.currentConstruct,R.containerState]),Q(ce)}function te(ce){if(ce===null){I&&oe(),se(0),_.consume(ce);return}return I=I||R.parser.flow(R.now()),_.enter("chunkFlow",{_tokenizer:I,contentType:"flow",previous:L}),ne(ce)}function ne(ce){if(ce===null){ie(_.exit("chunkFlow"),!0),se(0),_.consume(ce);return}return markdownLineEnding(ce)?(_.consume(ce),ie(_.exit("chunkFlow")),O=0,R.interrupt=void 0,F):(_.consume(ce),ne)}function ie(ce,ue){const me=R.sliceStream(ce);if(ue&&me.push(null),ce.previous=L,L&&(L.next=ce),L=ce,I.defineSkip(ce.start),I.write(me),R.parser.lazy[ce.start.line]){let he=I.events.length;for(;he--;)if(I.events[he][1].start.offset<z&&(!I.events[he][1].end||I.events[he][1].end.offset>z))return;const fe=R.events.length;let de=fe,pe,be;for(;de--;)if(R.events[de][0]==="exit"&&R.events[de][1].type==="chunkFlow"){if(pe){be=R.events[de][1].end;break}pe=!0}for(se(O),he=fe;he<R.events.length;)R.events[he][1].end={...be},he++;splice(R.events,de+1,0,R.events.slice(fe)),R.events.length=he}}function se(ce){let ue=P.length;for(;ue-- >ce;){const me=P[ue];R.containerState=me[1],me[0].exit.call(R,_)}P.length=ce}function oe(){I.write([null]),L=void 0,I=void 0,R.containerState._closeFlow=void 0}}function tokenizeContainer(_,R,P){return factorySpace(_,_.attempt(this.parser.constructs.document,R,P),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(_){if(_===null||markdownLineEndingOrSpace(_)||unicodeWhitespace(_))return 1;if(unicodePunctuation(_))return 2}function resolveAll(_,R,P){const O=[];let I=-1;for(;++I<_.length;){const L=_[I].resolveAll;L&&!O.includes(L)&&(R=L(R,P),O.push(L))}return R}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(_,R){let P=-1,O,I,L,z,F,G,V,Z;for(;++P<_.length;)if(_[P][0]==="enter"&&_[P][1].type==="attentionSequence"&&_[P][1]._close){for(O=P;O--;)if(_[O][0]==="exit"&&_[O][1].type==="attentionSequence"&&_[O][1]._open&&R.sliceSerialize(_[O][1]).charCodeAt(0)===R.sliceSerialize(_[P][1]).charCodeAt(0)){if((_[O][1]._close||_[P][1]._open)&&(_[P][1].end.offset-_[P][1].start.offset)%3&&!((_[O][1].end.offset-_[O][1].start.offset+_[P][1].end.offset-_[P][1].start.offset)%3))continue;G=_[O][1].end.offset-_[O][1].start.offset>1&&_[P][1].end.offset-_[P][1].start.offset>1?2:1;const Y={..._[O][1].end},Q={..._[P][1].start};movePoint(Y,-G),movePoint(Q,G),z={type:G>1?"strongSequence":"emphasisSequence",start:Y,end:{..._[O][1].end}},F={type:G>1?"strongSequence":"emphasisSequence",start:{..._[P][1].start},end:Q},L={type:G>1?"strongText":"emphasisText",start:{..._[O][1].end},end:{..._[P][1].start}},I={type:G>1?"strong":"emphasis",start:{...z.start},end:{...F.end}},_[O][1].end={...z.start},_[P][1].start={...F.end},V=[],_[O][1].end.offset-_[O][1].start.offset&&(V=push(V,[["enter",_[O][1],R],["exit",_[O][1],R]])),V=push(V,[["enter",I,R],["enter",z,R],["exit",z,R],["enter",L,R]]),V=push(V,resolveAll(R.parser.constructs.insideSpan.null,_.slice(O+1,P),R)),V=push(V,[["exit",L,R],["enter",F,R],["exit",F,R],["exit",I,R]]),_[P][1].end.offset-_[P][1].start.offset?(Z=2,V=push(V,[["enter",_[P][1],R],["exit",_[P][1],R]])):Z=0,splice(_,O-1,P-O+3,V),P=O+V.length-Z-2;break}}for(P=-1;++P<_.length;)_[P][1].type==="attentionSequence"&&(_[P][1].type="data");return _}function tokenizeAttention(_,R){const P=this.parser.constructs.attentionMarkers.null,O=this.previous,I=classifyCharacter(O);let L;return z;function z(G){return L=G,_.enter("attentionSequence"),F(G)}function F(G){if(G===L)return _.consume(G),F;const V=_.exit("attentionSequence"),Z=classifyCharacter(G),Y=!Z||Z===2&&I||P.includes(G),Q=!I||I===2&&Z||P.includes(O);return V._open=!!(L===42?Y:Y&&(I||!Q)),V._close=!!(L===42?Q:Q&&(Z||!Y)),R(G)}}function movePoint(_,R){_.column+=R,_.offset+=R,_._bufferIndex+=R}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(_,R,P){let O=0;return I;function I(J){return _.enter("autolink"),_.enter("autolinkMarker"),_.consume(J),_.exit("autolinkMarker"),_.enter("autolinkProtocol"),L}function L(J){return asciiAlpha(J)?(_.consume(J),z):J===64?P(J):V(J)}function z(J){return J===43||J===45||J===46||asciiAlphanumeric(J)?(O=1,F(J)):V(J)}function F(J){return J===58?(_.consume(J),O=0,G):(J===43||J===45||J===46||asciiAlphanumeric(J))&&O++<32?(_.consume(J),F):(O=0,V(J))}function G(J){return J===62?(_.exit("autolinkProtocol"),_.enter("autolinkMarker"),_.consume(J),_.exit("autolinkMarker"),_.exit("autolink"),R):J===null||J===32||J===60||asciiControl(J)?P(J):(_.consume(J),G)}function V(J){return J===64?(_.consume(J),Z):asciiAtext(J)?(_.consume(J),V):P(J)}function Z(J){return asciiAlphanumeric(J)?Y(J):P(J)}function Y(J){return J===46?(_.consume(J),O=0,Z):J===62?(_.exit("autolinkProtocol").type="autolinkEmail",_.enter("autolinkMarker"),_.consume(J),_.exit("autolinkMarker"),_.exit("autolink"),R):Q(J)}function Q(J){if((J===45||asciiAlphanumeric(J))&&O++<63){const te=J===45?Q:Y;return _.consume(J),te}return P(J)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(_,R,P){return O;function O(L){return markdownSpace(L)?factorySpace(_,I,"linePrefix")(L):I(L)}function I(L){return L===null||markdownLineEnding(L)?R(L):P(L)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(_,R,P){const O=this;return I;function I(z){if(z===62){const F=O.containerState;return F.open||(_.enter("blockQuote",{_container:!0}),F.open=!0),_.enter("blockQuotePrefix"),_.enter("blockQuoteMarker"),_.consume(z),_.exit("blockQuoteMarker"),L}return P(z)}function L(z){return markdownSpace(z)?(_.enter("blockQuotePrefixWhitespace"),_.consume(z),_.exit("blockQuotePrefixWhitespace"),_.exit("blockQuotePrefix"),R):(_.exit("blockQuotePrefix"),R(z))}}function tokenizeBlockQuoteContinuation(_,R,P){const O=this;return I;function I(z){return markdownSpace(z)?factorySpace(_,L,"linePrefix",O.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):L(z)}function L(z){return _.attempt(blockQuote,R,P)(z)}}function exit(_){_.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(_,R,P){return O;function O(L){return _.enter("characterEscape"),_.enter("escapeMarker"),_.consume(L),_.exit("escapeMarker"),I}function I(L){return asciiPunctuation(L)?(_.enter("characterEscapeValue"),_.consume(L),_.exit("characterEscapeValue"),_.exit("characterEscape"),R):P(L)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(_,R,P){const O=this;let I=0,L,z;return F;function F(Y){return _.enter("characterReference"),_.enter("characterReferenceMarker"),_.consume(Y),_.exit("characterReferenceMarker"),G}function G(Y){return Y===35?(_.enter("characterReferenceMarkerNumeric"),_.consume(Y),_.exit("characterReferenceMarkerNumeric"),V):(_.enter("characterReferenceValue"),L=31,z=asciiAlphanumeric,Z(Y))}function V(Y){return Y===88||Y===120?(_.enter("characterReferenceMarkerHexadecimal"),_.consume(Y),_.exit("characterReferenceMarkerHexadecimal"),_.enter("characterReferenceValue"),L=6,z=asciiHexDigit,Z):(_.enter("characterReferenceValue"),L=7,z=asciiDigit,Z(Y))}function Z(Y){if(Y===59&&I){const Q=_.exit("characterReferenceValue");return z===asciiAlphanumeric&&!decodeNamedCharacterReference(O.sliceSerialize(Q))?P(Y):(_.enter("characterReferenceMarker"),_.consume(Y),_.exit("characterReferenceMarker"),_.exit("characterReference"),R)}return z(Y)&&I++<L?(_.consume(Y),Z):P(Y)}}const nonLazyContinuation$1={partial:!0,tokenize:tokenizeNonLazyContinuation$1},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(_,R,P){const O=this,I={partial:!0,tokenize:me};let L=0,z=0,F;return G;function G(he){return V(he)}function V(he){const fe=O.events[O.events.length-1];return L=fe&&fe[1].type==="linePrefix"?fe[2].sliceSerialize(fe[1],!0).length:0,F=he,_.enter("codeFenced"),_.enter("codeFencedFence"),_.enter("codeFencedFenceSequence"),Z(he)}function Z(he){return he===F?(z++,_.consume(he),Z):z<3?P(he):(_.exit("codeFencedFenceSequence"),markdownSpace(he)?factorySpace(_,Y,"whitespace")(he):Y(he))}function Y(he){return he===null||markdownLineEnding(he)?(_.exit("codeFencedFence"),O.interrupt?R(he):_.check(nonLazyContinuation$1,ne,ue)(he)):(_.enter("codeFencedFenceInfo"),_.enter("chunkString",{contentType:"string"}),Q(he))}function Q(he){return he===null||markdownLineEnding(he)?(_.exit("chunkString"),_.exit("codeFencedFenceInfo"),Y(he)):markdownSpace(he)?(_.exit("chunkString"),_.exit("codeFencedFenceInfo"),factorySpace(_,J,"whitespace")(he)):he===96&&he===F?P(he):(_.consume(he),Q)}function J(he){return he===null||markdownLineEnding(he)?Y(he):(_.enter("codeFencedFenceMeta"),_.enter("chunkString",{contentType:"string"}),te(he))}function te(he){return he===null||markdownLineEnding(he)?(_.exit("chunkString"),_.exit("codeFencedFenceMeta"),Y(he)):he===96&&he===F?P(he):(_.consume(he),te)}function ne(he){return _.attempt(I,ue,ie)(he)}function ie(he){return _.enter("lineEnding"),_.consume(he),_.exit("lineEnding"),se}function se(he){return L>0&&markdownSpace(he)?factorySpace(_,oe,"linePrefix",L+1)(he):oe(he)}function oe(he){return he===null||markdownLineEnding(he)?_.check(nonLazyContinuation$1,ne,ue)(he):(_.enter("codeFlowValue"),ce(he))}function ce(he){return he===null||markdownLineEnding(he)?(_.exit("codeFlowValue"),oe(he)):(_.consume(he),ce)}function ue(he){return _.exit("codeFenced"),R(he)}function me(he,fe,de){let pe=0;return be;function be(Ce){return he.enter("lineEnding"),he.consume(Ce),he.exit("lineEnding"),ye}function ye(Ce){return he.enter("codeFencedFence"),markdownSpace(Ce)?factorySpace(he,we,"linePrefix",O.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ce):we(Ce)}function we(Ce){return Ce===F?(he.enter("codeFencedFenceSequence"),ve(Ce)):de(Ce)}function ve(Ce){return Ce===F?(pe++,he.consume(Ce),ve):pe>=z?(he.exit("codeFencedFenceSequence"),markdownSpace(Ce)?factorySpace(he,Ae,"whitespace")(Ce):Ae(Ce)):de(Ce)}function Ae(Ce){return Ce===null||markdownLineEnding(Ce)?(he.exit("codeFencedFence"),fe(Ce)):de(Ce)}}}function tokenizeNonLazyContinuation$1(_,R,P){const O=this;return I;function I(z){return z===null?P(z):(_.enter("lineEnding"),_.consume(z),_.exit("lineEnding"),L)}function L(z){return O.parser.lazy[O.now().line]?P(z):R(z)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(_,R,P){const O=this;return I;function I(V){return _.enter("codeIndented"),factorySpace(_,L,"linePrefix",5)(V)}function L(V){const Z=O.events[O.events.length-1];return Z&&Z[1].type==="linePrefix"&&Z[2].sliceSerialize(Z[1],!0).length>=4?z(V):P(V)}function z(V){return V===null?G(V):markdownLineEnding(V)?_.attempt(furtherStart,z,G)(V):(_.enter("codeFlowValue"),F(V))}function F(V){return V===null||markdownLineEnding(V)?(_.exit("codeFlowValue"),z(V)):(_.consume(V),F)}function G(V){return _.exit("codeIndented"),R(V)}}function tokenizeFurtherStart(_,R,P){const O=this;return I;function I(z){return O.parser.lazy[O.now().line]?P(z):markdownLineEnding(z)?(_.enter("lineEnding"),_.consume(z),_.exit("lineEnding"),I):factorySpace(_,L,"linePrefix",5)(z)}function L(z){const F=O.events[O.events.length-1];return F&&F[1].type==="linePrefix"&&F[2].sliceSerialize(F[1],!0).length>=4?R(z):markdownLineEnding(z)?I(z):P(z)}}const codeText={name:"codeText",previous:previous$1,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(_){let R=_.length-4,P=3,O,I;if((_[P][1].type==="lineEnding"||_[P][1].type==="space")&&(_[R][1].type==="lineEnding"||_[R][1].type==="space")){for(O=P;++O<R;)if(_[O][1].type==="codeTextData"){_[P][1].type="codeTextPadding",_[R][1].type="codeTextPadding",P+=2,R-=2;break}}for(O=P-1,R++;++O<=R;)I===void 0?O!==R&&_[O][1].type!=="lineEnding"&&(I=O):(O===R||_[O][1].type==="lineEnding")&&(_[I][1].type="codeTextData",O!==I+2&&(_[I][1].end=_[O-1][1].end,_.splice(I+2,O-I-2),R-=O-I-2,O=I+2),I=void 0);return _}function previous$1(_){return _!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(_,R,P){let O=0,I,L;return z;function z(Y){return _.enter("codeText"),_.enter("codeTextSequence"),F(Y)}function F(Y){return Y===96?(_.consume(Y),O++,F):(_.exit("codeTextSequence"),G(Y))}function G(Y){return Y===null?P(Y):Y===32?(_.enter("space"),_.consume(Y),_.exit("space"),G):Y===96?(L=_.enter("codeTextSequence"),I=0,Z(Y)):markdownLineEnding(Y)?(_.enter("lineEnding"),_.consume(Y),_.exit("lineEnding"),G):(_.enter("codeTextData"),V(Y))}function V(Y){return Y===null||Y===32||Y===96||markdownLineEnding(Y)?(_.exit("codeTextData"),G(Y)):(_.consume(Y),V)}function Z(Y){return Y===96?(_.consume(Y),I++,Z):I===O?(_.exit("codeTextSequence"),_.exit("codeText"),R(Y)):(L.type="codeTextData",V(Y))}}class SpliceBuffer{constructor(R){this.left=R?[...R]:[],this.right=[]}get(R){if(R<0||R>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+R+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return R<this.left.length?this.left[R]:this.right[this.right.length-R+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(R,P){const O=P??Number.POSITIVE_INFINITY;return O<this.left.length?this.left.slice(R,O):R>this.left.length?this.right.slice(this.right.length-O+this.left.length,this.right.length-R+this.left.length).reverse():this.left.slice(R).concat(this.right.slice(this.right.length-O+this.left.length).reverse())}splice(R,P,O){const I=P||0;this.setCursor(Math.trunc(R));const L=this.right.splice(this.right.length-I,Number.POSITIVE_INFINITY);return O&&chunkedPush(this.left,O),L.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(R){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(R)}pushMany(R){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,R)}unshift(R){this.setCursor(0),this.right.push(R)}unshiftMany(R){this.setCursor(0),chunkedPush(this.right,R.reverse())}setCursor(R){if(!(R===this.left.length||R>this.left.length&&this.right.length===0||R<0&&this.left.length===0))if(R<this.left.length){const P=this.left.splice(R,Number.POSITIVE_INFINITY);chunkedPush(this.right,P.reverse())}else{const P=this.right.splice(this.left.length+this.right.length-R,Number.POSITIVE_INFINITY);chunkedPush(this.left,P.reverse())}}}function chunkedPush(_,R){let P=0;if(R.length<1e4)_.push(...R);else for(;P<R.length;)_.push(...R.slice(P,P+1e4)),P+=1e4}function subtokenize(_){const R={};let P=-1,O,I,L,z,F,G,V;const Z=new SpliceBuffer(_);for(;++P<Z.length;){for(;P in R;)P=R[P];if(O=Z.get(P),P&&O[1].type==="chunkFlow"&&Z.get(P-1)[1].type==="listItemPrefix"&&(G=O[1]._tokenizer.events,L=0,L<G.length&&G[L][1].type==="lineEndingBlank"&&(L+=2),L<G.length&&G[L][1].type==="content"))for(;++L<G.length&&G[L][1].type!=="content";)G[L][1].type==="chunkText"&&(G[L][1]._isInFirstContentOfListItem=!0,L++);if(O[0]==="enter")O[1].contentType&&(Object.assign(R,subcontent(Z,P)),P=R[P],V=!0);else if(O[1]._container){for(L=P,I=void 0;L--;)if(z=Z.get(L),z[1].type==="lineEnding"||z[1].type==="lineEndingBlank")z[0]==="enter"&&(I&&(Z.get(I)[1].type="lineEndingBlank"),z[1].type="lineEnding",I=L);else if(!(z[1].type==="linePrefix"||z[1].type==="listItemIndent"))break;I&&(O[1].end={...Z.get(I)[1].start},F=Z.slice(I,P),F.unshift(O),Z.splice(I,P-I+1,F))}}return splice(_,0,Number.POSITIVE_INFINITY,Z.slice(0)),!V}function subcontent(_,R){const P=_.get(R)[1],O=_.get(R)[2];let I=R-1;const L=[];let z=P._tokenizer;z||(z=O.parser[P.contentType](P.start),P._contentTypeTextTrailing&&(z._contentTypeTextTrailing=!0));const F=z.events,G=[],V={};let Z,Y,Q=-1,J=P,te=0,ne=0;const ie=[ne];for(;J;){for(;_.get(++I)[1]!==J;);L.push(I),J._tokenizer||(Z=O.sliceStream(J),J.next||Z.push(null),Y&&z.defineSkip(J.start),J._isInFirstContentOfListItem&&(z._gfmTasklistFirstContentOfListItem=!0),z.write(Z),J._isInFirstContentOfListItem&&(z._gfmTasklistFirstContentOfListItem=void 0)),Y=J,J=J.next}for(J=P;++Q<F.length;)F[Q][0]==="exit"&&F[Q-1][0]==="enter"&&F[Q][1].type===F[Q-1][1].type&&F[Q][1].start.line!==F[Q][1].end.line&&(ne=Q+1,ie.push(ne),J._tokenizer=void 0,J.previous=void 0,J=J.next);for(z.events=[],J?(J._tokenizer=void 0,J.previous=void 0):ie.pop(),Q=ie.length;Q--;){const se=F.slice(ie[Q],ie[Q+1]),oe=L.pop();G.push([oe,oe+se.length-1]),_.splice(oe,2,se)}for(G.reverse(),Q=-1;++Q<G.length;)V[te+G[Q][0]]=te+G[Q][1],te+=G[Q][1]-G[Q][0]-1;return V}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(_){return subtokenize(_),_}function tokenizeContent(_,R){let P;return O;function O(F){return _.enter("content"),P=_.enter("chunkContent",{contentType:"content"}),I(F)}function I(F){return F===null?L(F):markdownLineEnding(F)?_.check(continuationConstruct,z,L)(F):(_.consume(F),I)}function L(F){return _.exit("chunkContent"),_.exit("content"),R(F)}function z(F){return _.consume(F),_.exit("chunkContent"),P.next=_.enter("chunkContent",{contentType:"content",previous:P}),P=P.next,I}}function tokenizeContinuation(_,R,P){const O=this;return I;function I(z){return _.exit("chunkContent"),_.enter("lineEnding"),_.consume(z),_.exit("lineEnding"),factorySpace(_,L,"linePrefix")}function L(z){if(z===null||markdownLineEnding(z))return P(z);const F=O.events[O.events.length-1];return!O.parser.constructs.disable.null.includes("codeIndented")&&F&&F[1].type==="linePrefix"&&F[2].sliceSerialize(F[1],!0).length>=4?R(z):_.interrupt(O.parser.constructs.flow,P,R)(z)}}function factoryDestination(_,R,P,O,I,L,z,F,G){const V=G||Number.POSITIVE_INFINITY;let Z=0;return Y;function Y(se){return se===60?(_.enter(O),_.enter(I),_.enter(L),_.consume(se),_.exit(L),Q):se===null||se===32||se===41||asciiControl(se)?P(se):(_.enter(O),_.enter(z),_.enter(F),_.enter("chunkString",{contentType:"string"}),ne(se))}function Q(se){return se===62?(_.enter(L),_.consume(se),_.exit(L),_.exit(I),_.exit(O),R):(_.enter(F),_.enter("chunkString",{contentType:"string"}),J(se))}function J(se){return se===62?(_.exit("chunkString"),_.exit(F),Q(se)):se===null||se===60||markdownLineEnding(se)?P(se):(_.consume(se),se===92?te:J)}function te(se){return se===60||se===62||se===92?(_.consume(se),J):J(se)}function ne(se){return!Z&&(se===null||se===41||markdownLineEndingOrSpace(se))?(_.exit("chunkString"),_.exit(F),_.exit(z),_.exit(O),R(se)):Z<V&&se===40?(_.consume(se),Z++,ne):se===41?(_.consume(se),Z--,ne):se===null||se===32||se===40||asciiControl(se)?P(se):(_.consume(se),se===92?ie:ne)}function ie(se){return se===40||se===41||se===92?(_.consume(se),ne):ne(se)}}function factoryLabel(_,R,P,O,I,L){const z=this;let F=0,G;return V;function V(J){return _.enter(O),_.enter(I),_.consume(J),_.exit(I),_.enter(L),Z}function Z(J){return F>999||J===null||J===91||J===93&&!G||J===94&&!F&&"_hiddenFootnoteSupport"in z.parser.constructs?P(J):J===93?(_.exit(L),_.enter(I),_.consume(J),_.exit(I),_.exit(O),R):markdownLineEnding(J)?(_.enter("lineEnding"),_.consume(J),_.exit("lineEnding"),Z):(_.enter("chunkString",{contentType:"string"}),Y(J))}function Y(J){return J===null||J===91||J===93||markdownLineEnding(J)||F++>999?(_.exit("chunkString"),Z(J)):(_.consume(J),G||(G=!markdownSpace(J)),J===92?Q:Y)}function Q(J){return J===91||J===92||J===93?(_.consume(J),F++,Y):Y(J)}}function factoryTitle(_,R,P,O,I,L){let z;return F;function F(Q){return Q===34||Q===39||Q===40?(_.enter(O),_.enter(I),_.consume(Q),_.exit(I),z=Q===40?41:Q,G):P(Q)}function G(Q){return Q===z?(_.enter(I),_.consume(Q),_.exit(I),_.exit(O),R):(_.enter(L),V(Q))}function V(Q){return Q===z?(_.exit(L),G(z)):Q===null?P(Q):markdownLineEnding(Q)?(_.enter("lineEnding"),_.consume(Q),_.exit("lineEnding"),factorySpace(_,V,"linePrefix")):(_.enter("chunkString",{contentType:"string"}),Z(Q))}function Z(Q){return Q===z||Q===null||markdownLineEnding(Q)?(_.exit("chunkString"),V(Q)):(_.consume(Q),Q===92?Y:Z)}function Y(Q){return Q===z||Q===92?(_.consume(Q),Z):Z(Q)}}function factoryWhitespace(_,R){let P;return O;function O(I){return markdownLineEnding(I)?(_.enter("lineEnding"),_.consume(I),_.exit("lineEnding"),P=!0,O):markdownSpace(I)?factorySpace(_,O,P?"linePrefix":"lineSuffix")(I):R(I)}}const definition={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(_,R,P){const O=this;let I;return L;function L(J){return _.enter("definition"),z(J)}function z(J){return factoryLabel.call(O,_,F,P,"definitionLabel","definitionLabelMarker","definitionLabelString")(J)}function F(J){return I=normalizeIdentifier(O.sliceSerialize(O.events[O.events.length-1][1]).slice(1,-1)),J===58?(_.enter("definitionMarker"),_.consume(J),_.exit("definitionMarker"),G):P(J)}function G(J){return markdownLineEndingOrSpace(J)?factoryWhitespace(_,V)(J):V(J)}function V(J){return factoryDestination(_,Z,P,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(J)}function Z(J){return _.attempt(titleBefore,Y,Y)(J)}function Y(J){return markdownSpace(J)?factorySpace(_,Q,"whitespace")(J):Q(J)}function Q(J){return J===null||markdownLineEnding(J)?(_.exit("definition"),O.parser.defined.push(I),R(J)):P(J)}}function tokenizeTitleBefore(_,R,P){return O;function O(F){return markdownLineEndingOrSpace(F)?factoryWhitespace(_,I)(F):P(F)}function I(F){return factoryTitle(_,L,P,"definitionTitle","definitionTitleMarker","definitionTitleString")(F)}function L(F){return markdownSpace(F)?factorySpace(_,z,"whitespace")(F):z(F)}function z(F){return F===null||markdownLineEnding(F)?R(F):P(F)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(_,R,P){return O;function O(L){return _.enter("hardBreakEscape"),_.consume(L),I}function I(L){return markdownLineEnding(L)?(_.exit("hardBreakEscape"),R(L)):P(L)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(_,R){let P=_.length-2,O=3,I,L;return _[O][1].type==="whitespace"&&(O+=2),P-2>O&&_[P][1].type==="whitespace"&&(P-=2),_[P][1].type==="atxHeadingSequence"&&(O===P-1||P-4>O&&_[P-2][1].type==="whitespace")&&(P-=O+1===P?2:4),P>O&&(I={type:"atxHeadingText",start:_[O][1].start,end:_[P][1].end},L={type:"chunkText",start:_[O][1].start,end:_[P][1].end,contentType:"text"},splice(_,O,P-O+1,[["enter",I,R],["enter",L,R],["exit",L,R],["exit",I,R]])),_}function tokenizeHeadingAtx(_,R,P){let O=0;return I;function I(Z){return _.enter("atxHeading"),L(Z)}function L(Z){return _.enter("atxHeadingSequence"),z(Z)}function z(Z){return Z===35&&O++<6?(_.consume(Z),z):Z===null||markdownLineEndingOrSpace(Z)?(_.exit("atxHeadingSequence"),F(Z)):P(Z)}function F(Z){return Z===35?(_.enter("atxHeadingSequence"),G(Z)):Z===null||markdownLineEnding(Z)?(_.exit("atxHeading"),R(Z)):markdownSpace(Z)?factorySpace(_,F,"whitespace")(Z):(_.enter("atxHeadingText"),V(Z))}function G(Z){return Z===35?(_.consume(Z),G):(_.exit("atxHeadingSequence"),F(Z))}function V(Z){return Z===null||Z===35||markdownLineEndingOrSpace(Z)?(_.exit("atxHeadingText"),F(Z)):(_.consume(Z),V)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(_){let R=_.length;for(;R--&&!(_[R][0]==="enter"&&_[R][1].type==="htmlFlow"););return R>1&&_[R-2][1].type==="linePrefix"&&(_[R][1].start=_[R-2][1].start,_[R+1][1].start=_[R-2][1].start,_.splice(R-2,2)),_}function tokenizeHtmlFlow(_,R,P){const O=this;let I,L,z,F,G;return V;function V(xe){return Z(xe)}function Z(xe){return _.enter("htmlFlow"),_.enter("htmlFlowData"),_.consume(xe),Y}function Y(xe){return xe===33?(_.consume(xe),Q):xe===47?(_.consume(xe),L=!0,ne):xe===63?(_.consume(xe),I=3,O.interrupt?R:Se):asciiAlpha(xe)?(_.consume(xe),z=String.fromCharCode(xe),ie):P(xe)}function Q(xe){return xe===45?(_.consume(xe),I=2,J):xe===91?(_.consume(xe),I=5,F=0,te):asciiAlpha(xe)?(_.consume(xe),I=4,O.interrupt?R:Se):P(xe)}function J(xe){return xe===45?(_.consume(xe),O.interrupt?R:Se):P(xe)}function te(xe){const ze="CDATA[";return xe===ze.charCodeAt(F++)?(_.consume(xe),F===ze.length?O.interrupt?R:we:te):P(xe)}function ne(xe){return asciiAlpha(xe)?(_.consume(xe),z=String.fromCharCode(xe),ie):P(xe)}function ie(xe){if(xe===null||xe===47||xe===62||markdownLineEndingOrSpace(xe)){const ze=xe===47,Ze=z.toLowerCase();return!ze&&!L&&htmlRawNames.includes(Ze)?(I=1,O.interrupt?R(xe):we(xe)):htmlBlockNames.includes(z.toLowerCase())?(I=6,ze?(_.consume(xe),se):O.interrupt?R(xe):we(xe)):(I=7,O.interrupt&&!O.parser.lazy[O.now().line]?P(xe):L?oe(xe):ce(xe))}return xe===45||asciiAlphanumeric(xe)?(_.consume(xe),z+=String.fromCharCode(xe),ie):P(xe)}function se(xe){return xe===62?(_.consume(xe),O.interrupt?R:we):P(xe)}function oe(xe){return markdownSpace(xe)?(_.consume(xe),oe):be(xe)}function ce(xe){return xe===47?(_.consume(xe),be):xe===58||xe===95||asciiAlpha(xe)?(_.consume(xe),ue):markdownSpace(xe)?(_.consume(xe),ce):be(xe)}function ue(xe){return xe===45||xe===46||xe===58||xe===95||asciiAlphanumeric(xe)?(_.consume(xe),ue):me(xe)}function me(xe){return xe===61?(_.consume(xe),he):markdownSpace(xe)?(_.consume(xe),me):ce(xe)}function he(xe){return xe===null||xe===60||xe===61||xe===62||xe===96?P(xe):xe===34||xe===39?(_.consume(xe),G=xe,fe):markdownSpace(xe)?(_.consume(xe),he):de(xe)}function fe(xe){return xe===G?(_.consume(xe),G=null,pe):xe===null||markdownLineEnding(xe)?P(xe):(_.consume(xe),fe)}function de(xe){return xe===null||xe===34||xe===39||xe===47||xe===60||xe===61||xe===62||xe===96||markdownLineEndingOrSpace(xe)?me(xe):(_.consume(xe),de)}function pe(xe){return xe===47||xe===62||markdownSpace(xe)?ce(xe):P(xe)}function be(xe){return xe===62?(_.consume(xe),ye):P(xe)}function ye(xe){return xe===null||markdownLineEnding(xe)?we(xe):markdownSpace(xe)?(_.consume(xe),ye):P(xe)}function we(xe){return xe===45&&I===2?(_.consume(xe),_e):xe===60&&I===1?(_.consume(xe),Re):xe===62&&I===4?(_.consume(xe),Ee):xe===63&&I===3?(_.consume(xe),Se):xe===93&&I===5?(_.consume(xe),$e):markdownLineEnding(xe)&&(I===6||I===7)?(_.exit("htmlFlowData"),_.check(blankLineBefore,ke,ve)(xe)):xe===null||markdownLineEnding(xe)?(_.exit("htmlFlowData"),ve(xe)):(_.consume(xe),we)}function ve(xe){return _.check(nonLazyContinuationStart,Ae,ke)(xe)}function Ae(xe){return _.enter("lineEnding"),_.consume(xe),_.exit("lineEnding"),Ce}function Ce(xe){return xe===null||markdownLineEnding(xe)?ve(xe):(_.enter("htmlFlowData"),we(xe))}function _e(xe){return xe===45?(_.consume(xe),Se):we(xe)}function Re(xe){return xe===47?(_.consume(xe),z="",Me):we(xe)}function Me(xe){if(xe===62){const ze=z.toLowerCase();return htmlRawNames.includes(ze)?(_.consume(xe),Ee):we(xe)}return asciiAlpha(xe)&&z.length<8?(_.consume(xe),z+=String.fromCharCode(xe),Me):we(xe)}function $e(xe){return xe===93?(_.consume(xe),Se):we(xe)}function Se(xe){return xe===62?(_.consume(xe),Ee):xe===45&&I===2?(_.consume(xe),Se):we(xe)}function Ee(xe){return xe===null||markdownLineEnding(xe)?(_.exit("htmlFlowData"),ke(xe)):(_.consume(xe),Ee)}function ke(xe){return _.exit("htmlFlow"),R(xe)}}function tokenizeNonLazyContinuationStart(_,R,P){const O=this;return I;function I(z){return markdownLineEnding(z)?(_.enter("lineEnding"),_.consume(z),_.exit("lineEnding"),L):P(z)}function L(z){return O.parser.lazy[O.now().line]?P(z):R(z)}}function tokenizeBlankLineBefore(_,R,P){return O;function O(I){return _.enter("lineEnding"),_.consume(I),_.exit("lineEnding"),_.attempt(blankLine,R,P)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(_,R,P){const O=this;let I,L,z;return F;function F(Se){return _.enter("htmlText"),_.enter("htmlTextData"),_.consume(Se),G}function G(Se){return Se===33?(_.consume(Se),V):Se===47?(_.consume(Se),me):Se===63?(_.consume(Se),ce):asciiAlpha(Se)?(_.consume(Se),de):P(Se)}function V(Se){return Se===45?(_.consume(Se),Z):Se===91?(_.consume(Se),L=0,te):asciiAlpha(Se)?(_.consume(Se),oe):P(Se)}function Z(Se){return Se===45?(_.consume(Se),J):P(Se)}function Y(Se){return Se===null?P(Se):Se===45?(_.consume(Se),Q):markdownLineEnding(Se)?(z=Y,Re(Se)):(_.consume(Se),Y)}function Q(Se){return Se===45?(_.consume(Se),J):Y(Se)}function J(Se){return Se===62?_e(Se):Se===45?Q(Se):Y(Se)}function te(Se){const Ee="CDATA[";return Se===Ee.charCodeAt(L++)?(_.consume(Se),L===Ee.length?ne:te):P(Se)}function ne(Se){return Se===null?P(Se):Se===93?(_.consume(Se),ie):markdownLineEnding(Se)?(z=ne,Re(Se)):(_.consume(Se),ne)}function ie(Se){return Se===93?(_.consume(Se),se):ne(Se)}function se(Se){return Se===62?_e(Se):Se===93?(_.consume(Se),se):ne(Se)}function oe(Se){return Se===null||Se===62?_e(Se):markdownLineEnding(Se)?(z=oe,Re(Se)):(_.consume(Se),oe)}function ce(Se){return Se===null?P(Se):Se===63?(_.consume(Se),ue):markdownLineEnding(Se)?(z=ce,Re(Se)):(_.consume(Se),ce)}function ue(Se){return Se===62?_e(Se):ce(Se)}function me(Se){return asciiAlpha(Se)?(_.consume(Se),he):P(Se)}function he(Se){return Se===45||asciiAlphanumeric(Se)?(_.consume(Se),he):fe(Se)}function fe(Se){return markdownLineEnding(Se)?(z=fe,Re(Se)):markdownSpace(Se)?(_.consume(Se),fe):_e(Se)}function de(Se){return Se===45||asciiAlphanumeric(Se)?(_.consume(Se),de):Se===47||Se===62||markdownLineEndingOrSpace(Se)?pe(Se):P(Se)}function pe(Se){return Se===47?(_.consume(Se),_e):Se===58||Se===95||asciiAlpha(Se)?(_.consume(Se),be):markdownLineEnding(Se)?(z=pe,Re(Se)):markdownSpace(Se)?(_.consume(Se),pe):_e(Se)}function be(Se){return Se===45||Se===46||Se===58||Se===95||asciiAlphanumeric(Se)?(_.consume(Se),be):ye(Se)}function ye(Se){return Se===61?(_.consume(Se),we):markdownLineEnding(Se)?(z=ye,Re(Se)):markdownSpace(Se)?(_.consume(Se),ye):pe(Se)}function we(Se){return Se===null||Se===60||Se===61||Se===62||Se===96?P(Se):Se===34||Se===39?(_.consume(Se),I=Se,ve):markdownLineEnding(Se)?(z=we,Re(Se)):markdownSpace(Se)?(_.consume(Se),we):(_.consume(Se),Ae)}function ve(Se){return Se===I?(_.consume(Se),I=void 0,Ce):Se===null?P(Se):markdownLineEnding(Se)?(z=ve,Re(Se)):(_.consume(Se),ve)}function Ae(Se){return Se===null||Se===34||Se===39||Se===60||Se===61||Se===96?P(Se):Se===47||Se===62||markdownLineEndingOrSpace(Se)?pe(Se):(_.consume(Se),Ae)}function Ce(Se){return Se===47||Se===62||markdownLineEndingOrSpace(Se)?pe(Se):P(Se)}function _e(Se){return Se===62?(_.consume(Se),_.exit("htmlTextData"),_.exit("htmlText"),R):P(Se)}function Re(Se){return _.exit("htmlTextData"),_.enter("lineEnding"),_.consume(Se),_.exit("lineEnding"),Me}function Me(Se){return markdownSpace(Se)?factorySpace(_,$e,"linePrefix",O.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Se):$e(Se)}function $e(Se){return _.enter("htmlTextData"),z(Se)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(_){let R=-1;const P=[];for(;++R<_.length;){const O=_[R][1];if(P.push(_[R]),O.type==="labelImage"||O.type==="labelLink"||O.type==="labelEnd"){const I=O.type==="labelImage"?4:2;O.type="data",R+=I}}return _.length!==P.length&&splice(_,0,_.length,P),_}function resolveToLabelEnd(_,R){let P=_.length,O=0,I,L,z,F;for(;P--;)if(I=_[P][1],L){if(I.type==="link"||I.type==="labelLink"&&I._inactive)break;_[P][0]==="enter"&&I.type==="labelLink"&&(I._inactive=!0)}else if(z){if(_[P][0]==="enter"&&(I.type==="labelImage"||I.type==="labelLink")&&!I._balanced&&(L=P,I.type!=="labelLink")){O=2;break}}else I.type==="labelEnd"&&(z=P);const G={type:_[L][1].type==="labelLink"?"link":"image",start:{..._[L][1].start},end:{..._[_.length-1][1].end}},V={type:"label",start:{..._[L][1].start},end:{..._[z][1].end}},Z={type:"labelText",start:{..._[L+O+2][1].end},end:{..._[z-2][1].start}};return F=[["enter",G,R],["enter",V,R]],F=push(F,_.slice(L+1,L+O+3)),F=push(F,[["enter",Z,R]]),F=push(F,resolveAll(R.parser.constructs.insideSpan.null,_.slice(L+O+4,z-3),R)),F=push(F,[["exit",Z,R],_[z-2],_[z-1],["exit",V,R]]),F=push(F,_.slice(z+1)),F=push(F,[["exit",G,R]]),splice(_,L,_.length,F),_}function tokenizeLabelEnd(_,R,P){const O=this;let I=O.events.length,L,z;for(;I--;)if((O.events[I][1].type==="labelImage"||O.events[I][1].type==="labelLink")&&!O.events[I][1]._balanced){L=O.events[I][1];break}return F;function F(Q){return L?L._inactive?Y(Q):(z=O.parser.defined.includes(normalizeIdentifier(O.sliceSerialize({start:L.end,end:O.now()}))),_.enter("labelEnd"),_.enter("labelMarker"),_.consume(Q),_.exit("labelMarker"),_.exit("labelEnd"),G):P(Q)}function G(Q){return Q===40?_.attempt(resourceConstruct,Z,z?Z:Y)(Q):Q===91?_.attempt(referenceFullConstruct,Z,z?V:Y)(Q):z?Z(Q):Y(Q)}function V(Q){return _.attempt(referenceCollapsedConstruct,Z,Y)(Q)}function Z(Q){return R(Q)}function Y(Q){return L._balanced=!0,P(Q)}}function tokenizeResource(_,R,P){return O;function O(Y){return _.enter("resource"),_.enter("resourceMarker"),_.consume(Y),_.exit("resourceMarker"),I}function I(Y){return markdownLineEndingOrSpace(Y)?factoryWhitespace(_,L)(Y):L(Y)}function L(Y){return Y===41?Z(Y):factoryDestination(_,z,F,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(Y)}function z(Y){return markdownLineEndingOrSpace(Y)?factoryWhitespace(_,G)(Y):Z(Y)}function F(Y){return P(Y)}function G(Y){return Y===34||Y===39||Y===40?factoryTitle(_,V,P,"resourceTitle","resourceTitleMarker","resourceTitleString")(Y):Z(Y)}function V(Y){return markdownLineEndingOrSpace(Y)?factoryWhitespace(_,Z)(Y):Z(Y)}function Z(Y){return Y===41?(_.enter("resourceMarker"),_.consume(Y),_.exit("resourceMarker"),_.exit("resource"),R):P(Y)}}function tokenizeReferenceFull(_,R,P){const O=this;return I;function I(F){return factoryLabel.call(O,_,L,z,"reference","referenceMarker","referenceString")(F)}function L(F){return O.parser.defined.includes(normalizeIdentifier(O.sliceSerialize(O.events[O.events.length-1][1]).slice(1,-1)))?R(F):P(F)}function z(F){return P(F)}}function tokenizeReferenceCollapsed(_,R,P){return O;function O(L){return _.enter("reference"),_.enter("referenceMarker"),_.consume(L),_.exit("referenceMarker"),I}function I(L){return L===93?(_.enter("referenceMarker"),_.consume(L),_.exit("referenceMarker"),_.exit("reference"),R):P(L)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(_,R,P){const O=this;return I;function I(F){return _.enter("labelImage"),_.enter("labelImageMarker"),_.consume(F),_.exit("labelImageMarker"),L}function L(F){return F===91?(_.enter("labelMarker"),_.consume(F),_.exit("labelMarker"),_.exit("labelImage"),z):P(F)}function z(F){return F===94&&"_hiddenFootnoteSupport"in O.parser.constructs?P(F):R(F)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(_,R,P){const O=this;return I;function I(z){return _.enter("labelLink"),_.enter("labelMarker"),_.consume(z),_.exit("labelMarker"),_.exit("labelLink"),L}function L(z){return z===94&&"_hiddenFootnoteSupport"in O.parser.constructs?P(z):R(z)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(_,R){return P;function P(O){return _.enter("lineEnding"),_.consume(O),_.exit("lineEnding"),factorySpace(_,R,"linePrefix")}}const thematicBreak$1={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(_,R,P){let O=0,I;return L;function L(V){return _.enter("thematicBreak"),z(V)}function z(V){return I=V,F(V)}function F(V){return V===I?(_.enter("thematicBreakSequence"),G(V)):O>=3&&(V===null||markdownLineEnding(V))?(_.exit("thematicBreak"),R(V)):P(V)}function G(V){return V===I?(_.consume(V),O++,G):(_.exit("thematicBreakSequence"),markdownSpace(V)?factorySpace(_,F,"whitespace")(V):F(V))}}const list$1={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent};function tokenizeListStart(_,R,P){const O=this,I=O.events[O.events.length-1];let L=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,z=0;return F;function F(J){const te=O.containerState.type||(J===42||J===43||J===45?"listUnordered":"listOrdered");if(te==="listUnordered"?!O.containerState.marker||J===O.containerState.marker:asciiDigit(J)){if(O.containerState.type||(O.containerState.type=te,_.enter(te,{_container:!0})),te==="listUnordered")return _.enter("listItemPrefix"),J===42||J===45?_.check(thematicBreak$1,P,V)(J):V(J);if(!O.interrupt||J===49)return _.enter("listItemPrefix"),_.enter("listItemValue"),G(J)}return P(J)}function G(J){return asciiDigit(J)&&++z<10?(_.consume(J),G):(!O.interrupt||z<2)&&(O.containerState.marker?J===O.containerState.marker:J===41||J===46)?(_.exit("listItemValue"),V(J)):P(J)}function V(J){return _.enter("listItemMarker"),_.consume(J),_.exit("listItemMarker"),O.containerState.marker=O.containerState.marker||J,_.check(blankLine,O.interrupt?P:Z,_.attempt(listItemPrefixWhitespaceConstruct,Q,Y))}function Z(J){return O.containerState.initialBlankLine=!0,L++,Q(J)}function Y(J){return markdownSpace(J)?(_.enter("listItemPrefixWhitespace"),_.consume(J),_.exit("listItemPrefixWhitespace"),Q):P(J)}function Q(J){return O.containerState.size=L+O.sliceSerialize(_.exit("listItemPrefix"),!0).length,R(J)}}function tokenizeListContinuation(_,R,P){const O=this;return O.containerState._closeFlow=void 0,_.check(blankLine,I,L);function I(F){return O.containerState.furtherBlankLines=O.containerState.furtherBlankLines||O.containerState.initialBlankLine,factorySpace(_,R,"listItemIndent",O.containerState.size+1)(F)}function L(F){return O.containerState.furtherBlankLines||!markdownSpace(F)?(O.containerState.furtherBlankLines=void 0,O.containerState.initialBlankLine=void 0,z(F)):(O.containerState.furtherBlankLines=void 0,O.containerState.initialBlankLine=void 0,_.attempt(indentConstruct,R,z)(F))}function z(F){return O.containerState._closeFlow=!0,O.interrupt=void 0,factorySpace(_,_.attempt(list$1,R,P),"linePrefix",O.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F)}}function tokenizeIndent(_,R,P){const O=this;return factorySpace(_,I,"listItemIndent",O.containerState.size+1);function I(L){const z=O.events[O.events.length-1];return z&&z[1].type==="listItemIndent"&&z[2].sliceSerialize(z[1],!0).length===O.containerState.size?R(L):P(L)}}function tokenizeListEnd(_){_.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(_,R,P){const O=this;return factorySpace(_,I,"listItemPrefixWhitespace",O.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function I(L){const z=O.events[O.events.length-1];return!markdownSpace(L)&&z&&z[1].type==="listItemPrefixWhitespace"?R(L):P(L)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(_,R){let P=_.length,O,I,L;for(;P--;)if(_[P][0]==="enter"){if(_[P][1].type==="content"){O=P;break}_[P][1].type==="paragraph"&&(I=P)}else _[P][1].type==="content"&&_.splice(P,1),!L&&_[P][1].type==="definition"&&(L=P);const z={type:"setextHeading",start:{..._[O][1].start},end:{..._[_.length-1][1].end}};return _[I][1].type="setextHeadingText",L?(_.splice(I,0,["enter",z,R]),_.splice(L+1,0,["exit",_[O][1],R]),_[O][1].end={..._[L][1].end}):_[O][1]=z,_.push(["exit",z,R]),_}function tokenizeSetextUnderline(_,R,P){const O=this;let I;return L;function L(V){let Z=O.events.length,Y;for(;Z--;)if(O.events[Z][1].type!=="lineEnding"&&O.events[Z][1].type!=="linePrefix"&&O.events[Z][1].type!=="content"){Y=O.events[Z][1].type==="paragraph";break}return!O.parser.lazy[O.now().line]&&(O.interrupt||Y)?(_.enter("setextHeadingLine"),I=V,z(V)):P(V)}function z(V){return _.enter("setextHeadingLineSequence"),F(V)}function F(V){return V===I?(_.consume(V),F):(_.exit("setextHeadingLineSequence"),markdownSpace(V)?factorySpace(_,G,"lineSuffix")(V):G(V))}function G(V){return V===null||markdownLineEnding(V)?(_.exit("setextHeadingLine"),R(V)):P(V)}}const flow$1={tokenize:initializeFlow};function initializeFlow(_){const R=this,P=_.attempt(blankLine,O,_.attempt(this.parser.constructs.flowInitial,I,factorySpace(_,_.attempt(this.parser.constructs.flow,I,_.attempt(content,I)),"linePrefix")));return P;function O(L){if(L===null){_.consume(L);return}return _.enter("lineEndingBlank"),_.consume(L),_.exit("lineEndingBlank"),R.currentConstruct=void 0,P}function I(L){if(L===null){_.consume(L);return}return _.enter("lineEnding"),_.consume(L),_.exit("lineEnding"),R.currentConstruct=void 0,P}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$5=initializeFactory("text");function initializeFactory(_){return{resolveAll:createResolver(_==="text"?resolveAllLineSuffixes:void 0),tokenize:R};function R(P){const O=this,I=this.parser.constructs[_],L=P.attempt(I,z,F);return z;function z(Z){return V(Z)?L(Z):F(Z)}function F(Z){if(Z===null){P.consume(Z);return}return P.enter("data"),P.consume(Z),G}function G(Z){return V(Z)?(P.exit("data"),L(Z)):(P.consume(Z),G)}function V(Z){if(Z===null)return!0;const Y=I[Z];let Q=-1;if(Y)for(;++Q<Y.length;){const J=Y[Q];if(!J.previous||J.previous.call(O,O.previous))return!0}return!1}}}function createResolver(_){return R;function R(P,O){let I=-1,L;for(;++I<=P.length;)L===void 0?P[I]&&P[I][1].type==="data"&&(L=I,I++):(!P[I]||P[I][1].type!=="data")&&(I!==L+2&&(P[L][1].end=P[I-1][1].end,P.splice(L+2,I-L-2),I=L+2),L=void 0);return _?_(P,O):P}}function resolveAllLineSuffixes(_,R){let P=0;for(;++P<=_.length;)if((P===_.length||_[P][1].type==="lineEnding")&&_[P-1][1].type==="data"){const O=_[P-1][1],I=R.sliceStream(O);let L=I.length,z=-1,F=0,G;for(;L--;){const V=I[L];if(typeof V=="string"){for(z=V.length;V.charCodeAt(z-1)===32;)F++,z--;if(z)break;z=-1}else if(V===-2)G=!0,F++;else if(V!==-1){L++;break}}if(R._contentTypeTextTrailing&&P===_.length&&(F=0),F){const V={type:P===_.length||G||F<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:L?z:O.start._bufferIndex+z,_index:O.start._index+L,line:O.end.line,column:O.end.column-F,offset:O.end.offset-F},end:{...O.end}};O.end={...V.start},O.start.offset===O.end.offset?Object.assign(O,V):(_.splice(P,0,["enter",V,R],["exit",V,R]),P+=2)}P++}return _}const document$1={42:list$1,43:list$1,45:list$1,48:list$1,49:list$1,50:list$1,51:list$1,52:list$1,53:list$1,54:list$1,55:list$1,56:list$1,57:list$1,62:blockQuote},contentInitial={91:definition},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$1,45:[setextUnderline,thematicBreak$1],60:htmlFlow,61:setextUnderline,95:thematicBreak$1,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$4={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$4},Symbol.toStringTag,{value:"Module"}));function createTokenizer(_,R,P){let O={_bufferIndex:-1,_index:0,line:P&&P.line||1,column:P&&P.column||1,offset:P&&P.offset||0};const I={},L=[];let z=[],F=[];const G={attempt:fe(me),check:fe(he),consume:oe,enter:ce,exit:ue,interrupt:fe(he,{interrupt:!0})},V={code:null,containerState:{},defineSkip:ne,events:[],now:te,parser:_,previous:null,sliceSerialize:Q,sliceStream:J,write:Y};let Z=R.tokenize.call(V,G);return R.resolveAll&&L.push(R),V;function Y(ye){return z=push(z,ye),ie(),z[z.length-1]!==null?[]:(de(R,0),V.events=resolveAll(L,V.events,V),V.events)}function Q(ye,we){return serializeChunks(J(ye),we)}function J(ye){return sliceChunks(z,ye)}function te(){const{_bufferIndex:ye,_index:we,line:ve,column:Ae,offset:Ce}=O;return{_bufferIndex:ye,_index:we,line:ve,column:Ae,offset:Ce}}function ne(ye){I[ye.line]=ye.column,be()}function ie(){let ye;for(;O._index<z.length;){const we=z[O._index];if(typeof we=="string")for(ye=O._index,O._bufferIndex<0&&(O._bufferIndex=0);O._index===ye&&O._bufferIndex<we.length;)se(we.charCodeAt(O._bufferIndex));else se(we)}}function se(ye){Z=Z(ye)}function oe(ye){markdownLineEnding(ye)?(O.line++,O.column=1,O.offset+=ye===-3?2:1,be()):ye!==-1&&(O.column++,O.offset++),O._bufferIndex<0?O._index++:(O._bufferIndex++,O._bufferIndex===z[O._index].length&&(O._bufferIndex=-1,O._index++)),V.previous=ye}function ce(ye,we){const ve=we||{};return ve.type=ye,ve.start=te(),V.events.push(["enter",ve,V]),F.push(ve),ve}function ue(ye){const we=F.pop();return we.end=te(),V.events.push(["exit",we,V]),we}function me(ye,we){de(ye,we.from)}function he(ye,we){we.restore()}function fe(ye,we){return ve;function ve(Ae,Ce,_e){let Re,Me,$e,Se;return Array.isArray(Ae)?ke(Ae):"tokenize"in Ae?ke([Ae]):Ee(Ae);function Ee(Ye){return Ie;function Ie(Ge){const Oe=Ge!==null&&Ye[Ge],Ve=Ge!==null&&Ye.null,Ue=[...Array.isArray(Oe)?Oe:Oe?[Oe]:[],...Array.isArray(Ve)?Ve:Ve?[Ve]:[]];return ke(Ue)(Ge)}}function ke(Ye){return Re=Ye,Me=0,Ye.length===0?_e:xe(Ye[Me])}function xe(Ye){return Ie;function Ie(Ge){return Se=pe(),$e=Ye,Ye.partial||(V.currentConstruct=Ye),Ye.name&&V.parser.constructs.disable.null.includes(Ye.name)?Ze():Ye.tokenize.call(we?Object.assign(Object.create(V),we):V,G,ze,Ze)(Ge)}}function ze(Ye){return ye($e,Se),Ce}function Ze(Ye){return Se.restore(),++Me<Re.length?xe(Re[Me]):_e}}}function de(ye,we){ye.resolveAll&&!L.includes(ye)&&L.push(ye),ye.resolve&&splice(V.events,we,V.events.length-we,ye.resolve(V.events.slice(we),V)),ye.resolveTo&&(V.events=ye.resolveTo(V.events,V))}function pe(){const ye=te(),we=V.previous,ve=V.currentConstruct,Ae=V.events.length,Ce=Array.from(F);return{from:Ae,restore:_e};function _e(){O=ye,V.previous=we,V.currentConstruct=ve,V.events.length=Ae,F=Ce,be()}}function be(){O.line in I&&O.column<2&&(O.column=I[O.line],O.offset+=I[O.line]-1)}}function sliceChunks(_,R){const P=R.start._index,O=R.start._bufferIndex,I=R.end._index,L=R.end._bufferIndex;let z;if(P===I)z=[_[P].slice(O,L)];else{if(z=_.slice(P,I),O>-1){const F=z[0];typeof F=="string"?z[0]=F.slice(O):z.shift()}L>0&&z.push(_[I].slice(0,L))}return z}function serializeChunks(_,R){let P=-1;const O=[];let I;for(;++P<_.length;){const L=_[P];let z;if(typeof L=="string")z=L;else switch(L){case-5:{z="\r";break}case-4:{z=`
`;break}case-3:{z=`\r
`;break}case-2:{z=R?" ":"	";break}case-1:{if(!R&&I)continue;z=" ";break}default:z=String.fromCharCode(L)}I=L===-2,O.push(z)}return O.join("")}function parse(_){const O={constructs:combineExtensions([defaultConstructs,...(_||{}).extensions||[]]),content:I(content$1),defined:[],document:I(document$2),flow:I(flow$1),lazy:{},string:I(string$1),text:I(text$5)};return O;function I(L){return z;function z(F){return createTokenizer(O,L,F)}}}function postprocess(_){for(;!subtokenize(_););return _}const search$1=/[\0\t\n\r]/g;function preprocess(){let _=1,R="",P=!0,O;return I;function I(L,z,F){const G=[];let V,Z,Y,Q,J;for(L=R+(typeof L=="string"?L.toString():new TextDecoder(z||void 0).decode(L)),Y=0,R="",P&&(L.charCodeAt(0)===65279&&Y++,P=void 0);Y<L.length;){if(search$1.lastIndex=Y,V=search$1.exec(L),Q=V&&V.index!==void 0?V.index:L.length,J=L.charCodeAt(Q),!V){R=L.slice(Y);break}if(J===10&&Y===Q&&O)G.push(-3),O=void 0;else switch(O&&(G.push(-5),O=void 0),Y<Q&&(G.push(L.slice(Y,Q)),_+=Q-Y),J){case 0:{G.push(65533),_++;break}case 9:{for(Z=Math.ceil(_/4)*4,G.push(-2);_++<Z;)G.push(-1);break}case 10:{G.push(-4),_=1;break}default:O=!0,_=1}Y=Q+1}return F&&(O&&G.push(-5),R&&G.push(R),G.push(null)),G}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(_){return _.replace(characterEscapeOrReference,decode)}function decode(_,R,P){if(R)return R;if(P.charCodeAt(0)===35){const I=P.charCodeAt(1),L=I===120||I===88;return decodeNumericCharacterReference(P.slice(L?2:1),L?16:10)}return decodeNamedCharacterReference(P)||_}const own$2={}.hasOwnProperty;function fromMarkdown(_,R,P){return typeof R!="string"&&(P=R,R=void 0),compiler(P)(postprocess(parse(P).document().write(preprocess()(_,R,!0))))}function compiler(_){const R={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:L(et),autolinkProtocol:pe,autolinkEmail:pe,atxHeading:L(rt),blockQuote:L(Ve),characterEscape:pe,characterReference:pe,codeFenced:L(Ue),codeFencedFenceInfo:z,codeFencedFenceMeta:z,codeIndented:L(Ue,z),codeText:L(De,z),codeTextData:pe,data:pe,codeFlowValue:pe,definition:L(nt),definitionDestinationString:z,definitionLabelString:z,definitionTitleString:z,emphasis:L(Je),hardBreakEscape:L(at),hardBreakTrailing:L(at),htmlFlow:L(dt,z),htmlFlowData:pe,htmlText:L(dt,z),htmlTextData:pe,image:L(ot),label:z,link:L(et),listItem:L(At),listItemValue:Q,listOrdered:L(Et,Y),listUnordered:L(Et),paragraph:L(Ct),reference:xe,referenceString:z,resourceDestinationString:z,resourceTitleString:z,setextHeading:L(rt),strong:L(Gt),thematicBreak:L(bt)},exit:{atxHeading:G(),atxHeadingSequence:me,autolink:G(),autolinkEmail:Oe,autolinkProtocol:Ge,blockQuote:G(),characterEscapeValue:be,characterReferenceMarkerHexadecimal:Ze,characterReferenceMarkerNumeric:Ze,characterReferenceValue:Ye,characterReference:Ie,codeFenced:G(ie),codeFencedFence:ne,codeFencedFenceInfo:J,codeFencedFenceMeta:te,codeFlowValue:be,codeIndented:G(se),codeText:G(Ce),codeTextData:be,data:be,definition:G(),definitionDestinationString:ue,definitionLabelString:oe,definitionTitleString:ce,emphasis:G(),hardBreakEscape:G(we),hardBreakTrailing:G(we),htmlFlow:G(ve),htmlFlowData:be,htmlText:G(Ae),htmlTextData:be,image:G(Re),label:$e,labelText:Me,lineEnding:ye,link:G(_e),listItem:G(),listOrdered:G(),listUnordered:G(),paragraph:G(),referenceString:ze,resourceDestinationString:Se,resourceTitleString:Ee,resource:ke,setextHeading:G(de),setextHeadingLineSequence:fe,setextHeadingText:he,strong:G(),thematicBreak:G()}};configure(R,(_||{}).mdastExtensions||[]);const P={};return O;function O(Fe){let Ke={type:"root",children:[]};const tt={stack:[Ke],tokenStack:[],config:R,enter:F,exit:V,buffer:z,resume:Z,data:P},lt=[];let mt=-1;for(;++mt<Fe.length;)if(Fe[mt][1].type==="listOrdered"||Fe[mt][1].type==="listUnordered")if(Fe[mt][0]==="enter")lt.push(mt);else{const Nt=lt.pop();mt=I(Fe,Nt,mt)}for(mt=-1;++mt<Fe.length;){const Nt=R[Fe[mt][0]];own$2.call(Nt,Fe[mt][1].type)&&Nt[Fe[mt][1].type].call(Object.assign({sliceSerialize:Fe[mt][2].sliceSerialize},tt),Fe[mt][1])}if(tt.tokenStack.length>0){const Nt=tt.tokenStack[tt.tokenStack.length-1];(Nt[1]||defaultOnError).call(tt,void 0,Nt[0])}for(Ke.position={start:point(Fe.length>0?Fe[0][1].start:{line:1,column:1,offset:0}),end:point(Fe.length>0?Fe[Fe.length-2][1].end:{line:1,column:1,offset:0})},mt=-1;++mt<R.transforms.length;)Ke=R.transforms[mt](Ke)||Ke;return Ke}function I(Fe,Ke,tt){let lt=Ke-1,mt=-1,Nt=!1,jt,kt,xt,Ft;for(;++lt<=tt;){const Pt=Fe[lt];switch(Pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Pt[0]==="enter"?mt++:mt--,Ft=void 0;break}case"lineEndingBlank":{Pt[0]==="enter"&&(jt&&!Ft&&!mt&&!xt&&(xt=lt),Ft=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ft=void 0}if(!mt&&Pt[0]==="enter"&&Pt[1].type==="listItemPrefix"||mt===-1&&Pt[0]==="exit"&&(Pt[1].type==="listUnordered"||Pt[1].type==="listOrdered")){if(jt){let hr=lt;for(kt=void 0;hr--;){const Dn=Fe[hr];if(Dn[1].type==="lineEnding"||Dn[1].type==="lineEndingBlank"){if(Dn[0]==="exit")continue;kt&&(Fe[kt][1].type="lineEndingBlank",Nt=!0),Dn[1].type="lineEnding",kt=hr}else if(!(Dn[1].type==="linePrefix"||Dn[1].type==="blockQuotePrefix"||Dn[1].type==="blockQuotePrefixWhitespace"||Dn[1].type==="blockQuoteMarker"||Dn[1].type==="listItemIndent"))break}xt&&(!kt||xt<kt)&&(jt._spread=!0),jt.end=Object.assign({},kt?Fe[kt][1].start:Pt[1].end),Fe.splice(kt||lt,0,["exit",jt,Pt[2]]),lt++,tt++}if(Pt[1].type==="listItemPrefix"){const hr={type:"listItem",_spread:!1,start:Object.assign({},Pt[1].start),end:void 0};jt=hr,Fe.splice(lt,0,["enter",hr,Pt[2]]),lt++,tt++,xt=void 0,Ft=!0}}}return Fe[Ke][1]._spread=Nt,tt}function L(Fe,Ke){return tt;function tt(lt){F.call(this,Fe(lt),lt),Ke&&Ke.call(this,lt)}}function z(){this.stack.push({type:"fragment",children:[]})}function F(Fe,Ke,tt){this.stack[this.stack.length-1].children.push(Fe),this.stack.push(Fe),this.tokenStack.push([Ke,tt||void 0]),Fe.position={start:point(Ke.start),end:void 0}}function G(Fe){return Ke;function Ke(tt){Fe&&Fe.call(this,tt),V.call(this,tt)}}function V(Fe,Ke){const tt=this.stack.pop(),lt=this.tokenStack.pop();if(lt)lt[0].type!==Fe.type&&(Ke?Ke.call(this,Fe,lt[0]):(lt[1]||defaultOnError).call(this,Fe,lt[0]));else throw new Error("Cannot close `"+Fe.type+"` ("+stringifyPosition({start:Fe.start,end:Fe.end})+"): its not open");tt.position.end=point(Fe.end)}function Z(){return toString$1(this.stack.pop())}function Y(){this.data.expectingFirstListItemValue=!0}function Q(Fe){if(this.data.expectingFirstListItemValue){const Ke=this.stack[this.stack.length-2];Ke.start=Number.parseInt(this.sliceSerialize(Fe),10),this.data.expectingFirstListItemValue=void 0}}function J(){const Fe=this.resume(),Ke=this.stack[this.stack.length-1];Ke.lang=Fe}function te(){const Fe=this.resume(),Ke=this.stack[this.stack.length-1];Ke.meta=Fe}function ne(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function ie(){const Fe=this.resume(),Ke=this.stack[this.stack.length-1];Ke.value=Fe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function se(){const Fe=this.resume(),Ke=this.stack[this.stack.length-1];Ke.value=Fe.replace(/(\r?\n|\r)$/g,"")}function oe(Fe){const Ke=this.resume(),tt=this.stack[this.stack.length-1];tt.label=Ke,tt.identifier=normalizeIdentifier(this.sliceSerialize(Fe)).toLowerCase()}function ce(){const Fe=this.resume(),Ke=this.stack[this.stack.length-1];Ke.title=Fe}function ue(){const Fe=this.resume(),Ke=this.stack[this.stack.length-1];Ke.url=Fe}function me(Fe){const Ke=this.stack[this.stack.length-1];if(!Ke.depth){const tt=this.sliceSerialize(Fe).length;Ke.depth=tt}}function he(){this.data.setextHeadingSlurpLineEnding=!0}function fe(Fe){const Ke=this.stack[this.stack.length-1];Ke.depth=this.sliceSerialize(Fe).codePointAt(0)===61?1:2}function de(){this.data.setextHeadingSlurpLineEnding=void 0}function pe(Fe){const tt=this.stack[this.stack.length-1].children;let lt=tt[tt.length-1];(!lt||lt.type!=="text")&&(lt=pt(),lt.position={start:point(Fe.start),end:void 0},tt.push(lt)),this.stack.push(lt)}function be(Fe){const Ke=this.stack.pop();Ke.value+=this.sliceSerialize(Fe),Ke.position.end=point(Fe.end)}function ye(Fe){const Ke=this.stack[this.stack.length-1];if(this.data.atHardBreak){const tt=Ke.children[Ke.children.length-1];tt.position.end=point(Fe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&R.canContainEols.includes(Ke.type)&&(pe.call(this,Fe),be.call(this,Fe))}function we(){this.data.atHardBreak=!0}function ve(){const Fe=this.resume(),Ke=this.stack[this.stack.length-1];Ke.value=Fe}function Ae(){const Fe=this.resume(),Ke=this.stack[this.stack.length-1];Ke.value=Fe}function Ce(){const Fe=this.resume(),Ke=this.stack[this.stack.length-1];Ke.value=Fe}function _e(){const Fe=this.stack[this.stack.length-1];if(this.data.inReference){const Ke=this.data.referenceType||"shortcut";Fe.type+="Reference",Fe.referenceType=Ke,delete Fe.url,delete Fe.title}else delete Fe.identifier,delete Fe.label;this.data.referenceType=void 0}function Re(){const Fe=this.stack[this.stack.length-1];if(this.data.inReference){const Ke=this.data.referenceType||"shortcut";Fe.type+="Reference",Fe.referenceType=Ke,delete Fe.url,delete Fe.title}else delete Fe.identifier,delete Fe.label;this.data.referenceType=void 0}function Me(Fe){const Ke=this.sliceSerialize(Fe),tt=this.stack[this.stack.length-2];tt.label=decodeString(Ke),tt.identifier=normalizeIdentifier(Ke).toLowerCase()}function $e(){const Fe=this.stack[this.stack.length-1],Ke=this.resume(),tt=this.stack[this.stack.length-1];if(this.data.inReference=!0,tt.type==="link"){const lt=Fe.children;tt.children=lt}else tt.alt=Ke}function Se(){const Fe=this.resume(),Ke=this.stack[this.stack.length-1];Ke.url=Fe}function Ee(){const Fe=this.resume(),Ke=this.stack[this.stack.length-1];Ke.title=Fe}function ke(){this.data.inReference=void 0}function xe(){this.data.referenceType="collapsed"}function ze(Fe){const Ke=this.resume(),tt=this.stack[this.stack.length-1];tt.label=Ke,tt.identifier=normalizeIdentifier(this.sliceSerialize(Fe)).toLowerCase(),this.data.referenceType="full"}function Ze(Fe){this.data.characterReferenceType=Fe.type}function Ye(Fe){const Ke=this.sliceSerialize(Fe),tt=this.data.characterReferenceType;let lt;tt?(lt=decodeNumericCharacterReference(Ke,tt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):lt=decodeNamedCharacterReference(Ke);const mt=this.stack[this.stack.length-1];mt.value+=lt}function Ie(Fe){const Ke=this.stack.pop();Ke.position.end=point(Fe.end)}function Ge(Fe){be.call(this,Fe);const Ke=this.stack[this.stack.length-1];Ke.url=this.sliceSerialize(Fe)}function Oe(Fe){be.call(this,Fe);const Ke=this.stack[this.stack.length-1];Ke.url="mailto:"+this.sliceSerialize(Fe)}function Ve(){return{type:"blockquote",children:[]}}function Ue(){return{type:"code",lang:null,meta:null,value:""}}function De(){return{type:"inlineCode",value:""}}function nt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Je(){return{type:"emphasis",children:[]}}function rt(){return{type:"heading",depth:0,children:[]}}function at(){return{type:"break"}}function dt(){return{type:"html",value:""}}function ot(){return{type:"image",title:null,url:"",alt:null}}function et(){return{type:"link",title:null,url:"",children:[]}}function Et(Fe){return{type:"list",ordered:Fe.type==="listOrdered",start:null,spread:Fe._spread,children:[]}}function At(Fe){return{type:"listItem",spread:Fe._spread,checked:null,children:[]}}function Ct(){return{type:"paragraph",children:[]}}function Gt(){return{type:"strong",children:[]}}function pt(){return{type:"text",value:""}}function bt(){return{type:"thematicBreak"}}}function point(_){return{line:_.line,column:_.column,offset:_.offset}}function configure(_,R){let P=-1;for(;++P<R.length;){const O=R[P];Array.isArray(O)?configure(_,O):extension(_,O)}}function extension(_,R){let P;for(P in R)if(own$2.call(R,P))switch(P){case"canContainEols":{const O=R[P];O&&_[P].push(...O);break}case"transforms":{const O=R[P];O&&_[P].push(...O);break}case"enter":case"exit":{const O=R[P];O&&Object.assign(_[P],O);break}}}function defaultOnError(_,R){throw _?new Error("Cannot close `"+_.type+"` ("+stringifyPosition({start:_.start,end:_.end})+"): a different token (`"+R.type+"`, "+stringifyPosition({start:R.start,end:R.end})+") is open"):new Error("Cannot close document, a token (`"+R.type+"`, "+stringifyPosition({start:R.start,end:R.end})+") is still open")}function remarkParse(_){const R=this;R.parser=P;function P(O){return fromMarkdown(O,{...R.data("settings"),..._,extensions:R.data("micromarkExtensions")||[],mdastExtensions:R.data("fromMarkdownExtensions")||[]})}}function blockquote(_,R){const P={type:"element",tagName:"blockquote",properties:{},children:_.wrap(_.all(R),!0)};return _.patch(R,P),_.applyData(R,P)}function hardBreak(_,R){const P={type:"element",tagName:"br",properties:{},children:[]};return _.patch(R,P),[_.applyData(R,P),{type:"text",value:`
`}]}function code(_,R){const P=R.value?R.value+`
`:"",O={},I=R.lang?R.lang.split(/\s+/):[];I.length>0&&(O.className=["language-"+I[0]]);let L={type:"element",tagName:"code",properties:O,children:[{type:"text",value:P}]};return R.meta&&(L.data={meta:R.meta}),_.patch(R,L),L=_.applyData(R,L),L={type:"element",tagName:"pre",properties:{},children:[L]},_.patch(R,L),L}function strikethrough(_,R){const P={type:"element",tagName:"del",properties:{},children:_.all(R)};return _.patch(R,P),_.applyData(R,P)}function emphasis(_,R){const P={type:"element",tagName:"em",properties:{},children:_.all(R)};return _.patch(R,P),_.applyData(R,P)}function footnoteReference(_,R){const P=typeof _.options.clobberPrefix=="string"?_.options.clobberPrefix:"user-content-",O=String(R.identifier).toUpperCase(),I=normalizeUri(O.toLowerCase()),L=_.footnoteOrder.indexOf(O);let z,F=_.footnoteCounts.get(O);F===void 0?(F=0,_.footnoteOrder.push(O),z=_.footnoteOrder.length):z=L+1,F+=1,_.footnoteCounts.set(O,F);const G={type:"element",tagName:"a",properties:{href:"#"+P+"fn-"+I,id:P+"fnref-"+I+(F>1?"-"+F:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(z)}]};_.patch(R,G);const V={type:"element",tagName:"sup",properties:{},children:[G]};return _.patch(R,V),_.applyData(R,V)}function heading(_,R){const P={type:"element",tagName:"h"+R.depth,properties:{},children:_.all(R)};return _.patch(R,P),_.applyData(R,P)}function html(_,R){if(_.options.allowDangerousHtml){const P={type:"raw",value:R.value};return _.patch(R,P),_.applyData(R,P)}}function revert(_,R){const P=R.referenceType;let O="]";if(P==="collapsed"?O+="[]":P==="full"&&(O+="["+(R.label||R.identifier)+"]"),R.type==="imageReference")return[{type:"text",value:"!["+R.alt+O}];const I=_.all(R),L=I[0];L&&L.type==="text"?L.value="["+L.value:I.unshift({type:"text",value:"["});const z=I[I.length-1];return z&&z.type==="text"?z.value+=O:I.push({type:"text",value:O}),I}function imageReference(_,R){const P=String(R.identifier).toUpperCase(),O=_.definitionById.get(P);if(!O)return revert(_,R);const I={src:normalizeUri(O.url||""),alt:R.alt};O.title!==null&&O.title!==void 0&&(I.title=O.title);const L={type:"element",tagName:"img",properties:I,children:[]};return _.patch(R,L),_.applyData(R,L)}function image(_,R){const P={src:normalizeUri(R.url)};R.alt!==null&&R.alt!==void 0&&(P.alt=R.alt),R.title!==null&&R.title!==void 0&&(P.title=R.title);const O={type:"element",tagName:"img",properties:P,children:[]};return _.patch(R,O),_.applyData(R,O)}function inlineCode(_,R){const P={type:"text",value:R.value.replace(/\r?\n|\r/g," ")};_.patch(R,P);const O={type:"element",tagName:"code",properties:{},children:[P]};return _.patch(R,O),_.applyData(R,O)}function linkReference(_,R){const P=String(R.identifier).toUpperCase(),O=_.definitionById.get(P);if(!O)return revert(_,R);const I={href:normalizeUri(O.url||"")};O.title!==null&&O.title!==void 0&&(I.title=O.title);const L={type:"element",tagName:"a",properties:I,children:_.all(R)};return _.patch(R,L),_.applyData(R,L)}function link(_,R){const P={href:normalizeUri(R.url)};R.title!==null&&R.title!==void 0&&(P.title=R.title);const O={type:"element",tagName:"a",properties:P,children:_.all(R)};return _.patch(R,O),_.applyData(R,O)}function listItem(_,R,P){const O=_.all(R),I=P?listLoose(P):listItemLoose(R),L={},z=[];if(typeof R.checked=="boolean"){const Z=O[0];let Y;Z&&Z.type==="element"&&Z.tagName==="p"?Y=Z:(Y={type:"element",tagName:"p",properties:{},children:[]},O.unshift(Y)),Y.children.length>0&&Y.children.unshift({type:"text",value:" "}),Y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:R.checked,disabled:!0},children:[]}),L.className=["task-list-item"]}let F=-1;for(;++F<O.length;){const Z=O[F];(I||F!==0||Z.type!=="element"||Z.tagName!=="p")&&z.push({type:"text",value:`
`}),Z.type==="element"&&Z.tagName==="p"&&!I?z.push(...Z.children):z.push(Z)}const G=O[O.length-1];G&&(I||G.type!=="element"||G.tagName!=="p")&&z.push({type:"text",value:`
`});const V={type:"element",tagName:"li",properties:L,children:z};return _.patch(R,V),_.applyData(R,V)}function listLoose(_){let R=!1;if(_.type==="list"){R=_.spread||!1;const P=_.children;let O=-1;for(;!R&&++O<P.length;)R=listItemLoose(P[O])}return R}function listItemLoose(_){const R=_.spread;return R??_.children.length>1}function list(_,R){const P={},O=_.all(R);let I=-1;for(typeof R.start=="number"&&R.start!==1&&(P.start=R.start);++I<O.length;){const z=O[I];if(z.type==="element"&&z.tagName==="li"&&z.properties&&Array.isArray(z.properties.className)&&z.properties.className.includes("task-list-item")){P.className=["contains-task-list"];break}}const L={type:"element",tagName:R.ordered?"ol":"ul",properties:P,children:_.wrap(O,!0)};return _.patch(R,L),_.applyData(R,L)}function paragraph(_,R){const P={type:"element",tagName:"p",properties:{},children:_.all(R)};return _.patch(R,P),_.applyData(R,P)}function root$1(_,R){const P={type:"root",children:_.wrap(_.all(R))};return _.patch(R,P),_.applyData(R,P)}function strong(_,R){const P={type:"element",tagName:"strong",properties:{},children:_.all(R)};return _.patch(R,P),_.applyData(R,P)}function table(_,R){const P=_.all(R),O=P.shift(),I=[];if(O){const z={type:"element",tagName:"thead",properties:{},children:_.wrap([O],!0)};_.patch(R.children[0],z),I.push(z)}if(P.length>0){const z={type:"element",tagName:"tbody",properties:{},children:_.wrap(P,!0)},F=pointStart(R.children[1]),G=pointEnd(R.children[R.children.length-1]);F&&G&&(z.position={start:F,end:G}),I.push(z)}const L={type:"element",tagName:"table",properties:{},children:_.wrap(I,!0)};return _.patch(R,L),_.applyData(R,L)}function tableRow(_,R,P){const O=P?P.children:void 0,L=(O?O.indexOf(R):1)===0?"th":"td",z=P&&P.type==="table"?P.align:void 0,F=z?z.length:R.children.length;let G=-1;const V=[];for(;++G<F;){const Y=R.children[G],Q={},J=z?z[G]:void 0;J&&(Q.align=J);let te={type:"element",tagName:L,properties:Q,children:[]};Y&&(te.children=_.all(Y),_.patch(Y,te),te=_.applyData(Y,te)),V.push(te)}const Z={type:"element",tagName:"tr",properties:{},children:_.wrap(V,!0)};return _.patch(R,Z),_.applyData(R,Z)}function tableCell(_,R){const P={type:"element",tagName:"td",properties:{},children:_.all(R)};return _.patch(R,P),_.applyData(R,P)}const tab=9,space=32;function trimLines(_){const R=String(_),P=/\r?\n|\r/g;let O=P.exec(R),I=0;const L=[];for(;O;)L.push(trimLine(R.slice(I,O.index),I>0,!0),O[0]),I=O.index+O[0].length,O=P.exec(R);return L.push(trimLine(R.slice(I),I>0,!1)),L.join("")}function trimLine(_,R,P){let O=0,I=_.length;if(R){let L=_.codePointAt(O);for(;L===tab||L===space;)O++,L=_.codePointAt(O)}if(P){let L=_.codePointAt(I-1);for(;L===tab||L===space;)I--,L=_.codePointAt(I-1)}return I>O?_.slice(O,I):""}function text$3(_,R){const P={type:"text",value:trimLines(String(R.value))};return _.patch(R,P),_.applyData(R,P)}function thematicBreak(_,R){const P={type:"element",tagName:"hr",properties:{},children:[]};return _.patch(R,P),_.applyData(R,P)}const handlers={blockquote,break:hardBreak,code,delete:strikethrough,emphasis,footnoteReference,heading,html,imageReference,image,inlineCode,linkReference,link,listItem,list,paragraph,root:root$1,strong,table,tableCell,tableRow,text:text$3,thematicBreak,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(_,R)=>{const P=(I,L)=>(_.set(L,I),I),O=I=>{if(_.has(I))return _.get(I);const[L,z]=R[I];switch(L){case PRIMITIVE:case VOID:return P(z,I);case ARRAY:{const F=P([],I);for(const G of z)F.push(O(G));return F}case OBJECT:{const F=P({},I);for(const[G,V]of z)F[O(G)]=O(V);return F}case DATE:return P(new Date(z),I);case REGEXP:{const{source:F,flags:G}=z;return P(new RegExp(F,G),I)}case MAP:{const F=P(new Map,I);for(const[G,V]of z)F.set(O(G),O(V));return F}case SET:{const F=P(new Set,I);for(const G of z)F.add(O(G));return F}case ERROR:{const{name:F,message:G}=z;return P(new env[F](G),I)}case BIGINT:return P(BigInt(z),I);case"BigInt":return P(Object(BigInt(z)),I);case"ArrayBuffer":return P(new Uint8Array(z).buffer,z);case"DataView":{const{buffer:F}=new Uint8Array(z);return P(new DataView(F),z)}}return P(new env[L](z),I)};return O},deserialize=_=>deserializer(new Map,_)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=_=>{const R=typeof _;if(R!=="object"||!_)return[PRIMITIVE,R];const P=toString.call(_).slice(8,-1);switch(P){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,P]}return P.includes("Array")?[ARRAY,P]:P.includes("Error")?[ERROR,P]:[OBJECT,P]},shouldSkip=([_,R])=>_===PRIMITIVE&&(R==="function"||R==="symbol"),serializer=(_,R,P,O)=>{const I=(z,F)=>{const G=O.push(z)-1;return P.set(F,G),G},L=z=>{if(P.has(z))return P.get(z);let[F,G]=typeOf(z);switch(F){case PRIMITIVE:{let Z=z;switch(G){case"bigint":F=BIGINT,Z=z.toString();break;case"function":case"symbol":if(_)throw new TypeError("unable to serialize "+G);Z=null;break;case"undefined":return I([VOID],z)}return I([F,Z],z)}case ARRAY:{if(G){let Q=z;return G==="DataView"?Q=new Uint8Array(z.buffer):G==="ArrayBuffer"&&(Q=new Uint8Array(z)),I([G,[...Q]],z)}const Z=[],Y=I([F,Z],z);for(const Q of z)Z.push(L(Q));return Y}case OBJECT:{if(G)switch(G){case"BigInt":return I([G,z.toString()],z);case"Boolean":case"Number":case"String":return I([G,z.valueOf()],z)}if(R&&"toJSON"in z)return L(z.toJSON());const Z=[],Y=I([F,Z],z);for(const Q of keys(z))(_||!shouldSkip(typeOf(z[Q])))&&Z.push([L(Q),L(z[Q])]);return Y}case DATE:return I([F,z.toISOString()],z);case REGEXP:{const{source:Z,flags:Y}=z;return I([F,{source:Z,flags:Y}],z)}case MAP:{const Z=[],Y=I([F,Z],z);for(const[Q,J]of z)(_||!(shouldSkip(typeOf(Q))||shouldSkip(typeOf(J))))&&Z.push([L(Q),L(J)]);return Y}case SET:{const Z=[],Y=I([F,Z],z);for(const Q of z)(_||!shouldSkip(typeOf(Q)))&&Z.push(L(Q));return Y}}const{message:V}=z;return I([F,{name:G,message:V}],z)};return L},serialize=(_,{json:R,lossy:P}={})=>{const O=[];return serializer(!(R||P),!!R,new Map,O)(_),O},structuredClone$1=typeof structuredClone=="function"?(_,R)=>R&&("json"in R||"lossy"in R)?deserialize(serialize(_,R)):structuredClone(_):(_,R)=>deserialize(serialize(_,R));function defaultFootnoteBackContent(_,R){const P=[{type:"text",value:""}];return R>1&&P.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(R)}]}),P}function defaultFootnoteBackLabel(_,R){return"Back to reference "+(_+1)+(R>1?"-"+R:"")}function footer(_){const R=typeof _.options.clobberPrefix=="string"?_.options.clobberPrefix:"user-content-",P=_.options.footnoteBackContent||defaultFootnoteBackContent,O=_.options.footnoteBackLabel||defaultFootnoteBackLabel,I=_.options.footnoteLabel||"Footnotes",L=_.options.footnoteLabelTagName||"h2",z=_.options.footnoteLabelProperties||{className:["sr-only"]},F=[];let G=-1;for(;++G<_.footnoteOrder.length;){const V=_.footnoteById.get(_.footnoteOrder[G]);if(!V)continue;const Z=_.all(V),Y=String(V.identifier).toUpperCase(),Q=normalizeUri(Y.toLowerCase());let J=0;const te=[],ne=_.footnoteCounts.get(Y);for(;ne!==void 0&&++J<=ne;){te.length>0&&te.push({type:"text",value:" "});let oe=typeof P=="string"?P:P(G,J);typeof oe=="string"&&(oe={type:"text",value:oe}),te.push({type:"element",tagName:"a",properties:{href:"#"+R+"fnref-"+Q+(J>1?"-"+J:""),dataFootnoteBackref:"",ariaLabel:typeof O=="string"?O:O(G,J),className:["data-footnote-backref"]},children:Array.isArray(oe)?oe:[oe]})}const ie=Z[Z.length-1];if(ie&&ie.type==="element"&&ie.tagName==="p"){const oe=ie.children[ie.children.length-1];oe&&oe.type==="text"?oe.value+=" ":ie.children.push({type:"text",value:" "}),ie.children.push(...te)}else Z.push(...te);const se={type:"element",tagName:"li",properties:{id:R+"fn-"+Q},children:_.wrap(Z,!0)};_.patch(V,se),F.push(se)}if(F.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:L,properties:{...structuredClone$1(z),id:"footnote-label"},children:[{type:"text",value:I}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:_.wrap(F,!0)},{type:"text",value:`
`}]}}const convert=(function(_){if(_==null)return ok;if(typeof _=="function")return castFactory$1(_);if(typeof _=="object")return Array.isArray(_)?anyFactory$1(_):propertiesFactory(_);if(typeof _=="string")return typeFactory(_);throw new Error("Expected function, string, or object as test")});function anyFactory$1(_){const R=[];let P=-1;for(;++P<_.length;)R[P]=convert(_[P]);return castFactory$1(O);function O(...I){let L=-1;for(;++L<R.length;)if(R[L].apply(this,I))return!0;return!1}}function propertiesFactory(_){const R=_;return castFactory$1(P);function P(O){const I=O;let L;for(L in _)if(I[L]!==R[L])return!1;return!0}}function typeFactory(_){return castFactory$1(R);function R(P){return P&&P.type===_}}function castFactory$1(_){return R;function R(P,O,I){return!!(looksLikeANode(P)&&_.call(this,P,typeof O=="number"?O:void 0,I||void 0))}}function ok(){return!0}function looksLikeANode(_){return _!==null&&typeof _=="object"&&"type"in _}function color(_){return _}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(_,R,P,O){let I;typeof R=="function"&&typeof P!="function"?(O=P,P=R):I=R;const L=convert(I),z=O?-1:1;F(_,void 0,[])();function F(G,V,Z){const Y=G&&typeof G=="object"?G:{};if(typeof Y.type=="string"){const J=typeof Y.tagName=="string"?Y.tagName:typeof Y.name=="string"?Y.name:void 0;Object.defineProperty(Q,"name",{value:"node ("+(G.type+(J?"<"+J+">":""))+")"})}return Q;function Q(){let J=empty,te,ne,ie;if((!R||L(G,V,Z[Z.length-1]||void 0))&&(J=toResult(P(G,Z)),J[0]===EXIT))return J;if("children"in G&&G.children){const se=G;if(se.children&&J[0]!==SKIP)for(ne=(O?se.children.length:-1)+z,ie=Z.concat(se);ne>-1&&ne<se.children.length;){const oe=se.children[ne];if(te=F(oe,ne,ie)(),te[0]===EXIT)return te;ne=typeof te[1]=="number"?te[1]:ne+z}}return J}}}function toResult(_){return Array.isArray(_)?_:typeof _=="number"?[CONTINUE,_]:_==null?empty:[_]}function visit(_,R,P,O){let I,L,z;typeof R=="function"&&typeof P!="function"?(L=void 0,z=R,I=P):(L=R,z=P,I=O),visitParents(_,L,F,I);function F(G,V){const Z=V[V.length-1],Y=Z?Z.children.indexOf(G):void 0;return z(G,Y,Z)}}const own$1={}.hasOwnProperty,emptyOptions$2={};function createState(_,R){const P=R||emptyOptions$2,O=new Map,I=new Map,L=new Map,z={...handlers,...P.handlers},F={all:V,applyData,definitionById:O,footnoteById:I,footnoteCounts:L,footnoteOrder:[],handlers:z,one:G,options:P,patch,wrap:wrap$1};return visit(_,function(Z){if(Z.type==="definition"||Z.type==="footnoteDefinition"){const Y=Z.type==="definition"?O:I,Q=String(Z.identifier).toUpperCase();Y.has(Q)||Y.set(Q,Z)}}),F;function G(Z,Y){const Q=Z.type,J=F.handlers[Q];if(own$1.call(F.handlers,Q)&&J)return J(F,Z,Y);if(F.options.passThrough&&F.options.passThrough.includes(Q)){if("children"in Z){const{children:ne,...ie}=Z,se=structuredClone$1(ie);return se.children=F.all(Z),se}return structuredClone$1(Z)}return(F.options.unknownHandler||defaultUnknownHandler)(F,Z,Y)}function V(Z){const Y=[];if("children"in Z){const Q=Z.children;let J=-1;for(;++J<Q.length;){const te=F.one(Q[J],Z);if(te){if(J&&Q[J-1].type==="break"&&(!Array.isArray(te)&&te.type==="text"&&(te.value=trimMarkdownSpaceStart(te.value)),!Array.isArray(te)&&te.type==="element")){const ne=te.children[0];ne&&ne.type==="text"&&(ne.value=trimMarkdownSpaceStart(ne.value))}Array.isArray(te)?Y.push(...te):Y.push(te)}}}return Y}}function patch(_,R){_.position&&(R.position=position$1(_))}function applyData(_,R){let P=R;if(_&&_.data){const O=_.data.hName,I=_.data.hChildren,L=_.data.hProperties;if(typeof O=="string")if(P.type==="element")P.tagName=O;else{const z="children"in P?P.children:[P];P={type:"element",tagName:O,properties:{},children:z}}P.type==="element"&&L&&Object.assign(P.properties,structuredClone$1(L)),"children"in P&&P.children&&I!==null&&I!==void 0&&(P.children=I)}return P}function defaultUnknownHandler(_,R){const P=R.data||{},O="value"in R&&!(own$1.call(P,"hProperties")||own$1.call(P,"hChildren"))?{type:"text",value:R.value}:{type:"element",tagName:"div",properties:{},children:_.all(R)};return _.patch(R,O),_.applyData(R,O)}function wrap$1(_,R){const P=[];let O=-1;for(R&&P.push({type:"text",value:`
`});++O<_.length;)O&&P.push({type:"text",value:`
`}),P.push(_[O]);return R&&_.length>0&&P.push({type:"text",value:`
`}),P}function trimMarkdownSpaceStart(_){let R=0,P=_.charCodeAt(R);for(;P===9||P===32;)R++,P=_.charCodeAt(R);return _.slice(R)}function toHast(_,R){const P=createState(_,R),O=P.one(_,void 0),I=footer(P),L=Array.isArray(O)?{type:"root",children:O}:O||{type:"root",children:[]};return I&&L.children.push({type:"text",value:`
`},I),L}function remarkRehype(_,R){return _&&"run"in _?async function(P,O){const I=toHast(P,{file:O,...R});await _.run(I,O)}:function(P,O){return toHast(P,{file:O,..._||R})}}function bail(_){if(_)throw _}var extend$1,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend$1;hasRequiredExtend=1;var _=Object.prototype.hasOwnProperty,R=Object.prototype.toString,P=Object.defineProperty,O=Object.getOwnPropertyDescriptor,I=function(V){return typeof Array.isArray=="function"?Array.isArray(V):R.call(V)==="[object Array]"},L=function(V){if(!V||R.call(V)!=="[object Object]")return!1;var Z=_.call(V,"constructor"),Y=V.constructor&&V.constructor.prototype&&_.call(V.constructor.prototype,"isPrototypeOf");if(V.constructor&&!Z&&!Y)return!1;var Q;for(Q in V);return typeof Q>"u"||_.call(V,Q)},z=function(V,Z){P&&Z.name==="__proto__"?P(V,Z.name,{enumerable:!0,configurable:!0,value:Z.newValue,writable:!0}):V[Z.name]=Z.newValue},F=function(V,Z){if(Z==="__proto__")if(_.call(V,Z)){if(O)return O(V,Z).value}else return;return V[Z]};return extend$1=function G(){var V,Z,Y,Q,J,te,ne=arguments[0],ie=1,se=arguments.length,oe=!1;for(typeof ne=="boolean"&&(oe=ne,ne=arguments[1]||{},ie=2),(ne==null||typeof ne!="object"&&typeof ne!="function")&&(ne={});ie<se;++ie)if(V=arguments[ie],V!=null)for(Z in V)Y=F(ne,Z),Q=F(V,Z),ne!==Q&&(oe&&Q&&(L(Q)||(J=I(Q)))?(J?(J=!1,te=Y&&I(Y)?Y:[]):te=Y&&L(Y)?Y:{},z(ne,{name:Z,newValue:G(oe,te,Q)})):typeof Q<"u"&&z(ne,{name:Z,newValue:Q}));return ne},extend$1}var extendExports=requireExtend();const extend=getDefaultExportFromCjs(extendExports);function isPlainObject(_){if(typeof _!="object"||_===null)return!1;const R=Object.getPrototypeOf(_);return(R===null||R===Object.prototype||Object.getPrototypeOf(R)===null)&&!(Symbol.toStringTag in _)&&!(Symbol.iterator in _)}function trough(){const _=[],R={run:P,use:O};return R;function P(...I){let L=-1;const z=I.pop();if(typeof z!="function")throw new TypeError("Expected function as last argument, not "+z);F(null,...I);function F(G,...V){const Z=_[++L];let Y=-1;if(G){z(G);return}for(;++Y<I.length;)(V[Y]===null||V[Y]===void 0)&&(V[Y]=I[Y]);I=V,Z?wrap(Z,F)(...V):z(null,...V)}}function O(I){if(typeof I!="function")throw new TypeError("Expected `middelware` to be a function, not "+I);return _.push(I),R}}function wrap(_,R){let P;return O;function O(...z){const F=_.length>z.length;let G;F&&z.push(I);try{G=_.apply(this,z)}catch(V){const Z=V;if(F&&P)throw Z;return I(Z)}F||(G&&G.then&&typeof G.then=="function"?G.then(L,I):G instanceof Error?I(G):L(G))}function I(z,...F){P||(P=!0,R(z,...F))}function L(z){I(null,z)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(_,R){if(R!==void 0&&typeof R!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(_);let P=0,O=-1,I=_.length,L;if(R===void 0||R.length===0||R.length>_.length){for(;I--;)if(_.codePointAt(I)===47){if(L){P=I+1;break}}else O<0&&(L=!0,O=I+1);return O<0?"":_.slice(P,O)}if(R===_)return"";let z=-1,F=R.length-1;for(;I--;)if(_.codePointAt(I)===47){if(L){P=I+1;break}}else z<0&&(L=!0,z=I+1),F>-1&&(_.codePointAt(I)===R.codePointAt(F--)?F<0&&(O=I):(F=-1,O=z));return P===O?O=z:O<0&&(O=_.length),_.slice(P,O)}function dirname(_){if(assertPath$1(_),_.length===0)return".";let R=-1,P=_.length,O;for(;--P;)if(_.codePointAt(P)===47){if(O){R=P;break}}else O||(O=!0);return R<0?_.codePointAt(0)===47?"/":".":R===1&&_.codePointAt(0)===47?"//":_.slice(0,R)}function extname(_){assertPath$1(_);let R=_.length,P=-1,O=0,I=-1,L=0,z;for(;R--;){const F=_.codePointAt(R);if(F===47){if(z){O=R+1;break}continue}P<0&&(z=!0,P=R+1),F===46?I<0?I=R:L!==1&&(L=1):I>-1&&(L=-1)}return I<0||P<0||L===0||L===1&&I===P-1&&I===O+1?"":_.slice(I,P)}function join(..._){let R=-1,P;for(;++R<_.length;)assertPath$1(_[R]),_[R]&&(P=P===void 0?_[R]:P+"/"+_[R]);return P===void 0?".":normalize(P)}function normalize(_){assertPath$1(_);const R=_.codePointAt(0)===47;let P=normalizeString(_,!R);return P.length===0&&!R&&(P="."),P.length>0&&_.codePointAt(_.length-1)===47&&(P+="/"),R?"/"+P:P}function normalizeString(_,R){let P="",O=0,I=-1,L=0,z=-1,F,G;for(;++z<=_.length;){if(z<_.length)F=_.codePointAt(z);else{if(F===47)break;F=47}if(F===47){if(!(I===z-1||L===1))if(I!==z-1&&L===2){if(P.length<2||O!==2||P.codePointAt(P.length-1)!==46||P.codePointAt(P.length-2)!==46){if(P.length>2){if(G=P.lastIndexOf("/"),G!==P.length-1){G<0?(P="",O=0):(P=P.slice(0,G),O=P.length-1-P.lastIndexOf("/")),I=z,L=0;continue}}else if(P.length>0){P="",O=0,I=z,L=0;continue}}R&&(P=P.length>0?P+"/..":"..",O=2)}else P.length>0?P+="/"+_.slice(I+1,z):P=_.slice(I+1,z),O=z-I-1;I=z,L=0}else F===46&&L>-1?L++:L=-1}return P}function assertPath$1(_){if(typeof _!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(_))}const minproc={cwd};function cwd(){return"/"}function isUrl(_){return!!(_!==null&&typeof _=="object"&&"href"in _&&_.href&&"protocol"in _&&_.protocol&&_.auth===void 0)}function urlToPath(_){if(typeof _=="string")_=new URL(_);else if(!isUrl(_)){const R=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+_+"`");throw R.code="ERR_INVALID_ARG_TYPE",R}if(_.protocol!=="file:"){const R=new TypeError("The URL must be of scheme file");throw R.code="ERR_INVALID_URL_SCHEME",R}return getPathFromURLPosix(_)}function getPathFromURLPosix(_){if(_.hostname!==""){const O=new TypeError('File URL host must be "localhost" or empty on darwin');throw O.code="ERR_INVALID_FILE_URL_HOST",O}const R=_.pathname;let P=-1;for(;++P<R.length;)if(R.codePointAt(P)===37&&R.codePointAt(P+1)===50){const O=R.codePointAt(P+2);if(O===70||O===102){const I=new TypeError("File URL path must not include encoded / characters");throw I.code="ERR_INVALID_FILE_URL_PATH",I}}return decodeURIComponent(R)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(R){let P;R?isUrl(R)?P={path:R}:typeof R=="string"||isUint8Array$1(R)?P={value:R}:P=R:P={},this.cwd="cwd"in P?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let O=-1;for(;++O<order.length;){const L=order[O];L in P&&P[L]!==void 0&&P[L]!==null&&(this[L]=L==="history"?[...P[L]]:P[L])}let I;for(I in P)order.includes(I)||(this[I]=P[I])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(R){assertNonEmpty(R,"basename"),assertPart(R,"basename"),this.path=minpath.join(this.dirname||"",R)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(R){assertPath(this.basename,"dirname"),this.path=minpath.join(R||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(R){if(assertPart(R,"extname"),assertPath(this.dirname,"extname"),R){if(R.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(R.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(R||""))}get path(){return this.history[this.history.length-1]}set path(R){isUrl(R)&&(R=urlToPath(R)),assertNonEmpty(R,"path"),this.path!==R&&this.history.push(R)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(R){assertNonEmpty(R,"stem"),assertPart(R,"stem"),this.path=minpath.join(this.dirname||"",R+(this.extname||""))}fail(R,P,O){const I=this.message(R,P,O);throw I.fatal=!0,I}info(R,P,O){const I=this.message(R,P,O);return I.fatal=void 0,I}message(R,P,O){const I=new VFileMessage(R,P,O);return this.path&&(I.name=this.path+":"+I.name,I.file=this.path),I.fatal=!1,this.messages.push(I),I}toString(R){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(R||void 0).decode(this.value)}}function assertPart(_,R){if(_&&_.includes(minpath.sep))throw new Error("`"+R+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(_,R){if(!_)throw new Error("`"+R+"` cannot be empty")}function assertPath(_,R){if(!_)throw new Error("Setting `"+R+"` requires `path` to be set too")}function isUint8Array$1(_){return!!(_&&typeof _=="object"&&"byteLength"in _&&"byteOffset"in _)}const CallableInstance=(function(_){const O=this.constructor.prototype,I=O[_],L=function(){return I.apply(L,arguments)};return Object.setPrototypeOf(L,O),L}),own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const R=new Processor;let P=-1;for(;++P<this.attachers.length;){const O=this.attachers[P];R.use(...O)}return R.data(extend(!0,{},this.namespace)),R}data(R,P){return typeof R=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[R]=P,this):own.call(this.namespace,R)&&this.namespace[R]||void 0:R?(assertUnfrozen("data",this.frozen),this.namespace=R,this):this.namespace}freeze(){if(this.frozen)return this;const R=this;for(;++this.freezeIndex<this.attachers.length;){const[P,...O]=this.attachers[this.freezeIndex];if(O[0]===!1)continue;O[0]===!0&&(O[0]=void 0);const I=P.call(R,...O);typeof I=="function"&&this.transformers.use(I)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(R){this.freeze();const P=vfile(R),O=this.parser||this.Parser;return assertParser("parse",O),O(String(P),P)}process(R,P){const O=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),P?I(void 0,P):new Promise(I);function I(L,z){const F=vfile(R),G=O.parse(F);O.run(G,F,function(Z,Y,Q){if(Z||!Y||!Q)return V(Z);const J=Y,te=O.stringify(J,Q);looksLikeAValue(te)?Q.value=te:Q.result=te,V(Z,Q)});function V(Z,Y){Z||!Y?z(Z):L?L(Y):P(void 0,Y)}}}processSync(R){let P=!1,O;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(R,I),assertDone("processSync","process",P),O;function I(L,z){P=!0,bail(L),O=z}}run(R,P,O){assertNode(R),this.freeze();const I=this.transformers;return!O&&typeof P=="function"&&(O=P,P=void 0),O?L(void 0,O):new Promise(L);function L(z,F){const G=vfile(P);I.run(R,G,V);function V(Z,Y,Q){const J=Y||R;Z?F(Z):z?z(J):O(void 0,J,Q)}}}runSync(R,P){let O=!1,I;return this.run(R,P,L),assertDone("runSync","run",O),I;function L(z,F){bail(z),I=F,O=!0}}stringify(R,P){this.freeze();const O=vfile(P),I=this.compiler||this.Compiler;return assertCompiler("stringify",I),assertNode(R),I(R,O)}use(R,...P){const O=this.attachers,I=this.namespace;if(assertUnfrozen("use",this.frozen),R!=null)if(typeof R=="function")G(R,P);else if(typeof R=="object")Array.isArray(R)?F(R):z(R);else throw new TypeError("Expected usable value, not `"+R+"`");return this;function L(V){if(typeof V=="function")G(V,[]);else if(typeof V=="object")if(Array.isArray(V)){const[Z,...Y]=V;G(Z,Y)}else z(V);else throw new TypeError("Expected usable value, not `"+V+"`")}function z(V){if(!("plugins"in V)&&!("settings"in V))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");F(V.plugins),V.settings&&(I.settings=extend(!0,I.settings,V.settings))}function F(V){let Z=-1;if(V!=null)if(Array.isArray(V))for(;++Z<V.length;){const Y=V[Z];L(Y)}else throw new TypeError("Expected a list of plugins, not `"+V+"`")}function G(V,Z){let Y=-1,Q=-1;for(;++Y<O.length;)if(O[Y][0]===V){Q=Y;break}if(Q===-1)O.push([V,...Z]);else if(Z.length>0){let[J,...te]=Z;const ne=O[Q][1];isPlainObject(ne)&&isPlainObject(J)&&(J=extend(!0,ne,J)),O[Q]=[V,J,...te]}}}}const unified=new Processor().freeze();function assertParser(_,R){if(typeof R!="function")throw new TypeError("Cannot `"+_+"` without `parser`")}function assertCompiler(_,R){if(typeof R!="function")throw new TypeError("Cannot `"+_+"` without `compiler`")}function assertUnfrozen(_,R){if(R)throw new Error("Cannot call `"+_+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(_){if(!isPlainObject(_)||typeof _.type!="string")throw new TypeError("Expected node, got `"+_+"`")}function assertDone(_,R,P){if(!P)throw new Error("`"+_+"` finished async. Use `"+R+"` instead")}function vfile(_){return looksLikeAVFile(_)?_:new VFile(_)}function looksLikeAVFile(_){return!!(_&&typeof _=="object"&&"message"in _&&"messages"in _)}function looksLikeAValue(_){return typeof _=="string"||isUint8Array(_)}function isUint8Array(_){return!!(_&&typeof _=="object"&&"byteLength"in _&&"byteOffset"in _)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(_){const R=createProcessor(_),P=createFile(_);return post(R.runSync(R.parse(P),P),_)}function createProcessor(_){const R=_.rehypePlugins||emptyPlugins,P=_.remarkPlugins||emptyPlugins,O=_.remarkRehypeOptions?{..._.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(P).use(remarkRehype,O).use(R)}function createFile(_){const R=_.children||"",P=new VFile;return typeof R=="string"&&(P.value=R),P}function post(_,R){const P=R.allowedElements,O=R.allowElement,I=R.components,L=R.disallowedElements,z=R.skipHtml,F=R.unwrapDisallowed,G=R.urlTransform||defaultUrlTransform;for(const Z of deprecations)Object.hasOwn(R,Z.from)&&(""+Z.from+(Z.to?"use `"+Z.to+"` instead":"remove it")+changelog+Z.id,void 0);return visit(_,V),toJsxRuntime(_,{Fragment:jsxRuntimeExports.Fragment,components:I,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function V(Z,Y,Q){if(Z.type==="raw"&&Q&&typeof Y=="number")return z?Q.children.splice(Y,1):Q.children[Y]={type:"text",value:Z.value},Y;if(Z.type==="element"){let J;for(J in urlAttributes)if(Object.hasOwn(urlAttributes,J)&&Object.hasOwn(Z.properties,J)){const te=Z.properties[J],ne=urlAttributes[J];(ne===null||ne.includes(Z.tagName))&&(Z.properties[J]=G(String(te||""),J,Z))}}if(Z.type==="element"){let J=P?!P.includes(Z.tagName):L?L.includes(Z.tagName):!1;if(!J&&O&&typeof Y=="number"&&(J=!O(Z,Y,Q)),J&&Q&&typeof Y=="number")return F&&Z.children?Q.children.splice(Y,1,...Z.children):Q.children.splice(Y,1),Y}}}function defaultUrlTransform(_){const R=_.indexOf(":"),P=_.indexOf("?"),O=_.indexOf("#"),I=_.indexOf("/");return R===-1||I!==-1&&R>I||P!==-1&&R>P||O!==-1&&R>O||safeProtocol.test(_.slice(0,R))?_:""}function longestStreak(_,R){const P=String(_);let O=P.indexOf(R),I=O,L=0,z=0;for(;O!==-1;)O===I?++L>z&&(z=L):L=1,I=O+R.length,O=P.indexOf(R,I);return z}function mathFromMarkdown(){return{enter:{mathFlow:_,mathFlowFenceMeta:R,mathText:L},exit:{mathFlow:I,mathFlowFence:O,mathFlowFenceMeta:P,mathFlowValue:F,mathText:z,mathTextData:F}};function _(G){const V={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[V]}},G)}function R(){this.buffer()}function P(){const G=this.resume(),V=this.stack[this.stack.length-1];V.type,V.meta=G}function O(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function I(G){const V=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),Z=this.stack[this.stack.length-1];Z.type,this.exit(G),Z.value=V;const Y=Z.data.hChildren[0];Y.type,Y.tagName,Y.children.push({type:"text",value:V}),this.data.mathFlowInside=void 0}function L(G){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},G),this.buffer()}function z(G){const V=this.resume(),Z=this.stack[this.stack.length-1];Z.type,this.exit(G),Z.value=V,Z.data.hChildren.push({type:"text",value:V})}function F(G){this.config.enter.data.call(this,G),this.config.exit.data.call(this,G)}}function mathToMarkdown(_){let R=(_||{}).singleDollarTextMath;return R==null&&(R=!0),O.peek=I,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:R?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:P,inlineMath:O}};function P(L,z,F,G){const V=L.value||"",Z=F.createTracker(G),Y="$".repeat(Math.max(longestStreak(V,"$")+1,2)),Q=F.enter("mathFlow");let J=Z.move(Y);if(L.meta){const te=F.enter("mathFlowMeta");J+=Z.move(F.safe(L.meta,{after:`
`,before:J,encode:["$"],...Z.current()})),te()}return J+=Z.move(`
`),V&&(J+=Z.move(V+`
`)),J+=Z.move(Y),Q(),J}function O(L,z,F){let G=L.value||"",V=1;for(R||V++;new RegExp("(^|[^$])"+"\\$".repeat(V)+"([^$]|$)").test(G);)V++;const Z="$".repeat(V);/[^ \r\n]/.test(G)&&(/^[ \r\n]/.test(G)&&/[ \r\n]$/.test(G)||/^\$|\$$/.test(G))&&(G=" "+G+" ");let Y=-1;for(;++Y<F.unsafe.length;){const Q=F.unsafe[Y];if(!Q.atBreak)continue;const J=F.compilePattern(Q);let te;for(;te=J.exec(G);){let ne=te.index;G.codePointAt(ne)===10&&G.codePointAt(ne-1)===13&&ne--,G=G.slice(0,ne)+" "+G.slice(te.index+1)}}return Z+G+Z}function I(){return"$"}}const mathFlow={tokenize:tokenizeMathFenced,concrete:!0,name:"mathFlow"},nonLazyContinuation={tokenize:tokenizeNonLazyContinuation,partial:!0};function tokenizeMathFenced(_,R,P){const O=this,I=O.events[O.events.length-1],L=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0;let z=0;return F;function F(oe){return _.enter("mathFlow"),_.enter("mathFlowFence"),_.enter("mathFlowFenceSequence"),G(oe)}function G(oe){return oe===36?(_.consume(oe),z++,G):z<2?P(oe):(_.exit("mathFlowFenceSequence"),factorySpace(_,V,"whitespace")(oe))}function V(oe){return oe===null||markdownLineEnding(oe)?Y(oe):(_.enter("mathFlowFenceMeta"),_.enter("chunkString",{contentType:"string"}),Z(oe))}function Z(oe){return oe===null||markdownLineEnding(oe)?(_.exit("chunkString"),_.exit("mathFlowFenceMeta"),Y(oe)):oe===36?P(oe):(_.consume(oe),Z)}function Y(oe){return _.exit("mathFlowFence"),O.interrupt?R(oe):_.attempt(nonLazyContinuation,Q,ie)(oe)}function Q(oe){return _.attempt({tokenize:se,partial:!0},ie,J)(oe)}function J(oe){return(L?factorySpace(_,te,"linePrefix",L+1):te)(oe)}function te(oe){return oe===null?ie(oe):markdownLineEnding(oe)?_.attempt(nonLazyContinuation,Q,ie)(oe):(_.enter("mathFlowValue"),ne(oe))}function ne(oe){return oe===null||markdownLineEnding(oe)?(_.exit("mathFlowValue"),te(oe)):(_.consume(oe),ne)}function ie(oe){return _.exit("mathFlow"),R(oe)}function se(oe,ce,ue){let me=0;return factorySpace(oe,he,"linePrefix",O.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function he(pe){return oe.enter("mathFlowFence"),oe.enter("mathFlowFenceSequence"),fe(pe)}function fe(pe){return pe===36?(me++,oe.consume(pe),fe):me<z?ue(pe):(oe.exit("mathFlowFenceSequence"),factorySpace(oe,de,"whitespace")(pe))}function de(pe){return pe===null||markdownLineEnding(pe)?(oe.exit("mathFlowFence"),ce(pe)):ue(pe)}}}function tokenizeNonLazyContinuation(_,R,P){const O=this;return I;function I(z){return z===null?R(z):(_.enter("lineEnding"),_.consume(z),_.exit("lineEnding"),L)}function L(z){return O.parser.lazy[O.now().line]?P(z):R(z)}}function mathText(_){let P=(_||{}).singleDollarTextMath;return P==null&&(P=!0),{tokenize:O,resolve:resolveMathText,previous,name:"mathText"};function O(I,L,z){let F=0,G,V;return Z;function Z(ne){return I.enter("mathText"),I.enter("mathTextSequence"),Y(ne)}function Y(ne){return ne===36?(I.consume(ne),F++,Y):F<2&&!P?z(ne):(I.exit("mathTextSequence"),Q(ne))}function Q(ne){return ne===null?z(ne):ne===36?(V=I.enter("mathTextSequence"),G=0,te(ne)):ne===32?(I.enter("space"),I.consume(ne),I.exit("space"),Q):markdownLineEnding(ne)?(I.enter("lineEnding"),I.consume(ne),I.exit("lineEnding"),Q):(I.enter("mathTextData"),J(ne))}function J(ne){return ne===null||ne===32||ne===36||markdownLineEnding(ne)?(I.exit("mathTextData"),Q(ne)):(I.consume(ne),J)}function te(ne){return ne===36?(I.consume(ne),G++,te):G===F?(I.exit("mathTextSequence"),I.exit("mathText"),L(ne)):(V.type="mathTextData",J(ne))}}}function resolveMathText(_){let R=_.length-4,P=3,O,I;if((_[P][1].type==="lineEnding"||_[P][1].type==="space")&&(_[R][1].type==="lineEnding"||_[R][1].type==="space")){for(O=P;++O<R;)if(_[O][1].type==="mathTextData"){_[R][1].type="mathTextPadding",_[P][1].type="mathTextPadding",P+=2,R-=2;break}}for(O=P-1,R++;++O<=R;)I===void 0?O!==R&&_[O][1].type!=="lineEnding"&&(I=O):(O===R||_[O][1].type==="lineEnding")&&(_[I][1].type="mathTextData",O!==I+2&&(_[I][1].end=_[O-1][1].end,_.splice(I+2,O-I-2),R-=O-I-2,O=I+2),I=void 0);return _}function previous(_){return _!==36||this.events[this.events.length-1][1].type==="characterEscape"}function math$1(_){return{flow:{36:mathFlow},text:{36:mathText(_)}}}class SourceLocation{constructor(R,P,O){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=R,this.start=P,this.end=O}static range(R,P){return P?!R||!R.loc||!P.loc||R.loc.lexer!==P.loc.lexer?null:new SourceLocation(R.loc.lexer,R.loc.start,P.loc.end):R&&R.loc}}class Token{constructor(R,P){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=R,this.loc=P}range(R,P){return new Token(P,SourceLocation.range(this,R))}}class ParseError{constructor(R,P){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var O="KaTeX parse error: "+R,I,L,z=P&&P.loc;if(z&&z.start<=z.end){var F=z.lexer.input;I=z.start,L=z.end,I===F.length?O+=" at end of input: ":O+=" at position "+(I+1)+": ";var G=F.slice(I,L).replace(/[^]/g,"$&"),V;I>15?V=""+F.slice(I-15,I):V=F.slice(0,I);var Z;L+15<F.length?Z=F.slice(L,L+15)+"":Z=F.slice(L),O+=V+G+Z}var Y=new Error(O);return Y.name="ParseError",Y.__proto__=ParseError.prototype,Y.position=I,I!=null&&L!=null&&(Y.length=L-I),Y.rawMessage=R,Y}}ParseError.prototype.__proto__=Error.prototype;var deflt=function _(R,P){return R===void 0?P:R},uppercase=/([A-Z])/g,hyphenate=function _(R){return R.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape(_){return String(_).replace(ESCAPE_REGEX,R=>ESCAPE_LOOKUP[R])}var getBaseElem=function _(R){return R.type==="ordgroup"||R.type==="color"?R.body.length===1?_(R.body[0]):R:R.type==="font"?_(R.body):R},isCharacterBox=function _(R){var P=getBaseElem(R);return P.type==="mathord"||P.type==="textord"||P.type==="atom"},assert=function _(R){if(!R)throw new Error("Expected non-null, but got "+String(R));return R},protocolFromUrl=function _(R){var P=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(R);return P?P[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(P[1])?null:P[1].toLowerCase():"_relative"},utils={deflt,escape,hyphenate,getBaseElem,isCharacterBox,protocolFromUrl},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:_=>"#"+_},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(_,R)=>(R.push(_),R)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:_=>Math.max(0,_),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:_=>Math.max(0,_),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:_=>Math.max(0,_),cli:"-e, --max-expand <n>",cliProcessor:_=>_==="Infinity"?1/0:parseInt(_)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(_){if(_.default)return _.default;var R=_.type,P=Array.isArray(R)?R[0]:R;if(typeof P!="string")return P.enum[0];switch(P){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Settings{constructor(R){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,R=R||{};for(var P in SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(P)){var O=SETTINGS_SCHEMA[P];this[P]=R[P]!==void 0?O.processor?O.processor(R[P]):R[P]:getDefaultValue(O)}}reportNonstrict(R,P,O){var I=this.strict;if(typeof I=="function"&&(I=I(R,P,O)),!(!I||I==="ignore")){if(I===!0||I==="error")throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+(P+" ["+R+"]"),O);I==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(P+" ["+R+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+I+"': "+P+" ["+R+"]"))}}useStrictBehavior(R,P,O){var I=this.strict;if(typeof I=="function")try{I=I(R,P,O)}catch{I="error"}return!I||I==="ignore"?!1:I===!0||I==="error"?!0:I==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(P+" ["+R+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+I+"': "+P+" ["+R+"]")),!1)}isTrusted(R){if(R.url&&!R.protocol){var P=utils.protocolFromUrl(R.url);if(P==null)return!1;R.protocol=P}var O=typeof this.trust=="function"?this.trust(R):this.trust;return!!O}}class Style{constructor(R,P,O){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=R,this.size=P,this.cramped=O}sup(){return styles[sup[this.id]]}sub(){return styles[sub[this.id]]}fracNum(){return styles[fracNum[this.id]]}fracDen(){return styles[fracDen[this.id]]}cramp(){return styles[cramp[this.id]]}text(){return styles[text$1[this.id]]}isTight(){return this.size>=2}}var D=0,Dc=1,T=2,Tc=3,S=4,Sc=5,SS=6,SSc=7,styles=[new Style(D,0,!1),new Style(Dc,0,!0),new Style(T,1,!1),new Style(Tc,1,!0),new Style(S,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S,Sc,S,Sc,SS,SSc,SS,SSc],sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T,Tc,S,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1=[D,Dc,T,Tc,T,Tc,T,Tc],Style$1={DISPLAY:styles[D],TEXT:styles[T],SCRIPT:styles[S],SCRIPTSCRIPT:styles[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(_){for(var R=0;R<scriptData.length;R++)for(var P=scriptData[R],O=0;O<P.blocks.length;O++){var I=P.blocks[O];if(_>=I[0]&&_<=I[1])return P.name}return null}var allBlocks=[];scriptData.forEach(_=>_.blocks.forEach(R=>allBlocks.push(...R)));function supportedCodepoint(_){for(var R=0;R<allBlocks.length;R+=2)if(_>=allBlocks[R]&&_<=allBlocks[R+1])return!0;return!1}var hLinePad=80,sqrtMain=function _(R,P){return"M95,"+(622+R+P)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+R/2.075+" -"+R+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+R)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+R)+" "+P+"h400000v"+(40+R)+"h-400000z"},sqrtSize1=function _(R,P){return"M263,"+(601+R+P)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+R/2.084+" -"+R+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+R)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+R)+" "+P+"h400000v"+(40+R)+"h-400000z"},sqrtSize2=function _(R,P){return"M983 "+(10+R+P)+`
l`+R/3.13+" -"+R+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+R)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+R)+" "+P+"h400000v"+(40+R)+"h-400000z"},sqrtSize3=function _(R,P){return"M424,"+(2398+R+P)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+R/4.223+" -"+R+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+R)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+R)+" "+P+`
h400000v`+(40+R)+"h-400000z"},sqrtSize4=function _(R,P){return"M473,"+(2713+R+P)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+R/5.298+" -"+R+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+R)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+R)+" "+P+"h400000v"+(40+R)+"H1017.7z"},phasePath=function _(R){var P=R/2;return"M400000 "+R+" H0 L"+P+" 0 l65 45 L145 "+(R-80)+" H400000z"},sqrtTall=function _(R,P,O){var I=O-54-P-R;return"M702 "+(R+P)+"H400000"+(40+R)+`
H742v`+I+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+P+"H400000v"+(40+R)+"H742z"},sqrtPath=function _(R,P,O){P=1e3*P;var I="";switch(R){case"sqrtMain":I=sqrtMain(P,hLinePad);break;case"sqrtSize1":I=sqrtSize1(P,hLinePad);break;case"sqrtSize2":I=sqrtSize2(P,hLinePad);break;case"sqrtSize3":I=sqrtSize3(P,hLinePad);break;case"sqrtSize4":I=sqrtSize4(P,hLinePad);break;case"sqrtTall":I=sqrtTall(P,hLinePad,O)}return I},innerPath=function _(R,P){switch(R){case"":return"M291 0 H417 V"+P+" H291z M291 0 H417 V"+P+" H291z";case"":return"M145 0 H188 V"+P+" H145z M145 0 H188 V"+P+" H145z";case"":return"M145 0 H188 V"+P+" H145z M145 0 H188 V"+P+" H145z"+("M367 0 H410 V"+P+" H367z M367 0 H410 V"+P+" H367z");case"":return"M457 0 H583 V"+P+" H457z M457 0 H583 V"+P+" H457z";case"":return"M319 0 H403 V"+P+" H319z M319 0 H403 V"+P+" H319z";case"":return"M263 0 H347 V"+P+" H263z M263 0 H347 V"+P+" H263z";case"":return"M384 0 H504 V"+P+" H384z M384 0 H504 V"+P+" H384z";case"":return"M312 0 H355 V"+P+" H312z M312 0 H355 V"+P+" H312z";case"":return"M257 0 H300 V"+P+" H257z M257 0 H300 V"+P+" H257z"+("M478 0 H521 V"+P+" H478z M478 0 H521 V"+P+" H478z");default:return""}},path={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tallDelim=function _(R,P){switch(R){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+P+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+P+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+P+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+P+" v1759 h84z";case"vert":return"M145 15 v585 v"+P+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-P+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+P+" v585 h43z";case"doublevert":return"M145 15 v585 v"+P+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-P+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+P+` v585 h43z
M367 15 v585 v`+P+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-P+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+P+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+P+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+P+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+P+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+P+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+P+` v602 h84z
M403 1759 V0 H319 V1759 v`+P+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+P+` v602 h84z
M347 1759 V0 h-84 V1759 v`+P+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(P+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(P+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(P+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(P+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let DocumentFragment$1=class{constructor(R){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=R,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(R){return this.classes.includes(R)}toNode(){for(var R=document.createDocumentFragment(),P=0;P<this.children.length;P++)R.appendChild(this.children[P].toNode());return R}toMarkup(){for(var R="",P=0;P<this.children.length;P++)R+=this.children[P].toMarkup();return R}toText(){var R=P=>P.toText();return this.children.map(R).join("")}};var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function setFontMetrics(_,R){fontMetricsData[_]=R}function getCharacterMetrics(_,R,P){if(!fontMetricsData[R])throw new Error("Font metrics not found for font: "+R+".");var O=_.charCodeAt(0),I=fontMetricsData[R][O];if(!I&&_[0]in extraCharacterMap&&(O=extraCharacterMap[_[0]].charCodeAt(0),I=fontMetricsData[R][O]),!I&&P==="text"&&supportedCodepoint(O)&&(I=fontMetricsData[R][77]),I)return{depth:I[0],height:I[1],italic:I[2],skew:I[3],width:I[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(_){var R;if(_>=5?R=0:_>=3?R=1:R=2,!fontMetricsBySizeIndex[R]){var P=fontMetricsBySizeIndex[R]={cssEmPerMu:sigmasAndXis.quad[R]/18};for(var O in sigmasAndXis)sigmasAndXis.hasOwnProperty(O)&&(P[O]=sigmasAndXis[O][R])}return fontMetricsBySizeIndex[R]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function _(R,P){return P.size<2?R:sizeStyleMap[R-1][P.size-1]};class Options{constructor(R){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=R.style,this.color=R.color,this.size=R.size||Options.BASESIZE,this.textSize=R.textSize||this.size,this.phantom=!!R.phantom,this.font=R.font||"",this.fontFamily=R.fontFamily||"",this.fontWeight=R.fontWeight||"",this.fontShape=R.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=R.maxSize,this.minRuleThickness=R.minRuleThickness,this._fontMetrics=void 0}extend(R){var P={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var O in R)R.hasOwnProperty(O)&&(P[O]=R[O]);return new Options(P)}havingStyle(R){return this.style===R?this:this.extend({style:R,size:sizeAtStyle(this.textSize,R)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(R){return this.size===R&&this.textSize===R?this:this.extend({style:this.style.text(),size:R,textSize:R,sizeMultiplier:sizeMultipliers[R-1]})}havingBaseStyle(R){R=R||this.style.text();var P=sizeAtStyle(Options.BASESIZE,R);return this.size===P&&this.textSize===Options.BASESIZE&&this.style===R?this:this.extend({style:R,size:P})}havingBaseSizing(){var R;switch(this.style.id){case 4:case 5:R=3;break;case 6:case 7:R=1;break;default:R=6}return this.extend({style:this.style.text(),size:R})}withColor(R){return this.extend({color:R})}withPhantom(){return this.extend({phantom:!0})}withFont(R){return this.extend({font:R})}withTextFontFamily(R){return this.extend({fontFamily:R,font:""})}withTextFontWeight(R){return this.extend({fontWeight:R,font:""})}withTextFontShape(R){return this.extend({fontShape:R,font:""})}sizingClasses(R){return R.size!==this.size?["sizing","reset-size"+R.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function _(R){return typeof R!="string"&&(R=R.unit),R in ptPerUnit||R in relativeUnit||R==="ex"},calculateSize=function _(R,P){var O;if(R.unit in ptPerUnit)O=ptPerUnit[R.unit]/P.fontMetrics().ptPerEm/P.sizeMultiplier;else if(R.unit==="mu")O=P.fontMetrics().cssEmPerMu;else{var I;if(P.style.isTight()?I=P.havingStyle(P.style.text()):I=P,R.unit==="ex")O=I.fontMetrics().xHeight;else if(R.unit==="em")O=I.fontMetrics().quad;else throw new ParseError("Invalid unit: '"+R.unit+"'");I!==P&&(O*=I.sizeMultiplier/P.sizeMultiplier)}return Math.min(R.number*O,P.maxSize)},makeEm=function _(R){return+R.toFixed(4)+"em"},createClass=function _(R){return R.filter(P=>P).join(" ")},initNode=function _(R,P,O){if(this.classes=R||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=O||{},P){P.style.isTight()&&this.classes.push("mtight");var I=P.getColor();I&&(this.style.color=I)}},toNode=function _(R){var P=document.createElement(R);P.className=createClass(this.classes);for(var O in this.style)this.style.hasOwnProperty(O)&&(P.style[O]=this.style[O]);for(var I in this.attributes)this.attributes.hasOwnProperty(I)&&P.setAttribute(I,this.attributes[I]);for(var L=0;L<this.children.length;L++)P.appendChild(this.children[L].toNode());return P},invalidAttributeNameRegex=/[\s"'>/=\x00-\x1f]/,toMarkup=function _(R){var P="<"+R;this.classes.length&&(P+=' class="'+utils.escape(createClass(this.classes))+'"');var O="";for(var I in this.style)this.style.hasOwnProperty(I)&&(O+=utils.hyphenate(I)+":"+this.style[I]+";");O&&(P+=' style="'+utils.escape(O)+'"');for(var L in this.attributes)if(this.attributes.hasOwnProperty(L)){if(invalidAttributeNameRegex.test(L))throw new ParseError("Invalid attribute name '"+L+"'");P+=" "+L+'="'+utils.escape(this.attributes[L])+'"'}P+=">";for(var z=0;z<this.children.length;z++)P+=this.children[z].toMarkup();return P+="</"+R+">",P};class Span{constructor(R,P,O,I){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,R,O,I),this.children=P||[]}setAttribute(R,P){this.attributes[R]=P}hasClass(R){return this.classes.includes(R)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor(R,P,O,I){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,P,I),this.children=O||[],this.setAttribute("href",R)}setAttribute(R,P){this.attributes[R]=P}hasClass(R){return this.classes.includes(R)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(R,P,O){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=P,this.src=R,this.classes=["mord"],this.style=O}hasClass(R){return this.classes.includes(R)}toNode(){var R=document.createElement("img");R.src=this.src,R.alt=this.alt,R.className="mord";for(var P in this.style)this.style.hasOwnProperty(P)&&(R.style[P]=this.style[P]);return R}toMarkup(){var R='<img src="'+utils.escape(this.src)+'"'+(' alt="'+utils.escape(this.alt)+'"'),P="";for(var O in this.style)this.style.hasOwnProperty(O)&&(P+=utils.hyphenate(O)+":"+this.style[O]+";");return P&&(R+=' style="'+utils.escape(P)+'"'),R+="'/>",R}}var iCombinations={:"",:"",:"",:""};class SymbolNode{constructor(R,P,O,I,L,z,F,G){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=R,this.height=P||0,this.depth=O||0,this.italic=I||0,this.skew=L||0,this.width=z||0,this.classes=F||[],this.style=G||{},this.maxFontSize=0;var V=scriptFromCodepoint(this.text.charCodeAt(0));V&&this.classes.push(V+"_fallback"),/[]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(R){return this.classes.includes(R)}toNode(){var R=document.createTextNode(this.text),P=null;this.italic>0&&(P=document.createElement("span"),P.style.marginRight=makeEm(this.italic)),this.classes.length>0&&(P=P||document.createElement("span"),P.className=createClass(this.classes));for(var O in this.style)this.style.hasOwnProperty(O)&&(P=P||document.createElement("span"),P.style[O]=this.style[O]);return P?(P.appendChild(R),P):R}toMarkup(){var R=!1,P="<span";this.classes.length&&(R=!0,P+=' class="',P+=utils.escape(createClass(this.classes)),P+='"');var O="";this.italic>0&&(O+="margin-right:"+this.italic+"em;");for(var I in this.style)this.style.hasOwnProperty(I)&&(O+=utils.hyphenate(I)+":"+this.style[I]+";");O&&(R=!0,P+=' style="'+utils.escape(O)+'"');var L=utils.escape(this.text);return R?(P+=">",P+=L,P+="</span>",P):L}}class SvgNode{constructor(R,P){this.children=void 0,this.attributes=void 0,this.children=R||[],this.attributes=P||{}}toNode(){var R="http://www.w3.org/2000/svg",P=document.createElementNS(R,"svg");for(var O in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,O)&&P.setAttribute(O,this.attributes[O]);for(var I=0;I<this.children.length;I++)P.appendChild(this.children[I].toNode());return P}toMarkup(){var R='<svg xmlns="http://www.w3.org/2000/svg"';for(var P in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,P)&&(R+=" "+P+'="'+utils.escape(this.attributes[P])+'"');R+=">";for(var O=0;O<this.children.length;O++)R+=this.children[O].toMarkup();return R+="</svg>",R}}class PathNode{constructor(R,P){this.pathName=void 0,this.alternate=void 0,this.pathName=R,this.alternate=P}toNode(){var R="http://www.w3.org/2000/svg",P=document.createElementNS(R,"path");return this.alternate?P.setAttribute("d",this.alternate):P.setAttribute("d",path[this.pathName]),P}toMarkup(){return this.alternate?'<path d="'+utils.escape(this.alternate)+'"/>':'<path d="'+utils.escape(path[this.pathName])+'"/>'}}class LineNode{constructor(R){this.attributes=void 0,this.attributes=R||{}}toNode(){var R="http://www.w3.org/2000/svg",P=document.createElementNS(R,"line");for(var O in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,O)&&P.setAttribute(O,this.attributes[O]);return P}toMarkup(){var R="<line";for(var P in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,P)&&(R+=" "+P+'="'+utils.escape(this.attributes[P])+'"');return R+="/>",R}}function assertSymbolDomNode(_){if(_ instanceof SymbolNode)return _;throw new Error("Expected symbolNode but got "+String(_)+".")}function assertSpan(_){if(_ instanceof Span)return _;throw new Error("Expected span<HtmlDomNode> but got "+String(_)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(_,R,P,O,I,L){symbols[_][I]={font:R,group:P,replace:O},L&&O&&(symbols[_][O]=symbols[_][I])}var math="math",text$2="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",inner="inner",mathord="mathord",op="op-token",open="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"","\\equiv",!0);defineSymbol(math,main,rel,"","\\prec",!0);defineSymbol(math,main,rel,"","\\succ",!0);defineSymbol(math,main,rel,"","\\sim",!0);defineSymbol(math,main,rel,"","\\perp");defineSymbol(math,main,rel,"","\\preceq",!0);defineSymbol(math,main,rel,"","\\succeq",!0);defineSymbol(math,main,rel,"","\\simeq",!0);defineSymbol(math,main,rel,"","\\mid",!0);defineSymbol(math,main,rel,"","\\ll",!0);defineSymbol(math,main,rel,"","\\gg",!0);defineSymbol(math,main,rel,"","\\asymp",!0);defineSymbol(math,main,rel,"","\\parallel");defineSymbol(math,main,rel,"","\\bowtie",!0);defineSymbol(math,main,rel,"","\\smile",!0);defineSymbol(math,main,rel,"","\\sqsubseteq",!0);defineSymbol(math,main,rel,"","\\sqsupseteq",!0);defineSymbol(math,main,rel,"","\\doteq",!0);defineSymbol(math,main,rel,"","\\frown",!0);defineSymbol(math,main,rel,"","\\ni",!0);defineSymbol(math,main,rel,"","\\propto",!0);defineSymbol(math,main,rel,"","\\vdash",!0);defineSymbol(math,main,rel,"","\\dashv",!0);defineSymbol(math,main,rel,"","\\owns");defineSymbol(math,main,punct,".","\\ldotp");defineSymbol(math,main,punct,"","\\cdotp");defineSymbol(math,main,textord,"#","\\#");defineSymbol(text$2,main,textord,"#","\\#");defineSymbol(math,main,textord,"&","\\&");defineSymbol(text$2,main,textord,"&","\\&");defineSymbol(math,main,textord,"","\\aleph",!0);defineSymbol(math,main,textord,"","\\forall",!0);defineSymbol(math,main,textord,"","\\hbar",!0);defineSymbol(math,main,textord,"","\\exists",!0);defineSymbol(math,main,textord,"","\\nabla",!0);defineSymbol(math,main,textord,"","\\flat",!0);defineSymbol(math,main,textord,"","\\ell",!0);defineSymbol(math,main,textord,"","\\natural",!0);defineSymbol(math,main,textord,"","\\clubsuit",!0);defineSymbol(math,main,textord,"","\\wp",!0);defineSymbol(math,main,textord,"","\\sharp",!0);defineSymbol(math,main,textord,"","\\diamondsuit",!0);defineSymbol(math,main,textord,"","\\Re",!0);defineSymbol(math,main,textord,"","\\heartsuit",!0);defineSymbol(math,main,textord,"","\\Im",!0);defineSymbol(math,main,textord,"","\\spadesuit",!0);defineSymbol(math,main,textord,"","\\S",!0);defineSymbol(text$2,main,textord,"","\\S");defineSymbol(math,main,textord,"","\\P",!0);defineSymbol(text$2,main,textord,"","\\P");defineSymbol(math,main,textord,"","\\dag");defineSymbol(text$2,main,textord,"","\\dag");defineSymbol(text$2,main,textord,"","\\textdagger");defineSymbol(math,main,textord,"","\\ddag");defineSymbol(text$2,main,textord,"","\\ddag");defineSymbol(text$2,main,textord,"","\\textdaggerdbl");defineSymbol(math,main,close,"","\\rmoustache",!0);defineSymbol(math,main,open,"","\\lmoustache",!0);defineSymbol(math,main,close,"","\\rgroup",!0);defineSymbol(math,main,open,"","\\lgroup",!0);defineSymbol(math,main,bin,"","\\mp",!0);defineSymbol(math,main,bin,"","\\ominus",!0);defineSymbol(math,main,bin,"","\\uplus",!0);defineSymbol(math,main,bin,"","\\sqcap",!0);defineSymbol(math,main,bin,"","\\ast");defineSymbol(math,main,bin,"","\\sqcup",!0);defineSymbol(math,main,bin,"","\\bigcirc",!0);defineSymbol(math,main,bin,"","\\bullet",!0);defineSymbol(math,main,bin,"","\\ddagger");defineSymbol(math,main,bin,"","\\wr",!0);defineSymbol(math,main,bin,"","\\amalg");defineSymbol(math,main,bin,"&","\\And");defineSymbol(math,main,rel,"","\\longleftarrow",!0);defineSymbol(math,main,rel,"","\\Leftarrow",!0);defineSymbol(math,main,rel,"","\\Longleftarrow",!0);defineSymbol(math,main,rel,"","\\longrightarrow",!0);defineSymbol(math,main,rel,"","\\Rightarrow",!0);defineSymbol(math,main,rel,"","\\Longrightarrow",!0);defineSymbol(math,main,rel,"","\\leftrightarrow",!0);defineSymbol(math,main,rel,"","\\longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\Leftrightarrow",!0);defineSymbol(math,main,rel,"","\\Longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\mapsto",!0);defineSymbol(math,main,rel,"","\\longmapsto",!0);defineSymbol(math,main,rel,"","\\nearrow",!0);defineSymbol(math,main,rel,"","\\hookleftarrow",!0);defineSymbol(math,main,rel,"","\\hookrightarrow",!0);defineSymbol(math,main,rel,"","\\searrow",!0);defineSymbol(math,main,rel,"","\\leftharpoonup",!0);defineSymbol(math,main,rel,"","\\rightharpoonup",!0);defineSymbol(math,main,rel,"","\\swarrow",!0);defineSymbol(math,main,rel,"","\\leftharpoondown",!0);defineSymbol(math,main,rel,"","\\rightharpoondown",!0);defineSymbol(math,main,rel,"","\\nwarrow",!0);defineSymbol(math,main,rel,"","\\rightleftharpoons",!0);defineSymbol(math,ams,rel,"","\\nless",!0);defineSymbol(math,ams,rel,"","\\@nleqslant");defineSymbol(math,ams,rel,"","\\@nleqq");defineSymbol(math,ams,rel,"","\\lneq",!0);defineSymbol(math,ams,rel,"","\\lneqq",!0);defineSymbol(math,ams,rel,"","\\@lvertneqq");defineSymbol(math,ams,rel,"","\\lnsim",!0);defineSymbol(math,ams,rel,"","\\lnapprox",!0);defineSymbol(math,ams,rel,"","\\nprec",!0);defineSymbol(math,ams,rel,"","\\npreceq",!0);defineSymbol(math,ams,rel,"","\\precnsim",!0);defineSymbol(math,ams,rel,"","\\precnapprox",!0);defineSymbol(math,ams,rel,"","\\nsim",!0);defineSymbol(math,ams,rel,"","\\@nshortmid");defineSymbol(math,ams,rel,"","\\nmid",!0);defineSymbol(math,ams,rel,"","\\nvdash",!0);defineSymbol(math,ams,rel,"","\\nvDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleleft");defineSymbol(math,ams,rel,"","\\ntrianglelefteq",!0);defineSymbol(math,ams,rel,"","\\subsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneq");defineSymbol(math,ams,rel,"","\\subsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneqq");defineSymbol(math,ams,rel,"","\\ngtr",!0);defineSymbol(math,ams,rel,"","\\@ngeqslant");defineSymbol(math,ams,rel,"","\\@ngeqq");defineSymbol(math,ams,rel,"","\\gneq",!0);defineSymbol(math,ams,rel,"","\\gneqq",!0);defineSymbol(math,ams,rel,"","\\@gvertneqq");defineSymbol(math,ams,rel,"","\\gnsim",!0);defineSymbol(math,ams,rel,"","\\gnapprox",!0);defineSymbol(math,ams,rel,"","\\nsucc",!0);defineSymbol(math,ams,rel,"","\\nsucceq",!0);defineSymbol(math,ams,rel,"","\\succnsim",!0);defineSymbol(math,ams,rel,"","\\succnapprox",!0);defineSymbol(math,ams,rel,"","\\ncong",!0);defineSymbol(math,ams,rel,"","\\@nshortparallel");defineSymbol(math,ams,rel,"","\\nparallel",!0);defineSymbol(math,ams,rel,"","\\nVDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleright");defineSymbol(math,ams,rel,"","\\ntrianglerighteq",!0);defineSymbol(math,ams,rel,"","\\@nsupseteqq");defineSymbol(math,ams,rel,"","\\supsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneq");defineSymbol(math,ams,rel,"","\\supsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneqq");defineSymbol(math,ams,rel,"","\\nVdash",!0);defineSymbol(math,ams,rel,"","\\precneqq",!0);defineSymbol(math,ams,rel,"","\\succneqq",!0);defineSymbol(math,ams,rel,"","\\@nsubseteqq");defineSymbol(math,ams,bin,"","\\unlhd");defineSymbol(math,ams,bin,"","\\unrhd");defineSymbol(math,ams,rel,"","\\nleftarrow",!0);defineSymbol(math,ams,rel,"","\\nrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftarrow",!0);defineSymbol(math,ams,rel,"","\\nRightarrow",!0);defineSymbol(math,ams,rel,"","\\nleftrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftrightarrow",!0);defineSymbol(math,ams,rel,"","\\vartriangle");defineSymbol(math,ams,textord,"","\\hslash");defineSymbol(math,ams,textord,"","\\triangledown");defineSymbol(math,ams,textord,"","\\lozenge");defineSymbol(math,ams,textord,"","\\circledS");defineSymbol(math,ams,textord,"","\\circledR");defineSymbol(text$2,ams,textord,"","\\circledR");defineSymbol(math,ams,textord,"","\\measuredangle",!0);defineSymbol(math,ams,textord,"","\\nexists");defineSymbol(math,ams,textord,"","\\mho");defineSymbol(math,ams,textord,"","\\Finv",!0);defineSymbol(math,ams,textord,"","\\Game",!0);defineSymbol(math,ams,textord,"","\\backprime");defineSymbol(math,ams,textord,"","\\blacktriangle");defineSymbol(math,ams,textord,"","\\blacktriangledown");defineSymbol(math,ams,textord,"","\\blacksquare");defineSymbol(math,ams,textord,"","\\blacklozenge");defineSymbol(math,ams,textord,"","\\bigstar");defineSymbol(math,ams,textord,"","\\sphericalangle",!0);defineSymbol(math,ams,textord,"","\\complement",!0);defineSymbol(math,ams,textord,"","\\eth",!0);defineSymbol(text$2,main,textord,"","");defineSymbol(math,ams,textord,"","\\diagup");defineSymbol(math,ams,textord,"","\\diagdown");defineSymbol(math,ams,textord,"","\\square");defineSymbol(math,ams,textord,"","\\Box");defineSymbol(math,ams,textord,"","\\Diamond");defineSymbol(math,ams,textord,"","\\yen",!0);defineSymbol(text$2,ams,textord,"","\\yen",!0);defineSymbol(math,ams,textord,"","\\checkmark",!0);defineSymbol(text$2,ams,textord,"","\\checkmark");defineSymbol(math,ams,textord,"","\\beth",!0);defineSymbol(math,ams,textord,"","\\daleth",!0);defineSymbol(math,ams,textord,"","\\gimel",!0);defineSymbol(math,ams,textord,"","\\digamma",!0);defineSymbol(math,ams,textord,"","\\varkappa");defineSymbol(math,ams,open,"","\\@ulcorner",!0);defineSymbol(math,ams,close,"","\\@urcorner",!0);defineSymbol(math,ams,open,"","\\@llcorner",!0);defineSymbol(math,ams,close,"","\\@lrcorner",!0);defineSymbol(math,ams,rel,"","\\leqq",!0);defineSymbol(math,ams,rel,"","\\leqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantless",!0);defineSymbol(math,ams,rel,"","\\lesssim",!0);defineSymbol(math,ams,rel,"","\\lessapprox",!0);defineSymbol(math,ams,rel,"","\\approxeq",!0);defineSymbol(math,ams,bin,"","\\lessdot");defineSymbol(math,ams,rel,"","\\lll",!0);defineSymbol(math,ams,rel,"","\\lessgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqqgtr",!0);defineSymbol(math,ams,rel,"","\\doteqdot");defineSymbol(math,ams,rel,"","\\risingdotseq",!0);defineSymbol(math,ams,rel,"","\\fallingdotseq",!0);defineSymbol(math,ams,rel,"","\\backsim",!0);defineSymbol(math,ams,rel,"","\\backsimeq",!0);defineSymbol(math,ams,rel,"","\\subseteqq",!0);defineSymbol(math,ams,rel,"","\\Subset",!0);defineSymbol(math,ams,rel,"","\\sqsubset",!0);defineSymbol(math,ams,rel,"","\\preccurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqprec",!0);defineSymbol(math,ams,rel,"","\\precsim",!0);defineSymbol(math,ams,rel,"","\\precapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleleft");defineSymbol(math,ams,rel,"","\\trianglelefteq");defineSymbol(math,ams,rel,"","\\vDash",!0);defineSymbol(math,ams,rel,"","\\Vvdash",!0);defineSymbol(math,ams,rel,"","\\smallsmile");defineSymbol(math,ams,rel,"","\\smallfrown");defineSymbol(math,ams,rel,"","\\bumpeq",!0);defineSymbol(math,ams,rel,"","\\Bumpeq",!0);defineSymbol(math,ams,rel,"","\\geqq",!0);defineSymbol(math,ams,rel,"","\\geqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantgtr",!0);defineSymbol(math,ams,rel,"","\\gtrsim",!0);defineSymbol(math,ams,rel,"","\\gtrapprox",!0);defineSymbol(math,ams,bin,"","\\gtrdot");defineSymbol(math,ams,rel,"","\\ggg",!0);defineSymbol(math,ams,rel,"","\\gtrless",!0);defineSymbol(math,ams,rel,"","\\gtreqless",!0);defineSymbol(math,ams,rel,"","\\gtreqqless",!0);defineSymbol(math,ams,rel,"","\\eqcirc",!0);defineSymbol(math,ams,rel,"","\\circeq",!0);defineSymbol(math,ams,rel,"","\\triangleq",!0);defineSymbol(math,ams,rel,"","\\thicksim");defineSymbol(math,ams,rel,"","\\thickapprox");defineSymbol(math,ams,rel,"","\\supseteqq",!0);defineSymbol(math,ams,rel,"","\\Supset",!0);defineSymbol(math,ams,rel,"","\\sqsupset",!0);defineSymbol(math,ams,rel,"","\\succcurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqsucc",!0);defineSymbol(math,ams,rel,"","\\succsim",!0);defineSymbol(math,ams,rel,"","\\succapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleright");defineSymbol(math,ams,rel,"","\\trianglerighteq");defineSymbol(math,ams,rel,"","\\Vdash",!0);defineSymbol(math,ams,rel,"","\\shortmid");defineSymbol(math,ams,rel,"","\\shortparallel");defineSymbol(math,ams,rel,"","\\between",!0);defineSymbol(math,ams,rel,"","\\pitchfork",!0);defineSymbol(math,ams,rel,"","\\varpropto");defineSymbol(math,ams,rel,"","\\blacktriangleleft");defineSymbol(math,ams,rel,"","\\therefore",!0);defineSymbol(math,ams,rel,"","\\backepsilon");defineSymbol(math,ams,rel,"","\\blacktriangleright");defineSymbol(math,ams,rel,"","\\because",!0);defineSymbol(math,ams,rel,"","\\llless");defineSymbol(math,ams,rel,"","\\gggtr");defineSymbol(math,ams,bin,"","\\lhd");defineSymbol(math,ams,bin,"","\\rhd");defineSymbol(math,ams,rel,"","\\eqsim",!0);defineSymbol(math,main,rel,"","\\Join");defineSymbol(math,ams,rel,"","\\Doteq",!0);defineSymbol(math,ams,bin,"","\\dotplus",!0);defineSymbol(math,ams,bin,"","\\smallsetminus");defineSymbol(math,ams,bin,"","\\Cap",!0);defineSymbol(math,ams,bin,"","\\Cup",!0);defineSymbol(math,ams,bin,"","\\doublebarwedge",!0);defineSymbol(math,ams,bin,"","\\boxminus",!0);defineSymbol(math,ams,bin,"","\\boxplus",!0);defineSymbol(math,ams,bin,"","\\divideontimes",!0);defineSymbol(math,ams,bin,"","\\ltimes",!0);defineSymbol(math,ams,bin,"","\\rtimes",!0);defineSymbol(math,ams,bin,"","\\leftthreetimes",!0);defineSymbol(math,ams,bin,"","\\rightthreetimes",!0);defineSymbol(math,ams,bin,"","\\curlywedge",!0);defineSymbol(math,ams,bin,"","\\curlyvee",!0);defineSymbol(math,ams,bin,"","\\circleddash",!0);defineSymbol(math,ams,bin,"","\\circledast",!0);defineSymbol(math,ams,bin,"","\\centerdot");defineSymbol(math,ams,bin,"","\\intercal",!0);defineSymbol(math,ams,bin,"","\\doublecap");defineSymbol(math,ams,bin,"","\\doublecup");defineSymbol(math,ams,bin,"","\\boxtimes",!0);defineSymbol(math,ams,rel,"","\\dashrightarrow",!0);defineSymbol(math,ams,rel,"","\\dashleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftleftarrows",!0);defineSymbol(math,ams,rel,"","\\leftrightarrows",!0);defineSymbol(math,ams,rel,"","\\Lleftarrow",!0);defineSymbol(math,ams,rel,"","\\twoheadleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowleft",!0);defineSymbol(math,ams,rel,"","\\leftrightharpoons",!0);defineSymbol(math,ams,rel,"","\\curvearrowleft",!0);defineSymbol(math,ams,rel,"","\\circlearrowleft",!0);defineSymbol(math,ams,rel,"","\\Lsh",!0);defineSymbol(math,ams,rel,"","\\upuparrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonleft",!0);defineSymbol(math,ams,rel,"","\\downharpoonleft",!0);defineSymbol(math,main,rel,"","\\origof",!0);defineSymbol(math,main,rel,"","\\imageof",!0);defineSymbol(math,ams,rel,"","\\multimap",!0);defineSymbol(math,ams,rel,"","\\leftrightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\rightrightarrows",!0);defineSymbol(math,ams,rel,"","\\rightleftarrows",!0);defineSymbol(math,ams,rel,"","\\twoheadrightarrow",!0);defineSymbol(math,ams,rel,"","\\rightarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowright",!0);defineSymbol(math,ams,rel,"","\\curvearrowright",!0);defineSymbol(math,ams,rel,"","\\circlearrowright",!0);defineSymbol(math,ams,rel,"","\\Rsh",!0);defineSymbol(math,ams,rel,"","\\downdownarrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonright",!0);defineSymbol(math,ams,rel,"","\\downharpoonright",!0);defineSymbol(math,ams,rel,"","\\rightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\leadsto");defineSymbol(math,ams,rel,"","\\Rrightarrow",!0);defineSymbol(math,ams,rel,"","\\restriction");defineSymbol(math,main,textord,"","`");defineSymbol(math,main,textord,"$","\\$");defineSymbol(text$2,main,textord,"$","\\$");defineSymbol(text$2,main,textord,"$","\\textdollar");defineSymbol(math,main,textord,"%","\\%");defineSymbol(text$2,main,textord,"%","\\%");defineSymbol(math,main,textord,"_","\\_");defineSymbol(text$2,main,textord,"_","\\_");defineSymbol(text$2,main,textord,"_","\\textunderscore");defineSymbol(math,main,textord,"","\\angle",!0);defineSymbol(math,main,textord,"","\\infty",!0);defineSymbol(math,main,textord,"","\\prime");defineSymbol(math,main,textord,"","\\triangle");defineSymbol(math,main,textord,"","\\Gamma",!0);defineSymbol(math,main,textord,"","\\Delta",!0);defineSymbol(math,main,textord,"","\\Theta",!0);defineSymbol(math,main,textord,"","\\Lambda",!0);defineSymbol(math,main,textord,"","\\Xi",!0);defineSymbol(math,main,textord,"","\\Pi",!0);defineSymbol(math,main,textord,"","\\Sigma",!0);defineSymbol(math,main,textord,"","\\Upsilon",!0);defineSymbol(math,main,textord,"","\\Phi",!0);defineSymbol(math,main,textord,"","\\Psi",!0);defineSymbol(math,main,textord,"","\\Omega",!0);defineSymbol(math,main,textord,"A","");defineSymbol(math,main,textord,"B","");defineSymbol(math,main,textord,"E","");defineSymbol(math,main,textord,"Z","");defineSymbol(math,main,textord,"H","");defineSymbol(math,main,textord,"I","");defineSymbol(math,main,textord,"K","");defineSymbol(math,main,textord,"M","");defineSymbol(math,main,textord,"N","");defineSymbol(math,main,textord,"O","");defineSymbol(math,main,textord,"P","");defineSymbol(math,main,textord,"T","");defineSymbol(math,main,textord,"X","");defineSymbol(math,main,textord,"","\\neg",!0);defineSymbol(math,main,textord,"","\\lnot");defineSymbol(math,main,textord,"","\\top");defineSymbol(math,main,textord,"","\\bot");defineSymbol(math,main,textord,"","\\emptyset");defineSymbol(math,ams,textord,"","\\varnothing");defineSymbol(math,main,mathord,"","\\alpha",!0);defineSymbol(math,main,mathord,"","\\beta",!0);defineSymbol(math,main,mathord,"","\\gamma",!0);defineSymbol(math,main,mathord,"","\\delta",!0);defineSymbol(math,main,mathord,"","\\epsilon",!0);defineSymbol(math,main,mathord,"","\\zeta",!0);defineSymbol(math,main,mathord,"","\\eta",!0);defineSymbol(math,main,mathord,"","\\theta",!0);defineSymbol(math,main,mathord,"","\\iota",!0);defineSymbol(math,main,mathord,"","\\kappa",!0);defineSymbol(math,main,mathord,"","\\lambda",!0);defineSymbol(math,main,mathord,"","\\mu",!0);defineSymbol(math,main,mathord,"","\\nu",!0);defineSymbol(math,main,mathord,"","\\xi",!0);defineSymbol(math,main,mathord,"","\\omicron",!0);defineSymbol(math,main,mathord,"","\\pi",!0);defineSymbol(math,main,mathord,"","\\rho",!0);defineSymbol(math,main,mathord,"","\\sigma",!0);defineSymbol(math,main,mathord,"","\\tau",!0);defineSymbol(math,main,mathord,"","\\upsilon",!0);defineSymbol(math,main,mathord,"","\\phi",!0);defineSymbol(math,main,mathord,"","\\chi",!0);defineSymbol(math,main,mathord,"","\\psi",!0);defineSymbol(math,main,mathord,"","\\omega",!0);defineSymbol(math,main,mathord,"","\\varepsilon",!0);defineSymbol(math,main,mathord,"","\\vartheta",!0);defineSymbol(math,main,mathord,"","\\varpi",!0);defineSymbol(math,main,mathord,"","\\varrho",!0);defineSymbol(math,main,mathord,"","\\varsigma",!0);defineSymbol(math,main,mathord,"","\\varphi",!0);defineSymbol(math,main,bin,"","*",!0);defineSymbol(math,main,bin,"+","+");defineSymbol(math,main,bin,"","-",!0);defineSymbol(math,main,bin,"","\\cdot",!0);defineSymbol(math,main,bin,"","\\circ",!0);defineSymbol(math,main,bin,"","\\div",!0);defineSymbol(math,main,bin,"","\\pm",!0);defineSymbol(math,main,bin,"","\\times",!0);defineSymbol(math,main,bin,"","\\cap",!0);defineSymbol(math,main,bin,"","\\cup",!0);defineSymbol(math,main,bin,"","\\setminus",!0);defineSymbol(math,main,bin,"","\\land");defineSymbol(math,main,bin,"","\\lor");defineSymbol(math,main,bin,"","\\wedge",!0);defineSymbol(math,main,bin,"","\\vee",!0);defineSymbol(math,main,textord,"","\\surd");defineSymbol(math,main,open,"","\\langle",!0);defineSymbol(math,main,open,"","\\lvert");defineSymbol(math,main,open,"","\\lVert");defineSymbol(math,main,close,"?","?");defineSymbol(math,main,close,"!","!");defineSymbol(math,main,close,"","\\rangle",!0);defineSymbol(math,main,close,"","\\rvert");defineSymbol(math,main,close,"","\\rVert");defineSymbol(math,main,rel,"=","=");defineSymbol(math,main,rel,":",":");defineSymbol(math,main,rel,"","\\approx",!0);defineSymbol(math,main,rel,"","\\cong",!0);defineSymbol(math,main,rel,"","\\ge");defineSymbol(math,main,rel,"","\\geq",!0);defineSymbol(math,main,rel,"","\\gets");defineSymbol(math,main,rel,">","\\gt",!0);defineSymbol(math,main,rel,"","\\in",!0);defineSymbol(math,main,rel,"","\\@not");defineSymbol(math,main,rel,"","\\subset",!0);defineSymbol(math,main,rel,"","\\supset",!0);defineSymbol(math,main,rel,"","\\subseteq",!0);defineSymbol(math,main,rel,"","\\supseteq",!0);defineSymbol(math,ams,rel,"","\\nsubseteq",!0);defineSymbol(math,ams,rel,"","\\nsupseteq",!0);defineSymbol(math,main,rel,"","\\models");defineSymbol(math,main,rel,"","\\leftarrow",!0);defineSymbol(math,main,rel,"","\\le");defineSymbol(math,main,rel,"","\\leq",!0);defineSymbol(math,main,rel,"<","\\lt",!0);defineSymbol(math,main,rel,"","\\rightarrow",!0);defineSymbol(math,main,rel,"","\\to");defineSymbol(math,ams,rel,"","\\ngeq",!0);defineSymbol(math,ams,rel,"","\\nleq",!0);defineSymbol(math,main,spacing,"","\\ ");defineSymbol(math,main,spacing,"","\\space");defineSymbol(math,main,spacing,"","\\nobreakspace");defineSymbol(text$2,main,spacing,"","\\ ");defineSymbol(text$2,main,spacing,""," ");defineSymbol(text$2,main,spacing,"","\\space");defineSymbol(text$2,main,spacing,"","\\nobreakspace");defineSymbol(math,main,spacing,null,"\\nobreak");defineSymbol(math,main,spacing,null,"\\allowbreak");defineSymbol(math,main,punct,",",",");defineSymbol(math,main,punct,";",";");defineSymbol(math,ams,bin,"","\\barwedge",!0);defineSymbol(math,ams,bin,"","\\veebar",!0);defineSymbol(math,main,bin,"","\\odot",!0);defineSymbol(math,main,bin,"","\\oplus",!0);defineSymbol(math,main,bin,"","\\otimes",!0);defineSymbol(math,main,textord,"","\\partial",!0);defineSymbol(math,main,bin,"","\\oslash",!0);defineSymbol(math,ams,bin,"","\\circledcirc",!0);defineSymbol(math,ams,bin,"","\\boxdot",!0);defineSymbol(math,main,bin,"","\\bigtriangleup");defineSymbol(math,main,bin,"","\\bigtriangledown");defineSymbol(math,main,bin,"","\\dagger");defineSymbol(math,main,bin,"","\\diamond");defineSymbol(math,main,bin,"","\\star");defineSymbol(math,main,bin,"","\\triangleleft");defineSymbol(math,main,bin,"","\\triangleright");defineSymbol(math,main,open,"{","\\{");defineSymbol(text$2,main,textord,"{","\\{");defineSymbol(text$2,main,textord,"{","\\textbraceleft");defineSymbol(math,main,close,"}","\\}");defineSymbol(text$2,main,textord,"}","\\}");defineSymbol(text$2,main,textord,"}","\\textbraceright");defineSymbol(math,main,open,"{","\\lbrace");defineSymbol(math,main,close,"}","\\rbrace");defineSymbol(math,main,open,"[","\\lbrack",!0);defineSymbol(text$2,main,textord,"[","\\lbrack",!0);defineSymbol(math,main,close,"]","\\rbrack",!0);defineSymbol(text$2,main,textord,"]","\\rbrack",!0);defineSymbol(math,main,open,"(","\\lparen",!0);defineSymbol(math,main,close,")","\\rparen",!0);defineSymbol(text$2,main,textord,"<","\\textless",!0);defineSymbol(text$2,main,textord,">","\\textgreater",!0);defineSymbol(math,main,open,"","\\lfloor",!0);defineSymbol(math,main,close,"","\\rfloor",!0);defineSymbol(math,main,open,"","\\lceil",!0);defineSymbol(math,main,close,"","\\rceil",!0);defineSymbol(math,main,textord,"\\","\\backslash");defineSymbol(math,main,textord,"","|");defineSymbol(math,main,textord,"","\\vert");defineSymbol(text$2,main,textord,"|","\\textbar",!0);defineSymbol(math,main,textord,"","\\|");defineSymbol(math,main,textord,"","\\Vert");defineSymbol(text$2,main,textord,"","\\textbardbl");defineSymbol(text$2,main,textord,"~","\\textasciitilde");defineSymbol(text$2,main,textord,"\\","\\textbackslash");defineSymbol(text$2,main,textord,"^","\\textasciicircum");defineSymbol(math,main,rel,"","\\uparrow",!0);defineSymbol(math,main,rel,"","\\Uparrow",!0);defineSymbol(math,main,rel,"","\\downarrow",!0);defineSymbol(math,main,rel,"","\\Downarrow",!0);defineSymbol(math,main,rel,"","\\updownarrow",!0);defineSymbol(math,main,rel,"","\\Updownarrow",!0);defineSymbol(math,main,op,"","\\coprod");defineSymbol(math,main,op,"","\\bigvee");defineSymbol(math,main,op,"","\\bigwedge");defineSymbol(math,main,op,"","\\biguplus");defineSymbol(math,main,op,"","\\bigcap");defineSymbol(math,main,op,"","\\bigcup");defineSymbol(math,main,op,"","\\int");defineSymbol(math,main,op,"","\\intop");defineSymbol(math,main,op,"","\\iint");defineSymbol(math,main,op,"","\\iiint");defineSymbol(math,main,op,"","\\prod");defineSymbol(math,main,op,"","\\sum");defineSymbol(math,main,op,"","\\bigotimes");defineSymbol(math,main,op,"","\\bigoplus");defineSymbol(math,main,op,"","\\bigodot");defineSymbol(math,main,op,"","\\oint");defineSymbol(math,main,op,"","\\oiint");defineSymbol(math,main,op,"","\\oiiint");defineSymbol(math,main,op,"","\\bigsqcup");defineSymbol(math,main,op,"","\\smallint");defineSymbol(text$2,main,inner,"","\\textellipsis");defineSymbol(math,main,inner,"","\\mathellipsis");defineSymbol(text$2,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\@cdots",!0);defineSymbol(math,main,inner,"","\\ddots",!0);defineSymbol(math,main,textord,"","\\varvdots");defineSymbol(text$2,main,textord,"","\\varvdots");defineSymbol(math,main,accent,"","\\acute");defineSymbol(math,main,accent,"","\\grave");defineSymbol(math,main,accent,"","\\ddot");defineSymbol(math,main,accent,"~","\\tilde");defineSymbol(math,main,accent,"","\\bar");defineSymbol(math,main,accent,"","\\breve");defineSymbol(math,main,accent,"","\\check");defineSymbol(math,main,accent,"^","\\hat");defineSymbol(math,main,accent,"","\\vec");defineSymbol(math,main,accent,"","\\dot");defineSymbol(math,main,accent,"","\\mathring");defineSymbol(math,main,mathord,"","\\@imath");defineSymbol(math,main,mathord,"","\\@jmath");defineSymbol(math,main,textord,"","");defineSymbol(math,main,textord,"","");defineSymbol(text$2,main,textord,"","\\i",!0);defineSymbol(text$2,main,textord,"","\\j",!0);defineSymbol(text$2,main,textord,"","\\ss",!0);defineSymbol(text$2,main,textord,"","\\ae",!0);defineSymbol(text$2,main,textord,"","\\oe",!0);defineSymbol(text$2,main,textord,"","\\o",!0);defineSymbol(text$2,main,textord,"","\\AE",!0);defineSymbol(text$2,main,textord,"","\\OE",!0);defineSymbol(text$2,main,textord,"","\\O",!0);defineSymbol(text$2,main,accent,"","\\'");defineSymbol(text$2,main,accent,"","\\`");defineSymbol(text$2,main,accent,"","\\^");defineSymbol(text$2,main,accent,"","\\~");defineSymbol(text$2,main,accent,"","\\=");defineSymbol(text$2,main,accent,"","\\u");defineSymbol(text$2,main,accent,"","\\.");defineSymbol(text$2,main,accent,"","\\c");defineSymbol(text$2,main,accent,"","\\r");defineSymbol(text$2,main,accent,"","\\v");defineSymbol(text$2,main,accent,"",'\\"');defineSymbol(text$2,main,accent,"","\\H");defineSymbol(text$2,main,accent,"","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text$2,main,textord,"","--",!0);defineSymbol(text$2,main,textord,"","\\textendash");defineSymbol(text$2,main,textord,"","---",!0);defineSymbol(text$2,main,textord,"","\\textemdash");defineSymbol(text$2,main,textord,"","`",!0);defineSymbol(text$2,main,textord,"","\\textquoteleft");defineSymbol(text$2,main,textord,"","'",!0);defineSymbol(text$2,main,textord,"","\\textquoteright");defineSymbol(text$2,main,textord,"","``",!0);defineSymbol(text$2,main,textord,"","\\textquotedblleft");defineSymbol(text$2,main,textord,"","''",!0);defineSymbol(text$2,main,textord,"","\\textquotedblright");defineSymbol(math,main,textord,"","\\degree",!0);defineSymbol(text$2,main,textord,"","\\degree");defineSymbol(text$2,main,textord,"","\\textdegree",!0);defineSymbol(math,main,textord,"","\\pounds");defineSymbol(math,main,textord,"","\\mathsterling",!0);defineSymbol(text$2,main,textord,"","\\pounds");defineSymbol(text$2,main,textord,"","\\textsterling",!0);defineSymbol(math,ams,textord,"","\\maltese");defineSymbol(text$2,ams,textord,"","\\maltese");var mathTextSymbols='0123456789/@."';for(var i=0;i<mathTextSymbols.length;i++){var ch=mathTextSymbols.charAt(i);defineSymbol(math,main,textord,ch,ch)}var textSymbols='0123456789!@*()-=+";:?/.,';for(var _i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text$2,main,textord,_ch,_ch)}var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var _i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text$2,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C","");defineSymbol(text$2,ams,textord,"C","");defineSymbol(math,ams,textord,"H","");defineSymbol(text$2,ams,textord,"H","");defineSymbol(math,ams,textord,"N","");defineSymbol(text$2,ams,textord,"N","");defineSymbol(math,ams,textord,"P","");defineSymbol(text$2,ams,textord,"P","");defineSymbol(math,ams,textord,"Q","");defineSymbol(text$2,ams,textord,"Q","");defineSymbol(math,ams,textord,"R","");defineSymbol(text$2,ams,textord,"R","");defineSymbol(math,ams,textord,"Z","");defineSymbol(text$2,ams,textord,"Z","");defineSymbol(math,main,mathord,"h","");defineSymbol(text$2,main,mathord,"h","");var wideChar="";for(var _i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56684+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar))}wideChar="";defineSymbol(math,main,mathord,"k",wideChar);defineSymbol(text$2,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar)}var extraLatin="";for(var _i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text$2,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function _(R,P){var O=R.charCodeAt(0),I=R.charCodeAt(1),L=(O-55296)*1024+(I-56320)+65536,z=P==="math"?0:1;if(119808<=L&&L<120484){var F=Math.floor((L-119808)/26);return[wideLatinLetterData[F][2],wideLatinLetterData[F][z]]}else if(120782<=L&&L<=120831){var G=Math.floor((L-120782)/10);return[wideNumeralData[G][2],wideNumeralData[G][z]]}else{if(L===120485||L===120486)return[wideLatinLetterData[0][2],wideLatinLetterData[0][z]];if(120486<L&&L<120782)return["",""];throw new ParseError("Unsupported character: "+R)}},lookupSymbol=function _(R,P,O){return symbols[O][R]&&symbols[O][R].replace&&(R=symbols[O][R].replace),{value:R,metrics:getCharacterMetrics(R,P,O)}},makeSymbol=function _(R,P,O,I,L){var z=lookupSymbol(R,P,O),F=z.metrics;R=z.value;var G;if(F){var V=F.italic;(O==="text"||I&&I.font==="mathit")&&(V=0),G=new SymbolNode(R,F.height,F.depth,V,F.skew,F.width,L)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+R+"' in style '"+P+"' and mode '"+O+"'")),G=new SymbolNode(R,0,0,0,0,0,L);if(I){G.maxFontSize=I.sizeMultiplier,I.style.isTight()&&G.classes.push("mtight");var Z=I.getColor();Z&&(G.style.color=Z)}return G},mathsym=function _(R,P,O,I){return I===void 0&&(I=[]),O.font==="boldsymbol"&&lookupSymbol(R,"Main-Bold",P).metrics?makeSymbol(R,"Main-Bold",P,O,I.concat(["mathbf"])):R==="\\"||symbols[P][R].font==="main"?makeSymbol(R,"Main-Regular",P,O,I):makeSymbol(R,"AMS-Regular",P,O,I.concat(["amsrm"]))},boldsymbol=function _(R,P,O,I,L){return L!=="textord"&&lookupSymbol(R,"Math-BoldItalic",P).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function _(R,P,O){var I=R.mode,L=R.text,z=["mord"],F=I==="math"||I==="text"&&P.font,G=F?P.font:P.fontFamily,V="",Z="";if(L.charCodeAt(0)===55349&&([V,Z]=wideCharacterFont(L,I)),V.length>0)return makeSymbol(L,V,I,P,z.concat(Z));if(G){var Y,Q;if(G==="boldsymbol"){var J=boldsymbol(L,I,P,z,O);Y=J.fontName,Q=[J.fontClass]}else F?(Y=fontMap[G].fontName,Q=[G]):(Y=retrieveTextFontName(G,P.fontWeight,P.fontShape),Q=[G,P.fontWeight,P.fontShape]);if(lookupSymbol(L,Y,I).metrics)return makeSymbol(L,Y,I,P,z.concat(Q));if(ligatures.hasOwnProperty(L)&&Y.slice(0,10)==="Typewriter"){for(var te=[],ne=0;ne<L.length;ne++)te.push(makeSymbol(L[ne],Y,I,P,z.concat(Q)));return makeFragment(te)}}if(O==="mathord")return makeSymbol(L,"Math-Italic",I,P,z.concat(["mathnormal"]));if(O==="textord"){var ie=symbols[I][L]&&symbols[I][L].font;if(ie==="ams"){var se=retrieveTextFontName("amsrm",P.fontWeight,P.fontShape);return makeSymbol(L,se,I,P,z.concat("amsrm",P.fontWeight,P.fontShape))}else if(ie==="main"||!ie){var oe=retrieveTextFontName("textrm",P.fontWeight,P.fontShape);return makeSymbol(L,oe,I,P,z.concat(P.fontWeight,P.fontShape))}else{var ce=retrieveTextFontName(ie,P.fontWeight,P.fontShape);return makeSymbol(L,ce,I,P,z.concat(ce,P.fontWeight,P.fontShape))}}else throw new Error("unexpected type: "+O+" in makeOrd")},canCombine=(_,R)=>{if(createClass(_.classes)!==createClass(R.classes)||_.skew!==R.skew||_.maxFontSize!==R.maxFontSize)return!1;if(_.classes.length===1){var P=_.classes[0];if(P==="mbin"||P==="mord")return!1}for(var O in _.style)if(_.style.hasOwnProperty(O)&&_.style[O]!==R.style[O])return!1;for(var I in R.style)if(R.style.hasOwnProperty(I)&&_.style[I]!==R.style[I])return!1;return!0},tryCombineChars=_=>{for(var R=0;R<_.length-1;R++){var P=_[R],O=_[R+1];P instanceof SymbolNode&&O instanceof SymbolNode&&canCombine(P,O)&&(P.text+=O.text,P.height=Math.max(P.height,O.height),P.depth=Math.max(P.depth,O.depth),P.italic=O.italic,_.splice(R+1,1),R--)}return _},sizeElementFromChildren=function _(R){for(var P=0,O=0,I=0,L=0;L<R.children.length;L++){var z=R.children[L];z.height>P&&(P=z.height),z.depth>O&&(O=z.depth),z.maxFontSize>I&&(I=z.maxFontSize)}R.height=P,R.depth=O,R.maxFontSize=I},makeSpan$2=function _(R,P,O,I){var L=new Span(R,P,O,I);return sizeElementFromChildren(L),L},makeSvgSpan=(_,R,P,O)=>new Span(_,R,P,O),makeLineSpan=function _(R,P,O){var I=makeSpan$2([R],[],P);return I.height=Math.max(O||P.fontMetrics().defaultRuleThickness,P.minRuleThickness),I.style.borderBottomWidth=makeEm(I.height),I.maxFontSize=1,I},makeAnchor=function _(R,P,O,I){var L=new Anchor(R,P,O,I);return sizeElementFromChildren(L),L},makeFragment=function _(R){var P=new DocumentFragment$1(R);return sizeElementFromChildren(P),P},wrapFragment=function _(R,P){return R instanceof DocumentFragment$1?makeSpan$2([],[R],P):R},getVListChildrenAndDepth=function _(R){if(R.positionType==="individualShift"){for(var P=R.children,O=[P[0]],I=-P[0].shift-P[0].elem.depth,L=I,z=1;z<P.length;z++){var F=-P[z].shift-L-P[z].elem.depth,G=F-(P[z-1].elem.height+P[z-1].elem.depth);L=L+F,O.push({type:"kern",size:G}),O.push(P[z])}return{children:O,depth:I}}var V;if(R.positionType==="top"){for(var Z=R.positionData,Y=0;Y<R.children.length;Y++){var Q=R.children[Y];Z-=Q.type==="kern"?Q.size:Q.elem.height+Q.elem.depth}V=Z}else if(R.positionType==="bottom")V=-R.positionData;else{var J=R.children[0];if(J.type!=="elem")throw new Error('First child must have type "elem".');if(R.positionType==="shift")V=-J.elem.depth-R.positionData;else if(R.positionType==="firstBaseline")V=-J.elem.depth;else throw new Error("Invalid positionType "+R.positionType+".")}return{children:R.children,depth:V}},makeVList=function _(R,P){for(var{children:O,depth:I}=getVListChildrenAndDepth(R),L=0,z=0;z<O.length;z++){var F=O[z];if(F.type==="elem"){var G=F.elem;L=Math.max(L,G.maxFontSize,G.height)}}L+=2;var V=makeSpan$2(["pstrut"],[]);V.style.height=makeEm(L);for(var Z=[],Y=I,Q=I,J=I,te=0;te<O.length;te++){var ne=O[te];if(ne.type==="kern")J+=ne.size;else{var ie=ne.elem,se=ne.wrapperClasses||[],oe=ne.wrapperStyle||{},ce=makeSpan$2(se,[V,ie],void 0,oe);ce.style.top=makeEm(-L-J-ie.depth),ne.marginLeft&&(ce.style.marginLeft=ne.marginLeft),ne.marginRight&&(ce.style.marginRight=ne.marginRight),Z.push(ce),J+=ie.height+ie.depth}Y=Math.min(Y,J),Q=Math.max(Q,J)}var ue=makeSpan$2(["vlist"],Z);ue.style.height=makeEm(Q);var me;if(Y<0){var he=makeSpan$2([],[]),fe=makeSpan$2(["vlist"],[he]);fe.style.height=makeEm(-Y);var de=makeSpan$2(["vlist-s"],[new SymbolNode("")]);me=[makeSpan$2(["vlist-r"],[ue,de]),makeSpan$2(["vlist-r"],[fe])]}else me=[makeSpan$2(["vlist-r"],[ue])];var pe=makeSpan$2(["vlist-t"],me);return me.length===2&&pe.classes.push("vlist-t2"),pe.height=Q,pe.depth=-Y,pe},makeGlue=(_,R)=>{var P=makeSpan$2(["mspace"],[],R),O=calculateSize(_,R);return P.style.marginRight=makeEm(O),P},retrieveTextFontName=function _(R,P,O){var I="";switch(R){case"amsrm":I="AMS";break;case"textrm":I="Main";break;case"textsf":I="SansSerif";break;case"texttt":I="Typewriter";break;default:I=R}var L;return P==="textbf"&&O==="textit"?L="BoldItalic":P==="textbf"?L="Bold":P==="textit"?L="Italic":L="Regular",I+"-"+L},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function _(R,P){var[O,I,L]=svgData[R],z=new PathNode(O),F=new SvgNode([z],{width:makeEm(I),height:makeEm(L),style:"width:"+makeEm(I),viewBox:"0 0 "+1e3*I+" "+1e3*L,preserveAspectRatio:"xMinYMin"}),G=makeSvgSpan(["overlay"],[F],P);return G.height=L,G.style.height=makeEm(L),G.style.width=makeEm(I),G},buildCommon={fontMap,makeSymbol,mathsym,makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan,makeAnchor,makeFragment,wrapFragment,makeVList,makeOrd,makeGlue,staticSvg,svgData,tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(_){for(var{type:R,names:P,props:O,handler:I,htmlBuilder:L,mathmlBuilder:z}=_,F={type:R,numArgs:O.numArgs,argTypes:O.argTypes,allowedInArgument:!!O.allowedInArgument,allowedInText:!!O.allowedInText,allowedInMath:O.allowedInMath===void 0?!0:O.allowedInMath,numOptionalArgs:O.numOptionalArgs||0,infix:!!O.infix,primitive:!!O.primitive,handler:I},G=0;G<P.length;++G)_functions[P[G]]=F;R&&(L&&(_htmlGroupBuilders[R]=L),z&&(_mathmlGroupBuilders[R]=z))}function defineFunctionBuilders(_){var{type:R,htmlBuilder:P,mathmlBuilder:O}=_;defineFunction({type:R,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:P,mathmlBuilder:O})}var normalizeArgument=function _(R){return R.type==="ordgroup"&&R.body.length===1?R.body[0]:R},ordargument=function _(R){return R.type==="ordgroup"?R.body:[R]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function _(R,P,O,I){I===void 0&&(I=[null,null]);for(var L=[],z=0;z<R.length;z++){var F=buildGroup$1(R[z],P);if(F instanceof DocumentFragment$1){var G=F.children;L.push(...G)}else L.push(F)}if(buildCommon.tryCombineChars(L),!O)return L;var V=P;if(R.length===1){var Z=R[0];Z.type==="sizing"?V=P.havingSize(Z.size):Z.type==="styling"&&(V=P.havingStyle(styleMap$1[Z.style]))}var Y=makeSpan$1([I[0]||"leftmost"],[],P),Q=makeSpan$1([I[1]||"rightmost"],[],P),J=O==="root";return traverseNonSpaceNodes(L,(te,ne)=>{var ie=ne.classes[0],se=te.classes[0];ie==="mbin"&&binRightCanceller.includes(se)?ne.classes[0]="mord":se==="mbin"&&binLeftCanceller.includes(ie)&&(te.classes[0]="mord")},{node:Y},Q,J),traverseNonSpaceNodes(L,(te,ne)=>{var ie=getTypeOfDomTree(ne),se=getTypeOfDomTree(te),oe=ie&&se?te.hasClass("mtight")?tightSpacings[ie][se]:spacings[ie][se]:null;if(oe)return buildCommon.makeGlue(oe,V)},{node:Y},Q,J),L},traverseNonSpaceNodes=function _(R,P,O,I,L){I&&R.push(I);for(var z=0;z<R.length;z++){var F=R[z],G=checkPartialGroup(F);if(G){_(G.children,P,O,null,L);continue}var V=!F.hasClass("mspace");if(V){var Z=P(F,O.node);Z&&(O.insertAfter?O.insertAfter(Z):(R.unshift(Z),z++))}V?O.node=F:L&&F.hasClass("newline")&&(O.node=makeSpan$1(["leftmost"])),O.insertAfter=(Y=>Q=>{R.splice(Y+1,0,Q),z++})(z)}I&&R.pop()},checkPartialGroup=function _(R){return R instanceof DocumentFragment$1||R instanceof Anchor||R instanceof Span&&R.hasClass("enclosing")?R:null},getOutermostNode=function _(R,P){var O=checkPartialGroup(R);if(O){var I=O.children;if(I.length){if(P==="right")return _(I[I.length-1],"right");if(P==="left")return _(I[0],"left")}}return R},getTypeOfDomTree=function _(R,P){return R?(P&&(R=getOutermostNode(R,P)),DomEnum[R.classes[0]]||null):null},makeNullDelimiter=function _(R,P){var O=["nulldelimiter"].concat(R.baseSizingClasses());return makeSpan$1(P.concat(O))},buildGroup$1=function _(R,P,O){if(!R)return makeSpan$1();if(_htmlGroupBuilders[R.type]){var I=_htmlGroupBuilders[R.type](R,P);if(O&&P.size!==O.size){I=makeSpan$1(P.sizingClasses(O),[I],P);var L=P.sizeMultiplier/O.sizeMultiplier;I.height*=L,I.depth*=L}return I}else throw new ParseError("Got group of unknown type: '"+R.type+"'")};function buildHTMLUnbreakable(_,R){var P=makeSpan$1(["base"],_,R),O=makeSpan$1(["strut"]);return O.style.height=makeEm(P.height+P.depth),P.depth&&(O.style.verticalAlign=makeEm(-P.depth)),P.children.unshift(O),P}function buildHTML(_,R){var P=null;_.length===1&&_[0].type==="tag"&&(P=_[0].tag,_=_[0].body);var O=buildExpression$1(_,R,"root"),I;O.length===2&&O[1].hasClass("tag")&&(I=O.pop());for(var L=[],z=[],F=0;F<O.length;F++)if(z.push(O[F]),O[F].hasClass("mbin")||O[F].hasClass("mrel")||O[F].hasClass("allowbreak")){for(var G=!1;F<O.length-1&&O[F+1].hasClass("mspace")&&!O[F+1].hasClass("newline");)F++,z.push(O[F]),O[F].hasClass("nobreak")&&(G=!0);G||(L.push(buildHTMLUnbreakable(z,R)),z=[])}else O[F].hasClass("newline")&&(z.pop(),z.length>0&&(L.push(buildHTMLUnbreakable(z,R)),z=[]),L.push(O[F]));z.length>0&&L.push(buildHTMLUnbreakable(z,R));var V;P?(V=buildHTMLUnbreakable(buildExpression$1(P,R,!0)),V.classes=["tag"],L.push(V)):I&&L.push(I);var Z=makeSpan$1(["katex-html"],L);if(Z.setAttribute("aria-hidden","true"),V){var Y=V.children[0];Y.style.height=makeEm(Z.height+Z.depth),Z.depth&&(Y.style.verticalAlign=makeEm(-Z.depth))}return Z}function newDocumentFragment(_){return new DocumentFragment$1(_)}class MathNode{constructor(R,P,O){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=R,this.attributes={},this.children=P||[],this.classes=O||[]}setAttribute(R,P){this.attributes[R]=P}getAttribute(R){return this.attributes[R]}toNode(){var R=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var P in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,P)&&R.setAttribute(P,this.attributes[P]);this.classes.length>0&&(R.className=createClass(this.classes));for(var O=0;O<this.children.length;O++)if(this.children[O]instanceof TextNode&&this.children[O+1]instanceof TextNode){for(var I=this.children[O].toText()+this.children[++O].toText();this.children[O+1]instanceof TextNode;)I+=this.children[++O].toText();R.appendChild(new TextNode(I).toNode())}else R.appendChild(this.children[O].toNode());return R}toMarkup(){var R="<"+this.type;for(var P in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,P)&&(R+=" "+P+'="',R+=utils.escape(this.attributes[P]),R+='"');this.classes.length>0&&(R+=' class ="'+utils.escape(createClass(this.classes))+'"'),R+=">";for(var O=0;O<this.children.length;O++)R+=this.children[O].toMarkup();return R+="</"+this.type+">",R}toText(){return this.children.map(R=>R.toText()).join("")}}class TextNode{constructor(R){this.text=void 0,this.text=R}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}}class SpaceNode{constructor(R){this.width=void 0,this.character=void 0,this.width=R,R>=.05555&&R<=.05556?this.character="":R>=.1666&&R<=.1667?this.character="":R>=.2222&&R<=.2223?this.character="":R>=.2777&&R<=.2778?this.character="":R>=-.05556&&R<=-.05555?this.character="":R>=-.1667&&R<=-.1666?this.character="":R>=-.2223&&R<=-.2222?this.character="":R>=-.2778&&R<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var R=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return R.setAttribute("width",makeEm(this.width)),R}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode,TextNode,SpaceNode,newDocumentFragment},makeText=function _(R,P,O){return symbols[P][R]&&symbols[P][R].replace&&R.charCodeAt(0)!==55349&&!(ligatures.hasOwnProperty(R)&&O&&(O.fontFamily&&O.fontFamily.slice(4,6)==="tt"||O.font&&O.font.slice(4,6)==="tt"))&&(R=symbols[P][R].replace),new mathMLTree.TextNode(R)},makeRow=function _(R){return R.length===1?R[0]:new mathMLTree.MathNode("mrow",R)},getVariant=function _(R,P){if(P.fontFamily==="texttt")return"monospace";if(P.fontFamily==="textsf")return P.fontShape==="textit"&&P.fontWeight==="textbf"?"sans-serif-bold-italic":P.fontShape==="textit"?"sans-serif-italic":P.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(P.fontShape==="textit"&&P.fontWeight==="textbf")return"bold-italic";if(P.fontShape==="textit")return"italic";if(P.fontWeight==="textbf")return"bold";var O=P.font;if(!O||O==="mathnormal")return null;var I=R.mode;if(O==="mathit")return"italic";if(O==="boldsymbol")return R.type==="textord"?"bold":"bold-italic";if(O==="mathbf")return"bold";if(O==="mathbb")return"double-struck";if(O==="mathsfit")return"sans-serif-italic";if(O==="mathfrak")return"fraktur";if(O==="mathscr"||O==="mathcal")return"script";if(O==="mathsf")return"sans-serif";if(O==="mathtt")return"monospace";var L=R.text;if(["\\imath","\\jmath"].includes(L))return null;symbols[I][L]&&symbols[I][L].replace&&(L=symbols[I][L].replace);var z=buildCommon.fontMap[O].fontName;return getCharacterMetrics(L,z,I)?buildCommon.fontMap[O].variant:null};function isNumberPunctuation(_){if(!_)return!1;if(_.type==="mi"&&_.children.length===1){var R=_.children[0];return R instanceof TextNode&&R.text==="."}else if(_.type==="mo"&&_.children.length===1&&_.getAttribute("separator")==="true"&&_.getAttribute("lspace")==="0em"&&_.getAttribute("rspace")==="0em"){var P=_.children[0];return P instanceof TextNode&&P.text===","}else return!1}var buildExpression2=function _(R,P,O){if(R.length===1){var I=buildGroup2(R[0],P);return O&&I instanceof MathNode&&I.type==="mo"&&(I.setAttribute("lspace","0em"),I.setAttribute("rspace","0em")),[I]}for(var L=[],z,F=0;F<R.length;F++){var G=buildGroup2(R[F],P);if(G instanceof MathNode&&z instanceof MathNode){if(G.type==="mtext"&&z.type==="mtext"&&G.getAttribute("mathvariant")===z.getAttribute("mathvariant")){z.children.push(...G.children);continue}else if(G.type==="mn"&&z.type==="mn"){z.children.push(...G.children);continue}else if(isNumberPunctuation(G)&&z.type==="mn"){z.children.push(...G.children);continue}else if(G.type==="mn"&&isNumberPunctuation(z))G.children=[...z.children,...G.children],L.pop();else if((G.type==="msup"||G.type==="msub")&&G.children.length>=1&&(z.type==="mn"||isNumberPunctuation(z))){var V=G.children[0];V instanceof MathNode&&V.type==="mn"&&(V.children=[...z.children,...V.children],L.pop())}else if(z.type==="mi"&&z.children.length===1){var Z=z.children[0];if(Z instanceof TextNode&&Z.text===""&&(G.type==="mo"||G.type==="mi"||G.type==="mn")){var Y=G.children[0];Y instanceof TextNode&&Y.text.length>0&&(Y.text=Y.text.slice(0,1)+""+Y.text.slice(1),L.pop())}}}L.push(G),z=G}return L},buildExpressionRow=function _(R,P,O){return makeRow(buildExpression2(R,P,O))},buildGroup2=function _(R,P){if(!R)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[R.type]){var O=_mathmlGroupBuilders[R.type](R,P);return O}else throw new ParseError("Got group of unknown type: '"+R.type+"'")};function buildMathML(_,R,P,O,I){var L=buildExpression2(_,P),z;L.length===1&&L[0]instanceof MathNode&&["mrow","mtable"].includes(L[0].type)?z=L[0]:z=new mathMLTree.MathNode("mrow",L);var F=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(R)]);F.setAttribute("encoding","application/x-tex");var G=new mathMLTree.MathNode("semantics",[z,F]),V=new mathMLTree.MathNode("math",[G]);V.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),O&&V.setAttribute("display","block");var Z=I?"katex":"katex-mathml";return buildCommon.makeSpan([Z],[V])}var optionsFromSettings=function _(R){return new Options({style:R.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:R.maxSize,minRuleThickness:R.minRuleThickness})},displayWrap=function _(R,P){if(P.displayMode){var O=["katex-display"];P.leqno&&O.push("leqno"),P.fleqn&&O.push("fleqn"),R=buildCommon.makeSpan(O,[R])}return R},buildTree=function _(R,P,O){var I=optionsFromSettings(O),L;if(O.output==="mathml")return buildMathML(R,P,I,O.displayMode,!0);if(O.output==="html"){var z=buildHTML(R,I);L=buildCommon.makeSpan(["katex"],[z])}else{var F=buildMathML(R,P,I,O.displayMode,!1),G=buildHTML(R,I);L=buildCommon.makeSpan(["katex"],[F,G])}return displayWrap(L,O)},buildHTMLTree=function _(R,P,O){var I=optionsFromSettings(O),L=buildHTML(R,I),z=buildCommon.makeSpan(["katex"],[L]);return displayWrap(z,O)},stretchyCodePoint={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},mathMLnode=function _(R){var P=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[R.replace(/^\\/,"")])]);return P.setAttribute("stretchy","true"),P},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function _(R){return R.type==="ordgroup"?R.body.length:1},svgSpan=function _(R,P){function O(){var F=4e5,G=R.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(G)){var V=R,Z=groupLength(V.base),Y,Q,J;if(Z>5)G==="widehat"||G==="widecheck"?(Y=420,F=2364,J=.42,Q=G+"4"):(Y=312,F=2340,J=.34,Q="tilde4");else{var te=[1,1,2,2,3,3][Z];G==="widehat"||G==="widecheck"?(F=[0,1062,2364,2364,2364][te],Y=[0,239,300,360,420][te],J=[0,.24,.3,.3,.36,.42][te],Q=G+te):(F=[0,600,1033,2339,2340][te],Y=[0,260,286,306,312][te],J=[0,.26,.286,.3,.306,.34][te],Q="tilde"+te)}var ne=new PathNode(Q),ie=new SvgNode([ne],{width:"100%",height:makeEm(J),viewBox:"0 0 "+F+" "+Y,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[ie],P),minWidth:0,height:J}}else{var se=[],oe=katexImagesData[G],[ce,ue,me]=oe,he=me/1e3,fe=ce.length,de,pe;if(fe===1){var be=oe[3];de=["hide-tail"],pe=[be]}else if(fe===2)de=["halfarrow-left","halfarrow-right"],pe=["xMinYMin","xMaxYMin"];else if(fe===3)de=["brace-left","brace-center","brace-right"],pe=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+fe+" children.");for(var ye=0;ye<fe;ye++){var we=new PathNode(ce[ye]),ve=new SvgNode([we],{width:"400em",height:makeEm(he),viewBox:"0 0 "+F+" "+me,preserveAspectRatio:pe[ye]+" slice"}),Ae=buildCommon.makeSvgSpan([de[ye]],[ve],P);if(fe===1)return{span:Ae,minWidth:ue,height:he};Ae.style.height=makeEm(he),se.push(Ae)}return{span:buildCommon.makeSpan(["stretchy"],se,P),minWidth:ue,height:he}}}var{span:I,minWidth:L,height:z}=O();return I.height=z,I.style.height=makeEm(z),L>0&&(I.style.minWidth=makeEm(L)),I},encloseSpan=function _(R,P,O,I,L){var z,F=R.height+R.depth+O+I;if(/fbox|color|angl/.test(P)){if(z=buildCommon.makeSpan(["stretchy",P],[],L),P==="fbox"){var G=L.color&&L.getColor();G&&(z.style.borderColor=G)}}else{var V=[];/^[bx]cancel$/.test(P)&&V.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(P)&&V.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var Z=new SvgNode(V,{width:"100%",height:makeEm(F)});z=buildCommon.makeSvgSpan([],[Z],L)}return z.height=F,z.style.height=makeEm(F),z},stretchy={encloseSpan,mathMLnode,svgSpan};function assertNodeType(_,R){if(!_||_.type!==R)throw new Error("Expected node of type "+R+", but got "+(_?"node of type "+_.type:String(_)));return _}function assertSymbolNodeType(_){var R=checkSymbolNodeType(_);if(!R)throw new Error("Expected node of symbol group type, but got "+(_?"node of type "+_.type:String(_)));return R}function checkSymbolNodeType(_){return _&&(_.type==="atom"||NON_ATOMS.hasOwnProperty(_.type))?_:null}var htmlBuilder$a=(_,R)=>{var P,O,I;_&&_.type==="supsub"?(O=assertNodeType(_.base,"accent"),P=O.base,_.base=P,I=assertSpan(buildGroup$1(_,R)),_.base=O):(O=assertNodeType(_,"accent"),P=O.base);var L=buildGroup$1(P,R.havingCrampedStyle()),z=O.isShifty&&utils.isCharacterBox(P),F=0;if(z){var G=utils.getBaseElem(P),V=buildGroup$1(G,R.havingCrampedStyle());F=assertSymbolDomNode(V).skew}var Z=O.label==="\\c",Y=Z?L.height+L.depth:Math.min(L.height,R.fontMetrics().xHeight),Q;if(O.isStretchy)Q=stretchy.svgSpan(O,R),Q=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:L},{type:"elem",elem:Q,wrapperClasses:["svg-align"],wrapperStyle:F>0?{width:"calc(100% - "+makeEm(2*F)+")",marginLeft:makeEm(2*F)}:void 0}]},R);else{var J,te;O.label==="\\vec"?(J=buildCommon.staticSvg("vec",R),te=buildCommon.svgData.vec[1]):(J=buildCommon.makeOrd({mode:O.mode,text:O.label},R,"textord"),J=assertSymbolDomNode(J),J.italic=0,te=J.width,Z&&(Y+=J.depth)),Q=buildCommon.makeSpan(["accent-body"],[J]);var ne=O.label==="\\textcircled";ne&&(Q.classes.push("accent-full"),Y=L.height);var ie=F;ne||(ie-=te/2),Q.style.left=makeEm(ie),O.label==="\\textcircled"&&(Q.style.top=".2em"),Q=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:L},{type:"kern",size:-Y},{type:"elem",elem:Q}]},R)}var se=buildCommon.makeSpan(["mord","accent"],[Q],R);return I?(I.children[0]=se,I.height=Math.max(se.height,I.height),I.classes[0]="mord",I):se},mathmlBuilder$9=(_,R)=>{var P=_.isStretchy?stretchy.mathMLnode(_.label):new mathMLTree.MathNode("mo",[makeText(_.label,_.mode)]),O=new mathMLTree.MathNode("mover",[buildGroup2(_.base,R),P]);return O.setAttribute("accent","true"),O},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(_=>"\\"+_).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(_,R)=>{var P=normalizeArgument(R[0]),O=!NON_STRETCHY_ACCENT_REGEX.test(_.funcName),I=!O||_.funcName==="\\widehat"||_.funcName==="\\widetilde"||_.funcName==="\\widecheck";return{type:"accent",mode:_.parser.mode,label:_.funcName,isStretchy:O,isShifty:I,base:P}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(_,R)=>{var P=R[0],O=_.parser.mode;return O==="math"&&(_.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+_.funcName+" works only in text mode"),O="text"),{type:"accent",mode:O,label:_.funcName,isStretchy:!1,isShifty:!0,base:P}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(_,R)=>{var{parser:P,funcName:O}=_,I=R[0];return{type:"accentUnder",mode:P.mode,label:O,base:I}},htmlBuilder:(_,R)=>{var P=buildGroup$1(_.base,R),O=stretchy.svgSpan(_,R),I=_.label==="\\utilde"?.12:0,L=buildCommon.makeVList({positionType:"top",positionData:P.height,children:[{type:"elem",elem:O,wrapperClasses:["svg-align"]},{type:"kern",size:I},{type:"elem",elem:P}]},R);return buildCommon.makeSpan(["mord","accentunder"],[L],R)},mathmlBuilder:(_,R)=>{var P=stretchy.mathMLnode(_.label),O=new mathMLTree.MathNode("munder",[buildGroup2(_.base,R),P]);return O.setAttribute("accentunder","true"),O}});var paddedNode=_=>{var R=new mathMLTree.MathNode("mpadded",_?[_]:[]);return R.setAttribute("width","+0.6em"),R.setAttribute("lspace","0.3em"),R};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(_,R,P){var{parser:O,funcName:I}=_;return{type:"xArrow",mode:O.mode,label:I,body:R[0],below:P[0]}},htmlBuilder(_,R){var P=R.style,O=R.havingStyle(P.sup()),I=buildCommon.wrapFragment(buildGroup$1(_.body,O,R),R),L=_.label.slice(0,2)==="\\x"?"x":"cd";I.classes.push(L+"-arrow-pad");var z;_.below&&(O=R.havingStyle(P.sub()),z=buildCommon.wrapFragment(buildGroup$1(_.below,O,R),R),z.classes.push(L+"-arrow-pad"));var F=stretchy.svgSpan(_,R),G=-R.fontMetrics().axisHeight+.5*F.height,V=-R.fontMetrics().axisHeight-.5*F.height-.111;(I.depth>.25||_.label==="\\xleftequilibrium")&&(V-=I.depth);var Z;if(z){var Y=-R.fontMetrics().axisHeight+z.height+.5*F.height+.111;Z=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:I,shift:V},{type:"elem",elem:F,shift:G},{type:"elem",elem:z,shift:Y}]},R)}else Z=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:I,shift:V},{type:"elem",elem:F,shift:G}]},R);return Z.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[Z],R)},mathmlBuilder(_,R){var P=stretchy.mathMLnode(_.label);P.setAttribute("minsize",_.label.charAt(0)==="x"?"1.75em":"3.0em");var O;if(_.body){var I=paddedNode(buildGroup2(_.body,R));if(_.below){var L=paddedNode(buildGroup2(_.below,R));O=new mathMLTree.MathNode("munderover",[P,L,I])}else O=new mathMLTree.MathNode("mover",[P,I])}else if(_.below){var z=paddedNode(buildGroup2(_.below,R));O=new mathMLTree.MathNode("munder",[P,z])}else O=paddedNode(),O=new mathMLTree.MathNode("mover",[P,O]);return O}});var makeSpan2=buildCommon.makeSpan;function htmlBuilder$9(_,R){var P=buildExpression$1(_.body,R,!0);return makeSpan2([_.mclass],P,R)}function mathmlBuilder$8(_,R){var P,O=buildExpression2(_.body,R);return _.mclass==="minner"?P=new mathMLTree.MathNode("mpadded",O):_.mclass==="mord"?_.isCharacterBox?(P=O[0],P.type="mi"):P=new mathMLTree.MathNode("mi",O):(_.isCharacterBox?(P=O[0],P.type="mo"):P=new mathMLTree.MathNode("mo",O),_.mclass==="mbin"?(P.attributes.lspace="0.22em",P.attributes.rspace="0.22em"):_.mclass==="mpunct"?(P.attributes.lspace="0em",P.attributes.rspace="0.17em"):_.mclass==="mopen"||_.mclass==="mclose"?(P.attributes.lspace="0em",P.attributes.rspace="0em"):_.mclass==="minner"&&(P.attributes.lspace="0.0556em",P.attributes.width="+0.1111em")),P}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(_,R){var{parser:P,funcName:O}=_,I=R[0];return{type:"mclass",mode:P.mode,mclass:"m"+O.slice(5),body:ordargument(I),isCharacterBox:utils.isCharacterBox(I)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});var binrelClass=_=>{var R=_.type==="ordgroup"&&_.body.length?_.body[0]:_;return R.type==="atom"&&(R.family==="bin"||R.family==="rel")?"m"+R.family:"mord"};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(_,R){var{parser:P}=_;return{type:"mclass",mode:P.mode,mclass:binrelClass(R[0]),body:ordargument(R[1]),isCharacterBox:utils.isCharacterBox(R[1])}}});defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(_,R){var{parser:P,funcName:O}=_,I=R[1],L=R[0],z;O!=="\\stackrel"?z=binrelClass(I):z="mrel";var F={type:"op",mode:I.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:O!=="\\stackrel",body:ordargument(I)},G={type:"supsub",mode:L.mode,base:F,sup:O==="\\underset"?null:L,sub:O==="\\underset"?L:null};return{type:"mclass",mode:P.mode,mclass:z,body:[G],isCharacterBox:utils.isCharacterBox(G)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});defineFunction({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(_,R){var{parser:P}=_;return{type:"pmb",mode:P.mode,mclass:binrelClass(R[0]),body:ordargument(R[0])}},htmlBuilder(_,R){var P=buildExpression$1(_.body,R,!0),O=buildCommon.makeSpan([_.mclass],P,R);return O.style.textShadow="0.02em 0.01em 0.04px",O},mathmlBuilder(_,R){var P=buildExpression2(_.body,R),O=new mathMLTree.MathNode("mstyle",P);return O.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),O}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=_=>_.type==="textord"&&_.text==="@",isLabelEnd=(_,R)=>(_.type==="mathord"||_.type==="atom")&&_.text===R;function cdArrow(_,R,P){var O=cdArrowFunctionName[_];switch(O){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return P.callFunction(O,[R[0]],[R[1]]);case"\\uparrow":case"\\downarrow":{var I=P.callFunction("\\\\cdleft",[R[0]],[]),L={type:"atom",text:O,mode:"math",family:"rel"},z=P.callFunction("\\Big",[L],[]),F=P.callFunction("\\\\cdright",[R[1]],[]),G={type:"ordgroup",mode:"math",body:[I,z,F]};return P.callFunction("\\\\cdparent",[G],[])}case"\\\\cdlongequal":return P.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var V={type:"textord",text:"\\Vert",mode:"math"};return P.callFunction("\\Big",[V],[])}default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(_){var R=[];for(_.gullet.beginGroup(),_.gullet.macros.set("\\cr","\\\\\\relax"),_.gullet.beginGroup();;){R.push(_.parseExpression(!1,"\\\\")),_.gullet.endGroup(),_.gullet.beginGroup();var P=_.fetch().text;if(P==="&"||P==="\\\\")_.consume();else if(P==="\\end"){R[R.length-1].length===0&&R.pop();break}else throw new ParseError("Expected \\\\ or \\cr or \\end",_.nextToken)}for(var O=[],I=[O],L=0;L<R.length;L++){for(var z=R[L],F=newCell(),G=0;G<z.length;G++)if(!isStartOfArrow(z[G]))F.body.push(z[G]);else{O.push(F),G+=1;var V=assertSymbolNodeType(z[G]).text,Z=new Array(2);if(Z[0]={type:"ordgroup",mode:"math",body:[]},Z[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(V)>-1))if("<>AV".indexOf(V)>-1)for(var Y=0;Y<2;Y++){for(var Q=!0,J=G+1;J<z.length;J++){if(isLabelEnd(z[J],V)){Q=!1,G=J;break}if(isStartOfArrow(z[J]))throw new ParseError("Missing a "+V+" character to complete a CD arrow.",z[J]);Z[Y].body.push(z[J])}if(Q)throw new ParseError("Missing a "+V+" character to complete a CD arrow.",z[G])}else throw new ParseError('Expected one of "<>AV=|." after @',z[G]);var te=cdArrow(V,Z,_),ne={type:"styling",body:[te],mode:"math",style:"display"};O.push(ne),F=newCell()}L%2===0?O.push(F):O.shift(),O=[],I.push(O)}_.gullet.endGroup(),_.gullet.endGroup();var ie=new Array(I[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:I,arraystretch:1,addJot:!0,rowGaps:[null],cols:ie,colSeparationType:"CD",hLinesBeforeRow:new Array(I.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(_,R){var{parser:P,funcName:O}=_;return{type:"cdlabel",mode:P.mode,side:O.slice(4),label:R[0]}},htmlBuilder(_,R){var P=R.havingStyle(R.style.sup()),O=buildCommon.wrapFragment(buildGroup$1(_.label,P,R),R);return O.classes.push("cd-label-"+_.side),O.style.bottom=makeEm(.8-O.depth),O.height=0,O.depth=0,O},mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mrow",[buildGroup2(_.label,R)]);return P=new mathMLTree.MathNode("mpadded",[P]),P.setAttribute("width","0"),_.side==="left"&&P.setAttribute("lspace","-1width"),P.setAttribute("voffset","0.7em"),P=new mathMLTree.MathNode("mstyle",[P]),P.setAttribute("displaystyle","false"),P.setAttribute("scriptlevel","1"),P}});defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(_,R){var{parser:P}=_;return{type:"cdlabelparent",mode:P.mode,fragment:R[0]}},htmlBuilder(_,R){var P=buildCommon.wrapFragment(buildGroup$1(_.fragment,R),R);return P.classes.push("cd-vert-arrow"),P},mathmlBuilder(_,R){return new mathMLTree.MathNode("mrow",[buildGroup2(_.fragment,R)])}});defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(_,R){for(var{parser:P}=_,O=assertNodeType(R[0],"ordgroup"),I=O.body,L="",z=0;z<I.length;z++){var F=assertNodeType(I[z],"textord");L+=F.text}var G=parseInt(L),V;if(isNaN(G))throw new ParseError("\\@char has non-numeric argument "+L);if(G<0||G>=1114111)throw new ParseError("\\@char with invalid code point "+L);return G<=65535?V=String.fromCharCode(G):(G-=65536,V=String.fromCharCode((G>>10)+55296,(G&1023)+56320)),{type:"textord",mode:P.mode,text:V}}});var htmlBuilder$8=(_,R)=>{var P=buildExpression$1(_.body,R.withColor(_.color),!1);return buildCommon.makeFragment(P)},mathmlBuilder$7=(_,R)=>{var P=buildExpression2(_.body,R.withColor(_.color)),O=new mathMLTree.MathNode("mstyle",P);return O.setAttribute("mathcolor",_.color),O};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(_,R){var{parser:P}=_,O=assertNodeType(R[0],"color-token").color,I=R[1];return{type:"color",mode:P.mode,color:O,body:ordargument(I)}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(_,R){var{parser:P,breakOnTokenText:O}=_,I=assertNodeType(R[0],"color-token").color;P.gullet.macros.set("\\current@color",I);var L=P.parseExpression(!0,O);return{type:"color",mode:P.mode,color:I,body:L}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(_,R,P){var{parser:O}=_,I=O.gullet.future().text==="["?O.parseSizeGroup(!0):null,L=!O.settings.displayMode||!O.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:O.mode,newLine:L,size:I&&assertNodeType(I,"size").value}},htmlBuilder(_,R){var P=buildCommon.makeSpan(["mspace"],[],R);return _.newLine&&(P.classes.push("newline"),_.size&&(P.style.marginTop=makeEm(calculateSize(_.size,R)))),P},mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mspace");return _.newLine&&(P.setAttribute("linebreak","newline"),_.size&&P.setAttribute("height",makeEm(calculateSize(_.size,R)))),P}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=_=>{var R=_.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(R))throw new ParseError("Expected a control sequence",_);return R},getRHS=_=>{var R=_.gullet.popToken();return R.text==="="&&(R=_.gullet.popToken(),R.text===" "&&(R=_.gullet.popToken())),R},letCommand=(_,R,P,O)=>{var I=_.gullet.macros.get(P.text);I==null&&(P.noexpand=!0,I={tokens:[P],numArgs:0,unexpandable:!_.gullet.isExpandable(P.text)}),_.gullet.macros.set(R,I,O)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(_){var{parser:R,funcName:P}=_;R.consumeSpaces();var O=R.fetch();if(globalMap[O.text])return(P==="\\global"||P==="\\\\globallong")&&(O.text=globalMap[O.text]),assertNodeType(R.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",O)}});defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_){var{parser:R,funcName:P}=_,O=R.gullet.popToken(),I=O.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(I))throw new ParseError("Expected a control sequence",O);for(var L=0,z,F=[[]];R.gullet.future().text!=="{";)if(O=R.gullet.popToken(),O.text==="#"){if(R.gullet.future().text==="{"){z=R.gullet.future(),F[L].push("{");break}if(O=R.gullet.popToken(),!/^[1-9]$/.test(O.text))throw new ParseError('Invalid argument number "'+O.text+'"');if(parseInt(O.text)!==L+1)throw new ParseError('Argument number "'+O.text+'" out of order');L++,F.push([])}else{if(O.text==="EOF")throw new ParseError("Expected a macro definition");F[L].push(O.text)}var{tokens:G}=R.gullet.consumeArg();return z&&G.unshift(z),(P==="\\edef"||P==="\\xdef")&&(G=R.gullet.expandTokens(G),G.reverse()),R.gullet.macros.set(I,{tokens:G,numArgs:L,delimiters:F},P===globalMap[P]),{type:"internal",mode:R.mode}}});defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_){var{parser:R,funcName:P}=_,O=checkControlSequence(R.gullet.popToken());R.gullet.consumeSpaces();var I=getRHS(R);return letCommand(R,O,I,P==="\\\\globallet"),{type:"internal",mode:R.mode}}});defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_){var{parser:R,funcName:P}=_,O=checkControlSequence(R.gullet.popToken()),I=R.gullet.popToken(),L=R.gullet.popToken();return letCommand(R,O,L,P==="\\\\globalfuture"),R.gullet.pushToken(L),R.gullet.pushToken(I),{type:"internal",mode:R.mode}}});var getMetrics=function _(R,P,O){var I=symbols.math[R]&&symbols.math[R].replace,L=getCharacterMetrics(I||R,P,O);if(!L)throw new Error("Unsupported symbol "+R+" and font size "+P+".");return L},styleWrap=function _(R,P,O,I){var L=O.havingBaseStyle(P),z=buildCommon.makeSpan(I.concat(L.sizingClasses(O)),[R],O),F=L.sizeMultiplier/O.sizeMultiplier;return z.height*=F,z.depth*=F,z.maxFontSize=L.sizeMultiplier,z},centerSpan=function _(R,P,O){var I=P.havingBaseStyle(O),L=(1-P.sizeMultiplier/I.sizeMultiplier)*P.fontMetrics().axisHeight;R.classes.push("delimcenter"),R.style.top=makeEm(L),R.height-=L,R.depth+=L},makeSmallDelim=function _(R,P,O,I,L,z){var F=buildCommon.makeSymbol(R,"Main-Regular",L,I),G=styleWrap(F,P,I,z);return O&&centerSpan(G,I,P),G},mathrmSize=function _(R,P,O,I){return buildCommon.makeSymbol(R,"Size"+P+"-Regular",O,I)},makeLargeDelim=function _(R,P,O,I,L,z){var F=mathrmSize(R,P,L,I),G=styleWrap(buildCommon.makeSpan(["delimsizing","size"+P],[F],I),Style$1.TEXT,I,z);return O&&centerSpan(G,I,Style$1.TEXT),G},makeGlyphSpan=function _(R,P,O){var I;P==="Size1-Regular"?I="delim-size1":I="delim-size4";var L=buildCommon.makeSpan(["delimsizinginner",I],[buildCommon.makeSpan([],[buildCommon.makeSymbol(R,P,O)])]);return{type:"elem",elem:L}},makeInner=function _(R,P,O){var I=fontMetricsData["Size4-Regular"][R.charCodeAt(0)]?fontMetricsData["Size4-Regular"][R.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][R.charCodeAt(0)][4],L=new PathNode("inner",innerPath(R,Math.round(1e3*P))),z=new SvgNode([L],{width:makeEm(I),height:makeEm(P),style:"width:"+makeEm(I),viewBox:"0 0 "+1e3*I+" "+Math.round(1e3*P),preserveAspectRatio:"xMinYMin"}),F=buildCommon.makeSvgSpan([],[z],O);return F.height=P,F.style.height=makeEm(P),F.style.width=makeEm(I),{type:"elem",elem:F}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function _(R,P,O,I,L,z){var F,G,V,Z,Y="",Q=0;F=V=Z=R,G=null;var J="Size1-Regular";R==="\\uparrow"?V=Z="":R==="\\Uparrow"?V=Z="":R==="\\downarrow"?F=V="":R==="\\Downarrow"?F=V="":R==="\\updownarrow"?(F="\\uparrow",V="",Z="\\downarrow"):R==="\\Updownarrow"?(F="\\Uparrow",V="",Z="\\Downarrow"):verts.includes(R)?(V="",Y="vert",Q=333):doubleVerts.includes(R)?(V="",Y="doublevert",Q=556):R==="["||R==="\\lbrack"?(F="",V="",Z="",J="Size4-Regular",Y="lbrack",Q=667):R==="]"||R==="\\rbrack"?(F="",V="",Z="",J="Size4-Regular",Y="rbrack",Q=667):R==="\\lfloor"||R===""?(V=F="",Z="",J="Size4-Regular",Y="lfloor",Q=667):R==="\\lceil"||R===""?(F="",V=Z="",J="Size4-Regular",Y="lceil",Q=667):R==="\\rfloor"||R===""?(V=F="",Z="",J="Size4-Regular",Y="rfloor",Q=667):R==="\\rceil"||R===""?(F="",V=Z="",J="Size4-Regular",Y="rceil",Q=667):R==="("||R==="\\lparen"?(F="",V="",Z="",J="Size4-Regular",Y="lparen",Q=875):R===")"||R==="\\rparen"?(F="",V="",Z="",J="Size4-Regular",Y="rparen",Q=875):R==="\\{"||R==="\\lbrace"?(F="",G="",Z="",V="",J="Size4-Regular"):R==="\\}"||R==="\\rbrace"?(F="",G="",Z="",V="",J="Size4-Regular"):R==="\\lgroup"||R===""?(F="",Z="",V="",J="Size4-Regular"):R==="\\rgroup"||R===""?(F="",Z="",V="",J="Size4-Regular"):R==="\\lmoustache"||R===""?(F="",Z="",V="",J="Size4-Regular"):(R==="\\rmoustache"||R==="")&&(F="",Z="",V="",J="Size4-Regular");var te=getMetrics(F,J,L),ne=te.height+te.depth,ie=getMetrics(V,J,L),se=ie.height+ie.depth,oe=getMetrics(Z,J,L),ce=oe.height+oe.depth,ue=0,me=1;if(G!==null){var he=getMetrics(G,J,L);ue=he.height+he.depth,me=2}var fe=ne+ce+ue,de=Math.max(0,Math.ceil((P-fe)/(me*se))),pe=fe+de*me*se,be=I.fontMetrics().axisHeight;O&&(be*=I.sizeMultiplier);var ye=pe/2-be,we=[];if(Y.length>0){var ve=pe-ne-ce,Ae=Math.round(pe*1e3),Ce=tallDelim(Y,Math.round(ve*1e3)),_e=new PathNode(Y,Ce),Re=(Q/1e3).toFixed(3)+"em",Me=(Ae/1e3).toFixed(3)+"em",$e=new SvgNode([_e],{width:Re,height:Me,viewBox:"0 0 "+Q+" "+Ae}),Se=buildCommon.makeSvgSpan([],[$e],I);Se.height=Ae/1e3,Se.style.width=Re,Se.style.height=Me,we.push({type:"elem",elem:Se})}else{if(we.push(makeGlyphSpan(Z,J,L)),we.push(lap),G===null){var Ee=pe-ne-ce+2*lapInEms;we.push(makeInner(V,Ee,I))}else{var ke=(pe-ne-ce-ue)/2+2*lapInEms;we.push(makeInner(V,ke,I)),we.push(lap),we.push(makeGlyphSpan(G,J,L)),we.push(lap),we.push(makeInner(V,ke,I))}we.push(lap),we.push(makeGlyphSpan(F,J,L))}var xe=I.havingBaseStyle(Style$1.TEXT),ze=buildCommon.makeVList({positionType:"bottom",positionData:ye,children:we},xe);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[ze],xe),Style$1.TEXT,I,z)},vbPad=80,emPad=.08,sqrtSvg=function _(R,P,O,I,L){var z=sqrtPath(R,I,O),F=new PathNode(R,z),G=new SvgNode([F],{width:"400em",height:makeEm(P),viewBox:"0 0 400000 "+O,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[G],L)},makeSqrtImage=function _(R,P){var O=P.havingBaseSizing(),I=traverseSequence("\\surd",R*O.sizeMultiplier,stackLargeDelimiterSequence,O),L=O.sizeMultiplier,z=Math.max(0,P.minRuleThickness-P.fontMetrics().sqrtRuleThickness),F,G=0,V=0,Z=0,Y;return I.type==="small"?(Z=1e3+1e3*z+vbPad,R<1?L=1:R<1.4&&(L=.7),G=(1+z+emPad)/L,V=(1+z)/L,F=sqrtSvg("sqrtMain",G,Z,z,P),F.style.minWidth="0.853em",Y=.833/L):I.type==="large"?(Z=(1e3+vbPad)*sizeToMaxHeight[I.size],V=(sizeToMaxHeight[I.size]+z)/L,G=(sizeToMaxHeight[I.size]+z+emPad)/L,F=sqrtSvg("sqrtSize"+I.size,G,Z,z,P),F.style.minWidth="1.02em",Y=1/L):(G=R+z+emPad,V=R+z,Z=Math.floor(1e3*R+z)+vbPad,F=sqrtSvg("sqrtTall",G,Z,z,P),F.style.minWidth="0.742em",Y=1.056),F.height=V,F.style.height=makeEm(G),{span:F,advanceWidth:Y,ruleWidth:(P.fontMetrics().sqrtRuleThickness+z)*L}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function _(R,P,O,I,L){if(R==="<"||R==="\\lt"||R===""?R="\\langle":(R===">"||R==="\\gt"||R==="")&&(R="\\rangle"),stackLargeDelimiters.includes(R)||stackNeverDelimiters.includes(R))return makeLargeDelim(R,P,!1,O,I,L);if(stackAlwaysDelimiters.includes(R))return makeStackedDelim(R,sizeToMaxHeight[P],!1,O,I,L);throw new ParseError("Illegal delimiter: '"+R+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function _(R){if(R.type==="small")return"Main-Regular";if(R.type==="large")return"Size"+R.size+"-Regular";if(R.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+R.type+"' here.")},traverseSequence=function _(R,P,O,I){for(var L=Math.min(2,3-I.style.size),z=L;z<O.length&&O[z].type!=="stack";z++){var F=getMetrics(R,delimTypeToFont(O[z]),"math"),G=F.height+F.depth;if(O[z].type==="small"){var V=I.havingBaseStyle(O[z].style);G*=V.sizeMultiplier}if(G>P)return O[z]}return O[O.length-1]},makeCustomSizedDelim=function _(R,P,O,I,L,z){R==="<"||R==="\\lt"||R===""?R="\\langle":(R===">"||R==="\\gt"||R==="")&&(R="\\rangle");var F;stackNeverDelimiters.includes(R)?F=stackNeverDelimiterSequence:stackLargeDelimiters.includes(R)?F=stackLargeDelimiterSequence:F=stackAlwaysDelimiterSequence;var G=traverseSequence(R,P,F,I);return G.type==="small"?makeSmallDelim(R,G.style,O,I,L,z):G.type==="large"?makeLargeDelim(R,G.size,O,I,L,z):makeStackedDelim(R,P,O,I,L,z)},makeLeftRightDelim=function _(R,P,O,I,L,z){var F=I.fontMetrics().axisHeight*I.sizeMultiplier,G=901,V=5/I.fontMetrics().ptPerEm,Z=Math.max(P-F,O+F),Y=Math.max(Z/500*G,2*Z-V);return makeCustomSizedDelim(R,Y,!0,I,L,z)},delimiter={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(_,R){var P=checkSymbolNodeType(_);if(P&&delimiters.includes(P.text))return P;throw P?new ParseError("Invalid delimiter '"+P.text+"' after '"+R.funcName+"'",_):new ParseError("Invalid delimiter type '"+_.type+"'",_)}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(_,R)=>{var P=checkDelimiter(R[0],_);return{type:"delimsizing",mode:_.parser.mode,size:delimiterSizes[_.funcName].size,mclass:delimiterSizes[_.funcName].mclass,delim:P.text}},htmlBuilder:(_,R)=>_.delim==="."?buildCommon.makeSpan([_.mclass]):delimiter.sizedDelim(_.delim,_.size,R,_.mode,[_.mclass]),mathmlBuilder:_=>{var R=[];_.delim!=="."&&R.push(makeText(_.delim,_.mode));var P=new mathMLTree.MathNode("mo",R);_.mclass==="mopen"||_.mclass==="mclose"?P.setAttribute("fence","true"):P.setAttribute("fence","false"),P.setAttribute("stretchy","true");var O=makeEm(delimiter.sizeToMaxHeight[_.size]);return P.setAttribute("minsize",O),P.setAttribute("maxsize",O),P}});function assertParsed(_){if(!_.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(_,R)=>{var P=_.parser.gullet.macros.get("\\current@color");if(P&&typeof P!="string")throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:_.parser.mode,delim:checkDelimiter(R[0],_).text,color:P}}});defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(_,R)=>{var P=checkDelimiter(R[0],_),O=_.parser;++O.leftrightDepth;var I=O.parseExpression(!1);--O.leftrightDepth,O.expect("\\right",!1);var L=assertNodeType(O.parseFunction(),"leftright-right");return{type:"leftright",mode:O.mode,body:I,left:P.text,right:L.delim,rightColor:L.color}},htmlBuilder:(_,R)=>{assertParsed(_);for(var P=buildExpression$1(_.body,R,!0,["mopen","mclose"]),O=0,I=0,L=!1,z=0;z<P.length;z++)P[z].isMiddle?L=!0:(O=Math.max(P[z].height,O),I=Math.max(P[z].depth,I));O*=R.sizeMultiplier,I*=R.sizeMultiplier;var F;if(_.left==="."?F=makeNullDelimiter(R,["mopen"]):F=delimiter.leftRightDelim(_.left,O,I,R,_.mode,["mopen"]),P.unshift(F),L)for(var G=1;G<P.length;G++){var V=P[G],Z=V.isMiddle;Z&&(P[G]=delimiter.leftRightDelim(Z.delim,O,I,Z.options,_.mode,[]))}var Y;if(_.right===".")Y=makeNullDelimiter(R,["mclose"]);else{var Q=_.rightColor?R.withColor(_.rightColor):R;Y=delimiter.leftRightDelim(_.right,O,I,Q,_.mode,["mclose"])}return P.push(Y),buildCommon.makeSpan(["minner"],P,R)},mathmlBuilder:(_,R)=>{assertParsed(_);var P=buildExpression2(_.body,R);if(_.left!=="."){var O=new mathMLTree.MathNode("mo",[makeText(_.left,_.mode)]);O.setAttribute("fence","true"),P.unshift(O)}if(_.right!=="."){var I=new mathMLTree.MathNode("mo",[makeText(_.right,_.mode)]);I.setAttribute("fence","true"),_.rightColor&&I.setAttribute("mathcolor",_.rightColor),P.push(I)}return makeRow(P)}});defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(_,R)=>{var P=checkDelimiter(R[0],_);if(!_.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",P);return{type:"middle",mode:_.parser.mode,delim:P.text}},htmlBuilder:(_,R)=>{var P;if(_.delim===".")P=makeNullDelimiter(R,[]);else{P=delimiter.sizedDelim(_.delim,1,R,_.mode,[]);var O={delim:_.delim,options:R};P.isMiddle=O}return P},mathmlBuilder:(_,R)=>{var P=_.delim==="\\vert"||_.delim==="|"?makeText("|","text"):makeText(_.delim,_.mode),O=new mathMLTree.MathNode("mo",[P]);return O.setAttribute("fence","true"),O.setAttribute("lspace","0.05em"),O.setAttribute("rspace","0.05em"),O}});var htmlBuilder$7=(_,R)=>{var P=buildCommon.wrapFragment(buildGroup$1(_.body,R),R),O=_.label.slice(1),I=R.sizeMultiplier,L,z=0,F=utils.isCharacterBox(_.body);if(O==="sout")L=buildCommon.makeSpan(["stretchy","sout"]),L.height=R.fontMetrics().defaultRuleThickness/I,z=-.5*R.fontMetrics().xHeight;else if(O==="phase"){var G=calculateSize({number:.6,unit:"pt"},R),V=calculateSize({number:.35,unit:"ex"},R),Z=R.havingBaseSizing();I=I/Z.sizeMultiplier;var Y=P.height+P.depth+G+V;P.style.paddingLeft=makeEm(Y/2+G);var Q=Math.floor(1e3*Y*I),J=phasePath(Q),te=new SvgNode([new PathNode("phase",J)],{width:"400em",height:makeEm(Q/1e3),viewBox:"0 0 400000 "+Q,preserveAspectRatio:"xMinYMin slice"});L=buildCommon.makeSvgSpan(["hide-tail"],[te],R),L.style.height=makeEm(Y),z=P.depth+G+V}else{/cancel/.test(O)?F||P.classes.push("cancel-pad"):O==="angl"?P.classes.push("anglpad"):P.classes.push("boxpad");var ne=0,ie=0,se=0;/box/.test(O)?(se=Math.max(R.fontMetrics().fboxrule,R.minRuleThickness),ne=R.fontMetrics().fboxsep+(O==="colorbox"?0:se),ie=ne):O==="angl"?(se=Math.max(R.fontMetrics().defaultRuleThickness,R.minRuleThickness),ne=4*se,ie=Math.max(0,.25-P.depth)):(ne=F?.2:0,ie=ne),L=stretchy.encloseSpan(P,O,ne,ie,R),/fbox|boxed|fcolorbox/.test(O)?(L.style.borderStyle="solid",L.style.borderWidth=makeEm(se)):O==="angl"&&se!==.049&&(L.style.borderTopWidth=makeEm(se),L.style.borderRightWidth=makeEm(se)),z=P.depth+ie,_.backgroundColor&&(L.style.backgroundColor=_.backgroundColor,_.borderColor&&(L.style.borderColor=_.borderColor))}var oe;if(_.backgroundColor)oe=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:L,shift:z},{type:"elem",elem:P,shift:0}]},R);else{var ce=/cancel|phase/.test(O)?["svg-align"]:[];oe=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:P,shift:0},{type:"elem",elem:L,shift:z,wrapperClasses:ce}]},R)}return/cancel/.test(O)&&(oe.height=P.height,oe.depth=P.depth),/cancel/.test(O)&&!F?buildCommon.makeSpan(["mord","cancel-lap"],[oe],R):buildCommon.makeSpan(["mord"],[oe],R)},mathmlBuilder$6=(_,R)=>{var P=0,O=new mathMLTree.MathNode(_.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup2(_.body,R)]);switch(_.label){case"\\cancel":O.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":O.setAttribute("notation","downdiagonalstrike");break;case"\\phase":O.setAttribute("notation","phasorangle");break;case"\\sout":O.setAttribute("notation","horizontalstrike");break;case"\\fbox":O.setAttribute("notation","box");break;case"\\angl":O.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(P=R.fontMetrics().fboxsep*R.fontMetrics().ptPerEm,O.setAttribute("width","+"+2*P+"pt"),O.setAttribute("height","+"+2*P+"pt"),O.setAttribute("lspace",P+"pt"),O.setAttribute("voffset",P+"pt"),_.label==="\\fcolorbox"){var I=Math.max(R.fontMetrics().fboxrule,R.minRuleThickness);O.setAttribute("style","border: "+I+"em solid "+String(_.borderColor))}break;case"\\xcancel":O.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return _.backgroundColor&&O.setAttribute("mathbackground",_.backgroundColor),O};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(_,R,P){var{parser:O,funcName:I}=_,L=assertNodeType(R[0],"color-token").color,z=R[1];return{type:"enclose",mode:O.mode,label:I,backgroundColor:L,body:z}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(_,R,P){var{parser:O,funcName:I}=_,L=assertNodeType(R[0],"color-token").color,z=assertNodeType(R[1],"color-token").color,F=R[2];return{type:"enclose",mode:O.mode,label:I,backgroundColor:z,borderColor:L,body:F}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(_,R){var{parser:P}=_;return{type:"enclose",mode:P.mode,label:"\\fbox",body:R[0]}}});defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(_,R){var{parser:P,funcName:O}=_,I=R[0];return{type:"enclose",mode:P.mode,label:O,body:I}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(_,R){var{parser:P}=_;return{type:"enclose",mode:P.mode,label:"\\angl",body:R[0]}}});var _environments={};function defineEnvironment(_){for(var{type:R,names:P,props:O,handler:I,htmlBuilder:L,mathmlBuilder:z}=_,F={type:R,numArgs:O.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:I},G=0;G<P.length;++G)_environments[P[G]]=F;L&&(_htmlGroupBuilders[R]=L),z&&(_mathmlGroupBuilders[R]=z)}var _macros={};function defineMacro(_,R){_macros[_]=R}function getHLines(_){var R=[];_.consumeSpaces();var P=_.fetch().text;for(P==="\\relax"&&(_.consume(),_.consumeSpaces(),P=_.fetch().text);P==="\\hline"||P==="\\hdashline";)_.consume(),R.push(P==="\\hdashline"),_.consumeSpaces(),P=_.fetch().text;return R}var validateAmsEnvironmentContext=_=>{var R=_.parser.settings;if(!R.displayMode)throw new ParseError("{"+_.envName+"} can be used only in display mode.")};function getAutoTag(_){if(_.indexOf("ed")===-1)return _.indexOf("*")===-1}function parseArray(_,R,P){var{hskipBeforeAndAfter:O,addJot:I,cols:L,arraystretch:z,colSeparationType:F,autoTag:G,singleRow:V,emptySingleRow:Z,maxNumCols:Y,leqno:Q}=R;if(_.gullet.beginGroup(),V||_.gullet.macros.set("\\cr","\\\\\\relax"),!z){var J=_.gullet.expandMacroAsText("\\arraystretch");if(J==null)z=1;else if(z=parseFloat(J),!z||z<0)throw new ParseError("Invalid \\arraystretch: "+J)}_.gullet.beginGroup();var te=[],ne=[te],ie=[],se=[],oe=G!=null?[]:void 0;function ce(){G&&_.gullet.macros.set("\\@eqnsw","1",!0)}function ue(){oe&&(_.gullet.macros.get("\\df@tag")?(oe.push(_.subparse([new Token("\\df@tag")])),_.gullet.macros.set("\\df@tag",void 0,!0)):oe.push(!!G&&_.gullet.macros.get("\\@eqnsw")==="1"))}for(ce(),se.push(getHLines(_));;){var me=_.parseExpression(!1,V?"\\end":"\\\\");_.gullet.endGroup(),_.gullet.beginGroup(),me={type:"ordgroup",mode:_.mode,body:me},P&&(me={type:"styling",mode:_.mode,style:P,body:[me]}),te.push(me);var he=_.fetch().text;if(he==="&"){if(Y&&te.length===Y){if(V||F)throw new ParseError("Too many tab characters: &",_.nextToken);_.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}_.consume()}else if(he==="\\end"){ue(),te.length===1&&me.type==="styling"&&me.body[0].body.length===0&&(ne.length>1||!Z)&&ne.pop(),se.length<ne.length+1&&se.push([]);break}else if(he==="\\\\"){_.consume();var fe=void 0;_.gullet.future().text!==" "&&(fe=_.parseSizeGroup(!0)),ie.push(fe?fe.value:null),ue(),se.push(getHLines(_)),te=[],ne.push(te),ce()}else throw new ParseError("Expected & or \\\\ or \\cr or \\end",_.nextToken)}return _.gullet.endGroup(),_.gullet.endGroup(),{type:"array",mode:_.mode,addJot:I,arraystretch:z,body:ne,cols:L,rowGaps:ie,hskipBeforeAndAfter:O,hLinesBeforeRow:se,colSeparationType:F,tags:oe,leqno:Q}}function dCellStyle(_){return _.slice(0,1)==="d"?"display":"text"}var htmlBuilder$6=function _(R,P){var O,I,L=R.body.length,z=R.hLinesBeforeRow,F=0,G=new Array(L),V=[],Z=Math.max(P.fontMetrics().arrayRuleWidth,P.minRuleThickness),Y=1/P.fontMetrics().ptPerEm,Q=5*Y;if(R.colSeparationType&&R.colSeparationType==="small"){var J=P.havingStyle(Style$1.SCRIPT).sizeMultiplier;Q=.2778*(J/P.sizeMultiplier)}var te=R.colSeparationType==="CD"?calculateSize({number:3,unit:"ex"},P):12*Y,ne=3*Y,ie=R.arraystretch*te,se=.7*ie,oe=.3*ie,ce=0;function ue(ot){for(var et=0;et<ot.length;++et)et>0&&(ce+=.25),V.push({pos:ce,isDashed:ot[et]})}for(ue(z[0]),O=0;O<R.body.length;++O){var me=R.body[O],he=se,fe=oe;F<me.length&&(F=me.length);var de=new Array(me.length);for(I=0;I<me.length;++I){var pe=buildGroup$1(me[I],P);fe<pe.depth&&(fe=pe.depth),he<pe.height&&(he=pe.height),de[I]=pe}var be=R.rowGaps[O],ye=0;be&&(ye=calculateSize(be,P),ye>0&&(ye+=oe,fe<ye&&(fe=ye),ye=0)),R.addJot&&(fe+=ne),de.height=he,de.depth=fe,ce+=he,de.pos=ce,ce+=fe+ye,G[O]=de,ue(z[O+1])}var we=ce/2+P.fontMetrics().axisHeight,ve=R.cols||[],Ae=[],Ce,_e,Re=[];if(R.tags&&R.tags.some(ot=>ot))for(O=0;O<L;++O){var Me=G[O],$e=Me.pos-we,Se=R.tags[O],Ee=void 0;Se===!0?Ee=buildCommon.makeSpan(["eqn-num"],[],P):Se===!1?Ee=buildCommon.makeSpan([],[],P):Ee=buildCommon.makeSpan([],buildExpression$1(Se,P,!0),P),Ee.depth=Me.depth,Ee.height=Me.height,Re.push({type:"elem",elem:Ee,shift:$e})}for(I=0,_e=0;I<F||_e<ve.length;++I,++_e){for(var ke=ve[_e]||{},xe=!0;ke.type==="separator";){if(xe||(Ce=buildCommon.makeSpan(["arraycolsep"],[]),Ce.style.width=makeEm(P.fontMetrics().doubleRuleSep),Ae.push(Ce)),ke.separator==="|"||ke.separator===":"){var ze=ke.separator==="|"?"solid":"dashed",Ze=buildCommon.makeSpan(["vertical-separator"],[],P);Ze.style.height=makeEm(ce),Ze.style.borderRightWidth=makeEm(Z),Ze.style.borderRightStyle=ze,Ze.style.margin="0 "+makeEm(-Z/2);var Ye=ce-we;Ye&&(Ze.style.verticalAlign=makeEm(-Ye)),Ae.push(Ze)}else throw new ParseError("Invalid separator type: "+ke.separator);_e++,ke=ve[_e]||{},xe=!1}if(!(I>=F)){var Ie=void 0;(I>0||R.hskipBeforeAndAfter)&&(Ie=utils.deflt(ke.pregap,Q),Ie!==0&&(Ce=buildCommon.makeSpan(["arraycolsep"],[]),Ce.style.width=makeEm(Ie),Ae.push(Ce)));var Ge=[];for(O=0;O<L;++O){var Oe=G[O],Ve=Oe[I];if(Ve){var Ue=Oe.pos-we;Ve.depth=Oe.depth,Ve.height=Oe.height,Ge.push({type:"elem",elem:Ve,shift:Ue})}}Ge=buildCommon.makeVList({positionType:"individualShift",children:Ge},P),Ge=buildCommon.makeSpan(["col-align-"+(ke.align||"c")],[Ge]),Ae.push(Ge),(I<F-1||R.hskipBeforeAndAfter)&&(Ie=utils.deflt(ke.postgap,Q),Ie!==0&&(Ce=buildCommon.makeSpan(["arraycolsep"],[]),Ce.style.width=makeEm(Ie),Ae.push(Ce)))}}if(G=buildCommon.makeSpan(["mtable"],Ae),V.length>0){for(var De=buildCommon.makeLineSpan("hline",P,Z),nt=buildCommon.makeLineSpan("hdashline",P,Z),Je=[{type:"elem",elem:G,shift:0}];V.length>0;){var rt=V.pop(),at=rt.pos-we;rt.isDashed?Je.push({type:"elem",elem:nt,shift:at}):Je.push({type:"elem",elem:De,shift:at})}G=buildCommon.makeVList({positionType:"individualShift",children:Je},P)}if(Re.length===0)return buildCommon.makeSpan(["mord"],[G],P);var dt=buildCommon.makeVList({positionType:"individualShift",children:Re},P);return dt=buildCommon.makeSpan(["tag"],[dt],P),buildCommon.makeFragment([G,dt])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$5=function _(R,P){for(var O=[],I=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),L=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),z=0;z<R.body.length;z++){for(var F=R.body[z],G=[],V=0;V<F.length;V++)G.push(new mathMLTree.MathNode("mtd",[buildGroup2(F[V],P)]));R.tags&&R.tags[z]&&(G.unshift(I),G.push(I),R.leqno?G.unshift(L):G.push(L)),O.push(new mathMLTree.MathNode("mtr",G))}var Z=new mathMLTree.MathNode("mtable",O),Y=R.arraystretch===.5?.1:.16+R.arraystretch-1+(R.addJot?.09:0);Z.setAttribute("rowspacing",makeEm(Y));var Q="",J="";if(R.cols&&R.cols.length>0){var te=R.cols,ne="",ie=!1,se=0,oe=te.length;te[0].type==="separator"&&(Q+="top ",se=1),te[te.length-1].type==="separator"&&(Q+="bottom ",oe-=1);for(var ce=se;ce<oe;ce++)te[ce].type==="align"?(J+=alignMap[te[ce].align],ie&&(ne+="none "),ie=!0):te[ce].type==="separator"&&ie&&(ne+=te[ce].separator==="|"?"solid ":"dashed ",ie=!1);Z.setAttribute("columnalign",J.trim()),/[sd]/.test(ne)&&Z.setAttribute("columnlines",ne.trim())}if(R.colSeparationType==="align"){for(var ue=R.cols||[],me="",he=1;he<ue.length;he++)me+=he%2?"0em ":"1em ";Z.setAttribute("columnspacing",me.trim())}else R.colSeparationType==="alignat"||R.colSeparationType==="gather"?Z.setAttribute("columnspacing","0em"):R.colSeparationType==="small"?Z.setAttribute("columnspacing","0.2778em"):R.colSeparationType==="CD"?Z.setAttribute("columnspacing","0.5em"):Z.setAttribute("columnspacing","1em");var fe="",de=R.hLinesBeforeRow;Q+=de[0].length>0?"left ":"",Q+=de[de.length-1].length>0?"right ":"";for(var pe=1;pe<de.length-1;pe++)fe+=de[pe].length===0?"none ":de[pe][0]?"dashed ":"solid ";return/[sd]/.test(fe)&&Z.setAttribute("rowlines",fe.trim()),Q!==""&&(Z=new mathMLTree.MathNode("menclose",[Z]),Z.setAttribute("notation",Q.trim())),R.arraystretch&&R.arraystretch<1&&(Z=new mathMLTree.MathNode("mstyle",[Z]),Z.setAttribute("scriptlevel","1")),Z},alignedHandler=function _(R,P){R.envName.indexOf("ed")===-1&&validateAmsEnvironmentContext(R);var O=[],I=R.envName.indexOf("at")>-1?"alignat":"align",L=R.envName==="split",z=parseArray(R.parser,{cols:O,addJot:!0,autoTag:L?void 0:getAutoTag(R.envName),emptySingleRow:!0,colSeparationType:I,maxNumCols:L?2:void 0,leqno:R.parser.settings.leqno},"display"),F,G=0,V={type:"ordgroup",mode:R.mode,body:[]};if(P[0]&&P[0].type==="ordgroup"){for(var Z="",Y=0;Y<P[0].body.length;Y++){var Q=assertNodeType(P[0].body[Y],"textord");Z+=Q.text}F=Number(Z),G=F*2}var J=!G;z.body.forEach(function(se){for(var oe=1;oe<se.length;oe+=2){var ce=assertNodeType(se[oe],"styling"),ue=assertNodeType(ce.body[0],"ordgroup");ue.body.unshift(V)}if(J)G<se.length&&(G=se.length);else{var me=se.length/2;if(F<me)throw new ParseError("Too many math in a row: "+("expected "+F+", but got "+me),se[0])}});for(var te=0;te<G;++te){var ne="r",ie=0;te%2===1?ne="l":te>0&&J&&(ie=1),O[te]={type:"align",align:ne,pregap:ie,postgap:0}}return z.colSeparationType=J?"align":"alignat",z};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(_,R){var P=checkSymbolNodeType(R[0]),O=P?[R[0]]:assertNodeType(R[0],"ordgroup").body,I=O.map(function(z){var F=assertSymbolNodeType(z),G=F.text;if("lcr".indexOf(G)!==-1)return{type:"align",align:G};if(G==="|")return{type:"separator",separator:"|"};if(G===":")return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+G,z)}),L={cols:I,hskipBeforeAndAfter:!0,maxNumCols:I.length};return parseArray(_.parser,L,dCellStyle(_.envName))},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(_){var R={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[_.envName.replace("*","")],P="c",O={hskipBeforeAndAfter:!1,cols:[{type:"align",align:P}]};if(_.envName.charAt(_.envName.length-1)==="*"){var I=_.parser;if(I.consumeSpaces(),I.fetch().text==="["){if(I.consume(),I.consumeSpaces(),P=I.fetch().text,"lcr".indexOf(P)===-1)throw new ParseError("Expected l or c or r",I.nextToken);I.consume(),I.consumeSpaces(),I.expect("]"),I.consume(),O.cols=[{type:"align",align:P}]}}var L=parseArray(_.parser,O,dCellStyle(_.envName)),z=Math.max(0,...L.body.map(F=>F.length));return L.cols=new Array(z).fill({type:"align",align:P}),R?{type:"leftright",mode:_.mode,body:[L],left:R[0],right:R[1],rightColor:void 0}:L},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(_){var R={arraystretch:.5},P=parseArray(_.parser,R,"script");return P.colSeparationType="small",P},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(_,R){var P=checkSymbolNodeType(R[0]),O=P?[R[0]]:assertNodeType(R[0],"ordgroup").body,I=O.map(function(z){var F=assertSymbolNodeType(z),G=F.text;if("lc".indexOf(G)!==-1)return{type:"align",align:G};throw new ParseError("Unknown column alignment: "+G,z)});if(I.length>1)throw new ParseError("{subarray} can contain only one column");var L={cols:I,hskipBeforeAndAfter:!1,arraystretch:.5};if(L=parseArray(_.parser,L,"script"),L.body.length>0&&L.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return L},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(_){var R={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},P=parseArray(_.parser,R,dCellStyle(_.envName));return{type:"leftright",mode:_.mode,body:[P],left:_.envName.indexOf("r")>-1?".":"\\{",right:_.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(_){["gather","gather*"].includes(_.envName)&&validateAmsEnvironmentContext(_);var R={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(_.envName),emptySingleRow:!0,leqno:_.parser.settings.leqno};return parseArray(_.parser,R,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(_){validateAmsEnvironmentContext(_);var R={autoTag:getAutoTag(_.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:_.parser.settings.leqno};return parseArray(_.parser,R,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler(_){return validateAmsEnvironmentContext(_),parseCD(_.parser)},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineMacro("\\nonumber","\\gdef\\@eqnsw{0}");defineMacro("\\notag","\\nonumber");defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(_,R){throw new ParseError(_.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(_,R){var{parser:P,funcName:O}=_,I=R[0];if(I.type!=="ordgroup")throw new ParseError("Invalid environment name",I);for(var L="",z=0;z<I.body.length;++z)L+=assertNodeType(I.body[z],"textord").text;if(O==="\\begin"){if(!environments.hasOwnProperty(L))throw new ParseError("No such environment: "+L,I);var F=environments[L],{args:G,optArgs:V}=P.parseArguments("\\begin{"+L+"}",F),Z={mode:P.mode,envName:L,parser:P},Y=F.handler(Z,G,V);P.expect("\\end",!1);var Q=P.nextToken,J=assertNodeType(P.parseFunction(),"environment");if(J.name!==L)throw new ParseError("Mismatch: \\begin{"+L+"} matched by \\end{"+J.name+"}",Q);return Y}return{type:"environment",mode:P.mode,name:L,nameGroup:I}}});var htmlBuilder$5=(_,R)=>{var P=_.font,O=R.withFont(P);return buildGroup$1(_.body,O)},mathmlBuilder$4=(_,R)=>{var P=_.font,O=R.withFont(P);return buildGroup2(_.body,O)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(_,R)=>{var{parser:P,funcName:O}=_,I=normalizeArgument(R[0]),L=O;return L in fontAliases&&(L=fontAliases[L]),{type:"font",mode:P.mode,font:L.slice(1),body:I}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(_,R)=>{var{parser:P}=_,O=R[0],I=utils.isCharacterBox(O);return{type:"mclass",mode:P.mode,mclass:binrelClass(O),body:[{type:"font",mode:P.mode,font:"boldsymbol",body:O}],isCharacterBox:I}}});defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(_,R)=>{var{parser:P,funcName:O,breakOnTokenText:I}=_,{mode:L}=P,z=P.parseExpression(!0,I),F="math"+O.slice(1);return{type:"font",mode:L,font:F,body:{type:"ordgroup",mode:P.mode,body:z}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(_,R)=>{var P=R;return _==="display"?P=P.id>=Style$1.SCRIPT.id?P.text():Style$1.DISPLAY:_==="text"&&P.size===Style$1.DISPLAY.size?P=Style$1.TEXT:_==="script"?P=Style$1.SCRIPT:_==="scriptscript"&&(P=Style$1.SCRIPTSCRIPT),P},htmlBuilder$4=(_,R)=>{var P=adjustStyle(_.size,R.style),O=P.fracNum(),I=P.fracDen(),L;L=R.havingStyle(O);var z=buildGroup$1(_.numer,L,R);if(_.continued){var F=8.5/R.fontMetrics().ptPerEm,G=3.5/R.fontMetrics().ptPerEm;z.height=z.height<F?F:z.height,z.depth=z.depth<G?G:z.depth}L=R.havingStyle(I);var V=buildGroup$1(_.denom,L,R),Z,Y,Q;_.hasBarLine?(_.barSize?(Y=calculateSize(_.barSize,R),Z=buildCommon.makeLineSpan("frac-line",R,Y)):Z=buildCommon.makeLineSpan("frac-line",R),Y=Z.height,Q=Z.height):(Z=null,Y=0,Q=R.fontMetrics().defaultRuleThickness);var J,te,ne;P.size===Style$1.DISPLAY.size||_.size==="display"?(J=R.fontMetrics().num1,Y>0?te=3*Q:te=7*Q,ne=R.fontMetrics().denom1):(Y>0?(J=R.fontMetrics().num2,te=Q):(J=R.fontMetrics().num3,te=3*Q),ne=R.fontMetrics().denom2);var ie;if(Z){var oe=R.fontMetrics().axisHeight;J-z.depth-(oe+.5*Y)<te&&(J+=te-(J-z.depth-(oe+.5*Y))),oe-.5*Y-(V.height-ne)<te&&(ne+=te-(oe-.5*Y-(V.height-ne)));var ce=-(oe-.5*Y);ie=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:V,shift:ne},{type:"elem",elem:Z,shift:ce},{type:"elem",elem:z,shift:-J}]},R)}else{var se=J-z.depth-(V.height-ne);se<te&&(J+=.5*(te-se),ne+=.5*(te-se)),ie=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:V,shift:ne},{type:"elem",elem:z,shift:-J}]},R)}L=R.havingStyle(P),ie.height*=L.sizeMultiplier/R.sizeMultiplier,ie.depth*=L.sizeMultiplier/R.sizeMultiplier;var ue;P.size===Style$1.DISPLAY.size?ue=R.fontMetrics().delim1:P.size===Style$1.SCRIPTSCRIPT.size?ue=R.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:ue=R.fontMetrics().delim2;var me,he;return _.leftDelim==null?me=makeNullDelimiter(R,["mopen"]):me=delimiter.customSizedDelim(_.leftDelim,ue,!0,R.havingStyle(P),_.mode,["mopen"]),_.continued?he=buildCommon.makeSpan([]):_.rightDelim==null?he=makeNullDelimiter(R,["mclose"]):he=delimiter.customSizedDelim(_.rightDelim,ue,!0,R.havingStyle(P),_.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(L.sizingClasses(R)),[me,buildCommon.makeSpan(["mfrac"],[ie]),he],R)},mathmlBuilder$3=(_,R)=>{var P=new mathMLTree.MathNode("mfrac",[buildGroup2(_.numer,R),buildGroup2(_.denom,R)]);if(!_.hasBarLine)P.setAttribute("linethickness","0px");else if(_.barSize){var O=calculateSize(_.barSize,R);P.setAttribute("linethickness",makeEm(O))}var I=adjustStyle(_.size,R.style);if(I.size!==R.style.size){P=new mathMLTree.MathNode("mstyle",[P]);var L=I.size===Style$1.DISPLAY.size?"true":"false";P.setAttribute("displaystyle",L),P.setAttribute("scriptlevel","0")}if(_.leftDelim!=null||_.rightDelim!=null){var z=[];if(_.leftDelim!=null){var F=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(_.leftDelim.replace("\\",""))]);F.setAttribute("fence","true"),z.push(F)}if(z.push(P),_.rightDelim!=null){var G=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(_.rightDelim.replace("\\",""))]);G.setAttribute("fence","true"),z.push(G)}return makeRow(z)}return P};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(_,R)=>{var{parser:P,funcName:O}=_,I=R[0],L=R[1],z,F=null,G=null,V="auto";switch(O){case"\\dfrac":case"\\frac":case"\\tfrac":z=!0;break;case"\\\\atopfrac":z=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":z=!1,F="(",G=")";break;case"\\\\bracefrac":z=!1,F="\\{",G="\\}";break;case"\\\\brackfrac":z=!1,F="[",G="]";break;default:throw new Error("Unrecognized genfrac command")}switch(O){case"\\dfrac":case"\\dbinom":V="display";break;case"\\tfrac":case"\\tbinom":V="text";break}return{type:"genfrac",mode:P.mode,continued:!1,numer:I,denom:L,hasBarLine:z,leftDelim:F,rightDelim:G,size:V,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(_,R)=>{var{parser:P,funcName:O}=_,I=R[0],L=R[1];return{type:"genfrac",mode:P.mode,continued:!0,numer:I,denom:L,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(_){var{parser:R,funcName:P,token:O}=_,I;switch(P){case"\\over":I="\\frac";break;case"\\choose":I="\\binom";break;case"\\atop":I="\\\\atopfrac";break;case"\\brace":I="\\\\bracefrac";break;case"\\brack":I="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:R.mode,replaceWith:I,token:O}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function _(R){var P=null;return R.length>0&&(P=R,P=P==="."?null:P),P};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(_,R){var{parser:P}=_,O=R[4],I=R[5],L=normalizeArgument(R[0]),z=L.type==="atom"&&L.family==="open"?delimFromValue(L.text):null,F=normalizeArgument(R[1]),G=F.type==="atom"&&F.family==="close"?delimFromValue(F.text):null,V=assertNodeType(R[2],"size"),Z,Y=null;V.isBlank?Z=!0:(Y=V.value,Z=Y.number>0);var Q="auto",J=R[3];if(J.type==="ordgroup"){if(J.body.length>0){var te=assertNodeType(J.body[0],"textord");Q=stylArray[Number(te.text)]}}else J=assertNodeType(J,"textord"),Q=stylArray[Number(J.text)];return{type:"genfrac",mode:P.mode,numer:O,denom:I,continued:!1,hasBarLine:Z,barSize:Y,leftDelim:z,rightDelim:G,size:Q}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(_,R){var{parser:P,funcName:O,token:I}=_;return{type:"infix",mode:P.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(R[0],"size").value,token:I}}});defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(_,R)=>{var{parser:P,funcName:O}=_,I=R[0],L=assert(assertNodeType(R[1],"infix").size),z=R[2],F=L.number>0;return{type:"genfrac",mode:P.mode,numer:I,denom:z,continued:!1,hasBarLine:F,barSize:L,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(_,R)=>{var P=R.style,O,I;_.type==="supsub"?(O=_.sup?buildGroup$1(_.sup,R.havingStyle(P.sup()),R):buildGroup$1(_.sub,R.havingStyle(P.sub()),R),I=assertNodeType(_.base,"horizBrace")):I=assertNodeType(_,"horizBrace");var L=buildGroup$1(I.base,R.havingBaseStyle(Style$1.DISPLAY)),z=stretchy.svgSpan(I,R),F;if(I.isOver?(F=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:L},{type:"kern",size:.1},{type:"elem",elem:z}]},R),F.children[0].children[0].children[1].classes.push("svg-align")):(F=buildCommon.makeVList({positionType:"bottom",positionData:L.depth+.1+z.height,children:[{type:"elem",elem:z},{type:"kern",size:.1},{type:"elem",elem:L}]},R),F.children[0].children[0].children[0].classes.push("svg-align")),O){var G=buildCommon.makeSpan(["mord",I.isOver?"mover":"munder"],[F],R);I.isOver?F=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:G},{type:"kern",size:.2},{type:"elem",elem:O}]},R):F=buildCommon.makeVList({positionType:"bottom",positionData:G.depth+.2+O.height+O.depth,children:[{type:"elem",elem:O},{type:"kern",size:.2},{type:"elem",elem:G}]},R)}return buildCommon.makeSpan(["mord",I.isOver?"mover":"munder"],[F],R)},mathmlBuilder$2=(_,R)=>{var P=stretchy.mathMLnode(_.label);return new mathMLTree.MathNode(_.isOver?"mover":"munder",[buildGroup2(_.base,R),P])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(_,R){var{parser:P,funcName:O}=_;return{type:"horizBrace",mode:P.mode,label:O,isOver:/^\\over/.test(O),base:R[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2});defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(_,R)=>{var{parser:P}=_,O=R[1],I=assertNodeType(R[0],"url").url;return P.settings.isTrusted({command:"\\href",url:I})?{type:"href",mode:P.mode,href:I,body:ordargument(O)}:P.formatUnsupportedCmd("\\href")},htmlBuilder:(_,R)=>{var P=buildExpression$1(_.body,R,!1);return buildCommon.makeAnchor(_.href,[],P,R)},mathmlBuilder:(_,R)=>{var P=buildExpressionRow(_.body,R);return P instanceof MathNode||(P=new MathNode("mrow",[P])),P.setAttribute("href",_.href),P}});defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(_,R)=>{var{parser:P}=_,O=assertNodeType(R[0],"url").url;if(!P.settings.isTrusted({command:"\\url",url:O}))return P.formatUnsupportedCmd("\\url");for(var I=[],L=0;L<O.length;L++){var z=O[L];z==="~"&&(z="\\textasciitilde"),I.push({type:"textord",mode:"text",text:z})}var F={type:"text",mode:P.mode,font:"\\texttt",body:I};return{type:"href",mode:P.mode,href:O,body:ordargument(F)}}});defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(_,R){var{parser:P}=_;return{type:"hbox",mode:P.mode,body:ordargument(R[0])}},htmlBuilder(_,R){var P=buildExpression$1(_.body,R,!1);return buildCommon.makeFragment(P)},mathmlBuilder(_,R){return new mathMLTree.MathNode("mrow",buildExpression2(_.body,R))}});defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(_,R)=>{var{parser:P,funcName:O,token:I}=_,L=assertNodeType(R[0],"raw").string,z=R[1];P.settings.strict&&P.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var F,G={};switch(O){case"\\htmlClass":G.class=L,F={command:"\\htmlClass",class:L};break;case"\\htmlId":G.id=L,F={command:"\\htmlId",id:L};break;case"\\htmlStyle":G.style=L,F={command:"\\htmlStyle",style:L};break;case"\\htmlData":{for(var V=L.split(","),Z=0;Z<V.length;Z++){var Y=V[Z],Q=Y.indexOf("=");if(Q<0)throw new ParseError("\\htmlData key/value '"+Y+"' missing equals sign");var J=Y.slice(0,Q),te=Y.slice(Q+1);G["data-"+J.trim()]=te}F={command:"\\htmlData",attributes:G};break}default:throw new Error("Unrecognized html command")}return P.settings.isTrusted(F)?{type:"html",mode:P.mode,attributes:G,body:ordargument(z)}:P.formatUnsupportedCmd(O)},htmlBuilder:(_,R)=>{var P=buildExpression$1(_.body,R,!1),O=["enclosing"];_.attributes.class&&O.push(..._.attributes.class.trim().split(/\s+/));var I=buildCommon.makeSpan(O,P,R);for(var L in _.attributes)L!=="class"&&_.attributes.hasOwnProperty(L)&&I.setAttribute(L,_.attributes[L]);return I},mathmlBuilder:(_,R)=>buildExpressionRow(_.body,R)});defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(_,R)=>{var{parser:P}=_;return{type:"htmlmathml",mode:P.mode,html:ordargument(R[0]),mathml:ordargument(R[1])}},htmlBuilder:(_,R)=>{var P=buildExpression$1(_.html,R,!1);return buildCommon.makeFragment(P)},mathmlBuilder:(_,R)=>buildExpressionRow(_.mathml,R)});var sizeData=function _(R){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(R))return{number:+R,unit:"bp"};var P=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(R);if(!P)throw new ParseError("Invalid size: '"+R+"' in \\includegraphics");var O={number:+(P[1]+P[2]),unit:P[3]};if(!validUnit(O))throw new ParseError("Invalid unit: '"+O.unit+"' in \\includegraphics.");return O};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(_,R,P)=>{var{parser:O}=_,I={number:0,unit:"em"},L={number:.9,unit:"em"},z={number:0,unit:"em"},F="";if(P[0])for(var G=assertNodeType(P[0],"raw").string,V=G.split(","),Z=0;Z<V.length;Z++){var Y=V[Z].split("=");if(Y.length===2){var Q=Y[1].trim();switch(Y[0].trim()){case"alt":F=Q;break;case"width":I=sizeData(Q);break;case"height":L=sizeData(Q);break;case"totalheight":z=sizeData(Q);break;default:throw new ParseError("Invalid key: '"+Y[0]+"' in \\includegraphics.")}}}var J=assertNodeType(R[0],"url").url;return F===""&&(F=J,F=F.replace(/^.*[\\/]/,""),F=F.substring(0,F.lastIndexOf("."))),O.settings.isTrusted({command:"\\includegraphics",url:J})?{type:"includegraphics",mode:O.mode,alt:F,width:I,height:L,totalheight:z,src:J}:O.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(_,R)=>{var P=calculateSize(_.height,R),O=0;_.totalheight.number>0&&(O=calculateSize(_.totalheight,R)-P);var I=0;_.width.number>0&&(I=calculateSize(_.width,R));var L={height:makeEm(P+O)};I>0&&(L.width=makeEm(I)),O>0&&(L.verticalAlign=makeEm(-O));var z=new Img(_.src,_.alt,L);return z.height=P,z.depth=O,z},mathmlBuilder:(_,R)=>{var P=new mathMLTree.MathNode("mglyph",[]);P.setAttribute("alt",_.alt);var O=calculateSize(_.height,R),I=0;if(_.totalheight.number>0&&(I=calculateSize(_.totalheight,R)-O,P.setAttribute("valign",makeEm(-I))),P.setAttribute("height",makeEm(O+I)),_.width.number>0){var L=calculateSize(_.width,R);P.setAttribute("width",makeEm(L))}return P.setAttribute("src",_.src),P}});defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(_,R){var{parser:P,funcName:O}=_,I=assertNodeType(R[0],"size");if(P.settings.strict){var L=O[1]==="m",z=I.value.unit==="mu";L?(z||P.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+O+" supports only mu units, "+("not "+I.value.unit+" units")),P.mode!=="math"&&P.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+O+" works only in math mode")):z&&P.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+O+" doesn't support mu units")}return{type:"kern",mode:P.mode,dimension:I.value}},htmlBuilder(_,R){return buildCommon.makeGlue(_.dimension,R)},mathmlBuilder(_,R){var P=calculateSize(_.dimension,R);return new mathMLTree.SpaceNode(P)}});defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(_,R)=>{var{parser:P,funcName:O}=_,I=R[0];return{type:"lap",mode:P.mode,alignment:O.slice(5),body:I}},htmlBuilder:(_,R)=>{var P;_.alignment==="clap"?(P=buildCommon.makeSpan([],[buildGroup$1(_.body,R)]),P=buildCommon.makeSpan(["inner"],[P],R)):P=buildCommon.makeSpan(["inner"],[buildGroup$1(_.body,R)]);var O=buildCommon.makeSpan(["fix"],[]),I=buildCommon.makeSpan([_.alignment],[P,O],R),L=buildCommon.makeSpan(["strut"]);return L.style.height=makeEm(I.height+I.depth),I.depth&&(L.style.verticalAlign=makeEm(-I.depth)),I.children.unshift(L),I=buildCommon.makeSpan(["thinbox"],[I],R),buildCommon.makeSpan(["mord","vbox"],[I],R)},mathmlBuilder:(_,R)=>{var P=new mathMLTree.MathNode("mpadded",[buildGroup2(_.body,R)]);if(_.alignment!=="rlap"){var O=_.alignment==="llap"?"-1":"-0.5";P.setAttribute("lspace",O+"width")}return P.setAttribute("width","0px"),P}});defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(_,R){var{funcName:P,parser:O}=_,I=O.mode;O.switchMode("math");var L=P==="\\("?"\\)":"$",z=O.parseExpression(!1,L);return O.expect(L),O.switchMode(I),{type:"styling",mode:O.mode,style:"text",body:z}}});defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(_,R){throw new ParseError("Mismatched "+_.funcName)}});var chooseMathStyle=(_,R)=>{switch(R.style.size){case Style$1.DISPLAY.size:return _.display;case Style$1.TEXT.size:return _.text;case Style$1.SCRIPT.size:return _.script;case Style$1.SCRIPTSCRIPT.size:return _.scriptscript;default:return _.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(_,R)=>{var{parser:P}=_;return{type:"mathchoice",mode:P.mode,display:ordargument(R[0]),text:ordargument(R[1]),script:ordargument(R[2]),scriptscript:ordargument(R[3])}},htmlBuilder:(_,R)=>{var P=chooseMathStyle(_,R),O=buildExpression$1(P,R,!1);return buildCommon.makeFragment(O)},mathmlBuilder:(_,R)=>{var P=chooseMathStyle(_,R);return buildExpressionRow(P,R)}});var assembleSupSub=(_,R,P,O,I,L,z)=>{_=buildCommon.makeSpan([],[_]);var F=P&&utils.isCharacterBox(P),G,V;if(R){var Z=buildGroup$1(R,O.havingStyle(I.sup()),O);V={elem:Z,kern:Math.max(O.fontMetrics().bigOpSpacing1,O.fontMetrics().bigOpSpacing3-Z.depth)}}if(P){var Y=buildGroup$1(P,O.havingStyle(I.sub()),O);G={elem:Y,kern:Math.max(O.fontMetrics().bigOpSpacing2,O.fontMetrics().bigOpSpacing4-Y.height)}}var Q;if(V&&G){var J=O.fontMetrics().bigOpSpacing5+G.elem.height+G.elem.depth+G.kern+_.depth+z;Q=buildCommon.makeVList({positionType:"bottom",positionData:J,children:[{type:"kern",size:O.fontMetrics().bigOpSpacing5},{type:"elem",elem:G.elem,marginLeft:makeEm(-L)},{type:"kern",size:G.kern},{type:"elem",elem:_},{type:"kern",size:V.kern},{type:"elem",elem:V.elem,marginLeft:makeEm(L)},{type:"kern",size:O.fontMetrics().bigOpSpacing5}]},O)}else if(G){var te=_.height-z;Q=buildCommon.makeVList({positionType:"top",positionData:te,children:[{type:"kern",size:O.fontMetrics().bigOpSpacing5},{type:"elem",elem:G.elem,marginLeft:makeEm(-L)},{type:"kern",size:G.kern},{type:"elem",elem:_}]},O)}else if(V){var ne=_.depth+z;Q=buildCommon.makeVList({positionType:"bottom",positionData:ne,children:[{type:"elem",elem:_},{type:"kern",size:V.kern},{type:"elem",elem:V.elem,marginLeft:makeEm(L)},{type:"kern",size:O.fontMetrics().bigOpSpacing5}]},O)}else return _;var ie=[Q];if(G&&L!==0&&!F){var se=buildCommon.makeSpan(["mspace"],[],O);se.style.marginRight=makeEm(L),ie.unshift(se)}return buildCommon.makeSpan(["mop","op-limits"],ie,O)},noSuccessor=["\\smallint"],htmlBuilder$2=(_,R)=>{var P,O,I=!1,L;_.type==="supsub"?(P=_.sup,O=_.sub,L=assertNodeType(_.base,"op"),I=!0):L=assertNodeType(_,"op");var z=R.style,F=!1;z.size===Style$1.DISPLAY.size&&L.symbol&&!noSuccessor.includes(L.name)&&(F=!0);var G;if(L.symbol){var V=F?"Size2-Regular":"Size1-Regular",Z="";if((L.name==="\\oiint"||L.name==="\\oiiint")&&(Z=L.name.slice(1),L.name=Z==="oiint"?"\\iint":"\\iiint"),G=buildCommon.makeSymbol(L.name,V,"math",R,["mop","op-symbol",F?"large-op":"small-op"]),Z.length>0){var Y=G.italic,Q=buildCommon.staticSvg(Z+"Size"+(F?"2":"1"),R);G=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:G,shift:0},{type:"elem",elem:Q,shift:F?.08:0}]},R),L.name="\\"+Z,G.classes.unshift("mop"),G.italic=Y}}else if(L.body){var J=buildExpression$1(L.body,R,!0);J.length===1&&J[0]instanceof SymbolNode?(G=J[0],G.classes[0]="mop"):G=buildCommon.makeSpan(["mop"],J,R)}else{for(var te=[],ne=1;ne<L.name.length;ne++)te.push(buildCommon.mathsym(L.name[ne],L.mode,R));G=buildCommon.makeSpan(["mop"],te,R)}var ie=0,se=0;return(G instanceof SymbolNode||L.name==="\\oiint"||L.name==="\\oiiint")&&!L.suppressBaseShift&&(ie=(G.height-G.depth)/2-R.fontMetrics().axisHeight,se=G.italic),I?assembleSupSub(G,P,O,R,z,se,ie):(ie&&(G.style.position="relative",G.style.top=makeEm(ie)),G)},mathmlBuilder$1=(_,R)=>{var P;if(_.symbol)P=new MathNode("mo",[makeText(_.name,_.mode)]),noSuccessor.includes(_.name)&&P.setAttribute("largeop","false");else if(_.body)P=new MathNode("mo",buildExpression2(_.body,R));else{P=new MathNode("mi",[new TextNode(_.name.slice(1))]);var O=new MathNode("mo",[makeText("","text")]);_.parentIsSupSub?P=new MathNode("mrow",[P,O]):P=newDocumentFragment([P,O])}return P},singleCharBigOps={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(_,R)=>{var{parser:P,funcName:O}=_,I=O;return I.length===1&&(I=singleCharBigOps[I]),{type:"op",mode:P.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:I}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(_,R)=>{var{parser:P}=_,O=R[0];return{type:"op",mode:P.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(O)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(_){var{parser:R,funcName:P}=_;return{type:"op",mode:R.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:P}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(_){var{parser:R,funcName:P}=_;return{type:"op",mode:R.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:P}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(_){var{parser:R,funcName:P}=_,O=P;return O.length===1&&(O=singleCharIntegrals[O]),{type:"op",mode:R.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:O}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(_,R)=>{var P,O,I=!1,L;_.type==="supsub"?(P=_.sup,O=_.sub,L=assertNodeType(_.base,"operatorname"),I=!0):L=assertNodeType(_,"operatorname");var z;if(L.body.length>0){for(var F=L.body.map(Y=>{var Q=Y.text;return typeof Q=="string"?{type:"textord",mode:Y.mode,text:Q}:Y}),G=buildExpression$1(F,R.withFont("mathrm"),!0),V=0;V<G.length;V++){var Z=G[V];Z instanceof SymbolNode&&(Z.text=Z.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}z=buildCommon.makeSpan(["mop"],G,R)}else z=buildCommon.makeSpan(["mop"],[],R);return I?assembleSupSub(z,P,O,R,R.style,0,0):z},mathmlBuilder2=(_,R)=>{for(var P=buildExpression2(_.body,R.withFont("mathrm")),O=!0,I=0;I<P.length;I++){var L=P[I];if(!(L instanceof mathMLTree.SpaceNode))if(L instanceof mathMLTree.MathNode)switch(L.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var z=L.children[0];L.children.length===1&&z instanceof mathMLTree.TextNode?z.text=z.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):O=!1;break}default:O=!1}else O=!1}if(O){var F=P.map(Z=>Z.toText()).join("");P=[new mathMLTree.TextNode(F)]}var G=new mathMLTree.MathNode("mi",P);G.setAttribute("mathvariant","normal");var V=new mathMLTree.MathNode("mo",[makeText("","text")]);return _.parentIsSupSub?new mathMLTree.MathNode("mrow",[G,V]):mathMLTree.newDocumentFragment([G,V])};defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(_,R)=>{var{parser:P,funcName:O}=_,I=R[0];return{type:"operatorname",mode:P.mode,body:ordargument(I),alwaysHandleSupSub:O==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder:mathmlBuilder2});defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");defineFunctionBuilders({type:"ordgroup",htmlBuilder(_,R){return _.semisimple?buildCommon.makeFragment(buildExpression$1(_.body,R,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(_.body,R,!0),R)},mathmlBuilder(_,R){return buildExpressionRow(_.body,R,!0)}});defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(_,R){var{parser:P}=_,O=R[0];return{type:"overline",mode:P.mode,body:O}},htmlBuilder(_,R){var P=buildGroup$1(_.body,R.havingCrampedStyle()),O=buildCommon.makeLineSpan("overline-line",R),I=R.fontMetrics().defaultRuleThickness,L=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P},{type:"kern",size:3*I},{type:"elem",elem:O},{type:"kern",size:I}]},R);return buildCommon.makeSpan(["mord","overline"],[L],R)},mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);P.setAttribute("stretchy","true");var O=new mathMLTree.MathNode("mover",[buildGroup2(_.body,R),P]);return O.setAttribute("accent","true"),O}});defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(_,R)=>{var{parser:P}=_,O=R[0];return{type:"phantom",mode:P.mode,body:ordargument(O)}},htmlBuilder:(_,R)=>{var P=buildExpression$1(_.body,R.withPhantom(),!1);return buildCommon.makeFragment(P)},mathmlBuilder:(_,R)=>{var P=buildExpression2(_.body,R);return new mathMLTree.MathNode("mphantom",P)}});defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(_,R)=>{var{parser:P}=_,O=R[0];return{type:"hphantom",mode:P.mode,body:O}},htmlBuilder:(_,R)=>{var P=buildCommon.makeSpan([],[buildGroup$1(_.body,R.withPhantom())]);if(P.height=0,P.depth=0,P.children)for(var O=0;O<P.children.length;O++)P.children[O].height=0,P.children[O].depth=0;return P=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P}]},R),buildCommon.makeSpan(["mord"],[P],R)},mathmlBuilder:(_,R)=>{var P=buildExpression2(ordargument(_.body),R),O=new mathMLTree.MathNode("mphantom",P),I=new mathMLTree.MathNode("mpadded",[O]);return I.setAttribute("height","0px"),I.setAttribute("depth","0px"),I}});defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(_,R)=>{var{parser:P}=_,O=R[0];return{type:"vphantom",mode:P.mode,body:O}},htmlBuilder:(_,R)=>{var P=buildCommon.makeSpan(["inner"],[buildGroup$1(_.body,R.withPhantom())]),O=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[P,O],R)},mathmlBuilder:(_,R)=>{var P=buildExpression2(ordargument(_.body),R),O=new mathMLTree.MathNode("mphantom",P),I=new mathMLTree.MathNode("mpadded",[O]);return I.setAttribute("width","0px"),I}});defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(_,R){var{parser:P}=_,O=assertNodeType(R[0],"size").value,I=R[1];return{type:"raisebox",mode:P.mode,dy:O,body:I}},htmlBuilder(_,R){var P=buildGroup$1(_.body,R),O=calculateSize(_.dy,R);return buildCommon.makeVList({positionType:"shift",positionData:-O,children:[{type:"elem",elem:P}]},R)},mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mpadded",[buildGroup2(_.body,R)]),O=_.dy.number+_.dy.unit;return P.setAttribute("voffset",O),P}});defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(_){var{parser:R}=_;return{type:"internal",mode:R.mode}}});defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(_,R,P){var{parser:O}=_,I=P[0],L=assertNodeType(R[0],"size"),z=assertNodeType(R[1],"size");return{type:"rule",mode:O.mode,shift:I&&assertNodeType(I,"size").value,width:L.value,height:z.value}},htmlBuilder(_,R){var P=buildCommon.makeSpan(["mord","rule"],[],R),O=calculateSize(_.width,R),I=calculateSize(_.height,R),L=_.shift?calculateSize(_.shift,R):0;return P.style.borderRightWidth=makeEm(O),P.style.borderTopWidth=makeEm(I),P.style.bottom=makeEm(L),P.width=O,P.height=I+L,P.depth=-L,P.maxFontSize=I*1.125*R.sizeMultiplier,P},mathmlBuilder(_,R){var P=calculateSize(_.width,R),O=calculateSize(_.height,R),I=_.shift?calculateSize(_.shift,R):0,L=R.color&&R.getColor()||"black",z=new mathMLTree.MathNode("mspace");z.setAttribute("mathbackground",L),z.setAttribute("width",makeEm(P)),z.setAttribute("height",makeEm(O));var F=new mathMLTree.MathNode("mpadded",[z]);return I>=0?F.setAttribute("height",makeEm(I)):(F.setAttribute("height",makeEm(I)),F.setAttribute("depth",makeEm(-I))),F.setAttribute("voffset",makeEm(I)),F}});function sizingGroup(_,R,P){for(var O=buildExpression$1(_,R,!1),I=R.sizeMultiplier/P.sizeMultiplier,L=0;L<O.length;L++){var z=O[L].classes.indexOf("sizing");z<0?Array.prototype.push.apply(O[L].classes,R.sizingClasses(P)):O[L].classes[z+1]==="reset-size"+R.size&&(O[L].classes[z+1]="reset-size"+P.size),O[L].height*=I,O[L].depth*=I}return buildCommon.makeFragment(O)}var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder2=(_,R)=>{var P=R.havingSize(_.size);return sizingGroup(_.body,P,R)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(_,R)=>{var{breakOnTokenText:P,funcName:O,parser:I}=_,L=I.parseExpression(!1,P);return{type:"sizing",mode:I.mode,size:sizeFuncs.indexOf(O)+1,body:L}},htmlBuilder:htmlBuilder2,mathmlBuilder:(_,R)=>{var P=R.havingSize(_.size),O=buildExpression2(_.body,P),I=new mathMLTree.MathNode("mstyle",O);return I.setAttribute("mathsize",makeEm(P.sizeMultiplier)),I}});defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(_,R,P)=>{var{parser:O}=_,I=!1,L=!1,z=P[0]&&assertNodeType(P[0],"ordgroup");if(z)for(var F="",G=0;G<z.body.length;++G){var V=z.body[G];if(F=V.text,F==="t")I=!0;else if(F==="b")L=!0;else{I=!1,L=!1;break}}else I=!0,L=!0;var Z=R[0];return{type:"smash",mode:O.mode,body:Z,smashHeight:I,smashDepth:L}},htmlBuilder:(_,R)=>{var P=buildCommon.makeSpan([],[buildGroup$1(_.body,R)]);if(!_.smashHeight&&!_.smashDepth)return P;if(_.smashHeight&&(P.height=0,P.children))for(var O=0;O<P.children.length;O++)P.children[O].height=0;if(_.smashDepth&&(P.depth=0,P.children))for(var I=0;I<P.children.length;I++)P.children[I].depth=0;var L=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P}]},R);return buildCommon.makeSpan(["mord"],[L],R)},mathmlBuilder:(_,R)=>{var P=new mathMLTree.MathNode("mpadded",[buildGroup2(_.body,R)]);return _.smashHeight&&P.setAttribute("height","0px"),_.smashDepth&&P.setAttribute("depth","0px"),P}});defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(_,R,P){var{parser:O}=_,I=P[0],L=R[0];return{type:"sqrt",mode:O.mode,body:L,index:I}},htmlBuilder(_,R){var P=buildGroup$1(_.body,R.havingCrampedStyle());P.height===0&&(P.height=R.fontMetrics().xHeight),P=buildCommon.wrapFragment(P,R);var O=R.fontMetrics(),I=O.defaultRuleThickness,L=I;R.style.id<Style$1.TEXT.id&&(L=R.fontMetrics().xHeight);var z=I+L/4,F=P.height+P.depth+z+I,{span:G,ruleWidth:V,advanceWidth:Z}=delimiter.sqrtImage(F,R),Y=G.height-V;Y>P.height+P.depth+z&&(z=(z+Y-P.height-P.depth)/2);var Q=G.height-P.height-z-V;P.style.paddingLeft=makeEm(Z);var J=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P,wrapperClasses:["svg-align"]},{type:"kern",size:-(P.height+Q)},{type:"elem",elem:G},{type:"kern",size:V}]},R);if(_.index){var te=R.havingStyle(Style$1.SCRIPTSCRIPT),ne=buildGroup$1(_.index,te,R),ie=.6*(J.height-J.depth),se=buildCommon.makeVList({positionType:"shift",positionData:-ie,children:[{type:"elem",elem:ne}]},R),oe=buildCommon.makeSpan(["root"],[se]);return buildCommon.makeSpan(["mord","sqrt"],[oe,J],R)}else return buildCommon.makeSpan(["mord","sqrt"],[J],R)},mathmlBuilder(_,R){var{body:P,index:O}=_;return O?new mathMLTree.MathNode("mroot",[buildGroup2(P,R),buildGroup2(O,R)]):new mathMLTree.MathNode("msqrt",[buildGroup2(P,R)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_,R){var{breakOnTokenText:P,funcName:O,parser:I}=_,L=I.parseExpression(!0,P),z=O.slice(1,O.length-5);return{type:"styling",mode:I.mode,style:z,body:L}},htmlBuilder(_,R){var P=styleMap[_.style],O=R.havingStyle(P).withFont("");return sizingGroup(_.body,O,R)},mathmlBuilder(_,R){var P=styleMap[_.style],O=R.havingStyle(P),I=buildExpression2(_.body,O),L=new mathMLTree.MathNode("mstyle",I),z={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},F=z[_.style];return L.setAttribute("scriptlevel",F[0]),L.setAttribute("displaystyle",F[1]),L}});var htmlBuilderDelegate=function _(R,P){var O=R.base;if(O)if(O.type==="op"){var I=O.limits&&(P.style.size===Style$1.DISPLAY.size||O.alwaysHandleSupSub);return I?htmlBuilder$2:null}else if(O.type==="operatorname"){var L=O.alwaysHandleSupSub&&(P.style.size===Style$1.DISPLAY.size||O.limits);return L?htmlBuilder$1:null}else{if(O.type==="accent")return utils.isCharacterBox(O.base)?htmlBuilder$a:null;if(O.type==="horizBrace"){var z=!R.sub;return z===O.isOver?htmlBuilder$3:null}else return null}else return null};defineFunctionBuilders({type:"supsub",htmlBuilder(_,R){var P=htmlBuilderDelegate(_,R);if(P)return P(_,R);var{base:O,sup:I,sub:L}=_,z=buildGroup$1(O,R),F,G,V=R.fontMetrics(),Z=0,Y=0,Q=O&&utils.isCharacterBox(O);if(I){var J=R.havingStyle(R.style.sup());F=buildGroup$1(I,J,R),Q||(Z=z.height-J.fontMetrics().supDrop*J.sizeMultiplier/R.sizeMultiplier)}if(L){var te=R.havingStyle(R.style.sub());G=buildGroup$1(L,te,R),Q||(Y=z.depth+te.fontMetrics().subDrop*te.sizeMultiplier/R.sizeMultiplier)}var ne;R.style===Style$1.DISPLAY?ne=V.sup1:R.style.cramped?ne=V.sup3:ne=V.sup2;var ie=R.sizeMultiplier,se=makeEm(.5/V.ptPerEm/ie),oe=null;if(G){var ce=_.base&&_.base.type==="op"&&_.base.name&&(_.base.name==="\\oiint"||_.base.name==="\\oiiint");(z instanceof SymbolNode||ce)&&(oe=makeEm(-z.italic))}var ue;if(F&&G){Z=Math.max(Z,ne,F.depth+.25*V.xHeight),Y=Math.max(Y,V.sub2);var me=V.defaultRuleThickness,he=4*me;if(Z-F.depth-(G.height-Y)<he){Y=he-(Z-F.depth)+G.height;var fe=.8*V.xHeight-(Z-F.depth);fe>0&&(Z+=fe,Y-=fe)}var de=[{type:"elem",elem:G,shift:Y,marginRight:se,marginLeft:oe},{type:"elem",elem:F,shift:-Z,marginRight:se}];ue=buildCommon.makeVList({positionType:"individualShift",children:de},R)}else if(G){Y=Math.max(Y,V.sub1,G.height-.8*V.xHeight);var pe=[{type:"elem",elem:G,marginLeft:oe,marginRight:se}];ue=buildCommon.makeVList({positionType:"shift",positionData:Y,children:pe},R)}else if(F)Z=Math.max(Z,ne,F.depth+.25*V.xHeight),ue=buildCommon.makeVList({positionType:"shift",positionData:-Z,children:[{type:"elem",elem:F,marginRight:se}]},R);else throw new Error("supsub must have either sup or sub.");var be=getTypeOfDomTree(z,"right")||"mord";return buildCommon.makeSpan([be],[z,buildCommon.makeSpan(["msupsub"],[ue])],R)},mathmlBuilder(_,R){var P=!1,O,I;_.base&&_.base.type==="horizBrace"&&(I=!!_.sup,I===_.base.isOver&&(P=!0,O=_.base.isOver)),_.base&&(_.base.type==="op"||_.base.type==="operatorname")&&(_.base.parentIsSupSub=!0);var L=[buildGroup2(_.base,R)];_.sub&&L.push(buildGroup2(_.sub,R)),_.sup&&L.push(buildGroup2(_.sup,R));var z;if(P)z=O?"mover":"munder";else if(_.sub)if(_.sup){var V=_.base;V&&V.type==="op"&&V.limits&&R.style===Style$1.DISPLAY||V&&V.type==="operatorname"&&V.alwaysHandleSupSub&&(R.style===Style$1.DISPLAY||V.limits)?z="munderover":z="msubsup"}else{var G=_.base;G&&G.type==="op"&&G.limits&&(R.style===Style$1.DISPLAY||G.alwaysHandleSupSub)||G&&G.type==="operatorname"&&G.alwaysHandleSupSub&&(G.limits||R.style===Style$1.DISPLAY)?z="munder":z="msub"}else{var F=_.base;F&&F.type==="op"&&F.limits&&(R.style===Style$1.DISPLAY||F.alwaysHandleSupSub)||F&&F.type==="operatorname"&&F.alwaysHandleSupSub&&(F.limits||R.style===Style$1.DISPLAY)?z="mover":z="msup"}return new mathMLTree.MathNode(z,L)}});defineFunctionBuilders({type:"atom",htmlBuilder(_,R){return buildCommon.mathsym(_.text,_.mode,R,["m"+_.family])},mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mo",[makeText(_.text,_.mode)]);if(_.family==="bin"){var O=getVariant(_,R);O==="bold-italic"&&P.setAttribute("mathvariant",O)}else _.family==="punct"?P.setAttribute("separator","true"):(_.family==="open"||_.family==="close")&&P.setAttribute("stretchy","false");return P}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder(_,R){return buildCommon.makeOrd(_,R,"mathord")},mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mi",[makeText(_.text,_.mode,R)]),O=getVariant(_,R)||"italic";return O!==defaultVariant[P.type]&&P.setAttribute("mathvariant",O),P}});defineFunctionBuilders({type:"textord",htmlBuilder(_,R){return buildCommon.makeOrd(_,R,"textord")},mathmlBuilder(_,R){var P=makeText(_.text,_.mode,R),O=getVariant(_,R)||"normal",I;return _.mode==="text"?I=new mathMLTree.MathNode("mtext",[P]):/[0-9]/.test(_.text)?I=new mathMLTree.MathNode("mn",[P]):_.text==="\\prime"?I=new mathMLTree.MathNode("mo",[P]):I=new mathMLTree.MathNode("mi",[P]),O!==defaultVariant[I.type]&&I.setAttribute("mathvariant",O),I}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(_,R){if(regularSpace.hasOwnProperty(_.text)){var P=regularSpace[_.text].className||"";if(_.mode==="text"){var O=buildCommon.makeOrd(_,R,"textord");return O.classes.push(P),O}else return buildCommon.makeSpan(["mspace",P],[buildCommon.mathsym(_.text,_.mode,R)],R)}else{if(cssSpace.hasOwnProperty(_.text))return buildCommon.makeSpan(["mspace",cssSpace[_.text]],[],R);throw new ParseError('Unknown type of space "'+_.text+'"')}},mathmlBuilder(_,R){var P;if(regularSpace.hasOwnProperty(_.text))P=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode("")]);else{if(cssSpace.hasOwnProperty(_.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+_.text+'"')}return P}});var pad=()=>{var _=new mathMLTree.MathNode("mtd",[]);return _.setAttribute("width","50%"),_};defineFunctionBuilders({type:"tag",mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(_.body,R)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(_.tag,R)])])]);return P.setAttribute("width","100%"),P}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(_,R)=>{var P=_.font;if(P){if(textFontFamilies[P])return R.withTextFontFamily(textFontFamilies[P]);if(textFontWeights[P])return R.withTextFontWeight(textFontWeights[P]);if(P==="\\emph")return R.fontShape==="textit"?R.withTextFontShape("textup"):R.withTextFontShape("textit")}else return R;return R.withTextFontShape(textFontShapes[P])};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(_,R){var{parser:P,funcName:O}=_,I=R[0];return{type:"text",mode:P.mode,body:ordargument(I),font:O}},htmlBuilder(_,R){var P=optionsWithFont(_,R),O=buildExpression$1(_.body,P,!0);return buildCommon.makeSpan(["mord","text"],O,P)},mathmlBuilder(_,R){var P=optionsWithFont(_,R);return buildExpressionRow(_.body,P)}});defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(_,R){var{parser:P}=_;return{type:"underline",mode:P.mode,body:R[0]}},htmlBuilder(_,R){var P=buildGroup$1(_.body,R),O=buildCommon.makeLineSpan("underline-line",R),I=R.fontMetrics().defaultRuleThickness,L=buildCommon.makeVList({positionType:"top",positionData:P.height,children:[{type:"kern",size:I},{type:"elem",elem:O},{type:"kern",size:3*I},{type:"elem",elem:P}]},R);return buildCommon.makeSpan(["mord","underline"],[L],R)},mathmlBuilder(_,R){var P=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);P.setAttribute("stretchy","true");var O=new mathMLTree.MathNode("munder",[buildGroup2(_.body,R),P]);return O.setAttribute("accentunder","true"),O}});defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(_,R){var{parser:P}=_;return{type:"vcenter",mode:P.mode,body:R[0]}},htmlBuilder(_,R){var P=buildGroup$1(_.body,R),O=R.fontMetrics().axisHeight,I=.5*(P.height-O-(P.depth+O));return buildCommon.makeVList({positionType:"shift",positionData:I,children:[{type:"elem",elem:P}]},R)},mathmlBuilder(_,R){return new mathMLTree.MathNode("mpadded",[buildGroup2(_.body,R)],["vcenter"])}});defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(_,R,P){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(_,R){for(var P=makeVerb(_),O=[],I=R.havingStyle(R.style.text()),L=0;L<P.length;L++){var z=P[L];z==="~"&&(z="\\textasciitilde"),O.push(buildCommon.makeSymbol(z,"Typewriter-Regular",_.mode,I,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(I.sizingClasses(R)),buildCommon.tryCombineChars(O),I)},mathmlBuilder(_,R){var P=new mathMLTree.TextNode(makeVerb(_)),O=new mathMLTree.MathNode("mtext",[P]);return O.setAttribute("mathvariant","monospace"),O}});var makeVerb=_=>_.body.replace(/ /g,_.star?"":""),functions=_functions,spaceRegexString=`[ \r
	]`,controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\uD800-\uDFFF]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString=`\\\\(
|[ \r	]+
?)[ \r	]*`,combiningDiacriticalMarkString="[-]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+(controlSpaceRegexString+"|")+"([!-\\[\\]---]"+(combiningDiacriticalMarkString+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(combiningDiacriticalMarkString+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+controlWordWhitespaceRegexString)+("|"+controlSymbolRegexString+")");class Lexer{constructor(R,P){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=R,this.settings=P,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode(R,P){this.catcodes[R]=P}lex(){var R=this.input,P=this.tokenRegex.lastIndex;if(P===R.length)return new Token("EOF",new SourceLocation(this,P,P));var O=this.tokenRegex.exec(R);if(O===null||O.index!==P)throw new ParseError("Unexpected character: '"+R[P]+"'",new Token(R[P],new SourceLocation(this,P,P+1)));var I=O[6]||O[3]||(O[2]?"\\ ":" ");if(this.catcodes[I]===14){var L=R.indexOf(`
`,this.tokenRegex.lastIndex);return L===-1?(this.tokenRegex.lastIndex=R.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=L+1,this.lex()}return new Token(I,new SourceLocation(this,P,this.tokenRegex.lastIndex))}}class Namespace{constructor(R,P){R===void 0&&(R={}),P===void 0&&(P={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=P,this.builtins=R,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var R=this.undefStack.pop();for(var P in R)R.hasOwnProperty(P)&&(R[P]==null?delete this.current[P]:this.current[P]=R[P])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(R){return this.current.hasOwnProperty(R)||this.builtins.hasOwnProperty(R)}get(R){return this.current.hasOwnProperty(R)?this.current[R]:this.builtins[R]}set(R,P,O){if(O===void 0&&(O=!1),O){for(var I=0;I<this.undefStack.length;I++)delete this.undefStack[I][R];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][R]=P)}else{var L=this.undefStack[this.undefStack.length-1];L&&!L.hasOwnProperty(R)&&(L[R]=this.current[R])}P==null?delete this.current[R]:this.current[R]=P}}var macros=_macros;defineMacro("\\noexpand",function(_){var R=_.popToken();return _.isExpandable(R.text)&&(R.noexpand=!0,R.treatAsRelax=!0),{tokens:[R],numArgs:0}});defineMacro("\\expandafter",function(_){var R=_.popToken();return _.expandOnce(!0),{tokens:[R],numArgs:0}});defineMacro("\\@firstoftwo",function(_){var R=_.consumeArgs(2);return{tokens:R[0],numArgs:0}});defineMacro("\\@secondoftwo",function(_){var R=_.consumeArgs(2);return{tokens:R[1],numArgs:0}});defineMacro("\\@ifnextchar",function(_){var R=_.consumeArgs(3);_.consumeSpaces();var P=_.future();return R[0].length===1&&R[0][0].text===P.text?{tokens:R[1],numArgs:0}:{tokens:R[2],numArgs:0}});defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");defineMacro("\\TextOrMath",function(_){var R=_.consumeArgs(2);return _.mode==="text"?{tokens:R[0],numArgs:0}:{tokens:R[1],numArgs:0}});var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",function(_){var R=_.popToken(),P,O="";if(R.text==="'")P=8,R=_.popToken();else if(R.text==='"')P=16,R=_.popToken();else if(R.text==="`")if(R=_.popToken(),R.text[0]==="\\")O=R.text.charCodeAt(1);else{if(R.text==="EOF")throw new ParseError("\\char` missing argument");O=R.text.charCodeAt(0)}else P=10;if(P){if(O=digitToNumber[R.text],O==null||O>=P)throw new ParseError("Invalid base-"+P+" digit "+R.text);for(var I;(I=digitToNumber[_.future().text])!=null&&I<P;)O*=P,O+=I,_.popToken()}return"\\@char{"+O+"}"});var newcommand=(_,R,P,O)=>{var I=_.consumeArg().tokens;if(I.length!==1)throw new ParseError("\\newcommand's first argument must be a macro name");var L=I[0].text,z=_.isDefined(L);if(z&&!R)throw new ParseError("\\newcommand{"+L+"} attempting to redefine "+(L+"; use \\renewcommand"));if(!z&&!P)throw new ParseError("\\renewcommand{"+L+"} when command "+L+" does not yet exist; use \\newcommand");var F=0;if(I=_.consumeArg().tokens,I.length===1&&I[0].text==="["){for(var G="",V=_.expandNextToken();V.text!=="]"&&V.text!=="EOF";)G+=V.text,V=_.expandNextToken();if(!G.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+G);F=parseInt(G),I=_.consumeArg().tokens}return z&&O||_.macros.set(L,{tokens:I,numArgs:F}),""};defineMacro("\\newcommand",_=>newcommand(_,!1,!0,!1));defineMacro("\\renewcommand",_=>newcommand(_,!0,!1,!1));defineMacro("\\providecommand",_=>newcommand(_,!0,!0,!0));defineMacro("\\message",_=>{var R=_.consumeArgs(1)[0];return console.log(R.reverse().map(P=>P.text).join("")),""});defineMacro("\\errmessage",_=>{var R=_.consumeArgs(1)[0];return console.error(R.reverse().map(P=>P.text).join("")),""});defineMacro("\\show",_=>{var R=_.popToken(),P=R.text;return console.log(R,_.macros.get(P),functions[P],symbols.math[P],symbols.text[P]),""});defineMacro("\\bgroup","{");defineMacro("\\egroup","}");defineMacro("~","\\nobreakspace");defineMacro("\\lq","`");defineMacro("\\rq","'");defineMacro("\\aa","\\r a");defineMacro("\\AA","\\r A");defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");defineMacro("","\\mathscr{B}");defineMacro("","\\mathscr{E}");defineMacro("","\\mathscr{F}");defineMacro("","\\mathscr{H}");defineMacro("","\\mathscr{I}");defineMacro("","\\mathscr{L}");defineMacro("","\\mathscr{M}");defineMacro("","\\mathscr{R}");defineMacro("","\\mathfrak{C}");defineMacro("","\\mathfrak{H}");defineMacro("","\\mathfrak{Z}");defineMacro("\\Bbbk","\\Bbb{k}");defineMacro("","\\cdotp");defineMacro("\\llap","\\mathllap{\\textrm{#1}}");defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}");defineMacro("\\clap","\\mathclap{\\textrm{#1}}");defineMacro("\\mathstrut","\\vphantom{(}");defineMacro("\\underbar","\\underline{\\text{#1}}");defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");defineMacro("\\ne","\\neq");defineMacro("","\\neq");defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");defineMacro("","\\notin");defineMacro("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");defineMacro("","\\perp");defineMacro("","\\mathclose{!\\mkern-0.8mu!}");defineMacro("","\\notni");defineMacro("","\\ulcorner");defineMacro("","\\urcorner");defineMacro("","\\llcorner");defineMacro("","\\lrcorner");defineMacro("","\\copyright");defineMacro("","\\textregistered");defineMacro("","\\textregistered");defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');defineMacro("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");defineMacro("","\\vdots");defineMacro("\\varGamma","\\mathit{\\Gamma}");defineMacro("\\varDelta","\\mathit{\\Delta}");defineMacro("\\varTheta","\\mathit{\\Theta}");defineMacro("\\varLambda","\\mathit{\\Lambda}");defineMacro("\\varXi","\\mathit{\\Xi}");defineMacro("\\varPi","\\mathit{\\Pi}");defineMacro("\\varSigma","\\mathit{\\Sigma}");defineMacro("\\varUpsilon","\\mathit{\\Upsilon}");defineMacro("\\varPhi","\\mathit{\\Phi}");defineMacro("\\varPsi","\\mathit{\\Psi}");defineMacro("\\varOmega","\\mathit{\\Omega}");defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}");defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}");defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;");defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");defineMacro("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");defineMacro("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(_){var R="\\dotso",P=_.expandAfterFuture().text;return P in dotsByToken?R=dotsByToken[P]:(P.slice(0,4)==="\\not"||P in symbols.math&&["bin","rel"].includes(symbols.math[P].group))&&(R="\\dotsb"),R});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(_){var R=_.future().text;return R in spaceAfterDots?"\\ldots\\,":"\\ldots"});defineMacro("\\dotsc",function(_){var R=_.future().text;return R in spaceAfterDots&&R!==","?"\\ldots\\,":"\\ldots"});defineMacro("\\cdots",function(_){var R=_.future().text;return R in spaceAfterDots?"\\@cdots\\,":"\\@cdots"});defineMacro("\\dotsb","\\cdots");defineMacro("\\dotsm","\\cdots");defineMacro("\\dotsi","\\!\\cdots");defineMacro("\\dotsx","\\ldots\\,");defineMacro("\\DOTSI","\\relax");defineMacro("\\DOTSB","\\relax");defineMacro("\\DOTSX","\\relax");defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");defineMacro("\\,","\\tmspace+{3mu}{.1667em}");defineMacro("\\thinspace","\\,");defineMacro("\\>","\\mskip{4mu}");defineMacro("\\:","\\tmspace+{4mu}{.2222em}");defineMacro("\\medspace","\\:");defineMacro("\\;","\\tmspace+{5mu}{.2777em}");defineMacro("\\thickspace","\\;");defineMacro("\\!","\\tmspace-{3mu}{.1667em}");defineMacro("\\negthinspace","\\!");defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}");defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}");defineMacro("\\enspace","\\kern.5em ");defineMacro("\\enskip","\\hskip.5em\\relax");defineMacro("\\quad","\\hskip1em\\relax");defineMacro("\\qquad","\\hskip2em\\relax");defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren");defineMacro("\\tag@paren","\\tag@literal{({#1})}");defineMacro("\\tag@literal",_=>{if(_.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");defineMacro("\\newline","\\\\\\relax");defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"][84][1]-.7*fontMetricsData["Main-Regular"][65][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");defineMacro("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace");defineMacro("\\@hspace","\\hskip #1\\relax");defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");defineMacro("\\ordinarycolon",":");defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');defineMacro("","\\dblcolon");defineMacro("","\\eqcolon");defineMacro("","\\coloneqq");defineMacro("","\\eqqcolon");defineMacro("","\\Coloneqq");defineMacro("\\ratio","\\vcentcolon");defineMacro("\\coloncolon","\\dblcolon");defineMacro("\\colonequals","\\coloneqq");defineMacro("\\coloncolonequals","\\Coloneqq");defineMacro("\\equalscolon","\\eqqcolon");defineMacro("\\equalscoloncolon","\\Eqqcolon");defineMacro("\\colonminus","\\coloneq");defineMacro("\\coloncolonminus","\\Coloneq");defineMacro("\\minuscolon","\\eqcolon");defineMacro("\\minuscoloncolon","\\Eqcolon");defineMacro("\\coloncolonapprox","\\Colonapprox");defineMacro("\\coloncolonsim","\\Colonsim");defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{}");defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{}");defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{}");defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{}");defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");defineMacro("\\imath","\\html@mathml{\\@imath}{}");defineMacro("\\jmath","\\html@mathml{\\@jmath}{}");defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");defineMacro("","\\llbracket");defineMacro("","\\rrbracket");defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");defineMacro("","\\lBrace");defineMacro("","\\rBrace");defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");defineMacro("","\\minuso");defineMacro("\\darr","\\downarrow");defineMacro("\\dArr","\\Downarrow");defineMacro("\\Darr","\\Downarrow");defineMacro("\\lang","\\langle");defineMacro("\\rang","\\rangle");defineMacro("\\uarr","\\uparrow");defineMacro("\\uArr","\\Uparrow");defineMacro("\\Uarr","\\Uparrow");defineMacro("\\N","\\mathbb{N}");defineMacro("\\R","\\mathbb{R}");defineMacro("\\Z","\\mathbb{Z}");defineMacro("\\alef","\\aleph");defineMacro("\\alefsym","\\aleph");defineMacro("\\Alpha","\\mathrm{A}");defineMacro("\\Beta","\\mathrm{B}");defineMacro("\\bull","\\bullet");defineMacro("\\Chi","\\mathrm{X}");defineMacro("\\clubs","\\clubsuit");defineMacro("\\cnums","\\mathbb{C}");defineMacro("\\Complex","\\mathbb{C}");defineMacro("\\Dagger","\\ddagger");defineMacro("\\diamonds","\\diamondsuit");defineMacro("\\empty","\\emptyset");defineMacro("\\Epsilon","\\mathrm{E}");defineMacro("\\Eta","\\mathrm{H}");defineMacro("\\exist","\\exists");defineMacro("\\harr","\\leftrightarrow");defineMacro("\\hArr","\\Leftrightarrow");defineMacro("\\Harr","\\Leftrightarrow");defineMacro("\\hearts","\\heartsuit");defineMacro("\\image","\\Im");defineMacro("\\infin","\\infty");defineMacro("\\Iota","\\mathrm{I}");defineMacro("\\isin","\\in");defineMacro("\\Kappa","\\mathrm{K}");defineMacro("\\larr","\\leftarrow");defineMacro("\\lArr","\\Leftarrow");defineMacro("\\Larr","\\Leftarrow");defineMacro("\\lrarr","\\leftrightarrow");defineMacro("\\lrArr","\\Leftrightarrow");defineMacro("\\Lrarr","\\Leftrightarrow");defineMacro("\\Mu","\\mathrm{M}");defineMacro("\\natnums","\\mathbb{N}");defineMacro("\\Nu","\\mathrm{N}");defineMacro("\\Omicron","\\mathrm{O}");defineMacro("\\plusmn","\\pm");defineMacro("\\rarr","\\rightarrow");defineMacro("\\rArr","\\Rightarrow");defineMacro("\\Rarr","\\Rightarrow");defineMacro("\\real","\\Re");defineMacro("\\reals","\\mathbb{R}");defineMacro("\\Reals","\\mathbb{R}");defineMacro("\\Rho","\\mathrm{P}");defineMacro("\\sdot","\\cdot");defineMacro("\\sect","\\S");defineMacro("\\spades","\\spadesuit");defineMacro("\\sub","\\subset");defineMacro("\\sube","\\subseteq");defineMacro("\\supe","\\supseteq");defineMacro("\\Tau","\\mathrm{T}");defineMacro("\\thetasym","\\vartheta");defineMacro("\\weierp","\\wp");defineMacro("\\Zeta","\\mathrm{Z}");defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");defineMacro("\\bra","\\mathinner{\\langle{#1}|}");defineMacro("\\ket","\\mathinner{|{#1}\\rangle}");defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}");defineMacro("\\Bra","\\left\\langle#1\\right|");defineMacro("\\Ket","\\left|#1\\right\\rangle");var braketHelper=_=>R=>{var P=R.consumeArg().tokens,O=R.consumeArg().tokens,I=R.consumeArg().tokens,L=R.consumeArg().tokens,z=R.macros.get("|"),F=R.macros.get("\\|");R.macros.beginGroup();var G=Y=>Q=>{_&&(Q.macros.set("|",z),I.length&&Q.macros.set("\\|",F));var J=Y;if(!Y&&I.length){var te=Q.future();te.text==="|"&&(Q.popToken(),J=!0)}return{tokens:J?I:O,numArgs:0}};R.macros.set("|",G(!1)),I.length&&R.macros.set("\\|",G(!0));var V=R.consumeArg().tokens,Z=R.expandTokens([...L,...V,...P]);return R.macros.endGroup(),{tokens:Z.reverse(),numArgs:0}};defineMacro("\\bra@ket",braketHelper(!1));defineMacro("\\bra@set",braketHelper(!0));defineMacro("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");defineMacro("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");defineMacro("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");defineMacro("\\angln","{\\angl n}");defineMacro("\\blue","\\textcolor{##6495ed}{#1}");defineMacro("\\orange","\\textcolor{##ffa500}{#1}");defineMacro("\\pink","\\textcolor{##ff00af}{#1}");defineMacro("\\red","\\textcolor{##df0030}{#1}");defineMacro("\\green","\\textcolor{##28ae7b}{#1}");defineMacro("\\gray","\\textcolor{gray}{#1}");defineMacro("\\purple","\\textcolor{##9d38bd}{#1}");defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}");defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}");defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}");defineMacro("\\blueD","\\textcolor{##11accd}{#1}");defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}");defineMacro("\\tealA","\\textcolor{##94fff5}{#1}");defineMacro("\\tealB","\\textcolor{##26edd5}{#1}");defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}");defineMacro("\\tealD","\\textcolor{##01a995}{#1}");defineMacro("\\tealE","\\textcolor{##208170}{#1}");defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}");defineMacro("\\greenB","\\textcolor{##8af281}{#1}");defineMacro("\\greenC","\\textcolor{##74cf70}{#1}");defineMacro("\\greenD","\\textcolor{##1fab54}{#1}");defineMacro("\\greenE","\\textcolor{##0d923f}{#1}");defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}");defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}");defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}");defineMacro("\\goldD","\\textcolor{##e07d10}{#1}");defineMacro("\\goldE","\\textcolor{##a75a05}{#1}");defineMacro("\\redA","\\textcolor{##fca9a9}{#1}");defineMacro("\\redB","\\textcolor{##ff8482}{#1}");defineMacro("\\redC","\\textcolor{##f9685d}{#1}");defineMacro("\\redD","\\textcolor{##e84d39}{#1}");defineMacro("\\redE","\\textcolor{##bc2612}{#1}");defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}");defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}");defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}");defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}");defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}");defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}");defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}");defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}");defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}");defineMacro("\\purpleE","\\textcolor{##543b78}{#1}");defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}");defineMacro("\\mintB","\\textcolor{##edf2df}{#1}");defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}");defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}");defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}");defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}");defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}");defineMacro("\\grayE","\\textcolor{##babec2}{#1}");defineMacro("\\grayF","\\textcolor{##888d93}{#1}");defineMacro("\\grayG","\\textcolor{##626569}{#1}");defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}");defineMacro("\\grayI","\\textcolor{##21242c}{#1}");defineMacro("\\kaBlue","\\textcolor{##314453}{#1}");defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(R,P,O){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=P,this.expansionCount=0,this.feed(R),this.macros=new Namespace(macros,P.macros),this.mode=O,this.stack=[]}feed(R){this.lexer=new Lexer(R,this.settings)}switchMode(R){this.mode=R}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(R){this.stack.push(R)}pushTokens(R){this.stack.push(...R)}scanArgument(R){var P,O,I;if(R){if(this.consumeSpaces(),this.future().text!=="[")return null;P=this.popToken(),{tokens:I,end:O}=this.consumeArg(["]"])}else({tokens:I,start:P,end:O}=this.consumeArg());return this.pushToken(new Token("EOF",O.loc)),this.pushTokens(I),new Token("",SourceLocation.range(P,O))}consumeSpaces(){for(;;){var R=this.future();if(R.text===" ")this.stack.pop();else break}}consumeArg(R){var P=[],O=R&&R.length>0;O||this.consumeSpaces();var I=this.future(),L,z=0,F=0;do{if(L=this.popToken(),P.push(L),L.text==="{")++z;else if(L.text==="}"){if(--z,z===-1)throw new ParseError("Extra }",L)}else if(L.text==="EOF")throw new ParseError("Unexpected end of input in a macro argument, expected '"+(R&&O?R[F]:"}")+"'",L);if(R&&O)if((z===0||z===1&&R[F]==="{")&&L.text===R[F]){if(++F,F===R.length){P.splice(-F,F);break}}else F=0}while(z!==0||O);return I.text==="{"&&P[P.length-1].text==="}"&&(P.pop(),P.shift()),P.reverse(),{tokens:P,start:I,end:L}}consumeArgs(R,P){if(P){if(P.length!==R+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var O=P[0],I=0;I<O.length;I++){var L=this.popToken();if(O[I]!==L.text)throw new ParseError("Use of the macro doesn't match its definition",L)}}for(var z=[],F=0;F<R;F++)z.push(this.consumeArg(P&&P[F+1]).tokens);return z}countExpansion(R){if(this.expansionCount+=R,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(R){var P=this.popToken(),O=P.text,I=P.noexpand?null:this._getExpansion(O);if(I==null||R&&I.unexpandable){if(R&&I==null&&O[0]==="\\"&&!this.isDefined(O))throw new ParseError("Undefined control sequence: "+O);return this.pushToken(P),!1}this.countExpansion(1);var L=I.tokens,z=this.consumeArgs(I.numArgs,I.delimiters);if(I.numArgs){L=L.slice();for(var F=L.length-1;F>=0;--F){var G=L[F];if(G.text==="#"){if(F===0)throw new ParseError("Incomplete placeholder at end of macro body",G);if(G=L[--F],G.text==="#")L.splice(F+1,1);else if(/^[1-9]$/.test(G.text))L.splice(F,2,...z[+G.text-1]);else throw new ParseError("Not a valid argument number",G)}}}return this.pushTokens(L),L.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var R=this.stack.pop();return R.treatAsRelax&&(R.text="\\relax"),R}throw new Error}expandMacro(R){return this.macros.has(R)?this.expandTokens([new Token(R)]):void 0}expandTokens(R){var P=[],O=this.stack.length;for(this.pushTokens(R);this.stack.length>O;)if(this.expandOnce(!0)===!1){var I=this.stack.pop();I.treatAsRelax&&(I.noexpand=!1,I.treatAsRelax=!1),P.push(I)}return this.countExpansion(P.length),P}expandMacroAsText(R){var P=this.expandMacro(R);return P&&P.map(O=>O.text).join("")}_getExpansion(R){var P=this.macros.get(R);if(P==null)return P;if(R.length===1){var O=this.lexer.catcodes[R];if(O!=null&&O!==13)return}var I=typeof P=="function"?P(this):P;if(typeof I=="string"){var L=0;if(I.indexOf("#")!==-1)for(var z=I.replace(/##/g,"");z.indexOf("#"+(L+1))!==-1;)++L;for(var F=new Lexer(I,this.settings),G=[],V=F.lex();V.text!=="EOF";)G.push(V),V=F.lex();G.reverse();var Z={tokens:G,numArgs:L};return Z}return I}isDefined(R){return this.macros.has(R)||functions.hasOwnProperty(R)||symbols.math.hasOwnProperty(R)||symbols.text.hasOwnProperty(R)||implicitCommands.hasOwnProperty(R)}isExpandable(R){var P=this.macros.get(R);return P!=null?typeof P=="string"||typeof P=="function"||!P.unexpandable:functions.hasOwnProperty(R)&&!functions[R].primitive}}var unicodeSubRegEx=/^[]/,uSubsAndSups=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),unicodeAccents={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},unicodeSymbols={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Parser{constructor(R,P){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(R,P,this.mode),this.settings=P,this.leftrightDepth=0}expect(R,P){if(P===void 0&&(P=!0),this.fetch().text!==R)throw new ParseError("Expected '"+R+"', got '"+this.fetch().text+"'",this.fetch());P&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(R){this.mode=R,this.gullet.switchMode(R)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var R=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),R}finally{this.gullet.endGroups()}}subparse(R){var P=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(R);var O=this.parseExpression(!1);return this.expect("}"),this.nextToken=P,O}parseExpression(R,P){for(var O=[];;){this.mode==="math"&&this.consumeSpaces();var I=this.fetch();if(Parser.endOfExpression.indexOf(I.text)!==-1||P&&I.text===P||R&&functions[I.text]&&functions[I.text].infix)break;var L=this.parseAtom(P);if(L){if(L.type==="internal")continue}else break;O.push(L)}return this.mode==="text"&&this.formLigatures(O),this.handleInfixNodes(O)}handleInfixNodes(R){for(var P=-1,O,I=0;I<R.length;I++)if(R[I].type==="infix"){if(P!==-1)throw new ParseError("only one infix operator per group",R[I].token);P=I,O=R[I].replaceWith}if(P!==-1&&O){var L,z,F=R.slice(0,P),G=R.slice(P+1);F.length===1&&F[0].type==="ordgroup"?L=F[0]:L={type:"ordgroup",mode:this.mode,body:F},G.length===1&&G[0].type==="ordgroup"?z=G[0]:z={type:"ordgroup",mode:this.mode,body:G};var V;return O==="\\\\abovefrac"?V=this.callFunction(O,[L,R[P],z],[]):V=this.callFunction(O,[L,z],[]),[V]}else return R}handleSupSubscript(R){var P=this.fetch(),O=P.text;this.consume(),this.consumeSpaces();var I;do{var L;I=this.parseGroup(R)}while(((L=I)==null?void 0:L.type)==="internal");if(!I)throw new ParseError("Expected group after '"+O+"'",P);return I}formatUnsupportedCmd(R){for(var P=[],O=0;O<R.length;O++)P.push({type:"textord",mode:"text",text:R[O]});var I={type:"text",mode:this.mode,body:P},L={type:"color",mode:this.mode,color:this.settings.errorColor,body:[I]};return L}parseAtom(R){var P=this.parseGroup("atom",R);if(P?.type==="internal"||this.mode==="text")return P;for(var O,I;;){this.consumeSpaces();var L=this.fetch();if(L.text==="\\limits"||L.text==="\\nolimits"){if(P&&P.type==="op"){var z=L.text==="\\limits";P.limits=z,P.alwaysHandleSupSub=!0}else if(P&&P.type==="operatorname")P.alwaysHandleSupSub&&(P.limits=L.text==="\\limits");else throw new ParseError("Limit controls must follow a math operator",L);this.consume()}else if(L.text==="^"){if(O)throw new ParseError("Double superscript",L);O=this.handleSupSubscript("superscript")}else if(L.text==="_"){if(I)throw new ParseError("Double subscript",L);I=this.handleSupSubscript("subscript")}else if(L.text==="'"){if(O)throw new ParseError("Double superscript",L);var F={type:"textord",mode:this.mode,text:"\\prime"},G=[F];for(this.consume();this.fetch().text==="'";)G.push(F),this.consume();this.fetch().text==="^"&&G.push(this.handleSupSubscript("superscript")),O={type:"ordgroup",mode:this.mode,body:G}}else if(uSubsAndSups[L.text]){var V=unicodeSubRegEx.test(L.text),Z=[];for(Z.push(new Token(uSubsAndSups[L.text])),this.consume();;){var Y=this.fetch().text;if(!uSubsAndSups[Y]||unicodeSubRegEx.test(Y)!==V)break;Z.unshift(new Token(uSubsAndSups[Y])),this.consume()}var Q=this.subparse(Z);V?I={type:"ordgroup",mode:"math",body:Q}:O={type:"ordgroup",mode:"math",body:Q}}else break}return O||I?{type:"supsub",mode:this.mode,base:P,sup:O,sub:I}:P}parseFunction(R,P){var O=this.fetch(),I=O.text,L=functions[I];if(!L)return null;if(this.consume(),P&&P!=="atom"&&!L.allowedInArgument)throw new ParseError("Got function '"+I+"' with no arguments"+(P?" as "+P:""),O);if(this.mode==="text"&&!L.allowedInText)throw new ParseError("Can't use function '"+I+"' in text mode",O);if(this.mode==="math"&&L.allowedInMath===!1)throw new ParseError("Can't use function '"+I+"' in math mode",O);var{args:z,optArgs:F}=this.parseArguments(I,L);return this.callFunction(I,z,F,O,R)}callFunction(R,P,O,I,L){var z={funcName:R,parser:this,token:I,breakOnTokenText:L},F=functions[R];if(F&&F.handler)return F.handler(z,P,O);throw new ParseError("No function handler for "+R)}parseArguments(R,P){var O=P.numArgs+P.numOptionalArgs;if(O===0)return{args:[],optArgs:[]};for(var I=[],L=[],z=0;z<O;z++){var F=P.argTypes&&P.argTypes[z],G=z<P.numOptionalArgs;(P.primitive&&F==null||P.type==="sqrt"&&z===1&&L[0]==null)&&(F="primitive");var V=this.parseGroupOfType("argument to '"+R+"'",F,G);if(G)L.push(V);else if(V!=null)I.push(V);else throw new ParseError("Null argument, please report this as a bug")}return{args:I,optArgs:L}}parseGroupOfType(R,P,O){switch(P){case"color":return this.parseColorGroup(O);case"size":return this.parseSizeGroup(O);case"url":return this.parseUrlGroup(O);case"math":case"text":return this.parseArgumentGroup(O,P);case"hbox":{var I=this.parseArgumentGroup(O,"text");return I!=null?{type:"styling",mode:I.mode,body:[I],style:"text"}:null}case"raw":{var L=this.parseStringGroup("raw",O);return L!=null?{type:"raw",mode:"text",string:L.text}:null}case"primitive":{if(O)throw new ParseError("A primitive argument cannot be optional");var z=this.parseGroup(R);if(z==null)throw new ParseError("Expected group as "+R,this.fetch());return z}case"original":case null:case void 0:return this.parseArgumentGroup(O);default:throw new ParseError("Unknown group type as "+R,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(R,P){var O=this.gullet.scanArgument(P);if(O==null)return null;for(var I="",L;(L=this.fetch()).text!=="EOF";)I+=L.text,this.consume();return this.consume(),O.text=I,O}parseRegexGroup(R,P){for(var O=this.fetch(),I=O,L="",z;(z=this.fetch()).text!=="EOF"&&R.test(L+z.text);)I=z,L+=I.text,this.consume();if(L==="")throw new ParseError("Invalid "+P+": '"+O.text+"'",O);return O.range(I,L)}parseColorGroup(R){var P=this.parseStringGroup("color",R);if(P==null)return null;var O=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(P.text);if(!O)throw new ParseError("Invalid color: '"+P.text+"'",P);var I=O[0];return/^[0-9a-f]{6}$/i.test(I)&&(I="#"+I),{type:"color-token",mode:this.mode,color:I}}parseSizeGroup(R){var P,O=!1;if(this.gullet.consumeSpaces(),!R&&this.gullet.future().text!=="{"?P=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):P=this.parseStringGroup("size",R),!P)return null;!R&&P.text.length===0&&(P.text="0pt",O=!0);var I=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(P.text);if(!I)throw new ParseError("Invalid size: '"+P.text+"'",P);var L={number:+(I[1]+I[2]),unit:I[3]};if(!validUnit(L))throw new ParseError("Invalid unit: '"+L.unit+"'",P);return{type:"size",mode:this.mode,value:L,isBlank:O}}parseUrlGroup(R){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var P=this.parseStringGroup("url",R);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),P==null)return null;var O=P.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:O}}parseArgumentGroup(R,P){var O=this.gullet.scanArgument(R);if(O==null)return null;var I=this.mode;P&&this.switchMode(P),this.gullet.beginGroup();var L=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var z={type:"ordgroup",mode:this.mode,loc:O.loc,body:L};return P&&this.switchMode(I),z}parseGroup(R,P){var O=this.fetch(),I=O.text,L;if(I==="{"||I==="\\begingroup"){this.consume();var z=I==="{"?"}":"\\endgroup";this.gullet.beginGroup();var F=this.parseExpression(!1,z),G=this.fetch();this.expect(z),this.gullet.endGroup(),L={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(O,G),body:F,semisimple:I==="\\begingroup"||void 0}}else if(L=this.parseFunction(P,R)||this.parseSymbol(),L==null&&I[0]==="\\"&&!implicitCommands.hasOwnProperty(I)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+I,O);L=this.formatUnsupportedCmd(I),this.consume()}return L}formLigatures(R){for(var P=R.length-1,O=0;O<P;++O){var I=R[O],L=I.text;L==="-"&&R[O+1].text==="-"&&(O+1<P&&R[O+2].text==="-"?(R.splice(O,3,{type:"textord",mode:"text",loc:SourceLocation.range(I,R[O+2]),text:"---"}),P-=2):(R.splice(O,2,{type:"textord",mode:"text",loc:SourceLocation.range(I,R[O+1]),text:"--"}),P-=1)),(L==="'"||L==="`")&&R[O+1].text===L&&(R.splice(O,2,{type:"textord",mode:"text",loc:SourceLocation.range(I,R[O+1]),text:L+L}),P-=1)}}parseSymbol(){var R=this.fetch(),P=R.text;if(/^\\verb[^a-zA-Z]/.test(P)){this.consume();var O=P.slice(5),I=O.charAt(0)==="*";if(I&&(O=O.slice(1)),O.length<2||O.charAt(0)!==O.slice(-1))throw new ParseError(`\\verb assertion failed --
                    please report what input caused this bug`);return O=O.slice(1,-1),{type:"verb",mode:"text",body:O,star:I}}unicodeSymbols.hasOwnProperty(P[0])&&!symbols[this.mode][P[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+P[0]+'" used in math mode',R),P=unicodeSymbols[P[0]]+P.slice(1));var L=combiningDiacriticalMarksEndRegex.exec(P);L&&(P=P.substring(0,L.index),P==="i"?P="":P==="j"&&(P=""));var z;if(symbols[this.mode][P]){this.settings.strict&&this.mode==="math"&&extraLatin.indexOf(P)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+P[0]+'" used in math mode',R);var F=symbols[this.mode][P].group,G=SourceLocation.range(R),V;if(ATOMS.hasOwnProperty(F)){var Z=F;V={type:"atom",mode:this.mode,family:Z,loc:G,text:P}}else V={type:F,mode:this.mode,loc:G,text:P};z=V}else if(P.charCodeAt(0)>=128)this.settings.strict&&(supportedCodepoint(P.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+P[0]+'" used in math mode',R):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+P[0]+'"'+(" ("+P.charCodeAt(0)+")"),R)),z={type:"textord",mode:"text",loc:SourceLocation.range(R),text:P};else return null;if(this.consume(),L)for(var Y=0;Y<L[0].length;Y++){var Q=L[0][Y];if(!unicodeAccents[Q])throw new ParseError("Unknown accent ' "+Q+"'",R);var J=unicodeAccents[Q][this.mode]||unicodeAccents[Q].text;if(!J)throw new ParseError("Accent "+Q+" unsupported in "+this.mode+" mode",R);z={type:"accent",mode:this.mode,loc:SourceLocation.range(R),label:J,isStretchy:!1,isShifty:!0,base:z}}return z}}Parser.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function _(R,P){if(!(typeof R=="string"||R instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var O=new Parser(R,P);delete O.gullet.macros.current["\\df@tag"];var I=O.parse();if(delete O.gullet.macros.current["\\current@color"],delete O.gullet.macros.current["\\color"],O.gullet.macros.get("\\df@tag")){if(!P.displayMode)throw new ParseError("\\tag works only in display equations");I=[{type:"tag",mode:"text",body:I,tag:O.subparse([new Token("\\df@tag")])}]}return I},render=function _(R,P,O){P.textContent="";var I=renderToDomTree(R,O).toNode();P.appendChild(I)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function _(R,P){var O=renderToDomTree(R,P).toMarkup();return O},generateParseTree=function _(R,P){var O=new Settings(P);return parseTree(R,O)},renderError=function _(R,P,O){if(O.throwOnError||!(R instanceof ParseError))throw R;var I=buildCommon.makeSpan(["katex-error"],[new SymbolNode(P)]);return I.setAttribute("title",R.toString()),I.setAttribute("style","color:"+O.errorColor),I},renderToDomTree=function _(R,P){var O=new Settings(P);try{var I=parseTree(R,O);return buildTree(I,R,O)}catch(L){return renderError(L,R,O)}},renderToHTMLTree=function _(R,P){var O=new Settings(P);try{var I=parseTree(R,O);return buildHTMLTree(I,R,O)}catch(L){return renderError(L,R,O)}},version="0.16.27",__domTree={Span,Anchor,SymbolNode,SvgNode,PathNode,LineNode},katex={version,render,renderToString,ParseError,SETTINGS_SCHEMA,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineFunction:defineFunction,__defineMacro:defineMacro,__domTree};const emptyOptions$1={};function remarkMath(_){const R=this,P=_||emptyOptions$1,O=R.data(),I=O.micromarkExtensions||(O.micromarkExtensions=[]),L=O.fromMarkdownExtensions||(O.fromMarkdownExtensions=[]),z=O.toMarkdownExtensions||(O.toMarkdownExtensions=[]);I.push(math$1(P)),L.push(mathFromMarkdown()),z.push(mathToMarkdown(P))}const search=/[#.]/g;function parseSelector(_,R){const P=_||"",O={};let I=0,L,z;for(;I<P.length;){search.lastIndex=I;const F=search.exec(P),G=P.slice(I,F?F.index:P.length);G&&(L?L==="#"?O.id=G:Array.isArray(O.className)?O.className.push(G):O.className=[G]:z=G,I+=G.length),F&&(L=F[0],I++)}return{type:"element",tagName:z||R||"div",properties:O,children:[]}}function createH(_,R,P){const O=P?createAdjustMap(P):void 0;function I(L,z,...F){let G;if(L==null){G={type:"root",children:[]};const V=z;F.unshift(V)}else{G=parseSelector(L,R);const V=G.tagName.toLowerCase(),Z=O?O.get(V):void 0;if(G.tagName=Z||V,isChild(z))F.unshift(z);else for(const[Y,Q]of Object.entries(z))addProperty(_,G.properties,Y,Q)}for(const V of F)addChild(G.children,V);return G.type==="element"&&G.tagName==="template"&&(G.content={type:"root",children:G.children},G.children=[]),G}return I}function isChild(_){if(_===null||typeof _!="object"||Array.isArray(_))return!0;if(typeof _.type!="string")return!1;const R=_,P=Object.keys(_);for(const O of P){const I=R[O];if(I&&typeof I=="object"){if(!Array.isArray(I))return!0;const L=I;for(const z of L)if(typeof z!="number"&&typeof z!="string")return!0}}return!!("children"in _&&Array.isArray(_.children))}function addProperty(_,R,P,O){const I=find(_,P);let L;if(O!=null){if(typeof O=="number"){if(Number.isNaN(O))return;L=O}else typeof O=="boolean"?L=O:typeof O=="string"?I.spaceSeparated?L=parse$1(O):I.commaSeparated?L=parse$2(O):I.commaOrSpaceSeparated?L=parse$1(parse$2(O).join(" ")):L=parsePrimitive(I,I.property,O):Array.isArray(O)?L=[...O]:L=I.property==="style"?style(O):String(O);if(Array.isArray(L)){const z=[];for(const F of L)z.push(parsePrimitive(I,I.property,F));L=z}I.property==="className"&&Array.isArray(R.className)&&(L=R.className.concat(L)),R[I.property]=L}}function addChild(_,R){if(R!=null)if(typeof R=="number"||typeof R=="string")_.push({type:"text",value:String(R)});else if(Array.isArray(R))for(const P of R)addChild(_,P);else if(typeof R=="object"&&"type"in R)R.type==="root"?addChild(_,R.children):_.push(R);else throw new Error("Expected node, nodes, or string, got `"+R+"`")}function parsePrimitive(_,R,P){if(typeof P=="string"){if(_.number&&P&&!Number.isNaN(Number(P)))return Number(P);if((_.boolean||_.overloadedBoolean)&&(P===""||normalize$1(P)===normalize$1(R)))return!0}return P}function style(_){const R=[];for(const[P,O]of Object.entries(_))R.push([P,O].join(": "));return R.join("; ")}function createAdjustMap(_){const R=new Map;for(const P of _)R.set(P.toLowerCase(),P);return R}const svgCaseSensitiveTagNames=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],h=createH(html$1,"div"),s=createH(svg,"g",svgCaseSensitiveTagNames),webNamespaces={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function fromDom(_,R){return transform(_,{})||{type:"root",children:[]}}function transform(_,R){const P=one(_,R);return P&&R.afterTransform&&R.afterTransform(_,P),P}function one(_,R){switch(_.nodeType){case 1:return element$1(_,R);case 3:return text(_);case 8:return comment(_);case 9:return root(_,R);case 10:return doctype();case 11:return root(_,R);default:return}}function root(_,R){return{type:"root",children:all(_,R)}}function doctype(){return{type:"doctype"}}function text(_){return{type:"text",value:_.nodeValue||""}}function comment(_){return{type:"comment",value:_.nodeValue||""}}function element$1(_,R){const P=_.namespaceURI,O=P===webNamespaces.svg?s:h,I=P===webNamespaces.html?_.tagName.toLowerCase():_.tagName,L=P===webNamespaces.html&&I==="template"?_.content:_,z=_.getAttributeNames(),F={};let G=-1;for(;++G<z.length;)F[z[G]]=_.getAttribute(z[G])||"";return O(I,F,all(L,R))}function all(_,R){const P=_.childNodes,O=[];let I=-1;for(;++I<P.length;){const L=transform(P[I],R);L!==void 0&&O.push(L)}return O}new DOMParser;function fromHtmlIsomorphic(_,R){const P=parseFragment(_);return fromDom(P)}function parseFragment(_){const R=document.createElement("template");return R.innerHTML=_,R.content}const findAfter=(function(_,R,P){const O=convert(P);if(!_||!_.type||!_.children)throw new Error("Expected parent node");if(typeof R=="number"){if(R<0||R===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(R=_.children.indexOf(R),R<0)throw new Error("Expected child node or index");for(;++R<_.children.length;)if(O(_.children[R],R,_))return _.children[R]}),convertElement=(function(_){if(_==null)return element;if(typeof _=="string")return tagNameFactory(_);if(typeof _=="object")return anyFactory(_);if(typeof _=="function")return castFactory(_);throw new Error("Expected function, string, or array as `test`")});function anyFactory(_){const R=[];let P=-1;for(;++P<_.length;)R[P]=convertElement(_[P]);return castFactory(O);function O(...I){let L=-1;for(;++L<R.length;)if(R[L].apply(this,I))return!0;return!1}}function tagNameFactory(_){return castFactory(R);function R(P){return P.tagName===_}}function castFactory(_){return R;function R(P,O,I){return!!(looksLikeAnElement(P)&&_.call(this,P,typeof O=="number"?O:void 0,I||void 0))}}function element(_){return!!(_&&typeof _=="object"&&"type"in _&&_.type==="element"&&"tagName"in _&&typeof _.tagName=="string")}function looksLikeAnElement(_){return _!==null&&typeof _=="object"&&"type"in _&&"tagName"in _}const searchLineFeeds=/\n/g,searchTabOrSpaces=/[\t ]+/g,br=convertElement("br"),cell=convertElement(isCell),p=convertElement("p"),row=convertElement("tr"),notRendered=convertElement(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",hidden,closedDialog]),blockOrCaption=convertElement(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function toText(_,R){const P=R||{},O="children"in _?_.children:[],I=blockOrCaption(_),L=inferWhitespace(_,{whitespace:P.whitespace||"normal"}),z=[];(_.type==="text"||_.type==="comment")&&z.push(...collectText(_,{breakBefore:!0,breakAfter:!0}));let F=-1;for(;++F<O.length;)z.push(...renderedTextCollection(O[F],_,{whitespace:L,breakBefore:F?void 0:I,breakAfter:F<O.length-1?br(O[F+1]):I}));const G=[];let V;for(F=-1;++F<z.length;){const Z=z[F];typeof Z=="number"?V!==void 0&&Z>V&&(V=Z):Z&&(V!==void 0&&V>-1&&G.push(`
`.repeat(V)||" "),V=-1,G.push(Z))}return G.join("")}function renderedTextCollection(_,R,P){return _.type==="element"?collectElement(_,R,P):_.type==="text"?P.whitespace==="normal"?collectText(_,P):collectPreText(_):[]}function collectElement(_,R,P){const O=inferWhitespace(_,P),I=_.children||[];let L=-1,z=[];if(notRendered(_))return z;let F,G;for(br(_)||row(_)&&findAfter(R,_,row)?G=`
`:p(_)?(F=2,G=2):blockOrCaption(_)&&(F=1,G=1);++L<I.length;)z=z.concat(renderedTextCollection(I[L],_,{whitespace:O,breakBefore:L?void 0:F,breakAfter:L<I.length-1?br(I[L+1]):G}));return cell(_)&&findAfter(R,_,cell)&&z.push("	"),F&&z.unshift(F),G&&z.push(G),z}function collectText(_,R){const P=String(_.value),O=[],I=[];let L=0;for(;L<=P.length;){searchLineFeeds.lastIndex=L;const G=searchLineFeeds.exec(P),V=G&&"index"in G?G.index:P.length;O.push(trimAndCollapseSpacesAndTabs(P.slice(L,V).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),L===0?R.breakBefore:!0,V===P.length?R.breakAfter:!0)),L=V+1}let z=-1,F;for(;++z<O.length;)O[z].charCodeAt(O[z].length-1)===8203||z<O.length-1&&O[z+1].charCodeAt(0)===8203?(I.push(O[z]),F=void 0):O[z]?(typeof F=="number"&&I.push(F),I.push(O[z]),F=0):(z===0||z===O.length-1)&&I.push(0);return I}function collectPreText(_){return[String(_.value)]}function trimAndCollapseSpacesAndTabs(_,R,P){const O=[];let I=0,L;for(;I<_.length;){searchTabOrSpaces.lastIndex=I;const z=searchTabOrSpaces.exec(_);L=z?z.index:_.length,!I&&!L&&z&&!R&&O.push(""),I!==L&&O.push(_.slice(I,L)),I=z?L+z[0].length:L}return I!==L&&!P&&O.push(""),O.join(" ")}function inferWhitespace(_,R){if(_.type==="element"){const P=_.properties||{};switch(_.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return P.wrap?"pre-wrap":"pre";case"td":case"th":return P.noWrap?"nowrap":R.whitespace;case"textarea":return"pre-wrap"}}return R.whitespace}function hidden(_){return!!(_.properties||{}).hidden}function isCell(_){return _.tagName==="td"||_.tagName==="th"}function closedDialog(_){return _.tagName==="dialog"&&!(_.properties||{}).open}const emptyOptions={},emptyClasses=[];function rehypeKatex(_){const R=_||emptyOptions;return function(P,O){visitParents(P,"element",function(I,L){const z=Array.isArray(I.properties.className)?I.properties.className:emptyClasses,F=z.includes("language-math"),G=z.includes("math-display"),V=z.includes("math-inline");let Z=G;if(!F&&!G&&!V)return;let Y=L[L.length-1],Q=I;if(I.tagName==="code"&&F&&Y&&Y.type==="element"&&Y.tagName==="pre"&&(Q=Y,Y=L[L.length-2],Z=!0),!Y)return;const J=toText(Q,{whitespace:"pre"});let te;try{te=katex.renderToString(J,{...R,displayMode:Z,throwOnError:!0})}catch(ie){const se=ie,oe=se.name.toLowerCase();O.message("Could not render math with KaTeX",{ancestors:[...L,I],cause:se,place:I.position,ruleId:oe,source:"rehype-katex"});try{te=katex.renderToString(J,{...R,displayMode:Z,strict:"ignore",throwOnError:!1})}catch{te=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(R.errorColor||"#cc0000"),title:String(ie)},children:[{type:"text",value:J}]}]}}typeof te=="string"&&(te=fromHtmlIsomorphic(te).children);const ne=Y.children.indexOf(Q);return Y.children.splice(ne,1,...te),SKIP})}}function MarkdownPage({content:_}){return jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto p-8 prose-container",children:[jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkMath],rehypePlugins:[rehypeKatex],children:_}),jsxRuntimeExports.jsx("style",{children:`
        .prose-container { line-height: 1.6; }
        .prose-container h1 { font-size: 2rem; font-weight: 700; margin: 0 0 1.5rem; border-bottom: 2px solid hsl(var(--border)); padding-bottom: 0.5rem; }
        .prose-container h2 { font-size: 1.5rem; font-weight: 600; margin: 2rem 0 1rem; border-bottom: 1px solid hsl(var(--border)); padding-bottom: 0.25rem; }
        .prose-container h3 { font-size: 1.25rem; font-weight: 600; margin: 1.5rem 0 0.75rem; }
        .prose-container h4 { font-size: 1.1rem; font-weight: 600; margin: 1.25rem 0 0.5rem; color: hsl(var(--muted-foreground)); }
        .prose-container p { margin: 0.75rem 0; }
        .prose-container ul, .prose-container ol { margin: 0.5rem 0; padding-left: 1.5rem; }
        .prose-container li { margin: 0.25rem 0; }
        .prose-container a { color: hsl(var(--primary)); text-decoration: underline; text-underline-offset: 2px; }
        .prose-container a:hover { color: hsl(var(--primary) / 0.8); }
        .prose-container code { background: hsl(var(--muted)); padding: 0.125rem 0.25rem; border-radius: 0.25rem; font-size: 0.875em; }
        .prose-container pre { background: hsl(var(--muted)); padding: 0.75rem; border-radius: 0.375rem; overflow-x: auto; margin: 0.75rem 0; }
        .prose-container pre code { background: none; padding: 0; }
        .prose-container .katex-display { text-align: center; margin: 1rem 0; }
      `})]})}const docsIndex=`# EHT Simulator Documentation

## EHT Model

- [Model Description](#/docs/eht/model) - Cell representation, forces, geometry, and cell cycle
- [Statistics](#/docs/eht/statistics) - Computed metrics and their definitions
`,ehtModel=`# EHT Model Description

The **Epithelial-to-Hematopoietic Transition (EHT)** model simulates cell dynamics in epithelial tissue, particularly focusing on cells undergoing transition processes like EMT (Epithelial-to-Mesenchymal Transition).

## Cell Representation

Each cell consists of three points:

- **X** = (x, y): Nucleus position
- **A** = (A_x, A_y): Apical point (top attachment)
- **B** = (B_x, B_y): Basal point (bottom attachment)

## Forces

The model uses an overdamped dynamics system where forces drive cell motion. The total force on each cell component determines its velocity.

### 1. Cell-Cell Repulsion

Soft repulsion between overlapping cell nuclei:

$$F_{rep} = -k_{rep} \\frac{R_{ij} - d}{d \\cdot R_{ij}^2} \\cdot \\hat{r}_{ij}$$

where:
- $d$ = distance between nuclei
- $R_{ij} = R_i^{soft} + R_j^{soft}$ (sum of soft radii)
- $k_{rep}$ = repulsion stiffness
- Active when $d < R_{ij}$

### 2. Apical-Nucleus Spring

Connects nucleus X to apical point A:

$$F_{AX} = 2 k_{AX} \\frac{|AX| - \\ell_{AX}}{|AX| \\cdot \\ell_{AX}^2} \\cdot \\widehat{AX}$$

where:
- $\\ell_{AX} = \\eta_A + R$ (rest length = cytoskeleton length + cell radius)
- $k_{AX}$ = apical-nucleus stiffness

### 3. Basal-Nucleus Spring

Connects nucleus X to basal point B:

$$F_{BX} = 2 k_{BX} \\frac{|BX| - \\ell_{BX}}{|BX| \\cdot \\ell_{BX}^2} \\cdot \\widehat{BX}$$

where:
- $\\ell_{BX} = \\eta_B + R$ (rest length)
- $k_{BX}$ = basal-nucleus stiffness

### 4. Straightness Constraint

Penalizes deviation from straight A-X-B alignment:

$$E_{straight} = k_S \\frac{(X-A) \\cdot (X-B)}{|X-A| \\cdot |X-B|}$$

This energy term encourages the cell to maintain a straight configuration.

### 5. Apical Junction Springs

Connects apical points of neighboring cells:

$$F_{AA} = \\frac{k_{AA}}{4} \\frac{d - \\ell_0}{d} \\cdot \\hat{r}_{ij}$$

where:
- $d$ = distance between apical points
- $\\ell_0$ = rest length (stored per link)

## Geometry

The basal membrane can be:
- **Straight line**: When perimeter = 0
- **Elliptical curve**: Defined by perimeter and aspect ratio

Cells attach their basal points (B) to this curve and apical points (A) form a connected strip via apical links.

## Cell Cycle

Cells progress through phases:
1. **G1**: Normal growth
2. **G2**: Pre-mitosis (moving toward apical surface)
3. **Mitosis**: Division in progress
4. **Division**: Ready to divide (triggers division logic)

## EMT Events

Cells undergoing EMT lose properties over time:
- **time_A**: Lose apical adhesion
- **time_B**: Lose basal adhesion
- **time_S**: Lose straightness constraint
- **time_P**: Start polarized running behavior
`,ehtStatistics=`# EHT Statistics

Statistics are computed per cell and then aggregated (mean or fraction) over cell groups. Groups include individual cell types (e.g., \`control\`, \`emt\`), combinations (\`control+emt\`), and \`all\`.

## Geometric Quantities

For each cell with nucleus **X**, apical point **A**, and basal point **B**:

- **a**: Projection of X onto the apical line strip (formed by connected apical points)
- **b**: Projection of X onto the basal curve

## Statistics Definitions

### ab_distance

**Apical-Basal Distance**

$$\\text{ab\\_distance} = |A - B|$$

The Euclidean distance between the apical and basal points. Measures the cell's vertical extent.

### AX

**Apical-Nucleus Distance**

$$AX = |A - X|$$

Distance from the apical point to the nucleus.

### BX

**Basal-Nucleus Distance**

$$BX = |B - X|$$

Distance from the basal point to the nucleus.

### ax

**Nucleus to Apical Strip Distance**

$$ax = |X - a|$$

Distance from the nucleus to its projection onto the apical line strip. Measures how far the nucleus is from the apical surface.

### bx

**Nucleus to Basal Curve Distance**

$$bx = |X - b|$$

Distance from the nucleus to its projection onto the basal curve. Measures how far the nucleus is from the basal membrane.

### x

**Position on Basal-Apical Scale**

$$x = \\frac{(X - b) \\cdot (a - b)}{|a - b|^2}$$

Normalized position of the nucleus between basal (x=0) and apical (x=1) projections:
- x = 0: Nucleus at basal level
- x = 1: Nucleus at apical level
- x < 0: Below basal
- x > 1: Above apical

### below_basal

**Fraction Below Basal Layer**

$$\\text{below\\_basal} = \\begin{cases} 1 & \\text{if } x < 0 \\\\ 0 & \\text{otherwise} \\end{cases}$$

Binary indicator (0 or 1) for whether the cell's nucleus is below the basal layer. Aggregated as fraction over cell group.

### above_apical

**Fraction Above Apical Layer**

$$\\text{above\\_apical} = \\begin{cases} 1 & \\text{if } x > 1 \\\\ 0 & \\text{otherwise} \\end{cases}$$

Binary indicator for whether the cell's nucleus is above the apical layer. Aggregated as fraction over cell group.

### below_control_cells

**Fraction Below Lowest Control Cell**

$$\\text{below\\_control\\_cells} = \\begin{cases} 1 & \\text{if } bx < \\min_{c \\in \\text{control}} bx_c \\\\ 0 & \\text{otherwise} \\end{cases}$$

Binary indicator for whether the cell's basal distance (bx) is less than the minimum bx among all control cells. This identifies cells that have migrated below the control cell population.

## Output Format

Statistics are exported with the naming convention \`{statistic}_{group}\`, for example:
- \`ab_distance_all\`: Mean AB distance across all cells
- \`x_control\`: Mean x position for control cells
- \`below_basal_emt\`: Fraction of emt cells below basal layer
- \`below_control_cells_emt\`: Fraction of emt cells below the lowest control cell
`;function AppContent(){const{currentParams:_,setParams:R,setModel:P}=useModel();reactExports.useEffect(()=>{const F=decodeParamsFromUrl();F&&(P(F.modelName),R(F.params),clearUrlParams())},[P,R]);const[O,I]=reactExports.useState({parameterRanges:[],timeSamples:{...DEFAULT_TIME_SAMPLES},seedsPerConfig:1}),L=reactExports.useMemo(()=>({params:_,...O}),[_,O]),z=reactExports.useCallback(F=>{R(F.params),I({parameterRanges:F.parameterRanges,timeSamples:F.timeSamples,seedsPerConfig:F.seedsPerConfig})},[R]);return jsxRuntimeExports.jsx(AppLayout,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("section",{children:jsxRuntimeExports.jsx(SingleSimulationTab,{})}),jsxRuntimeExports.jsx("section",{children:jsxRuntimeExports.jsx(ParameterConfigView,{config:L,onConfigChange:z})}),jsxRuntimeExports.jsx("section",{className:"lg:col-span-2",children:jsxRuntimeExports.jsx(BatchTab,{config:L,onConfigChange:z})})]})})}function App(){return jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsx(ModelProvider,{children:jsxRuntimeExports.jsx(MessagesProvider,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(AppContent,{})}),jsxRuntimeExports.jsx(Route,{path:"/docs",element:jsxRuntimeExports.jsx(MarkdownPage,{content:docsIndex})}),jsxRuntimeExports.jsx(Route,{path:"/docs/eht/model",element:jsxRuntimeExports.jsx(MarkdownPage,{content:ehtModel})}),jsxRuntimeExports.jsx(Route,{path:"/docs/eht/statistics",element:jsxRuntimeExports.jsx(MarkdownPage,{content:ehtStatistics})})]})})})})}console.log("[Main] Registering global for debug");window.EHT_REGISTRY=modelRegistry;clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{RenderGroup as $,AbstractRenderer as A,BufferUsage as B,Container as C,DOMAdapter as D,ExtensionType as E,TexturePool as F,GpuProgram as G,FilterEffect as H,Sprite as I,getAttributeInfoFromFormat as J,unsafeEvalSupported as K,GlobalResourceRegistry as L,Matrix as M,uid as N,Rectangle as O,Point as P,SystemRunner as Q,RendererType as R,Shader as S,Ticker as T,UPDATE_PRIORITY as U,multiplyColors as V,UPDATE_VISIBLE as W,UPDATE_COLOR as X,UPDATE_BLEND as Y,TextureStyle as Z,Color$1 as _,GlProgram as a,getLocalBounds as a0,VERSION as a1,deprecation as a2,v8_0_0 as a3,RendererInitHook as a4,Geometry as a5,checkMaxIfStatementsInShader as a6,compileHighShaderGlProgram as a7,colorBitGl as a8,generateTextureBatchBitGl as a9,roundPixelsBitGl as aa,getBatchSamplersUniformGroup as ab,fontStringFromTextStyle as ac,CanvasTextMetrics as ad,ImageSource as ae,getCanvasFillStyle as af,TextStyle as ag,lru as ah,Cache as ai,BatchableGraphics as aj,getAdjustedBlendModeBlend as ak,ViewableBuffer as al,Graphics as am,updateQuadBounds as an,CanvasTextGenerator as ao,GraphicsContextSystem as ap,EventEmitter as b,STENCIL_MODES as c,Buffer as d,extensions as e,fastCopy as f,getTextureBatchBindGroup as g,BindGroup as h,createIdFromString as i,CLEAR as j,CanvasSource as k,TextureSource as l,UniformGroup as m,CanvasPool as n,compileHighShaderGpuProgram as o,colorBit as p,generateTextureBatchBit as q,removeItems as r,roundPixelsBit as s,Texture as t,TextureMatrix as u,DefaultBatcher as v,warn$1 as w,BigPool as x,getGlobalBounds as y,Bounds as z};
//# sourceMappingURL=index-CQD0OZ6c.js.map
